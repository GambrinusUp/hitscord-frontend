var bj=Object.defineProperty;var _j=(e,t,r)=>t in e?bj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Hm=(e,t,r)=>_j(e,typeof t!="symbol"?t+"":t,r);function xj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wm={exports:{}},Pc={},qm={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function Cj(){if(qb)return nt;qb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function R(V,G,se){this.props=V,this.context=G,this.refs=x,this.updater=se||S}R.prototype.isReactComponent={},R.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},R.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=R.prototype;function C(V,G,se){this.props=V,this.context=G,this.refs=x,this.updater=se||S}var h=C.prototype=new T;h.constructor=C,w(h,R.prototype),h.isPureReactComponent=!0;var g=Array.isArray,b=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(V,G,se){var le,Q={},ie=null,fe=null;if(G!=null)for(le in G.ref!==void 0&&(fe=G.ref),G.key!==void 0&&(ie=""+G.key),G)b.call(G,le)&&!k.hasOwnProperty(le)&&(Q[le]=G[le]);var ce=arguments.length-2;if(ce===1)Q.children=se;else if(1<ce){for(var ye=Array(ce),Oe=0;Oe<ce;Oe++)ye[Oe]=arguments[Oe+2];Q.children=ye}if(V&&V.defaultProps)for(le in ce=V.defaultProps,ce)Q[le]===void 0&&(Q[le]=ce[le]);return{$$typeof:e,type:V,key:ie,ref:fe,props:Q,_owner:E.current}}function M(V,G){return{$$typeof:e,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function A(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return G[se]})}var O=/\/+/g;function U(V,G){return typeof V=="object"&&V!==null&&V.key!=null?A(""+V.key):G.toString(36)}function W(V,G,se,le,Q){var ie=typeof V;(ie==="undefined"||ie==="boolean")&&(V=null);var fe=!1;if(V===null)fe=!0;else switch(ie){case"string":case"number":fe=!0;break;case"object":switch(V.$$typeof){case e:case t:fe=!0}}if(fe)return fe=V,Q=Q(fe),V=le===""?"."+U(fe,0):le,g(Q)?(se="",V!=null&&(se=V.replace(O,"$&/")+"/"),W(Q,G,se,"",function(Oe){return Oe})):Q!=null&&(N(Q)&&(Q=M(Q,se+(!Q.key||fe&&fe.key===Q.key?"":(""+Q.key).replace(O,"$&/")+"/")+V)),G.push(Q)),1;if(fe=0,le=le===""?".":le+":",g(V))for(var ce=0;ce<V.length;ce++){ie=V[ce];var ye=le+U(ie,ce);fe+=W(ie,G,se,ye,Q)}else if(ye=y(V),typeof ye=="function")for(V=ye.call(V),ce=0;!(ie=V.next()).done;)ie=ie.value,ye=le+U(ie,ce++),fe+=W(ie,G,se,ye,Q);else if(ie==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return fe}function K(V,G,se){if(V==null)return V;var le=[],Q=0;return W(V,le,"","",function(ie){return G.call(se,ie,Q++)}),le}function L(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var F={current:null},$={transition:null},B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:$,ReactCurrentOwner:E};function H(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:K,forEach:function(V,G,se){K(V,function(){G.apply(this,arguments)},se)},count:function(V){var G=0;return K(V,function(){G++}),G},toArray:function(V){return K(V,function(G){return G})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},nt.Component=R,nt.Fragment=r,nt.Profiler=s,nt.PureComponent=C,nt.StrictMode=n,nt.Suspense=u,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,nt.act=H,nt.cloneElement=function(V,G,se){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var le=w({},V.props),Q=V.key,ie=V.ref,fe=V._owner;if(G!=null){if(G.ref!==void 0&&(ie=G.ref,fe=E.current),G.key!==void 0&&(Q=""+G.key),V.type&&V.type.defaultProps)var ce=V.type.defaultProps;for(ye in G)b.call(G,ye)&&!k.hasOwnProperty(ye)&&(le[ye]=G[ye]===void 0&&ce!==void 0?ce[ye]:G[ye])}var ye=arguments.length-2;if(ye===1)le.children=se;else if(1<ye){ce=Array(ye);for(var Oe=0;Oe<ye;Oe++)ce[Oe]=arguments[Oe+2];le.children=ce}return{$$typeof:e,type:V.type,key:Q,ref:ie,props:le,_owner:fe}},nt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},nt.createElement=j,nt.createFactory=function(V){var G=j.bind(null,V);return G.type=V,G},nt.createRef=function(){return{current:null}},nt.forwardRef=function(V){return{$$typeof:l,render:V}},nt.isValidElement=N,nt.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:L}},nt.memo=function(V,G){return{$$typeof:d,type:V,compare:G===void 0?null:G}},nt.startTransition=function(V){var G=$.transition;$.transition={};try{V()}finally{$.transition=G}},nt.unstable_act=H,nt.useCallback=function(V,G){return F.current.useCallback(V,G)},nt.useContext=function(V){return F.current.useContext(V)},nt.useDebugValue=function(){},nt.useDeferredValue=function(V){return F.current.useDeferredValue(V)},nt.useEffect=function(V,G){return F.current.useEffect(V,G)},nt.useId=function(){return F.current.useId()},nt.useImperativeHandle=function(V,G,se){return F.current.useImperativeHandle(V,G,se)},nt.useInsertionEffect=function(V,G){return F.current.useInsertionEffect(V,G)},nt.useLayoutEffect=function(V,G){return F.current.useLayoutEffect(V,G)},nt.useMemo=function(V,G){return F.current.useMemo(V,G)},nt.useReducer=function(V,G,se){return F.current.useReducer(V,G,se)},nt.useRef=function(V){return F.current.useRef(V)},nt.useState=function(V){return F.current.useState(V)},nt.useSyncExternalStore=function(V,G,se){return F.current.useSyncExternalStore(V,G,se)},nt.useTransition=function(){return F.current.useTransition()},nt.version="18.3.1",nt}var Gb;function Hf(){return Gb||(Gb=1,qm.exports=Cj()),qm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function Rj(){if(Kb)return Pc;Kb=1;var e=Hf(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,d){var m,v={},y=null,S=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(S=u.ref);for(m in u)n.call(u,m)&&!i.hasOwnProperty(m)&&(v[m]=u[m]);if(l&&l.defaultProps)for(m in u=l.defaultProps,u)v[m]===void 0&&(v[m]=u[m]);return{$$typeof:t,type:l,key:y,ref:S,props:v,_owner:s.current}}return Pc.Fragment=r,Pc.jsx=c,Pc.jsxs=c,Pc}var Xb;function Ej(){return Xb||(Xb=1,Wm.exports=Rj()),Wm.exports}var p=Ej(),Jd={},Gm={exports:{}},Fr={},Km={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function Tj(){return Yb||(Yb=1,function(e){function t($,B){var H=$.length;$.push(B);e:for(;0<H;){var V=H-1>>>1,G=$[V];if(0<s(G,B))$[V]=B,$[H]=G,H=V;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],H=$.pop();if(H!==B){$[0]=H;e:for(var V=0,G=$.length,se=G>>>1;V<se;){var le=2*(V+1)-1,Q=$[le],ie=le+1,fe=$[ie];if(0>s(Q,H))ie<G&&0>s(fe,Q)?($[V]=fe,$[ie]=H,V=ie):($[V]=Q,$[le]=H,V=le);else if(ie<G&&0>s(fe,H))$[V]=fe,$[ie]=H,V=ie;else break e}}return B}function s($,B){var H=$.sortIndex-B.sortIndex;return H!==0?H:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var u=[],d=[],m=1,v=null,y=3,S=!1,w=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h($){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=$)n(d),B.sortIndex=B.expirationTime,t(u,B);else break;B=r(d)}}function g($){if(x=!1,h($),!w)if(r(u)!==null)w=!0,L(b);else{var B=r(d);B!==null&&F(g,B.startTime-$)}}function b($,B){w=!1,x&&(x=!1,T(j),j=-1),S=!0;var H=y;try{for(h(B),v=r(u);v!==null&&(!(v.expirationTime>B)||$&&!A());){var V=v.callback;if(typeof V=="function"){v.callback=null,y=v.priorityLevel;var G=V(v.expirationTime<=B);B=e.unstable_now(),typeof G=="function"?v.callback=G:v===r(u)&&n(u),h(B)}else n(u);v=r(u)}if(v!==null)var se=!0;else{var le=r(d);le!==null&&F(g,le.startTime-B),se=!1}return se}finally{v=null,y=H,S=!1}}var E=!1,k=null,j=-1,M=5,N=-1;function A(){return!(e.unstable_now()-N<M)}function O(){if(k!==null){var $=e.unstable_now();N=$;var B=!0;try{B=k(!0,$)}finally{B?U():(E=!1,k=null)}}else E=!1}var U;if(typeof C=="function")U=function(){C(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=O,U=function(){K.postMessage(null)}}else U=function(){R(O,0)};function L($){k=$,E||(E=!0,U())}function F($,B){j=R(function(){$(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,L(b))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var H=y;y=B;try{return $()}finally{y=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=y;y=$;try{return B()}finally{y=H}},e.unstable_scheduleCallback=function($,B,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,$={id:m++,callback:B,priorityLevel:$,startTime:H,expirationTime:G,sortIndex:-1},H>V?($.sortIndex=H,t(d,$),r(u)===null&&$===r(d)&&(x?(T(j),j=-1):x=!0,F(g,H-V))):($.sortIndex=G,t(u,$),w||S||(w=!0,L(b))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var B=y;return function(){var H=y;y=B;try{return $.apply(this,arguments)}finally{y=H}}}}(Xm)),Xm}var Qb;function kj(){return Qb||(Qb=1,Km.exports=Tj()),Km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function Pj(){if(Jb)return Fr;Jb=1;var e=Hf(),t=kj();function r(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(s[o]=a,o=0;o<a.length;o++)n.add(a[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(o){return u.call(v,o)?!0:u.call(m,o)?!1:d.test(o)?v[o]=!0:(m[o]=!0,!1)}function S(o,a,f,_){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return _?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,a,f,_){if(a===null||typeof a>"u"||S(o,a,f,_))return!0;if(_)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(o,a,f,_,P,D,z){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=_,this.attributeNamespace=P,this.mustUseProperty=f,this.propertyName=o,this.type=a,this.sanitizeURL=D,this.removeEmptyString=z}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];R[a]=new x(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(T,C);R[a]=new x(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(T,C);R[a]=new x(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(T,C);R[a]=new x(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function h(o,a,f,_){var P=R.hasOwnProperty(a)?R[a]:null;(P!==null?P.type!==0:_||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,f,P,_)&&(f=null),_||P===null?y(a)&&(f===null?o.removeAttribute(a):o.setAttribute(a,""+f)):P.mustUseProperty?o[P.propertyName]=f===null?P.type===3?!1:"":f:(a=P.attributeName,_=P.attributeNamespace,f===null?o.removeAttribute(a):(P=P.type,f=P===3||P===4&&f===!0?"":""+f,_?o.setAttributeNS(_,a,f):o.setAttribute(a,f))))}var g=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),$=Symbol.iterator;function B(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var H=Object.assign,V;function G(o){if(V===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);V=a&&a[1]||""}return`
`+V+o}var se=!1;function le(o,a){if(!o||se)return"";se=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var _=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){_=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){_=ee}o()}}catch(ee){if(ee&&_&&typeof ee.stack=="string"){for(var P=ee.stack.split(`
`),D=_.stack.split(`
`),z=P.length-1,q=D.length-1;1<=z&&0<=q&&P[z]!==D[q];)q--;for(;1<=z&&0<=q;z--,q--)if(P[z]!==D[q]){if(z!==1||q!==1)do if(z--,q--,0>q||P[z]!==D[q]){var X=`
`+P[z].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=z&&0<=q);break}}}finally{se=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?G(o):""}function Q(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case E:return"Portal";case M:return"Profiler";case j:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case A:return(o.displayName||"Context")+".Consumer";case N:return(o._context.displayName||"Context")+".Provider";case O:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return a=o.displayName||null,a!==null?a:ie(o.type)||"Memo";case L:a=o._payload,o=o._init;try{return ie(o(a))}catch{}}return null}function fe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ye(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(o){var a=ye(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),_=""+o[a];if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var P=f.get,D=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return P.call(this)},set:function(z){_=""+z,D.call(this,z)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return _},setValue:function(z){_=""+z},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Ae(o){o._valueTracker||(o._valueTracker=Oe(o))}function it(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var f=a.getValue(),_="";return o&&(_=ye(o)?o.checked?"true":"false":o.value),o=_,o!==f?(a.setValue(o),!0):!1}function ht(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function tt(o,a){var f=a.checked;return H({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function dt(o,a){var f=a.defaultValue==null?"":a.defaultValue,_=a.checked!=null?a.checked:a.defaultChecked;f=ce(a.value!=null?a.value:f),o._wrapperState={initialChecked:_,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function mt(o,a){a=a.checked,a!=null&&h(o,"checked",a,!1)}function he(o,a){mt(o,a);var f=ce(a.value),_=a.type;if(f!=null)_==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Pe(o,a.type,f):a.hasOwnProperty("defaultValue")&&Pe(o,a.type,ce(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function _e(o,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var _=a.type;if(!(_!=="submit"&&_!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,f||a===o.value||(o.value=a),o.defaultValue=a}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Pe(o,a,f){(a!=="number"||ht(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var $e=Array.isArray;function Ue(o,a,f,_){if(o=o.options,a){a={};for(var P=0;P<f.length;P++)a["$"+f[P]]=!0;for(f=0;f<o.length;f++)P=a.hasOwnProperty("$"+o[f].value),o[f].selected!==P&&(o[f].selected=P),P&&_&&(o[f].defaultSelected=!0)}else{for(f=""+ce(f),a=null,P=0;P<o.length;P++){if(o[P].value===f){o[P].selected=!0,_&&(o[P].defaultSelected=!0);return}a!==null||o[P].disabled||(a=o[P])}a!==null&&(a.selected=!0)}}function Be(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function qe(o,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(r(92));if($e(f)){if(1<f.length)throw Error(r(93));f=f[0]}a=f}a==null&&(a=""),f=a}o._wrapperState={initialValue:ce(f)}}function ge(o,a){var f=ce(a.value),_=ce(a.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),a.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),_!=null&&(o.defaultValue=""+_)}function De(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function ke(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?ke(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ce,Ye=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,_,P){MSApp.execUnsafeLocalFunction(function(){return o(a,f,_,P)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ce.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ft(o,a){if(a){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=a;return}}o.textContent=a}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},at=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(o){at.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),rt[a]=rt[o]})});function Me(o,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||rt.hasOwnProperty(o)&&rt[o]?(""+a).trim():a+"px"}function kt(o,a){o=o.style;for(var f in a)if(a.hasOwnProperty(f)){var _=f.indexOf("--")===0,P=Me(f,a[f],_);f==="float"&&(f="cssFloat"),_?o.setProperty(f,P):o[f]=P}}var Cs=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(o,a){if(a){if(Cs[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function nh(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function oh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ih=null,Li=null,Oi=null;function lS(o){if(o=hc(o)){if(typeof ih!="function")throw Error(r(280));var a=o.stateNode;a&&(a=pd(a),ih(o.stateNode,o.type,a))}}function dS(o){Li?Oi?Oi.push(o):Oi=[o]:Li=o}function uS(){if(Li){var o=Li,a=Oi;if(Oi=Li=null,lS(o),a)for(o=0;o<a.length;o++)lS(a[o])}}function fS(o,a){return o(a)}function pS(){}var ah=!1;function hS(o,a,f){if(ah)return o(a,f);ah=!0;try{return fS(o,a,f)}finally{ah=!1,(Li!==null||Oi!==null)&&(pS(),uS())}}function Ga(o,a){var f=o.stateNode;if(f===null)return null;var _=pd(f);if(_===null)return null;f=_[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,a,typeof f));return f}var ch=!1;if(l)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{ch=!1}function TP(o,a,f,_,P,D,z,q,X){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(f,ee)}catch(ue){this.onError(ue)}}var Xa=!1,Wl=null,ql=!1,lh=null,kP={onError:function(o){Xa=!0,Wl=o}};function PP(o,a,f,_,P,D,z,q,X){Xa=!1,Wl=null,TP.apply(kP,arguments)}function IP(o,a,f,_,P,D,z,q,X){if(PP.apply(this,arguments),Xa){if(Xa){var ee=Wl;Xa=!1,Wl=null}else throw Error(r(198));ql||(ql=!0,lh=ee)}}function Fo(o){var a=o,f=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(f=a.return),o=a.return;while(o)}return a.tag===3?f:null}function mS(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function gS(o){if(Fo(o)!==o)throw Error(r(188))}function jP(o){var a=o.alternate;if(!a){if(a=Fo(o),a===null)throw Error(r(188));return a!==o?null:o}for(var f=o,_=a;;){var P=f.return;if(P===null)break;var D=P.alternate;if(D===null){if(_=P.return,_!==null){f=_;continue}break}if(P.child===D.child){for(D=P.child;D;){if(D===f)return gS(P),o;if(D===_)return gS(P),a;D=D.sibling}throw Error(r(188))}if(f.return!==_.return)f=P,_=D;else{for(var z=!1,q=P.child;q;){if(q===f){z=!0,f=P,_=D;break}if(q===_){z=!0,_=P,f=D;break}q=q.sibling}if(!z){for(q=D.child;q;){if(q===f){z=!0,f=D,_=P;break}if(q===_){z=!0,_=D,f=P;break}q=q.sibling}if(!z)throw Error(r(189))}}if(f.alternate!==_)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:a}function vS(o){return o=jP(o),o!==null?yS(o):null}function yS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=yS(o);if(a!==null)return a;o=o.sibling}return null}var wS=t.unstable_scheduleCallback,SS=t.unstable_cancelCallback,DP=t.unstable_shouldYield,MP=t.unstable_requestPaint,Ft=t.unstable_now,NP=t.unstable_getCurrentPriorityLevel,dh=t.unstable_ImmediatePriority,bS=t.unstable_UserBlockingPriority,Gl=t.unstable_NormalPriority,LP=t.unstable_LowPriority,_S=t.unstable_IdlePriority,Kl=null,as=null;function OP(o){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Kl,o,void 0,(o.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:FP,AP=Math.log,$P=Math.LN2;function FP(o){return o>>>=0,o===0?32:31-(AP(o)/$P|0)|0}var Xl=64,Yl=4194304;function Ya(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ql(o,a){var f=o.pendingLanes;if(f===0)return 0;var _=0,P=o.suspendedLanes,D=o.pingedLanes,z=f&268435455;if(z!==0){var q=z&~P;q!==0?_=Ya(q):(D&=z,D!==0&&(_=Ya(D)))}else z=f&~P,z!==0?_=Ya(z):D!==0&&(_=Ya(D));if(_===0)return 0;if(a!==0&&a!==_&&(a&P)===0&&(P=_&-_,D=a&-a,P>=D||P===16&&(D&4194240)!==0))return a;if((_&4)!==0&&(_|=f&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=_;0<a;)f=31-En(a),P=1<<f,_|=o[f],a&=~P;return _}function zP(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BP(o,a){for(var f=o.suspendedLanes,_=o.pingedLanes,P=o.expirationTimes,D=o.pendingLanes;0<D;){var z=31-En(D),q=1<<z,X=P[z];X===-1?((q&f)===0||(q&_)!==0)&&(P[z]=zP(q,a)):X<=a&&(o.expiredLanes|=q),D&=~q}}function uh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function xS(){var o=Xl;return Xl<<=1,(Xl&4194240)===0&&(Xl=64),o}function fh(o){for(var a=[],f=0;31>f;f++)a.push(o);return a}function Qa(o,a,f){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-En(a),o[a]=f}function UP(o,a){var f=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<f;){var P=31-En(f),D=1<<P;a[P]=0,_[P]=-1,o[P]=-1,f&=~D}}function ph(o,a){var f=o.entangledLanes|=a;for(o=o.entanglements;f;){var _=31-En(f),P=1<<_;P&a|o[_]&a&&(o[_]|=a),f&=~P}}var gt=0;function CS(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var RS,hh,ES,TS,kS,mh=!1,Jl=[],to=null,ro=null,no=null,Ja=new Map,Za=new Map,so=[],VP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PS(o,a){switch(o){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Ja.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(a.pointerId)}}function ec(o,a,f,_,P,D){return o===null||o.nativeEvent!==D?(o={blockedOn:a,domEventName:f,eventSystemFlags:_,nativeEvent:D,targetContainers:[P]},a!==null&&(a=hc(a),a!==null&&hh(a)),o):(o.eventSystemFlags|=_,a=o.targetContainers,P!==null&&a.indexOf(P)===-1&&a.push(P),o)}function HP(o,a,f,_,P){switch(a){case"focusin":return to=ec(to,o,a,f,_,P),!0;case"dragenter":return ro=ec(ro,o,a,f,_,P),!0;case"mouseover":return no=ec(no,o,a,f,_,P),!0;case"pointerover":var D=P.pointerId;return Ja.set(D,ec(Ja.get(D)||null,o,a,f,_,P)),!0;case"gotpointercapture":return D=P.pointerId,Za.set(D,ec(Za.get(D)||null,o,a,f,_,P)),!0}return!1}function IS(o){var a=zo(o.target);if(a!==null){var f=Fo(a);if(f!==null){if(a=f.tag,a===13){if(a=mS(f),a!==null){o.blockedOn=a,kS(o.priority,function(){ES(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zl(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var f=vh(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var _=new f.constructor(f.type,f);sh=_,f.target.dispatchEvent(_),sh=null}else return a=hc(f),a!==null&&hh(a),o.blockedOn=f,!1;a.shift()}return!0}function jS(o,a,f){Zl(o)&&f.delete(a)}function WP(){mh=!1,to!==null&&Zl(to)&&(to=null),ro!==null&&Zl(ro)&&(ro=null),no!==null&&Zl(no)&&(no=null),Ja.forEach(jS),Za.forEach(jS)}function tc(o,a){o.blockedOn===a&&(o.blockedOn=null,mh||(mh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WP)))}function rc(o){function a(P){return tc(P,o)}if(0<Jl.length){tc(Jl[0],o);for(var f=1;f<Jl.length;f++){var _=Jl[f];_.blockedOn===o&&(_.blockedOn=null)}}for(to!==null&&tc(to,o),ro!==null&&tc(ro,o),no!==null&&tc(no,o),Ja.forEach(a),Za.forEach(a),f=0;f<so.length;f++)_=so[f],_.blockedOn===o&&(_.blockedOn=null);for(;0<so.length&&(f=so[0],f.blockedOn===null);)IS(f),f.blockedOn===null&&so.shift()}var Ai=g.ReactCurrentBatchConfig,ed=!0;function qP(o,a,f,_){var P=gt,D=Ai.transition;Ai.transition=null;try{gt=1,gh(o,a,f,_)}finally{gt=P,Ai.transition=D}}function GP(o,a,f,_){var P=gt,D=Ai.transition;Ai.transition=null;try{gt=4,gh(o,a,f,_)}finally{gt=P,Ai.transition=D}}function gh(o,a,f,_){if(ed){var P=vh(o,a,f,_);if(P===null)Nh(o,a,_,td,f),PS(o,_);else if(HP(P,o,a,f,_))_.stopPropagation();else if(PS(o,_),a&4&&-1<VP.indexOf(o)){for(;P!==null;){var D=hc(P);if(D!==null&&RS(D),D=vh(o,a,f,_),D===null&&Nh(o,a,_,td,f),D===P)break;P=D}P!==null&&_.stopPropagation()}else Nh(o,a,_,null,f)}}var td=null;function vh(o,a,f,_){if(td=null,o=oh(_),o=zo(o),o!==null)if(a=Fo(o),a===null)o=null;else if(f=a.tag,f===13){if(o=mS(a),o!==null)return o;o=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return td=o,null}function DS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NP()){case dh:return 1;case bS:return 4;case Gl:case LP:return 16;case _S:return 536870912;default:return 16}default:return 16}}var oo=null,yh=null,rd=null;function MS(){if(rd)return rd;var o,a=yh,f=a.length,_,P="value"in oo?oo.value:oo.textContent,D=P.length;for(o=0;o<f&&a[o]===P[o];o++);var z=f-o;for(_=1;_<=z&&a[f-_]===P[D-_];_++);return rd=P.slice(o,1<_?1-_:void 0)}function nd(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function sd(){return!0}function NS(){return!1}function Qr(o){function a(f,_,P,D,z){this._reactName=f,this._targetInst=P,this.type=_,this.nativeEvent=D,this.target=z,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(f=o[q],this[q]=f?f(D):D[q]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?sd:NS,this.isPropagationStopped=NS,this}return H(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),a}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=Qr($i),nc=H({},$i,{view:0,detail:0}),KP=Qr(nc),Sh,bh,sc,od=H({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==sc&&(sc&&o.type==="mousemove"?(Sh=o.screenX-sc.screenX,bh=o.screenY-sc.screenY):bh=Sh=0,sc=o),Sh)},movementY:function(o){return"movementY"in o?o.movementY:bh}}),LS=Qr(od),XP=H({},od,{dataTransfer:0}),YP=Qr(XP),QP=H({},nc,{relatedTarget:0}),_h=Qr(QP),JP=H({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),ZP=Qr(JP),eI=H({},$i,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tI=Qr(eI),rI=H({},$i,{data:0}),OS=Qr(rI),nI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iI(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=oI[o])?!!a[o]:!1}function xh(){return iI}var aI=H({},nc,{key:function(o){if(o.key){var a=nI[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=nd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?sI[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(o){return o.type==="keypress"?nd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?nd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cI=Qr(aI),lI=H({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AS=Qr(lI),dI=H({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),uI=Qr(dI),fI=H({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),pI=Qr(fI),hI=H({},od,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mI=Qr(hI),gI=[9,13,27,32],Ch=l&&"CompositionEvent"in window,oc=null;l&&"documentMode"in document&&(oc=document.documentMode);var vI=l&&"TextEvent"in window&&!oc,$S=l&&(!Ch||oc&&8<oc&&11>=oc),FS=" ",zS=!1;function BS(o,a){switch(o){case"keyup":return gI.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fi=!1;function yI(o,a){switch(o){case"compositionend":return US(a);case"keypress":return a.which!==32?null:(zS=!0,FS);case"textInput":return o=a.data,o===FS&&zS?null:o;default:return null}}function wI(o,a){if(Fi)return o==="compositionend"||!Ch&&BS(o,a)?(o=MS(),rd=yh=oo=null,Fi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $S&&a.locale!=="ko"?null:a.data;default:return null}}var SI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VS(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!SI[o.type]:a==="textarea"}function HS(o,a,f,_){dS(_),a=dd(a,"onChange"),0<a.length&&(f=new wh("onChange","change",null,f,_),o.push({event:f,listeners:a}))}var ic=null,ac=null;function bI(o){c0(o,0)}function id(o){var a=Hi(o);if(it(a))return o}function _I(o,a){if(o==="change")return a}var WS=!1;if(l){var Rh;if(l){var Eh="oninput"in document;if(!Eh){var qS=document.createElement("div");qS.setAttribute("oninput","return;"),Eh=typeof qS.oninput=="function"}Rh=Eh}else Rh=!1;WS=Rh&&(!document.documentMode||9<document.documentMode)}function GS(){ic&&(ic.detachEvent("onpropertychange",KS),ac=ic=null)}function KS(o){if(o.propertyName==="value"&&id(ac)){var a=[];HS(a,ac,o,oh(o)),hS(bI,a)}}function xI(o,a,f){o==="focusin"?(GS(),ic=a,ac=f,ic.attachEvent("onpropertychange",KS)):o==="focusout"&&GS()}function CI(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return id(ac)}function RI(o,a){if(o==="click")return id(a)}function EI(o,a){if(o==="input"||o==="change")return id(a)}function TI(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Tn=typeof Object.is=="function"?Object.is:TI;function cc(o,a){if(Tn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var f=Object.keys(o),_=Object.keys(a);if(f.length!==_.length)return!1;for(_=0;_<f.length;_++){var P=f[_];if(!u.call(a,P)||!Tn(o[P],a[P]))return!1}return!0}function XS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function YS(o,a){var f=XS(o);o=0;for(var _;f;){if(f.nodeType===3){if(_=o+f.textContent.length,o<=a&&_>=a)return{node:f,offset:a-o};o=_}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=XS(f)}}function QS(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?QS(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function JS(){for(var o=window,a=ht();a instanceof o.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)o=a.contentWindow;else break;a=ht(o.document)}return a}function Th(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function kI(o){var a=JS(),f=o.focusedElem,_=o.selectionRange;if(a!==f&&f&&f.ownerDocument&&QS(f.ownerDocument.documentElement,f)){if(_!==null&&Th(f)){if(a=_.start,o=_.end,o===void 0&&(o=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(o,f.value.length);else if(o=(a=f.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var P=f.textContent.length,D=Math.min(_.start,P);_=_.end===void 0?D:Math.min(_.end,P),!o.extend&&D>_&&(P=_,_=D,D=P),P=YS(f,D);var z=YS(f,_);P&&z&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==z.node||o.focusOffset!==z.offset)&&(a=a.createRange(),a.setStart(P.node,P.offset),o.removeAllRanges(),D>_?(o.addRange(a),o.extend(z.node,z.offset)):(a.setEnd(z.node,z.offset),o.addRange(a)))}}for(a=[],o=f;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)o=a[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var PI=l&&"documentMode"in document&&11>=document.documentMode,zi=null,kh=null,lc=null,Ph=!1;function ZS(o,a,f){var _=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ph||zi==null||zi!==ht(_)||(_=zi,"selectionStart"in _&&Th(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),lc&&cc(lc,_)||(lc=_,_=dd(kh,"onSelect"),0<_.length&&(a=new wh("onSelect","select",null,a,f),o.push({event:a,listeners:_}),a.target=zi)))}function ad(o,a){var f={};return f[o.toLowerCase()]=a.toLowerCase(),f["Webkit"+o]="webkit"+a,f["Moz"+o]="moz"+a,f}var Bi={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Ih={},e0={};l&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function cd(o){if(Ih[o])return Ih[o];if(!Bi[o])return o;var a=Bi[o],f;for(f in a)if(a.hasOwnProperty(f)&&f in e0)return Ih[o]=a[f];return o}var t0=cd("animationend"),r0=cd("animationiteration"),n0=cd("animationstart"),s0=cd("transitionend"),o0=new Map,i0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(o,a){o0.set(o,a),i(a,[o])}for(var jh=0;jh<i0.length;jh++){var Dh=i0[jh],II=Dh.toLowerCase(),jI=Dh[0].toUpperCase()+Dh.slice(1);io(II,"on"+jI)}io(t0,"onAnimationEnd"),io(r0,"onAnimationIteration"),io(n0,"onAnimationStart"),io("dblclick","onDoubleClick"),io("focusin","onFocus"),io("focusout","onBlur"),io(s0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DI=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function a0(o,a,f){var _=o.type||"unknown-event";o.currentTarget=f,IP(_,a,void 0,o),o.currentTarget=null}function c0(o,a){a=(a&4)!==0;for(var f=0;f<o.length;f++){var _=o[f],P=_.event;_=_.listeners;e:{var D=void 0;if(a)for(var z=_.length-1;0<=z;z--){var q=_[z],X=q.instance,ee=q.currentTarget;if(q=q.listener,X!==D&&P.isPropagationStopped())break e;a0(P,q,ee),D=X}else for(z=0;z<_.length;z++){if(q=_[z],X=q.instance,ee=q.currentTarget,q=q.listener,X!==D&&P.isPropagationStopped())break e;a0(P,q,ee),D=X}}}if(ql)throw o=lh,ql=!1,lh=null,o}function _t(o,a){var f=a[zh];f===void 0&&(f=a[zh]=new Set);var _=o+"__bubble";f.has(_)||(l0(a,o,2,!1),f.add(_))}function Mh(o,a,f){var _=0;a&&(_|=4),l0(f,o,_,a)}var ld="_reactListening"+Math.random().toString(36).slice(2);function uc(o){if(!o[ld]){o[ld]=!0,n.forEach(function(f){f!=="selectionchange"&&(DI.has(f)||Mh(f,!1,o),Mh(f,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ld]||(a[ld]=!0,Mh("selectionchange",!1,a))}}function l0(o,a,f,_){switch(DS(a)){case 1:var P=qP;break;case 4:P=GP;break;default:P=gh}f=P.bind(null,a,f,o),P=void 0,!ch||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(P=!0),_?P!==void 0?o.addEventListener(a,f,{capture:!0,passive:P}):o.addEventListener(a,f,!0):P!==void 0?o.addEventListener(a,f,{passive:P}):o.addEventListener(a,f,!1)}function Nh(o,a,f,_,P){var D=_;if((a&1)===0&&(a&2)===0&&_!==null)e:for(;;){if(_===null)return;var z=_.tag;if(z===3||z===4){var q=_.stateNode.containerInfo;if(q===P||q.nodeType===8&&q.parentNode===P)break;if(z===4)for(z=_.return;z!==null;){var X=z.tag;if((X===3||X===4)&&(X=z.stateNode.containerInfo,X===P||X.nodeType===8&&X.parentNode===P))return;z=z.return}for(;q!==null;){if(z=zo(q),z===null)return;if(X=z.tag,X===5||X===6){_=D=z;continue e}q=q.parentNode}}_=_.return}hS(function(){var ee=D,ue=oh(f),pe=[];e:{var de=o0.get(o);if(de!==void 0){var Re=wh,Ie=o;switch(o){case"keypress":if(nd(f)===0)break e;case"keydown":case"keyup":Re=cI;break;case"focusin":Ie="focus",Re=_h;break;case"focusout":Ie="blur",Re=_h;break;case"beforeblur":case"afterblur":Re=_h;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=LS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=uI;break;case t0:case r0:case n0:Re=ZP;break;case s0:Re=pI;break;case"scroll":Re=KP;break;case"wheel":Re=mI;break;case"copy":case"cut":case"paste":Re=tI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=AS}var je=(a&4)!==0,zt=!je&&o==="scroll",J=je?de!==null?de+"Capture":null:de;je=[];for(var Y=ee,Z;Y!==null;){Z=Y;var me=Z.stateNode;if(Z.tag===5&&me!==null&&(Z=me,J!==null&&(me=Ga(Y,J),me!=null&&je.push(fc(Y,me,Z)))),zt)break;Y=Y.return}0<je.length&&(de=new Re(de,Ie,null,f,ue),pe.push({event:de,listeners:je}))}}if((a&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",de&&f!==sh&&(Ie=f.relatedTarget||f.fromElement)&&(zo(Ie)||Ie[Rs]))break e;if((Re||de)&&(de=ue.window===ue?ue:(de=ue.ownerDocument)?de.defaultView||de.parentWindow:window,Re?(Ie=f.relatedTarget||f.toElement,Re=ee,Ie=Ie?zo(Ie):null,Ie!==null&&(zt=Fo(Ie),Ie!==zt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Re=null,Ie=ee),Re!==Ie)){if(je=LS,me="onMouseLeave",J="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(je=AS,me="onPointerLeave",J="onPointerEnter",Y="pointer"),zt=Re==null?de:Hi(Re),Z=Ie==null?de:Hi(Ie),de=new je(me,Y+"leave",Re,f,ue),de.target=zt,de.relatedTarget=Z,me=null,zo(ue)===ee&&(je=new je(J,Y+"enter",Ie,f,ue),je.target=Z,je.relatedTarget=zt,me=je),zt=me,Re&&Ie)t:{for(je=Re,J=Ie,Y=0,Z=je;Z;Z=Ui(Z))Y++;for(Z=0,me=J;me;me=Ui(me))Z++;for(;0<Y-Z;)je=Ui(je),Y--;for(;0<Z-Y;)J=Ui(J),Z--;for(;Y--;){if(je===J||J!==null&&je===J.alternate)break t;je=Ui(je),J=Ui(J)}je=null}else je=null;Re!==null&&d0(pe,de,Re,je,!1),Ie!==null&&zt!==null&&d0(pe,zt,Ie,je,!0)}}e:{if(de=ee?Hi(ee):window,Re=de.nodeName&&de.nodeName.toLowerCase(),Re==="select"||Re==="input"&&de.type==="file")var Ne=_I;else if(VS(de))if(WS)Ne=EI;else{Ne=CI;var Ve=xI}else(Re=de.nodeName)&&Re.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=RI);if(Ne&&(Ne=Ne(o,ee))){HS(pe,Ne,f,ue);break e}Ve&&Ve(o,de,ee),o==="focusout"&&(Ve=de._wrapperState)&&Ve.controlled&&de.type==="number"&&Pe(de,"number",de.value)}switch(Ve=ee?Hi(ee):window,o){case"focusin":(VS(Ve)||Ve.contentEditable==="true")&&(zi=Ve,kh=ee,lc=null);break;case"focusout":lc=kh=zi=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,ZS(pe,f,ue);break;case"selectionchange":if(PI)break;case"keydown":case"keyup":ZS(pe,f,ue)}var He;if(Ch)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Fi?BS(o,f)&&(Ge="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ge="onCompositionStart");Ge&&($S&&f.locale!=="ko"&&(Fi||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Fi&&(He=MS()):(oo=ue,yh="value"in oo?oo.value:oo.textContent,Fi=!0)),Ve=dd(ee,Ge),0<Ve.length&&(Ge=new OS(Ge,o,null,f,ue),pe.push({event:Ge,listeners:Ve}),He?Ge.data=He:(He=US(f),He!==null&&(Ge.data=He)))),(He=vI?yI(o,f):wI(o,f))&&(ee=dd(ee,"onBeforeInput"),0<ee.length&&(ue=new OS("onBeforeInput","beforeinput",null,f,ue),pe.push({event:ue,listeners:ee}),ue.data=He))}c0(pe,a)})}function fc(o,a,f){return{instance:o,listener:a,currentTarget:f}}function dd(o,a){for(var f=a+"Capture",_=[];o!==null;){var P=o,D=P.stateNode;P.tag===5&&D!==null&&(P=D,D=Ga(o,f),D!=null&&_.unshift(fc(o,D,P)),D=Ga(o,a),D!=null&&_.push(fc(o,D,P))),o=o.return}return _}function Ui(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function d0(o,a,f,_,P){for(var D=a._reactName,z=[];f!==null&&f!==_;){var q=f,X=q.alternate,ee=q.stateNode;if(X!==null&&X===_)break;q.tag===5&&ee!==null&&(q=ee,P?(X=Ga(f,D),X!=null&&z.unshift(fc(f,X,q))):P||(X=Ga(f,D),X!=null&&z.push(fc(f,X,q)))),f=f.return}z.length!==0&&o.push({event:a,listeners:z})}var MI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function u0(o){return(typeof o=="string"?o:""+o).replace(MI,`
`).replace(NI,"")}function ud(o,a,f){if(a=u0(a),u0(o)!==a&&f)throw Error(r(425))}function fd(){}var Lh=null,Oh=null;function Ah(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(o){return f0.resolve(null).then(o).catch(AI)}:$h;function AI(o){setTimeout(function(){throw o})}function Fh(o,a){var f=a,_=0;do{var P=f.nextSibling;if(o.removeChild(f),P&&P.nodeType===8)if(f=P.data,f==="/$"){if(_===0){o.removeChild(P),rc(a);return}_--}else f!=="$"&&f!=="$?"&&f!=="$!"||_++;f=P}while(f);rc(a)}function ao(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function p0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return o;a--}else f==="/$"&&a++}o=o.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),cs="__reactFiber$"+Vi,pc="__reactProps$"+Vi,Rs="__reactContainer$"+Vi,zh="__reactEvents$"+Vi,$I="__reactListeners$"+Vi,FI="__reactHandles$"+Vi;function zo(o){var a=o[cs];if(a)return a;for(var f=o.parentNode;f;){if(a=f[Rs]||f[cs]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(o=p0(o);o!==null;){if(f=o[cs])return f;o=p0(o)}return a}o=f,f=o.parentNode}return null}function hc(o){return o=o[cs]||o[Rs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Hi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function pd(o){return o[pc]||null}var Bh=[],Wi=-1;function co(o){return{current:o}}function xt(o){0>Wi||(o.current=Bh[Wi],Bh[Wi]=null,Wi--)}function St(o,a){Wi++,Bh[Wi]=o.current,o.current=a}var lo={},gr=co(lo),Nr=co(!1),Bo=lo;function qi(o,a){var f=o.type.contextTypes;if(!f)return lo;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===a)return _.__reactInternalMemoizedMaskedChildContext;var P={},D;for(D in f)P[D]=a[D];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=P),P}function Lr(o){return o=o.childContextTypes,o!=null}function hd(){xt(Nr),xt(gr)}function h0(o,a,f){if(gr.current!==lo)throw Error(r(168));St(gr,a),St(Nr,f)}function m0(o,a,f){var _=o.stateNode;if(a=a.childContextTypes,typeof _.getChildContext!="function")return f;_=_.getChildContext();for(var P in _)if(!(P in a))throw Error(r(108,fe(o)||"Unknown",P));return H({},f,_)}function md(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||lo,Bo=gr.current,St(gr,o),St(Nr,Nr.current),!0}function g0(o,a,f){var _=o.stateNode;if(!_)throw Error(r(169));f?(o=m0(o,a,Bo),_.__reactInternalMemoizedMergedChildContext=o,xt(Nr),xt(gr),St(gr,o)):xt(Nr),St(Nr,f)}var Es=null,gd=!1,Uh=!1;function v0(o){Es===null?Es=[o]:Es.push(o)}function zI(o){gd=!0,v0(o)}function uo(){if(!Uh&&Es!==null){Uh=!0;var o=0,a=gt;try{var f=Es;for(gt=1;o<f.length;o++){var _=f[o];do _=_(!0);while(_!==null)}Es=null,gd=!1}catch(P){throw Es!==null&&(Es=Es.slice(o+1)),wS(dh,uo),P}finally{gt=a,Uh=!1}}return null}var Gi=[],Ki=0,vd=null,yd=0,dn=[],un=0,Uo=null,Ts=1,ks="";function Vo(o,a){Gi[Ki++]=yd,Gi[Ki++]=vd,vd=o,yd=a}function y0(o,a,f){dn[un++]=Ts,dn[un++]=ks,dn[un++]=Uo,Uo=o;var _=Ts;o=ks;var P=32-En(_)-1;_&=~(1<<P),f+=1;var D=32-En(a)+P;if(30<D){var z=P-P%5;D=(_&(1<<z)-1).toString(32),_>>=z,P-=z,Ts=1<<32-En(a)+P|f<<P|_,ks=D+o}else Ts=1<<D|f<<P|_,ks=o}function Vh(o){o.return!==null&&(Vo(o,1),y0(o,1,0))}function Hh(o){for(;o===vd;)vd=Gi[--Ki],Gi[Ki]=null,yd=Gi[--Ki],Gi[Ki]=null;for(;o===Uo;)Uo=dn[--un],dn[un]=null,ks=dn[--un],dn[un]=null,Ts=dn[--un],dn[un]=null}var Jr=null,Zr=null,Et=!1,kn=null;function w0(o,a){var f=mn(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=o,a=o.deletions,a===null?(o.deletions=[f],o.flags|=16):a.push(f)}function S0(o,a){switch(o.tag){case 5:var f=o.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Jr=o,Zr=ao(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Jr=o,Zr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=Uo!==null?{id:Ts,overflow:ks}:null,o.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=mn(18,null,null,0),f.stateNode=a,f.return=o,o.child=f,Jr=o,Zr=null,!0):!1;default:return!1}}function Wh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function qh(o){if(Et){var a=Zr;if(a){var f=a;if(!S0(o,a)){if(Wh(o))throw Error(r(418));a=ao(f.nextSibling);var _=Jr;a&&S0(o,a)?w0(_,f):(o.flags=o.flags&-4097|2,Et=!1,Jr=o)}}else{if(Wh(o))throw Error(r(418));o.flags=o.flags&-4097|2,Et=!1,Jr=o}}}function b0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Jr=o}function wd(o){if(o!==Jr)return!1;if(!Et)return b0(o),Et=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Ah(o.type,o.memoizedProps)),a&&(a=Zr)){if(Wh(o))throw _0(),Error(r(418));for(;a;)w0(o,a),a=ao(a.nextSibling)}if(b0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(a===0){Zr=ao(o.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}o=o.nextSibling}Zr=null}}else Zr=Jr?ao(o.stateNode.nextSibling):null;return!0}function _0(){for(var o=Zr;o;)o=ao(o.nextSibling)}function Xi(){Zr=Jr=null,Et=!1}function Gh(o){kn===null?kn=[o]:kn.push(o)}var BI=g.ReactCurrentBatchConfig;function mc(o,a,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var _=f.stateNode}if(!_)throw Error(r(147,o));var P=_,D=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===D?a.ref:(a=function(z){var q=P.refs;z===null?delete q[D]:q[D]=z},a._stringRef=D,a)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Sd(o,a){throw o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function x0(o){var a=o._init;return a(o._payload)}function C0(o){function a(J,Y){if(o){var Z=J.deletions;Z===null?(J.deletions=[Y],J.flags|=16):Z.push(Y)}}function f(J,Y){if(!o)return null;for(;Y!==null;)a(J,Y),Y=Y.sibling;return null}function _(J,Y){for(J=new Map;Y!==null;)Y.key!==null?J.set(Y.key,Y):J.set(Y.index,Y),Y=Y.sibling;return J}function P(J,Y){return J=wo(J,Y),J.index=0,J.sibling=null,J}function D(J,Y,Z){return J.index=Z,o?(Z=J.alternate,Z!==null?(Z=Z.index,Z<Y?(J.flags|=2,Y):Z):(J.flags|=2,Y)):(J.flags|=1048576,Y)}function z(J){return o&&J.alternate===null&&(J.flags|=2),J}function q(J,Y,Z,me){return Y===null||Y.tag!==6?(Y=$m(Z,J.mode,me),Y.return=J,Y):(Y=P(Y,Z),Y.return=J,Y)}function X(J,Y,Z,me){var Ne=Z.type;return Ne===k?ue(J,Y,Z.props.children,me,Z.key):Y!==null&&(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&x0(Ne)===Y.type)?(me=P(Y,Z.props),me.ref=mc(J,Y,Z),me.return=J,me):(me=Hd(Z.type,Z.key,Z.props,null,J.mode,me),me.ref=mc(J,Y,Z),me.return=J,me)}function ee(J,Y,Z,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=Fm(Z,J.mode,me),Y.return=J,Y):(Y=P(Y,Z.children||[]),Y.return=J,Y)}function ue(J,Y,Z,me,Ne){return Y===null||Y.tag!==7?(Y=Qo(Z,J.mode,me,Ne),Y.return=J,Y):(Y=P(Y,Z),Y.return=J,Y)}function pe(J,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=$m(""+Y,J.mode,Z),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Z=Hd(Y.type,Y.key,Y.props,null,J.mode,Z),Z.ref=mc(J,null,Y),Z.return=J,Z;case E:return Y=Fm(Y,J.mode,Z),Y.return=J,Y;case L:var me=Y._init;return pe(J,me(Y._payload),Z)}if($e(Y)||B(Y))return Y=Qo(Y,J.mode,Z,null),Y.return=J,Y;Sd(J,Y)}return null}function de(J,Y,Z,me){var Ne=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ne!==null?null:q(J,Y,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ne?X(J,Y,Z,me):null;case E:return Z.key===Ne?ee(J,Y,Z,me):null;case L:return Ne=Z._init,de(J,Y,Ne(Z._payload),me)}if($e(Z)||B(Z))return Ne!==null?null:ue(J,Y,Z,me,null);Sd(J,Z)}return null}function Re(J,Y,Z,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(Z)||null,q(Y,J,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return J=J.get(me.key===null?Z:me.key)||null,X(Y,J,me,Ne);case E:return J=J.get(me.key===null?Z:me.key)||null,ee(Y,J,me,Ne);case L:var Ve=me._init;return Re(J,Y,Z,Ve(me._payload),Ne)}if($e(me)||B(me))return J=J.get(Z)||null,ue(Y,J,me,Ne,null);Sd(Y,me)}return null}function Ie(J,Y,Z,me){for(var Ne=null,Ve=null,He=Y,Ge=Y=0,sr=null;He!==null&&Ge<Z.length;Ge++){He.index>Ge?(sr=He,He=null):sr=He.sibling;var pt=de(J,He,Z[Ge],me);if(pt===null){He===null&&(He=sr);break}o&&He&&pt.alternate===null&&a(J,He),Y=D(pt,Y,Ge),Ve===null?Ne=pt:Ve.sibling=pt,Ve=pt,He=sr}if(Ge===Z.length)return f(J,He),Et&&Vo(J,Ge),Ne;if(He===null){for(;Ge<Z.length;Ge++)He=pe(J,Z[Ge],me),He!==null&&(Y=D(He,Y,Ge),Ve===null?Ne=He:Ve.sibling=He,Ve=He);return Et&&Vo(J,Ge),Ne}for(He=_(J,He);Ge<Z.length;Ge++)sr=Re(He,J,Ge,Z[Ge],me),sr!==null&&(o&&sr.alternate!==null&&He.delete(sr.key===null?Ge:sr.key),Y=D(sr,Y,Ge),Ve===null?Ne=sr:Ve.sibling=sr,Ve=sr);return o&&He.forEach(function(So){return a(J,So)}),Et&&Vo(J,Ge),Ne}function je(J,Y,Z,me){var Ne=B(Z);if(typeof Ne!="function")throw Error(r(150));if(Z=Ne.call(Z),Z==null)throw Error(r(151));for(var Ve=Ne=null,He=Y,Ge=Y=0,sr=null,pt=Z.next();He!==null&&!pt.done;Ge++,pt=Z.next()){He.index>Ge?(sr=He,He=null):sr=He.sibling;var So=de(J,He,pt.value,me);if(So===null){He===null&&(He=sr);break}o&&He&&So.alternate===null&&a(J,He),Y=D(So,Y,Ge),Ve===null?Ne=So:Ve.sibling=So,Ve=So,He=sr}if(pt.done)return f(J,He),Et&&Vo(J,Ge),Ne;if(He===null){for(;!pt.done;Ge++,pt=Z.next())pt=pe(J,pt.value,me),pt!==null&&(Y=D(pt,Y,Ge),Ve===null?Ne=pt:Ve.sibling=pt,Ve=pt);return Et&&Vo(J,Ge),Ne}for(He=_(J,He);!pt.done;Ge++,pt=Z.next())pt=Re(He,J,Ge,pt.value,me),pt!==null&&(o&&pt.alternate!==null&&He.delete(pt.key===null?Ge:pt.key),Y=D(pt,Y,Ge),Ve===null?Ne=pt:Ve.sibling=pt,Ve=pt);return o&&He.forEach(function(Sj){return a(J,Sj)}),Et&&Vo(J,Ge),Ne}function zt(J,Y,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ne=Z.key,Ve=Y;Ve!==null;){if(Ve.key===Ne){if(Ne=Z.type,Ne===k){if(Ve.tag===7){f(J,Ve.sibling),Y=P(Ve,Z.props.children),Y.return=J,J=Y;break e}}else if(Ve.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&x0(Ne)===Ve.type){f(J,Ve.sibling),Y=P(Ve,Z.props),Y.ref=mc(J,Ve,Z),Y.return=J,J=Y;break e}f(J,Ve);break}else a(J,Ve);Ve=Ve.sibling}Z.type===k?(Y=Qo(Z.props.children,J.mode,me,Z.key),Y.return=J,J=Y):(me=Hd(Z.type,Z.key,Z.props,null,J.mode,me),me.ref=mc(J,Y,Z),me.return=J,J=me)}return z(J);case E:e:{for(Ve=Z.key;Y!==null;){if(Y.key===Ve)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){f(J,Y.sibling),Y=P(Y,Z.children||[]),Y.return=J,J=Y;break e}else{f(J,Y);break}else a(J,Y);Y=Y.sibling}Y=Fm(Z,J.mode,me),Y.return=J,J=Y}return z(J);case L:return Ve=Z._init,zt(J,Y,Ve(Z._payload),me)}if($e(Z))return Ie(J,Y,Z,me);if(B(Z))return je(J,Y,Z,me);Sd(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,Y!==null&&Y.tag===6?(f(J,Y.sibling),Y=P(Y,Z),Y.return=J,J=Y):(f(J,Y),Y=$m(Z,J.mode,me),Y.return=J,J=Y),z(J)):f(J,Y)}return zt}var Yi=C0(!0),R0=C0(!1),bd=co(null),_d=null,Qi=null,Kh=null;function Xh(){Kh=Qi=_d=null}function Yh(o){var a=bd.current;xt(bd),o._currentValue=a}function Qh(o,a,f){for(;o!==null;){var _=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,_!==null&&(_.childLanes|=a)):_!==null&&(_.childLanes&a)!==a&&(_.childLanes|=a),o===f)break;o=o.return}}function Ji(o,a){_d=o,Kh=Qi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Or=!0),o.firstContext=null)}function fn(o){var a=o._currentValue;if(Kh!==o)if(o={context:o,memoizedValue:a,next:null},Qi===null){if(_d===null)throw Error(r(308));Qi=o,_d.dependencies={lanes:0,firstContext:o}}else Qi=Qi.next=o;return a}var Ho=null;function Jh(o){Ho===null?Ho=[o]:Ho.push(o)}function E0(o,a,f,_){var P=a.interleaved;return P===null?(f.next=f,Jh(a)):(f.next=P.next,P.next=f),a.interleaved=f,Ps(o,_)}function Ps(o,a){o.lanes|=a;var f=o.alternate;for(f!==null&&(f.lanes|=a),f=o,o=o.return;o!==null;)o.childLanes|=a,f=o.alternate,f!==null&&(f.childLanes|=a),f=o,o=o.return;return f.tag===3?f.stateNode:null}var fo=!1;function Zh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Is(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function po(o,a,f){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(ut&2)!==0){var P=_.pending;return P===null?a.next=a:(a.next=P.next,P.next=a),_.pending=a,Ps(o,f)}return P=_.interleaved,P===null?(a.next=a,Jh(_)):(a.next=P.next,P.next=a),_.interleaved=a,Ps(o,f)}function xd(o,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var _=a.lanes;_&=o.pendingLanes,f|=_,a.lanes=f,ph(o,f)}}function k0(o,a){var f=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,f===_)){var P=null,D=null;if(f=f.firstBaseUpdate,f!==null){do{var z={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};D===null?P=D=z:D=D.next=z,f=f.next}while(f!==null);D===null?P=D=a:D=D.next=a}else P=D=a;f={baseState:_.baseState,firstBaseUpdate:P,lastBaseUpdate:D,shared:_.shared,effects:_.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=a}function Cd(o,a,f,_){var P=o.updateQueue;fo=!1;var D=P.firstBaseUpdate,z=P.lastBaseUpdate,q=P.shared.pending;if(q!==null){P.shared.pending=null;var X=q,ee=X.next;X.next=null,z===null?D=ee:z.next=ee,z=X;var ue=o.alternate;ue!==null&&(ue=ue.updateQueue,q=ue.lastBaseUpdate,q!==z&&(q===null?ue.firstBaseUpdate=ee:q.next=ee,ue.lastBaseUpdate=X))}if(D!==null){var pe=P.baseState;z=0,ue=ee=X=null,q=D;do{var de=q.lane,Re=q.eventTime;if((_&de)===de){ue!==null&&(ue=ue.next={eventTime:Re,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ie=o,je=q;switch(de=a,Re=f,je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){pe=Ie.call(Re,pe,de);break e}pe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,de=typeof Ie=="function"?Ie.call(Re,pe,de):Ie,de==null)break e;pe=H({},pe,de);break e;case 2:fo=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,de=P.effects,de===null?P.effects=[q]:de.push(q))}else Re={eventTime:Re,lane:de,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ue===null?(ee=ue=Re,X=pe):ue=ue.next=Re,z|=de;if(q=q.next,q===null){if(q=P.shared.pending,q===null)break;de=q,q=de.next,de.next=null,P.lastBaseUpdate=de,P.shared.pending=null}}while(!0);if(ue===null&&(X=pe),P.baseState=X,P.firstBaseUpdate=ee,P.lastBaseUpdate=ue,a=P.shared.interleaved,a!==null){P=a;do z|=P.lane,P=P.next;while(P!==a)}else D===null&&(P.shared.lanes=0);Go|=z,o.lanes=z,o.memoizedState=pe}}function P0(o,a,f){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var _=o[a],P=_.callback;if(P!==null){if(_.callback=null,_=f,typeof P!="function")throw Error(r(191,P));P.call(_)}}}var gc={},ls=co(gc),vc=co(gc),yc=co(gc);function Wo(o){if(o===gc)throw Error(r(174));return o}function em(o,a){switch(St(yc,a),St(vc,o),St(ls,gc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fe(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Fe(a,o)}xt(ls),St(ls,a)}function Zi(){xt(ls),xt(vc),xt(yc)}function I0(o){Wo(yc.current);var a=Wo(ls.current),f=Fe(a,o.type);a!==f&&(St(vc,o),St(ls,f))}function tm(o){vc.current===o&&(xt(ls),xt(vc))}var Pt=co(0);function Rd(o){for(var a=o;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rm=[];function nm(){for(var o=0;o<rm.length;o++)rm[o]._workInProgressVersionPrimary=null;rm.length=0}var Ed=g.ReactCurrentDispatcher,sm=g.ReactCurrentBatchConfig,qo=0,It=null,Yt=null,rr=null,Td=!1,wc=!1,Sc=0,UI=0;function vr(){throw Error(r(321))}function om(o,a){if(a===null)return!1;for(var f=0;f<a.length&&f<o.length;f++)if(!Tn(o[f],a[f]))return!1;return!0}function im(o,a,f,_,P,D){if(qo=D,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ed.current=o===null||o.memoizedState===null?qI:GI,o=f(_,P),wc){D=0;do{if(wc=!1,Sc=0,25<=D)throw Error(r(301));D+=1,rr=Yt=null,a.updateQueue=null,Ed.current=KI,o=f(_,P)}while(wc)}if(Ed.current=Id,a=Yt!==null&&Yt.next!==null,qo=0,rr=Yt=It=null,Td=!1,a)throw Error(r(300));return o}function am(){var o=Sc!==0;return Sc=0,o}function ds(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?It.memoizedState=rr=o:rr=rr.next=o,rr}function pn(){if(Yt===null){var o=It.alternate;o=o!==null?o.memoizedState:null}else o=Yt.next;var a=rr===null?It.memoizedState:rr.next;if(a!==null)rr=a,Yt=o;else{if(o===null)throw Error(r(310));Yt=o,o={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},rr===null?It.memoizedState=rr=o:rr=rr.next=o}return rr}function bc(o,a){return typeof a=="function"?a(o):a}function cm(o){var a=pn(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var _=Yt,P=_.baseQueue,D=f.pending;if(D!==null){if(P!==null){var z=P.next;P.next=D.next,D.next=z}_.baseQueue=P=D,f.pending=null}if(P!==null){D=P.next,_=_.baseState;var q=z=null,X=null,ee=D;do{var ue=ee.lane;if((qo&ue)===ue)X!==null&&(X=X.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),_=ee.hasEagerState?ee.eagerState:o(_,ee.action);else{var pe={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};X===null?(q=X=pe,z=_):X=X.next=pe,It.lanes|=ue,Go|=ue}ee=ee.next}while(ee!==null&&ee!==D);X===null?z=_:X.next=q,Tn(_,a.memoizedState)||(Or=!0),a.memoizedState=_,a.baseState=z,a.baseQueue=X,f.lastRenderedState=_}if(o=f.interleaved,o!==null){P=o;do D=P.lane,It.lanes|=D,Go|=D,P=P.next;while(P!==o)}else P===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function lm(o){var a=pn(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var _=f.dispatch,P=f.pending,D=a.memoizedState;if(P!==null){f.pending=null;var z=P=P.next;do D=o(D,z.action),z=z.next;while(z!==P);Tn(D,a.memoizedState)||(Or=!0),a.memoizedState=D,a.baseQueue===null&&(a.baseState=D),f.lastRenderedState=D}return[D,_]}function j0(){}function D0(o,a){var f=It,_=pn(),P=a(),D=!Tn(_.memoizedState,P);if(D&&(_.memoizedState=P,Or=!0),_=_.queue,dm(L0.bind(null,f,_,o),[o]),_.getSnapshot!==a||D||rr!==null&&rr.memoizedState.tag&1){if(f.flags|=2048,_c(9,N0.bind(null,f,_,P,a),void 0,null),nr===null)throw Error(r(349));(qo&30)!==0||M0(f,a,P)}return P}function M0(o,a,f){o.flags|=16384,o={getSnapshot:a,value:f},a=It.updateQueue,a===null?(a={lastEffect:null,stores:null},It.updateQueue=a,a.stores=[o]):(f=a.stores,f===null?a.stores=[o]:f.push(o))}function N0(o,a,f,_){a.value=f,a.getSnapshot=_,O0(a)&&A0(o)}function L0(o,a,f){return f(function(){O0(a)&&A0(o)})}function O0(o){var a=o.getSnapshot;o=o.value;try{var f=a();return!Tn(o,f)}catch{return!0}}function A0(o){var a=Ps(o,1);a!==null&&Dn(a,o,1,-1)}function $0(o){var a=ds();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:o},a.queue=o,o=o.dispatch=WI.bind(null,It,o),[a.memoizedState,o]}function _c(o,a,f,_){return o={tag:o,create:a,destroy:f,deps:_,next:null},a=It.updateQueue,a===null?(a={lastEffect:null,stores:null},It.updateQueue=a,a.lastEffect=o.next=o):(f=a.lastEffect,f===null?a.lastEffect=o.next=o:(_=f.next,f.next=o,o.next=_,a.lastEffect=o)),o}function F0(){return pn().memoizedState}function kd(o,a,f,_){var P=ds();It.flags|=o,P.memoizedState=_c(1|a,f,void 0,_===void 0?null:_)}function Pd(o,a,f,_){var P=pn();_=_===void 0?null:_;var D=void 0;if(Yt!==null){var z=Yt.memoizedState;if(D=z.destroy,_!==null&&om(_,z.deps)){P.memoizedState=_c(a,f,D,_);return}}It.flags|=o,P.memoizedState=_c(1|a,f,D,_)}function z0(o,a){return kd(8390656,8,o,a)}function dm(o,a){return Pd(2048,8,o,a)}function B0(o,a){return Pd(4,2,o,a)}function U0(o,a){return Pd(4,4,o,a)}function V0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function H0(o,a,f){return f=f!=null?f.concat([o]):null,Pd(4,4,V0.bind(null,a,o),f)}function um(){}function W0(o,a){var f=pn();a=a===void 0?null:a;var _=f.memoizedState;return _!==null&&a!==null&&om(a,_[1])?_[0]:(f.memoizedState=[o,a],o)}function q0(o,a){var f=pn();a=a===void 0?null:a;var _=f.memoizedState;return _!==null&&a!==null&&om(a,_[1])?_[0]:(o=o(),f.memoizedState=[o,a],o)}function G0(o,a,f){return(qo&21)===0?(o.baseState&&(o.baseState=!1,Or=!0),o.memoizedState=f):(Tn(f,a)||(f=xS(),It.lanes|=f,Go|=f,o.baseState=!0),a)}function VI(o,a){var f=gt;gt=f!==0&&4>f?f:4,o(!0);var _=sm.transition;sm.transition={};try{o(!1),a()}finally{gt=f,sm.transition=_}}function K0(){return pn().memoizedState}function HI(o,a,f){var _=vo(o);if(f={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null},X0(o))Y0(a,f);else if(f=E0(o,a,f,_),f!==null){var P=Tr();Dn(f,o,_,P),Q0(f,a,_)}}function WI(o,a,f){var _=vo(o),P={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null};if(X0(o))Y0(a,P);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=a.lastRenderedReducer,D!==null))try{var z=a.lastRenderedState,q=D(z,f);if(P.hasEagerState=!0,P.eagerState=q,Tn(q,z)){var X=a.interleaved;X===null?(P.next=P,Jh(a)):(P.next=X.next,X.next=P),a.interleaved=P;return}}catch{}finally{}f=E0(o,a,P,_),f!==null&&(P=Tr(),Dn(f,o,_,P),Q0(f,a,_))}}function X0(o){var a=o.alternate;return o===It||a!==null&&a===It}function Y0(o,a){wc=Td=!0;var f=o.pending;f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a}function Q0(o,a,f){if((f&4194240)!==0){var _=a.lanes;_&=o.pendingLanes,f|=_,a.lanes=f,ph(o,f)}}var Id={readContext:fn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},qI={readContext:fn,useCallback:function(o,a){return ds().memoizedState=[o,a===void 0?null:a],o},useContext:fn,useEffect:z0,useImperativeHandle:function(o,a,f){return f=f!=null?f.concat([o]):null,kd(4194308,4,V0.bind(null,a,o),f)},useLayoutEffect:function(o,a){return kd(4194308,4,o,a)},useInsertionEffect:function(o,a){return kd(4,2,o,a)},useMemo:function(o,a){var f=ds();return a=a===void 0?null:a,o=o(),f.memoizedState=[o,a],o},useReducer:function(o,a,f){var _=ds();return a=f!==void 0?f(a):a,_.memoizedState=_.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},_.queue=o,o=o.dispatch=HI.bind(null,It,o),[_.memoizedState,o]},useRef:function(o){var a=ds();return o={current:o},a.memoizedState=o},useState:$0,useDebugValue:um,useDeferredValue:function(o){return ds().memoizedState=o},useTransition:function(){var o=$0(!1),a=o[0];return o=VI.bind(null,o[1]),ds().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,f){var _=It,P=ds();if(Et){if(f===void 0)throw Error(r(407));f=f()}else{if(f=a(),nr===null)throw Error(r(349));(qo&30)!==0||M0(_,a,f)}P.memoizedState=f;var D={value:f,getSnapshot:a};return P.queue=D,z0(L0.bind(null,_,D,o),[o]),_.flags|=2048,_c(9,N0.bind(null,_,D,f,a),void 0,null),f},useId:function(){var o=ds(),a=nr.identifierPrefix;if(Et){var f=ks,_=Ts;f=(_&~(1<<32-En(_)-1)).toString(32)+f,a=":"+a+"R"+f,f=Sc++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=UI++,a=":"+a+"r"+f.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},GI={readContext:fn,useCallback:W0,useContext:fn,useEffect:dm,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:U0,useMemo:q0,useReducer:cm,useRef:F0,useState:function(){return cm(bc)},useDebugValue:um,useDeferredValue:function(o){var a=pn();return G0(a,Yt.memoizedState,o)},useTransition:function(){var o=cm(bc)[0],a=pn().memoizedState;return[o,a]},useMutableSource:j0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1},KI={readContext:fn,useCallback:W0,useContext:fn,useEffect:dm,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:U0,useMemo:q0,useReducer:lm,useRef:F0,useState:function(){return lm(bc)},useDebugValue:um,useDeferredValue:function(o){var a=pn();return Yt===null?a.memoizedState=o:G0(a,Yt.memoizedState,o)},useTransition:function(){var o=lm(bc)[0],a=pn().memoizedState;return[o,a]},useMutableSource:j0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1};function Pn(o,a){if(o&&o.defaultProps){a=H({},a),o=o.defaultProps;for(var f in o)a[f]===void 0&&(a[f]=o[f]);return a}return a}function fm(o,a,f,_){a=o.memoizedState,f=f(_,a),f=f==null?a:H({},a,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var jd={isMounted:function(o){return(o=o._reactInternals)?Fo(o)===o:!1},enqueueSetState:function(o,a,f){o=o._reactInternals;var _=Tr(),P=vo(o),D=Is(_,P);D.payload=a,f!=null&&(D.callback=f),a=po(o,D,P),a!==null&&(Dn(a,o,P,_),xd(a,o,P))},enqueueReplaceState:function(o,a,f){o=o._reactInternals;var _=Tr(),P=vo(o),D=Is(_,P);D.tag=1,D.payload=a,f!=null&&(D.callback=f),a=po(o,D,P),a!==null&&(Dn(a,o,P,_),xd(a,o,P))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var f=Tr(),_=vo(o),P=Is(f,_);P.tag=2,a!=null&&(P.callback=a),a=po(o,P,_),a!==null&&(Dn(a,o,_,f),xd(a,o,_))}};function J0(o,a,f,_,P,D,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,D,z):a.prototype&&a.prototype.isPureReactComponent?!cc(f,_)||!cc(P,D):!0}function Z0(o,a,f){var _=!1,P=lo,D=a.contextType;return typeof D=="object"&&D!==null?D=fn(D):(P=Lr(a)?Bo:gr.current,_=a.contextTypes,D=(_=_!=null)?qi(o,P):lo),a=new a(f,D),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=jd,o.stateNode=a,a._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=D),a}function eb(o,a,f,_){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,_),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,_),a.state!==o&&jd.enqueueReplaceState(a,a.state,null)}function pm(o,a,f,_){var P=o.stateNode;P.props=f,P.state=o.memoizedState,P.refs={},Zh(o);var D=a.contextType;typeof D=="object"&&D!==null?P.context=fn(D):(D=Lr(a)?Bo:gr.current,P.context=qi(o,D)),P.state=o.memoizedState,D=a.getDerivedStateFromProps,typeof D=="function"&&(fm(o,a,D,f),P.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(a=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),a!==P.state&&jd.enqueueReplaceState(P,P.state,null),Cd(o,f,P,_),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function ea(o,a){try{var f="",_=a;do f+=Q(_),_=_.return;while(_);var P=f}catch(D){P=`
Error generating stack: `+D.message+`
`+D.stack}return{value:o,source:a,stack:P,digest:null}}function hm(o,a,f){return{value:o,source:null,stack:f??null,digest:a??null}}function mm(o,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var XI=typeof WeakMap=="function"?WeakMap:Map;function tb(o,a,f){f=Is(-1,f),f.tag=3,f.payload={element:null};var _=a.value;return f.callback=function(){$d||($d=!0,Im=_),mm(o,a)},f}function rb(o,a,f){f=Is(-1,f),f.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var P=a.value;f.payload=function(){return _(P)},f.callback=function(){mm(o,a)}}var D=o.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(f.callback=function(){mm(o,a),typeof _!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})}),f}function nb(o,a,f){var _=o.pingCache;if(_===null){_=o.pingCache=new XI;var P=new Set;_.set(a,P)}else P=_.get(a),P===void 0&&(P=new Set,_.set(a,P));P.has(f)||(P.add(f),o=lj.bind(null,o,a,f),a.then(o,o))}function sb(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ob(o,a,f,_,P){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Is(-1,1),a.tag=2,po(f,a,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var YI=g.ReactCurrentOwner,Or=!1;function Er(o,a,f,_){a.child=o===null?R0(a,null,f,_):Yi(a,o.child,f,_)}function ib(o,a,f,_,P){f=f.render;var D=a.ref;return Ji(a,P),_=im(o,a,f,_,D,P),f=am(),o!==null&&!Or?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~P,js(o,a,P)):(Et&&f&&Vh(a),a.flags|=1,Er(o,a,_,P),a.child)}function ab(o,a,f,_,P){if(o===null){var D=f.type;return typeof D=="function"&&!Am(D)&&D.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=D,cb(o,a,D,_,P)):(o=Hd(f.type,null,_,a,a.mode,P),o.ref=a.ref,o.return=a,a.child=o)}if(D=o.child,(o.lanes&P)===0){var z=D.memoizedProps;if(f=f.compare,f=f!==null?f:cc,f(z,_)&&o.ref===a.ref)return js(o,a,P)}return a.flags|=1,o=wo(D,_),o.ref=a.ref,o.return=a,a.child=o}function cb(o,a,f,_,P){if(o!==null){var D=o.memoizedProps;if(cc(D,_)&&o.ref===a.ref)if(Or=!1,a.pendingProps=_=D,(o.lanes&P)!==0)(o.flags&131072)!==0&&(Or=!0);else return a.lanes=o.lanes,js(o,a,P)}return gm(o,a,f,_,P)}function lb(o,a,f){var _=a.pendingProps,P=_.children,D=o!==null?o.memoizedState:null;if(_.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(ra,en),en|=f;else{if((f&1073741824)===0)return o=D!==null?D.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,St(ra,en),en|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=D!==null?D.baseLanes:f,St(ra,en),en|=_}else D!==null?(_=D.baseLanes|f,a.memoizedState=null):_=f,St(ra,en),en|=_;return Er(o,a,P,f),a.child}function db(o,a){var f=a.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function gm(o,a,f,_,P){var D=Lr(f)?Bo:gr.current;return D=qi(a,D),Ji(a,P),f=im(o,a,f,_,D,P),_=am(),o!==null&&!Or?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~P,js(o,a,P)):(Et&&_&&Vh(a),a.flags|=1,Er(o,a,f,P),a.child)}function ub(o,a,f,_,P){if(Lr(f)){var D=!0;md(a)}else D=!1;if(Ji(a,P),a.stateNode===null)Md(o,a),Z0(a,f,_),pm(a,f,_,P),_=!0;else if(o===null){var z=a.stateNode,q=a.memoizedProps;z.props=q;var X=z.context,ee=f.contextType;typeof ee=="object"&&ee!==null?ee=fn(ee):(ee=Lr(f)?Bo:gr.current,ee=qi(a,ee));var ue=f.getDerivedStateFromProps,pe=typeof ue=="function"||typeof z.getSnapshotBeforeUpdate=="function";pe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(q!==_||X!==ee)&&eb(a,z,_,ee),fo=!1;var de=a.memoizedState;z.state=de,Cd(a,_,z,P),X=a.memoizedState,q!==_||de!==X||Nr.current||fo?(typeof ue=="function"&&(fm(a,f,ue,_),X=a.memoizedState),(q=fo||J0(a,f,q,_,de,X,ee))?(pe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(a.flags|=4194308)):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=_,a.memoizedState=X),z.props=_,z.state=X,z.context=ee,_=q):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),_=!1)}else{z=a.stateNode,T0(o,a),q=a.memoizedProps,ee=a.type===a.elementType?q:Pn(a.type,q),z.props=ee,pe=a.pendingProps,de=z.context,X=f.contextType,typeof X=="object"&&X!==null?X=fn(X):(X=Lr(f)?Bo:gr.current,X=qi(a,X));var Re=f.getDerivedStateFromProps;(ue=typeof Re=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(q!==pe||de!==X)&&eb(a,z,_,X),fo=!1,de=a.memoizedState,z.state=de,Cd(a,_,z,P);var Ie=a.memoizedState;q!==pe||de!==Ie||Nr.current||fo?(typeof Re=="function"&&(fm(a,f,Re,_),Ie=a.memoizedState),(ee=fo||J0(a,f,ee,_,de,Ie,X)||!1)?(ue||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(_,Ie,X),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(_,Ie,X)),typeof z.componentDidUpdate=="function"&&(a.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof z.componentDidUpdate!="function"||q===o.memoizedProps&&de===o.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&de===o.memoizedState||(a.flags|=1024),a.memoizedProps=_,a.memoizedState=Ie),z.props=_,z.state=Ie,z.context=X,_=ee):(typeof z.componentDidUpdate!="function"||q===o.memoizedProps&&de===o.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&de===o.memoizedState||(a.flags|=1024),_=!1)}return vm(o,a,f,_,D,P)}function vm(o,a,f,_,P,D){db(o,a);var z=(a.flags&128)!==0;if(!_&&!z)return P&&g0(a,f,!1),js(o,a,D);_=a.stateNode,YI.current=a;var q=z&&typeof f.getDerivedStateFromError!="function"?null:_.render();return a.flags|=1,o!==null&&z?(a.child=Yi(a,o.child,null,D),a.child=Yi(a,null,q,D)):Er(o,a,q,D),a.memoizedState=_.state,P&&g0(a,f,!0),a.child}function fb(o){var a=o.stateNode;a.pendingContext?h0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&h0(o,a.context,!1),em(o,a.containerInfo)}function pb(o,a,f,_,P){return Xi(),Gh(P),a.flags|=256,Er(o,a,f,_),a.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function wm(o){return{baseLanes:o,cachePool:null,transitions:null}}function hb(o,a,f){var _=a.pendingProps,P=Pt.current,D=!1,z=(a.flags&128)!==0,q;if((q=z)||(q=o!==null&&o.memoizedState===null?!1:(P&2)!==0),q?(D=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),St(Pt,P&1),o===null)return qh(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(z=_.children,o=_.fallback,D?(_=a.mode,D=a.child,z={mode:"hidden",children:z},(_&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=z):D=Wd(z,_,0,null),o=Qo(o,_,f,null),D.return=a,o.return=a,D.sibling=o,a.child=D,a.child.memoizedState=wm(f),a.memoizedState=ym,o):Sm(a,z));if(P=o.memoizedState,P!==null&&(q=P.dehydrated,q!==null))return QI(o,a,z,_,q,P,f);if(D){D=_.fallback,z=a.mode,P=o.child,q=P.sibling;var X={mode:"hidden",children:_.children};return(z&1)===0&&a.child!==P?(_=a.child,_.childLanes=0,_.pendingProps=X,a.deletions=null):(_=wo(P,X),_.subtreeFlags=P.subtreeFlags&14680064),q!==null?D=wo(q,D):(D=Qo(D,z,f,null),D.flags|=2),D.return=a,_.return=a,_.sibling=D,a.child=_,_=D,D=a.child,z=o.child.memoizedState,z=z===null?wm(f):{baseLanes:z.baseLanes|f,cachePool:null,transitions:z.transitions},D.memoizedState=z,D.childLanes=o.childLanes&~f,a.memoizedState=ym,_}return D=o.child,o=D.sibling,_=wo(D,{mode:"visible",children:_.children}),(a.mode&1)===0&&(_.lanes=f),_.return=a,_.sibling=null,o!==null&&(f=a.deletions,f===null?(a.deletions=[o],a.flags|=16):f.push(o)),a.child=_,a.memoizedState=null,_}function Sm(o,a){return a=Wd({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Dd(o,a,f,_){return _!==null&&Gh(_),Yi(a,o.child,null,f),o=Sm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function QI(o,a,f,_,P,D,z){if(f)return a.flags&256?(a.flags&=-257,_=hm(Error(r(422))),Dd(o,a,z,_)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(D=_.fallback,P=a.mode,_=Wd({mode:"visible",children:_.children},P,0,null),D=Qo(D,P,z,null),D.flags|=2,_.return=a,D.return=a,_.sibling=D,a.child=_,(a.mode&1)!==0&&Yi(a,o.child,null,z),a.child.memoizedState=wm(z),a.memoizedState=ym,D);if((a.mode&1)===0)return Dd(o,a,z,null);if(P.data==="$!"){if(_=P.nextSibling&&P.nextSibling.dataset,_)var q=_.dgst;return _=q,D=Error(r(419)),_=hm(D,_,void 0),Dd(o,a,z,_)}if(q=(z&o.childLanes)!==0,Or||q){if(_=nr,_!==null){switch(z&-z){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(_.suspendedLanes|z))!==0?0:P,P!==0&&P!==D.retryLane&&(D.retryLane=P,Ps(o,P),Dn(_,o,P,-1))}return Om(),_=hm(Error(r(421))),Dd(o,a,z,_)}return P.data==="$?"?(a.flags|=128,a.child=o.child,a=dj.bind(null,o),P._reactRetry=a,null):(o=D.treeContext,Zr=ao(P.nextSibling),Jr=a,Et=!0,kn=null,o!==null&&(dn[un++]=Ts,dn[un++]=ks,dn[un++]=Uo,Ts=o.id,ks=o.overflow,Uo=a),a=Sm(a,_.children),a.flags|=4096,a)}function mb(o,a,f){o.lanes|=a;var _=o.alternate;_!==null&&(_.lanes|=a),Qh(o.return,a,f)}function bm(o,a,f,_,P){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:_,tail:f,tailMode:P}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=_,D.tail=f,D.tailMode=P)}function gb(o,a,f){var _=a.pendingProps,P=_.revealOrder,D=_.tail;if(Er(o,a,_.children,f),_=Pt.current,(_&2)!==0)_=_&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mb(o,f,a);else if(o.tag===19)mb(o,f,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if(St(Pt,_),(a.mode&1)===0)a.memoizedState=null;else switch(P){case"forwards":for(f=a.child,P=null;f!==null;)o=f.alternate,o!==null&&Rd(o)===null&&(P=f),f=f.sibling;f=P,f===null?(P=a.child,a.child=null):(P=f.sibling,f.sibling=null),bm(a,!1,P,f,D);break;case"backwards":for(f=null,P=a.child,a.child=null;P!==null;){if(o=P.alternate,o!==null&&Rd(o)===null){a.child=P;break}o=P.sibling,P.sibling=f,f=P,P=o}bm(a,!0,f,null,D);break;case"together":bm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Md(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function js(o,a,f){if(o!==null&&(a.dependencies=o.dependencies),Go|=a.lanes,(f&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,f=wo(o,o.pendingProps),a.child=f,f.return=a;o.sibling!==null;)o=o.sibling,f=f.sibling=wo(o,o.pendingProps),f.return=a;f.sibling=null}return a.child}function JI(o,a,f){switch(a.tag){case 3:fb(a),Xi();break;case 5:I0(a);break;case 1:Lr(a.type)&&md(a);break;case 4:em(a,a.stateNode.containerInfo);break;case 10:var _=a.type._context,P=a.memoizedProps.value;St(bd,_._currentValue),_._currentValue=P;break;case 13:if(_=a.memoizedState,_!==null)return _.dehydrated!==null?(St(Pt,Pt.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?hb(o,a,f):(St(Pt,Pt.current&1),o=js(o,a,f),o!==null?o.sibling:null);St(Pt,Pt.current&1);break;case 19:if(_=(f&a.childLanes)!==0,(o.flags&128)!==0){if(_)return gb(o,a,f);a.flags|=128}if(P=a.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),St(Pt,Pt.current),_)break;return null;case 22:case 23:return a.lanes=0,lb(o,a,f)}return js(o,a,f)}var vb,_m,yb,wb;vb=function(o,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},_m=function(){},yb=function(o,a,f,_){var P=o.memoizedProps;if(P!==_){o=a.stateNode,Wo(ls.current);var D=null;switch(f){case"input":P=tt(o,P),_=tt(o,_),D=[];break;case"select":P=H({},P,{value:void 0}),_=H({},_,{value:void 0}),D=[];break;case"textarea":P=Be(o,P),_=Be(o,_),D=[];break;default:typeof P.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=fd)}Ni(f,_);var z;f=null;for(ee in P)if(!_.hasOwnProperty(ee)&&P.hasOwnProperty(ee)&&P[ee]!=null)if(ee==="style"){var q=P[ee];for(z in q)q.hasOwnProperty(z)&&(f||(f={}),f[z]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?D||(D=[]):(D=D||[]).push(ee,null));for(ee in _){var X=_[ee];if(q=P!=null?P[ee]:void 0,_.hasOwnProperty(ee)&&X!==q&&(X!=null||q!=null))if(ee==="style")if(q){for(z in q)!q.hasOwnProperty(z)||X&&X.hasOwnProperty(z)||(f||(f={}),f[z]="");for(z in X)X.hasOwnProperty(z)&&q[z]!==X[z]&&(f||(f={}),f[z]=X[z])}else f||(D||(D=[]),D.push(ee,f)),f=X;else ee==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,q=q?q.__html:void 0,X!=null&&q!==X&&(D=D||[]).push(ee,X)):ee==="children"?typeof X!="string"&&typeof X!="number"||(D=D||[]).push(ee,""+X):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(X!=null&&ee==="onScroll"&&_t("scroll",o),D||q===X||(D=[])):(D=D||[]).push(ee,X))}f&&(D=D||[]).push("style",f);var ee=D;(a.updateQueue=ee)&&(a.flags|=4)}},wb=function(o,a,f,_){f!==_&&(a.flags|=4)};function xc(o,a){if(!Et)switch(o.tailMode){case"hidden":a=o.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function yr(o){var a=o.alternate!==null&&o.alternate.child===o.child,f=0,_=0;if(a)for(var P=o.child;P!==null;)f|=P.lanes|P.childLanes,_|=P.subtreeFlags&14680064,_|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)f|=P.lanes|P.childLanes,_|=P.subtreeFlags,_|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=_,o.childLanes=f,a}function ZI(o,a,f){var _=a.pendingProps;switch(Hh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(a),null;case 1:return Lr(a.type)&&hd(),yr(a),null;case 3:return _=a.stateNode,Zi(),xt(Nr),xt(gr),nm(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(wd(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kn!==null&&(Mm(kn),kn=null))),_m(o,a),yr(a),null;case 5:tm(a);var P=Wo(yc.current);if(f=a.type,o!==null&&a.stateNode!=null)yb(o,a,f,_,P),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!_){if(a.stateNode===null)throw Error(r(166));return yr(a),null}if(o=Wo(ls.current),wd(a)){_=a.stateNode,f=a.type;var D=a.memoizedProps;switch(_[cs]=a,_[pc]=D,o=(a.mode&1)!==0,f){case"dialog":_t("cancel",_),_t("close",_);break;case"iframe":case"object":case"embed":_t("load",_);break;case"video":case"audio":for(P=0;P<dc.length;P++)_t(dc[P],_);break;case"source":_t("error",_);break;case"img":case"image":case"link":_t("error",_),_t("load",_);break;case"details":_t("toggle",_);break;case"input":dt(_,D),_t("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!D.multiple},_t("invalid",_);break;case"textarea":qe(_,D),_t("invalid",_)}Ni(f,D),P=null;for(var z in D)if(D.hasOwnProperty(z)){var q=D[z];z==="children"?typeof q=="string"?_.textContent!==q&&(D.suppressHydrationWarning!==!0&&ud(_.textContent,q,o),P=["children",q]):typeof q=="number"&&_.textContent!==""+q&&(D.suppressHydrationWarning!==!0&&ud(_.textContent,q,o),P=["children",""+q]):s.hasOwnProperty(z)&&q!=null&&z==="onScroll"&&_t("scroll",_)}switch(f){case"input":Ae(_),_e(_,D,!0);break;case"textarea":Ae(_),De(_);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(_.onclick=fd)}_=P,a.updateQueue=_,_!==null&&(a.flags|=4)}else{z=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ke(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=z.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=z.createElement(f,{is:_.is}):(o=z.createElement(f),f==="select"&&(z=o,_.multiple?z.multiple=!0:_.size&&(z.size=_.size))):o=z.createElementNS(o,f),o[cs]=a,o[pc]=_,vb(o,a,!1,!1),a.stateNode=o;e:{switch(z=nh(f,_),f){case"dialog":_t("cancel",o),_t("close",o),P=_;break;case"iframe":case"object":case"embed":_t("load",o),P=_;break;case"video":case"audio":for(P=0;P<dc.length;P++)_t(dc[P],o);P=_;break;case"source":_t("error",o),P=_;break;case"img":case"image":case"link":_t("error",o),_t("load",o),P=_;break;case"details":_t("toggle",o),P=_;break;case"input":dt(o,_),P=tt(o,_),_t("invalid",o);break;case"option":P=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},P=H({},_,{value:void 0}),_t("invalid",o);break;case"textarea":qe(o,_),P=Be(o,_),_t("invalid",o);break;default:P=_}Ni(f,P),q=P;for(D in q)if(q.hasOwnProperty(D)){var X=q[D];D==="style"?kt(o,X):D==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Ye(o,X)):D==="children"?typeof X=="string"?(f!=="textarea"||X!=="")&&ft(o,X):typeof X=="number"&&ft(o,""+X):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(s.hasOwnProperty(D)?X!=null&&D==="onScroll"&&_t("scroll",o):X!=null&&h(o,D,X,z))}switch(f){case"input":Ae(o),_e(o,_,!1);break;case"textarea":Ae(o),De(o);break;case"option":_.value!=null&&o.setAttribute("value",""+ce(_.value));break;case"select":o.multiple=!!_.multiple,D=_.value,D!=null?Ue(o,!!_.multiple,D,!1):_.defaultValue!=null&&Ue(o,!!_.multiple,_.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=fd)}switch(f){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return yr(a),null;case 6:if(o&&a.stateNode!=null)wb(o,a,o.memoizedProps,_);else{if(typeof _!="string"&&a.stateNode===null)throw Error(r(166));if(f=Wo(yc.current),Wo(ls.current),wd(a)){if(_=a.stateNode,f=a.memoizedProps,_[cs]=a,(D=_.nodeValue!==f)&&(o=Jr,o!==null))switch(o.tag){case 3:ud(_.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ud(_.nodeValue,f,(o.mode&1)!==0)}D&&(a.flags|=4)}else _=(f.nodeType===9?f:f.ownerDocument).createTextNode(_),_[cs]=a,a.stateNode=_}return yr(a),null;case 13:if(xt(Pt),_=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Et&&Zr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)_0(),Xi(),a.flags|=98560,D=!1;else if(D=wd(a),_!==null&&_.dehydrated!==null){if(o===null){if(!D)throw Error(r(318));if(D=a.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[cs]=a}else Xi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yr(a),D=!1}else kn!==null&&(Mm(kn),kn=null),D=!0;if(!D)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Pt.current&1)!==0?Qt===0&&(Qt=3):Om())),a.updateQueue!==null&&(a.flags|=4),yr(a),null);case 4:return Zi(),_m(o,a),o===null&&uc(a.stateNode.containerInfo),yr(a),null;case 10:return Yh(a.type._context),yr(a),null;case 17:return Lr(a.type)&&hd(),yr(a),null;case 19:if(xt(Pt),D=a.memoizedState,D===null)return yr(a),null;if(_=(a.flags&128)!==0,z=D.rendering,z===null)if(_)xc(D,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(z=Rd(o),z!==null){for(a.flags|=128,xc(D,!1),_=z.updateQueue,_!==null&&(a.updateQueue=_,a.flags|=4),a.subtreeFlags=0,_=f,f=a.child;f!==null;)D=f,o=_,D.flags&=14680066,z=D.alternate,z===null?(D.childLanes=0,D.lanes=o,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=z.childLanes,D.lanes=z.lanes,D.child=z.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=z.memoizedProps,D.memoizedState=z.memoizedState,D.updateQueue=z.updateQueue,D.type=z.type,o=z.dependencies,D.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return St(Pt,Pt.current&1|2),a.child}o=o.sibling}D.tail!==null&&Ft()>na&&(a.flags|=128,_=!0,xc(D,!1),a.lanes=4194304)}else{if(!_)if(o=Rd(z),o!==null){if(a.flags|=128,_=!0,f=o.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),xc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!z.alternate&&!Et)return yr(a),null}else 2*Ft()-D.renderingStartTime>na&&f!==1073741824&&(a.flags|=128,_=!0,xc(D,!1),a.lanes=4194304);D.isBackwards?(z.sibling=a.child,a.child=z):(f=D.last,f!==null?f.sibling=z:a.child=z,D.last=z)}return D.tail!==null?(a=D.tail,D.rendering=a,D.tail=a.sibling,D.renderingStartTime=Ft(),a.sibling=null,f=Pt.current,St(Pt,_?f&1|2:f&1),a):(yr(a),null);case 22:case 23:return Lm(),_=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(a.flags|=8192),_&&(a.mode&1)!==0?(en&1073741824)!==0&&(yr(a),a.subtreeFlags&6&&(a.flags|=8192)):yr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function ej(o,a){switch(Hh(a),a.tag){case 1:return Lr(a.type)&&hd(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Zi(),xt(Nr),xt(gr),nm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return tm(a),null;case 13:if(xt(Pt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Xi()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return xt(Pt),null;case 4:return Zi(),null;case 10:return Yh(a.type._context),null;case 22:case 23:return Lm(),null;case 24:return null;default:return null}}var Nd=!1,wr=!1,tj=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ta(o,a){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(_){Ot(o,a,_)}else f.current=null}function xm(o,a,f){try{f()}catch(_){Ot(o,a,_)}}var Sb=!1;function rj(o,a){if(Lh=ed,o=JS(),Th(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var _=f.getSelection&&f.getSelection();if(_&&_.rangeCount!==0){f=_.anchorNode;var P=_.anchorOffset,D=_.focusNode;_=_.focusOffset;try{f.nodeType,D.nodeType}catch{f=null;break e}var z=0,q=-1,X=-1,ee=0,ue=0,pe=o,de=null;t:for(;;){for(var Re;pe!==f||P!==0&&pe.nodeType!==3||(q=z+P),pe!==D||_!==0&&pe.nodeType!==3||(X=z+_),pe.nodeType===3&&(z+=pe.nodeValue.length),(Re=pe.firstChild)!==null;)de=pe,pe=Re;for(;;){if(pe===o)break t;if(de===f&&++ee===P&&(q=z),de===D&&++ue===_&&(X=z),(Re=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Re}f=q===-1||X===-1?null:{start:q,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Oh={focusedElem:o,selectionRange:f},ed=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var je=Ie.memoizedProps,zt=Ie.memoizedState,J=a.stateNode,Y=J.getSnapshotBeforeUpdate(a.elementType===a.type?je:Pn(a.type,je),zt);J.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){Ot(a,a.return,me)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Ie=Sb,Sb=!1,Ie}function Cc(o,a,f){var _=a.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var P=_=_.next;do{if((P.tag&o)===o){var D=P.destroy;P.destroy=void 0,D!==void 0&&xm(a,f,D)}P=P.next}while(P!==_)}}function Ld(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&o)===o){var _=f.create;f.destroy=_()}f=f.next}while(f!==a)}}function Cm(o){var a=o.ref;if(a!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof a=="function"?a(o):a.current=o}}function bb(o){var a=o.alternate;a!==null&&(o.alternate=null,bb(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[cs],delete a[pc],delete a[zh],delete a[$I],delete a[FI])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _b(o){return o.tag===5||o.tag===3||o.tag===4}function xb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_b(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Rm(o,a,f){var _=o.tag;if(_===5||_===6)o=o.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(o,a):f.insertBefore(o,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(o,f)):(a=f,a.appendChild(o)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=fd));else if(_!==4&&(o=o.child,o!==null))for(Rm(o,a,f),o=o.sibling;o!==null;)Rm(o,a,f),o=o.sibling}function Em(o,a,f){var _=o.tag;if(_===5||_===6)o=o.stateNode,a?f.insertBefore(o,a):f.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(Em(o,a,f),o=o.sibling;o!==null;)Em(o,a,f),o=o.sibling}var ar=null,In=!1;function ho(o,a,f){for(f=f.child;f!==null;)Cb(o,a,f),f=f.sibling}function Cb(o,a,f){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Kl,f)}catch{}switch(f.tag){case 5:wr||ta(f,a);case 6:var _=ar,P=In;ar=null,ho(o,a,f),ar=_,In=P,ar!==null&&(In?(o=ar,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):ar.removeChild(f.stateNode));break;case 18:ar!==null&&(In?(o=ar,f=f.stateNode,o.nodeType===8?Fh(o.parentNode,f):o.nodeType===1&&Fh(o,f),rc(o)):Fh(ar,f.stateNode));break;case 4:_=ar,P=In,ar=f.stateNode.containerInfo,In=!0,ho(o,a,f),ar=_,In=P;break;case 0:case 11:case 14:case 15:if(!wr&&(_=f.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){P=_=_.next;do{var D=P,z=D.destroy;D=D.tag,z!==void 0&&((D&2)!==0||(D&4)!==0)&&xm(f,a,z),P=P.next}while(P!==_)}ho(o,a,f);break;case 1:if(!wr&&(ta(f,a),_=f.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=f.memoizedProps,_.state=f.memoizedState,_.componentWillUnmount()}catch(q){Ot(f,a,q)}ho(o,a,f);break;case 21:ho(o,a,f);break;case 22:f.mode&1?(wr=(_=wr)||f.memoizedState!==null,ho(o,a,f),wr=_):ho(o,a,f);break;default:ho(o,a,f)}}function Rb(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new tj),a.forEach(function(_){var P=uj.bind(null,o,_);f.has(_)||(f.add(_),_.then(P,P))})}}function jn(o,a){var f=a.deletions;if(f!==null)for(var _=0;_<f.length;_++){var P=f[_];try{var D=o,z=a,q=z;e:for(;q!==null;){switch(q.tag){case 5:ar=q.stateNode,In=!1;break e;case 3:ar=q.stateNode.containerInfo,In=!0;break e;case 4:ar=q.stateNode.containerInfo,In=!0;break e}q=q.return}if(ar===null)throw Error(r(160));Cb(D,z,P),ar=null,In=!1;var X=P.alternate;X!==null&&(X.return=null),P.return=null}catch(ee){Ot(P,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Eb(a,o),a=a.sibling}function Eb(o,a){var f=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(jn(a,o),us(o),_&4){try{Cc(3,o,o.return),Ld(3,o)}catch(je){Ot(o,o.return,je)}try{Cc(5,o,o.return)}catch(je){Ot(o,o.return,je)}}break;case 1:jn(a,o),us(o),_&512&&f!==null&&ta(f,f.return);break;case 5:if(jn(a,o),us(o),_&512&&f!==null&&ta(f,f.return),o.flags&32){var P=o.stateNode;try{ft(P,"")}catch(je){Ot(o,o.return,je)}}if(_&4&&(P=o.stateNode,P!=null)){var D=o.memoizedProps,z=f!==null?f.memoizedProps:D,q=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{q==="input"&&D.type==="radio"&&D.name!=null&&mt(P,D),nh(q,z);var ee=nh(q,D);for(z=0;z<X.length;z+=2){var ue=X[z],pe=X[z+1];ue==="style"?kt(P,pe):ue==="dangerouslySetInnerHTML"?Ye(P,pe):ue==="children"?ft(P,pe):h(P,ue,pe,ee)}switch(q){case"input":he(P,D);break;case"textarea":ge(P,D);break;case"select":var de=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!D.multiple;var Re=D.value;Re!=null?Ue(P,!!D.multiple,Re,!1):de!==!!D.multiple&&(D.defaultValue!=null?Ue(P,!!D.multiple,D.defaultValue,!0):Ue(P,!!D.multiple,D.multiple?[]:"",!1))}P[pc]=D}catch(je){Ot(o,o.return,je)}}break;case 6:if(jn(a,o),us(o),_&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,D=o.memoizedProps;try{P.nodeValue=D}catch(je){Ot(o,o.return,je)}}break;case 3:if(jn(a,o),us(o),_&4&&f!==null&&f.memoizedState.isDehydrated)try{rc(a.containerInfo)}catch(je){Ot(o,o.return,je)}break;case 4:jn(a,o),us(o);break;case 13:jn(a,o),us(o),P=o.child,P.flags&8192&&(D=P.memoizedState!==null,P.stateNode.isHidden=D,!D||P.alternate!==null&&P.alternate.memoizedState!==null||(Pm=Ft())),_&4&&Rb(o);break;case 22:if(ue=f!==null&&f.memoizedState!==null,o.mode&1?(wr=(ee=wr)||ue,jn(a,o),wr=ee):jn(a,o),us(o),_&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!ue&&(o.mode&1)!==0)for(Te=o,ue=o.child;ue!==null;){for(pe=Te=ue;Te!==null;){switch(de=Te,Re=de.child,de.tag){case 0:case 11:case 14:case 15:Cc(4,de,de.return);break;case 1:ta(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){_=de,f=de.return;try{a=_,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(je){Ot(_,f,je)}}break;case 5:ta(de,de.return);break;case 22:if(de.memoizedState!==null){Pb(pe);continue}}Re!==null?(Re.return=de,Te=Re):Pb(pe)}ue=ue.sibling}e:for(ue=null,pe=o;;){if(pe.tag===5){if(ue===null){ue=pe;try{P=pe.stateNode,ee?(D=P.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(q=pe.stateNode,X=pe.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null,q.style.display=Me("display",z))}catch(je){Ot(o,o.return,je)}}}else if(pe.tag===6){if(ue===null)try{pe.stateNode.nodeValue=ee?"":pe.memoizedProps}catch(je){Ot(o,o.return,je)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===o)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===o)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===o)break e;ue===pe&&(ue=null),pe=pe.return}ue===pe&&(ue=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:jn(a,o),us(o),_&4&&Rb(o);break;case 21:break;default:jn(a,o),us(o)}}function us(o){var a=o.flags;if(a&2){try{e:{for(var f=o.return;f!==null;){if(_b(f)){var _=f;break e}f=f.return}throw Error(r(160))}switch(_.tag){case 5:var P=_.stateNode;_.flags&32&&(ft(P,""),_.flags&=-33);var D=xb(o);Em(o,D,P);break;case 3:case 4:var z=_.stateNode.containerInfo,q=xb(o);Rm(o,q,z);break;default:throw Error(r(161))}}catch(X){Ot(o,o.return,X)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function nj(o,a,f){Te=o,Tb(o)}function Tb(o,a,f){for(var _=(o.mode&1)!==0;Te!==null;){var P=Te,D=P.child;if(P.tag===22&&_){var z=P.memoizedState!==null||Nd;if(!z){var q=P.alternate,X=q!==null&&q.memoizedState!==null||wr;q=Nd;var ee=wr;if(Nd=z,(wr=X)&&!ee)for(Te=P;Te!==null;)z=Te,X=z.child,z.tag===22&&z.memoizedState!==null?Ib(P):X!==null?(X.return=z,Te=X):Ib(P);for(;D!==null;)Te=D,Tb(D),D=D.sibling;Te=P,Nd=q,wr=ee}kb(o)}else(P.subtreeFlags&8772)!==0&&D!==null?(D.return=P,Te=D):kb(o)}}function kb(o){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:wr||Ld(5,a);break;case 1:var _=a.stateNode;if(a.flags&4&&!wr)if(f===null)_.componentDidMount();else{var P=a.elementType===a.type?f.memoizedProps:Pn(a.type,f.memoizedProps);_.componentDidUpdate(P,f.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var D=a.updateQueue;D!==null&&P0(a,D,_);break;case 3:var z=a.updateQueue;if(z!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}P0(a,z,f)}break;case 5:var q=a.stateNode;if(f===null&&a.flags&4){f=q;var X=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&f.focus();break;case"img":X.src&&(f.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var pe=ue.dehydrated;pe!==null&&rc(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wr||a.flags&512&&Cm(a)}catch(de){Ot(a,a.return,de)}}if(a===o){Te=null;break}if(f=a.sibling,f!==null){f.return=a.return,Te=f;break}Te=a.return}}function Pb(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var f=a.sibling;if(f!==null){f.return=a.return,Te=f;break}Te=a.return}}function Ib(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{Ld(4,a)}catch(X){Ot(a,f,X)}break;case 1:var _=a.stateNode;if(typeof _.componentDidMount=="function"){var P=a.return;try{_.componentDidMount()}catch(X){Ot(a,P,X)}}var D=a.return;try{Cm(a)}catch(X){Ot(a,D,X)}break;case 5:var z=a.return;try{Cm(a)}catch(X){Ot(a,z,X)}}}catch(X){Ot(a,a.return,X)}if(a===o){Te=null;break}var q=a.sibling;if(q!==null){q.return=a.return,Te=q;break}Te=a.return}}var sj=Math.ceil,Od=g.ReactCurrentDispatcher,Tm=g.ReactCurrentOwner,hn=g.ReactCurrentBatchConfig,ut=0,nr=null,Ht=null,cr=0,en=0,ra=co(0),Qt=0,Rc=null,Go=0,Ad=0,km=0,Ec=null,Ar=null,Pm=0,na=1/0,Ds=null,$d=!1,Im=null,mo=null,Fd=!1,go=null,zd=0,Tc=0,jm=null,Bd=-1,Ud=0;function Tr(){return(ut&6)!==0?Ft():Bd!==-1?Bd:Bd=Ft()}function vo(o){return(o.mode&1)===0?1:(ut&2)!==0&&cr!==0?cr&-cr:BI.transition!==null?(Ud===0&&(Ud=xS()),Ud):(o=gt,o!==0||(o=window.event,o=o===void 0?16:DS(o.type)),o)}function Dn(o,a,f,_){if(50<Tc)throw Tc=0,jm=null,Error(r(185));Qa(o,f,_),((ut&2)===0||o!==nr)&&(o===nr&&((ut&2)===0&&(Ad|=f),Qt===4&&yo(o,cr)),$r(o,_),f===1&&ut===0&&(a.mode&1)===0&&(na=Ft()+500,gd&&uo()))}function $r(o,a){var f=o.callbackNode;BP(o,a);var _=Ql(o,o===nr?cr:0);if(_===0)f!==null&&SS(f),o.callbackNode=null,o.callbackPriority=0;else if(a=_&-_,o.callbackPriority!==a){if(f!=null&&SS(f),a===1)o.tag===0?zI(Db.bind(null,o)):v0(Db.bind(null,o)),OI(function(){(ut&6)===0&&uo()}),f=null;else{switch(CS(_)){case 1:f=dh;break;case 4:f=bS;break;case 16:f=Gl;break;case 536870912:f=_S;break;default:f=Gl}f=zb(f,jb.bind(null,o))}o.callbackPriority=a,o.callbackNode=f}}function jb(o,a){if(Bd=-1,Ud=0,(ut&6)!==0)throw Error(r(327));var f=o.callbackNode;if(sa()&&o.callbackNode!==f)return null;var _=Ql(o,o===nr?cr:0);if(_===0)return null;if((_&30)!==0||(_&o.expiredLanes)!==0||a)a=Vd(o,_);else{a=_;var P=ut;ut|=2;var D=Nb();(nr!==o||cr!==a)&&(Ds=null,na=Ft()+500,Xo(o,a));do try{aj();break}catch(q){Mb(o,q)}while(!0);Xh(),Od.current=D,ut=P,Ht!==null?a=0:(nr=null,cr=0,a=Qt)}if(a!==0){if(a===2&&(P=uh(o),P!==0&&(_=P,a=Dm(o,P))),a===1)throw f=Rc,Xo(o,0),yo(o,_),$r(o,Ft()),f;if(a===6)yo(o,_);else{if(P=o.current.alternate,(_&30)===0&&!oj(P)&&(a=Vd(o,_),a===2&&(D=uh(o),D!==0&&(_=D,a=Dm(o,D))),a===1))throw f=Rc,Xo(o,0),yo(o,_),$r(o,Ft()),f;switch(o.finishedWork=P,o.finishedLanes=_,a){case 0:case 1:throw Error(r(345));case 2:Yo(o,Ar,Ds);break;case 3:if(yo(o,_),(_&130023424)===_&&(a=Pm+500-Ft(),10<a)){if(Ql(o,0)!==0)break;if(P=o.suspendedLanes,(P&_)!==_){Tr(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=$h(Yo.bind(null,o,Ar,Ds),a);break}Yo(o,Ar,Ds);break;case 4:if(yo(o,_),(_&4194240)===_)break;for(a=o.eventTimes,P=-1;0<_;){var z=31-En(_);D=1<<z,z=a[z],z>P&&(P=z),_&=~D}if(_=P,_=Ft()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*sj(_/1960))-_,10<_){o.timeoutHandle=$h(Yo.bind(null,o,Ar,Ds),_);break}Yo(o,Ar,Ds);break;case 5:Yo(o,Ar,Ds);break;default:throw Error(r(329))}}}return $r(o,Ft()),o.callbackNode===f?jb.bind(null,o):null}function Dm(o,a){var f=Ec;return o.current.memoizedState.isDehydrated&&(Xo(o,a).flags|=256),o=Vd(o,a),o!==2&&(a=Ar,Ar=f,a!==null&&Mm(a)),o}function Mm(o){Ar===null?Ar=o:Ar.push.apply(Ar,o)}function oj(o){for(var a=o;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var _=0;_<f.length;_++){var P=f[_],D=P.getSnapshot;P=P.value;try{if(!Tn(D(),P))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yo(o,a){for(a&=~km,a&=~Ad,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var f=31-En(a),_=1<<f;o[f]=-1,a&=~_}}function Db(o){if((ut&6)!==0)throw Error(r(327));sa();var a=Ql(o,0);if((a&1)===0)return $r(o,Ft()),null;var f=Vd(o,a);if(o.tag!==0&&f===2){var _=uh(o);_!==0&&(a=_,f=Dm(o,_))}if(f===1)throw f=Rc,Xo(o,0),yo(o,a),$r(o,Ft()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Yo(o,Ar,Ds),$r(o,Ft()),null}function Nm(o,a){var f=ut;ut|=1;try{return o(a)}finally{ut=f,ut===0&&(na=Ft()+500,gd&&uo())}}function Ko(o){go!==null&&go.tag===0&&(ut&6)===0&&sa();var a=ut;ut|=1;var f=hn.transition,_=gt;try{if(hn.transition=null,gt=1,o)return o()}finally{gt=_,hn.transition=f,ut=a,(ut&6)===0&&uo()}}function Lm(){en=ra.current,xt(ra)}function Xo(o,a){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,LI(f)),Ht!==null)for(f=Ht.return;f!==null;){var _=f;switch(Hh(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&hd();break;case 3:Zi(),xt(Nr),xt(gr),nm();break;case 5:tm(_);break;case 4:Zi();break;case 13:xt(Pt);break;case 19:xt(Pt);break;case 10:Yh(_.type._context);break;case 22:case 23:Lm()}f=f.return}if(nr=o,Ht=o=wo(o.current,null),cr=en=a,Qt=0,Rc=null,km=Ad=Go=0,Ar=Ec=null,Ho!==null){for(a=0;a<Ho.length;a++)if(f=Ho[a],_=f.interleaved,_!==null){f.interleaved=null;var P=_.next,D=f.pending;if(D!==null){var z=D.next;D.next=P,_.next=z}f.pending=_}Ho=null}return o}function Mb(o,a){do{var f=Ht;try{if(Xh(),Ed.current=Id,Td){for(var _=It.memoizedState;_!==null;){var P=_.queue;P!==null&&(P.pending=null),_=_.next}Td=!1}if(qo=0,rr=Yt=It=null,wc=!1,Sc=0,Tm.current=null,f===null||f.return===null){Qt=1,Rc=a,Ht=null;break}e:{var D=o,z=f.return,q=f,X=a;if(a=cr,q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ee=X,ue=q,pe=ue.tag;if((ue.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=ue.alternate;de?(ue.updateQueue=de.updateQueue,ue.memoizedState=de.memoizedState,ue.lanes=de.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Re=sb(z);if(Re!==null){Re.flags&=-257,ob(Re,z,q,D,a),Re.mode&1&&nb(D,ee,a),a=Re,X=ee;var Ie=a.updateQueue;if(Ie===null){var je=new Set;je.add(X),a.updateQueue=je}else Ie.add(X);break e}else{if((a&1)===0){nb(D,ee,a),Om();break e}X=Error(r(426))}}else if(Et&&q.mode&1){var zt=sb(z);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),ob(zt,z,q,D,a),Gh(ea(X,q));break e}}D=X=ea(X,q),Qt!==4&&(Qt=2),Ec===null?Ec=[D]:Ec.push(D),D=z;do{switch(D.tag){case 3:D.flags|=65536,a&=-a,D.lanes|=a;var J=tb(D,X,a);k0(D,J);break e;case 1:q=X;var Y=D.type,Z=D.stateNode;if((D.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(mo===null||!mo.has(Z)))){D.flags|=65536,a&=-a,D.lanes|=a;var me=rb(D,q,a);k0(D,me);break e}}D=D.return}while(D!==null)}Ob(f)}catch(Ne){a=Ne,Ht===f&&f!==null&&(Ht=f=f.return);continue}break}while(!0)}function Nb(){var o=Od.current;return Od.current=Id,o===null?Id:o}function Om(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),nr===null||(Go&268435455)===0&&(Ad&268435455)===0||yo(nr,cr)}function Vd(o,a){var f=ut;ut|=2;var _=Nb();(nr!==o||cr!==a)&&(Ds=null,Xo(o,a));do try{ij();break}catch(P){Mb(o,P)}while(!0);if(Xh(),ut=f,Od.current=_,Ht!==null)throw Error(r(261));return nr=null,cr=0,Qt}function ij(){for(;Ht!==null;)Lb(Ht)}function aj(){for(;Ht!==null&&!DP();)Lb(Ht)}function Lb(o){var a=Fb(o.alternate,o,en);o.memoizedProps=o.pendingProps,a===null?Ob(o):Ht=a,Tm.current=null}function Ob(o){var a=o;do{var f=a.alternate;if(o=a.return,(a.flags&32768)===0){if(f=ZI(f,a,en),f!==null){Ht=f;return}}else{if(f=ej(f,a),f!==null){f.flags&=32767,Ht=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Qt=6,Ht=null;return}}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=o}while(a!==null);Qt===0&&(Qt=5)}function Yo(o,a,f){var _=gt,P=hn.transition;try{hn.transition=null,gt=1,cj(o,a,f,_)}finally{hn.transition=P,gt=_}return null}function cj(o,a,f,_){do sa();while(go!==null);if((ut&6)!==0)throw Error(r(327));f=o.finishedWork;var P=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var D=f.lanes|f.childLanes;if(UP(o,D),o===nr&&(Ht=nr=null,cr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Fd||(Fd=!0,zb(Gl,function(){return sa(),null})),D=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||D){D=hn.transition,hn.transition=null;var z=gt;gt=1;var q=ut;ut|=4,Tm.current=null,rj(o,f),Eb(f,o),kI(Oh),ed=!!Lh,Oh=Lh=null,o.current=f,nj(f),MP(),ut=q,gt=z,hn.transition=D}else o.current=f;if(Fd&&(Fd=!1,go=o,zd=P),D=o.pendingLanes,D===0&&(mo=null),OP(f.stateNode),$r(o,Ft()),a!==null)for(_=o.onRecoverableError,f=0;f<a.length;f++)P=a[f],_(P.value,{componentStack:P.stack,digest:P.digest});if($d)throw $d=!1,o=Im,Im=null,o;return(zd&1)!==0&&o.tag!==0&&sa(),D=o.pendingLanes,(D&1)!==0?o===jm?Tc++:(Tc=0,jm=o):Tc=0,uo(),null}function sa(){if(go!==null){var o=CS(zd),a=hn.transition,f=gt;try{if(hn.transition=null,gt=16>o?16:o,go===null)var _=!1;else{if(o=go,go=null,zd=0,(ut&6)!==0)throw Error(r(331));var P=ut;for(ut|=4,Te=o.current;Te!==null;){var D=Te,z=D.child;if((Te.flags&16)!==0){var q=D.deletions;if(q!==null){for(var X=0;X<q.length;X++){var ee=q[X];for(Te=ee;Te!==null;){var ue=Te;switch(ue.tag){case 0:case 11:case 15:Cc(8,ue,D)}var pe=ue.child;if(pe!==null)pe.return=ue,Te=pe;else for(;Te!==null;){ue=Te;var de=ue.sibling,Re=ue.return;if(bb(ue),ue===ee){Te=null;break}if(de!==null){de.return=Re,Te=de;break}Te=Re}}}var Ie=D.alternate;if(Ie!==null){var je=Ie.child;if(je!==null){Ie.child=null;do{var zt=je.sibling;je.sibling=null,je=zt}while(je!==null)}}Te=D}}if((D.subtreeFlags&2064)!==0&&z!==null)z.return=D,Te=z;else e:for(;Te!==null;){if(D=Te,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Cc(9,D,D.return)}var J=D.sibling;if(J!==null){J.return=D.return,Te=J;break e}Te=D.return}}var Y=o.current;for(Te=Y;Te!==null;){z=Te;var Z=z.child;if((z.subtreeFlags&2064)!==0&&Z!==null)Z.return=z,Te=Z;else e:for(z=Y;Te!==null;){if(q=Te,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Ld(9,q)}}catch(Ne){Ot(q,q.return,Ne)}if(q===z){Te=null;break e}var me=q.sibling;if(me!==null){me.return=q.return,Te=me;break e}Te=q.return}}if(ut=P,uo(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Kl,o)}catch{}_=!0}return _}finally{gt=f,hn.transition=a}}return!1}function Ab(o,a,f){a=ea(f,a),a=tb(o,a,1),o=po(o,a,1),a=Tr(),o!==null&&(Qa(o,1,a),$r(o,a))}function Ot(o,a,f){if(o.tag===3)Ab(o,o,f);else for(;a!==null;){if(a.tag===3){Ab(a,o,f);break}else if(a.tag===1){var _=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(mo===null||!mo.has(_))){o=ea(f,o),o=rb(a,o,1),a=po(a,o,1),o=Tr(),a!==null&&(Qa(a,1,o),$r(a,o));break}}a=a.return}}function lj(o,a,f){var _=o.pingCache;_!==null&&_.delete(a),a=Tr(),o.pingedLanes|=o.suspendedLanes&f,nr===o&&(cr&f)===f&&(Qt===4||Qt===3&&(cr&130023424)===cr&&500>Ft()-Pm?Xo(o,0):km|=f),$r(o,a)}function $b(o,a){a===0&&((o.mode&1)===0?a=1:(a=Yl,Yl<<=1,(Yl&130023424)===0&&(Yl=4194304)));var f=Tr();o=Ps(o,a),o!==null&&(Qa(o,a,f),$r(o,f))}function dj(o){var a=o.memoizedState,f=0;a!==null&&(f=a.retryLane),$b(o,f)}function uj(o,a){var f=0;switch(o.tag){case 13:var _=o.stateNode,P=o.memoizedState;P!==null&&(f=P.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(a),$b(o,f)}var Fb;Fb=function(o,a,f){if(o!==null)if(o.memoizedProps!==a.pendingProps||Nr.current)Or=!0;else{if((o.lanes&f)===0&&(a.flags&128)===0)return Or=!1,JI(o,a,f);Or=(o.flags&131072)!==0}else Or=!1,Et&&(a.flags&1048576)!==0&&y0(a,yd,a.index);switch(a.lanes=0,a.tag){case 2:var _=a.type;Md(o,a),o=a.pendingProps;var P=qi(a,gr.current);Ji(a,f),P=im(null,a,_,o,P,f);var D=am();return a.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Lr(_)?(D=!0,md(a)):D=!1,a.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Zh(a),P.updater=jd,a.stateNode=P,P._reactInternals=a,pm(a,_,o,f),a=vm(null,a,_,!0,D,f)):(a.tag=0,Et&&D&&Vh(a),Er(null,a,P,f),a=a.child),a;case 16:_=a.elementType;e:{switch(Md(o,a),o=a.pendingProps,P=_._init,_=P(_._payload),a.type=_,P=a.tag=pj(_),o=Pn(_,o),P){case 0:a=gm(null,a,_,o,f);break e;case 1:a=ub(null,a,_,o,f);break e;case 11:a=ib(null,a,_,o,f);break e;case 14:a=ab(null,a,_,Pn(_.type,o),f);break e}throw Error(r(306,_,""))}return a;case 0:return _=a.type,P=a.pendingProps,P=a.elementType===_?P:Pn(_,P),gm(o,a,_,P,f);case 1:return _=a.type,P=a.pendingProps,P=a.elementType===_?P:Pn(_,P),ub(o,a,_,P,f);case 3:e:{if(fb(a),o===null)throw Error(r(387));_=a.pendingProps,D=a.memoizedState,P=D.element,T0(o,a),Cd(a,_,null,f);var z=a.memoizedState;if(_=z.element,D.isDehydrated)if(D={element:_,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},a.updateQueue.baseState=D,a.memoizedState=D,a.flags&256){P=ea(Error(r(423)),a),a=pb(o,a,_,f,P);break e}else if(_!==P){P=ea(Error(r(424)),a),a=pb(o,a,_,f,P);break e}else for(Zr=ao(a.stateNode.containerInfo.firstChild),Jr=a,Et=!0,kn=null,f=R0(a,null,_,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Xi(),_===P){a=js(o,a,f);break e}Er(o,a,_,f)}a=a.child}return a;case 5:return I0(a),o===null&&qh(a),_=a.type,P=a.pendingProps,D=o!==null?o.memoizedProps:null,z=P.children,Ah(_,P)?z=null:D!==null&&Ah(_,D)&&(a.flags|=32),db(o,a),Er(o,a,z,f),a.child;case 6:return o===null&&qh(a),null;case 13:return hb(o,a,f);case 4:return em(a,a.stateNode.containerInfo),_=a.pendingProps,o===null?a.child=Yi(a,null,_,f):Er(o,a,_,f),a.child;case 11:return _=a.type,P=a.pendingProps,P=a.elementType===_?P:Pn(_,P),ib(o,a,_,P,f);case 7:return Er(o,a,a.pendingProps,f),a.child;case 8:return Er(o,a,a.pendingProps.children,f),a.child;case 12:return Er(o,a,a.pendingProps.children,f),a.child;case 10:e:{if(_=a.type._context,P=a.pendingProps,D=a.memoizedProps,z=P.value,St(bd,_._currentValue),_._currentValue=z,D!==null)if(Tn(D.value,z)){if(D.children===P.children&&!Nr.current){a=js(o,a,f);break e}}else for(D=a.child,D!==null&&(D.return=a);D!==null;){var q=D.dependencies;if(q!==null){z=D.child;for(var X=q.firstContext;X!==null;){if(X.context===_){if(D.tag===1){X=Is(-1,f&-f),X.tag=2;var ee=D.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?X.next=X:(X.next=ue.next,ue.next=X),ee.pending=X}}D.lanes|=f,X=D.alternate,X!==null&&(X.lanes|=f),Qh(D.return,f,a),q.lanes|=f;break}X=X.next}}else if(D.tag===10)z=D.type===a.type?null:D.child;else if(D.tag===18){if(z=D.return,z===null)throw Error(r(341));z.lanes|=f,q=z.alternate,q!==null&&(q.lanes|=f),Qh(z,f,a),z=D.sibling}else z=D.child;if(z!==null)z.return=D;else for(z=D;z!==null;){if(z===a){z=null;break}if(D=z.sibling,D!==null){D.return=z.return,z=D;break}z=z.return}D=z}Er(o,a,P.children,f),a=a.child}return a;case 9:return P=a.type,_=a.pendingProps.children,Ji(a,f),P=fn(P),_=_(P),a.flags|=1,Er(o,a,_,f),a.child;case 14:return _=a.type,P=Pn(_,a.pendingProps),P=Pn(_.type,P),ab(o,a,_,P,f);case 15:return cb(o,a,a.type,a.pendingProps,f);case 17:return _=a.type,P=a.pendingProps,P=a.elementType===_?P:Pn(_,P),Md(o,a),a.tag=1,Lr(_)?(o=!0,md(a)):o=!1,Ji(a,f),Z0(a,_,P),pm(a,_,P,f),vm(null,a,_,!0,o,f);case 19:return gb(o,a,f);case 22:return lb(o,a,f)}throw Error(r(156,a.tag))};function zb(o,a){return wS(o,a)}function fj(o,a,f,_){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(o,a,f,_){return new fj(o,a,f,_)}function Am(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pj(o){if(typeof o=="function")return Am(o)?1:0;if(o!=null){if(o=o.$$typeof,o===O)return 11;if(o===K)return 14}return 2}function wo(o,a){var f=o.alternate;return f===null?(f=mn(o.tag,a,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=a,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,a=o.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Hd(o,a,f,_,P,D){var z=2;if(_=o,typeof o=="function")Am(o)&&(z=1);else if(typeof o=="string")z=5;else e:switch(o){case k:return Qo(f.children,P,D,a);case j:z=8,P|=8;break;case M:return o=mn(12,f,a,P|2),o.elementType=M,o.lanes=D,o;case U:return o=mn(13,f,a,P),o.elementType=U,o.lanes=D,o;case W:return o=mn(19,f,a,P),o.elementType=W,o.lanes=D,o;case F:return Wd(f,P,D,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:z=10;break e;case A:z=9;break e;case O:z=11;break e;case K:z=14;break e;case L:z=16,_=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return a=mn(z,f,a,P),a.elementType=o,a.type=_,a.lanes=D,a}function Qo(o,a,f,_){return o=mn(7,o,_,a),o.lanes=f,o}function Wd(o,a,f,_){return o=mn(22,o,_,a),o.elementType=F,o.lanes=f,o.stateNode={isHidden:!1},o}function $m(o,a,f){return o=mn(6,o,null,a),o.lanes=f,o}function Fm(o,a,f){return a=mn(4,o.children!==null?o.children:[],o.key,a),a.lanes=f,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function hj(o,a,f,_,P){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=_,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function zm(o,a,f,_,P,D,z,q,X){return o=new hj(o,a,f,q,X),a===1?(a=1,D===!0&&(a|=8)):a=0,D=mn(3,null,null,a),o.current=D,D.stateNode=o,D.memoizedState={element:_,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(D),o}function mj(o,a,f){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:_==null?null:""+_,children:o,containerInfo:a,implementation:f}}function Bb(o){if(!o)return lo;o=o._reactInternals;e:{if(Fo(o)!==o||o.tag!==1)throw Error(r(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Lr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(Lr(f))return m0(o,f,a)}return a}function Ub(o,a,f,_,P,D,z,q,X){return o=zm(f,_,!0,o,P,D,z,q,X),o.context=Bb(null),f=o.current,_=Tr(),P=vo(f),D=Is(_,P),D.callback=a??null,po(f,D,P),o.current.lanes=P,Qa(o,P,_),$r(o,_),o}function qd(o,a,f,_){var P=a.current,D=Tr(),z=vo(P);return f=Bb(f),a.context===null?a.context=f:a.pendingContext=f,a=Is(D,z),a.payload={element:o},_=_===void 0?null:_,_!==null&&(a.callback=_),o=po(P,a,z),o!==null&&(Dn(o,P,z,D),xd(o,P,z)),z}function Gd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Vb(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<a?f:a}}function Bm(o,a){Vb(o,a),(o=o.alternate)&&Vb(o,a)}function gj(){return null}var Hb=typeof reportError=="function"?reportError:function(o){console.error(o)};function Um(o){this._internalRoot=o}Kd.prototype.render=Um.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));qd(o,a,null,null)},Kd.prototype.unmount=Um.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ko(function(){qd(null,o,null,null)}),a[Rs]=null}};function Kd(o){this._internalRoot=o}Kd.prototype.unstable_scheduleHydration=function(o){if(o){var a=TS();o={blockedOn:null,target:o,priority:a};for(var f=0;f<so.length&&a!==0&&a<so[f].priority;f++);so.splice(f,0,o),f===0&&IS(o)}};function Vm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Xd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Wb(){}function vj(o,a,f,_,P){if(P){if(typeof _=="function"){var D=_;_=function(){var ee=Gd(z);D.call(ee)}}var z=Ub(a,_,o,0,null,!1,!1,"",Wb);return o._reactRootContainer=z,o[Rs]=z.current,uc(o.nodeType===8?o.parentNode:o),Ko(),z}for(;P=o.lastChild;)o.removeChild(P);if(typeof _=="function"){var q=_;_=function(){var ee=Gd(X);q.call(ee)}}var X=zm(o,0,!1,null,null,!1,!1,"",Wb);return o._reactRootContainer=X,o[Rs]=X.current,uc(o.nodeType===8?o.parentNode:o),Ko(function(){qd(a,X,f,_)}),X}function Yd(o,a,f,_,P){var D=f._reactRootContainer;if(D){var z=D;if(typeof P=="function"){var q=P;P=function(){var X=Gd(z);q.call(X)}}qd(a,z,o,P)}else z=vj(f,a,o,P,_);return Gd(z)}RS=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var f=Ya(a.pendingLanes);f!==0&&(ph(a,f|1),$r(a,Ft()),(ut&6)===0&&(na=Ft()+500,uo()))}break;case 13:Ko(function(){var _=Ps(o,1);if(_!==null){var P=Tr();Dn(_,o,1,P)}}),Bm(o,1)}},hh=function(o){if(o.tag===13){var a=Ps(o,134217728);if(a!==null){var f=Tr();Dn(a,o,134217728,f)}Bm(o,134217728)}},ES=function(o){if(o.tag===13){var a=vo(o),f=Ps(o,a);if(f!==null){var _=Tr();Dn(f,o,a,_)}Bm(o,a)}},TS=function(){return gt},kS=function(o,a){var f=gt;try{return gt=o,a()}finally{gt=f}},ih=function(o,a,f){switch(a){case"input":if(he(o,f),a=f.name,f.type==="radio"&&a!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var _=f[a];if(_!==o&&_.form===o.form){var P=pd(_);if(!P)throw Error(r(90));it(_),he(_,P)}}}break;case"textarea":ge(o,f);break;case"select":a=f.value,a!=null&&Ue(o,!!f.multiple,a,!1)}},fS=Nm,pS=Ko;var yj={usingClientEntryPoint:!1,Events:[hc,Hi,pd,dS,uS,Nm]},kc={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wj={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:g.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=vS(o),o===null?null:o.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||gj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Kl=Qd.inject(wj),as=Qd}catch{}}return Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yj,Fr.createPortal=function(o,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(a))throw Error(r(200));return mj(o,a,null,f)},Fr.createRoot=function(o,a){if(!Vm(o))throw Error(r(299));var f=!1,_="",P=Hb;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onRecoverableError!==void 0&&(P=a.onRecoverableError)),a=zm(o,1,!1,null,null,f,!1,_,P),o[Rs]=a.current,uc(o.nodeType===8?o.parentNode:o),new Um(a)},Fr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=vS(a),o=o===null?null:o.stateNode,o},Fr.flushSync=function(o){return Ko(o)},Fr.hydrate=function(o,a,f){if(!Xd(a))throw Error(r(200));return Yd(null,o,a,!0,f)},Fr.hydrateRoot=function(o,a,f){if(!Vm(o))throw Error(r(405));var _=f!=null&&f.hydratedSources||null,P=!1,D="",z=Hb;if(f!=null&&(f.unstable_strictMode===!0&&(P=!0),f.identifierPrefix!==void 0&&(D=f.identifierPrefix),f.onRecoverableError!==void 0&&(z=f.onRecoverableError)),a=Ub(a,null,o,1,f??null,P,!1,D,z),o[Rs]=a.current,uc(o),_)for(o=0;o<_.length;o++)f=_[o],P=f._getVersion,P=P(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,P]:a.mutableSourceEagerHydrationData.push(f,P);return new Kd(a)},Fr.render=function(o,a,f){if(!Xd(a))throw Error(r(200));return Yd(null,o,a,!1,f)},Fr.unmountComponentAtNode=function(o){if(!Xd(o))throw Error(r(40));return o._reactRootContainer?(Ko(function(){Yd(null,null,o,!1,function(){o._reactRootContainer=null,o[Rs]=null})}),!0):!1},Fr.unstable_batchedUpdates=Nm,Fr.unstable_renderSubtreeIntoContainer=function(o,a,f,_){if(!Xd(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Yd(o,a,f,!1,_)},Fr.version="18.3.1-next-f1338f8080-20240426",Fr}var Zb;function bC(){if(Zb)return Gm.exports;Zb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gm.exports=Pj(),Gm.exports}var e_;function Ij(){if(e_)return Jd;e_=1;var e=bC();return Jd.createRoot=e.createRoot,Jd.hydrateRoot=e.hydrateRoot,Jd}var jj=Ij(),I=Hf();const Tt=Vf(I),_C=xj({__proto__:null,default:Tt},[I]);var Ym={exports:{}},Qm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function Dj(){if(t_)return Qm;t_=1;var e=Hf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,c=e.useMemo,l=e.useDebugValue;return Qm.useSyncExternalStoreWithSelector=function(u,d,m,v,y){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=c(function(){function R(b){if(!T){if(T=!0,C=b,b=v(b),y!==void 0&&w.hasValue){var E=w.value;if(y(E,b))return h=E}return h=b}if(E=h,r(C,b))return E;var k=v(b);return y!==void 0&&y(E,k)?(C=b,E):(C=b,h=k)}var T=!1,C,h,g=m===void 0?null:m;return[function(){return R(d())},g===null?void 0:function(){return R(g())}]},[d,m,v,y]);var x=n(u,S[0],S[1]);return i(function(){w.hasValue=!0,w.value=x},[x]),l(x),x},Qm}var r_;function Mj(){return r_||(r_=1,Ym.exports=Dj()),Ym.exports}var Nj=Mj();function Lj(e){e()}function Oj(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lj(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var n_={notify(){},get:()=>[]};function Aj(e,t){let r,n=n_,s=0,i=!1;function c(x){m();const R=n.subscribe(x);let T=!1;return()=>{T||(T=!0,R(),v())}}function l(){n.notify()}function u(){w.onStateChange&&w.onStateChange()}function d(){return i}function m(){s++,r||(r=e.subscribe(u),n=Oj())}function v(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=n_)}function y(){i||(i=!0,m())}function S(){i&&(i=!1,v())}const w={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>n};return w}var $j=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fj=$j(),zj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bj=zj(),Uj=()=>Fj||Bj?I.useLayoutEffect:I.useEffect,Vj=Uj(),Jm=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function Hj(){if(!I.createContext)return{};const e=Zm[Jm]??(Zm[Jm]=new Map);let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var Po=Hj();function Wj(e){const{children:t,context:r,serverState:n,store:s}=e,i=I.useMemo(()=>{const u=Aj(s);return{store:s,subscription:u,getServerState:n?()=>n:void 0}},[s,n]),c=I.useMemo(()=>s.getState(),[s]);Vj(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,c]);const l=r||Po;return I.createElement(l.Provider,{value:i},t)}var qj=Wj;function py(e=Po){return function(){return I.useContext(e)}}var xC=py();function CC(e=Po){const t=e===Po?xC:py(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Gj=CC();function Kj(e=Po){const t=e===Po?Gj:CC(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Xj=Kj(),Yj=(e,t)=>e===t;function Qj(e=Po){const t=e===Po?xC:py(e),r=(n,s={})=>{const{equalityFn:i=Yj}=typeof s=="function"?{equalityFn:s}:s,c=t(),{store:l,subscription:u,getServerState:d}=c;I.useRef(!0);const m=I.useCallback({[n.name](y){return n(y)}}[n.name],[n]),v=Nj.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,d||l.getState,m,i);return I.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var Jj=Qj(),ms=function(){return ms=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ms.apply(this,arguments)};function RC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Zj(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var wu="right-scroll-bar-position",Su="width-before-scroll-bar",eD="with-scroll-bars-hidden",tD="--removed-body-scroll-bar-size";function eg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rD(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var nD=typeof window<"u"?I.useLayoutEffect:I.useEffect,s_=new WeakMap;function sD(e,t){var r=rD(null,function(n){return e.forEach(function(s){return eg(s,n)})});return nD(function(){var n=s_.get(r);if(n){var s=new Set(n),i=new Set(e),c=r.current;s.forEach(function(l){i.has(l)||eg(l,null)}),i.forEach(function(l){s.has(l)||eg(l,c)})}s_.set(r,e)},[e]),r}function oD(e){return e}function iD(e,t){t===void 0&&(t=oD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var c=t(i,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(i){for(n=!0;r.length;){var c=r;r=[],c.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(i),c=r}var u=function(){var m=c;c=[],m.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(m){c.push(m),d()},filter:function(m){return c=c.filter(m),r}}}};return s}function aD(e){e===void 0&&(e={});var t=iD(null);return t.options=ms({async:!0,ssr:!1},e),t}var EC=function(e){var t=e.sideCar,r=RC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,ms({},r))};EC.isSideCarExport=!0;function cD(e,t){return e.useMedium(t),EC}var TC=aD(),tg=function(){},Wf=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:tg,onWheelCapture:tg,onTouchMoveCapture:tg}),s=n[0],i=n[1],c=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,m=e.enabled,v=e.shards,y=e.sideCar,S=e.noIsolation,w=e.inert,x=e.allowPinchZoom,R=e.as,T=R===void 0?"div":R,C=e.gapMode,h=RC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),g=y,b=sD([r,t]),E=ms(ms({},h),s);return I.createElement(I.Fragment,null,m&&I.createElement(g,{sideCar:TC,removeScrollBar:d,shards:v,noIsolation:S,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:C}),c?I.cloneElement(I.Children.only(l),ms(ms({},E),{ref:b})):I.createElement(T,ms({},E,{className:u,ref:b}),l))});Wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wf.classNames={fullWidth:Su,zeroRight:wu};var lD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lD();return t&&e.setAttribute("nonce",t),e}function uD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=dD())&&(uD(t,r),fD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hD=function(){var e=pD();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kC=function(){var e=hD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},mD={left:0,top:0,right:0,gap:0},rg=function(e){return parseInt(e||"",10)||0},gD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rg(r),rg(n),rg(s)]},vD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mD;var t=gD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},yD=kC(),ma="data-scroll-locked",wD=function(e,t,r,n){var s=e.left,i=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(eD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Su,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ma,`] {
    `).concat(tD,": ").concat(l,`px;
  }
`)},o_=function(){var e=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(e)?e:0},SD=function(){I.useEffect(function(){return document.body.setAttribute(ma,(o_()+1).toString()),function(){var e=o_()-1;e<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,e.toString())}},[])},bD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;SD();var i=I.useMemo(function(){return vD(s)},[s]);return I.createElement(yD,{styles:wD(i,!t,s,r?"":"!important")})},mv=!1;if(typeof window<"u")try{var Zd=Object.defineProperty({},"passive",{get:function(){return mv=!0,!0}});window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{mv=!1}var oa=mv?{passive:!1}:!1,_D=function(e){return e.tagName==="TEXTAREA"},PC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_D(e)&&r[t]==="visible")},xD=function(e){return PC(e,"overflowY")},CD=function(e){return PC(e,"overflowX")},i_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=IC(e,n);if(s){var i=jC(e,n),c=i[1],l=i[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ED=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},IC=function(e,t){return e==="v"?xD(t):CD(t)},jC=function(e,t){return e==="v"?RD(t):ED(t)},TD=function(e,t){return e==="h"&&t==="rtl"?-1:1},kD=function(e,t,r,n,s){var i=TD(e,window.getComputedStyle(t).direction),c=i*n,l=r.target,u=t.contains(l),d=!1,m=c>0,v=0,y=0;do{var S=jC(e,l),w=S[0],x=S[1],R=S[2],T=x-R-i*w;(w||T)&&IC(e,l)&&(v+=T,y+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(m&&Math.abs(v)<1||!m&&Math.abs(y)<1)&&(d=!0),d},eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},a_=function(e){return[e.deltaX,e.deltaY]},c_=function(e){return e&&"current"in e?e.current:e},PD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ID=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jD=0,ia=[];function DD(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),s=I.useState(jD++)[0],i=I.useState(kC)[0],c=I.useRef(e);I.useEffect(function(){c.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=Zj([e.lockRef.current],(e.shards||[]).map(c_),!0).filter(Boolean);return x.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=I.useCallback(function(x,R){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!c.current.allowPinchZoom;var T=eu(x),C=r.current,h="deltaX"in x?x.deltaX:C[0]-T[0],g="deltaY"in x?x.deltaY:C[1]-T[1],b,E=x.target,k=Math.abs(h)>Math.abs(g)?"h":"v";if("touches"in x&&k==="h"&&E.type==="range")return!1;var j=i_(k,E);if(!j)return!0;if(j?b=k:(b=k==="v"?"h":"v",j=i_(k,E)),!j)return!1;if(!n.current&&"changedTouches"in x&&(h||g)&&(n.current=b),!b)return!0;var M=n.current||b;return kD(M,R,x,M==="h"?h:g)},[]),u=I.useCallback(function(x){var R=x;if(!(!ia.length||ia[ia.length-1]!==i)){var T="deltaY"in R?a_(R):eu(R),C=t.current.filter(function(b){return b.name===R.type&&(b.target===R.target||R.target===b.shadowParent)&&PD(b.delta,T)})[0];if(C&&C.should){R.cancelable&&R.preventDefault();return}if(!C){var h=(c.current.shards||[]).map(c_).filter(Boolean).filter(function(b){return b.contains(R.target)}),g=h.length>0?l(R,h[0]):!c.current.noIsolation;g&&R.cancelable&&R.preventDefault()}}},[]),d=I.useCallback(function(x,R,T,C){var h={name:x,delta:R,target:T,should:C,shadowParent:MD(T)};t.current.push(h),setTimeout(function(){t.current=t.current.filter(function(g){return g!==h})},1)},[]),m=I.useCallback(function(x){r.current=eu(x),n.current=void 0},[]),v=I.useCallback(function(x){d(x.type,a_(x),x.target,l(x,e.lockRef.current))},[]),y=I.useCallback(function(x){d(x.type,eu(x),x.target,l(x,e.lockRef.current))},[]);I.useEffect(function(){return ia.push(i),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",u,oa),document.addEventListener("touchmove",u,oa),document.addEventListener("touchstart",m,oa),function(){ia=ia.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,oa),document.removeEventListener("touchmove",u,oa),document.removeEventListener("touchstart",m,oa)}},[]);var S=e.removeScrollBar,w=e.inert;return I.createElement(I.Fragment,null,w?I.createElement(i,{styles:ID(s)}):null,S?I.createElement(bD,{gapMode:e.gapMode}):null)}function MD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ND=cD(TC,DD);var _f=I.forwardRef(function(e,t){return I.createElement(Wf,ms({},e,{ref:t,sideCar:ND}))});_f.classNames=Wf.classNames;function qt(e){return Object.keys(e)}function ng(e){return e&&typeof e=="object"&&!Array.isArray(e)}function hy(e,t){const r={...e},n=t;return ng(e)&&ng(t)&&Object.keys(t).forEach(s=>{ng(n[s])&&s in e?r[s]=hy(r[s],n[s]):r[s]=n[s]}),r}function LD(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function OD(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function dl(e){const t=OD(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function sg(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function DC(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const s=`${n/16}${e}`;return t?sg(s):s}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(i=>r(i)).join(",");if(n.includes(" "))return n.split(" ").map(i=>r(i)).join(" ");if(n.includes(e))return t?sg(n):n;const s=n.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?sg(i):i}}return n}return r}const oe=DC("rem",{shouldScale:!0}),l_=DC("em");function jo(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function MC(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Do(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==I.Fragment:!1}function cn(e){const t=I.createContext(null);return[({children:s,value:i})=>p.jsx(t.Provider,{value:i,children:s}),()=>{const s=I.useContext(t);if(s===null)throw new Error(e);return s}]}function bi(e=null){const t=I.createContext(e);return[({children:s,value:i})=>p.jsx(t.Provider,{value:i,children:s}),()=>I.useContext(t)]}function d_(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function xf(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function AD(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function $D(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function FD(e,t,r){return xf(e,r)===xf(t,r)}function NC({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:s=!1,dir:i="rtl",orientation:c}){return l=>{var w;r==null||r(l);const u=Array.from(((w=xf(l.currentTarget,e))==null?void 0:w.querySelectorAll(t))||[]).filter(x=>FD(l.currentTarget,x,e)),d=u.findIndex(x=>l.currentTarget===x),m=$D(d,u,n),v=AD(d,u,n),y=i==="rtl"?v:m,S=i==="rtl"?m:v;switch(l.key){case"ArrowRight":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),u[y].focus(),s&&u[y].click());break}case"ArrowLeft":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),u[S].focus(),s&&u[S].click());break}case"ArrowUp":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),u[v].focus(),s&&u[v].click());break}case"ArrowDown":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),u[m].focus(),s&&u[m].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const x=u.length-1;!u[x].disabled&&u[x].focus();break}}}}const zD={app:100,modal:200,popover:300,overlay:400,max:9999};function Gr(e){return zD[e]}const gv=()=>{};function BD(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||gv:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Ke(e,t="size",r=!0){if(e!==void 0)return MC(e)?r?oe(e):e:`var(--${t}-${e})`}function or(e){return Ke(e,"mantine-spacing")}function Lt(e){return e===void 0?"var(--mantine-radius-default)":Ke(e,"mantine-radius")}function fr(e){return Ke(e,"mantine-font-size")}function UD(e){return Ke(e,"mantine-line-height",!1)}function my(e){if(e)return Ke(e,"mantine-shadow",!1)}function zr(e,t){return r=>{e==null||e(r),t==null||t(r)}}function VD(e,t){return e in t?dl(t[e]):dl(e)}function gy(e,t){const r=e.map(n=>({value:n,px:VD(n,t)}));return r.sort((n,s)=>n.px-s.px),r}function Qn(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function HD(e,t,r){var n;return r?Array.from(((n=xf(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(s=>s===r):null}function WD(){const[e,t]=I.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Jn(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function LC(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function oi(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const qD=()=>{};function qf(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,s=oi(e),i=I.useRef(0),c=Object.assign(I.useCallback((...l)=>{window.clearTimeout(i.current);const u=()=>{i.current!==0&&(i.current=0,s(...l))};c.flush=u,i.current=window.setTimeout(u,r)},[s,r]),{flush:qD});return I.useEffect(()=>()=>{window.clearTimeout(i.current),n&&c.flush()},[c,n]),c}const u_=["mousedown","touchstart"];function GD(e,t,r){const n=I.useRef(null);return I.useEffect(()=>{const s=i=>{const{target:c}=i??{};if(Array.isArray(r)){const l=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(d=>!!d&&!i.composedPath().includes(d))&&!l&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||u_).forEach(i=>document.addEventListener(i,s)),()=>{(t||u_).forEach(i=>document.removeEventListener(i,s))}},[n,e,r]),n}function KD({timeout:e=2e3}={}){const[t,r]=I.useState(null),[n,s]=I.useState(!1),[i,c]=I.useState(null),l=m=>{window.clearTimeout(i),c(window.setTimeout(()=>s(!1),e)),s(m)};return{copy:m=>{"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>l(!0)).catch(v=>r(v)):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{s(!1),r(null),window.clearTimeout(i)},error:t,copied:n}}function XD(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function YD(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function QD(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,s]=I.useState(r?t:YD(e)),i=I.useRef(null);return I.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),s(i.current.matches),XD(i.current,c=>s(c.matches))},[e]),n}const Pa=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Hr(e,t){const r=I.useRef(!1);I.useEffect(()=>()=>{r.current=!1},[]),I.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function OC({opened:e,shouldReturnFocus:t=!0}){const r=I.useRef(null),n=()=>{var s;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((s=r.current)==null||s.focus({preventScroll:!0}))};return Hr(()=>{let s=-1;const i=c=>{c.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?r.current=document.activeElement:t&&(s=window.setTimeout(n,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),n}const JD=/input|select|textarea|button|object/,AC="a, input, select, textarea, button, object, [tabindex]";function ZD(e){return e.style.display==="none"}function e2(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(ZD(r))return!1;r=r.parentNode}return!0}function $C(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function vv(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN($C(e));return(JD.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&e2(e)}function FC(e){const t=$C(e);return(Number.isNaN(t)||t>=0)&&vv(e)}function t2(e){return Array.from(e.querySelectorAll(AC)).filter(FC)}function r2(e,t){const r=t2(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let i=n===s.activeElement||e===s.activeElement;const c=s.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(i=r.filter(m=>m.getAttribute("type")==="radio"&&m.getAttribute("name")===c.getAttribute("name")).includes(n)),!i)return;t.preventDefault();const u=r[t.shiftKey?r.length-1:0];u&&u.focus()}function n2(e=!0){const t=I.useRef(null),r=s=>{let i=s.querySelector("[data-autofocus]");if(!i){const c=Array.from(s.querySelectorAll(AC));i=c.find(FC)||c.find(vv)||null,!i&&vv(s)&&(i=s)}i&&i.focus({preventScroll:!0})},n=I.useCallback(s=>{e&&s!==null&&t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)},[e]);return I.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=i=>{i.key==="Tab"&&t.current&&r2(t.current,i)};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e]),n}const s2=e=>(e+1)%1e6;function o2(){const[,e]=I.useReducer(s2,0);return e}const i2=Tt.useId||(()=>{});function a2(){const e=i2();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ws(e){const t=a2(),[r,n]=I.useState(t);return Pa(()=>{n(LC())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function c2(e,t,r){I.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Cf(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function zC(...e){const t=new Map;return r=>{if(e.forEach(n=>{const s=Cf(n,r);s&&t.set(n,s)}),t.size>0)return()=>{e.forEach(n=>{const s=t.get(n);s?s():Cf(n,null)}),t.clear()}}}function er(...e){return I.useCallback(zC(...e),e)}function BC(e){return{x:Jn(e.x,0,1),y:Jn(e.y,0,1)}}function vy(e,t,r="ltr"){const n=I.useRef(null),s=I.useRef(!1),i=I.useRef(!1),c=I.useRef(0),[l,u]=I.useState(!1);return I.useEffect(()=>{s.current=!0},[]),I.useEffect(()=>{const d=n.current,m=({x:h,y:g})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(s.current&&d){d.style.userSelect="none";const b=d.getBoundingClientRect();if(b.width&&b.height){const E=Jn((h-b.left)/b.width,0,1);e({x:r==="ltr"?E:1-E,y:Jn((g-b.top)/b.height,0,1)})}}})},v=()=>{document.addEventListener("mousemove",R),document.addEventListener("mouseup",w),document.addEventListener("touchmove",C),document.addEventListener("touchend",w)},y=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",w)},S=()=>{!i.current&&s.current&&(i.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),v())},w=()=>{i.current&&s.current&&(i.current=!1,u(!1),y(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},x=h=>{S(),h.preventDefault(),R(h)},R=h=>m({x:h.clientX,y:h.clientY}),T=h=>{h.cancelable&&h.preventDefault(),S(),C(h)},C=h=>{h.cancelable&&h.preventDefault(),m({x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY})};return d==null||d.addEventListener("mousedown",x),d==null||d.addEventListener("touchstart",T,{passive:!1}),()=>{d&&(d.removeEventListener("mousedown",x),d.removeEventListener("touchstart",T))}},[r,e]),{ref:n,active:l}}function Dr({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[s,i]=I.useState(t!==void 0?t:r),c=(l,...u)=>{i(l),n==null||n(l,...u)};return e!==void 0?[e,n,!0]:[s,c,!1]}function bo(e,t){const r=t-e+1;return Array.from({length:r},(n,s)=>s+e)}const tu="dots";function l2({total:e,siblings:t=1,boundaries:r=1,page:n,initialPage:s=1,onChange:i}){const c=Math.max(Math.trunc(e),0),[l,u]=Dr({value:n,onChange:i,defaultValue:s,finalValue:s}),d=x=>{x<=0?u(1):x>c?u(c):u(x)},m=()=>d(l+1),v=()=>d(l-1),y=()=>d(1),S=()=>d(c);return{range:I.useMemo(()=>{if(t*2+3+r*2>=c)return bo(1,c);const R=Math.max(l-t,r),T=Math.min(l+t,c-r),C=R>r+2,h=T<c-(r+1);if(!C&&h){const g=t*2+r+2;return[...bo(1,g),tu,...bo(c-(r-1),c)]}if(C&&!h){const g=r+1+2*t;return[...bo(1,r),tu,...bo(c-g,c)]}return[...bo(1,r),tu,...bo(R,T),tu,...bo(c-r+1,c)]},[c,t,l]),active:l,setPage:d,next:m,previous:v,first:y,last:S}}function Gf(e,t){return QD("(prefers-reduced-motion: reduce)",e,t)}function Rt(e=!1,t){const{onOpen:r,onClose:n}={},[s,i]=I.useState(e),c=I.useCallback(()=>{i(d=>d||(r==null||r(),!0))},[r]),l=I.useCallback(()=>{i(d=>d&&(n==null||n(),!1))},[n]),u=I.useCallback(()=>{s?l():c()},[l,c,s]);return[s,{open:c,close:l,toggle:u}]}function d2(e){const t=I.useRef(void 0);return I.useEffect(()=>{t.current=e},[e]),t.current}function u2(){return navigator.userAgent.includes("OPR")}function f2(){const[e,t]=I.useState(!1);Pa(()=>{t(typeof window<"u"&&!u2()&&"EyeDropper"in window)},[]);const r=I.useCallback((n={})=>e?new window.EyeDropper().open(n):Promise.resolve(void 0),[e]);return{supported:e,open:r}}var p2={};function h2(){return typeof process<"u"&&p2?"production":"development"}function f_(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function Kf(e){var r;const t=Tt.version;return typeof Tt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function UC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=UC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=UC(e))&&(n&&(n+=" "),n+=t);return n}const m2={};function g2(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,s])=>{t[n]?t[n]=Zt(t[n],s):t[n]=s})}),t}function Xf({theme:e,classNames:t,props:r,stylesCtx:n}){const i=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||m2);return g2(i)}function Rf({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((i,c)=>typeof c=="function"?{...i,...c(e,r,n)}:{...i,...c},{})}const VC=I.createContext(null);function Mo(){const e=I.useContext(VC);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function v2(){return Mo().cssVariablesResolver}function y2(){return Mo().classNamesPrefix}function yy(){return Mo().getStyleNonce}function w2(){return Mo().withStaticClasses}function S2(){return Mo().headless}function b2(){var e;return(e=Mo().stylesTransform)==null?void 0:e.sx}function _2(){var e;return(e=Mo().stylesTransform)==null?void 0:e.styles}function HC(){return Mo().env||"default"}function x2(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function C2(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,s=r>>8&255,i=r&255;return{r:n,g:s,b:i,a:1}}function R2(e){const[t,r,n,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:s||1}}function E2(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),s=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,l=(1-Math.abs(2*i-1))*s,u=n/60,d=l*(1-Math.abs(u%2-1)),m=i-l/2;let v,y,S;return u>=0&&u<1?(v=l,y=d,S=0):u>=1&&u<2?(v=d,y=l,S=0):u>=2&&u<3?(v=0,y=l,S=d):u>=3&&u<4?(v=0,y=d,S=l):u>=4&&u<5?(v=d,y=0,S=l):(v=l,y=0,S=d),{r:Math.round((v+m)*255),g:Math.round((y+m)*255),b:Math.round((S+m)*255),a:c||1}}function wy(e){return x2(e)?C2(e):e.startsWith("rgb")?R2(e):e.startsWith("hsl")?E2(e):{r:0,g:0,b:0,a:1}}function ru(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:s,a:i}=wy(e),c=1-t,l=u=>Math.round(u*c);return`rgba(${l(r)}, ${l(n)}, ${l(s)}, ${i})`}function ul(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function og(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function T2(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function k2(e){if(e.startsWith("oklch("))return(T2(e)||0)/100;const{r:t,g:r,b:n}=wy(e),s=t/255,i=r/255,c=n/255,l=og(s),u=og(i),d=og(c);return .2126*l+.7152*u+.0722*d}function Ic(e,t=.179){return e.startsWith("var(")?!1:k2(e)>t}function Ia({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ic(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ic(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ic(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,s]=e.split("."),i=s?Number(s):void 0,c=n in t.colors;if(c){const l=i!==void 0?t.colors[n][i]:t.colors[n][ul(t,r||"light")];return{color:n,value:l,shade:i,isThemeColor:c,isLight:Ic(l,t.luminanceThreshold),variable:s?`--mantine-color-${n}-${i}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:Ic(e,t.luminanceThreshold),shade:i,variable:void 0}}function Cr(e,t){const r=Ia({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function yv(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=Cr(r.from,t),s=Cr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${s} 100%)`}function hs(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:s}=wy(e);return`rgba(${r}, ${n}, ${s}, ${t})`}const aa=hs,P2=({color:e,theme:t,variant:r,gradient:n,autoContrast:s})=>{const i=Ia({color:e,theme:t}),c=typeof s=="boolean"?s:t.autoContrast;if(r==="filled"){const l=c&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${oe(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${oe(1)} solid transparent`}:{background:e,hover:ru(e,.1),color:l,border:`${oe(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${oe(1)} solid transparent`};const l=t.colors[i.color][i.shade];return{background:hs(l,.1),hover:hs(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${oe(1)} solid transparent`}}return{background:hs(e,.1),hover:hs(e,.12),color:e,border:`${oe(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${oe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:hs(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${oe(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:hs(e,.05),color:e,border:`${oe(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${oe(1)} solid transparent`};const l=t.colors[i.color][i.shade];return{background:"transparent",hover:hs(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${oe(1)} solid transparent`}}return{background:"transparent",hover:hs(e,.12),color:e,border:`${oe(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${oe(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:e,border:`${oe(1)} solid transparent`}:r==="gradient"?{background:yv(n,t),hover:yv(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${oe(1)} solid var(--mantine-color-default-border)`}:{}},I2={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},p_="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Sy={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:I2,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:P2,autoContrast:!1,luminanceThreshold:.3,fontFamily:p_,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:p_,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:oe(34),lineHeight:"1.3"},h2:{fontSize:oe(26),lineHeight:"1.35"},h3:{fontSize:oe(22),lineHeight:"1.4"},h4:{fontSize:oe(18),lineHeight:"1.45"},h5:{fontSize:oe(16),lineHeight:"1.5"},h6:{fontSize:oe(14),lineHeight:"1.5"}}},fontSizes:{xs:oe(12),sm:oe(14),md:oe(16),lg:oe(18),xl:oe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:oe(2),sm:oe(4),md:oe(8),lg:oe(16),xl:oe(32)},spacing:{xs:oe(10),sm:oe(12),md:oe(16),lg:oe(20),xl:oe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${oe(1)} ${oe(3)} rgba(0, 0, 0, 0.05), 0 ${oe(1)} ${oe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${oe(1)} ${oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${oe(10)} ${oe(15)} ${oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${oe(7)} ${oe(7)} ${oe(-5)}`,md:`0 ${oe(1)} ${oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${oe(20)} ${oe(25)} ${oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${oe(10)} ${oe(10)} ${oe(-5)}`,lg:`0 ${oe(1)} ${oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${oe(28)} ${oe(23)} ${oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${oe(12)} ${oe(12)} ${oe(-7)}`,xl:`0 ${oe(1)} ${oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${oe(36)} ${oe(28)} ${oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${oe(17)} ${oe(17)} ${oe(-7)}`},other:{},components:{}};function h_(e){return e==="auto"||e==="dark"||e==="light"}function j2({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return h_(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&h_(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const D2="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",m_="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ig(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function g_(e){if(!(e.primaryColor in e.colors))throw new Error(D2);if(typeof e.primaryShade=="object"&&(!ig(e.primaryShade.dark)||!ig(e.primaryShade.light)))throw new Error(m_);if(typeof e.primaryShade=="number"&&!ig(e.primaryShade))throw new Error(m_)}function M2(e,t){var n;if(!t)return g_(e),e;const r=hy(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),g_(r),r}const by=I.createContext(null),N2=()=>I.useContext(by)||Sy;function ir(){const e=I.useContext(by);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function WC({theme:e,children:t,inherit:r=!0}){const n=N2(),s=I.useMemo(()=>M2(r?n:Sy,e),[e,n,r]);return p.jsx(by.Provider,{value:s,children:t})}WC.displayName="@mantine/core/MantineThemeProvider";function L2(){const e=ir(),t=yy(),r=qt(e.breakpoints).reduce((n,s)=>{const i=e.breakpoints[s].includes("px"),c=dl(e.breakpoints[s]),l=i?`${c-.1}px`:l_(c-.1),u=i?`${c}px`:l_(c);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return p.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function ag(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function jc(e,t){return(Array.isArray(e)?e:[e]).reduce((n,s)=>`${s}{${n}}`,t)}function O2(e,t){const r=ag(e.variables),n=r?jc(t,r):"",s=ag(e.dark),i=ag(e.light),c=s?jc(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",l=i?jc(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${n}${c}${l}`}function Yf({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ia({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function v_(e,t){return Yf({color:e.colors[e.primaryColor][ul(e,t)],theme:e,autoContrast:null})}function nu({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const l=ul(e,"light"),u={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:aa(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:aa(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:aa(e.colors[t][l],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...u}:u}const i=ul(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${i})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${i===9?8:i+1})`,[`--mantine-color-${n}-light`]:aa(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${n}-light-hover`]:aa(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(i-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(i-4,0)})`,[`--mantine-color-${n}-outline-hover`]:aa(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function A2(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ca(e,t,r){qt(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const qC=e=>{const t=ul(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:oe(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":v_(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":v_(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ca(n.variables,e.breakpoints,"breakpoint"),ca(n.variables,e.spacing,"spacing"),ca(n.variables,e.fontSizes,"font-size"),ca(n.variables,e.lineHeights,"line-height"),ca(n.variables,e.shadows,"shadow"),ca(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),qt(e.colors).forEach(i=>{const c=e.colors[i];if(A2(c)){Object.assign(n.light,nu({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,nu({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((l,u)=>{n.variables[`--mantine-color-${i}-${u}`]=l}),Object.assign(n.light,nu({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,nu({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return qt(s).forEach(i=>{n.variables[`--mantine-${i}-font-size`]=s[i].fontSize,n.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,n.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),n};function $2({theme:e,generator:t}){const r=qC(e),n=t==null?void 0:t(e);return n?hy(r,n):r}const cg=qC(Sy);function F2(e){const t={variables:{},light:{},dark:{}};return qt(e.variables).forEach(r=>{cg.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),qt(e.light).forEach(r=>{cg.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),qt(e.dark).forEach(r=>{cg.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function z2(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function GC({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=ir(),n=yy(),s=v2(),i=$2({theme:r,generator:s}),c=e===":root"&&t,l=c?F2(i):i,u=O2(l,e);return u?p.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${u}${c?"":z2(e)}`}}):null}GC.displayName="@mantine/CssVariables";function B2(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function la(e,t){var s,i;const r=typeof window<"u"&&"matchMedia"in window&&((s=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:s.matches),n=e!=="auto"?e:r?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",n)}function U2({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const s=I.useRef(null),[i,c]=I.useState(()=>e.get(t)),l=n||i,u=I.useCallback(m=>{n||(la(m,r),c(m),e.set(m))},[e.set,l,n]),d=I.useCallback(()=>{c(t),la(t,r),e.clear()},[e.clear,t]);return I.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Pa(()=>{la(e.get(t),r)},[]),I.useEffect(()=>{var v;if(n)return la(n,r),()=>{};n===void 0&&la(i,r),typeof window<"u"&&"matchMedia"in window&&(s.current=window.matchMedia("(prefers-color-scheme: dark)"));const m=y=>{i==="auto"&&la(y.matches?"dark":"light",r)};return(v=s.current)==null||v.addEventListener("change",m),()=>{var y;return(y=s.current)==null?void 0:y.removeEventListener("change",m)}},[i,n]),{colorScheme:l,setColorScheme:u,clearColorScheme:d}}function V2({respectReducedMotion:e,getRootElement:t}){Pa(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}B2();function KC({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:c=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=j2(),defaultColorScheme:m="light",getRootElement:v=()=>document.documentElement,cssVariablesResolver:y,forceColorScheme:S,stylesTransform:w,env:x}){const{colorScheme:R,setColorScheme:T,clearColorScheme:C}=U2({defaultColorScheme:m,forceColorScheme:S,manager:d,getRootElement:v});return V2({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:v}),p.jsx(VC.Provider,{value:{colorScheme:R,setColorScheme:T,clearColorScheme:C,getRootElement:v,classNamesPrefix:u,getStyleNonce:r,cssVariablesResolver:y,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:w,env:x},children:p.jsxs(WC,{theme:e,children:[c&&p.jsx(GC,{cssVariablesSelector:l,deduplicateCssVariables:i}),s&&p.jsx(L2,{}),t]})})}KC.displayName="@mantine/core/MantineProvider";function _i({classNames:e,styles:t,props:r,stylesCtx:n}){const s=ir();return{resolvedClassNames:Xf({theme:s,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:Rf({theme:s,styles:t,props:r,stylesCtx:n||void 0})}}const H2={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function W2({theme:e,options:t,unstyled:r}){return Zt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||H2[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function q2({selector:e,stylesCtx:t,options:r,props:n,theme:s}){return Xf({theme:s,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function y_({selector:e,stylesCtx:t,theme:r,classNames:n,props:s}){return Xf({theme:r,classNames:n,props:s,stylesCtx:t})[e]}function G2({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function K2({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function X2({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function Y2({themeName:e,theme:t,selector:r,props:n,stylesCtx:s}){return e.map(i=>{var c,l;return(l=Xf({theme:t,classNames:(c=t.components[i])==null?void 0:c.classNames,props:n,stylesCtx:s}))==null?void 0:l[r]})}function Q2({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function J2({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:s,classNames:i,classes:c,unstyled:l,className:u,rootSelector:d,props:m,stylesCtx:v,withStaticClasses:y,headless:S,transformedStyles:w}){return Zt(W2({theme:e,options:t,unstyled:l||S}),Y2({theme:e,themeName:r,selector:n,props:m,stylesCtx:v}),Q2({options:t,classes:c,selector:n,unstyled:l}),y_({selector:n,stylesCtx:v,theme:e,classNames:i,props:m}),y_({selector:n,stylesCtx:v,theme:e,classNames:w,props:m}),q2({selector:n,stylesCtx:v,options:t,props:m,theme:e}),G2({rootSelector:d,selector:n,className:u}),K2({selector:n,classes:c,unstyled:l||S}),y&&!S&&X2({themeName:r,classNamesPrefix:s,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Z2({theme:e,themeName:t,props:r,stylesCtx:n,selector:s}){return t.map(i=>{var c;return Rf({theme:e,styles:(c=e.components[i])==null?void 0:c.styles,props:r,stylesCtx:n})[s]}).reduce((i,c)=>({...i,...c}),{})}function wv({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...wv({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function eM(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...jo(r[n])}}),t),{})}function tM({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:s,selector:i,themeName:c,headless:l}){var u;return(u=eM([l?{}:t==null?void 0:t(r,n,s),...c.map(d=>{var m,v,y;return(y=(v=(m=r.components)==null?void 0:m[d])==null?void 0:v.vars)==null?void 0:y.call(v,r,n,s)}),e==null?void 0:e(r,n,s)]))==null?void 0:u[i]}function rM({theme:e,themeName:t,selector:r,options:n,props:s,stylesCtx:i,rootSelector:c,styles:l,style:u,vars:d,varsResolver:m,headless:v,withStylesTransform:y}){return{...!y&&Z2({theme:e,themeName:t,props:s,stylesCtx:i,selector:r}),...!y&&Rf({theme:e,styles:l,props:s,stylesCtx:i})[r],...!y&&Rf({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||s,stylesCtx:i})[r],...tM({theme:e,props:s,stylesCtx:i,vars:d,varsResolver:m,selector:r,themeName:t,headless:v}),...c===r?wv({style:u,theme:e}):null,...wv({style:n==null?void 0:n.style,theme:e})}}function nM({props:e,stylesCtx:t,themeName:r}){var c;const n=ir(),s=(c=_2())==null?void 0:c();return{getTransformedStyles:l=>s?[...l.map(d=>s(d,{props:e,theme:n,ctx:t})),...r.map(d=>{var m;return s((m=n.components[d])==null?void 0:m.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function ze({name:e,classes:t,props:r,stylesCtx:n,className:s,style:i,rootSelector:c="root",unstyled:l,classNames:u,styles:d,vars:m,varsResolver:v}){const y=ir(),S=y2(),w=w2(),x=S2(),R=(Array.isArray(e)?e:[e]).filter(h=>h),{withStylesTransform:T,getTransformedStyles:C}=nM({props:r,stylesCtx:n,themeName:R});return(h,g)=>({className:J2({theme:y,options:g,themeName:R,selector:h,classNamesPrefix:S,classNames:u,classes:t,unstyled:l,className:s,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:w,headless:x,transformedStyles:C([g==null?void 0:g.styles,d])}),style:rM({theme:y,themeName:R,selector:h,options:g,props:r,stylesCtx:n,rootSelector:c,styles:d,style:i,vars:m,varsResolver:v,headless:x,withStylesTransform:T})})}function _y(e,t){return typeof e=="boolean"?e:t.autoContrast}function ae(e,t,r){var c;const n=ir(),s=(c=n.components[e])==null?void 0:c.defaultProps,i=typeof s=="function"?s(n):s;return{...t,...i,...jo(r)}}function lg(e){return qt(e).reduce((t,r)=>e[r]!==void 0?`${t}${LD(r)}:${e[r]};`:t,"").trim()}function sM({selector:e,styles:t,media:r,container:n}){const s=t?lg(t):"",i=Array.isArray(r)?r.map(l=>`@media${l.query}{${e}{${lg(l.styles)}}}`):[],c=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${lg(l.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${c.join("")}`.trim()}function ja(e){const t=yy();return p.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:sM(e)}})}function _l(e){const{m:t,mx:r,my:n,mt:s,mb:i,ml:c,mr:l,me:u,ms:d,p:m,px:v,py:y,pt:S,pb:w,pl:x,pr:R,pe:T,ps:C,bd:h,bg:g,c:b,opacity:E,ff:k,fz:j,fw:M,lts:N,ta:A,lh:O,fs:U,tt:W,td:K,w:L,miw:F,maw:$,h:B,mih:H,mah:V,bgsz:G,bgp:se,bgr:le,bga:Q,pos:ie,top:fe,left:ce,bottom:ye,right:Oe,inset:Ae,display:it,flex:ht,hiddenFrom:tt,visibleFrom:dt,lightHidden:mt,darkHidden:he,sx:_e,...Pe}=e;return{styleProps:jo({m:t,mx:r,my:n,mt:s,mb:i,ml:c,mr:l,me:u,ms:d,p:m,px:v,py:y,pt:S,pb:w,pl:x,pr:R,pe:T,ps:C,bd:h,bg:g,c:b,opacity:E,ff:k,fz:j,fw:M,lts:N,ta:A,lh:O,fs:U,tt:W,td:K,w:L,miw:F,maw:$,h:B,mih:H,mah:V,bgsz:G,bgp:se,bgr:le,bga:Q,pos:ie,top:fe,left:ce,bottom:ye,right:Oe,inset:Ae,display:it,flex:ht,hiddenFrom:tt,visibleFrom:dt,lightHidden:mt,darkHidden:he,sx:_e}),rest:Pe}}const oM={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function xy(e,t){const r=Ia({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function iM(e,t){const r=Ia({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:xy(e,t)}function aM(e,t){if(typeof e=="number")return oe(e);if(typeof e=="string"){const[r,n,...s]=e.split(" ").filter(c=>c.trim()!=="");let i=`${oe(r)}`;return n&&(i+=` ${n}`),s.length>0&&(i+=` ${xy(s.join(" "),t)}`),i.trim()}return e}const w_={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function cM(e){return typeof e=="string"&&e in w_?w_[e]:e}const lM=["h1","h2","h3","h4","h5","h6"];function dM(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&lM.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?oe(e):e}function uM(e){return e}const fM=["h1","h2","h3","h4","h5","h6"];function pM(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&fM.includes(e)?`var(--mantine-${e}-line-height)`:e}function hM(e){return typeof e=="number"?oe(e):e}function mM(e,t){if(typeof e=="number")return oe(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return oe(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const dg={color:xy,textColor:iM,fontSize:dM,spacing:mM,identity:uM,size:hM,lineHeight:pM,fontFamily:cM,border:aM};function S_(e){return e.replace("(min-width: ","").replace("em)","")}function gM({media:e,...t}){const n=Object.keys(e).sort((s,i)=>Number(S_(s))-Number(S_(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:n}}function vM(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function yM(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function wM(e){return typeof e=="object"&&e!==null?qt(e).filter(t=>t!=="base"):[]}function SM(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function XC({styleProps:e,data:t,theme:r}){return gM(qt(e).reduce((n,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return n;const i=t[s],c=Array.isArray(i.property)?i.property:[i.property],l=yM(e[s]);if(!vM(e[s]))return c.forEach(d=>{n.inlineStyles[d]=dg[i.type](l,r)}),n;n.hasResponsiveStyles=!0;const u=wM(e[s]);return c.forEach(d=>{l&&(n.styles[d]=dg[i.type](l,r)),u.forEach(m=>{const v=`(min-width: ${r.breakpoints[m]})`;n.media[v]={...n.media[v],[d]:dg[i.type](SM(e[s],m),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function xl(){return`__m__-${I.useId().replace(/:/g,"")}`}function Cy(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Cy(n,t)}),{}):typeof e=="function"?e(t):e??{}}function YC(e){return e.startsWith("data-")?e:`data-${e}`}function bM(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[YC(r)]=e[r]),t},{})}function QC(e){return e?typeof e=="string"?{[YC(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...QC(r)}),{}):bM(e):null}function Sv(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Sv(n,t)}),{}):typeof e=="function"?e(t):e??{}}function _M({theme:e,style:t,vars:r,styleProps:n}){const s=Sv(t,e),i=Sv(r,e);return{...s,...i,...n}}const JC=I.forwardRef(({component:e,style:t,__vars:r,className:n,variant:s,mod:i,size:c,hiddenFrom:l,visibleFrom:u,lightHidden:d,darkHidden:m,renderRoot:v,__size:y,...S},w)=>{var j;const x=ir(),R=e||"div",{styleProps:T,rest:C}=_l(S),h=b2(),g=(j=h==null?void 0:h())==null?void 0:j(T.sx),b=xl(),E=XC({styleProps:T,theme:x,data:oM}),k={ref:w,style:_M({theme:x,style:t,vars:r,styleProps:E.inlineStyles}),className:Zt(n,g,{[b]:E.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":m,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":s,"data-size":MC(c)?void 0:c||void 0,size:y,...QC(i),...C};return p.jsxs(p.Fragment,{children:[E.hasResponsiveStyles&&p.jsx(ja,{selector:`.${b}`,styles:E.styles,media:E.media}),typeof v=="function"?v(k):p.jsx(R,{...k})]})});JC.displayName="@mantine/core/Box";const ne=JC;function ZC(e){return e}function xM(e){const t=e;return r=>{const n=I.forwardRef((s,i)=>p.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function ve(e){const t=I.forwardRef(e);return t.extend=ZC,t.withProps=r=>{const n=I.forwardRef((s,i)=>p.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function hr(e){const t=I.forwardRef(e);return t.withProps=r=>{const n=I.forwardRef((s,i)=>p.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=ZC,t}const CM=I.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function No(){return I.useContext(CM)}var Qf=bC();const Kc=Vf(Qf);function RM(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function ug(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Dc=typeof window<"u"&&window.requestAnimationFrame;function EM({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const s=I.useRef(null),i=0,c={display:"none",height:0,overflow:"hidden"},[l,u]=I.useState(n?{}:c),d=w=>{Qf.flushSync(()=>u(w))},m=w=>{d(x=>({...x,...w}))};function v(w){const x=e||RM(w);return{transition:`height ${x}ms ${t}, opacity ${x}ms ${t}`}}Hr(()=>{typeof Dc=="function"&&Dc(n?()=>{m({willChange:"height",display:"block",overflow:"hidden"}),Dc(()=>{const w=ug(s);m({...v(w),height:w})})}:()=>{const w=ug(s);m({...v(w),willChange:"height",height:w}),Dc(()=>m({height:i,overflow:"hidden"}))})},[n]);const y=w=>{if(!(w.target!==s.current||w.propertyName!=="height"))if(n){const x=ug(s);x===l.height?d({}):m({height:x}),r()}else l.height===i&&(d(c),r())};function S({style:w={},refKey:x="ref",...R}={}){const T=R[x];return{"aria-hidden":!n,...R,[x]:zC(s,T),onTransitionEnd:y,style:{boxSizing:"border-box",...w,...l}}}return S}const TM={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Cl=ve((e,t)=>{const{children:r,in:n,transitionDuration:s,transitionTimingFunction:i,style:c,onTransitionEnd:l,animateOpacity:u,...d}=ae("Collapse",TM,e),m=ir(),v=Gf(),S=(m.respectReducedMotion?v:!1)?0:s,w=EM({opened:n,transitionDuration:S,transitionTimingFunction:i,onTransitionEnd:l});return S===0?n?p.jsx(ne,{...d,children:r}):null:p.jsx(ne,{...w({style:{opacity:n||!u?1:0,transition:u?`opacity ${S}ms ${i}`:"none",...Cy(c,m)},ref:t,...d}),children:r})});Cl.displayName="@mantine/core/Collapse";function Jf(){return typeof window<"u"}function Da(e){return eR(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(eR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eR(e){return Jf()?e instanceof Node||e instanceof Br(e).Node:!1}function Ct(e){return Jf()?e instanceof Element||e instanceof Br(e).Element:!1}function sn(e){return Jf()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function bv(e){return!Jf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}function Rl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=wn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function kM(e){return["table","td","th"].includes(Da(e))}function Zf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ry(e){const t=ep(),r=Ct(e)?wn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function PM(e){let t=Fs(e);for(;sn(t)&&!Io(t);){if(Ry(t))return t;if(Zf(t))return null;t=Fs(t)}return null}function ep(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Io(e){return["html","body","#document"].includes(Da(e))}function wn(e){return Br(e).getComputedStyle(e)}function tp(e){return Ct(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(Da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bv(e)&&e.host||_s(e);return bv(t)?t.host:t}function tR(e){const t=Fs(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:sn(t)&&Rl(t)?t:tR(t)}function Ls(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=tR(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),c=Br(s);if(i){const l=_v(c);return t.concat(c,c.visualViewport||[],Rl(s)?s:[],l&&r?Ls(l):[])}return t.concat(s,Ls(s,[],r))}function _v(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function b_(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function fl(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&bv(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function rR(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function nR(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function IM(e){return MM()?!1:!__()&&e.width===0&&e.height===0||__()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function jM(){return/apple/i.test(navigator.vendor)}function __(){const e=/android/i;return e.test(rR())||e.test(nR())}function DM(){return rR().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function MM(){return nR().includes("jsdom/")}function xv(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function NM(e){return"nativeEvent"in e}function LM(e){return e.matches("html,body")}function ai(e){return(e==null?void 0:e.ownerDocument)||document}function fg(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function fa(e){return"composedPath"in e?e.composedPath()[0]:e.target}const OM="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function AM(e){return sn(e)&&e.matches(OM)}const es=Math.min,Sr=Math.max,Ef=Math.round,su=Math.floor,gs=e=>({x:e,y:e}),$M={left:"right",right:"left",bottom:"top",top:"bottom"},FM={start:"end",end:"start"};function Cv(e,t,r){return Sr(e,es(t,r))}function zs(e,t){return typeof e=="function"?e(t):e}function ts(e){return e.split("-")[0]}function Ma(e){return e.split("-")[1]}function Ey(e){return e==="x"?"y":"x"}function Ty(e){return e==="y"?"height":"width"}function Bs(e){return["top","bottom"].includes(ts(e))?"y":"x"}function ky(e){return Ey(Bs(e))}function zM(e,t,r){r===void 0&&(r=!1);const n=Ma(e),s=ky(e),i=Ty(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Tf(c)),[c,Tf(c)]}function BM(e){const t=Tf(e);return[Rv(e),t,Rv(t)]}function Rv(e){return e.replace(/start|end/g,t=>FM[t])}function UM(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:c;default:return[]}}function VM(e,t,r,n){const s=Ma(e);let i=UM(ts(e),r==="start",n);return s&&(i=i.map(c=>c+"-"+s),t&&(i=i.concat(i.map(Rv)))),i}function Tf(e){return e.replace(/left|right|bottom|top/g,t=>$M[t])}function HM(e){return{top:0,right:0,bottom:0,left:0,...e}}function Py(e){return typeof e!="number"?HM(e):{top:e,right:e,bottom:e,left:e}}function Ca(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function x_(e,t,r){let{reference:n,floating:s}=e;const i=Bs(t),c=ky(t),l=Ty(c),u=ts(t),d=i==="y",m=n.x+n.width/2-s.width/2,v=n.y+n.height/2-s.height/2,y=n[l]/2-s[l]/2;let S;switch(u){case"top":S={x:m,y:n.y-s.height};break;case"bottom":S={x:m,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-s.width,y:v};break;default:S={x:n.x,y:n.y}}switch(Ma(t)){case"start":S[c]-=y*(r&&d?-1:1);break;case"end":S[c]+=y*(r&&d?-1:1);break}return S}const WM=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:c}=r,l=i.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let d=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=x_(d,n,u),y=n,S={},w=0;for(let x=0;x<l.length;x++){const{name:R,fn:T}=l[x],{x:C,y:h,data:g,reset:b}=await T({x:m,y:v,initialPlacement:n,placement:y,strategy:s,middlewareData:S,rects:d,platform:c,elements:{reference:e,floating:t}});m=C??m,v=h??v,S={...S,[R]:{...S[R],...g}},b&&w<=50&&(w++,typeof b=="object"&&(b.placement&&(y=b.placement),b.rects&&(d=b.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:m,y:v}=x_(d,y,u)),x=-1)}return{x:m,y:v,placement:y,strategy:s,middlewareData:S}};async function Iy(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:c,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:y=!1,padding:S=0}=zs(t,e),w=Py(S),R=l[y?v==="floating"?"reference":"floating":v],T=Ca(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(R)))==null||r?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:u})),C=v==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,h=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),g=await(i.isElement==null?void 0:i.isElement(h))?await(i.getScale==null?void 0:i.getScale(h))||{x:1,y:1}:{x:1,y:1},b=Ca(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:h,strategy:u}):C);return{top:(T.top-b.top+w.top)/g.y,bottom:(b.bottom-T.bottom+w.bottom)/g.y,left:(T.left-b.left+w.left)/g.x,right:(b.right-T.right+w.right)/g.x}}const qM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:c,elements:l,middlewareData:u}=t,{element:d,padding:m=0}=zs(e,t)||{};if(d==null)return{};const v=Py(m),y={x:r,y:n},S=ky(s),w=Ty(S),x=await c.getDimensions(d),R=S==="y",T=R?"top":"left",C=R?"bottom":"right",h=R?"clientHeight":"clientWidth",g=i.reference[w]+i.reference[S]-y[S]-i.floating[w],b=y[S]-i.reference[S],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d));let k=E?E[h]:0;(!k||!await(c.isElement==null?void 0:c.isElement(E)))&&(k=l.floating[h]||i.floating[w]);const j=g/2-b/2,M=k/2-x[w]/2-1,N=es(v[T],M),A=es(v[C],M),O=N,U=k-x[w]-A,W=k/2-x[w]/2+j,K=Cv(O,W,U),L=!u.arrow&&Ma(s)!=null&&W!==K&&i.reference[w]/2-(W<O?N:A)-x[w]/2<0,F=L?W<O?W-O:W-U:0;return{[S]:y[S]+F,data:{[S]:K,centerOffset:W-K-F,...L&&{alignmentOffset:F}},reset:L}}}),GM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:c,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...R}=zs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const T=ts(s),C=Bs(l),h=ts(l)===l,g=await(u.isRTL==null?void 0:u.isRTL(d.floating)),b=y||(h||!x?[Tf(l)]:BM(l)),E=w!=="none";!y&&E&&b.push(...VM(l,x,w,g));const k=[l,...b],j=await Iy(t,R),M=[];let N=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&M.push(j[T]),v){const W=zM(s,c,g);M.push(j[W[0]],j[W[1]])}if(N=[...N,{placement:s,overflows:M}],!M.every(W=>W<=0)){var A,O;const W=(((A=i.flip)==null?void 0:A.index)||0)+1,K=k[W];if(K)return{data:{index:W,overflows:N},reset:{placement:K}};let L=(O=N.filter(F=>F.overflows[0]<=0).sort((F,$)=>F.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(S){case"bestFit":{var U;const F=(U=N.filter($=>{if(E){const B=Bs($.placement);return B===C||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,H)=>B+H,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:U[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function sR(e){const t=es(...e.map(i=>i.left)),r=es(...e.map(i=>i.top)),n=Sr(...e.map(i=>i.right)),s=Sr(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:s-r}}function KM(e){const t=e.slice().sort((s,i)=>s.y-i.y),r=[];let n=null;for(let s=0;s<t.length;s++){const i=t[s];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(s=>Ca(sR(s)))}const XM=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:s,platform:i,strategy:c}=t,{padding:l=2,x:u,y:d}=zs(e,t),m=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),v=KM(m),y=Ca(sR(m)),S=Py(l);function w(){if(v.length===2&&v[0].left>v[1].right&&u!=null&&d!=null)return v.find(R=>u>R.left-S.left&&u<R.right+S.right&&d>R.top-S.top&&d<R.bottom+S.bottom)||y;if(v.length>=2){if(Bs(r)==="y"){const N=v[0],A=v[v.length-1],O=ts(r)==="top",U=N.top,W=A.bottom,K=O?N.left:A.left,L=O?N.right:A.right,F=L-K,$=W-U;return{top:U,bottom:W,left:K,right:L,width:F,height:$,x:K,y:U}}const R=ts(r)==="left",T=Sr(...v.map(N=>N.right)),C=es(...v.map(N=>N.left)),h=v.filter(N=>R?N.left===C:N.right===T),g=h[0].top,b=h[h.length-1].bottom,E=C,k=T,j=k-E,M=b-g;return{top:g,bottom:b,left:E,right:k,width:j,height:M,x:E,y:g}}return y}const x=await i.getElementRects({reference:{getBoundingClientRect:w},floating:n.floating,strategy:c});return s.reference.x!==x.reference.x||s.reference.y!==x.reference.y||s.reference.width!==x.reference.width||s.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function YM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=ts(r),l=Ma(r),u=Bs(r)==="y",d=["left","top"].includes(c)?-1:1,m=i&&u?-1:1,v=zs(t,e);let{mainAxis:y,crossAxis:S,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof w=="number"&&(S=l==="end"?w*-1:w),u?{x:S*m,y:y*d}:{x:y*d,y:S*m}}const QM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:c,middlewareData:l}=t,u=await YM(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:c}}}}},JM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:l={fn:R=>{let{x:T,y:C}=R;return{x:T,y:C}}},...u}=zs(e,t),d={x:r,y:n},m=await Iy(t,u),v=Bs(ts(s)),y=Ey(v);let S=d[y],w=d[v];if(i){const R=y==="y"?"top":"left",T=y==="y"?"bottom":"right",C=S+m[R],h=S-m[T];S=Cv(C,S,h)}if(c){const R=v==="y"?"top":"left",T=v==="y"?"bottom":"right",C=w+m[R],h=w-m[T];w=Cv(C,w,h)}const x=l.fn({...t,[y]:S,[v]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[y]:i,[v]:c}}}}}},ZM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=zs(e,t),m={x:r,y:n},v=Bs(s),y=Ey(v);let S=m[y],w=m[v];const x=zs(l,t),R=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const h=y==="y"?"height":"width",g=i.reference[y]-i.floating[h]+R.mainAxis,b=i.reference[y]+i.reference[h]-R.mainAxis;S<g?S=g:S>b&&(S=b)}if(d){var T,C;const h=y==="y"?"width":"height",g=["top","left"].includes(ts(s)),b=i.reference[v]-i.floating[h]+(g&&((T=c.offset)==null?void 0:T[v])||0)+(g?0:R.crossAxis),E=i.reference[v]+i.reference[h]+(g?0:((C=c.offset)==null?void 0:C[v])||0)-(g?R.crossAxis:0);w<b?w=b:w>E&&(w=E)}return{[y]:S,[v]:w}}}},eN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:c,elements:l}=t,{apply:u=()=>{},...d}=zs(e,t),m=await Iy(t,d),v=ts(s),y=Ma(s),S=Bs(s)==="y",{width:w,height:x}=i.floating;let R,T;v==="top"||v==="bottom"?(R=v,T=y===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(T=v,R=y==="end"?"top":"bottom");const C=x-m.top-m.bottom,h=w-m.left-m.right,g=es(x-m[R],C),b=es(w-m[T],h),E=!t.middlewareData.shift;let k=g,j=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=h),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=C),E&&!y){const N=Sr(m.left,0),A=Sr(m.right,0),O=Sr(m.top,0),U=Sr(m.bottom,0);S?j=w-2*(N!==0||A!==0?N+A:Sr(m.left,m.right)):k=x-2*(O!==0||U!==0?O+U:Sr(m.top,m.bottom))}await u({...t,availableWidth:j,availableHeight:k});const M=await c.getDimensions(l.floating);return w!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function oR(e){const t=wn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=sn(e),i=s?e.offsetWidth:r,c=s?e.offsetHeight:n,l=Ef(r)!==i||Ef(n)!==c;return l&&(r=i,n=c),{width:r,height:n,$:l}}function jy(e){return Ct(e)?e:e.contextElement}function ga(e){const t=jy(e);if(!sn(t))return gs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=oR(t);let c=(i?Ef(r.width):r.width)/n,l=(i?Ef(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const tN=gs(0);function iR(e){const t=Br(e);return!ep()||!t.visualViewport?tN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rN(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Br(e)?!1:t}function gi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=jy(e);let c=gs(1);t&&(n?Ct(n)&&(c=ga(n)):c=ga(e));const l=rN(i,r,n)?iR(i):gs(0);let u=(s.left+l.x)/c.x,d=(s.top+l.y)/c.y,m=s.width/c.x,v=s.height/c.y;if(i){const y=Br(i),S=n&&Ct(n)?Br(n):n;let w=y,x=_v(w);for(;x&&n&&S!==w;){const R=ga(x),T=x.getBoundingClientRect(),C=wn(x),h=T.left+(x.clientLeft+parseFloat(C.paddingLeft))*R.x,g=T.top+(x.clientTop+parseFloat(C.paddingTop))*R.y;u*=R.x,d*=R.y,m*=R.x,v*=R.y,u+=h,d+=g,w=Br(x),x=_v(w)}}return Ca({width:m,height:v,x:u,y:d})}function Dy(e,t){const r=tp(e).scrollLeft;return t?t.left+r:gi(_s(e)).left+r}function aR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Dy(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function nN(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",c=_s(n),l=t?Zf(t.floating):!1;if(n===c||l&&i)return r;let u={scrollLeft:0,scrollTop:0},d=gs(1);const m=gs(0),v=sn(n);if((v||!v&&!i)&&((Da(n)!=="body"||Rl(c))&&(u=tp(n)),sn(n))){const S=gi(n);d=ga(n),m.x=S.x+n.clientLeft,m.y=S.y+n.clientTop}const y=c&&!v&&!i?aR(c,u,!0):gs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+m.x+y.x,y:r.y*d.y-u.scrollTop*d.y+m.y+y.y}}function sN(e){return Array.from(e.getClientRects())}function oN(e){const t=_s(e),r=tp(e),n=e.ownerDocument.body,s=Sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Dy(e);const l=-r.scrollTop;return wn(n).direction==="rtl"&&(c+=Sr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:c,y:l}}function iN(e,t){const r=Br(e),n=_s(e),s=r.visualViewport;let i=n.clientWidth,c=n.clientHeight,l=0,u=0;if(s){i=s.width,c=s.height;const d=ep();(!d||d&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:c,x:l,y:u}}function aN(e,t){const r=gi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=sn(e)?ga(e):gs(1),c=e.clientWidth*i.x,l=e.clientHeight*i.y,u=s*i.x,d=n*i.y;return{width:c,height:l,x:u,y:d}}function C_(e,t,r){let n;if(t==="viewport")n=iN(e,r);else if(t==="document")n=oN(_s(e));else if(Ct(t))n=aN(t,r);else{const s=iR(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ca(n)}function cR(e,t){const r=Fs(e);return r===t||!Ct(r)||Io(r)?!1:wn(r).position==="fixed"||cR(r,t)}function cN(e,t){const r=t.get(e);if(r)return r;let n=Ls(e,[],!1).filter(l=>Ct(l)&&Da(l)!=="body"),s=null;const i=wn(e).position==="fixed";let c=i?Fs(e):e;for(;Ct(c)&&!Io(c);){const l=wn(c),u=Ry(c);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rl(c)&&!u&&cR(e,c))?n=n.filter(m=>m!==c):s=l,c=Fs(c)}return t.set(e,n),n}function lN(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const c=[...r==="clippingAncestors"?Zf(t)?[]:cN(t,this._c):[].concat(r),n],l=c[0],u=c.reduce((d,m)=>{const v=C_(t,m,s);return d.top=Sr(v.top,d.top),d.right=es(v.right,d.right),d.bottom=es(v.bottom,d.bottom),d.left=Sr(v.left,d.left),d},C_(t,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function dN(e){const{width:t,height:r}=oR(e);return{width:t,height:r}}function uN(e,t,r){const n=sn(t),s=_s(t),i=r==="fixed",c=gi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=gs(0);if(n||!n&&!i)if((Da(t)!=="body"||Rl(s))&&(l=tp(t)),n){const y=gi(t,!0,i,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else s&&(u.x=Dy(s));const d=s&&!n&&!i?aR(s,l):gs(0),m=c.left+l.scrollLeft-u.x-d.x,v=c.top+l.scrollTop-u.y-d.y;return{x:m,y:v,width:c.width,height:c.height}}function pg(e){return wn(e).position==="static"}function R_(e,t){if(!sn(e)||wn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _s(e)===r&&(r=r.ownerDocument.body),r}function lR(e,t){const r=Br(e);if(Zf(e))return r;if(!sn(e)){let s=Fs(e);for(;s&&!Io(s);){if(Ct(s)&&!pg(s))return s;s=Fs(s)}return r}let n=R_(e,t);for(;n&&kM(n)&&pg(n);)n=R_(n,t);return n&&Io(n)&&pg(n)&&!Ry(n)?r:n||PM(e)||r}const fN=async function(e){const t=this.getOffsetParent||lR,r=this.getDimensions,n=await r(e.floating);return{reference:uN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pN(e){return wn(e).direction==="rtl"}const hN={convertOffsetParentRelativeRectToViewportRelativeRect:nN,getDocumentElement:_s,getClippingRect:lN,getOffsetParent:lR,getElementRects:fN,getClientRects:sN,getDimensions:dN,getScale:ga,isElement:Ct,isRTL:pN};function dR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mN(e,t){let r=null,n;const s=_s(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:m,top:v,width:y,height:S}=d;if(l||t(),!y||!S)return;const w=su(v),x=su(s.clientWidth-(m+y)),R=su(s.clientHeight-(v+S)),T=su(m),h={rootMargin:-w+"px "+-x+"px "+-R+"px "+-T+"px",threshold:Sr(0,es(1,u))||1};let g=!0;function b(E){const k=E[0].intersectionRatio;if(k!==u){if(!g)return c();k?c(!1,k):n=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!dR(d,e.getBoundingClientRect())&&c(),g=!1}try{r=new IntersectionObserver(b,{...h,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,h)}r.observe(e)}return c(!0),i}function gN(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=jy(e),m=s||i?[...d?Ls(d):[],...Ls(t)]:[];m.forEach(T=>{s&&T.addEventListener("scroll",r,{passive:!0}),i&&T.addEventListener("resize",r)});const v=d&&l?mN(d,r):null;let y=-1,S=null;c&&(S=new ResizeObserver(T=>{let[C]=T;C&&C.target===d&&S&&(S.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var h;(h=S)==null||h.observe(t)})),r()}),d&&!u&&S.observe(d),S.observe(t));let w,x=u?gi(e):null;u&&R();function R(){const T=gi(e);x&&!dR(x,T)&&r(),x=T,w=requestAnimationFrame(R)}return r(),()=>{var T;m.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),v==null||v(),(T=S)==null||T.disconnect(),S=null,u&&cancelAnimationFrame(w)}}const vN=QM,yN=JM,wN=GM,SN=eN,E_=qM,bN=XM,_N=ZM,xN=(e,t,r)=>{const n=new Map,s={platform:hN,...r},i={...s.platform,_c:n};return WM(e,t,{...s,platform:i})};var bu=typeof document<"u"?I.useLayoutEffect:I.useEffect;function kf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!kf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!kf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function uR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function T_(e,t){const r=uR(e);return Math.round(t*r)/r}function hg(e){const t=I.useRef(e);return bu(()=>{t.current=e}),t}function CN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:c}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[m,v]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,S]=I.useState(n);kf(y,n)||S(n);const[w,x]=I.useState(null),[R,T]=I.useState(null),C=I.useCallback($=>{$!==E.current&&(E.current=$,x($))},[]),h=I.useCallback($=>{$!==k.current&&(k.current=$,T($))},[]),g=i||w,b=c||R,E=I.useRef(null),k=I.useRef(null),j=I.useRef(m),M=u!=null,N=hg(u),A=hg(s),O=hg(d),U=I.useCallback(()=>{if(!E.current||!k.current)return;const $={placement:t,strategy:r,middleware:y};A.current&&($.platform=A.current),xN(E.current,k.current,$).then(B=>{const H={...B,isPositioned:O.current!==!1};W.current&&!kf(j.current,H)&&(j.current=H,Qf.flushSync(()=>{v(H)}))})},[y,t,r,A,O]);bu(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,v($=>({...$,isPositioned:!1})))},[d]);const W=I.useRef(!1);bu(()=>(W.current=!0,()=>{W.current=!1}),[]),bu(()=>{if(g&&(E.current=g),b&&(k.current=b),g&&b){if(N.current)return N.current(g,b,U);U()}},[g,b,U,N,M]);const K=I.useMemo(()=>({reference:E,floating:k,setReference:C,setFloating:h}),[C,h]),L=I.useMemo(()=>({reference:g,floating:b}),[g,b]),F=I.useMemo(()=>{const $={position:r,left:0,top:0};if(!L.floating)return $;const B=T_(L.floating,m.x),H=T_(L.floating,m.y);return l?{...$,transform:"translate("+B+"px, "+H+"px)",...uR(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:H}},[r,l,L.floating,m.x,m.y]);return I.useMemo(()=>({...m,update:U,refs:K,elements:L,floatingStyles:F}),[m,U,K,L,F])}const RN=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?E_({element:n.current,padding:s}).fn(r):{}:n?E_({element:n,padding:s}).fn(r):{}}}},fR=(e,t)=>({...vN(e),options:[e,t]}),My=(e,t)=>({...yN(e),options:[e,t]}),k_=(e,t)=>({..._N(e),options:[e,t]}),Pf=(e,t)=>({...wN(e),options:[e,t]}),EN=(e,t)=>({...SN(e),options:[e,t]}),tl=(e,t)=>({...bN(e),options:[e,t]}),pR=(e,t)=>({...RN(e),options:[e,t]});function TN(e){return I.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const hR={..._C},kN=hR.useInsertionEffect,PN=kN||(e=>e());function Ns(e){const t=I.useRef(()=>{});return PN(()=>{t.current=e}),I.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var vs=typeof document<"u"?I.useLayoutEffect:I.useEffect;let P_=!1,IN=0;const I_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+IN++;function jN(){const[e,t]=I.useState(()=>P_?I_():void 0);return vs(()=>{e==null&&t(I_())},[]),I.useEffect(()=>{P_=!0},[]),e}const DN=hR.useId,mR=DN||jN;function MN(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const NN=I.createContext(null),LN=I.createContext(null),Ny=()=>{var e;return((e=I.useContext(NN))==null?void 0:e.id)||null},Ly=()=>I.useContext(LN);function Oy(e){return"data-floating-ui-"+e}function mg(e){const t=I.useRef(e);return vs(()=>{t.current=e}),t}const j_=Oy("safe-polygon");function _u(e,t,r){return r&&!xv(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function ON(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:s,events:i,elements:c}=e,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:m=!1,restMs:v=0,move:y=!0}=t,S=Ly(),w=Ny(),x=mg(d),R=mg(u),T=mg(r),C=I.useRef(),h=I.useRef(-1),g=I.useRef(),b=I.useRef(-1),E=I.useRef(!0),k=I.useRef(!1),j=I.useRef(()=>{}),M=I.useRef(!1),N=I.useCallback(()=>{var F;const $=(F=s.current.openEvent)==null?void 0:F.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[s]);I.useEffect(()=>{if(!l)return;function F($){let{open:B}=$;B||(clearTimeout(h.current),clearTimeout(b.current),E.current=!0,M.current=!1)}return i.on("openchange",F),()=>{i.off("openchange",F)}},[l,i]),I.useEffect(()=>{if(!l||!x.current||!r)return;function F(B){N()&&n(!1,B,"hover")}const $=ai(c.floating).documentElement;return $.addEventListener("mouseleave",F),()=>{$.removeEventListener("mouseleave",F)}},[c.floating,r,n,l,x,N]);const A=I.useCallback(function(F,$,B){$===void 0&&($=!0),B===void 0&&(B="hover");const H=_u(R.current,"close",C.current);H&&!g.current?(clearTimeout(h.current),h.current=window.setTimeout(()=>n(!1,F,B),H)):$&&(clearTimeout(h.current),n(!1,F,B))},[R,n]),O=Ns(()=>{j.current(),g.current=void 0}),U=Ns(()=>{if(k.current){const F=ai(c.floating).body;F.style.pointerEvents="",F.removeAttribute(j_),k.current=!1}}),W=Ns(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);I.useEffect(()=>{if(!l)return;function F(V){if(clearTimeout(h.current),E.current=!1,m&&!xv(C.current)||v>0&&!_u(R.current,"open"))return;const G=_u(R.current,"open",C.current);G?h.current=window.setTimeout(()=>{T.current||n(!0,V,"hover")},G):r||n(!0,V,"hover")}function $(V){if(W())return;j.current();const G=ai(c.floating);if(clearTimeout(b.current),M.current=!1,x.current&&s.current.floatingContext){r||clearTimeout(h.current),g.current=x.current({...s.current.floatingContext,tree:S,x:V.clientX,y:V.clientY,onClose(){U(),O(),W()||A(V,!0,"safe-polygon")}});const le=g.current;G.addEventListener("mousemove",le),j.current=()=>{G.removeEventListener("mousemove",le)};return}(C.current==="touch"?!fl(c.floating,V.relatedTarget):!0)&&A(V)}function B(V){W()||s.current.floatingContext&&(x.current==null||x.current({...s.current.floatingContext,tree:S,x:V.clientX,y:V.clientY,onClose(){U(),O(),W()||A(V)}})(V))}if(Ct(c.domReference)){var H;const V=c.domReference;return r&&V.addEventListener("mouseleave",B),(H=c.floating)==null||H.addEventListener("mouseleave",B),y&&V.addEventListener("mousemove",F,{once:!0}),V.addEventListener("mouseenter",F),V.addEventListener("mouseleave",$),()=>{var G;r&&V.removeEventListener("mouseleave",B),(G=c.floating)==null||G.removeEventListener("mouseleave",B),y&&V.removeEventListener("mousemove",F),V.removeEventListener("mouseenter",F),V.removeEventListener("mouseleave",$)}}},[c,l,e,m,v,y,A,O,U,n,r,T,S,R,x,s,W]),vs(()=>{var F;if(l&&r&&(F=x.current)!=null&&F.__options.blockPointerEvents&&N()){k.current=!0;const B=c.floating;if(Ct(c.domReference)&&B){var $;const H=ai(c.floating).body;H.setAttribute(j_,"");const V=c.domReference,G=S==null||($=S.nodesRef.current.find(se=>se.id===w))==null||($=$.context)==null?void 0:$.elements.floating;return G&&(G.style.pointerEvents=""),H.style.pointerEvents="none",V.style.pointerEvents="auto",B.style.pointerEvents="auto",()=>{H.style.pointerEvents="",V.style.pointerEvents="",B.style.pointerEvents=""}}}},[l,r,w,c,S,x,N]),vs(()=>{r||(C.current=void 0,M.current=!1,O(),U())},[r,O,U]),I.useEffect(()=>()=>{O(),clearTimeout(h.current),clearTimeout(b.current),U()},[l,c.domReference,O,U]);const K=I.useMemo(()=>{function F($){C.current=$.pointerType}return{onPointerDown:F,onPointerEnter:F,onMouseMove($){const{nativeEvent:B}=$;function H(){!E.current&&!T.current&&n(!0,B,"hover")}m&&!xv(C.current)||r||v===0||M.current&&$.movementX**2+$.movementY**2<2||(clearTimeout(b.current),C.current==="touch"?H():(M.current=!0,b.current=window.setTimeout(H,v)))}}},[m,n,r,T,v]),L=I.useMemo(()=>({onMouseEnter(){clearTimeout(h.current)},onMouseLeave(F){W()||A(F.nativeEvent,!1)}}),[A,W]);return I.useMemo(()=>l?{reference:K,floating:L}:{},[l,K,L])}const Ev=()=>{},gR=I.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Ev,setState:Ev,isInstantPhase:!1}),AN=()=>I.useContext(gR);function $N(e){const{children:t,delay:r,timeoutMs:n=0}=e,[s,i]=I.useReducer((u,d)=>({...u,...d}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=I.useRef(null),l=I.useCallback(u=>{i({currentId:u})},[]);return vs(()=>{s.currentId?c.current===null?c.current=s.currentId:s.isInstantPhase||i({isInstantPhase:!0}):(s.isInstantPhase&&i({isInstantPhase:!1}),c.current=null)},[s.currentId,s.isInstantPhase]),I.createElement(gR.Provider,{value:I.useMemo(()=>({...s,setState:i,setCurrentId:l}),[s,l])},t)}function FN(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:s}=e,{id:i,enabled:c=!0}=t,l=i??s,u=AN(),{currentId:d,setCurrentId:m,initialDelay:v,setState:y,timeoutMs:S}=u;return vs(()=>{c&&d&&(y({delay:{open:1,close:_u(v,"close")}}),d!==l&&n(!1))},[c,l,n,y,d,v]),vs(()=>{function w(){n(!1),y({delay:v,currentId:null})}if(c&&d&&!r&&d===l){if(S){const x=window.setTimeout(w,S);return()=>{clearTimeout(x)}}w()}},[c,r,y,d,l,n,v,S]),vs(()=>{c&&(m===Ev||!r||m(l))},[c,r,m,l]),u}function gg(e,t){let r=e.filter(s=>{var i;return s.parentId===t&&((i=s.context)==null?void 0:i.open)}),n=r;for(;n.length;)n=e.filter(s=>{var i;return(i=n)==null?void 0:i.some(c=>{var l;return s.parentId===c.id&&((l=s.context)==null?void 0:l.open)})}),r=r.concat(n);return r}const zN="data-floating-ui-focusable",BN={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},UN={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},D_=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function VN(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:s,dataRef:i}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:m=!1,referencePressEvent:v="pointerdown",ancestorScroll:y=!1,bubbles:S,capture:w}=t,x=Ly(),R=Ns(typeof u=="function"?u:()=>!1),T=typeof u=="function"?R:u,C=I.useRef(!1),h=I.useRef(!1),{escapeKey:g,outsidePress:b}=D_(S),{escapeKey:E,outsidePress:k}=D_(w),j=I.useRef(!1),M=Ns(K=>{var L;if(!r||!c||!l||K.key!=="Escape"||j.current)return;const F=(L=i.current.floatingContext)==null?void 0:L.nodeId,$=x?gg(x.nodesRef.current,F):[];if(!g&&(K.stopPropagation(),$.length>0)){let B=!0;if($.forEach(H=>{var V;if((V=H.context)!=null&&V.open&&!H.context.dataRef.current.__escapeKeyBubbles){B=!1;return}}),!B)return}n(!1,NM(K)?K.nativeEvent:K,"escape-key")}),N=Ns(K=>{var L;const F=()=>{var $;M(K),($=fa(K))==null||$.removeEventListener("keydown",F)};(L=fa(K))==null||L.addEventListener("keydown",F)}),A=Ns(K=>{var L;const F=C.current;C.current=!1;const $=h.current;if(h.current=!1,d==="click"&&$||F||typeof T=="function"&&!T(K))return;const B=fa(K),H="["+Oy("inert")+"]",V=ai(s.floating).querySelectorAll(H);let G=Ct(B)?B:null;for(;G&&!Io(G);){const ie=Fs(G);if(Io(ie)||!Ct(ie))break;G=ie}if(V.length&&Ct(B)&&!LM(B)&&!fl(B,s.floating)&&Array.from(V).every(ie=>!fl(G,ie)))return;if(sn(B)&&W){const ie=B.clientWidth>0&&B.scrollWidth>B.clientWidth,fe=B.clientHeight>0&&B.scrollHeight>B.clientHeight;let ce=fe&&K.offsetX>B.clientWidth;if(fe&&wn(B).direction==="rtl"&&(ce=K.offsetX<=B.offsetWidth-B.clientWidth),ce||ie&&K.offsetY>B.clientHeight)return}const se=(L=i.current.floatingContext)==null?void 0:L.nodeId,le=x&&gg(x.nodesRef.current,se).some(ie=>{var fe;return fg(K,(fe=ie.context)==null?void 0:fe.elements.floating)});if(fg(K,s.floating)||fg(K,s.domReference)||le)return;const Q=x?gg(x.nodesRef.current,se):[];if(Q.length>0){let ie=!0;if(Q.forEach(fe=>{var ce;if((ce=fe.context)!=null&&ce.open&&!fe.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}n(!1,K,"outside-press")}),O=Ns(K=>{var L;const F=()=>{var $;A(K),($=fa(K))==null||$.removeEventListener(d,F)};(L=fa(K))==null||L.addEventListener(d,F)});I.useEffect(()=>{if(!r||!c)return;i.current.__escapeKeyBubbles=g,i.current.__outsidePressBubbles=b;let K=-1;function L(V){n(!1,V,"ancestor-scroll")}function F(){window.clearTimeout(K),j.current=!0}function $(){K=window.setTimeout(()=>{j.current=!1},ep()?5:0)}const B=ai(s.floating);l&&(B.addEventListener("keydown",E?N:M,E),B.addEventListener("compositionstart",F),B.addEventListener("compositionend",$)),T&&B.addEventListener(d,k?O:A,k);let H=[];return y&&(Ct(s.domReference)&&(H=Ls(s.domReference)),Ct(s.floating)&&(H=H.concat(Ls(s.floating))),!Ct(s.reference)&&s.reference&&s.reference.contextElement&&(H=H.concat(Ls(s.reference.contextElement)))),H=H.filter(V=>{var G;return V!==((G=B.defaultView)==null?void 0:G.visualViewport)}),H.forEach(V=>{V.addEventListener("scroll",L,{passive:!0})}),()=>{l&&(B.removeEventListener("keydown",E?N:M,E),B.removeEventListener("compositionstart",F),B.removeEventListener("compositionend",$)),T&&B.removeEventListener(d,k?O:A,k),H.forEach(V=>{V.removeEventListener("scroll",L)}),window.clearTimeout(K)}},[i,s,l,T,d,r,n,y,c,g,b,M,E,N,A,k,O]),I.useEffect(()=>{C.current=!1},[T,d]);const U=I.useMemo(()=>({onKeyDown:M,[BN[v]]:K=>{m&&n(!1,K.nativeEvent,"reference-press")}}),[M,n,m,v]),W=I.useMemo(()=>({onKeyDown:M,onMouseDown(){h.current=!0},onMouseUp(){h.current=!0},[UN[d]]:()=>{C.current=!0}}),[M,d]);return I.useMemo(()=>c?{reference:U,floating:W}:{},[c,U,W])}function HN(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=mR(),i=I.useRef({}),[c]=I.useState(()=>MN()),l=Ny()!=null,[u,d]=I.useState(n.reference),m=Ns((S,w,x)=>{i.current.openEvent=S?w:void 0,c.emit("openchange",{open:S,event:w,reason:x,nested:l}),r==null||r(S,w,x)}),v=I.useMemo(()=>({setPositionReference:d}),[]),y=I.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return I.useMemo(()=>({dataRef:i,open:t,onOpenChange:m,elements:y,events:c,floatingId:s,refs:v}),[t,m,y,c,s,v])}function Ay(e){e===void 0&&(e={});const{nodeId:t}=e,r=HN({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,c]=I.useState(null),[l,u]=I.useState(null),m=(s==null?void 0:s.domReference)||i,v=I.useRef(null),y=Ly();vs(()=>{m&&(v.current=m)},[m]);const S=CN({...e,elements:{...s,...l&&{reference:l}}}),w=I.useCallback(h=>{const g=Ct(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;u(g),S.refs.setReference(g)},[S.refs]),x=I.useCallback(h=>{(Ct(h)||h===null)&&(v.current=h,c(h)),(Ct(S.refs.reference.current)||S.refs.reference.current===null||h!==null&&!Ct(h))&&S.refs.setReference(h)},[S.refs]),R=I.useMemo(()=>({...S.refs,setReference:x,setPositionReference:w,domReference:v}),[S.refs,x,w]),T=I.useMemo(()=>({...S.elements,domReference:m}),[S.elements,m]),C=I.useMemo(()=>({...S,...n,refs:R,elements:T,nodeId:t}),[S,R,T,t,n]);return vs(()=>{n.dataRef.current.floatingContext=C;const h=y==null?void 0:y.nodesRef.current.find(g=>g.id===t);h&&(h.context=C)}),I.useMemo(()=>({...S,context:C,refs:R,elements:T}),[S,R,T,C])}function WN(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:s,dataRef:i,elements:c}=e,{enabled:l=!0,visibleOnly:u=!0}=t,d=I.useRef(!1),m=I.useRef(),v=I.useRef(!0);I.useEffect(()=>{if(!l)return;const S=Br(c.domReference);function w(){!r&&sn(c.domReference)&&c.domReference===b_(ai(c.domReference))&&(d.current=!0)}function x(){v.current=!0}return S.addEventListener("blur",w),S.addEventListener("keydown",x,!0),()=>{S.removeEventListener("blur",w),S.removeEventListener("keydown",x,!0)}},[c.domReference,r,l]),I.useEffect(()=>{if(!l)return;function S(w){let{reason:x}=w;(x==="reference-press"||x==="escape-key")&&(d.current=!0)}return s.on("openchange",S),()=>{s.off("openchange",S)}},[s,l]),I.useEffect(()=>()=>{clearTimeout(m.current)},[]);const y=I.useMemo(()=>({onPointerDown(S){IM(S.nativeEvent)||(v.current=!1)},onMouseLeave(){d.current=!1},onFocus(S){if(d.current)return;const w=fa(S.nativeEvent);if(u&&Ct(w))try{if(jM()&&DM())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!v.current&&!AM(w))return}n(!0,S.nativeEvent,"focus")},onBlur(S){d.current=!1;const w=S.relatedTarget,x=S.nativeEvent,R=Ct(w)&&w.hasAttribute(Oy("focus-guard"))&&w.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var T;const C=b_(c.domReference?c.domReference.ownerDocument:document);!w&&C===c.domReference||fl((T=i.current.floatingContext)==null?void 0:T.refs.floating.current,C)||fl(c.domReference,C)||R||n(!1,x,"focus")})}}),[i,c.domReference,n,u]);return I.useMemo(()=>l?{reference:y}:{},[l,y])}const M_="active",N_="selected";function vg(e,t,r){const n=new Map,s=r==="item";let i=e;if(s&&e){const{[M_]:c,[N_]:l,...u}=e;i=u}return{...r==="floating"&&{tabIndex:-1,[zN]:""},...i,...t.map(c=>{const l=c?c[r]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((c,l)=>(l&&Object.entries(l).forEach(u=>{let[d,m]=u;if(!(s&&[M_,N_].includes(d)))if(d.indexOf("on")===0){if(n.has(d)||n.set(d,[]),typeof m=="function"){var v;(v=n.get(d))==null||v.push(m),c[d]=function(){for(var y,S=arguments.length,w=new Array(S),x=0;x<S;x++)w[x]=arguments[x];return(y=n.get(d))==null?void 0:y.map(R=>R(...w)).find(R=>R!==void 0)}}}else c[d]=m}),c),{})}}function qN(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),r=e.map(l=>l==null?void 0:l.floating),n=e.map(l=>l==null?void 0:l.item),s=I.useCallback(l=>vg(l,e,"reference"),t),i=I.useCallback(l=>vg(l,e,"floating"),r),c=I.useCallback(l=>vg(l,e,"item"),n);return I.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:c}),[s,i,c])}const GN=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function KN(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:s}=e,{enabled:i=!0,role:c="dialog"}=t,l=(r=GN.get(c))!=null?r:c,u=mR(),m=Ny()!=null,v=I.useMemo(()=>l==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?s:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":n?s:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:u},...l==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[l,s,m,n,u,c]),y=I.useMemo(()=>{const w={id:s,...l&&{role:l}};return l==="tooltip"||c==="label"?w:{...w,...l==="menu"&&{"aria-labelledby":u}}},[l,s,u,c]),S=I.useCallback(w=>{let{active:x,selected:R}=w;const T={role:"option",...x&&{id:s+"-option"}};switch(c){case"select":return{...T,"aria-selected":x&&R};case"combobox":return{...T,...x&&{"aria-selected":!0}}}return{}},[s,c]);return I.useMemo(()=>i?{reference:v,floating:y,item:S}:{},[i,v,y,S])}const[XN,bn]=cn("ScrollArea.Root component was not found in tree");function Ra(e,t){const r=oi(t);Pa(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const YN=I.forwardRef((e,t)=>{const{style:r,...n}=e,s=bn(),[i,c]=I.useState(0),[l,u]=I.useState(0),d=!!(i&&l);return Ra(s.scrollbarX,()=>{var v;const m=((v=s.scrollbarX)==null?void 0:v.offsetHeight)||0;s.onCornerHeightChange(m),u(m)}),Ra(s.scrollbarY,()=>{var v;const m=((v=s.scrollbarY)==null?void 0:v.offsetWidth)||0;s.onCornerWidthChange(m),c(m)}),d?p.jsx("div",{...n,ref:t,style:{...r,width:i,height:l}}):null}),QN=I.forwardRef((e,t)=>{const r=bn(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?p.jsx(YN,{...e,ref:t}):null}),JN={scrollHideDelay:1e3,type:"hover"},vR=I.forwardRef((e,t)=>{const r=ae("ScrollAreaRoot",JN,e),{type:n,scrollHideDelay:s,scrollbars:i,...c}=r,[l,u]=I.useState(null),[d,m]=I.useState(null),[v,y]=I.useState(null),[S,w]=I.useState(null),[x,R]=I.useState(null),[T,C]=I.useState(0),[h,g]=I.useState(0),[b,E]=I.useState(!1),[k,j]=I.useState(!1),M=er(t,N=>u(N));return p.jsx(XN,{value:{type:n,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:m,content:v,onContentChange:y,scrollbarX:S,onScrollbarXChange:w,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:R,scrollbarYEnabled:k,onScrollbarYEnabledChange:j,onCornerWidthChange:C,onCornerHeightChange:g},children:p.jsx(ne,{...c,ref:M,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${T}px`,"--sa-corner-height":i!=="xy"?"0px":`${h}px`}})})});vR.displayName="@mantine/core/ScrollAreaRoot";function yR(e,t){const r=e/t;return Number.isNaN(r)?0:r}function rp(e){const t=yR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function wR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ZN(e,[t,r]){return Math.min(r,Math.max(t,e))}function L_(e,t,r="ltr"){const n=rp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,c=t.content-t.viewport,l=i-n,u=r==="ltr"?[0,c]:[c*-1,0],d=ZN(e,u);return wR([0,c],[0,l])(d)}function eL(e,t,r,n="ltr"){const s=rp(r),i=s/2,c=t||i,l=s-c,u=r.scrollbar.paddingStart+c,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,v=n==="ltr"?[0,m]:[m*-1,0];return wR([u,d],v)(e)}function SR(e,t){return e>0&&e<t}function If(e){return e?parseInt(e,10):0}function ui(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[tL,bR]=cn("ScrollAreaScrollbar was not found in tree"),_R=I.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:m,...v}=e,y=bn(),[S,w]=I.useState(null),x=er(t,j=>w(j)),R=I.useRef(null),T=I.useRef(""),{viewport:C}=y,h=r.content-r.viewport,g=oi(d),b=oi(l),E=qf(m,10),k=j=>{if(R.current){const M=j.clientX-R.current.left,N=j.clientY-R.current.top;u({x:M,y:N})}};return I.useEffect(()=>{const j=M=>{const N=M.target;(S==null?void 0:S.contains(N))&&g(M,h)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[C,S,h,g]),I.useEffect(b,[r,b]),Ra(S,E),Ra(y.content,E),p.jsx(tL,{value:{scrollbar:S,hasThumb:n,onThumbChange:oi(s),onThumbPointerUp:oi(i),onThumbPositionChange:b,onThumbPointerDown:oi(c)},children:p.jsx("div",{...v,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...v.style},onPointerDown:ui(e.onPointerDown,j=>{j.preventDefault(),j.button===0&&(j.target.setPointerCapture(j.pointerId),R.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(j))}),onPointerMove:ui(e.onPointerMove,k),onPointerUp:ui(e.onPointerUp,j=>{const M=j.target;M.hasPointerCapture(j.pointerId)&&(j.preventDefault(),M.releasePointerCapture(j.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,R.current=null}})})}),xR=I.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,c=bn(),[l,u]=I.useState(),d=I.useRef(null),m=er(t,d,c.onScrollbarXChange);return I.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),p.jsx(_R,{"data-orientation":"horizontal",...i,ref:m,sizes:r,style:{...s,"--sa-thumb-width":`${rp(r)}px`},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,y)=>{if(c.viewport){const S=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(S),SR(S,y)&&v.preventDefault()}},onResize:()=>{d.current&&c.viewport&&l&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:If(l.paddingLeft),paddingEnd:If(l.paddingRight)}})}})});xR.displayName="@mantine/core/ScrollAreaScrollbarX";const CR=I.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,c=bn(),[l,u]=I.useState(),d=I.useRef(null),m=er(t,d,c.onScrollbarYChange);return I.useEffect(()=>{d.current&&u(window.getComputedStyle(d.current))},[]),p.jsx(_R,{...i,"data-orientation":"vertical",ref:m,sizes:r,style:{"--sa-thumb-height":`${rp(r)}px`,...s},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,y)=>{if(c.viewport){const S=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(S),SR(S,y)&&v.preventDefault()}},onResize:()=>{d.current&&c.viewport&&l&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:If(l.paddingTop),paddingEnd:If(l.paddingBottom)}})}})});CR.displayName="@mantine/core/ScrollAreaScrollbarY";const np=I.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:s}=No(),i=bn(),c=I.useRef(null),l=I.useRef(0),[u,d]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=yR(u.viewport,u.content),v={...n,sizes:u,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:S=>{l.current=S}},y=(S,w)=>eL(S,l.current,u,w);return r==="horizontal"?p.jsx(xR,{...v,ref:t,onThumbPositionChange:()=>{if(i.viewport&&c.current){const S=i.viewport.scrollLeft,w=L_(S,u,s);c.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:S=>{i.viewport&&(i.viewport.scrollLeft=S)},onDragScroll:S=>{i.viewport&&(i.viewport.scrollLeft=y(S,s))}}):r==="vertical"?p.jsx(CR,{...v,ref:t,onThumbPositionChange:()=>{if(i.viewport&&c.current){const S=i.viewport.scrollTop,w=L_(S,u);u.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:S=>{i.viewport&&(i.viewport.scrollTop=S)},onDragScroll:S=>{i.viewport&&(i.viewport.scrollTop=y(S))}}):null});np.displayName="@mantine/core/ScrollAreaScrollbarVisible";const $y=I.forwardRef((e,t)=>{const r=bn(),{forceMount:n,...s}=e,[i,c]=I.useState(!1),l=e.orientation==="horizontal",u=qf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?d:m)}},10);return Ra(r.viewport,u),Ra(r.content,u),n||i?p.jsx(np,{"data-state":i?"visible":"hidden",...s,ref:t}):null});$y.displayName="@mantine/core/ScrollAreaScrollbarAuto";const RR=I.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bn(),[i,c]=I.useState(!1);return I.useEffect(()=>{const{scrollArea:l}=s;let u=0;if(l){const d=()=>{window.clearTimeout(u),c(!0)},m=()=>{u=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),r||i?p.jsx($y,{"data-state":i?"visible":"hidden",...n,ref:t}):null});RR.displayName="@mantine/core/ScrollAreaScrollbarHover";const rL=I.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bn(),i=e.orientation==="horizontal",[c,l]=I.useState("hidden"),u=qf(()=>l("idle"),100);return I.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay]),I.useEffect(()=>{const{viewport:d}=s,m=i?"scrollLeft":"scrollTop";if(d){let v=d[m];const y=()=>{const S=d[m];v!==S&&(l("scrolling"),u()),v=S};return d.addEventListener("scroll",y),()=>d.removeEventListener("scroll",y)}},[s.viewport,i,u]),r||c!=="hidden"?p.jsx(np,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ui(e.onPointerEnter,()=>l("interacting")),onPointerLeave:ui(e.onPointerLeave,()=>l("idle"))}):null}),Tv=I.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bn(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=s,l=e.orientation==="horizontal";return I.useEffect(()=>(l?i(!0):c(!0),()=>{l?i(!1):c(!1)}),[l,i,c]),s.type==="hover"?p.jsx(RR,{...n,ref:t,forceMount:r}):s.type==="scroll"?p.jsx(rL,{...n,ref:t,forceMount:r}):s.type==="auto"?p.jsx($y,{...n,ref:t,forceMount:r}):s.type==="always"?p.jsx(np,{...n,ref:t}):null});Tv.displayName="@mantine/core/ScrollAreaScrollbar";function nL(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},c=r.left!==i.left,l=r.top!==i.top;(c||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)}const ER=I.forwardRef((e,t)=>{const{style:r,...n}=e,s=bn(),i=bR(),{onThumbPositionChange:c}=i,l=er(t,m=>i.onThumbChange(m)),u=I.useRef(void 0),d=qf(()=>{u.current&&(u.current(),u.current=void 0)},100);return I.useEffect(()=>{const{viewport:m}=s;if(m){const v=()=>{if(d(),!u.current){const y=nL(m,c);u.current=y,c()}};return c(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,d,c]),p.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:ui(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),S=m.clientX-y.left,w=m.clientY-y.top;i.onThumbPointerDown({x:S,y:w})}),onPointerUp:ui(e.onPointerUp,i.onThumbPointerUp)})});ER.displayName="@mantine/core/ScrollAreaThumb";const kv=I.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bR();return r||s.hasThumb?p.jsx(ER,{ref:t,...n}):null});kv.displayName="@mantine/core/ScrollAreaThumb";const TR=I.forwardRef(({children:e,style:t,...r},n)=>{const s=bn(),i=er(n,s.onViewportChange);return p.jsx(ne,{...r,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:p.jsx("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange,children:e})})});TR.displayName="@mantine/core/ScrollAreaViewport";var Fy={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const kR={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},sL=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":oe(t),"--scrollarea-over-scroll-behavior":r}}),Nt=ve((e,t)=>{const r=ae("ScrollArea",kR,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,scrollbarSize:u,vars:d,type:m,scrollHideDelay:v,viewportProps:y,viewportRef:S,onScrollPositionChange:w,children:x,offsetScrollbars:R,scrollbars:T,onBottomReached:C,onTopReached:h,overscrollBehavior:g,...b}=r,[E,k]=I.useState(!1),[j,M]=I.useState(!1),[N,A]=I.useState(!1),O=ze({name:"ScrollArea",props:r,classes:Fy,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:sL}),U=I.useRef(null),W=TN([S,U]);return I.useEffect(()=>{if(!U.current||R!=="present")return;const K=U.current,L=new ResizeObserver(()=>{const{scrollHeight:F,clientHeight:$,scrollWidth:B,clientWidth:H}=K;M(F>$),A(B>H)});return L.observe(K),()=>L.disconnect()},[U,R]),p.jsxs(vR,{type:m==="never"?"always":m,scrollHideDelay:v,ref:t,scrollbars:T,...O("root"),...b,children:[p.jsx(TR,{...y,...O("viewport",{style:y==null?void 0:y.style}),ref:W,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":R==="present"&&!N?"true":void 0,"data-vertical-hidden":R==="present"&&!j?"true":void 0,onScroll:K=>{var B;(B=y==null?void 0:y.onScroll)==null||B.call(y,K),w==null||w({x:K.currentTarget.scrollLeft,y:K.currentTarget.scrollTop});const{scrollTop:L,scrollHeight:F,clientHeight:$}=K.currentTarget;L-(F-$)>=0&&(C==null||C()),L===0&&(h==null||h())},children:x}),(T==="xy"||T==="x")&&p.jsx(Tv,{...O("scrollbar"),orientation:"horizontal","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:p.jsx(kv,{...O("thumb")})}),(T==="xy"||T==="y")&&p.jsx(Tv,{...O("scrollbar"),orientation:"vertical","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:p.jsx(kv,{...O("thumb")})}),p.jsx(QN,{...O("corner"),"data-hovered":E||void 0,"data-hidden":m==="never"||void 0})]})});Nt.displayName="@mantine/core/ScrollArea";const zy=ve((e,t)=>{const{children:r,classNames:n,styles:s,scrollbarSize:i,scrollHideDelay:c,type:l,dir:u,offsetScrollbars:d,viewportRef:m,onScrollPositionChange:v,unstyled:y,variant:S,viewportProps:w,scrollbars:x,style:R,vars:T,onBottomReached:C,onTopReached:h,...g}=ae("ScrollAreaAutosize",kR,e);return p.jsx(ne,{...g,ref:t,style:[{display:"flex",overflow:"auto"},R],children:p.jsx(ne,{style:{display:"flex",flexDirection:"column",flex:1},children:p.jsx(Nt,{classNames:n,styles:s,scrollHideDelay:c,scrollbarSize:i,type:l,dir:u,offsetScrollbars:d,viewportRef:m,onScrollPositionChange:v,unstyled:y,variant:S,viewportProps:w,vars:T,scrollbars:x,onBottomReached:C,onTopReached:h,children:r})})})});Nt.classes=Fy;zy.displayName="@mantine/core/ScrollAreaAutosize";zy.classes=Fy;Nt.Autosize=zy;var PR={root:"m_87cf2631"};const oL={__staticSelector:"UnstyledButton"},rs=hr((e,t)=>{const r=ae("UnstyledButton",oL,e),{className:n,component:s="button",__staticSelector:i,unstyled:c,classNames:l,styles:u,style:d,...m}=r,v=ze({name:i,props:r,classes:PR,className:n,style:d,classNames:l,styles:u,unstyled:c});return p.jsx(ne,{...v("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...m})});rs.classes=PR;rs.displayName="@mantine/core/UnstyledButton";var IR={root:"m_515a97f8"};const iL={},By=ve((e,t)=>{const r=ae("VisuallyHidden",iL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,...d}=r,m=ze({name:"VisuallyHidden",classes:IR,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l});return p.jsx(ne,{component:"span",ref:t,...m("root"),...d})});By.classes=IR;By.displayName="@mantine/core/VisuallyHidden";var jR={root:"m_1b7284a3"};const aL={},cL=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Lt(t),"--paper-shadow":my(r)}}),El=hr((e,t)=>{const r=ae("Paper",aL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,withBorder:u,vars:d,radius:m,shadow:v,variant:y,mod:S,...w}=r,x=ze({name:"Paper",props:r,classes:jR,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:cL});return p.jsx(ne,{ref:t,mod:[{"data-with-border":u},S],...x("root"),variant:y,...w})});El.classes=jR;El.displayName="@mantine/core/Paper";function DR(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),s=r==="right"?"left":"right";return n===void 0?s:`${s}-${n}`}return t}function O_(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function A_(e,t,r,n,s){return e==="center"||n==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const lL={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function dL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,arrowX:i,arrowY:c,dir:l}){const[u,d="center"]=e.split("-"),m={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[lL[u]]:n},v=-t/2;return u==="left"?{...m,...O_(d,c,r,s),right:v,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...m,...O_(d,c,r,s),left:v,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...m,...A_(d,i,r,s,l),bottom:v,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...m,...A_(d,i,r,s,l),top:v,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Uy=I.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,visible:i,arrowX:c,arrowY:l,style:u,...d},m)=>{const{dir:v}=No();return i?p.jsx("div",{...d,ref:m,style:{...u,...dL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,dir:v,arrowX:c,arrowY:l})}}):null});Uy.displayName="@mantine/core/FloatingArrow";var MR={root:"m_9814e45f"};const uL={zIndex:Gr("modal")},fL=(e,{gradient:t,color:r,backgroundOpacity:n,blur:s,radius:i,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&hs(r||"#000",n??.6)||void 0,"--overlay-filter":s?`blur(${oe(s)})`:void 0,"--overlay-radius":i===void 0?void 0:Lt(i),"--overlay-z-index":c==null?void 0:c.toString()}}),sp=hr((e,t)=>{const r=ae("Overlay",uL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,fixed:d,center:m,children:v,radius:y,zIndex:S,gradient:w,blur:x,color:R,backgroundOpacity:T,mod:C,...h}=r,g=ze({name:"Overlay",props:r,classes:MR,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:fL});return p.jsx(ne,{ref:t,...g("root"),mod:[{center:m,fixed:d},C],...h,children:v})});sp.classes=MR;sp.displayName="@mantine/core/Overlay";function yg(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function pL({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||yg(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const s=yg(r);return s.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(s),s}return yg(r)}const hL={},NR=ve((e,t)=>{const{children:r,target:n,reuseTargetNode:s,...i}=ae("Portal",hL,e),[c,l]=I.useState(!1),u=I.useRef(null);return Pa(()=>(l(!0),u.current=pL({target:n,reuseTargetNode:s,...i}),Cf(t,u.current),!n&&!s&&u.current&&document.body.appendChild(u.current),()=>{!n&&!s&&u.current&&document.body.removeChild(u.current)}),[n]),!c||!u.current?null:Qf.createPortal(p.jsx(p.Fragment,{children:r}),u.current)});NR.displayName="@mantine/core/Portal";const xi=ve(({withinPortal:e=!0,children:t,...r},n)=>HC()==="test"||!e?p.jsx(p.Fragment,{children:t}):p.jsx(NR,{ref:n,...r,children:t}));xi.displayName="@mantine/core/OptionalPortal";const Mc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),ou={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Mc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Mc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Mc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Mc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Mc("top"),common:{transformOrigin:"top right"}}},$_={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function mL({transition:e,state:t,duration:r,timingFunction:n}){const s={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in ou?{transitionProperty:ou[e].transitionProperty,...s,...ou[e].common,...ou[e][$_[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[$_[t]]}}function gL({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:s,onExit:i,onEntered:c,onExited:l,enterDelay:u,exitDelay:d}){const m=ir(),v=Gf(),y=m.respectReducedMotion?v:!1,[S,w]=I.useState(y?0:e),[x,R]=I.useState(n?"entered":"exited"),T=I.useRef(-1),C=I.useRef(-1),h=I.useRef(-1),g=E=>{const k=E?s:i,j=E?c:l;window.clearTimeout(T.current);const M=y?0:E?e:t;w(M),M===0?(typeof k=="function"&&k(),typeof j=="function"&&j(),R(E?"entered":"exited")):h.current=requestAnimationFrame(()=>{Kc.flushSync(()=>{R(E?"pre-entering":"pre-exiting")}),h.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),R(E?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof j=="function"&&j(),R(E?"entered":"exited")},M)})})},b=E=>{if(window.clearTimeout(C.current),typeof(E?u:d)!="number"){g(E);return}C.current=window.setTimeout(()=>{g(E)},E?u:d)};return Hr(()=>{b(n)},[n]),I.useEffect(()=>()=>{window.clearTimeout(T.current),cancelAnimationFrame(h.current)},[]),{transitionDuration:S,transitionStatus:x,transitionTimingFunction:r||"ease"}}function qs({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:s,children:i,timingFunction:c="ease",onExit:l,onEntered:u,onEnter:d,onExited:m,enterDelay:v,exitDelay:y}){const S=HC(),{transitionDuration:w,transitionStatus:x,transitionTimingFunction:R}=gL({mounted:s,exitDuration:n,duration:r,timingFunction:c,onExit:l,onEntered:u,onEnter:d,onExited:m,enterDelay:v,exitDelay:y});return w===0||S==="test"?s?p.jsx(p.Fragment,{children:i({})}):e?i({display:"none"}):null:x==="exited"?e?i({display:"none"}):null:p.jsx(p.Fragment,{children:i(mL({transition:t,duration:w,state:x,timingFunction:R}))})}qs.displayName="@mantine/core/Transition";const[vL,LR]=cn("Popover component was not found in the tree");function op({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const s=n2(t),i=er(s,n);return Do(e)?I.cloneElement(e,{[r]:i}):e}function OR(e){return p.jsx(By,{tabIndex:-1,"data-autofocus":!0,...e})}op.displayName="@mantine/core/FocusTrap";OR.displayName="@mantine/core/FocusTrapInitialFocus";op.InitialFocus=OR;var AR={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const yL={},Vy=ve((e,t)=>{var R,T,C,h;const r=ae("PopoverDropdown",yL,e),{className:n,style:s,vars:i,children:c,onKeyDownCapture:l,variant:u,classNames:d,styles:m,...v}=r,y=LR(),S=OC({opened:y.opened,shouldReturnFocus:y.returnFocus}),w=y.withRoles?{"aria-labelledby":y.getTargetId(),id:y.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=er(t,y.floating);return y.disabled?null:p.jsx(xi,{...y.portalProps,withinPortal:y.withinPortal,children:p.jsx(qs,{mounted:y.opened,...y.transitionProps,transition:((R=y.transitionProps)==null?void 0:R.transition)||"fade",duration:((T=y.transitionProps)==null?void 0:T.duration)??150,keepMounted:y.keepMounted,exitDuration:typeof((C=y.transitionProps)==null?void 0:C.exitDuration)=="number"?y.transitionProps.exitDuration:(h=y.transitionProps)==null?void 0:h.duration,children:g=>p.jsx(op,{active:y.trapFocus&&y.opened,innerRef:x,children:p.jsxs(ne,{...w,...v,variant:u,onKeyDownCapture:BD(()=>{var b,E;(b=y.onClose)==null||b.call(y),(E=y.onDismiss)==null||E.call(y)},{active:y.closeOnEscape,onTrigger:S,onKeyDown:l}),"data-position":y.placement,"data-fixed":y.floatingStrategy==="fixed"||void 0,...y.getStyles("dropdown",{className:n,props:r,classNames:d,styles:m,style:[{...g,zIndex:y.zIndex,top:y.y??0,left:y.x??0,width:y.width==="target"?void 0:oe(y.width)},y.resolvedStyles.dropdown,m==null?void 0:m.dropdown,s]}),children:[c,p.jsx(Uy,{ref:y.arrowRef,arrowX:y.arrowX,arrowY:y.arrowY,visible:y.withArrow,position:y.placement,arrowSize:y.arrowSize,arrowRadius:y.arrowRadius,arrowOffset:y.arrowOffset,arrowPosition:y.arrowPosition,...y.getStyles("arrow",{props:r,classNames:d,styles:m})})]})})})})});Vy.classes=AR;Vy.displayName="@mantine/core/PopoverDropdown";const wL={refProp:"ref",popupType:"dialog"},$R=ve((e,t)=>{const{children:r,refProp:n,popupType:s,...i}=ae("PopoverTarget",wL,e);if(!Do(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=i,l=LR(),u=er(l.reference,Kf(r),t),d=l.withRoles?{"aria-haspopup":s,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return I.cloneElement(r,{...c,...d,...l.targetProps,className:Zt(l.targetProps.className,c.className,r.props.className),[n]:u,...l.controlled?null:{onClick:l.onToggle}})});$R.displayName="@mantine/core/PopoverTarget";function FR({opened:e,floating:t,position:r,positionDependencies:n}){const[s,i]=I.useState(0);I.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return gN(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,r]),Hr(()=>{t.update()},n),Hr(()=>{i(c=>c+1)},[e])}function SL(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function bL(e,t){const r=SL(e.middlewares),n=[fR(e.offset)];return r.shift&&n.push(My(typeof r.shift=="boolean"?{limiter:k_(),padding:5}:{limiter:k_(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?Pf():Pf(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?tl():tl(r.inline)),n.push(pR({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(EN({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:i,availableHeight:c,...l}){var m;const d=((m=t().refs.floating.current)==null?void 0:m.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:i,availableHeight:c,...l}):Object.assign(d,{maxWidth:`${i}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(d,{width:`${s.reference.width}px`})}})),n}function _L(e){const[t,r]=Dr({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=I.useRef(t),s=()=>{t&&r(!1)},i=()=>r(!t),c=Ay({strategy:e.strategy,placement:e.position,middleware:bL(e,()=>c)});return FR({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Hr(()=>{var l;(l=e.onPositionChange)==null||l.call(e,c.placement)},[c.placement]),Hr(()=>{var l,u;t!==n.current&&(t?(u=e.onOpen)==null||u.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:s,onToggle:i}}const xL={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Gr("popover"),__staticSelector:"Popover",width:"max-content"},CL=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Lt(t),"--popover-shadow":my(r)}});function pr(e){var De,ke,Fe,Ce,Ye,ft;const t=ae("Popover",xL,e),{children:r,position:n,offset:s,onPositionChange:i,positionDependencies:c,opened:l,transitionProps:u,onExitTransitionEnd:d,onEnterTransitionEnd:m,width:v,middlewares:y,withArrow:S,arrowSize:w,arrowOffset:x,arrowRadius:R,arrowPosition:T,unstyled:C,classNames:h,styles:g,closeOnClickOutside:b,withinPortal:E,portalProps:k,closeOnEscape:j,clickOutsideEvents:M,trapFocus:N,onClose:A,onDismiss:O,onOpen:U,onChange:W,zIndex:K,radius:L,shadow:F,id:$,defaultOpened:B,__staticSelector:H,withRoles:V,disabled:G,returnFocus:se,variant:le,keepMounted:Q,vars:ie,floatingStrategy:fe,withOverlay:ce,overlayProps:ye,...Oe}=t,Ae=ze({name:H,props:t,classes:AR,classNames:h,styles:g,unstyled:C,rootSelector:"dropdown",vars:ie,varsResolver:CL}),{resolvedStyles:it}=_i({classNames:h,styles:g,props:t}),ht=I.useRef(null),[tt,dt]=I.useState(null),[mt,he]=I.useState(null),{dir:_e}=No(),Pe=Ws($),$e=_L({middlewares:y,width:v,position:DR(_e,n),offset:typeof s=="number"?s+(S?w/2:0):s,arrowRef:ht,arrowOffset:x,onPositionChange:i,positionDependencies:c,opened:l,defaultOpened:B,onChange:W,onOpen:U,onClose:A,onDismiss:O,strategy:fe});GD(()=>{b&&($e.onClose(),O==null||O())},M,[tt,mt]);const Ue=I.useCallback(rt=>{dt(rt),$e.floating.refs.setReference(rt)},[$e.floating.refs.setReference]),Be=I.useCallback(rt=>{he(rt),$e.floating.refs.setFloating(rt)},[$e.floating.refs.setFloating]),qe=I.useCallback(()=>{var rt;(rt=u==null?void 0:u.onExited)==null||rt.call(u),d==null||d()},[u==null?void 0:u.onExited,d]),ge=I.useCallback(()=>{var rt;(rt=u==null?void 0:u.onEntered)==null||rt.call(u),m==null||m()},[u==null?void 0:u.onEntered,m]);return p.jsxs(vL,{value:{returnFocus:se,disabled:G,controlled:$e.controlled,reference:Ue,floating:Be,x:$e.floating.x,y:$e.floating.y,arrowX:(Fe=(ke=(De=$e.floating)==null?void 0:De.middlewareData)==null?void 0:ke.arrow)==null?void 0:Fe.x,arrowY:(ft=(Ye=(Ce=$e.floating)==null?void 0:Ce.middlewareData)==null?void 0:Ye.arrow)==null?void 0:ft.y,opened:$e.opened,arrowRef:ht,transitionProps:{...u,onExited:qe,onEntered:ge},width:v,withArrow:S,arrowSize:w,arrowOffset:x,arrowRadius:R,arrowPosition:T,placement:$e.floating.placement,trapFocus:N,withinPortal:E,portalProps:k,zIndex:K,radius:L,shadow:F,closeOnEscape:j,onDismiss:O,onClose:$e.onClose,onToggle:$e.onToggle,getTargetId:()=>`${Pe}-target`,getDropdownId:()=>`${Pe}-dropdown`,withRoles:V,targetProps:Oe,__staticSelector:H,classNames:h,styles:g,unstyled:C,variant:le,keepMounted:Q,getStyles:Ae,resolvedStyles:it,floatingStrategy:fe},children:[r,ce&&p.jsx(qs,{transition:"fade",mounted:$e.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:rt=>p.jsx(xi,{withinPortal:E,children:p.jsx(sp,{...ye,...Ae("overlay",{className:ye==null?void 0:ye.className,style:[rt,ye==null?void 0:ye.style]})})})})]})}pr.Target=$R;pr.Dropdown=Vy;pr.displayName="@mantine/core/Popover";pr.extend=e=>e;var Zn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const zR=I.forwardRef(({className:e,...t},r)=>p.jsxs(ne,{component:"span",className:Zt(Zn.barsLoader,e),...t,ref:r,children:[p.jsx("span",{className:Zn.bar}),p.jsx("span",{className:Zn.bar}),p.jsx("span",{className:Zn.bar})]}));zR.displayName="@mantine/core/Bars";const BR=I.forwardRef(({className:e,...t},r)=>p.jsxs(ne,{component:"span",className:Zt(Zn.dotsLoader,e),...t,ref:r,children:[p.jsx("span",{className:Zn.dot}),p.jsx("span",{className:Zn.dot}),p.jsx("span",{className:Zn.dot})]}));BR.displayName="@mantine/core/Dots";const UR=I.forwardRef(({className:e,...t},r)=>p.jsx(ne,{component:"span",className:Zt(Zn.ovalLoader,e),...t,ref:r}));UR.displayName="@mantine/core/Oval";const VR={bars:zR,oval:UR,dots:BR},RL={loaders:VR,type:"oval"},EL=(e,{size:t,color:r})=>({root:{"--loader-size":Ke(t,"loader-size"),"--loader-color":r?Cr(r,e):void 0}}),Lo=ve((e,t)=>{const r=ae("Loader",RL,e),{size:n,color:s,type:i,vars:c,className:l,style:u,classNames:d,styles:m,unstyled:v,loaders:y,variant:S,children:w,...x}=r,R=ze({name:"Loader",props:r,classes:Zn,className:l,style:u,classNames:d,styles:m,unstyled:v,vars:c,varsResolver:EL});return w?p.jsx(ne,{...R("root"),ref:t,...x,children:w}):p.jsx(ne,{...R("root"),ref:t,component:y[i],variant:S,size:n,...x})});Lo.defaultLoaders=VR;Lo.classes=Zn;Lo.displayName="@mantine/core/Loader";var Na={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const F_={orientation:"horizontal"},TL=(e,{borderWidth:t})=>({group:{"--ai-border-width":oe(t)}}),Hy=ve((e,t)=>{const r=ae("ActionIconGroup",F_,e),{className:n,style:s,classNames:i,styles:c,unstyled:l,orientation:u,vars:d,borderWidth:m,variant:v,mod:y,...S}=ae("ActionIconGroup",F_,e),w=ze({name:"ActionIconGroup",props:r,classes:Na,className:n,style:s,classNames:i,styles:c,unstyled:l,vars:d,varsResolver:TL,rootSelector:"group"});return p.jsx(ne,{...w("group"),ref:t,variant:v,mod:[{"data-orientation":u},y],role:"group",...S})});Hy.classes=Na;Hy.displayName="@mantine/core/ActionIconGroup";const z_={},kL=(e,{radius:t,color:r,gradient:n,variant:s,autoContrast:i,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:i});return{groupSection:{"--section-height":Ke(c,"section-height"),"--section-padding-x":Ke(c,"section-padding-x"),"--section-fz":fr(c),"--section-radius":t===void 0?void 0:Lt(t),"--section-bg":r||s?l.background:void 0,"--section-color":l.color,"--section-bd":r||s?l.border:void 0}}},Wy=ve((e,t)=>{const r=ae("ActionIconGroupSection",z_,e),{className:n,style:s,classNames:i,styles:c,unstyled:l,vars:u,variant:d,gradient:m,radius:v,autoContrast:y,...S}=ae("ActionIconGroupSection",z_,e),w=ze({name:"ActionIconGroupSection",props:r,classes:Na,className:n,style:s,classNames:i,styles:c,unstyled:l,vars:u,varsResolver:kL,rootSelector:"groupSection"});return p.jsx(ne,{...w("groupSection"),ref:t,variant:d,...S})});Wy.classes=Na;Wy.displayName="@mantine/core/ActionIconGroupSection";const PL={},IL=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:c})=>{const l=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":Ke(t,"ai-size"),"--ai-radius":r===void 0?void 0:Lt(r),"--ai-bg":i||n?l.background:void 0,"--ai-hover":i||n?l.hover:void 0,"--ai-hover-color":i||n?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":i||n?l.border:void 0}}},et=hr((e,t)=>{const r=ae("ActionIcon",PL,e),{className:n,unstyled:s,variant:i,classNames:c,styles:l,style:u,loading:d,loaderProps:m,size:v,color:y,radius:S,__staticSelector:w,gradient:x,vars:R,children:T,disabled:C,"data-disabled":h,autoContrast:g,mod:b,...E}=r,k=ze({name:["ActionIcon",w],props:r,className:n,style:u,classes:Na,classNames:c,styles:l,unstyled:s,vars:R,varsResolver:IL});return p.jsxs(rs,{...k("root",{active:!C&&!d&&!h}),...E,unstyled:s,variant:i,size:v,disabled:C||d,ref:t,mod:[{loading:d,disabled:C||h},b],children:[p.jsx(qs,{mounted:!!d,transition:"slide-down",duration:150,children:j=>p.jsx(ne,{component:"span",...k("loader",{style:j}),"aria-hidden":!0,children:p.jsx(Lo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...m})})}),p.jsx(ne,{component:"span",mod:{loading:d},...k("icon"),children:T})]})});et.classes=Na;et.displayName="@mantine/core/ActionIcon";et.Group=Hy;et.GroupSection=Wy;const HR=I.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:p.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));HR.displayName="@mantine/core/CloseIcon";var WR={root:"m_86a44da5","root--subtle":"m_220c80f2"};const jL={variant:"subtle"},DL=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Ke(t,"cb-size"),"--cb-radius":r===void 0?void 0:Lt(r),"--cb-icon-size":oe(n)}}),La=hr((e,t)=>{const r=ae("CloseButton",jL,e),{iconSize:n,children:s,vars:i,radius:c,className:l,classNames:u,style:d,styles:m,unstyled:v,"data-disabled":y,disabled:S,variant:w,icon:x,mod:R,__staticSelector:T,...C}=r,h=ze({name:T||"CloseButton",props:r,className:l,style:d,classes:WR,classNames:u,styles:m,unstyled:v,vars:i,varsResolver:DL});return p.jsxs(rs,{ref:t,...C,unstyled:v,variant:w,disabled:S,mod:[{disabled:S||y},R],...h("root",{variant:w,active:!S&&!y}),children:[x||p.jsx(HR,{}),s]})});La.classes=WR;La.displayName="@mantine/core/CloseButton";function ML(e){return I.Children.toArray(e).filter(Boolean)}var qR={root:"m_4081bf90"};const NL={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},LL=(e,{grow:t,preventGrowOverflow:r,gap:n,align:s,justify:i,wrap:c},{childWidth:l})=>({root:{"--group-child-width":t&&r?l:void 0,"--group-gap":or(n),"--group-align":s,"--group-justify":i,"--group-wrap":c}}),Se=ve((e,t)=>{const r=ae("Group",NL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,children:u,gap:d,align:m,justify:v,wrap:y,grow:S,preventGrowOverflow:w,vars:x,variant:R,__size:T,mod:C,...h}=r,g=ML(u),b=g.length,E=or(d??"md"),j={childWidth:`calc(${100/b}% - (${E} - ${E} / ${b}))`},M=ze({name:"Group",props:r,stylesCtx:j,className:s,style:i,classes:qR,classNames:n,styles:c,unstyled:l,vars:x,varsResolver:LL});return p.jsx(ne,{...M("root"),ref:t,variant:R,mod:[{grow:S},C],size:T,...h,children:g})});Se.classes=qR;Se.displayName="@mantine/core/Group";const[OL,Gs]=cn("ModalBase component was not found in tree");function AL({opened:e,transitionDuration:t}){const[r,n]=I.useState(e),s=I.useRef(-1),c=Gf()?0:t;return I.useEffect(()=>(e?(n(!0),window.clearTimeout(s.current)):c===0?n(!1):s.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(s.current)),[e,c]),r}function $L({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:s,onClose:i,returnFocus:c}){const l=Ws(e),[u,d]=I.useState(!1),[m,v]=I.useState(!1),y=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=AL({opened:r,transitionDuration:y});return c2("keydown",w=>{var x;w.key==="Escape"&&s&&r&&((x=w.target)==null?void 0:x.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),OC({opened:r,shouldReturnFocus:n&&c}),{_id:l,titleMounted:u,bodyMounted:m,shouldLockScroll:S,setTitleMounted:d,setBodyMounted:v}}const qy=I.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:s,onExitTransitionEnd:i,onEnterTransitionEnd:c,trapFocus:l,closeOnEscape:u,returnFocus:d,closeOnClickOutside:m,withinPortal:v,portalProps:y,lockScroll:S,children:w,zIndex:x,shadow:R,padding:T,__vars:C,unstyled:h,removeScrollProps:g,...b},E)=>{const{_id:k,titleMounted:j,bodyMounted:M,shouldLockScroll:N,setTitleMounted:A,setBodyMounted:O}=$L({id:n,transitionProps:s,opened:t,trapFocus:l,closeOnEscape:u,onClose:r,returnFocus:d}),{key:U,...W}=g||{};return p.jsx(xi,{...y,withinPortal:v,children:p.jsx(OL,{value:{opened:t,onClose:r,closeOnClickOutside:m,onExitTransitionEnd:i,onEnterTransitionEnd:c,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:j,bodyMounted:M,setTitleMounted:A,setBodyMounted:O,trapFocus:l,closeOnEscape:u,zIndex:x,unstyled:h},children:p.jsx(_f,{enabled:N&&S,...W,children:p.jsx(ne,{ref:E,...b,__vars:{...C,"--mb-z-index":(x||Gr("modal")).toString(),"--mb-shadow":my(R),"--mb-padding":or(T)},children:w})},U)})})});qy.displayName="@mantine/core/ModalBase";function FL(){const e=Gs();return I.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Ea={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Gy=I.forwardRef(({className:e,...t},r)=>{const n=FL(),s=Gs();return p.jsx(ne,{ref:r,...t,id:n,className:Zt({[Ea.body]:!s.unstyled},e)})});Gy.displayName="@mantine/core/ModalBaseBody";const Ky=I.forwardRef(({className:e,onClick:t,...r},n)=>{const s=Gs();return p.jsx(La,{ref:n,...r,onClick:i=>{s.onClose(),t==null||t(i)},className:Zt({[Ea.close]:!s.unstyled},e),unstyled:s.unstyled})});Ky.displayName="@mantine/core/ModalBaseCloseButton";const Xy=I.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:s,...i},c)=>{const l=Gs();return p.jsx(qs,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var u,d,m;(u=l.onExitTransitionEnd)==null||u.call(l),(m=(d=l.transitionProps)==null?void 0:d.onExited)==null||m.call(d)},onEntered:()=>{var u,d,m;(u=l.onEnterTransitionEnd)==null||u.call(l),(m=(d=l.transitionProps)==null?void 0:d.onEntered)==null||m.call(d)},...e,children:u=>p.jsx("div",{...r,className:Zt({[Ea.inner]:!l.unstyled},r.className),children:p.jsx(op,{active:l.opened&&l.trapFocus,innerRef:c,children:p.jsx(El,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[s,u],className:Zt({[Ea.content]:!l.unstyled},t),unstyled:l.unstyled,children:i.children})})})})});Xy.displayName="@mantine/core/ModalBaseContent";const Yy=I.forwardRef(({className:e,...t},r)=>{const n=Gs();return p.jsx(ne,{component:"header",ref:r,className:Zt({[Ea.header]:!n.unstyled},e),...t})});Yy.displayName="@mantine/core/ModalBaseHeader";const zL={duration:200,timingFunction:"ease",transition:"fade"};function BL(e){const t=Gs();return{...zL,...t.transitionProps,...e}}const Qy=I.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...s},i)=>{const c=Gs(),l=BL(t);return p.jsx(qs,{mounted:n!==void 0?n:c.opened,...l,transition:"fade",children:u=>p.jsx(sp,{ref:i,fixed:!0,style:[r,u],zIndex:c.zIndex,unstyled:c.unstyled,onClick:d=>{e==null||e(d),c.closeOnClickOutside&&c.onClose()},...s})})});Qy.displayName="@mantine/core/ModalBaseOverlay";function UL(){const e=Gs();return I.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Jy=I.forwardRef(({className:e,...t},r)=>{const n=UL(),s=Gs();return p.jsx(ne,{component:"h2",ref:r,className:Zt({[Ea.title]:!s.unstyled},e),...t,id:n})});Jy.displayName="@mantine/core/ModalBaseTitle";function GR({children:e}){return p.jsx(p.Fragment,{children:e})}const[VL,HL]=bi({size:"sm"}),WL={},KR=ve((e,t)=>{const r=ae("InputClearButton",WL,e),{size:n,variant:s,vars:i,classNames:c,styles:l,...u}=r,d=HL(),{resolvedClassNames:m,resolvedStyles:v}=_i({classNames:c,styles:l,props:r});return p.jsx(La,{variant:s||"transparent",ref:t,size:n||(d==null?void 0:d.size)||"sm",classNames:m,styles:v,__staticSelector:"InputClearButton",...u})});KR.displayName="@mantine/core/InputClearButton";const[qL,Tl]=bi({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var _n={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const B_={},GL=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${fr(t)} - ${oe(2)})`}}),ip=ve((e,t)=>{const r=ae("InputDescription",B_,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,size:d,__staticSelector:m,__inheritStyles:v=!0,variant:y,...S}=ae("InputDescription",B_,r),w=Tl(),x=ze({name:["InputWrapper",m],props:r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,rootSelector:"description",vars:u,varsResolver:GL}),R=v&&(w==null?void 0:w.getStyles)||x;return p.jsx(ne,{component:"p",ref:t,variant:y,size:d,...R("description",w!=null&&w.getStyles?{className:s,style:i}:void 0),...S})});ip.classes=_n;ip.displayName="@mantine/core/InputDescription";const KL={},XL=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${fr(t)} - ${oe(2)})`}}),ap=ve((e,t)=>{const r=ae("InputError",KL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,size:d,__staticSelector:m,__inheritStyles:v=!0,variant:y,...S}=r,w=ze({name:["InputWrapper",m],props:r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,rootSelector:"error",vars:u,varsResolver:XL}),x=Tl(),R=v&&(x==null?void 0:x.getStyles)||w;return p.jsx(ne,{component:"p",ref:t,variant:y,size:d,...R("error",x!=null&&x.getStyles?{className:s,style:i}:void 0),...S})});ap.classes=_n;ap.displayName="@mantine/core/InputError";const U_={labelElement:"label"},YL=(e,{size:t})=>({label:{"--input-label-size":fr(t),"--input-asterisk-color":void 0}}),cp=ve((e,t)=>{const r=ae("InputLabel",U_,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,labelElement:d,size:m,required:v,htmlFor:y,onMouseDown:S,children:w,__staticSelector:x,variant:R,mod:T,...C}=ae("InputLabel",U_,r),h=ze({name:["InputWrapper",x],props:r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,rootSelector:"label",vars:u,varsResolver:YL}),g=Tl(),b=(g==null?void 0:g.getStyles)||h;return p.jsxs(ne,{...b("label",g!=null&&g.getStyles?{className:s,style:i}:void 0),component:d,variant:R,size:m,ref:t,htmlFor:d==="label"?y:void 0,mod:[{required:v},T],onMouseDown:E=>{S==null||S(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...C,children:[w,v&&p.jsx("span",{...b("required"),"aria-hidden":!0,children:" *"})]})});cp.classes=_n;cp.displayName="@mantine/core/InputLabel";const V_={},Zy=ve((e,t)=>{const r=ae("InputPlaceholder",V_,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,__staticSelector:d,variant:m,error:v,mod:y,...S}=ae("InputPlaceholder",V_,r),w=ze({name:["InputPlaceholder",d],props:r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,rootSelector:"placeholder"});return p.jsx(ne,{...w("placeholder"),mod:[{error:!!v},y],component:"span",variant:m,ref:t,...S})});Zy.classes=_n;Zy.displayName="@mantine/core/InputPlaceholder";function QL(e,{hasDescription:t,hasError:r}){const n=e.findIndex(u=>u==="input"),s=e.slice(0,n),i=e.slice(n+1),c=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&i.includes("description")||r&&i.includes("error"),offsetTop:c}}const JL={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},ZL=(e,{size:t})=>({label:{"--input-label-size":fr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${fr(t)} - ${oe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${fr(t)} - ${oe(2)})`}}),ew=ve((e,t)=>{const r=ae("InputWrapper",JL,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,size:d,variant:m,__staticSelector:v,inputContainer:y,inputWrapperOrder:S,label:w,error:x,description:R,labelProps:T,descriptionProps:C,errorProps:h,labelElement:g,children:b,withAsterisk:E,id:k,required:j,__stylesApiProps:M,mod:N,...A}=r,O=ze({name:["InputWrapper",v],props:M||r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:ZL}),U={size:d,variant:m,__staticSelector:v},W=Ws(k),K=typeof E=="boolean"?E:j,L=(h==null?void 0:h.id)||`${W}-error`,F=(C==null?void 0:C.id)||`${W}-description`,$=W,B=!!x&&typeof x!="boolean",H=!!R,V=`${B?L:""} ${H?F:""}`,G=V.trim().length>0?V.trim():void 0,se=(T==null?void 0:T.id)||`${W}-label`,le=w&&p.jsx(cp,{labelElement:g,id:se,htmlFor:$,required:K,...U,...T,children:w},"label"),Q=H&&p.jsx(ip,{...C,...U,size:(C==null?void 0:C.size)||U.size,id:(C==null?void 0:C.id)||F,children:R},"description"),ie=p.jsx(I.Fragment,{children:y(b)},"input"),fe=B&&I.createElement(ap,{...h,...U,size:(h==null?void 0:h.size)||U.size,key:"error",id:(h==null?void 0:h.id)||L},x),ce=S.map(ye=>{switch(ye){case"label":return le;case"input":return ie;case"description":return Q;case"error":return fe;default:return null}});return p.jsx(qL,{value:{getStyles:O,describedBy:G,inputId:$,labelId:se,...QL(S,{hasDescription:H,hasError:B})},children:p.jsx(ne,{ref:t,variant:m,size:d,mod:[{error:!!x},N],...O("root"),...A,children:ce})})});ew.classes=_n;ew.displayName="@mantine/core/InputWrapper";const eO={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},tO=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ke(t.size,"input-height"),"--input-fz":fr(t.size),"--input-radius":t.radius===void 0?void 0:Lt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?oe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?oe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ke(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),$t=hr((e,t)=>{const r=ae("Input",eO,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,required:u,__staticSelector:d,__stylesApiProps:m,size:v,wrapperProps:y,error:S,disabled:w,leftSection:x,leftSectionProps:R,leftSectionWidth:T,rightSection:C,rightSectionProps:h,rightSectionWidth:g,rightSectionPointerEvents:b,leftSectionPointerEvents:E,variant:k,vars:j,pointer:M,multiline:N,radius:A,id:O,withAria:U,withErrorStyles:W,mod:K,inputSize:L,__clearSection:F,__clearable:$,__defaultRightSection:B,...H}=r,{styleProps:V,rest:G}=_l(H),se=Tl(),le={offsetBottom:se==null?void 0:se.offsetBottom,offsetTop:se==null?void 0:se.offsetTop},Q=ze({name:["Input",d],props:m||r,classes:_n,className:s,style:i,classNames:n,styles:c,unstyled:l,stylesCtx:le,rootSelector:"wrapper",vars:j,varsResolver:tO}),ie=U?{required:u,disabled:w,"aria-invalid":!!S,"aria-describedby":se==null?void 0:se.describedBy,id:(se==null?void 0:se.inputId)||O}:{},fe=C||$&&F||B;return p.jsx(VL,{value:{size:v||"sm"},children:p.jsxs(ne,{...Q("wrapper"),...V,...y,mod:[{error:!!S&&W,pointer:M,disabled:w,multiline:N,"data-with-right-section":!!fe,"data-with-left-section":!!x},K],variant:k,size:v,children:[x&&p.jsx("div",{...R,"data-position":"left",...Q("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:x}),p.jsx(ne,{component:"input",...G,...ie,ref:t,required:u,mod:{disabled:w,error:!!S&&W},variant:k,__size:L,...Q("input")}),fe&&p.jsx("div",{...h,"data-position":"right",...Q("section",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),children:fe})]})})});$t.classes=_n;$t.Wrapper=ew;$t.Label=cp;$t.Error=ap;$t.Description=ip;$t.Placeholder=Zy;$t.ClearButton=KR;$t.displayName="@mantine/core/Input";function XR(e,t,r){const n=ae(e,t,r),{label:s,description:i,error:c,required:l,classNames:u,styles:d,className:m,unstyled:v,__staticSelector:y,__stylesApiProps:S,errorProps:w,labelProps:x,descriptionProps:R,wrapperProps:T,id:C,size:h,style:g,inputContainer:b,inputWrapperOrder:E,withAsterisk:k,variant:j,vars:M,mod:N,...A}=n,{styleProps:O,rest:U}=_l(A),W={label:s,description:i,error:c,required:l,classNames:u,className:m,__staticSelector:y,__stylesApiProps:S||n,errorProps:w,labelProps:x,descriptionProps:R,unstyled:v,styles:d,size:h,style:g,inputContainer:b,inputWrapperOrder:E,withAsterisk:k,variant:j,id:C,mod:N,...T};return{...U,classNames:u,styles:d,unstyled:v,wrapperProps:{...W,...O},inputProps:{required:l,classNames:u,styles:d,unstyled:v,size:h,__staticSelector:y,__stylesApiProps:S||n,error:c,variant:j,id:C}}}const rO={__staticSelector:"InputBase",withAria:!0},xn=hr((e,t)=>{const{inputProps:r,wrapperProps:n,...s}=XR("InputBase",rO,e);return p.jsx($t.Wrapper,{...n,children:p.jsx($t,{...r,...s,ref:t})})});xn.classes={...$t.classes,...$t.Wrapper.classes};xn.displayName="@mantine/core/InputBase";const nO={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var YR={root:"m_8bffd616"};const sO={},Sn=hr((e,t)=>{const r=ae("Flex",sO,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,gap:d,rowGap:m,columnGap:v,align:y,justify:S,wrap:w,direction:x,...R}=r,T=ze({name:"Flex",classes:YR,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u}),C=ir(),h=xl(),g=XC({styleProps:{gap:d,rowGap:m,columnGap:v,align:y,justify:S,wrap:w,direction:x},theme:C,data:nO});return p.jsxs(p.Fragment,{children:[g.hasResponsiveStyles&&p.jsx(ja,{selector:`.${h}`,styles:g.styles,media:g.media}),p.jsx(ne,{ref:t,...T("root",{className:h,style:jo(g.inlineStyles)}),...R})]})});Sn.classes=YR;Sn.displayName="@mantine/core/Flex";function QR({style:e,size:t=16,...r}){return p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:oe(t),height:oe(t),display:"block"},...r,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}QR.displayName="@mantine/core/AccordionChevron";var JR={root:"m_b6d8b162"};function oO(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const iO={inherit:!1},aO=(e,{variant:t,lineClamp:r,gradient:n,size:s,color:i})=>({root:{"--text-fz":fr(s),"--text-lh":UD(s),"--text-gradient":t==="gradient"?yv(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":i?Cr(i,e):void 0}}),be=hr((e,t)=>{const r=ae("Text",iO,e),{lineClamp:n,truncate:s,inline:i,inherit:c,gradient:l,span:u,__staticSelector:d,vars:m,className:v,style:y,classNames:S,styles:w,unstyled:x,variant:R,mod:T,size:C,...h}=r,g=ze({name:["Text",d],props:r,classes:JR,className:v,style:y,classNames:S,styles:w,unstyled:x,vars:m,varsResolver:aO});return p.jsx(ne,{...g("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:R,mod:[{"data-truncate":oO(s),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":c},T],size:C,...h})});be.classes=JR;be.displayName="@mantine/core/Text";function ZR(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>ZR(t))}:e}function cO(e){return e?e.map(t=>ZR(t)):[]}function eE(e){return e.reduce((t,r)=>"group"in r?{...t,...eE(r.items)}:(t[r.value]=r,t),{})}var Wr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const lO={error:null},dO=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ke(t,"combobox-chevron-size"),"--combobox-chevron-color":r?Cr(r,e):void 0}}),tw=ve((e,t)=>{const r=ae("ComboboxChevron",lO,e),{size:n,error:s,style:i,className:c,classNames:l,styles:u,unstyled:d,vars:m,mod:v,...y}=r,S=ze({name:"ComboboxChevron",classes:Wr,props:r,style:i,className:c,classNames:l,styles:u,unstyled:d,vars:m,varsResolver:dO,rootSelector:"chevron"});return p.jsx(ne,{component:"svg",...y,...S("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},v],ref:t,children:p.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});tw.classes=Wr;tw.displayName="@mantine/core/ComboboxChevron";const[uO,Cn]=cn("Combobox component was not found in tree"),tE=I.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...s},i)=>p.jsx($t.ClearButton,{ref:i,tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));tE.displayName="@mantine/core/ComboboxClearButton";const fO={},rw=ve((e,t)=>{const{classNames:r,styles:n,className:s,style:i,hidden:c,...l}=ae("ComboboxDropdown",fO,e),u=Cn();return p.jsx(pr.Dropdown,{...l,ref:t,role:"presentation","data-hidden":c||void 0,...u.getStyles("dropdown",{className:s,style:i,classNames:r,styles:n})})});rw.classes=Wr;rw.displayName="@mantine/core/ComboboxDropdown";const pO={refProp:"ref"},rE=ve((e,t)=>{const{children:r,refProp:n}=ae("ComboboxDropdownTarget",pO,e);if(Cn(),!Do(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return p.jsx(pr.Target,{ref:t,refProp:n,children:r})});rE.displayName="@mantine/core/ComboboxDropdownTarget";const hO={},nw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,...l}=ae("ComboboxEmpty",hO,e),u=Cn();return p.jsx(ne,{ref:t,...u.getStyles("empty",{className:n,classNames:r,styles:i,style:s}),...l})});nw.classes=Wr;nw.displayName="@mantine/core/ComboboxEmpty";function sw({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:s,autoComplete:i}){const c=Cn(),[l,u]=I.useState(null),d=v=>{if(e==null||e(v),!c.readOnly&&t){if(v.nativeEvent.isComposing)return;if(v.nativeEvent.code==="ArrowDown"&&(v.preventDefault(),c.store.dropdownOpened?u(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),u(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="ArrowUp"&&(v.preventDefault(),c.store.dropdownOpened?u(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),u(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="Enter"||v.nativeEvent.code==="NumpadEnter"){if(v.nativeEvent.keyCode===229)return;const y=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&y!==-1?(v.preventDefault(),c.store.clickSelectedOption()):s==="button"&&(v.preventDefault(),c.store.openDropdown("keyboard"))}v.key==="Escape"&&c.store.closeDropdown("keyboard"),v.nativeEvent.code==="Space"&&s==="button"&&(v.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&l||void 0,autoComplete:i,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:d}}const mO={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},nE=ve((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:c,targetType:l,autoComplete:u,...d}=ae("ComboboxEventsTarget",mO,e);if(!Do(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Cn(),v=sw({targetType:l,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:u});return I.cloneElement(r,{...v,...d,[n]:er(t,m.store.targetRef,Kf(r))})});nE.displayName="@mantine/core/ComboboxEventsTarget";const gO={},ow=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,...l}=ae("ComboboxFooter",gO,e),u=Cn();return p.jsx(ne,{ref:t,...u.getStyles("footer",{className:n,classNames:r,style:s,styles:i}),...l,onMouseDown:d=>{d.preventDefault()}})});ow.classes=Wr;ow.displayName="@mantine/core/ComboboxFooter";const vO={},iw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,children:l,label:u,...d}=ae("ComboboxGroup",vO,e),m=Cn();return p.jsxs(ne,{ref:t,...m.getStyles("group",{className:n,classNames:r,style:s,styles:i}),...d,children:[u&&p.jsx("div",{...m.getStyles("groupLabel",{classNames:r,styles:i}),children:u}),l]})});iw.classes=Wr;iw.displayName="@mantine/core/ComboboxGroup";const yO={},aw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,...l}=ae("ComboboxHeader",yO,e),u=Cn();return p.jsx(ne,{ref:t,...u.getStyles("header",{className:n,classNames:r,style:s,styles:i}),...l,onMouseDown:d=>{d.preventDefault()}})});aw.classes=Wr;aw.displayName="@mantine/core/ComboboxHeader";function sE({value:e,valuesDivider:t=",",...r}){return p.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}sE.displayName="@mantine/core/ComboboxHiddenInput";const wO={},cw=ve((e,t)=>{const r=ae("ComboboxOption",wO,e),{classNames:n,className:s,style:i,styles:c,vars:l,onClick:u,id:d,active:m,onMouseDown:v,onMouseOver:y,disabled:S,selected:w,mod:x,...R}=r,T=Cn(),C=I.useId(),h=d||C;return p.jsx(ne,{...T.getStyles("option",{className:s,classNames:n,styles:c,style:i}),...R,ref:t,id:h,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":S,"combobox-selected":w},x],role:"option",onClick:g=>{var b;S?g.preventDefault():((b=T.onOptionSubmit)==null||b.call(T,r.value,r),u==null||u(g))},onMouseDown:g=>{g.preventDefault(),v==null||v(g)},onMouseOver:g=>{T.resetSelectionOnOptionHover&&T.store.resetSelectedOption(),y==null||y(g)}})});cw.classes=Wr;cw.displayName="@mantine/core/ComboboxOption";const SO={},lw=ve((e,t)=>{const r=ae("ComboboxOptions",SO,e),{classNames:n,className:s,style:i,styles:c,id:l,onMouseDown:u,labelledBy:d,...m}=r,v=Cn(),y=Ws(l);return I.useEffect(()=>{v.store.setListId(y)},[y]),p.jsx(ne,{ref:t,...v.getStyles("options",{className:s,style:i,classNames:n,styles:c}),...m,id:y,role:"listbox","aria-labelledby":d,onMouseDown:S=>{S.preventDefault(),u==null||u(S)}})});lw.classes=Wr;lw.displayName="@mantine/core/ComboboxOptions";const bO={withAriaAttributes:!0,withKeyboardNavigation:!0},dw=ve((e,t)=>{const r=ae("ComboboxSearch",bO,e),{classNames:n,styles:s,unstyled:i,vars:c,withAriaAttributes:l,onKeyDown:u,withKeyboardNavigation:d,size:m,...v}=r,y=Cn(),S=y.getStyles("search"),w=sw({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return p.jsx($t,{ref:er(t,y.store.searchRef),classNames:[{input:S.className},n],styles:[{input:S.style},s],size:m||y.size,...w,...v,__staticSelector:"Combobox"})});dw.classes=Wr;dw.displayName="@mantine/core/ComboboxSearch";const _O={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},oE=ve((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:c,targetType:l,autoComplete:u,...d}=ae("ComboboxTarget",_O,e);if(!Do(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Cn(),v=sw({targetType:l,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:u}),y=I.cloneElement(r,{...v,...d});return p.jsx(pr.Target,{ref:er(t,m.store.targetRef),children:y})});oE.displayName="@mantine/core/ComboboxTarget";function xO(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function CO(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function RO(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function iE({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:s,loop:i=!0,scrollBehavior:c="instant"}={}){const[l,u]=Dr({value:t,defaultValue:e,finalValue:!1,onChange:r}),d=I.useRef(null),m=I.useRef(-1),v=I.useRef(null),y=I.useRef(null),S=I.useRef(-1),w=I.useRef(-1),x=I.useRef(-1),R=I.useCallback((L="unknown")=>{l||(u(!0),s==null||s(L))},[u,s,l]),T=I.useCallback((L="unknown")=>{l&&(u(!1),n==null||n(L))},[u,n,l]),C=I.useCallback((L="unknown")=>{l?T(L):R(L)},[T,R,l]),h=I.useCallback(()=>{const L=document.querySelector(`#${d.current} [data-combobox-selected]`);L==null||L.removeAttribute("data-combobox-selected"),L==null||L.removeAttribute("aria-selected")},[]),g=I.useCallback(L=>{const F=document.getElementById(d.current),$=F==null?void 0:F.querySelectorAll("[data-combobox-option]");if(!$)return null;const B=L>=$.length?0:L<0?$.length-1:L;return m.current=B,$!=null&&$[B]&&!$[B].hasAttribute("data-combobox-disabled")?(h(),$[B].setAttribute("data-combobox-selected","true"),$[B].setAttribute("aria-selected","true"),$[B].scrollIntoView({block:"nearest",behavior:c}),$[B].id):null},[c,h]),b=I.useCallback(()=>{const L=document.querySelector(`#${d.current} [data-combobox-active]`);if(L){const F=document.querySelectorAll(`#${d.current} [data-combobox-option]`),$=Array.from(F).findIndex(B=>B===L);return g($)}return g(0)},[g]),E=I.useCallback(()=>g(CO(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),i)),[g,i]),k=I.useCallback(()=>g(xO(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),i)),[g,i]),j=I.useCallback(()=>g(RO(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[g]),M=I.useCallback((L="selected",F)=>{x.current=window.setTimeout(()=>{var H;const $=document.querySelectorAll(`#${d.current} [data-combobox-option]`),B=Array.from($).findIndex(V=>V.hasAttribute(`data-combobox-${L}`));m.current=B,F!=null&&F.scrollIntoView&&((H=$[B])==null||H.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),N=I.useCallback(()=>{m.current=-1,h()},[h]),A=I.useCallback(()=>{const L=document.querySelectorAll(`#${d.current} [data-combobox-option]`),F=L==null?void 0:L[m.current];F==null||F.click()},[]),O=I.useCallback(L=>{d.current=L},[]),U=I.useCallback(()=>{S.current=window.setTimeout(()=>v.current.focus(),0)},[]),W=I.useCallback(()=>{w.current=window.setTimeout(()=>y.current.focus(),0)},[]),K=I.useCallback(()=>m.current,[]);return I.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(w.current),window.clearTimeout(x.current)},[]),{dropdownOpened:l,openDropdown:R,closeDropdown:T,toggleDropdown:C,selectedOptionIndex:m.current,getSelectedOptionIndex:K,selectOption:g,selectFirstOption:j,selectActiveOption:b,selectNextOption:E,selectPreviousOption:k,resetSelectedOption:N,updateSelectedOptionIndex:M,listId:d.current,setListId:O,clickSelectedOption:A,searchRef:v,focusSearchInput:U,targetRef:y,focusTarget:W}}const EO={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},TO=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":fr(t),"--combobox-option-padding":Ke(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:oe(r),"--combobox-option-fz":fr(t),"--combobox-option-padding":Ke(t,"combobox-option-padding")}});function yt(e){const t=ae("Combobox",EO,e),{classNames:r,styles:n,unstyled:s,children:i,store:c,vars:l,onOptionSubmit:u,onClose:d,size:m,dropdownPadding:v,resetSelectionOnOptionHover:y,__staticSelector:S,readOnly:w,...x}=t,R=iE(),T=c||R,C=ze({name:S||"Combobox",classes:Wr,props:t,classNames:r,styles:n,unstyled:s,vars:l,varsResolver:TO}),h=()=>{d==null||d(),T.closeDropdown()};return p.jsx(uO,{value:{getStyles:C,store:T,onOptionSubmit:u,size:m,resetSelectionOnOptionHover:y,readOnly:w},children:p.jsx(pr,{opened:T.dropdownOpened,...x,onChange:g=>!g&&h(),withRoles:!1,unstyled:s,children:i})})}const kO=e=>e;yt.extend=kO;yt.classes=Wr;yt.displayName="@mantine/core/Combobox";yt.Target=oE;yt.Dropdown=rw;yt.Options=lw;yt.Option=cw;yt.Search=dw;yt.Empty=nw;yt.Chevron=tw;yt.Footer=ow;yt.Header=aw;yt.EventsTarget=nE;yt.DropdownTarget=rE;yt.Group=iw;yt.ClearButton=tE;yt.HiddenInput=sE;var aE={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const PO=aE,cE=I.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:n,styles:s,unstyled:i,children:c,label:l,description:u,id:d,disabled:m,error:v,size:y,labelPosition:S="left",bodyElement:w="div",labelElement:x="label",variant:R,style:T,vars:C,mod:h,...g},b)=>{const E=ze({name:e,props:t,className:r,style:T,classes:aE,classNames:n,styles:s,unstyled:i});return p.jsx(ne,{...E("root"),ref:b,__vars:{"--label-fz":fr(y),"--label-lh":Ke(y,"label-lh")},mod:[{"label-position":S},h],variant:R,size:y,...g,children:p.jsxs(ne,{component:w,htmlFor:w==="label"?d:void 0,...E("body"),children:[c,p.jsxs("div",{...E("labelWrapper"),"data-disabled":m||void 0,children:[l&&p.jsx(ne,{component:x,htmlFor:x==="label"?d:void 0,...E("label"),"data-disabled":m||void 0,children:l}),u&&p.jsx($t.Description,{size:y,__inheritStyles:!1,...E("description"),children:u}),v&&typeof v!="boolean"&&p.jsx($t.Error,{size:y,__inheritStyles:!1,...E("error"),children:v})]})]})})});cE.displayName="@mantine/core/InlineInput";function IO({children:e,role:t}){const r=Tl();return r?p.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):p.jsx(p.Fragment,{children:e})}function jO({size:e,style:t,...r}){const n=e!==void 0?{width:oe(e),height:oe(e),...t}:t;return p.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:p.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function pl(e){return"group"in e}function lE({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),s=[];for(let i=0;i<e.length;i+=1){const c=e[i];if(s.length===r)return s;pl(c)&&s.push({group:c.group,items:lE({options:c.items,search:t,limit:r-s.length})}),pl(c)||c.label.toLowerCase().includes(n)&&s.push(c)}return s}function DO(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function dE(e,t=new Set){if(Array.isArray(e))for(const r of e)if(pl(r))dE(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function MO(e,t){return Array.isArray(e)?e.includes(t):e===t}function uE({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:s,renderOption:i}){if(!pl(e)){const l=MO(r,e.value),u=t&&l&&p.jsx(jO,{className:Wr.optionsDropdownCheckIcon}),d=p.jsxs(p.Fragment,{children:[n==="left"&&u,p.jsx("span",{children:e.label}),n==="right"&&u]});return p.jsx(yt.Option,{value:e.value,disabled:e.disabled,className:Zt({[Wr.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof i=="function"?i({option:e,checked:l}):d})}const c=e.items.map(l=>p.jsx(uE,{data:l,value:r,unstyled:s,withCheckIcon:t,checkIconPosition:n,renderOption:i},l.value));return p.jsx(yt.Group,{label:e.group,children:c})}function NO({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:s,limit:i,maxDropdownHeight:c,withScrollArea:l=!0,filterOptions:u=!0,withCheckIcon:d=!1,value:m,checkIconPosition:v,nothingFoundMessage:y,unstyled:S,labelId:w,renderOption:x,scrollAreaProps:R,"aria-label":T}){dE(e);const h=typeof s=="string"?(n||lE)({options:e,search:u?s:"",limit:i??1/0}):e,g=DO(h),b=h.map(E=>p.jsx(uE,{data:E,withCheckIcon:d,value:m,checkIconPosition:v,unstyled:S,renderOption:x},pl(E)?E.group:E.value));return p.jsx(yt.Dropdown,{hidden:t||r&&g,"data-composed":!0,children:p.jsxs(yt.Options,{labelledBy:w,"aria-label":T,children:[l?p.jsx(Nt.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...R,children:b}):b,g&&y&&p.jsx(yt.Empty,{children:y})]})})}const fE=I.createContext(null),LO=fE.Provider;function OO(){return{withinGroup:!!I.useContext(fE)}}var lp={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const AO={},$O=(e,{spacing:t})=>({group:{"--ag-spacing":or(t)}}),uw=ve((e,t)=>{const r=ae("AvatarGroup",AO,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,spacing:d,...m}=r,v=ze({name:"AvatarGroup",classes:lp,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:$O,rootSelector:"group"});return p.jsx(LO,{value:!0,children:p.jsx(ne,{ref:t,...v("group"),...m})})});uw.classes=lp;uw.displayName="@mantine/core/AvatarGroup";function FO(e){return p.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function zO(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const BO=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function UO(e,t=BO){const r=zO(e),n=Math.abs(r)%t.length;return t[n]}function VO(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const HO={},WO=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:c,name:l,allowedInitialsColors:u})=>{const d=i==="initials"&&typeof l=="string"?UO(l,u):i,m=e.variantColorResolver({color:d||"gray",theme:e,gradient:s,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":Ke(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Lt(r),"--avatar-bg":d||n?m.background:void 0,"--avatar-color":d||n?m.color:void 0,"--avatar-bd":d||n?m.border:void 0}}},tr=hr((e,t)=>{const r=ae("Avatar",HO,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,src:d,alt:m,radius:v,color:y,gradient:S,imageProps:w,children:x,autoContrast:R,mod:T,name:C,allowedInitialsColors:h,...g}=r,b=OO(),[E,k]=I.useState(!d),j=ze({name:"Avatar",props:r,classes:lp,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:WO});return I.useEffect(()=>k(!d),[d]),p.jsx(ne,{...j("root"),mod:[{"within-group":b.withinGroup},T],ref:t,...g,children:E?p.jsx("span",{...j("placeholder"),title:m,children:x||typeof C=="string"&&VO(C)||p.jsx(FO,{})}):p.jsx("img",{...w,...j("image"),src:d,alt:m,onError:M=>{var N;k(!0),(N=w==null?void 0:w.onError)==null||N.call(w,M)}})})});tr.classes=lp;tr.displayName="@mantine/core/Avatar";tr.Group=uw;var pE={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const qO={},GO=(e,{radius:t,color:r,gradient:n,variant:s,size:i,autoContrast:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:c});return{root:{"--badge-height":Ke(i,"badge-height"),"--badge-padding-x":Ke(i,"badge-padding-x"),"--badge-fz":Ke(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Lt(t),"--badge-bg":r||s?l.background:void 0,"--badge-color":r||s?l.color:void 0,"--badge-bd":r||s?l.border:void 0,"--badge-dot-color":s==="dot"?Cr(r,e):void 0}}},_r=hr((e,t)=>{const r=ae("Badge",qO,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,radius:d,color:m,gradient:v,leftSection:y,rightSection:S,children:w,variant:x,fullWidth:R,autoContrast:T,circle:C,mod:h,...g}=r,b=ze({name:"Badge",props:r,classes:pE,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:GO});return p.jsxs(ne,{variant:x,mod:[{block:R,circle:C,"with-right-section":!!S,"with-left-section":!!y},h],...b("root",{variant:x}),ref:t,...g,children:[y&&p.jsx("span",{...b("section"),"data-position":"left",children:y}),p.jsx("span",{...b("label"),children:w}),S&&p.jsx("span",{...b("section"),"data-position":"right",children:S})]})});_r.classes=pE;_r.displayName="@mantine/core/Badge";var Oa={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const H_={orientation:"horizontal"},KO=(e,{borderWidth:t})=>({group:{"--button-border-width":oe(t)}}),fw=ve((e,t)=>{const r=ae("ButtonGroup",H_,e),{className:n,style:s,classNames:i,styles:c,unstyled:l,orientation:u,vars:d,borderWidth:m,variant:v,mod:y,...S}=ae("ButtonGroup",H_,e),w=ze({name:"ButtonGroup",props:r,classes:Oa,className:n,style:s,classNames:i,styles:c,unstyled:l,vars:d,varsResolver:KO,rootSelector:"group"});return p.jsx(ne,{...w("group"),ref:t,variant:v,mod:[{"data-orientation":u},y],role:"group",...S})});fw.classes=Oa;fw.displayName="@mantine/core/ButtonGroup";const W_={},XO=(e,{radius:t,color:r,gradient:n,variant:s,autoContrast:i,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:i});return{groupSection:{"--section-height":Ke(c,"section-height"),"--section-padding-x":Ke(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?fr(c.replace("compact-","")):fr(c),"--section-radius":t===void 0?void 0:Lt(t),"--section-bg":r||s?l.background:void 0,"--section-color":l.color,"--section-bd":r||s?l.border:void 0}}},pw=ve((e,t)=>{const r=ae("ButtonGroupSection",W_,e),{className:n,style:s,classNames:i,styles:c,unstyled:l,vars:u,variant:d,gradient:m,radius:v,autoContrast:y,...S}=ae("ButtonGroupSection",W_,e),w=ze({name:"ButtonGroupSection",props:r,classes:Oa,className:n,style:s,classNames:i,styles:c,unstyled:l,vars:u,varsResolver:XO,rootSelector:"groupSection"});return p.jsx(ne,{...w("groupSection"),ref:t,variant:d,...S})});pw.classes=Oa;pw.displayName="@mantine/core/ButtonGroupSection";const YO={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${oe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},QO={},JO=(e,{radius:t,color:r,gradient:n,variant:s,size:i,justify:c,autoContrast:l})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:l});return{root:{"--button-justify":c,"--button-height":Ke(i,"button-height"),"--button-padding-x":Ke(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?fr(i.replace("compact-","")):fr(i),"--button-radius":t===void 0?void 0:Lt(t),"--button-bg":r||s?u.background:void 0,"--button-hover":r||s?u.hover:void 0,"--button-color":u.color,"--button-bd":r||s?u.border:void 0,"--button-hover-color":r||s?u.hoverColor:void 0}}},Ee=hr((e,t)=>{const r=ae("Button",QO,e),{style:n,vars:s,className:i,color:c,disabled:l,children:u,leftSection:d,rightSection:m,fullWidth:v,variant:y,radius:S,loading:w,loaderProps:x,gradient:R,classNames:T,styles:C,unstyled:h,"data-disabled":g,autoContrast:b,mod:E,...k}=r,j=ze({name:"Button",props:r,classes:Oa,className:i,style:n,classNames:T,styles:C,unstyled:h,vars:s,varsResolver:JO}),M=!!d,N=!!m;return p.jsxs(rs,{ref:t,...j("root",{active:!l&&!w&&!g}),unstyled:h,variant:y,disabled:l||w,mod:[{disabled:l||g,loading:w,block:v,"with-left-section":M,"with-right-section":N},E],...k,children:[p.jsx(qs,{mounted:!!w,transition:YO,duration:150,children:A=>p.jsx(ne,{component:"span",...j("loader",{style:A}),"aria-hidden":!0,children:p.jsx(Lo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),p.jsxs("span",{...j("inner"),children:[d&&p.jsx(ne,{component:"span",...j("section"),mod:{position:"left"},children:d}),p.jsx(ne,{component:"span",mod:{loading:w},...j("label"),children:u}),m&&p.jsx(ne,{component:"span",...j("section"),mod:{position:"right"},children:m})]})]})});Ee.classes=Oa;Ee.displayName="@mantine/core/Button";Ee.Group=fw;Ee.GroupSection=pw;const[ZO,eA]=cn("Card component was not found in tree");var hw={root:"m_e615b15f",section:"m_599a2148"};const tA={},dp=hr((e,t)=>{const r=ae("CardSection",tA,e),{classNames:n,className:s,style:i,styles:c,vars:l,withBorder:u,inheritPadding:d,mod:m,...v}=r,y=eA();return p.jsx(ne,{ref:t,mod:[{"with-border":u,"inherit-padding":d},m],...y.getStyles("section",{className:s,style:i,styles:c,classNames:n}),...v})});dp.classes=hw;dp.displayName="@mantine/core/CardSection";const rA={},nA=(e,{padding:t})=>({root:{"--card-padding":or(t)}}),Kr=hr((e,t)=>{const r=ae("Card",rA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,children:d,padding:m,...v}=r,y=ze({name:"Card",props:r,classes:hw,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:nA}),S=I.Children.toArray(d),w=S.map((x,R)=>typeof x=="object"&&x&&"type"in x&&x.type===dp?I.cloneElement(x,{"data-first-section":R===0||void 0,"data-last-section":R===S.length-1||void 0}):x);return p.jsx(ZO,{value:{getStyles:y},children:p.jsx(El,{ref:t,unstyled:l,...y("root"),...v,children:w})})});Kr.classes=hw;Kr.displayName="@mantine/core/Card";Kr.Section=dp;var hE={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const q_={withShadow:!0},sA=(e,{radius:t,size:r})=>({root:{"--cs-radius":t===void 0?void 0:Lt(t),"--cs-size":oe(r)}}),Aa=hr((e,t)=>{const r=ae("ColorSwatch",q_,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,color:d,size:m,radius:v,withShadow:y,children:S,variant:w,...x}=ae("ColorSwatch",q_,r),R=ze({name:"ColorSwatch",props:r,classes:hE,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:sA});return p.jsxs(ne,{ref:t,variant:w,size:m,...R("root",{focusable:!0}),...x,children:[p.jsx("span",{...R("alphaOverlay")}),y&&p.jsx("span",{...R("shadowOverlay")}),p.jsx("span",{...R("colorOverlay",{style:{backgroundColor:d}})}),p.jsx("span",{...R("childrenOverlay"),children:S})]})});Aa.classes=hE;Aa.displayName="@mantine/core/ColorSwatch";const[oA,mw]=bi(null),gw=I.forwardRef(({position:e,...t},r)=>p.jsx(ne,{ref:r,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));gw.displayName="@mantine/core/ColorPickerThumb";var vw={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const iA={},yw=ve((e,t)=>{var $;const r=ae("ColorSlider",iA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,onChange:d,onChangeEnd:m,maxValue:v,round:y,size:S="md",focusable:w=!0,value:x,overlays:R,thumbColor:T="transparent",onScrubStart:C,onScrubEnd:h,__staticSelector:g="ColorPicker",...b}=r,E=ze({name:g,classes:vw,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l}),j=(($=mw())==null?void 0:$.getStyles)||E,M=ir(),[N,A]=I.useState({y:0,x:x/v}),O=I.useRef(N),U=B=>y?Math.round(B*v):B*v,{ref:W}=vy(({x:B,y:H})=>{O.current={x:B,y:H},d==null||d(U(B))},{onScrubEnd:()=>{const{x:B}=O.current;m==null||m(U(B)),h==null||h()},onScrubStart:C});Hr(()=>{A({y:0,x:x/v})},[x]);const K=(B,H)=>{B.preventDefault();const V=BC(H);d==null||d(U(V.x)),m==null||m(U(V.x))},L=B=>{switch(B.key){case"ArrowRight":{K(B,{x:N.x+.05,y:N.y});break}case"ArrowLeft":{K(B,{x:N.x-.05,y:N.y});break}}},F=R.map((B,H)=>I.createElement("div",{...j("sliderOverlay"),style:B,key:H}));return p.jsxs(ne,{...b,ref:er(W,t),...j("slider"),role:"slider","aria-valuenow":x,"aria-valuemax":v,"aria-valuemin":0,tabIndex:w?0:-1,onKeyDown:L,"data-focus-ring":M.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${S})`},children:[F,p.jsx(gw,{position:N,...j("thumb",{style:{top:oe(1),background:T}})})]})});yw.displayName="@mantine/core/ColorSlider";function yn(e,t=0,r=10**t){return Math.round(r*e)/r}function aA({h:e,s:t,l:r,a:n}){const s=t*((r<50?r:100-r)/100);return{h:e,s:s>0?2*s/(r+s)*100:0,v:r+s,a:n}}const cA={grad:360/400,turn:360,rad:360/(Math.PI*2)};function lA(e,t="deg"){return Number(e)*(cA[t]||1)}const dA=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function G_(e){const t=dA.exec(e);return t?aA({h:lA(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Pv({r:e,g:t,b:r,a:n}){const s=Math.max(e,t,r),i=s-Math.min(e,t,r),c=i?s===e?(t-r)/i:s===t?2+(r-e)/i:4+(e-t)/i:0;return{h:yn(60*(c<0?c+6:c),3),s:yn(s?i/s*100:0,3),v:yn(s/255*100,3),a:n}}function Iv(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?Pv({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):Pv({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function uA(e){const t=e[0]==="#"?e.slice(1):e,r=c=>yn(parseInt(c,16)/255,3);if(t.length===4){const c=t.slice(0,3),l=r(t[3]+t[3]);return{...Iv(c),a:l}}const n=t.slice(0,6),s=r(t.slice(6,8));return{...Iv(n),a:s}}const fA=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function K_(e){const t=fA.exec(e);return t?Pv({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const mE={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},pA={hex:Iv,hexa:uA,rgb:K_,rgba:K_,hsl:G_,hsla:G_};function Xc(e){for(const[,t]of Object.entries(mE))if(t.test(e))return!0;return!1}function ci(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[r,n]of Object.entries(mE))if(n.test(t))return pA[r](t);return{h:0,s:0,v:0,a:1}}const hA={},gE=I.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:s,color:i,...c}=ae("AlphaSlider",hA,e);return p.jsx(yw,{...c,ref:t,value:r,onChange:l=>n==null?void 0:n(yn(l,2)),onChangeEnd:l=>s==null?void 0:s(yn(l,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${oe(8)} ${oe(8)}`,backgroundPosition:`0 0, 0 ${oe(4)}, ${oe(4)} ${oe(-4)}, ${oe(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${i})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${oe(1)} inset, rgb(0, 0, 0, .15) 0 0 ${oe(4)} inset`}]})});gE.displayName="@mantine/core/AlphaSlider";function vE({h:e,s:t,v:r,a:n}){const s=e/360*6,i=t/100,c=r/100,l=Math.floor(s),u=c*(1-i),d=c*(1-(s-l)*i),m=c*(1-(1-s+l)*i),v=l%6;return{r:yn([c,d,u,u,m,c][v]*255),g:yn([m,c,c,d,u,u][v]*255),b:yn([u,u,m,c,c,d][v]*255),a:yn(n,2)}}function X_(e,t){const{r,g:n,b:s,a:i}=vE(e);return t?`rgba(${r}, ${n}, ${s}, ${yn(i,2)})`:`rgb(${r}, ${n}, ${s})`}function Y_({h:e,s:t,v:r,a:n},s){const i=(200-t)*r/100,c={h:Math.round(e),s:Math.round(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:Math.round(i/2)};return s?`hsla(${c.h}, ${c.s}%, ${c.l}%, ${yn(n,2)})`:`hsl(${c.h}, ${c.s}%, ${c.l}%)`}function xu(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function yE(e){const{r:t,g:r,b:n}=vE(e);return`#${xu(t)}${xu(r)}${xu(n)}`}function mA(e){const t=Math.round(e.a*255);return`${yE(e)}${xu(t)}`}const wg={hex:yE,hexa:e=>mA(e),rgb:e=>X_(e,!1),rgba:e=>X_(e,!0),hsl:e=>Y_(e,!1),hsla:e=>Y_(e,!0)};function Kn(e,t){return t?e in wg?wg[e](t):wg.hex(t):"#000000"}const wE=I.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:s,color:i,...c}=ae("HueSlider",{},e);return p.jsx(yw,{...c,ref:t,value:r,onChange:n,onChangeEnd:s,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${oe(1)} inset, rgb(0, 0, 0, .15) 0 0 ${oe(4)} inset`}]})});wE.displayName="@mantine/core/HueSlider";function SE({className:e,onChange:t,onChangeEnd:r,value:n,saturationLabel:s,focusable:i=!0,size:c,color:l,onScrubStart:u,onScrubEnd:d,...m}){const{getStyles:v}=mw(),[y,S]=I.useState({x:n.s/100,y:1-n.v/100}),w=I.useRef(y),{ref:x}=vy(({x:C,y:h})=>{w.current={x:C,y:h},t({s:Math.round(C*100),v:Math.round((1-h)*100)})},{onScrubEnd:()=>{const{x:C,y:h}=w.current;r({s:Math.round(C*100),v:Math.round((1-h)*100)}),d==null||d()},onScrubStart:u});I.useEffect(()=>{S({x:n.s/100,y:1-n.v/100})},[n.s,n.v]);const R=(C,h)=>{C.preventDefault();const g=BC(h);t({s:Math.round(g.x*100),v:Math.round((1-g.y)*100)}),r({s:Math.round(g.x*100),v:Math.round((1-g.y)*100)})},T=C=>{switch(C.key){case"ArrowUp":{R(C,{y:y.y-.05,x:y.x});break}case"ArrowDown":{R(C,{y:y.y+.05,x:y.x});break}case"ArrowRight":{R(C,{x:y.x+.05,y:y.y});break}case"ArrowLeft":{R(C,{x:y.x-.05,y:y.y});break}}};return p.jsxs(ne,{...v("saturation"),ref:x,...m,role:"slider","aria-label":s,"aria-valuenow":y.x,"aria-valuetext":Kn("rgba",n),tabIndex:i?0:-1,onKeyDown:T,children:[p.jsx("div",{...v("saturationOverlay",{style:{backgroundColor:`hsl(${n.h}, 100%, 50%)`}})}),p.jsx("div",{...v("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),p.jsx("div",{...v("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),p.jsx(gw,{position:y,...v("thumb",{style:{backgroundColor:l}})})]})}SE.displayName="@mantine/core/Saturation";const bE=I.forwardRef(({className:e,datatype:t,setValue:r,onChangeEnd:n,size:s,focusable:i,data:c,swatchesPerRow:l,...u},d)=>{const m=mw(),v=c.map((y,S)=>I.createElement(Aa,{...m.getStyles("swatch"),unstyled:m.unstyled,component:"button",type:"button",color:y,key:S,radius:"sm",onClick:()=>{r(y),n==null||n(y)},"aria-label":y,tabIndex:i?0:-1,"data-swatch":!0}));return p.jsx(ne,{...m.getStyles("swatches"),ref:d,...u,children:v})});bE.displayName="@mantine/core/Swatches";const gA={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},vA=(e,{size:t,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":Ke(t,"cp-preview-size"),"--cp-width":Ke(t,"cp-width"),"--cp-body-spacing":or(t),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":Ke(t,"cp-thumb-size"),"--cp-saturation-height":Ke(t,"cp-saturation-height")}}),ww=ve((e,t)=>{const r=ae("ColorPicker",gA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,format:d,value:m,defaultValue:v,onChange:y,onChangeEnd:S,withPicker:w,size:x,saturationLabel:R,hueLabel:T,alphaLabel:C,focusable:h,swatches:g,swatchesPerRow:b,fullWidth:E,onColorSwatchClick:k,__staticSelector:j,mod:M,...N}=r,A=ze({name:j,props:r,classes:vw,className:s,style:i,classNames:n,styles:c,unstyled:l,rootSelector:"wrapper",vars:u,varsResolver:vA}),O=I.useRef(d),U=I.useRef(""),W=I.useRef(-1),K=I.useRef(!1),L=d==="hexa"||d==="rgba"||d==="hsla",[F,$,B]=Dr({value:m,defaultValue:v,finalValue:"#FFFFFF",onChange:y}),[H,V]=I.useState(ci(F)),G=()=>{window.clearTimeout(W.current),K.current=!0},se=()=>{window.clearTimeout(W.current),W.current=window.setTimeout(()=>{K.current=!1},200)},le=Q=>{V(ie=>{const fe={...ie,...Q};return U.current=Kn(O.current,fe),fe}),$(U.current)};return Hr(()=>{Xc(m)&&!K.current&&V(ci(m))},[m]),Hr(()=>{O.current=d,$(Kn(d,H))},[d]),p.jsx(oA,{value:{getStyles:A,unstyled:l},children:p.jsxs(ne,{ref:t,...A("wrapper"),size:x,mod:[{"full-width":E},M],...N,children:[w&&p.jsxs(p.Fragment,{children:[p.jsx(SE,{value:H,onChange:le,onChangeEnd:({s:Q,v:ie})=>S==null?void 0:S(Kn(O.current,{...H,s:Q,v:ie})),color:F,size:x,focusable:h,saturationLabel:R,onScrubStart:G,onScrubEnd:se}),p.jsxs("div",{...A("body"),children:[p.jsxs("div",{...A("sliders"),children:[p.jsx(wE,{value:H.h,onChange:Q=>le({h:Q}),onChangeEnd:Q=>S==null?void 0:S(Kn(O.current,{...H,h:Q})),size:x,focusable:h,"aria-label":T,onScrubStart:G,onScrubEnd:se}),L&&p.jsx(gE,{value:H.a,onChange:Q=>le({a:Q}),onChangeEnd:Q=>{S==null||S(Kn(O.current,{...H,a:Q}))},size:x,color:Kn("hex",H),focusable:h,"aria-label":C,onScrubStart:G,onScrubEnd:se})]}),L&&p.jsx(Aa,{color:F,radius:"sm",size:"var(--cp-preview-size)",...A("preview")})]})]}),Array.isArray(g)&&p.jsx(bE,{data:g,swatchesPerRow:b,focusable:h,setValue:$,onChangeEnd:Q=>{const ie=Kn(d,ci(Q));k==null||k(ie),S==null||S(ie),B||V(ci(Q))}})]})})});ww.classes=vw;ww.displayName="@mantine/core/ColorPicker";function yA({style:e,...t}){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M11 7l6 6"}),p.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var Q_={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const J_={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},wA=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":Ke(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":Ke(t,"ci-preview-size")}}),up=ve((e,t)=>{const r=ae("ColorInput",J_,e),{classNames:n,styles:s,unstyled:i,disallowInput:c,fixOnBlur:l,popoverProps:u,withPreview:d,withEyeDropper:m,eyeDropperIcon:v,closeOnColorSwatchClick:y,eyeDropperButtonProps:S,value:w,defaultValue:x,onChange:R,onChangeEnd:T,onClick:C,onFocus:h,onBlur:g,inputProps:b,format:E,wrapperProps:k,readOnly:j,withPicker:M,swatches:N,disabled:A,leftSection:O,rightSection:U,swatchesPerRow:W,...K}=XR("ColorInput",J_,e),L=ze({name:"ColorInput",props:r,classes:Q_,classNames:n,styles:s,unstyled:i,rootSelector:"wrapper",vars:r.vars,varsResolver:wA}),{resolvedClassNames:F,resolvedStyles:$}=_i({classNames:n,styles:s,props:r}),[B,H]=I.useState(!1),[V,G]=I.useState(""),[se,le]=Dr({value:w,defaultValue:x,finalValue:"",onChange:R}),{supported:Q,open:ie}=f2(),fe=p.jsx(et,{...S,...L("eyeDropperButton",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),variant:"subtle",color:"gray",size:b.size,unstyled:i,onClick:()=>ie().then(Ae=>{if(Ae!=null&&Ae.sRGBHex){const it=Kn(E,ci(Ae.sRGBHex));le(it),T==null||T(it)}}).catch(()=>{}),children:v||p.jsx(yA,{...L("eyeDropperIcon")})}),ce=Ae=>{h==null||h(Ae),H(!0)},ye=Ae=>{l&&le(V),g==null||g(Ae),H(!1)},Oe=Ae=>{C==null||C(Ae),H(!0)};return I.useEffect(()=>{(Xc(se)||se.trim()==="")&&G(se)},[se]),Hr(()=>{Xc(se)&&le(Kn(E,ci(se)))},[E]),p.jsx($t.Wrapper,{...k,classNames:F,styles:$,__staticSelector:"ColorInput",children:p.jsxs(pr,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:B,...u,classNames:F,styles:$,unstyled:i,withRoles:!1,disabled:j||M===!1&&(!Array.isArray(N)||N.length===0),children:[p.jsx(pr.Target,{children:p.jsx($t,{autoComplete:"off",...K,...b,classNames:F,styles:$,disabled:A,ref:t,__staticSelector:"ColorInput",onFocus:ce,onBlur:ye,onClick:Oe,spellCheck:!1,value:se,onChange:Ae=>{const it=Ae.currentTarget.value;le(it),Xc(it)&&(T==null||T(Kn(E,ci(it))))},leftSection:O||(d?p.jsx(Aa,{color:Xc(se)?se:"#fff",size:"var(--ci-preview-size)",...L("colorPreview")}):null),readOnly:c||j,pointer:c,unstyled:i,rightSection:U||(m&&!A&&!j&&Q?fe:null)})}),p.jsx(pr.Dropdown,{onMouseDown:Ae=>Ae.preventDefault(),className:Q_.dropdown,children:p.jsx(ww,{__staticSelector:"ColorInput",value:se,onChange:le,onChangeEnd:T,format:E,swatches:N,swatchesPerRow:W,withPicker:M,size:b.size,focusable:!1,unstyled:i,styles:$,classNames:F,onColorSwatchClick:()=>y&&H(!1)})})]})})});up.classes=xn.classes;up.displayName="@mantine/core/ColorInput";const SA={timeout:1e3};function _E(e){const{children:t,timeout:r,value:n,...s}=ae("CopyButton",SA,e),i=KD({timeout:r}),c=()=>i.copy(n);return p.jsx(p.Fragment,{children:t({copy:c,copied:i.copied,...s})})}_E.displayName="@mantine/core/CopyButton";var xE={root:"m_3eebeb36",label:"m_9e365f20"};const bA={orientation:"horizontal"},_A=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?Cr(t,e):void 0,"--divider-border-style":r,"--divider-size":Ke(n,"divider-size")}}),Rr=ve((e,t)=>{const r=ae("Divider",bA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,color:d,orientation:m,label:v,labelPosition:y,mod:S,...w}=r,x=ze({name:"Divider",classes:xE,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:_A});return p.jsx(ne,{ref:t,mod:[{orientation:m,"with-label":!!v},S],...x("root"),...w,role:"separator",children:v&&p.jsx(ne,{component:"span",mod:{position:y},...x("label"),children:v})})});Rr.classes=xE;Rr.displayName="@mantine/core/Divider";const[xA,$a]=cn("Drawer component was not found in tree");var Ks={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const CA={},fp=ve((e,t)=>{const r=ae("DrawerBody",CA,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=$a();return p.jsx(Gy,{ref:t,...d.getStyles("body",{classNames:n,style:i,styles:c,className:s}),...u})});fp.classes=Ks;fp.displayName="@mantine/core/DrawerBody";const RA={},pp=ve((e,t)=>{const r=ae("DrawerCloseButton",RA,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=$a();return p.jsx(Ky,{ref:t,...d.getStyles("close",{classNames:n,style:i,styles:c,className:s}),...u})});pp.classes=Ks;pp.displayName="@mantine/core/DrawerCloseButton";const EA={},hp=ve((e,t)=>{const r=ae("DrawerContent",EA,e),{classNames:n,className:s,style:i,styles:c,vars:l,children:u,radius:d,__hidden:m,...v}=r,y=$a(),S=y.scrollAreaComponent||GR;return p.jsx(Xy,{...y.getStyles("content",{className:s,style:i,styles:c,classNames:n}),innerProps:y.getStyles("inner",{className:s,style:i,styles:c,classNames:n}),ref:t,...v,radius:d||y.radius||0,"data-hidden":m||void 0,children:p.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:u})})});hp.classes=Ks;hp.displayName="@mantine/core/DrawerContent";const TA={},mp=ve((e,t)=>{const r=ae("DrawerHeader",TA,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=$a();return p.jsx(Yy,{ref:t,...d.getStyles("header",{classNames:n,style:i,styles:c,className:s}),...u})});mp.classes=Ks;mp.displayName="@mantine/core/DrawerHeader";const kA={},gp=ve((e,t)=>{const r=ae("DrawerOverlay",kA,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=$a();return p.jsx(Qy,{ref:t,...d.getStyles("overlay",{classNames:n,style:i,styles:c,className:s}),...u})});gp.classes=Ks;gp.displayName="@mantine/core/DrawerOverlay";function PA(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function IA(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const jA={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},DA={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},MA={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gr("modal"),position:"left"},NA=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Ke(r,"drawer-size"),"--drawer-flex":IA(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":PA(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":oe(n)}}),vp=ve((e,t)=>{const r=ae("DrawerRoot",MA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,scrollAreaComponent:d,position:m,transitionProps:v,radius:y,...S}=r,{dir:w}=No(),x=ze({name:"Drawer",classes:Ks,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:NA}),R=(w==="rtl"?DA:jA)[m];return p.jsx(xA,{value:{scrollAreaComponent:d,getStyles:x,radius:y},children:p.jsx(qy,{ref:t,...x("root"),transitionProps:{transition:R,...v},unstyled:l,...S})})});vp.classes=Ks;vp.displayName="@mantine/core/DrawerRoot";const[LA,OA]=bi();function CE({children:e}){const[t,r]=I.useState([]),[n,s]=I.useState(Gr("modal"));return p.jsx(LA,{value:{stack:t,addModal:(i,c)=>{r(l=>[...new Set([...l,i])]),s(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:i=>r(c=>c.filter(l=>l!==i)),getZIndex:i=>`calc(${n} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}CE.displayName="@mantine/core/DrawerStack";const AA={},yp=ve((e,t)=>{const r=ae("DrawerTitle",AA,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=$a();return p.jsx(Jy,{ref:t,...d.getStyles("title",{classNames:n,style:i,styles:c,className:s}),...u})});yp.classes=Ks;yp.displayName="@mantine/core/DrawerTitle";const $A={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gr("modal"),withOverlay:!0,withCloseButton:!0},Rn=ve((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:c,children:l,opened:u,stackId:d,zIndex:m,...v}=ae("Drawer",$A,e),y=OA(),S=!!r||i,w=y&&d?{closeOnEscape:y.currentId===d,trapFocus:y.currentId===d,zIndex:y.getZIndex(d)}:{},x=n===!1?!1:d&&y?y.currentId===d:u;return I.useEffect(()=>{y&&d&&(u?y.addModal(d,m||Gr("modal")):y.removeModal(d))},[u,d,m]),p.jsxs(vp,{ref:t,opened:u,zIndex:y&&d?y.getZIndex(d):m,...v,...w,children:[n&&p.jsx(gp,{visible:x,transitionProps:y&&d?{duration:0}:void 0,...s}),p.jsxs(hp,{__hidden:y&&d&&u?d!==y.currentId:!1,children:[S&&p.jsxs(mp,{children:[r&&p.jsx(yp,{children:r}),i&&p.jsx(pp,{...c})]}),p.jsx(fp,{children:l})]})]})});Rn.classes=Ks;Rn.displayName="@mantine/core/Drawer";Rn.Root=vp;Rn.Overlay=gp;Rn.Content=hp;Rn.Body=fp;Rn.Header=mp;Rn.Title=yp;Rn.CloseButton=pp;Rn.Stack=CE;function FA({open:e,close:t,openDelay:r,closeDelay:n}){const s=I.useRef(-1),i=I.useRef(-1),c=()=>{window.clearTimeout(s.current),window.clearTimeout(i.current)},l=()=>{c(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)},u=()=>{c(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)};return I.useEffect(()=>c,[]),{openDropdown:l,closeDropdown:u}}const[Z_,RE]=cn("Grid component was not found in tree"),jv=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,e1=(e,t,r)=>r||e==="auto"?"100%":e==="content"?"unset":jv(e,t),t1=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},r1=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function zA({span:e,order:t,offset:r,selector:n}){var S;const s=ir(),i=RE(),c=i.breakpoints||s.breakpoints,u=Qn(e)===void 0?12:Qn(e),d=jo({"--col-order":(S=Qn(t))==null?void 0:S.toString(),"--col-flex-grow":t1(u,i.grow),"--col-flex-basis":jv(u,i.columns),"--col-width":u==="content"?"auto":void 0,"--col-max-width":e1(u,i.columns,i.grow),"--col-offset":r1(Qn(r),i.columns)}),m=qt(c).reduce((w,x)=>{var R;return w[x]||(w[x]={}),typeof t=="object"&&t[x]!==void 0&&(w[x]["--col-order"]=(R=t[x])==null?void 0:R.toString()),typeof e=="object"&&e[x]!==void 0&&(w[x]["--col-flex-grow"]=t1(e[x],i.grow),w[x]["--col-flex-basis"]=jv(e[x],i.columns),w[x]["--col-width"]=e[x]==="content"?"auto":void 0,w[x]["--col-max-width"]=e1(e[x],i.columns,i.grow)),typeof r=="object"&&r[x]!==void 0&&(w[x]["--col-offset"]=r1(r[x],i.columns)),w},{}),y=gy(qt(m),c).filter(w=>qt(m[w.value]).length>0).map(w=>({query:i.type==="container"?`mantine-grid (min-width: ${c[w.value]})`:`(min-width: ${c[w.value]})`,styles:m[w.value]}));return p.jsx(ja,{styles:d,media:i.type==="container"?void 0:y,container:i.type==="container"?y:void 0,selector:n})}var Sw={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const BA={span:12},bw=ve((e,t)=>{const r=ae("GridCol",BA,e),{classNames:n,className:s,style:i,styles:c,vars:l,span:u,order:d,offset:m,...v}=r,y=RE(),S=xl();return p.jsxs(p.Fragment,{children:[p.jsx(zA,{selector:`.${S}`,span:u,order:d,offset:m}),p.jsx(ne,{ref:t,...y.getStyles("col",{className:Zt(s,S),style:i,classNames:n,styles:c}),...v})]})});bw.classes=Sw;bw.displayName="@mantine/core/GridCol";function n1({gutter:e,selector:t,breakpoints:r,type:n}){const s=ir(),i=r||s.breakpoints,c=jo({"--grid-gutter":or(Qn(e))}),l=qt(i).reduce((m,v)=>(m[v]||(m[v]={}),typeof e=="object"&&e[v]!==void 0&&(m[v]["--grid-gutter"]=or(e[v])),m),{}),d=gy(qt(l),i).filter(m=>qt(l[m.value]).length>0).map(m=>({query:n==="container"?`mantine-grid (min-width: ${i[m.value]})`:`(min-width: ${i[m.value]})`,styles:l[m.value]}));return p.jsx(ja,{styles:c,media:n==="container"?void 0:d,container:n==="container"?d:void 0,selector:t})}const UA={gutter:"md",grow:!1,columns:12},VA=(e,{justify:t,align:r,overflow:n})=>({root:{"--grid-justify":t,"--grid-align":r,"--grid-overflow":n}}),xo=ve((e,t)=>{const r=ae("Grid",UA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,grow:d,gutter:m,columns:v,align:y,justify:S,children:w,breakpoints:x,type:R,...T}=r,C=ze({name:"Grid",classes:Sw,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:VA}),h=xl();return R==="container"&&x?p.jsxs(Z_,{value:{getStyles:C,grow:d,columns:v||12,breakpoints:x,type:R},children:[p.jsx(n1,{selector:`.${h}`,...r}),p.jsx("div",{...C("container"),children:p.jsx(ne,{ref:t,...C("root",{className:h}),...T,children:p.jsx("div",{...C("inner"),children:w})})})]}):p.jsxs(Z_,{value:{getStyles:C,grow:d,columns:v||12,breakpoints:x,type:R},children:[p.jsx(n1,{selector:`.${h}`,...r}),p.jsx(ne,{ref:t,...C("root",{className:h}),...T,children:p.jsx("div",{...C("inner"),children:w})})]})});xo.classes=Sw;xo.displayName="@mantine/core/Grid";xo.Col=bw;function HA(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=oe(t),[s,i]=e.split("-");return s==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),s==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),s==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),i==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),i==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),i==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var EE={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const WA={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},qA=(e,{color:t,position:r,offset:n,size:s,radius:i,zIndex:c,autoContrast:l})=>({root:{"--indicator-color":t?Cr(t,e):void 0,"--indicator-text-color":_y(l,e)?Yf({color:t,theme:e,autoContrast:l}):void 0,"--indicator-size":oe(s),"--indicator-radius":i===void 0?void 0:Lt(i),"--indicator-z-index":c==null?void 0:c.toString(),...HA(r,n)}}),_w=ve((e,t)=>{const r=ae("Indicator",WA,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,children:d,position:m,offset:v,inline:y,label:S,radius:w,color:x,withBorder:R,disabled:T,processing:C,zIndex:h,autoContrast:g,mod:b,...E}=r,k=ze({name:"Indicator",classes:EE,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:qA});return p.jsxs(ne,{ref:t,...k("root"),mod:[{inline:y},b],...E,children:[!T&&p.jsx(ne,{mod:{"with-label":!!S,"with-border":R,processing:C},...k("indicator"),children:S}),d]})});_w.classes=EE;_w.displayName="@mantine/core/Indicator";function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function xw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GA=I.useLayoutEffect,KA=function(t){var r=Tt.useRef(t);return GA(function(){r.current=t}),r},s1=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},XA=function(t,r){var n=Tt.useRef();return Tt.useCallback(function(s){t.current=s,n.current&&s1(n.current,null),n.current=r,r&&s1(r,s)},[r])},o1={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},YA=function(t){Object.keys(o1).forEach(function(r){t.style.setProperty(r,o1[r],"important")})},i1=YA,kr=null,a1=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function QA(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),kr||(kr=document.createElement("textarea"),kr.setAttribute("tabindex","-1"),kr.setAttribute("aria-hidden","true"),i1(kr)),kr.parentNode===null&&document.body.appendChild(kr);var s=e.paddingSize,i=e.borderSize,c=e.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(y){var S=y;kr.style[S]=c[S]}),i1(kr),kr.value=t;var u=a1(kr,e);kr.value=t,u=a1(kr,e),kr.value="x";var d=kr.scrollHeight-s,m=d*r;l==="border-box"&&(m=m+s+i),u=Math.max(m,u);var v=d*n;return l==="border-box"&&(v=v+s+i),u=Math.min(v,u),[u,d]}var c1=function(){},JA=function(t,r){return t.reduce(function(n,s){return n[s]=r[s],n},{})},ZA=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],e3=!!document.documentElement.currentStyle,t3=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=JA(ZA,r),s=n.boxSizing;if(s==="")return null;e3&&s==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var i=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:i,borderSize:c}},r3=t3;function TE(e,t,r){var n=KA(r);I.useLayoutEffect(function(){var s=function(c){return n.current(c)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var n3=function(t){TE(window,"resize",t)},s3=function(t){TE(document.fonts,"loadingdone",t)},o3=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],i3=function(t,r){var n=t.cacheMeasurements,s=t.maxRows,i=t.minRows,c=t.onChange,l=c===void 0?c1:c,u=t.onHeightChange,d=u===void 0?c1:u,m=xw(t,o3),v=m.value!==void 0,y=I.useRef(null),S=XA(y,r),w=I.useRef(0),x=I.useRef(),R=function(){var h=y.current,g=n&&x.current?x.current:r3(h);if(g){x.current=g;var b=QA(g,h.value||h.placeholder||"x",i,s),E=b[0],k=b[1];w.current!==E&&(w.current=E,h.style.setProperty("height",E+"px","important"),d(E,{rowHeight:k}))}},T=function(h){v||R(),l(h)};return I.useLayoutEffect(R),n3(R),s3(R),I.createElement("textarea",jf({},m,{onChange:T,ref:S}))},a3=I.forwardRef(i3);const c3={},kl=ve((e,t)=>{const{autosize:r,maxRows:n,minRows:s,__staticSelector:i,resize:c,...l}=ae("Textarea",c3,e),u=r&&h2()!=="test",d=u?{maxRows:n,minRows:s}:{};return p.jsx(xn,{component:u?a3:"textarea",ref:t,...l,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...d})});kl.classes=xn.classes;kl.displayName="@mantine/core/Textarea";const[l3,Pl]=cn("Menu component was not found in the tree");var Fa={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const d3={},Cw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,...l}=ae("MenuDivider",d3,e),u=Pl();return p.jsx(ne,{ref:t,...u.getStyles("divider",{className:n,style:s,styles:i,classNames:r}),...l})});Cw.classes=Fa;Cw.displayName="@mantine/core/MenuDivider";const u3={},Rw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,onMouseEnter:l,onMouseLeave:u,onKeyDown:d,children:m,...v}=ae("MenuDropdown",u3,e),y=I.useRef(null),S=Pl(),w=zr(d,T=>{var C,h;(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),(h=(C=y.current)==null?void 0:C.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||h.focus())}),x=zr(l,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),R=zr(u,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return p.jsxs(pr.Dropdown,{...v,onMouseEnter:x,onMouseLeave:R,role:"menu","aria-orientation":"vertical",ref:er(t,y),...S.getStyles("dropdown",{className:n,style:s,styles:i,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:w,children:[S.withInitialFocusPlaceholder&&p.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),m]})});Rw.classes=Fa;Rw.displayName="@mantine/core/MenuDropdown";const f3={},Ew=hr((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,color:l,closeMenuOnClick:u,leftSection:d,rightSection:m,children:v,disabled:y,"data-disabled":S,...w}=ae("MenuItem",f3,e),x=Pl(),R=ir(),{dir:T}=No(),C=I.useRef(null),h=x.getItemIndex(C.current),g=w,b=zr(g.onMouseLeave,()=>x.setHovered(-1)),E=zr(g.onMouseEnter,()=>x.setHovered(x.getItemIndex(C.current))),k=zr(g.onClick,()=>{S||(typeof u=="boolean"?u&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),j=zr(g.onFocus,()=>x.setHovered(x.getItemIndex(C.current))),M=l?R.variantColorResolver({color:l,theme:R,variant:"light"}):void 0,N=l?Ia({color:l,theme:R}):null;return p.jsxs(rs,{...w,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,onFocus:j,...x.getStyles("item",{className:n,style:s,styles:i,classNames:r}),ref:er(C,t),role:"menuitem",disabled:y,"data-menu-item":!0,"data-disabled":y||S||void 0,"data-hovered":x.hovered===h?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:b,onClick:k,onKeyDown:NC({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:T,orientation:"vertical",onKeyDown:g.onKeyDown}),__vars:{"--menu-item-color":N!=null&&N.isThemeColor&&(N==null?void 0:N.shade)===void 0?`var(--mantine-color-${N.color}-6)`:M==null?void 0:M.color,"--menu-item-hover":M==null?void 0:M.hover},children:[d&&p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"left",children:d}),v&&p.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:r}),children:v}),m&&p.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"right",children:m})]})});Ew.classes=Fa;Ew.displayName="@mantine/core/MenuItem";const p3={},Tw=ve((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:c,...l}=ae("MenuLabel",p3,e),u=Pl();return p.jsx(ne,{ref:t,...u.getStyles("label",{className:n,style:s,styles:i,classNames:r}),...l})});Tw.classes=Fa;Tw.displayName="@mantine/core/MenuLabel";const h3={refProp:"ref"},kE=I.forwardRef((e,t)=>{const{children:r,refProp:n,...s}=ae("MenuTarget",h3,e);if(!Do(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Pl(),c=r.props,l=zr(c.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),u=zr(c.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),d=zr(c.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return p.jsx(pr.Target,{refProp:n,popupType:"menu",ref:t,...s,children:I.cloneElement(r,{onClick:l,onMouseEnter:u,onMouseLeave:d,"data-expanded":i.opened?!0:void 0})})});kE.displayName="@mantine/core/MenuTarget";const m3={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function ot(e){const t=ae("Menu",m3,e),{children:r,onOpen:n,onClose:s,opened:i,defaultOpened:c,trapFocus:l,onChange:u,closeOnItemClick:d,loop:m,closeOnEscape:v,trigger:y,openDelay:S,closeDelay:w,classNames:x,styles:R,unstyled:T,variant:C,vars:h,menuItemTabIndex:g,keepMounted:b,withInitialFocusPlaceholder:E,...k}=t,j=ze({name:"Menu",classes:Fa,props:t,classNames:x,styles:R,unstyled:T}),[M,{setHovered:N,resetHovered:A}]=WD(),[O,U]=Dr({value:i,defaultValue:c,finalValue:!1,onChange:u}),[W,K]=I.useState(!1),L=()=>{U(!1),K(!1),O&&(s==null||s())},F=()=>{U(!0),!O&&(n==null||n())},$=()=>{O?L():F()},{openDropdown:B,closeDropdown:H}=FA({open:F,close:L,closeDelay:w,openDelay:S}),V=le=>HD("[data-menu-item]","[data-menu-dropdown]",le),{resolvedClassNames:G,resolvedStyles:se}=_i({classNames:x,styles:R,props:t});return Hr(()=>{A()},[O]),p.jsx(l3,{value:{getStyles:j,opened:O,toggleDropdown:$,getItemIndex:V,hovered:M,setHovered:N,openedViaClick:W,setOpenedViaClick:K,closeOnItemClick:d,closeDropdown:y==="click"?L:H,openDropdown:y==="click"?F:B,closeDropdownImmediately:L,loop:m,trigger:y,unstyled:T,menuItemTabIndex:g,withInitialFocusPlaceholder:E},children:p.jsx(pr,{...k,opened:O,onChange:$,defaultOpened:c,trapFocus:b?!1:l,closeOnEscape:v,__staticSelector:"Menu",classNames:G,styles:se,unstyled:T,variant:C,keepMounted:b,children:r})})}ot.extend=e=>e;ot.withProps=xM(ot);ot.classes=Fa;ot.displayName="@mantine/core/Menu";ot.Item=Ew;ot.Label=Tw;ot.Dropdown=Rw;ot.Target=kE;ot.Divider=Cw;const[g3,za]=cn("Modal component was not found in tree");var Xs={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const v3={},wp=ve((e,t)=>{const r=ae("ModalBody",v3,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=za();return p.jsx(Gy,{ref:t,...d.getStyles("body",{classNames:n,style:i,styles:c,className:s}),...u})});wp.classes=Xs;wp.displayName="@mantine/core/ModalBody";const y3={},Sp=ve((e,t)=>{const r=ae("ModalCloseButton",y3,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=za();return p.jsx(Ky,{ref:t,...d.getStyles("close",{classNames:n,style:i,styles:c,className:s}),...u})});Sp.classes=Xs;Sp.displayName="@mantine/core/ModalCloseButton";const w3={},bp=ve((e,t)=>{const r=ae("ModalContent",w3,e),{classNames:n,className:s,style:i,styles:c,vars:l,children:u,__hidden:d,...m}=r,v=za(),y=v.scrollAreaComponent||GR;return p.jsx(Xy,{...v.getStyles("content",{className:s,style:i,styles:c,classNames:n}),innerProps:v.getStyles("inner",{className:s,style:i,styles:c,classNames:n}),"data-full-screen":v.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...m,children:p.jsx(y,{style:{maxHeight:v.fullScreen?"100dvh":`calc(100dvh - (${oe(v.yOffset)} * 2))`},children:u})})});bp.classes=Xs;bp.displayName="@mantine/core/ModalContent";const S3={},_p=ve((e,t)=>{const r=ae("ModalHeader",S3,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=za();return p.jsx(Yy,{ref:t,...d.getStyles("header",{classNames:n,style:i,styles:c,className:s}),...u})});_p.classes=Xs;_p.displayName="@mantine/core/ModalHeader";const b3={},xp=ve((e,t)=>{const r=ae("ModalOverlay",b3,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=za();return p.jsx(Qy,{ref:t,...d.getStyles("overlay",{classNames:n,style:i,styles:c,className:s}),...u})});xp.classes=Xs;xp.displayName="@mantine/core/ModalOverlay";const _3={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},x3=(e,{radius:t,size:r,yOffset:n,xOffset:s})=>({root:{"--modal-radius":t===void 0?void 0:Lt(t),"--modal-size":Ke(r,"modal-size"),"--modal-y-offset":oe(n),"--modal-x-offset":oe(s)}}),Cp=ve((e,t)=>{const r=ae("ModalRoot",_3,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,yOffset:d,scrollAreaComponent:m,radius:v,fullScreen:y,centered:S,xOffset:w,__staticSelector:x,...R}=r,T=ze({name:x,classes:Xs,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:x3});return p.jsx(g3,{value:{yOffset:d,scrollAreaComponent:m,getStyles:T,fullScreen:y},children:p.jsx(qy,{ref:t,...T("root"),"data-full-screen":y||void 0,"data-centered":S||void 0,unstyled:l,...R})})});Cp.classes=Xs;Cp.displayName="@mantine/core/ModalRoot";const[C3,R3]=bi();function PE({children:e}){const[t,r]=I.useState([]),[n,s]=I.useState(Gr("modal"));return p.jsx(C3,{value:{stack:t,addModal:(i,c)=>{r(l=>[...new Set([...l,i])]),s(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:i=>r(c=>c.filter(l=>l!==i)),getZIndex:i=>`calc(${n} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}PE.displayName="@mantine/core/ModalStack";const E3={},Rp=ve((e,t)=>{const r=ae("ModalTitle",E3,e),{classNames:n,className:s,style:i,styles:c,vars:l,...u}=r,d=za();return p.jsx(Jy,{ref:t,...d.getStyles("title",{classNames:n,style:i,styles:c,className:s}),...u})});Rp.classes=Xs;Rp.displayName="@mantine/core/ModalTitle";const T3={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},bt=ve((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:c,children:l,radius:u,opened:d,stackId:m,zIndex:v,...y}=ae("Modal",T3,e),S=R3(),w=!!r||i,x=S&&m?{closeOnEscape:S.currentId===m,trapFocus:S.currentId===m,zIndex:S.getZIndex(m)}:{},R=n===!1?!1:m&&S?S.currentId===m:d;return I.useEffect(()=>{S&&m&&(d?S.addModal(m,v||Gr("modal")):S.removeModal(m))},[d,m,v]),p.jsxs(Cp,{ref:t,radius:u,opened:d,zIndex:S&&m?S.getZIndex(m):v,...y,...x,children:[n&&p.jsx(xp,{visible:R,transitionProps:S&&m?{duration:0}:void 0,...s}),p.jsxs(bp,{radius:u,__hidden:S&&m&&d?m!==S.currentId:!1,children:[w&&p.jsxs(_p,{children:[r&&p.jsx(Rp,{children:r}),i&&p.jsx(Sp,{...c})]}),p.jsx(wp,{children:l})]})]})});bt.classes=Xs;bt.displayName="@mantine/core/Modal";bt.Root=Cp;bt.Overlay=xp;bt.Content=bp;bt.Body=wp;bt.Header=_p;bt.Title=Rp;bt.CloseButton=Sp;bt.Stack=PE;const[MW,IE]=bi(),[k3,P3]=bi();var Ep={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const I3={},j3=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Ke(t):Ke(r,"pg-gap")}}),kw=ve((e,t)=>{const r=ae("PillGroup",I3,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,size:d,disabled:m,...v}=r,y=IE(),S=(y==null?void 0:y.size)||d||void 0,w=ze({name:"PillGroup",classes:Ep,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:j3,stylesCtx:{size:S},rootSelector:"group"});return p.jsx(k3,{value:{size:S,disabled:m},children:p.jsx(ne,{ref:t,size:S,...w("group"),...v})})});kw.classes=Ep;kw.displayName="@mantine/core/PillGroup";const D3={variant:"default"},M3=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Ke(r,"pill-fz"),"--pill-height":Ke(r,"pill-height"),"--pill-radius":t===void 0?void 0:Lt(t)}}),vi=ve((e,t)=>{const r=ae("Pill",D3,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,variant:d,children:m,withRemoveButton:v,onRemove:y,removeButtonProps:S,radius:w,size:x,disabled:R,mod:T,...C}=r,h=P3(),g=IE(),b=x||(h==null?void 0:h.size)||void 0,E=(g==null?void 0:g.variant)==="filled"?"contrast":d||"default",k=ze({name:"Pill",classes:Ep,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:M3,stylesCtx:{size:b}});return p.jsxs(ne,{component:"span",ref:t,variant:E,size:b,...k("root",{variant:E}),mod:[{"with-remove":v&&!R,disabled:R||(h==null?void 0:h.disabled)},T],...C,children:[p.jsx("span",{...k("label"),children:m}),v&&p.jsx(La,{variant:"transparent",radius:w,tabIndex:-1,"aria-hidden":!0,unstyled:l,...S,...k("remove",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),onMouseDown:j=>{var M;j.preventDefault(),j.stopPropagation(),(M=S==null?void 0:S.onMouseDown)==null||M.call(S,j)},onClick:j=>{var M;j.stopPropagation(),y==null||y(),(M=S==null?void 0:S.onClick)==null||M.call(S,j)}})]})});vi.classes=Ep;vi.displayName="@mantine/core/Pill";vi.Group=kw;var jE={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const N3={},L3=(e,{variant:t,color:r,childrenOffset:n,autoContrast:s})=>{const i=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:s});return{root:{"--nl-bg":r||t?i.background:void 0,"--nl-hover":r||t?i.hover:void 0,"--nl-color":r||t?i.color:void 0},children:{"--nl-offset":or(n)}}},jr=hr((e,t)=>{const r=ae("NavLink",N3,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,opened:d,defaultOpened:m,onChange:v,children:y,onClick:S,active:w,disabled:x,leftSection:R,rightSection:T,label:C,description:h,disableRightSectionRotation:g,noWrap:b,childrenOffset:E,onKeyDown:k,autoContrast:j,mod:M,...N}=r,A=ze({name:"NavLink",props:r,classes:jE,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:L3}),[O,U]=Dr({value:d,defaultValue:m,finalValue:!1,onChange:v}),W=!!y,K=L=>{S==null||S(L),W&&(L.preventDefault(),U(!O))};return p.jsxs(p.Fragment,{children:[p.jsxs(rs,{...A("root"),component:"a",ref:t,onClick:K,onKeyDown:L=>{k==null||k(L),L.nativeEvent.code==="Space"&&W&&(L.preventDefault(),U(!O))},unstyled:l,mod:[{disabled:x,active:w,expanded:O},M],...N,children:[R&&p.jsx(ne,{component:"span",...A("section"),mod:{position:"left"},children:R}),p.jsxs(ne,{...A("body"),mod:{"no-wrap":b},children:[p.jsx(ne,{component:"span",...A("label"),children:C}),p.jsx(ne,{component:"span",mod:{active:w},...A("description"),children:h})]}),(W||T)&&p.jsx(ne,{...A("section"),component:"span",mod:{rotate:O&&!g,position:"right"},children:W?T||p.jsx(QR,{...A("chevron")}):T})]}),W&&p.jsx(Cl,{in:O,...A("collapse"),children:p.jsx("div",{...A("children"),children:y})})]})});jr.classes=jE;jr.displayName="@mantine/core/NavLink";var DE={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const O3={withCloseButton:!0},A3=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Lt(t),"--notification-color":r?Cr(r,e):void 0}}),Il=ve((e,t)=>{const r=ae("Notification",O3,e),{className:n,color:s,radius:i,loading:c,withCloseButton:l,withBorder:u,title:d,icon:m,children:v,onClose:y,closeButtonProps:S,classNames:w,style:x,styles:R,unstyled:T,variant:C,vars:h,mod:g,loaderProps:b,...E}=r,k=ze({name:"Notification",classes:DE,props:r,className:n,style:x,classNames:w,styles:R,unstyled:T,vars:h,varsResolver:A3});return p.jsxs(ne,{...k("root"),mod:[{"data-with-icon":!!m||c,"data-with-border":u},g],ref:t,variant:C,...E,role:"alert",children:[m&&!c&&p.jsx("div",{...k("icon"),children:m}),c&&p.jsx(Lo,{size:28,color:s,...b,...k("loader")}),p.jsxs("div",{...k("body"),children:[d&&p.jsx("div",{...k("title"),children:d}),p.jsx(ne,{...k("description"),mod:{"data-with-title":!!d},children:v})]}),l&&p.jsx(La,{iconSize:16,color:"gray",...S,unstyled:T,onClick:y,...k("closeButton")})]})});Il.classes=DE;Il.displayName="@mantine/core/Notification";function ME(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var hl;(function(e){e.event="event",e.props="prop"})(hl||(hl={}));function Co(){}function $3(e){var t,r=void 0;return function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return t&&n.length===t.length&&n.every(function(i,c){return i===t[c]})||(t=n,r=e.apply(void 0,n)),r}}function ml(e){return!!(e||"").match(/\d/)}function va(e){return e==null}function F3(e){return typeof e=="number"&&isNaN(e)}function NE(e){return va(e)||F3(e)||typeof e=="number"&&!isFinite(e)}function LE(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function z3(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function B3(e,t,r){var n=z3(r),s=e.search(/[1-9]/);return s=s===-1?e.length:s,e.substring(0,s)+e.substring(s,e.length).replace(n,"$1"+t)}function U3(e){var t=I.useRef(e);t.current=e;var r=I.useRef(function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return t.current.apply(t,n)});return r.current}function Pw(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var s=e.split("."),i=s[0],c=s[1]||"";return{beforeDecimal:i,afterDecimal:c,hasNegation:r,addNegation:n}}function V3(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",s=r[1]||"";return(t?"-":"")+n+(s?"."+s:"")}function OE(e,t,r){for(var n="",s=r?"0":"",i=0;i<=t-1;i++)n+=e[i]||s;return n}function l1(e,t){return Array(t+1).join(e)}function AE(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),s=n[0],i=n[1];if(i=Number(i),!i)return r+s;s=s.replace(".","");var c=1+i,l=s.length;return c<0?s="0."+l1("0",Math.abs(c))+s:c>=l?s=s+l1("0",c-l):s=(s.substring(0,c)||"0")+"."+s.substring(c),r+s}function d1(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,s=Pw(e),i=s.beforeDecimal,c=s.afterDecimal,l=s.hasNegation,u=parseFloat("0."+(c||"0")),d=c.length<=t?"0."+c:u.toFixed(t),m=d.split("."),v=i;i&&Number(m[0])&&(v=i.split("").reverse().reduce(function(x,R,T){return x.length>T?(Number(x[0])+Number(R)).toString()+x.substring(1,x.length):R+x},m[0]));var y=OE(m[1]||"",t,r),S=l?"-":"",w=n?".":"";return""+S+v+w+y}function ii(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var $E=$3(function(e,t){for(var r=0,n=0,s=e.length,i=t.length;e[r]===t[r]&&r<s;)r++;for(;e[s-1-n]===t[i-1-n]&&i-n>r&&s-n>r;)n++;return{from:{start:r,end:s-n},to:{start:r,end:i-n}}}),H3=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function W3(e,t,r){return Math.min(Math.max(e,t),r)}function Sg(e){return Math.max(e.selectionStart,e.selectionEnd)}function q3(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function G3(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function K3(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,s=e.formattedValueIndex;return t[n]===r[s]}function X3(e,t,r,n,s,i,c){c===void 0&&(c=K3);var l=s.findIndex(function(g){return g}),u=e.slice(0,l);!t&&!r.startsWith(u)&&(t=u,r=u+r,n=n+u.length);for(var d=r.length,m=e.length,v={},y=new Array(d),S=0;S<d;S++){y[S]=-1;for(var w=0,x=m;w<x;w++){var R=c({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:S,formattedValueIndex:w});if(R&&v[w]!==!0){y[S]=w,v[w]=!0;break}}}for(var T=n;T<d&&(y[T]===-1||!i(r[T]));)T++;var C=T===d||y[T]===-1?m:y[T];for(T=n-1;T>0&&y[T]===-1;)T--;var h=T===-1||y[T]===-1?0:y[T]+1;return h>C?C:n-h<C-n?h:C}function u1(e,t,r,n){var s=e.length;if(t=W3(t,0,s),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=s&&!r[t];)t++;t>s&&(t=r.lastIndexOf(!0))}return t===-1&&(t=s),t}function Y3(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(ml(e[r])||ml(e[r-1]));return t}function FE(e,t,r,n,s,i){i===void 0&&(i=Co);var c=U3(function(w,x){var R,T;return NE(w)?(T="",R=""):typeof w=="number"||x?(T=typeof w=="number"?AE(w):w,R=n(T)):(T=s(w,void 0),R=n(T)),{formattedValue:R,numAsString:T}}),l=I.useState(function(){return c(va(e)?t:e,r)}),u=l[0],d=l[1],m=function(w,x){w.formattedValue!==u.formattedValue&&d({formattedValue:w.formattedValue,numAsString:w.value}),i(w,x)},v=e,y=r;va(e)&&(v=u.numAsString,y=!0);var S=c(v,y);return I.useMemo(function(){d(S)},[S.formattedValue]),[u,m]}function Q3(e){return e.replace(/[^0-9]/g,"")}function J3(e){return e}function Z3(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,s=e.renderText,i=e.getInputRef,c=e.format;c===void 0&&(c=J3);var l=e.removeFormatting;l===void 0&&(l=Q3);var u=e.defaultValue,d=e.valueIsNumericString,m=e.onValueChange,v=e.isAllowed,y=e.onChange;y===void 0&&(y=Co);var S=e.onKeyDown;S===void 0&&(S=Co);var w=e.onMouseUp;w===void 0&&(w=Co);var x=e.onFocus;x===void 0&&(x=Co);var R=e.onBlur;R===void 0&&(R=Co);var T=e.value,C=e.getCaretBoundary;C===void 0&&(C=Y3);var h=e.isValidInputCharacter;h===void 0&&(h=ml);var g=e.isCharacterSame,b=ME(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),E=FE(T,u,!!d,c,l,m),k=E[0],j=k.formattedValue,M=k.numAsString,N=E[1],A=I.useRef(),O=I.useRef({formattedValue:j,numAsString:M}),U=function(he,_e){O.current={formattedValue:he.formattedValue,numAsString:he.value},N(he,_e)},W=I.useState(!1),K=W[0],L=W[1],F=I.useRef(null),$=I.useRef({setCaretTimeout:null,focusTimeout:null});I.useEffect(function(){return L(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var B=c,H=function(he,_e){var Pe=parseFloat(_e);return{formattedValue:he,value:_e,floatValue:isNaN(Pe)?void 0:Pe}},V=function(he,_e,Pe){he.selectionStart===0&&he.selectionEnd===he.value.length||(ii(he,_e),$.current.setCaretTimeout=setTimeout(function(){he.value===Pe&&he.selectionStart!==_e&&ii(he,_e)},0))},G=function(he,_e,Pe){return u1(he,_e,C(he),Pe)},se=function(he,_e,Pe){var $e=C(_e),Ue=X3(_e,j,he,Pe,$e,h,g);return Ue=u1(_e,Ue,$e),Ue},le=function(he){var _e=he.formattedValue;_e===void 0&&(_e="");var Pe=he.input,$e=he.source,Ue=he.event,Be=he.numAsString,qe;if(Pe){var ge=he.inputValue||Pe.value,De=Sg(Pe);Pe.value=_e,qe=se(ge,_e,De),qe!==void 0&&V(Pe,qe,_e)}_e!==j&&U(H(_e,Be),{event:Ue,source:$e})};I.useEffect(function(){var he=O.current,_e=he.formattedValue,Pe=he.numAsString;(j!==_e||M!==Pe)&&U(H(j,M),{event:void 0,source:hl.props})},[j,M]);var Q=F.current?Sg(F.current):void 0,ie=typeof window<"u"?I.useLayoutEffect:I.useEffect;ie(function(){var he=F.current;if(j!==O.current.formattedValue&&he){var _e=se(O.current.formattedValue,j,Q);he.value=j,V(he,_e,j)}},[j]);var fe=function(he,_e,Pe){var $e=_e.target,Ue=A.current?H3(A.current,$e.selectionEnd):$E(j,he),Be=Object.assign(Object.assign({},Ue),{lastValue:j}),qe=l(he,Be),ge=B(qe);if(qe=l(ge,void 0),v&&!v(H(ge,qe))){var De=_e.target,ke=Sg(De),Fe=se(he,j,ke);return De.value=j,V(De,Fe,j),!1}return le({formattedValue:ge,numAsString:qe,inputValue:he,event:_e,source:Pe,input:_e.target}),!0},ce=function(he,_e){_e===void 0&&(_e=0);var Pe=he.selectionStart,$e=he.selectionEnd;A.current={selectionStart:Pe,selectionEnd:$e+_e}},ye=function(he){var _e=he.target,Pe=_e.value,$e=fe(Pe,he,hl.event);$e&&y(he),A.current=void 0},Oe=function(he){var _e=he.target,Pe=he.key,$e=_e.selectionStart,Ue=_e.selectionEnd,Be=_e.value;Be===void 0&&(Be="");var qe;Pe==="ArrowLeft"||Pe==="Backspace"?qe=Math.max($e-1,0):Pe==="ArrowRight"?qe=Math.min($e+1,Be.length):Pe==="Delete"&&(qe=$e);var ge=0;Pe==="Delete"&&$e===Ue&&(ge=1);var De=Pe==="ArrowLeft"||Pe==="ArrowRight";if(qe===void 0||$e!==Ue&&!De){S(he),ce(_e,ge);return}var ke=qe;if(De){var Fe=Pe==="ArrowLeft"?"left":"right";ke=G(Be,qe,Fe),ke!==qe&&he.preventDefault()}else Pe==="Delete"&&!h(Be[qe])?ke=G(Be,qe,"right"):Pe==="Backspace"&&!h(Be[qe])&&(ke=G(Be,qe,"left"));ke!==qe&&V(_e,ke,Be),S(he),ce(_e,ge)},Ae=function(he){var _e=he.target,Pe=function(){var $e=_e.selectionStart,Ue=_e.selectionEnd,Be=_e.value;if(Be===void 0&&(Be=""),$e===Ue){var qe=G(Be,$e);qe!==$e&&V(_e,qe,Be)}};Pe(),requestAnimationFrame(function(){Pe()}),w(he),ce(_e)},it=function(he){he.persist&&he.persist();var _e=he.target,Pe=he.currentTarget;F.current=_e,$.current.focusTimeout=setTimeout(function(){var $e=_e.selectionStart,Ue=_e.selectionEnd,Be=_e.value;Be===void 0&&(Be="");var qe=G(Be,$e);qe!==$e&&!($e===0&&Ue===Be.length)&&V(_e,qe,Be),x(Object.assign(Object.assign({},he),{currentTarget:Pe}))},0)},ht=function(he){F.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),R(he)},tt=K&&q3()?"numeric":void 0,dt=Object.assign({inputMode:tt},b,{type:t,value:j,onChange:ye,onKeyDown:Oe,onMouseUp:Ae,onFocus:it,onBlur:ht});if(r==="text")return s?Tt.createElement(Tt.Fragment,null,s(j,b)||null):Tt.createElement("span",Object.assign({},b,{ref:i}),j);if(n){var mt=n;return Tt.createElement(mt,Object.assign({},dt,{ref:i}))}return Tt.createElement("input",Object.assign({},dt,{ref:i}))}function f1(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,s=t.prefix;s===void 0&&(s="");var i=t.suffix;i===void 0&&(i="");var c=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var u=Tp(t),d=u.thousandSeparator,m=u.decimalSeparator,v=r!==0&&e.indexOf(".")!==-1||r&&n,y=Pw(e,c),S=y.beforeDecimal,w=y.afterDecimal,x=y.addNegation;return r!==void 0&&(w=OE(w,r,!!n)),d&&(S=B3(S,d,l)),s&&(S=s+S),i&&(w=w+i),x&&(S="-"+S),e=S+(v&&m||"")+w,e}function Tp(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function e4(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),s=r.test(e),i=n.test(e);return e=e.replace(/-/g,""),s&&!i&&t&&(e="-"+e),e}function t4(e,t){return new RegExp("(^-)|[0-9]|"+LE(e),"g")}function r4(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function n4(e,t,r){var n;t===void 0&&(t=G3(e));var s=r.allowNegative,i=r.prefix;i===void 0&&(i="");var c=r.suffix;c===void 0&&(c="");var l=r.decimalScale,u=t.from,d=t.to,m=d.start,v=d.end,y=Tp(r),S=y.allowedDecimalSeparators,w=y.decimalSeparator,x=e[v]===w;if(ml(e)&&(e===i||e===c)&&t.lastValue==="")return e;if(v-m===1&&S.indexOf(e[m])!==-1){var R=l===0?"":w;e=e.substring(0,m)+R+e.substring(m+1,e.length)}var T=function(F,$,B){var H=!1,V=!1;i.startsWith("-")?H=!1:F.startsWith("--")?(H=!1,V=!0):c.startsWith("-")&&F.length===c.length?H=!1:F[0]==="-"&&(H=!0);var G=H?1:0;return V&&(G=2),G&&(F=F.substring(G),$-=G,B-=G),{value:F,start:$,end:B,hasNegation:H}},C=T(e,m,v),h=C.hasNegation;n=C,e=n.value,m=n.start,v=n.end;var g=T(t.lastValue,u.start,u.end),b=g.start,E=g.end,k=g.value,j=e.substring(m,v);e.length&&k.length&&(b>k.length-c.length||E<i.length)&&!(j&&c.startsWith(j))&&(e=k);var M=0;e.startsWith(i)?M+=i.length:m<i.length&&(M=m),e=e.substring(M),v-=M;var N=e.length,A=e.length-c.length;e.endsWith(c)?N=A:(v>A||v>e.length-c.length)&&(N=v),e=e.substring(0,N),e=e4(h?"-"+e:e,s),e=(e.match(t4(w))||[]).join("");var O=e.indexOf(w);e=e.replace(new RegExp(LE(w),"g"),function(F,$){return $===O?".":""});var U=Pw(e,s),W=U.beforeDecimal,K=U.afterDecimal,L=U.addNegation;return d.end-d.start<u.end-u.start&&W===""&&x&&!parseFloat(K)&&(e=L?"-":""),e}function s4(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var s=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";s.fill(!1,0,r.length+(i?1:0));var c=e.length;return s.fill(!1,c-n.length+1,c+1),s}function o4(e){var t=Tp(e),r=t.thousandSeparator,n=t.decimalSeparator,s=e.prefix;s===void 0&&(s="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return s.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+s+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function i4(e){e=o4(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,s=e.onKeyDown;s===void 0&&(s=Co);var i=e.onBlur;i===void 0&&(i=Co);var c=e.thousandSeparator,l=e.decimalScale,u=e.fixedDecimalScale,d=e.prefix;d===void 0&&(d="");var m=e.defaultValue,v=e.value,y=e.valueIsNumericString,S=e.onValueChange,w=ME(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=Tp(e),R=x.decimalSeparator,T=x.allowedDecimalSeparators,C=function(L){return f1(L,e)},h=function(L,F){return n4(L,F,e)},g=va(v)?m:v,b=y??r4(g,d,t);va(v)?va(m)||(b=b||typeof m=="number"):b=b||typeof v=="number";var E=function(L){return NE(L)?L:(typeof L=="number"&&(L=AE(L)),b&&typeof l=="number"?d1(L,l,!!u):L)},k=FE(E(v),E(m),!!b,C,h,S),j=k[0],M=j.numAsString,N=j.formattedValue,A=k[1],O=function(L){var F=L.target,$=L.key,B=F.selectionStart,H=F.selectionEnd,V=F.value;if(V===void 0&&(V=""),($==="Backspace"||$==="Delete")&&H<d.length){L.preventDefault();return}if(B!==H){s(L);return}$==="Backspace"&&V[0]==="-"&&B===d.length+1&&r&&ii(F,1),l&&u&&($==="Backspace"&&V[B-1]===R?(ii(F,B-1),L.preventDefault()):$==="Delete"&&V[B]===R&&L.preventDefault()),T!=null&&T.includes($)&&V[B]===R&&ii(F,B+1);var G=c===!0?",":c;$==="Backspace"&&V[B-1]===G&&ii(F,B-1),$==="Delete"&&V[B]===G&&ii(F,B+1),s(L)},U=function(L){var F=M;if(F.match(/\d/g)||(F=""),n||(F=V3(F)),u&&l&&(F=d1(F,l,u)),F!==M){var $=f1(F,e);A({formattedValue:$,value:F,floatValue:parseFloat(F)},{event:L,source:hl.event})}i(L)},W=function(L){return L===R?!0:ml(L)},K=function(L){var F=L.currentValue,$=L.lastValue,B=L.formattedValue,H=L.currentValueIndex,V=L.formattedValueIndex,G=F[H],se=B[V],le=$E($,F),Q=le.to,ie=function(fe){return h(fe).indexOf(".")+d.length};return v===0&&u&&l&&F[Q.start]===R&&ie(F)<H&&ie(B)>V?!1:H>=Q.start&&H<Q.end&&T&&T.includes(G)&&se===R?!0:G===se};return Object.assign(Object.assign({},w),{value:N,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:K,onValueChange:A,format:C,removeFormatting:h,getCaretBoundary:function(L){return s4(L,e)},onKeyDown:O,onBlur:U})}function a4(e){var t=i4(e);return Tt.createElement(Z3,Object.assign({},t))}function p1({direction:e,style:t,...r}){return p.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Dv={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const c4=/^(0\.0*|-0(\.0*)?)$/,l4=/^-?0\d+(\.\d+)?\.?$/;function Mv(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function bg(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Mv(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function d4(e){return e.toString().replace(".","").length}function u4(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&d4(t)<14&&t!==""}function h1(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,s=r===void 0||e<=r;return n&&s}const f4={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},p4=(e,{size:t})=>({controls:{"--ni-chevron-size":Ke(t,"ni-chevron-size")}}),jl=ve((e,t)=>{const r=ae("NumberInput",f4,e),{className:n,classNames:s,styles:i,unstyled:c,vars:l,onChange:u,onValueChange:d,value:m,defaultValue:v,max:y,min:S,step:w,hideControls:x,rightSection:R,isAllowed:T,clampBehavior:C,onBlur:h,allowDecimal:g,decimalScale:b,onKeyDown:E,onKeyDownCapture:k,handlersRef:j,startValue:M,disabled:N,rightSectionPointerEvents:A,allowNegative:O,readOnly:U,size:W,rightSectionWidth:K,stepHoldInterval:L,stepHoldDelay:F,allowLeadingZeros:$,withKeyboardEvents:B,trimLeadingZeroesOnBlur:H,...V}=r,G=ze({name:"NumberInput",classes:Dv,props:r,classNames:s,styles:i,unstyled:c,vars:l,varsResolver:p4}),{resolvedClassNames:se,resolvedStyles:le}=_i({classNames:s,styles:i,props:r}),[Q,ie]=Dr({value:m,defaultValue:v,finalValue:"",onChange:u}),fe=F!==void 0&&L!==void 0,ce=I.useRef(null),ye=I.useRef(null),Oe=I.useRef(0),Ae=(ge,De)=>{De.source==="event"&&ie(u4(ge.floatValue,ge.value)&&!c4.test(ge.value)&&!($&&l4.test(ge.value))?ge.floatValue:ge.value),d==null||d(ge,De)},it=ge=>{const De=String(ge).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return De?Math.max(0,(De[1]?De[1].length:0)-(De[2]?+De[2]:0)):0},ht=ge=>{ce.current&&typeof ge<"u"&&ce.current.setSelectionRange(ge,ge)},tt=I.useRef(gv);tt.current=()=>{if(!bg(Q))return;let ge;const De=it(Q),ke=it(w),Fe=Math.max(De,ke),Ce=10**Fe;if(!Mv(Q)&&(typeof Q!="number"||Number.isNaN(Q)))ge=Jn(M,S,y);else if(y!==void 0){const ft=(Math.round(Number(Q)*Ce)+Math.round(w*Ce))/Ce;ge=ft<=y?ft:y}else ge=(Math.round(Number(Q)*Ce)+Math.round(w*Ce))/Ce;const Ye=ge.toFixed(Fe);ie(parseFloat(Ye)),d==null||d({floatValue:parseFloat(Ye),formattedValue:Ye,value:Ye},{source:"increment"}),setTimeout(()=>{var ft;return ht((ft=ce.current)==null?void 0:ft.value.length)},0)};const dt=I.useRef(gv);dt.current=()=>{if(!bg(Q))return;let ge;const De=S!==void 0?S:O?Number.MIN_SAFE_INTEGER:0,ke=it(Q),Fe=it(w),Ce=Math.max(ke,Fe),Ye=10**Ce;if(!Mv(Q)&&typeof Q!="number"||Number.isNaN(Q))ge=Jn(M,De,y);else{const rt=(Math.round(Number(Q)*Ye)-Math.round(w*Ye))/Ye;ge=De!==void 0&&rt<De?De:rt}const ft=ge.toFixed(Ce);ie(parseFloat(ft)),d==null||d({floatValue:parseFloat(ft),formattedValue:ft,value:ft},{source:"decrement"}),setTimeout(()=>{var rt;return ht((rt=ce.current)==null?void 0:rt.value.length)},0)};const mt=ge=>{E==null||E(ge),!(U||!B)&&(ge.key==="ArrowUp"&&(ge.preventDefault(),tt.current()),ge.key==="ArrowDown"&&(ge.preventDefault(),dt.current()))},he=ge=>{if(k==null||k(ge),ge.key==="Backspace"){const De=ce.current;De.selectionStart===0&&De.selectionStart===De.selectionEnd&&(ge.preventDefault(),window.setTimeout(()=>ht(0),0))}},_e=ge=>{let De=Q;if(C==="blur"&&typeof De=="number"&&(De=Jn(De,S,y)),H&&typeof De=="string"&&it(De)<15){const ke=De.toString().replace(/^0+/,""),Fe=parseFloat(ke);De=Number.isNaN(Fe)||Fe>Number.MAX_SAFE_INTEGER?ke:Jn(Fe,S,y)}Q!==De&&ie(De),h==null||h(ge)};Cf(j,{increment:tt.current,decrement:dt.current});const Pe=ge=>{ge?tt.current():dt.current(),Oe.current+=1},$e=ge=>{if(Pe(ge),fe){const De=typeof L=="number"?L:L(Oe.current);ye.current=window.setTimeout(()=>$e(ge),De)}},Ue=(ge,De)=>{var ke;ge.preventDefault(),(ke=ce.current)==null||ke.focus(),Pe(De),fe&&(ye.current=window.setTimeout(()=>$e(De),F))},Be=()=>{ye.current&&window.clearTimeout(ye.current),ye.current=null,Oe.current=0},qe=p.jsxs("div",{...G("controls"),children:[p.jsx(rs,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof Q=="number"&&y!==void 0&&Q>=y,mod:{direction:"up"},onMouseDown:ge=>ge.preventDefault(),onPointerDown:ge=>{Ue(ge,!0)},onPointerUp:Be,onPointerLeave:Be,children:p.jsx(p1,{direction:"up"})}),p.jsx(rs,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof Q=="number"&&S!==void 0&&Q<=S,mod:{direction:"down"},onMouseDown:ge=>ge.preventDefault(),onPointerDown:ge=>{Ue(ge,!1)},onPointerUp:Be,onPointerLeave:Be,children:p.jsx(p1,{direction:"down"})})]});return p.jsx(xn,{component:a4,allowNegative:O,className:Zt(Dv.root,n),size:W,...V,readOnly:U,disabled:N,value:Q,getInputRef:er(t,ce),onValueChange:Ae,rightSection:x||U||!bg(Q)?R:R||qe,classNames:se,styles:le,unstyled:c,__staticSelector:"NumberInput",decimalScale:g?b:0,onKeyDown:mt,onKeyDownCapture:he,rightSectionPointerEvents:A??(N?"none":void 0),rightSectionWidth:K??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:$,onBlur:_e,isAllowed:ge=>C==="strict"?T?T(ge)&&h1(ge.floatValue,S,y):h1(ge.floatValue,S,y):T?T(ge):!0})});jl.classes={...xn.classes,...Dv};jl.displayName="@mantine/core/NumberInput";const[h4,kp]=cn("Pagination.Root component was not found in tree");var Dl={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const m4={withPadding:!0},Ml=ve((e,t)=>{const r=ae("PaginationControl",m4,e),{classNames:n,className:s,style:i,styles:c,vars:l,active:u,disabled:d,withPadding:m,mod:v,...y}=r,S=kp(),w=d||S.disabled;return p.jsx(rs,{ref:t,disabled:w,mod:[{active:u,disabled:w,"with-padding":m},v],...S.getStyles("control",{className:s,style:i,classNames:n,styles:c,active:!w}),...y})});Ml.classes=Dl;Ml.displayName="@mantine/core/PaginationControl";function Nl({style:e,children:t,path:r,...n}){return p.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...n,children:p.jsx("path",{d:r,fill:"currentColor"})})}const g4=e=>p.jsx(Nl,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),v4=e=>p.jsx(Nl,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),y4=e=>p.jsx(Nl,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),w4=e=>p.jsx(Nl,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),S4=e=>p.jsx(Nl,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),b4={icon:S4},Pp=ve((e,t)=>{const r=ae("PaginationDots",b4,e),{classNames:n,className:s,style:i,styles:c,vars:l,icon:u,...d}=r,m=kp(),v=u;return p.jsx(ne,{ref:t,...m.getStyles("dots",{className:s,style:i,styles:c,classNames:n}),...d,children:p.jsx(v,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});Pp.classes=Dl;Pp.displayName="@mantine/core/PaginationDots";function Ip({icon:e,name:t,action:r,type:n}){const s={icon:e},i=I.forwardRef((c,l)=>{const{icon:u,...d}=ae(t,s,c),m=u,v=kp(),y=n==="next"?v.active===v.total:v.active===1;return p.jsx(Ml,{disabled:v.disabled||y,ref:l,onClick:v[r],withPadding:!1,...d,children:p.jsx(m,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return i.displayName=`@mantine/core/${t}`,i}const zE=Ip({icon:g4,name:"PaginationNext",action:"onNext",type:"next"}),BE=Ip({icon:v4,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),UE=Ip({icon:y4,name:"PaginationFirst",action:"onFirst",type:"previous"}),VE=Ip({icon:w4,name:"PaginationLast",action:"onLast",type:"next"});function Iw({dotsIcon:e}){const t=kp(),r=t.range.map((n,s)=>{var i,c,l;return n==="dots"?p.jsx(Pp,{icon:e},s):p.jsx(Ml,{active:n===t.active,"aria-current":n===t.active?"page":void 0,onClick:()=>t.onChange(n),disabled:t.disabled,...(i=t.getItemProps)==null?void 0:i.call(t,n),children:((l=(c=t.getItemProps)==null?void 0:c.call(t,n))==null?void 0:l.children)??n},s)});return p.jsx(p.Fragment,{children:r})}Iw.displayName="@mantine/core/PaginationItems";const _4={siblings:1,boundaries:1},x4=(e,{size:t,radius:r,color:n,autoContrast:s})=>({root:{"--pagination-control-radius":r===void 0?void 0:Lt(r),"--pagination-control-size":Ke(t,"pagination-control-size"),"--pagination-control-fz":fr(t),"--pagination-active-bg":n?Cr(n,e):void 0,"--pagination-active-color":_y(s,e)?Yf({color:n,theme:e,autoContrast:s}):void 0}}),jp=ve((e,t)=>{const r=ae("PaginationRoot",_4,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,total:d,value:m,defaultValue:v,onChange:y,disabled:S,siblings:w,boundaries:x,color:R,radius:T,onNextPage:C,onPreviousPage:h,onFirstPage:g,onLastPage:b,getItemProps:E,autoContrast:k,...j}=r,M=ze({name:"Pagination",classes:Dl,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:x4}),{range:N,setPage:A,next:O,previous:U,active:W,first:K,last:L}=l2({page:m,initialPage:v,onChange:y,total:d,siblings:w,boundaries:x}),F=zr(C,O),$=zr(h,U),B=zr(g,K),H=zr(b,L);return p.jsx(h4,{value:{total:d,range:N,active:W,disabled:S,getItemProps:E,onChange:A,onNext:F,onPrevious:$,onFirst:B,onLast:H,getStyles:M},children:p.jsx(ne,{ref:t,...M("root"),...j})})});jp.classes=Dl;jp.displayName="@mantine/core/PaginationRoot";const C4={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},ns=ve((e,t)=>{const r=ae("Pagination",C4,e),{withEdges:n,withControls:s,getControlProps:i,nextIcon:c,previousIcon:l,lastIcon:u,firstIcon:d,dotsIcon:m,total:v,gap:y,hideWithOnePage:S,withPages:w,...x}=r;return v<=0||S&&v===1?null:p.jsx(jp,{ref:t,total:v,...x,children:p.jsxs(Se,{gap:y,children:[n&&p.jsx(UE,{icon:d,...i==null?void 0:i("first")}),s&&p.jsx(BE,{icon:l,...i==null?void 0:i("previous")}),w&&p.jsx(Iw,{dotsIcon:m}),s&&p.jsx(zE,{icon:c,...i==null?void 0:i("next")}),n&&p.jsx(VE,{icon:u,...i==null?void 0:i("last")})]})})});ns.classes=Dl;ns.displayName="@mantine/core/Pagination";ns.Root=jp;ns.Control=Ml;ns.Dots=Pp;ns.First=UE;ns.Last=VE;ns.Next=zE;ns.Previous=BE;ns.Items=Iw;const R4=({reveal:e})=>p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:p.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Nv={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const E4={visibilityToggleIcon:R4},T4=(e,{size:t})=>({root:{"--psi-icon-size":Ke(t,"psi-icon-size"),"--psi-button-size":Ke(t,"psi-button-size")}}),Dp=ve((e,t)=>{const r=ae("PasswordInput",E4,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,required:d,error:m,leftSection:v,disabled:y,id:S,variant:w,inputContainer:x,description:R,label:T,size:C,errorProps:h,descriptionProps:g,labelProps:b,withAsterisk:E,inputWrapperOrder:k,wrapperProps:j,radius:M,rightSection:N,rightSectionWidth:A,rightSectionPointerEvents:O,leftSectionWidth:U,visible:W,defaultVisible:K,onVisibilityChange:L,visibilityToggleIcon:F,visibilityToggleButtonProps:$,rightSectionProps:B,leftSectionProps:H,leftSectionPointerEvents:V,withErrorStyles:G,mod:se,...le}=r,Q=Ws(S),[ie,fe]=Dr({value:W,defaultValue:K,finalValue:!1,onChange:L}),ce=()=>fe(!ie),ye=ze({name:"PasswordInput",classes:Nv,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:T4}),{resolvedClassNames:Oe,resolvedStyles:Ae}=_i({classNames:n,styles:c,props:r}),{styleProps:it,rest:ht}=_l(le),tt=F,dt=p.jsx(et,{...ye("visibilityToggle"),disabled:y,radius:M,"aria-hidden":!$,tabIndex:-1,...$,variant:($==null?void 0:$.variant)??"subtle",color:"gray",unstyled:l,onTouchEnd:mt=>{var he;mt.preventDefault(),(he=$==null?void 0:$.onTouchEnd)==null||he.call($,mt),ce()},onMouseDown:mt=>{var he;mt.preventDefault(),(he=$==null?void 0:$.onMouseDown)==null||he.call($,mt),ce()},onKeyDown:mt=>{var he;(he=$==null?void 0:$.onKeyDown)==null||he.call($,mt),mt.key===" "&&(mt.preventDefault(),ce())},children:p.jsx(tt,{reveal:ie})});return p.jsx($t.Wrapper,{required:d,id:Q,label:T,error:m,description:R,size:C,classNames:Oe,styles:Ae,__staticSelector:"PasswordInput",errorProps:h,descriptionProps:g,unstyled:l,withAsterisk:E,inputWrapperOrder:k,inputContainer:x,variant:w,labelProps:{...b,htmlFor:Q},mod:se,...ye("root"),...it,...j,children:p.jsx($t,{component:"div",error:m,leftSection:v,size:C,classNames:{...Oe,input:Zt(Nv.input,Oe.input)},styles:Ae,radius:M,disabled:y,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:N??dt,variant:w,unstyled:l,leftSectionWidth:U,rightSectionPointerEvents:O||"all",rightSectionProps:B,leftSectionProps:H,leftSectionPointerEvents:V,withAria:!1,withErrorStyles:G,children:p.jsx("input",{required:d,"data-invalid":!!m||void 0,"data-with-left-section":!!v||void 0,...ye("innerInput"),disabled:y,id:Q,ref:t,...ht,autoComplete:ht.autoComplete||"off",type:ie?"text":"password"})})})});Dp.classes={...xn.classes,...Nv};Dp.displayName="@mantine/core/PasswordInput";const k4={duration:100,transition:"fade"};function P4(e,t){return{...k4,...t,...e}}function I4({offset:e,position:t,defaultOpened:r}){const[n,s]=I.useState(r),i=I.useRef(null),{x:c,y:l,elements:u,refs:d,update:m,placement:v}=Ay({placement:t,middleware:[My({crossAxis:!0,padding:5,rootBoundary:"document"})]}),y=v.includes("right")?e:t.includes("left")?e*-1:0,S=v.includes("bottom")?e:t.includes("top")?e*-1:0,w=I.useCallback(({clientX:x,clientY:R})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:R,left:x+y,top:R+S,right:x,bottom:R}}})},[u.reference]);return I.useEffect(()=>{if(d.floating.current){const x=i.current;x.addEventListener("mousemove",w);const R=Ls(d.floating.current);return R.forEach(T=>{T.addEventListener("scroll",m)}),()=>{x.removeEventListener("mousemove",w),R.forEach(T=>{T.removeEventListener("scroll",m)})}}},[u.reference,d.floating.current,m,w,n]),{handleMouseMove:w,x:c,y:l,opened:n,setOpened:s,boundaryRef:i,floating:d.setFloating}}var Mp={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const j4={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Gr("popover")},D4=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Lt(t),"--tooltip-bg":r?Cr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),jw=ve((e,t)=>{const r=ae("TooltipFloating",j4,e),{children:n,refProp:s,withinPortal:i,style:c,className:l,classNames:u,styles:d,unstyled:m,radius:v,color:y,label:S,offset:w,position:x,multiline:R,zIndex:T,disabled:C,defaultOpened:h,variant:g,vars:b,portalProps:E,...k}=r,j=ir(),M=ze({name:"TooltipFloating",props:r,classes:Mp,className:l,style:c,classNames:u,styles:d,unstyled:m,rootSelector:"tooltip",vars:b,varsResolver:D4}),{handleMouseMove:N,x:A,y:O,opened:U,boundaryRef:W,floating:K,setOpened:L}=I4({offset:w,position:x,defaultOpened:h});if(!Do(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const F=er(W,Kf(n),t),$=n.props,B=V=>{var G;(G=$.onMouseEnter)==null||G.call($,V),N(V),L(!0)},H=V=>{var G;(G=$.onMouseLeave)==null||G.call($,V),L(!1)};return p.jsxs(p.Fragment,{children:[p.jsx(xi,{...E,withinPortal:i,children:p.jsx(ne,{...k,...M("tooltip",{style:{...Cy(c,j),zIndex:T,display:!C&&U?"block":"none",top:(O&&Math.round(O))??"",left:(A&&Math.round(A))??""}}),variant:g,ref:K,mod:{multiline:R},children:S})}),I.cloneElement(n,{...$,[s]:F,onMouseEnter:B,onMouseLeave:H})]})});jw.classes=Mp;jw.displayName="@mantine/core/TooltipFloating";const HE=I.createContext(!1),M4=HE.Provider,N4=()=>I.useContext(HE),L4={openDelay:0,closeDelay:0};function Dw(e){const{openDelay:t,closeDelay:r,children:n}=ae("TooltipGroup",L4,e);return p.jsx(M4,{value:!0,children:p.jsx($N,{delay:{open:t,close:r},children:n})})}Dw.displayName="@mantine/core/TooltipGroup";Dw.extend=e=>e;function O4(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function A4(e){const t=O4(e.middlewares),r=[fR(e.offset)];return t.shift&&r.push(My(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?Pf():Pf(t.flip)),r.push(pR({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?tl():tl(t.inline)):e.inline&&r.push(tl()),r}function $4(e){var E,k,j;const[t,r]=I.useState(e.defaultOpened),s=typeof e.opened=="boolean"?e.opened:t,i=N4(),c=Ws(),l=I.useCallback(M=>{r(M),M&&C(c)},[c]),{x:u,y:d,context:m,refs:v,update:y,placement:S,middlewareData:{arrow:{x:w,y:x}={}}}=Ay({strategy:e.strategy,placement:e.position,open:s,onOpenChange:l,middleware:A4(e)}),{delay:R,currentId:T,setCurrentId:C}=FN(m,{id:c}),{getReferenceProps:h,getFloatingProps:g}=qN([ON(m,{enabled:(E=e.events)==null?void 0:E.hover,delay:i?R:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((k=e.events)!=null&&k.touch)}),WN(m,{enabled:(j=e.events)==null?void 0:j.focus,visibleOnly:!0}),KN(m,{role:"tooltip"}),VN(m,{enabled:typeof e.opened>"u"})]);FR({opened:s,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:v,update:y}}),Hr(()=>{var M;(M=e.onPositionChange)==null||M.call(e,S)},[S]);const b=s&&T&&T!==c;return{x:u,y:d,arrowX:w,arrowY:x,reference:v.setReference,floating:v.setFloating,getFloatingProps:g,getReferenceProps:h,isGroupPhase:b,opened:s,placement:S}}const m1={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Gr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},F4=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Lt(t),"--tooltip-bg":r?Cr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ys=ve((e,t)=>{const r=ae("Tooltip",m1,e),{children:n,position:s,refProp:i,label:c,openDelay:l,closeDelay:u,onPositionChange:d,opened:m,defaultOpened:v,withinPortal:y,radius:S,color:w,classNames:x,styles:R,unstyled:T,style:C,className:h,withArrow:g,arrowSize:b,arrowOffset:E,arrowRadius:k,arrowPosition:j,offset:M,transitionProps:N,multiline:A,events:O,zIndex:U,disabled:W,positionDependencies:K,onClick:L,onMouseEnter:F,onMouseLeave:$,inline:B,variant:H,keepMounted:V,vars:G,portalProps:se,mod:le,floatingStrategy:Q,middlewares:ie,...fe}=ae("Tooltip",m1,r),{dir:ce}=No(),ye=I.useRef(null),Oe=$4({position:DR(ce,s),closeDelay:u,openDelay:l,onPositionChange:d,opened:m,defaultOpened:v,events:O,arrowRef:ye,arrowOffset:E,offset:typeof M=="number"?M+(g?b/2:0):M,positionDependencies:[...K,n],inline:B,strategy:Q,middlewares:ie}),Ae=ze({name:"Tooltip",props:r,classes:Mp,className:h,style:C,classNames:x,styles:R,unstyled:T,rootSelector:"tooltip",vars:G,varsResolver:F4});if(!Do(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const it=er(Oe.reference,Kf(n),t),ht=P4(N,{duration:100,transition:"fade"}),tt=n.props;return p.jsxs(p.Fragment,{children:[p.jsx(xi,{...se,withinPortal:y,children:p.jsx(qs,{...ht,keepMounted:V,mounted:!W&&!!Oe.opened,duration:Oe.isGroupPhase?10:ht.duration,children:dt=>p.jsxs(ne,{...fe,"data-fixed":Q==="fixed"||void 0,variant:H,mod:[{multiline:A},le],...Oe.getFloatingProps({ref:Oe.floating,className:Ae("tooltip").className,style:{...Ae("tooltip").style,...dt,zIndex:U,top:Oe.y??0,left:Oe.x??0}}),children:[c,p.jsx(Uy,{ref:ye,arrowX:Oe.arrowX,arrowY:Oe.arrowY,visible:g,position:Oe.placement,arrowSize:b,arrowOffset:E,arrowRadius:k,arrowPosition:j,...Ae("arrow")})]})})}),I.cloneElement(n,Oe.getReferenceProps({onClick:L,onMouseEnter:F,onMouseLeave:$,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Zt(h,tt.className),...tt,[i]:it}))]})});ys.classes=Mp;ys.displayName="@mantine/core/Tooltip";ys.Floating=jw;ys.Group=Dw;const z4={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Eo=ve((e,t)=>{const r=ae("Select",z4,e),{classNames:n,styles:s,unstyled:i,vars:c,dropdownOpened:l,defaultDropdownOpened:u,onDropdownClose:d,onDropdownOpen:m,onFocus:v,onBlur:y,onClick:S,onChange:w,data:x,value:R,defaultValue:T,selectFirstOptionOnChange:C,onOptionSubmit:h,comboboxProps:g,readOnly:b,disabled:E,filter:k,limit:j,withScrollArea:M,maxDropdownHeight:N,size:A,searchable:O,rightSection:U,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:L,name:F,form:$,searchValue:B,defaultSearchValue:H,onSearchChange:V,allowDeselect:G,error:se,rightSectionPointerEvents:le,id:Q,clearable:ie,clearButtonProps:fe,hiddenInputProps:ce,renderOption:ye,onClear:Oe,autoComplete:Ae,scrollAreaProps:it,__defaultRightSection:ht,__clearSection:tt,__clearable:dt,chevronColor:mt,...he}=r,_e=I.useMemo(()=>cO(x),[x]),Pe=I.useMemo(()=>eE(_e),[_e]),$e=Ws(Q),[Ue,Be,qe]=Dr({value:R,defaultValue:T,finalValue:null,onChange:w}),ge=typeof Ue=="string"?Pe[Ue]:void 0,De=d2(ge),[ke,Fe]=Dr({value:B,defaultValue:H,finalValue:ge?ge.label:"",onChange:V}),Ce=iE({opened:l,defaultOpened:u,onDropdownOpen:()=>{m==null||m(),Ce.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{d==null||d(),Ce.resetSelectedOption()}}),{resolvedClassNames:Ye,resolvedStyles:ft}=_i({props:r,styles:s,classNames:n});I.useEffect(()=>{C&&Ce.selectFirstOption()},[C,Ue]),I.useEffect(()=>{R===null&&Fe(""),typeof R=="string"&&ge&&((De==null?void 0:De.value)!==ge.value||(De==null?void 0:De.label)!==ge.label)&&Fe(ge.label)},[R,ge]);const rt=p.jsx(yt.ClearButton,{...fe,onClear:()=>{Be(null,null),Fe(""),Oe==null||Oe()}}),at=ie&&!!Ue&&!E&&!b;return p.jsxs(p.Fragment,{children:[p.jsxs(yt,{store:Ce,__staticSelector:"Select",classNames:Ye,styles:ft,unstyled:i,readOnly:b,onOptionSubmit:Me=>{h==null||h(Me);const kt=G&&Pe[Me].value===Ue?null:Pe[Me],Cs=kt?kt.value:null;Cs!==Ue&&Be(Cs,kt),!qe&&Fe(typeof Cs=="string"&&(kt==null?void 0:kt.label)||""),Ce.closeDropdown()},size:A,...g,children:[p.jsx(yt.Target,{targetType:O?"input":"button",autoComplete:Ae,children:p.jsx(xn,{id:$e,ref:t,__defaultRightSection:p.jsx(yt.Chevron,{size:A,error:se,unstyled:i,color:mt}),__clearSection:rt,__clearable:at,rightSection:U,rightSectionPointerEvents:le||(at?"all":"none"),...he,size:A,__staticSelector:"Select",disabled:E,readOnly:b||!O,value:ke,onChange:Me=>{Fe(Me.currentTarget.value),Ce.openDropdown(),C&&Ce.selectFirstOption()},onFocus:Me=>{O&&Ce.openDropdown(),v==null||v(Me)},onBlur:Me=>{var kt;O&&Ce.closeDropdown(),Fe(Ue!=null&&((kt=Pe[Ue])==null?void 0:kt.label)||""),y==null||y(Me)},onClick:Me=>{O?Ce.openDropdown():Ce.toggleDropdown(),S==null||S(Me)},classNames:Ye,styles:ft,unstyled:i,pointer:!O,error:se})}),p.jsx(NO,{data:_e,hidden:b||E,filter:k,search:ke,limit:j,hiddenWhenEmpty:!L,withScrollArea:M,maxDropdownHeight:N,filterOptions:O&&(ge==null?void 0:ge.label)!==ke,value:Ue,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:L,unstyled:i,labelId:he.label?`${$e}-label`:void 0,"aria-label":he.label?void 0:he["aria-label"],renderOption:ye,scrollAreaProps:it})]}),p.jsx(yt.HiddenInput,{value:Ue,name:F,form:$,disabled:E,...ce})]})});Eo.classes={...xn.classes,...yt.classes};Eo.displayName="@mantine/core/Select";function B4({spacing:e,verticalSpacing:t,cols:r,selector:n}){var m;const s=ir(),i=t===void 0?e:t,c=jo({"--sg-spacing-x":or(Qn(e)),"--sg-spacing-y":or(Qn(i)),"--sg-cols":(m=Qn(r))==null?void 0:m.toString()}),l=qt(s.breakpoints).reduce((v,y)=>(v[y]||(v[y]={}),typeof e=="object"&&e[y]!==void 0&&(v[y]["--sg-spacing-x"]=or(e[y])),typeof i=="object"&&i[y]!==void 0&&(v[y]["--sg-spacing-y"]=or(i[y])),typeof r=="object"&&r[y]!==void 0&&(v[y]["--sg-cols"]=r[y]),v),{}),d=gy(qt(l),s.breakpoints).filter(v=>qt(l[v.value]).length>0).map(v=>({query:`(min-width: ${s.breakpoints[v.value]})`,styles:l[v.value]}));return p.jsx(ja,{styles:c,media:d,selector:n})}function _g(e){return typeof e=="object"&&e!==null?qt(e):[]}function U4(e){return e.sort((t,r)=>dl(t)-dl(r))}function V4({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([..._g(e),..._g(t),..._g(r)]));return U4(n)}function H4({spacing:e,verticalSpacing:t,cols:r,selector:n}){var d;const s=t===void 0?e:t,i=jo({"--sg-spacing-x":or(Qn(e)),"--sg-spacing-y":or(Qn(s)),"--sg-cols":(d=Qn(r))==null?void 0:d.toString()}),c=V4({spacing:e,verticalSpacing:t,cols:r}),l=c.reduce((m,v)=>(m[v]||(m[v]={}),typeof e=="object"&&e[v]!==void 0&&(m[v]["--sg-spacing-x"]=or(e[v])),typeof s=="object"&&s[v]!==void 0&&(m[v]["--sg-spacing-y"]=or(s[v])),typeof r=="object"&&r[v]!==void 0&&(m[v]["--sg-cols"]=r[v]),m),{}),u=c.map(m=>({query:`simple-grid (min-width: ${m})`,styles:l[m]}));return p.jsx(ja,{styles:i,container:u,selector:n})}var WE={container:"m_925c2d2c",root:"m_2415a157"};const W4={cols:1,spacing:"md",type:"media"},Np=ve((e,t)=>{const r=ae("SimpleGrid",W4,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,cols:d,verticalSpacing:m,spacing:v,type:y,...S}=r,w=ze({name:"SimpleGrid",classes:WE,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u}),x=xl();return y==="container"?p.jsxs(p.Fragment,{children:[p.jsx(H4,{...r,selector:`.${x}`}),p.jsx("div",{...w("container"),children:p.jsx(ne,{ref:t,...w("root",{className:x}),...S})})]}):p.jsxs(p.Fragment,{children:[p.jsx(B4,{...r,selector:`.${x}`}),p.jsx(ne,{ref:t,...w("root",{className:x}),...S})]})});Np.classes=WE;Np.displayName="@mantine/core/SimpleGrid";var qE={root:"m_18320242","skeleton-fade":"m_299c329c"};const q4={visible:!0,animate:!0},G4=(e,{width:t,height:r,radius:n,circle:s})=>({root:{"--skeleton-height":oe(r),"--skeleton-width":oe(s?r:t),"--skeleton-radius":s?"1000px":n===void 0?void 0:Lt(n)}}),Lp=ve((e,t)=>{const r=ae("Skeleton",q4,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,width:d,height:m,circle:v,visible:y,radius:S,animate:w,mod:x,...R}=r,T=ze({name:"Skeleton",classes:qE,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:G4});return p.jsx(ne,{ref:t,...T("root"),mod:[{visible:y,animate:w},x],...R})});Lp.classes=qE;Lp.displayName="@mantine/core/Skeleton";const[K4,Op]=cn("SliderProvider was not found in tree"),GE=I.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:s,radius:i,...c},l)=>{const{getStyles:u}=Op();return p.jsx(ne,{tabIndex:-1,variant:r,size:e,ref:l,...u("root"),...c})});GE.displayName="@mantine/core/SliderRoot";const KE=I.forwardRef(({max:e,min:t,value:r,position:n,label:s,dragging:i,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:u,labelAlwaysOn:d,thumbLabel:m,onFocus:v,onBlur:y,showLabelOnHover:S,isHovered:w,children:x=null,disabled:R},T)=>{const{getStyles:C}=Op(),[h,g]=I.useState(!1),b=d||i||h||S&&w;return p.jsxs(ne,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:T,__vars:{"--slider-thumb-offset":`${n}%`},...C("thumb",{focusable:!0}),mod:{dragging:i,disabled:R},onFocus:E=>{g(!0),typeof v=="function"&&v(E)},onBlur:E=>{g(!1),typeof y=="function"&&y(E)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:E=>E.stopPropagation(),children:[x,p.jsx(qs,{mounted:s!=null&&!!b,transition:"fade",duration:0,...u,children:E=>p.jsx("div",{...C("label",{style:E}),children:s})})]})});KE.displayName="@mantine/core/SliderThumb";function XE({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function X4({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function YE({marks:e,min:t,max:r,disabled:n,value:s,offset:i,inverted:c}){const{getStyles:l}=Op();if(!e)return null;const u=e.map((d,m)=>I.createElement(ne,{...l("markWrapper"),__vars:{"--mark-offset":`${XE({value:d.value,min:t,max:r})}%`},key:m},p.jsx(ne,{...l("mark"),mod:{filled:X4({mark:d,value:s,offset:i,inverted:c}),disabled:n}}),d.label&&p.jsx("div",{...l("markLabel"),children:d.label})));return p.jsx("div",{children:u})}YE.displayName="@mantine/core/SliderMarks";function QE({filled:e,children:t,offset:r,disabled:n,marksOffset:s,inverted:i,containerProps:c,...l}){const{getStyles:u}=Op();return p.jsx(ne,{...u("trackContainer"),mod:{disabled:n},...c,children:p.jsxs(ne,{...u("track"),mod:{inverted:i,disabled:n},children:[p.jsx(ne,{mod:{inverted:i,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...u("bar")}),t,p.jsx(YE,{...l,offset:s,disabled:n,inverted:i})]})})}QE.displayName="@mantine/core/SliderTrack";function Y4({value:e,containerWidth:t,min:r,max:n,step:s,precision:i}){const l=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),u=(l!==0?Math.round(l/s)*s:0)+r,d=Math.max(u,r);return i!==void 0?Number(d.toFixed(i)):d}function iu(e,t){return parseFloat(e.toFixed(t))}function Q4(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function xg(e,t){const n=[...t].sort((s,i)=>s.value-i.value).find(s=>s.value>e);return n?n.value:e}function Cg(e,t){const n=[...t].sort((s,i)=>i.value-s.value).find(s=>s.value<e);return n?n.value:e}function g1(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function v1(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var JE={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const J4={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Z4=(e,{size:t,color:r,thumbSize:n,radius:s})=>({root:{"--slider-size":Ke(t,"slider-size"),"--slider-color":r?Cr(r,e):void 0,"--slider-radius":s===void 0?void 0:Lt(s),"--slider-thumb-size":n!==void 0?oe(n):"calc(var(--slider-size) * 2)"}}),Mw=ve((e,t)=>{const r=ae("Slider",J4,e),{classNames:n,styles:s,value:i,onChange:c,onChangeEnd:l,size:u,min:d,max:m,step:v,precision:y,defaultValue:S,name:w,marks:x,label:R,labelTransitionProps:T,labelAlwaysOn:C,thumbLabel:h,showLabelOnHover:g,thumbChildren:b,disabled:E,unstyled:k,scale:j,inverted:M,className:N,style:A,vars:O,hiddenInputProps:U,restrictToMarks:W,thumbProps:K,...L}=r,F=ze({name:"Slider",props:r,classes:JE,classNames:n,className:N,styles:s,style:A,vars:O,varsResolver:Z4,unstyled:k}),{dir:$}=No(),[B,H]=I.useState(!1),[V,G]=Dr({value:typeof i=="number"?Jn(i,d,m):i,defaultValue:typeof S=="number"?Jn(S,d,m):S,finalValue:Jn(0,d,m),onChange:c}),se=I.useRef(V),le=I.useRef(null),Q=I.useRef(null),ie=XE({value:V,min:d,max:m}),fe=j(V),ce=typeof R=="function"?R(fe):R,ye=y??Q4(v),Oe=I.useCallback(({x:tt})=>{if(!E){const dt=Y4({value:tt,min:d,max:m,step:v,precision:ye});G(W&&(x!=null&&x.length)?f_(dt,x.map(mt=>mt.value)):dt),se.current=dt}},[E,d,m,v,ye,G,x,W]),{ref:Ae,active:it}=vy(Oe,{onScrubEnd:()=>!E&&(l==null?void 0:l(W&&(x!=null&&x.length)?f_(se.current,x.map(tt=>tt.value)):se.current))},$),ht=tt=>{var dt,mt,he,_e,Pe,$e;if(!E)switch(tt.key){case"ArrowUp":{if(tt.preventDefault(),(dt=Q.current)==null||dt.focus(),W&&x){const Be=xg(V,x);G(Be),l==null||l(Be);break}const Ue=iu(Math.min(Math.max(V+v,d),m),ye);G(Ue),l==null||l(Ue);break}case"ArrowRight":{if(tt.preventDefault(),(mt=Q.current)==null||mt.focus(),W&&x){const Be=$==="rtl"?Cg(V,x):xg(V,x);G(Be),l==null||l(Be);break}const Ue=iu(Math.min(Math.max($==="rtl"?V-v:V+v,d),m),ye);G(Ue),l==null||l(Ue);break}case"ArrowDown":{if(tt.preventDefault(),(he=Q.current)==null||he.focus(),W&&x){const Be=Cg(V,x);G(Be),l==null||l(Be);break}const Ue=iu(Math.min(Math.max(V-v,d),m),ye);G(Ue),l==null||l(Ue);break}case"ArrowLeft":{if(tt.preventDefault(),(_e=Q.current)==null||_e.focus(),W&&x){const Be=$==="rtl"?xg(V,x):Cg(V,x);G(Be),l==null||l(Be);break}const Ue=iu(Math.min(Math.max($==="rtl"?V+v:V-v,d),m),ye);G(Ue),l==null||l(Ue);break}case"Home":{if(tt.preventDefault(),(Pe=Q.current)==null||Pe.focus(),W&&x){G(g1(x)),l==null||l(g1(x));break}G(d),l==null||l(d);break}case"End":{if(tt.preventDefault(),($e=Q.current)==null||$e.focus(),W&&x){G(v1(x)),l==null||l(v1(x));break}G(m),l==null||l(m);break}}};return p.jsx(K4,{value:{getStyles:F},children:p.jsxs(GE,{...L,ref:er(t,le),onKeyDownCapture:ht,onMouseDownCapture:()=>{var tt;return(tt=le.current)==null?void 0:tt.focus()},size:u,disabled:E,children:[p.jsx(QE,{inverted:M,offset:0,filled:ie,marks:x,min:d,max:m,value:fe,disabled:E,containerProps:{ref:Ae,onMouseEnter:g?()=>H(!0):void 0,onMouseLeave:g?()=>H(!1):void 0},children:p.jsx(KE,{max:m,min:d,value:fe,position:ie,dragging:it,label:ce,ref:Q,labelTransitionProps:T,labelAlwaysOn:C,thumbLabel:h,showLabelOnHover:g,isHovered:B,disabled:E,...K,children:b})}),p.jsx("input",{type:"hidden",name:w,value:fe,...U})]})})});Mw.classes=JE;Mw.displayName="@mantine/core/Slider";var ZE={root:"m_6d731127"};const e$={gap:"md",align:"stretch",justify:"flex-start"},t$=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":or(t),"--stack-align":r,"--stack-justify":n}}),we=ve((e,t)=>{const r=ae("Stack",e$,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,align:d,justify:m,gap:v,variant:y,...S}=r,w=ze({name:"Stack",props:r,classes:ZE,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:t$});return p.jsx(ne,{ref:t,...w("root"),variant:y,...S})});we.classes=ZE;we.displayName="@mantine/core/Stack";const eT=I.createContext(null),r$=eT.Provider,n$=()=>I.useContext(eT),s$={},Nw=ve((e,t)=>{const{value:r,defaultValue:n,onChange:s,size:i,wrapperProps:c,children:l,readOnly:u,...d}=ae("SwitchGroup",s$,e),[m,v]=Dr({value:r,defaultValue:n,finalValue:[],onChange:s}),y=S=>{const w=S.currentTarget.value;!u&&v(m.includes(w)?m.filter(x=>x!==w):[...m,w])};return p.jsx(r$,{value:{value:m,onChange:y,size:i},children:p.jsx($t.Wrapper,{size:i,ref:t,...c,...d,labelElement:"div",__staticSelector:"SwitchGroup",children:p.jsx(IO,{role:"group",children:l})})})});Nw.classes=$t.Wrapper.classes;Nw.displayName="@mantine/core/SwitchGroup";var tT={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const o$={labelPosition:"right"},i$=(e,{radius:t,color:r,size:n})=>({root:{"--switch-radius":t===void 0?void 0:Lt(t),"--switch-height":Ke(n,"switch-height"),"--switch-width":Ke(n,"switch-width"),"--switch-thumb-size":Ke(n,"switch-thumb-size"),"--switch-label-font-size":Ke(n,"switch-label-font-size"),"--switch-track-label-padding":Ke(n,"switch-track-label-padding"),"--switch-color":r?Cr(r,e):void 0}}),fi=ve((e,t)=>{const r=ae("Switch",o$,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,color:d,label:m,offLabel:v,onLabel:y,id:S,size:w,radius:x,wrapperProps:R,thumbIcon:T,checked:C,defaultChecked:h,onChange:g,labelPosition:b,description:E,error:k,disabled:j,variant:M,rootRef:N,mod:A,...O}=r,U=n$(),W=w||(U==null?void 0:U.size),K=ze({name:"Switch",props:r,classes:tT,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:i$}),{styleProps:L,rest:F}=_l(O),$=Ws(S),B=U?{checked:U.value.includes(F.value),onChange:U.onChange}:{},[H,V]=Dr({value:B.checked??C,defaultValue:h,finalValue:!1});return p.jsxs(cE,{...K("root"),__staticSelector:"Switch",__stylesApiProps:r,id:$,size:W,labelPosition:b,label:m,description:E,error:k,disabled:j,bodyElement:"label",labelElement:"span",classNames:n,styles:c,unstyled:l,"data-checked":B.checked||C||void 0,variant:M,ref:N,mod:A,...L,...R,children:[p.jsx("input",{...F,disabled:j,checked:H,"data-checked":B.checked||C||void 0,onChange:G=>{var se;U?(se=B.onChange)==null||se.call(B,G):g==null||g(G),V(G.currentTarget.checked)},id:$,ref:t,type:"checkbox",role:"switch",...K("input")}),p.jsxs(ne,{"aria-hidden":"true",mod:{error:k,"label-position":b,"without-labels":!y&&!v},...K("track"),children:[p.jsx(ne,{component:"span",mod:"reduce-motion",...K("thumb"),children:T}),p.jsx("span",{...K("trackLabel"),children:H?y:v})]})]})});fi.classes={...tT,...PO};fi.displayName="@mantine/core/Switch";fi.Group=Nw;const[a$,Lw]=cn("Tabs component was not found in the tree");var Ll={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const c$={},Ow=ve((e,t)=>{const r=ae("TabsList",c$,e),{children:n,className:s,grow:i,justify:c,classNames:l,styles:u,style:d,mod:m,...v}=r,y=Lw();return p.jsx(ne,{...v,...y.getStyles("list",{className:s,style:d,classNames:l,styles:u,props:r,variant:y.variant}),ref:t,role:"tablist",variant:y.variant,mod:[{grow:i,orientation:y.orientation,placement:y.orientation==="vertical"&&y.placement,inverted:y.inverted},m],"aria-orientation":y.orientation,__vars:{"--tabs-justify":c},children:n})});Ow.classes=Ll;Ow.displayName="@mantine/core/TabsList";const l$={},Aw=ve((e,t)=>{const r=ae("TabsPanel",l$,e),{children:n,className:s,value:i,classNames:c,styles:l,style:u,mod:d,keepMounted:m,...v}=r,y=Lw(),S=y.value===i,w=y.keepMounted||m||S?n:null;return p.jsx(ne,{...v,...y.getStyles("panel",{className:s,classNames:c,styles:l,style:[u,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:y.orientation},d],role:"tabpanel",id:y.getPanelId(i),"aria-labelledby":y.getTabId(i),children:w})});Aw.classes=Ll;Aw.displayName="@mantine/core/TabsPanel";const d$={},$w=ve((e,t)=>{const r=ae("TabsTab",d$,e),{className:n,children:s,rightSection:i,leftSection:c,value:l,onClick:u,onKeyDown:d,disabled:m,color:v,style:y,classNames:S,styles:w,vars:x,mod:R,tabIndex:T,...C}=r,h=ir(),{dir:g}=No(),b=Lw(),E=l===b.value,k=M=>{b.onChange(b.allowTabDeactivation&&l===b.value?null:l),u==null||u(M)},j={classNames:S,styles:w,props:r};return p.jsxs(rs,{...C,...b.getStyles("tab",{className:n,style:y,variant:b.variant,...j}),disabled:m,unstyled:b.unstyled,variant:b.variant,mod:[{active:E,disabled:m,orientation:b.orientation,inverted:b.inverted,placement:b.orientation==="vertical"&&b.placement},R],ref:t,role:"tab",id:b.getTabId(l),"aria-selected":E,tabIndex:T!==void 0?T:E||b.value===null?0:-1,"aria-controls":b.getPanelId(l),onClick:k,__vars:{"--tabs-color":v?Cr(v,h):void 0},onKeyDown:NC({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:b.activateTabWithKeyboard,loop:b.loop,orientation:b.orientation||"horizontal",dir:g,onKeyDown:d}),children:[c&&p.jsx("span",{...b.getStyles("tabSection",j),"data-position":"left",children:c}),s&&p.jsx("span",{...b.getStyles("tabLabel",j),children:s}),i&&p.jsx("span",{...b.getStyles("tabSection",j),"data-position":"right",children:i})]})});$w.classes=Ll;$w.displayName="@mantine/core/TabsTab";const y1="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",u$={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},f$=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":Lt(t),"--tabs-color":Cr(r,e),"--tabs-text-color":_y(n,e)?Yf({color:r,theme:e,autoContrast:n}):void 0}}),Jt=ve((e,t)=>{const r=ae("Tabs",u$,e),{defaultValue:n,value:s,onChange:i,orientation:c,children:l,loop:u,id:d,activateTabWithKeyboard:m,allowTabDeactivation:v,variant:y,color:S,radius:w,inverted:x,placement:R,keepMounted:T,classNames:C,styles:h,unstyled:g,className:b,style:E,vars:k,autoContrast:j,mod:M,...N}=r,A=Ws(d),[O,U]=Dr({value:s,defaultValue:n,finalValue:null,onChange:i}),W=ze({name:"Tabs",props:r,classes:Ll,className:b,style:E,classNames:C,styles:h,unstyled:g,vars:k,varsResolver:f$});return p.jsx(a$,{value:{placement:R,value:O,orientation:c,id:A,loop:u,activateTabWithKeyboard:m,getTabId:d_(`${A}-tab`,y1),getPanelId:d_(`${A}-panel`,y1),onChange:U,allowTabDeactivation:v,variant:y,color:S,radius:w,inverted:x,keepMounted:T,unstyled:g,getStyles:W},children:p.jsx(ne,{ref:t,id:A,variant:y,mod:[{orientation:c,inverted:c==="horizontal"&&x,placement:c==="vertical"&&R},M],...W("root"),...N,children:l})})});Jt.classes=Ll;Jt.displayName="@mantine/core/Tabs";Jt.Tab=$w;Jt.Panel=Aw;Jt.List=Ow;const p$={},Mt=ve((e,t)=>{const r=ae("TextInput",p$,e);return p.jsx(xn,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Mt.classes=xn.classes;Mt.displayName="@mantine/core/TextInput";const h$=["h1","h2","h3","h4","h5","h6"],m$=["xs","sm","md","lg","xl"];function g$(e,t){const r=t!==void 0?t:`h${e}`;return h$.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:m$.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:oe(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var rT={root:"m_8a5d1357"};const v$={order:1},y$=(e,{order:t,size:r,lineClamp:n,textWrap:s})=>{const i=g$(t,r);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":s}}},qr=ve((e,t)=>{const r=ae("Title",v$,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,order:u,vars:d,size:m,variant:v,lineClamp:y,textWrap:S,mod:w,...x}=r,R=ze({name:"Title",props:r,classes:rT,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:y$});return[1,2,3,4,5,6].includes(u)?p.jsx(ne,{...R("root"),component:`h${u}`,variant:v,ref:t,mod:[{order:u,"data-line-clamp":typeof y=="number"},w],size:m,...x}):null});qr.classes=rT;qr.displayName="@mantine/core/Title";function w$(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),n.forEach(i=>i(t))},initialize(s){r||(t=s,r=!0)},subscribe(s){return n.add(s),()=>n.delete(s)}}}function S$(e){return I.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function b$(e,t,r){const n=[],s=[],i={};for(const c of e){const l=c.position||t;i[l]=i[l]||0,i[l]+=1,i[l]<=r?s.push(c):n.push(c)}return{notifications:s,queue:n}}const _$=()=>w$({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Ci=_$(),x$=(e=Ci)=>S$(e);function Ba(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),s=b$(n,r.defaultPosition,r.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function C$(e,t=Ci){const r=e.id||LC();return Ba(t,n=>e.id&&n.some(s=>s.id===e.id)?n:[...n,{...e,id:r}]),r}function nT(e,t=Ci){return Ba(t,r=>r.filter(n=>{var s;return n.id===e?((s=n.onClose)==null||s.call(n,n),!1):!0})),e}function R$(e,t=Ci){return Ba(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function E$(e=Ci){Ba(e,()=>[])}function T$(e=Ci){Ba(e,t=>t.slice(0,e.getState().limit))}const Os={show:C$,hide:nT,update:R$,clean:E$,cleanQueue:T$,updateState:Ba};function Lv(e,t){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lv(e,t)}function sT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lv(e,t)}const w1={disabled:!1},Df=Tt.createContext(null);var k$=function(t){return t.scrollTop},Yc="unmounted",ri="exited",ni="entering",pa="entered",Ov="exiting",Ys=function(e){sT(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var c=s,l=c&&!c.isMounting?n.enter:n.appear,u;return i.appearStatus=null,n.in?l?(u=ri,i.appearStatus=ni):u=pa:n.unmountOnExit||n.mountOnEnter?u=Yc:u=ri,i.state={status:u},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var c=s.in;return c&&i.status===Yc?{status:ri}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==ni&&c!==pa&&(i=ni):(c===ni||c===pa)&&(i=Ov)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,c,l;return i=c=l=s,s!=null&&typeof s!="number"&&(i=s.exit,c=s.enter,l=s.appear!==void 0?s.appear:c),{exit:i,enter:c,appear:l}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Kc.findDOMNode(this);c&&k$(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ri&&this.setState({status:Yc})},r.performEnter=function(s){var i=this,c=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[Kc.findDOMNode(this),l],d=u[0],m=u[1],v=this.getTimeouts(),y=l?v.appear:v.enter;if(!s&&!c||w1.disabled){this.safeSetState({status:pa},function(){i.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:ni},function(){i.props.onEntering(d,m),i.onTransitionEnd(y,function(){i.safeSetState({status:pa},function(){i.props.onEntered(d,m)})})})},r.performExit=function(){var s=this,i=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:Kc.findDOMNode(this);if(!i||w1.disabled){this.safeSetState({status:ri},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ov},function(){s.props.onExiting(l),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:ri},function(){s.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var c=this.props.nodeRef?this.props.nodeRef.current:Kc.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],d=u[0],m=u[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===Yc)return null;var i=this.props,c=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=xw(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tt.createElement(Df.Provider,{value:null},typeof c=="function"?c(s,l):Tt.cloneElement(Tt.Children.only(c),l))},t}(Tt.Component);Ys.contextType=Df;Ys.propTypes={};function da(){}Ys.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:da,onEntering:da,onEntered:da,onExit:da,onExiting:da,onExited:da};Ys.UNMOUNTED=Yc;Ys.EXITED=ri;Ys.ENTERING=ni;Ys.ENTERED=pa;Ys.EXITING=Ov;function P$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fw(e,t){var r=function(i){return t&&I.isValidElement(i)?t(i):i},n=Object.create(null);return e&&I.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function I$(e,t){e=e||{},t=t||{};function r(m){return m in t?t[m]:e[m]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var c,l={};for(var u in t){if(n[u])for(c=0;c<n[u].length;c++){var d=n[u][c];l[n[u][c]]=r(d)}l[u]=r(u)}for(c=0;c<s.length;c++)l[s[c]]=r(s[c]);return l}function li(e,t,r){return r[t]!=null?r[t]:e.props[t]}function j$(e,t){return Fw(e.children,function(r){return I.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:li(r,"appear",e),enter:li(r,"enter",e),exit:li(r,"exit",e)})})}function D$(e,t,r){var n=Fw(e.children),s=I$(t,n);return Object.keys(s).forEach(function(i){var c=s[i];if(I.isValidElement(c)){var l=i in t,u=i in n,d=t[i],m=I.isValidElement(d)&&!d.props.in;u&&(!l||m)?s[i]=I.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:li(c,"exit",e),enter:li(c,"enter",e)}):!u&&l&&!m?s[i]=I.cloneElement(c,{in:!1}):u&&l&&I.isValidElement(d)&&(s[i]=I.cloneElement(c,{onExited:r.bind(null,c),in:d.props.in,exit:li(c,"exit",e),enter:li(c,"enter",e)}))}}),s}var M$=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},N$={component:"div",childFactory:function(t){return t}},_o=function(e){sT(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var c=i.handleExited.bind(P$(i));return i.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var c=i.children,l=i.handleExited,u=i.firstRender;return{children:u?j$(s,l):D$(s,c,l),firstRender:!1}},r.handleExited=function(s,i){var c=Fw(this.props.children);s.key in c||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var u=jf({},l.children);return delete u[s.key],{children:u}}))},r.render=function(){var s=this.props,i=s.component,c=s.childFactory,l=xw(s,["component","childFactory"]),u=this.state.contextValue,d=M$(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,i===null?Tt.createElement(Df.Provider,{value:u},d):Tt.createElement(Df.Provider,{value:u},Tt.createElement(i,l,d))},t}(Tt.Component);_o.propTypes={};_o.defaultProps=N$;const oT=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function L$(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),oT.reduce((r,n)=>(r[n]=[],r),{}))}const S1={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},O$={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function A$({state:e,maxHeight:t,position:r,transitionDuration:n}){const[s,i]=r.split("-"),c=i==="center"?`${s}-center`:i,l={opacity:0,maxHeight:t,transform:S1[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:O$[c]},d={opacity:0,maxHeight:0,transform:S1[c]};return{...l,...{entering:u,entered:u,exiting:d,exited:d}[e]}}function $$(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const iT=I.forwardRef(({data:e,onHide:t,autoClose:r,...n},s)=>{const{autoClose:i,message:c,...l}=e,u=$$(r,e.autoClose),d=I.useRef(-1),m=()=>window.clearTimeout(d.current),v=()=>{t(e.id),m()},y=()=>{typeof u=="number"&&(d.current=window.setTimeout(v,u))};return I.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),I.useEffect(()=>(y(),m),[u]),p.jsx(Il,{...n,...l,onClose:v,ref:s,onMouseEnter:m,onMouseLeave:y,children:c})});iT.displayName="@mantine/notifications/NotificationContainer";var aT={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const F$=Ys,z$={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Gr("overlay"),store:Ci,withinPortal:!0},B$=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":oe(r)}}),Qs=ve((e,t)=>{const r=ae("Notifications",z$,e),{classNames:n,className:s,style:i,styles:c,unstyled:l,vars:u,position:d,autoClose:m,transitionDuration:v,containerWidth:y,notificationMaxHeight:S,limit:w,zIndex:x,store:R,portalProps:T,withinPortal:C,...h}=r,g=ir(),b=x$(R),E=o2(),k=Gf(),j=I.useRef({}),M=I.useRef(0),A=(g.respectReducedMotion?k:!1)?1:v,O=ze({name:"Notifications",classes:aT,props:r,className:s,style:i,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:B$});I.useEffect(()=>{R==null||R.updateState(K=>({...K,limit:w||5,defaultPosition:d}))},[w,d]),Hr(()=>{b.notifications.length>M.current&&setTimeout(()=>E(),0),M.current=b.notifications.length},[b.notifications]);const U=L$(b.notifications,d),W=oT.reduce((K,L)=>(K[L]=U[L].map(({style:F,...$})=>p.jsx(F$,{timeout:A,onEnter:()=>j.current[$.id].offsetHeight,nodeRef:{current:j.current[$.id]},children:B=>p.jsx(iT,{ref:H=>{j.current[$.id]=H},data:$,onHide:H=>nT(H,R),autoClose:m,...O("notification",{style:{...A$({state:B,position:L,transitionDuration:A,maxHeight:S}),...F}})})},$.id)),K),{});return p.jsxs(xi,{withinPortal:C,...T,children:[p.jsx(ne,{...O("root"),"data-position":"top-center",ref:t,...h,children:p.jsx(_o,{children:W["top-center"]})}),p.jsx(ne,{...O("root"),"data-position":"top-left",...h,children:p.jsx(_o,{children:W["top-left"]})}),p.jsx(ne,{...O("root",{className:_f.classNames.fullWidth}),"data-position":"top-right",...h,children:p.jsx(_o,{children:W["top-right"]})}),p.jsx(ne,{...O("root",{className:_f.classNames.fullWidth}),"data-position":"bottom-right",...h,children:p.jsx(_o,{children:W["bottom-right"]})}),p.jsx(ne,{...O("root"),"data-position":"bottom-left",...h,children:p.jsx(_o,{children:W["bottom-left"]})}),p.jsx(ne,{...O("root"),"data-position":"bottom-center",...h,children:p.jsx(_o,{children:W["bottom-center"]})})]})});Qs.classes=aT;Qs.displayName="@mantine/notifications/Notifications";Qs.show=Os.show;Qs.hide=Os.hide;Qs.update=Os.update;Qs.clean=Os.clean;Qs.cleanQueue=Os.cleanQueue;Qs.updateState=Os.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gl.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const b1="popstate";function U$(e){e===void 0&&(e={});function t(s,i){let{pathname:c="/",search:l="",hash:u=""}=Ri(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Av("",{pathname:c,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let c=s.document.querySelector("base"),l="";if(c&&c.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof i=="string"?i:Mf(i))}function n(s,i){zw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return H$(t,r,n,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V$(){return Math.random().toString(36).substr(2,8)}function _1(e,t){return{usr:e.state,key:e.key,idx:t}}function Av(e,t,r,n){return r===void 0&&(r=null),gl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ri(t):t,{state:r,key:t&&t.key||n||V$()})}function Mf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ri(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function H$(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,c=s.history,l=Ro.Pop,u=null,d=m();d==null&&(d=0,c.replaceState(gl({},c.state,{idx:d}),""));function m(){return(c.state||{idx:null}).idx}function v(){l=Ro.Pop;let R=m(),T=R==null?null:R-d;d=R,u&&u({action:l,location:x.location,delta:T})}function y(R,T){l=Ro.Push;let C=Av(x.location,R,T);r&&r(C,R),d=m()+1;let h=_1(C,d),g=x.createHref(C);try{c.pushState(h,"",g)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(g)}i&&u&&u({action:l,location:x.location,delta:1})}function S(R,T){l=Ro.Replace;let C=Av(x.location,R,T);r&&r(C,R),d=m();let h=_1(C,d),g=x.createHref(C);c.replaceState(h,"",g),i&&u&&u({action:l,location:x.location,delta:0})}function w(R){let T=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof R=="string"?R:Mf(R);return C=C.replace(/ $/,"%20"),Gt(T,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,T)}let x={get action(){return l},get location(){return e(s,c)},listen(R){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(b1,v),u=R,()=>{s.removeEventListener(b1,v),u=null}},createHref(R){return t(s,R)},createURL:w,encodeLocation(R){let T=w(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:S,go(R){return c.go(R)}};return x}var x1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(x1||(x1={}));function W$(e,t,r){return r===void 0&&(r="/"),q$(e,t,r)}function q$(e,t,r,n){let s=typeof t=="string"?Ri(t):t,i=Bw(s.pathname||"/",r);if(i==null)return null;let c=cT(e);G$(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let d=o5(i);l=r5(c[u],d)}return l}function cT(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,c,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};u.relativePath.startsWith("/")&&(Gt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=To([n,u.relativePath]),m=r.concat(u);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),cT(i.children,t,m,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:e5(d,i.index),routesMeta:m})};return e.forEach((i,c)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,c);else for(let u of lT(i.path))s(i,c,u)}),t}function lT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let c=lT(n.join("/")),l=[];return l.push(...c.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...c),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function G$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:t5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const K$=/^:[\w-]+$/,X$=3,Y$=2,Q$=1,J$=10,Z$=-2,C1=e=>e==="*";function e5(e,t){let r=e.split("/"),n=r.length;return r.some(C1)&&(n+=Z$),t&&(n+=Y$),r.filter(s=>!C1(s)).reduce((s,i)=>s+(K$.test(i)?X$:i===""?Q$:J$),n)}function t5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function r5(e,t,r){let{routesMeta:n}=e,s={},i="/",c=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",v=n5({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),y=u.route;if(!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:To([i,v.pathname]),pathnameBase:l5(To([i,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(i=To([i,v.pathnameBase]))}return c}function n5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s5(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,m,v)=>{let{paramName:y,isOptional:S}=m;if(y==="*"){let x=l[v]||"";c=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[v];return S&&!w?d[y]=void 0:d[y]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:c,pattern:e}}function s5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function o5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function i5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ri(e):e;return{pathname:r?r.startsWith("/")?r:a5(r,t):t,search:d5(n),hash:u5(s)}}function a5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Rg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dT(e,t){let r=c5(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uT(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ri(e):(s=gl({},e),Gt(!s.pathname||!s.pathname.includes("?"),Rg("?","pathname","search",s)),Gt(!s.pathname||!s.pathname.includes("#"),Rg("#","pathname","hash",s)),Gt(!s.search||!s.search.includes("#"),Rg("#","search","hash",s)));let i=e===""||s.pathname==="",c=i?"/":s.pathname,l;if(c==null)l=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}l=v>=0?t[v]:"/"}let u=i5(s,l),d=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const To=e=>e.join("/").replace(/\/\/+/g,"/"),l5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fT=["post","put","patch","delete"];new Set(fT);const p5=["get",...fT];new Set(p5);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}const Uw=I.createContext(null),h5=I.createContext(null),Ei=I.createContext(null),Ap=I.createContext(null),Ti=I.createContext({outlet:null,matches:[],isDataRoute:!1}),pT=I.createContext(null);function m5(e,t){let{relative:r}=t===void 0?{}:t;Ol()||Gt(!1);let{basename:n,navigator:s}=I.useContext(Ei),{hash:i,pathname:c,search:l}=mT(e,{relative:r}),u=c;return n!=="/"&&(u=c==="/"?n:To([n,c])),s.createHref({pathname:u,search:l,hash:i})}function Ol(){return I.useContext(Ap)!=null}function $p(){return Ol()||Gt(!1),I.useContext(Ap).location}function hT(e){I.useContext(Ei).static||I.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=I.useContext(Ti);return e?k5():g5()}function g5(){Ol()||Gt(!1);let e=I.useContext(Uw),{basename:t,future:r,navigator:n}=I.useContext(Ei),{matches:s}=I.useContext(Ti),{pathname:i}=$p(),c=JSON.stringify(dT(s,r.v7_relativeSplatPath)),l=I.useRef(!1);return hT(()=>{l.current=!0}),I.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let v=uT(d,JSON.parse(c),i,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:To([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,c,i,e])}function mT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Ei),{matches:s}=I.useContext(Ti),{pathname:i}=$p(),c=JSON.stringify(dT(s,n.v7_relativeSplatPath));return I.useMemo(()=>uT(e,JSON.parse(c),i,r==="path"),[e,c,i,r])}function v5(e,t){return y5(e,t)}function y5(e,t,r,n){Ol()||Gt(!1);let{navigator:s}=I.useContext(Ei),{matches:i}=I.useContext(Ti),c=i[i.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let d=$p(),m;if(t){var v;let R=typeof t=="string"?Ri(t):t;u==="/"||(v=R.pathname)!=null&&v.startsWith(u)||Gt(!1),m=R}else m=d;let y=m.pathname||"/",S=y;if(u!=="/"){let R=u.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=W$(e,{pathname:S}),x=x5(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:To([u,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:To([u,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,r,n);return t&&x?I.createElement(Ap.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ro.Pop}},x):x}function w5(){let e=T5(),t=f5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:s},r):null,null)}const S5=I.createElement(w5,null);class b5 extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(Ti.Provider,{value:this.props.routeContext},I.createElement(pT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _5(e){let{routeContext:t,match:r,children:n}=e,s=I.useContext(Uw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Ti.Provider,{value:t},n)}function x5(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let m=c.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);m>=0||Gt(!1),c=c.slice(0,Math.min(c.length,m+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:y,errors:S}=r,w=v.route.loader&&y[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||w){u=!0,d>=0?c=c.slice(0,d+1):c=[c[0]];break}}}return c.reduceRight((m,v,y)=>{let S,w=!1,x=null,R=null;r&&(S=l&&v.route.id?l[v.route.id]:void 0,x=v.route.errorElement||S5,u&&(d<0&&y===0?(P5("route-fallback"),w=!0,R=null):d===y&&(w=!0,R=v.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,y+1)),C=()=>{let h;return S?h=x:w?h=R:v.route.Component?h=I.createElement(v.route.Component,null):v.route.element?h=v.route.element:h=m,I.createElement(_5,{match:v,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:h})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?I.createElement(b5,{location:r.location,revalidation:r.revalidation,component:x,error:S,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}var gT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gT||{}),vT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vT||{});function C5(e){let t=I.useContext(Uw);return t||Gt(!1),t}function R5(e){let t=I.useContext(h5);return t||Gt(!1),t}function E5(e){let t=I.useContext(Ti);return t||Gt(!1),t}function yT(e){let t=E5(),r=t.matches[t.matches.length-1];return r.route.id||Gt(!1),r.route.id}function T5(){var e;let t=I.useContext(pT),r=R5(),n=yT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function k5(){let{router:e}=C5(gT.UseNavigateStable),t=yT(vT.UseNavigateStable),r=I.useRef(!1);return hT(()=>{r.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vl({fromRouteId:t},i)))},[e,t])}const R1={};function P5(e,t,r){R1[e]||(R1[e]=!0)}const E1={};function I5(e,t){E1[t]||(E1[t]=!0,console.warn(t))}const T1=(e,t,r)=>I5(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function j5(e,t){e!=null&&e.v7_startTransition||T1("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||T1("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Qc(e){Gt(!1)}function D5(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ro.Pop,navigator:i,static:c=!1,future:l}=e;Ol()&&Gt(!1);let u=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:i,static:c,future:vl({v7_relativeSplatPath:!1},l)}),[u,l,i,c]);typeof n=="string"&&(n=Ri(n));let{pathname:m="/",search:v="",hash:y="",state:S=null,key:w="default"}=n,x=I.useMemo(()=>{let R=Bw(m,u);return R==null?null:{location:{pathname:R,search:v,hash:y,state:S,key:w},navigationType:s}},[u,m,v,y,S,w,s]);return x==null?null:I.createElement(Ei.Provider,{value:d},I.createElement(Ap.Provider,{children:r,value:x}))}function M5(e){let{children:t,location:r}=e;return v5($v(t),r)}new Promise(()=>{});function $v(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,s)=>{if(!I.isValidElement(n))return;let i=[...t,s];if(n.type===I.Fragment){r.push.apply(r,$v(n.props.children,i));return}n.type!==Qc&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=$v(n.props.children,i)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(this,arguments)}function N5(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function L5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O5(e,t){return e.button===0&&(!t||t==="_self")&&!L5(e)}const A5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$5="6";try{window.__reactRouterVersion=$5}catch{}const F5="startTransition",k1=_C[F5];function z5(e){let{basename:t,children:r,future:n,window:s}=e,i=I.useRef();i.current==null&&(i.current=U$({window:s,v5Compat:!0}));let c=i.current,[l,u]=I.useState({action:c.action,location:c.location}),{v7_startTransition:d}=n||{},m=I.useCallback(v=>{d&&k1?k1(()=>u(v)):u(v)},[u,d]);return I.useLayoutEffect(()=>c.listen(m),[c,m]),I.useEffect(()=>j5(n),[n]),I.createElement(D5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const B5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P1=I.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:c,state:l,target:u,to:d,preventScrollReset:m,viewTransition:v}=t,y=N5(t,A5),{basename:S}=I.useContext(Ei),w,x=!1;if(typeof d=="string"&&U5.test(d)&&(w=d,B5))try{let h=new URL(window.location.href),g=d.startsWith("//")?new URL(h.protocol+d):new URL(d),b=Bw(g.pathname,S);g.origin===h.origin&&b!=null?d=b+g.search+g.hash:x=!0}catch{}let R=m5(d,{relative:s}),T=V5(d,{replace:c,state:l,target:u,preventScrollReset:m,relative:s,viewTransition:v});function C(h){n&&n(h),h.defaultPrevented||T(h)}return I.createElement("a",Fv({},y,{href:w||R,onClick:x||i?n:C,ref:r,target:u}))});var I1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I1||(I1={}));var j1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(j1||(j1={}));function V5(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:c,viewTransition:l}=t===void 0?{}:t,u=Js(),d=$p(),m=mT(e,{relative:c});return I.useCallback(v=>{if(O5(v,r)){v.preventDefault();let y=n!==void 0?n:Mf(d)===Mf(m);u(e,{replace:y,state:s,preventScrollReset:i,relative:c,viewTransition:l})}},[d,u,m,n,s,r,e,i,c,l])}const wT=I.createContext(void 0),ST=I.createContext(null),ki=()=>{const e=I.useContext(ST);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},bs=Object.create(null);bs.open="0";bs.close="1";bs.ping="2";bs.pong="3";bs.message="4";bs.upgrade="5";bs.noop="6";const Cu=Object.create(null);Object.keys(bs).forEach(e=>{Cu[bs[e]]=e});const zv={type:"error",data:"parser error"},bT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_T=typeof ArrayBuffer=="function",xT=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Vw=({type:e,data:t},r,n)=>bT&&t instanceof Blob?r?n(t):D1(t,n):_T&&(t instanceof ArrayBuffer||xT(t))?r?n(t):D1(new Blob([t]),n):n(bs[e]+(t||"")),D1=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function M1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Eg;function H5(e,t){if(bT&&e.data instanceof Blob)return e.data.arrayBuffer().then(M1).then(t);if(_T&&(e.data instanceof ArrayBuffer||xT(e.data)))return t(M1(e.data));Vw(e,!1,r=>{Eg||(Eg=new TextEncoder),t(Eg.encode(r))})}const N1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<N1.length;e++)Jc[N1.charCodeAt(e)]=e;const W5=e=>{let t=e.length*.75,r=e.length,n,s=0,i,c,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),m=new Uint8Array(d);for(n=0;n<r;n+=4)i=Jc[e.charCodeAt(n)],c=Jc[e.charCodeAt(n+1)],l=Jc[e.charCodeAt(n+2)],u=Jc[e.charCodeAt(n+3)],m[s++]=i<<2|c>>4,m[s++]=(c&15)<<4|l>>2,m[s++]=(l&3)<<6|u&63;return d},q5=typeof ArrayBuffer=="function",Hw=(e,t)=>{if(typeof e!="string")return{type:"message",data:CT(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:G5(e.substring(1),t)}:Cu[r]?e.length>1?{type:Cu[r],data:e.substring(1)}:{type:Cu[r]}:zv},G5=(e,t)=>{if(q5){const r=W5(e);return CT(r,t)}else return{base64:!0,data:e}},CT=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},RT="",K5=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,c)=>{Vw(i,!1,l=>{n[c]=l,++s===r&&t(n.join(RT))})})},X5=(e,t)=>{const r=e.split(RT),n=[];for(let s=0;s<r.length;s++){const i=Hw(r[s],t);if(n.push(i),i.type==="error")break}return n};function Y5(){return new TransformStream({transform(e,t){H5(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Tg;function au(e){return e.reduce((t,r)=>t+r.length,0)}function cu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Q5(e,t){Tg||(Tg=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(c,l){for(r.push(c);;){if(n===0){if(au(r)<1)break;const u=cu(r,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(au(r)<2)break;const u=cu(r,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(au(r)<8)break;const u=cu(r,8),d=new DataView(u.buffer,u.byteOffset,u.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(zv);break}s=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if(au(r)<s)break;const u=cu(r,s);l.enqueue(Hw(i?u:Tg.decode(u),t)),n=0}if(s===0||s>e){l.enqueue(zv);break}}}})}const ET=4;function Wt(e){if(e)return J5(e)}function J5(e){for(var t in Wt.prototype)e[t]=Wt.prototype[t];return e}Wt.prototype.on=Wt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Wt.prototype.off=Wt.prototype.removeListener=Wt.prototype.removeAllListeners=Wt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Wt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Wt.prototype.emitReserved=Wt.prototype.emit;Wt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Fp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),vn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Z5="arraybuffer";function TT(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const e6=vn.setTimeout,t6=vn.clearTimeout;function zp(e,t){t.useNativeTimers?(e.setTimeoutFn=e6.bind(vn),e.clearTimeoutFn=t6.bind(vn)):(e.setTimeoutFn=vn.setTimeout.bind(vn),e.clearTimeoutFn=vn.clearTimeout.bind(vn))}const r6=1.33;function n6(e){return typeof e=="string"?s6(e):Math.ceil((e.byteLength||e.size)*r6)}function s6(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function kT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function o6(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function i6(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class a6 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Ww=class extends Wt{constructor(t){super(),this.writable=!1,zp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new a6(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Hw(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=o6(t);return r.length?"?"+r:""}};class c6 extends Ww{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};X5(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,K5(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=kT()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let PT=!1;try{PT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const l6=PT;function d6(){}class u6 extends c6{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class ws extends Wt{constructor(t,r,n){super(),this.createRequest=t,zp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=TT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ws.requestsCount++,ws.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=d6,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ws.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ws.requestsCount=0;ws.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",L1);else if(typeof addEventListener=="function"){const e="onpagehide"in vn?"pagehide":"unload";addEventListener(e,L1,!1)}}function L1(){for(let e in ws.requests)ws.requests.hasOwnProperty(e)&&ws.requests[e].abort()}const f6=function(){const e=IT({xdomain:!1});return e&&e.responseType!==null}();class p6 extends u6{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=f6&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ws(IT,this.uri(),t)}}function IT(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||l6))return new XMLHttpRequest}catch{}if(!t)try{return new vn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class h6 extends Ww{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=jT?{}:TT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;Vw(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Fp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=kT()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const kg=vn.WebSocket||vn.MozWebSocket;class m6 extends h6{createSocket(t,r,n){return jT?new kg(t,r,n):r?new kg(t,r):new kg(t)}doWrite(t,r){this.ws.send(r)}}class g6 extends Ww{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Q5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=Y5();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&Fp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const v6={websocket:m6,webtransport:g6,polling:p6},y6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bv(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=y6.exec(e||""),i={},c=14;for(;c--;)i[w6[c]]=s[c]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=S6(i,i.path),i.queryKey=b6(i,i.query),i}function S6(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function b6(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Uv=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ru=[];Uv&&addEventListener("offline",()=>{Ru.forEach(e=>e())},!1);class ko extends Wt{constructor(t,r){if(super(),this.binaryType=Z5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Bv(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Bv(r.host).host);zp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=i6(this.opts.query)),Uv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ru.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=ET,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ko.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ko.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=n6(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Fp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ko.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Uv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ru.indexOf(this._offlineEventListener);n!==-1&&Ru.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ko.protocol=ET;class _6 extends ko{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ko.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ko.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function i(){n||(n=!0,m(),r.close(),r=null)}const c=v=>{const y=new Error("probe error: "+v);y.transport=r.name,i(),this.emitReserved("upgradeError",y)};function l(){c("transport closed")}function u(){c("socket closed")}function d(v){r&&v.name!==r.name&&i()}const m=()=>{r.removeListener("open",s),r.removeListener("error",c),r.removeListener("close",l),this.off("close",u),this.off("upgrading",d)};r.once("open",s),r.once("error",c),r.once("close",l),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let x6=class extends _6{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>v6[s]).filter(s=>!!s)),super(t,n)}};function C6(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Bv(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const R6=typeof ArrayBuffer=="function",E6=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,DT=Object.prototype.toString,T6=typeof Blob=="function"||typeof Blob<"u"&&DT.call(Blob)==="[object BlobConstructor]",k6=typeof File=="function"||typeof File<"u"&&DT.call(File)==="[object FileConstructor]";function qw(e){return R6&&(e instanceof ArrayBuffer||E6(e))||T6&&e instanceof Blob||k6&&e instanceof File}function Eu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Eu(e[r]))return!0;return!1}if(qw(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Eu(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Eu(e[r]))return!0;return!1}function P6(e){const t=[],r=e.data,n=e;return n.data=Vv(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Vv(e,t){if(!e)return e;if(qw(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Vv(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Vv(e[n],t));return r}return e}function I6(e,t){return e.data=Hv(e.data,t),delete e.attachments,e}function Hv(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Hv(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Hv(e[r],t));return e}const j6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],D6=5;var ct;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ct||(ct={}));class M6{constructor(t){this.replacer=t}encode(t){return(t.type===ct.EVENT||t.type===ct.ACK)&&Eu(t)?this.encodeAsBinary({type:t.type===ct.EVENT?ct.BINARY_EVENT:ct.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ct.BINARY_EVENT||t.type===ct.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=P6(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function O1(e){return Object.prototype.toString.call(e)==="[object Object]"}class Gw extends Wt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===ct.BINARY_EVENT;n||r.type===ct.BINARY_ACK?(r.type=n?ct.EVENT:ct.ACK,this.reconstructor=new N6(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(qw(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(ct[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ct.BINARY_EVENT||n.type===ct.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(i,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Gw.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ct.CONNECT:return O1(r);case ct.DISCONNECT:return r===void 0;case ct.CONNECT_ERROR:return typeof r=="string"||O1(r);case ct.EVENT:case ct.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&j6.indexOf(r[0])===-1);case ct.ACK:case ct.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class N6{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=I6(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const L6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gw,Encoder:M6,get PacketType(){return ct},protocol:D6},Symbol.toStringTag,{value:"Module"}));function Xn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const O6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MT extends Wt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xn(t,"open",this.onopen.bind(this)),Xn(t,"packet",this.onpacket.bind(this)),Xn(t,"error",this.onerror.bind(this)),Xn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(O6.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:ct.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,v=r.pop();this._registerAckCallback(m,v),c.id=m}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),c=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(c,l)=>c?s(c):n(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ct.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ct.EVENT:case ct.BINARY_EVENT:this.onevent(t);break;case ct.ACK:case ct.BINARY_ACK:this.onack(t);break;case ct.DISCONNECT:this.ondisconnect();break;case ct.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:ct.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ua(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ua.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Ua.prototype.reset=function(){this.attempts=0};Ua.prototype.setMin=function(e){this.ms=e};Ua.prototype.setMax=function(e){this.max=e};Ua.prototype.setJitter=function(e){this.jitter=e};class Wv extends Wt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,zp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ua({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||L6;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new x6(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Xn(r,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},c=Xn(r,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xn(t,"ping",this.onping.bind(this)),Xn(t,"data",this.ondata.bind(this)),Xn(t,"error",this.onerror.bind(this)),Xn(t,"close",this.onclose.bind(this)),Xn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Fp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new MT(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Nc={};function Tu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=C6(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,c=Nc[s]&&i in Nc[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let u;return l?u=new Wv(n,t):(Nc[s]||(Nc[s]=new Wv(n,t)),u=Nc[s]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(Tu,{Manager:Wv,Socket:MT,io:Tu,connect:Tu});const Xe="https://hitscord-backend.online",A6="https://hitscord-backend.ru/mediasoup",nn=15,Kw={canChangeRole:"  ",canWorkChannels:"  ",canDeleteUsers:"  ",canMuteOther:"  ",canDeleteOthersMessages:"   ",canIgnoreMaxCount:"  ",canCreateRoles:"  ",canCreateLessons:"  ",canCheckAttendance:"  "},Je=Tu(A6);Je.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var Mn={},lu={exports:{}},Pg,A1;function $6(){if(A1)return Pg;A1=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;Pg=function(m,v){v=v||{};var y=typeof m;if(y==="string"&&m.length>0)return c(m);if(y==="number"&&isFinite(m))return v.long?u(m):l(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(v){var y=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return y*i;case"weeks":case"week":case"w":return y*s;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*t;case"seconds":case"second":case"secs":case"sec":case"s":return y*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function l(m){var v=Math.abs(m);return v>=n?Math.round(m/n)+"d":v>=r?Math.round(m/r)+"h":v>=t?Math.round(m/t)+"m":v>=e?Math.round(m/e)+"s":m+"ms"}function u(m){var v=Math.abs(m);return v>=n?d(m,v,n,"day"):v>=r?d(m,v,r,"hour"):v>=t?d(m,v,t,"minute"):v>=e?d(m,v,e,"second"):m+" ms"}function d(m,v,y,S){var w=v>=y*1.5;return Math.round(m/y)+" "+S+(w?"s":"")}return Pg}var Ig,$1;function F6(){if($1)return Ig;$1=1;function e(t){n.debug=n,n.default=n,n.coerce=d,n.disable=c,n.enable=i,n.enabled=l,n.humanize=$6(),n.destroy=m,Object.keys(t).forEach(v=>{n[v]=t[v]}),n.names=[],n.skips=[],n.formatters={};function r(v){let y=0;for(let S=0;S<v.length;S++)y=(y<<5)-y+v.charCodeAt(S),y|=0;return n.colors[Math.abs(y)%n.colors.length]}n.selectColor=r;function n(v){let y,S=null,w,x;function R(...T){if(!R.enabled)return;const C=R,h=Number(new Date),g=h-(y||h);C.diff=g,C.prev=y,C.curr=h,y=h,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let b=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(k,j)=>{if(k==="%%")return"%";b++;const M=n.formatters[j];if(typeof M=="function"){const N=T[b];k=M.call(C,N),T.splice(b,1),b--}return k}),n.formatArgs.call(C,T),(C.log||n.log).apply(C,T)}return R.namespace=v,R.useColors=n.useColors(),R.color=n.selectColor(v),R.extend=s,R.destroy=n.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(w!==n.namespaces&&(w=n.namespaces,x=n.enabled(v)),x),set:T=>{S=T}}),typeof n.init=="function"&&n.init(R),R}function s(v,y){const S=n(this.namespace+(typeof y>"u"?":":y)+v);return S.log=this.log,S}function i(v){n.save(v),n.namespaces=v,n.names=[],n.skips=[];let y;const S=(typeof v=="string"?v:"").split(/[\s,]+/),w=S.length;for(y=0;y<w;y++)S[y]&&(v=S[y].replace(/\*/g,".*?"),v[0]==="-"?n.skips.push(new RegExp("^"+v.slice(1)+"$")):n.names.push(new RegExp("^"+v+"$")))}function c(){const v=[...n.names.map(u),...n.skips.map(u).map(y=>"-"+y)].join(",");return n.enable(""),v}function l(v){if(v[v.length-1]==="*")return!0;let y,S;for(y=0,S=n.skips.length;y<S;y++)if(n.skips[y].test(v))return!1;for(y=0,S=n.names.length;y<S;y++)if(n.names[y].test(v))return!0;return!1}function u(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function d(v){return v instanceof Error?v.stack||v.message:v}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Ig=e,Ig}var F1;function Bp(){return F1||(F1=1,function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=c,t.useColors=n,t.storage=l(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;d.splice(1,0,m,"color: inherit");let v=0,y=0;d[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(v++,S==="%c"&&(y=v))}),d.splice(y,0,m)}t.log=console.debug||console.log||(()=>{});function i(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function c(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=r.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=F6()(t);const{formatters:u}=e.exports;u.j=function(d){try{return JSON.stringify(d)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}(lu,lu.exports)),lu.exports}var gn={},Zc={exports:{}},z6=Zc.exports,z1;function B6(){return z1||(z1=1,function(e,t){(function(r,n){var s="1.0.39",i="",c="?",l="function",u="undefined",d="object",m="string",v="major",y="model",S="name",w="type",x="vendor",R="version",T="architecture",C="console",h="mobile",g="tablet",b="smarttv",E="wearable",k="embedded",j=500,M="Amazon",N="Apple",A="ASUS",O="BlackBerry",U="Browser",W="Chrome",K="Edge",L="Firefox",F="Google",$="Huawei",B="LG",H="Microsoft",V="Motorola",G="Opera",se="Samsung",le="Sharp",Q="Sony",ie="Xiaomi",fe="Zebra",ce="Facebook",ye="Chromium OS",Oe="Mac OS",Ae=" Browser",it=function(ke,Fe){var Ce={};for(var Ye in ke)Fe[Ye]&&Fe[Ye].length%2===0?Ce[Ye]=Fe[Ye].concat(ke[Ye]):Ce[Ye]=ke[Ye];return Ce},ht=function(ke){for(var Fe={},Ce=0;Ce<ke.length;Ce++)Fe[ke[Ce].toUpperCase()]=ke[Ce];return Fe},tt=function(ke,Fe){return typeof ke===m?dt(Fe).indexOf(dt(ke))!==-1:!1},dt=function(ke){return ke.toLowerCase()},mt=function(ke){return typeof ke===m?ke.replace(/[^\d\.]/g,i).split(".")[0]:n},he=function(ke,Fe){if(typeof ke===m)return ke=ke.replace(/^\s\s*/,i),typeof Fe===u?ke:ke.substring(0,j)},_e=function(ke,Fe){for(var Ce=0,Ye,ft,rt,at,Me,kt;Ce<Fe.length&&!Me;){var Cs=Fe[Ce],Ni=Fe[Ce+1];for(Ye=ft=0;Ye<Cs.length&&!Me&&Cs[Ye];)if(Me=Cs[Ye++].exec(ke),Me)for(rt=0;rt<Ni.length;rt++)kt=Me[++ft],at=Ni[rt],typeof at===d&&at.length>0?at.length===2?typeof at[1]==l?this[at[0]]=at[1].call(this,kt):this[at[0]]=at[1]:at.length===3?typeof at[1]===l&&!(at[1].exec&&at[1].test)?this[at[0]]=kt?at[1].call(this,kt,at[2]):n:this[at[0]]=kt?kt.replace(at[1],at[2]):n:at.length===4&&(this[at[0]]=kt?at[3].call(this,kt.replace(at[1],at[2])):n):this[at]=kt||n;Ce+=2}},Pe=function(ke,Fe){for(var Ce in Fe)if(typeof Fe[Ce]===d&&Fe[Ce].length>0){for(var Ye=0;Ye<Fe[Ce].length;Ye++)if(tt(Fe[Ce][Ye],ke))return Ce===c?n:Ce}else if(tt(Fe[Ce],ke))return Ce===c?n:Ce;return Fe.hasOwnProperty("*")?Fe["*"]:ke},$e={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ue={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Be={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,R],[/opios[\/ ]+([\w\.]+)/i],[R,[S,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[R,[S,G+" GX"]],[/\bopr\/([\w\.]+)/i],[R,[S,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[R,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,R],[/quark(?:pc)?\/([-\w\.]+)/i],[R,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[R,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[S,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[R,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[R,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[R,[S,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+U],R],[/\bfocus\/([\w\.]+)/i],[R,[S,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[S,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[S,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[S,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[R,[S,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+Ae]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],R],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+Ae],R],[/samsungbrowser\/([\w\.]+)/i],[R,[S,se+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],R],[/metasr[\/ ]?([\d\.]+)/i],[R,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,R],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,ce],R],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[R,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[S,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[R,Pe,$e]],[/(webkit|khtml)\/([\w\.]+)/i],[S,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],R],[/(wolvic)\/([\w\.]+)/i],[S,R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[S,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[R,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,dt]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,i,dt]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[x,se],[w,g]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[y,[x,se],[w,h]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[x,N],[w,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[x,N],[w,g]],[/(macintosh);/i],[y,[x,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[x,le],[w,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[y,[x,$],[w,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[x,$],[w,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[y,/_/g," "],[x,ie],[w,h]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[y,/_/g," "],[x,ie],[w,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[x,"OPPO"],[w,h]],[/\b(opd2\d{3}a?) bui/i],[y,[x,"OPPO"],[w,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[x,"Vivo"],[w,h]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[x,"Realme"],[w,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[x,V],[w,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[x,V],[w,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[x,B],[w,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[x,B],[w,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[y,[x,"Lenovo"],[w,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[y,/_/g," "],[x,"Nokia"],[w,h]],[/(pixel c)\b/i],[y,[x,F],[w,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[x,F],[w,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[x,Q],[w,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[x,Q],[w,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[x,"OnePlus"],[w,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[x,M],[w,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[x,M],[w,h]],[/(playbook);[-\w\),; ]+(rim)/i],[y,x,[w,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[x,O],[w,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[x,A],[w,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[x,A],[w,h]],[/(nexus 9)/i],[y,[x,"HTC"],[w,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[y,/_/g," "],[w,h]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[y,[x,"TCL"],[w,g]],[/(itel) ((\w+))/i],[[x,dt],y,[w,Pe,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[x,"Acer"],[w,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[x,"Meizu"],[w,h]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[x,"Ulefone"],[w,h]],[/droid.+; (a(?:015|06[35]|142p?))/i],[y,[x,"Nothing"],[w,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,y,[w,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,y,[w,g]],[/(surface duo)/i],[y,[x,H],[w,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[x,"Fairphone"],[w,h]],[/(u304aa)/i],[y,[x,"AT&T"],[w,h]],[/\bsie-(\w*)/i],[y,[x,"Siemens"],[w,h]],[/\b(rct\w+) b/i],[y,[x,"RCA"],[w,g]],[/\b(venue[\d ]{2,7}) b/i],[y,[x,"Dell"],[w,g]],[/\b(q(?:mv|ta)\w+) b/i],[y,[x,"Verizon"],[w,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[y,[x,"Barnes & Noble"],[w,g]],[/\b(tm\d{3}\w+) b/i],[y,[x,"NuVision"],[w,g]],[/\b(k88) b/i],[y,[x,"ZTE"],[w,g]],[/\b(nx\d{3}j) b/i],[y,[x,"ZTE"],[w,h]],[/\b(gen\d{3}) b.+49h/i],[y,[x,"Swiss"],[w,h]],[/\b(zur\d{3}) b/i],[y,[x,"Swiss"],[w,g]],[/\b((zeki)?tb.*\b) b/i],[y,[x,"Zeki"],[w,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],y,[w,g]],[/\b(ns-?\w{0,9}) b/i],[y,[x,"Insignia"],[w,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[y,[x,"NextBook"],[w,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],y,[w,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],y,[w,h]],[/\b(ph-1) /i],[y,[x,"Essential"],[w,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[y,[x,"Envizen"],[w,g]],[/\b(trio[-\w\. ]+) b/i],[y,[x,"MachSpeed"],[w,g]],[/\btu_(1491) b/i],[y,[x,"Rotor"],[w,g]],[/(shield[\w ]+) b/i],[y,[x,"Nvidia"],[w,g]],[/(sprint) (\w+)/i],[x,y,[w,h]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[x,H],[w,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[x,fe],[w,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[x,fe],[w,h]],[/smart-tv.+(samsung)/i],[x,[w,b]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[x,se],[w,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,B],[w,b]],[/(apple) ?tv/i],[x,[y,N+" TV"],[w,b]],[/crkey/i],[[y,W+"cast"],[x,F],[w,b]],[/droid.+aft(\w+)( bui|\))/i],[y,[x,M],[w,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[x,le],[w,b]],[/(bravia[\w ]+)( bui|\))/i],[y,[x,Q],[w,b]],[/(mitv-\w{5}) bui/i],[y,[x,ie],[w,b]],[/Hbbtv.*(technisat) (.*);/i],[x,y,[w,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,he],[y,he],[w,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[w,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,y,[w,C]],[/droid.+; (shield) bui/i],[y,[x,"Nvidia"],[w,C]],[/(playstation [345portablevi]+)/i],[y,[x,Q],[w,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[x,H],[w,C]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[y,[x,se],[w,E]],[/((pebble))app/i],[x,y,[w,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[x,N],[w,E]],[/droid.+; (glass) \d/i],[y,[x,F],[w,E]],[/droid.+; (wt63?0{2,3})\)/i],[y,[x,fe],[w,E]],[/(quest( \d| pro)?)/i],[y,[x,ce],[w,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[w,k]],[/(aeobc)\b/i],[y,[x,M],[w,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[y,[w,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[w,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[w,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[w,h]],[/(android[-\w\. ]{0,9});.+buil/i],[y,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[S,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,R],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[R,Pe,Ue]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[R,Pe,Ue],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,Oe],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,R],[/\(bb(10);/i],[R,[S,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[S,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[R,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[R,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,ye],R],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,R],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,R]]},qe=function(ke,Fe){if(typeof ke===d&&(Fe=ke,ke=n),!(this instanceof qe))return new qe(ke,Fe).getResult();var Ce=typeof r!==u&&r.navigator?r.navigator:n,Ye=ke||(Ce&&Ce.userAgent?Ce.userAgent:i),ft=Ce&&Ce.userAgentData?Ce.userAgentData:n,rt=Fe?it(Be,Fe):Be,at=Ce&&Ce.userAgent==Ye;return this.getBrowser=function(){var Me={};return Me[S]=n,Me[R]=n,_e.call(Me,Ye,rt.browser),Me[v]=mt(Me[R]),at&&Ce&&Ce.brave&&typeof Ce.brave.isBrave==l&&(Me[S]="Brave"),Me},this.getCPU=function(){var Me={};return Me[T]=n,_e.call(Me,Ye,rt.cpu),Me},this.getDevice=function(){var Me={};return Me[x]=n,Me[y]=n,Me[w]=n,_e.call(Me,Ye,rt.device),at&&!Me[w]&&ft&&ft.mobile&&(Me[w]=h),at&&Me[y]=="Macintosh"&&Ce&&typeof Ce.standalone!==u&&Ce.maxTouchPoints&&Ce.maxTouchPoints>2&&(Me[y]="iPad",Me[w]=g),Me},this.getEngine=function(){var Me={};return Me[S]=n,Me[R]=n,_e.call(Me,Ye,rt.engine),Me},this.getOS=function(){var Me={};return Me[S]=n,Me[R]=n,_e.call(Me,Ye,rt.os),at&&!Me[S]&&ft&&ft.platform&&ft.platform!="Unknown"&&(Me[S]=ft.platform.replace(/chrome os/i,ye).replace(/macos/i,Oe)),Me},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ye},this.setUA=function(Me){return Ye=typeof Me===m&&Me.length>j?he(Me,j):Me,this},this.setUA(Ye),this};qe.VERSION=s,qe.BROWSER=ht([S,R,v]),qe.CPU=ht([T]),qe.DEVICE=ht([y,x,w,C,h,b,g,E,k]),qe.ENGINE=qe.OS=ht([S,R]),e.exports&&(t=e.exports=qe),t.UAParser=qe;var ge=typeof r!==u&&(r.jQuery||r.Zepto);if(ge&&!ge.ua){var De=new qe;ge.ua=De.getResult(),ge.ua.get=function(){return De.getUA()},ge.ua.set=function(ke){De.setUA(ke);var Fe=De.getResult();for(var Ce in Fe)ge.ua[Ce]=Fe[Ce]}}})(typeof window=="object"?window:z6)}(Zc,Zc.exports)),Zc.exports}var Jo={},B1;function Kt(){if(B1)return Jo;B1=1;var e=Jo&&Jo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.Logger=void 0;const t=e(Bp()),r="mediasoup-client";class n{constructor(i){i?(this._debug=(0,t.default)(`${r}:${i}`),this._warn=(0,t.default)(`${r}:WARN:${i}`),this._error=(0,t.default)(`${r}:ERROR:${i}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Jo.Logger=n,Jo}var Lc={},du={exports:{}},U1;function U6(){if(U1)return du.exports;U1=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(b,E,k){return Function.prototype.apply.call(b,E,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:r=function(b){return Object.getOwnPropertyNames(b)};function n(g){console&&console.warn&&console.warn(g)}var s=Number.isNaN||function(b){return b!==b};function i(){i.init.call(this)}du.exports=i,du.exports.once=T,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var c=10;function l(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(g){if(typeof g!="number"||g<0||s(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");c=g}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function u(g){return g._maxListeners===void 0?i.defaultMaxListeners:g._maxListeners}i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(b){for(var E=[],k=1;k<arguments.length;k++)E.push(arguments[k]);var j=b==="error",M=this._events;if(M!==void 0)j=j&&M.error===void 0;else if(!j)return!1;if(j){var N;if(E.length>0&&(N=E[0]),N instanceof Error)throw N;var A=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw A.context=N,A}var O=M[b];if(O===void 0)return!1;if(typeof O=="function")t(O,this,E);else for(var U=O.length,W=w(O,U),k=0;k<U;++k)t(W[k],this,E);return!0};function d(g,b,E,k){var j,M,N;if(l(E),M=g._events,M===void 0?(M=g._events=Object.create(null),g._eventsCount=0):(M.newListener!==void 0&&(g.emit("newListener",b,E.listener?E.listener:E),M=g._events),N=M[b]),N===void 0)N=M[b]=E,++g._eventsCount;else if(typeof N=="function"?N=M[b]=k?[E,N]:[N,E]:k?N.unshift(E):N.push(E),j=u(g),j>0&&N.length>j&&!N.warned){N.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=g,A.type=b,A.count=N.length,n(A)}return g}i.prototype.addListener=function(b,E){return d(this,b,E,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(b,E){return d(this,b,E,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(g,b,E){var k={fired:!1,wrapFn:void 0,target:g,type:b,listener:E},j=m.bind(k);return j.listener=E,k.wrapFn=j,j}i.prototype.once=function(b,E){return l(E),this.on(b,v(this,b,E)),this},i.prototype.prependOnceListener=function(b,E){return l(E),this.prependListener(b,v(this,b,E)),this},i.prototype.removeListener=function(b,E){var k,j,M,N,A;if(l(E),j=this._events,j===void 0)return this;if(k=j[b],k===void 0)return this;if(k===E||k.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete j[b],j.removeListener&&this.emit("removeListener",b,k.listener||E));else if(typeof k!="function"){for(M=-1,N=k.length-1;N>=0;N--)if(k[N]===E||k[N].listener===E){A=k[N].listener,M=N;break}if(M<0)return this;M===0?k.shift():x(k,M),k.length===1&&(j[b]=k[0]),j.removeListener!==void 0&&this.emit("removeListener",b,A||E)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(b){var E,k,j;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[b]),this;if(arguments.length===0){var M=Object.keys(k),N;for(j=0;j<M.length;++j)N=M[j],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=k[b],typeof E=="function")this.removeListener(b,E);else if(E!==void 0)for(j=E.length-1;j>=0;j--)this.removeListener(b,E[j]);return this};function y(g,b,E){var k=g._events;if(k===void 0)return[];var j=k[b];return j===void 0?[]:typeof j=="function"?E?[j.listener||j]:[j]:E?R(j):w(j,j.length)}i.prototype.listeners=function(b){return y(this,b,!0)},i.prototype.rawListeners=function(b){return y(this,b,!1)},i.listenerCount=function(g,b){return typeof g.listenerCount=="function"?g.listenerCount(b):S.call(g,b)},i.prototype.listenerCount=S;function S(g){var b=this._events;if(b!==void 0){var E=b[g];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function w(g,b){for(var E=new Array(b),k=0;k<b;++k)E[k]=g[k];return E}function x(g,b){for(;b+1<g.length;b++)g[b]=g[b+1];g.pop()}function R(g){for(var b=new Array(g.length),E=0;E<b.length;++E)b[E]=g[E].listener||g[E];return b}function T(g,b){return new Promise(function(E,k){function j(N){g.removeListener(b,M),k(N)}function M(){typeof g.removeListener=="function"&&g.removeListener("error",j),E([].slice.call(arguments))}h(g,b,M,{once:!0}),b!=="error"&&C(g,j,{once:!0})})}function C(g,b,E){typeof g.on=="function"&&h(g,"error",b,E)}function h(g,b,E,k){if(typeof g.on=="function")k.once?g.once(b,E):g.on(b,E);else if(typeof g.addEventListener=="function")g.addEventListener(b,function j(M){k.once&&g.removeEventListener(b,j),E(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}return du.exports}var V1;function Pi(){if(V1)return Lc;V1=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.EnhancedEventEmitter=void 0;const e=U6(),t=Kt(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(i,...c){return super.emit(i,...c)}safeEmit(i,...c){try{return super.emit(i,...c)}catch(l){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",i,l);try{super.emit("listenererror",i,l)}catch{}return!!super.listenerCount(i)}}on(i,c){return super.on(i,c),this}off(i,c){return super.off(i,c),this}addListener(i,c){return super.on(i,c),this}prependListener(i,c){return super.prependListener(i,c),this}once(i,c){return super.once(i,c),this}prependOnceListener(i,c){return super.prependOnceListener(i,c),this}removeListener(i,c){return super.off(i,c),this}removeAllListeners(i){return super.removeAllListeners(i),this}listenerCount(i){return super.listenerCount(i)}listeners(i){return super.listeners(i)}rawListeners(i){return super.rawListeners(i)}}return Lc.EnhancedEventEmitter=n,Lc}var Zo={},H1;function Mr(){if(H1)return Zo;H1=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.InvalidStateError=Zo.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}Zo.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return Zo.InvalidStateError=t,Zo}var ua={},W1;function mr(){if(W1)return ua;W1=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.clone=e,ua.generateRandomNumber=t,ua.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const s=Reflect.ownKeys(n);for(const i of s){const c=n[i];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return ua}var Bt={},jt={},ei={},q1;function V6(){if(q1)return ei;q1=1;var e=ei&&ei.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.Logger=void 0;const t=e(Bp()),r="h264-profile-level-id";class n{constructor(i){i?(this._debug=(0,t.default)(`${r}:${i}`),this._warn=(0,t.default)(`${r}:WARN:${i}`),this._error=(0,t.default)(`${r}:ERROR:${i}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return ei.Logger=n,ei}var G1;function H6(){if(G1)return jt;G1=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.generateProfileLevelIdStringForAnswer=jt.isSameProfile=jt.parseSdpProfileLevelId=jt.levelToString=jt.profileToString=jt.profileLevelIdToString=jt.parseProfileLevelId=jt.ProfileLevelId=jt.Level=jt.Profile=void 0;const e=V6(),t=new e.Logger;var r;(function(g){g[g.ConstrainedBaseline=1]="ConstrainedBaseline",g[g.Baseline=2]="Baseline",g[g.Main=3]="Main",g[g.ConstrainedHigh=4]="ConstrainedHigh",g[g.High=5]="High",g[g.PredictiveHigh444=6]="PredictiveHigh444"})(r||(jt.Profile=r={}));var n;(function(g){g[g.L1_b=0]="L1_b",g[g.L1=10]="L1",g[g.L1_1=11]="L1_1",g[g.L1_2=12]="L1_2",g[g.L1_3=13]="L1_3",g[g.L2=20]="L2",g[g.L2_1=21]="L2_1",g[g.L2_2=22]="L2_2",g[g.L3=30]="L3",g[g.L3_1=31]="L3_1",g[g.L3_2=32]="L3_2",g[g.L4=40]="L4",g[g.L4_1=41]="L4_1",g[g.L4_2=42]="L4_2",g[g.L5=50]="L5",g[g.L5_1=51]="L5_1",g[g.L5_2=52]="L5_2"})(n||(jt.Level=n={}));class s{constructor(b,E){this.profile=b,this.level=E}}jt.ProfileLevelId=s;const i=new s(r.ConstrainedBaseline,n.L3_1);class c{constructor(b){this.mask=~R("x",b),this.masked_value=R("1",b)}isMatch(b){return this.masked_value===(b&this.mask)}}class l{constructor(b,E,k){this.profile_idc=b,this.profile_iop=E,this.profile=k}}const u=[new l(66,new c("x1xx0000"),r.ConstrainedBaseline),new l(77,new c("1xxx0000"),r.ConstrainedBaseline),new l(88,new c("11xx0000"),r.ConstrainedBaseline),new l(66,new c("x0xx0000"),r.Baseline),new l(88,new c("10xx0000"),r.Baseline),new l(77,new c("0x0x0000"),r.Main),new l(100,new c("00000000"),r.High),new l(100,new c("00001100"),r.ConstrainedHigh),new l(244,new c("00000000"),r.PredictiveHigh444)];function d(g){if(typeof g!="string"||g.length!==6)return;const E=parseInt(g,16);if(E===0)return;const k=E&255,j=E>>8&255,M=E>>16&255;let N;switch(k){case n.L1_1:{N=(j&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{N=k;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${g}, level_idc:${k}]`);return}}for(const A of u)if(M===A.profile_idc&&A.profile_iop.isMatch(j))return new s(A.profile,N);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${g}, profile_idc:${M}, profile_iop:${j}]`)}jt.parseProfileLevelId=d;function m(g){if(g.level==n.L1_b)switch(g.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${g.profile}`);return}}let b;switch(g.profile){case r.ConstrainedBaseline:{b="42e0";break}case r.Baseline:{b="4200";break}case r.Main:{b="4d00";break}case r.ConstrainedHigh:{b="640c";break}case r.High:{b="6400";break}case r.PredictiveHigh444:{b="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${g.profile}`);return}}let E=g.level.toString(16);return E.length===1&&(E=`0${E}`),`${b}${E}`}jt.profileLevelIdToString=m;function v(g){switch(g){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${g}`);return}}}jt.profileToString=v;function y(g){switch(g){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${g}`);return}}}jt.levelToString=y;function S(g={}){const b=g["profile-level-id"];return b?d(b):i}jt.parseSdpProfileLevelId=S;function w(g={},b={}){const E=S(g),k=S(b);return!!(E&&k&&E.profile===k.profile)}jt.isSameProfile=w;function x(g={},b={}){if(!g["profile-level-id"]&&!b["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const E=S(g),k=S(b);if(!E)throw new TypeError("invalid local_profile_level_id");if(!k)throw new TypeError("invalid remote_profile_level_id");if(E.profile!==k.profile)throw new TypeError("H264 Profile mismatch");const j=h(g)&&h(b),M=E.level,N=k.level,A=C(M,N),O=j?M:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${E.profile}, level:${O}]`),m(new s(E.profile,O))}jt.generateProfileLevelIdStringForAnswer=x;function R(g,b){return+(b[0]===g)<<7|+(b[1]===g)<<6|+(b[2]===g)<<5|+(b[3]===g)<<4|+(b[4]===g)<<3|+(b[5]===g)<<2|+(b[6]===g)<<1|+(b[7]===g)<<0}function T(g,b){return g===n.L1_b?b!==n.L1&&b!==n.L1_b:b===n.L1_b?g!==n.L1:g<b}function C(g,b){return T(g,b)?g:b}function h(g={}){const b=g["level-asymmetry-allowed"];return b===!0||b===1||b==="1"}return jt}var K1;function Xr(){if(K1)return Bt;K1=1;var e=Bt&&Bt.__createBinding||(Object.create?function(L,F,$,B){B===void 0&&(B=$);var H=Object.getOwnPropertyDescriptor(F,$);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[$]}}),Object.defineProperty(L,B,H)}:function(L,F,$,B){B===void 0&&(B=$),L[B]=F[$]}),t=Bt&&Bt.__setModuleDefault||(Object.create?function(L,F){Object.defineProperty(L,"default",{enumerable:!0,value:F})}:function(L,F){L.default=F}),r=Bt&&Bt.__importStar||function(L){if(L&&L.__esModule)return L;var F={};if(L!=null)for(var $ in L)$!=="default"&&Object.prototype.hasOwnProperty.call(L,$)&&e(F,L,$);return t(F,L),F};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.validateRtpCapabilities=u,Bt.validateRtpParameters=d,Bt.validateSctpStreamParameters=m,Bt.validateSctpCapabilities=v,Bt.getExtendedRtpCapabilities=y,Bt.getRecvRtpCapabilities=S,Bt.getSendingRtpParameters=w,Bt.getSendingRemoteRtpParameters=x,Bt.reduceCodecs=R,Bt.generateProbatorRtpParameters=T,Bt.canSend=C,Bt.canReceive=h;const n=r(H6()),s=r(mr()),i="probator",c=1234,l=127;function u(L){if(typeof L!="object")throw new TypeError("caps is not an object");if(L.codecs&&!Array.isArray(L.codecs))throw new TypeError("caps.codecs is not an array");L.codecs||(L.codecs=[]);for(const F of L.codecs)g(F);if(L.headerExtensions&&!Array.isArray(L.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");L.headerExtensions||(L.headerExtensions=[]);for(const F of L.headerExtensions)E(F)}function d(L){if(typeof L!="object")throw new TypeError("params is not an object");if(L.mid&&typeof L.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(L.codecs))throw new TypeError("missing params.codecs");for(const F of L.codecs)k(F);if(L.headerExtensions&&!Array.isArray(L.headerExtensions))throw new TypeError("params.headerExtensions is not an array");L.headerExtensions||(L.headerExtensions=[]);for(const F of L.headerExtensions)j(F);if(L.encodings&&!Array.isArray(L.encodings))throw new TypeError("params.encodings is not an array");L.encodings||(L.encodings=[]);for(const F of L.encodings)M(F);if(L.rtcp&&typeof L.rtcp!="object")throw new TypeError("params.rtcp is not an object");L.rtcp||(L.rtcp={}),N(L.rtcp)}function m(L){if(typeof L!="object")throw new TypeError("params is not an object");if(typeof L.streamId!="number")throw new TypeError("missing params.streamId");let F=!1;if(typeof L.ordered=="boolean"?F=!0:L.ordered=!0,L.maxPacketLifeTime&&typeof L.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(L.maxRetransmits&&typeof L.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(L.maxPacketLifeTime&&L.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(F&&L.ordered&&(L.maxPacketLifeTime||L.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!F&&(L.maxPacketLifeTime||L.maxRetransmits)&&(L.ordered=!1),L.label&&typeof L.label!="string")throw new TypeError("invalid params.label");if(L.protocol&&typeof L.protocol!="string")throw new TypeError("invalid params.protocol")}function v(L){if(typeof L!="object")throw new TypeError("caps is not an object");if(!L.numStreams||typeof L.numStreams!="object")throw new TypeError("missing caps.numStreams");A(L.numStreams)}function y(L,F){const $={codecs:[],headerExtensions:[]};for(const B of F.codecs??[]){if(O(B))continue;const H=(L.codecs??[]).find(G=>U(G,B,{strict:!0,modify:!0}));if(!H)continue;const V={mimeType:H.mimeType,kind:H.kind,clockRate:H.clockRate,channels:H.channels,localPayloadType:H.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:B.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:H.parameters,remoteParameters:B.parameters,rtcpFeedback:K(H,B)};$.codecs.push(V)}for(const B of $.codecs){const H=L.codecs.find(G=>O(G)&&G.parameters.apt===B.localPayloadType),V=F.codecs.find(G=>O(G)&&G.parameters.apt===B.remotePayloadType);H&&V&&(B.localRtxPayloadType=H.preferredPayloadType,B.remoteRtxPayloadType=V.preferredPayloadType)}for(const B of F.headerExtensions){const H=L.headerExtensions.find(G=>W(G,B));if(!H)continue;const V={kind:B.kind,uri:B.uri,sendId:H.preferredId,recvId:B.preferredId,encrypt:H.preferredEncrypt,direction:"sendrecv"};switch(B.direction){case"sendrecv":{V.direction="sendrecv";break}case"recvonly":{V.direction="sendonly";break}case"sendonly":{V.direction="recvonly";break}case"inactive":{V.direction="inactive";break}}$.headerExtensions.push(V)}return $}function S(L){const F={codecs:[],headerExtensions:[]};for(const $ of L.codecs){const B={mimeType:$.mimeType,kind:$.kind,preferredPayloadType:$.remotePayloadType,clockRate:$.clockRate,channels:$.channels,parameters:$.localParameters,rtcpFeedback:$.rtcpFeedback};if(F.codecs.push(B),!$.remoteRtxPayloadType)continue;const H={mimeType:`${$.kind}/rtx`,kind:$.kind,preferredPayloadType:$.remoteRtxPayloadType,clockRate:$.clockRate,parameters:{apt:$.remotePayloadType},rtcpFeedback:[]};F.codecs.push(H)}for(const $ of L.headerExtensions){if($.direction!=="sendrecv"&&$.direction!=="recvonly")continue;const B={kind:$.kind,uri:$.uri,preferredId:$.recvId,preferredEncrypt:$.encrypt,direction:$.direction};F.headerExtensions.push(B)}return F}function w(L,F){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const B of F.codecs){if(B.kind!==L)continue;const H={mimeType:B.mimeType,payloadType:B.localPayloadType,clockRate:B.clockRate,channels:B.channels,parameters:B.localParameters,rtcpFeedback:B.rtcpFeedback};if($.codecs.push(H),B.localRtxPayloadType){const V={mimeType:`${B.kind}/rtx`,payloadType:B.localRtxPayloadType,clockRate:B.clockRate,parameters:{apt:B.localPayloadType},rtcpFeedback:[]};$.codecs.push(V)}}for(const B of F.headerExtensions){if(B.kind&&B.kind!==L||B.direction!=="sendrecv"&&B.direction!=="sendonly")continue;const H={uri:B.uri,id:B.sendId,encrypt:B.encrypt,parameters:{}};$.headerExtensions.push(H)}return $}function x(L,F){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const B of F.codecs){if(B.kind!==L)continue;const H={mimeType:B.mimeType,payloadType:B.localPayloadType,clockRate:B.clockRate,channels:B.channels,parameters:B.remoteParameters,rtcpFeedback:B.rtcpFeedback};if($.codecs.push(H),B.localRtxPayloadType){const V={mimeType:`${B.kind}/rtx`,payloadType:B.localRtxPayloadType,clockRate:B.clockRate,parameters:{apt:B.localPayloadType},rtcpFeedback:[]};$.codecs.push(V)}}for(const B of F.headerExtensions){if(B.kind&&B.kind!==L||B.direction!=="sendrecv"&&B.direction!=="sendonly")continue;const H={uri:B.uri,id:B.sendId,encrypt:B.encrypt,parameters:{}};$.headerExtensions.push(H)}if($.headerExtensions.some(B=>B.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const B of $.codecs)B.rtcpFeedback=(B.rtcpFeedback??[]).filter(H=>H.type!=="goog-remb");else if($.headerExtensions.some(B=>B.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const B of $.codecs)B.rtcpFeedback=(B.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc");else for(const B of $.codecs)B.rtcpFeedback=(B.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc"&&H.type!=="goog-remb");return $}function R(L,F){const $=[];if(!F)$.push(L[0]),O(L[1])&&$.push(L[1]);else{for(let B=0;B<L.length;++B)if(U(L[B],F,{strict:!0})){$.push(L[B]),O(L[B+1])&&$.push(L[B+1]);break}if($.length===0)throw new TypeError("no matching codec found")}return $}function T(L){L=s.clone(L),d(L);const F={mid:i,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return F.codecs.push(L.codecs[0]),F.codecs[0].payloadType=l,F.headerExtensions=L.headerExtensions,F}function C(L,F){return F.codecs.some($=>$.kind===L)}function h(L,F){if(d(L),L.codecs.length===0)return!1;const $=L.codecs[0];return F.codecs.some(B=>B.remotePayloadType===$.payloadType)}function g(L){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof L!="object")throw new TypeError("codec is not an object");if(!L.mimeType||typeof L.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=F.exec(L.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(L.kind=$[1].toLowerCase(),L.preferredPayloadType&&typeof L.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof L.clockRate!="number")throw new TypeError("missing codec.clockRate");L.kind==="audio"?typeof L.channels!="number"&&(L.channels=1):delete L.channels,(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const B of Object.keys(L.parameters)){let H=L.parameters[B];if(H===void 0&&(L.parameters[B]="",H=""),typeof H!="string"&&typeof H!="number")throw new TypeError(`invalid codec parameter [key:${B}s, value:${H}]`);if(B==="apt"&&typeof H!="number")throw new TypeError("invalid codec apt parameter")}(!L.rtcpFeedback||!Array.isArray(L.rtcpFeedback))&&(L.rtcpFeedback=[]);for(const B of L.rtcpFeedback)b(B)}function b(L){if(typeof L!="object")throw new TypeError("fb is not an object");if(!L.type||typeof L.type!="string")throw new TypeError("missing fb.type");(!L.parameter||typeof L.parameter!="string")&&(L.parameter="")}function E(L){if(typeof L!="object")throw new TypeError("ext is not an object");if(L.kind!=="audio"&&L.kind!=="video")throw new TypeError("invalid ext.kind");if(!L.uri||typeof L.uri!="string")throw new TypeError("missing ext.uri");if(typeof L.preferredId!="number")throw new TypeError("missing ext.preferredId");if(L.preferredEncrypt&&typeof L.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(L.preferredEncrypt||(L.preferredEncrypt=!1),L.direction&&typeof L.direction!="string")throw new TypeError("invalid ext.direction");L.direction||(L.direction="sendrecv")}function k(L){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof L!="object")throw new TypeError("codec is not an object");if(!L.mimeType||typeof L.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=F.exec(L.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(typeof L.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof L.clockRate!="number")throw new TypeError("missing codec.clockRate");$[1].toLowerCase()==="audio"?typeof L.channels!="number"&&(L.channels=1):delete L.channels,(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const H of Object.keys(L.parameters)){let V=L.parameters[H];if(V===void 0&&(L.parameters[H]="",V=""),typeof V!="string"&&typeof V!="number")throw new TypeError(`invalid codec parameter [key:${H}s, value:${V}]`);if(H==="apt"&&typeof V!="number")throw new TypeError("invalid codec apt parameter")}(!L.rtcpFeedback||!Array.isArray(L.rtcpFeedback))&&(L.rtcpFeedback=[]);for(const H of L.rtcpFeedback)b(H)}function j(L){if(typeof L!="object")throw new TypeError("ext is not an object");if(!L.uri||typeof L.uri!="string")throw new TypeError("missing ext.uri");if(typeof L.id!="number")throw new TypeError("missing ext.id");if(L.encrypt&&typeof L.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");L.encrypt||(L.encrypt=!1),(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const F of Object.keys(L.parameters)){let $=L.parameters[F];if($===void 0&&(L.parameters[F]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError("invalid header extension parameter")}}function M(L){if(typeof L!="object")throw new TypeError("encoding is not an object");if(L.ssrc&&typeof L.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(L.rid&&typeof L.rid!="string")throw new TypeError("invalid encoding.rid");if(L.rtx&&typeof L.rtx!="object")throw new TypeError("invalid encoding.rtx");if(L.rtx&&typeof L.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!L.dtx||typeof L.dtx!="boolean")&&(L.dtx=!1),L.scalabilityMode&&typeof L.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function N(L){if(typeof L!="object")throw new TypeError("rtcp is not an object");if(L.cname&&typeof L.cname!="string")throw new TypeError("invalid rtcp.cname");(!L.reducedSize||typeof L.reducedSize!="boolean")&&(L.reducedSize=!0)}function A(L){if(typeof L!="object")throw new TypeError("numStreams is not an object");if(typeof L.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof L.MIS!="number")throw new TypeError("missing numStreams.MIS")}function O(L){return L?/.+\/rtx$/i.test(L.mimeType):!1}function U(L,F,{strict:$=!1,modify:B=!1}={}){const H=L.mimeType.toLowerCase(),V=F.mimeType.toLowerCase();if(H!==V||L.clockRate!==F.clockRate||L.channels!==F.channels)return!1;switch(H){case"video/h264":{if($){const G=L.parameters["packetization-mode"]||0,se=F.parameters["packetization-mode"]||0;if(G!==se||!n.isSameProfile(L.parameters,F.parameters))return!1;let le;try{le=n.generateProfileLevelIdStringForAnswer(L.parameters,F.parameters)}catch{return!1}B&&(le?(L.parameters["profile-level-id"]=le,F.parameters["profile-level-id"]=le):(delete L.parameters["profile-level-id"],delete F.parameters["profile-level-id"]))}break}case"video/vp9":{if($){const G=L.parameters["profile-id"]||0,se=F.parameters["profile-id"]||0;if(G!==se)return!1}break}}return!0}function W(L,F){return!(L.kind&&F.kind&&L.kind!==F.kind||L.uri!==F.uri)}function K(L,F){const $=[];for(const B of L.rtcpFeedback??[]){const H=(F.rtcpFeedback??[]).find(V=>V.type===B.type&&(V.parameter===B.parameter||!V.parameter&&!B.parameter));H&&$.push(H)}return $}return Bt}var tn={},Ms={},Oc={},X1;function W6(){if(X1)return Oc;X1=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Logger=void 0;const e=Bp(),t="awaitqueue";let r=class{constructor(s){s?(this._debug=(0,e.default)(`${t}:${s}`),this._warn=(0,e.default)(`${t}:WARN:${s}`),this._error=(0,e.default)(`${t}:ERROR:${s}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Oc.Logger=r,Oc}var Y1;function q6(){if(Y1)return Ms;Y1=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.AwaitQueue=Ms.AwaitQueueRemovedTaskError=Ms.AwaitQueueStoppedError=void 0;const e=W6(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Ms.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}Ms.AwaitQueueRemovedTaskError=n;class s{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,l){if(l=l??c.name,t.debug(`push() [name:${l}]`),typeof c!="function")throw new TypeError("given task is not a function");if(l)try{Object.defineProperty(c,"name",{value:l})}catch{}return new Promise((u,d)=>{const m={id:this.nextTaskId++,task:c,name:l,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:v=>{if(m.completed)return;m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`resolving task [name:${m.name}]`),u(v);const[y]=this.pendingTasks.values();y&&!y.executedAt&&this.execute(y)},reject:v=>{if(!m.completed&&(m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`rejecting task [name:${m.name}]: %s`,String(v)),d(v),!this.stopping)){const[y]=this.pendingTasks.values();y&&!y.executedAt&&this.execute(y)}}};this.pendingTasks.set(m.id,m),this.pendingTasks.size===1&&this.execute(m)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const l=Array.from(this.pendingTasks.values())[c];if(!l){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}l.reject(new n)}dump(){const c=Date.now();let l=0;return Array.from(this.pendingTasks.values()).map(u=>({idx:l++,task:u.task,name:u.name,enqueuedTime:u.executedAt?u.executedAt-u.enqueuedAt:c-u.enqueuedAt,executionTime:u.executedAt?c-u.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const l=await c.task();c.resolve(l)}catch(l){c.reject(l)}}}return Ms.AwaitQueue=s,Ms}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var jg,Q1;function G6(){if(Q1)return jg;Q1=1;let e;return jg=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Gc):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),jg}var Ac={},J1;function NT(){if(J1)return Ac;J1=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.Producer=void 0;const e=Kt(),t=Pi(),r=Mr(),n=new e.Logger("Producer");let s=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,rtpSender:u,track:d,rtpParameters:m,stopTracks:v,disableTrackOnPause:y,zeroRtpOnPause:S,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._rtpSender=u,this._track=d,this._kind=d.kind,this._rtpParameters=m,this._paused=y?!d.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=v,this._disableTrackOnPause=y,this._zeroRtpOnPause=S,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@pause",c,l)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@resume",c,l)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((l,u)=>{this.safeEmit("@replacetrack",c,l,u)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((l,u)=>{this.safeEmit("@setmaxspatiallayer",c,l,u)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((l,u)=>{this.safeEmit("@setrtpencodingparameters",c,l,u)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Ac.Producer=s,Ac}var $c={},Z1;function LT(){if(Z1)return $c;Z1=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.Consumer=void 0;const e=Kt(),t=Pi(),r=Mr(),n=new e.Logger("Consumer");let s=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,producerId:u,rtpReceiver:d,track:m,rtpParameters:v,appData:y}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._producerId=u,this._rtpReceiver=d,this._track=m,this._rtpParameters=v,this._paused=!m.enabled,this._appData=y??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return $c.Consumer=s,$c}var Fc={},ex;function OT(){if(ex)return Fc;ex=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.DataProducer=void 0;const e=Kt(),t=Pi(),r=Mr(),n=new e.Logger("DataProducer");let s=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:l,sctpStreamParameters:u,appData:d}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=l,this._sctpStreamParameters=u,this._appData=d??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:l}=c;l||(l=new Error("unknown DataChannel error")),l.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",l.sctpCauseCode,l.message):n.error('DataChannel "error" event: %o',l),this.safeEmit("error",l)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Fc.DataProducer=s,Fc}var zc={},tx;function AT(){if(tx)return zc;tx=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.DataConsumer=void 0;const e=Kt(),t=Pi(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:i,dataProducerId:c,dataChannel:l,sctpStreamParameters:u,appData:d}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=i,this._dataProducerId=c,this._dataChannel=l,this._sctpStreamParameters=u,this._appData=d??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(i){this._dataChannel.binaryType=i}get appData(){return this._appData}set appData(i){this._appData=i}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",i=>{if(this._closed)return;let{error:c}=i;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",i=>{this._closed||this.safeEmit("message",i.data)})}};return zc.DataConsumer=n,zc}var rx;function $T(){if(rx)return tn;rx=1;var e=tn&&tn.__createBinding||(Object.create?function(C,h,g,b){b===void 0&&(b=g);var E=Object.getOwnPropertyDescriptor(h,g);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(C,b,E)}:function(C,h,g,b){b===void 0&&(b=g),C[b]=h[g]}),t=tn&&tn.__setModuleDefault||(Object.create?function(C,h){Object.defineProperty(C,"default",{enumerable:!0,value:h})}:function(C,h){C.default=h}),r=tn&&tn.__importStar||function(C){if(C&&C.__esModule)return C;var h={};if(C!=null)for(var g in C)g!=="default"&&Object.prototype.hasOwnProperty.call(C,g)&&e(h,C,g);return t(h,C),h},n=tn&&tn.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.Transport=void 0;const s=q6(),i=n(G6()),c=Kt(),l=Pi(),u=Mr(),d=r(mr()),m=r(Xr()),v=NT(),y=LT(),S=OT(),w=AT(),x=new c.Logger("Transport");class R{constructor(h){this.consumerOptions=h,this.promise=new Promise((g,b)=>{this.resolve=g,this.reject=b})}}let T=class extends l.EnhancedEventEmitter{constructor({direction:h,id:g,iceParameters:b,iceCandidates:E,dtlsParameters:k,sctpParameters:j,iceServers:M,iceTransportPolicy:N,additionalSettings:A,proprietaryConstraints:O,appData:U,handlerFactory:W,extendedRtpCapabilities:K,canProduceByKind:L}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new s.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new l.EnhancedEventEmitter,x.debug("constructor() [id:%s, direction:%s]",g,h),this._id=g,this._direction=h,this._extendedRtpCapabilities=K,this._canProduceByKind=L,this._maxSctpMessageSize=j?j.maxMessageSize:null;const F=d.clone(A)??{};delete F.iceServers,delete F.iceTransportPolicy,delete F.bundlePolicy,delete F.rtcpMuxPolicy,delete F.sdpSemantics,this._handler=W(),this._handler.run({direction:h,iceParameters:b,iceCandidates:E,dtlsParameters:k,sctpParameters:j,iceServers:M,iceTransportPolicy:N,additionalSettings:F,proprietaryConstraints:O,extendedRtpCapabilities:K}),this._appData=U??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(h){this._appData=h}get observer(){return this._observer}close(){if(!this._closed){x.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const h of this._producers.values())h.transportClosed();this._producers.clear();for(const h of this._consumers.values())h.transportClosed();this._consumers.clear();for(const h of this._dataProducers.values())h.transportClosed();this._dataProducers.clear();for(const h of this._dataConsumers.values())h.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new u.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:h}){if(x.debug("restartIce()"),this._closed)throw new u.InvalidStateError("closed");if(!h)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(h),"transport.restartIce()")}async updateIceServers({iceServers:h}={}){if(x.debug("updateIceServers()"),this._closed)throw new u.InvalidStateError("closed");if(!Array.isArray(h))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(h),"transport.updateIceServers()")}async produce({track:h,encodings:g,codecOptions:b,codec:E,stopTracks:k=!0,disableTrackOnPause:j=!0,zeroRtpOnPause:M=!1,onRtpSender:N,appData:A={}}={}){if(x.debug("produce() [track:%o]",h),this._closed)throw new u.InvalidStateError("closed");if(h){if(this._direction!=="send")throw new u.UnsupportedError("not a sending Transport");if(this._canProduceByKind[h.kind]){if(h.readyState==="ended")throw new u.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError(`cannot produce ${h.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let O;if(g&&!Array.isArray(g))throw TypeError("encodings must be an array");g&&g.length===0?O=void 0:g&&(O=g.map(L=>{const F={active:!0};return L.active===!1&&(F.active=!1),typeof L.dtx=="boolean"&&(F.dtx=L.dtx),typeof L.scalabilityMode=="string"&&(F.scalabilityMode=L.scalabilityMode),typeof L.scaleResolutionDownBy=="number"&&(F.scaleResolutionDownBy=L.scaleResolutionDownBy),typeof L.maxBitrate=="number"&&(F.maxBitrate=L.maxBitrate),typeof L.maxFramerate=="number"&&(F.maxFramerate=L.maxFramerate),typeof L.adaptivePtime=="boolean"&&(F.adaptivePtime=L.adaptivePtime),typeof L.priority=="string"&&(F.priority=L.priority),typeof L.networkPriority=="string"&&(F.networkPriority=L.networkPriority),F}));const{localId:U,rtpParameters:W,rtpSender:K}=await this._handler.send({track:h,encodings:O,codecOptions:b,codec:E,onRtpSender:N});try{m.validateRtpParameters(W);const{id:L}=await new Promise(($,B)=>{this.safeEmit("produce",{kind:h.kind,rtpParameters:W,appData:A},$,B)}),F=new v.Producer({id:L,localId:U,rtpSender:K,track:h,rtpParameters:W,stopTracks:k,disableTrackOnPause:j,zeroRtpOnPause:M,appData:A});return this._producers.set(F.id,F),this.handleProducer(F),this._observer.safeEmit("newproducer",F),F}catch(L){throw this._handler.stopSending(U).catch(()=>{}),L}},"transport.produce()").catch(O=>{if(k)try{h.stop()}catch{}throw O})}async consume({id:h,producerId:g,kind:b,rtpParameters:E,streamId:k,onRtpReceiver:j,appData:M={}}){if(x.debug("consume()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="recv")throw new u.UnsupportedError("not a receiving Transport");if(typeof h!="string")throw new TypeError("missing id");if(typeof g!="string")throw new TypeError("missing producerId");if(b!=="audio"&&b!=="video")throw new TypeError(`invalid kind '${b}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object");const N=d.clone(E);if(!m.canReceive(N,this._extendedRtpCapabilities))throw new u.UnsupportedError("cannot consume this Producer");const O=new R({id:h,producerId:g,kind:b,rtpParameters:N,streamId:k,onRtpReceiver:j,appData:M});return this._pendingConsumerTasks.push(O),(0,i.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),O.promise}async produceData({ordered:h=!0,maxPacketLifeTime:g,maxRetransmits:b,label:E="",protocol:k="",appData:j={}}={}){if(x.debug("produceData()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="send")throw new u.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError("SCTP not enabled by remote Transport");return(g||b)&&(h=!1),this._awaitQueue.push(async()=>{const{dataChannel:M,sctpStreamParameters:N}=await this._handler.sendDataChannel({ordered:h,maxPacketLifeTime:g,maxRetransmits:b,label:E,protocol:k});m.validateSctpStreamParameters(N);const{id:A}=await new Promise((U,W)=>{this.safeEmit("producedata",{sctpStreamParameters:N,label:E,protocol:k,appData:j},U,W)}),O=new S.DataProducer({id:A,dataChannel:M,sctpStreamParameters:N,appData:j});return this._dataProducers.set(O.id,O),this.handleDataProducer(O),this._observer.safeEmit("newdataproducer",O),O},"transport.produceData()")}async consumeData({id:h,dataProducerId:g,sctpStreamParameters:b,label:E="",protocol:k="",appData:j={}}){if(x.debug("consumeData()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="recv")throw new u.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof h!="string")throw new TypeError("missing id");if(typeof g!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError("SCTP not enabled by remote Transport");const M=d.clone(b);return m.validateSctpStreamParameters(M),this._awaitQueue.push(async()=>{const{dataChannel:N}=await this._handler.receiveDataChannel({sctpStreamParameters:M,label:E,protocol:k}),A=new w.DataConsumer({id:h,dataProducerId:g,dataChannel:N,sctpStreamParameters:M,appData:j});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){x.debug("createPendingConsumers() | there is no Consumer to be created");return}const h=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let g;const b=[];for(const E of h){const{id:k,kind:j,rtpParameters:M,streamId:N,onRtpReceiver:A}=E.consumerOptions;b.push({trackId:k,kind:j,rtpParameters:M,streamId:N,onRtpReceiver:A})}try{const E=await this._handler.receive(b);for(let k=0;k<E.length;++k){const j=h[k],M=E[k],{id:N,producerId:A,kind:O,rtpParameters:U,appData:W}=j.consumerOptions,{localId:K,rtpReceiver:L,track:F}=M,$=new y.Consumer({id:N,localId:K,producerId:A,rtpReceiver:L,track:F,rtpParameters:U,appData:W});this._consumers.set($.id,$),this.handleConsumer($),!this._probatorConsumerCreated&&!g&&O==="video"&&(g=$),this._observer.safeEmit("newconsumer",$),j.resolve($)}}catch(E){for(const k of h)k.reject(E)}if(g)try{const E=m.generateProbatorRtpParameters(g.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:E}]),x.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(E){x.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",E)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){x.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const h=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const g=h.map(b=>b.localId);await this._handler.pauseReceiving(g)}catch(g){x.error("pausePendingConsumers() | failed to pause Consumers:",g)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){x.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const h=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const g=h.map(b=>b.localId);await this._handler.resumeReceiving(g)}catch(g){x.error("resumePendingConsumers() | failed to resume Consumers:",g)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){x.debug("closePendingConsumers() | there is no Consumer to be closed");return}const h=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(h.map(g=>g.localId))}catch(g){x.error("closePendingConsumers() | failed to close Consumers:",g)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const h=this._handler;h.on("@connect",({dtlsParameters:g},b,E)=>{if(this._closed){E(new u.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:g},b,E)}),h.on("@icegatheringstatechange",g=>{g!==this._iceGatheringState&&(x.debug("ICE gathering state changed to %s",g),this._iceGatheringState=g,this._closed||this.safeEmit("icegatheringstatechange",g))}),h.on("@connectionstatechange",g=>{g!==this._connectionState&&(x.debug("connection state changed to %s",g),this._connectionState=g,this._closed||this.safeEmit("connectionstatechange",g))})}handleProducer(h){h.on("@close",()=>{this._producers.delete(h.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(h.localId),"producer @close event").catch(g=>x.warn("producer.close() failed:%o",g))}),h.on("@pause",(g,b)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(h.localId),"producer @pause event").then(g).catch(b)}),h.on("@resume",(g,b)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(h.localId),"producer @resume event").then(g).catch(b)}),h.on("@replacetrack",(g,b,E)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(h.localId,g),"producer @replacetrack event").then(b).catch(E)}),h.on("@setmaxspatiallayer",(g,b,E)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(h.localId,g),"producer @setmaxspatiallayer event").then(b).catch(E)}),h.on("@setrtpencodingparameters",(g,b,E)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(h.localId,g),"producer @setrtpencodingparameters event").then(b).catch(E)}),h.on("@getstats",(g,b)=>{if(this._closed)return b(new u.InvalidStateError("closed"));this._handler.getSenderStats(h.localId).then(g).catch(b)})}handleConsumer(h){h.on("@close",()=>{this._consumers.delete(h.id),this._pendingPauseConsumers.delete(h.id),this._pendingResumeConsumers.delete(h.id),!this._closed&&(this._pendingCloseConsumers.set(h.id,h),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),h.on("@pause",()=>{this._pendingResumeConsumers.has(h.id)&&this._pendingResumeConsumers.delete(h.id),this._pendingPauseConsumers.set(h.id,h),(0,i.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),h.on("@resume",()=>{this._pendingPauseConsumers.has(h.id)&&this._pendingPauseConsumers.delete(h.id),this._pendingResumeConsumers.set(h.id,h),(0,i.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),h.on("@getstats",(g,b)=>{if(this._closed)return b(new u.InvalidStateError("closed"));this._handler.getReceiverStats(h.localId).then(g).catch(b)})}handleDataProducer(h){h.on("@close",()=>{this._dataProducers.delete(h.id)})}handleDataConsumer(h){h.on("@close",()=>{this._dataConsumers.delete(h.id)})}};return tn.Transport=T,tn}var Nn={},fs={},Dg={},Mg={exports:{}},nx;function FT(){if(nx)return Mg.exports;nx=1;var e=Mg.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),Mg.exports}var sx;function K6(){return sx||(sx=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},r=function(l,u,d,m){if(m&&!d)u[m]=t(l[1]);else for(var v=0;v<d.length;v+=1)l[v+1]!=null&&(u[d[v]]=t(l[v+1]))},n=function(l,u,d){var m=l.name&&l.names;l.push&&!u[l.push]?u[l.push]=[]:m&&!u[l.name]&&(u[l.name]={});var v=l.push?{}:m?u[l.name]:u;r(d.match(l.reg),v,l.names,l.name),l.push&&u[l.push].push(v)},s=FT(),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var u={},d=[],m=u;return l.split(/(\r\n|\r|\n)/).filter(i).forEach(function(v){var y=v[0],S=v.slice(2);y==="m"&&(d.push({rtp:[],fmtp:[]}),m=d[d.length-1]);for(var w=0;w<(s[y]||[]).length;w+=1){var x=s[y][w];if(x.reg.test(S))return n(x,m,S)}}),u.media=d,u};var c=function(l,u){var d=u.split(/=(.+)/,2);return d.length===2?l[d[0]]=t(d[1]):d.length===1&&u.length>1&&(l[d[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var u=[],d=l.split(" ").map(t),m=0;m<d.length;m+=3)u.push({component:d[m],ip:d[m+1],port:d[m+2]});return u},e.parseImageAttributes=function(l){return l.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(u){return u.split(",").map(function(d){var m,v=!1;return d[0]!=="~"?m=t(d):(m=t(d.substring(1,d.length)),v=!0),{scid:m,paused:v}})})}}(Dg)),Dg}var Ng,ox;function X6(){if(ox)return Ng;ox=1;var e=FT(),t=/%[sdv%]/g,r=function(c){var l=1,u=arguments,d=u.length;return c.replace(t,function(m){if(l>=d)return m;var v=u[l];switch(l+=1,m){case"%%":return"%";case"%s":return String(v);case"%d":return Number(v);case"%v":return""}})},n=function(c,l,u){var d=l.format instanceof Function?l.format(l.push?u:u[l.name]):l.format,m=[c+"="+d];if(l.names)for(var v=0;v<l.names.length;v+=1){var y=l.names[v];l.name?m.push(u[l.name][y]):m.push(u[l.names[v]])}else m.push(u[l.name]);return r.apply(null,m)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],i=["i","c","b","a"];return Ng=function(c,l){l=l||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(v){v.payloads==null&&(v.payloads="")});var u=l.outerOrder||s,d=l.innerOrder||i,m=[];return u.forEach(function(v){e[v].forEach(function(y){y.name in c&&c[y.name]!=null?m.push(n(v,y,c)):y.push in c&&c[y.push]!=null&&c[y.push].forEach(function(S){m.push(n(v,y,S))})})}),c.media.forEach(function(v){m.push(n("m",e.m[0],v)),d.forEach(function(y){e[y].forEach(function(S){S.name in v&&v[S.name]!=null?m.push(n(y,S,v)):S.push in v&&v[S.push]!=null&&v[S.push].forEach(function(w){m.push(n(y,S,w))})})})}),m.join(`\r
`)+`\r
`},Ng}var ix;function Yr(){if(ix)return fs;ix=1;var e=K6(),t=X6();return fs.write=t,fs.parse=e.parse,fs.parseParams=e.parseParams,fs.parseFmtpConfig=e.parseFmtpConfig,fs.parsePayloads=e.parsePayloads,fs.parseRemoteCandidates=e.parseRemoteCandidates,fs.parseImageAttributes=e.parseImageAttributes,fs.parseSimulcastStreamList=e.parseSimulcastStreamList,fs}var rn={},ax;function ss(){if(ax)return rn;ax=1;var e=rn&&rn.__createBinding||(Object.create?function(u,d,m,v){v===void 0&&(v=m);var y=Object.getOwnPropertyDescriptor(d,m);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(u,v,y)}:function(u,d,m,v){v===void 0&&(v=m),u[v]=d[m]}),t=rn&&rn.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),r=rn&&rn.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var m in u)m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)&&e(d,u,m);return t(d,u),d};Object.defineProperty(rn,"__esModule",{value:!0}),rn.extractRtpCapabilities=s,rn.extractDtlsParameters=i,rn.getCname=c,rn.applyCodecParameters=l;const n=r(Yr());function s({sdpObject:u}){const d=new Map,m=[];let v=!1,y=!1;for(const w of u.media){const x=w.type;switch(x){case"audio":{if(v)continue;v=!0;break}case"video":{if(y)continue;y=!0;break}default:continue}for(const R of w.rtp){const T={kind:x,mimeType:`${x}/${R.codec}`,preferredPayloadType:R.payload,clockRate:R.rate,channels:R.encoding,parameters:{},rtcpFeedback:[]};d.set(T.preferredPayloadType,T)}for(const R of w.fmtp||[]){const T=n.parseParams(R.config),C=d.get(R.payload);C&&(T!=null&&T.hasOwnProperty("profile-level-id")&&(T["profile-level-id"]=String(T["profile-level-id"])),C.parameters=T)}for(const R of w.rtcpFb||[]){const T={type:R.type,parameter:R.subtype};if(T.parameter||delete T.parameter,R.payload!=="*"){const C=d.get(R.payload);if(!C)continue;C.rtcpFeedback.push(T)}else for(const C of d.values())C.kind===x&&!/.+\/rtx$/i.test(C.mimeType)&&C.rtcpFeedback.push(T)}for(const R of w.ext||[]){if(R["encrypt-uri"])continue;const T={kind:x,uri:R.uri,preferredId:R.value};m.push(T)}}return{codecs:Array.from(d.values()),headerExtensions:m}}function i({sdpObject:u}){let d=u.setup,m=u.fingerprint;if(!d||!m){const S=(u.media||[]).find(w=>w.port!==0);S&&(d??(d=S.setup),m??(m=S.fingerprint))}if(d){if(!m)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let v;switch(d){case"active":{v="client";break}case"passive":{v="server";break}case"actpass":{v="auto";break}}return{role:v,fingerprints:[{algorithm:m.type,value:m.hash}]}}function c({offerMediaObject:u}){const d=(u.ssrcs||[]).find(m=>m.attribute==="cname");return d?d.value:""}function l({offerRtpParameters:u,answerMediaObject:d}){for(const m of u.codecs){const v=m.mimeType.toLowerCase();if(v!=="audio/opus"||!(d.rtp||[]).find(x=>x.payload===m.payloadType))continue;d.fmtp=d.fmtp||[];let S=d.fmtp.find(x=>x.payload===m.payloadType);S||(S={payload:m.payloadType,config:""},d.fmtp.push(S));const w=n.parseParams(S.config);switch(v){case"audio/opus":{const x=m.parameters["sprop-stereo"];x!==void 0&&(w.stereo=x?1:0);break}}S.config="";for(const x of Object.keys(w))S.config&&(S.config+=";"),S.config+=`${x}=${w[x]}`}}return rn}var Bc={},cx;function Ii(){if(cx)return Bc;cx=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.getRtpEncodings=e,Bc.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const l=c.id;n.add(l)}if(n.size===0)throw new Error("no a=ssrc lines found");const s=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[l,u]=c.ssrcs.split(/\s+/);l=Number(l),u=Number(u),n.has(l)&&(n.delete(l),n.delete(u),s.set(l,u))}for(const c of n)s.set(c,null);const i=[];for(const[c,l]of s){const u={ssrc:c};l&&(u.rtx={ssrc:l}),i.push(u)}return i}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const s=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!s)throw new Error("a=ssrc line with msid information not found");const[i,c]=s.value.split(" "),l=Number(s.id);let u;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const w=S.ssrcs.split(/\s+/);return Number(w[0])===l?(u=Number(w[1]),!0):!1});const d=r.ssrcs.find(S=>S.attribute==="cname");if(!d)throw new Error("a=ssrc line with cname information not found");const m=d.value,v=[],y=[];for(let S=0;S<n;++S)v.push(l+S),u&&y.push(u+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:m}),r.ssrcs.push({id:S,attribute:"msid",value:`${i} ${c}`});for(let S=0;S<y.length;++S){const w=v[S],x=y[S];r.ssrcs.push({id:x,attribute:"cname",value:m}),r.ssrcs.push({id:x,attribute:"msid",value:`${i} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${w} ${x}`})}}return Bc}var uu={},lx;function Up(){if(lx)return uu;lx=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(s=>s.type==="nack"&&!s.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return uu}var Uc={},dx;function ln(){if(dx)return Uc;dx=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.HandlerInterface=void 0;const e=Pi();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Uc.HandlerInterface=t,Uc}var Ln={},Pr={},ux;function Y6(){if(ux)return Pr;ux=1;var e=Pr&&Pr.__createBinding||(Object.create?function(d,m,v,y){y===void 0&&(y=v);var S=Object.getOwnPropertyDescriptor(m,v);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(d,y,S)}:function(d,m,v,y){y===void 0&&(y=v),d[y]=m[v]}),t=Pr&&Pr.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),r=Pr&&Pr.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(m,d,v);return t(m,d),m};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.OfferMediaSection=Pr.AnswerMediaSection=Pr.MediaSection=void 0;const n=r(Yr()),s=r(mr());let i=class{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:y,planB:S=!1}){if(this._mediaObject={},this._planB=S,m&&this.setIceParameters(m),v){this._mediaObject.candidates=[];for(const w of v){const x={};x.component=1,x.foundation=w.foundation,x.ip=w.address??w.ip,x.port=w.port,x.priority=w.priority,x.transport=w.protocol,x.type=w.type,w.tcpType&&(x.tcptype=w.tcpType),this._mediaObject.candidates.push(x)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}y&&this.setDtlsRole(y.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(m){this._mediaObject.iceUfrag=m.usernameFragment,this._mediaObject.icePwd=m.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};Pr.MediaSection=i;class c extends i{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:y,sctpParameters:S,plainRtpParameters:w,planB:x=!1,offerMediaObject:R,offerRtpParameters:T,answerRtpParameters:C,codecOptions:h,extmapAllowMixed:g=!1}){switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:y,planB:x}),this._mediaObject.mid=String(R.mid),this._mediaObject.type=R.type,this._mediaObject.protocol=R.protocol,w?(this._mediaObject.connection={ip:w.ip,version:w.ipVersion},this._mediaObject.port=w.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),R.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const b of C.codecs){const E={payload:b.payloadType,codec:u(b),rate:b.clockRate};b.channels>1&&(E.encoding=b.channels),this._mediaObject.rtp.push(E);const k=s.clone(b.parameters)??{};let j=s.clone(b.rtcpFeedback)??[];if(h){const{opusStereo:N,opusFec:A,opusDtx:O,opusMaxPlaybackRate:U,opusMaxAverageBitrate:W,opusPtime:K,opusNack:L,videoGoogleStartBitrate:F,videoGoogleMaxBitrate:$,videoGoogleMinBitrate:B}=h,H=T.codecs.find(V=>V.payloadType===b.payloadType);switch(b.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{N!==void 0&&(H.parameters["sprop-stereo"]=N?1:0,k.stereo=N?1:0),A!==void 0&&(H.parameters.useinbandfec=A?1:0,k.useinbandfec=A?1:0),O!==void 0&&(H.parameters.usedtx=O?1:0,k.usedtx=O?1:0),U!==void 0&&(k.maxplaybackrate=U),W!==void 0&&(k.maxaveragebitrate=W),K!==void 0&&(H.parameters.ptime=K,k.ptime=K),L||(H.rtcpFeedback=H.rtcpFeedback.filter(V=>V.type!=="nack"||V.parameter),j=j.filter(V=>V.type!=="nack"||V.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{F!==void 0&&(k["x-google-start-bitrate"]=F),$!==void 0&&(k["x-google-max-bitrate"]=$),B!==void 0&&(k["x-google-min-bitrate"]=B);break}}}const M={payload:b.payloadType,config:""};for(const N of Object.keys(k))M.config&&(M.config+=";"),M.config+=`${N}=${k[N]}`;M.config&&this._mediaObject.fmtp.push(M);for(const N of j)this._mediaObject.rtcpFb.push({payload:b.payloadType,type:N.type,subtype:N.parameter})}this._mediaObject.payloads=C.codecs.map(b=>b.payloadType).join(" "),this._mediaObject.ext=[];for(const b of C.headerExtensions)(R.ext??[]).some(k=>k.uri===b.uri)&&this._mediaObject.ext.push({uri:b.uri,value:b.id});if(g&&R.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),R.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:R.simulcast.list1},this._mediaObject.rids=[];for(const b of R.rids??[])b.direction==="send"&&this._mediaObject.rids.push({id:b.id,direction:"recv"})}else if(R.simulcast_03){this._mediaObject.simulcast_03={value:R.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const b of R.rids??[])b.direction==="send"&&this._mediaObject.rids.push({id:b.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof R.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):R.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(m){switch(m){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(m){var w,x;if(!((w=this._mediaObject.simulcast)!=null&&w.list1))return;const v={};for(const R of m)R.rid&&(v[R.rid]=R);const y=this._mediaObject.simulcast.list1,S=n.parseSimulcastStreamList(y);for(const R of S)for(const T of R)T.paused=!((x=v[T.scid])!=null&&x.active);this._mediaObject.simulcast.list1=S.map(R=>R.map(T=>`${T.paused?"~":""}${T.scid}`).join(",")).join(";")}}Pr.AnswerMediaSection=c;class l extends i{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:y,sctpParameters:S,plainRtpParameters:w,planB:x=!1,mid:R,kind:T,offerRtpParameters:C,streamId:h,trackId:g,oldDataChannelSpec:b=!1}){var E;switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:y,planB:x}),this._mediaObject.mid=String(R),this._mediaObject.type=T,w?(this._mediaObject.connection={ip:w.ip,version:w.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=w.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),T){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${h??"-"} ${g}`);for(const N of C.codecs){const A={payload:N.payloadType,codec:u(N),rate:N.clockRate};N.channels>1&&(A.encoding=N.channels),this._mediaObject.rtp.push(A);const O={payload:N.payloadType,config:""};for(const U of Object.keys(N.parameters))O.config&&(O.config+=";"),O.config+=`${U}=${N.parameters[U]}`;O.config&&this._mediaObject.fmtp.push(O);for(const U of N.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:N.payloadType,type:U.type,subtype:U.parameter})}this._mediaObject.payloads=C.codecs.map(N=>N.payloadType).join(" "),this._mediaObject.ext=[];for(const N of C.headerExtensions)this._mediaObject.ext.push({uri:N.uri,value:N.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const k=C.encodings[0],j=k.ssrc,M=(E=k.rtx)==null?void 0:E.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],C.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:C.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${h??"-"} ${g}`}),M&&(C.rtcp.cname&&this._mediaObject.ssrcs.push({id:M,attribute:"cname",value:C.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:M,attribute:"msid",value:`${h??"-"} ${g}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${j} ${M}`}));break}case"application":{b?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(m){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:m,streamId:v,trackId:y}){var T;const S=m.encodings[0],w=S.ssrc,x=(T=S.rtx)==null?void 0:T.ssrc,R=this._mediaObject.payloads.split(" ");for(const C of m.codecs){if(R.includes(String(C.payloadType)))continue;const h={payload:C.payloadType,codec:u(C),rate:C.clockRate};C.channels>1&&(h.encoding=C.channels),this._mediaObject.rtp.push(h);const g={payload:C.payloadType,config:""};for(const b of Object.keys(C.parameters))g.config&&(g.config+=";"),g.config+=`${b}=${C.parameters[b]}`;g.config&&this._mediaObject.fmtp.push(g);for(const b of C.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:C.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads+=` ${m.codecs.filter(C=>!this._mediaObject.payloads.includes(C.payloadType)).map(C=>C.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),m.rtcp.cname&&this._mediaObject.ssrcs.push({id:w,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:w,attribute:"msid",value:`${v??"-"} ${y}`}),x&&(m.rtcp.cname&&this._mediaObject.ssrcs.push({id:x,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:x,attribute:"msid",value:`${v??"-"} ${y}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${w} ${x}`}))}planBStopReceiving({offerRtpParameters:m}){var w;const v=m.encodings[0],y=v.ssrc,S=(w=v.rtx)==null?void 0:w.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(x=>x.id!==y&&x.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(x=>x.ssrcs!==`${y} ${S}`))}}Pr.OfferMediaSection=l;function u(d){const v=new RegExp("^(audio|video)/(.+)","i").exec(d.mimeType);if(!v)throw new TypeError("invalid codec.mimeType");return v[2]}return Pr}var fx;function os(){if(fx)return Ln;fx=1;var e=Ln&&Ln.__createBinding||(Object.create?function(u,d,m,v){v===void 0&&(v=m);var y=Object.getOwnPropertyDescriptor(d,m);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(u,v,y)}:function(u,d,m,v){v===void 0&&(v=m),u[v]=d[m]}),t=Ln&&Ln.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),r=Ln&&Ln.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var m in u)m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)&&e(d,u,m);return t(d,u),d};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.RemoteSdp=void 0;const n=r(Yr()),s=Kt(),i=Y6(),c=new s.Logger("RemoteSdp");let l=class{constructor({iceParameters:d,iceCandidates:m,dtlsParameters:v,sctpParameters:y,plainRtpParameters:S,planB:w=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=d,this._iceCandidates=m,this._dtlsParameters=v,this._sctpParameters=y,this._plainRtpParameters=S,this._planB=w,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},d!=null&&d.iceLite&&(this._sdpObject.icelite="ice-lite"),v){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const x=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:v.fingerprints[x-1].algorithm,hash:v.fingerprints[x-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(d){c.debug("updateIceParameters() [iceParameters:%o]",d),this._iceParameters=d,this._sdpObject.icelite=d.iceLite?"ice-lite":void 0;for(const m of this._mediaSections)m.setIceParameters(d)}updateDtlsRole(d){c.debug("updateDtlsRole() [role:%s]",d),this._dtlsParameters.role=d;for(const m of this._mediaSections)m.setDtlsRole(d)}getNextMediaSectionIdx(){for(let d=0;d<this._mediaSections.length;++d){const m=this._mediaSections[d];if(m.closed)return{idx:d,reuseMid:m.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:d,reuseMid:m,offerRtpParameters:v,answerRtpParameters:y,codecOptions:S,extmapAllowMixed:w=!1}){const x=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:d,offerRtpParameters:v,answerRtpParameters:y,codecOptions:S,extmapAllowMixed:w});m?this._replaceMediaSection(x,m):this._midToIndex.has(x.mid)?this._replaceMediaSection(x):this._addMediaSection(x)}receive({mid:d,kind:m,offerRtpParameters:v,streamId:y,trackId:S}){const w=this._midToIndex.get(d);let x;if(w!==void 0&&(x=this._mediaSections[w]),x)x.planBReceive({offerRtpParameters:v,streamId:y,trackId:S}),this._replaceMediaSection(x);else{x=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:d,kind:m,offerRtpParameters:v,streamId:y,trackId:S});const R=this._mediaSections.find(T=>T.closed);R?this._replaceMediaSection(x,R.mid):this._addMediaSection(x)}}pauseMediaSection(d){this._findMediaSection(d).pause()}resumeSendingMediaSection(d){this._findMediaSection(d).resume()}resumeReceivingMediaSection(d){this._findMediaSection(d).resume()}disableMediaSection(d){this._findMediaSection(d).disable()}closeMediaSection(d){const m=this._findMediaSection(d);return d===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",d),this.disableMediaSection(d),!1):(m.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(d,m){const v=this._findMediaSection(d);v.muxSimulcastStreams(m),this._replaceMediaSection(v)}planBStopReceiving({mid:d,offerRtpParameters:m}){const v=this._findMediaSection(d);v.planBStopReceiving({offerRtpParameters:m}),this._replaceMediaSection(v)}sendSctpAssociation({offerMediaObject:d}){const m=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:d});this._addMediaSection(m)}receiveSctpAssociation({oldDataChannelSpec:d=!1}={}){const m=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:d});this._addMediaSection(m)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(d){this._firstMid||(this._firstMid=d.mid),this._mediaSections.push(d),this._midToIndex.set(d.mid,this._mediaSections.length-1),this._sdpObject.media.push(d.getObject()),this._regenerateBundleMids()}_replaceMediaSection(d,m){if(typeof m=="string"){const v=this._midToIndex.get(m);if(v===void 0)throw new Error(`no media section found for reuseMid '${m}'`);const y=this._mediaSections[v];this._mediaSections[v]=d,this._midToIndex.delete(y.mid),this._midToIndex.set(d.mid,v),this._sdpObject.media[v]=d.getObject(),this._regenerateBundleMids()}else{const v=this._midToIndex.get(d.mid);if(v===void 0)throw new Error(`no media section found with mid '${d.mid}'`);this._mediaSections[v]=d,this._sdpObject.media[v]=d.getObject()}}_findMediaSection(d){const m=this._midToIndex.get(d);if(m===void 0)throw new Error(`no media section found with mid '${d}'`);return this._mediaSections[m]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(d=>!d.closed).map(d=>d.mid).join(" "))}};return Ln.RemoteSdp=l,Ln}var fu={},px;function Oo(){if(px)return fu;px=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return fu}var hx;function Q6(){if(hx)return Nn;hx=1;var e=Nn&&Nn.__createBinding||(Object.create?function(C,h,g,b){b===void 0&&(b=g);var E=Object.getOwnPropertyDescriptor(h,g);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(C,b,E)}:function(C,h,g,b){b===void 0&&(b=g),C[b]=h[g]}),t=Nn&&Nn.__setModuleDefault||(Object.create?function(C,h){Object.defineProperty(C,"default",{enumerable:!0,value:h})}:function(C,h){C.default=h}),r=Nn&&Nn.__importStar||function(C){if(C&&C.__esModule)return C;var h={};if(C!=null)for(var g in C)g!=="default"&&Object.prototype.hasOwnProperty.call(C,g)&&e(h,C,g);return t(h,C),h};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Chrome111=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Ii()),d=r(Up()),m=Mr(),v=ln(),y=os(),S=Oo(),w=new s.Logger("Chrome111"),x="Chrome111",R={OS:1024,MIS:1024};let T=class zT extends v.HandlerInterface{static createFactory(){return()=>new zT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const g=await h.createOffer();try{h.close()}catch{}const b=n.parse(g.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(g){try{h.close()}catch{}throw g}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:h,iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k,iceServers:j,iceTransportPolicy:M,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),w.debug("run()"),this._direction=h,this._remoteSdp=new y.RemoteSdp({iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(h){this.assertNotClosed(),w.debug("updateIceServers()");const g=this._pc.getConfiguration();g.iceServers=h,this._pc.setConfiguration(g)}async restartIce(h){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const g=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:g,codecOptions:b,codec:E,onRtpSender:k}){if(this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),g&&g.length>1){let F=1;for(const $ of g){const B=$.scalabilityMode?(0,S.parse)($.scalabilityMode).temporalLayers:3;B>F&&(F=B)}g.forEach(($,B)=>{$.rid=`r${B}`,$.scalabilityMode=`L1T${F}`})}const j=i.clone(this._sendingRtpParametersByKind[h.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const M=i.clone(this._sendingRemoteRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,E);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:g});k&&k(A.sender);const O=await this._pc.createOffer();let U=n.parse(O.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:U}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const W=A.mid;j.mid=W,U=n.parse(this._pc.localDescription.sdp);const K=U.media[N.idx];if(j.rtcp.cname=l.getCname({offerMediaObject:K}),!g)j.encodings=u.getRtpEncodings({offerMediaObject:K});else if(g.length===1){const F=u.getRtpEncodings({offerMediaObject:K});Object.assign(F[0],g[0]),j.encodings=F}else j.encodings=g;this._remoteSdp.send({offerMediaObject:K,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:M,codecOptions:b,extmapAllowMixed:!0});const L={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:j,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",h),this._closed)return;const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");if(g.sender.replaceTrack(null),this._pc.removeTrack(g.sender),this._remoteSdp.closeMediaSection(g.mid))try{g.stop()}catch{}const E=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="inactive",this._remoteSdp.pauseMediaSection(h);const b=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="sendonly";const b=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(h,g){this.assertNotClosed(),this.assertSendDirection(),g?w.debug("replaceTrack() [localId:%s, track.id:%s]",h,g.id):w.debug("replaceTrack() [localId:%s, no track]",h);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(g)}async setMaxSpatialLayer(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{N<=g?M.active=!0:M.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{E.encodings[N]={...M,...g}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:g,maxRetransmits:b,label:E,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:g,maxRetransmits:b,protocol:k};w.debug("sendDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),U=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const W={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:M,sctpStreamParameters:N}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const g=[],b=new Map;for(const M of h){const{trackId:N,kind:A,rtpParameters:O,streamId:U}=M;w.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:U??O.rtcp.cname,trackId:N})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const M of h){const{trackId:N,onRtpReceiver:A}=M;if(A){const O=b.get(N),U=this._pc.getTransceivers().find(W=>W.mid===O);if(!U)throw new Error("transceiver not found");A(U.receiver)}}let k=await this._pc.createAnswer();const j=n.parse(k.sdp);for(const M of h){const{trackId:N,rtpParameters:A}=M,O=b.get(N),U=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:U})}k={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const M of h){const{trackId:N}=M,A=b.get(N),O=this._pc.getTransceivers().find(U=>U.mid===A);if(O)this._mapMidTransceiver.set(A,O),g.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return g}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const E of h){w.debug("stopReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of h)this._mapMidTransceiver.delete(E)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("pauseReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("resumeReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:g,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M}=h,N={negotiated:!0,id:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M,protocol:b};w.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(g,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const U=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(U.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:g}){g||(g=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:g});b.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((E,k)=>{this.safeEmit("@connect",{dtlsParameters:b},E,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Nn.Chrome111=T,Nn}var On={},mx;function J6(){if(mx)return On;mx=1;var e=On&&On.__createBinding||(Object.create?function(C,h,g,b){b===void 0&&(b=g);var E=Object.getOwnPropertyDescriptor(h,g);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(C,b,E)}:function(C,h,g,b){b===void 0&&(b=g),C[b]=h[g]}),t=On&&On.__setModuleDefault||(Object.create?function(C,h){Object.defineProperty(C,"default",{enumerable:!0,value:h})}:function(C,h){C.default=h}),r=On&&On.__importStar||function(C){if(C&&C.__esModule)return C;var h={};if(C!=null)for(var g in C)g!=="default"&&Object.prototype.hasOwnProperty.call(C,g)&&e(h,C,g);return t(h,C),h};Object.defineProperty(On,"__esModule",{value:!0}),On.Chrome74=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Ii()),d=r(Up()),m=Mr(),v=ln(),y=os(),S=Oo(),w=new s.Logger("Chrome74"),x="Chrome74",R={OS:1024,MIS:1024};let T=class BT extends v.HandlerInterface{static createFactory(){return()=>new BT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const g=await h.createOffer();try{h.close()}catch{}const b=n.parse(g.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(g){try{h.close()}catch{}throw g}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:h,iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k,iceServers:j,iceTransportPolicy:M,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){w.debug("run()"),this._direction=h,this._remoteSdp=new y.RemoteSdp({iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(h){this.assertNotClosed(),w.debug("updateIceServers()");const g=this._pc.getConfiguration();g.iceServers=h,this._pc.setConfiguration(g)}async restartIce(h){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const g=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:g,codecOptions:b,codec:E}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),g&&g.length>1&&g.forEach(($,B)=>{$.rid=`r${B}`});const k=i.clone(this._sendingRtpParametersByKind[h.kind]);k.codecs=c.reduceCodecs(k.codecs,E);const j=i.clone(this._sendingRemoteRtpParametersByKind[h.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const M=this._remoteSdp.getNextMediaSectionIdx(),N=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:g});let A=await this._pc.createOffer(),O=n.parse(A.sdp),U;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O});let W=!1;const K=(0,S.parse)((g??[{}])[0].scalabilityMode);g&&g.length===1&&K.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,O=n.parse(A.sdp),U=O.media[M.idx],u.addLegacySimulcast({offerMediaObject:U,numStreams:K.spatialLayers}),A={type:"offer",sdp:n.write(O)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const L=N.mid;if(k.mid=L,O=n.parse(this._pc.localDescription.sdp),U=O.media[M.idx],k.rtcp.cname=l.getCname({offerMediaObject:U}),!g)k.encodings=u.getRtpEncodings({offerMediaObject:U});else if(g.length===1){let $=u.getRtpEncodings({offerMediaObject:U});Object.assign($[0],g[0]),W&&($=[$[0]]),k.encodings=$}else k.encodings=g;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of k.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${K.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:U,reuseMid:M.reuseMid,offerRtpParameters:k,answerRtpParameters:j,codecOptions:b,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),this._mapMidTransceiver.set(L,N),{localId:L,rtpParameters:k,rtpSender:N.sender}}async stopSending(h){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",h),this._closed)return;const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");if(g.sender.replaceTrack(null),this._pc.removeTrack(g.sender),this._remoteSdp.closeMediaSection(g.mid))try{g.stop()}catch{}const E=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="inactive",this._remoteSdp.pauseMediaSection(h);const b=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="sendonly";const b=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(h,g){this.assertNotClosed(),this.assertSendDirection(),g?w.debug("replaceTrack() [localId:%s, track.id:%s]",h,g.id):w.debug("replaceTrack() [localId:%s, no track]",h);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(g)}async setMaxSpatialLayer(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{N<=g?M.active=!0:M.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{E.encodings[N]={...M,...g}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:g,maxRetransmits:b,label:E,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:g,maxRetransmits:b,protocol:k};w.debug("sendDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),U=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const W={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:M,sctpStreamParameters:N}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const g=[],b=new Map;for(const M of h){const{trackId:N,kind:A,rtpParameters:O,streamId:U}=M;w.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:U??O.rtcp.cname,trackId:N})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);let k=await this._pc.createAnswer();const j=n.parse(k.sdp);for(const M of h){const{trackId:N,rtpParameters:A}=M,O=b.get(N),U=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:U})}k={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const M of h){const{trackId:N}=M,A=b.get(N),O=this._pc.getTransceivers().find(U=>U.mid===A);if(O)this._mapMidTransceiver.set(A,O),g.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return g}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const E of h){w.debug("stopReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of h)this._mapMidTransceiver.delete(E)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("pauseReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("resumeReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:g,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M}=h,N={negotiated:!0,id:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M,protocol:b};w.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(g,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const U=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(U.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:g}){g||(g=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:g});b.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((E,k)=>{this.safeEmit("@connect",{dtlsParameters:b},E,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return On.Chrome74=T,On}var An={},gx;function Z6(){if(gx)return An;gx=1;var e=An&&An.__createBinding||(Object.create?function(R,T,C,h){h===void 0&&(h=C);var g=Object.getOwnPropertyDescriptor(T,C);(!g||("get"in g?!T.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(R,h,g)}:function(R,T,C,h){h===void 0&&(h=C),R[h]=T[C]}),t=An&&An.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=An&&An.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var C in R)C!=="default"&&Object.prototype.hasOwnProperty.call(R,C)&&e(T,R,C);return t(T,R),T};Object.defineProperty(An,"__esModule",{value:!0}),An.Chrome70=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Ii()),d=ln(),m=os(),v=Oo(),y=new s.Logger("Chrome70"),S="Chrome70",w={OS:1024,MIS:1024};let x=class UT extends d.HandlerInterface{static createFactory(){return()=>new UT}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{T.addTransceiver("audio"),T.addTransceiver("video");const C=await T.createOffer();try{T.close()}catch{}const h=n.parse(C.sdp);return l.extractRtpCapabilities({sdpObject:h})}catch(C){try{T.close()}catch{}throw C}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:T,iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b,iceServers:E,iceTransportPolicy:k,additionalSettings:j,proprietaryConstraints:M,extendedRtpCapabilities:N}){y.debug("run()"),this._direction=T,this._remoteSdp=new m.RemoteSdp({iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},g.role&&g.role!=="auto"&&(this._forcedLocalDtlsRole=g.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){y.debug("updateIceServers()");const C=this._pc.getConfiguration();C.iceServers=T,this._pc.setConfiguration(C)}async restartIce(T){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const C=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const h={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:C,codecOptions:h,codec:g}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",T.kind,T.id);const b=i.clone(this._sendingRtpParametersByKind[T.kind]);b.codecs=c.reduceCodecs(b.codecs,g);const E=i.clone(this._sendingRemoteRtpParametersByKind[T.kind]);E.codecs=c.reduceCodecs(E.codecs,g);const k=this._remoteSdp.getNextMediaSectionIdx(),j=this._pc.addTransceiver(T,{direction:"sendonly",streams:[this._sendStream]});let M=await this._pc.createOffer(),N=n.parse(M.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),C&&C.length>1&&(y.debug("send() | enabling legacy simulcast"),N=n.parse(M.sdp),A=N.media[k.idx],u.addLegacySimulcast({offerMediaObject:A,numStreams:C.length}),M={type:"offer",sdp:n.write(N)});let O=!1;const U=(0,v.parse)((C??[{}])[0].scalabilityMode);if(C&&C.length===1&&U.spatialLayers>1&&b.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(y.debug("send() | enabling legacy simulcast for VP9 SVC"),O=!0,N=n.parse(M.sdp),A=N.media[k.idx],u.addLegacySimulcast({offerMediaObject:A,numStreams:U.spatialLayers}),M={type:"offer",sdp:n.write(N)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),C){y.debug("send() | applying given encodings");const L=j.sender.getParameters();for(let F=0;F<(L.encodings??[]).length;++F){const $=L.encodings[F],B=C[F];if(!B)break;L.encodings[F]=Object.assign($,B)}await j.sender.setParameters(L)}const W=j.mid;if(b.mid=W,N=n.parse(this._pc.localDescription.sdp),A=N.media[k.idx],b.rtcp.cname=l.getCname({offerMediaObject:A}),b.encodings=u.getRtpEncodings({offerMediaObject:A}),C)for(let L=0;L<b.encodings.length;++L)C[L]&&Object.assign(b.encodings[L],C[L]);if(O&&(b.encodings=[b.encodings[0]]),b.encodings.length>1&&(b.codecs[0].mimeType.toLowerCase()==="video/vp8"||b.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const L of b.encodings)L.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:k.reuseMid,offerRtpParameters:b,answerRtpParameters:E,codecOptions:h});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(W,j),{localId:W,rtpParameters:b,rtpSender:j.sender}}async stopSending(T){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",T);const C=this._mapMidTransceiver.get(T);if(!C)throw new Error("associated RTCRtpTransceiver not found");if(C.sender.replaceTrack(null),this._pc.removeTrack(C.sender),this._remoteSdp.closeMediaSection(C.mid))try{C.stop()}catch{}const g=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(T)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,C){this.assertSendDirection(),C?y.debug("replaceTrack() [localId:%s, track.id:%s]",T,C.id):y.debug("replaceTrack() [localId:%s, no track]",T);const h=this._mapMidTransceiver.get(T);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(C)}async setMaxSpatialLayer(T,C){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",T,C);const h=this._mapMidTransceiver.get(T);if(!h)throw new Error("associated RTCRtpTransceiver not found");const g=h.sender.getParameters();g.encodings.forEach((k,j)=>{j<=C?k.active=!0:k.active=!1}),await h.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(T,g.encodings);const b=await this._pc.createOffer();y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(T,C){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",T,C);const h=this._mapMidTransceiver.get(T);if(!h)throw new Error("associated RTCRtpTransceiver not found");const g=h.sender.getParameters();g.encodings.forEach((k,j)=>{g.encodings[j]={...k,...C}}),await h.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(T,g.encodings);const b=await this._pc.createOffer();y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(T){this.assertSendDirection();const C=this._mapMidTransceiver.get(T);if(!C)throw new Error("associated RTCRtpTransceiver not found");return C.sender.getStats()}async sendDataChannel({ordered:T,maxPacketLifeTime:C,maxRetransmits:h,label:g,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:h,protocol:b};y.debug("sendDataChannel() [options:%o]",E);const k=this._pc.createDataChannel(g,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),N=n.parse(M.sdp),A=N.media.find(U=>U.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:k,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const C=[],h=new Map;for(const k of T){const{trackId:j,kind:M,rtpParameters:N,streamId:A}=k;y.debug("receive() [trackId:%s, kind:%s]",j,M);const O=N.mid??String(this._mapMidTransceiver.size);h.set(j,O),this._remoteSdp.receive({mid:O,kind:M,offerRtpParameters:N,streamId:A??N.rtcp.cname,trackId:j})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);let b=await this._pc.createAnswer();const E=n.parse(b.sdp);for(const k of T){const{trackId:j,rtpParameters:M}=k,N=h.get(j),A=E.media.find(O=>String(O.mid)===N);l.applyCodecParameters({offerRtpParameters:M,answerMediaObject:A})}b={type:"answer",sdp:n.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const k of T){const{trackId:j}=k,M=h.get(j),N=this._pc.getTransceivers().find(A=>A.mid===M);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(M,N),C.push({localId:M,track:N.receiver.track,rtpReceiver:N.receiver})}return C}async stopReceiving(T){this.assertRecvDirection();for(const g of T){y.debug("stopReceiving() [localId:%s]",g);const b=this._mapMidTransceiver.get(g);if(!b)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(b.mid)}const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const g of T)this._mapMidTransceiver.delete(g)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){this.assertRecvDirection();const C=this._mapMidTransceiver.get(T);if(!C)throw new Error("associated RTCRtpTransceiver not found");return C.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:T,label:C,protocol:h}){this.assertRecvDirection();const{streamId:g,ordered:b,maxPacketLifeTime:E,maxRetransmits:k}=T,j={negotiated:!0,id:g,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:k,protocol:h};y.debug("receiveDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(C,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:T,localSdpObject:C}){C||(C=n.parse(this._pc.localDescription.sdp));const h=l.extractDtlsParameters({sdpObject:C});h.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((g,b)=>{this.safeEmit("@connect",{dtlsParameters:h},g,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return An.Chrome70=x,An}var $n={},Vc={},vx;function Vp(){if(vx)return Vc;vx=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.getRtpEncodings=e,Vc.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const s=new Set;for(const l of r.ssrcs||[]){if(l.attribute!=="msid")continue;if(l.value.split(" ")[1]===n.id){const d=l.id;s.add(d)}}if(s.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const i=new Map;for(const l of r.ssrcGroups||[]){if(l.semantics!=="FID")continue;let[u,d]=l.ssrcs.split(/\s+/);u=Number(u),d=Number(d),s.has(u)&&(s.delete(u),s.delete(d),i.set(u,d))}for(const l of s)i.set(l,null);const c=[];for(const[l,u]of i){const d={ssrc:l};u&&(d.rtx={ssrc:u}),c.push(d)}return c}function t({offerMediaObject:r,track:n,numStreams:s}){if(s<=1)throw new TypeError("numStreams must be greater than 1");let i,c,l;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===n.id?(i=S.id,l=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const w=S.ssrcs.split(/\s+/);return Number(w[0])===i?(c=Number(w[1]),!0):!1});const d=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===i);if(!d)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const m=d.value,v=[],y=[];for(let S=0;S<s;++S)v.push(i+S),c&&y.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:m}),r.ssrcs.push({id:S,attribute:"msid",value:`${l} ${n.id}`});for(let S=0;S<y.length;++S){const w=v[S],x=y[S];r.ssrcs.push({id:x,attribute:"cname",value:m}),r.ssrcs.push({id:x,attribute:"msid",value:`${l} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${w} ${x}`})}}return Vc}var yx;function eF(){if(yx)return $n;yx=1;var e=$n&&$n.__createBinding||(Object.create?function(x,R,T,C){C===void 0&&(C=T);var h=Object.getOwnPropertyDescriptor(R,T);(!h||("get"in h?!R.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(x,C,h)}:function(x,R,T,C){C===void 0&&(C=T),x[C]=R[T]}),t=$n&&$n.__setModuleDefault||(Object.create?function(x,R){Object.defineProperty(x,"default",{enumerable:!0,value:R})}:function(x,R){x.default=R}),r=$n&&$n.__importStar||function(x){if(x&&x.__esModule)return x;var R={};if(x!=null)for(var T in x)T!=="default"&&Object.prototype.hasOwnProperty.call(x,T)&&e(R,x,T);return t(R,x),R};Object.defineProperty($n,"__esModule",{value:!0}),$n.Chrome67=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Vp()),d=ln(),m=os(),v=new s.Logger("Chrome67"),y="Chrome67",S={OS:1024,MIS:1024};let w=class VT extends d.HandlerInterface{static createFactory(){return()=>new VT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return y}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const C=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:C})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:R,iceParameters:T,iceCandidates:C,dtlsParameters:h,sctpParameters:g,iceServers:b,iceTransportPolicy:E,additionalSettings:k,proprietaryConstraints:j,extendedRtpCapabilities:M}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:C,dtlsParameters:h,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",M),video:c.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",M),video:c.getSendingRemoteRtpParameters("video",M)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:b??[],iceTransportPolicy:E??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...k},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const C={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const C=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:C,codec:h}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),h&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let g=await this._pc.createOffer(),b=n.parse(g.sdp),E;const k=i.clone(this._sendingRtpParametersByKind[R.kind]);k.codecs=c.reduceCodecs(k.codecs);const j=i.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),b=n.parse(g.sdp),E=b.media.find(O=>O.type==="video"),u.addLegacySimulcast({offerMediaObject:E,track:R,numStreams:T.length}),g={type:"offer",sdp:n.write(b)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),b=n.parse(this._pc.localDescription.sdp),E=b.media.find(O=>O.type===R.kind),k.rtcp.cname=l.getCname({offerMediaObject:E}),k.encodings=u.getRtpEncodings({offerMediaObject:E,track:R}),T)for(let O=0;O<k.encodings.length;++O)T[O]&&Object.assign(k.encodings[O],T[O]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of k.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:E,offerRtpParameters:k,answerRtpParameters:j,codecOptions:C});const M={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const N=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===R);return this._mapSendLocalIdRtpSender.set(N,A),{localId:N,rtpParameters:k,rtpSender:A}}async stopSending(R){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",R);const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(T),T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const C=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C);try{await this._pc.setLocalDescription(C)}catch(g){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.track;await C.replaceTrack(T),h&&this._sendStream.removeTrack(h),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.getParameters();h.encodings.forEach((g,b)=>{b<=T?g.active=!0:g.active=!1}),await C.setParameters(h)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.getParameters();h.encodings.forEach((g,b)=>{h.encodings[b]={...g,...T}}),await C.setParameters(h)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:C,label:h,protocol:g}){this.assertSendDirection();const b={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmitTime:T,maxRetransmits:C,protocol:g};v.debug("sendDataChannel() [options:%o]",b);const E=this._pc.createDataChannel(h,b);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),M=n.parse(j.sdp),N=M.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:b.id,ordered:b.ordered,maxPacketLifeTime:b.maxPacketLifeTime,maxRetransmits:b.maxRetransmits};return{dataChannel:E,sctpStreamParameters:k}}async receive(R){this.assertRecvDirection();const T=[];for(const b of R){const{trackId:E,kind:k,rtpParameters:j,streamId:M}=b;v.debug("receive() [trackId:%s, kind:%s]",E,k);const N=k;this._remoteSdp.receive({mid:N,kind:k,offerRtpParameters:j,streamId:M??j.rtcp.cname,trackId:E})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);let h=await this._pc.createAnswer();const g=n.parse(h.sdp);for(const b of R){const{kind:E,rtpParameters:k}=b,j=E,M=g.media.find(N=>String(N.mid)===j);l.applyCodecParameters({offerRtpParameters:k,answerMediaObject:M})}h={type:"answer",sdp:n.write(g)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const b of R){const{kind:E,trackId:k,rtpParameters:j}=b,M=k,N=E,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===M);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(M,{mid:N,rtpParameters:j,rtpReceiver:A}),T.push({localId:M,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const h of R){v.debug("stopReceiving() [localId:%s]",h);const{mid:g,rtpParameters:b}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:b})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const C=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:C}){this.assertRecvDirection();const{streamId:h,ordered:g,maxPacketLifeTime:b,maxRetransmits:E}=R,k={negotiated:!0,id:h,ordered:g,maxPacketLifeTime:b,maxRetransmitTime:b,maxRetransmits:E,protocol:C};v.debug("receiveDataChannel() [options:%o]",k);const j=this._pc.createDataChannel(T,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const N=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const C=l.extractDtlsParameters({sdpObject:T});C.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((h,g)=>{this.safeEmit("@connect",{dtlsParameters:C},h,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return $n.Chrome67=w,$n}var Fn={},wx;function tF(){if(wx)return Fn;wx=1;var e=Fn&&Fn.__createBinding||(Object.create?function(R,T,C,h){h===void 0&&(h=C);var g=Object.getOwnPropertyDescriptor(T,C);(!g||("get"in g?!T.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(R,h,g)}:function(R,T,C,h){h===void 0&&(h=C),R[h]=T[C]}),t=Fn&&Fn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=Fn&&Fn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var C in R)C!=="default"&&Object.prototype.hasOwnProperty.call(R,C)&&e(T,R,C);return t(T,R),T};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Chrome55=void 0;const n=r(Yr()),s=Kt(),i=Mr(),c=r(mr()),l=r(Xr()),u=r(ss()),d=r(Vp()),m=ln(),v=os(),y=new s.Logger("Chrome55"),S="Chrome55",w={OS:1024,MIS:1024};let x=class HT extends m.HandlerInterface{static createFactory(){return()=>new HT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const C=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const h=n.parse(C.sdp);return u.extractRtpCapabilities({sdpObject:h})}catch(C){try{T.close()}catch{}throw C}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:T,iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b,iceServers:E,iceTransportPolicy:k,additionalSettings:j,proprietaryConstraints:M,extendedRtpCapabilities:N}){y.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",N),video:l.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",N),video:l.getSendingRemoteRtpParameters("video",N)},g.role&&g.role!=="auto"&&(this._forcedLocalDtlsRole=g.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){y.debug("updateIceServers()");const C=this._pc.getConfiguration();C.iceServers=T,this._pc.setConfiguration(C)}async restartIce(T){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const C=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const h={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:C,codecOptions:h,codec:g}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),g&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let b=await this._pc.createOffer(),E=n.parse(b.sdp),k;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const M=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(M.codecs=l.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),T.kind==="video"&&C&&C.length>1&&(y.debug("send() | enabling simulcast"),E=n.parse(b.sdp),k=E.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:k,track:T,numStreams:C.length}),b={type:"offer",sdp:n.write(E)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b),E=n.parse(this._pc.localDescription.sdp),k=E.media.find(O=>O.type===T.kind),j.rtcp.cname=u.getCname({offerMediaObject:k}),j.encodings=d.getRtpEncodings({offerMediaObject:k,track:T}),C)for(let O=0;O<j.encodings.length;++O)C[O]&&Object.assign(j.encodings[O],C[O]);if(j.encodings.length>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:j,answerRtpParameters:M,codecOptions:h});const N={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",T);const C=this._mapSendLocalIdTrack.get(T);if(!C)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(C),this._pc.addStream(this._sendStream);const h=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h);try{await this._pc.setLocalDescription(h)}catch(b){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",b.toString());return}throw b}if(this._pc.signalingState==="stable")return;const g={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,C){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,C){throw new i.UnsupportedError(" not implemented")}async setRtpEncodingParameters(T,C){throw new i.UnsupportedError("not supported")}async getSenderStats(T){throw new i.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:C,maxRetransmits:h,label:g,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:h,protocol:b};y.debug("sendDataChannel() [options:%o]",E);const k=this._pc.createDataChannel(g,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),N=n.parse(M.sdp),A=N.media.find(U=>U.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:k,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const C=[];for(const E of T){const{trackId:k,kind:j,rtpParameters:M,streamId:N}=E;y.debug("receive() [trackId:%s, kind:%s]",k,j);const A=j;this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:M,streamId:N??M.rtcp.cname,trackId:k})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let g=await this._pc.createAnswer();const b=n.parse(g.sdp);for(const E of T){const{kind:k,rtpParameters:j}=E,M=k,N=b.media.find(A=>String(A.mid)===M);u.applyCodecParameters({offerRtpParameters:j,answerMediaObject:N})}g={type:"answer",sdp:n.write(b)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const E of T){const{kind:k,trackId:j,rtpParameters:M}=E,N=k,A=j,O=E.streamId??M.rtcp.cname,W=this._pc.getRemoteStreams().find(K=>K.id===O).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:M}),C.push({localId:A,track:W})}return C}async stopReceiving(T){this.assertRecvDirection();for(const g of T){y.debug("stopReceiving() [localId:%s]",g);const{mid:b,rtpParameters:E}=this._mapRecvLocalIdInfo.get(g)??{};this._mapRecvLocalIdInfo.delete(g),this._remoteSdp.planBStopReceiving({mid:b,offerRtpParameters:E})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new i.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:C,protocol:h}){this.assertRecvDirection();const{streamId:g,ordered:b,maxPacketLifeTime:E,maxRetransmits:k}=T,j={negotiated:!0,id:g,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:k,protocol:h};y.debug("receiveDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(C,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:T,localSdpObject:C}){C||(C=n.parse(this._pc.localDescription.sdp));const h=u.extractDtlsParameters({sdpObject:C});h.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((g,b)=>{this.safeEmit("@connect",{dtlsParameters:h},g,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Fn.Chrome55=x,Fn}var zn={},Sx;function rF(){if(Sx)return zn;Sx=1;var e=zn&&zn.__createBinding||(Object.create?function(T,C,h,g){g===void 0&&(g=h);var b=Object.getOwnPropertyDescriptor(C,h);(!b||("get"in b?!C.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return C[h]}}),Object.defineProperty(T,g,b)}:function(T,C,h,g){g===void 0&&(g=h),T[g]=C[h]}),t=zn&&zn.__setModuleDefault||(Object.create?function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}:function(T,C){T.default=C}),r=zn&&zn.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var h in T)h!=="default"&&Object.prototype.hasOwnProperty.call(T,h)&&e(C,T,h);return t(C,T),C};Object.defineProperty(zn,"__esModule",{value:!0}),zn.Firefox120=void 0;const n=r(Yr()),s=Kt(),i=Mr(),c=r(mr()),l=r(Xr()),u=r(ss()),d=r(Ii()),m=ln(),v=os(),y=Oo(),S=new s.Logger("Firefox120"),w="Firefox120",x={OS:16,MIS:2048};let R=class WT extends m.HandlerInterface{static createFactory(){return()=>new WT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),h=document.createElement("canvas");h.getContext("2d");const b=h.captureStream().getVideoTracks()[0];try{C.addTransceiver("audio",{direction:"sendrecv"}),C.addTransceiver(b,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const E=await C.createOffer();try{h.remove()}catch{}try{b.stop()}catch{}try{C.close()}catch{}const k=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:k})}catch(E){try{h.remove()}catch{}try{b.stop()}catch{}try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:x}}run({direction:C,iceParameters:h,iceCandidates:g,dtlsParameters:b,sctpParameters:E,iceServers:k,iceTransportPolicy:j,additionalSettings:M,proprietaryConstraints:N,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:g,dtlsParameters:b,sctpParameters:E}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...M},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){throw this.assertNotClosed(),new i.UnsupportedError("not supported")}async restartIce(C){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:C,encodings:h,codecOptions:g,codec:b,onRtpSender:E}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),h&&h.length>1&&h.forEach((L,F)=>{L.rid=`r${F}`});const k=c.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=l.reduceCodecs(k.codecs,b);const j=c.clone(this._sendingRemoteRtpParametersByKind[C.kind]);j.codecs=l.reduceCodecs(j.codecs,b);const M=this._pc.addTransceiver(C,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});E&&E(M.sender);const N=await this._pc.createOffer();let A=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const O=(0,y.parse)((h??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const U=M.mid;k.mid=U,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(k.rtcp.cname=u.getCname({offerMediaObject:W}),!h)k.encodings=d.getRtpEncodings({offerMediaObject:W});else if(h.length===1){const L=d.getRtpEncodings({offerMediaObject:W});Object.assign(L[0],h[0]),k.encodings=L}else k.encodings=h;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const L of k.encodings)L.scalabilityMode?L.scalabilityMode=`L1T${O.temporalLayers}`:L.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:k,answerRtpParameters:j,codecOptions:g,extmapAllowMixed:!0});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(U,M),{localId:U,rtpParameters:k,rtpSender:M.sender}}async stopSending(C){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",C),this._closed)return;const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated transceiver not found");h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.disableMediaSection(h.mid);const g=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(C)}async pauseSending(C){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",C);const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(C);const g=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async resumeSending(C){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",C);const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(C);const g=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async replaceTrack(C,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",C,h.id):S.debug("replaceTrack() [localId:%s, no track]",C);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(h)}async setMaxSpatialLayer(C,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,h);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated transceiver not found");const b=g.sender.getParameters();b.encodings.forEach((j,M)=>{M<=h?j.active=!0:j.active=!1}),await g.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(C,b.encodings);const E=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(C,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,h);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated RTCRtpTransceiver not found");const b=g.sender.getParameters();b.encodings.forEach((j,M)=>{b.encodings[M]={...j,...h}}),await g.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(C,b.encodings);const E=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(C){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:h,maxRetransmits:g,label:b,protocol:E}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:h,maxRetransmits:g,protocol:E};S.debug("sendDataChannel() [options:%o]",k);const j=this._pc.createDataChannel(b,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),A=n.parse(N.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const U={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._hasDataChannelMediaSection=!0}const M={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:j,sctpStreamParameters:M}}async receive(C){this.assertNotClosed(),this.assertRecvDirection();const h=[],g=new Map;for(const j of C){const{trackId:M,kind:N,rtpParameters:A,streamId:O}=j;S.debug("receive() [trackId:%s, kind:%s]",M,N);const U=A.mid??String(this._mapMidTransceiver.size);g.set(M,U),this._remoteSdp.receive({mid:U,kind:N,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:M})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);for(const j of C){const{trackId:M,onRtpReceiver:N}=j;if(N){const A=g.get(M),O=this._pc.getTransceivers().find(U=>U.mid===A);if(!O)throw new Error("transceiver not found");N(O.receiver)}}let E=await this._pc.createAnswer();const k=n.parse(E.sdp);for(const j of C){const{trackId:M,rtpParameters:N}=j,A=g.get(M),O=k.media.find(U=>String(U.mid)===A);u.applyCodecParameters({offerRtpParameters:N,answerMediaObject:O}),E={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",E),await this._pc.setLocalDescription(E);for(const j of C){const{trackId:M}=j,N=g.get(M),A=this._pc.getTransceivers().find(O=>O.mid===N);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(N,A),h.push({localId:N,track:A.receiver.track,rtpReceiver:A.receiver})}return h}async stopReceiving(C){if(this.assertRecvDirection(),this._closed)return;for(const b of C){S.debug("stopReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(E.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const b of C)this._mapMidTransceiver.delete(b)}async pauseReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const b of C){S.debug("pauseReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="inactive",this._remoteSdp.pauseMediaSection(b)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const b of C){S.debug("resumeReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(b)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(C){this.assertRecvDirection();const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:h,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:b,ordered:E,maxPacketLifeTime:k,maxRetransmits:j}=C,M={negotiated:!0,id:b,ordered:E,maxPacketLifeTime:k,maxRetransmits:j,protocol:g};S.debug("receiveDataChannel() [options:%o]",M);const N=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const U=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:U})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:C,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:h});g.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((b,E)=>{this.safeEmit("@connect",{dtlsParameters:g},b,E)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new i.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return zn.Firefox120=R,zn}var Bn={},bx;function nF(){if(bx)return Bn;bx=1;var e=Bn&&Bn.__createBinding||(Object.create?function(T,C,h,g){g===void 0&&(g=h);var b=Object.getOwnPropertyDescriptor(C,h);(!b||("get"in b?!C.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return C[h]}}),Object.defineProperty(T,g,b)}:function(T,C,h,g){g===void 0&&(g=h),T[g]=C[h]}),t=Bn&&Bn.__setModuleDefault||(Object.create?function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}:function(T,C){T.default=C}),r=Bn&&Bn.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var h in T)h!=="default"&&Object.prototype.hasOwnProperty.call(T,h)&&e(C,T,h);return t(C,T),C};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.Firefox60=void 0;const n=r(Yr()),s=Kt(),i=Mr(),c=r(mr()),l=r(Xr()),u=r(ss()),d=r(Ii()),m=ln(),v=os(),y=Oo(),S=new s.Logger("Firefox60"),w="Firefox60",x={OS:16,MIS:2048};let R=class qT extends m.HandlerInterface{static createFactory(){return()=>new qT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),h=document.createElement("canvas");h.getContext("2d");const b=h.captureStream().getVideoTracks()[0];try{C.addTransceiver("audio",{direction:"sendrecv"});const E=C.addTransceiver(b,{direction:"sendrecv"}),k=E.sender.getParameters(),j=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];k.encodings=j,await E.sender.setParameters(k);const M=await C.createOffer();try{h.remove()}catch{}try{b.stop()}catch{}try{C.close()}catch{}const N=n.parse(M.sdp);return u.extractRtpCapabilities({sdpObject:N})}catch(E){try{h.remove()}catch{}try{b.stop()}catch{}try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:x}}run({direction:C,iceParameters:h,iceCandidates:g,dtlsParameters:b,sctpParameters:E,iceServers:k,iceTransportPolicy:j,additionalSettings:M,proprietaryConstraints:N,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:g,dtlsParameters:b,sctpParameters:E}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...M},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){throw this.assertNotClosed(),new i.UnsupportedError("not supported")}async restartIce(C){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:C,encodings:h,codecOptions:g,codec:b}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),h&&(h=c.clone(h),h.forEach((K,L)=>{K.rid=`r${L}`}),h.reverse());const E=c.clone(this._sendingRtpParametersByKind[C.kind]);E.codecs=l.reduceCodecs(E.codecs,b);const k=c.clone(this._sendingRemoteRtpParametersByKind[C.kind]);k.codecs=l.reduceCodecs(k.codecs,b);const j=this._pc.addTransceiver(C,{direction:"sendonly",streams:[this._sendStream]});if(h){const K=j.sender.getParameters();K.encodings=h,await j.sender.setParameters(K)}const M=await this._pc.createOffer();let N=n.parse(M.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:N});const A=(0,y.parse)((h??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const O=j.mid;E.mid=O,N=n.parse(this._pc.localDescription.sdp);const U=N.media[N.media.length-1];if(E.rtcp.cname=u.getCname({offerMediaObject:U}),!h)E.encodings=d.getRtpEncodings({offerMediaObject:U});else if(h.length===1){const K=d.getRtpEncodings({offerMediaObject:U});Object.assign(K[0],h[0]),E.encodings=K}else E.encodings=h.reverse();if(E.encodings.length>1&&(E.codecs[0].mimeType.toLowerCase()==="video/vp8"||E.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const K of E.encodings)K.scalabilityMode?K.scalabilityMode=`L1T${A.temporalLayers}`:K.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:U,offerRtpParameters:E,answerRtpParameters:k,codecOptions:g,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(O,j),{localId:O,rtpParameters:E,rtpSender:j.sender}}async stopSending(C){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",C),this._closed)return;const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated transceiver not found");h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.disableMediaSection(h.mid);const g=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(C)}async pauseSending(C){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",C);const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(C);const g=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async resumeSending(C){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",C);const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(C);const g=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async replaceTrack(C,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",C,h.id):S.debug("replaceTrack() [localId:%s, no track]",C);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(h)}async setMaxSpatialLayer(C,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,h);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated transceiver not found");const b=g.sender.getParameters();h=b.encodings.length-1-h,b.encodings.forEach((j,M)=>{M>=h?j.active=!0:j.active=!1}),await g.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(C,b.encodings);const E=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(C,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,h);const g=this._mapMidTransceiver.get(C);if(!g)throw new Error("associated RTCRtpTransceiver not found");const b=g.sender.getParameters();b.encodings.forEach((j,M)=>{b.encodings[M]={...j,...h}}),await g.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(C,b.encodings);const E=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(C){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:h,maxRetransmits:g,label:b,protocol:E}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:h,maxRetransmits:g,protocol:E};S.debug("sendDataChannel() [options:%o]",k);const j=this._pc.createDataChannel(b,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),A=n.parse(N.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const U={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._hasDataChannelMediaSection=!0}const M={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:j,sctpStreamParameters:M}}async receive(C){this.assertNotClosed(),this.assertRecvDirection();const h=[],g=new Map;for(const j of C){const{trackId:M,kind:N,rtpParameters:A,streamId:O}=j;S.debug("receive() [trackId:%s, kind:%s]",M,N);const U=A.mid??String(this._mapMidTransceiver.size);g.set(M,U),this._remoteSdp.receive({mid:U,kind:N,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:M})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);let E=await this._pc.createAnswer();const k=n.parse(E.sdp);for(const j of C){const{trackId:M,rtpParameters:N}=j,A=g.get(M),O=k.media.find(U=>String(U.mid)===A);u.applyCodecParameters({offerRtpParameters:N,answerMediaObject:O}),E={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",E),await this._pc.setLocalDescription(E);for(const j of C){const{trackId:M}=j,N=g.get(M),A=this._pc.getTransceivers().find(O=>O.mid===N);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(N,A),h.push({localId:N,track:A.receiver.track,rtpReceiver:A.receiver})}return h}async stopReceiving(C){if(this.assertRecvDirection(),this._closed)return;for(const b of C){S.debug("stopReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(E.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const b of C)this._mapMidTransceiver.delete(b)}async pauseReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const b of C){S.debug("pauseReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="inactive",this._remoteSdp.pauseMediaSection(b)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const b of C){S.debug("resumeReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(b)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(C){this.assertRecvDirection();const h=this._mapMidTransceiver.get(C);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:h,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:b,ordered:E,maxPacketLifeTime:k,maxRetransmits:j}=C,M={negotiated:!0,id:b,ordered:E,maxPacketLifeTime:k,maxRetransmits:j,protocol:g};S.debug("receiveDataChannel() [options:%o]",M);const N=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const U=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:U})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:C,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:h});g.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((b,E)=>{this.safeEmit("@connect",{dtlsParameters:g},b,E)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new i.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Bn.Firefox60=R,Bn}var Un={},_x;function sF(){if(_x)return Un;_x=1;var e=Un&&Un.__createBinding||(Object.create?function(C,h,g,b){b===void 0&&(b=g);var E=Object.getOwnPropertyDescriptor(h,g);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(C,b,E)}:function(C,h,g,b){b===void 0&&(b=g),C[b]=h[g]}),t=Un&&Un.__setModuleDefault||(Object.create?function(C,h){Object.defineProperty(C,"default",{enumerable:!0,value:h})}:function(C,h){C.default=h}),r=Un&&Un.__importStar||function(C){if(C&&C.__esModule)return C;var h={};if(C!=null)for(var g in C)g!=="default"&&Object.prototype.hasOwnProperty.call(C,g)&&e(h,C,g);return t(h,C),h};Object.defineProperty(Un,"__esModule",{value:!0}),Un.Safari12=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Ii()),d=r(Up()),m=Mr(),v=ln(),y=os(),S=Oo(),w=new s.Logger("Safari12"),x="Safari12",R={OS:1024,MIS:1024};let T=class GT extends v.HandlerInterface{static createFactory(){return()=>new GT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{h.addTransceiver("audio"),h.addTransceiver("video");const g=await h.createOffer();try{h.close()}catch{}const b=n.parse(g.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(g){try{h.close()}catch{}throw g}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:h,iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k,iceServers:j,iceTransportPolicy:M,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),w.debug("run()"),this._direction=h,this._remoteSdp=new y.RemoteSdp({iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(h){this.assertNotClosed(),w.debug("updateIceServers()");const g=this._pc.getConfiguration();g.iceServers=h,this._pc.setConfiguration(g)}async restartIce(h){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const g=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:g,codecOptions:b,codec:E,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",h.kind,h.id);const j=i.clone(this._sendingRtpParametersByKind[h.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const M=i.clone(this._sendingRemoteRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,E);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream]});k&&k(A.sender);let O=await this._pc.createOffer(),U=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:U});const K=(0,S.parse)((g??[{}])[0].scalabilityMode);g&&g.length>1&&(w.debug("send() | enabling legacy simulcast"),U=n.parse(O.sdp),W=U.media[N.idx],u.addLegacySimulcast({offerMediaObject:W,numStreams:g.length}),O={type:"offer",sdp:n.write(U)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const L=A.mid;if(j.mid=L,U=n.parse(this._pc.localDescription.sdp),W=U.media[N.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),j.encodings=u.getRtpEncodings({offerMediaObject:W}),g)for(let $=0;$<j.encodings.length;++$)g[$]&&Object.assign(j.encodings[$],g[$]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of j.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${K.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:M,codecOptions:b});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),this._mapMidTransceiver.set(L,A),{localId:L,rtpParameters:j,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),this._closed)return;w.debug("stopSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");if(g.sender.replaceTrack(null),this._pc.removeTrack(g.sender),this._remoteSdp.closeMediaSection(g.mid))try{g.stop()}catch{}const E=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="inactive",this._remoteSdp.pauseMediaSection(h);const b=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(h);const b=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(h,g){this.assertNotClosed(),this.assertSendDirection(),g?w.debug("replaceTrack() [localId:%s, track.id:%s]",h,g.id):w.debug("replaceTrack() [localId:%s, no track]",h);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(g)}async setMaxSpatialLayer(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{N<=g?M.active=!0:M.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{E.encodings[N]={...M,...g}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:g,maxRetransmits:b,label:E,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:g,maxRetransmits:b,protocol:k};w.debug("sendDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),U=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const W={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:M,sctpStreamParameters:N}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const g=[],b=new Map;for(const M of h){const{trackId:N,kind:A,rtpParameters:O,streamId:U}=M;w.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:U??O.rtcp.cname,trackId:N})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const M of h){const{trackId:N,onRtpReceiver:A}=M;if(A){const O=b.get(N),U=this._pc.getTransceivers().find(W=>W.mid===O);if(!U)throw new Error("transceiver not found");A(U.receiver)}}let k=await this._pc.createAnswer();const j=n.parse(k.sdp);for(const M of h){const{trackId:N,rtpParameters:A}=M,O=b.get(N),U=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:U})}k={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const M of h){const{trackId:N}=M,A=b.get(N),O=this._pc.getTransceivers().find(U=>U.mid===A);if(!O)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,O),g.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver})}return g}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const E of h){w.debug("stopReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of h)this._mapMidTransceiver.delete(E)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("pauseReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("resumeReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:g,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M}=h,N={negotiated:!0,id:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M,protocol:b};w.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(g,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const U=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(U.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:g}){g||(g=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:g});b.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((E,k)=>{this.safeEmit("@connect",{dtlsParameters:b},E,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Un.Safari12=T,Un}var Vn={},xx;function oF(){if(xx)return Vn;xx=1;var e=Vn&&Vn.__createBinding||(Object.create?function(x,R,T,C){C===void 0&&(C=T);var h=Object.getOwnPropertyDescriptor(R,T);(!h||("get"in h?!R.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(x,C,h)}:function(x,R,T,C){C===void 0&&(C=T),x[C]=R[T]}),t=Vn&&Vn.__setModuleDefault||(Object.create?function(x,R){Object.defineProperty(x,"default",{enumerable:!0,value:R})}:function(x,R){x.default=R}),r=Vn&&Vn.__importStar||function(x){if(x&&x.__esModule)return x;var R={};if(x!=null)for(var T in x)T!=="default"&&Object.prototype.hasOwnProperty.call(x,T)&&e(R,x,T);return t(R,x),R};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.Safari11=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Vp()),d=ln(),m=os(),v=new s.Logger("Safari11"),y="Safari11",S={OS:1024,MIS:1024};let w=class KT extends d.HandlerInterface{static createFactory(){return()=>new KT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return y}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const C=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:C})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:R,iceParameters:T,iceCandidates:C,dtlsParameters:h,sctpParameters:g,iceServers:b,iceTransportPolicy:E,additionalSettings:k,proprietaryConstraints:j,extendedRtpCapabilities:M}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:C,dtlsParameters:h,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",M),video:c.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",M),video:c.getSendingRemoteRtpParameters("video",M)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:b??[],iceTransportPolicy:E??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const C={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const C=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:C,codec:h}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),h&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let g=await this._pc.createOffer(),b=n.parse(g.sdp),E;const k=i.clone(this._sendingRtpParametersByKind[R.kind]);k.codecs=c.reduceCodecs(k.codecs);const j=i.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),b=n.parse(g.sdp),E=b.media.find(O=>O.type==="video"),u.addLegacySimulcast({offerMediaObject:E,track:R,numStreams:T.length}),g={type:"offer",sdp:n.write(b)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),b=n.parse(this._pc.localDescription.sdp),E=b.media.find(O=>O.type===R.kind),k.rtcp.cname=l.getCname({offerMediaObject:E}),k.encodings=u.getRtpEncodings({offerMediaObject:E,track:R}),T)for(let O=0;O<k.encodings.length;++O)T[O]&&Object.assign(k.encodings[O],T[O]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of k.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:E,offerRtpParameters:k,answerRtpParameters:j,codecOptions:C});const M={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const N=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===R);return this._mapSendLocalIdRtpSender.set(N,A),{localId:N,rtpParameters:k,rtpSender:A}}async stopSending(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const C=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C);try{await this._pc.setLocalDescription(C)}catch(g){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.track;await C.replaceTrack(T),h&&this._sendStream.removeTrack(h),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.getParameters();h.encodings.forEach((g,b)=>{b<=T?g.active=!0:g.active=!1}),await C.setParameters(h)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const C=this._mapSendLocalIdRtpSender.get(R);if(!C)throw new Error("associated RTCRtpSender not found");const h=C.getParameters();h.encodings.forEach((g,b)=>{h.encodings[b]={...g,...T}}),await C.setParameters(h)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:C,label:h,protocol:g}){this.assertSendDirection();const b={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmits:C,protocol:g};v.debug("sendDataChannel() [options:%o]",b);const E=this._pc.createDataChannel(h,b);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),M=n.parse(j.sdp),N=M.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:b.id,ordered:b.ordered,maxPacketLifeTime:b.maxPacketLifeTime,maxRetransmits:b.maxRetransmits};return{dataChannel:E,sctpStreamParameters:k}}async receive(R){this.assertRecvDirection();const T=[];for(const b of R){const{trackId:E,kind:k,rtpParameters:j,streamId:M}=b;v.debug("receive() [trackId:%s, kind:%s]",E,k);const N=k;this._remoteSdp.receive({mid:N,kind:k,offerRtpParameters:j,streamId:M??j.rtcp.cname,trackId:E})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);let h=await this._pc.createAnswer();const g=n.parse(h.sdp);for(const b of R){const{kind:E,rtpParameters:k}=b,j=E,M=g.media.find(N=>String(N.mid)===j);l.applyCodecParameters({offerRtpParameters:k,answerMediaObject:M})}h={type:"answer",sdp:n.write(g)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const b of R){const{kind:E,trackId:k,rtpParameters:j}=b,M=E,N=k,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===N);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(N,{mid:M,rtpParameters:j,rtpReceiver:A}),T.push({localId:N,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const h of R){v.debug("stopReceiving() [localId:%s]",h);const{mid:g,rtpParameters:b}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:b})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const C=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async pauseReceiving(R){}async resumeReceiving(R){}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:C}){this.assertRecvDirection();const{streamId:h,ordered:g,maxPacketLifeTime:b,maxRetransmits:E}=R,k={negotiated:!0,id:h,ordered:g,maxPacketLifeTime:b,maxRetransmits:E,protocol:C};v.debug("receiveDataChannel() [options:%o]",k);const j=this._pc.createDataChannel(T,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const N=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const C=l.extractDtlsParameters({sdpObject:T});C.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((h,g)=>{this.safeEmit("@connect",{dtlsParameters:C},h,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Vn.Safari11=w,Vn}var Hn={},Wn={},Cx;function iF(){if(Cx)return Wn;Cx=1;var e=Wn&&Wn.__createBinding||(Object.create?function(c,l,u,d){d===void 0&&(d=u);var m=Object.getOwnPropertyDescriptor(l,u);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(c,d,m)}:function(c,l,u,d){d===void 0&&(d=u),c[d]=l[u]}),t=Wn&&Wn.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=Wn&&Wn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var u in c)u!=="default"&&Object.prototype.hasOwnProperty.call(c,u)&&e(l,c,u);return t(l,c),l};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.getCapabilities=s,Wn.mangleRtpParameters=i;const n=r(mr());function s(){const c=RTCRtpReceiver.getCapabilities(),l=n.clone(c);for(const u of l.codecs??[]){if(u.channels=u.numChannels,delete u.numChannels,u.mimeType=u.mimeType??`${u.kind}/${u.name}`,u.parameters){const d=u.parameters;d.apt&&(d.apt=Number(d.apt)),d["packetization-mode"]&&(d["packetization-mode"]=Number(d["packetization-mode"]))}for(const d of u.rtcpFeedback??[])d.parameter||(d.parameter="")}return l}function i(c){const l=n.clone(c);l.mid&&(l.muxId=l.mid,delete l.mid);for(const u of l.codecs)u.channels&&(u.numChannels=u.channels,delete u.channels),u.mimeType&&!u.name&&(u.name=u.mimeType.split("/")[1]),delete u.mimeType;return l}return Wn}var Rx;function aF(){if(Rx)return Hn;Rx=1;var e=Hn&&Hn.__createBinding||(Object.create?function(y,S,w,x){x===void 0&&(x=w);var R=Object.getOwnPropertyDescriptor(S,w);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[w]}}),Object.defineProperty(y,x,R)}:function(y,S,w,x){x===void 0&&(x=w),y[x]=S[w]}),t=Hn&&Hn.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),r=Hn&&Hn.__importStar||function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&e(S,y,w);return t(S,y),S};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.Edge11=void 0;const n=Kt(),s=Mr(),i=r(mr()),c=r(Xr()),l=r(iF()),u=ln(),d=new n.Logger("Edge11"),m="Edge11";let v=class XT extends u.HandlerInterface{static createFactory(){return()=>new XT}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return m}close(){d.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return d.debug("getNativeRtpCapabilities()"),l.getCapabilities()}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:w,iceCandidates:x,dtlsParameters:R,sctpParameters:T,iceServers:C,iceTransportPolicy:h,additionalSettings:g,proprietaryConstraints:b,extendedRtpCapabilities:E}){d.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",E),video:c.getSendingRtpParameters("video",E)},this._remoteIceParameters=w,this._remoteIceCandidates=x,this._remoteDtlsParameters=R,this._cname=`CNAME-${i.generateRandomNumber()}`,this.setIceGatherer({iceServers:C,iceTransportPolicy:h}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new s.UnsupportedError("not supported")}async restartIce(S){if(d.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){d.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const w of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(w);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:w,codecOptions:x,codec:R}){d.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),d.debug("send() | calling new RTCRtpSender()");const T=new RTCRtpSender(S,this._dtlsTransport),C=i.clone(this._sendingRtpParametersByKind[S.kind]);C.codecs=c.reduceCodecs(C.codecs,R);const h=C.codecs.some(E=>/.+\/rtx$/i.test(E.mimeType));w||(w=[{}]);for(const E of w)E.ssrc=i.generateRandomNumber(),h&&(E.rtx={ssrc:i.generateRandomNumber()});C.encodings=w,C.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const g=l.mangleRtpParameters(C);d.debug("send() | calling rtpSender.send() [params:%o]",g),await T.send(g);const b=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(b,T),{localId:b,rtpParameters:C,rtpSender:T}}async stopSending(S){d.debug("stopSending() [localId:%s]",S);const w=this._rtpSenders.get(S);if(!w)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{d.debug("stopSending() | calling rtpSender.stop()"),w.stop()}catch(x){throw d.warn("stopSending() | rtpSender.stop() failed:%o",x),x}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,w){w?d.debug("replaceTrack() [localId:%s, track.id:%s]",S,w.id):d.debug("replaceTrack() [localId:%s, no track]",S);const x=this._rtpSenders.get(S);if(!x)throw new Error("RTCRtpSender not found");x.setTrack(w)}async setMaxSpatialLayer(S,w){d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,w);const x=this._rtpSenders.get(S);if(!x)throw new Error("RTCRtpSender not found");const R=x.getParameters();R.encodings.forEach((T,C)=>{C<=w?T.active=!0:T.active=!1}),await x.setParameters(R)}async setRtpEncodingParameters(S,w){d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,w);const x=this._rtpSenders.get(S);if(!x)throw new Error("RTCRtpSender not found");const R=x.getParameters();R.encodings.forEach((T,C)=>{R.encodings[C]={...T,...w}}),await x.setParameters(R)}async getSenderStats(S){const w=this._rtpSenders.get(S);if(!w)throw new Error("RTCRtpSender not found");return w.getStats()}async sendDataChannel(S){throw new s.UnsupportedError("not implemented")}async receive(S){const w=[];for(const x of S){const{trackId:R,kind:T}=x;d.debug("receive() [trackId:%s, kind:%s]",R,T)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const x of S){const{trackId:R,kind:T,rtpParameters:C}=x;d.debug("receive() | calling new RTCRtpReceiver()");const h=new RTCRtpReceiver(this._dtlsTransport,T);h.addEventListener("error",E=>{d.error('rtpReceiver "error" event [event:%o]',E)});const g=l.mangleRtpParameters(C);d.debug("receive() | calling rtpReceiver.receive() [params:%o]",g),await h.receive(g);const b=R;this._rtpReceivers.set(b,h),w.push({localId:b,track:h.track,rtpReceiver:h})}return w}async stopReceiving(S){for(const w of S){d.debug("stopReceiving() [localId:%s]",w);const x=this._rtpReceivers.get(w);if(!x)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(w);try{d.debug("stopReceiving() | calling rtpReceiver.stop()"),x.stop()}catch(R){d.warn("stopReceiving() | rtpReceiver.stop() failed:%o",R)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const w=this._rtpReceivers.get(S);if(!w)throw new Error("RTCRtpReceiver not found");return w.getStats()}async receiveDataChannel(S){throw new s.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:w}){const x=new RTCIceGatherer({iceServers:S??[],gatherPolicy:w??"all"});x.addEventListener("error",R=>{d.error('iceGatherer "error" event [event:%o]',R)});try{x.gather()}catch(R){d.debug("setIceGatherer() | iceGatherer.gather() failed: %s",R.toString())}this._iceGatherer=x}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",w=>{d.debug('iceTransport "candidatepairchange" event [pair:%o]',w.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{d.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{d.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",w=>{d.error('dtlsTransport "error" event [event:%o]',w)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){d.debug("setupTransport()");const w=this._dtlsTransport.getLocalParameters();w.role=S,await new Promise((x,R)=>{this.safeEmit("@connect",{dtlsParameters:w},x,R)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const x of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(x);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(x=>x.algorithm==="sha-256"||x.algorithm==="sha-384"||x.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return Hn.Edge11=v,Hn}var qn={},Ex;function cF(){if(Ex)return qn;Ex=1;var e=qn&&qn.__createBinding||(Object.create?function(C,h,g,b){b===void 0&&(b=g);var E=Object.getOwnPropertyDescriptor(h,g);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(C,b,E)}:function(C,h,g,b){b===void 0&&(b=g),C[b]=h[g]}),t=qn&&qn.__setModuleDefault||(Object.create?function(C,h){Object.defineProperty(C,"default",{enumerable:!0,value:h})}:function(C,h){C.default=h}),r=qn&&qn.__importStar||function(C){if(C&&C.__esModule)return C;var h={};if(C!=null)for(var g in C)g!=="default"&&Object.prototype.hasOwnProperty.call(C,g)&&e(h,C,g);return t(h,C),h};Object.defineProperty(qn,"__esModule",{value:!0}),qn.ReactNativeUnifiedPlan=void 0;const n=r(Yr()),s=Kt(),i=r(mr()),c=r(Xr()),l=r(ss()),u=r(Ii()),d=r(Up()),m=Mr(),v=ln(),y=os(),S=Oo(),w=new s.Logger("ReactNativeUnifiedPlan"),x="ReactNativeUnifiedPlan",R={OS:1024,MIS:1024};let T=class YT extends v.HandlerInterface{static createFactory(){return()=>new YT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const g=await h.createOffer();try{h.close()}catch{}const b=n.parse(g.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(g){try{h.close()}catch{}throw g}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:h,iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k,iceServers:j,iceTransportPolicy:M,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),w.debug("run()"),this._direction=h,this._remoteSdp=new y.RemoteSdp({iceParameters:g,iceCandidates:b,dtlsParameters:E,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(h){this.assertNotClosed(),w.debug("updateIceServers()");const g=this._pc.getConfiguration();g.iceServers=h,this._pc.setConfiguration(g)}async restartIce(h){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const g=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:g,codecOptions:b,codec:E,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),g&&g.length>1&&g.forEach((B,H)=>{B.rid=`r${H}`});const j=i.clone(this._sendingRtpParametersByKind[h.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const M=i.clone(this._sendingRemoteRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,E);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:g});k&&k(A.sender);let O=await this._pc.createOffer(),U=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:U});let K=!1;const L=(0,S.parse)((g??[{}])[0].scalabilityMode);g&&g.length===1&&L.spatialLayers>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),K=!0,U=n.parse(O.sdp),W=U.media[N.idx],u.addLegacySimulcast({offerMediaObject:W,numStreams:L.spatialLayers}),O={type:"offer",sdp:n.write(U)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);let F=A.mid??void 0;if(F||w.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),j.mid=F,U=n.parse(this._pc.localDescription.sdp),W=U.media[N.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),!g)j.encodings=u.getRtpEncodings({offerMediaObject:W});else if(g.length===1){let B=u.getRtpEncodings({offerMediaObject:W});Object.assign(B[0],g[0]),K&&(B=[B[0]]),j.encodings=B}else j.encodings=g;if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const B of j.encodings)B.scalabilityMode?B.scalabilityMode=`L1T${L.temporalLayers}`:B.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:M,codecOptions:b,extmapAllowMixed:!0});const $={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",$),await this._pc.setRemoteDescription($),F||(F=A.mid,j.mid=F),this._mapMidTransceiver.set(F,A),{localId:F,rtpParameters:j,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),this._closed)return;w.debug("stopSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");if(g.sender.replaceTrack(null),this._pc.removeTrack(g.sender),this._remoteSdp.closeMediaSection(g.mid))try{g.stop()}catch{}const E=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const k={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="inactive",this._remoteSdp.pauseMediaSection(h);const b=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",h);const g=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!g)throw new Error("associated RTCRtpTransceiver not found");g.direction="sendonly";const b=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(h,g){this.assertNotClosed(),this.assertSendDirection(),g?w.debug("replaceTrack() [localId:%s, track.id:%s]",h,g.id):w.debug("replaceTrack() [localId:%s, no track]",h);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(g)}async setMaxSpatialLayer(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{N<=g?M.active=!0:M.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(h,g){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,g);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((M,N)=>{E.encodings[N]={...M,...g}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(h,E.encodings);const k=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:g,maxRetransmits:b,label:E,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:g,maxRetransmits:b,protocol:k};w.debug("sendDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),U=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const W={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:M,sctpStreamParameters:N}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const g=[],b=new Map;for(const M of h){const{trackId:N,kind:A,rtpParameters:O,streamId:U}=M;w.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:U??O.rtcp.cname,trackId:N})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const M of h){const{trackId:N,onRtpReceiver:A}=M;if(A){const O=b.get(N),U=this._pc.getTransceivers().find(W=>W.mid===O);if(!U)throw new Error("transceiver not found");A(U.receiver)}}let k=await this._pc.createAnswer();const j=n.parse(k.sdp);for(const M of h){const{trackId:N,rtpParameters:A}=M,O=b.get(N),U=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:U})}k={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const M of h){const{trackId:N}=M,A=b.get(N),O=this._pc.getTransceivers().find(U=>U.mid===A);if(O)this._mapMidTransceiver.set(A,O),g.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return g}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const E of h){w.debug("stopReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of h)this._mapMidTransceiver.delete(E)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("pauseReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const E of h){w.debug("resumeReceiving() [localId:%s]",E);const k=this._mapMidTransceiver.get(E);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const g={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);const b=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const g=this._mapMidTransceiver.get(h);if(!g)throw new Error("associated RTCRtpTransceiver not found");return g.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:g,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M}=h,N={negotiated:!0,id:E,ordered:k,maxPacketLifeTime:j,maxRetransmits:M,protocol:b};w.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(g,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const U=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(U.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:g}){g||(g=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:g});b.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((E,k)=>{this.safeEmit("@connect",{dtlsParameters:b},E,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return qn.ReactNativeUnifiedPlan=T,qn}var Gn={},Tx;function lF(){if(Tx)return Gn;Tx=1;var e=Gn&&Gn.__createBinding||(Object.create?function(R,T,C,h){h===void 0&&(h=C);var g=Object.getOwnPropertyDescriptor(T,C);(!g||("get"in g?!T.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(R,h,g)}:function(R,T,C,h){h===void 0&&(h=C),R[h]=T[C]}),t=Gn&&Gn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=Gn&&Gn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var C in R)C!=="default"&&Object.prototype.hasOwnProperty.call(R,C)&&e(T,R,C);return t(T,R),T};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.ReactNative=void 0;const n=r(Yr()),s=Kt(),i=Mr(),c=r(mr()),l=r(Xr()),u=r(ss()),d=r(Vp()),m=ln(),v=os(),y=new s.Logger("ReactNative"),S="ReactNative",w={OS:1024,MIS:1024};let x=class QT extends m.HandlerInterface{static createFactory(){return()=>new QT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(y.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const C=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const h=n.parse(C.sdp);return u.extractRtpCapabilities({sdpObject:h})}catch(C){try{T.close()}catch{}throw C}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:T,iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b,iceServers:E,iceTransportPolicy:k,additionalSettings:j,proprietaryConstraints:M,extendedRtpCapabilities:N}){y.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:C,iceCandidates:h,dtlsParameters:g,sctpParameters:b,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",N),video:l.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",N),video:l.getSendingRemoteRtpParameters("video",N)},g.role&&g.role!=="auto"&&(this._forcedLocalDtlsRole=g.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){y.debug("updateIceServers()");const C=this._pc.getConfiguration();C.iceServers=T,this._pc.setConfiguration(C)}async restartIce(T){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const C=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const h={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:C,codecOptions:h,codec:g}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),g&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let b=await this._pc.createOffer(),E=n.parse(b.sdp),k;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const M=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(M.codecs=l.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),T.kind==="video"&&C&&C.length>1&&(y.debug("send() | enabling simulcast"),E=n.parse(b.sdp),k=E.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:k,track:T,numStreams:C.length}),b={type:"offer",sdp:n.write(E)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b),E=n.parse(this._pc.localDescription.sdp),k=E.media.find(O=>O.type===T.kind),j.rtcp.cname=u.getCname({offerMediaObject:k}),j.encodings=d.getRtpEncodings({offerMediaObject:k,track:T}),C)for(let O=0;O<j.encodings.length;++O)C[O]&&Object.assign(j.encodings[O],C[O]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:j,answerRtpParameters:M,codecOptions:h});const N={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",T);const C=this._mapSendLocalIdTrack.get(T);if(!C)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(C),this._pc.addStream(this._sendStream);const h=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h);try{await this._pc.setLocalDescription(h)}catch(b){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",b.toString());return}throw b}if(this._pc.signalingState==="stable")return;const g={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,C){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,C){throw new i.UnsupportedError("not implemented")}async setRtpEncodingParameters(T,C){throw new i.UnsupportedError("not implemented")}async getSenderStats(T){throw new i.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:C,maxRetransmits:h,label:g,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:h,protocol:b};y.debug("sendDataChannel() [options:%o]",E);const k=this._pc.createDataChannel(g,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),N=n.parse(M.sdp),A=N.media.find(U=>U.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:k,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const C=[],h=new Map;for(const k of T){const{trackId:j,kind:M,rtpParameters:N}=k;y.debug("receive() [trackId:%s, kind:%s]",j,M);const A=M;let O=k.streamId??N.rtcp.cname;y.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),O+=`-hack-${c.generateRandomNumber()}`,h.set(j,O),this._remoteSdp.receive({mid:A,kind:M,offerRtpParameters:N,streamId:O,trackId:j})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);let b=await this._pc.createAnswer();const E=n.parse(b.sdp);for(const k of T){const{kind:j,rtpParameters:M}=k,N=j,A=E.media.find(O=>String(O.mid)===N);u.applyCodecParameters({offerRtpParameters:M,answerMediaObject:A})}b={type:"answer",sdp:n.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const k of T){const{kind:j,trackId:M,rtpParameters:N}=k,A=M,O=j,U=h.get(M),K=this._pc.getRemoteStreams().find(L=>L.id===U).getTrackById(A);if(!K)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:O,rtpParameters:N}),C.push({localId:A,track:K})}return C}async stopReceiving(T){this.assertRecvDirection();for(const g of T){y.debug("stopReceiving() [localId:%s]",g);const{mid:b,rtpParameters:E}=this._mapRecvLocalIdInfo.get(g)??{};this._mapRecvLocalIdInfo.delete(g),this._remoteSdp.planBStopReceiving({mid:b,offerRtpParameters:E})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const h=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new i.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:C,protocol:h}){this.assertRecvDirection();const{streamId:g,ordered:b,maxPacketLifeTime:E,maxRetransmits:k}=T,j={negotiated:!0,id:g,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:k,protocol:h};y.debug("receiveDataChannel() [options:%o]",j);const M=this._pc.createDataChannel(C,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:T,localSdpObject:C}){C||(C=n.parse(this._pc.localDescription.sdp));const h=u.extractDtlsParameters({sdpObject:C});h.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((g,b)=>{this.safeEmit("@connect",{dtlsParameters:h},g,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Gn.ReactNative=x,Gn}var kx;function JT(){if(kx)return gn;kx=1;var e=gn&&gn.__createBinding||(Object.create?function(M,N,A,O){O===void 0&&(O=A);var U=Object.getOwnPropertyDescriptor(N,A);(!U||("get"in U?!N.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return N[A]}}),Object.defineProperty(M,O,U)}:function(M,N,A,O){O===void 0&&(O=A),M[O]=N[A]}),t=gn&&gn.__setModuleDefault||(Object.create?function(M,N){Object.defineProperty(M,"default",{enumerable:!0,value:N})}:function(M,N){M.default=N}),r=gn&&gn.__importStar||function(M){if(M&&M.__esModule)return M;var N={};if(M!=null)for(var A in M)A!=="default"&&Object.prototype.hasOwnProperty.call(M,A)&&e(N,M,A);return t(N,M),N};Object.defineProperty(gn,"__esModule",{value:!0}),gn.Device=void 0,gn.detectDevice=k;const n=B6(),s=Kt(),i=Pi(),c=Mr(),l=r(mr()),u=r(Xr()),d=$T(),m=Q6(),v=J6(),y=Z6(),S=eF(),w=tF(),x=rF(),R=nF(),T=sF(),C=oF(),h=aF(),g=cF(),b=lF(),E=new s.Logger("Device");function k(M){var N,A,O,U;if(!M&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(E.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){E.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(E.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(E.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(M||typeof navigator=="object"&&typeof navigator.userAgent=="string"){M??(M=navigator.userAgent);const W=new n.UAParser(M);E.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",M,W.getResult());const K=W.getBrowser(),L=(N=K.name)==null?void 0:N.toLowerCase(),F=parseInt(K.major??"0"),B=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),H=W.getOS(),V=(O=H.name)==null?void 0:O.toLowerCase(),G=parseFloat(H.version??"0"),le=(U=W.getDevice().model)==null?void 0:U.toLowerCase(),Q=V==="ios"||le==="ipad",ie=L&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(L),fe=L&&["firefox","mobile firefox","mobile focus"].includes(L),ce=L&&["safari","mobile safari"].includes(L),ye=L&&["edge"].includes(L);if((ie||ye)&&!Q&&F>=111)return"Chrome111";if(ie&&!Q&&F>=74||ye&&!Q&&F>=88)return"Chrome74";if(ie&&!Q&&F>=70)return"Chrome70";if(ie&&!Q&&F>=67)return"Chrome67";if(ie&&!Q&&F>=55)return"Chrome55";if(fe&&!Q&&F>=120)return"Firefox120";if(fe&&!Q&&F>=60)return"Firefox60";if(fe&&Q&&G>=14.3)return"Safari12";if(ce&&F>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(ce&&F>=11)return"Safari11";if(ye&&!Q&&F>=11&&F<=18)return"Edge11";if(B==="webkit"&&Q&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(B==="blink"){const Oe=M.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Oe){const Ae=Number(Oe[1]);return Ae>=111?"Chrome111":Ae>=74?"Chrome74":Ae>=70?"Chrome70":Ae>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{E.warn("detectDevice() | browser not supported [name:%s, version:%s]",L,F);return}}else{E.warn("detectDevice() | unknown device");return}}let j=class{constructor({handlerName:N,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new i.EnhancedEventEmitter,E.debug("constructor()"),N&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(N)E.debug("constructor() | handler given: %s",N);else if(N=k(),N)E.debug("constructor() | detected handler: %s",N);else throw new c.UnsupportedError("device not supported");switch(N){case"Chrome111":{this._handlerFactory=m.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=v.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=y.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=w.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=x.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=R.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=T.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=C.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=h.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=g.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=b.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${N}"`)}}const O=this._handlerFactory();this._handlerName=O.name,O.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:N}){E.debug("load() [routerRtpCapabilities:%o]",N);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const O=l.clone(N);u.validateRtpCapabilities(O),A=this._handlerFactory();const U=await A.getNativeRtpCapabilities();E.debug("load() | got native RTP capabilities:%o",U);const W=l.clone(U);u.validateRtpCapabilities(W),this._extendedRtpCapabilities=u.getExtendedRtpCapabilities(W,O),E.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=u.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=u.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=u.getRecvRtpCapabilities(this._extendedRtpCapabilities),u.validateRtpCapabilities(this._recvRtpCapabilities),E.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),E.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),u.validateSctpCapabilities(this._sctpCapabilities),E.debug("load() succeeded"),this._loaded=!0,A.close()}catch(O){throw A&&A.close(),O}}canProduce(N){if(this._loaded){if(N!=="audio"&&N!=="video")throw new TypeError(`invalid kind "${N}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[N]}createSendTransport({id:N,iceParameters:A,iceCandidates:O,dtlsParameters:U,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:B}){return E.debug("createSendTransport()"),this.createTransport({direction:"send",id:N,iceParameters:A,iceCandidates:O,dtlsParameters:U,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:B})}createRecvTransport({id:N,iceParameters:A,iceCandidates:O,dtlsParameters:U,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:B}){return E.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:N,iceParameters:A,iceCandidates:O,dtlsParameters:U,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:B})}createTransport({direction:N,id:A,iceParameters:O,iceCandidates:U,dtlsParameters:W,sctpParameters:K,iceServers:L,iceTransportPolicy:F,additionalSettings:$,proprietaryConstraints:B,appData:H}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof O!="object")throw new TypeError("missing iceParameters");if(Array.isArray(U)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(K&&typeof K!="object")throw new TypeError("wrong sctpParameters");if(H&&typeof H!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const V=new d.Transport({direction:N,id:A,iceParameters:O,iceCandidates:U,dtlsParameters:W,sctpParameters:K,iceServers:L,iceTransportPolicy:F,additionalSettings:$,proprietaryConstraints:B,appData:H,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",V),V}};return gn.Device=j,gn}var ti={},Lg={},Px;function dF(){return Px||(Px=1,Object.defineProperty(Lg,"__esModule",{value:!0})),Lg}var Og={},Ix;function uF(){return Ix||(Ix=1,Object.defineProperty(Og,"__esModule",{value:!0})),Og}var jx;function fF(){return jx||(jx=1,function(e){var t=ti&&ti.__createBinding||(Object.create?function(n,s,i,c){c===void 0&&(c=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,c,l)}:function(n,s,i,c){c===void 0&&(c=i),n[c]=s[i]}),r=ti&&ti.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(JT(),e),r($T(),e),r(NT(),e),r(LT(),e),r(OT(),e),r(AT(),e),r(dF(),e),r(uF(),e),r(ln(),e),r(Mr(),e)}(ti)),ti}var Dx;function pF(){return Dx||(Dx=1,function(e){var t=Mn&&Mn.__createBinding||(Object.create?function(d,m,v,y){y===void 0&&(y=v);var S=Object.getOwnPropertyDescriptor(m,v);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(d,y,S)}:function(d,m,v,y){y===void 0&&(y=v),d[y]=m[v]}),r=Mn&&Mn.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),n=Mn&&Mn.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&t(m,d,v);return r(m,d),m},s=Mn&&Mn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const i=s(Bp());e.debug=i.default;const c=JT();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=n(fF());e.types=l,e.version="3.7.17";var u=Oo();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return u.parse}})}(Mn)),Mn}var hF=pF();const mF=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],gF=async(e,t,r,n,s)=>new Promise((i,c)=>{Je.emit("joinRoom",{roomName:e,userName:t,userId:r,serverId:n,accessToken:s},l=>{l.error?c(l.error):i(l.rtpCapabilities)})}),vF=async e=>{const t=new hF.Device;return await t.load({routerRtpCapabilities:e}),t},yF=async(e,t,r,n)=>new Promise((s,i)=>{Je.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){i(c.error);return}const l=e.createSendTransport(c);l.on("connect",({dtlsParameters:d},m)=>{Je.emit("transport-connect",{dtlsParameters:d}),m()}),l.on("produce",(d,m)=>{const v=localStorage.getItem("accessToken");Je.emit("transport-produce",{kind:d.kind,rtpParameters:d.rtpParameters,appData:d.appData,accessToken:v},({id:y})=>{m({id:y}),wF(Je,e,n)})});const u=await l.produce({track:t});r(u),s(l),u.on("trackended",()=>{r(null)})})}),wF=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(s=>ZT(s,t,r))})},ZT=async(e,t,r)=>{Je.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const s=t.createRecvTransport(n);s.on("connect",({dtlsParameters:i},c)=>{Je.emit("transport-recv-connect",{dtlsParameters:i,serverConsumerTransportId:n.id}),c()}),SF(s,e,n.id,t,r)})},SF=async(e,t,r,n,s)=>{Je.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:i})=>{const{source:c,...l}=i,u=await e.consume({...l,appData:{source:c}});console.log(u.appData.source),s(u),Je.emit("consumer-resume",{serverConsumerId:i.serverConsumerId})})},We=Xj,re=Jj,bF=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:s}=ki();return async(c,l,u,d,m)=>{try{if(!Je.connected)throw new Error("Socket is not connected");const v=await mF(),y=await gF(c,l,u,d,m),S=await vF(y);r(S);const w=await yF(S,v,t,s);n(w),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}},Al=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:s,setIsStreaming:i,setAudioProducer:c,setVideoAudioProducer:l}=ki();return async(d,m)=>{s(!1),await new Promise(v=>{Je.once("leaveConfirmed",v),Je.emit("leaveRoom",{accessToken:d,voiceChannelId:m})}),e(!1),t(null),n([]),i(!1),c(null),r(null),l(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ek=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:c,...l},u)=>I.createElement("svg",{ref:u,...xF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ek("lucide",s),...l},[...c.map(([d,m])=>I.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const r=I.forwardRef(({className:n,...s},i)=>I.createElement(CF,{ref:i,iconNode:t,className:ek(`lucide-${_F(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],tk=Le("ArrowDown",RF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],TF=Le("ArrowLeftFromLine",EF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xw=Le("ArrowLeft",kF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],IF=Le("ArrowRight",PF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],DF=Le("Ban",jF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],NF=Le("BellRing",MF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],OF=Le("BookUser",LF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rk=Le("Calendar",AF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hp=Le("Check",$F);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$l=Le("ChevronDown",FF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BF=Le("ChevronLeft",zF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pi=Le("ChevronRight",UF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HF=Le("CircleCheck",VF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qF=Le("CirclePlus",WF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KF=Le("CircleX",GF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yw=Le("Copy",XF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],qv=Le("DoorOpen",YF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],JF=Le("EllipsisVertical",QF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]],e8=Le("FileArchive",ZF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],r8=Le("FileText",t8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],nk=Le("File",n8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sk=Le("Hash",s8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],i8=Le("House",o8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],c8=Le("ImageUp",a8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],d8=Le("Image",l8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],f8=Le("ListChecks",u8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ok=Le("LogOut",p8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],m8=Le("Mail",h8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],v8=Le("Menu",g8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],w8=Le("MessagesSquare",y8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ik=Le("MicOff",S8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],_8=Le("Mic",b8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],C8=Le("MonitorUp",x8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],E8=Le("MonitorX",R8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],ak=Le("Paperclip",T8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ck=Le("Pen",k8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wp=Le("Pencil",P8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],j8=Le("PhoneMissed",I8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Us=Le("Plus",D8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],Mx=Le("Reply",M8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qp=Le("Save",N8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],O8=Le("Search",L8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lk=Le("Send",A8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Va=Le("Settings",$8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],z8=Le("Tag",F8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gp=Le("Trash2",B8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],V8=Le("Unplug",U8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],W8=Le("Upload",H8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],G8=Le("UserCheck",q8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],X8=Le("UserPen",K8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q8=Le("UserMinus",Y8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dk=Le("UserPlus",J8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],uk=Le("UserRoundCog",Z8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],t9=Le("UserRoundPen",e9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fk=Le("User",r9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],s9=Le("UsersRound",n9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pk=Le("Users",o9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Gv=Le("Video",i9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],hk=Le("Volume2",a9);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ji=Le("X",c9);var Dt=(e=>(e.CHAT="CHAT",e.CHANNEL="CHANNEL",e))(Dt||{}),ku={exports:{}},l9=ku.exports,Nx;function d9(){return Nx||(Nx=1,function(e,t){(function(r,n){n()})(l9,function(){function r(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,m,v){var y=new XMLHttpRequest;y.open("GET",d),y.responseType="blob",y.onload=function(){u(y.response,m,v)},y.onerror=function(){console.error("could not download file")},y.send()}function s(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Gc=="object"&&Gc.global===Gc?Gc:void 0,l=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,m,v){var y=c.URL||c.webkitURL,S=document.createElement("a");m=m||d.name||"download",S.download=m,S.rel="noopener",typeof d=="string"?(S.href=d,S.origin===location.origin?i(S):s(S.href)?n(d,m,v):i(S,S.target="_blank")):(S.href=y.createObjectURL(d),setTimeout(function(){y.revokeObjectURL(S.href)},4e4),setTimeout(function(){i(S)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,v){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,v),m);else if(s(d))n(d,m,v);else{var y=document.createElement("a");y.href=d,y.target="_blank",setTimeout(function(){i(y)})}}:function(d,m,v,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof d=="string")return n(d,m,v);var S=d.type==="application/octet-stream",w=/constructor/i.test(c.HTMLElement)||c.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||S&&w||l)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var h=R.result;h=x?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=h:location=h,y=null},R.readAsDataURL(d)}else{var T=c.URL||c.webkitURL,C=T.createObjectURL(d);y?y.location=C:location.href=C,y=null,setTimeout(function(){T.revokeObjectURL(C)},4e4)}});c.saveAs=u.saveAs=u,e.exports=u})}(ku)),ku.exports}var u9=d9();const f9=Vf(u9),p9={message:()=>({background:"rgba(255,255,255,0.1)",padding:"4px 8px",borderRadius:6,cursor:"pointer"})};function dr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h9=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lx=h9,Ag=()=>Math.random().toString(36).substring(7).split("").join("."),m9={INIT:`@@redux/INIT${Ag()}`,REPLACE:`@@redux/REPLACE${Ag()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ag()}`},Nf=m9;function Qw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mk(e,t,r){if(typeof e!="function")throw new Error(dr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dr(1));return r(mk)(e,t)}let n=e,s=t,i=new Map,c=i,l=0,u=!1;function d(){c===i&&(c=new Map,i.forEach((R,T)=>{c.set(T,R)}))}function m(){if(u)throw new Error(dr(3));return s}function v(R){if(typeof R!="function")throw new Error(dr(4));if(u)throw new Error(dr(5));let T=!0;d();const C=l++;return c.set(C,R),function(){if(T){if(u)throw new Error(dr(6));T=!1,d(),c.delete(C),i=null}}}function y(R){if(!Qw(R))throw new Error(dr(7));if(typeof R.type>"u")throw new Error(dr(8));if(typeof R.type!="string")throw new Error(dr(17));if(u)throw new Error(dr(9));try{u=!0,s=n(s,R)}finally{u=!1}return(i=c).forEach(C=>{C()}),R}function S(R){if(typeof R!="function")throw new Error(dr(10));n=R,y({type:Nf.REPLACE})}function w(){const R=v;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(dr(11));function C(){const g=T;g.next&&g.next(m())}return C(),{unsubscribe:R(C)}},[Lx](){return this}}}return y({type:Nf.INIT}),{dispatch:y,subscribe:v,getState:m,replaceReducer:S,[Lx]:w}}function g9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nf.INIT})>"u")throw new Error(dr(12));if(typeof r(void 0,{type:Nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function v9(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const c=t[i];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let s;try{g9(r)}catch(i){s=i}return function(c={},l){if(s)throw s;let u=!1;const d={};for(let m=0;m<n.length;m++){const v=n[m],y=r[v],S=c[v],w=y(S,l);if(typeof w>"u")throw l&&l.type,new Error(dr(14));d[v]=w,u=u||w!==S}return u=u||n.length!==Object.keys(c).length,u?d:c}}function Lf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function y9(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(dr(15))};const c={getState:s.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(c));return i=Lf(...l)(s.dispatch),{...s,dispatch:i}}}function w9(e){return Qw(e)&&"type"in e&&typeof e.type=="string"}var gk=Symbol.for("immer-nothing"),Ox=Symbol.for("immer-draftable"),on=Symbol.for("immer-state");function Yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ta=Object.getPrototypeOf;function yi(e){return!!e&&!!e[on]}function Vs(e){var t;return e?vk(e)||Array.isArray(e)||!!e[Ox]||!!((t=e.constructor)!=null&&t[Ox])||Xp(e)||Yp(e):!1}var S9=Object.prototype.constructor.toString();function vk(e){if(!e||typeof e!="object")return!1;const t=Ta(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===S9}function Of(e,t){Kp(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Kp(e){const t=e[on];return t?t.type_:Array.isArray(e)?1:Xp(e)?2:Yp(e)?3:0}function Kv(e,t){return Kp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yk(e,t,r){const n=Kp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function b9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xp(e){return e instanceof Map}function Yp(e){return e instanceof Set}function si(e){return e.copy_||e.base_}function Xv(e,t){if(Xp(e))return new Map(e);if(Yp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[on];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const c=s[i],l=n[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(Ta(e),n)}else{const n=Ta(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Jw(e,t=!1){return Qp(e)||yi(e)||!Vs(e)||(Kp(e)>1&&(e.set=e.add=e.clear=e.delete=_9),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Jw(n,!0))),e}function _9(){Yn(2)}function Qp(e){return Object.isFrozen(e)}var x9={};function wi(e){const t=x9[e];return t||Yn(0,e),t}var yl;function wk(){return yl}function C9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ax(e,t){t&&(wi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yv(e){Qv(e),e.drafts_.forEach(R9),e.drafts_=null}function Qv(e){e===yl&&(yl=e.parent_)}function $x(e){return yl=C9(yl,e)}function R9(e){const t=e[on];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Fx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[on].modified_&&(Yv(t),Yn(4)),Vs(e)&&(e=Af(t,e),t.parent_||$f(t,e)),t.patches_&&wi("Patches").generateReplacementPatches_(r[on].base_,e,t.patches_,t.inversePatches_)):e=Af(t,r,[]),Yv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gk?e:void 0}function Af(e,t,r){if(Qp(t))return t;const n=t[on];if(!n)return Of(t,(s,i)=>zx(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return $f(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,c=!1;n.type_===3&&(i=new Set(s),s.clear(),c=!0),Of(i,(l,u)=>zx(e,n,s,l,u,r,c)),$f(e,s,!1),r&&e.patches_&&wi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function zx(e,t,r,n,s,i,c){if(yi(s)){const l=i&&t&&t.type_!==3&&!Kv(t.assigned_,n)?i.concat(n):void 0,u=Af(e,s,l);if(yk(r,n,u),yi(u))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(Vs(s)&&!Qp(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Af(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&$f(e,s)}}function $f(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jw(t,r)}function E9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Zw;r&&(s=[n],i=wl);const{revoke:c,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=c,l}var Zw={get(e,t){if(t===on)return e;const r=si(e);if(!Kv(r,t))return T9(e,r,t);const n=r[t];return e.finalized_||!Vs(n)?n:n===$g(e.base_,t)?(Fg(e),e.copy_[t]=Zv(n,e)):n},has(e,t){return t in si(e)},ownKeys(e){return Reflect.ownKeys(si(e))},set(e,t,r){const n=Sk(si(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=$g(si(e),t),i=s==null?void 0:s[on];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(b9(r,s)&&(r!==void 0||Kv(e.base_,t)))return!0;Fg(e),Jv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $g(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fg(e),Jv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=si(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yn(11)},getPrototypeOf(e){return Ta(e.base_)},setPrototypeOf(){Yn(12)}},wl={};Of(Zw,(e,t)=>{wl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wl.deleteProperty=function(e,t){return wl.set.call(this,e,t,void 0)};wl.set=function(e,t,r){return Zw.set.call(this,e[0],t,r,e[0])};function $g(e,t){const r=e[on];return(r?si(r):e)[t]}function T9(e,t,r){var s;const n=Sk(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Sk(e,t){if(!(t in e))return;let r=Ta(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ta(r)}}function Jv(e){e.modified_||(e.modified_=!0,e.parent_&&Jv(e.parent_))}function Fg(e){e.copy_||(e.copy_=Xv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const c=this;return function(u=i,...d){return c.produce(u,m=>r.call(this,m,...d))}}typeof r!="function"&&Yn(6),n!==void 0&&typeof n!="function"&&Yn(7);let s;if(Vs(t)){const i=$x(this),c=Zv(t,void 0);let l=!0;try{s=r(c),l=!1}finally{l?Yv(i):Qv(i)}return Ax(i,n),Fx(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===gk&&(s=void 0),this.autoFreeze_&&Jw(s,!0),n){const i=[],c=[];wi("Patches").generateReplacementPatches_(t,s,i,c),n(i,c)}return s}else Yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,u=>t(u,...l));let n,s;return[this.produce(t,r,(c,l)=>{n=c,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vs(e)||Yn(8),yi(e)&&(e=P9(e));const t=$x(this),r=Zv(e,void 0);return r[on].isManual_=!0,Qv(t),r}finishDraft(e,t){const r=e&&e[on];(!r||!r.isManual_)&&Yn(9);const{scope_:n}=r;return Ax(n,t),Fx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=wi("Patches").applyPatches_;return yi(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Zv(e,t){const r=Xp(e)?wi("MapSet").proxyMap_(e,t):Yp(e)?wi("MapSet").proxySet_(e,t):E9(e,t);return(t?t.scope_:wk()).drafts_.push(r),r}function P9(e){return yi(e)||Yn(10,e),bk(e)}function bk(e){if(!Vs(e)||Qp(e))return e;const t=e[on];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Xv(e,!0);return Of(r,(n,s)=>{yk(r,n,bk(s))}),t&&(t.finalized_=!1),r}var an=new k9,_k=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseStrictShallowCopy.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function xk(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var I9=xk(),j9=xk,D9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lf:Lf.apply(null,arguments)},M9=e=>e&&typeof e.match=="function";function rl(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(As(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>w9(n)&&n.type===e,r}var Ck=class el extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,el.prototype)}static get[Symbol.species](){return el}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new el(...t[0].concat(this)):new el(...t.concat(this))}};function Bx(e){return Vs(e)?_k(e,()=>{}):e}function Ux(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function N9(e){return typeof e=="boolean"}var L9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let c=new Ck;return r&&(N9(r)?c.push(I9):c.push(j9(r.extraArgument))),c},O9="RTK_autoBatch",Vx=e=>t=>{setTimeout(t,e)},A9=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,c=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Vx(10):e.type==="callback"?e.queueNotification:Vx(e.timeout),d=()=>{c=!1,i&&(i=!1,l.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const v=()=>s&&m(),y=n.subscribe(v);return l.add(m),()=>{y(),l.delete(m)}},dispatch(m){var v;try{return s=!((v=m==null?void 0:m.meta)!=null&&v[O9]),i=!s,i&&(c||(c=!0,u(d))),n.dispatch(m)}finally{s=!0}}})},$9=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new Ck(e);return n&&s.push(A9(typeof n=="object"?n:void 0)),s};function F9(e){const t=L9(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:c=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Qw(r))l=v9(r);else throw new Error(As(1));let u;typeof n=="function"?u=n(t):u=t();let d=Lf;s&&(d=D9({trace:!1,...typeof s=="object"&&s}));const m=y9(...u),v=$9(m);let y=typeof c=="function"?c(v):v();const S=d(...y);return mk(l,i,S)}function Rk(e){const t={},r=[];let n;const s={addCase(i,c){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(As(28));if(l in t)throw new Error(As(29));return t[l]=c,s},addMatcher(i,c){return r.push({matcher:i,reducer:c}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function z9(e){return typeof e=="function"}function B9(e,t){let[r,n,s]=Rk(t),i;if(z9(e))i=()=>Bx(e());else{const l=Bx(e);i=()=>l}function c(l=i(),u){let d=[r[u.type],...n.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[s]),d.reduce((m,v)=>{if(v)if(yi(m)){const S=v(m,u);return S===void 0?m:S}else{if(Vs(m))return _k(m,y=>v(y,u));{const y=v(m,u);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},l)}return c.getInitialState=i,c}var U9=(e,t)=>M9(e)?e.match(t):e(t);function xr(...e){return t=>e.some(r=>U9(r,t))}var V9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",H9=(e=21)=>{let t="",r=e;for(;r--;)t+=V9[Math.random()*64|0];return t},W9=["name","message","stack","code"],zg=class{constructor(e,t){Hm(this,"_type");this.payload=e,this.meta=t}},Hx=class{constructor(e,t){Hm(this,"_type");this.payload=e,this.meta=t}},q9=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of W9)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Wx="External signal was aborted",xe=(()=>{function e(t,r,n){const s=rl(t+"/fulfilled",(u,d,m,v)=>({payload:u,meta:{...v||{},arg:m,requestId:d,requestStatus:"fulfilled"}})),i=rl(t+"/pending",(u,d,m)=>({payload:void 0,meta:{...m||{},arg:d,requestId:u,requestStatus:"pending"}})),c=rl(t+"/rejected",(u,d,m,v,y)=>({payload:v,error:(n&&n.serializeError||q9)(u||"Rejected"),meta:{...y||{},arg:m,requestId:d,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function l(u,{signal:d}={}){return(m,v,y)=>{const S=n!=null&&n.idGenerator?n.idGenerator(u):H9(),w=new AbortController;let x,R;function T(h){R=h,w.abort()}d&&(d.aborted?T(Wx):d.addEventListener("abort",()=>T(Wx),{once:!0}));const C=async function(){var b,E;let h;try{let k=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,u,{getState:v,extra:y});if(K9(k)&&(k=await k),k===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const j=new Promise((M,N)=>{x=()=>{N({name:"AbortError",message:R||"Aborted"})},w.signal.addEventListener("abort",x)});m(i(S,u,(E=n==null?void 0:n.getPendingMeta)==null?void 0:E.call(n,{requestId:S,arg:u},{getState:v,extra:y}))),h=await Promise.race([j,Promise.resolve(r(u,{dispatch:m,getState:v,extra:y,requestId:S,signal:w.signal,abort:T,rejectWithValue:(M,N)=>new zg(M,N),fulfillWithValue:(M,N)=>new Hx(M,N)})).then(M=>{if(M instanceof zg)throw M;return M instanceof Hx?s(M.payload,S,u,M.meta):s(M,S,u)})])}catch(k){h=k instanceof zg?c(null,S,u,k.payload,k.meta):c(k,S,u)}finally{x&&w.signal.removeEventListener("abort",x)}return n&&!n.dispatchConditionRejection&&c.match(h)&&h.meta.condition||m(h),h}();return Object.assign(C,{abort:T,requestId:S,arg:u,unwrap(){return C.then(G9)}})}}return Object.assign(l,{pending:i,rejected:c,fulfilled:s,settled:xr(c,s),typePrefix:t})}return e.withTypes=()=>e,e})();function G9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function K9(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var X9=Symbol.for("rtk-slice-createasyncthunk");function Y9(e,t){return`${e}/${t}`}function Q9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[X9];return function(s){const{name:i,reducerPath:c=i}=s;if(!i)throw new Error(As(11));const l=(typeof s.reducers=="function"?s.reducers(Z9()):s.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(h,g){const b=typeof h=="string"?h:h.type;if(!b)throw new Error(As(12));if(b in d.sliceCaseReducersByType)throw new Error(As(13));return d.sliceCaseReducersByType[b]=g,m},addMatcher(h,g){return d.sliceMatchers.push({matcher:h,reducer:g}),m},exposeAction(h,g){return d.actionCreators[h]=g,m},exposeCaseReducer(h,g){return d.sliceCaseReducersByName[h]=g,m}};u.forEach(h=>{const g=l[h],b={reducerName:h,type:Y9(i,h),createNotation:typeof s.reducers=="function"};t7(g)?n7(b,g,m,t):e7(b,g,m)});function v(){const[h={},g=[],b=void 0]=typeof s.extraReducers=="function"?Rk(s.extraReducers):[s.extraReducers],E={...h,...d.sliceCaseReducersByType};return B9(s.initialState,k=>{for(let j in E)k.addCase(j,E[j]);for(let j of d.sliceMatchers)k.addMatcher(j.matcher,j.reducer);for(let j of g)k.addMatcher(j.matcher,j.reducer);b&&k.addDefaultCase(b)})}const y=h=>h,S=new Map;let w;function x(h,g){return w||(w=v()),w(h,g)}function R(){return w||(w=v()),w.getInitialState()}function T(h,g=!1){function b(k){let j=k[h];return typeof j>"u"&&g&&(j=R()),j}function E(k=y){const j=Ux(S,g,()=>new WeakMap);return Ux(j,k,()=>{const M={};for(const[N,A]of Object.entries(s.selectors??{}))M[N]=J9(A,k,R,g);return M})}return{reducerPath:h,getSelectors:E,get selectors(){return E(b)},selectSlice:b}}const C={name:i,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:R,...T(c),injectInto(h,{reducerPath:g,...b}={}){const E=g??c;return h.inject({reducerPath:E,reducer:x},b),{...C,...T(E,!0)}}};return C}}function J9(e,t,r,n){function s(i,...c){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...c)}return s.unwrapped=e,s}var Ao=Q9();function Z9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function e7({type:e,reducerName:t,createNotation:r},n,s){let i,c;if("reducer"in n){if(r&&!r7(n))throw new Error(As(17));i=n.reducer,c=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?rl(e,c):rl(e))}function t7(e){return e._reducerDefinitionType==="asyncThunk"}function r7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function n7({type:e,reducerName:t},r,n,s){if(!s)throw new Error(As(18));const{payloadCreator:i,fulfilled:c,pending:l,rejected:u,settled:d,options:m}=r,v=s(e,i,m);n.exposeAction(t,v),c&&n.addCase(v.fulfilled,c),l&&n.addCase(v.pending,l),u&&n.addCase(v.rejected,u),d&&n.addMatcher(v.settled,d),n.exposeCaseReducer(t,{fulfilled:c||pu,pending:l||pu,rejected:u||pu,settled:d||pu})}function pu(){}function As(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Ek(e,t){return function(){return e.apply(t,arguments)}}const{toString:s7}=Object.prototype,{getPrototypeOf:eS}=Object,{iterator:Jp,toStringTag:Tk}=Symbol,Zp=(e=>t=>{const r=s7.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),is=e=>(e=e.toLowerCase(),t=>Zp(t)===e),eh=e=>t=>typeof t===e,{isArray:Ha}=Array,ka=eh("undefined");function Fl(e){return e!==null&&!ka(e)&&e.constructor!==null&&!ka(e.constructor)&&Ur(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kk=is("ArrayBuffer");function o7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kk(e.buffer),t}const i7=eh("string"),Ur=eh("function"),Pk=eh("number"),zl=e=>e!==null&&typeof e=="object",a7=e=>e===!0||e===!1,Pu=e=>{if(Zp(e)!=="object")return!1;const t=eS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Tk in e)&&!(Jp in e)},c7=e=>{if(!zl(e)||Fl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},l7=is("Date"),d7=is("File"),u7=is("Blob"),f7=is("FileList"),p7=e=>zl(e)&&Ur(e.pipe),h7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ur(e.append)&&((t=Zp(e))==="formdata"||t==="object"&&Ur(e.toString)&&e.toString()==="[object FormData]"))},m7=is("URLSearchParams"),[g7,v7,y7,w7]=["ReadableStream","Request","Response","Headers"].map(is),S7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ha(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Fl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let l;for(n=0;n<c;n++)l=i[n],t.call(null,e[l],l,e)}}function Ik(e,t){if(Fl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jk=e=>!ka(e)&&e!==di;function ey(){const{caseless:e,skipUndefined:t}=jk(this)&&this||{},r={},n=(s,i)=>{const c=e&&Ik(r,i)||i;Pu(r[c])&&Pu(s)?r[c]=ey(r[c],s):Pu(s)?r[c]=ey({},s):Ha(s)?r[c]=s.slice():(!t||!ka(s))&&(r[c]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Bl(arguments[s],n);return r}const b7=(e,t,r,{allOwnKeys:n}={})=>(Bl(t,(s,i)=>{r&&Ur(s)?e[i]=Ek(s,r):e[i]=s},{allOwnKeys:n}),e),_7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),x7=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},C7=(e,t,r,n)=>{let s,i,c;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)c=s[i],(!n||n(c,e,t))&&!l[c]&&(t[c]=e[c],l[c]=!0);e=r!==!1&&eS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},R7=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},E7=e=>{if(!e)return null;if(Ha(e))return e;let t=e.length;if(!Pk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},T7=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&eS(Uint8Array)),k7=(e,t)=>{const n=(e&&e[Jp]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},P7=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},I7=is("HTMLFormElement"),j7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),qx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),D7=is("RegExp"),Dk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Bl(r,(s,i)=>{let c;(c=t(s,i,e))!==!1&&(n[i]=c||s)}),Object.defineProperties(e,n)},M7=e=>{Dk(e,(t,r)=>{if(Ur(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ur(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},N7=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ha(e)?n(e):n(String(e).split(t)),r},L7=()=>{},O7=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function A7(e){return!!(e&&Ur(e.append)&&e[Tk]==="FormData"&&e[Jp])}const $7=e=>{const t=new Array(10),r=(n,s)=>{if(zl(n)){if(t.indexOf(n)>=0)return;if(Fl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ha(n)?[]:{};return Bl(n,(c,l)=>{const u=r(c,s+1);!ka(u)&&(i[l]=u)}),t[s]=void 0,i}}return n};return r(e,0)},F7=is("AsyncFunction"),z7=e=>e&&(zl(e)||Ur(e))&&Ur(e.then)&&Ur(e.catch),Mk=((e,t)=>e?setImmediate:t?((r,n)=>(di.addEventListener("message",({source:s,data:i})=>{s===di&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),di.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ur(di.postMessage)),B7=typeof queueMicrotask<"u"?queueMicrotask.bind(di):typeof process<"u"&&process.nextTick||Mk,U7=e=>e!=null&&Ur(e[Jp]),te={isArray:Ha,isArrayBuffer:kk,isBuffer:Fl,isFormData:h7,isArrayBufferView:o7,isString:i7,isNumber:Pk,isBoolean:a7,isObject:zl,isPlainObject:Pu,isEmptyObject:c7,isReadableStream:g7,isRequest:v7,isResponse:y7,isHeaders:w7,isUndefined:ka,isDate:l7,isFile:d7,isBlob:u7,isRegExp:D7,isFunction:Ur,isStream:p7,isURLSearchParams:m7,isTypedArray:T7,isFileList:f7,forEach:Bl,merge:ey,extend:b7,trim:S7,stripBOM:_7,inherits:x7,toFlatObject:C7,kindOf:Zp,kindOfTest:is,endsWith:R7,toArray:E7,forEachEntry:k7,matchAll:P7,isHTMLForm:I7,hasOwnProperty:qx,hasOwnProp:qx,reduceDescriptors:Dk,freezeMethods:M7,toObjectSet:N7,toCamelCase:j7,noop:L7,toFiniteNumber:O7,findKey:Ik,global:di,isContextDefined:jk,isSpecCompliantForm:A7,toJSONObject:$7,isAsyncFn:F7,isThenable:z7,setImmediate:Mk,asap:B7,isIterable:U7};function Ze(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}te.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Nk=Ze.prototype,Lk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Lk[e]={value:e}});Object.defineProperties(Ze,Lk);Object.defineProperty(Nk,"isAxiosError",{value:!0});Ze.from=(e,t,r,n,s,i)=>{const c=Object.create(Nk);te.toFlatObject(e,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Ze.call(c,l,u,r,n,s),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const V7=null;function ty(e){return te.isPlainObject(e)||te.isArray(e)}function Ok(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function Gx(e,t,r){return e?e.concat(t).map(function(s,i){return s=Ok(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function H7(e){return te.isArray(e)&&!e.some(ty)}const W7=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function th(e,t,r){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,R){return!te.isUndefined(R[x])});const n=r.metaTokens,s=r.visitor||m,i=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(s))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(te.isDate(w))return w.toISOString();if(te.isBoolean(w))return w.toString();if(!u&&te.isBlob(w))throw new Ze("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(w)||te.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,x,R){let T=w;if(w&&!R&&typeof w=="object"){if(te.endsWith(x,"{}"))x=n?x:x.slice(0,-2),w=JSON.stringify(w);else if(te.isArray(w)&&H7(w)||(te.isFileList(w)||te.endsWith(x,"[]"))&&(T=te.toArray(w)))return x=Ok(x),T.forEach(function(h,g){!(te.isUndefined(h)||h===null)&&t.append(c===!0?Gx([x],g,i):c===null?x:x+"[]",d(h))}),!1}return ty(w)?!0:(t.append(Gx(R,x,i),d(w)),!1)}const v=[],y=Object.assign(W7,{defaultVisitor:m,convertValue:d,isVisitable:ty});function S(w,x){if(!te.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));v.push(w),te.forEach(w,function(T,C){(!(te.isUndefined(T)||T===null)&&s.call(t,T,te.isString(C)?C.trim():C,x,y))===!0&&S(T,x?x.concat(C):[C])}),v.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Kx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tS(e,t){this._pairs=[],e&&th(e,this,t)}const Ak=tS.prototype;Ak.append=function(t,r){this._pairs.push([t,r])};Ak.toString=function(t){const r=t?function(n){return t.call(this,n,Kx)}:Kx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function q7(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $k(e,t,r){if(!t)return e;const n=r&&r.encode||q7;te.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=te.isURLSearchParams(t)?t.toString():new tS(t,r).toString(n),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Xx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Fk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},G7=typeof URLSearchParams<"u"?URLSearchParams:tS,K7=typeof FormData<"u"?FormData:null,X7=typeof Blob<"u"?Blob:null,Y7={isBrowser:!0,classes:{URLSearchParams:G7,FormData:K7,Blob:X7},protocols:["http","https","file","blob","url","data"]},rS=typeof window<"u"&&typeof document<"u",ry=typeof navigator=="object"&&navigator||void 0,Q7=rS&&(!ry||["ReactNative","NativeScript","NS"].indexOf(ry.product)<0),J7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z7=rS&&window.location.href||"http://localhost",ez=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rS,hasStandardBrowserEnv:Q7,hasStandardBrowserWebWorkerEnv:J7,navigator:ry,origin:Z7},Symbol.toStringTag,{value:"Module"})),br={...ez,...Y7};function tz(e,t){return th(e,new br.classes.URLSearchParams,{visitor:function(r,n,s,i){return br.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function rz(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nz(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function zk(e){function t(r,n,s,i){let c=r[i++];if(c==="__proto__")return!0;const l=Number.isFinite(+c),u=i>=r.length;return c=!c&&te.isArray(s)?s.length:c,u?(te.hasOwnProp(s,c)?s[c]=[s[c],n]:s[c]=n,!l):((!s[c]||!te.isObject(s[c]))&&(s[c]=[]),t(r,n,s[c],i)&&te.isArray(s[c])&&(s[c]=nz(s[c])),!l)}if(te.isFormData(e)&&te.isFunction(e.entries)){const r={};return te.forEachEntry(e,(n,s)=>{t(rz(n),s,r,0)}),r}return null}function sz(e,t,r){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ul={transitional:Fk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=te.isObject(t);if(i&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return s?JSON.stringify(zk(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tz(t,this.formSerializer).toString();if((l=te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return th(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),sz(t)):t}],transformResponse:[function(t){const r=this.transitional||Ul.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(n&&!this.responseType||s)){const c=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(c)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{Ul.headers[e]={}});const oz=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iz=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),r=c.substring(0,s).trim().toLowerCase(),n=c.substring(s+1).trim(),!(!r||t[r]&&oz[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Yx=Symbol("internals");function Hc(e){return e&&String(e).trim().toLowerCase()}function Iu(e){return e===!1||e==null?e:te.isArray(e)?e.map(Iu):String(e)}function az(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const cz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bg(e,t,r,n,s){if(te.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!te.isString(t)){if(te.isString(n))return t.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(t)}}function lz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dz(e,t){const r=te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,c){return this[n].call(this,t,s,i,c)},configurable:!0})})}let Vr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,u,d){const m=Hc(u);if(!m)throw new Error("header name must be a non-empty string");const v=te.findKey(s,m);(!v||s[v]===void 0||d===!0||d===void 0&&s[v]!==!1)&&(s[v||u]=Iu(l))}const c=(l,u)=>te.forEach(l,(d,m)=>i(d,m,u));if(te.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(te.isString(t)&&(t=t.trim())&&!cz(t))c(iz(t),r);else if(te.isObject(t)&&te.isIterable(t)){let l={},u,d;for(const m of t){if(!te.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[d=m[0]]=(u=l[d])?te.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}c(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Hc(t),t){const n=te.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return az(s);if(te.isFunction(r))return r.call(this,s,n);if(te.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hc(t),t){const n=te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Bg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(c){if(c=Hc(c),c){const l=te.findKey(n,c);l&&(!r||Bg(n,n[l],l,r))&&(delete n[l],s=!0)}}return te.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Bg(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return te.forEach(this,(s,i)=>{const c=te.findKey(n,i);if(c){r[c]=Iu(s),delete r[i];return}const l=t?lz(i):String(i).trim();l!==i&&delete r[i],r[l]=Iu(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return te.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Yx]=this[Yx]={accessors:{}}).accessors,s=this.prototype;function i(c){const l=Hc(c);n[l]||(dz(s,c),n[l]=!0)}return te.isArray(t)?t.forEach(i):i(t),this}};Vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Vr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});te.freezeMethods(Vr);function Ug(e,t){const r=this||Ul,n=t||r,s=Vr.from(n.headers);let i=n.data;return te.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Bk(e){return!!(e&&e.__CANCEL__)}function Wa(e,t,r){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,r),this.name="CanceledError"}te.inherits(Wa,Ze,{__CANCEL__:!0});function Uk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fz(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,c;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),m=n[i];c||(c=d),r[s]=u,n[s]=d;let v=i,y=0;for(;v!==s;)y+=r[v++],v=v%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-c<t)return;const S=m&&d-m;return S?Math.round(y*1e3/S):void 0}}function pz(e,t){let r=0,n=1e3/t,s,i;const c=(d,m=Date.now())=>{r=m,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const m=Date.now(),v=m-r;v>=n?c(d,m):(s=d,i||(i=setTimeout(()=>{i=null,c(s)},n-v)))},()=>s&&c(s)]}const Ff=(e,t,r=3)=>{let n=0;const s=fz(50,250);return pz(i=>{const c=i.loaded,l=i.lengthComputable?i.total:void 0,u=c-n,d=s(u),m=c<=l;n=c;const v={loaded:c,total:l,progress:l?c/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&m?(l-c)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(v)},r)},Qx=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Jx=e=>(...t)=>te.asap(()=>e(...t)),hz=br.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,br.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,mz=br.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const c=[e+"="+encodeURIComponent(t)];te.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),te.isString(n)&&c.push("path="+n),te.isString(s)&&c.push("domain="+s),i===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vk(e,t,r){let n=!gz(t);return e&&(n||r==!1)?vz(e,t):t}const Zx=e=>e instanceof Vr?{...e}:e;function Si(e,t){t=t||{};const r={};function n(d,m,v,y){return te.isPlainObject(d)&&te.isPlainObject(m)?te.merge.call({caseless:y},d,m):te.isPlainObject(m)?te.merge({},m):te.isArray(m)?m.slice():m}function s(d,m,v,y){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d,v,y)}else return n(d,m,v,y)}function i(d,m){if(!te.isUndefined(m))return n(void 0,m)}function c(d,m){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function l(d,m,v){if(v in t)return n(d,m);if(v in e)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l,headers:(d,m,v)=>s(Zx(d),Zx(m),v,!0)};return te.forEach(Object.keys({...e,...t}),function(m){const v=u[m]||s,y=v(e[m],t[m],m);te.isUndefined(y)&&v!==l||(r[m]=y)}),r}const Hk=e=>{const t=Si({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:c,auth:l}=t;if(t.headers=c=Vr.from(c),t.url=$k(Vk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&c.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),te.isFormData(r)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(te.isFunction(r.getHeaders)){const u=r.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([m,v])=>{d.includes(m.toLowerCase())&&c.set(m,v)})}}if(br.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(t)),n||n!==!1&&hz(t.url))){const u=s&&i&&mz.read(i);u&&c.set(s,u)}return t},yz=typeof XMLHttpRequest<"u",wz=yz&&function(e){return new Promise(function(r,n){const s=Hk(e);let i=s.data;const c=Vr.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=s,m,v,y,S,w;function x(){S&&S(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function T(){if(!R)return;const h=Vr.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:h,config:e,request:R};Uk(function(k){r(k),x()},function(k){n(k),x()},b),R=null}"onloadend"in R?R.onloadend=T:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(T)},R.onabort=function(){R&&(n(new Ze("Request aborted",Ze.ECONNABORTED,e,R)),R=null)},R.onerror=function(g){const b=g&&g.message?g.message:"Network Error",E=new Ze(b,Ze.ERR_NETWORK,e,R);E.event=g||null,n(E),R=null},R.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||Fk;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),n(new Ze(g,b.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,R)),R=null},i===void 0&&c.setContentType(null),"setRequestHeader"in R&&te.forEach(c.toJSON(),function(g,b){R.setRequestHeader(b,g)}),te.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),l&&l!=="json"&&(R.responseType=s.responseType),d&&([y,w]=Ff(d,!0),R.addEventListener("progress",y)),u&&R.upload&&([v,S]=Ff(u),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(m=h=>{R&&(n(!h||h.type?new Wa(null,e,R):h),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const C=uz(s.url);if(C&&br.protocols.indexOf(C)===-1){n(new Ze("Unsupported protocol "+C+":",Ze.ERR_BAD_REQUEST,e));return}R.send(i||null)})},Sz=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const m=d instanceof Error?d:this.reason;n.abort(m instanceof Ze?m:new Wa(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,i(new Ze(`timeout ${t} of ms exceeded`,Ze.ETIMEDOUT))},t);const l=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>te.asap(l),u}},bz=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},_z=async function*(e,t){for await(const r of xz(e))yield*bz(r,t)},xz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},eC=(e,t,r,n)=>{const s=_z(e,t);let i=0,c,l=u=>{c||(c=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:m}=await s.next();if(d){l(),u.close();return}let v=m.byteLength;if(r){let y=i+=v;r(y)}u.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},tC=64*1024,{isFunction:hu}=te,Cz=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:rC,TextEncoder:nC}=te.global,sC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Rz=e=>{e=te.merge.call({skipUndefined:!0},Cz,e);const{fetch:t,Request:r,Response:n}=e,s=t?hu(t):typeof fetch=="function",i=hu(r),c=hu(n);if(!s)return!1;const l=s&&hu(rC),u=s&&(typeof nC=="function"?(w=>x=>w.encode(x))(new nC):async w=>new Uint8Array(await new r(w).arrayBuffer())),d=i&&l&&sC(()=>{let w=!1;const x=new r(br.origin,{body:new rC,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!x}),m=c&&l&&sC(()=>te.isReadableStream(new n("").body)),v={stream:m&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!v[w]&&(v[w]=(x,R)=>{let T=x&&x[w];if(T)return T.call(x);throw new Ze(`Response type '${w}' is not supported`,Ze.ERR_NOT_SUPPORT,R)})});const y=async w=>{if(w==null)return 0;if(te.isBlob(w))return w.size;if(te.isSpecCompliantForm(w))return(await new r(br.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(te.isArrayBufferView(w)||te.isArrayBuffer(w))return w.byteLength;if(te.isURLSearchParams(w)&&(w=w+""),te.isString(w))return(await u(w)).byteLength},S=async(w,x)=>{const R=te.toFiniteNumber(w.getContentLength());return R??y(x)};return async w=>{let{url:x,method:R,data:T,signal:C,cancelToken:h,timeout:g,onDownloadProgress:b,onUploadProgress:E,responseType:k,headers:j,withCredentials:M="same-origin",fetchOptions:N}=Hk(w),A=t||fetch;k=k?(k+"").toLowerCase():"text";let O=Sz([C,h&&h.toAbortSignal()],g),U=null;const W=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let K;try{if(E&&d&&R!=="get"&&R!=="head"&&(K=await S(j,T))!==0){let V=new r(x,{method:"POST",body:T,duplex:"half"}),G;if(te.isFormData(T)&&(G=V.headers.get("content-type"))&&j.setContentType(G),V.body){const[se,le]=Qx(K,Ff(Jx(E)));T=eC(V.body,tC,se,le)}}te.isString(M)||(M=M?"include":"omit");const L=i&&"credentials"in r.prototype,F={...N,signal:O,method:R.toUpperCase(),headers:j.normalize().toJSON(),body:T,duplex:"half",credentials:L?M:void 0};U=i&&new r(x,F);let $=await(i?A(U,N):A(x,F));const B=m&&(k==="stream"||k==="response");if(m&&(b||B&&W)){const V={};["status","statusText","headers"].forEach(Q=>{V[Q]=$[Q]});const G=te.toFiniteNumber($.headers.get("content-length")),[se,le]=b&&Qx(G,Ff(Jx(b),!0))||[];$=new n(eC($.body,tC,se,()=>{le&&le(),W&&W()}),V)}k=k||"text";let H=await v[te.findKey(v,k)||"text"]($,w);return!B&&W&&W(),await new Promise((V,G)=>{Uk(V,G,{data:H,headers:Vr.from($.headers),status:$.status,statusText:$.statusText,config:w,request:U})})}catch(L){throw W&&W(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,w,U),{cause:L.cause||L}):Ze.from(L,L&&L.code,w,U)}}},Ez=new Map,Wk=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let c=i.length,l=c,u,d,m=Ez;for(;l--;)u=i[l],d=m.get(u),d===void 0&&m.set(u,d=l?new Map:Rz(t)),m=d;return d};Wk();const ny={http:V7,xhr:wz,fetch:{get:Wk}};te.forEach(ny,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const oC=e=>`- ${e}`,Tz=e=>te.isFunction(e)||e===null||e===!1,qk={getAdapter:(e,t)=>{e=te.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let c=0;c<r;c++){n=e[c];let l;if(s=n,!Tz(n)&&(s=ny[(l=String(n)).toLowerCase()],s===void 0))throw new Ze(`Unknown adapter '${l}'`);if(s&&(te.isFunction(s)||(s=s.get(t))))break;i[l||"#"+c]=s}if(!s){const c=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?c.length>1?`since :
`+c.map(oC).join(`
`):" "+oC(c[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:ny};function Vg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wa(null,e)}function iC(e){return Vg(e),e.headers=Vr.from(e.headers),e.data=Ug.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qk.getAdapter(e.adapter||Ul.adapter,e)(e).then(function(n){return Vg(e),n.data=Ug.call(e,e.transformResponse,n),n.headers=Vr.from(n.headers),n},function(n){return Bk(n)||(Vg(e),n&&n.response&&(n.response.data=Ug.call(e,e.transformResponse,n.response),n.response.headers=Vr.from(n.response.headers))),Promise.reject(n)})}const Gk="1.12.2",rh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const aC={};rh.transitional=function(t,r,n){function s(i,c){return"[Axios v"+Gk+"] Transitional option '"+i+"'"+c+(n?". "+n:"")}return(i,c,l)=>{if(t===!1)throw new Ze(s(c," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!aC[c]&&(aC[c]=!0,console.warn(s(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,l):!0}};rh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function kz(e,t,r){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],c=t[i];if(c){const l=e[i],u=l===void 0||c(l,i,e);if(u!==!0)throw new Ze("option "+i+" must be "+u,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const ju={assertOptions:kz,validators:rh},ps=ju.validators;let hi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xx,response:new Xx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Si(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&ju.assertOptions(n,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),s!=null&&(te.isFunction(s)?r.paramsSerializer={serialize:s}:ju.assertOptions(s,{encode:ps.function,serialize:ps.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ju.assertOptions(r,{baseUrl:ps.spelling("baseURL"),withXsrfToken:ps.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&te.merge(i.common,i[r.method]);i&&te.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=Vr.concat(c,i);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let m,v=0,y;if(!u){const w=[iC.bind(this),void 0];for(w.unshift(...l),w.push(...d),y=w.length,m=Promise.resolve(r);v<y;)m=m.then(w[v++],w[v++]);return m}y=l.length;let S=r;for(;v<y;){const w=l[v++],x=l[v++];try{S=w(S)}catch(R){x.call(this,R);break}}try{m=iC.call(this,S)}catch(w){return Promise.reject(w)}for(v=0,y=d.length;v<y;)m=m.then(d[v++],d[v++]);return m}getUri(t){t=Si(this.defaults,t);const r=Vk(t.baseURL,t.url,t.allowAbsoluteUrls);return $k(r,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){hi.prototype[t]=function(r,n){return this.request(Si(n||{},{method:t,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(t){function r(n){return function(i,c,l){return this.request(Si(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}hi.prototype[t]=r(),hi.prototype[t+"Form"]=r(!0)});let Pz=class Kk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const c=new Promise(l=>{n.subscribe(l),i=l}).then(s);return c.cancel=function(){n.unsubscribe(i)},c},t(function(i,c,l){n.reason||(n.reason=new Wa(i,c,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Kk(function(s){t=s}),cancel:t}}};function Iz(e){return function(r){return e.apply(null,r)}}function jz(e){return te.isObject(e)&&e.isAxiosError===!0}const sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sy).forEach(([e,t])=>{sy[t]=e});function Xk(e){const t=new hi(e),r=Ek(hi.prototype.request,t);return te.extend(r,hi.prototype,t,{allOwnKeys:!0}),te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Xk(Si(e,s))},r}const Vt=Xk(Ul);Vt.Axios=hi;Vt.CanceledError=Wa;Vt.CancelToken=Pz;Vt.isCancel=Bk;Vt.VERSION=Gk;Vt.toFormData=th;Vt.AxiosError=Ze;Vt.Cancel=Vt.CanceledError;Vt.all=function(t){return Promise.all(t)};Vt.spread=Iz;Vt.isAxiosError=jz;Vt.mergeConfig=Si;Vt.AxiosHeaders=Vr;Vt.formToJSON=e=>zk(te.isHTMLForm(e)?new FormData(e):e);Vt.getAdapter=qk.getAdapter;Vt.HttpStatusCode=sy;Vt.default=Vt;const{Axios:KW,AxiosError:wt,CanceledError:XW,isCancel:YW,CancelToken:QW,VERSION:JW,all:ZW,Cancel:eq,isAxiosError:tq,spread:rq,toFormData:nq,AxiosHeaders:sq,HttpStatusCode:oq,formToJSON:iq,getAdapter:aq,mergeConfig:cq}=Vt,Yk="files",Dz=`${Yk}/attachFile`,nS="/files",Mz=(e,t)=>`${nS}/item?channelId=${e}&FileId=${t}`,Nz=e=>`${nS}/icon?fileId=${e}`,Lz=`${nS}/message`,lt=Vt.create({baseURL:"https://hitscord-backend.online/api",headers:{"Content-Type":"application/json"}}),Oz=async(e,t)=>{const{data:r}=await lt.get(Mz(e,t));return r},cC=async e=>{const{data:t}=await lt.get(Nz(e));return t},Az=async(e,t)=>{const r=new FormData;r.append("ChannelId",e),r.append("File",t);const{data:n}=await lt.post(Lz,r,{headers:{"Content-Type":"multipart/form-data"}});return n},st={DEFAULT:" "},nl=xe(Dz,async({channelId:e,file:t},{rejectWithValue:r})=>{var n,s;try{return await Az(e,t)}catch(i){return i instanceof wt?r(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||st.DEFAULT):r(st.DEFAULT)}});var Qe=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(Qe||{});const $z={uploadedFiles:[],loading:Qe.IDLE,error:""},Qk=Ao({name:Yk,initialState:$z,reducers:{removeFile:(e,t)=>{const{fileId:r}=t.payload;e.uploadedFiles=e.uploadedFiles.filter(n=>n.fileId!==r)},clearFiles:e=>{e.uploadedFiles=[]}},extraReducers:e=>{e.addCase(nl.pending,t=>{t.loading=Qe.PENDING,t.error=""}).addCase(nl.fulfilled,(t,r)=>{t.loading=Qe.FULFILLED,t.uploadedFiles=[...t.uploadedFiles,r.payload],t.error=""}).addCase(nl.rejected,(t,r)=>{t.loading=Qe.REJECTED,t.error=r.payload})}}),{removeFile:Fz,clearFiles:Jk}=Qk.actions,zz=Qk.reducer,Bz=e=>e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`,Uz=e=>e.startsWith("image/")?p.jsx(d8,{size:18}):e.includes("pdf")||e.includes("text")?p.jsx(r8,{size:18}):e.includes("zip")||e.includes("rar")?p.jsx(e8,{size:18}):p.jsx(nk,{size:18}),Vz=({files:e,channelId:t})=>{const{showError:r}=Xt(),n=async s=>{try{const i=await Oz(t,s.fileId);if(!i.base64File){console.error("     base64");return}const c=atob(i.base64File),l=new Array(c.length);for(let m=0;m<c.length;m++)l[m]=c.charCodeAt(m);const u=new Uint8Array(l),d=new Blob([u],{type:i.fileType});f9(d,i.fileName)}catch(i){r(`  : ${i}`)}};return p.jsx(Sn,{direction:"column",gap:6,mt:8,children:e.map(s=>p.jsxs(Se,{gap:"xs",style:p9.message(),onClick:()=>n(s),children:[Uz(s.fileType),p.jsx(be,{size:"sm",style:{wordBreak:"break-word"},children:s.fileName}),p.jsx(be,{size:"xs",c:"gray.4",children:Bz(s.fileSize)})]},s.fileId))})},mu={box:(e,t)=>({position:"relative",backgroundColor:e?"#4A90E2":"#454950",color:"white",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:t?"100%":"auto"}),breakText:()=>({wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"}),textarea:()=>({marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}),meta:e=>({marginTop:4,fontSize:12,color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"})},Zk=e=>(e=e.replace(/\/\/\{usertag:([a-zA-Z--0-9_#]+)\}\/\//g,'<span style="color: #ffffff; font-weight: 500;">@$1</span>'),e=e.replace(/\/\/\{roletag:([a-zA-Z--0-9_-]+)\}\/\//g,'<span style="color: #ffffff; font-weight: 500;">@$1</span>'),e),eP=e=>{const t=re(i=>i.testServerStore.serverData.users),r=re(i=>i.chatsStore.chat.users),n=I.useCallback(i=>{var c,l;switch(e){case Dt.CHAT:return(c=r.find(d=>d.userId===i))==null?void 0:c.userName;case Dt.CHANNEL:return(l=t.find(d=>d.userId===i))==null?void 0:l.userName;default:return""}},[e,t,r]),s=I.useCallback(i=>{var c,l;switch(e){case Dt.CHAT:{const u=(c=r.find(d=>d.userId===i))==null?void 0:c.icon;return u==null?void 0:u.fileId}case Dt.CHANNEL:{const u=(l=t.find(d=>d.userId===i))==null?void 0:l.icon;return u==null?void 0:u.fileId}default:return""}},[e,t,r]);return{getUsername:n,getUserIcon:s}};function tP(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${s} ${i}:${c}`}var At=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e[e.NOTIFICATION_CHANNEL=2]="NOTIFICATION_CHANNEL",e))(At||{}),rP=(e=>(e[e.NotMuted=0]="NotMuted",e[e.SelfMuted=1]="SelfMuted",e[e.Muted=2]="Muted",e))(rP||{}),Di=(e=>(e[e.Classic=0]="Classic",e[e.Vote=1]="Vote",e))(Di||{});const oy=async(e,t,r,n,s)=>{try{const i=await fetch(`${Xe}/api/channel/messages?channelId=${t}&number=${r}&fromMessageId=${n}&down=${s}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),c=await i.json();if(!i.ok)throw new Error(c.message||`Error: ${i.status}`);return c}catch(i){throw console.error("Error get messages:",i),i}},Hz=async(e,t,r,n,s)=>{try{const i=await fetch(`${Xe}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n,maxCount:s})});if(!i.ok){const c=await i.json();throw new Error(c.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},Wz=async(e,t)=>{try{const r=await fetch(`${Xe}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},qz=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/channel/name/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change channel name:",n),n}},Gz=async e=>{try{const t=await fetch(`${Xe}/api/channel/voice/mute/self`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error self mute:",t),t}},Kz=async(e,t)=>{try{const r=await fetch(`${Xe}/api/channel/settings/change/text`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change text channel settings:",r),r}},Xz=async(e,t)=>{try{const r=await fetch(`${Xe}/api/channel/settings/change/voice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change voice channel settings:",r),r}},Yz=async(e,t)=>{try{const r=await fetch(`${Xe}/api/channel/settings?channelId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get channel settings:",r),r}},Qz=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/channel/settings/maxcount`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({voiceChannelId:t,maxCount:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change voice channel max count:",n),n}},Jz=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create message:",s),s}},Zz=async(e,t)=>{try{const r=await fetch(`${Xe}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},eB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},tB=async e=>{try{const t=await fetch(`${Xe}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},rB=async(e,t)=>{try{const r=await fetch(`${Xe}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},nB=async(e,t)=>{try{const r=await fetch(`${Xe}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},sB=async(e,t)=>{try{const r=await fetch(`${Xe}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},oB=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create server:",s),s}},iB=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/api/server/addrole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create server:",s),s}},aB=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/api/server/removerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create server:",s),s}},cB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},lB=async(e,t)=>{try{const r=await fetch(`${Xe}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},dB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},uB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},fB=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,banReason:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error delete user from server:",s),s}},pB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/server/unsubscribe/creator`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,newCreatorId:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unsubscribe creator from server:",n),n}},hB=async(e,t,r,n)=>{try{const s=await fetch(`${Xe}/api/server/banned/list?serverId=${t}&Page=${r}&Size=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),i=await s.json();if(!s.ok)throw new Error(i.message||`Error: ${s.status}`);return i}catch(s){throw console.error("Error get banned users:",s),s}},mB=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/server/banned/unban`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t,serverId:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unban user:",n),n}},gB=async(e,t)=>{const r=new FormData;r.append("ServerId",e),r.append("Icon",t);const{data:n}=await lt.put("/server/icon",r,{headers:{"Content-Type":"multipart/form-data"}});return n},$s=xe("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await tB(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),Ir=xe("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await rB(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Du=xe("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await nB(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Hg=xe("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await sB(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Wg=xe("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:s})=>{try{await oB(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),Mu=xe("testServerSlice/addRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:s})=>{try{await iB(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),Nu=xe("testServerSlice/removeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:s})=>{try{await aB(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),Lu=xe("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await cB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),sl=xe("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await lB(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ou=xe("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,number:r,fromMessageId:n,down:s},{rejectWithValue:i,getState:c})=>{try{const l=await oy(e,t,r,n,s);if(l.messages.length>0)return l;const m=c().testServerStore.serverData.channels.textChannels.find(S=>S.channelId===t),v=((m==null?void 0:m.nonReadedCount)??0)>0||((m==null?void 0:m.nonReadedTaggedCount)??0)>0;return!s&&n!==0&&l.messages.length===0&&v?await oy(e,t,r,n,!0):l}catch(l){return i(l instanceof Error?l.message:" ")}}),ya=xe("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,number:r,fromMessageId:n,down:s},{rejectWithValue:i})=>{try{return await oy(e,t,r,n,s)}catch(c){return i(c instanceof Error?c.message:" ")}}),qg=xe("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:s})=>{try{await Jz(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),Gg=xe("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await Zz(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Kg=xe("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await eB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),ol=xe("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n,maxCount:s},{rejectWithValue:i})=>{try{await Hz(e,t,r,n,s)}catch(c){return i(c instanceof Error?c.message:" ")}}),il=xe("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await Wz(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Au=xe("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await dB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),$u=xe("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await uB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),Fu=xe("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r,banReason:n},{rejectWithValue:s})=>{try{await fB(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),zu=xe("testServerSlice/changeChannelName",async({accessToken:e,id:t,name:r},{rejectWithValue:n})=>{try{await qz(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),vB=xe("testServerSlice/creatorUnsubscribeFromServer",async({accessToken:e,serverId:t,newCreatorId:r},{rejectWithValue:n})=>{try{await pB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),Bu=xe("testServerSlice/selfMute",async({accessToken:e},{rejectWithValue:t})=>{try{await Gz(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Uu=xe("testServerSlice/changeTextChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await Kz(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Vu=xe("testServerSlice/getChannelSettings",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{return await Yz(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Hu=xe("testServerSlice/changeVoiceChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await Xz(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),al=xe("testServerSlice/getBannedUsers",async({accessToken:e,serverId:t,page:r,size:n},{rejectWithValue:s})=>{try{return await hB(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),Wu=xe("testServerSlice/unbanUser",async({accessToken:e,userId:t,serverId:r},{rejectWithValue:n})=>{try{await mB(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),qu=xe("testServerSlice/changeVoiceChannelMaxCount",async({accessToken:e,voiceChannelId:t,maxCount:r},{rejectWithValue:n})=>{try{await Qz(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),Gu=xe("testServerSlice/changeServerIcon",async({serverId:e,icon:t},{rejectWithValue:r})=>{var n,s;try{return await gB(e,t)}catch(i){return i instanceof wt?r(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||st.DEFAULT):r(st.DEFAULT)}}),yB={serversList:[],serverData:{serverId:"",serverName:"",icon:null,isClosed:!1,roles:[],userRoles:[],users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:Qe.IDLE,roleSettings:{canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null},bannedUsers:[],pageBannedUsers:1,totalPagesBannedUsers:1,isLoading:!1,numberOfMessages:nn,startMessageId:0,remainingTopMessagesCount:0,lastTopMessageId:0,remainingBottomMessagesCount:nn,lastBottomMessageId:0,allMessagesCount:0,messageIsLoading:Qe.IDLE,error:""},nP=Ao({name:"testServer",initialState:yB,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{const r=t.payload;if(e.currentChannelId=r,r){const n=e.serverData.channels.textChannels.find(s=>s.channelId===r);n&&(e.startMessageId=n.lastReadedMessageId)}e.numberOfMessages=0,e.remainingTopMessagesCount=0,e.lastTopMessageId=0,e.allMessagesCount=0,e.remainingBottomMessagesCount=nn,e.lastBottomMessageId=0,e.messages=[]},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;console.log(t.payload),r===e.currentChannelId&&e.messages.push(t.payload)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",icon:null,isClosed:!1,roles:[],userRoles:[],users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},e.roleSettings={canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null},e.numberOfMessages=0,e.startMessageId=0,e.remainingTopMessagesCount=0,e.lastTopMessageId=0,e.allMessagesCount=0,e.remainingBottomMessagesCount=nn,e.lastBottomMessageId=0},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)},editChannelName:(e,t)=>{const{channelId:r,newName:n}=t.payload,s=e.serverData.channels.textChannels.find(c=>c.channelId===r);if(s){s.channelName=n;return}const i=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);if(i){i.channelName=n;return}},addUserOnVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,s=e.serverData.channels.voiceChannels.find(i=>i.channelId===r);s&&(s.users.some(i=>i.userId===n)||s.users.push({userId:n,muteStatus:rP.NotMuted,isMuted:!1}))},removeUserFromVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,s=e.serverData.channels.voiceChannels.find(i=>i.channelId===r);s&&(s.users=s.users.filter(i=>i.userId!==n))},toggleUserMuteStatus:(e,t)=>{const{channelId:r,userId:n,isMuted:s}=t.payload,i=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);i&&(i.users=i.users.map(c=>c.userId===n?{...c,isMuted:s}:c))},updatedRole:(e,t)=>{const{roleId:r,name:n,color:s}=t.payload,i=e.serverData.roles.findIndex(c=>c.id===r);i!==-1&&(e.serverData.roles[i]={...e.serverData.roles[i],name:n,color:s}),e.serverData.users=e.serverData.users.map(c=>(c.roles=c.roles.map(l=>l.roleId===r?{...l,roleName:n}:l),c))},readMessageWs:(e,t)=>{const{readChannelId:r,readedMessageId:n,serverId:s}=t.payload,i=e.serverData.channels.textChannels.findIndex(l=>l.channelId===r);i>=0&&(e.serverData.channels.textChannels[i].nonReadedCount-=1,e.serverData.channels.textChannels[i].lastReadedMessageId=n);const c=e.serversList.findIndex(l=>l.serverId===s);c>=0&&(e.serversList[c].nonReadedCount-=1)},changeReadedCount:(e,t)=>{const{channelId:r,serverId:n}=t.payload,s=e.serverData.channels.textChannels.findIndex(c=>c.channelId===r);s>=0&&(e.serverData.channels.textChannels[s].nonReadedCount+=1);const i=e.serversList.findIndex(c=>c.serverId===n);i>=0&&(e.serversList[i].nonReadedCount+=1)},readOwnMessage:(e,t)=>{const{channelId:r,readedMessageId:n}=t.payload,s=e.serverData.channels.textChannels.findIndex(i=>i.channelId===r);s>=0&&(e.serverData.channels.textChannels[s].lastReadedMessageId=n)},addRoleToUserWs:(e,t)=>{const{userId:r,roleId:n}=t.payload,s=e.serverData.roles.find(i=>i.id===n);if(s){const i=e.serverData.users.findIndex(c=>c.userId===r);i>=0&&(e.serverData.users[i].roles=[...e.serverData.users[i].roles,{roleId:s.id,roleName:s.name,roleType:s.type}])}},removeRoleFromUserWs:(e,t)=>{const{userId:r,roleId:n}=t.payload;if(e.serverData.roles.find(i=>i.id===n)){const i=e.serverData.users.findIndex(c=>c.userId===r);i>=0&&(e.serverData.users[i].roles=e.serverData.users[i].roles.filter(c=>c.roleId!==n))}}},extraReducers:e=>{e.addCase($s.pending,t=>{t.isLoading=!0,t.error=""}).addCase($s.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase($s.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Ir.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",icon:null,isClosed:!1,roles:[],userRoles:[],users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},t.currentChannelId=null,t.numberOfMessages=0,t.startMessageId=0,t.remainingTopMessagesCount=0,t.lastTopMessageId=0,t.allMessagesCount=0,t.remainingBottomMessagesCount=nn,t.lastBottomMessageId=0,t.error=""}).addCase(Ir.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let s=t.currentChannelId;if(!n.find(c=>c.channelId===s)){s=n.length>0?n[0].channelId:null,t.currentChannelId=s;const c=r.payload.channels.textChannels.find(l=>l.channelId===s);c&&(t.startMessageId=c.lastReadedMessageId),t.messages=[]}t.isLoading=!1,t.error=""}).addCase(Ir.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Du.pending,t=>{t.error=""}).addCase(Du.fulfilled,t=>{t.error=""}).addCase(Du.rejected,(t,r)=>{t.error=r.payload}).addCase(Hg.pending,t=>{t.error=""}).addCase(Hg.fulfilled,t=>{t.error=""}).addCase(Hg.rejected,(t,r)=>{t.error=r.payload}).addCase(Wg.pending,t=>{t.error=""}).addCase(Wg.fulfilled,t=>{t.error=""}).addCase(Wg.rejected,(t,r)=>{t.error=r.payload}).addCase(Lu.pending,t=>{t.error=""}).addCase(Lu.fulfilled,t=>{t.error=""}).addCase(Lu.rejected,(t,r)=>{t.error=r.payload}).addCase(Ou.pending,t=>{t.messagesStatus=Qe.PENDING,t.numberOfMessages=0,t.startMessageId=0,t.remainingTopMessagesCount=0,t.allMessagesCount=0,t.remainingBottomMessagesCount=nn,t.isLoading=!0,t.error=""}).addCase(Ou.fulfilled,(t,r)=>{const{payload:n}=r,{messages:s,allMessagesCount:i,remainingMessagesCount:c,startMessageId:l}=n;if(t.messages=s,t.hasNewMessage=!1,t.messagesStatus=Qe.FULFILLED,t.isLoading=!1,t.remainingTopMessagesCount=c,s.length>0?t.lastTopMessageId=s[0].id:t.lastTopMessageId=0,t.lastTopMessageId=s.length>0?s[0].id:0,t.lastBottomMessageId=s.length>0?s[s.length-1].id:0,s.length>0){const u=s[s.length-1];(u==null?void 0:u.id)===i&&(t.remainingBottomMessagesCount=0)}else i===0&&(t.remainingBottomMessagesCount=0);t.allMessagesCount=i,t.startMessageId=l,t.error=""}).addCase(Ou.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=Qe.REJECTED,t.error=r.payload}).addCase(ya.pending,t=>{t.messageIsLoading=Qe.PENDING,t.error=""}).addCase(ya.fulfilled,(t,r)=>{const{payload:n,meta:s}=r,{messages:i,remainingMessagesCount:c,allMessagesCount:l}=n,{down:u}=s.arg;if(u){const d=i.slice(1);t.messages=[...t.messages,...d],t.remainingBottomMessagesCount=c;const m=d.at(-1);m&&(t.lastBottomMessageId=m.id)}else{const d=i.slice(0,-1);t.messages=[...d,...t.messages],t.remainingTopMessagesCount=c,t.lastTopMessageId=i[0].id}t.messageIsLoading=Qe.FULFILLED,t.allMessagesCount=l,t.error=""}).addCase(ya.rejected,(t,r)=>{t.messageIsLoading=Qe.REJECTED,t.error=r.payload}).addCase(qg.pending,t=>{t.error=""}).addCase(qg.fulfilled,t=>{t.error=""}).addCase(qg.rejected,(t,r)=>{t.error=r.payload}).addCase(Gg.pending,t=>{t.error=""}).addCase(Gg.fulfilled,t=>{t.error=""}).addCase(Gg.rejected,(t,r)=>{t.error=r.payload}).addCase(Kg.pending,t=>{t.error=""}).addCase(Kg.fulfilled,t=>{t.error=""}).addCase(Kg.rejected,(t,r)=>{t.error=r.payload}).addCase(ol.pending,t=>{t.error=""}).addCase(ol.fulfilled,t=>{t.error=""}).addCase(ol.rejected,(t,r)=>{t.error=r.payload}).addCase(il.pending,t=>{t.error=""}).addCase(il.fulfilled,t=>{t.error=""}).addCase(il.rejected,(t,r)=>{t.error=r.payload}).addCase(sl.pending,t=>{t.error=""}).addCase(sl.fulfilled,t=>{t.error=""}).addCase(sl.rejected,(t,r)=>{t.error=r.payload}).addCase(Au.pending,t=>{t.error=""}).addCase(Au.fulfilled,t=>{t.error=""}).addCase(Au.rejected,(t,r)=>{t.error=r.payload}).addCase($u.pending,t=>{t.error=""}).addCase($u.fulfilled,t=>{t.error=""}).addCase($u.rejected,(t,r)=>{t.error=r.payload}).addCase(Fu.pending,t=>{t.error=""}).addCase(Fu.fulfilled,t=>{t.error=""}).addCase(Fu.rejected,(t,r)=>{t.error=r.payload}).addCase(zu.pending,t=>{t.error=""}).addCase(zu.fulfilled,t=>{t.error=""}).addCase(zu.rejected,(t,r)=>{t.error=r.payload}).addCase(Bu.pending,t=>{t.error=""}).addCase(Bu.fulfilled,t=>{t.error=""}).addCase(Bu.rejected,(t,r)=>{t.error=r.payload}).addCase(Wu.fulfilled,(t,{meta:r})=>{const{userId:n}=r.arg;t.bannedUsers.length>0&&(t.bannedUsers=t.bannedUsers.filter(s=>s.userId!==n))}).addCase(al.fulfilled,(t,r)=>{console.log(r.payload),t.bannedUsers=r.payload.bannedList,t.pageBannedUsers=r.payload.page,t.totalPagesBannedUsers=r.payload.total,t.error=""}).addCase(qu.fulfilled,(t,{meta:r})=>{const{voiceChannelId:n,maxCount:s}=r.arg,i=t.serverData.channels.voiceChannels.findIndex(c=>c.channelId===n);i!==-1&&(t.serverData.channels.voiceChannels[i]={...t.serverData.channels.voiceChannels[i],maxCount:s}),t.error=""}).addCase(Mu.pending,t=>{t.error=""}).addCase(Mu.fulfilled,t=>{t.error=""}).addCase(Mu.rejected,(t,r)=>{t.error=r.payload}).addCase(Nu.pending,t=>{t.error=""}).addCase(Nu.fulfilled,t=>{t.error=""}).addCase(Nu.rejected,(t,r)=>{t.error=r.payload}).addCase(Gu.pending,t=>{t.error=""}).addCase(Gu.fulfilled,(t,r)=>{t.serverData.icon=r.payload,t.error=""}).addCase(Gu.rejected,(t,r)=>{t.error=r.payload}).addMatcher(xr(Vu.fulfilled),(t,r)=>{t.roleSettings=r.payload,t.error=""}).addMatcher(xr(Vu.pending,Uu.pending,Hu.pending,al.pending,Wu.pending,qu.pending),t=>{t.error=""}).addMatcher(xr(Uu.fulfilled,Hu.fulfilled),t=>{t.error=""}).addMatcher(xr(Vu.rejected,Uu.rejected,Hu.rejected,al.rejected,Wu.rejected,qu.rejected),(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:sP,setCurrentChannelId:sS,setCurrentVoiceChannelId:wa,addMessage:wB,deleteMessageWs:SB,editMessageWs:bB,addUserWs:_B,deleteUserWs:xB,clearServerData:oS,clearHasNewMessage:CB,setNewServerName:RB,setNewUserName:EB,removeUser:TB,removeServer:kB,editChannelName:PB,addUserOnVoiceChannel:IB,removeUserFromVoiceChannel:jB,toggleUserMuteStatus:DB,updatedRole:MB,readMessageWs:NB,changeReadedCount:LB,readOwnMessage:OB,addRoleToUserWs:AB,removeRoleFromUserWs:$B}=nP.actions,FB=nP.reducer,Sa=e=>({fileId:e.FileId,fileName:e.FileName,fileType:e.FileType,fileSize:e.FileSize}),oP=e=>({messageType:Di.Classic,serverId:e.ServerId||null,channelId:e.ChannelId,id:e.Id,authorId:e.AuthorId,createdAt:e.CreatedAt,text:e.Text}),lC=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannel:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage?oP(e.ReplyToMessage):null,messageType:Di.Classic,files:e.Files?e.Files.map(Sa):null}),dC=e=>({text:e.Text,modifiedAt:e.ModifiedAt||null,id:e.Id,authorId:e.AuthorId,createdAt:e.CreatedAt,replyToMessage:e.ReplyToMessage?e.ReplyToMessage:null,files:e.Files?e.Files.map(Sa):null,nestedChannel:e.NestedChannelId||null,messageType:Di.Classic,serverId:e.ServerId,channelId:e.ChannelId}),zB=e=>({serverId:e.ServerId,userId:e.UserId,userName:e.UserName,userTag:e.UserTag,icon:e.Icon,notifiable:e.Notifiable,friendshipApplication:e.FriendshipApplication,nonFriendMessage:e.NonFriendMessage,roles:e.Roles,isFriend:e.IsFriend}),BB=e=>e instanceof Error?e.message:String(e),iS=e=>e.map(t=>{const r=t.users.reduce((n,s)=>(n[s.socketId]||(n[s.socketId]={userName:s.userName,userId:s.userId,producerIds:[]}),n[s.socketId].producerIds.push(s.producerId),n),{});return{roomName:t.roomName,users:r}}),iP=e=>{const[t,r,n]=e.split("-").map(s=>s.padStart(2,"0"));return`${n}.${r}.${t}`},UB=e=>({text:e.Text,modifiedAt:e.ModifiedAt,nestedChannel:e.NestedChannel,files:e.Files?e.Files.map(Sa):null,messageType:Di.Classic,serverId:e.ServerId,serverName:e.ServerName,channelId:e.ChannelId,channelName:e.ChannelName,id:e.Id,authorId:e.AuthorId,createdAt:e.CreatedAt,replyToMessage:e.ReplyToMessage?oP(e.ReplyToMessage):null}),aP=()=>{const e=re(d=>d.testServerStore.messages),t=re(d=>d.testServerStore.messageIsLoading),r=re(d=>d.testServerStore.remainingTopMessagesCount),n=re(d=>d.testServerStore.lastTopMessageId),s=re(d=>d.testServerStore.remainingBottomMessagesCount),i=re(d=>d.testServerStore.lastBottomMessageId),c=re(d=>d.testServerStore.startMessageId),l=re(d=>d.testServerStore.allMessagesCount),u=re(d=>d.testServerStore.currentChannelId);return{messages:e,messagesStatus:t,remainingTopMessagesCount:r,lastTopMessageId:n,remainingBottomMessagesCount:s,lastBottomMessageId:i,startMessageId:c,allMessagesCount:l,entityId:u}},cP=()=>{const e=re(d=>d.chatsStore.messages),t=re(d=>d.chatsStore.messagesStatus),r=re(d=>d.chatsStore.remainingTopMessagesCount),n=re(d=>d.chatsStore.lastTopMessageId),s=re(d=>d.chatsStore.remainingBottomMessagesCount),i=re(d=>d.chatsStore.lastBottomMessageId),c=re(d=>d.chatsStore.startMessageId),l=re(d=>d.chatsStore.allMessagesCount),u=re(d=>d.chatsStore.activeChat);return{messages:e,messagesStatus:t,remainingTopMessagesCount:r,lastTopMessageId:n,remainingBottomMessagesCount:s,lastBottomMessageId:i,startMessageId:c,allMessagesCount:l,entityId:u}},VB=async e=>{const{data:t}=await lt.post("/chat/create",{userTag:e});return t},HB=async(e,t)=>{await lt.put("/chat/name",{chatId:e,name:t})},WB=async()=>{const{data:e}=await lt.get("/chat/list");return e},qB=async e=>{const{data:t}=await lt.get("/chat/info",{params:{id:e}});return t},iy=async(e,t,r,n)=>{const{data:s}=await lt.get("/chat/messages",{params:{chatId:e,number:t,fromMessageId:r,down:n}});return s},GB=async(e,t)=>{await lt.put("/chat/add",{chatId:e,userTag:t})},KB=async e=>{await lt.delete("/chat/goout",{data:{id:e}})},Ku=xe("chatsSlice/createChat",async({userTag:e},{rejectWithValue:t})=>{var r,n;try{return await VB(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Xu=xe("chatsSlice/changeChatName",async({chatId:e,name:t},{rejectWithValue:r})=>{var n,s;try{await HB(e,t)}catch(i){return i instanceof wt?r(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||" "):r(" ")}}),Yu=xe("chatsSlice/getChats",async(e,{rejectWithValue:t})=>{var r,n;try{return await WB()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Qu=xe("chatsSlice/getChatInfo",async({chatId:e},{rejectWithValue:t})=>{var r,n;try{return await qB(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Ju=xe("chatsSlice/getChatMessages",async({chatId:e,number:t,fromMessageId:r,down:n},{rejectWithValue:s,getState:i})=>{var c,l,u;try{const d=await iy(e,t,r,n);if(d.messages.length>0)return d;const y=(c=i().chatsStore.chatsList)==null?void 0:c.find(x=>x.chatId===e),S=((y==null?void 0:y.nonReadedCount)??0)>0||((y==null?void 0:y.nonReadedTaggedCount)??0)>0;return!n&&r!==0&&d.messages.length===0&&S?await iy(e,t,r,!0):d}catch(d){return d instanceof wt?s(((u=(l=d.response)==null?void 0:l.data)==null?void 0:u.message)||" "):s(" ")}}),cl=xe("chatsSlice/getMoreChatMessages",async({chatId:e,number:t,fromMessageId:r,down:n},{rejectWithValue:s})=>{var i,c;try{return await iy(e,t,r,n)}catch(l){return l instanceof wt?s(((c=(i=l.response)==null?void 0:i.data)==null?void 0:c.message)||" "):s(" ")}}),Zu=xe("chatsSlice/addUserInChat",async({chatId:e,userTag:t},{rejectWithValue:r})=>{var n,s;try{await GB(e,t)}catch(i){return i instanceof wt?r(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||" "):r(" ")}}),ef=xe("chatsSlice/goOutFromChat",async({id:e},{rejectWithValue:t})=>{var r,n;try{await KB(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),XB={chatsList:[],chatsLoading:Qe.IDLE,error:"",chat:{chatId:"",chatName:"",users:[],nonReadedCount:0,nonReadedTaggedCount:0,lastReadedMessageId:0,nonNotifiable:!1,icon:null},activeChat:null,chatLoading:Qe.IDLE,messages:[],messagesStatus:Qe.IDLE,messageIsLoading:Qe.IDLE,remainingTopMessagesCount:0,lastTopMessageId:0,remainingBottomMessagesCount:nn,lastBottomMessageId:0,startMessageId:0,allMessagesCount:0},lP=Ao({name:"chats",initialState:XB,reducers:{setActiveChat:(e,t)=>{e.activeChat=t.payload,e.error=""},addChatMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.activeChat&&e.messages.push(t.payload)},deleteChatMessageWS:(e,t)=>{e.activeChat===t.payload.chatId&&(e.messages=e.messages.filter(r=>r.id!==t.payload.messageId))},editChatMessageWS:(e,t)=>{if(e.activeChat===t.payload.channelId){const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)}},readChatMessageWs:(e,t)=>{const{readChatId:r,readedMessageId:n}=t.payload;e.activeChat===r&&(e.chat.nonReadedCount-=1,e.chat.lastReadedMessageId=n)},changeChatReadedCount:(e,t)=>{const{readChatId:r}=t.payload;e.activeChat===r&&(e.chat.nonReadedCount+=1);const n=e.chatsList.findIndex(s=>s.chatId===r);n>=0&&(e.chatsList[n].nonReadedCount+=1)},readOwnChatMessage:(e,t)=>{const{readChatId:r,readedMessageId:n}=t.payload;e.activeChat===r&&(e.chat.lastReadedMessageId=n)},addUserInChatWs:(e,t)=>{const{chatId:r}=t.payload;e.activeChat===r&&e.chat.users.push(t.payload)},addChat:(e,t)=>{e.chatsList.push(t.payload)},updateChatIcon:(e,t)=>{const{chatId:r,icon:n}=t.payload,s=e.chatsList.findIndex(i=>i.chatId===r);s>=0&&(e.chatsList[s].icon=n),e.activeChat===r&&(e.chat.icon=n)}},extraReducers:e=>{e.addCase(Ku.pending,t=>{t.error=""}).addCase(Ku.fulfilled,(t,r)=>{t.chatsList=[...t.chatsList,r.payload],t.error=""}).addCase(Ku.rejected,(t,r)=>{t.error=r.payload}).addCase(Xu.pending,t=>{t.error=""}).addCase(Xu.fulfilled,(t,{meta:r})=>{const{chatId:n,name:s}=r.arg;t.chatsList=t.chatsList.map(i=>i.chatId===n?{...i,name:s}:i),t.chat.chatId===n&&(t.chat.chatName=s),t.error=""}).addCase(Xu.rejected,(t,r)=>{t.error=r.payload}).addCase(Yu.pending,t=>{t.error="",t.chatsList=[],t.chatsLoading=Qe.PENDING}).addCase(Yu.fulfilled,(t,r)=>{t.chatsList=r.payload.chatsList,t.chatsLoading=Qe.FULFILLED,t.error=""}).addCase(Yu.rejected,(t,r)=>{t.chatsLoading=Qe.REJECTED,t.chat={chatId:"",chatName:"",users:[],nonReadedCount:0,nonReadedTaggedCount:0,lastReadedMessageId:0,nonNotifiable:!1,icon:null},t.error=r.payload}).addCase(Qu.pending,t=>{t.error="",t.chat={chatId:"",chatName:"",users:[],nonReadedCount:0,nonReadedTaggedCount:0,lastReadedMessageId:0,nonNotifiable:!1,icon:null},t.remainingTopMessagesCount=0,t.lastTopMessageId=0,t.remainingBottomMessagesCount=nn,t.lastBottomMessageId=0,t.startMessageId=0,t.allMessagesCount=0,t.messages=[],t.chatLoading=Qe.PENDING}).addCase(Qu.fulfilled,(t,r)=>{t.chat=r.payload,t.startMessageId=r.payload.lastReadedMessageId,t.chatLoading=Qe.FULFILLED,t.error=""}).addCase(Qu.rejected,(t,r)=>{t.chatLoading=Qe.REJECTED,t.error=r.payload}).addCase(Ju.pending,t=>{t.messagesStatus=Qe.PENDING,t.remainingTopMessagesCount=0,t.lastTopMessageId=0,t.remainingBottomMessagesCount=nn,t.lastBottomMessageId=0,t.allMessagesCount=0,t.messages=[],t.error=""}).addCase(Ju.fulfilled,(t,r)=>{const{payload:n}=r,{messages:s,allMessagesCount:i,remainingMessagesCount:c}=n;if(t.messages=s,s.length>0?t.remainingTopMessagesCount=c:t.remainingTopMessagesCount=0,t.lastTopMessageId=s.length>0?s[0].id:0,t.lastBottomMessageId=s.length>0?s[s.length-1].id:0,s.length>0){const l=s[s.length-1];(l==null?void 0:l.id)===i&&(t.remainingBottomMessagesCount=0)}t.allMessagesCount=i,t.messagesStatus=Qe.FULFILLED,t.error=""}).addCase(Ju.rejected,(t,r)=>{t.messagesStatus=Qe.REJECTED,t.error=r.payload}).addCase(cl.pending,t=>{t.messageIsLoading=Qe.PENDING,t.error=""}).addCase(cl.fulfilled,(t,r)=>{const{payload:n,meta:s}=r,{messages:i,remainingMessagesCount:c,allMessagesCount:l}=n,{down:u}=s.arg;if(u){const d=i.slice(1);t.messages=[...t.messages,...d],t.remainingBottomMessagesCount=c;const m=d.at(-1);m&&(t.lastBottomMessageId=m.id)}else{const d=i.slice(0,-1);t.messages=[...d,...t.messages],t.remainingTopMessagesCount=c,t.lastTopMessageId=i[0].id}t.messageIsLoading=Qe.FULFILLED,t.allMessagesCount=l,t.error=""}).addCase(cl.rejected,(t,r)=>{t.messageIsLoading=Qe.REJECTED,t.error=r.payload}).addCase(ef.fulfilled,(t,{meta:r})=>{const n=r.arg.id;t.chatsList=t.chatsList.filter(s=>s.chatId!==n),t.error=""}).addMatcher(xr(Zu.pending,ef.pending),t=>{t.error=""}).addMatcher(xr(Zu.fulfilled),t=>{t.error=""}).addMatcher(xr(Zu.rejected,ef.rejected),(t,r)=>{t.error=r.payload})}}),{setActiveChat:ba,addChatMessage:YB,deleteChatMessageWS:QB,editChatMessageWS:JB,readChatMessageWs:ZB,changeChatReadedCount:eU,readOwnChatMessage:tU,addUserInChatWs:rU,addChat:nU,updateChatIcon:sU}=lP.actions,oU=lP.reducer,dP=({messagesStatus:e,dependencies:t=[],type:r="chat"})=>{const n=We(),s=I.useRef(null),[i,c]=I.useState(!0),[l,u]=I.useState(!1),{accessToken:d}=re(T=>T.userStore),m=cP(),v=aP(),{lastBottomMessageId:y,remainingBottomMessagesCount:S,entityId:w}=r==="chat"?m:v,x=I.useCallback(()=>{if(!s.current)return;const{scrollTop:T,scrollHeight:C,clientHeight:h}=s.current,g=T+h>=C-1;c(g),g&&u(!1)},[s]),R=I.useCallback(async(T="smooth")=>{if(s.current){if(S>0&&w){const C=S+1;r==="channel"?await n(ya({accessToken:d,channelId:w,number:C,fromMessageId:y,down:!0})):await n(cl({chatId:w,number:C,fromMessageId:y,down:!0}))}s.current.scrollTo({top:s.current.scrollHeight,behavior:T}),u(!1)}},[s]);return I.useEffect(()=>{i?s.current&&(s.current.scrollTo({top:s.current.scrollHeight,behavior:"smooth"}),r==="channel"&&n(CB())):u(!0)},[...t,i,R]),I.useEffect(()=>{e===Qe.FULFILLED&&s.current&&s.current.scrollTo({top:s.current.scrollHeight,behavior:"instant"})},[e]),{scrollRef:s,isAtBottom:i,showButton:l,handleScroll:x,scrollToBottom:R}},uP=()=>{const{roles:e}=re(r=>r.testServerStore.serverData);return{getRoleColor:r=>{const n=e.find(s=>s.id==r);return n?n.color:""}}},Wc=new Map,Vl=(e,t={})=>{const[r,n]=I.useState(null),[s,i]=I.useState(!1),[c,l]=I.useState(null);return I.useEffect(()=>{if(t.skip||!e){n(null);return}if(Wc.has(e)){n(Wc.get(e));return}(async()=>{i(!0),l(null);try{const m=await cC(e),v=`data:${m.fileType};base64,${m.base64File}`;Wc.set(e,v),n(v)}catch(m){console.error("Error fetching icon:",m),l("Failed to load icon"),n(null)}finally{i(!1)}})()},[e,t.skip]),{iconBase64:r,loading:s,error:c,refetch:async()=>{if(e){Wc.delete(e),i(!0);try{const d=await cC(e),m=`data:${d.fileType};base64,${d.base64File}`;Wc.set(e,m),n(m)}catch(d){console.error("Error refetching icon:",d),l("Failed to reload icon")}finally{i(!1)}}},isEmpty:!e}},fP=I.createContext(null),iU={isUserStreamView:!1,isOpenHome:!0},pP=Ao({name:"app",initialState:iU,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:hP,setUserStreamView:Ss,setOpenHome:Mi}=pP.actions,aU=pP.reducer,cU=e=>{const t=We(),r=Al(),{showMessage:n,showError:s}=Xt(),{accessToken:i,user:c}=re(b=>b.userStore),{currentServerId:l,currentVoiceChannelId:u}=re(b=>b.testServerStore),d=I.useRef(null),m=I.useRef(null),v=I.useRef(void 0),y=I.useRef(u),S=I.useRef(0);I.useEffect(()=>{m.current=l},[l]),I.useEffect(()=>{v.current=c.id},[c]),I.useEffect(()=>{y.current=u},[u]),I.useEffect(()=>{S.current=c.notificationLifeTime},[c.notificationLifeTime]),I.useEffect(()=>{if(i){const b=new WebSocket(`wss://hitscord-backend.online/api/wss?accessToken=${i}`);return b.onopen=()=>{setInterval(()=>{b.readyState===WebSocket.OPEN&&b.send(JSON.stringify({type:"ping"}))},5*60*1e3)},b.onmessage=E=>{const k=JSON.parse(E.data),j=m.current,M=v.current,N=y.current,A=S.current;if(console.log(k),k.MessageType==="New user on server"){const O=zB(k.Payload),{ServerId:U}=k.Payload;j===U&&t(_B(O))}if(k.MessageType==="User unsubscribe"){const{UserId:O,ServerId:U}=k.Payload;j===U&&t(xB({UserId:O,ServerId:U}))}if(k.MessageType==="Role changed"){const{ServerId:O}=k.Payload;i&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if((k.MessageType==="New channel"||k.MessageType==="Channel deleted")&&i&&j&&(k.Payload.ChannelType===1&&k.Payload.ChannelId===N&&r(i,N),j===k.Payload.ServerId&&t(Ir({accessToken:i,serverId:j}))),k.MessageType==="New server name"&&j===k.Payload.ServerId&&t(RB({name:k.Payload.Name})),k.MessageType==="New users name on server"&&j===k.Payload.ServerId&&t(EB({userId:k.Payload.UserId,name:k.Payload.Name})),k.MessageType==="User unsubscribe"&&j===k.Payload.ServerId&&t(TB({userId:k.Payload.UserId})),k.MessageType==="You removed from server"&&(k.Payload.IsNeedRemoveFromVC&&r(i,N),t(Mi(!0)),t(kB({serverId:k.Payload.ServerId}))),k.MessageType==="Change channel name"&&k.Payload.ServerId===j&&t(PB({channelId:k.Payload.ChannelId,newName:k.Payload.Name})),k.MessageType==="New user in voice channel"&&k.Payload.ServerId===j&&t(IB({channelId:k.Payload.ChannelId,userId:k.Payload.UserId})),k.MessageType==="User remove from voice channel"&&k.Payload.ServerId===j&&t(jB({channelId:k.Payload.ChannelId,userId:k.Payload.UserId})),k.MessageType==="User change his mute status"&&k.Payload.ServerId===j&&t(DB({channelId:k.Payload.ChannelId,userId:k.Payload.UserId,isMuted:k.Payload.MuteStatus===1})),k.MessageType==="Text channel settings edited"){const{ServerId:O,RoleId:U}=k.Payload;M===U&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="Voice channel settings edited"){const{ServerId:O,RoleId:U}=k.Payload;M===U&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="New role"){const{ServerId:O}=k.Payload;j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="Updated role settings"){const{ServerId:O,Id:U}=k.Payload.Role;M===U&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="Voice channel settings edited"){const{ServerId:O,RoleId:U}=k.Payload;M===U&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="Text channel settings edited"){const{ServerId:O,RoleId:U}=k.Payload;M===U&&j&&j===O&&t(Ir({accessToken:i,serverId:j}))}if(k.MessageType==="New message"){const O=lC(k.Payload);O.id&&O.text&&(t(wB(O)),O.authorId!==c.id?t(LB({channelId:O.channelId,readedMessageId:O.id,serverId:O.serverId})):t(OB({channelId:O.channelId,readedMessageId:O.id,serverId:O.serverId})))}if(k.MessageType==="New message in chat"){const O=dC(k.Payload);O.id&&O.text&&(t(YB(O)),O.authorId!==c.id?t(eU({readChatId:O.channelId,readedMessageId:O.id})):t(tU({readChatId:O.channelId,readedMessageId:O.id})))}if(k.MessageType==="Deleted message"&&t(SB({channelId:k.Payload.ChannelId,messageId:k.Payload.MessageId})),k.MessageType==="Deleted message in chat"&&t(QB({chatId:k.Payload.ChatId,messageId:k.Payload.MessageId})),k.MessageType==="Updated message"){const O=lC(k.Payload);t(bB(O))}if(k.MessageType==="Updated message in chat"){const O=dC(k.Payload);t(JB(O))}if(k.MessageType==="User notified"&&n&&n(UB(k.Payload),A),k.MessageType==="ErrorWithMessage"){const O=`${k.Payload.Object}: ${k.Payload.Message}`;s(O)}k.MessageType==="Role added to user"&&t(AB({channelId:k.Payload.ServerId,userId:k.Payload.UserId,roleId:k.Payload.RoleId})),k.MessageType==="Role removed from user"&&t($B({channelId:k.Payload.ServerId,userId:k.Payload.UserId,roleId:k.Payload.RoleId})),k.MessageType==="New user in chat"&&t(rU({chatId:k.Payload.ChatId,userId:k.Payload.UserId,userName:k.Payload.UserName,userTag:k.Payload.UserTag,icon:k.Payload.Icon?Sa(k.Payload.Icon):null,notifiable:k.Payload.Notifiable,friendshipApplication:k.Payload.FriendshipApplication,nonFriendMessage:k.Payload.NonFriendMessage,isFriend:k.Payload.isFriend})),k.MessageType==="You added to chat"&&t(nU({chatId:k.Payload.ChatId,chatName:k.Payload.ChatName,nonReadedCount:k.Payload.NonReadedCount,nonReadedTaggedCount:k.Payload.NonReadedTaggedCount,lastReadedMessageId:k.Payload.LastReadedMessageId,icon:k.Payload.Icon?Sa(k.Payload.Icon):null})),k.MessageType==="New icon on chat"&&t(sU({chatId:k.Payload.ChatId,icon:Sa(k.Payload.Icon)}))},b.onerror=E=>{console.error("WebSocket error:",E)},d.current=b,()=>{console.log("Closing WebSocket connection"),b.close()}}},[i,t]);const w=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"New message",Content:b};console.log(k),d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),x=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"New message chat",Content:b};console.log(k),d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),R=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"Update message",Content:b};d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),T=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"Update message chat",Content:b};d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),C=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"Delete message",Content:b};console.log(k),d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),h=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"Delete message chat",Content:b};d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]),g=I.useCallback(b=>{var E;if(d.current&&d.current.readyState===WebSocket.OPEN){const k={Type:"See message",Content:b};d.current.send(JSON.stringify(k))}else console.error("WebSocket is not open. Ready state:",(E=d.current)==null?void 0:E.readyState)},[d]);return p.jsx(fP.Provider,{value:{sendMessage:w,sendChatMessage:x,editMessage:R,editChatMessage:T,deleteMessage:C,deleteChatMessage:h,readMessage:g},children:e.children})},qa=()=>{const e=I.useContext(fP);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e},lU=({id:e,type:t,isOwnMessage:r,content:n,replyMessage:s,time:i,modifiedAt:c,authorId:l,channelId:u,files:d,onReplyMessage:m})=>{const{accessToken:v}=re(L=>L.userStore),{currentChannelId:y}=re(L=>L.testServerStore),{activeChat:S}=re(L=>L.chatsStore),[w,x]=I.useState(!1),[R,T]=I.useState(!1),[C,h]=I.useState(n),{getUsername:g,getUserIcon:b}=eP(t),{deleteMessage:E,deleteChatMessage:k,editMessage:j,editChatMessage:M}=qa(),N=I.useMemo(()=>g(l),[g,l]),A=I.useMemo(()=>b(l),[b,l]),{iconBase64:O}=Vl(A),U=()=>{h(n),T(!0)},W=()=>{if(C.trim()){switch(t){case Dt.CHANNEL:j({Token:v,ChannelId:y,MessageId:e,Text:C.trim()});break;case Dt.CHAT:M({Token:v,ChannelId:S,MessageId:e,Text:C.trim()});break}T(!1)}},K=()=>{switch(t){case Dt.CHANNEL:E({Token:v,ChannelId:y,MessageId:e});break;case Dt.CHAT:k({Token:v,ChannelId:S,MessageId:e});break}};return p.jsxs(Se,{justify:"space-between",align:"flex-start",style:{flexDirection:r?"row":"row-reverse"},grow:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[p.jsxs(Se,{gap:"xs",justify:r?"flex-start":"flex-end",style:{opacity:w||R?1:0,transition:"opacity 0.3s ease"},children:[p.jsx(et,{variant:"subtle","aria-label":"reply",onClick:m,children:p.jsx(Mx,{size:20})}),p.jsxs(ot,{position:"bottom-start",shadow:"md",width:150,offset:-30,children:[p.jsx(ot.Target,{children:p.jsx(et,{variant:"subtle","aria-label":"edit",onClick:()=>{},children:p.jsx(JF,{size:20})})}),p.jsxs(ot.Dropdown,{children:[p.jsx(ot.Item,{leftSection:p.jsx(ck,{size:12}),onClick:U,children:""}),p.jsx(ot.Item,{leftSection:p.jsx(Gp,{size:12}),onClick:K,children:""})]})]})]}),p.jsxs(Se,{flex:1,align:"flex-start",style:{flexDirection:r?"row-reverse":"row"},gap:"xs",children:[p.jsx(tr,{size:"md",color:"blue",src:O,children:N?N[0]:"?"}),p.jsxs(we,{gap:"xs",align:r?"flex-end":"flex-start",w:"100%",children:[p.jsxs(Se,{gap:"xs",style:{flexDirection:r?"row-reverse":"row"},children:[p.jsx(be,{fw:500,style:mu.breakText(),children:N}),p.jsx(be,{size:"xs",children:tP(i)}),c&&p.jsx(be,{size:"xs",fs:"italic",children:"()"})]}),p.jsxs(ne,{style:mu.box(r,R),children:[s&&p.jsx(Il,{title:p.jsxs(Se,{gap:"xs",children:[p.jsx(Mx,{size:10}),p.jsx(be,{size:"sm",children:g(s.authorId)})]}),withCloseButton:!1,children:s.text}),R?p.jsxs(we,{gap:"xs",children:[p.jsx(kl,{radius:"md",value:C,onChange:L=>h(L.currentTarget.value),autosize:!0,minRows:1,style:mu.textarea()}),p.jsxs(Se,{gap:"xs",justify:"flex-end",children:[p.jsx(et,{variant:"filled",color:"green",onClick:W,children:p.jsx(Hp,{size:12})}),p.jsx(et,{variant:"filled",color:"red",onClick:()=>T(!1),children:p.jsx(ji,{size:12})})]})]}):p.jsx(be,{style:mu.breakText(),dangerouslySetInnerHTML:{__html:Zk(n)}}),d&&d.length>0&&p.jsx(Vz,{files:d,channelId:u})]})]})]})]})},Xt=()=>{const e=We(),{user:t}=re(c=>c.userStore),r=(c,l)=>{e(sP(c)),e(sS(l)),e(Ss(!1)),e(Mi(!1)),Je.emit("setServer",{serverId:c,userName:t.name,userId:t.id})};return{showSuccess:c=>{Os.show({message:c,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:p.jsx(HF,{})})},showError:c=>{Os.show({title:"",message:c,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:p.jsx(KF,{})})},showMessage:(c,l)=>{Os.show({title:p.jsxs(Se,{gap:"xs",children:[p.jsx(NF,{size:14}),p.jsx(be,{children:" "})]}),message:p.jsxs(we,{gap:0,children:[p.jsxs(Se,{gap:"xs",children:[p.jsx(be,{fw:500,children:c.serverName}),p.jsxs(be,{children:["# ",c.channelName]})]}),p.jsx(be,{lineClamp:2,dangerouslySetInnerHTML:{__html:Zk(c.text)}}),p.jsx(Ee,{variant:"light",size:"xs",radius:"md",mt:"xs",onClick:()=>r(c.serverId,c.channelId),children:"  "})]}),position:"top-right",color:"yellow",radius:"md",autoClose:l*1e3})}}},dU=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n,videoAudioProducer:s,setVideoAudioProducer:i}=ki(),c=I.useRef(null),l=I.useRef(null),u=async()=>{const m=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),v=m.getVideoTracks()[0],y=await r.produce({track:v,appData:{source:"screen-video"}});t(y),c.current=y.id,y.on("trackended",d);const S=m.getAudioTracks()[0];if(S){const w=await r.produce({track:S,appData:{source:"screen-audio"}});i(w),l.current=w.id,w.on("trackended",d)}n(!0)},d=async()=>{const m=localStorage.getItem("accessToken");e?(e.close(),Je.emit("stopProducer",{producerId:e.id,accessToken:m})):Je.emit("stopProducer",{producerId:c.current,accessToken:m}),s?(s.close(),Je.emit("stopProducer",{producerId:s.id,accessToken:m})):Je.emit("stopProducer",{producerId:l.current,accessToken:m}),c.current=null,l.current=null,t(null),i(null),n(!1)};return{startScreenSharing:u,stopScreenSharing:d}},uU=e=>{const[t,r]=I.useState(!1),[n,s]=I.useState(!1),[i,c]=I.useState(!1),[l,u]=I.useState([]),[d,m]=I.useState([]),[v,y]=I.useState(null),[S,w]=I.useState(null),[x,R]=I.useState(null),[T,C]=I.useState(null),[h,g]=I.useState(null),[b,E]=I.useState(null),k=We(),{currentVoiceChannelId:j}=re(O=>O.testServerStore),{accessToken:M}=re(O=>O.userStore),N=O=>{u(U=>[...U,O])},A=()=>{S&&(n?S.resume():S.pause(),k(Bu({accessToken:M})),s(!n))};return I.useEffect(()=>{if(!Je)return;Je.on("producerClosed",({producerId:U})=>{u(W=>W.filter(K=>K.producerId!==U))}),Je.on("producer-closed",({remoteProducerId:U})=>{u(W=>W.filter(K=>K.producerId!==U))}),Je.on("new-producer",({producerId:U})=>{v&&ZT(U,v,N)}),Je.on("updateUsersList",({rooms:U})=>{console.log(U),m(U)});const O=()=>{Je.emit("leaveRoom",{accessToken:M,voiceChannelId:j})};return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O),Je.off("producerClosed"),Je.off("producer-closed"),Je.off("new-producer"),Je.off("updateUsersList")}},[v]),p.jsx(ST.Provider,{value:{isConnected:t,isMuted:n,isStreaming:i,setIsConnected:r,setIsMuted:s,setIsStreaming:c,audioProducer:S,setAudioProducer:w,videoProducer:x,setVideoProducer:R,device:v,setDevice:y,producerTransport:h,setProducerTransport:g,consumers:l,users:d,addConsumer:N,setConsumers:u,toggleMute:A,selectedUserId:b,setSelectedUserId:E,videoAudioProducer:T,setVideoAudioProducer:C},children:e.children})},fU=e=>{const{consumers:t}=ki(),r=I.useRef(new Map),[n,s]=I.useState({});I.useEffect(()=>{t.forEach(({producerId:l,track:u,kind:d,appData:m})=>{const v=m==null?void 0:m.source;if(console.log(d,v,m.source,r.current.has(l)),d==="audio"&&v!=="screen-audio"&&!r.current.has(l)){const y=document.createElement("audio");y.srcObject=new MediaStream([u]),y.autoplay=!0,y.volume=n[l]??1,r.current.set(l,y),document.body.appendChild(y)}});const c=t.map(l=>l.producerId);return r.current.forEach((l,u)=>{c.includes(u)||(l.pause(),l.remove(),r.current.delete(u))}),()=>{r.current.forEach(l=>{l.pause(),l.remove()}),r.current.clear()}},[t,n]);const i=(c,l)=>{s(u=>({...u,[c]:l/100}))};return p.jsx(wT.Provider,{value:{setVolume:i,userVolumes:n},children:e.children})},pU=()=>{const e=I.useContext(wT);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function hU(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const mU=typeof window<"u"?I.useLayoutEffect:I.useEffect;function lr(e,t){mU(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function gU(e,t){e&&hU(e),lr(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),lr(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),lr(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),lr(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),lr(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),lr(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),lr(`mantine-form:${e}:clear-errors`,t.clearErrors),lr(`mantine-form:${e}:reset`,t.reset),lr(`mantine-form:${e}:validate`,t.validate),lr(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),lr(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),lr(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),lr(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),lr(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),lr(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),lr(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),lr(`mantine-form:${e}:reset-touched`,t.resetTouched)}function vU(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function ay(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function yU(e){const[t,r]=I.useState(ay(e)),n=I.useRef(t),s=I.useCallback(u=>{r(d=>{const m=ay(typeof u=="function"?u(d):u);return n.current=m,m})},[]),i=I.useCallback(()=>s({}),[]),c=I.useCallback(u=>{n.current[u]!==void 0&&s(d=>{const m={...d};return delete m[u],m})},[t]),l=I.useCallback((u,d)=>{d==null||d===!1?c(u):n.current[u]!==d&&s(m=>({...m,[u]:d}))},[t]);return{errorsState:t,setErrors:s,clearErrors:i,setFieldError:l,clearFieldError:c}}function cy(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function uC(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function fC(e,t,r,n){if(t===void 0)return r;const s=`${String(e)}`;let i=r;n===-1&&(i=cy(`${s}.${t}`,i));const c={...i},l=new Set;return Object.entries(i).filter(([u])=>{if(!u.startsWith(`${s}.`))return!1;const d=uC(u,s);return Number.isNaN(d)?!1:d>=t}).forEach(([u,d])=>{const m=uC(u,s),v=u.replace(`${s}.${m}`,`${s}.${m+n}`);c[v]=d,l.add(v),l.has(u)||delete c[u]}),c}function wU(e,{from:t,to:r},n){const s=`${e}.${t}`,i=`${e}.${r}`,c={...n};return Object.keys(n).every(l=>{let u,d;if(l.startsWith(s)&&(u=l,d=l.replace(s,i)),l.startsWith(i)&&(u=l.replace(i,s),d=l),u&&d){const m=c[u],v=c[d];return v===void 0?delete c[u]:c[u]=v,m===void 0?delete c[d]:c[d]=m,!1}return!0}),c}function pC(e,t,r){typeof r.value=="object"&&(r.value=ha(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function ha(e){if(typeof e!="object")return e;var t=0,r,n,s,i=Object.prototype.toString.call(e);if(i==="[object Object]"?s=Object.create(e.__proto__||null):i==="[object Array]"?s=Array(e.length):i==="[object Set]"?(s=new Set,e.forEach(function(c){s.add(ha(c))})):i==="[object Map]"?(s=new Map,e.forEach(function(c,l){s.set(ha(l),ha(c))})):i==="[object Date]"?s=new Date(+e):i==="[object RegExp]"?s=new RegExp(e.source,e.flags):i==="[object DataView]"?s=new e.constructor(ha(e.buffer)):i==="[object ArrayBuffer]"?s=e.slice(0):i.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)pC(s,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(s,r=n[t])&&s[r]===e[r]||pC(s,r,Object.getOwnPropertyDescriptor(e,r))}return s||e}function mP(e){return typeof e!="string"?[]:e.split(".")}function ur(e,t){const r=mP(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function Hl(e,t,r){const n=mP(e);if(n.length===0)return r;const s=ha(r);if(n.length===1)return s[n[0]]=t,s;let i=s[n[0]];for(let c=1;c<n.length-1;c+=1){if(i===void 0)return s;i=i[n[c]]}return i[n[n.length-1]]=t,s}function SU(e,{from:t,to:r},n){const s=ur(e,n);if(!Array.isArray(s))return n;const i=[...s],c=s[t];return i.splice(t,1),i.splice(r,0,c),Hl(e,i,n)}function bU(e,t,r,n){const s=ur(e,n);if(!Array.isArray(s))return n;const i=[...s];return i.splice(typeof r=="number"?r:i.length,0,t),Hl(e,i,n)}function _U(e,t,r){const n=ur(e,r);return Array.isArray(n)?Hl(e,n.filter((s,i)=>i!==t),r):r}function xU(e,t,r,n){const s=ur(e,n);if(!Array.isArray(s)||s.length<=r)return n;const i=[...s];return i[r]=t,Hl(e,i,n)}function CU({$values:e,$errors:t,$status:r}){const n=I.useCallback((l,u)=>{r.clearFieldDirty(l),t.setErrors(d=>wU(l,u,d)),e.setValues({values:SU(l,u,e.refValues.current),updateState:!0})},[]),s=I.useCallback((l,u)=>{r.clearFieldDirty(l),t.setErrors(d=>fC(l,u,d,-1)),e.setValues({values:_U(l,u,e.refValues.current),updateState:!0})},[]),i=I.useCallback((l,u,d)=>{r.clearFieldDirty(l),t.setErrors(m=>fC(l,d,m,1)),e.setValues({values:bU(l,u,d,e.refValues.current),updateState:!0})},[]),c=I.useCallback((l,u,d)=>{r.clearFieldDirty(l),e.setValues({values:xU(l,d,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:i,replaceListItem:c}}var Xg,hC;function RU(){return hC||(hC=1,Xg=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var c=i[s];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),Xg}var EU=RU();const gu=Vf(EU);function qc(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(s=>s.startsWith(`${t}.`));return e[t]||n.some(s=>e[s])||!1}return r.some(n=>e[n])}function TU({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[s,i]=I.useState(t),[c,l]=I.useState(e),u=I.useRef(t),d=I.useRef(e),m=I.useCallback(E=>{const k=typeof E=="function"?E(u.current):E;u.current=k,r==="controlled"&&i(k)},[]),v=I.useCallback((E,k=!1)=>{const j=typeof E=="function"?E(d.current):E;d.current=j,(r==="controlled"||k)&&l(j)},[]),y=I.useCallback(()=>m({}),[]),S=I.useCallback(E=>{const k=E?{...n.refValues.current,...E}:n.refValues.current;n.setValuesSnapshot(k),v({})},[]),w=I.useCallback((E,k)=>{m(j=>qc(j,E)===k?j:{...j,[E]:k})},[]),x=I.useCallback((E,k,j)=>{v(M=>qc(M,E)===k?M:{...M,[E]:k},j)},[]),R=I.useCallback((E,k)=>{const j=qc(d.current,E),M=!gu(ur(E,n.getValuesSnapshot()),k),N=cy(E,d.current);N[E]=M,v(N,j!==M)},[]),T=I.useCallback(E=>qc(u.current,E),[]),C=I.useCallback(E=>v(k=>{if(typeof E!="string")return k;const j=cy(E,k);return delete j[E],gu(j,k)?k:j}),[]),h=I.useCallback(E=>{if(E){const j=ur(E,d.current);if(typeof j=="boolean")return j;const M=ur(E,n.refValues.current),N=ur(E,n.valuesSnapshot.current);return!gu(M,N)}return Object.keys(d.current).length>0?qc(d.current):!gu(n.refValues.current,n.valuesSnapshot.current)},[]),g=I.useCallback(()=>d.current,[]),b=I.useCallback(()=>u.current,[]);return{touchedState:s,dirtyState:c,touchedRef:u,dirtyRef:d,setTouched:m,setDirty:v,resetDirty:S,resetTouched:y,isTouched:T,setFieldTouched:w,setFieldDirty:x,setTouchedState:i,setDirtyState:l,clearFieldDirty:C,isDirty:h,getDirty:g,getTouched:b,setCalculatedFieldDirty:R}}function kU({initialValues:e,onValuesChange:t,mode:r}){const n=I.useRef(!1),[s,i]=I.useState(e||{}),c=I.useRef(s),l=I.useRef(s),u=I.useCallback(({values:x,subscribers:R,updateState:T=!0,mergeWithPreviousValues:C=!0})=>{const h=c.current,g=x instanceof Function?x(c.current):x,b=C?{...h,...g}:g;c.current=b,T&&i(b),t==null||t(b,h),R==null||R.filter(Boolean).forEach(E=>E({updatedValues:b,previousValues:h}))},[t]),d=I.useCallback(x=>{var C;const R=ur(x.path,c.current),T=x.value instanceof Function?x.value(R):x.value;if(R!==T){const h=c.current,g=Hl(x.path,T,c.current);u({values:g,updateState:x.updateState}),(C=x.subscribers)==null||C.filter(Boolean).forEach(b=>b({path:x.path,updatedValues:g,previousValues:h}))}},[u]),m=I.useCallback(x=>{l.current=x},[]),v=I.useCallback((x,R)=>{n.current||(n.current=!0,u({values:x,updateState:r==="controlled"}),m(x),R())},[u]),y=I.useCallback(()=>{u({values:l.current,updateState:!0,mergeWithPreviousValues:!1})},[u]),S=I.useCallback(()=>c.current,[]),w=I.useCallback(()=>l.current,[]);return{initialized:n,stateValues:s,refValues:c,valuesSnapshot:l,setValues:u,setFieldValue:d,resetValues:y,setValuesSnapshot:m,initialize:v,getValues:S,getValuesSnapshot:w}}function PU({$status:e}){const t=I.useRef({}),r=I.useCallback((s,i)=>{I.useEffect(()=>(t.current[s]=t.current[s]||[],t.current[s].push(i),()=>{t.current[s]=t.current[s].filter(c=>c!==i)}),[i])},[]),n=I.useCallback(s=>t.current[s]?t.current[s].map(i=>c=>i({previousValue:ur(s,c.previousValues),value:ur(s,c.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function mC(e,t){return e?`${e}-${t.toString()}`:t.toString()}const vu=Symbol("root-rule");function gC(e){const t=ay(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function ly(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((s,i)=>{const c=e[i],l=`${r===""?"":`${r}.`}${i}`,u=ur(l,t);let d=!1;return typeof c=="function"&&(s[l]=c(u,t,l)),typeof c=="object"&&Array.isArray(u)&&(d=!0,u.forEach((m,v)=>ly(c,t,`${l}.${v}`,s)),vu in c&&(s[l]=c[vu](u,t,l))),typeof c=="object"&&typeof u=="object"&&u!==null&&(d||ly(c,t,l,s),vu in c&&(s[l]=c[vu](u,t,l))),s},n)}function dy(e,t){return gC(typeof e=="function"?e(t):ly(e,t))}function yu(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=dy(t,r),s=Object.keys(n.errors).find(i=>e.split(".").every((c,l)=>c===i.split(".")[l]));return{hasError:!!s,error:s?n.errors[s]:null}}const IU="__MANTINE_FORM_INDEX__";function vC(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${IU}`)):!1:!1}function Hs({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:c=!0,validateInputOnChange:l=!1,validateInputOnBlur:u=!1,onValuesChange:d,transformValues:m=x=>x,enhanceGetInputProps:v,validate:y,onSubmitPreventDefault:S="always",touchTrigger:w="change"}={}){const x=yU(n),R=kU({initialValues:r,onValuesChange:d,mode:t}),T=TU({initialDirty:s,initialTouched:i,$values:R,mode:t}),C=CU({$values:R,$errors:x,$status:T}),h=PU({$status:T}),[g,b]=I.useState(0),[E,k]=I.useState({}),[j,M]=I.useState(!1),N=I.useCallback(()=>{R.resetValues(),x.clearErrors(),T.resetDirty(),T.resetTouched(),t==="uncontrolled"&&b(Q=>Q+1)},[]),A=I.useCallback(Q=>{c&&x.clearErrors(),t==="uncontrolled"&&b(ie=>ie+1),Object.keys(h.subscribers.current).forEach(ie=>{const fe=ur(ie,R.refValues.current),ce=ur(ie,Q);fe!==ce&&h.getFieldSubscribers(ie).forEach(ye=>ye({previousValues:Q,updatedValues:R.refValues.current}))})},[c]),O=I.useCallback(Q=>{const ie=R.refValues.current;R.initialize(Q,()=>t==="uncontrolled"&&b(fe=>fe+1)),A(ie)},[A]),U=I.useCallback((Q,ie,fe)=>{const ce=vC(Q,l),ye=ie instanceof Function?ie(ur(Q,R.refValues.current)):ie;T.setCalculatedFieldDirty(Q,ye),w==="change"&&T.setFieldTouched(Q,!0),!ce&&c&&x.clearFieldError(Q),R.setFieldValue({path:Q,value:ie,updateState:t==="controlled",subscribers:[...h.getFieldSubscribers(Q),ce?Oe=>{const Ae=yu(Q,y,Oe.updatedValues);Ae.hasError?x.setFieldError(Q,Ae.error):x.clearFieldError(Q)}:null,(fe==null?void 0:fe.forceUpdate)!==!1&&t!=="controlled"?()=>k(Oe=>({...Oe,[Q]:(Oe[Q]||0)+1})):null]})},[d,y]),W=I.useCallback(Q=>{const ie=R.refValues.current;R.setValues({values:Q,updateState:t==="controlled"}),A(ie)},[d,A]),K=I.useCallback(()=>{const Q=dy(y,R.refValues.current);return x.setErrors(Q.errors),Q},[y]),L=I.useCallback(Q=>{const ie=yu(Q,y,R.refValues.current);return ie.hasError?x.setFieldError(Q,ie.error):x.clearFieldError(Q),ie},[y]),F=(Q,{type:ie="input",withError:fe=!0,withFocus:ce=!0,...ye}={})=>{const Ae={onChange:vU(it=>U(Q,it,{forceUpdate:!1})),"data-path":mC(e,Q)};return fe&&(Ae.error=x.errorsState[Q]),ie==="checkbox"?Ae[t==="controlled"?"checked":"defaultChecked"]=ur(Q,R.refValues.current):Ae[t==="controlled"?"value":"defaultValue"]=ur(Q,R.refValues.current),ce&&(Ae.onFocus=()=>T.setFieldTouched(Q,!0),Ae.onBlur=()=>{if(vC(Q,u)){const it=yu(Q,y,R.refValues.current);it.hasError?x.setFieldError(Q,it.error):x.clearFieldError(Q)}}),Object.assign(Ae,v==null?void 0:v({inputProps:Ae,field:Q,options:{type:ie,withError:fe,withFocus:ce,...ye},form:le}))},$=(Q,ie)=>fe=>{S==="always"&&(fe==null||fe.preventDefault());const ce=K();if(ce.hasErrors)S==="validation-failed"&&(fe==null||fe.preventDefault()),ie==null||ie(ce.errors,R.refValues.current,fe);else{const ye=Q==null?void 0:Q(m(R.refValues.current),fe);ye instanceof Promise&&(M(!0),ye.finally(()=>M(!1)))}},B=Q=>m(Q||R.refValues.current),H=I.useCallback(Q=>{Q.preventDefault(),N()},[]),V=I.useCallback(Q=>Q?!yu(Q,y,R.refValues.current).hasError:!dy(y,R.refValues.current).hasErrors,[y]),G=Q=>`${g}-${Q}-${E[Q]||0}`,se=I.useCallback(Q=>document.querySelector(`[data-path="${mC(e,Q)}"]`),[]),le={watch:h.watch,initialized:R.initialized.current,values:R.stateValues,getValues:R.getValues,setInitialValues:R.setValuesSnapshot,initialize:O,setValues:W,setFieldValue:U,submitting:j,setSubmitting:M,errors:x.errorsState,setErrors:x.setErrors,setFieldError:x.setFieldError,clearFieldError:x.clearFieldError,clearErrors:x.clearErrors,resetDirty:T.resetDirty,setTouched:T.setTouched,setDirty:T.setDirty,isTouched:T.isTouched,resetTouched:T.resetTouched,isDirty:T.isDirty,getTouched:T.getTouched,getDirty:T.getDirty,reorderListItem:C.reorderListItem,insertListItem:C.insertListItem,removeListItem:C.removeListItem,replaceListItem:C.replaceListItem,reset:N,validate:K,validateField:L,getInputProps:F,onSubmit:$,onReset:H,isValid:V,getTransformedValues:B,key:G,getInputNode:se};return gU(e,le),le}const xs="user",jU=`${xs}/registerUser`,DU=`${xs}/loginUser`,MU=`${xs}/getUserProfile`,NU=`${xs}/logoutUser`,LU=`${xs}/refreshTokens`,OU=`${xs}/changeSettings`,AU=`${xs}/changeUserProfile`,$U=`${xs}/changeNotificationLifetime`,FU=`${xs}/changeProfileIcon`,Zs="/auth",zU=`${Zs}/registration`,BU=`${Zs}/login`,UU=`${Zs}/profile/get`,VU=`${Zs}/logout`,HU=`${Zs}/refresh`,WU=e=>`${Zs}/settings/${e}`,qU=`${Zs}/settings/notification/lifetime`,GU=`${Zs}/profile/change`,KU=`${Zs}/icon`,XU=async e=>{const{data:t}=await lt.post(zU,{...e});return t},YU=async e=>{const{data:t}=await lt.post(BU,{...e});return t},QU=async()=>{const{data:e}=await lt.get(UU);return e},JU=async()=>{await lt.delete(VU)},ZU=async e=>{const{data:t}=await lt.post(HU,{},{headers:{Authorization:`Bearer ${e}`}});return t},eV=async e=>{await lt.put(WU(e))},tV=async e=>{await lt.put(qU,{lifeTime:e})},rV=async e=>{const{data:t}=await lt.put(GU,{...e});return t},nV=async e=>{const t=new FormData;t.append("Icon",e);const{data:r}=await lt.put(KU,t,{headers:{"Content-Type":"multipart/form-data"}});return r},Yg=xe(jU,async(e,{rejectWithValue:t})=>{var r,n;try{return XU(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),uy=xe(DU,async(e,{rejectWithValue:t})=>{var r,n;try{return await YU(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),tf=xe(MU,async(e,{rejectWithValue:t})=>{var r,n;try{return await QU()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),Qg=xe(NU,async(e,{rejectWithValue:t})=>{var r,n;try{await JU()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),rf=xe(LU,async({refreshToken:e},{rejectWithValue:t})=>{var r,n;try{return await ZU(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),_a=xe(OU,async({type:e},{rejectWithValue:t})=>{var r,n;try{await eV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),nf=xe($U,async({time:e},{rejectWithValue:t})=>{var r,n;try{await tV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),sf=xe(AU,async({newProfile:e},{rejectWithValue:t})=>{var r,n;try{return await rV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),of=xe(FU,async({icon:e},{rejectWithValue:t})=>{var r,n;try{return await nV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}});var mi=(e=>(e.NOTIFIABLE="notifiable",e.FRIENDSHIP="friendship",e.NONFRIEND="nonfriend",e))(mi||{}),Ut=(e=>(e.ACCESS="accessToken",e.REFRESH="refreshToken",e))(Ut||{});const Jg=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},sV={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:"",notifiable:!1,friendshipApplication:!1,nonFriendMessage:!1,icon:null,notificationLifeTime:0},accessToken:Jg(Ut.ACCESS),refreshToken:Jg(Ut.REFRESH),isLoggedIn:!!Jg(Ut.ACCESS),error:"",loading:Qe.IDLE},gP=Ao({name:xs,initialState:sV,reducers:{clearTokens:e=>{e.accessToken="",e.refreshToken="",e.isLoggedIn=!1}},extraReducers:e=>{e.addCase(Yg.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem(Ut.ACCESS,r.payload.accessToken),localStorage.setItem(Ut.REFRESH,r.payload.refreshToken),t.isLoggedIn=!0}).addCase(uy.fulfilled,(t,r)=>{console.log(r.payload),t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem(Ut.ACCESS,r.payload.accessToken),localStorage.setItem(Ut.REFRESH,r.payload.refreshToken),t.isLoggedIn=!0}).addCase(tf.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Qg.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem(Ut.ACCESS,""),localStorage.setItem(Ut.REFRESH,""),t.isLoggedIn=!1}).addCase(Qg.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem(Ut.ACCESS,""),localStorage.setItem(Ut.REFRESH,""),t.isLoggedIn=!1}).addCase(rf.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.loading=Qe.PENDING}).addCase(rf.fulfilled,(t,r)=>{t.error="",t.loading=Qe.FULFILLED,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem(Ut.ACCESS,r.payload.accessToken),localStorage.setItem(Ut.REFRESH,r.payload.refreshToken)}).addCase(rf.rejected,(t,r)=>{t.error=r.payload,t.loading=Qe.REJECTED,t.accessToken="",t.refreshToken="",localStorage.setItem(Ut.ACCESS,""),localStorage.setItem(Ut.REFRESH,""),t.isLoggedIn=!1}).addCase(_a.fulfilled,(t,{meta:r})=>{const{type:n}=r.arg;switch(n){case mi.FRIENDSHIP:t.user.friendshipApplication=!t.user.friendshipApplication;break;case mi.NONFRIEND:t.user.nonFriendMessage=!t.user.nonFriendMessage;break;case mi.NOTIFIABLE:t.user.notifiable=!t.user.notifiable;break}t.error=""}).addCase(sf.fulfilled,(t,r)=>{t.user=r.payload,t.error=""}).addCase(nf.fulfilled,(t,{meta:r})=>{const{time:n}=r.arg;t.user.notificationLifeTime=n,t.error=""}).addCase(of.fulfilled,(t,r)=>{t.user.icon=r.payload,t.error=""}).addMatcher(xr(_a.pending,sf.pending,Qg.pending,tf.pending,Yg.pending,nf.pending,of.pending),t=>{t.error=""}).addMatcher(xr(Yg.rejected,uy.rejected,_a.rejected,sf.rejected,tf.rejected,nf.rejected,of.rejected),(t,r)=>{t.error=r.payload})}}),{clearTokens:oV}=gP.actions,iV=gP.reducer,Sl=(e,t)=>r=>r.trim().length<e?`${t}    ${e} `:null,zf=(e,t)=>r=>r.trim().length>e?`${t}    ${e} `:null,vP=e=>/^\S+@\S+$/.test(e)?null:"  email",Bf=(...e)=>t=>{for(const r of e){const n=r(t);if(n)return n}return null},aV=()=>{const{accessToken:e}=re(c=>c.userStore),t=We(),r=Js(),n=Hs({initialValues:{mail:"",password:""},validate:{mail:Bf(Sl(6,"Email"),zf(50,"Email"),vP),password:Sl(6,"")}}),s=async c=>{(await t(uy(c))).meta.requestStatus==="fulfilled"&&r("/main")},i=()=>{r("/")};return I.useEffect(()=>{e&&r("/main")},[e,r]),p.jsxs(Kr,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[p.jsxs(Se,{justify:"space-between",align:"center",mb:"md",children:[p.jsx(be,{fw:500,children:"   "}),p.jsx(et,{variant:"subtle",onClick:i,children:p.jsx(Xw,{size:24})})]}),p.jsx("form",{onSubmit:n.onSubmit(s),children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),maxLength:50,required:!0}),p.jsx(Dp,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),p.jsx(Se,{justify:"center",mt:"md",children:p.jsx(Ee,{type:"submit",children:""})})]})})]})},cV=()=>p.jsx(Sn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:p.jsx(aV,{})}),lV=()=>{const{accessToken:e}=re(r=>r.userStore),t=Js();return I.useEffect(()=>{e&&t("/main")},[e,t]),p.jsxs(Sn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[p.jsx(qr,{order:3,children:"   Hitscord!"}),p.jsxs(Se,{gap:"20px",children:[p.jsx(P1,{to:"/login",children:p.jsx(Ee,{variant:"filled",radius:"md",children:""})}),p.jsx(P1,{to:"/register",children:p.jsx(Ee,{variant:"filled",radius:"md",children:""})})]})]})},dV=e=>(e=e.replace(/@([a-zA-Z]+#\d+)/g,"//{usertag:$1}//"),e=e.replace(/@([a-zA-Z0-9_-]+)/g,(t,r)=>/\d/.test(r)?t:`//{roletag:${r}}//`),e),uV=({users:e,roles:t,textareaRef:r,newMessage:n,setNewMessage:s})=>{const[i,c]=I.useState(!1),[l,u]=I.useState([]),[d,m]=I.useState(0),[v,y]=I.useState(null),S=I.useRef(null),w=(k,j)=>{const M=k.slice(0,j),N=M.match(/@([\w#-]*)$/);if(N){const A=N[1];return{type:"user",id:"",display:"",tag:"",startIndex:M.lastIndexOf("@"),searchText:A}}return null},x=k=>{const j=k.searchText.toLowerCase(),M=e.filter(A=>`${A.userName}#${A.userTag}`.toLowerCase().includes(j)).slice(0,5).map(A=>({type:"user",id:A.userId,display:A.userName,tag:`${A.userTag}`,startIndex:k.startIndex,searchText:k.searchText})),N=t.filter(A=>A.name.toLowerCase().includes(j)||A.tag.toLowerCase().includes(j)).slice(0,5).map(A=>({type:"role",id:A.id,display:A.name,tag:A.tag,startIndex:k.startIndex,searchText:k.searchText}));return[...M,...N]},R=()=>{c(!1),y(null)},T=k=>{const j=k.target.value,M=k.target.selectionStart||0;s(j);const N=w(j,M);if(N){const A=x(N);u(A),y(N),c(A.length>0),m(0)}else c(!1),y(null)},C=k=>{if(!v||!r.current)return;const j=n.slice(0,v.startIndex),M=n.slice(r.current.selectionStart||0),N=k.type==="user"?`@${k.tag} `:`@${k.tag} `,A=j+N+M;s(A),c(!1),y(null),setTimeout(()=>{const O=j.length+N.length;r.current.setSelectionRange(O,O),r.current.focus()},0)},h=()=>{m(k=>k<l.length-1?k+1:0)},g=()=>{m(k=>k>0?k-1:l.length-1)},b=()=>{l[d]&&C(l[d])},E=()=>{c(!1),y(null)};return I.useEffect(()=>{if(S.current&&i){const k=S.current.children[d];k&&k.scrollIntoView({block:"nearest"})}},[d,i]),{suggestionsRef:S,suggestions:l,showSuggestions:i,clearSuggestions:R,handleTextChange:T,insertMention:C,downSuggestion:h,upSuggestion:g,enterSuggestion:b,cancelSuggestion:E,selectedSuggestionIndex:d,setSelectedSuggestionIndex:m}},yP=()=>{const e=We(),{uploadedFiles:t}=re(n=>n.filesStore),r=n=>{e(Fz({fileId:n}))};return p.jsx(p.Fragment,{children:t.length>0&&p.jsx(ne,{style:{position:"absolute",bottom:"100%",left:0,right:0,padding:"6px",backgroundColor:"#1E1F22",borderTopLeftRadius:8,borderTopRightRadius:8},children:p.jsx(Nt,{scrollbarSize:4,type:"auto",children:p.jsx(Se,{wrap:"nowrap",children:t.map(n=>p.jsx(Kr,{shadow:"sm",padding:"xs",radius:"md",withBorder:!0,style:{minWidth:140},children:p.jsxs(Se,{gap:"xs",justify:"space-between",align:"center",wrap:"nowrap",children:[p.jsx(nk,{size:16}),p.jsx(be,{size:"xs",truncate:!0,children:n.fileName}),p.jsx(et,{size:"sm",variant:"subtle",color:"red",onClick:()=>r(n.fileId),children:p.jsx(ji,{size:14})})]})},n.fileId))})})})})},fV=({editedContent:e,setIsEditing:t,messageId:r,type:n})=>{const{accessToken:s}=re(m=>m.userStore),{currentChannelId:i}=re(m=>m.testServerStore),{activeChat:c}=re(m=>m.chatsStore),{editMessage:l,editChatMessage:u}=qa(),d=()=>{if(e.trim()){switch(n){case Dt.CHANNEL:l({Token:s,ChannelId:i,MessageId:r,Text:e.trim()});break;case Dt.CHAT:u({Token:s,ChannelId:c,MessageId:r,Text:e.trim()});break}t(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(et,{variant:"subtle",onClick:d,children:p.jsx(Hp,{size:12})}),p.jsx(et,{variant:"subtle",onClick:()=>t(!1),children:p.jsx(ji,{size:12})})]})},pV=({setIsEditing:e,messageId:t,type:r})=>{const{accessToken:n}=re(d=>d.userStore),{currentChannelId:s}=re(d=>d.testServerStore),{activeChat:i}=re(d=>d.chatsStore),{deleteMessage:c,deleteChatMessage:l}=qa(),u=()=>{switch(r){case Dt.CHANNEL:c({Token:n,ChannelId:s,MessageId:t});break;case Dt.CHAT:l({Token:n,ChannelId:i,MessageId:t});break}};return p.jsxs(p.Fragment,{children:[p.jsx(et,{variant:"subtle",onClick:()=>e(!0),children:p.jsx(ck,{size:12})}),p.jsx(et,{variant:"subtle",onClick:u,children:p.jsx(Gp,{size:12})})]})},hV=(e,t)=>{var j;const r=We(),{readMessage:n}=qa(),{accessToken:s}=re(M=>M.userStore),{activeChat:i}=re(M=>M.chatsStore),{currentChannelId:c,currentServerId:l}=re(M=>M.testServerStore),d=((j=re(M=>M.testServerStore.serverData.channels.textChannels).find(M=>M.channelId===c))==null?void 0:j.lastReadedMessageId)||0,m=cP(),v=aP(),{messages:y,messagesStatus:S,startMessageId:w,lastTopMessageId:x,lastBottomMessageId:R,remainingBottomMessagesCount:T,remainingTopMessagesCount:C,entityId:h}=t===Dt.CHAT?m:v,g=I.useRef(null),b=I.useRef(null),E=I.useRef(!1),k=I.useRef(null);return I.useEffect(()=>{t===Dt.CHAT&&i&&r(Qu({chatId:i}))},[i]),I.useEffect(()=>{h&&t===Dt.CHAT&&r(Ju({chatId:h,number:nn,fromMessageId:w,down:w===0}))},[h,w]),I.useEffect(()=>{if(!g.current)return;const M=new IntersectionObserver(async([N])=>{if(!N.isIntersecting||C<1||E.current)return;E.current=!0;const A=Math.min(C,nn);e.current&&(k.current=e.current.scrollHeight),t===Dt.CHANNEL&&h&&await r(ya({accessToken:s,channelId:h,number:A+1,fromMessageId:x,down:!1})),requestAnimationFrame(()=>{if(!e.current||k.current===null)return;const U=e.current.scrollHeight-k.current;e.current.scrollTop=U,k.current=null,E.current=!1})},{root:e.current,threshold:.1});return M.observe(g.current),()=>M.disconnect()},[h,C,x]),I.useEffect(()=>{if(!b.current)return;const M=new IntersectionObserver(([N])=>{if(!N.isIntersecting||T<1)return;const A=Math.min(T,nn);t===Dt.CHAT&&h&&r(cl({chatId:h,number:A+1,fromMessageId:R,down:!0})),console.log(T,R),t===Dt.CHANNEL&&h&&r(ya({accessToken:s,channelId:h,number:A+1,fromMessageId:R,down:!0}))},{root:e.current,threshold:.1});return M.observe(b.current),()=>{M.disconnect()}},[h,T,R]),I.useEffect(()=>{if(!e.current)return;const M=new IntersectionObserver(N=>{N.forEach(A=>{if(A.isIntersecting){const O=Number(A.target.getAttribute("data-message-id")),U=t===Dt.CHANNEL,W=U?c:i;if(!W)return;O>d&&(n({Token:s,isChannel:U,MessageId:O,ChannelId:W}),r(U?NB({readChannelId:W,readedMessageId:O,serverId:l}):ZB({readChatId:W,readedMessageId:O})))}})},{threshold:.5,root:e.current});return y.forEach(N=>{const A=document.querySelector(`[data-message-id="${N.id}"]`);A&&M.observe(A)}),()=>M.disconnect()},[y,d]),{messages:y,messagesStatus:S,firstMessageElementRef:g,lastMessageElementRef:b}},wP=({scrollRef:e,type:t,replyToMessage:r})=>{const{user:n}=re(u=>u.userStore),{messages:s,messagesStatus:i,firstMessageElementRef:c,lastMessageElementRef:l}=hV(e,t);return p.jsxs(we,{gap:"sm",children:[i===Qe.PENDING&&p.jsx(Sn,{justify:"center",align:"center",w:"100%",children:p.jsx(Lo,{})}),s.map((u,d)=>{const m=d===0,v=d===s.length-1;return p.jsx("div",{ref:y=>{m&&(c.current=y),v&&(l.current=y)},"data-message-id":u.id,children:p.jsx(lU,{id:u.id,content:u.text,replyMessage:u.replyToMessage,isOwnMessage:n.id===u.authorId,time:u.createdAt,modifiedAt:u.modifiedAt,authorId:u.authorId,channelId:u.channelId,files:u.files,EditActions:y=>p.jsx(fV,{...y,type:t,messageId:u.id}),DeleteActions:y=>p.jsx(pV,{...y,type:t,messageId:u.id}),type:t,onReplyMessage:()=>r(u)})},u.id)})]})},mV=({openSidebar:e,openDetailsPanel:t})=>{const r=We(),{sendMessage:n}=qa(),{accessToken:s}=re(ce=>ce.userStore),{currentServerId:i,currentChannelId:c,messages:l,messagesStatus:u,serverData:d}=re(ce=>ce.testServerStore),{uploadedFiles:m,loading:v}=re(ce=>ce.filesStore),y=d.users,S=d.roles,w=d.channels.textChannels.find(ce=>ce.channelId===c),{getUsername:x}=eP(Dt.CHANNEL),{scrollRef:R,isAtBottom:T,showButton:C,handleScroll:h,scrollToBottom:g}=dP({messagesStatus:u,dependencies:[l],type:"channel"}),b=w==null?void 0:w.canWrite,E=w==null?void 0:w.nonReadedCount,k=w==null?void 0:w.nonReadedTaggedCount,[j,M]=I.useState(""),[N,A]=I.useState(null),O=I.useRef(null),{suggestions:U,suggestionsRef:W,clearSuggestions:K,handleTextChange:L,showSuggestions:F,downSuggestion:$,upSuggestion:B,enterSuggestion:H,cancelSuggestion:V,insertMention:G,selectedSuggestionIndex:se,setSelectedSuggestionIndex:le}=uV({users:y,roles:S,textareaRef:O,newMessage:j,setNewMessage:M}),Q=()=>{j.trim()&&i&&c&&(n({Token:s,ChannelId:c,Classic:{Text:dV(j.trim()),NestedChannel:!1,Files:m.map(ce=>ce.fileId)},ReplyToMessageId:N?N.id:void 0,MessageType:Di.Classic}),M(""),A(null),K(),r(Jk()))},ie=ce=>{if(!F){ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),Q());return}switch(ce.key){case"ArrowDown":ce.preventDefault(),$();break;case"ArrowUp":ce.preventDefault(),B();break;case"Tab":case"Enter":ce.preventDefault(),H();break;case"Escape":ce.preventDefault(),V();break}},fe=async ce=>{if(!(!ce.target.files||!c)){for(const ye of Array.from(ce.target.files))await r(nl({channelId:c,file:ye})).unwrap();ce.target.value=""}};return p.jsxs(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[p.jsxs(Se,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[p.jsx(et,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:p.jsx(v8,{size:20})}),p.jsx(Mt,{leftSection:p.jsx(O8,{size:16}),placeholder:"..."}),p.jsx(et,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:p.jsx(pk,{size:20})})]}),p.jsx(Rr,{my:"md"}),p.jsx(Nt,{viewportRef:R,style:{flex:1,padding:10},onScrollPositionChange:h,children:p.jsx(wP,{scrollRef:R,type:Dt.CHANNEL,replyToMessage:ce=>A(ce)})}),!T&&C&&p.jsx(ne,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:p.jsx(_w,{size:14,disabled:E<=0&&k<=0,color:k>0?"red":"blue",withBorder:!0,children:p.jsx(et,{size:"lg",variant:"filled",onClick:()=>g(),children:p.jsx(tk,{size:20})})})}),p.jsxs(ne,{pos:"relative",children:[p.jsx(yP,{}),N&&p.jsx(ne,{p:6,children:p.jsx(Il,{title:x(N.authorId),onClose:()=>A(null),children:p.jsx(be,{lineClamp:2,children:N.text})})}),F&&U.length>0&&p.jsx(El,{ref:W,shadow:"md",p:"xs",pos:"absolute",bottom:"100%",left:0,right:0,mb:"xs",mah:200,bg:"#43474f",style:{overflow:"auto",zIndex:1e3},children:p.jsx(we,{gap:"xs",children:U.map((ce,ye)=>p.jsxs(Se,{p:"xs",style:{cursor:"pointer",borderRadius:"4px",backgroundColor:ye===se?"var(--mantine-color-blue-light)":"transparent"},onClick:()=>G(ce),onMouseEnter:()=>le(ye),children:[p.jsx(tr,{size:"sm",color:"blue",children:ce.display.charAt(0).toUpperCase()}),p.jsxs(ne,{children:[p.jsx(be,{size:"sm",fw:500,children:ce.display}),p.jsxs(be,{size:"xs",c:"dimmed",children:["@",ce.tag,"  ",ce.type]})]})]},ce.id))})}),p.jsxs(Se,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[b&&p.jsxs(et,{component:"label",size:"xl",variant:"transparent",disabled:v===Qe.PENDING,children:[p.jsx(ak,{size:20}),p.jsx("input",{type:"file",hidden:!0,multiple:!0,onChange:fe})]}),p.jsx(kl,{ref:O,w:"100%",placeholder:"...",value:j,onChange:L,onKeyDown:ie,autosize:!0,disabled:!b,minRows:1,maxRows:3}),b&&p.jsx(et,{size:"xl",variant:"transparent",onClick:Q,children:p.jsx(lk,{size:20})})]})]})]})},gV=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>p.jsxs(ne,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[p.jsx(tr,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),p.jsx(be,{c:"white",size:"xs",children:t}),r&&p.jsx(Ee,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:p.jsx(Gv,{})})]},e),vV=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>p.jsxs(ne,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[p.jsx(tr,{radius:"xl",size:"lg",color:"blue",children:t[0]}),p.jsx(be,{c:"white",children:t}),r&&p.jsx(Ee,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),yV=({users:e,onOpenStream:t})=>{const r=We(),{currentVoiceChannelId:n}=re(c=>c.testServerStore),i=iS(e).find(c=>c.roomName===n);return p.jsxs(Nt,{style:{flex:1,maxHeight:"100%"},children:[p.jsx(Se,{justify:"flex-end",children:p.jsx(et,{variant:"transparent",onClick:()=>r(hP()),children:p.jsx(TF,{})})}),p.jsx(Np,{cols:{base:2,lg:3},spacing:"sm",children:i&&Object.entries(i.users).map(([c,{userName:l,producerIds:u}])=>{const d=u.length>1;return p.jsx(vV,{socketId:c,userName:l,isStreaming:d,onOpenStream:t},c)})})]})},wV=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=ki(),s=I.useRef(null),i=I.useRef(null),{currentVoiceChannelId:c}=re(w=>w.testServerStore),u=iS(t).find(w=>w.roomName===c),d=I.useRef(null),m=()=>{d.current&&d.current.scrollBy({left:-100,behavior:"smooth"})},v=()=>{d.current&&d.current.scrollBy({left:100,behavior:"smooth"})},y=w=>{n(w)},S=()=>{n(null),s.current&&(i.current=null,s.current.srcObject=null)};return I.useEffect(()=>{if(!Je||!u)return;const w=({producerId:x})=>{e.some(T=>{var C;return T.kind==="video"&&T.producerId===x&&((C=u.users[r])==null?void 0:C.producerIds.includes(x))})&&S()};return Je.on("producerClosed",w),()=>{Je.off("producerClosed",w)}},[Je,e,u,r]),I.useEffect(()=>{var C;if(!r||!u)return;const w=((C=u.users[r])==null?void 0:C.producerIds)??[],x=e.find(h=>h.kind==="video"&&w.includes(h.producerId)),R=e.find(h=>{var g;return h.kind==="audio"&&((g=h.appData)==null?void 0:g.source)==="screen-audio"&&w.includes(h.producerId)}),T=[];if(x!=null&&x.track&&T.push(x.track),R!=null&&R.track&&T.push(R.track),T.length>0){const h=new MediaStream(T);i.current=h,s.current&&(s.current.srcObject=h,s.current.play().catch(g=>console.error("  /:",g)))}},[r,e,u]),p.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?p.jsxs(ne,{style:{position:"relative",flex:1},children:[p.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),p.jsxs(Ee,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[p.jsx(ji,{size:20})," "]}),p.jsxs(ne,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[p.jsx(Ee,{variant:"subtle",color:"gray",onClick:m,style:{zIndex:1},children:p.jsx(BF,{size:20})}),p.jsx(Nt,{viewportRef:d,style:{width:"100%"},children:p.jsx(Sn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:u&&Object.entries(u.users).map(([w,{userName:x,producerIds:R}])=>{const T=R.length>1;return p.jsx(gV,{socketId:w,userName:x,isStreaming:T,handleUserClick:y},w)})})}),p.jsx(Ee,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:p.jsx(pi,{size:20})})]})]}):p.jsx(yV,{users:t,onOpenStream:y})})},SV=()=>{const e=re(r=>r.testServerStore.serverData.users);return{getUserIcon:I.useCallback(r=>{var s;const n=(s=e.find(i=>i.userId===r))==null?void 0:s.icon;return n==null?void 0:n.fileId},[e])}},Zg={group:()=>({width:"100%",overflow:"hidden",cursor:"pointer"}),userName:()=>({flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"}),badge:()=>({maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"})},ev={userName:()=>({flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"}),userTag:()=>({flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"}),roleName:()=>({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"})},eo="friendship",bV=`${eo}/createApplication`,_V=`${eo}/getApplicationsFrom`,xV=`${eo}/getApplicationsTo`,CV=`${eo}/approveApplication`,RV=`${eo}/declineApplication`,EV=`${eo}/deleteApplication`,TV=`${eo}/getFriendshipList`,kV=`${eo}/deleteFriendship`,$o="/friendship",PV=`${$o}/application/create`,IV=`${$o}/application/list/from`,jV=`${$o}/application/list/to`,DV=`${$o}/application/delete`,MV=`${$o}/application/decline`,NV=`${$o}/application/approve`,LV=e=>`${$o}/delete?UserId=${e}`,OV=`${$o}/list`,AV=async e=>{await lt.post(PV,{userTag:e})},$V=async()=>{const{data:e}=await lt.get(IV);return e},FV=async()=>{const{data:e}=await lt.get(jV);return e},zV=async e=>{await lt.delete(DV,{data:{applicationId:e}})},BV=async e=>{await lt.delete(MV,{data:{applicationId:e}})},UV=async e=>{await lt.post(NV,{applicationId:e})},VV=async e=>{await lt.delete(LV(e))},HV=async()=>{const{data:e}=await lt.get(OV);return e},ll=xe(bV,async({userTag:e},{rejectWithValue:t})=>{var r,n;try{await AV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),af=xe(_V,async(e,{rejectWithValue:t})=>{var r,n;try{return await $V()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),cf=xe(xV,async(e,{rejectWithValue:t})=>{var r,n;try{return await FV()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),lf=xe(CV,async({applicationId:e},{rejectWithValue:t})=>{var r,n;try{await UV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),df=xe(RV,async({applicationId:e},{rejectWithValue:t})=>{var r,n;try{await BV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),uf=xe(EV,async({applicationId:e},{rejectWithValue:t})=>{var r,n;try{await zV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),ff=xe(TV,async(e,{rejectWithValue:t})=>{var r,n;try{return await HV()}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),pf=xe(kV,async({userId:e},{rejectWithValue:t})=>{var r,n;try{await VV(e)}catch(s){return s instanceof wt?t(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||st.DEFAULT):t(st.DEFAULT)}}),WV={applicationFrom:[],applicationTo:[],friendshipList:[],error:"",loading:Qe.IDLE},qV=Ao({name:eo,initialState:WV,reducers:{},extraReducers:e=>{e.addCase(af.fulfilled,(t,r)=>{t.applicationFrom=r.payload.applications,t.error=""}).addCase(cf.fulfilled,(t,r)=>{t.applicationTo=r.payload.applications,t.error=""}).addCase(lf.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(s=>s.id!==n),t.error=""}).addCase(df.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(s=>s.id!==n),t.error=""}).addCase(uf.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationFrom=t.applicationFrom.filter(s=>s.id!==n),t.error=""}).addCase(ff.fulfilled,(t,r)=>{t.friendshipList=r.payload.users,t.error=""}).addCase(pf.fulfilled,(t,{meta:r})=>{const n=r.arg.userId;t.friendshipList=t.friendshipList.filter(s=>s.userId!==n),t.error=""}).addMatcher(xr(ll.fulfilled,ll.pending,af.pending,cf.pending,lf.pending,df.pending,uf.pending,ff.pending,pf.pending),t=>{t.error=""}).addMatcher(xr(ll.rejected,af.rejected,cf.rejected,lf.rejected,df.rejected,uf.rejected,ff.rejected,pf.rejected),(t,r)=>{t.error=r.payload})}}),GV=qV.reducer,aS=({userName:e,userTag:t,actions:r})=>p.jsx(Kr,{bg:"#2c2e33",padding:"xs",radius:"md",withBorder:!0,children:p.jsxs(Se,{justify:"space-between",children:[p.jsxs(Se,{children:[p.jsx(tr,{size:"md",color:"blue",children:e[0]}),p.jsxs(we,{gap:"xs",children:[p.jsx(be,{c:"white",children:e}),p.jsx(be,{c:"dimmed",children:t})]})]}),p.jsx(Se,{children:r})]})}),KV=({userOnServer:e,userIcon:t})=>{const r=We(),{showSuccess:n}=Xt(),{getRoleColor:s}=uP(),{applicationFrom:i}=re(x=>x.friendshipStore),{user:c}=re(x=>x.userStore),{userName:l,userTag:u,userId:d,notifiable:m,nonFriendMessage:v}=e,y=e.roles,S=i.find(x=>x.user.userId===d),w=async()=>{(await r(ll({userTag:u}))).meta.requestStatus==="fulfilled"&&n("   ")};return p.jsxs(we,{gap:"xs",justify:"center",align:"center",w:"100%",children:[p.jsx(tr,{size:"lg",color:"blue",src:t,children:l[0]}),p.jsx(be,{c:"white",style:ev.userName(),children:l}),p.jsxs(Se,{children:[p.jsx(be,{c:"dimmed",style:ev.userTag(),children:u}),p.jsx(_E,{value:u,timeout:2e3,children:({copied:x,copy:R})=>p.jsx(ys,{label:x?"":"",withArrow:!0,position:"right",children:p.jsx(et,{color:x?"teal":"gray",variant:"subtle",onClick:R,children:x?p.jsx(Hp,{size:16}):p.jsx(Yw,{size:16})})})})]}),p.jsx(Se,{gap:"sm",children:y.map(x=>p.jsx(_r,{color:s(x.roleId),radius:"md",variant:"light",style:ev.roleName(),children:x.roleName},x.roleId))}),c.id!==d&&p.jsx(Ee,{leftSection:p.jsx(dk,{}),variant:"light",radius:"md",onClick:w,disabled:!!S,children:S?" ":"  "}),p.jsx(Rr,{color:"dimmed",w:"100%"}),p.jsxs(Np,{cols:2,spacing:"xs",verticalSpacing:"xs",children:[p.jsxs(we,{gap:0,align:"center",justify:"center",children:[p.jsx(be,{c:"dimmed",children:""}),p.jsx(be,{fw:700,children:m?"":""})]}),p.jsxs(we,{gap:0,align:"center",justify:"center",children:[p.jsx(be,{c:"dimmed",children:""}),p.jsx(be,{fw:700,children:v?"":""})]})]})]})},XV=({user:e})=>{const{getRoleColor:t}=uP(),{getUserIcon:r}=SV(),{userName:n,roles:s,userId:i}=e,c=I.useMemo(()=>r(i),[r,i]),{iconBase64:l}=Vl(c),[u,d]=I.useState(!1),m=s[0];return p.jsxs(pr,{opened:u,onChange:d,position:"left",radius:"md",children:[p.jsx(pr.Target,{children:p.jsxs(Se,{style:Zg.group(),onClick:()=>d(v=>!v),children:[p.jsx(tr,{size:"md",color:"blue",src:l,children:n[0]}),p.jsxs(we,{children:[p.jsx(ys,{label:n,position:"top-start",withArrow:!0,children:p.jsx(be,{c:"white",style:Zg.userName(),children:n})}),p.jsx(ys,{label:m.roleName,position:"top",withArrow:!0,children:p.jsx(_r,{variant:"light",color:t(m.roleId),style:Zg.badge(),children:m.roleName})})]})]})}),p.jsx(pr.Dropdown,{bg:"#43474f",children:p.jsx(KV,{userOnServer:e,userIcon:l})})]})},YV=()=>{const{serverData:e}=re(t=>t.testServerStore);return p.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:p.jsxs(we,{gap:"md",h:"100%",children:[p.jsx(be,{c:"white",children:""}),p.jsx(Rr,{color:"gray"}),p.jsx(Nt.Autosize,{mah:"100%",maw:"100%",children:p.jsx(we,{gap:"xs",children:e.users.map(t=>p.jsx(XV,{user:t},t.userId))})})]})})},QV=({onClose:e,opened:t})=>{const{serverData:r}=re(n=>n.testServerStore);return p.jsx(Rn,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:p.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:p.jsxs(we,{gap:"md",h:"100%",children:[p.jsx(be,{c:"white",children:""}),p.jsx(Rr,{color:"gray"}),p.jsx(Nt.Autosize,{mah:"100%",maw:"100%",children:p.jsx(we,{gap:"xs",children:r.users.map(n=>p.jsxs(Se,{wrap:"nowrap",children:[p.jsx(tr,{size:"md",color:"blue",children:n.userName}),p.jsx(be,{c:"white",children:n.userName}),p.jsx(_r,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:"  "})]},n.userId))})})]})})})},JV=({opened:e,onClose:t})=>{const r=We(),{showSuccess:n}=Xt(),[s,i]=I.useState(""),c=async()=>{(await r(Ku({userTag:s}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:" usertag",placeholder:"usertag#000000",value:s,onChange:l=>i(l.currentTarget.value)}),p.jsx(Se,{justify:"flex-end",children:p.jsx(Ee,{onClick:c,children:""})})]})})},ZV=({opened:e,close:t})=>{const r=We(),{showSuccess:n}=Xt(),[s,i]=I.useState(""),c=async()=>{(await r(ll({userTag:s.trim()}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:" usertag",placeholder:"usertag#000000",value:s,onChange:l=>i(l.currentTarget.value)}),p.jsx(Se,{justify:"flex-end",children:p.jsx(Ee,{onClick:c,children:""})})]})})},eH=()=>{const[e,{open:t,close:r}]=Rt(!1);return p.jsxs(p.Fragment,{children:[p.jsx(Ee,{leftSection:p.jsx(Us,{}),onClick:t,children:" "}),p.jsx(ZV,{opened:e,close:r})]})},tH=({applicationId:e})=>{const t=We(),r=()=>{e&&t(lf({applicationId:e}))};return p.jsx(Ee,{leftSection:p.jsx(Hp,{}),variant:"light",color:"green",radius:"md",onClick:r,children:""})},rH=({applicationId:e})=>{const t=We(),r=()=>{e&&t(df({applicationId:e}))};return p.jsx(Ee,{leftSection:p.jsx(ji,{}),variant:"light",color:"red",radius:"md",onClick:r,children:""})},nH=({applicationId:e})=>{const t=We(),r=()=>{e&&t(uf({applicationId:e}))};return p.jsx(Ee,{leftSection:p.jsx(ji,{}),variant:"light",color:"red",radius:"md",onClick:r,children:""})},sH=({userId:e})=>{const t=We(),r=()=>{t(pf({userId:e}))};return p.jsx(Ee,{leftSection:p.jsx(ji,{}),variant:"light",color:"red",radius:"md",onClick:r,children:"  "})},oH=({chat:e})=>{const t=We(),{chatName:r,nonReadedCount:n,nonReadedTaggedCount:s,chatId:i}=e,c=()=>{t(ba(i))};return p.jsx(Kr,{bg:"#1a1b1e",padding:"xs",radius:"md",c:"#fff",p:"md",w:"100%",children:p.jsxs(Se,{justify:"space-between",children:[p.jsxs(Se,{children:[p.jsx(tr,{src:null,alt:"no image here",size:"xl"}),p.jsxs(we,{children:[p.jsx(qr,{order:3,children:r}),p.jsx(Se,{children:n<1?p.jsx(be,{children:"  "}):p.jsxs(p.Fragment,{children:[p.jsxs(_r,{color:"blue",children:[n," "]}),s>0&&p.jsx(_r,{color:"red",children:s})]})})]})]}),p.jsx(Ee,{variant:"light",radius:"md",leftSection:p.jsx(IF,{}),onClick:c,children:" "})]})})},iH=({onCreateChatClick:e})=>{const t=We(),{chatsList:r,chatsLoading:n}=re(s=>s.chatsStore);return I.useEffect(()=>{t(Yu())},[]),p.jsxs(we,{w:"100%",gap:"md",p:"md",children:[p.jsxs(Se,{justify:"space-between",children:[p.jsx(qr,{order:1,children:""}),p.jsx(Ee,{leftSection:p.jsx(Us,{}),onClick:e,children:" "})]}),p.jsx(Nt,{style:{flex:1,maxHeight:"100%"},children:p.jsxs(we,{gap:"xs",align:"center",children:[r.map(s=>p.jsx(oH,{chat:s},s.chatId)),n===Qe.PENDING&&p.jsx(Lo,{})]})})]})},aH=()=>{const{applicationFrom:e}=re(t=>t.friendshipStore);return p.jsxs(we,{p:"xs",gap:"xs",children:[e.length<1&&p.jsx(be,{children:" "}),e.map(t=>p.jsx(aS,{userName:t.user.userName,userTag:t.user.userTag,actions:p.jsx(nH,{applicationId:t.id})},t.id))]})},cH=()=>{const{applicationTo:e}=re(t=>t.friendshipStore);return p.jsxs(we,{p:"xs",gap:"xs",children:[e.length<1&&p.jsx(be,{children:" "}),e.map(t=>p.jsx(aS,{userName:t.user.userName,userTag:t.user.userTag,actions:p.jsxs(p.Fragment,{children:[p.jsx(tH,{applicationId:t.id}),p.jsx(rH,{applicationId:t.id})]})},t.id))]})},lH=({opened:e,close:t})=>{const r=We(),{showSuccess:n}=Xt(),{activeChat:s}=re(u=>u.chatsStore),[i,c]=I.useState(""),l=async()=>{s&&(await r(Zu({chatId:s,userTag:i.trim()}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:" usertag",placeholder:"usertag#000000",value:i,onChange:u=>c(u.currentTarget.value)}),p.jsx(Se,{justify:"flex-end",children:p.jsx(Ee,{onClick:l,children:""})})]})})},dH=()=>{const[e,{open:t,close:r}]=Rt(!1);return p.jsxs(p.Fragment,{children:[p.jsx(Ee,{leftSection:p.jsx(dk,{}),variant:"subtle",onClick:t,children:" "}),p.jsx(lH,{opened:e,close:r})]})},uH=({opened:e,close:t,currentChat:r,setCurrentChat:n})=>{const s=We(),{showSuccess:i}=Xt(),[c,l]=I.useState(""),u=async()=>{r&&(await s(Xu({chatId:r.chatId,name:c.trim()}))).meta.requestStatus==="fulfilled"&&(i("  "),t(),n(null))};return I.useEffect(()=>{r&&l(r.chatName)},[r]),p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:"  ",placeholder:"",value:c,onChange:d=>l(d.currentTarget.value)}),p.jsx(Se,{justify:"flex-end",children:p.jsx(Ee,{onClick:u,children:""})})]})})},fH=()=>{const{chat:e}=re(l=>l.chatsStore),[t,{open:r,close:n}]=Rt(!1),[s,i]=I.useState(null),c=()=>{i(e),r()};return p.jsxs(p.Fragment,{children:[p.jsx(et,{variant:"subtle","aria-label":"Edit",onClick:c,children:p.jsx(Wp,{size:20})}),p.jsx(uH,{opened:t,close:n,currentChat:s,setCurrentChat:i})]})},pH=({chatId:e})=>{const t=We(),r=async()=>{if(!e)return;(await t(ef({id:e}))).meta.requestStatus==="fulfilled"&&t(ba(null))};return p.jsx(Ee,{leftSection:p.jsx(ok,{}),variant:"subtle",color:"red",onClick:r,children:" "})},hH=()=>{const{sendChatMessage:e}=qa(),t=We(),{accessToken:r}=re(v=>v.userStore),{chat:n}=re(v=>v.chatsStore),{uploadedFiles:s,loading:i}=re(v=>v.filesStore),[c,l]=I.useState(""),u=()=>{console.log(c.trim(),n.chatId),c.trim()&&n.chatId&&(e({Token:r,ChannelId:n.chatId,Classic:{Text:c.trim(),Files:s.map(v=>v.fileId),NestedChannel:!1},MessageType:Di.Classic}),l(""),t(Jk()))},d=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),u())},m=async v=>{if(!(!v.target.files||!(n!=null&&n.chatId))){for(const y of Array.from(v.target.files))await t(nl({channelId:n.chatId,file:y})).unwrap();v.target.value=""}};return p.jsxs(Se,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[p.jsxs(et,{component:"label",size:"xl",variant:"transparent",disabled:i===Qe.PENDING,children:[p.jsx(ak,{size:20}),p.jsx("input",{type:"file",hidden:!0,multiple:!0,onChange:m})]}),p.jsx(kl,{w:"100%",placeholder:"...",value:c,onChange:v=>l(v.currentTarget.value),onKeyDown:d,autosize:!0,minRows:1,maxRows:3}),p.jsx(et,{size:"xl",variant:"transparent",onClick:u,children:p.jsx(lk,{size:20})})]})},mH=({MessagesList:e})=>{const t=We(),{messages:r,chat:n,messagesStatus:s}=re(v=>v.chatsStore),{scrollRef:i,isAtBottom:c,showButton:l,handleScroll:u,scrollToBottom:d}=dP({messagesStatus:s,dependencies:[r]}),m=()=>{t(ba(null))};return p.jsxs(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[p.jsxs(Se,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[p.jsxs(Se,{align:"center",children:[p.jsx(et,{variant:"subtle","aria-label":"Back",onClick:m,children:p.jsx(Xw,{size:20})}),p.jsxs(we,{gap:0,children:[p.jsxs(Se,{children:[p.jsx(qr,{order:4,children:n.chatName}),p.jsx(fH,{})]}),p.jsxs(be,{size:"xs",c:"dimmed",children:[n.users.length," "]})]})]}),p.jsxs(Se,{children:[p.jsx(dH,{}),p.jsx(pH,{chatId:n.chatId})]})]}),p.jsx(Rr,{my:"md"}),p.jsx(Nt,{viewportRef:i,style:{flex:1,padding:10},onScrollPositionChange:u,children:p.jsx(e,{scrollRef:i,type:Dt.CHAT,replyToMessage:()=>{}})}),!c&&l&&p.jsx(ne,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:p.jsx(et,{size:"lg",variant:"filled",onClick:()=>d(),children:p.jsx(tk,{size:20})})}),p.jsxs(ne,{pos:"relative",children:[p.jsx(yP,{}),p.jsx(hH,{})]})]})},gH=()=>{const{friendshipList:e}=re(t=>t.friendshipStore);return p.jsxs(we,{p:"xs",gap:"xs",children:[e.length<1&&p.jsx(be,{children:"    "}),e.map(t=>p.jsx(aS,{userName:t.userName,userTag:t.userTag,actions:p.jsx(sH,{userId:t.userId})},t.userId))]})},vH=()=>{var r;const{user:e}=re(n=>n.userStore),{iconBase64:t}=Vl((r=e.icon)==null?void 0:r.fileId);return p.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:p.jsxs(we,{gap:"md",align:"center",children:[p.jsx(tr,{size:80,radius:"xl",src:t,alt:e.name}),p.jsx(ys,{label:e.name,withArrow:!0,children:p.jsx(qr,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),p.jsx(ys,{label:e.tag,withArrow:!0,children:p.jsxs(be,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["Usertag: ",e.tag]})}),p.jsx(ys,{label:e.mail,withArrow:!0,children:p.jsxs(be,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),p.jsxs(be,{c:"gray",children:[" : ",iP(e.accontCreateDate)]})]})})},yH=({activeLink:e,ChatSection:t,MessagesList:r,Settings:n,FriendshipList:s,ApplicationFromList:i,ApplicationToList:c,ChatsList:l,CreateChat:u,AddFriend:d})=>{const[m,{open:v,close:y}]=Rt(!1),{activeChat:S}=re(R=>R.chatsStore),[w,x]=I.useState("friends");return p.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:p.jsxs(Sn,{w:"100%",h:"100%",justify:"center",children:[e==="chats"&&p.jsx(p.Fragment,{children:S?p.jsx(t,{MessagesList:r}):p.jsxs(p.Fragment,{children:[p.jsx(l,{onCreateChatClick:v}),p.jsx(u,{opened:m,onClose:y})]})}),e==="settings"&&p.jsx(n,{}),e==="friends"&&p.jsxs(we,{gap:"xs",w:"100%",h:"100%",p:10,children:[p.jsxs(Se,{justify:"space-between",mb:"md",children:[p.jsx(qr,{order:1,children:""}),p.jsx(d,{})]}),p.jsxs(Jt,{value:w,onChange:x,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},w:"100%",children:[p.jsxs(Jt.List,{children:[p.jsx(Jt.Tab,{value:"friends",children:" "}),p.jsx(Jt.Tab,{value:"applicationFrom",children:" "}),p.jsx(Jt.Tab,{value:"applicationTo",children:" "})]}),p.jsx(Jt.Panel,{value:"friends",children:p.jsx(s,{})}),p.jsx(Jt.Panel,{value:"applicationFrom",children:p.jsx(i,{})}),p.jsx(Jt.Panel,{value:"applicationTo",children:p.jsx(c,{})})]})]})]})})},wH=({activeLink:e,setActiveLink:t})=>{const r=We(),n=()=>{t("chats"),r(ba(null))},s=()=>{t("friends"),r(ba(null))},i=()=>{t("settings"),r(ba(null))};return p.jsxs(we,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[p.jsx(jr,{label:"",leftSection:p.jsx(w8,{size:16}),rightSection:p.jsx(pi,{size:12}),active:e==="chats",onClick:n}),p.jsx(jr,{label:"",leftSection:p.jsx(OF,{size:16}),rightSection:p.jsx(pi,{size:12}),active:e==="friends",onClick:s}),p.jsx(jr,{label:"",leftSection:p.jsx(Va,{size:16}),rightSection:p.jsx(pi,{size:12}),active:e==="settings",onClick:i})]})},SH=({isEdit:e,setIsEdit:t,form:r})=>{const n=We(),{showSuccess:s}=Xt(),{user:i}=re(v=>v.userStore),[c,l]=I.useState(!1),u=()=>{t(!0)},d=()=>{t(!1),r.setValues({email:i.mail,name:i.name,notifiable:i.notifiable,friendshipApplication:i.friendshipApplication,nonFriendMessage:i.nonFriendMessage})},m=async()=>{if(r.validate(),!r.isValid())return;const v=r.getValues();let y=!1;l(!0),v.friendshipApplication!==i.friendshipApplication&&(y=(await n(_a({type:mi.FRIENDSHIP}))).meta.requestStatus==="fulfilled"),v.nonFriendMessage!==i.nonFriendMessage&&(y=(await n(_a({type:mi.NONFRIEND}))).meta.requestStatus==="fulfilled"),v.notifiable!==i.notifiable&&(y=(await n(_a({type:mi.NOTIFIABLE}))).meta.requestStatus==="fulfilled"),y&&s("  "),(v.email!==i.mail||v.name!==i.name)&&(await n(sf({newProfile:{name:v.name,mail:v.email}}))).meta.requestStatus==="fulfilled"&&s("  "),v.notificationLifeTime!==i.notificationLifeTime&&(await n(nf({time:v.notificationLifeTime}))).meta.requestStatus==="fulfilled"&&s("  "),l(!1),t(!1)};return p.jsx(Se,{justify:"flex-end",children:e?p.jsxs(p.Fragment,{children:[p.jsx(Ee,{variant:"outline",leftSection:p.jsx(DF,{}),radius:"md",size:"md",onClick:d,disabled:c,loading:c,children:""}),p.jsx(Ee,{leftSection:p.jsx(qp,{}),radius:"md",size:"md",onClick:m,disabled:c,loading:c,children:" "})]}):p.jsx(Ee,{leftSection:p.jsx(Wp,{}),radius:"md",size:"md",onClick:u,children:" "})})},bH=({isEdit:e,form:t})=>p.jsxs(Kr,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[p.jsx(qr,{order:2,children:" "}),p.jsx(be,{c:"dimmed",children:" ,       "}),p.jsxs(Nt.Autosize,{w:"100%",h:"100%s",children:[p.jsxs(Se,{justify:"space-between",mt:"lg",children:[p.jsxs(we,{gap:0,children:[p.jsx(be,{children:""}),p.jsx(be,{c:"dimmed",children:"    "})]}),p.jsx(fi,{disabled:!e,defaultChecked:!0,size:"lg",...t.getInputProps("notifiable",{type:"checkbox"})},t.key("notifiable"))]}),p.jsx(Rr,{mt:"lg"}),p.jsxs(Se,{justify:"space-between",mt:"lg",children:[p.jsxs(we,{gap:0,children:[p.jsx(be,{children:"  "}),p.jsx(be,{c:"dimmed",children:"      "})]}),p.jsx(fi,{disabled:!e,defaultChecked:!0,size:"lg",...t.getInputProps("friendshipApplication",{type:"checkbox"})},t.key("friendshipApplication"))]}),p.jsx(Rr,{mt:"lg"}),p.jsxs(Se,{justify:"space-between",mt:"lg",children:[p.jsxs(we,{gap:0,children:[p.jsx(be,{children:"  "}),p.jsx(be,{c:"dimmed",children:"    ,     "})]}),p.jsx(fi,{disabled:!e,defaultChecked:!0,size:"lg",...t.getInputProps("nonFriendMessage",{type:"checkbox"})},t.key("nonFriendMessage"))]})]})]}),_H=({isEdit:e,form:t,updateAction:r})=>{var i;const{user:n}=re(c=>c.userStore),{iconBase64:s}=Vl((i=n.icon)==null?void 0:i.fileId);return p.jsxs(Kr,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[p.jsx(qr,{order:2,children:"  "}),p.jsx(be,{c:"dimmed",children:"    "}),p.jsxs(Se,{mt:"md",children:[p.jsx(tr,{src:s,alt:"User profile icon",size:"xl"}),p.jsxs(we,{children:[p.jsxs(Se,{children:[p.jsx(qr,{order:4,children:n.name}),p.jsx(_r,{variant:"default",children:n.tag})]}),p.jsxs(Se,{children:[p.jsx(rk,{}),p.jsxs(be,{c:"dimmed",children:[" : ",iP(n.accontCreateDate)]})]}),r]})]}),p.jsx(Rr,{mt:"md"}),p.jsx(Nt.Autosize,{w:"100%",h:"100%s",children:p.jsxs(we,{mt:"md",children:[p.jsx(Mt,{leftSection:p.jsx(fk,{}),radius:"md",label:"",placeholder:" ",description:" 5  50 ",...t.getInputProps("name"),maxLength:50,disabled:!e},t.key("name")),p.jsx(Mt,{leftSection:p.jsx(m8,{}),radius:"md",label:" ",placeholder:"  ",...t.getInputProps("email"),maxLength:50,disabled:!e},t.key("email")),p.jsx(Mt,{leftSection:p.jsx(z8,{}),radius:"md",label:" ",placeholder:"  ",value:n.tag,disabled:!0}),p.jsx(jl,{label:"  (.)",placeholder:"  2  20",...t.getInputProps("notificationLifeTime"),min:2,max:20,disabled:!e},t.key("notificationLifeTime"))]})})]})},xH=({type:e})=>{const t=We(),{currentServerId:r}=re(c=>c.testServerStore),{showSuccess:n,showError:s}=Xt();return{validateAndUpload:async c=>{if(c.size>10*1024*1024){s("   (. 10 )");return}if(!c.type.startsWith("image/")){s("   !");return}const l=new Image,u=URL.createObjectURL(c);try{if(await new Promise((d,m)=>{l.onload=()=>d(),l.onerror=()=>m(new Error("  ")),l.src=u}),l.width>650||l.height>650){s("   (. 650650)");return}}finally{URL.revokeObjectURL(u)}e==="profile"?(await t(of({icon:c}))).meta.requestStatus==="fulfilled"&&n("  "):r&&(await t(Gu({serverId:r,icon:c}))).meta.requestStatus==="fulfilled"&&n("   ")}}},SP=({type:e})=>{const{validateAndUpload:t}=xH({type:e}),r=I.useRef(null),n=i=>{var l;const c=(l=i.target.files)==null?void 0:l[0];c&&t(c)},s=()=>{var i;(i=r.current)==null||i.click()};return p.jsxs(p.Fragment,{children:[p.jsxs(Ee,{variant:"light",radius:"md",leftSection:p.jsx(W8,{}),onClick:s,children:[" ",e==="profile"?"":""]}),p.jsx("input",{type:"file",ref:r,hidden:!0,accept:"image/*",onChange:n})]})},CH=()=>{const[e,t]=I.useState(!1),{user:r}=re(s=>s.userStore),n=Hs({mode:"uncontrolled",initialValues:{email:r.mail,name:r.name,notifiable:r.notifiable,friendshipApplication:r.friendshipApplication,nonFriendMessage:r.nonFriendMessage,notificationLifeTime:r.notificationLifeTime},validate:{email:Bf(Sl(6,"Email"),zf(50,"Email"),vP),name:Bf(Sl(6,""),zf(50,""))}});return p.jsxs(we,{p:"xl",gap:"md",w:"100%",children:[p.jsx(_H,{isEdit:e,form:n,updateAction:p.jsx(SP,{type:"profile"})}),p.jsx(bH,{isEdit:e,form:n}),p.jsx(SH,{isEdit:e,setIsEdit:t,form:n})]})},RH=()=>{const{chat:e}=re(t=>t.chatsStore);return p.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:p.jsxs(we,{gap:"md",h:"100%",children:[p.jsx(be,{c:"white",children:""}),p.jsx(Rr,{color:"gray"}),p.jsx(Nt.Autosize,{mah:"100%",maw:"100%",children:p.jsx(we,{gap:"xs",children:e.users.map(t=>p.jsx(Kr,{radius:"md",children:p.jsxs(Se,{children:[p.jsx(tr,{size:"md",color:"blue",children:t.userName?t.userName[0]:"?"}),p.jsx(be,{children:t.userName})]})},t.userId))})})]})})},EH=()=>{const e=We(),{activeChat:t}=re(s=>s.chatsStore),[r,n]=I.useState("chats");return I.useEffect(()=>{e(af()),e(cf()),e(ff())},[]),p.jsxs(p.Fragment,{children:[p.jsx(wH,{activeLink:r,setActiveLink:n}),p.jsx(yH,{activeLink:r,ChatSection:mH,MessagesList:wP,Settings:CH,FriendshipList:gH,ApplicationFromList:aH,ApplicationToList:cH,ChatsList:iH,CreateChat:JV,AddFriend:eH}),t&&p.jsx(RH,{}),!t&&r!=="settings"&&p.jsx(vH,{})]})},TH=({opened:e,onClose:t})=>{const[r,n]=I.useState("create"),{user:s,accessToken:i}=re(v=>v.userStore),c=We(),l=Hs({initialValues:{name:""},validate:{name:v=>{const y=v.trim().length;return y<6?"     6 ":y>50?"     50 ":null}}}),u=Hs({initialValues:{serverId:""},validate:{serverId:v=>v.trim().length===0?" ID ":null}}),d=async v=>{(await c(Du({accessToken:i,name:v.name}))).meta.requestStatus==="fulfilled"&&(c($s({accessToken:i})),l.reset(),t())},m=async v=>{(await c(Lu({accessToken:i,serverId:v.serverId.trim(),userName:s.name}))).meta.requestStatus==="fulfilled"&&(c($s({accessToken:i})),l.reset(),t())};return p.jsx(bt,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:p.jsxs(Jt,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[p.jsxs(Jt.List,{children:[p.jsx(Jt.Tab,{value:"create",children:" "}),p.jsx(Jt.Tab,{value:"connect",children:"  "})]}),p.jsx(Jt.Panel,{value:"create",children:p.jsxs("form",{onSubmit:l.onSubmit(d),children:[p.jsx(Mt,{label:" ",placeholder:"  ",description:" 6  50 ",maxLength:50,...l.getInputProps("name")}),p.jsxs(Se,{justify:"flex-end",mt:"md",children:[p.jsx(Ee,{variant:"outline",onClick:t,children:""}),p.jsx(Ee,{type:"submit",children:""})]})]})}),p.jsx(Jt.Panel,{value:"connect",children:p.jsxs("form",{onSubmit:u.onSubmit(m),children:[p.jsx(Mt,{label:"ID ",placeholder:" ID ",...u.getInputProps("serverId")}),p.jsxs(Se,{justify:"flex-end",mt:"md",children:[p.jsx(Ee,{variant:"outline",onClick:t,children:""}),p.jsx(Ee,{type:"submit",children:""})]})]})})]})})},kH=({serverId:e,serverName:t,nonReadedCount:r,nonReadedTaggedCount:n})=>{const s=We(),{user:i}=re(l=>l.userStore),c=()=>{s(sP(e)),s(Ss(!1)),s(Mi(!1)),Je.emit("setServer",{serverId:e,userName:i.name,userId:i.id})};return p.jsxs(ne,{pos:"relative",style:{cursor:"pointer"},children:[p.jsx(et,{size:"xl",radius:"xl",variant:"transparent",onClick:c,children:p.jsx(tr,{size:"md",color:"blue",children:t.charAt(0).toUpperCase()})}),n>0&&p.jsx(_r,{color:"red",variant:"filled",size:"xs",circle:!0,pos:"absolute",top:25,right:30,w:16,h:16,p:0,style:{border:"2px solid #0E0E10"},children:n>9?"9+":n}),r>0&&p.jsx(_r,{color:"blue",variant:"filled",size:"xs",circle:!0,pos:"absolute",top:5,right:30,w:16,h:16,p:0,style:{border:"2px solid #0E0E10"},children:r>9?"9+":r})]})};var hf=(e=>(e.NOTIFIABLE="notifiable",e.FRIENDSHIP="friendship",e.NONFRIEND="nonfriend",e))(hf||{});const PH=async e=>{try{const t=await fetch(`${Xe}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},IH=async e=>{try{const t=await fetch(`${Xe}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},jH=async e=>{try{const t=await fetch(`${Xe}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},DH=async e=>{try{const t=await fetch(`${Xe}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},MH=async e=>{try{const t=await fetch(`${Xe}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},NH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/auth/settings/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change settings:",r),r}},LH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/auth/profile/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error change user profile:",r),r}},OH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/friendship/application/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userTag:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create application:",r),r}},AH=async e=>{try{const t=await fetch(`${Xe}/api/friendship/application/list/from`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},$H=async e=>{try{const t=await fetch(`${Xe}/api/friendship/application/list/to`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},FH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/friendship/application/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete application:",r),r}},zH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/friendship/application/decline`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error decline application:",r),r}},BH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/friendship/application/approve`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error approve application:",r),r}},UH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/friendship/delete?UserId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete friendship:",r),r}},VH=async e=>{try{const t=await fetch(`${Xe}/api/friendship/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get friendship list:",t),t}},mf=xe("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await PH(e)}catch(r){return t(BB(r))}}),tv=xe("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await IH(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),rv=xe("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const s=await jH(e);return console.log(s),s}catch(s){if(console.log(s),s.status===401){const i=n(),{refreshToken:c}=i.userStore;c&&await r(vf({refreshToken:c})).unwrap()}return t(s instanceof Error?s.message:" ")}}),gf=xe("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await DH(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),vf=xe("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await MH(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),nv=xe("userSlice/createApplication",async({accessToken:e,userTag:t},{rejectWithValue:r})=>{try{await OH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),sv=xe("userSlice/getApplicationsFrom",async({accessToken:e},{rejectWithValue:t})=>{try{return await AH(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),ov=xe("userSlice/getApplicationsTo",async({accessToken:e},{rejectWithValue:t})=>{try{return await $H(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),iv=xe("userSlice/approveApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await BH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),av=xe("userSlice/declineApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await zH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),cv=xe("userSlice/deleteApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await FH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),lv=xe("userSlice/getFriendshipList",async({accessToken:e},{rejectWithValue:t})=>{try{return await VH(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),dv=xe("userSlice/deleteFriendship",async({accessToken:e,userId:t},{rejectWithValue:r})=>{try{await UH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),uv=xe("userSlice/changeSettings",async({accessToken:e,type:t},{rejectWithValue:r})=>{try{await NH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),fv=xe("userSlice/changeUserProfile",async({accessToken:e,newProfile:t},{rejectWithValue:r})=>{try{return await LH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),pv=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},HH={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:"",notifiable:!1,friendshipApplication:!1,nonFriendMessage:!1,icon:null},roomName:"11",accessToken:pv("accessToken"),refreshToken:pv("refreshToken"),isLoggedIn:!!pv("accessToken"),applicationFrom:[],applicationTo:[],friendshipList:[],error:"",isLoading:!1};Ao({name:"user",initialState:HH,reducers:{},extraReducers:e=>{e.addCase(mf.pending,t=>{t.error=""}).addCase(mf.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(mf.rejected,(t,r)=>{t.error=r.payload}).addCase(tv.pending,t=>{t.error=""}).addCase(tv.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(tv.rejected,(t,r)=>{t.error=r.payload}).addCase(rv.pending,t=>{t.error=""}).addCase(rv.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(rv.rejected,(t,r)=>{t.error=r.payload}).addCase(gf.pending,t=>{t.error=""}).addCase(gf.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(gf.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(vf.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(vf.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(vf.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(nv.pending,t=>{t.error=""}).addCase(nv.fulfilled,t=>{t.error=""}).addCase(nv.rejected,(t,r)=>{t.error=r.payload}).addCase(sv.fulfilled,(t,r)=>{t.applicationFrom=r.payload.applications,t.error=""}).addCase(ov.fulfilled,(t,r)=>{t.applicationTo=r.payload.applications,t.error=""}).addCase(cv.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationFrom=t.applicationFrom.filter(s=>s.id!==n),t.error=""}).addCase(av.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(s=>s.id!==n),t.error=""}).addCase(iv.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(s=>s.id!==n),t.error=""}).addCase(lv.fulfilled,(t,r)=>{t.friendshipList=r.payload.users,t.error=""}).addCase(dv.fulfilled,(t,{meta:r})=>{const n=r.arg.userId;t.friendshipList=t.friendshipList.filter(s=>s.userId!==n),t.error=""}).addCase(uv.fulfilled,(t,{meta:r})=>{const{type:n}=r.arg;switch(n){case hf.FRIENDSHIP:t.user.friendshipApplication=!t.user.friendshipApplication;break;case hf.NONFRIEND:t.user.nonFriendMessage=!t.user.nonFriendMessage;break;case hf.NOTIFIABLE:t.user.notifiable=!t.user.notifiable;break}}).addCase(fv.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addMatcher(xr(sv.pending,ov.pending,iv.pending,av.pending,cv.pending,lv.pending,dv.pending,uv.pending,fv.pending),t=>{t.error=""}).addMatcher(xr(sv.rejected,ov.rejected,iv.rejected,av.rejected,cv.rejected,lv.rejected,dv.rejected,uv.rejected,fv.rejected),(t,r)=>{t.error=r.payload})}});const WH=()=>{const[e,{open:t,close:r}]=Rt(!1),n=We(),s=Js(),{serversList:i}=re(u=>u.testServerStore),{accessToken:c}=re(u=>u.userStore),l=async()=>{(await n(gf({accessToken:c}))).meta.requestStatus==="fulfilled"&&s("/")};return I.useEffect(()=>{c&&n($s({accessToken:c}))},[c,n]),p.jsxs(Sn,{w:"100%",h:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[p.jsxs(Sn,{direction:"column",align:"center",h:"calc(100% - 40px)",children:[p.jsx(et,{size:"lg",variant:"transparent",onClick:()=>n(Mi(!0)),children:p.jsx(i8,{size:24,color:"#fff"})}),p.jsx(Rr,{my:"sm"}),p.jsx(Nt.Autosize,{mah:"100%",children:p.jsx(we,{gap:"sm",align:"center",children:i.map(u=>p.jsx(kH,{serverId:u.serverId,serverName:u.serverName,nonReadedCount:u.nonReadedCount,nonReadedTaggedCount:u.nonReadedTaggedCount},u.serverId))})}),p.jsx(Rr,{my:"sm"}),p.jsx(et,{size:"lg",variant:"transparent",onClick:t,children:p.jsx(qF,{size:24,color:"#fff"})})]}),p.jsx(et,{size:"lg",variant:"transparent",onClick:l,children:p.jsx(ok,{size:24,color:"#fff"})}),p.jsx(TH,{opened:e,onClose:r})]})},qH=({opened:e,onClose:t})=>{const r=We(),{accessToken:n}=re(u=>u.userStore),{currentServerId:s}=re(u=>u.testServerStore),{showSuccess:i}=Xt(),c=Hs({initialValues:{newName:""},validate:{newName:u=>{const d=u.trim().length;return d<6?"    6 ":d>50?"    50 ":null}}}),l=async u=>{s&&(await r($u({accessToken:n,serverId:s,name:u.newName}))).meta.requestStatus==="fulfilled"&&(i("  "),c.setValues({newName:""}),t())};return p.jsx(bt,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:p.jsxs("form",{onSubmit:c.onSubmit(l),children:[" ",p.jsxs(we,{gap:"xs",children:[p.jsx(Mt,{label:" ",placeholder:"  ",description:" 6  50 ",...c.getInputProps("newName"),maxLength:50}),p.jsx(Se,{justify:"flex-end",mt:"md",children:p.jsx(Ee,{variant:"filled",type:"submit",children:""})})]})]})})},bP=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=ki(),s=Al(),{startScreenSharing:i,stopScreenSharing:c}=dU(),l=We(),{user:u,accessToken:d}=re(S=>S.userStore),{currentVoiceChannelId:m}=re(S=>S.testServerStore),v=()=>{n?c():i()},y=()=>{s(d,m),l(Ss(!1)),l(wa(null))};return p.jsxs(we,{mt:"auto",children:[e&&p.jsxs(Se,{gap:"xs",justify:"space-between",children:[p.jsx(et,{variant:"transparent",onClick:v,c:"#ffffff",children:n?p.jsx(E8,{}):p.jsx(C8,{})}),p.jsx(et,{variant:"transparent",onClick:t,c:"#ffffff",children:r?p.jsx(ik,{}):p.jsx(_8,{})}),p.jsx(et,{variant:"transparent",onClick:y,c:"#ffffff",children:p.jsx(j8,{})})]}),p.jsx(Rr,{}),p.jsx(be,{truncate:!0,children:u.name})]})},GH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/roles/list?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error get roles:",r),r}},KH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/roles/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error create role:",r),r}},XH=async(e,t,r)=>{try{const n=await fetch(`${Xe}/api/roles/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,roleId:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete role:",n),n}},YH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/roles/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role:",r),r}},QH=async(e,t)=>{try{const r=await fetch(`${Xe}/api/roles/settings`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role settings:",r),r}},xa=xe("rolesSlice/getRoles",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await GH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),yf=xe("rolesSlice/createRole",async({accessToken:e,role:t},{rejectWithValue:r,dispatch:n})=>{try{const s=await KH(e,t);return n(xa({accessToken:e,serverId:t.serverId})),s}catch(s){return r(s instanceof Error?s.message:" ")}}),wf=xe("rolesSlice/deleteRole",async({accessToken:e,serverId:t,roleId:r},{rejectWithValue:n})=>{try{await XH(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),Sf=xe("rolesSlice/updateRole",async({accessToken:e,updatedRole:t},{rejectWithValue:r})=>{try{await YH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),bf=xe("rolesSlice/updateRoleSettings",async({accessToken:e,updatedRoleSettings:t},{rejectWithValue:r})=>{try{await QH(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}});var vt=(e=>(e[e.CanChangeRole=0]="CanChangeRole",e[e.CanWorkChannels=1]="CanWorkChannels",e[e.CanDeleteUsers=2]="CanDeleteUsers",e[e.CanMuteOther=3]="CanMuteOther",e[e.CanDeleteOthersMessages=4]="CanDeleteOthersMessages",e[e.CanIgnoreMaxCount=5]="CanIgnoreMaxCount",e[e.CanCreateRole=6]="CanCreateRole",e[e.CanCreateLessons=7]="CanCreateLessons",e[e.CanCheckAttendance=8]="CanCheckAttendance",e))(vt||{}),bl=(e=>(e[e.Creator=0]="Creator",e[e.Admin=1]="Admin",e[e.Custom=2]="Custom",e[e.Uncertain=3]="Uncertain",e))(bl||{});const JH={rolesList:[],rolesLoading:Qe.IDLE,role:null,error:""},_P=Ao({name:"roles",initialState:JH,reducers:{setEditedRole:(e,t)=>{e.role=t.payload}},extraReducers:e=>{e.addCase(xa.pending,t=>{t.rolesLoading=Qe.PENDING,t.error=""}).addCase(xa.fulfilled,(t,r)=>{t.rolesList=r.payload.roles,t.rolesLoading=Qe.FULFILLED,t.error=""}).addCase(xa.rejected,(t,r)=>{t.rolesLoading=Qe.REJECTED,t.error=r.payload}).addCase(wf.fulfilled,(t,{meta:r})=>{const{roleId:n}=r.arg;t.rolesList=t.rolesList.filter(s=>s.role.id!==n),t.error=""}).addCase(yf.fulfilled,(t,r)=>{const n={role:r.payload,settings:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1,canCreateLessons:!1,canCheckAttendance:!1}};t.rolesList.push(n),t.error=""}).addCase(bf.fulfilled,(t,{meta:r})=>{const{updatedRoleSettings:n}=r.arg,{roleId:s,setting:i,add:c}=n,l=t.rolesList.findIndex(u=>u.role.id===s);if(l!==-1){const u={...t.rolesList[l].settings};switch(i){case vt.CanChangeRole:u.canChangeRole=c;break;case vt.CanWorkChannels:u.canWorkChannels=c;break;case vt.CanDeleteUsers:u.canDeleteUsers=c;break;case vt.CanMuteOther:u.canMuteOther=c;break;case vt.CanDeleteOthersMessages:u.canDeleteOthersMessages=c;break;case vt.CanIgnoreMaxCount:u.canIgnoreMaxCount=c;break;case vt.CanCreateRole:u.canCreateRoles=c;break;case vt.CanCreateLessons:u.canCreateLessons=c;break;case vt.CanCheckAttendance:u.canCheckAttendance=c;break;default:console.warn("Unknown setting:",i);break}t.rolesList[l].settings=u}if(t.role&&t.role.role.id===s){const u={...t.role.settings};switch(i){case vt.CanChangeRole:u.canChangeRole=c;break;case vt.CanWorkChannels:u.canWorkChannels=c;break;case vt.CanDeleteUsers:u.canDeleteUsers=c;break;case vt.CanMuteOther:u.canMuteOther=c;break;case vt.CanDeleteOthersMessages:u.canDeleteOthersMessages=c;break;case vt.CanIgnoreMaxCount:u.canIgnoreMaxCount=c;break;case vt.CanCreateRole:u.canCreateRoles=c;break;case vt.CanCreateLessons:u.canCreateLessons=c;break;case vt.CanCheckAttendance:u.canCheckAttendance=c;break;default:console.warn("Unknown setting:",i);break}t.role.settings=u}t.error=""}).addCase(Sf.fulfilled,(t,{meta:r})=>{const{updatedRole:n}=r.arg,s=t.rolesList.findIndex(i=>i.role.id===n.roleId);s!==-1&&(t.rolesList[s]={...t.rolesList[s],role:{...t.rolesList[s].role,name:n.name,color:n.color}}),t.role&&t.role.role.id===n.roleId&&(t.role={...t.role,role:{...t.role.role,name:n.name,color:n.color}}),t.error=""}).addMatcher(xr(yf.pending,wf.pending,Sf.pending,bf.pending),t=>{t.error=""}).addMatcher(xr(yf.rejected,wf.rejected,Sf.rejected,bf.rejected),(t,r)=>{t.error=r.payload})}}),{setEditedRole:Uf}=_P.actions,ZH=_P.reducer,eW=({opened:e,onClose:t})=>{const r=We(),{showSuccess:n}=Xt(),{accessToken:s}=re(y=>y.userStore),{currentServerId:i}=re(y=>y.testServerStore),{role:c}=re(y=>y.rolesStore),[l,u]=I.useState(""),[d,m]=I.useState(""),v=async()=>{l.trim().length>1&&d.trim().length>1&&s&&i&&c&&(await r(Sf({accessToken:s,updatedRole:{serverId:i,roleId:c.role.id,name:l.trim(),color:d.trim()}}))).meta.requestStatus==="fulfilled"&&(n("  "),r(MB({serverId:i,roleId:c.role.id,name:l.trim(),color:d.trim()})),r(Uf(null)),t())};return I.useEffect(()=>{c&&(u(c.role.name),m(c.role.color))},[c]),p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:p.jsxs(we,{children:[p.jsx(Mt,{label:" ",placeholder:"  ",value:l,onChange:y=>u(y.currentTarget.value),disabled:(c==null?void 0:c.role.type)!==bl.Custom}),p.jsx(up,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:d,onChange:m}),p.jsx(Ee,{leftSection:p.jsx(qp,{}),variant:"light",radius:"md",onClick:v,children:""})]})})},tW=({opened:e,onClose:t})=>{const r=We(),{showSuccess:n}=Xt(),{currentServerId:s}=re(y=>y.testServerStore),{accessToken:i}=re(y=>y.userStore),{role:c}=re(y=>y.rolesStore),[l,u]=I.useState(!1),d=Hs({mode:"uncontrolled"}),m=async()=>{if(i&&s&&c){const y=d.getValues();let S=!1;u(!0);const w={[vt.CanChangeRole]:"canChangeRole",[vt.CanWorkChannels]:"canWorkChannels",[vt.CanDeleteUsers]:"canDeleteUsers",[vt.CanMuteOther]:"canMuteOther",[vt.CanDeleteOthersMessages]:"canDeleteOthersMessages",[vt.CanIgnoreMaxCount]:"canIgnoreMaxCount",[vt.CanCreateRole]:"canCreateRoles",[vt.CanCreateLessons]:"canCreateLessons",[vt.CanCheckAttendance]:"canCheckAttendance"};for(const[x,R]of Object.entries(w)){const T=y[R],C=c.settings[R];T!==C&&(await r(bf({accessToken:i,updatedRoleSettings:{serverId:s,roleId:c.role.id,setting:Number(x),add:T}}))).meta.requestStatus==="fulfilled"&&(S=!0)}S&&n("  "),u(!1)}},v=()=>{r(Uf(null)),t()};return I.useEffect(()=>{c&&d.setValues({...c.settings})},[c]),p.jsx(bt,{opened:e,onClose:v,centered:!0,size:"auto",children:p.jsxs(we,{children:[p.jsx(qr,{order:5,children:" "}),p.jsx(Nt.Autosize,{maw:"100%",mah:500,children:p.jsx(we,{children:c&&Object.entries(c.settings).map(([y])=>p.jsxs(Tt.Fragment,{children:[p.jsx(be,{children:Kw[y]||y}),p.jsx(fi,{size:"lg",...d.getInputProps(y,{type:"checkbox"})},d.key(y))]},y))})}),p.jsx(Ee,{disabled:l,loading:l,leftSection:p.jsx(qp,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},rW=({opened:e,onClose:t})=>{const r=We(),{showSuccess:n}=Xt(),{accessToken:s}=re(v=>v.userStore),{currentServerId:i}=re(v=>v.testServerStore),[c,l]=I.useState(""),[u,d]=I.useState("#ffffff"),m=async()=>{c.trim().length>1&&u.trim().length>1&&s&&i&&(await r(yf({accessToken:s,role:{serverId:i,name:c.trim(),color:u}}))).meta.requestStatus==="fulfilled"&&(n("  "),l(""),d("#ffffff"),t())};return p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:p.jsxs(we,{children:[p.jsx(Mt,{label:" ",placeholder:"  ",value:c,onChange:v=>l(v.currentTarget.value)}),p.jsx(up,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:u,onChange:d}),p.jsx(Ee,{leftSection:p.jsx(qp,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},nW=({role:e,editRole:t,editSettings:r})=>{const n=We(),{showSuccess:s}=Xt(),{accessToken:i}=re(m=>m.userStore),{currentServerId:c,serverData:l}=re(m=>m.testServerStore),u=l.permissions.canChangeRole,d=async()=>{i&&c&&(await n(wf({accessToken:i,serverId:c,roleId:e.role.id}))).meta.requestStatus==="fulfilled"&&s("  ")};return p.jsx(Kr,{p:"md",radius:"md",children:p.jsxs(we,{children:[p.jsxs(Se,{justify:"space-between",children:[p.jsxs(Se,{children:[p.jsx(Aa,{color:e.role.color}),p.jsxs(we,{gap:"0",children:[p.jsx(qr,{order:3,children:e.role.name}),p.jsxs(be,{c:"dimmed",children:["#",e.role.tag]})]})]}),p.jsxs(Se,{children:[p.jsx(Ee,{variant:"light",radius:"md",leftSection:p.jsx(uk,{}),onClick:()=>r(e),disabled:e.role.type!==bl.Custom||!u,children:""}),p.jsx(Ee,{variant:"light",radius:"md",leftSection:p.jsx(Wp,{}),onClick:()=>t(e),disabled:!u,children:""}),p.jsx(Ee,{variant:"light",radius:"md",leftSection:p.jsx(Gp,{}),onClick:d,disabled:e.role.type!==bl.Custom||!u,children:""})]})]}),p.jsx(Se,{children:Object.entries(e.settings).filter(([m,v])=>v===!0).map(([m])=>p.jsx(vi,{radius:"sm",children:Kw[m]||m},m))})]})})},sW=({opened:e,onClose:t})=>{const r=We(),[n,{open:s,close:i}]=Rt(!1),[c,{open:l,close:u}]=Rt(!1),[d,{open:m,close:v}]=Rt(!1),{accessToken:y}=re(T=>T.userStore),{currentServerId:S,serverData:w}=re(T=>T.testServerStore),{rolesList:x}=re(T=>T.rolesStore),R=w.permissions.canCreateRoles;return I.useEffect(()=>{y&&S&&R&&r(xa({accessToken:y,serverId:S}))},[y,S,R]),p.jsxs(p.Fragment,{children:[p.jsx(bt,{opened:e,onClose:t,centered:!0,size:"auto",children:p.jsxs(we,{children:[p.jsxs(Se,{justify:"space-between",children:[p.jsx(qr,{order:3,children:" "}),R&&p.jsx(Ee,{leftSection:p.jsx(Us,{}),variant:"light",radius:"md",onClick:()=>s(),disabled:!w.permissions.canCreateRoles,children:" "})]}),p.jsx(Nt.Autosize,{mah:"700px",maw:"100%",children:p.jsx(we,{children:x.map(T=>p.jsx(nW,{role:T,editRole:C=>{r(Uf(C)),m()},editSettings:C=>{r(Uf(C)),l()}},T.role.id))})})]})}),p.jsx(rW,{opened:n,onClose:i}),p.jsx(tW,{opened:c,onClose:u}),p.jsx(eW,{opened:d,onClose:v})]})},oW=({opened:e,onClose:t})=>{const{permissions:r}=re(n=>n.testServerStore.serverData);return p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:p.jsx(we,{gap:"xs",children:Object.entries(r).filter(([n,s])=>s===!0).map(([n])=>p.jsx(vi,{radius:"sm",children:Kw[n]||n},n))})})},iW=({user:e})=>{const t=We(),{showSuccess:r}=Xt(),{serverData:n,currentServerId:s}=re(w=>w.testServerStore),{accessToken:i}=re(w=>w.userStore),[c,l]=I.useState(!1),[u,d]=I.useState(null),{roles:m}=n,v=m.map(w=>({value:w.id,label:w.name})),y=async()=>{l(!0),u&&s&&(await t(Mu({accessToken:i,serverId:s,userId:e.userId,role:u}))).meta.requestStatus==="fulfilled"&&r("   "),l(!1)},S=async w=>{l(!0),s&&(await t(Nu({accessToken:i,serverId:s,userId:e.userId,role:w}))).meta.requestStatus==="fulfilled"&&r("    "),l(!1)};return p.jsx(Kr,{radius:"md",children:p.jsxs(we,{gap:"md",children:[p.jsxs(Se,{children:[p.jsx(tr,{size:40,radius:"xl",src:void 0,alt:e.userName}),p.jsxs(we,{gap:"0",children:[p.jsx(be,{fw:700,children:e.userName}),p.jsx(be,{c:"dimmed",children:e.userTag})]})]}),p.jsx(vi.Group,{children:e.roles.map(w=>p.jsx(vi,{withRemoveButton:e.roles.length>1,onRemove:()=>S(w.roleId),disabled:c,children:w.roleName},w.roleId))}),p.jsxs(Se,{gap:"md",children:[p.jsx(Eo,{placeholder:" ",value:u,onChange:d,data:v}),p.jsx(et,{size:"lg",onClick:y,disabled:c,children:p.jsx(Us,{size:24,color:"#fff"})})]})]})})},aW=()=>{const{serverData:e}=re(s=>s.testServerStore),{serverName:t,icon:r}=e,{iconBase64:n}=Vl(r==null?void 0:r.fileId);return p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:" "}),p.jsxs(Se,{gap:"md",children:[p.jsx(tr,{size:"xl",color:"blue",src:n,children:t[0]}),p.jsxs(we,{children:[p.jsx(be,{children:r?" ":"   "}),p.jsx(SP,{type:"server"})]})]})]})},xP=({opened:e,onClose:t})=>{const r=We(),{serverData:n,currentServerId:s,error:i,bannedUsers:c,pageBannedUsers:l,totalPagesBannedUsers:u}=re(L=>L.testServerStore),{rolesLoading:d}=re(L=>L.rolesStore),{accessToken:m,user:v}=re(L=>L.userStore),[y,S]=I.useState("roles"),[w,x]=I.useState(!1),[R,T]=I.useState(n.serverName),{showSuccess:C}=Xt(),[h,g]=I.useState(""),[b,E]=I.useState(""),k=n.isCreator,j=n.permissions.canDeleteUsers,M=n.permissions.canChangeRole,N=n.permissions.canCreateRoles,A=n.users,O=async()=>{R.length<6||s&&(x(!0),(await r(Au({accessToken:m,serverId:s,name:R}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t()))},U=async()=>{s&&h&&(x(!0),(await r(Fu({accessToken:m,serverId:s,userId:h,banReason:b.trim()!==""?b:void 0}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),g(null),E(""),t()))},W=async L=>{s&&(x(!0),(await r(Wu({accessToken:m,serverId:s,userId:L}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t()))},K=()=>{l<u&&s&&r(al({accessToken:m,serverId:s,page:l+1,size:5}))};return I.useEffect(()=>{j&&m&&s&&e&&r(al({accessToken:m,serverId:s,page:1,size:5}))},[j,s,e]),I.useEffect(()=>{N&&d===Qe.IDLE&&s&&(console.log(N),r(xa({accessToken:m,serverId:s})))},[d,s]),I.useEffect(()=>{i&&x(!1)},[i]),p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:p.jsxs(Se,{align:"flex-start",gap:"md",children:[p.jsxs(we,{gap:"xs",style:{width:200},children:[M&&p.jsx(jr,{label:"",leftSection:p.jsx(Us,{size:16}),active:y==="roles",onClick:()=>S("roles")}),k&&p.jsx(jr,{label:" ",leftSection:p.jsx(Us,{size:16}),active:y==="name",onClick:()=>S("name")}),(k||j)&&p.jsx(jr,{label:" ",leftSection:p.jsx(Q8,{size:16}),active:y==="deleteUser",onClick:()=>S("deleteUser")}),j&&p.jsx(jr,{label:" ",leftSection:p.jsx(G8,{size:16}),active:y==="unbanUser",onClick:()=>S("unbanUser")}),k&&p.jsx(jr,{label:" ",leftSection:p.jsx(c8,{size:16}),active:y==="changeIcon",onClick:()=>S("changeIcon")})]}),p.jsxs(Nt,{children:[y==="roles"&&p.jsx(Nt.Autosize,{mah:400,miw:500,mx:"auto",children:p.jsx(we,{gap:"md",children:A.map(L=>p.jsx(iW,{user:L},L.userId))})}),y==="name"&&k&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:"  "}),p.jsx(Mt,{label:"  ",value:R,onChange:L=>T(L.target.value),placeholder:n.serverName,description:" 6  50 ",maxLength:50}),p.jsx(Ee,{onClick:O,loading:w,children:" "})]}),y==="deleteUser"&&(k||j)&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:"   "}),p.jsx(Eo,{label:" ",placeholder:" ",data:n.users.filter(L=>L.userId!==v.id).map(L=>({value:L.userId,label:L.userName})),value:h,onChange:g}),p.jsx(Mt,{label:"   ()",placeholder:" ",value:b,onChange:L=>E(L.currentTarget.value)}),p.jsx(Ee,{onClick:U,loading:w,children:""})]}),y==="unbanUser"&&j&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:" "}),c.length<1&&p.jsx(be,{children:"  "}),c&&c.map(L=>p.jsx(Kr,{withBorder:!0,children:p.jsx(Se,{gap:"md",children:p.jsxs(xo,{children:[p.jsx(xo.Col,{span:2,children:p.jsxs(Se,{children:[p.jsx(tr,{radius:"xl",size:"lg",color:"blue",children:L.userName[0]}),p.jsxs(we,{gap:0,children:[p.jsx(be,{children:L.userName}),p.jsx(be,{c:"dimmed",children:L.userTag})]})]})}),p.jsx(xo.Col,{span:8,children:L.banReason&&p.jsx(_r,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:L.banReason})}),p.jsx(xo.Col,{span:1,children:p.jsxs(Se,{children:[p.jsx(rk,{}),p.jsx(be,{children:tP(L.banTime)})]})}),p.jsx(xo.Col,{span:1,children:p.jsx(Ee,{variant:"light",onClick:()=>W(L.userId),loading:w,disabled:w,children:""})})]})})},L.userId)),p.jsx(Sn,{w:"100%",justify:"center",children:c.length>0&&p.jsx(ns,{total:u,value:l,onChange:K})})]}),y==="changeIcon"&&p.jsx(aW,{})]})]})})},cW=({opened:e,onClose:t})=>{const r=Js(),n=We(),s=Al(),{showSuccess:i,showError:c}=Xt(),{serverData:l,currentVoiceChannelId:u}=re(w=>w.testServerStore),{accessToken:d,user:m}=re(w=>w.userStore),[v,y]=I.useState(""),S=async()=>{if(!v){c("  ");return}s(d,u),n(Ss(!1)),n(wa(null)),(await n(vB({accessToken:d,serverId:l.serverId,newCreatorId:v}))).meta.requestStatus==="fulfilled"&&(i("  "),n($s({accessToken:d})),n(Mi(!0)),n(oS()),y(""),r("/main"))};return p.jsx(bt,{opened:e,onClose:t,title:"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:p.jsxs(we,{gap:"xs",children:[p.jsx(Eo,{label:"  ",placeholder:" ",data:l.users.filter(w=>w.userId!==m.id).map(w=>({value:w.userId,label:w.userName})),value:v,onChange:y}),p.jsx(Se,{justify:"flex-end",mt:"md",children:p.jsx(Ee,{variant:"filled",onClick:S,children:""})})]})})},yC=e=>e.toLowerCase()==="true",lW=e=>{switch(e){case At.TEXT_CHANNEL:return[{value:"0",label:""},{value:"2",label:""},{value:"3",label:" "}];case At.VOICE_CHANNEL:return[{value:"0",label:""},{value:"1",label:""}];default:return[]}},cS=({opened:e,onClose:t,channelId:r,channelName:n,channelType:s})=>{const i=We(),{accessToken:c}=re(F=>F.userStore),{serverData:l,roleSettings:u,error:d}=re(F=>F.testServerStore),[m,v]=I.useState("name"),[y,S]=I.useState(n),[w,x]=I.useState(!1),{showSuccess:R}=Xt(),[T,C]=I.useState(null),[h,g]=I.useState(null),[b,E]=I.useState(1),[k,j]=I.useState(""),M=u.canSee,N=u.canJoin,A=u.canWrite,O=u.canWriteSub,U=async()=>{x(!0),(await i(zu({accessToken:c,id:r,name:y}))).meta.requestStatus==="fulfilled"&&(x(!1),R("   "),t())},W=async()=>{x(!0),(await i(il({accessToken:c,channelId:r}))).meta.requestStatus==="fulfilled"&&(x(!1),R("  "),t())},K=async()=>{x(!0),s===At.TEXT_CHANNEL&&T&&h&&k&&(await i(Uu({accessToken:c,settings:{channelId:r,add:yC(T),type:Number(h),roleId:k}}))).meta.requestStatus==="fulfilled"&&(x(!1),R("  "),t()),s===At.VOICE_CHANNEL&&T&&h&&k&&(await i(Hu({accessToken:c,settings:{channelId:r,add:yC(T),type:Number(h),roleId:k}}))).meta.requestStatus==="fulfilled"&&(x(!1),R("  "),t()),x(!1)},L=async()=>{x(!0),(await i(qu({accessToken:c,voiceChannelId:r,maxCount:Number(b)}))).meta.requestStatus==="fulfilled"&&(x(!1),R("  "),t())};return I.useEffect(()=>{const F=l.channels.voiceChannels.find($=>$.channelId===r);F&&E(F==null?void 0:F.maxCount)},[l]),I.useEffect(()=>{c&&e&&i(Vu({accessToken:c,channelId:r}))},[c,e]),I.useEffect(()=>{d!==""&&x(!1)},[d]),p.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:p.jsxs(Se,{align:"flex-start",gap:"md",children:[p.jsxs(we,{gap:"xs",style:{width:200},children:[p.jsx(jr,{label:"",leftSection:p.jsx(Wp,{size:16}),active:m==="name",onClick:()=>v("name")}),p.jsx(jr,{label:"",leftSection:p.jsx(Gp,{size:16}),active:m==="delete",onClick:()=>v("delete")}),p.jsx(jr,{label:"",leftSection:p.jsx(uk,{size:16}),active:m==="watchSettings",onClick:()=>v("watchSettings")}),p.jsx(jr,{label:"",leftSection:p.jsx(t9,{size:16}),active:m==="settings",onClick:()=>v("settings")}),s===At.VOICE_CHANNEL&&p.jsx(jr,{label:"  ",leftSection:p.jsx(s9,{size:16}),active:m==="count",onClick:()=>v("count")})]}),p.jsxs(Nt,{children:[m==="name"&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:"  "}),p.jsx(Mt,{label:"  ",value:y,onChange:F=>S(F.target.value),placeholder:n,disabled:w}),p.jsx(Ee,{onClick:U,disabled:w,loading:w,children:" "})]}),m==="delete"&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:" "}),p.jsx(Ee,{color:"red",onClick:W,loading:w,children:" "})]}),m==="watchSettings"&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:" "}),M&&p.jsxs(p.Fragment,{children:[p.jsxs(be,{children:[""," ",s===At.TEXT_CHANNEL?"":"",":"]}),p.jsx(we,{gap:"xs",children:M.map(F=>p.jsx(_r,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),N&&p.jsxs(p.Fragment,{children:[p.jsx(be,{children:" :"}),p.jsx(we,{gap:"xs",children:N.map(F=>p.jsx(_r,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),A&&p.jsxs(p.Fragment,{children:[p.jsx(be,{children:" :"}),p.jsx(we,{gap:"xs",children:A.map(F=>p.jsx(_r,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),O&&p.jsxs(p.Fragment,{children:[p.jsx(be,{children:"  :"}),p.jsx(we,{gap:"xs",children:O.map(F=>p.jsx(_r,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]})]}),m==="settings"&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:"   "}),p.jsxs(Se,{align:"center",children:[p.jsx(Eo,{label:"",placeholder:" ",data:[{value:"true",label:""},{value:"false",label:""}],value:T,onChange:C,disabled:w}),p.jsx(Eo,{label:"",placeholder:" ",data:lW(s),value:h,onChange:g,disabled:w}),p.jsx(Eo,{label:" ",placeholder:" ",data:l.roles.filter(F=>F.type!==bl.Creator).map(F=>({value:F.id,label:F.name})),value:k,onChange:j,disabled:w})]}),p.jsx(Ee,{onClick:K,disabled:w,loading:w,children:" "})]}),m==="count"&&p.jsxs(we,{gap:"md",children:[p.jsx(be,{size:"lg",w:500,children:" -  "}),p.jsx(Se,{align:"center",children:p.jsx(jl,{label:" ",placeholder:"  2  999",value:b,onChange:E,min:2,max:999})}),p.jsx(Ee,{onClick:L,loading:w,children:" "})]})]})]})})},dW=({channelId:e,currentChannelId:t,channelName:r,canWorkChannels:n,nonReadedCount:s,handleOpenChannel:i})=>{const[c,l]=I.useState(""),[u,{open:d,close:m}]=Rt(!1),v=()=>{d()};return p.jsxs(p.Fragment,{children:[p.jsxs(ne,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",maxWidth:230},onMouseEnter:()=>l(e),onMouseLeave:()=>l(""),children:[p.jsx(Ee,{leftSection:s>0?p.jsx(_r,{circle:!0,children:s}):p.jsx(sk,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:wC.buttonRoot(c===e,t===e),label:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordBreak:"break-all",maxWidth:"100%"}},onClick:i,fullWidth:!0,children:r}),n&&c===e&&p.jsx(Ee,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:wC.buttonSettings(t===e)},onClick:v,children:p.jsx(Va,{size:16})})]},e),p.jsx(cS,{opened:u,onClose:m,channelId:e,channelName:r,channelType:At.TEXT_CHANNEL})]})},CP=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:s})=>{const i=We(),{accessToken:c}=re(y=>y.userStore),{error:l}=re(y=>y.testServerStore),{showError:u}=Xt(),d=Hs({initialValues:{name:r.initialData,maxCount:r.initialData},validate:{name:y=>y.trim().length<3?"     3 ":null,maxCount:y=>Number(y)<1&&s===At.VOICE_CHANNEL?"-     1":Number(y)>999&&s===At.VOICE_CHANNEL?"-     999":null}});I.useEffect(()=>{r.isEdit?d.setValues({name:r.initialData}):d.reset()},[r]);const m=async y=>{(await i(ol({accessToken:c,serverId:n,name:y.name,channelType:s===At.TEXT_CHANNEL?At.TEXT_CHANNEL:At.VOICE_CHANNEL,maxCount:s===At.VOICE_CHANNEL?Number(y.maxCount):void 0}))).meta.requestStatus==="fulfilled"&&i(Ir({accessToken:c,serverId:n})),t()},v=async()=>{(await i(il({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&i(Ir({accessToken:c,serverId:n})),t()};return I.useEffect(()=>{l&&u(l)},[l]),p.jsx(bt,{opened:e,onClose:t,title:r.isEdit?` ${s===At.TEXT_CHANNEL?"":""} `:` ${s===At.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?p.jsxs(p.Fragment,{children:[p.jsxs(be,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),p.jsxs(Se,{justify:"flex-end",mt:"md",children:[p.jsx(Ee,{variant:"filled",color:"red",onClick:v,children:""}),p.jsx(Ee,{variant:"outline",onClick:t,children:""})]})]}):p.jsxs("form",{onSubmit:d.onSubmit(m),children:[p.jsx(Mt,{label:" ",placeholder:"  ",...d.getInputProps("name")}),s===At.VOICE_CHANNEL&&p.jsx(jl,{label:" ",placeholder:"  2  999",...d.getInputProps("maxCount"),min:2,max:999}),p.jsxs(Se,{justify:"flex-end",mt:"md",children:[p.jsx(Ee,{variant:"outline",onClick:t,children:""}),p.jsx(Ee,{type:"submit",children:""})]})]})})},RP=({onClose:e})=>{const t=We(),[r,{toggle:n}]=Rt(!0),[s,{open:i,close:c}]=Rt(!1),[l,u]=I.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:d,currentServerId:m,currentChannelId:v}=re(x=>x.testServerStore),y=d.permissions.canWorkChannels,S=x=>{t(sS(x)),t(Ss(!1)),e()},w=(x,R)=>{u({isEdit:!0,initialData:x,channelId:R}),i()};return p.jsxs(p.Fragment,{children:[p.jsxs(we,{align:"flex-start",gap:"xs",children:[p.jsxs(Se,{justify:"space-between",w:"100%",wrap:"nowrap",children:[p.jsx(Ee,{leftSection:r?p.jsx($l,{}):p.jsx(pi,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),y&&p.jsx(et,{variant:"transparent",onClick:()=>{u({isEdit:!1,initialData:"",channelId:""}),i()},children:p.jsx(Us,{color:"#ffffff"})})]}),p.jsx(Cl,{in:r,w:"100%",children:p.jsx(we,{gap:"xs",children:d.channels.textChannels.map(({channelId:x,channelName:R,nonReadedCount:T})=>p.jsx(dW,{channelId:x,currentChannelId:v,channelName:R,canWorkChannels:y,nonReadedCount:T,handleOpenChannel:()=>S(x),handleEditChannel:()=>w(R,x)},x))})})]}),m&&p.jsx(CP,{opened:s,onClose:c,isEdit:l,serverId:m,channelType:At.TEXT_CHANNEL})]})},wC={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},uW=({channelId:e,channelName:t,currentCount:r,maxCount:n,canWorkChannels:s,handleConnect:i})=>{const[c,{open:l,close:u}]=Rt(!1),[d,m]=I.useState(""),v=()=>{l()};return p.jsxs(p.Fragment,{children:[p.jsxs(ne,{style:{display:"flex",alignItems:"center",maxWidth:230},onMouseEnter:()=>m(e),onMouseLeave:()=>m(""),children:[p.jsx(Ee,{leftSection:p.jsx(hk,{}),rightSection:`${r}/${n}`,variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"},label:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},fullWidth:!0,onClick:i,children:t}),s&&d===e&&p.jsx(Ee,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:mW.buttonSettings},onClick:v,children:p.jsx(Va,{size:16})})]}),p.jsx(cS,{opened:c,onClose:u,channelId:e,channelName:t,channelType:At.VOICE_CHANNEL})]})},fW=({opened:e,toggle:t,canWorkChannels:r,handleAddChannel:n})=>p.jsxs(Se,{justify:"space-between",w:"100%",wrap:"nowrap",children:[p.jsx(Ee,{leftSection:e?p.jsx($l,{}):p.jsx(pi,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&p.jsx(et,{variant:"transparent",onClick:n,children:p.jsx(Us,{color:"#ffffff"})})]}),pW=({socketId:e,isSpeaking:t,userName:r,producerIds:n,userVolume:s,handleVolumeChange:i,handleOpenStream:c,handleKickUser:l,channelId:u,userId:d})=>{var x,R;const m=re(T=>T.testServerStore.serverData.permissions.canWorkChannels),{voiceChannels:v}=re(T=>T.testServerStore.serverData.channels),y=(x=v.find(T=>T.channelId===u))==null?void 0:x.users,{user:S}=re(T=>T.userStore),w=(R=y==null?void 0:y.find(T=>T.userId===d))==null?void 0:R.isMuted;return p.jsxs(ot,{shadow:"md",width:200,closeOnItemClick:!0,children:[p.jsx(ot.Target,{children:p.jsxs(Se,{style:{cursor:"pointer",overflow:"hidden",width:"100%"},wrap:"nowrap",children:[p.jsx(fk,{color:t?"#43b581":void 0,style:{flexShrink:0}}),w&&p.jsx(ik,{size:20,style:{flexShrink:0}}),p.jsx(be,{style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:r}),n.length>1&&p.jsx(Gv,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),p.jsxs(ot.Dropdown,{children:[d!==S.id&&p.jsx(ot.Item,{leftSection:p.jsx(hk,{}),children:p.jsx(Mw,{label:"",value:s,onChange:T=>i(e,T),min:1,max:100})}),n.length>1&&p.jsx(ot.Item,{leftSection:p.jsx(Gv,{}),onClick:()=>c(e),children:" "}),m&&d!==S.id&&p.jsx(ot.Item,{leftSection:p.jsx(V8,{}),onClick:()=>l(e),children:" "})]})]},e)},hW=()=>{const[e,t]=I.useState([]);return I.useEffect(()=>{if(Je)return Je.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Je.off("active-speakers")}},[]),e},EP=()=>{const e=bF(),t=Al(),{isConnected:r,consumers:n,users:s,setSelectedUserId:i}=ki(),{user:c,accessToken:l}=re(F=>F.userStore),{serverData:u,currentVoiceChannelId:d,currentServerId:m}=re(F=>F.testServerStore),v=We(),[y,{toggle:S}]=Rt(!0),[w,{open:x,close:R}]=Rt(!1),T=hW(),{setVolume:C,userVolumes:h}=pU(),g=iS(s),b=u.permissions.canWorkChannels,E=u.permissions.canIgnoreMaxCount,[k,j]=I.useState({isEdit:!1,initialData:"",channelId:""}),M=async(F,$)=>{const B=g.filter(H=>H.roomName===F).flatMap(H=>Object.values(H.users)).length;!E&&B>=$||(r?F===d?v(hP()):(d&&await t(l,d),v(Ss(!1)),v(wa(F)),e(F,c.name,c.id,u.serverId,l)):(v(wa(F)),e(F,c.name,c.id,u.serverId,l)))},N=(F,$)=>{if(!d)return;const B=g.find(G=>G.roomName===d);if(!B)return;const H=B.users[F];if(!H)return;const V=H.producerIds.find(G=>!!n.find(le=>le.producerId===G&&le.kind==="audio"));V&&C(V,$)},A=()=>{j({isEdit:!1,initialData:"",channelId:""}),x()},O=F=>{console.log(F),Je.emit("kickUser",{targetSocketId:F},$=>{$.success?console.log("  :",$.message):console.error("  :",$.message)})},U=F=>{const $=F.find(B=>n.some(H=>H.producerId===B&&H.kind==="audio"));return(h[$||""]||1)*100},W=(F,$)=>F.some(H=>T.some(V=>V.producerId===H))&&$===d,K=F=>{i(F),v(Ss(!0))},L=(F,$)=>{!$||$===void 0?(console.log(F,$,Je),Je.emit("muteUserById",{userId:F})):Je.emit("unmuteUserById",{userId:F})};return I.useEffect(()=>{if(Je)return Je.on("kickedUser",()=>{t(l,d),v(Ss(!1)),v(wa(null))}),()=>{Je.off("producerClosed")}},[t,v]),p.jsxs(p.Fragment,{children:[p.jsxs(we,{align:"flex-start",gap:"xs",children:[p.jsx(fW,{opened:y,toggle:S,canWorkChannels:b,handleAddChannel:A}),p.jsx(Cl,{in:y,w:"100%",children:p.jsx(we,{gap:"xs",children:u.channels.voiceChannels.map(({channelId:F,channelName:$,maxCount:B})=>p.jsxs(Tt.Fragment,{children:[p.jsx(uW,{channelId:F,channelName:$,maxCount:B,currentCount:g.filter(H=>H.roomName===F).flatMap(H=>Object.values(H.users)).length,canWorkChannels:b,handleConnect:()=>M(F,B)}),p.jsx(we,{gap:"xs",children:g.filter(H=>H.roomName===F).flatMap(H=>Object.entries(H.users).map(([V,{producerIds:G,userName:se,userId:le}])=>{const Q=W(G,F),ie=U(G);return p.jsx(pW,{socketId:V,isSpeaking:Q,userName:se,producerIds:G,userVolume:ie,handleOpenStream:K,handleVolumeChange:N,handleKickUser:O,channelId:F,userId:le,handleMuteUser:L},V)}))})]},F))})})]}),m&&p.jsx(CP,{opened:w,onClose:R,isEdit:k,serverId:m,channelType:At.VOICE_CHANNEL})]})},mW={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},gW={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},vW=({channelId:e,channelName:t,openChannel:r,editAction:n})=>{const{serverData:s,currentChannelId:i}=re(d=>d.testServerStore),c=s.permissions.canWorkChannels,[l,u]=I.useState("");return p.jsxs(ne,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>u(e),onMouseLeave:()=>u(""),children:[p.jsx(Ee,{leftSection:p.jsx(sk,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:gW.buttonRoot(l===e,i===e)},fullWidth:!0,onClick:r,children:t}),c&&l===e&&n]},e)},yW=({opened:e,onClose:t,channelType:r})=>{const n=We(),{accessToken:s}=re(u=>u.userStore),{currentServerId:i}=re(u=>u.testServerStore),c=Hs({initialValues:{name:""},validate:{name:Bf(Sl(1," "),zf(100," "))}}),l=async u=>{if(!i)return;(await n(ol({accessToken:s,serverId:i,name:u.name,channelType:r}))).meta.requestStatus==="fulfilled"&&n(Ir({accessToken:s,serverId:i})),t()};return p.jsx(bt,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:p.jsxs("form",{onSubmit:c.onSubmit(l),children:[p.jsx(Mt,{label:" ",placeholder:"  ",...c.getInputProps("name")}),p.jsxs(Se,{justify:"flex-end",mt:"md",children:[p.jsx(Ee,{variant:"outline",onClick:t,children:""}),p.jsx(Ee,{type:"submit",children:""})]})]})})},wW=()=>{const[e,{open:t,close:r}]=Rt(!1),n=()=>{t()};return p.jsxs(p.Fragment,{children:[p.jsx(et,{variant:"transparent",onClick:n,children:p.jsx(Us,{color:"#ffffff"})}),p.jsx(yW,{opened:e,onClose:r,channelType:At.NOTIFICATION_CHANNEL})]})},SW={buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},bW=({channelName:e,channelId:t})=>{const{currentChannelId:r}=re(l=>l.testServerStore),[n,{open:s,close:i}]=Rt(!1),c=()=>{s()};return p.jsxs(p.Fragment,{children:[p.jsx(Ee,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:SW.buttonSettings(r===t)},onClick:c,children:p.jsx(Va,{size:16})}),p.jsx(cS,{opened:n,onClose:i,channelId:t,channelName:e,channelType:At.NOTIFICATION_CHANNEL})]})},_W=()=>{const e=We(),[t,{toggle:r}]=Rt(!0),{serverData:n}=re(c=>c.testServerStore),s=n.permissions.canWorkChannels,i=c=>{e(sS(c)),e(Ss(!1))};return p.jsxs(we,{children:[p.jsxs(Se,{justify:"space-between",w:"100%",wrap:"nowrap",children:[p.jsx(Ee,{leftSection:t?p.jsx($l,{}):p.jsx(pi,{}),variant:"transparent",onClick:r,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),s&&p.jsx(wW,{})]}),p.jsx(Cl,{in:t,w:"100%",children:p.jsx(we,{gap:"xs",children:n.channels.notificationChannels.map(({channelId:c,channelName:l})=>p.jsx(vW,{channelId:c,channelName:l,openChannel:()=>i(c),editAction:p.jsx(bW,{channelName:l,channelId:c})},c))})})]})},xW=({onClose:e})=>{const t=Js(),r=We(),n=Al(),[s,{open:i,close:c}]=Rt(!1),[l,{open:u,close:d}]=Rt(!1),[m,{open:v,close:y}]=Rt(!1),[S,{open:w,close:x}]=Rt(!1),[R,{open:T,close:C}]=Rt(!1),{serverData:h,isLoading:g,currentVoiceChannelId:b}=re(U=>U.testServerStore),{accessToken:E}=re(U=>U.userStore),k=h.permissions.canChangeRole,j=h.permissions.canDeleteUsers,M=h.permissions.canCreateRoles,N=h.isCreator,A=U=>{navigator.clipboard.writeText(U)},O=async()=>{n(E,b),r(Ss(!1)),r(wa(null)),(await r(sl({accessToken:E,serverId:h.serverId}))).meta.requestStatus==="fulfilled"&&(r($s({accessToken:E})),r(Mi(!0)),r(oS()),t("/main"))};return p.jsxs(p.Fragment,{children:[p.jsxs(we,{gap:"xs",bg:"#1A1B1E",p:10,w:250,h:"100%",visibleFrom:"sm",children:[p.jsxs(ot,{shadow:"md",width:200,children:[p.jsx(ot.Target,{children:p.jsxs(Se,{justify:"space-between",style:{cursor:"pointer"},children:[g?p.jsx(Lp,{height:10,width:"40%",radius:"md"}):p.jsx(be,{children:h.serverName}),p.jsx($l,{})]})}),p.jsxs(ot.Dropdown,{children:[(k||N||j)&&p.jsx(ot.Item,{leftSection:p.jsx(Va,{size:16}),onClick:i,children:" "}),(k||M)&&p.jsx(ot.Item,{onClick:()=>w(),leftSection:p.jsx(pk,{size:16}),children:" "}),p.jsx(ot.Item,{onClick:()=>T(),leftSection:p.jsx(f8,{size:16}),children:" "}),p.jsx(ot.Item,{onClick:u,leftSection:p.jsx(X8,{size:16}),children:"   "}),p.jsx(ot.Item,{onClick:()=>A(h.serverId),leftSection:p.jsx(Yw,{size:16}),children:" ID "}),!N&&p.jsx(ot.Item,{onClick:O,leftSection:p.jsx(qv,{size:16}),children:"  "}),N&&p.jsx(ot.Item,{onClick:()=>v(),leftSection:p.jsx(qv,{size:16}),children:"  "})]})]}),p.jsx(Rr,{}),p.jsxs(Nt.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[p.jsx(RP,{onClose:e}),p.jsx(_W,{}),p.jsx(EP,{})]}),p.jsx(bP,{})]}),p.jsx(xP,{opened:s,onClose:c}),p.jsx(qH,{opened:l,onClose:d}),p.jsx(cW,{opened:m,onClose:y}),p.jsx(sW,{opened:S,onClose:x}),p.jsx(oW,{opened:R,onClose:C})]})},CW=({onClose:e,opened:t})=>{const r=Js(),n=We(),[s,{open:i,close:c}]=Rt(!1),{serverData:l,isLoading:u}=re(S=>S.testServerStore),{accessToken:d}=re(S=>S.userStore),m=l.isCreator,v=S=>{navigator.clipboard.writeText(S)},y=async()=>{(await n(sl({accessToken:d,serverId:l.serverId}))).meta.requestStatus==="fulfilled"&&(n($s({accessToken:d})),n(Mi(!0)),n(oS()),r("/main"))};return p.jsxs(p.Fragment,{children:[p.jsxs(Rn,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[p.jsxs(ot,{shadow:"md",width:200,children:[p.jsx(ot.Target,{children:p.jsxs(Se,{justify:"space-between",style:{cursor:"pointer"},children:[u?p.jsx(Lp,{height:10,width:"40%",radius:"md"}):p.jsx(be,{children:l.serverName}),p.jsx($l,{})]})}),p.jsxs(ot.Dropdown,{children:[m&&p.jsx(ot.Item,{leftSection:p.jsx(Va,{size:16}),onClick:i,children:" "}),p.jsx(ot.Item,{onClick:()=>v(l.serverId),leftSection:p.jsx(Yw,{size:16}),children:" ID "}),!m&&p.jsx(ot.Item,{onClick:y,leftSection:p.jsx(qv,{size:16}),children:"  "})]})]}),p.jsx(Rr,{}),p.jsx(RP,{onClose:e}),p.jsx(EP,{}),p.jsx(bP,{})]}),p.jsx(xP,{opened:s,onClose:c})]})},RW=()=>{const e=Js(),t=We(),{isUserStreamView:r,isOpenHome:n}=re(x=>x.appStore),{accessToken:s,isLoggedIn:i}=re(x=>x.userStore),{currentServerId:c,currentChannelId:l,startMessageId:u}=re(x=>x.testServerStore),[d,{open:m,close:v}]=Rt(!1),[y,{open:S,close:w}]=Rt(!1);return I.useEffect(()=>{i||e("/")},[i,e]),I.useEffect(()=>{s&&t(tf())},[s,t]),I.useEffect(()=>{c&&s&&t(Ir({accessToken:s,serverId:c}))},[s,c,t]),I.useEffect(()=>{if(l&&s){const x=u===0;console.log(u,l,x),t(Ou({accessToken:s,channelId:l,number:nn,fromMessageId:u,down:x}))}},[s,l,t]),p.jsxs(ne,{style:{display:"flex",height:"100dvh"},children:[p.jsx(WH,{}),n?p.jsx(EH,{}):p.jsxs(p.Fragment,{children:[p.jsx(xW,{onClose:v}),r?p.jsx(wV,{}):p.jsx(mV,{openSidebar:m,openDetailsPanel:S}),p.jsx(YV,{}),p.jsx(CW,{onClose:v,opened:d}),p.jsx(QV,{onClose:w,opened:y})]})]})},EW=()=>{const e=We(),t=Js(),{accessToken:r}=re(c=>c.userStore),n=Hs({initialValues:{mail:"",accountName:"",password:""},validate:{mail:c=>{const l=c.trim().length;return l<6?"Email    6 ":l>50?"Email    50 ":/^\S+@\S+$/.test(c)?null:"  email"},accountName:c=>{const l=c.trim().length;return l<6?"    6 ":l>50?"    50 ":null},password:c=>c.trim().length>5?null:"  (    6 )"}}),s=async c=>{(await e(mf({mail:c.mail,password:c.password,accountName:c.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")},i=()=>{t("/")};return I.useEffect(()=>{r&&t("/main")},[r,t]),p.jsx(Sn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:p.jsxs(Kr,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[p.jsxs(Se,{justify:"space-between",align:"center",mb:"md",children:[p.jsx(be,{fw:500,children:"   "}),p.jsx(et,{variant:"subtle",onClick:i,children:p.jsx(Xw,{size:24})})]}),p.jsx("form",{onSubmit:n.onSubmit(s),children:p.jsxs(we,{gap:"md",children:[p.jsx(Mt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),maxLength:50,required:!0}),p.jsx(Mt,{label:"",placeholder:" ",description:" 6  50 ",...n.getInputProps("accountName"),maxLength:50,required:!0}),p.jsx(Dp,{label:"",placeholder:" ",description:" 6 ",...n.getInputProps("password"),required:!0}),p.jsx(Se,{justify:"center",mt:"md",children:p.jsx(Ee,{type:"submit",children:""})})]})})]})})},TW=({children:e})=>{const t=re(c=>c.testServerStore.error),r=re(c=>c.userStore.error),n=re(c=>c.chatsStore.error),s=re(c=>c.rolesStore.error),{showError:i}=Xt();return I.useEffect(()=>{t!==""&&i(t)},[t]),I.useEffect(()=>{r!==""&&i(r)},[r]),I.useEffect(()=>{n!==""&&i(n)},[n]),I.useEffect(()=>{s!==""&&i(s)},[s]),p.jsx(p.Fragment,{children:e})},kW=["/auth/registration","/auth/login","/auth/refresh","/auth/logout"];let hv=!1,fy=[];const SC=(e,t=null)=>{fy.forEach(r=>{e?r.reject(e):r.resolve(t)}),fy=[]},PW=({children:e})=>{const t=We(),[r,n]=I.useState(!1),{accessToken:s,refreshToken:i}=re(c=>c.userStore);return I.useEffect(()=>{const c=lt.interceptors.request.use(u=>{const d=u.url||"";return kW.includes(d)||s&&(u.headers.Authorization=`Bearer ${s}`),u}),l=lt.interceptors.response.use(u=>u,async u=>{var m,v;const d=u.config;if(((m=u.response)==null?void 0:m.status)===401&&i&&!((v=d.url)!=null&&v.includes("/refresh"))){if(console.log(s,localStorage.getItem(Ut.ACCESS)),hv)return new Promise((y,S)=>{fy.push({resolve:w=>{w&&d.headers&&(d.headers.Authorization=`Bearer ${w}`),y(lt(d))},reject:S})});hv=!0;try{const y=await t(rf({refreshToken:i})).unwrap();return localStorage.setItem(Ut.ACCESS,y.accessToken),localStorage.setItem(Ut.REFRESH,y.refreshToken),lt.defaults.headers.common.Authorization=`Bearer ${y.accessToken}`,SC(null,y.accessToken),lt(d)}catch(y){return SC(y,null),t(oV()),localStorage.setItem(Ut.ACCESS,""),localStorage.setItem(Ut.REFRESH,""),Promise.reject(y)}finally{hv=!1}}return Promise.reject(u)});return n(!0),()=>{lt.interceptors.request.eject(c),lt.interceptors.response.eject(l)}},[s,i]),r?p.jsx(p.Fragment,{children:e}):null},IW=()=>p.jsx(PW,{children:p.jsx(uU,{children:p.jsx(fU,{children:p.jsx(cU,{children:p.jsx(z5,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:p.jsxs(KC,{defaultColorScheme:"dark",children:[p.jsx(Qs,{}),p.jsx(TW,{children:p.jsxs(M5,{children:[p.jsx(Qc,{path:"/",element:p.jsx(lV,{})}),p.jsx(Qc,{path:"/main",element:p.jsx(RW,{})}),p.jsx(Qc,{path:"/login",element:p.jsx(cV,{})}),p.jsx(Qc,{path:"/register",element:p.jsx(EW,{})})]})})]})})})})})}),jW=F9({reducer:{userStore:iV,appStore:aU,testServerStore:FB,chatsStore:oU,rolesStore:ZH,filesStore:zz,friendshipStore:GV}});jj.createRoot(document.getElementById("root")).render(p.jsx(qj,{store:jW,children:p.jsx(IW,{})}));
