var Tx=Object.defineProperty;var Px=(e,t,r)=>t in e?Tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vf=(e,t,r)=>Px(e,typeof t!="symbol"?t+"":t,r);function Dx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RS={exports:{}},ju={},CS={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),$x=Symbol.for("react.suspense"),Ax=Symbol.for("react.memo"),Fx=Symbol.for("react.lazy"),Hy=Symbol.iterator;function Bx(e){return e===null||typeof e!="object"?null:(e=Hy&&e[Hy]||e["@@iterator"],typeof e=="function"?e:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ES=Object.assign,TS={};function Eo(e,t,r){this.props=e,this.context=t,this.refs=TS,this.updater=r||xS}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PS(){}PS.prototype=Eo.prototype;function mm(e,t,r){this.props=e,this.context=t,this.refs=TS,this.updater=r||xS}var gm=mm.prototype=new PS;gm.constructor=mm;ES(gm,Eo.prototype);gm.isPureReactComponent=!0;var Wy=Array.isArray,DS=Object.prototype.hasOwnProperty,ym={current:null},kS={key:!0,ref:!0,__self:!0,__source:!0};function OS(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)DS.call(t,n)&&!kS.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:oc,type:e,key:i,ref:o,props:s,_owner:ym.current}}function zx(e,t){return{$$typeof:oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===oc}function Ux(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qy=/\/+/g;function wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ux(""+e.key):t.toString(36)}function Rl(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oc:case kx:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+wf(o,0):n,Wy(s)?(r="",e!=null&&(r=e.replace(qy,"$&/")+"/"),Rl(s,t,r,"",function(l){return l})):s!=null&&(vm(s)&&(s=zx(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Wy(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+wf(i,a);o+=Rl(i,t,r,c,s)}else if(c=Bx(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+wf(i,a++),o+=Rl(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(e,t,r){if(e==null)return e;var n=[],s=0;return Rl(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Vx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},Cl={transition:null},Hx={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:ym};function LS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Ic,forEach:function(e,t,r){Ic(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ic(e,function(){t++}),t},toArray:function(e){return Ic(e,function(t){return t})||[]},only:function(e){if(!vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Eo;ce.Fragment=Ox;ce.Profiler=Mx;ce.PureComponent=mm;ce.StrictMode=Lx;ce.Suspense=$x;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;ce.act=LS;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ES({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ym.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)DS.call(t,c)&&!kS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:oc,type:e.type,key:s,ref:i,props:n,_owner:o}};ce.createContext=function(e){return e={$$typeof:jx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nx,_context:e},e.Consumer=e};ce.createElement=OS;ce.createFactory=function(e){var t=OS.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Ix,render:e}};ce.isValidElement=vm;ce.lazy=function(e){return{$$typeof:Fx,_payload:{_status:-1,_result:e},_init:Vx}};ce.memo=function(e,t){return{$$typeof:Ax,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};ce.unstable_act=LS;ce.useCallback=function(e,t){return kt.current.useCallback(e,t)};ce.useContext=function(e){return kt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return kt.current.useEffect(e,t)};ce.useId=function(){return kt.current.useId()};ce.useImperativeHandle=function(e,t,r){return kt.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return kt.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return kt.current.useReducer(e,t,r)};ce.useRef=function(e){return kt.current.useRef(e)};ce.useState=function(e){return kt.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return kt.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return kt.current.useTransition()};ce.version="18.3.1";CS.exports=ce;var S=CS.exports;const lr=hm(S),Kl=Dx({__proto__:null,default:lr},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=S,qx=Symbol.for("react.element"),Kx=Symbol.for("react.fragment"),Gx=Object.prototype.hasOwnProperty,Yx=Wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qx={key:!0,ref:!0,__self:!0,__source:!0};function MS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Gx.call(t,n)&&!Qx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:qx,type:e,key:i,ref:o,props:s,_owner:Yx.current}}ju.Fragment=Kx;ju.jsx=MS;ju.jsxs=MS;RS.exports=ju;var y=RS.exports,NS={exports:{}},rr={},jS={exports:{}},IS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,j){var $=T.length;T.push(j);e:for(;0<$;){var M=$-1>>>1,W=T[M];if(0<s(W,j))T[M]=j,T[$]=W,$=M;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var j=T[0],$=T.pop();if($!==j){T[0]=$;e:for(var M=0,W=T.length,oe=W>>>1;M<oe;){var ve=2*(M+1)-1,Fe=T[ve],Pe=ve+1,be=T[Pe];if(0>s(Fe,$))Pe<W&&0>s(be,Fe)?(T[M]=be,T[Pe]=$,M=Pe):(T[M]=Fe,T[ve]=$,M=ve);else if(Pe<W&&0>s(be,$))T[M]=be,T[Pe]=$,M=Pe;else break e}}return j}function s(T,j){var $=T.sortIndex-j.sortIndex;return $!==0?$:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,f=3,p=!1,h=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var j=r(l);j!==null;){if(j.callback===null)n(l);else if(j.startTime<=T)n(l),j.sortIndex=j.expirationTime,t(c,j);else break;j=r(l)}}function b(T){if(m=!1,w(T),!h)if(r(c)!==null)h=!0,N(C);else{var j=r(l);j!==null&&H(b,j.startTime-T)}}function C(T,j){h=!1,m&&(m=!1,v(x),x=-1),p=!0;var $=f;try{for(w(j),d=r(c);d!==null&&(!(d.expirationTime>j)||T&&!z());){var M=d.callback;if(typeof M=="function"){d.callback=null,f=d.priorityLevel;var W=M(d.expirationTime<=j);j=e.unstable_now(),typeof W=="function"?d.callback=W:d===r(c)&&n(c),w(j)}else n(c);d=r(c)}if(d!==null)var oe=!0;else{var ve=r(l);ve!==null&&H(b,ve.startTime-j),oe=!1}return oe}finally{d=null,f=$,p=!1}}var R=!1,E=null,x=-1,k=5,L=-1;function z(){return!(e.unstable_now()-L<k)}function U(){if(E!==null){var T=e.unstable_now();L=T;var j=!0;try{j=E(!0,T)}finally{j?K():(R=!1,E=null)}}else R=!1}var K;if(typeof _=="function")K=function(){_(U)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,q=A.port2;A.port1.onmessage=U,K=function(){q.postMessage(null)}}else K=function(){g(U,0)};function N(T){E=T,R||(R=!0,K())}function H(T,j){x=g(function(){T(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,N(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var $=f;f=j;try{return T()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=f;f=T;try{return j()}finally{f=$}},e.unstable_scheduleCallback=function(T,j,$){var M=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?M+$:M):$=M,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,T={id:u++,callback:j,priorityLevel:T,startTime:$,expirationTime:W,sortIndex:-1},$>M?(T.sortIndex=$,t(l,T),r(c)===null&&T===r(l)&&(m?(v(x),x=-1):m=!0,H(b,$-M))):(T.sortIndex=W,t(c,T),h||p||(h=!0,N(C))),T},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(T){var j=f;return function(){var $=f;f=j;try{return T.apply(this,arguments)}finally{f=$}}}})(IS);jS.exports=IS;var Xx=jS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=S,Zt=Xx;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $S=new Set,La={};function ii(e,t){po(e,t),po(e+"Capture",t)}function po(e,t){for(La[e]=t,e=0;e<t.length;e++)$S.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ky={},Gy={};function eE(e){return Mp.call(Gy,e)?!0:Mp.call(Ky,e)?!1:Zx.test(e)?Gy[e]=!0:(Ky[e]=!0,!1)}function tE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rE(e,t,r,n){if(t===null||typeof t>"u"||tE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function _m(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wm,_m);pt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wm,_m);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wm,_m);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sm(e,t,r,n){var s=pt.hasOwnProperty(t)?pt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rE(t,r,s,n)&&(r=null),n||s===null?eE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var In=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),FS=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function Go(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,_f;function pa(e){if(_f===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_f=t&&t[1]||""}return`
`+_f+e}var Sf=!1;function bf(e,t){if(!e||Sf)return"";Sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pa(e):""}function nE(e){switch(e.tag){case 5:return pa(e.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return e=bf(e.type,!1),e;case 11:return e=bf(e.type.render,!1),e;case 1:return e=bf(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Ui:return"Portal";case Np:return"Profiler";case bm:return"StrictMode";case jp:return"Suspense";case Ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FS:return(e.displayName||"Context")+".Consumer";case AS:return(e._context.displayName||"Context")+".Provider";case Rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function sE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iE(e){var t=zS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ac(e){e._valueTracker||(e._valueTracker=iE(e))}function US(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ap(e,t){var r=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ys(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VS(e,t){t=t.checked,t!=null&&Sm(e,"checked",t,!1)}function Fp(e,t){VS(e,t);var r=ys(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||Gl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ha=Array.isArray;function to(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ys(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(ha(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ys(r)}}function HS(e,t){var r=ys(t.value),n=ys(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,qS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ma(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oE=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(e){oE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sa[t]=Sa[e]})});function KS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sa.hasOwnProperty(e)&&Sa[e]?(""+t).trim():t+"px"}function GS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=KS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var aE=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(e,t){if(t){if(aE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function xm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qp=null,ro=null,no=null;function ev(e){if(e=lc(e)){if(typeof qp!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bu(t),qp(e.stateNode,e.type,t))}}function YS(e){ro?no?no.push(e):no=[e]:ro=e}function QS(){if(ro){var e=ro,t=no;if(no=ro=null,ev(e),t)for(e=0;e<t.length;e++)ev(t[e])}}function XS(e,t){return e(t)}function JS(){}var Rf=!1;function ZS(e,t,r){if(Rf)return e(t,r);Rf=!0;try{return XS(e,t,r)}finally{Rf=!1,(ro!==null||no!==null)&&(JS(),QS())}}function Na(e,t){var r=e.stateNode;if(r===null)return null;var n=Bu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Kp=!1;if(Dn)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{Kp=!1}function cE(e,t,r,n,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var ba=!1,Yl=null,Ql=!1,Gp=null,lE={onError:function(e){ba=!0,Yl=e}};function uE(e,t,r,n,s,i,o,a,c){ba=!1,Yl=null,cE.apply(lE,arguments)}function dE(e,t,r,n,s,i,o,a,c){if(uE.apply(this,arguments),ba){if(ba){var l=Yl;ba=!1,Yl=null}else throw Error(I(198));Ql||(Ql=!0,Gp=l)}}function oi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tv(e){if(oi(e)!==e)throw Error(I(188))}function fE(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tv(s),e;if(i===n)return tv(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function tb(e){return e=fE(e),e!==null?rb(e):null}function rb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rb(e);if(t!==null)return t;e=e.sibling}return null}var nb=Zt.unstable_scheduleCallback,rv=Zt.unstable_cancelCallback,pE=Zt.unstable_shouldYield,hE=Zt.unstable_requestPaint,He=Zt.unstable_now,mE=Zt.unstable_getCurrentPriorityLevel,Em=Zt.unstable_ImmediatePriority,sb=Zt.unstable_UserBlockingPriority,Xl=Zt.unstable_NormalPriority,gE=Zt.unstable_LowPriority,ib=Zt.unstable_IdlePriority,Iu=null,on=null;function yE(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Iu,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:_E,vE=Math.log,wE=Math.LN2;function _E(e){return e>>>=0,e===0?32:31-(vE(e)/wE|0)|0}var Bc=64,zc=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ma(a):(i&=o,i!==0&&(n=ma(i)))}else o=r&~s,o!==0?n=ma(o):i!==0&&(n=ma(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Or(t),s=1<<r,n|=e[r],t&=~s;return n}function SE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Or(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=SE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ob(){var e=Bc;return Bc<<=1,!(Bc&4194240)&&(Bc=64),e}function Cf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ac(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=r}function RE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Or(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Tm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Or(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Se=0;function ab(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cb,Pm,lb,ub,db,Qp=!1,Uc=[],is=null,os=null,as=null,ja=new Map,Ia=new Map,es=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nv(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function Qo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lc(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xE(e,t,r,n,s){switch(t){case"focusin":return is=Qo(is,e,t,r,n,s),!0;case"dragenter":return os=Qo(os,e,t,r,n,s),!0;case"mouseover":return as=Qo(as,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ja.set(i,Qo(ja.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,Qo(Ia.get(i)||null,e,t,r,n,s)),!0}return!1}function fb(e){var t=Bs(e.target);if(t!==null){var r=oi(t);if(r!==null){if(t=r.tag,t===13){if(t=eb(r),t!==null){e.blockedOn=t,db(e.priority,function(){lb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wp=n,r.target.dispatchEvent(n),Wp=null}else return t=lc(r),t!==null&&Pm(t),e.blockedOn=r,!1;t.shift()}return!0}function sv(e,t,r){xl(e)&&r.delete(t)}function EE(){Qp=!1,is!==null&&xl(is)&&(is=null),os!==null&&xl(os)&&(os=null),as!==null&&xl(as)&&(as=null),ja.forEach(sv),Ia.forEach(sv)}function Xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Qp||(Qp=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,EE)))}function $a(e){function t(s){return Xo(s,e)}if(0<Uc.length){Xo(Uc[0],e);for(var r=1;r<Uc.length;r++){var n=Uc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(is!==null&&Xo(is,e),os!==null&&Xo(os,e),as!==null&&Xo(as,e),ja.forEach(t),Ia.forEach(t),r=0;r<es.length;r++)n=es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<es.length&&(r=es[0],r.blockedOn===null);)fb(r),r.blockedOn===null&&es.shift()}var so=In.ReactCurrentBatchConfig,Zl=!0;function TE(e,t,r,n){var s=Se,i=so.transition;so.transition=null;try{Se=1,Dm(e,t,r,n)}finally{Se=s,so.transition=i}}function PE(e,t,r,n){var s=Se,i=so.transition;so.transition=null;try{Se=4,Dm(e,t,r,n)}finally{Se=s,so.transition=i}}function Dm(e,t,r,n){if(Zl){var s=Xp(e,t,r,n);if(s===null)Nf(e,t,n,eu,r),nv(e,n);else if(xE(s,e,t,r,n))n.stopPropagation();else if(nv(e,n),t&4&&-1<CE.indexOf(e)){for(;s!==null;){var i=lc(s);if(i!==null&&cb(i),i=Xp(e,t,r,n),i===null&&Nf(e,t,n,eu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var eu=null;function Xp(e,t,r,n){if(eu=null,e=xm(n),e=Bs(e),e!==null)if(t=oi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eu=e,null}function pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mE()){case Em:return 1;case sb:return 4;case Xl:case gE:return 16;case ib:return 536870912;default:return 16}default:return 16}}var rs=null,km=null,El=null;function hb(){if(El)return El;var e,t=km,r=t.length,n,s="value"in rs?rs.value:rs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return El=s.slice(e,1<n?1-n:void 0)}function Tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vc(){return!0}function iv(){return!1}function nr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vc:iv,this.isPropagationStopped=iv,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),t}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=nr(To),cc=$e({},To,{view:0,detail:0}),DE=nr(cc),xf,Ef,Jo,$u=$e({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jo&&(Jo&&e.type==="mousemove"?(xf=e.screenX-Jo.screenX,Ef=e.screenY-Jo.screenY):Ef=xf=0,Jo=e),xf)},movementY:function(e){return"movementY"in e?e.movementY:Ef}}),ov=nr($u),kE=$e({},$u,{dataTransfer:0}),OE=nr(kE),LE=$e({},cc,{relatedTarget:0}),Tf=nr(LE),ME=$e({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),NE=nr(ME),jE=$e({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IE=nr(jE),$E=$e({},To,{data:0}),av=nr($E),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BE[e])?!!t[e]:!1}function Lm(){return zE}var UE=$e({},cc,{key:function(e){if(e.key){var t=AE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VE=nr(UE),HE=$e({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=nr(HE),WE=$e({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),qE=nr(WE),KE=$e({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=nr(KE),YE=$e({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=nr(YE),XE=[9,13,27,32],Mm=Dn&&"CompositionEvent"in window,Ra=null;Dn&&"documentMode"in document&&(Ra=document.documentMode);var JE=Dn&&"TextEvent"in window&&!Ra,mb=Dn&&(!Mm||Ra&&8<Ra&&11>=Ra),lv=" ",uv=!1;function gb(e,t){switch(e){case"keyup":return XE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function ZE(e,t){switch(e){case"compositionend":return yb(t);case"keypress":return t.which!==32?null:(uv=!0,lv);case"textInput":return e=t.data,e===lv&&uv?null:e;default:return null}}function eT(e,t){if(Hi)return e==="compositionend"||!Mm&&gb(e,t)?(e=hb(),El=km=rs=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mb&&t.locale!=="ko"?null:t.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tT[e.type]:t==="textarea"}function vb(e,t,r,n){YS(n),t=tu(t,"onChange"),0<t.length&&(r=new Om("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ca=null,Aa=null;function rT(e){Db(e,0)}function Au(e){var t=Ki(e);if(US(t))return e}function nT(e,t){if(e==="change")return t}var wb=!1;if(Dn){var Pf;if(Dn){var Df="oninput"in document;if(!Df){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Df=typeof fv.oninput=="function"}Pf=Df}else Pf=!1;wb=Pf&&(!document.documentMode||9<document.documentMode)}function pv(){Ca&&(Ca.detachEvent("onpropertychange",_b),Aa=Ca=null)}function _b(e){if(e.propertyName==="value"&&Au(Aa)){var t=[];vb(t,Aa,e,xm(e)),ZS(rT,t)}}function sT(e,t,r){e==="focusin"?(pv(),Ca=t,Aa=r,Ca.attachEvent("onpropertychange",_b)):e==="focusout"&&pv()}function iT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Aa)}function oT(e,t){if(e==="click")return Au(t)}function aT(e,t){if(e==="input"||e==="change")return Au(t)}function cT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:cT;function Fa(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mp.call(t,s)||!Mr(e[s],t[s]))return!1}return!0}function hv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mv(e,t){var r=hv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hv(r)}}function Sb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bb(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gl(e.document)}return t}function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lT(e){var t=bb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sb(r.ownerDocument.documentElement,r)){if(n!==null&&Nm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=mv(r,i);var o=mv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uT=Dn&&"documentMode"in document&&11>=document.documentMode,Wi=null,Jp=null,xa=null,Zp=!1;function gv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zp||Wi==null||Wi!==Gl(n)||(n=Wi,"selectionStart"in n&&Nm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xa&&Fa(xa,n)||(xa=n,n=tu(Jp,"onSelect"),0<n.length&&(t=new Om("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wi)))}function Hc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qi={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},kf={},Rb={};Dn&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Fu(e){if(kf[e])return kf[e];if(!qi[e])return e;var t=qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rb)return kf[e]=t[r];return e}var Cb=Fu("animationend"),xb=Fu("animationiteration"),Eb=Fu("animationstart"),Tb=Fu("transitionend"),Pb=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){Pb.set(e,t),ii(t,[e])}for(var Of=0;Of<yv.length;Of++){var Lf=yv[Of],dT=Lf.toLowerCase(),fT=Lf[0].toUpperCase()+Lf.slice(1);Rs(dT,"on"+fT)}Rs(Cb,"onAnimationEnd");Rs(xb,"onAnimationIteration");Rs(Eb,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(Tb,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function vv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dE(n,t,void 0,e),e.currentTarget=null}function Db(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;vv(s,a,l),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;vv(s,a,l),i=c}}}if(Ql)throw e=Gp,Ql=!1,Gp=null,e}function De(e,t){var r=t[sh];r===void 0&&(r=t[sh]=new Set);var n=e+"__bubble";r.has(n)||(kb(t,e,2,!1),r.add(n))}function Mf(e,t,r){var n=0;t&&(n|=4),kb(r,e,n,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Wc]){e[Wc]=!0,$S.forEach(function(r){r!=="selectionchange"&&(pT.has(r)||Mf(r,!1,e),Mf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Mf("selectionchange",!1,t))}}function kb(e,t,r,n){switch(pb(t)){case 1:var s=TE;break;case 4:s=PE;break;default:s=Dm}r=s.bind(null,t,r,e),s=void 0,!Kp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ZS(function(){var l=i,u=xm(r),d=[];e:{var f=Pb.get(e);if(f!==void 0){var p=Om,h=e;switch(e){case"keypress":if(Tl(r)===0)break e;case"keydown":case"keyup":p=VE;break;case"focusin":h="focus",p=Tf;break;case"focusout":h="blur",p=Tf;break;case"beforeblur":case"afterblur":p=Tf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qE;break;case Cb:case xb:case Eb:p=NE;break;case Tb:p=GE;break;case"scroll":p=DE;break;case"wheel":p=QE;break;case"copy":case"cut":case"paste":p=IE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cv}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var _=l,w;_!==null;){w=_;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=Na(_,v),b!=null&&m.push(za(_,b,w)))),g)break;_=_.return}0<m.length&&(f=new p(f,h,null,r,u),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Wp&&(h=r.relatedTarget||r.fromElement)&&(Bs(h)||h[kn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=l,h=h?Bs(h):null,h!==null&&(g=oi(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(m=ov,b="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=cv,b="onPointerLeave",v="onPointerEnter",_="pointer"),g=p==null?f:Ki(p),w=h==null?f:Ki(h),f=new m(b,_+"leave",p,r,u),f.target=g,f.relatedTarget=w,b=null,Bs(u)===l&&(m=new m(v,_+"enter",h,r,u),m.target=w,m.relatedTarget=g,b=m),g=b,p&&h)t:{for(m=p,v=h,_=0,w=m;w;w=hi(w))_++;for(w=0,b=v;b;b=hi(b))w++;for(;0<_-w;)m=hi(m),_--;for(;0<w-_;)v=hi(v),w--;for(;_--;){if(m===v||v!==null&&m===v.alternate)break t;m=hi(m),v=hi(v)}m=null}else m=null;p!==null&&wv(d,f,p,m,!1),h!==null&&g!==null&&wv(d,g,h,m,!0)}}e:{if(f=l?Ki(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=nT;else if(dv(f))if(wb)C=aT;else{C=iT;var R=sT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=oT);if(C&&(C=C(e,l))){vb(d,C,r,u);break e}R&&R(e,f,l),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Bp(f,"number",f.value)}switch(R=l?Ki(l):window,e){case"focusin":(dv(R)||R.contentEditable==="true")&&(Wi=R,Jp=l,xa=null);break;case"focusout":xa=Jp=Wi=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,gv(d,r,u);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":gv(d,r,u)}var E;if(Mm)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hi?gb(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(mb&&r.locale!=="ko"&&(Hi||x!=="onCompositionStart"?x==="onCompositionEnd"&&Hi&&(E=hb()):(rs=u,km="value"in rs?rs.value:rs.textContent,Hi=!0)),R=tu(l,x),0<R.length&&(x=new av(x,e,null,r,u),d.push({event:x,listeners:R}),E?x.data=E:(E=yb(r),E!==null&&(x.data=E)))),(E=JE?ZE(e,r):eT(e,r))&&(l=tu(l,"onBeforeInput"),0<l.length&&(u=new av("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=E))}Db(d,t)})}function za(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Na(e,r),i!=null&&n.unshift(za(e,i,s)),i=Na(e,t),i!=null&&n.push(za(e,i,s))),e=e.return}return n}function hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,s?(c=Na(r,i),c!=null&&o.unshift(za(r,c,a))):s||(c=Na(r,i),c!=null&&o.push(za(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function _v(e){return(typeof e=="string"?e:""+e).replace(hT,`
`).replace(mT,"")}function qc(e,t,r){if(t=_v(t),_v(e)!==t&&r)throw Error(I(425))}function ru(){}var eh=null,th=null;function rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,gT=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(e){return Sv.resolve(null).then(e).catch(vT)}:nh;function vT(e){setTimeout(function(){throw e})}function jf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$a(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$a(t)}function cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Po=Math.random().toString(36).slice(2),nn="__reactFiber$"+Po,Ua="__reactProps$"+Po,kn="__reactContainer$"+Po,sh="__reactEvents$"+Po,wT="__reactListeners$"+Po,_T="__reactHandles$"+Po;function Bs(e){var t=e[nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kn]||r[nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bv(e);e!==null;){if(r=e[nn])return r;e=bv(e)}return t}e=r,r=e.parentNode}return null}function lc(e){return e=e[nn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bu(e){return e[Ua]||null}var ih=[],Gi=-1;function Cs(e){return{current:e}}function ke(e){0>Gi||(e.current=ih[Gi],ih[Gi]=null,Gi--)}function Te(e,t){Gi++,ih[Gi]=e.current,e.current=t}var vs={},St=Cs(vs),It=Cs(!1),Ys=vs;function ho(e,t){var r=e.type.contextTypes;if(!r)return vs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $t(e){return e=e.childContextTypes,e!=null}function nu(){ke(It),ke(St)}function Rv(e,t,r){if(St.current!==vs)throw Error(I(168));Te(St,t),Te(It,r)}function Ob(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,sE(e)||"Unknown",s));return $e({},r,n)}function su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vs,Ys=St.current,Te(St,e),Te(It,It.current),!0}function Cv(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Ob(e,t,Ys),n.__reactInternalMemoizedMergedChildContext=e,ke(It),ke(St),Te(St,e)):ke(It),Te(It,r)}var Cn=null,zu=!1,If=!1;function Lb(e){Cn===null?Cn=[e]:Cn.push(e)}function ST(e){zu=!0,Lb(e)}function xs(){if(!If&&Cn!==null){If=!0;var e=0,t=Se;try{var r=Cn;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cn=null,zu=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),nb(Em,xs),s}finally{Se=t,If=!1}}return null}var Yi=[],Qi=0,iu=null,ou=0,or=[],ar=0,Qs=null,xn=1,En="";function Ns(e,t){Yi[Qi++]=ou,Yi[Qi++]=iu,iu=e,ou=t}function Mb(e,t,r){or[ar++]=xn,or[ar++]=En,or[ar++]=Qs,Qs=e;var n=xn;e=En;var s=32-Or(n)-1;n&=~(1<<s),r+=1;var i=32-Or(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xn=1<<32-Or(t)+s|r<<s|n,En=i+e}else xn=1<<i|r<<s|n,En=e}function jm(e){e.return!==null&&(Ns(e,1),Mb(e,1,0))}function Im(e){for(;e===iu;)iu=Yi[--Qi],Yi[Qi]=null,ou=Yi[--Qi],Yi[Qi]=null;for(;e===Qs;)Qs=or[--ar],or[ar]=null,En=or[--ar],or[ar]=null,xn=or[--ar],or[ar]=null}var Qt=null,Gt=null,Le=!1,Pr=null;function Nb(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qs!==null?{id:xn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Gt=null,!0):!1;default:return!1}}function oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ah(e){if(Le){var t=Gt;if(t){var r=t;if(!xv(e,t)){if(oh(e))throw Error(I(418));t=cs(r.nextSibling);var n=Qt;t&&xv(e,t)?Nb(n,r):(e.flags=e.flags&-4097|2,Le=!1,Qt=e)}}else{if(oh(e))throw Error(I(418));e.flags=e.flags&-4097|2,Le=!1,Qt=e}}}function Ev(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Kc(e){if(e!==Qt)return!1;if(!Le)return Ev(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rh(e.type,e.memoizedProps)),t&&(t=Gt)){if(oh(e))throw jb(),Error(I(418));for(;t;)Nb(e,t),t=cs(t.nextSibling)}if(Ev(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gt=cs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Qt?cs(e.stateNode.nextSibling):null;return!0}function jb(){for(var e=Gt;e;)e=cs(e.nextSibling)}function mo(){Gt=Qt=null,Le=!1}function $m(e){Pr===null?Pr=[e]:Pr.push(e)}var bT=In.ReactCurrentBatchConfig;function Zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Gc(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tv(e){var t=e._init;return t(e._payload)}function Ib(e){function t(v,_){if(e){var w=v.deletions;w===null?(v.deletions=[_],v.flags|=16):w.push(_)}}function r(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function n(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=fs(v,_),v.index=0,v.sibling=null,v}function i(v,_,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<_?(v.flags|=2,_):w):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,_,w,b){return _===null||_.tag!==6?(_=Vf(w,v.mode,b),_.return=v,_):(_=s(_,w),_.return=v,_)}function c(v,_,w,b){var C=w.type;return C===Vi?u(v,_,w.props.children,b,w.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xn&&Tv(C)===_.type)?(b=s(_,w.props),b.ref=Zo(v,_,w),b.return=v,b):(b=Nl(w.type,w.key,w.props,null,v.mode,b),b.ref=Zo(v,_,w),b.return=v,b)}function l(v,_,w,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Hf(w,v.mode,b),_.return=v,_):(_=s(_,w.children||[]),_.return=v,_)}function u(v,_,w,b,C){return _===null||_.tag!==7?(_=qs(w,v.mode,b,C),_.return=v,_):(_=s(_,w),_.return=v,_)}function d(v,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vf(""+_,v.mode,w),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $c:return w=Nl(_.type,_.key,_.props,null,v.mode,w),w.ref=Zo(v,null,_),w.return=v,w;case Ui:return _=Hf(_,v.mode,w),_.return=v,_;case Xn:var b=_._init;return d(v,b(_._payload),w)}if(ha(_)||Go(_))return _=qs(_,v.mode,w,null),_.return=v,_;Gc(v,_)}return null}function f(v,_,w,b){var C=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(v,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:return w.key===C?c(v,_,w,b):null;case Ui:return w.key===C?l(v,_,w,b):null;case Xn:return C=w._init,f(v,_,C(w._payload),b)}if(ha(w)||Go(w))return C!==null?null:u(v,_,w,b,null);Gc(v,w)}return null}function p(v,_,w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,a(_,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $c:return v=v.get(b.key===null?w:b.key)||null,c(_,v,b,C);case Ui:return v=v.get(b.key===null?w:b.key)||null,l(_,v,b,C);case Xn:var R=b._init;return p(v,_,w,R(b._payload),C)}if(ha(b)||Go(b))return v=v.get(w)||null,u(_,v,b,C,null);Gc(_,b)}return null}function h(v,_,w,b){for(var C=null,R=null,E=_,x=_=0,k=null;E!==null&&x<w.length;x++){E.index>x?(k=E,E=null):k=E.sibling;var L=f(v,E,w[x],b);if(L===null){E===null&&(E=k);break}e&&E&&L.alternate===null&&t(v,E),_=i(L,_,x),R===null?C=L:R.sibling=L,R=L,E=k}if(x===w.length)return r(v,E),Le&&Ns(v,x),C;if(E===null){for(;x<w.length;x++)E=d(v,w[x],b),E!==null&&(_=i(E,_,x),R===null?C=E:R.sibling=E,R=E);return Le&&Ns(v,x),C}for(E=n(v,E);x<w.length;x++)k=p(E,v,x,w[x],b),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?x:k.key),_=i(k,_,x),R===null?C=k:R.sibling=k,R=k);return e&&E.forEach(function(z){return t(v,z)}),Le&&Ns(v,x),C}function m(v,_,w,b){var C=Go(w);if(typeof C!="function")throw Error(I(150));if(w=C.call(w),w==null)throw Error(I(151));for(var R=C=null,E=_,x=_=0,k=null,L=w.next();E!==null&&!L.done;x++,L=w.next()){E.index>x?(k=E,E=null):k=E.sibling;var z=f(v,E,L.value,b);if(z===null){E===null&&(E=k);break}e&&E&&z.alternate===null&&t(v,E),_=i(z,_,x),R===null?C=z:R.sibling=z,R=z,E=k}if(L.done)return r(v,E),Le&&Ns(v,x),C;if(E===null){for(;!L.done;x++,L=w.next())L=d(v,L.value,b),L!==null&&(_=i(L,_,x),R===null?C=L:R.sibling=L,R=L);return Le&&Ns(v,x),C}for(E=n(v,E);!L.done;x++,L=w.next())L=p(E,v,x,L.value,b),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?x:L.key),_=i(L,_,x),R===null?C=L:R.sibling=L,R=L);return e&&E.forEach(function(U){return t(v,U)}),Le&&Ns(v,x),C}function g(v,_,w,b){if(typeof w=="object"&&w!==null&&w.type===Vi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:e:{for(var C=w.key,R=_;R!==null;){if(R.key===C){if(C=w.type,C===Vi){if(R.tag===7){r(v,R.sibling),_=s(R,w.props.children),_.return=v,v=_;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xn&&Tv(C)===R.type){r(v,R.sibling),_=s(R,w.props),_.ref=Zo(v,R,w),_.return=v,v=_;break e}r(v,R);break}else t(v,R);R=R.sibling}w.type===Vi?(_=qs(w.props.children,v.mode,b,w.key),_.return=v,v=_):(b=Nl(w.type,w.key,w.props,null,v.mode,b),b.ref=Zo(v,_,w),b.return=v,v=b)}return o(v);case Ui:e:{for(R=w.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(v,_.sibling),_=s(_,w.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else t(v,_);_=_.sibling}_=Hf(w,v.mode,b),_.return=v,v=_}return o(v);case Xn:return R=w._init,g(v,_,R(w._payload),b)}if(ha(w))return h(v,_,w,b);if(Go(w))return m(v,_,w,b);Gc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(v,_.sibling),_=s(_,w),_.return=v,v=_):(r(v,_),_=Vf(w,v.mode,b),_.return=v,v=_),o(v)):r(v,_)}return g}var go=Ib(!0),$b=Ib(!1),au=Cs(null),cu=null,Xi=null,Am=null;function Fm(){Am=Xi=cu=null}function Bm(e){var t=au.current;ke(au),e._currentValue=t}function ch(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function io(e,t){cu=e,Am=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Am!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(cu===null)throw Error(I(308));Xi=e,cu.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var zs=null;function zm(e){zs===null?zs=[e]:zs.push(e)}function Ab(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zm(t)):(r.next=s.next,s.next=r),t.interleaved=r,On(e,n)}function On(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jn=!1;function Um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ls(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,On(e,r)}return s=n.interleaved,s===null?(t.next=t,zm(n)):(t.next=s.next,s.next=t),n.interleaved=t,On(e,r)}function Pl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}function Pv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lu(e,t,r,n){var s=e.updateQueue;Jn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=r,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=$e({},d,f);break e;case 2:Jn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Js|=o,e.lanes=o,e.memoizedState=d}}function Dv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var uc={},an=Cs(uc),Va=Cs(uc),Ha=Cs(uc);function Us(e){if(e===uc)throw Error(I(174));return e}function Vm(e,t){switch(Te(Ha,t),Te(Va,e),Te(an,uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}ke(an),Te(an,t)}function yo(){ke(an),ke(Va),ke(Ha)}function Bb(e){Us(Ha.current);var t=Us(an.current),r=Up(t,e.type);t!==r&&(Te(Va,e),Te(an,r))}function Hm(e){Va.current===e&&(ke(an),ke(Va))}var je=Cs(0);function uu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $f=[];function Wm(){for(var e=0;e<$f.length;e++)$f[e]._workInProgressVersionPrimary=null;$f.length=0}var Dl=In.ReactCurrentDispatcher,Af=In.ReactCurrentBatchConfig,Xs=0,Ie=null,tt=null,ot=null,du=!1,Ea=!1,Wa=0,RT=0;function mt(){throw Error(I(321))}function qm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mr(e[r],t[r]))return!1;return!0}function Km(e,t,r,n,s,i){if(Xs=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?TT:PT,e=r(n,s),Ea){i=0;do{if(Ea=!1,Wa=0,25<=i)throw Error(I(301));i+=1,ot=tt=null,t.updateQueue=null,Dl.current=DT,e=r(n,s)}while(Ea)}if(Dl.current=fu,t=tt!==null&&tt.next!==null,Xs=0,ot=tt=Ie=null,du=!1,t)throw Error(I(300));return e}function Gm(){var e=Wa!==0;return Wa=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ie.memoizedState=ot=e:ot=ot.next=e,ot}function mr(){if(tt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?Ie.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(I(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Ie.memoizedState=ot=e:ot=ot.next=e}return ot}function qa(e,t){return typeof t=="function"?t(e):t}function Ff(e){var t=mr(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=tt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Xs&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=n):c=c.next=d,Ie.lanes|=u,Js|=u}l=l.next}while(l!==null&&l!==i);c===null?o=n:c.next=a,Mr(n,t.memoizedState)||(Nt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ie.lanes|=i,Js|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bf(e){var t=mr(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Mr(i,t.memoizedState)||(Nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zb(){}function Ub(e,t){var r=Ie,n=mr(),s=t(),i=!Mr(n.memoizedState,s);if(i&&(n.memoizedState=s,Nt=!0),n=n.queue,Ym(Wb.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Ka(9,Hb.bind(null,r,n,s,t),void 0,null),at===null)throw Error(I(349));Xs&30||Vb(r,t,s)}return s}function Vb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hb(e,t,r,n){t.value=r,t.getSnapshot=n,qb(t)&&Kb(e)}function Wb(e,t,r){return r(function(){qb(t)&&Kb(e)})}function qb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mr(e,r)}catch{return!0}}function Kb(e){var t=On(e,1);t!==null&&Lr(t,e,1,-1)}function kv(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t.queue=e,e=e.dispatch=ET.bind(null,Ie,e),[t.memoizedState,e]}function Ka(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gb(){return mr().memoizedState}function kl(e,t,r,n){var s=tn();Ie.flags|=e,s.memoizedState=Ka(1|t,r,void 0,n===void 0?null:n)}function Uu(e,t,r,n){var s=mr();n=n===void 0?null:n;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,n!==null&&qm(n,o.deps)){s.memoizedState=Ka(t,r,i,n);return}}Ie.flags|=e,s.memoizedState=Ka(1|t,r,i,n)}function Ov(e,t){return kl(8390656,8,e,t)}function Ym(e,t){return Uu(2048,8,e,t)}function Yb(e,t){return Uu(4,2,e,t)}function Qb(e,t){return Uu(4,4,e,t)}function Xb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jb(e,t,r){return r=r!=null?r.concat([e]):null,Uu(4,4,Xb.bind(null,t,e),r)}function Qm(){}function Zb(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function e0(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function t0(e,t,r){return Xs&21?(Mr(r,t)||(r=ob(),Ie.lanes|=r,Js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r)}function CT(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=Af.transition;Af.transition={};try{e(!1),t()}finally{Se=r,Af.transition=n}}function r0(){return mr().memoizedState}function xT(e,t,r){var n=ds(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},n0(e))s0(t,r);else if(r=Ab(e,t,r,n),r!==null){var s=Tt();Lr(r,e,n,s),i0(r,t,n)}}function ET(e,t,r){var n=ds(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(n0(e))s0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Mr(a,o)){var c=t.interleaved;c===null?(s.next=s,zm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ab(e,t,s,n),r!==null&&(s=Tt(),Lr(r,e,n,s),i0(r,t,n))}}function n0(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function s0(e,t){Ea=du=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}var fu={readContext:hr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},TT={readContext:hr,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ov,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,kl(4194308,4,Xb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return kl(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xT.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:kv,useDebugValue:Qm,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=kv(!1),t=e[0];return e=CT.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,s=tn();if(Le){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),at===null)throw Error(I(349));Xs&30||Vb(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ov(Wb.bind(null,n,i,e),[e]),n.flags|=2048,Ka(9,Hb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=tn(),t=at.identifierPrefix;if(Le){var r=En,n=xn;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PT={readContext:hr,useCallback:Zb,useContext:hr,useEffect:Ym,useImperativeHandle:Jb,useInsertionEffect:Yb,useLayoutEffect:Qb,useMemo:e0,useReducer:Ff,useRef:Gb,useState:function(){return Ff(qa)},useDebugValue:Qm,useDeferredValue:function(e){var t=mr();return t0(t,tt.memoizedState,e)},useTransition:function(){var e=Ff(qa)[0],t=mr().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Ub,useId:r0,unstable_isNewReconciler:!1},DT={readContext:hr,useCallback:Zb,useContext:hr,useEffect:Ym,useImperativeHandle:Jb,useInsertionEffect:Yb,useLayoutEffect:Qb,useMemo:e0,useReducer:Bf,useRef:Gb,useState:function(){return Bf(qa)},useDebugValue:Qm,useDeferredValue:function(e){var t=mr();return tt===null?t.memoizedState=e:t0(t,tt.memoizedState,e)},useTransition:function(){var e=Bf(qa)[0],t=mr().memoizedState;return[e,t]},useMutableSource:zb,useSyncExternalStore:Ub,useId:r0,unstable_isNewReconciler:!1};function xr(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vu={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tt(),s=ds(e),i=Pn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ls(e,i,s),t!==null&&(Lr(t,e,s,n),Pl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tt(),s=ds(e),i=Pn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ls(e,i,s),t!==null&&(Lr(t,e,s,n),Pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tt(),n=ds(e),s=Pn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ls(e,s,n),t!==null&&(Lr(t,e,n,r),Pl(t,e,n))}};function Lv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fa(r,n)||!Fa(s,i):!0}function o0(e,t,r){var n=!1,s=vs,i=t.contextType;return typeof i=="object"&&i!==null?i=hr(i):(s=$t(t)?Ys:St.current,n=t.contextTypes,i=(n=n!=null)?ho(e,s):vs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vu.enqueueReplaceState(t,t.state,null)}function uh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Um(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hr(i):(i=$t(t)?Ys:St.current,s.context=ho(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vu.enqueueReplaceState(s,s.state,null),lu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vo(e,t){try{var r="",n=t;do r+=nE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function a0(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hu||(hu=!0,Sh=n),dh(e,t)},r}function c0(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){dh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){dh(e,t),typeof n!="function"&&(us===null?us=new Set([this]):us.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Nv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=HT.bind(null,e,t,r),t.then(e,e))}function jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,ls(r,t,1))),r.lanes|=1),e)}var OT=In.ReactCurrentOwner,Nt=!1;function xt(e,t,r,n){t.child=e===null?$b(t,null,r,n):go(t,e.child,r,n)}function $v(e,t,r,n,s){r=r.render;var i=t.ref;return io(t,s),n=Km(e,t,r,n,i,s),r=Gm(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(Le&&r&&jm(t),t.flags|=1,xt(e,t,n,s),t.child)}function Av(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,l0(e,t,i,n,s)):(e=Nl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fa,r(o,n)&&e.ref===t.ref)return Ln(e,t,s)}return t.flags|=1,e=fs(i,n),e.ref=t.ref,e.return=t,t.child=e}function l0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Fa(i,n)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Ln(e,t,s)}return fh(e,t,r,n,s)}function u0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Zi,Kt),Kt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Zi,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Te(Zi,Kt),Kt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Te(Zi,Kt),Kt|=n;return xt(e,t,s,r),t.child}function d0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fh(e,t,r,n,s){var i=$t(r)?Ys:St.current;return i=ho(t,i),io(t,s),r=Km(e,t,r,n,i,s),n=Gm(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(Le&&n&&jm(t),t.flags|=1,xt(e,t,r,s),t.child)}function Fv(e,t,r,n,s){if($t(r)){var i=!0;su(t)}else i=!1;if(io(t,s),t.stateNode===null)Ol(e,t),o0(t,r,n),uh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=hr(l):(l=$t(r)?Ys:St.current,l=ho(t,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&Mv(t,o,n,l),Jn=!1;var f=t.memoizedState;o.state=f,lu(t,n,o,s),c=t.memoizedState,a!==n||f!==c||It.current||Jn?(typeof u=="function"&&(lh(t,r,u,n),c=t.memoizedState),(a=Jn||Lv(t,r,a,n,f,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Fb(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:xr(t.type,a),o.props=l,d=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=$t(r)?Ys:St.current,c=ho(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&Mv(t,o,n,c),Jn=!1,f=t.memoizedState,o.state=f,lu(t,n,o,s);var h=t.memoizedState;a!==d||f!==h||It.current||Jn?(typeof p=="function"&&(lh(t,r,p,n),h=t.memoizedState),(l=Jn||Lv(t,r,l,n,f,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ph(e,t,r,n,i,s)}function ph(e,t,r,n,s,i){d0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Cv(t,r,!1),Ln(e,t,i);n=t.stateNode,OT.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=go(t,e.child,null,i),t.child=go(t,null,a,i)):xt(e,t,a,i),t.memoizedState=n.state,s&&Cv(t,r,!0),t.child}function f0(e){var t=e.stateNode;t.pendingContext?Rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rv(e,t.context,!1),Vm(e,t.containerInfo)}function Bv(e,t,r,n,s){return mo(),$m(s),t.flags|=256,xt(e,t,r,n),t.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function mh(e){return{baseLanes:e,cachePool:null,transitions:null}}function p0(e,t,r){var n=t.pendingProps,s=je.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(je,s&1),e===null)return ah(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qu(o,n,0,null),e=qs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mh(r),t.memoizedState=hh,e):Xm(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return LT(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fs(a,i):(i=qs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?mh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hh,n}return i=e.child,e=i.sibling,n=fs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xm(e,t){return t=qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,r,n){return n!==null&&$m(n),go(t,e.child,null,r),e=Xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=zf(Error(I(422))),Yc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=qu({mode:"visible",children:n.children},s,0,null),i=qs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&go(t,e.child,null,o),t.child.memoizedState=mh(o),t.memoizedState=hh,i);if(!(t.mode&1))return Yc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(I(419)),n=zf(i,n,void 0),Yc(e,t,o,n)}if(a=(o&e.childLanes)!==0,Nt||a){if(n=at,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,On(e,s),Lr(n,e,s,-1))}return ng(),n=zf(Error(I(421))),Yc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Gt=cs(s.nextSibling),Qt=t,Le=!0,Pr=null,e!==null&&(or[ar++]=xn,or[ar++]=En,or[ar++]=Qs,xn=e.id,En=e.overflow,Qs=t),t=Xm(t,n.children),t.flags|=4096,t)}function zv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ch(e.return,t,r)}function Uf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function h0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(xt(e,t,n.children,r),n=je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,r,t);else if(e.tag===19)zv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Te(je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Uf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Uf(t,!0,r,null,i);break;case"together":Uf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=fs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function MT(e,t,r){switch(t.tag){case 3:f0(t),mo();break;case 5:Bb(t);break;case 1:$t(t.type)&&su(t);break;case 4:Vm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Te(au,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Te(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?p0(e,t,r):(Te(je,je.current&1),e=Ln(e,t,r),e!==null?e.sibling:null);Te(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return h0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(je,je.current),n)break;return null;case 22:case 23:return t.lanes=0,u0(e,t,r)}return Ln(e,t,r)}var m0,gh,g0,y0;m0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gh=function(){};g0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Us(an.current);var i=null;switch(r){case"input":s=Ap(e,s),n=Ap(e,n),i=[];break;case"select":s=$e({},s,{value:void 0}),n=$e({},n,{value:void 0}),i=[];break;case"textarea":s=zp(e,s),n=zp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ru)}Vp(r,n);var o;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(La.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(a=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(La.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&De("scroll",e),i||a===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};y0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ea(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NT(e,t,r){var n=t.pendingProps;switch(Im(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return $t(t.type)&&nu(),gt(t),null;case 3:return n=t.stateNode,yo(),ke(It),ke(St),Wm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(Ch(Pr),Pr=null))),gh(e,t),gt(t),null;case 5:Hm(t);var s=Us(Ha.current);if(r=t.type,e!==null&&t.stateNode!=null)g0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return gt(t),null}if(e=Us(an.current),Kc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nn]=t,n[Ua]=i,e=(t.mode&1)!==0,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(s=0;s<ga.length;s++)De(ga[s],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":Qy(n,i),De("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},De("invalid",n);break;case"textarea":Jy(n,i),De("invalid",n)}Vp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,a,e),s=["children",""+a]):La.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",n)}switch(r){case"input":Ac(n),Xy(n,i,!0);break;case"textarea":Ac(n),Zy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ru)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nn]=t,e[Ua]=n,m0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hp(r,n),r){case"dialog":De("cancel",e),De("close",e),s=n;break;case"iframe":case"object":case"embed":De("load",e),s=n;break;case"video":case"audio":for(s=0;s<ga.length;s++)De(ga[s],e);s=n;break;case"source":De("error",e),s=n;break;case"img":case"image":case"link":De("error",e),De("load",e),s=n;break;case"details":De("toggle",e),s=n;break;case"input":Qy(e,n),s=Ap(e,n),De("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=$e({},n,{value:void 0}),De("invalid",e);break;case"textarea":Jy(e,n),s=zp(e,n),De("invalid",e);break;default:s=n}Vp(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?GS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ma(e,c):typeof c=="number"&&Ma(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(La.hasOwnProperty(i)?c!=null&&i==="onScroll"&&De("scroll",e):c!=null&&Sm(e,i,c,o))}switch(r){case"input":Ac(e),Xy(e,n,!1);break;case"textarea":Ac(e),Zy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ys(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?to(e,!!n.multiple,i,!1):n.defaultValue!=null&&to(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ru)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Us(Ha.current),Us(an.current),Kc(t)){if(n=t.stateNode,r=t.memoizedProps,n[nn]=t,(i=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:qc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nn]=t,t.stateNode=n}return gt(t),null;case 13:if(ke(je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Gt!==null&&t.mode&1&&!(t.flags&128))jb(),mo(),t.flags|=98560,i=!1;else if(i=Kc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[nn]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),i=!1}else Pr!==null&&(Ch(Pr),Pr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?rt===0&&(rt=3):ng())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return yo(),gh(e,t),e===null&&Ba(t.stateNode.containerInfo),gt(t),null;case 10:return Bm(t.type._context),gt(t),null;case 17:return $t(t.type)&&nu(),gt(t),null;case 19:if(ke(je),i=t.memoizedState,i===null)return gt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ea(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uu(e),o!==null){for(t.flags|=128,ea(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Te(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&He()>wo&&(t.flags|=128,n=!0,ea(i,!1),t.lanes=4194304)}else{if(!n)if(e=uu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return gt(t),null}else 2*He()-i.renderingStartTime>wo&&r!==1073741824&&(t.flags|=128,n=!0,ea(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=He(),t.sibling=null,r=je.current,Te(je,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return rg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function jT(e,t){switch(Im(t),t.tag){case 1:return $t(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yo(),ke(It),ke(St),Wm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hm(t),null;case 13:if(ke(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(je),null;case 4:return yo(),null;case 10:return Bm(t.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var Qc=!1,yt=!1,IT=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ji(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function yh(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Uv=!1;function $T(e,t){if(eh=Zl,e=bb(),Nm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++l===s&&(a=o),f===i&&++u===n&&(c=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:e,selectionRange:r},Zl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,g=h.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:xr(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ze(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=Uv,Uv=!1,h}function Ta(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yh(t,r,i)}s=s.next}while(s!==n)}}function Hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function v0(e){var t=e.alternate;t!==null&&(e.alternate=null,v0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Ua],delete t[sh],delete t[wT],delete t[_T])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w0(e){return e.tag===5||e.tag===3||e.tag===4}function Vv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ru));else if(n!==4&&(e=e.child,e!==null))for(wh(e,t,r),e=e.sibling;e!==null;)wh(e,t,r),e=e.sibling}function _h(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_h(e,t,r),e=e.sibling;e!==null;)_h(e,t,r),e=e.sibling}var dt=null,Er=!1;function Hn(e,t,r){for(r=r.child;r!==null;)_0(e,t,r),r=r.sibling}function _0(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Iu,r)}catch{}switch(r.tag){case 5:yt||Ji(r,t);case 6:var n=dt,s=Er;dt=null,Hn(e,t,r),dt=n,Er=s,dt!==null&&(Er?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(Er?(e=dt,r=r.stateNode,e.nodeType===8?jf(e.parentNode,r):e.nodeType===1&&jf(e,r),$a(e)):jf(dt,r.stateNode));break;case 4:n=dt,s=Er,dt=r.stateNode.containerInfo,Er=!0,Hn(e,t,r),dt=n,Er=s;break;case 0:case 11:case 14:case 15:if(!yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(r,t,o),s=s.next}while(s!==n)}Hn(e,t,r);break;case 1:if(!yt&&(Ji(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ze(r,t,a)}Hn(e,t,r);break;case 21:Hn(e,t,r);break;case 22:r.mode&1?(yt=(n=yt)||r.memoizedState!==null,Hn(e,t,r),yt=n):Hn(e,t,r);break;default:Hn(e,t,r)}}function Hv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IT),t.forEach(function(n){var s=qT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Cr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Er=!1;break e;case 3:dt=a.stateNode.containerInfo,Er=!0;break e;case 4:dt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(dt===null)throw Error(I(160));_0(i,o,s),dt=null,Er=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){ze(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S0(t,e),t=t.sibling}function S0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),Wr(e),n&4){try{Ta(3,e,e.return),Hu(3,e)}catch(m){ze(e,e.return,m)}try{Ta(5,e,e.return)}catch(m){ze(e,e.return,m)}}break;case 1:Cr(t,e),Wr(e),n&512&&r!==null&&Ji(r,r.return);break;case 5:if(Cr(t,e),Wr(e),n&512&&r!==null&&Ji(r,r.return),e.flags&32){var s=e.stateNode;try{Ma(s,"")}catch(m){ze(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VS(s,i),Hp(a,o);var l=Hp(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?GS(s,d):u==="dangerouslySetInnerHTML"?qS(s,d):u==="children"?Ma(s,d):Sm(s,u,d,l)}switch(a){case"input":Fp(s,i);break;case"textarea":HS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?to(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?to(s,!!i.multiple,i.defaultValue,!0):to(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(m){ze(e,e.return,m)}}break;case 6:if(Cr(t,e),Wr(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){ze(e,e.return,m)}}break;case 3:if(Cr(t,e),Wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$a(t.containerInfo)}catch(m){ze(e,e.return,m)}break;case 4:Cr(t,e),Wr(e);break;case 13:Cr(t,e),Wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(eg=He())),n&4&&Hv(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(l=yt)||u,Cr(t,e),yt=l):Cr(t,e),Wr(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(d=V=u;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ta(4,f,f.return);break;case 1:Ji(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){ze(n,r,m)}}break;case 5:Ji(f,f.return);break;case 22:if(f.memoizedState!==null){qv(d);continue}}p!==null?(p.return=f,V=p):qv(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=KS("display",o))}catch(m){ze(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){ze(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cr(t,e),Wr(e),n&4&&Hv(e);break;case 21:break;default:Cr(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w0(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ma(s,""),n.flags&=-33);var i=Vv(e);_h(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vv(e);wh(e,a,o);break;default:throw Error(I(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AT(e,t,r){V=e,b0(e)}function b0(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Qc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||yt;a=Qc;var l=yt;if(Qc=o,(yt=c)&&!l)for(V=s;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?Kv(s):c!==null?(c.return=o,V=c):Kv(s);for(;i!==null;)V=i,b0(i),i=i.sibling;V=s,Qc=a,yt=l}Wv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):Wv(e)}}function Wv(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Hu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:xr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dv(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dv(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$a(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}yt||t.flags&512&&vh(t)}catch(f){ze(t,t.return,f)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function qv(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Kv(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hu(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{vh(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{vh(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var FT=Math.ceil,pu=In.ReactCurrentDispatcher,Jm=In.ReactCurrentOwner,dr=In.ReactCurrentBatchConfig,ge=0,at=null,Ge=null,ft=0,Kt=0,Zi=Cs(0),rt=0,Ga=null,Js=0,Wu=0,Zm=0,Pa=null,Mt=null,eg=0,wo=1/0,Rn=null,hu=!1,Sh=null,us=null,Xc=!1,ns=null,mu=0,Da=0,bh=null,Ll=-1,Ml=0;function Tt(){return ge&6?He():Ll!==-1?Ll:Ll=He()}function ds(e){return e.mode&1?ge&2&&ft!==0?ft&-ft:bT.transition!==null?(Ml===0&&(Ml=ob()),Ml):(e=Se,e!==0||(e=window.event,e=e===void 0?16:pb(e.type)),e):1}function Lr(e,t,r,n){if(50<Da)throw Da=0,bh=null,Error(I(185));ac(e,r,n),(!(ge&2)||e!==at)&&(e===at&&(!(ge&2)&&(Wu|=r),rt===4&&ts(e,ft)),At(e,n),r===1&&ge===0&&!(t.mode&1)&&(wo=He()+500,zu&&xs()))}function At(e,t){var r=e.callbackNode;bE(e,t);var n=Jl(e,e===at?ft:0);if(n===0)r!==null&&rv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rv(r),t===1)e.tag===0?ST(Gv.bind(null,e)):Lb(Gv.bind(null,e)),yT(function(){!(ge&6)&&xs()}),r=null;else{switch(ab(n)){case 1:r=Em;break;case 4:r=sb;break;case 16:r=Xl;break;case 536870912:r=ib;break;default:r=Xl}r=k0(r,R0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function R0(e,t){if(Ll=-1,Ml=0,ge&6)throw Error(I(327));var r=e.callbackNode;if(oo()&&e.callbackNode!==r)return null;var n=Jl(e,e===at?ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gu(e,n);else{t=n;var s=ge;ge|=2;var i=x0();(at!==e||ft!==t)&&(Rn=null,wo=He()+500,Ws(e,t));do try{UT();break}catch(a){C0(e,a)}while(!0);Fm(),pu.current=i,ge=s,Ge!==null?t=0:(at=null,ft=0,t=rt)}if(t!==0){if(t===2&&(s=Yp(e),s!==0&&(n=s,t=Rh(e,s))),t===1)throw r=Ga,Ws(e,0),ts(e,n),At(e,He()),r;if(t===6)ts(e,n);else{if(s=e.current.alternate,!(n&30)&&!BT(s)&&(t=gu(e,n),t===2&&(i=Yp(e),i!==0&&(n=i,t=Rh(e,i))),t===1))throw r=Ga,Ws(e,0),ts(e,n),At(e,He()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:js(e,Mt,Rn);break;case 3:if(ts(e,n),(n&130023424)===n&&(t=eg+500-He(),10<t)){if(Jl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nh(js.bind(null,e,Mt,Rn),t);break}js(e,Mt,Rn);break;case 4:if(ts(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Or(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=He()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FT(n/1960))-n,10<n){e.timeoutHandle=nh(js.bind(null,e,Mt,Rn),n);break}js(e,Mt,Rn);break;case 5:js(e,Mt,Rn);break;default:throw Error(I(329))}}}return At(e,He()),e.callbackNode===r?R0.bind(null,e):null}function Rh(e,t){var r=Pa;return e.current.memoizedState.isDehydrated&&(Ws(e,t).flags|=256),e=gu(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&Ch(t)),e}function Ch(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function BT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Mr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~Zm,t&=~Wu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Or(t),n=1<<r;e[r]=-1,t&=~n}}function Gv(e){if(ge&6)throw Error(I(327));oo();var t=Jl(e,0);if(!(t&1))return At(e,He()),null;var r=gu(e,t);if(e.tag!==0&&r===2){var n=Yp(e);n!==0&&(t=n,r=Rh(e,n))}if(r===1)throw r=Ga,Ws(e,0),ts(e,t),At(e,He()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,Mt,Rn),At(e,He()),null}function tg(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(wo=He()+500,zu&&xs())}}function Zs(e){ns!==null&&ns.tag===0&&!(ge&6)&&oo();var t=ge;ge|=1;var r=dr.transition,n=Se;try{if(dr.transition=null,Se=1,e)return e()}finally{Se=n,dr.transition=r,ge=t,!(ge&6)&&xs()}}function rg(){Kt=Zi.current,ke(Zi)}function Ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gT(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(Im(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nu();break;case 3:yo(),ke(It),ke(St),Wm();break;case 5:Hm(n);break;case 4:yo();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Bm(n.type._context);break;case 22:case 23:rg()}r=r.return}if(at=e,Ge=e=fs(e.current,null),ft=Kt=t,rt=0,Ga=null,Zm=Wu=Js=0,Mt=Pa=null,zs!==null){for(t=0;t<zs.length;t++)if(r=zs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}zs=null}return e}function C0(e,t){do{var r=Ge;try{if(Fm(),Dl.current=fu,du){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}du=!1}if(Xs=0,ot=tt=Ie=null,Ea=!1,Wa=0,Jm.current=null,r===null||r.return===null){rt=1,Ga=t,Ge=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=ft,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=jv(o);if(p!==null){p.flags&=-257,Iv(p,o,a,i,t),p.mode&1&&Nv(i,l,t),t=p,c=l;var h=t.updateQueue;if(h===null){var m=new Set;m.add(c),t.updateQueue=m}else h.add(c);break e}else{if(!(t&1)){Nv(i,l,t),ng();break e}c=Error(I(426))}}else if(Le&&a.mode&1){var g=jv(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Iv(g,o,a,i,t),$m(vo(c,a));break e}}i=c=vo(c,a),rt!==4&&(rt=2),Pa===null?Pa=[i]:Pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=a0(i,c,t);Pv(i,v);break e;case 1:a=c;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(us===null||!us.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=c0(i,a,t);Pv(i,b);break e}}i=i.return}while(i!==null)}T0(r)}catch(C){t=C,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function x0(){var e=pu.current;return pu.current=fu,e===null?fu:e}function ng(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Js&268435455)&&!(Wu&268435455)||ts(at,ft)}function gu(e,t){var r=ge;ge|=2;var n=x0();(at!==e||ft!==t)&&(Rn=null,Ws(e,t));do try{zT();break}catch(s){C0(e,s)}while(!0);if(Fm(),ge=r,pu.current=n,Ge!==null)throw Error(I(261));return at=null,ft=0,rt}function zT(){for(;Ge!==null;)E0(Ge)}function UT(){for(;Ge!==null&&!pE();)E0(Ge)}function E0(e){var t=D0(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?T0(e):Ge=t,Jm.current=null}function T0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jT(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Ge=null;return}}else if(r=NT(r,t,Kt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);rt===0&&(rt=5)}function js(e,t,r){var n=Se,s=dr.transition;try{dr.transition=null,Se=1,VT(e,t,r,n)}finally{dr.transition=s,Se=n}return null}function VT(e,t,r,n){do oo();while(ns!==null);if(ge&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(RE(e,i),e===at&&(Ge=at=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xc||(Xc=!0,k0(Xl,function(){return oo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=Se;Se=1;var a=ge;ge|=4,Jm.current=null,$T(e,r),S0(r,e),lT(th),Zl=!!eh,th=eh=null,e.current=r,AT(r),hE(),ge=a,Se=o,dr.transition=i}else e.current=r;if(Xc&&(Xc=!1,ns=e,mu=s),i=e.pendingLanes,i===0&&(us=null),yE(r.stateNode),At(e,He()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hu)throw hu=!1,e=Sh,Sh=null,e;return mu&1&&e.tag!==0&&oo(),i=e.pendingLanes,i&1?e===bh?Da++:(Da=0,bh=e):Da=0,xs(),null}function oo(){if(ns!==null){var e=ab(mu),t=dr.transition,r=Se;try{if(dr.transition=null,Se=16>e?16:e,ns===null)var n=!1;else{if(e=ns,ns=null,mu=0,ge&6)throw Error(I(331));var s=ge;for(ge|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(V=l;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Ta(8,u,i)}var d=u.child;if(d!==null)d.return=u,V=d;else for(;V!==null;){u=V;var f=u.sibling,p=u.return;if(v0(u),u===l){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ta(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,V=v;break e}V=i.return}}var _=e.current;for(V=_;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=_;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hu(9,a)}}catch(C){ze(a,a.return,C)}if(a===o){V=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}if(ge=s,xs(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Iu,e)}catch{}n=!0}return n}finally{Se=r,dr.transition=t}}return!1}function Yv(e,t,r){t=vo(r,t),t=a0(e,t,1),e=ls(e,t,1),t=Tt(),e!==null&&(ac(e,1,t),At(e,t))}function ze(e,t,r){if(e.tag===3)Yv(e,e,r);else for(;t!==null;){if(t.tag===3){Yv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(us===null||!us.has(n))){e=vo(r,e),e=c0(t,e,1),t=ls(t,e,1),e=Tt(),t!==null&&(ac(t,1,e),At(t,e));break}}t=t.return}}function HT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&r,at===e&&(ft&r)===r&&(rt===4||rt===3&&(ft&130023424)===ft&&500>He()-eg?Ws(e,0):Zm|=r),At(e,t)}function P0(e,t){t===0&&(e.mode&1?(t=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):t=1);var r=Tt();e=On(e,t),e!==null&&(ac(e,t,r),At(e,r))}function WT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),P0(e,r)}function qT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),P0(e,r)}var D0;D0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nt=!1,MT(e,t,r);Nt=!!(e.flags&131072)}else Nt=!1,Le&&t.flags&1048576&&Mb(t,ou,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ol(e,t),e=t.pendingProps;var s=ho(t,St.current);io(t,r),s=Km(null,t,n,e,s,r);var i=Gm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(n)?(i=!0,su(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Um(t),s.updater=Vu,t.stateNode=s,s._reactInternals=t,uh(t,n,e,r),t=ph(null,t,n,!0,i,r)):(t.tag=0,Le&&i&&jm(t),xt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ol(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=GT(n),e=xr(n,e),s){case 0:t=fh(null,t,n,e,r);break e;case 1:t=Fv(null,t,n,e,r);break e;case 11:t=$v(null,t,n,e,r);break e;case 14:t=Av(null,t,n,xr(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),fh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),Fv(e,t,n,s,r);case 3:e:{if(f0(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Fb(e,t),lu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vo(Error(I(423)),t),t=Bv(e,t,n,r,s);break e}else if(n!==s){s=vo(Error(I(424)),t),t=Bv(e,t,n,r,s);break e}else for(Gt=cs(t.stateNode.containerInfo.firstChild),Qt=t,Le=!0,Pr=null,r=$b(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),n===s){t=Ln(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 5:return Bb(t),e===null&&ah(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rh(n,s)?o=null:i!==null&&rh(n,i)&&(t.flags|=32),d0(e,t),xt(e,t,o,r),t.child;case 6:return e===null&&ah(t),null;case 13:return p0(e,t,r);case 4:return Vm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=go(t,null,n,r):xt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),$v(e,t,n,s,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Te(au,n._currentValue),n._currentValue=o,i!==null)if(Mr(i.value,o)){if(i.children===s.children&&!It.current){t=Ln(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Pn(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ch(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ch(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,io(t,r),s=hr(s),n=n(s),t.flags|=1,xt(e,t,n,r),t.child;case 14:return n=t.type,s=xr(n,t.pendingProps),s=xr(n.type,s),Av(e,t,n,s,r);case 15:return l0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),Ol(e,t),t.tag=1,$t(n)?(e=!0,su(t)):e=!1,io(t,r),o0(t,n,s),uh(t,n,s,r),ph(null,t,n,!0,e,r);case 19:return h0(e,t,r);case 22:return u0(e,t,r)}throw Error(I(156,t.tag))};function k0(e,t){return nb(e,t)}function KT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,n){return new KT(e,t,r,n)}function sg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GT(e){if(typeof e=="function")return sg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rm)return 11;if(e===Cm)return 14}return 2}function fs(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")sg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vi:return qs(r.children,s,i,t);case bm:o=8,s|=8;break;case Np:return e=ur(12,r,t,s|2),e.elementType=Np,e.lanes=i,e;case jp:return e=ur(13,r,t,s),e.elementType=jp,e.lanes=i,e;case Ip:return e=ur(19,r,t,s),e.elementType=Ip,e.lanes=i,e;case BS:return qu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AS:o=10;break e;case FS:o=9;break e;case Rm:o=11;break e;case Cm:o=14;break e;case Xn:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ur(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function qs(e,t,r,n){return e=ur(7,e,n,t),e.lanes=r,e}function qu(e,t,r,n){return e=ur(22,e,n,t),e.elementType=BS,e.lanes=r,e.stateNode={isHidden:!1},e}function Vf(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Hf(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ig(e,t,r,n,s,i,o,a,c){return e=new YT(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(i),e}function QT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O0(e){if(!e)return vs;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if($t(r))return Ob(e,r,t)}return t}function L0(e,t,r,n,s,i,o,a,c){return e=ig(r,n,!0,e,s,i,o,a,c),e.context=O0(null),r=e.current,n=Tt(),s=ds(r),i=Pn(n,s),i.callback=t??null,ls(r,i,s),e.current.lanes=s,ac(e,s,n),At(e,n),e}function Ku(e,t,r,n){var s=t.current,i=Tt(),o=ds(s);return r=O0(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ls(s,t,o),e!==null&&(Lr(e,s,o,i),Pl(e,s,o)),o}function yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function og(e,t){Qv(e,t),(e=e.alternate)&&Qv(e,t)}function XT(){return null}var M0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ag(e){this._internalRoot=e}Gu.prototype.render=ag.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ku(e,t,null,null)};Gu.prototype.unmount=ag.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zs(function(){Ku(null,e,null,null)}),t[kn]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ub();e={blockedOn:null,target:e,priority:t};for(var r=0;r<es.length&&t!==0&&t<es[r].priority;r++);es.splice(r,0,e),r===0&&fb(e)}};function cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function JT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=yu(o);i.call(l)}}var o=L0(t,n,e,0,null,!1,!1,"",Xv);return e._reactRootContainer=o,e[kn]=o.current,Ba(e.nodeType===8?e.parentNode:e),Zs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var l=yu(c);a.call(l)}}var c=ig(e,0,!1,null,null,!1,!1,"",Xv);return e._reactRootContainer=c,e[kn]=c.current,Ba(e.nodeType===8?e.parentNode:e),Zs(function(){Ku(t,c,r,n)}),c}function Qu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=yu(o);a.call(c)}}Ku(t,o,e,s)}else o=JT(r,t,e,s,n);return yu(o)}cb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ma(t.pendingLanes);r!==0&&(Tm(t,r|1),At(t,He()),!(ge&6)&&(wo=He()+500,xs()))}break;case 13:Zs(function(){var n=On(e,1);if(n!==null){var s=Tt();Lr(n,e,1,s)}}),og(e,1)}};Pm=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var r=Tt();Lr(t,e,134217728,r)}og(e,134217728)}};lb=function(e){if(e.tag===13){var t=ds(e),r=On(e,t);if(r!==null){var n=Tt();Lr(r,e,t,n)}og(e,t)}};ub=function(){return Se};db=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}};qp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Bu(n);if(!s)throw Error(I(90));US(n),Fp(n,s)}}}break;case"textarea":HS(e,r);break;case"select":t=r.value,t!=null&&to(e,!!r.multiple,t,!1)}};XS=tg;JS=Zs;var ZT={usingClientEntryPoint:!1,Events:[lc,Ki,Bu,YS,QS,tg]},ta={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eP={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tb(e),e===null?null:e.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||XT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Iu=Jc.inject(eP),on=Jc}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZT;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(t))throw Error(I(200));return QT(e,t,null,r)};rr.createRoot=function(e,t){if(!cg(e))throw Error(I(299));var r=!1,n="",s=M0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ig(e,1,!1,null,null,r,!1,n,s),e[kn]=t.current,Ba(e.nodeType===8?e.parentNode:e),new ag(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=tb(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Zs(e)};rr.hydrate=function(e,t,r){if(!Yu(t))throw Error(I(200));return Qu(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!cg(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=M0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=L0(t,null,e,1,r??null,s,!1,i,o),e[kn]=t.current,Ba(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Gu(t)};rr.render=function(e,t,r){if(!Yu(t))throw Error(I(200));return Qu(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(I(40));return e._reactRootContainer?(Zs(function(){Qu(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1};rr.unstable_batchedUpdates=tg;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yu(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Qu(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function N0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N0)}catch(e){console.error(e)}}N0(),NS.exports=rr;var dc=NS.exports;const ya=hm(dc);var j0,Jv=dc;j0=Jv.createRoot,Jv.hydrateRoot;var I0={exports:{}},$0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=S;function tP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rP=typeof Object.is=="function"?Object.is:tP,nP=fc.useSyncExternalStore,sP=fc.useRef,iP=fc.useEffect,oP=fc.useMemo,aP=fc.useDebugValue;$0.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=sP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=oP(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var h=o.value;if(s(h,p))return d=h}return d=p}if(h=d,rP(u,p))return h;var m=n(p);return s!==void 0&&s(h,m)?h:(u=p,d=m)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var a=nP(e,i[0],i[1]);return iP(function(){o.hasValue=!0,o.value=a},[a]),aP(a),a};I0.exports=$0;var cP=I0.exports,Yt="default"in Kl?lr:Kl,Zv=Symbol.for("react-redux-context"),ew=typeof globalThis<"u"?globalThis:{};function lP(){if(!Yt.createContext)return{};const e=ew[Zv]??(ew[Zv]=new Map);let t=e.get(Yt.createContext);return t||(t=Yt.createContext(null),e.set(Yt.createContext,t)),t}var ws=lP(),uP=()=>{throw new Error("uSES not initialized!")};function lg(e=ws){return function(){return Yt.useContext(e)}}var A0=lg(),F0=uP,dP=e=>{F0=e},fP=(e,t)=>e===t;function pP(e=ws){const t=e===ws?A0:lg(e),r=(n,s={})=>{const{equalityFn:i=fP,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:c,getServerState:l,stabilityCheck:u,identityFunctionCheck:d}=t();Yt.useRef(!0);const f=Yt.useCallback({[n.name](h){return n(h)}}[n.name],[n,u,o.stabilityCheck]),p=F0(c.addNestedSub,a.getState,l||a.getState,f,i);return Yt.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var hP=pP();function mP(e){e()}function gP(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mP(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var tw={notify(){},get:()=>[]};function yP(e,t){let r,n=tw,s=0,i=!1;function o(m){u();const g=n.subscribe(m);let v=!1;return()=>{v||(v=!0,g(),d())}}function a(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function l(){return i}function u(){s++,r||(r=e.subscribe(c),n=gP())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=tw)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const h={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return h}var vP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wP=typeof navigator<"u"&&navigator.product==="ReactNative",_P=vP||wP?Yt.useLayoutEffect:Yt.useEffect;function SP({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Yt.useMemo(()=>{const l=yP(e);return{store:e,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,n,s,i]),a=Yt.useMemo(()=>e.getState(),[e]);_P(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=t||ws;return Yt.createElement(c.Provider,{value:o},r)}var bP=SP;function B0(e=ws){const t=e===ws?A0:lg(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var RP=B0();function CP(e=ws){const t=e===ws?RP:B0(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var xP=CP();dP(cP.useSyncExternalStoreWithSelector);var sn=function(){return sn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sn.apply(this,arguments)};function z0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function EP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var jl="right-scroll-bar-position",Il="width-before-scroll-bar",TP="with-scroll-bars-hidden",PP="--removed-body-scroll-bar-size";function Wf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DP(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var kP=typeof window<"u"?S.useLayoutEffect:S.useEffect,rw=new WeakMap;function OP(e,t){var r=DP(null,function(n){return e.forEach(function(s){return Wf(s,n)})});return kP(function(){var n=rw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||Wf(a,null)}),i.forEach(function(a){s.has(a)||Wf(a,o)})}rw.set(r,e)},[e]),r}function LP(e){return e}function MP(e,t){t===void 0&&(t=LP);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),r}}}};return s}function NP(e){e===void 0&&(e={});var t=MP(null);return t.options=sn({async:!0,ssr:!1},e),t}var U0=function(e){var t=e.sideCar,r=z0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,sn({},r))};U0.isSideCarExport=!0;function jP(e,t){return e.useMedium(t),U0}var V0=NP(),qf=function(){},Xu=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:qf,onWheelCapture:qf,onTouchMoveCapture:qf}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,_=e.gapMode,w=z0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,C=OP([r,t]),R=sn(sn({},w),s);return S.createElement(S.Fragment,null,u&&S.createElement(b,{sideCar:V0,removeScrollBar:l,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:_}),o?S.cloneElement(S.Children.only(a),sn(sn({},R),{ref:C})):S.createElement(v,sn({},R,{className:c,ref:C}),a))});Xu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xu.classNames={fullWidth:Il,zeroRight:jl};var IP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $P(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IP();return t&&e.setAttribute("nonce",t),e}function AP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BP=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$P())&&(AP(t,r),FP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zP=function(){var e=BP();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},H0=function(){var e=zP(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},UP={left:0,top:0,right:0,gap:0},Kf=function(e){return parseInt(e||"",10)||0},VP=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Kf(r),Kf(n),Kf(s)]},HP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UP;var t=VP(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},WP=H0(),ao="data-scroll-locked",qP=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ao,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Il,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Il," .").concat(Il,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ao,`] {
    `).concat(PP,": ").concat(a,`px;
  }
`)},nw=function(){var e=parseInt(document.body.getAttribute(ao)||"0",10);return isFinite(e)?e:0},KP=function(){S.useEffect(function(){return document.body.setAttribute(ao,(nw()+1).toString()),function(){var e=nw()-1;e<=0?document.body.removeAttribute(ao):document.body.setAttribute(ao,e.toString())}},[])},GP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;KP();var i=S.useMemo(function(){return HP(s)},[s]);return S.createElement(WP,{styles:qP(i,!t,s,r?"":"!important")})},xh=!1;if(typeof window<"u")try{var Zc=Object.defineProperty({},"passive",{get:function(){return xh=!0,!0}});window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{xh=!1}var mi=xh?{passive:!1}:!1,YP=function(e){return e.tagName==="TEXTAREA"},W0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!YP(e)&&r[t]==="visible")},QP=function(e){return W0(e,"overflowY")},XP=function(e){return W0(e,"overflowX")},sw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=q0(e,n);if(s){var i=K0(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},JP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ZP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},q0=function(e,t){return e==="v"?QP(t):XP(t)},K0=function(e,t){return e==="v"?JP(t):ZP(t)},eD=function(e,t){return e==="h"&&t==="rtl"?-1:1},tD=function(e,t,r,n,s){var i=eD(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var p=K0(e,a),h=p[0],m=p[1],g=p[2],v=m-g-i*h;(h||v)&&q0(e,a)&&(d+=v,f+=h),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(l=!0),l},el=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iw=function(e){return[e.deltaX,e.deltaY]},ow=function(e){return e&&"current"in e?e.current:e},rD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sD=0,gi=[];function iD(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),s=S.useState(sD++)[0],i=S.useState(H0)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=EP([e.lockRef.current],(e.shards||[]).map(ow),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=el(m),_=r.current,w="deltaX"in m?m.deltaX:_[0]-v[0],b="deltaY"in m?m.deltaY:_[1]-v[1],C,R=m.target,E=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in m&&E==="h"&&R.type==="range")return!1;var x=sw(E,R);if(!x)return!0;if(x?C=E:(C=E==="v"?"h":"v",x=sw(E,R)),!x)return!1;if(!n.current&&"changedTouches"in m&&(w||b)&&(n.current=C),!C)return!0;var k=n.current||C;return tD(k,g,m,k==="h"?w:b,!0)},[]),c=S.useCallback(function(m){var g=m;if(!(!gi.length||gi[gi.length-1]!==i)){var v="deltaY"in g?iw(g):el(g),_=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&rD(C.delta,v)})[0];if(_&&_.should){g.cancelable&&g.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(ow).filter(Boolean).filter(function(C){return C.contains(g.target)}),b=w.length>0?a(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),l=S.useCallback(function(m,g,v,_){var w={name:m,delta:g,target:v,should:_,shadowParent:oD(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=S.useCallback(function(m){r.current=el(m),n.current=void 0},[]),d=S.useCallback(function(m){l(m.type,iw(m),m.target,a(m,e.lockRef.current))},[]),f=S.useCallback(function(m){l(m.type,el(m),m.target,a(m,e.lockRef.current))},[]);S.useEffect(function(){return gi.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,mi),document.addEventListener("touchmove",c,mi),document.addEventListener("touchstart",u,mi),function(){gi=gi.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,mi),document.removeEventListener("touchmove",c,mi),document.removeEventListener("touchstart",u,mi)}},[]);var p=e.removeScrollBar,h=e.inert;return S.createElement(S.Fragment,null,h?S.createElement(i,{styles:nD(s)}):null,p?S.createElement(GP,{gapMode:e.gapMode}):null)}function oD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aD=jP(V0,iD);var G0=S.forwardRef(function(e,t){return S.createElement(Xu,sn({},e,{ref:t,sideCar:aD}))});G0.classNames=Xu.classNames;function Ft(e){return Object.keys(e)}function Gf(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ug(e,t){const r={...e},n=t;return Gf(e)&&Gf(t)&&Object.keys(t).forEach(s=>{Gf(n[s])&&s in e?r[s]=ug(r[s],n[s]):r[s]=n[s]}),r}function cD(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function lD(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Ya(e){const t=lD(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Yf(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Y0(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const s=`${n/16}${e}`;return t?Yf(s):s}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(i=>r(i)).join(",");if(n.includes(" "))return n.split(" ").map(i=>r(i)).join(" ");if(n.includes(e))return t?Yf(n):n;const s=n.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?Yf(i):i}}return n}return r}const O=Y0("rem",{shouldScale:!0}),aw=Y0("em");function Do(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function Q0(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function pc(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==S.Fragment:!1}function Es(e){const t=S.createContext(null);return[({children:s,value:i})=>y.jsx(t.Provider,{value:i,children:s}),()=>{const s=S.useContext(t);if(s===null)throw new Error(e);return s}]}function uD(e=null){const t=S.createContext(e);return[({children:s,value:i})=>y.jsx(t.Provider,{value:i,children:s}),()=>S.useContext(t)]}const dD={app:100,modal:200,popover:300,overlay:400,max:9999};function Ts(e){return dD[e]}const fD=()=>{};function pD(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||fD:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Ue(e,t="size",r=!0){if(e!==void 0)return Q0(e)?r?O(e):e:`var(--${t}-${e})`}function jt(e){return Ue(e,"mantine-spacing")}function Ar(e){return e===void 0?"var(--mantine-radius-default)":Ue(e,"mantine-radius")}function fr(e){return Ue(e,"mantine-font-size")}function hD(e){return Ue(e,"mantine-line-height",!1)}function dg(e){if(e)return Ue(e,"mantine-shadow",!1)}function mD(e,t){return e in t?Ya(t[e]):Ya(e)}function gD(e,t){const r=e.map(n=>({value:n,px:mD(n,t)}));return r.sort((n,s)=>n.px-s.px),r}function co(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function fg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Fs(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ju(e,t){const r=Fs(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback((...s)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...s),t)},[r,t])}const cw=["mousedown","touchstart"];function yD(e,t,r){const n=S.useRef();return S.useEffect(()=>{const s=i=>{const{target:o}=i??{};if(Array.isArray(r)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(l=>!!l&&!i.composedPath().includes(l))&&!a&&e()}else n.current&&!n.current.contains(o)&&e()};return(t||cw).forEach(i=>document.addEventListener(i,s)),()=>{(t||cw).forEach(i=>document.removeEventListener(i,s))}},[n,e,r]),n}function vD(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function wD(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function _D(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,s]=S.useState(r?t:wD(e)),i=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),s(i.current.matches),vD(i.current,o=>s(o.matches))},[e]),n}const hc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function _s(e,t){const r=S.useRef(!1);S.useEffect(()=>()=>{r.current=!1},[]),S.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function X0({opened:e,shouldReturnFocus:t=!0}){const r=S.useRef(),n=()=>{var s;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((s=r.current)==null||s.focus({preventScroll:!0}))};return _s(()=>{let s=-1;const i=o=>{o.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?r.current=document.activeElement:t&&(s=window.setTimeout(n,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),n}function SD(e,t="body > :not(script)"){const r=fg(),n=Array.from(document.querySelectorAll(t)).map(s=>{var c;if((c=s==null?void 0:s.shadowRoot)!=null&&c.contains(e)||s.contains(e))return;const i=s.getAttribute("aria-hidden"),o=s.getAttribute("data-hidden"),a=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",r),i===null||i==="false"?s.setAttribute("aria-hidden","true"):!o&&!a&&s.setAttribute("data-hidden",i),{node:s,ariaHidden:o||null}});return()=>{n.forEach(s=>{!s||r!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const bD=/input|select|textarea|button|object/,J0="a, input, select, textarea, button, object, [tabindex]";function RD(e){return e.style.display==="none"}function CD(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(RD(r))return!1;r=r.parentNode}return!0}function Z0(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Eh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(Z0(e));return(bD.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&CD(e)}function e1(e){const t=Z0(e);return(Number.isNaN(t)||t>=0)&&Eh(e)}function xD(e){return Array.from(e.querySelectorAll(J0)).filter(e1)}function ED(e,t){const r=xD(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let i=n===s.activeElement||e===s.activeElement;const o=s.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(i=r.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===o.getAttribute("name")).includes(n)),!i)return;t.preventDefault();const c=r[t.shiftKey?r.length-1:0];c&&c.focus()}function TD(e=!0){const t=S.useRef(),r=S.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(J0));o=a.find(e1)||a.find(Eh)||null,!o&&Eh(i)&&(o=i)}o&&o.focus({preventScroll:!0})},s=S.useCallback(i=>{if(e){if(i===null){r.current&&(r.current(),r.current=null);return}r.current=SD(i),t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)}},[e]);return S.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&ED(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current()}},[e]),s}const PD=e=>(e+1)%1e6;function DD(){const[,e]=S.useReducer(PD,0);return e}const kD=lr.useId||(()=>{});function OD(){const e=kD();return e?`mantine-${e.replace(/:/g,"")}`:""}function mc(e){const t=OD(),[r,n]=S.useState(t);return hc(()=>{n(fg())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function LD(e,t,r){S.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function t1(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function r1(...e){return t=>{e.forEach(r=>t1(r,t))}}function vr(...e){return S.useCallback(r1(...e),e)}function vu({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[s,i]=S.useState(t!==void 0?t:r),o=(a,...c)=>{i(a),n==null||n(a,...c)};return e!==void 0?[e,n,!0]:[s,o,!1]}function Zu(e,t){return _D("(prefers-reduced-motion: reduce)",e,t)}function wu(e=!1,t){const{onOpen:r,onClose:n}={},[s,i]=S.useState(e),o=S.useCallback(()=>{i(l=>l||(r==null||r(),!0))},[r]),a=S.useCallback(()=>{i(l=>l&&(n==null||n(),!1))},[n]),c=S.useCallback(()=>{s?a():o()},[a,o,s]);return[s,{open:o,close:a,toggle:c}]}function MD(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}function n1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=n1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=n1(e))&&(n&&(n+=" "),n+=t);return n}const ND={};function jD(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,s])=>{t[n]?t[n]=Pt(t[n],s):t[n]=s})}),t}function ed({theme:e,classNames:t,props:r,stylesCtx:n}){const i=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,r,n):o||ND);return jD(i)}function _u({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((i,o)=>typeof o=="function"?{...i,...o(e,r,n)}:{...i,...o},{})}const s1=S.createContext(null);function ai(){const e=S.useContext(s1);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function ID(){return ai().cssVariablesResolver}function $D(){return ai().classNamesPrefix}function pg(){return ai().getStyleNonce}function AD(){return ai().withStaticClasses}function FD(){return ai().headless}function BD(){var e;return(e=ai().stylesTransform)==null?void 0:e.sx}function zD(){var e;return(e=ai().stylesTransform)==null?void 0:e.styles}function UD(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function VD(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const r=parseInt(t,16),n=r>>16&255,s=r>>8&255,i=r&255;return{r:n,g:s,b:i,a:1}}function HD(e){const[t,r,n,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:s||1}}function WD(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),s=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*i-1))*s,c=n/60,l=a*(1-Math.abs(c%2-1)),u=i-a/2;let d,f,p;return c>=0&&c<1?(d=a,f=l,p=0):c>=1&&c<2?(d=l,f=a,p=0):c>=2&&c<3?(d=0,f=a,p=l):c>=3&&c<4?(d=0,f=l,p=a):c>=4&&c<5?(d=l,f=0,p=a):(d=a,f=0,p=l),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((p+u)*255),a:o||1}}function hg(e){return UD(e)?VD(e):e.startsWith("rgb")?HD(e):e.startsWith("hsl")?WD(e):{r:0,g:0,b:0,a:1}}function tl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:s,a:i}=hg(e),o=1-t,a=c=>Math.round(c*o);return`rgba(${a(r)}, ${a(n)}, ${a(s)}, ${i})`}function Qa(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Qf(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function qD(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function KD(e){if(e.startsWith("oklch("))return(qD(e)||0)/100;const{r:t,g:r,b:n}=hg(e),s=t/255,i=r/255,o=n/255,a=Qf(s),c=Qf(i),l=Qf(o);return .2126*a+.7152*c+.0722*l}function ra(e,t=.179){return e.startsWith("var(")?!1:KD(e)>t}function gc({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:ra(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:ra(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:ra(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,s]=e.split("."),i=s?Number(s):void 0,o=n in t.colors;if(o){const a=i!==void 0?t.colors[n][i]:t.colors[n][Qa(t,r||"light")];return{color:n,value:a,shade:i,isThemeColor:o,isLight:ra(a,t.luminanceThreshold),variable:s?`--mantine-color-${n}-${i}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:ra(e,t.luminanceThreshold),shade:i,variable:void 0}}function ei(e,t){const r=gc({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function Th(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},n=ei(r.from,t),s=ei(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${s} 100%)`}function rn(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:s}=hg(e);return`rgba(${r}, ${n}, ${s}, ${t})`}const yi=rn,GD=({color:e,theme:t,variant:r,gradient:n,autoContrast:s})=>{const i=gc({color:e,theme:t}),o=typeof s=="boolean"?s:t.autoContrast;if(r==="filled"){const a=o&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${O(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${O(1)} solid transparent`}:{background:e,hover:tl(e,.1),color:a,border:`${O(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:rn(a,.1),hover:rn(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}}return{background:rn(e,.1),hover:rn(e,.12),color:e,border:`${O(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${O(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:rn(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${O(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:rn(e,.05),color:e,border:`${O(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:rn(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}}return{background:"transparent",hover:rn(e,.12),color:e,border:`${O(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${O(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:tl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${O(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:tl(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${O(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:tl(t.white,.01),color:e,border:`${O(1)} solid transparent`}:r==="gradient"?{background:Th(n,t),hover:Th(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${O(1)} solid var(--mantine-color-default-border)`}:{}},YD={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},lw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",mg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:YD,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:GD,autoContrast:!1,luminanceThreshold:.3,fontFamily:lw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:lw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:O(34),lineHeight:"1.3"},h2:{fontSize:O(26),lineHeight:"1.35"},h3:{fontSize:O(22),lineHeight:"1.4"},h4:{fontSize:O(18),lineHeight:"1.45"},h5:{fontSize:O(16),lineHeight:"1.5"},h6:{fontSize:O(14),lineHeight:"1.5"}}},fontSizes:{xs:O(12),sm:O(14),md:O(16),lg:O(18),xl:O(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:O(2),sm:O(4),md:O(8),lg:O(16),xl:O(32)},spacing:{xs:O(10),sm:O(12),md:O(16),lg:O(20),xl:O(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), 0 ${O(1)} ${O(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(10)} ${O(15)} ${O(-5)}, rgba(0, 0, 0, 0.04) 0 ${O(7)} ${O(7)} ${O(-5)}`,md:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(20)} ${O(25)} ${O(-5)}, rgba(0, 0, 0, 0.04) 0 ${O(10)} ${O(10)} ${O(-5)}`,lg:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(28)} ${O(23)} ${O(-7)}, rgba(0, 0, 0, 0.04) 0 ${O(12)} ${O(12)} ${O(-7)}`,xl:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(36)} ${O(28)} ${O(-7)}, rgba(0, 0, 0, 0.04) 0 ${O(17)} ${O(17)} ${O(-7)}`},other:{},components:{}};function uw(e){return e==="auto"||e==="dark"||e==="light"}function QD({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return uw(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&uw(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const XD="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",dw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Xf(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function fw(e){if(!(e.primaryColor in e.colors))throw new Error(XD);if(typeof e.primaryShade=="object"&&(!Xf(e.primaryShade.dark)||!Xf(e.primaryShade.light)))throw new Error(dw);if(typeof e.primaryShade=="number"&&!Xf(e.primaryShade))throw new Error(dw)}function JD(e,t){var n;if(!t)return fw(e),e;const r=ug(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),fw(r),r}const gg=S.createContext(null),ZD=()=>S.useContext(gg)||mg;function wr(){const e=S.useContext(gg);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function i1({theme:e,children:t,inherit:r=!0}){const n=ZD(),s=S.useMemo(()=>JD(r?n:mg,e),[e,n,r]);return y.jsx(gg.Provider,{value:s,children:t})}i1.displayName="@mantine/core/MantineThemeProvider";function ek(){const e=wr(),t=pg(),r=Ft(e.breakpoints).reduce((n,s)=>{const i=e.breakpoints[s].includes("px"),o=Ya(e.breakpoints[s]),a=i?`${o-.1}px`:aw(o-.1),c=i?`${o}px`:aw(o);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return y.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Jf(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function na(e,t){return(Array.isArray(e)?e:[e]).reduce((n,s)=>`${s}{${n}}`,t)}function tk(e,t){const r=Jf(e.variables),n=r?na(t,r):"",s=Jf(e.dark),i=Jf(e.light),o=s?na(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",a=i?na(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${n}${o}${a}`}function rk({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&gc({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function pw(e,t){return rk({color:e.colors[e.primaryColor][Qa(e,t)],theme:e,autoContrast:null})}function rl({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const a=Qa(e,"light"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:yi(e.colors[t][a],.1),[`--mantine-color-${n}-light-hover`]:yi(e.colors[t][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:yi(e.colors[t][a],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}const i=Qa(e,"dark"),o={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${i})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${i===9?8:i+1})`,[`--mantine-color-${n}-light`]:yi(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${n}-light-hover`]:yi(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(i-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(i-4,0)})`,[`--mantine-color-${n}-outline-hover`]:yi(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...o}:o}function nk(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function vi(e,t,r){Ft(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const o1=e=>{const t=Qa(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:O(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":pw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":pw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};vi(n.variables,e.breakpoints,"breakpoint"),vi(n.variables,e.spacing,"spacing"),vi(n.variables,e.fontSizes,"font-size"),vi(n.variables,e.lineHeights,"line-height"),vi(n.variables,e.shadows,"shadow"),vi(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,o)=>{n.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Ft(e.colors).forEach(i=>{const o=e.colors[i];if(nk(o)){Object.assign(n.light,rl({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,rl({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,c)=>{n.variables[`--mantine-color-${i}-${c}`]=a}),Object.assign(n.light,rl({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,rl({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return Ft(s).forEach(i=>{n.variables[`--mantine-${i}-font-size`]=s[i].fontSize,n.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,n.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),n};function sk({theme:e,generator:t}){const r=o1(e),n=t==null?void 0:t(e);return n?ug(r,n):r}const Zf=o1(mg);function ik(e){const t={variables:{},light:{},dark:{}};return Ft(e.variables).forEach(r=>{Zf.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Ft(e.light).forEach(r=>{Zf.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Ft(e.dark).forEach(r=>{Zf.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function ok(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function a1({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=wr(),n=pg(),s=ID(),i=sk({theme:r,generator:s}),o=e===":root"&&t,a=o?ik(i):i,c=tk(a,e);return c?y.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${c}${o?"":ok(e)}`}}):null}a1.displayName="@mantine/CssVariables";function ak(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function wi(e,t){var n;const r=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=t())==null||n.setAttribute("data-mantine-color-scheme",r)}function ck({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const s=S.useRef(),[i,o]=S.useState(()=>e.get(t)),a=n||i,c=S.useCallback(u=>{n||(wi(u,r),o(u),e.set(u))},[e.set,a,n]),l=S.useCallback(()=>{o(t),wi(t,r),e.clear()},[e.clear,t]);return S.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),hc(()=>{wi(e.get(t),r)},[]),S.useEffect(()=>{var d;if(n)return wi(n,r),()=>{};n===void 0&&wi(i,r),s.current=window.matchMedia("(prefers-color-scheme: dark)");const u=f=>{i==="auto"&&wi(f.matches?"dark":"light",r)};return(d=s.current)==null||d.addEventListener("change",u),()=>{var f;return(f=s.current)==null?void 0:f.removeEventListener("change",u)}},[i,n]),{colorScheme:a,setColorScheme:c,clearColorScheme:l}}function lk({respectReducedMotion:e,getRootElement:t}){hc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}ak();function c1({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:l=QD(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:p,stylesTransform:h}){const{colorScheme:m,setColorScheme:g,clearColorScheme:v}=ck({defaultColorScheme:u,forceColorScheme:p,manager:l,getRootElement:d});return lk({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),y.jsx(s1.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:v,getRootElement:d,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:n,stylesTransform:h},children:y.jsxs(i1,{theme:e,children:[o&&y.jsx(a1,{cssVariablesSelector:a,deduplicateCssVariables:i}),s&&y.jsx(ek,{}),t]})})}c1.displayName="@mantine/core/MantineProvider";function uk({classNames:e,styles:t,props:r,stylesCtx:n}){const s=wr();return{resolvedClassNames:ed({theme:s,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:_u({theme:s,styles:t,props:r,stylesCtx:n||void 0})}}const dk={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function fk({theme:e,options:t,unstyled:r}){return Pt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||dk[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function pk({selector:e,stylesCtx:t,options:r,props:n,theme:s}){return ed({theme:s,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function hw({selector:e,stylesCtx:t,theme:r,classNames:n,props:s}){return ed({theme:r,classNames:n,props:s,stylesCtx:t})[e]}function hk({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function mk({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function gk({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function yk({themeName:e,theme:t,selector:r,props:n,stylesCtx:s}){return e.map(i=>{var o,a;return(a=ed({theme:t,classNames:(o=t.components[i])==null?void 0:o.classNames,props:n,stylesCtx:s}))==null?void 0:a[r]})}function vk({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function wk({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:s,classNames:i,classes:o,unstyled:a,className:c,rootSelector:l,props:u,stylesCtx:d,withStaticClasses:f,headless:p,transformedStyles:h}){return Pt(fk({theme:e,options:t,unstyled:a||p}),yk({theme:e,themeName:r,selector:n,props:u,stylesCtx:d}),vk({options:t,classes:o,selector:n,unstyled:a}),hw({selector:n,stylesCtx:d,theme:e,classNames:i,props:u}),hw({selector:n,stylesCtx:d,theme:e,classNames:h,props:u}),pk({selector:n,stylesCtx:d,options:t,props:u,theme:e}),hk({rootSelector:l,selector:n,className:c}),mk({selector:n,classes:o,unstyled:a||p}),f&&!p&&gk({themeName:r,classNamesPrefix:s,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function _k({theme:e,themeName:t,props:r,stylesCtx:n,selector:s}){return t.map(i=>{var o;return _u({theme:e,styles:(o=e.components[i])==null?void 0:o.styles,props:r,stylesCtx:n})[s]}).reduce((i,o)=>({...i,...o}),{})}function Ph({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Ph({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Sk(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Do(r[n])}}),t),{})}function bk({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:s,selector:i,themeName:o,headless:a}){var c;return(c=Sk([a?{}:t==null?void 0:t(r,n,s),...o.map(l=>{var u,d,f;return(f=(d=(u=r.components)==null?void 0:u[l])==null?void 0:d.vars)==null?void 0:f.call(d,r,n,s)}),e==null?void 0:e(r,n,s)]))==null?void 0:c[i]}function Rk({theme:e,themeName:t,selector:r,options:n,props:s,stylesCtx:i,rootSelector:o,styles:a,style:c,vars:l,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&_k({theme:e,themeName:t,props:s,stylesCtx:i,selector:r}),...!f&&_u({theme:e,styles:a,props:s,stylesCtx:i})[r],...!f&&_u({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||s,stylesCtx:i})[r],...bk({theme:e,props:s,stylesCtx:i,vars:l,varsResolver:u,selector:r,themeName:t,headless:d}),...o===r?Ph({style:c,theme:e}):null,...Ph({style:n==null?void 0:n.style,theme:e})}}function Ck({props:e,stylesCtx:t,themeName:r}){var o;const n=wr(),s=(o=zD())==null?void 0:o();return{getTransformedStyles:a=>s?[...a.map(l=>s(l,{props:e,theme:n,ctx:t})),...r.map(l=>{var u;return s((u=n.components[l])==null?void 0:u.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function he({name:e,classes:t,props:r,stylesCtx:n,className:s,style:i,rootSelector:o="root",unstyled:a,classNames:c,styles:l,vars:u,varsResolver:d}){const f=wr(),p=$D(),h=AD(),m=FD(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:v,getTransformedStyles:_}=Ck({props:r,stylesCtx:n,themeName:g});return(w,b)=>({className:wk({theme:f,options:b,themeName:g,selector:w,classNamesPrefix:p,classNames:c,classes:t,unstyled:a,className:s,rootSelector:o,props:r,stylesCtx:n,withStaticClasses:h,headless:m,transformedStyles:_([b==null?void 0:b.styles,l])}),style:Rk({theme:f,themeName:g,selector:w,options:b,props:r,stylesCtx:n,rootSelector:o,styles:l,style:i,vars:u,varsResolver:d,headless:m,withStylesTransform:v})})}function F(e,t,r){var o;const n=wr(),s=(o=n.components[e])==null?void 0:o.defaultProps,i=typeof s=="function"?s(n):s;return{...t,...i,...Do(r)}}function ep(e){return Ft(e).reduce((t,r)=>e[r]!==void 0?`${t}${cD(r)}:${e[r]};`:t,"").trim()}function xk({selector:e,styles:t,media:r,container:n}){const s=t?ep(t):"",i=Array.isArray(r)?r.map(a=>`@media${a.query}{${e}{${ep(a.styles)}}}`):[],o=Array.isArray(n)?n.map(a=>`@container ${a.query}{${e}{${ep(a.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${o.join("")}`.trim()}function td(e){const t=pg();return y.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:xk(e)}})}function yg(e){const{m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:u,px:d,py:f,pt:p,pb:h,pl:m,pr:g,pe:v,ps:_,bd:w,bg:b,c:C,opacity:R,ff:E,fz:x,fw:k,lts:L,ta:z,lh:U,fs:K,tt:A,td:q,w:N,miw:H,maw:T,h:j,mih:$,mah:M,bgsz:W,bgp:oe,bgr:ve,bga:Fe,pos:Pe,top:be,left:Ct,bottom:zr,right:Ur,inset:Un,display:ks,flex:Lt,hiddenFrom:Ne,visibleFrom:ht,lightHidden:Vn,darkHidden:Ze,sx:Wt,...Rr}=e;return{styleProps:Do({m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:u,px:d,py:f,pt:p,pb:h,pl:m,pr:g,pe:v,ps:_,bd:w,bg:b,c:C,opacity:R,ff:E,fz:x,fw:k,lts:L,ta:z,lh:U,fs:K,tt:A,td:q,w:N,miw:H,maw:T,h:j,mih:$,mah:M,bgsz:W,bgp:oe,bgr:ve,bga:Fe,pos:Pe,top:be,left:Ct,bottom:zr,right:Ur,inset:Un,display:ks,flex:Lt,hiddenFrom:Ne,visibleFrom:ht,lightHidden:Vn,darkHidden:Ze,sx:Wt}),rest:Rr}}const Ek={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function vg(e,t){const r=gc({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function Tk(e,t){const r=gc({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:vg(e,t)}function Pk(e,t){if(typeof e=="number")return O(e);if(typeof e=="string"){const[r,n,...s]=e.split(" ").filter(o=>o.trim()!=="");let i=`${O(r)}`;return n&&(i+=` ${n}`),s.length>0&&(i+=` ${vg(s.join(" "),t)}`),i.trim()}return e}const mw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Dk(e){return typeof e=="string"&&e in mw?mw[e]:e}const kk=["h1","h2","h3","h4","h5","h6"];function Ok(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&kk.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?O(e):e}function Lk(e){return e}const Mk=["h1","h2","h3","h4","h5","h6"];function Nk(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&Mk.includes(e)?`var(--mantine-${e}-line-height)`:e}function jk(e){return typeof e=="number"?O(e):e}function Ik(e,t){if(typeof e=="number")return O(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return O(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const tp={color:vg,textColor:Tk,fontSize:Ok,spacing:Ik,identity:Lk,size:jk,lineHeight:Nk,fontFamily:Dk,border:Pk};function gw(e){return e.replace("(min-width: ","").replace("em)","")}function $k({media:e,...t}){const n=Object.keys(e).sort((s,i)=>Number(gw(s))-Number(gw(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:n}}function Ak(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function Fk(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Bk(e){return typeof e=="object"&&e!==null?Ft(e).filter(t=>t!=="base"):[]}function zk(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function l1({styleProps:e,data:t,theme:r}){return $k(Ft(e).reduce((n,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return n;const i=t[s],o=Array.isArray(i.property)?i.property:[i.property],a=Fk(e[s]);if(!Ak(e[s]))return o.forEach(l=>{n.inlineStyles[l]=tp[i.type](a,r)}),n;n.hasResponsiveStyles=!0;const c=Bk(e[s]);return o.forEach(l=>{a&&(n.styles[l]=tp[i.type](a,r)),c.forEach(u=>{const d=`(min-width: ${r.breakpoints[u]})`;n.media[d]={...n.media[d],[l]:tp[i.type](zk(e[s],u),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function wg(){return`__m__-${S.useId().replace(/:/g,"")}`}function u1(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...u1(n,t)}),{}):typeof e=="function"?e(t):e??{}}function d1(e){return e.startsWith("data-")?e:`data-${e}`}function Uk(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[d1(r)]=e[r]),t},{})}function f1(e){return e?typeof e=="string"?{[d1(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...f1(r)}),{}):Uk(e):null}function Dh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Dh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function Vk({theme:e,style:t,vars:r,styleProps:n}){const s=Dh(t,e),i=Dh(r,e);return{...s,...i,...n}}const p1=S.forwardRef(({component:e,style:t,__vars:r,className:n,variant:s,mod:i,size:o,hiddenFrom:a,visibleFrom:c,lightHidden:l,darkHidden:u,renderRoot:d,__size:f,...p},h)=>{var x;const m=wr(),g=e||"div",{styleProps:v,rest:_}=yg(p),w=BD(),b=(x=w==null?void 0:w())==null?void 0:x(v.sx),C=wg(),R=l1({styleProps:v,theme:m,data:Ek}),E={ref:h,style:Vk({theme:m,style:t,vars:r,styleProps:R.inlineStyles}),className:Pt(n,b,{[C]:R.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":s,"data-size":Q0(o)?void 0:o||void 0,size:f,...f1(i),..._};return y.jsxs(y.Fragment,{children:[R.hasResponsiveStyles&&y.jsx(td,{selector:`.${C}`,styles:R.styles,media:R.media}),typeof d=="function"?d(E):y.jsx(g,{...E})]})});p1.displayName="@mantine/core/Box";const B=p1;function h1(e){return e}function Q(e){const t=S.forwardRef(e);return t.extend=h1,t.withProps=r=>{const n=S.forwardRef((s,i)=>y.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Vt(e){const t=S.forwardRef(e);return t.withProps=r=>{const n=S.forwardRef((s,i)=>y.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=h1,t}const Hk=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function rd(){return S.useContext(Hk)}function Wk(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function rp(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const sa=typeof window<"u"&&window.requestAnimationFrame;function qk({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const s=S.useRef(null),i=0,o={display:"none",height:0,overflow:"hidden"},[a,c]=S.useState(n?{}:o),l=h=>{dc.flushSync(()=>c(h))},u=h=>{l(m=>({...m,...h}))};function d(h){const m=e||Wk(h);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}_s(()=>{typeof sa=="function"&&sa(n?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),sa(()=>{const h=rp(s);u({...d(h),height:h})})}:()=>{const h=rp(s);u({...d(h),willChange:"height",height:h}),sa(()=>u({height:i,overflow:"hidden"}))})},[n]);const f=h=>{if(!(h.target!==s.current||h.propertyName!=="height"))if(n){const m=rp(s);m===a.height?l({}):u({height:m}),r()}else a.height===i&&(l(o),r())};function p({style:h={},refKey:m="ref",...g}={}){const v=g[m];return{"aria-hidden":!n,...g,[m]:r1(s,v),onTransitionEnd:f,style:{boxSizing:"border-box",...h,...a}}}return p}const Kk={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},_g=Q((e,t)=>{const{children:r,in:n,transitionDuration:s,transitionTimingFunction:i,style:o,onTransitionEnd:a,animateOpacity:c,...l}=F("Collapse",Kk,e),u=wr(),d=Zu(),p=(u.respectReducedMotion?d:!1)?0:s,h=qk({opened:n,transitionDuration:p,transitionTimingFunction:i,onTransitionEnd:a});return p===0?n?y.jsx(B,{...l,children:r}):null:y.jsx(B,{...h({style:{opacity:n||!c?1:0,transition:c?`opacity ${p}ms ${i}`:"none",...u1(o,u)},ref:t,...l}),children:r})});_g.displayName="@mantine/core/Collapse";const[Gk,_r]=Es("ScrollArea.Root component was not found in tree");function _o(e,t){const r=Fs(t);hc(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const Yk=S.forwardRef((e,t)=>{const{style:r,...n}=e,s=_r(),[i,o]=S.useState(0),[a,c]=S.useState(0),l=!!(i&&a);return _o(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),_o(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),l?y.jsx("div",{...n,ref:t,style:{...r,width:i,height:a}}):null}),Qk=S.forwardRef((e,t)=>{const r=_r(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?y.jsx(Yk,{...e,ref:t}):null}),Xk={scrollHideDelay:1e3,type:"hover"},m1=S.forwardRef((e,t)=>{const r=F("ScrollAreaRoot",Xk,e),{type:n,scrollHideDelay:s,scrollbars:i,...o}=r,[a,c]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(null),[p,h]=S.useState(null),[m,g]=S.useState(null),[v,_]=S.useState(0),[w,b]=S.useState(0),[C,R]=S.useState(!1),[E,x]=S.useState(!1),k=vr(t,L=>c(L));return y.jsx(Gk,{value:{type:n,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:u,content:d,onContentChange:f,scrollbarX:p,onScrollbarXChange:h,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:x,onCornerWidthChange:_,onCornerHeightChange:b},children:y.jsx(B,{...o,ref:k,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${v}px`,"--sa-corner-height":i!=="xy"?"0px":`${w}px`}})})});m1.displayName="@mantine/core/ScrollAreaRoot";function g1(e,t){const r=e/t;return Number.isNaN(r)?0:r}function nd(e){const t=g1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function y1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Jk(e,[t,r]){return Math.min(r,Math.max(t,e))}function yw(e,t,r="ltr"){const n=nd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,c=r==="ltr"?[0,o]:[o*-1,0],l=Jk(e,c);return y1([0,o],[0,a])(l)}function Zk(e,t,r,n="ltr"){const s=nd(r),i=s/2,o=t||i,a=s-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return y1([c,l],d)(e)}function v1(e,t){return e>0&&e<t}function Su(e){return e?parseInt(e,10):0}function Ks(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[eO,w1]=Es("ScrollAreaScrollbar was not found in tree"),_1=S.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:l,onResize:u,...d}=e,f=_r(),[p,h]=S.useState(null),m=vr(t,x=>h(x)),g=S.useRef(null),v=S.useRef(""),{viewport:_}=f,w=r.content-r.viewport,b=Fs(l),C=Fs(a),R=Ju(u,10),E=x=>{if(g.current){const k=x.clientX-g.current.left,L=x.clientY-g.current.top;c({x:k,y:L})}};return S.useEffect(()=>{const x=k=>{const L=k.target;(p==null?void 0:p.contains(L))&&b(k,w)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[_,p,w,b]),S.useEffect(C,[r,C]),_o(p,R),_o(f.content,R),y.jsx(eO,{value:{scrollbar:p,hasThumb:n,onThumbChange:Fs(s),onThumbPointerUp:Fs(i),onThumbPositionChange:C,onThumbPointerDown:Fs(o)},children:y.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:Ks(e.onPointerDown,x=>{x.preventDefault(),x.button===0&&(x.target.setPointerCapture(x.pointerId),g.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(x))}),onPointerMove:Ks(e.onPointerMove,E),onPointerUp:Ks(e.onPointerUp,x=>{x.preventDefault();const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})})})}),S1=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=_r(),[a,c]=S.useState(),l=S.useRef(null),u=vr(t,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),y.jsx(_1,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{...s,"--sa-thumb-width":`${nd(r)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),v1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Su(a.paddingLeft),paddingEnd:Su(a.paddingRight)}})}})});S1.displayName="@mantine/core/ScrollAreaScrollbarX";const b1=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=_r(),[a,c]=S.useState(),l=S.useRef(null),u=vr(t,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&c(window.getComputedStyle(l.current))},[]),y.jsx(_1,{...i,"data-orientation":"vertical",ref:u,sizes:r,style:{"--sa-thumb-height":`${nd(r)}px`,...s},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),v1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Su(a.paddingTop),paddingEnd:Su(a.paddingBottom)}})}})});b1.displayName="@mantine/core/ScrollAreaScrollbarY";const sd=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:s}=rd(),i=_r(),o=S.useRef(null),a=S.useRef(0),[c,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=g1(c.viewport,c.content),d={...n,sizes:c,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>{o.current=p},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:p=>{a.current=p}},f=(p,h)=>Zk(p,a.current,c,h);return r==="horizontal"?y.jsx(S1,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,h=yw(p,c,s);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,s))}}):r==="vertical"?y.jsx(b1,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,h=yw(p,c);c.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null});sd.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Sg=S.forwardRef((e,t)=>{const r=_r(),{forceMount:n,...s}=e,[i,o]=S.useState(!1),a=e.orientation==="horizontal",c=Ju(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?l:u)}},10);return _o(r.viewport,c),_o(r.content,c),n||i?y.jsx(sd,{"data-state":i?"visible":"hidden",...s,ref:t}):null});Sg.displayName="@mantine/core/ScrollAreaScrollbarAuto";const R1=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_r(),[i,o]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:a}=s;let c=0;if(a){const l=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r||i?y.jsx(Sg,{"data-state":i?"visible":"hidden",...n,ref:t}):null});R1.displayName="@mantine/core/ScrollAreaScrollbarHover";const tO=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_r(),i=e.orientation==="horizontal",[o,a]=S.useState("hidden"),c=Ju(()=>a("idle"),100);return S.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay]),S.useEffect(()=>{const{viewport:l}=s,u=i?"scrollLeft":"scrollTop";if(l){let d=l[u];const f=()=>{const p=l[u];d!==p&&(a("scrolling"),c()),d=p};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,c]),r||o!=="hidden"?y.jsx(sd,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ks(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Ks(e.onPointerLeave,()=>a("idle"))}):null}),kh=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_r(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return S.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?y.jsx(R1,{...n,ref:t,forceMount:r}):s.type==="scroll"?y.jsx(tO,{...n,ref:t,forceMount:r}):s.type==="auto"?y.jsx(Sg,{...n,ref:t,forceMount:r}):s.type==="always"?y.jsx(sd,{...n,ref:t}):null});kh.displayName="@mantine/core/ScrollAreaScrollbar";function rO(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)}const C1=S.forwardRef((e,t)=>{const{style:r,...n}=e,s=_r(),i=w1(),{onThumbPositionChange:o}=i,a=vr(t,u=>i.onThumbChange(u)),c=S.useRef(),l=Ju(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const{viewport:u}=s;if(u){const d=()=>{if(l(),!c.current){const f=rO(u,o);c.current=f,o()}};return o(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[s.viewport,l,o]),y.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Ks(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),p=u.clientX-f.left,h=u.clientY-f.top;i.onThumbPointerDown({x:p,y:h})}),onPointerUp:Ks(e.onPointerUp,i.onThumbPointerUp)})});C1.displayName="@mantine/core/ScrollAreaThumb";const Oh=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=w1();return r||s.hasThumb?y.jsx(C1,{ref:t,...n}):null});Oh.displayName="@mantine/core/ScrollAreaThumb";const x1=S.forwardRef(({children:e,style:t,...r},n)=>{const s=_r(),i=vr(n,s.onViewportChange);return y.jsx(B,{...r,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:y.jsx("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange,children:e})})});x1.displayName="@mantine/core/ScrollAreaViewport";var bg={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const E1={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},nO=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":O(t)}}),Ps=Q((e,t)=>{const r=F("ScrollArea",E1,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,scrollbarSize:c,vars:l,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:p,onScrollPositionChange:h,children:m,offsetScrollbars:g,scrollbars:v,onBottomReached:_,onTopReached:w,...b}=r,[C,R]=S.useState(!1),E=he({name:"ScrollArea",props:r,classes:bg,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:nO});return y.jsxs(m1,{type:u==="never"?"always":u,scrollHideDelay:d,ref:t,scrollbars:v,...E("root"),...b,children:[y.jsx(x1,{...f,...E("viewport",{style:f==null?void 0:f.style}),ref:p,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,onScroll:x=>{var U;(U=f==null?void 0:f.onScroll)==null||U.call(f,x),h==null||h({x:x.currentTarget.scrollLeft,y:x.currentTarget.scrollTop});const{scrollTop:k,scrollHeight:L,clientHeight:z}=x.currentTarget;k-(L-z)>=0&&(_==null||_()),k===0&&(w==null||w())},children:m}),(v==="xy"||v==="x")&&y.jsx(kh,{...E("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:y.jsx(Oh,{...E("thumb")})}),(v==="xy"||v==="y")&&y.jsx(kh,{...E("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:y.jsx(Oh,{...E("thumb")})}),y.jsx(Qk,{...E("corner"),"data-hovered":C||void 0,"data-hidden":u==="never"||void 0})]})});Ps.displayName="@mantine/core/ScrollArea";const Rg=Q((e,t)=>{const{children:r,classNames:n,styles:s,scrollbarSize:i,scrollHideDelay:o,type:a,dir:c,offsetScrollbars:l,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:p,viewportProps:h,scrollbars:m,style:g,vars:v,onBottomReached:_,onTopReached:w,...b}=F("ScrollAreaAutosize",E1,e);return y.jsx(B,{...b,ref:t,style:[{display:"flex",overflow:"auto"},g],children:y.jsx(B,{style:{display:"flex",flexDirection:"column",flex:1},children:y.jsx(Ps,{classNames:n,styles:s,scrollHideDelay:o,scrollbarSize:i,type:a,dir:c,offsetScrollbars:l,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:p,viewportProps:h,vars:v,scrollbars:m,onBottomReached:_,onTopReached:w,children:r})})})});Ps.classes=bg;Rg.displayName="@mantine/core/ScrollAreaAutosize";Rg.classes=bg;Ps.Autosize=Rg;var T1={root:"m_87cf2631"};const sO={__staticSelector:"UnstyledButton"},yc=Vt((e,t)=>{const r=F("UnstyledButton",sO,e),{className:n,component:s="button",__staticSelector:i,unstyled:o,classNames:a,styles:c,style:l,...u}=r,d=he({name:i,props:r,classes:T1,className:n,style:l,classNames:a,styles:c,unstyled:o});return y.jsx(B,{...d("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...u})});yc.classes=T1;yc.displayName="@mantine/core/UnstyledButton";var P1={root:"m_515a97f8"};const iO={},Cg=Q((e,t)=>{const r=F("VisuallyHidden",iO,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,...l}=r,u=he({name:"VisuallyHidden",classes:P1,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a});return y.jsx(B,{component:"span",ref:t,...u("root"),...l})});Cg.classes=P1;Cg.displayName="@mantine/core/VisuallyHidden";var D1={root:"m_1b7284a3"};const oO={},aO=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Ar(t),"--paper-shadow":dg(r)}}),vc=Vt((e,t)=>{const r=F("Paper",oO,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,withBorder:c,vars:l,radius:u,shadow:d,variant:f,mod:p,...h}=r,m=he({name:"Paper",props:r,classes:D1,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:aO});return y.jsx(B,{ref:t,mod:[{"data-with-border":c},p],...m("root"),variant:f,...h})});vc.classes=D1;vc.displayName="@mantine/core/Paper";function id(){return typeof window<"u"}function ko(e){return k1(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fn(e){var t;return(t=(k1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function k1(e){return id()?e instanceof Node||e instanceof Xt(e).Node:!1}function Et(e){return id()?e instanceof Element||e instanceof Xt(e).Element:!1}function un(e){return id()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function vw(e){return!id()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}function wc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function cO(e){return["table","td","th"].includes(ko(e))}function od(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function xg(e){const t=Eg(),r=Et(e)?Nr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lO(e){let t=Ss(e);for(;un(t)&&!So(t);){if(xg(t))return t;if(od(t))return null;t=Ss(t)}return null}function Eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function So(e){return["html","body","#document"].includes(ko(e))}function Nr(e){return Xt(e).getComputedStyle(e)}function ad(e){return Et(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ss(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vw(e)&&e.host||fn(e);return vw(t)?t.host:t}function O1(e){const t=Ss(e);return So(t)?e.ownerDocument?e.ownerDocument.body:e.body:un(t)&&wc(t)?t:O1(t)}function Xa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=O1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Xt(s);if(i){const a=Lh(o);return t.concat(o,o.visualViewport||[],wc(s)?s:[],a&&r?Xa(a):[])}return t.concat(s,Xa(s,[],r))}function Lh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const jr=Math.min,vt=Math.max,bu=Math.round,nl=Math.floor,cn=e=>({x:e,y:e}),uO={left:"right",right:"left",bottom:"top",top:"bottom"},dO={start:"end",end:"start"};function Mh(e,t,r){return vt(e,jr(t,r))}function Mn(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function Oo(e){return e.split("-")[1]}function Tg(e){return e==="x"?"y":"x"}function Pg(e){return e==="y"?"height":"width"}function Nn(e){return["top","bottom"].includes(Ir(e))?"y":"x"}function Dg(e){return Tg(Nn(e))}function fO(e,t,r){r===void 0&&(r=!1);const n=Oo(e),s=Dg(e),i=Pg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ru(o)),[o,Ru(o)]}function pO(e){const t=Ru(e);return[Nh(e),t,Nh(t)]}function Nh(e){return e.replace(/start|end/g,t=>dO[t])}function hO(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function mO(e,t,r,n){const s=Oo(e);let i=hO(Ir(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Nh)))),i}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>uO[t])}function gO(e){return{top:0,right:0,bottom:0,left:0,...e}}function kg(e){return typeof e!="number"?gO(e):{top:e,right:e,bottom:e,left:e}}function bo(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function ww(e,t,r){let{reference:n,floating:s}=e;const i=Nn(t),o=Dg(t),a=Pg(o),c=Ir(t),l=i==="y",u=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Oo(t)){case"start":p[o]-=f*(r&&l?-1:1);break;case"end":p[o]+=f*(r&&l?-1:1);break}return p}const yO=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=ww(l,n,c),f=n,p={},h=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:_,y:w,data:b,reset:C}=await v({x:u,y:d,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=_??u,d=w??d,p={...p,[g]:{...p[g],...b}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:u,y:d}=ww(l,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function Og(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Mn(t,e),h=kg(p),g=a[f?d==="floating"?"reference":"floating":d],v=bo(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),_=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=bo(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:c}):_);return{top:(v.top-C.top+h.top)/b.y,bottom:(C.bottom-v.bottom+h.bottom)/b.y,left:(v.left-C.left+h.left)/b.x,right:(C.right-v.right+h.right)/b.x}}const vO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=Mn(e,t)||{};if(l==null)return{};const d=kg(u),f={x:r,y:n},p=Dg(s),h=Pg(p),m=await o.getDimensions(l),g=p==="y",v=g?"top":"left",_=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[h]+i.reference[p]-f[p]-i.floating[h],C=f[p]-i.reference[p],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=R?R[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(R)))&&(E=a.floating[w]||i.floating[h]);const x=b/2-C/2,k=E/2-m[h]/2-1,L=jr(d[v],k),z=jr(d[_],k),U=L,K=E-m[h]-z,A=E/2-m[h]/2+x,q=Mh(U,A,K),N=!c.arrow&&Oo(s)!=null&&A!==q&&i.reference[h]/2-(A<U?L:z)-m[h]/2<0,H=N?A<U?A-U:A-K:0;return{[p]:f[p]+H,data:{[p]:q,centerOffset:A-q-H,...N&&{alignmentOffset:H}},reset:N}}}),wO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=Mn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Ir(s),_=Nn(a),w=Ir(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=f||(w||!m?[Ru(a)]:pO(a)),R=h!=="none";!f&&R&&C.push(...mO(a,m,h,b));const E=[a,...C],x=await Og(t,g),k=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&k.push(x[v]),d){const A=fO(s,o,b);k.push(x[A[0]],x[A[1]])}if(L=[...L,{placement:s,overflows:k}],!k.every(A=>A<=0)){var z,U;const A=(((z=i.flip)==null?void 0:z.index)||0)+1,q=E[A];if(q)return{data:{index:A,overflows:L},reset:{placement:q}};let N=(U=L.filter(H=>H.overflows[0]<=0).sort((H,T)=>H.overflows[1]-T.overflows[1])[0])==null?void 0:U.placement;if(!N)switch(p){case"bestFit":{var K;const H=(K=L.filter(T=>{if(R){const j=Nn(T.placement);return j===_||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,$)=>j+$,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:K[0];H&&(N=H);break}case"initialPlacement":N=a;break}if(s!==N)return{reset:{placement:N}}}return{}}}};function L1(e){const t=jr(...e.map(i=>i.left)),r=jr(...e.map(i=>i.top)),n=vt(...e.map(i=>i.right)),s=vt(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:s-r}}function _O(e){const t=e.slice().sort((s,i)=>s.y-i.y),r=[];let n=null;for(let s=0;s<t.length;s++){const i=t[s];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(s=>bo(L1(s)))}const SO=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:c,y:l}=Mn(e,t),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),d=_O(u),f=bo(L1(u)),p=kg(a);function h(){if(d.length===2&&d[0].left>d[1].right&&c!=null&&l!=null)return d.find(g=>c>g.left-p.left&&c<g.right+p.right&&l>g.top-p.top&&l<g.bottom+p.bottom)||f;if(d.length>=2){if(Nn(r)==="y"){const L=d[0],z=d[d.length-1],U=Ir(r)==="top",K=L.top,A=z.bottom,q=U?L.left:z.left,N=U?L.right:z.right,H=N-q,T=A-K;return{top:K,bottom:A,left:q,right:N,width:H,height:T,x:q,y:K}}const g=Ir(r)==="left",v=vt(...d.map(L=>L.right)),_=jr(...d.map(L=>L.left)),w=d.filter(L=>g?L.left===_:L.right===v),b=w[0].top,C=w[w.length-1].bottom,R=_,E=v,x=E-R,k=C-b;return{top:b,bottom:C,left:R,right:E,width:x,height:k,x:R,y:b}}return f}const m=await i.getElementRects({reference:{getBoundingClientRect:h},floating:n.floating,strategy:o});return s.reference.x!==m.reference.x||s.reference.y!==m.reference.y||s.reference.width!==m.reference.width||s.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function bO(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ir(r),a=Oo(r),c=Nn(r)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=Mn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}const RO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await bO(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},CO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:v,y:_}=g;return{x:v,y:_}}},...c}=Mn(e,t),l={x:r,y:n},u=await Og(t,c),d=Nn(Ir(s)),f=Tg(d);let p=l[f],h=l[d];if(i){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=p+u[g],w=p-u[v];p=Mh(_,p,w)}if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",_=h+u[g],w=h-u[v];h=Mh(_,h,w)}const m=a.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:i,[d]:o}}}}}},xO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Mn(e,t),u={x:r,y:n},d=Nn(s),f=Tg(d);let p=u[f],h=u[d];const m=Mn(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+g.mainAxis,C=i.reference[f]+i.reference[w]-g.mainAxis;p<b?p=b:p>C&&(p=C)}if(l){var v,_;const w=f==="y"?"width":"height",b=["top","left"].includes(Ir(s)),C=i.reference[d]-i.floating[w]+(b&&((v=o.offset)==null?void 0:v[d])||0)+(b?0:g.crossAxis),R=i.reference[d]+i.reference[w]+(b?0:((_=o.offset)==null?void 0:_[d])||0)-(b?g.crossAxis:0);h<C?h=C:h>R&&(h=R)}return{[f]:p,[d]:h}}}},EO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...l}=Mn(e,t),u=await Og(t,l),d=Ir(s),f=Oo(s),p=Nn(s)==="y",{width:h,height:m}=i.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const _=m-u.top-u.bottom,w=h-u.left-u.right,b=jr(m-u[g],_),C=jr(h-u[v],w),R=!t.middlewareData.shift;let E=b,x=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(x=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=_),R&&!f){const L=vt(u.left,0),z=vt(u.right,0),U=vt(u.top,0),K=vt(u.bottom,0);p?x=h-2*(L!==0||z!==0?L+z:vt(u.left,u.right)):E=m-2*(U!==0||K!==0?U+K:vt(u.top,u.bottom))}await c({...t,availableWidth:x,availableHeight:E});const k=await o.getDimensions(a.floating);return h!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function M1(e){const t=Nr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=un(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=bu(r)!==i||bu(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Lg(e){return Et(e)?e:e.contextElement}function lo(e){const t=Lg(e);if(!un(t))return cn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=M1(t);let o=(i?bu(r.width):r.width)/n,a=(i?bu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TO=cn(0);function N1(e){const t=Xt(e);return!Eg()||!t.visualViewport?TO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xt(e)?!1:t}function ti(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Lg(e);let o=cn(1);t&&(n?Et(n)&&(o=lo(n)):o=lo(e));const a=PO(i,r,n)?N1(i):cn(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Xt(i),p=n&&Et(n)?Xt(n):n;let h=f,m=Lh(h);for(;m&&n&&p!==h;){const g=lo(m),v=m.getBoundingClientRect(),_=Nr(m),w=v.left+(m.clientLeft+parseFloat(_.paddingLeft))*g.x,b=v.top+(m.clientTop+parseFloat(_.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,d*=g.y,c+=w,l+=b,h=Xt(m),m=Lh(h)}}return bo({width:u,height:d,x:c,y:l})}function Mg(e,t){const r=ad(e).scrollLeft;return t?t.left+r:ti(fn(e)).left+r}function j1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Mg(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function DO(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=fn(n),a=t?od(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},l=cn(1);const u=cn(0),d=un(n);if((d||!d&&!i)&&((ko(n)!=="body"||wc(o))&&(c=ad(n)),un(n))){const p=ti(n);l=lo(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!d&&!i?j1(o,c,!0):cn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:r.y*l.y-c.scrollTop*l.y+u.y+f.y}}function kO(e){return Array.from(e.getClientRects())}function OO(e){const t=fn(e),r=ad(e),n=e.ownerDocument.body,s=vt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=vt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Mg(e);const a=-r.scrollTop;return Nr(n).direction==="rtl"&&(o+=vt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function LO(e,t){const r=Xt(e),n=fn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Eg();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function MO(e,t){const r=ti(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=un(e)?lo(e):cn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:o,height:a,x:c,y:l}}function _w(e,t,r){let n;if(t==="viewport")n=LO(e,r);else if(t==="document")n=OO(fn(e));else if(Et(t))n=MO(t,r);else{const s=N1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bo(n)}function I1(e,t){const r=Ss(e);return r===t||!Et(r)||So(r)?!1:Nr(r).position==="fixed"||I1(r,t)}function NO(e,t){const r=t.get(e);if(r)return r;let n=Xa(e,[],!1).filter(a=>Et(a)&&ko(a)!=="body"),s=null;const i=Nr(e).position==="fixed";let o=i?Ss(e):e;for(;Et(o)&&!So(o);){const a=Nr(o),c=xg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wc(o)&&!c&&I1(e,o))?n=n.filter(u=>u!==o):s=a,o=Ss(o)}return t.set(e,n),n}function jO(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?od(t)?[]:NO(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((l,u)=>{const d=_w(t,u,s);return l.top=vt(d.top,l.top),l.right=jr(d.right,l.right),l.bottom=jr(d.bottom,l.bottom),l.left=vt(d.left,l.left),l},_w(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IO(e){const{width:t,height:r}=M1(e);return{width:t,height:r}}function $O(e,t,r){const n=un(t),s=fn(t),i=r==="fixed",o=ti(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=cn(0);if(n||!n&&!i)if((ko(t)!=="body"||wc(s))&&(a=ad(t)),n){const f=ti(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=Mg(s));const l=s&&!n&&!i?j1(s,a):cn(0),u=o.left+a.scrollLeft-c.x-l.x,d=o.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:o.width,height:o.height}}function np(e){return Nr(e).position==="static"}function Sw(e,t){if(!un(e)||Nr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fn(e)===r&&(r=r.ownerDocument.body),r}function $1(e,t){const r=Xt(e);if(od(e))return r;if(!un(e)){let s=Ss(e);for(;s&&!So(s);){if(Et(s)&&!np(s))return s;s=Ss(s)}return r}let n=Sw(e,t);for(;n&&cO(n)&&np(n);)n=Sw(n,t);return n&&So(n)&&np(n)&&!xg(n)?r:n||lO(e)||r}const AO=async function(e){const t=this.getOffsetParent||$1,r=this.getDimensions,n=await r(e.floating);return{reference:$O(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FO(e){return Nr(e).direction==="rtl"}const BO={convertOffsetParentRelativeRectToViewportRelativeRect:DO,getDocumentElement:fn,getClippingRect:jO,getOffsetParent:$1,getElementRects:AO,getClientRects:kO,getDimensions:IO,getScale:lo,isElement:Et,isRTL:FO};function zO(e,t){let r=null,n;const s=fn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const p=nl(u),h=nl(s.clientWidth-(l+d)),m=nl(s.clientHeight-(u+f)),g=nl(l),_={rootMargin:-p+"px "+-h+"px "+-m+"px "+-g+"px",threshold:vt(0,jr(1,c))||1};let w=!0;function b(C){const R=C[0].intersectionRatio;if(R!==c){if(!w)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,_)}r.observe(e)}return o(!0),i}function UO(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=Lg(e),u=s||i?[...l?Xa(l):[],...Xa(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const d=l&&a?zO(l,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),l&&!c&&p.observe(l),p.observe(t));let h,m=c?ti(e):null;c&&g();function g(){const v=ti(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&r(),m=v,h=requestAnimationFrame(g)}return r(),()=>{var v;u.forEach(_=>{s&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(h)}}const VO=RO,HO=CO,WO=wO,qO=EO,bw=vO,KO=SO,GO=xO,YO=(e,t,r)=>{const n=new Map,s={platform:BO,...r},i={...s.platform,_c:n};return yO(e,t,{...s,platform:i})};var $l=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Cu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Cu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function A1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rw(e,t){const r=A1(e);return Math.round(t*r)/r}function sp(e){const t=S.useRef(e);return $l(()=>{t.current=e}),t}function QO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(n);Cu(f,n)||p(n);const[h,m]=S.useState(null),[g,v]=S.useState(null),_=S.useCallback(T=>{T!==R.current&&(R.current=T,m(T))},[]),w=S.useCallback(T=>{T!==E.current&&(E.current=T,v(T))},[]),b=i||h,C=o||g,R=S.useRef(null),E=S.useRef(null),x=S.useRef(u),k=c!=null,L=sp(c),z=sp(s),U=sp(l),K=S.useCallback(()=>{if(!R.current||!E.current)return;const T={placement:t,strategy:r,middleware:f};z.current&&(T.platform=z.current),YO(R.current,E.current,T).then(j=>{const $={...j,isPositioned:U.current!==!1};A.current&&!Cu(x.current,$)&&(x.current=$,dc.flushSync(()=>{d($)}))})},[f,t,r,z,U]);$l(()=>{l===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[l]);const A=S.useRef(!1);$l(()=>(A.current=!0,()=>{A.current=!1}),[]),$l(()=>{if(b&&(R.current=b),C&&(E.current=C),b&&C){if(L.current)return L.current(b,C,K);K()}},[b,C,K,L,k]);const q=S.useMemo(()=>({reference:R,floating:E,setReference:_,setFloating:w}),[_,w]),N=S.useMemo(()=>({reference:b,floating:C}),[b,C]),H=S.useMemo(()=>{const T={position:r,left:0,top:0};if(!N.floating)return T;const j=Rw(N.floating,u.x),$=Rw(N.floating,u.y);return a?{...T,transform:"translate("+j+"px, "+$+"px)",...A1(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:$}},[r,a,N.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:K,refs:q,elements:N,floatingStyles:H}),[u,K,q,N,H])}const XO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bw({element:n.current,padding:s}).fn(r):{}:n?bw({element:n,padding:s}).fn(r):{}}}},JO=(e,t)=>({...VO(e),options:[e,t]}),ZO=(e,t)=>({...HO(e),options:[e,t]}),Cw=(e,t)=>({...GO(e),options:[e,t]}),xw=(e,t)=>({...WO(e),options:[e,t]}),eL=(e,t)=>({...qO(e),options:[e,t]}),Ew=(e,t)=>({...KO(e),options:[e,t]}),tL=(e,t)=>({...XO(e),options:[e,t]}),F1={...Kl},rL=F1.useInsertionEffect,nL=rL||(e=>e());function sL(e){const t=S.useRef(()=>{});return nL(()=>{t.current=e}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var jh=typeof document<"u"?S.useLayoutEffect:S.useEffect;let Tw=!1,iL=0;const Pw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iL++;function oL(){const[e,t]=S.useState(()=>Tw?Pw():void 0);return jh(()=>{e==null&&t(Pw())},[]),S.useEffect(()=>{Tw=!0},[]),e}const aL=F1.useId,cL=aL||oL;function lL(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const uL=S.createContext(null),dL=S.createContext(null),fL=()=>{var e;return((e=S.useContext(uL))==null?void 0:e.id)||null},pL=()=>S.useContext(dL);function hL(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=cL(),i=S.useRef({}),[o]=S.useState(()=>lL()),a=fL()!=null,[c,l]=S.useState(n.reference),u=sL((p,h,m)=>{i.current.openEvent=p?h:void 0,o.emit("openchange",{open:p,event:h,reason:m,nested:a}),r==null||r(p,h,m)}),d=S.useMemo(()=>({setPositionReference:l}),[]),f=S.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return S.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:f,events:o,floatingId:s,refs:d}),[t,u,f,o,s,d])}function mL(e){e===void 0&&(e={});const{nodeId:t}=e,r=hL({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,o]=S.useState(null),[a,c]=S.useState(null),u=(s==null?void 0:s.domReference)||i,d=S.useRef(null),f=pL();jh(()=>{u&&(d.current=u)},[u]);const p=QO({...e,elements:{...s,...a&&{reference:a}}}),h=S.useCallback(w=>{const b=Et(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(b),p.refs.setReference(b)},[p.refs]),m=S.useCallback(w=>{(Et(w)||w===null)&&(d.current=w,o(w)),(Et(p.refs.reference.current)||p.refs.reference.current===null||w!==null&&!Et(w))&&p.refs.setReference(w)},[p.refs]),g=S.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:d}),[p.refs,m,h]),v=S.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),_=S.useMemo(()=>({...p,...n,refs:g,elements:v,nodeId:t}),[p,g,v,t,n]);return jh(()=>{n.dataRef.current.floatingContext=_;const w=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);w&&(w.context=_)}),S.useMemo(()=>({...p,context:_,refs:g,elements:v}),[p,g,v,_])}function gL(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),s=r==="right"?"left":"right";return n===void 0?s:`${s}-${n}`}return t}function Dw(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function kw(e,t,r,n,s){return e==="center"||n==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const yL={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function vL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,arrowX:i,arrowY:o,dir:a}){const[c,l="center"]=e.split("-"),u={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[yL[c]]:n},d=-t/2;return c==="left"?{...u,...Dw(l,o,r,s),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:c==="right"?{...u,...Dw(l,o,r,s),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:c==="top"?{...u,...kw(l,i,r,s,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:c==="bottom"?{...u,...kw(l,i,r,s,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const B1=S.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,visible:i,arrowX:o,arrowY:a,style:c,...l},u)=>{const{dir:d}=rd();return i?y.jsx("div",{...l,ref:u,style:{...c,...vL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,dir:d,arrowX:o,arrowY:a})}}):null});B1.displayName="@mantine/core/FloatingArrow";const[wL,z1]=Es("Popover component was not found in the tree");function cd({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const s=TD(t),i=vr(s,n);return pc(e)?S.cloneElement(e,{[r]:i}):e}function U1(e){return y.jsx(Cg,{tabIndex:-1,"data-autofocus":!0,...e})}cd.displayName="@mantine/core/FocusTrap";U1.displayName="@mantine/core/FocusTrapInitialFocus";cd.InitialFocus=U1;function _L(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const SL={},V1=S.forwardRef((e,t)=>{const{children:r,target:n,...s}=F("Portal",SL,e),[i,o]=S.useState(!1),a=S.useRef(null);return hc(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:_L(s),t1(t,a.current),!n&&a.current&&document.body.appendChild(a.current),()=>{!n&&a.current&&document.body.removeChild(a.current)}),[n]),!i||!a.current?null:dc.createPortal(y.jsx(y.Fragment,{children:r}),a.current)});V1.displayName="@mantine/core/Portal";function ld({withinPortal:e=!0,children:t,...r}){return e?y.jsx(V1,{...r,children:t}):y.jsx(y.Fragment,{children:t})}ld.displayName="@mantine/core/OptionalPortal";const ia=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${O(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),sl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${O(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${O(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${O(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${O(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${O(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ia("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ia("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ia("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ia("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ia("top"),common:{transformOrigin:"top right"}}},Ow={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function bL({transition:e,state:t,duration:r,timingFunction:n}){const s={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in sl?{transitionProperty:sl[e].transitionProperty,...s,...sl[e].common,...sl[e][Ow[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[Ow[t]]}}function RL({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:s,onExit:i,onEntered:o,onExited:a,enterDelay:c,exitDelay:l}){const u=wr(),d=Zu(),f=u.respectReducedMotion?d:!1,[p,h]=S.useState(f?0:e),[m,g]=S.useState(n?"entered":"exited"),v=S.useRef(-1),_=S.useRef(-1),w=S.useRef(-1),b=R=>{const E=R?s:i,x=R?o:a;window.clearTimeout(v.current);const k=f?0:R?e:t;h(k),k===0?(typeof E=="function"&&E(),typeof x=="function"&&x(),g(R?"entered":"exited")):w.current=requestAnimationFrame(()=>{ya.flushSync(()=>{g(R?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),g(R?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof x=="function"&&x(),g(R?"entered":"exited")},k)})})},C=R=>{if(window.clearTimeout(_.current),typeof(R?c:l)!="number"){b(R);return}_.current=window.setTimeout(()=>{b(R)},R?c:l)};return _s(()=>{C(n)},[n]),S.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:r||"ease"}}function Lo({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:s,children:i,timingFunction:o="ease",onExit:a,onEntered:c,onEnter:l,onExited:u,enterDelay:d,exitDelay:f}){const{transitionDuration:p,transitionStatus:h,transitionTimingFunction:m}=RL({mounted:s,exitDuration:n,duration:r,timingFunction:o,onExit:a,onEntered:c,onEnter:l,onExited:u,enterDelay:d,exitDelay:f});return p===0?s?y.jsx(y.Fragment,{children:i({})}):e?i({display:"none"}):null:h==="exited"?e?i({display:"none"}):null:y.jsx(y.Fragment,{children:i(bL({transition:t,duration:p,state:h,timingFunction:m}))})}Lo.displayName="@mantine/core/Transition";var H1={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const CL={},Ng=Q((e,t)=>{var g,v,_,w;const r=F("PopoverDropdown",CL,e),{className:n,style:s,vars:i,children:o,onKeyDownCapture:a,variant:c,classNames:l,styles:u,...d}=r,f=z1(),p=X0({opened:f.opened,shouldReturnFocus:f.returnFocus}),h=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=vr(t,f.floating);return f.disabled?null:y.jsx(ld,{...f.portalProps,withinPortal:f.withinPortal,children:y.jsx(Lo,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((v=f.transitionProps)==null?void 0:v.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((_=f.transitionProps)==null?void 0:_.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:b=>y.jsx(cd,{active:f.trapFocus&&f.opened,innerRef:m,children:y.jsxs(B,{...h,...d,variant:c,onKeyDownCapture:pD(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:n,props:r,classNames:l,styles:u,style:[{...b,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:O(f.width)},s]}),children:[o,y.jsx(B1,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:r,classNames:l,styles:u})})]})})})})});Ng.classes=H1;Ng.displayName="@mantine/core/PopoverDropdown";const xL={refProp:"ref",popupType:"dialog"},W1=Q((e,t)=>{const{children:r,refProp:n,popupType:s,...i}=F("PopoverTarget",xL,e);if(!pc(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,a=z1(),c=vr(a.reference,r.ref,t),l=a.withRoles?{"aria-haspopup":s,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(r,{...o,...l,...a.targetProps,className:Pt(a.targetProps.className,o.className,r.props.className),[n]:c,...a.controlled?null:{onClick:a.onToggle}})});W1.displayName="@mantine/core/PopoverTarget";function EL({opened:e,floating:t,position:r,positionDependencies:n}){const[s,i]=S.useState(0);S.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return UO(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,r]),_s(()=>{t.update()},n),_s(()=>{i(o=>o+1)},[e])}function TL(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function PL(e,t){const r=TL(e.middlewares),n=[JO(e.offset)];return r.shift&&n.push(ZO(typeof r.shift=="boolean"?{limiter:Cw(),padding:5}:{limiter:Cw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?xw():xw(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Ew():Ew(r.inline)),n.push(tL({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(eL({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:i,availableHeight:o,...a}){var u;const l=((u=t().refs.floating.current)==null?void 0:u.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:i,availableHeight:o,...a}):Object.assign(l,{maxWidth:`${i}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(l,{width:`${s.reference.width}px`})}})),n}function DL(e){const[t,r]=vu({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{t&&r(!1)},s=()=>r(!t),i=mL({strategy:e.strategy,placement:e.position,middleware:PL(e,()=>i)});return EL({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),_s(()=>{var o;(o=e.onPositionChange)==null||o.call(e,i.placement)},[i.placement]),_s(()=>{var o,a;t?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[t,e.onClose,e.onOpen]),{floating:i,controlled:typeof e.opened=="boolean",opened:t,onClose:n,onToggle:s}}const kL={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ts("popover"),__staticSelector:"Popover",width:"max-content"},OL=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Ar(t),"--popover-shadow":dg(r)}});function Ds(e){var Ze,Wt,Rr,ct,sr,yn;const t=F("Popover",kL,e),{children:r,position:n,offset:s,onPositionChange:i,positionDependencies:o,opened:a,transitionProps:c,width:l,middlewares:u,withArrow:d,arrowSize:f,arrowOffset:p,arrowRadius:h,arrowPosition:m,unstyled:g,classNames:v,styles:_,closeOnClickOutside:w,withinPortal:b,portalProps:C,closeOnEscape:R,clickOutsideEvents:E,trapFocus:x,onClose:k,onOpen:L,onChange:z,zIndex:U,radius:K,shadow:A,id:q,defaultOpened:N,__staticSelector:H,withRoles:T,disabled:j,returnFocus:$,variant:M,keepMounted:W,vars:oe,floatingStrategy:ve,...Fe}=t,Pe=he({name:H,props:t,classes:H1,classNames:v,styles:_,unstyled:g,rootSelector:"dropdown",vars:oe,varsResolver:OL}),be=S.useRef(null),[Ct,zr]=S.useState(null),[Ur,Un]=S.useState(null),{dir:ks}=rd(),Lt=mc(q),Ne=DL({middlewares:u,width:l,position:gL(ks,n),offset:typeof s=="number"?s+(d?f/2:0):s,arrowRef:be,arrowOffset:p,onPositionChange:i,positionDependencies:o,opened:a,defaultOpened:N,onChange:z,onOpen:L,onClose:k,strategy:ve});yD(()=>w&&Ne.onClose(),E,[Ct,Ur]);const ht=S.useCallback(Oe=>{zr(Oe),Ne.floating.refs.setReference(Oe)},[Ne.floating.refs.setReference]),Vn=S.useCallback(Oe=>{Un(Oe),Ne.floating.refs.setFloating(Oe)},[Ne.floating.refs.setFloating]);return y.jsx(wL,{value:{returnFocus:$,disabled:j,controlled:Ne.controlled,reference:ht,floating:Vn,x:Ne.floating.x,y:Ne.floating.y,arrowX:(Rr=(Wt=(Ze=Ne.floating)==null?void 0:Ze.middlewareData)==null?void 0:Wt.arrow)==null?void 0:Rr.x,arrowY:(yn=(sr=(ct=Ne.floating)==null?void 0:ct.middlewareData)==null?void 0:sr.arrow)==null?void 0:yn.y,opened:Ne.opened,arrowRef:be,transitionProps:c,width:l,withArrow:d,arrowSize:f,arrowOffset:p,arrowRadius:h,arrowPosition:m,placement:Ne.floating.placement,trapFocus:x,withinPortal:b,portalProps:C,zIndex:U,radius:K,shadow:A,closeOnEscape:R,onClose:Ne.onClose,onToggle:Ne.onToggle,getTargetId:()=>`${Lt}-target`,getDropdownId:()=>`${Lt}-dropdown`,withRoles:T,targetProps:Fe,__staticSelector:H,classNames:v,styles:_,unstyled:g,variant:M,keepMounted:W,getStyles:Pe,floatingStrategy:ve},children:r})}Ds.Target=W1;Ds.Dropdown=Ng;Ds.displayName="@mantine/core/Popover";Ds.extend=e=>e;var kr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const q1=S.forwardRef(({className:e,...t},r)=>y.jsxs(B,{component:"span",className:Pt(kr.barsLoader,e),...t,ref:r,children:[y.jsx("span",{className:kr.bar}),y.jsx("span",{className:kr.bar}),y.jsx("span",{className:kr.bar})]}));q1.displayName="@mantine/core/Bars";const K1=S.forwardRef(({className:e,...t},r)=>y.jsxs(B,{component:"span",className:Pt(kr.dotsLoader,e),...t,ref:r,children:[y.jsx("span",{className:kr.dot}),y.jsx("span",{className:kr.dot}),y.jsx("span",{className:kr.dot})]}));K1.displayName="@mantine/core/Dots";const G1=S.forwardRef(({className:e,...t},r)=>y.jsx(B,{component:"span",className:Pt(kr.ovalLoader,e),...t,ref:r}));G1.displayName="@mantine/core/Oval";const Y1={bars:q1,oval:G1,dots:K1},LL={loaders:Y1,type:"oval"},ML=(e,{size:t,color:r})=>({root:{"--loader-size":Ue(t,"loader-size"),"--loader-color":r?ei(r,e):void 0}}),Mo=Q((e,t)=>{const r=F("Loader",LL,e),{size:n,color:s,type:i,vars:o,className:a,style:c,classNames:l,styles:u,unstyled:d,loaders:f,variant:p,children:h,...m}=r,g=he({name:"Loader",props:r,classes:kr,className:a,style:c,classNames:l,styles:u,unstyled:d,vars:o,varsResolver:ML});return h?y.jsx(B,{...g("root"),ref:t,...m,children:h}):y.jsx(B,{...g("root"),ref:t,component:f[i],variant:p,size:n,...m})});Mo.defaultLoaders=Y1;Mo.classes=kr;Mo.displayName="@mantine/core/Loader";var ud={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Lw={orientation:"horizontal"},NL=(e,{borderWidth:t})=>({group:{"--ai-border-width":O(t)}}),jg=Q((e,t)=>{const r=F("ActionIconGroup",Lw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:u,variant:d,mod:f,...p}=F("ActionIconGroup",Lw,e),h=he({name:"ActionIconGroup",props:r,classes:ud,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:NL,rootSelector:"group"});return y.jsx(B,{...h("group"),ref:t,variant:d,mod:[{"data-orientation":c},f],role:"group",...p})});jg.classes=ud;jg.displayName="@mantine/core/ActionIconGroup";const jL={},IL=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:n||"filled",autoContrast:o});return{root:{"--ai-size":Ue(t,"ai-size"),"--ai-radius":r===void 0?void 0:Ar(r),"--ai-bg":i||n?a.background:void 0,"--ai-hover":i||n?a.hover:void 0,"--ai-hover-color":i||n?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||n?a.border:void 0}}},_t=Vt((e,t)=>{const r=F("ActionIcon",jL,e),{className:n,unstyled:s,variant:i,classNames:o,styles:a,style:c,loading:l,loaderProps:u,size:d,color:f,radius:p,__staticSelector:h,gradient:m,vars:g,children:v,disabled:_,"data-disabled":w,autoContrast:b,mod:C,...R}=r,E=he({name:["ActionIcon",h],props:r,className:n,style:c,classes:ud,classNames:o,styles:a,unstyled:s,vars:g,varsResolver:IL});return y.jsxs(yc,{...E("root",{active:!_&&!l&&!w}),...R,unstyled:s,variant:i,size:d,disabled:_||l,ref:t,mod:[{loading:l,disabled:_||w},C],children:[y.jsx(Lo,{mounted:!!l,transition:"slide-down",duration:150,children:x=>y.jsx(B,{component:"span",...E("loader",{style:x}),"aria-hidden":!0,children:y.jsx(Mo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u})})}),y.jsx(B,{component:"span",mod:{loading:l},...E("icon"),children:v})]})});_t.classes=ud;_t.displayName="@mantine/core/ActionIcon";_t.Group=jg;const Q1=S.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:y.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Q1.displayName="@mantine/core/CloseIcon";var X1={root:"m_86a44da5","root--subtle":"m_220c80f2"};const $L={variant:"subtle"},AL=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Ue(t,"cb-size"),"--cb-radius":r===void 0?void 0:Ar(r),"--cb-icon-size":O(n)}}),_c=Vt((e,t)=>{const r=F("CloseButton",$L,e),{iconSize:n,children:s,vars:i,radius:o,className:a,classNames:c,style:l,styles:u,unstyled:d,"data-disabled":f,disabled:p,variant:h,icon:m,mod:g,...v}=r,_=he({name:"CloseButton",props:r,className:a,style:l,classes:X1,classNames:c,styles:u,unstyled:d,vars:i,varsResolver:AL});return y.jsxs(yc,{ref:t,...v,unstyled:d,variant:h,disabled:p,mod:[{disabled:p||f},g],..._("root",{variant:h,active:!p&&!f}),children:[m||y.jsx(Q1,{}),s]})});_c.classes=X1;_c.displayName="@mantine/core/CloseButton";function FL(e){return S.Children.toArray(e).filter(Boolean)}var J1={root:"m_4081bf90"};const BL={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},zL=(e,{grow:t,preventGrowOverflow:r,gap:n,align:s,justify:i,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&r?a:void 0,"--group-gap":jt(n),"--group-align":s,"--group-justify":i,"--group-wrap":o}}),Dt=Q((e,t)=>{const r=F("Group",BL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,children:c,gap:l,align:u,justify:d,wrap:f,grow:p,preventGrowOverflow:h,vars:m,variant:g,__size:v,mod:_,...w}=r,b=FL(c),C=b.length,R=jt(l??"md"),x={childWidth:`calc(${100/C}% - (${R} - ${R} / ${C}))`},k=he({name:"Group",props:r,stylesCtx:x,className:s,style:i,classes:J1,classNames:n,styles:o,unstyled:a,vars:m,varsResolver:zL});return y.jsx(B,{...k("root"),ref:t,variant:g,mod:[{grow:p},_],size:v,...w,children:b})});Dt.classes=J1;Dt.displayName="@mantine/core/Group";var Z1={root:"m_9814e45f"};const UL={zIndex:Ts("modal")},VL=(e,{gradient:t,color:r,backgroundOpacity:n,blur:s,radius:i,zIndex:o})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&rn(r||"#000",n??.6)||void 0,"--overlay-filter":s?`blur(${O(s)})`:void 0,"--overlay-radius":i===void 0?void 0:Ar(i),"--overlay-z-index":o==null?void 0:o.toString()}}),Ig=Vt((e,t)=>{const r=F("Overlay",UL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,fixed:l,center:u,children:d,radius:f,zIndex:p,gradient:h,blur:m,color:g,backgroundOpacity:v,mod:_,...w}=r,b=he({name:"Overlay",props:r,classes:Z1,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:VL});return y.jsx(B,{ref:t,...b("root"),mod:[{center:u,fixed:l},_],...w,children:d})});Ig.classes=Z1;Ig.displayName="@mantine/core/Overlay";const[HL,$n]=Es("ModalBase component was not found in tree");function WL({opened:e,transitionDuration:t}){const[r,n]=S.useState(e),s=S.useRef(),o=Zu()?0:t;return S.useEffect(()=>(e?(n(!0),window.clearTimeout(s.current)):o===0?n(!1):s.current=window.setTimeout(()=>n(!1),o),()=>window.clearTimeout(s.current)),[e,o]),r}function qL({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:s,onClose:i,returnFocus:o}){const a=mc(e),[c,l]=S.useState(!1),[u,d]=S.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,p=WL({opened:r,transitionDuration:f});return LD("keydown",h=>{var m;h.key==="Escape"&&s&&r&&((m=h.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),X0({opened:r,shouldReturnFocus:n&&o}),{_id:a,titleMounted:c,bodyMounted:u,shouldLockScroll:p,setTitleMounted:l,setBodyMounted:d}}const $g=S.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:s,trapFocus:i,closeOnEscape:o,returnFocus:a,closeOnClickOutside:c,withinPortal:l,portalProps:u,lockScroll:d,children:f,zIndex:p,shadow:h,padding:m,__vars:g,unstyled:v,removeScrollProps:_,...w},b)=>{const{_id:C,titleMounted:R,bodyMounted:E,shouldLockScroll:x,setTitleMounted:k,setBodyMounted:L}=qL({id:n,transitionProps:s,opened:t,trapFocus:i,closeOnEscape:o,onClose:r,returnFocus:a}),{key:z,...U}=_||{};return y.jsx(ld,{...u,withinPortal:l,children:y.jsx(HL,{value:{opened:t,onClose:r,closeOnClickOutside:c,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${C}-title`,getBodyId:()=>`${C}-body`,titleMounted:R,bodyMounted:E,setTitleMounted:k,setBodyMounted:L,trapFocus:i,closeOnEscape:o,zIndex:p,unstyled:v},children:y.jsx(G0,{enabled:x&&d,...U,children:y.jsx(B,{ref:b,...w,__vars:{...g,"--mb-z-index":(p||Ts("modal")).toString(),"--mb-shadow":dg(h),"--mb-padding":jt(m)},children:f})},z)})})});$g.displayName="@mantine/core/ModalBase";function KL(){const e=$n();return S.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Ro={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Ag=S.forwardRef(({className:e,...t},r)=>{const n=KL(),s=$n();return y.jsx(B,{ref:r,...t,id:n,className:Pt({[Ro.body]:!s.unstyled},e)})});Ag.displayName="@mantine/core/ModalBaseBody";const Fg=S.forwardRef(({className:e,onClick:t,...r},n)=>{const s=$n();return y.jsx(_c,{ref:n,...r,onClick:i=>{s.onClose(),t==null||t(i)},className:Pt({[Ro.close]:!s.unstyled},e),unstyled:s.unstyled})});Fg.displayName="@mantine/core/ModalBaseCloseButton";const Bg=S.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:s,...i},o)=>{const a=$n();return y.jsx(Lo,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:c=>y.jsx("div",{...r,className:Pt({[Ro.inner]:!a.unstyled},r.className),children:y.jsx(cd,{active:a.opened&&a.trapFocus,innerRef:o,children:y.jsx(vc,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[s,c],className:Pt({[Ro.content]:!a.unstyled},t),unstyled:a.unstyled,children:i.children})})})})});Bg.displayName="@mantine/core/ModalBaseContent";const zg=S.forwardRef(({className:e,...t},r)=>{const n=$n();return y.jsx(B,{component:"header",ref:r,className:Pt({[Ro.header]:!n.unstyled},e),...t})});zg.displayName="@mantine/core/ModalBaseHeader";const GL={duration:200,timingFunction:"ease",transition:"fade"};function YL(e){const t=$n();return{...GL,...t.transitionProps,...e}}const Ug=S.forwardRef(({onClick:e,transitionProps:t,style:r,...n},s)=>{const i=$n(),o=YL(t);return y.jsx(Lo,{mounted:i.opened,...o,transition:"fade",children:a=>y.jsx(Ig,{ref:s,fixed:!0,style:[r,a],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e==null||e(c),i.closeOnClickOutside&&i.onClose()},...n})})});Ug.displayName="@mantine/core/ModalBaseOverlay";function QL(){const e=$n();return S.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Vg=S.forwardRef(({className:e,...t},r)=>{const n=QL(),s=$n();return y.jsx(B,{component:"h2",ref:r,className:Pt({[Ro.title]:!s.unstyled},e),...t,id:n})});Vg.displayName="@mantine/core/ModalBaseTitle";function eR({children:e}){return y.jsx(y.Fragment,{children:e})}const[XL,dd]=uD({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Sr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Mw={},JL=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${fr(t)} - ${O(2)})`}}),fd=Q((e,t)=>{const r=F("InputDescription",Mw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:u,__inheritStyles:d=!0,variant:f,...p}=F("InputDescription",Mw,r),h=dd(),m=he({name:["InputWrapper",u],props:r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"description",vars:c,varsResolver:JL}),g=d&&(h==null?void 0:h.getStyles)||m;return y.jsx(B,{component:"p",ref:t,variant:f,size:l,...g("description",h!=null&&h.getStyles?{className:s,style:i}:void 0),...p})});fd.classes=Sr;fd.displayName="@mantine/core/InputDescription";const ZL={},eM=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${fr(t)} - ${O(2)})`}}),pd=Q((e,t)=>{const r=F("InputError",ZL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:u,__inheritStyles:d=!0,variant:f,...p}=r,h=he({name:["InputWrapper",u],props:r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"error",vars:c,varsResolver:eM}),m=dd(),g=d&&(m==null?void 0:m.getStyles)||h;return y.jsx(B,{component:"p",ref:t,variant:f,size:l,...g("error",m!=null&&m.getStyles?{className:s,style:i}:void 0),...p})});pd.classes=Sr;pd.displayName="@mantine/core/InputError";const Nw={labelElement:"label"},tM=(e,{size:t})=>({label:{"--input-label-size":fr(t),"--input-asterisk-color":void 0}}),hd=Q((e,t)=>{const r=F("InputLabel",Nw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,labelElement:l,size:u,required:d,htmlFor:f,onMouseDown:p,children:h,__staticSelector:m,variant:g,mod:v,..._}=F("InputLabel",Nw,r),w=he({name:["InputWrapper",m],props:r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"label",vars:c,varsResolver:tM}),b=dd(),C=(b==null?void 0:b.getStyles)||w;return y.jsxs(B,{...C("label",b!=null&&b.getStyles?{className:s,style:i}:void 0),component:l,variant:g,size:u,ref:t,htmlFor:l==="label"?f:void 0,mod:[{required:d},v],onMouseDown:R=>{p==null||p(R),!R.defaultPrevented&&R.detail>1&&R.preventDefault()},..._,children:[h,d&&y.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});hd.classes=Sr;hd.displayName="@mantine/core/InputLabel";const jw={},Hg=Q((e,t)=>{const r=F("InputPlaceholder",jw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,__staticSelector:l,variant:u,error:d,mod:f,...p}=F("InputPlaceholder",jw,r),h=he({name:["InputPlaceholder",l],props:r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"placeholder"});return y.jsx(B,{...h("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:t,...p})});Hg.classes=Sr;Hg.displayName="@mantine/core/InputPlaceholder";function rM(e,{hasDescription:t,hasError:r}){const n=e.findIndex(c=>c==="input"),s=e.slice(0,n),i=e.slice(n+1),o=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&i.includes("description")||r&&i.includes("error"),offsetTop:o}}const nM={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},sM=(e,{size:t})=>({label:{"--input-label-size":fr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${fr(t)} - ${O(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${fr(t)} - ${O(2)})`}}),Wg=Q((e,t)=>{const r=F("InputWrapper",nM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:p,label:h,error:m,description:g,labelProps:v,descriptionProps:_,errorProps:w,labelElement:b,children:C,withAsterisk:R,id:E,required:x,__stylesApiProps:k,mod:L,...z}=r,U=he({name:["InputWrapper",d],props:k||r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:sM}),K={size:l,variant:u,__staticSelector:d},A=mc(E),q=typeof R=="boolean"?R:x,N=(w==null?void 0:w.id)||`${A}-error`,H=(_==null?void 0:_.id)||`${A}-description`,T=A,j=!!m&&typeof m!="boolean",$=!!g,M=`${j?N:""} ${$?H:""}`,W=M.trim().length>0?M.trim():void 0,oe=(v==null?void 0:v.id)||`${A}-label`,ve=h&&y.jsx(hd,{labelElement:b,id:oe,htmlFor:T,required:q,...K,...v,children:h},"label"),Fe=$&&y.jsx(fd,{..._,...K,size:(_==null?void 0:_.size)||K.size,id:(_==null?void 0:_.id)||H,children:g},"description"),Pe=y.jsx(S.Fragment,{children:f(C)},"input"),be=j&&S.createElement(pd,{...w,...K,size:(w==null?void 0:w.size)||K.size,key:"error",id:(w==null?void 0:w.id)||N},m),Ct=p.map(zr=>{switch(zr){case"label":return ve;case"input":return Pe;case"description":return Fe;case"error":return be;default:return null}});return y.jsx(XL,{value:{getStyles:U,describedBy:W,inputId:T,labelId:oe,...rM(p,{hasDescription:$,hasError:j})},children:y.jsx(B,{ref:t,variant:u,size:l,mod:[{error:!!m},L],...U("root"),...z,children:Ct})})});Wg.classes=Sr;Wg.displayName="@mantine/core/InputWrapper";const iM={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},oM=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ue(t.size,"input-height"),"--input-fz":fr(t.size),"--input-radius":t.radius===void 0?void 0:Ar(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?O(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?O(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ue(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),gr=Vt((e,t)=>{const r=F("Input",iM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,required:c,__staticSelector:l,__stylesApiProps:u,size:d,wrapperProps:f,error:p,disabled:h,leftSection:m,leftSectionProps:g,leftSectionWidth:v,rightSection:_,rightSectionProps:w,rightSectionWidth:b,rightSectionPointerEvents:C,leftSectionPointerEvents:R,variant:E,vars:x,pointer:k,multiline:L,radius:z,id:U,withAria:K,withErrorStyles:A,mod:q,inputSize:N,...H}=r,{styleProps:T,rest:j}=yg(H),$=dd(),M={offsetBottom:$==null?void 0:$.offsetBottom,offsetTop:$==null?void 0:$.offsetTop},W=he({name:["Input",l],props:u||r,classes:Sr,className:s,style:i,classNames:n,styles:o,unstyled:a,stylesCtx:M,rootSelector:"wrapper",vars:x,varsResolver:oM}),oe=K?{required:c,disabled:h,"aria-invalid":!!p,"aria-describedby":$==null?void 0:$.describedBy,id:($==null?void 0:$.inputId)||U}:{};return y.jsxs(B,{...W("wrapper"),...T,...f,mod:[{error:!!p&&A,pointer:k,disabled:h,multiline:L,"data-with-right-section":!!_,"data-with-left-section":!!m},q],variant:E,size:d,children:[m&&y.jsx("div",{...g,"data-position":"left",...W("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),y.jsx(B,{component:"input",...j,...oe,ref:t,required:c,mod:{disabled:h,error:!!p&&A},variant:E,__size:N,...W("input")}),_&&y.jsx("div",{...w,"data-position":"right",...W("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:_})]})});gr.classes=Sr;gr.Wrapper=Wg;gr.Label=hd;gr.Error=pd;gr.Description=fd;gr.Placeholder=Hg;gr.displayName="@mantine/core/Input";function aM(e,t,r){const n=F(e,t,r),{label:s,description:i,error:o,required:a,classNames:c,styles:l,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:p,errorProps:h,labelProps:m,descriptionProps:g,wrapperProps:v,id:_,size:w,style:b,inputContainer:C,inputWrapperOrder:R,withAsterisk:E,variant:x,vars:k,mod:L,...z}=n,{styleProps:U,rest:K}=yg(z),A={label:s,description:i,error:o,required:a,classNames:c,className:u,__staticSelector:f,__stylesApiProps:p||n,errorProps:h,labelProps:m,descriptionProps:g,unstyled:d,styles:l,size:w,style:b,inputContainer:C,inputWrapperOrder:R,withAsterisk:E,variant:x,id:_,mod:L,...v};return{...K,classNames:c,styles:l,unstyled:d,wrapperProps:{...A,...U},inputProps:{required:a,classNames:c,styles:l,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:p||n,error:o,variant:x,id:_}}}const cM={__staticSelector:"InputBase",withAria:!0},No=Vt((e,t)=>{const{inputProps:r,wrapperProps:n,...s}=aM("InputBase",cM,e);return y.jsx(gr.Wrapper,{...n,children:y.jsx(gr,{...r,...s,ref:t})})});No.classes={...gr.classes,...gr.Wrapper.classes};No.displayName="@mantine/core/InputBase";const lM={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var tR={root:"m_8bffd616"};const uM={},md=Vt((e,t)=>{const r=F("Flex",uM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,gap:l,rowGap:u,columnGap:d,align:f,justify:p,wrap:h,direction:m,...g}=r,v=he({name:"Flex",classes:tR,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),_=wr(),w=wg(),b=l1({styleProps:{gap:l,rowGap:u,columnGap:d,align:f,justify:p,wrap:h,direction:m},theme:_,data:lM});return y.jsxs(y.Fragment,{children:[b.hasResponsiveStyles&&y.jsx(td,{selector:`.${w}`,styles:b.styles,media:b.media}),y.jsx(B,{ref:t,...v("root",{className:w,style:Do(b.inlineStyles)}),...g})]})});md.classes=tR;md.displayName="@mantine/core/Flex";var rR={root:"m_b6d8b162"};function dM(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const fM={inherit:!1},pM=(e,{variant:t,lineClamp:r,gradient:n,size:s,color:i})=>({root:{"--text-fz":fr(s),"--text-lh":hD(s),"--text-gradient":t==="gradient"?Th(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":i?ei(i,e):void 0}}),Ye=Vt((e,t)=>{const r=F("Text",fM,e),{lineClamp:n,truncate:s,inline:i,inherit:o,gradient:a,span:c,__staticSelector:l,vars:u,className:d,style:f,classNames:p,styles:h,unstyled:m,variant:g,mod:v,size:_,...w}=r,b=he({name:["Text",l],props:r,classes:rR,className:d,style:f,classNames:p,styles:h,unstyled:m,vars:u,varsResolver:pM});return y.jsx(B,{...b("root",{focusable:!0}),ref:t,component:c?"span":"p",variant:g,mod:[{"data-truncate":dM(s),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":o},v],size:_,...w})});Ye.classes=rR;Ye.displayName="@mantine/core/Text";function nR(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>nR(t))}:e}function hM(e){return e?e.map(t=>nR(t)):[]}function sR(e){return e.reduce((t,r)=>"group"in r?{...t,...sR(r.items)}:(t[r.value]=r,t),{})}var Ut={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const mM={error:null},gM=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Ue(t,"combobox-chevron-size")}}),qg=Q((e,t)=>{const r=F("ComboboxChevron",mM,e),{size:n,error:s,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:u,mod:d,...f}=r,p=he({name:"ComboboxChevron",classes:Ut,props:r,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:u,varsResolver:gM,rootSelector:"chevron"});return y.jsx(B,{component:"svg",...f,...p("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},d],ref:t,children:y.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});qg.classes=Ut;qg.displayName="@mantine/core/ComboboxChevron";const[yM,br]=Es("Combobox component was not found in tree"),iR=S.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...s},i)=>y.jsx(_c,{ref:i,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{n(),r==null||r(o)}}));iR.displayName="@mantine/core/ComboboxClearButton";const vM={},Kg=Q((e,t)=>{const{classNames:r,styles:n,className:s,style:i,hidden:o,...a}=F("ComboboxDropdown",vM,e),c=br();return y.jsx(Ds.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:s,style:i,classNames:r,styles:n})})});Kg.classes=Ut;Kg.displayName="@mantine/core/ComboboxDropdown";const wM={refProp:"ref"},oR=Q((e,t)=>{const{children:r,refProp:n}=F("ComboboxDropdownTarget",wM,e);if(br(),!pc(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return y.jsx(Ds.Target,{ref:t,refProp:n,children:r})});oR.displayName="@mantine/core/ComboboxDropdownTarget";const _M={},Gg=Q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxEmpty",_M,e),c=br();return y.jsx(B,{ref:t,...c.getStyles("empty",{className:n,classNames:r,styles:i,style:s}),...a})});Gg.classes=Ut;Gg.displayName="@mantine/core/ComboboxEmpty";function Yg({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:s,autoComplete:i}){const o=br(),[a,c]=S.useState(null),l=d=>{if(e==null||e(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):s==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&s==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const SM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},aR=Q((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxEventsTarget",SM,e);if(!pc(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=br(),d=Yg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c});return S.cloneElement(r,{...d,...l,[n]:vr(t,u.store.targetRef,r==null?void 0:r.ref)})});aR.displayName="@mantine/core/ComboboxEventsTarget";const bM={},Qg=Q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxFooter",bM,e),c=br();return y.jsx(B,{ref:t,...c.getStyles("footer",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Qg.classes=Ut;Qg.displayName="@mantine/core/ComboboxFooter";const RM={},Xg=Q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,children:a,label:c,...l}=F("ComboboxGroup",RM,e),u=br();return y.jsxs(B,{ref:t,...u.getStyles("group",{className:n,classNames:r,style:s,styles:i}),...l,children:[c&&y.jsx("div",{...u.getStyles("groupLabel",{classNames:r,styles:i}),children:c}),a]})});Xg.classes=Ut;Xg.displayName="@mantine/core/ComboboxGroup";const CM={},Jg=Q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxHeader",CM,e),c=br();return y.jsx(B,{ref:t,...c.getStyles("header",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Jg.classes=Ut;Jg.displayName="@mantine/core/ComboboxHeader";function cR({value:e,valuesDivider:t=",",...r}){return y.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}cR.displayName="@mantine/core/ComboboxHiddenInput";const xM={},Zg=Q((e,t)=>{const r=F("ComboboxOption",xM,e),{classNames:n,className:s,style:i,styles:o,vars:a,onClick:c,id:l,active:u,onMouseDown:d,onMouseOver:f,disabled:p,selected:h,mod:m,...g}=r,v=br(),_=S.useId(),w=l||_;return y.jsx(B,{...v.getStyles("option",{className:s,classNames:n,styles:o,style:i}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":p,"combobox-selected":h},m],role:"option",onClick:b=>{var C;p?b.preventDefault():((C=v.onOptionSubmit)==null||C.call(v,r.value,r),c==null||c(b))},onMouseDown:b=>{b.preventDefault(),d==null||d(b)},onMouseOver:b=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f==null||f(b)}})});Zg.classes=Ut;Zg.displayName="@mantine/core/ComboboxOption";const EM={},ey=Q((e,t)=>{const r=F("ComboboxOptions",EM,e),{classNames:n,className:s,style:i,styles:o,id:a,onMouseDown:c,labelledBy:l,...u}=r,d=br(),f=mc(a);return S.useEffect(()=>{d.store.setListId(f)},[f]),y.jsx(B,{ref:t,...d.getStyles("options",{className:s,style:i,classNames:n,styles:o}),...u,id:f,role:"listbox","aria-labelledby":l,onMouseDown:p=>{p.preventDefault(),c==null||c(p)}})});ey.classes=Ut;ey.displayName="@mantine/core/ComboboxOptions";const TM={withAriaAttributes:!0,withKeyboardNavigation:!0},ty=Q((e,t)=>{const r=F("ComboboxSearch",TM,e),{classNames:n,styles:s,unstyled:i,vars:o,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:l,size:u,...d}=r,f=br(),p=f.getStyles("search"),h=Yg({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return y.jsx(gr,{ref:vr(t,f.store.searchRef),classNames:[{input:p.className},n],styles:[{input:p.style},s],size:u||f.size,...h,...d,__staticSelector:"Combobox"})});ty.classes=Ut;ty.displayName="@mantine/core/ComboboxSearch";const PM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},lR=Q((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxTarget",PM,e);if(!pc(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=br(),d=Yg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c}),f=S.cloneElement(r,{...d,...l});return y.jsx(Ds.Target,{ref:vr(t,u.store.targetRef),children:f})});lR.displayName="@mantine/core/ComboboxTarget";function DM(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function kM(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function OM(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function uR({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:s,loop:i=!0,scrollBehavior:o="instant"}={}){const[a,c]=vu({value:t,defaultValue:e,finalValue:!1,onChange:r}),l=S.useRef(null),u=S.useRef(-1),d=S.useRef(null),f=S.useRef(null),p=S.useRef(-1),h=S.useRef(-1),m=S.useRef(-1),g=S.useCallback((N="unknown")=>{a||(c(!0),s==null||s(N))},[c,s,a]),v=S.useCallback((N="unknown")=>{a&&(c(!1),n==null||n(N))},[c,n,a]),_=S.useCallback((N="unknown")=>{a?v(N):g(N)},[v,g,a]),w=S.useCallback(()=>{const N=document.querySelector(`#${l.current} [data-combobox-selected]`);N==null||N.removeAttribute("data-combobox-selected"),N==null||N.removeAttribute("aria-selected")},[]),b=S.useCallback(N=>{const H=document.getElementById(l.current),T=H==null?void 0:H.querySelectorAll("[data-combobox-option]");if(!T)return null;const j=N>=T.length?0:N<0?T.length-1:N;return u.current=j,T!=null&&T[j]&&!T[j].hasAttribute("data-combobox-disabled")?(w(),T[j].setAttribute("data-combobox-selected","true"),T[j].setAttribute("aria-selected","true"),T[j].scrollIntoView({block:"nearest",behavior:o}),T[j].id):null},[o,w]),C=S.useCallback(()=>{const N=document.querySelector(`#${l.current} [data-combobox-active]`);if(N){const H=document.querySelectorAll(`#${l.current} [data-combobox-option]`),T=Array.from(H).findIndex(j=>j===N);return b(T)}return b(0)},[b]),R=S.useCallback(()=>b(kM(u.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),E=S.useCallback(()=>b(DM(u.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),x=S.useCallback(()=>b(OM(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[b]),k=S.useCallback((N="selected",H)=>{m.current=window.setTimeout(()=>{var $;const T=document.querySelectorAll(`#${l.current} [data-combobox-option]`),j=Array.from(T).findIndex(M=>M.hasAttribute(`data-combobox-${N}`));u.current=j,H!=null&&H.scrollIntoView&&(($=T[j])==null||$.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),L=S.useCallback(()=>{u.current=-1,w()},[w]),z=S.useCallback(()=>{const N=document.querySelectorAll(`#${l.current} [data-combobox-option]`),H=N==null?void 0:N[u.current];H==null||H.click()},[]),U=S.useCallback(N=>{l.current=N},[]),K=S.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),A=S.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),q=S.useCallback(()=>u.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(h.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:_,selectedOptionIndex:u.current,getSelectedOptionIndex:q,selectOption:b,selectFirstOption:x,selectActiveOption:C,selectNextOption:R,selectPreviousOption:E,resetSelectedOption:L,updateSelectedOptionIndex:k,listId:l.current,setListId:U,clickSelectedOption:z,searchRef:d,focusSearchInput:K,targetRef:f,focusTarget:A}}const LM={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},MM=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":fr(t),"--combobox-option-padding":Ue(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:O(r),"--combobox-option-fz":fr(t),"--combobox-option-padding":Ue(t,"combobox-option-padding")}});function Re(e){const t=F("Combobox",LM,e),{classNames:r,styles:n,unstyled:s,children:i,store:o,vars:a,onOptionSubmit:c,onClose:l,size:u,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:p,readOnly:h,...m}=t,g=uR(),v=o||g,_=he({name:p||"Combobox",classes:Ut,props:t,classNames:r,styles:n,unstyled:s,vars:a,varsResolver:MM}),w=()=>{l==null||l(),v.closeDropdown()};return y.jsx(yM,{value:{getStyles:_,store:v,onOptionSubmit:c,size:u,resetSelectionOnOptionHover:f,readOnly:h},children:y.jsx(Ds,{opened:v.dropdownOpened,...m,onChange:b=>!b&&w(),withRoles:!1,unstyled:s,children:i})})}const NM=e=>e;Re.extend=NM;Re.classes=Ut;Re.displayName="@mantine/core/Combobox";Re.Target=lR;Re.Dropdown=Kg;Re.Options=ey;Re.Option=Zg;Re.Search=ty;Re.Empty=Gg;Re.Chevron=qg;Re.Footer=Qg;Re.Header=Jg;Re.EventsTarget=aR;Re.DropdownTarget=oR;Re.Group=Xg;Re.ClearButton=iR;Re.HiddenInput=cR;function jM({size:e,style:t,...r}){const n=e!==void 0?{width:O(e),height:O(e),...t}:t;return y.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:y.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Ja(e){return"group"in e}function dR({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),s=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(s.length===r)return s;Ja(o)&&s.push({group:o.group,items:dR({options:o.items,search:t,limit:r-s.length})}),Ja(o)||o.label.toLowerCase().includes(n)&&s.push(o)}return s}function IM(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function fR(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Ja(r))fR(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function $M(e,t){return Array.isArray(e)?e.includes(t):e===t}function pR({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:s,renderOption:i}){if(!Ja(e)){const a=$M(r,e.value),c=t&&a&&y.jsx(jM,{className:Ut.optionsDropdownCheckIcon}),l=y.jsxs(y.Fragment,{children:[n==="left"&&c,y.jsx("span",{children:e.label}),n==="right"&&c]});return y.jsx(Re.Option,{value:e.value,disabled:e.disabled,className:Pt({[Ut.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):l})}const o=e.items.map(a=>y.jsx(pR,{data:a,value:r,unstyled:s,withCheckIcon:t,checkIconPosition:n,renderOption:i},a.value));return y.jsx(Re.Group,{label:e.group,children:o})}function AM({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:s,limit:i,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:l=!1,value:u,checkIconPosition:d,nothingFoundMessage:f,unstyled:p,labelId:h,renderOption:m,scrollAreaProps:g,"aria-label":v}){fR(e);const w=typeof s=="string"?(n||dR)({options:e,search:c?s:"",limit:i??1/0}):e,b=IM(w),C=w.map(R=>y.jsx(pR,{data:R,withCheckIcon:l,value:u,checkIconPosition:d,unstyled:p,renderOption:m},Ja(R)?R.group:R.value));return y.jsx(Re.Dropdown,{hidden:t||r&&b,children:y.jsxs(Re.Options,{labelledBy:h,"aria-label":v,children:[a?y.jsx(Ps.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:C}):C,b&&f&&y.jsx(Re.Empty,{children:f})]})})}const hR=S.createContext(null),FM=hR.Provider;function BM(){return{withinGroup:!!S.useContext(hR)}}var gd={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const zM={},UM=(e,{spacing:t})=>({group:{"--ag-spacing":jt(t)}}),ry=Q((e,t)=>{const r=F("AvatarGroup",zM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,spacing:l,...u}=r,d=he({name:"AvatarGroup",classes:gd,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:UM,rootSelector:"group"});return y.jsx(FM,{value:!0,children:y.jsx(B,{ref:t,...d("group"),...u})})});ry.classes=gd;ry.displayName="@mantine/core/AvatarGroup";function VM(e){return y.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function mR(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}function HM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const WM=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function qM(e,t=WM){const r=HM(mR(e)),n=Math.abs(r)%t.length;return t[n]}const KM={},GM=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o,name:a,allowedInitialsColors:c})=>{const l=i==="initials"&&typeof a=="string"?qM(a,c):i,u=e.variantColorResolver({color:l||"gray",theme:e,gradient:s,variant:n||"light",autoContrast:o});return{root:{"--avatar-size":Ue(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Ar(r),"--avatar-bg":l||n?u.background:void 0,"--avatar-color":l||n?u.color:void 0,"--avatar-bd":l||n?u.border:void 0}}},$r=Vt((e,t)=>{const r=F("Avatar",KM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,src:l,alt:u,radius:d,color:f,gradient:p,imageProps:h,children:m,autoContrast:g,mod:v,name:_,allowedInitialsColors:w,...b}=r,C=BM(),[R,E]=S.useState(!l),x=he({name:"Avatar",props:r,classes:gd,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:GM});return S.useEffect(()=>E(!l),[l]),y.jsx(B,{...x("root"),mod:[{"within-group":C.withinGroup},v],ref:t,...b,children:R?y.jsx("span",{...x("placeholder"),title:u,children:m||typeof _=="string"&&mR(_)||y.jsx(VM,{})}):y.jsx("img",{...h,...x("image"),src:l,alt:u,onError:k=>{var L;E(!0),(L=h==null?void 0:h.onError)==null||L.call(h,k)}})})});$r.classes=gd;$r.displayName="@mantine/core/Avatar";$r.Group=ry;var gR={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const YM={},QM=(e,{radius:t,color:r,gradient:n,variant:s,size:i,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:o});return{root:{"--badge-height":Ue(i,"badge-height"),"--badge-padding-x":Ue(i,"badge-padding-x"),"--badge-fz":Ue(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Ar(t),"--badge-bg":r||s?a.background:void 0,"--badge-color":r||s?a.color:void 0,"--badge-bd":r||s?a.border:void 0,"--badge-dot-color":s==="dot"?ei(r,e):void 0}}},Co=Vt((e,t)=>{const r=F("Badge",YM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,radius:l,color:u,gradient:d,leftSection:f,rightSection:p,children:h,variant:m,fullWidth:g,autoContrast:v,circle:_,mod:w,...b}=r,C=he({name:"Badge",props:r,classes:gR,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:QM});return y.jsxs(B,{variant:m,mod:[{block:g,circle:_,"with-right-section":!!p,"with-left-section":!!f},w],...C("root",{variant:m}),ref:t,...b,children:[f&&y.jsx("span",{...C("section"),"data-position":"left",children:f}),y.jsx("span",{...C("label"),children:h}),p&&y.jsx("span",{...C("section"),"data-position":"right",children:p})]})});Co.classes=gR;Co.displayName="@mantine/core/Badge";var yd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Iw={orientation:"horizontal"},XM=(e,{borderWidth:t})=>({group:{"--button-border-width":O(t)}}),ny=Q((e,t)=>{const r=F("ButtonGroup",Iw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:u,variant:d,mod:f,...p}=F("ButtonGroup",Iw,e),h=he({name:"ButtonGroup",props:r,classes:yd,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:XM,rootSelector:"group"});return y.jsx(B,{...h("group"),ref:t,variant:d,mod:[{"data-orientation":c},f],role:"group",...p})});ny.classes=yd;ny.displayName="@mantine/core/ButtonGroup";const JM={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${O(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},ZM={},eN=(e,{radius:t,color:r,gradient:n,variant:s,size:i,justify:o,autoContrast:a})=>{const c=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Ue(i,"button-height"),"--button-padding-x":Ue(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?fr(i.replace("compact-","")):fr(i),"--button-radius":t===void 0?void 0:Ar(t),"--button-bg":r||s?c.background:void 0,"--button-hover":r||s?c.hover:void 0,"--button-color":c.color,"--button-bd":r||s?c.border:void 0,"--button-hover-color":r||s?c.hoverColor:void 0}}},pr=Vt((e,t)=>{const r=F("Button",ZM,e),{style:n,vars:s,className:i,color:o,disabled:a,children:c,leftSection:l,rightSection:u,fullWidth:d,variant:f,radius:p,loading:h,loaderProps:m,gradient:g,classNames:v,styles:_,unstyled:w,"data-disabled":b,autoContrast:C,mod:R,...E}=r,x=he({name:"Button",props:r,classes:yd,className:i,style:n,classNames:v,styles:_,unstyled:w,vars:s,varsResolver:eN}),k=!!l,L=!!u;return y.jsxs(yc,{ref:t,...x("root",{active:!a&&!h&&!b}),unstyled:w,variant:f,disabled:a||h,mod:[{disabled:a||b,loading:h,block:d,"with-left-section":k,"with-right-section":L},R],...E,children:[y.jsx(Lo,{mounted:!!h,transition:JM,duration:150,children:z=>y.jsx(B,{component:"span",...x("loader",{style:z}),"aria-hidden":!0,children:y.jsx(Mo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),y.jsxs("span",{...x("inner"),children:[l&&y.jsx(B,{component:"span",...x("section"),mod:{position:"left"},children:l}),y.jsx(B,{component:"span",mod:{loading:h},...x("label"),children:c}),u&&y.jsx(B,{component:"span",...x("section"),mod:{position:"right"},children:u})]})]})});pr.classes=yd;pr.displayName="@mantine/core/Button";pr.Group=ny;const[tN,rN]=Es("Card component was not found in tree");var sy={root:"m_e615b15f",section:"m_599a2148"};const nN={},vd=Vt((e,t)=>{const r=F("CardSection",nN,e),{classNames:n,className:s,style:i,styles:o,vars:a,withBorder:c,inheritPadding:l,mod:u,...d}=r,f=rN();return y.jsx(B,{ref:t,mod:[{"with-border":c,"inherit-padding":l},u],...f.getStyles("section",{className:s,style:i,styles:o,classNames:n}),...d})});vd.classes=sy;vd.displayName="@mantine/core/CardSection";const sN={},iN=(e,{padding:t})=>({root:{"--card-padding":jt(t)}}),wd=Vt((e,t)=>{const r=F("Card",sN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,children:l,padding:u,...d}=r,f=he({name:"Card",props:r,classes:sy,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:iN}),p=S.Children.toArray(l),h=p.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===vd?S.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===p.length-1||void 0}):m);return y.jsx(tN,{value:{getStyles:f},children:y.jsx(vc,{ref:t,unstyled:a,...f("root"),...d,children:h})})});wd.classes=sy;wd.displayName="@mantine/core/Card";wd.Section=vd;var yR={root:"m_3eebeb36",label:"m_9e365f20"};const oN={orientation:"horizontal"},aN=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?ei(t,e):void 0,"--divider-border-style":r,"--divider-size":Ue(n,"divider-size")}}),yr=Q((e,t)=>{const r=F("Divider",oN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,color:l,orientation:u,label:d,labelPosition:f,mod:p,...h}=r,m=he({name:"Divider",classes:yR,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:aN});return y.jsx(B,{ref:t,mod:[{orientation:u,"with-label":!!d},p],...m("root"),...h,role:"separator",children:d&&y.jsx(B,{component:"span",mod:{position:f},...m("label"),children:d})})});yr.classes=yR;yr.displayName="@mantine/core/Divider";const[cN,jo]=Es("Drawer component was not found in tree");var An={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const lN={},_d=Q((e,t)=>{const r=F("DrawerBody",lN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=jo();return y.jsx(Ag,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});_d.classes=An;_d.displayName="@mantine/core/DrawerBody";const uN={},Sd=Q((e,t)=>{const r=F("DrawerCloseButton",uN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=jo();return y.jsx(Fg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Sd.classes=An;Sd.displayName="@mantine/core/DrawerCloseButton";const dN={},bd=Q((e,t)=>{const r=F("DrawerContent",dN,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,radius:l,...u}=r,d=jo(),f=d.scrollAreaComponent||eR;return y.jsx(Bg,{...d.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:d.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),ref:t,...u,radius:l||d.radius||0,children:y.jsx(f,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:c})})});bd.classes=An;bd.displayName="@mantine/core/DrawerContent";const fN={},Rd=Q((e,t)=>{const r=F("DrawerHeader",fN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=jo();return y.jsx(zg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Rd.classes=An;Rd.displayName="@mantine/core/DrawerHeader";const pN={},Cd=Q((e,t)=>{const r=F("DrawerOverlay",pN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=jo();return y.jsx(Ug,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Cd.classes=An;Cd.displayName="@mantine/core/DrawerOverlay";function hN(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function mN(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const gN={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},yN={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},vN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ts("modal"),position:"left"},wN=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Ue(r,"drawer-size"),"--drawer-flex":mN(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":hN(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":O(n)}}),xd=Q((e,t)=>{const r=F("DrawerRoot",vN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,scrollAreaComponent:l,position:u,transitionProps:d,radius:f,...p}=r,{dir:h}=rd(),m=he({name:"Drawer",classes:An,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:wN}),g=(h==="rtl"?yN:gN)[u];return y.jsx(cN,{value:{scrollAreaComponent:l,getStyles:m,radius:f},children:y.jsx($g,{ref:t,...m("root"),transitionProps:{transition:g,...d},unstyled:a,...p})})});xd.classes=An;xd.displayName="@mantine/core/DrawerRoot";const _N={},Ed=Q((e,t)=>{const r=F("DrawerTitle",_N,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=jo();return y.jsx(Vg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Ed.classes=An;Ed.displayName="@mantine/core/DrawerTitle";const SN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ts("modal"),withOverlay:!0,withCloseButton:!0},Fr=Q((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,...c}=F("Drawer",SN,e),l=!!r||i;return y.jsxs(xd,{ref:t,...c,children:[n&&y.jsx(Cd,{...s}),y.jsxs(bd,{children:[l&&y.jsxs(Rd,{children:[r&&y.jsx(Ed,{children:r}),i&&y.jsx(Sd,{...o})]}),y.jsx(_d,{children:a})]})]})});Fr.classes=An;Fr.displayName="@mantine/core/Drawer";Fr.Root=xd;Fr.Overlay=Cd;Fr.Content=bd;Fr.Body=_d;Fr.Header=Rd;Fr.Title=Ed;Fr.CloseButton=Sd;function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}function vR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}const[bN,Io]=Es("Modal component was not found in tree");var Fn={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const RN={},Td=Q((e,t)=>{const r=F("ModalBody",RN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Io();return y.jsx(Ag,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});Td.classes=Fn;Td.displayName="@mantine/core/ModalBody";const CN={},Pd=Q((e,t)=>{const r=F("ModalCloseButton",CN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Io();return y.jsx(Fg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Pd.classes=Fn;Pd.displayName="@mantine/core/ModalCloseButton";const xN={},Dd=Q((e,t)=>{const r=F("ModalContent",xN,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,...l}=r,u=Io(),d=u.scrollAreaComponent||eR;return y.jsx(Bg,{...u.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:u.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),"data-full-screen":u.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:y.jsx(d,{style:{maxHeight:u.fullScreen?"100dvh":`calc(100dvh - (${O(u.yOffset)} * 2))`},children:c})})});Dd.classes=Fn;Dd.displayName="@mantine/core/ModalContent";const EN={},kd=Q((e,t)=>{const r=F("ModalHeader",EN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Io();return y.jsx(zg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});kd.classes=Fn;kd.displayName="@mantine/core/ModalHeader";const TN={},Od=Q((e,t)=>{const r=F("ModalOverlay",TN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Io();return y.jsx(Ug,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Od.classes=Fn;Od.displayName="@mantine/core/ModalOverlay";const PN={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ts("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},DN=(e,{radius:t,size:r,yOffset:n,xOffset:s})=>({root:{"--modal-radius":t===void 0?void 0:Ar(t),"--modal-size":Ue(r,"modal-size"),"--modal-y-offset":O(n),"--modal-x-offset":O(s)}}),Ld=Q((e,t)=>{const r=F("ModalRoot",PN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,yOffset:l,scrollAreaComponent:u,radius:d,fullScreen:f,centered:p,xOffset:h,__staticSelector:m,...g}=r,v=he({name:m,classes:Fn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:DN});return y.jsx(bN,{value:{yOffset:l,scrollAreaComponent:u,getStyles:v,fullScreen:f},children:y.jsx($g,{ref:t,...v("root"),"data-full-screen":f||void 0,"data-centered":p||void 0,unstyled:a,...g})})});Ld.classes=Fn;Ld.displayName="@mantine/core/ModalRoot";const kN={},Md=Q((e,t)=>{const r=F("ModalTitle",kN,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Io();return y.jsx(Vg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Md.classes=Fn;Md.displayName="@mantine/core/ModalTitle";const ON={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ts("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},pn=Q((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,radius:c,...l}=F("Modal",ON,e),u=!!r||i;return y.jsxs(Ld,{ref:t,radius:c,...l,children:[n&&y.jsx(Od,{...s}),y.jsxs(Dd,{radius:c,children:[u&&y.jsxs(kd,{children:[r&&y.jsx(Md,{children:r}),i&&y.jsx(Pd,{...o})]}),y.jsx(Td,{children:a})]})]})});pn.classes=Fn;pn.displayName="@mantine/core/Modal";pn.Root=Ld;pn.Overlay=Od;pn.Content=Dd;pn.Body=Td;pn.Header=kd;pn.Title=Md;pn.CloseButton=Pd;var wR={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const LN={withCloseButton:!0},MN=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Ar(t),"--notification-color":r?ei(r,e):void 0}}),iy=Q((e,t)=>{const r=F("Notification",LN,e),{className:n,color:s,radius:i,loading:o,withCloseButton:a,withBorder:c,title:l,icon:u,children:d,onClose:f,closeButtonProps:p,classNames:h,style:m,styles:g,unstyled:v,variant:_,vars:w,mod:b,...C}=r,R=he({name:"Notification",classes:wR,props:r,className:n,style:m,classNames:h,styles:g,unstyled:v,vars:w,varsResolver:MN});return y.jsxs(B,{...R("root"),mod:[{"data-with-icon":!!u||o,"data-with-border":c},b],ref:t,variant:_,...C,role:"alert",children:[u&&!o&&y.jsx("div",{...R("icon"),children:u}),o&&y.jsx(Mo,{size:28,color:s,...R("loader")}),y.jsxs("div",{...R("body"),children:[l&&y.jsx("div",{...R("title"),children:l}),y.jsx(B,{...R("description"),mod:{"data-with-title":!!l},children:d})]}),a&&y.jsx(_c,{iconSize:16,color:"gray",...p,unstyled:v,onClick:f,...R("closeButton")})]})});iy.classes=wR;iy.displayName="@mantine/core/Notification";const NN={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},oy=Q((e,t)=>{const r=F("Select",NN,e),{classNames:n,styles:s,unstyled:i,vars:o,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:l,onDropdownOpen:u,onFocus:d,onBlur:f,onClick:p,onChange:h,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:_,onOptionSubmit:w,comboboxProps:b,readOnly:C,disabled:R,filter:E,limit:x,withScrollArea:k,maxDropdownHeight:L,size:z,searchable:U,rightSection:K,checkIconPosition:A,withCheckIcon:q,nothingFoundMessage:N,name:H,form:T,searchValue:j,defaultSearchValue:$,onSearchChange:M,allowDeselect:W,error:oe,rightSectionPointerEvents:ve,id:Fe,clearable:Pe,clearButtonProps:be,hiddenInputProps:Ct,renderOption:zr,onClear:Ur,autoComplete:Un,scrollAreaProps:ks,...Lt}=r,Ne=S.useMemo(()=>hM(m),[m]),ht=S.useMemo(()=>sR(Ne),[Ne]),Vn=mc(Fe),[Ze,Wt,Rr]=vu({value:g,defaultValue:v,finalValue:null,onChange:h}),ct=typeof Ze=="string"?ht[Ze]:void 0,sr=MD(ct),[yn,Oe]=vu({value:j,defaultValue:$,finalValue:ct?ct.label:"",onChange:M}),st=uR({opened:a,defaultOpened:c,onDropdownOpen:()=>{u==null||u(),st.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),st.resetSelectedOption()}}),{resolvedClassNames:Os,resolvedStyles:ae}=uk({props:r,styles:s,classNames:n});S.useEffect(()=>{_&&st.selectFirstOption()},[_,Ze]),S.useEffect(()=>{g===null&&Oe(""),typeof g=="string"&&ct&&((sr==null?void 0:sr.value)!==ct.value||(sr==null?void 0:sr.label)!==ct.label)&&Oe(ct.label)},[g,ct]);const pe=Pe&&!!Ze&&!R&&!C&&y.jsx(Re.ClearButton,{size:z,...be,onClear:()=>{Wt(null,null),Oe(""),Ur==null||Ur()}});return y.jsxs(y.Fragment,{children:[y.jsxs(Re,{store:st,__staticSelector:"Select",classNames:Os,styles:ae,unstyled:i,readOnly:C,onOptionSubmit:G=>{w==null||w(G);const le=W&&ht[G].value===Ze?null:ht[G],qt=le?le.value:null;qt!==Ze&&Wt(qt,le),!Rr&&Oe(typeof qt=="string"&&(le==null?void 0:le.label)||""),st.closeDropdown()},size:z,...b,children:[y.jsx(Re.Target,{targetType:U?"input":"button",autoComplete:Un,children:y.jsx(No,{id:Vn,ref:t,rightSection:K||pe||y.jsx(Re.Chevron,{size:z,error:oe,unstyled:i}),rightSectionPointerEvents:ve||(pe?"all":"none"),...Lt,size:z,__staticSelector:"Select",disabled:R,readOnly:C||!U,value:yn,onChange:G=>{Oe(G.currentTarget.value),st.openDropdown(),_&&st.selectFirstOption()},onFocus:G=>{U&&st.openDropdown(),d==null||d(G)},onBlur:G=>{var le;U&&st.closeDropdown(),Oe(Ze!=null&&((le=ht[Ze])==null?void 0:le.label)||""),f==null||f(G)},onClick:G=>{U?st.openDropdown():st.toggleDropdown(),p==null||p(G)},classNames:Os,styles:ae,unstyled:i,pointer:!U,error:oe})}),y.jsx(AM,{data:Ne,hidden:C||R,filter:E,search:yn,limit:x,hiddenWhenEmpty:!N,withScrollArea:k,maxDropdownHeight:L,filterOptions:U&&(ct==null?void 0:ct.label)!==yn,value:Ze,checkIconPosition:A,withCheckIcon:q,nothingFoundMessage:N,unstyled:i,labelId:Lt.label?`${Vn}-label`:void 0,"aria-label":Lt.label?void 0:Lt["aria-label"],renderOption:zr,scrollAreaProps:ks})]}),y.jsx(Re.HiddenInput,{value:Ze,name:H,form:T,disabled:R,...Ct})]})});oy.classes={...No.classes,...Re.classes};oy.displayName="@mantine/core/Select";function jN({spacing:e,verticalSpacing:t,cols:r,selector:n}){var u;const s=wr(),i=t===void 0?e:t,o=Do({"--sg-spacing-x":jt(co(e)),"--sg-spacing-y":jt(co(i)),"--sg-cols":(u=co(r))==null?void 0:u.toString()}),a=Ft(s.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=jt(e[f])),typeof i=="object"&&i[f]!==void 0&&(d[f]["--sg-spacing-y"]=jt(i[f])),typeof r=="object"&&r[f]!==void 0&&(d[f]["--sg-cols"]=r[f]),d),{}),l=gD(Ft(a),s.breakpoints).filter(d=>Ft(a[d.value]).length>0).map(d=>({query:`(min-width: ${s.breakpoints[d.value]})`,styles:a[d.value]}));return y.jsx(td,{styles:o,media:l,selector:n})}function ip(e){return typeof e=="object"&&e!==null?Ft(e):[]}function IN(e){return e.sort((t,r)=>Ya(t)-Ya(r))}function $N({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...ip(e),...ip(t),...ip(r)]));return IN(n)}function AN({spacing:e,verticalSpacing:t,cols:r,selector:n}){var l;const s=t===void 0?e:t,i=Do({"--sg-spacing-x":jt(co(e)),"--sg-spacing-y":jt(co(s)),"--sg-cols":(l=co(r))==null?void 0:l.toString()}),o=$N({spacing:e,verticalSpacing:t,cols:r}),a=o.reduce((u,d)=>(u[d]||(u[d]={}),typeof e=="object"&&e[d]!==void 0&&(u[d]["--sg-spacing-x"]=jt(e[d])),typeof s=="object"&&s[d]!==void 0&&(u[d]["--sg-spacing-y"]=jt(s[d])),typeof r=="object"&&r[d]!==void 0&&(u[d]["--sg-cols"]=r[d]),u),{}),c=o.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return y.jsx(td,{styles:i,container:c,selector:n})}var _R={container:"m_925c2d2c",root:"m_2415a157"};const FN={cols:1,spacing:"md",type:"media"},Nd=Q((e,t)=>{const r=F("SimpleGrid",FN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,cols:l,verticalSpacing:u,spacing:d,type:f,...p}=r,h=he({name:"SimpleGrid",classes:_R,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),m=wg();return f==="container"?y.jsxs(y.Fragment,{children:[y.jsx(AN,{...r,selector:`.${m}`}),y.jsx("div",{...h("container"),children:y.jsx(B,{ref:t,...h("root",{className:m}),...p})})]}):y.jsxs(y.Fragment,{children:[y.jsx(jN,{...r,selector:`.${m}`}),y.jsx(B,{ref:t,...h("root",{className:m}),...p})]})});Nd.classes=_R;Nd.displayName="@mantine/core/SimpleGrid";var SR={root:"m_6d731127"};const BN={gap:"md",align:"stretch",justify:"flex-start"},zN=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":jt(t),"--stack-align":r,"--stack-justify":n}}),nt=Q((e,t)=>{const r=F("Stack",BN,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,align:l,justify:u,gap:d,variant:f,...p}=r,h=he({name:"Stack",props:r,classes:SR,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:zN});return y.jsx(B,{ref:t,...h("root"),variant:f,...p})});nt.classes=SR;nt.displayName="@mantine/core/Stack";const UN={},Tn=Q((e,t)=>{const r=F("TextInput",UN,e);return y.jsx(No,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Tn.classes=No.classes;Tn.displayName="@mantine/core/TextInput";function VN(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),n.forEach(i=>i(t))},initialize(s){r||(t=s,r=!0)},subscribe(s){return n.add(s),()=>n.delete(s)}}}function HN(e){return S.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function WN(e,t,r){const n=[],s=[],i={};for(const o of e){const a=o.position||t;i[a]=i[a]||0,i[a]+=1,i[a]<=r?s.push(o):n.push(o)}return{notifications:s,queue:n}}const qN=()=>VN({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),ci=qN(),KN=(e=ci)=>HN(e);function $o(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),s=WN(n,r.defaultPosition,r.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function GN(e,t=ci){const r=e.id||fg();return $o(t,n=>e.id&&n.some(s=>s.id===e.id)?n:[...n,{...e,id:r}]),r}function bR(e,t=ci){return $o(t,r=>r.filter(n=>{var s;return n.id===e?((s=n.onClose)==null||s.call(n,n),!1):!0})),e}function YN(e,t=ci){return $o(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function QN(e=ci){$o(e,()=>[])}function XN(e=ci){$o(e,t=>t.slice(0,e.getState().limit))}const Ao={show:GN,hide:bR,update:YN,clean:QN,cleanQueue:XN,updateState:$o};function $h(e,t){return $h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$h(e,t)}function RR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$h(e,t)}const $w={disabled:!1},xu=lr.createContext(null);var JN=function(t){return t.scrollTop},va="unmounted",Is="exited",$s="entering",Bi="entered",Ah="exiting",Bn=function(e){RR(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?a?(c=Is,i.appearStatus=$s):c=Bi:n.unmountOnExit||n.mountOnEnter?c=va:c=Is,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===va?{status:Is}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==$s&&o!==Bi&&(i=$s):(o===$s||o===Bi)&&(i=Ah)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===$s){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this);o&&JN(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Is&&this.setState({status:va})},r.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[ya.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!s&&!o||$w.disabled){this.safeSetState({status:Bi},function(){i.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:$s},function(){i.props.onEntering(l,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Bi},function(){i.props.onEntered(l,u)})})})},r.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ya.findDOMNode(this);if(!i||$w.disabled){this.safeSetState({status:Is},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ah},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Is},function(){s.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===va)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=vR(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lr.createElement(xu.Provider,{value:null},typeof o=="function"?o(s,a):lr.cloneElement(lr.Children.only(o),a))},t}(lr.Component);Bn.contextType=xu;Bn.propTypes={};function _i(){}Bn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_i,onEntering:_i,onEntered:_i,onExit:_i,onExiting:_i,onExited:_i};Bn.UNMOUNTED=va;Bn.EXITED=Is;Bn.ENTERING=$s;Bn.ENTERED=Bi;Bn.EXITING=Ah;function ZN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ay(e,t){var r=function(i){return t&&S.isValidElement(i)?t(i):i},n=Object.create(null);return e&&S.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function ej(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var o,a={};for(var c in t){if(n[c])for(o=0;o<n[c].length;o++){var l=n[c][o];a[n[c][o]]=r(l)}a[c]=r(c)}for(o=0;o<s.length;o++)a[s[o]]=r(s[o]);return a}function Vs(e,t,r){return r[t]!=null?r[t]:e.props[t]}function tj(e,t){return ay(e.children,function(r){return S.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Vs(r,"appear",e),enter:Vs(r,"enter",e),exit:Vs(r,"exit",e)})})}function rj(e,t,r){var n=ay(e.children),s=ej(t,n);return Object.keys(s).forEach(function(i){var o=s[i];if(S.isValidElement(o)){var a=i in t,c=i in n,l=t[i],u=S.isValidElement(l)&&!l.props.in;c&&(!a||u)?s[i]=S.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:Vs(o,"exit",e),enter:Vs(o,"enter",e)}):!c&&a&&!u?s[i]=S.cloneElement(o,{in:!1}):c&&a&&S.isValidElement(l)&&(s[i]=S.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:Vs(o,"exit",e),enter:Vs(o,"enter",e)}))}}),s}var nj=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},sj={component:"div",childFactory:function(t){return t}},Zn=function(e){RR(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=i.handleExited.bind(ZN(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,c=i.firstRender;return{children:c?tj(s,a):rj(s,o,a),firstRender:!1}},r.handleExited=function(s,i){var o=ay(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var c=Ih({},a.children);return delete c[s.key],{children:c}}))},r.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=vR(s,["component","childFactory"]),c=this.state.contextValue,l=nj(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?lr.createElement(xu.Provider,{value:c},l):lr.createElement(xu.Provider,{value:c},lr.createElement(i,a,l))},t}(lr.Component);Zn.propTypes={};Zn.defaultProps=sj;const CR=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function ij(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),CR.reduce((r,n)=>(r[n]=[],r),{}))}const Aw={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},oj={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function aj({state:e,maxHeight:t,position:r,transitionDuration:n}){const[s,i]=r.split("-"),o=i==="center"?`${s}-center`:i,a={opacity:0,maxHeight:t,transform:Aw[o],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:oj[o]},l={opacity:0,maxHeight:0,transform:Aw[o]};return{...a,...{entering:c,entered:c,exiting:l,exited:l}[e]}}function cj(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const xR=S.forwardRef(({data:e,onHide:t,autoClose:r,...n},s)=>{const{autoClose:i,message:o,...a}=e,c=cj(r,e.autoClose),l=S.useRef(),u=()=>window.clearTimeout(l.current),d=()=>{t(e.id),u()},f=()=>{typeof c=="number"&&(l.current=window.setTimeout(d,c))};return S.useEffect(()=>{var p;(p=e.onOpen)==null||p.call(e,e)},[]),S.useEffect(()=>(f(),u),[c]),y.jsx(iy,{...n,...a,onClose:d,ref:s,onMouseEnter:u,onMouseLeave:f,children:o})});xR.displayName="@mantine/notifications/NotificationContainer";var ER={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const lj=Bn,uj={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Ts("overlay"),store:ci,withinPortal:!0},dj=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":O(r)}}),zn=Q((e,t)=>{const r=F("Notifications",uj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,position:l,autoClose:u,transitionDuration:d,containerWidth:f,notificationMaxHeight:p,limit:h,zIndex:m,store:g,portalProps:v,withinPortal:_,...w}=r,b=wr(),C=KN(g),R=DD(),E=Zu(),x=S.useRef({}),k=S.useRef(0),z=(b.respectReducedMotion?E:!1)?1:d,U=he({name:"Notifications",classes:ER,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:dj});S.useEffect(()=>{g==null||g.updateState(q=>({...q,limit:h||5,defaultPosition:l}))},[h,l]),_s(()=>{C.notifications.length>k.current&&setTimeout(()=>R(),0),k.current=C.notifications.length},[C.notifications]);const K=ij(C.notifications,l),A=CR.reduce((q,N)=>(q[N]=K[N].map(({style:H,...T})=>y.jsx(lj,{timeout:z,onEnter:()=>x.current[T.id].offsetHeight,nodeRef:{current:x.current[T.id]},children:j=>y.jsx(xR,{ref:$=>{x.current[T.id]=$},data:T,onHide:$=>bR($,g),autoClose:u,...U("notification",{style:{...aj({state:j,position:N,transitionDuration:z,maxHeight:p}),...H}})})},T.id)),q),{});return y.jsxs(ld,{withinPortal:_,...v,children:[y.jsx(B,{...U("root"),"data-position":"top-center",ref:t,...w,children:y.jsx(Zn,{children:A["top-center"]})}),y.jsx(B,{...U("root"),"data-position":"top-left",...w,children:y.jsx(Zn,{children:A["top-left"]})}),y.jsx(B,{...U("root"),"data-position":"top-right",...w,children:y.jsx(Zn,{children:A["top-right"]})}),y.jsx(B,{...U("root"),"data-position":"bottom-right",...w,children:y.jsx(Zn,{children:A["bottom-right"]})}),y.jsx(B,{...U("root"),"data-position":"bottom-left",...w,children:y.jsx(Zn,{children:A["bottom-left"]})}),y.jsx(B,{...U("root"),"data-position":"bottom-center",...w,children:y.jsx(Zn,{children:A["bottom-center"]})})]})});zn.classes=ER;zn.displayName="@mantine/notifications/Notifications";zn.show=Ao.show;zn.hide=Ao.hide;zn.update=Ao.update;zn.clean=Ao.clean;zn.cleanQueue=Ao.cleanQueue;zn.updateState=Ao.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const Fw="popstate";function fj(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:c=""}=li(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fh("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Eu(i))}function n(s,i){cy(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return hj(t,r,n,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pj(){return Math.random().toString(36).substr(2,8)}function Bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Fh(e,t,r,n){return r===void 0&&(r=null),Za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?li(t):t,{state:r,key:t&&t.key||n||pj()})}function Eu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ss.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(Za({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ss.Pop;let g=u(),v=g==null?null:g-l;l=g,c&&c({action:a,location:m.location,delta:v})}function f(g,v){a=ss.Push;let _=Fh(m.location,g,v);r&&r(_,g),l=u()+1;let w=Bw(_,l),b=m.createHref(_);try{o.pushState(w,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:a,location:m.location,delta:1})}function p(g,v){a=ss.Replace;let _=Fh(m.location,g,v);r&&r(_,g),l=u();let w=Bw(_,l),b=m.createHref(_);o.replaceState(w,"",b),i&&c&&c({action:a,location:m.location,delta:0})}function h(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof g=="string"?g:Eu(g);return _=_.replace(/ $/,"%20"),Xe(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let m={get action(){return a},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fw,d),c=g,()=>{s.removeEventListener(Fw,d),c=null}},createHref(g){return t(s,g)},createURL:h,encodeLocation(g){let v=h(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(g){return o.go(g)}};return m}var zw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zw||(zw={}));function mj(e,t,r){return r===void 0&&(r="/"),gj(e,t,r,!1)}function gj(e,t,r,n){let s=typeof t=="string"?li(t):t,i=ly(s.pathname||"/",r);if(i==null)return null;let o=TR(e);yj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=Pj(i);a=Ej(o[c],l,n)}return a}function TR(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=ps([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),TR(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:Cj(l,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of PR(i.path))s(i,o,c)}),t}function PR(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=PR(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function yj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vj=/^:[\w-]+$/,wj=3,_j=2,Sj=1,bj=10,Rj=-2,Uw=e=>e==="*";function Cj(e,t){let r=e.split("/"),n=r.length;return r.some(Uw)&&(n+=Rj),t&&(n+=_j),r.filter(s=>!Uw(s)).reduce((s,i)=>s+(vj.test(i)?wj:i===""?Sj:bj),n)}function xj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ej(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Vw({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=Vw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ps([i,d.pathname]),pathnameBase:Lj(ps([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=ps([i,d.pathnameBase]))}return o}function Vw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Tj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[d];return p&&!h?l[f]=void 0:l[f]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function Tj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ly(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?li(e):e;return{pathname:r?r.startsWith("/")?r:kj(r,t):t,search:Mj(n),hash:Nj(s)}}function kj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function DR(e,t){let r=Oj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kR(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=li(e):(s=Za({},e),Xe(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=Dj(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const ps=e=>e.join("/").replace(/\/\/+/g,"/"),Lj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OR=["post","put","patch","delete"];new Set(OR);const Ij=["get",...OR];new Set(Ij);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}const uy=S.createContext(null),$j=S.createContext(null),ui=S.createContext(null),jd=S.createContext(null),di=S.createContext({outlet:null,matches:[],isDataRoute:!1}),LR=S.createContext(null);function Aj(e,t){let{relative:r}=t===void 0?{}:t;Sc()||Xe(!1);let{basename:n,navigator:s}=S.useContext(ui),{hash:i,pathname:o,search:a}=jR(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ps([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Sc(){return S.useContext(jd)!=null}function Id(){return Sc()||Xe(!1),S.useContext(jd).location}function MR(e){S.useContext(ui).static||S.useLayoutEffect(e)}function NR(){let{isDataRoute:e}=S.useContext(di);return e?Xj():Fj()}function Fj(){Sc()||Xe(!1);let e=S.useContext(uy),{basename:t,future:r,navigator:n}=S.useContext(ui),{matches:s}=S.useContext(di),{pathname:i}=Id(),o=JSON.stringify(DR(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return MR(()=>{a.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=kR(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ps([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function jR(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(ui),{matches:s}=S.useContext(di),{pathname:i}=Id(),o=JSON.stringify(DR(s,n.v7_relativeSplatPath));return S.useMemo(()=>kR(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Bj(e,t){return zj(e,t)}function zj(e,t,r,n){Sc()||Xe(!1);let{navigator:s}=S.useContext(ui),{matches:i}=S.useContext(di),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=Id(),u;if(t){var d;let g=typeof t=="string"?li(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||Xe(!1),u=g}else u=l;let f=u.pathname||"/",p=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=mj(e,{pathname:p}),m=qj(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:ps([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ps([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&m?S.createElement(jd.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ss.Pop}},m):m}function Uj(){let e=Qj(),t=jj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const Vj=S.createElement(Uj,null);class Hj extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(di.Provider,{value:this.props.routeContext},S.createElement(LR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wj(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(uy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(di.Provider,{value:t},n)}function qj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Xe(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:p}=r,h=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,h=!1,m=null,g=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Vj,c&&(l<0&&f===0?(h=!0,g=null):l===f&&(h=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),_=()=>{let w;return p?w=m:h?w=g:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,S.createElement(Wj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(Hj,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var IR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IR||{}),Tu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tu||{});function Kj(e){let t=S.useContext(uy);return t||Xe(!1),t}function Gj(e){let t=S.useContext($j);return t||Xe(!1),t}function Yj(e){let t=S.useContext(di);return t||Xe(!1),t}function $R(e){let t=Yj(),r=t.matches[t.matches.length-1];return r.route.id||Xe(!1),r.route.id}function Qj(){var e;let t=S.useContext(LR),r=Gj(Tu.UseRouteError),n=$R(Tu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Xj(){let{router:e}=Kj(IR.UseNavigateStable),t=$R(Tu.UseNavigateStable),r=S.useRef(!1);return MR(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ec({fromRouteId:t},i)))},[e,t])}const Hw={};function Jj(e,t){Hw[t]||(Hw[t]=!0,console.warn(t))}const Ww=(e,t,r)=>Jj(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Zj(e,t){e!=null&&e.v7_startTransition||Ww("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Ww("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function zi(e){Xe(!1)}function e2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ss.Pop,navigator:i,static:o=!1,future:a}=e;Sc()&&Xe(!1);let c=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:c,navigator:i,static:o,future:ec({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=li(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:h="default"}=n,m=S.useMemo(()=>{let g=ly(u,c);return g==null?null:{location:{pathname:g,search:d,hash:f,state:p,key:h},navigationType:s}},[c,u,d,f,p,h,s]);return m==null?null:S.createElement(ui.Provider,{value:l},S.createElement(jd.Provider,{children:r,value:m}))}function t2(e){let{children:t,location:r}=e;return Bj(Bh(t),r)}new Promise(()=>{});function Bh(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,Bh(n.props.children,i));return}n.type!==zi&&Xe(!1),!n.props.index||!n.props.children||Xe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(this,arguments)}function r2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function n2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s2(e,t){return e.button===0&&(!t||t==="_self")&&!n2(e)}const i2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o2="6";try{window.__reactRouterVersion=o2}catch{}const a2="startTransition",qw=Kl[a2];function c2(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=fj({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},u=S.useCallback(d=>{l&&qw?qw(()=>c(d)):c(d)},[c,l]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>Zj(n),[n]),S.createElement(e2,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d2=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d}=t,f=r2(t,i2),{basename:p}=S.useContext(ui),h,m=!1;if(typeof l=="string"&&u2.test(l)&&(h=l,l2))try{let w=new URL(window.location.href),b=l.startsWith("//")?new URL(w.protocol+l):new URL(l),C=ly(b.pathname,p);b.origin===w.origin&&C!=null?l=C+b.search+b.hash:m=!0}catch{}let g=Aj(l,{relative:s}),v=f2(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:d});function _(w){n&&n(w),w.defaultPrevented||v(w)}return S.createElement("a",zh({},f,{href:h||g,onClick:m||i?n:_,ref:r,target:c}))});var Kw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kw||(Kw={}));var Gw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function f2(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=NR(),l=Id(),u=jR(e,{relative:o});return S.useCallback(d=>{if(s2(d,r)){d.preventDefault();let f=n!==void 0?n:Eu(l)===Eu(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,u,n,s,r,e,i,o,a])}const p2="_mainContainer_1x0os_1",h2="_title_1x0os_13",m2="_buttonContainer_1x0os_17",g2="_loginButton_1x0os_32",y2="_registerButton_1x0os_36",ap={mainContainer:p2,title:h2,buttonContainer:m2,loginButton:g2,registerButton:y2};function v2(){return y.jsx(y.Fragment,{children:y.jsxs(md,{gap:"md",justify:"center",align:"center",direction:"column",children:[y.jsx("span",{className:ap.title,children:"   Hitscord!"}),y.jsx("div",{className:ap.buttonContainer,children:y.jsx(d2,{to:"/login",children:y.jsx("button",{className:ap.loginButton,children:""})})})]})})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>S.createElement("svg",{ref:c,..._2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:AR("lucide",s),...a},[...o.map(([l,u])=>S.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const r=S.forwardRef(({className:n,...s},i)=>S.createElement(S2,{ref:i,iconNode:t,className:AR(`lucide-${w2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Me("ArrowLeftFromLine",[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Me("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=Me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Me("MonitorUp",[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Me("MonitorX",[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Me("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Me("ScreenShare",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Me("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A2="_chatContent_w3u1z_1",F2="_chat_w3u1z_1",B2="_message_w3u1z_17",z2="_bottomContainer_w3u1z_24",U2="_attachButton_w3u1z_33",V2="_sendButton_w3u1z_34",H2="_inputChat_w3u1z_50",vn={chatContent:A2,chat:F2,message:B2,bottomContainer:z2,attachButton:U2,sendButton:V2,inputChat:H2};function W2(){return y.jsxs("div",{className:vn.chatContent,children:[y.jsxs("div",{className:vn.chat,children:[y.jsx("div",{className:vn.message,children:" 1"}),y.jsx("div",{className:vn.message,children:" 2"}),y.jsx("div",{className:vn.message,children:" 3"})]}),y.jsxs("div",{className:vn.bottomContainer,children:[y.jsx("button",{className:vn.attachButton,children:y.jsx(VR,{size:20})}),y.jsx("input",{type:"text",placeholder:" ...",className:vn.inputChat}),y.jsx("button",{className:vn.sendButton,children:y.jsx(WR,{size:20})})]})]})}const q2="_item_nzbpr_1",K2="_check_nzbpr_5",G2={item:q2,check:K2};function Y2(){return y.jsx("div",{className:G2.item,children:y.jsx(T2,{size:30})})}const $d=xP,tc=hP,Q2="_actionButtons_nqaky_8",X2="_screenShareButton_nqaky_17",J2="_disconnectButton_nqaky_18",Z2="_muteButton_nqaky_19",eI="_panel_nqaky_1",tI="_userInfo_nqaky_66",rI="_userName_nqaky_73",Ls={actionButtons:Q2,screenShareButton:X2,disconnectButton:J2,muteButton:Z2,panel:eI,userInfo:tI,userName:rI};function nI({isConnected:e,startScreenSharing:t,stopScreenSharing:r,onDisconnect:n,toggleMute:s,isMuted:i}){const{user:o}=tc(u=>u.userStore),[a,c]=S.useState(!1),l=()=>{a?r():t(),c(u=>!u)};return y.jsxs(y.Fragment,{children:[e&&y.jsxs("div",{className:Ls.actionButtons,children:[y.jsx("button",{className:Ls.screenShareButton,onClick:l,id:"startSceenSharing",children:a?y.jsxs(y.Fragment,{children:[y.jsx(C2,{size:20}),"  "]}):y.jsxs(y.Fragment,{children:[y.jsx(O2,{size:20}),"  "]})}),y.jsx("button",{className:Ls.muteButton,onClick:s,children:i?y.jsx(zR,{size:20}):y.jsx(UR,{size:20})}),y.jsx("button",{className:Ls.disconnectButton,onClick:n,children:""})]}),y.jsx("div",{className:Ls.panel,children:y.jsx("div",{className:Ls.userInfo,children:y.jsx("span",{className:Ls.userName,children:o.fullName})})})]})}function ut(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qw=sI,cp=()=>Math.random().toString(36).substring(7).split("").join("."),iI={INIT:`@@redux/INIT${cp()}`,REPLACE:`@@redux/REPLACE${cp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cp()}`},Pu=iI;function dy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qR(e,t,r){if(typeof e!="function")throw new Error(ut(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ut(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ut(1));return r(qR)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((g,v)=>{o.set(v,g)}))}function u(){if(c)throw new Error(ut(3));return s}function d(g){if(typeof g!="function")throw new Error(ut(4));if(c)throw new Error(ut(5));let v=!0;l();const _=a++;return o.set(_,g),function(){if(v){if(c)throw new Error(ut(6));v=!1,l(),o.delete(_),i=null}}}function f(g){if(!dy(g))throw new Error(ut(7));if(typeof g.type>"u")throw new Error(ut(8));if(typeof g.type!="string")throw new Error(ut(17));if(c)throw new Error(ut(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(_=>{_()}),g}function p(g){if(typeof g!="function")throw new Error(ut(10));n=g,f({type:Pu.REPLACE})}function h(){const g=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ut(11));function _(){const b=v;b.next&&b.next(u())}return _(),{unsubscribe:g(_)}},[Qw](){return this}}}return f({type:Pu.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[Qw]:h}}function oI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pu.INIT})>"u")throw new Error(ut(12));if(typeof r(void 0,{type:Pu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ut(13))})}function aI(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{oI(r)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],p=o[d],h=f(p,a);if(typeof h>"u")throw a&&a.type,new Error(ut(14));l[d]=h,c=c||h!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function Du(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function cI(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(ut(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=e.map(c=>c(o));return i=Du(...a)(s.dispatch),{...s,dispatch:i}}}function lI(e){return dy(e)&&"type"in e&&typeof e.type=="string"}var KR=Symbol.for("immer-nothing"),Xw=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function Dr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object.getPrototypeOf;function ri(e){return!!e&&!!e[er]}function jn(e){var t;return e?GR(e)||Array.isArray(e)||!!e[Xw]||!!((t=e.constructor)!=null&&t[Xw])||Fd(e)||Bd(e):!1}var uI=Object.prototype.constructor.toString();function GR(e){if(!e||typeof e!="object")return!1;const t=xo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===uI}function ku(e,t){Ad(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ad(e){const t=e[er];return t?t.type_:Array.isArray(e)?1:Fd(e)?2:Bd(e)?3:0}function Uh(e,t){return Ad(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function YR(e,t,r){const n=Ad(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function dI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fd(e){return e instanceof Map}function Bd(e){return e instanceof Set}function As(e){return e.copy_||e.base_}function Vh(e,t){if(Fd(e))return new Map(e);if(Bd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=GR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[er];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(xo(e),n)}else{const n=xo(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function fy(e,t=!1){return zd(e)||ri(e)||!jn(e)||(Ad(e)>1&&(e.set=e.add=e.clear=e.delete=fI),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>fy(n,!0))),e}function fI(){Dr(2)}function zd(e){return Object.isFrozen(e)}var pI={};function ni(e){const t=pI[e];return t||Dr(0,e),t}var rc;function QR(){return rc}function hI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jw(e,t){t&&(ni("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hh(e){Wh(e),e.drafts_.forEach(mI),e.drafts_=null}function Wh(e){e===rc&&(rc=e.parent_)}function Zw(e){return rc=hI(rc,e)}function mI(e){const t=e[er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[er].modified_&&(Hh(t),Dr(4)),jn(e)&&(e=Ou(t,e),t.parent_||Lu(t,e)),t.patches_&&ni("Patches").generateReplacementPatches_(r[er].base_,e,t.patches_,t.inversePatches_)):e=Ou(t,r,[]),Hh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KR?e:void 0}function Ou(e,t,r){if(zd(t))return t;const n=t[er];if(!n)return ku(t,(s,i)=>t_(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Lu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),ku(i,(a,c)=>t_(e,n,s,a,c,r,o)),Lu(e,s,!1),r&&e.patches_&&ni("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function t_(e,t,r,n,s,i,o){if(ri(s)){const a=i&&t&&t.type_!==3&&!Uh(t.assigned_,n)?i.concat(n):void 0,c=Ou(e,s,a);if(YR(r,n,c),ri(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(jn(s)&&!zd(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ou(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Lu(e,s)}}function Lu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fy(t,r)}function gI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:QR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=py;r&&(s=[n],i=nc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var py={get(e,t){if(t===er)return e;const r=As(e);if(!Uh(r,t))return yI(e,r,t);const n=r[t];return e.finalized_||!jn(n)?n:n===lp(e.base_,t)?(up(e),e.copy_[t]=Kh(n,e)):n},has(e,t){return t in As(e)},ownKeys(e){return Reflect.ownKeys(As(e))},set(e,t,r){const n=XR(As(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=lp(As(e),t),i=s==null?void 0:s[er];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(dI(r,s)&&(r!==void 0||Uh(e.base_,t)))return!0;up(e),qh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,up(e),qh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=As(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Dr(11)},getPrototypeOf(e){return xo(e.base_)},setPrototypeOf(){Dr(12)}},nc={};ku(py,(e,t)=>{nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nc.deleteProperty=function(e,t){return nc.set.call(this,e,t,void 0)};nc.set=function(e,t,r){return py.set.call(this,e[0],t,r,e[0])};function lp(e,t){const r=e[er];return(r?As(r):e)[t]}function yI(e,t,r){var s;const n=XR(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function XR(e,t){if(!(t in e))return;let r=xo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xo(r)}}function qh(e){e.modified_||(e.modified_=!0,e.parent_&&qh(e.parent_))}function up(e){e.copy_||(e.copy_=Vh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...l){return o.produce(c,u=>r.call(this,u,...l))}}typeof r!="function"&&Dr(6),n!==void 0&&typeof n!="function"&&Dr(7);let s;if(jn(t)){const i=Zw(this),o=Kh(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?Hh(i):Wh(i)}return Jw(i,n),e_(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===KR&&(s=void 0),this.autoFreeze_&&fy(s,!0),n){const i=[],o=[];ni("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Dr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){jn(e)||Dr(8),ri(e)&&(e=wI(e));const t=Zw(this),r=Kh(e,void 0);return r[er].isManual_=!0,Wh(t),r}finishDraft(e,t){const r=e&&e[er];(!r||!r.isManual_)&&Dr(9);const{scope_:n}=r;return Jw(n,t),e_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ni("Patches").applyPatches_;return ri(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Kh(e,t){const r=Fd(e)?ni("MapSet").proxyMap_(e,t):Bd(e)?ni("MapSet").proxySet_(e,t):gI(e,t);return(t?t.scope_:QR()).drafts_.push(r),r}function wI(e){return ri(e)||Dr(10,e),JR(e)}function JR(e){if(!jn(e)||zd(e))return e;const t=e[er];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Vh(e,!0);return ku(r,(n,s)=>{YR(r,n,JR(s))}),t&&(t.finalized_=!1),r}var tr=new vI,ZR=tr.produce;tr.produceWithPatches.bind(tr);tr.setAutoFreeze.bind(tr);tr.setUseStrictShallowCopy.bind(tr);tr.applyPatches.bind(tr);tr.createDraft.bind(tr);tr.finishDraft.bind(tr);function eC(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var _I=eC(),SI=eC,bI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Du:Du.apply(null,arguments)},RI=e=>e&&typeof e.match=="function";function ka(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ln(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>lI(n)&&n.type===e,r}var tC=class wa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wa.prototype)}static get[Symbol.species](){return wa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wa(...t[0].concat(this)):new wa(...t.concat(this))}};function r_(e){return jn(e)?ZR(e,()=>{}):e}function n_(e,t,r){if(e.has(t)){let s=e.get(t);return r.update&&(s=r.update(s,t,e),e.set(t,s)),s}if(!r.insert)throw new Error(ln(10));const n=r.insert(t,e);return e.set(t,n),n}function CI(e){return typeof e=="boolean"}var xI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new tC;return r&&(CI(r)?o.push(_I):o.push(SI(r.extraArgument))),o},EI="RTK_autoBatch",rC=e=>t=>{setTimeout(t,e)},TI=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rC(10),PI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?TI:e.type==="callback"?e.queueNotification:rC(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>s&&u(),f=n.subscribe(d);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var d;try{return s=!((d=u==null?void 0:u.meta)!=null&&d[EI]),i=!s,i&&(o||(o=!0,c(l))),n.dispatch(u)}finally{s=!0}}})},DI=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new tC(e);return n&&s.push(PI(typeof n=="object"?n:void 0)),s};function kI(e){const t=xI(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(dy(r))a=aI(r);else throw new Error(ln(1));let c;typeof n=="function"?c=n(t):c=t();let l=Du;s&&(l=bI({trace:!1,...typeof s=="object"&&s}));const u=cI(...c),d=DI(u);let f=typeof o=="function"?o(d):d();const p=l(...f);return qR(a,i,p)}function nC(e){const t={},r=[];let n;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(ln(28));if(a in t)throw new Error(ln(29));return t[a]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function OI(e){return typeof e=="function"}function LI(e,t){let[r,n,s]=nC(t),i;if(OI(e))i=()=>r_(e());else{const a=r_(e);i=()=>a}function o(a=i(),c){let l=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[s]),l.reduce((u,d)=>{if(d)if(ri(u)){const p=d(u,c);return p===void 0?u:p}else{if(jn(u))return ZR(u,f=>d(f,c));{const f=d(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},a)}return o.getInitialState=i,o}var MI=(e,t)=>RI(e)?e.match(t):e(t);function NI(...e){return t=>e.some(r=>MI(r,t))}var jI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",II=(e=21)=>{let t="",r=e;for(;r--;)t+=jI[Math.random()*64|0];return t},$I=["name","message","stack","code"],dp=class{constructor(e,t){vf(this,"_type");this.payload=e,this.meta=t}},s_=class{constructor(e,t){vf(this,"_type");this.payload=e,this.meta=t}},AI=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of $I)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},sC=(()=>{function e(t,r,n){const s=ka(t+"/fulfilled",(c,l,u,d)=>({payload:c,meta:{...d||{},arg:u,requestId:l,requestStatus:"fulfilled"}})),i=ka(t+"/pending",(c,l,u)=>({payload:void 0,meta:{...u||{},arg:l,requestId:c,requestStatus:"pending"}})),o=ka(t+"/rejected",(c,l,u,d,f)=>({payload:d,error:(n&&n.serializeError||AI)(c||"Rejected"),meta:{...f||{},arg:u,requestId:l,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,u,d)=>{const f=n!=null&&n.idGenerator?n.idGenerator(c):II(),p=new AbortController;let h,m;function g(_){m=_,p.abort()}const v=async function(){var b,C;let _;try{let R=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,c,{getState:u,extra:d});if(BI(R)&&(R=await R),R===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((x,k)=>{h=()=>{k({name:"AbortError",message:m||"Aborted"})},p.signal.addEventListener("abort",h)});l(i(f,c,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:f,arg:c},{getState:u,extra:d}))),_=await Promise.race([E,Promise.resolve(r(c,{dispatch:l,getState:u,extra:d,requestId:f,signal:p.signal,abort:g,rejectWithValue:(x,k)=>new dp(x,k),fulfillWithValue:(x,k)=>new s_(x,k)})).then(x=>{if(x instanceof dp)throw x;return x instanceof s_?s(x.payload,f,c,x.meta):s(x,f,c)})])}catch(R){_=R instanceof dp?o(null,f,c,R.payload,R.meta):o(R,f,c)}finally{h&&p.signal.removeEventListener("abort",h)}return n&&!n.dispatchConditionRejection&&o.match(_)&&_.meta.condition||l(_),_}();return Object.assign(v,{abort:g,requestId:f,arg:c,unwrap(){return v.then(FI)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:NI(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function FI(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function BI(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var zI=Symbol.for("rtk-slice-createasyncthunk");function UI(e,t){return`${e}/${t}`}function VI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[zI];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(ln(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(WI()):s.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,b){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(ln(12));if(C in l.sliceCaseReducersByType)throw new Error(ln(13));return l.sliceCaseReducersByType[C]=b,u},addMatcher(w,b){return l.sliceMatchers.push({matcher:w,reducer:b}),u},exposeAction(w,b){return l.actionCreators[w]=b,u},exposeCaseReducer(w,b){return l.sliceCaseReducersByName[w]=b,u}};c.forEach(w=>{const b=a[w],C={reducerName:w,type:UI(i,w),createNotation:typeof s.reducers=="function"};KI(b)?YI(C,b,u,t):qI(C,b,u)});function d(){const[w={},b=[],C=void 0]=typeof s.extraReducers=="function"?nC(s.extraReducers):[s.extraReducers],R={...w,...l.sliceCaseReducersByType};return LI(s.initialState,E=>{for(let x in R)E.addCase(x,R[x]);for(let x of l.sliceMatchers)E.addMatcher(x.matcher,x.reducer);for(let x of b)E.addMatcher(x.matcher,x.reducer);C&&E.addDefaultCase(C)})}const f=w=>w,p=new Map;let h;function m(w,b){return h||(h=d()),h(w,b)}function g(){return h||(h=d()),h.getInitialState()}function v(w,b=!1){function C(E){let x=E[w];return typeof x>"u"&&b&&(x=g()),x}function R(E=f){const x=n_(p,b,{insert:()=>new WeakMap});return n_(x,E,{insert:()=>{const k={};for(const[L,z]of Object.entries(s.selectors??{}))k[L]=HI(z,E,g,b);return k}})}return{reducerPath:w,getSelectors:R,get selectors(){return R(C)},selectSlice:C}}const _={name:i,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...v(o),injectInto(w,{reducerPath:b,...C}={}){const R=b??o;return w.inject({reducerPath:R,reducer:m},C),{..._,...v(R,!0)}}};return _}}function HI(e,t,r,n){function s(i,...o){let a=t(i);return typeof a>"u"&&n&&(a=r()),e(a,...o)}return s.unwrapped=e,s}var iC=VI();function WI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function qI({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!GI(n))throw new Error(ln(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ka(e,o):ka(e))}function KI(e){return e._reducerDefinitionType==="asyncThunk"}function GI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function YI({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ln(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:l,options:u}=r,d=s(e,i,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),a&&n.addCase(d.pending,a),c&&n.addCase(d.rejected,c),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(t,{fulfilled:o||il,pending:a||il,rejected:c||il,settled:l||il})}function il(){}function ln(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const QI={isUserStreamView:!1},oC=iC({name:"app",initialState:QI,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView}}}),{toggleUserStreamView:aC}=oC.actions,XI=oC.reducer;function hy({connect:e,connected:t,consumers:r,users:n}){const s=$d(),[i,{toggle:o}]=wu(!0),[a,c]=S.useState(null),[l,u]=S.useState(!1),d=n.reduce((h,m)=>(h[m.socketId]||(h[m.socketId]={userName:m.userName,producerIds:[]}),h[m.socketId].producerIds.push(m.producerId),h),{});S.useEffect(()=>{console.log(n)},[n]);const f=()=>{t?s(aC()):e()},p=h=>{if(d[h].producerIds.length>1){const g=r.find(v=>v.kind==="video"&&d[h].producerIds.includes(v.producerId));if(g){const v=new MediaStream([g.track]);c(v),u(!0)}}};return y.jsxs(y.Fragment,{children:[y.jsxs(nt,{align:"flex-start",gap:"xs",children:[y.jsxs(Dt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(pr,{leftSection:i?y.jsx(FR,{}):y.jsx(BR,{}),variant:"transparent",onClick:o,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),y.jsx(_t,{variant:"transparent",children:y.jsx(HR,{color:"#ffffff"})})]}),y.jsxs(_g,{in:i,w:"100%",children:[y.jsx(pr,{leftSection:y.jsx(I2,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:f,children:"  1"}),y.jsx(nt,{gap:"xs",children:Object.entries(d).map(([h,{producerIds:m}])=>y.jsxs(Dt,{onClick:()=>p(h),style:{cursor:"pointer"},wrap:"nowrap",children:[y.jsx(M2,{}),y.jsx(Ye,{truncate:!0,children:h}),m.length>1&&y.jsx(j2,{color:"#43b581",style:{marginLeft:"auto"}})]},h))})]}),r.map((h,m)=>h.kind==="audio"&&y.jsx("audio",{autoPlay:!0,ref:g=>{g&&(g.srcObject=new MediaStream([h.track]))}},m))]}),y.jsx(pn,{opened:l,onClose:()=>{u(!1),c(null)},title:" ",centered:!0,size:"auto",style:{width:"100%"},children:a&&y.jsx("video",{style:{width:"100%",height:"auto",maxHeight:"700px"},autoPlay:!0,ref:h=>{h&&(h.srcObject=a)}})})]})}var cC={},Gh={exports:{}},fp,i_;function JI(){if(i_)return fp;i_=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;fp=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return d.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var d=Math.abs(u);return d>=n?Math.round(u/n)+"d":d>=r?Math.round(u/r)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var d=Math.abs(u);return d>=n?l(u,d,n,"day"):d>=r?l(u,d,r,"hour"):d>=t?l(u,d,t,"minute"):d>=e?l(u,d,e,"second"):u+" ms"}function l(u,d,f,p){var h=d>=f*1.5;return Math.round(u/f)+" "+p+(h?"s":"")}return fp}function ZI(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=s,r.enabled=o,r.humanize=JI(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d,f=null,p,h;function m(...g){if(!m.enabled)return;const v=m,_=Number(new Date),w=_-(d||_);v.diff=w,v.prev=d,v.curr=_,d=_,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(R,E)=>{if(R==="%%")return"%";b++;const x=r.formatters[E];if(typeof x=="function"){const k=g[b];R=x.call(v,k),g.splice(b,1),b--}return R}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return m.namespace=u,m.useColors=r.useColors(),m.color=r.selectColor(u),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,h=r.enabled(u)),h),set:g=>{f=g}}),typeof r.init=="function"&&r.init(m),m}function n(u,d){const f=r(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d;const f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(u))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var e$=ZI;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=e$(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Gh,Gh.exports);var Ud=Gh.exports,Fo={},Yh={exports:{}};(function(e,t){(function(r,n){var s="1.0.39",i="",o="?",a="function",c="undefined",l="object",u="string",d="major",f="model",p="name",h="type",m="vendor",g="version",v="architecture",_="console",w="mobile",b="tablet",C="smarttv",R="wearable",E="embedded",x=500,k="Amazon",L="Apple",z="ASUS",U="BlackBerry",K="Browser",A="Chrome",q="Edge",N="Firefox",H="Google",T="Huawei",j="LG",$="Microsoft",M="Motorola",W="Opera",oe="Samsung",ve="Sharp",Fe="Sony",Pe="Xiaomi",be="Zebra",Ct="Facebook",zr="Chromium OS",Ur="Mac OS",Un=" Browser",ks=function(ae,pe){var G={};for(var le in ae)pe[le]&&pe[le].length%2===0?G[le]=pe[le].concat(ae[le]):G[le]=ae[le];return G},Lt=function(ae){for(var pe={},G=0;G<ae.length;G++)pe[ae[G].toUpperCase()]=ae[G];return pe},Ne=function(ae,pe){return typeof ae===u?ht(pe).indexOf(ht(ae))!==-1:!1},ht=function(ae){return ae.toLowerCase()},Vn=function(ae){return typeof ae===u?ae.replace(/[^\d\.]/g,i).split(".")[0]:n},Ze=function(ae,pe){if(typeof ae===u)return ae=ae.replace(/^\s\s*/,i),typeof pe===c?ae:ae.substring(0,x)},Wt=function(ae,pe){for(var G=0,le,qt,Vr,we,re,Hr;G<pe.length&&!re;){var yf=pe[G],Vy=pe[G+1];for(le=qt=0;le<yf.length&&!re&&yf[le];)if(re=yf[le++].exec(ae),re)for(Vr=0;Vr<Vy.length;Vr++)Hr=re[++qt],we=Vy[Vr],typeof we===l&&we.length>0?we.length===2?typeof we[1]==a?this[we[0]]=we[1].call(this,Hr):this[we[0]]=we[1]:we.length===3?typeof we[1]===a&&!(we[1].exec&&we[1].test)?this[we[0]]=Hr?we[1].call(this,Hr,we[2]):n:this[we[0]]=Hr?Hr.replace(we[1],we[2]):n:we.length===4&&(this[we[0]]=Hr?we[3].call(this,Hr.replace(we[1],we[2])):n):this[we]=Hr||n;G+=2}},Rr=function(ae,pe){for(var G in pe)if(typeof pe[G]===l&&pe[G].length>0){for(var le=0;le<pe[G].length;le++)if(Ne(pe[G][le],ae))return G===o?n:G}else if(Ne(pe[G],ae))return G===o?n:G;return pe.hasOwnProperty("*")?pe["*"]:ae},ct={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},sr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},yn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,W+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,W+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,W]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+K]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+K],g],[/\bfocus\/([\w\.]+)/i],[g,[p,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[g,[p,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+Un]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Un],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,oe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Ct],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Rr,ct]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,ht]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,i,ht]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,ht]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,oe],[h,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,oe],[h,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,L],[h,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,L],[h,b]],[/(macintosh);/i],[f,[m,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,ve],[h,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,T],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,T],[h,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,Pe],[h,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,Pe],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[h,w]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[h,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[h,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,M],[h,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,M],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,j],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,j],[h,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[h,w]],[/(pixel c)\b/i],[f,[m,H],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,H],[h,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Fe],[h,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Fe],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[h,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,k],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,k],[h,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,U],[h,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,z],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,z],[h,w]],[/(nexus 9)/i],[f,[m,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[h,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[h,b]],[/(itel) ((\w+))/i],[[m,ht],f,[h,Rr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[h,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[h,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[h,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[h,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[h,b]],[/(surface duo)/i],[f,[m,$],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[h,w]],[/(u304aa)/i],[f,[m,"AT&T"],[h,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[h,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[h,b]],[/\b(k88) b/i],[f,[m,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[h,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[h,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[h,b]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[h,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[h,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[h,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[m,f,[h,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,$],[h,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,be],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,be],[h,w]],[/smart-tv.+(samsung)/i],[m,[h,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,oe],[h,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,j],[h,C]],[/(apple) ?tv/i],[m,[f,L+" TV"],[h,C]],[/crkey/i],[[f,A+"cast"],[m,H],[h,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,k],[h,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,ve],[h,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Fe],[h,C]],[/(mitv-\w{5}) bui/i],[f,[m,Pe],[h,C]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[h,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Ze],[f,Ze],[h,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[h,_]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[h,_]],[/(playstation [345portablevi]+)/i],[f,[m,Fe],[h,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,$],[h,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,oe],[h,R]],[/((pebble))app/i],[m,f,[h,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,L],[h,R]],[/droid.+; (glass) \d/i],[f,[m,H],[h,R]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,be],[h,R]],[/(quest( \d| pro)?)/i],[f,[m,Ct],[h,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,E]],[/(aeobc)\b/i],[f,[m,k],[h,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,q+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,Rr,sr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Rr,sr],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Ur],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,U]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,zr],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},Oe=function(ae,pe){if(typeof ae===l&&(pe=ae,ae=n),!(this instanceof Oe))return new Oe(ae,pe).getResult();var G=typeof r!==c&&r.navigator?r.navigator:n,le=ae||(G&&G.userAgent?G.userAgent:i),qt=G&&G.userAgentData?G.userAgentData:n,Vr=pe?ks(yn,pe):yn,we=G&&G.userAgent==le;return this.getBrowser=function(){var re={};return re[p]=n,re[g]=n,Wt.call(re,le,Vr.browser),re[d]=Vn(re[g]),we&&G&&G.brave&&typeof G.brave.isBrave==a&&(re[p]="Brave"),re},this.getCPU=function(){var re={};return re[v]=n,Wt.call(re,le,Vr.cpu),re},this.getDevice=function(){var re={};return re[m]=n,re[f]=n,re[h]=n,Wt.call(re,le,Vr.device),we&&!re[h]&&qt&&qt.mobile&&(re[h]=w),we&&re[f]=="Macintosh"&&G&&typeof G.standalone!==c&&G.maxTouchPoints&&G.maxTouchPoints>2&&(re[f]="iPad",re[h]=b),re},this.getEngine=function(){var re={};return re[p]=n,re[g]=n,Wt.call(re,le,Vr.engine),re},this.getOS=function(){var re={};return re[p]=n,re[g]=n,Wt.call(re,le,Vr.os),we&&!re[p]&&qt&&qt.platform&&qt.platform!="Unknown"&&(re[p]=qt.platform.replace(/chrome os/i,zr).replace(/macos/i,Ur)),re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return le},this.setUA=function(re){return le=typeof re===u&&re.length>x?Ze(re,x):re,this},this.setUA(le),this};Oe.VERSION=s,Oe.BROWSER=Lt([p,g,d]),Oe.CPU=Lt([v]),Oe.DEVICE=Lt([f,m,h,_,w,C,b,R,E]),Oe.ENGINE=Oe.OS=Lt([p,g]),e.exports&&(t=e.exports=Oe),t.UAParser=Oe;var st=typeof r!==c&&(r.jQuery||r.Zepto);if(st&&!st.ua){var Os=new Oe;st.ua=Os.getResult(),st.ua.get=function(){return Os.getUA()},st.ua.set=function(ae){Os.setUA(ae);var pe=Os.getResult();for(var G in pe)st.ua[G]=pe[G]}}})(typeof window=="object"?window:P)})(Yh,Yh.exports);var t$=Yh.exports,Ae={},r$=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Logger=void 0;const Si=r$(Ud),bi="mediasoup-client";let n$=class{constructor(t){t?(this._debug=(0,Si.default)(`${bi}:${t}`),this._warn=(0,Si.default)(`${bi}:WARN:${t}`),this._error=(0,Si.default)(`${bi}:ERROR:${t}`)):(this._debug=(0,Si.default)(bi),this._warn=(0,Si.default)(`${bi}:WARN`),this._error=(0,Si.default)(`${bi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Ae.Logger=n$;var hn={},my={exports:{}},uo=typeof Reflect=="object"?Reflect:null,o_=uo&&typeof uo.apply=="function"?uo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Al;uo&&typeof uo.ownKeys=="function"?Al=uo.ownKeys:Object.getOwnPropertySymbols?Al=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Al=function(t){return Object.getOwnPropertyNames(t)};function s$(e){console&&console.warn&&console.warn(e)}var lC=Number.isNaN||function(t){return t!==t};function Ce(){Ce.init.call(this)}my.exports=Ce;my.exports.once=c$;Ce.EventEmitter=Ce;Ce.prototype._events=void 0;Ce.prototype._eventsCount=0;Ce.prototype._maxListeners=void 0;var a_=10;function Vd(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ce,"defaultMaxListeners",{enumerable:!0,get:function(){return a_},set:function(e){if(typeof e!="number"||e<0||lC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a_=e}});Ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ce.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||lC(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function uC(e){return e._maxListeners===void 0?Ce.defaultMaxListeners:e._maxListeners}Ce.prototype.getMaxListeners=function(){return uC(this)};Ce.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")o_(c,this,r);else for(var l=c.length,u=mC(c,l),n=0;n<l;++n)o_(u[n],this,r);return!0};function dC(e,t,r,n){var s,i,o;if(Vd(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),o===void 0)o=i[t]=r,++e._eventsCount;else if(typeof o=="function"?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=uC(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,s$(a)}return e}Ce.prototype.addListener=function(t,r){return dC(this,t,r,!1)};Ce.prototype.on=Ce.prototype.addListener;Ce.prototype.prependListener=function(t,r){return dC(this,t,r,!0)};function i$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fC(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=i$.bind(n);return s.listener=r,n.wrapFn=s,s}Ce.prototype.once=function(t,r){return Vd(r),this.on(t,fC(this,t,r)),this};Ce.prototype.prependOnceListener=function(t,r){return Vd(r),this.prependListener(t,fC(this,t,r)),this};Ce.prototype.removeListener=function(t,r){var n,s,i,o,a;if(Vd(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():o$(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function pC(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?a$(s):mC(s,s.length)}Ce.prototype.listeners=function(t){return pC(this,t,!0)};Ce.prototype.rawListeners=function(t){return pC(this,t,!1)};Ce.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):hC.call(e,t)};Ce.prototype.listenerCount=hC;function hC(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ce.prototype.eventNames=function(){return this._eventsCount>0?Al(this._events):[]};function mC(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function o$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function a$(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function c$(e,t){return new Promise(function(r,n){function s(o){e.removeListener(t,i),n(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}gC(e,t,i,{once:!0}),t!=="error"&&l$(e,s,{once:!0})})}function l$(e,t,r){typeof e.on=="function"&&gC(e,"error",t,r)}function gC(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var u$=my.exports;Object.defineProperty(hn,"__esModule",{value:!0});hn.EnhancedEventEmitter=void 0;const d$=u$,f$=Ae,p$=new f$.Logger("EnhancedEventEmitter");class h$ extends d$.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...r){return super.emit(t,...r)}safeEmit(t,...r){try{return super.emit(t,...r)}catch(n){p$.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,n);try{super.emit("listenererror",t,n)}catch{}return!!super.listenerCount(t)}}on(t,r){return super.on(t,r),this}off(t,r){return super.off(t,r),this}addListener(t,r){return super.on(t,r),this}prependListener(t,r){return super.prependListener(t,r),this}once(t,r){return super.once(t,r),this}prependOnceListener(t,r){return super.prependOnceListener(t,r),this}removeListener(t,r){return super.off(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}hn.EnhancedEventEmitter=h$;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.InvalidStateError=Je.UnsupportedError=void 0;class gy extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,gy):this.stack=new Error(t).stack}}Je.UnsupportedError=gy;class yy extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,yy):this.stack=new Error(t).stack}}Je.InvalidStateError=yy;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.clone=m$;qe.generateRandomNumber=g$;qe.deepFreeze=yC;function m$(e){if(e!==void 0)return Number.isNaN(e)?NaN:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}function g$(){return Math.round(Math.random()*1e7)}function yC(e){const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&yC(n)}return Object.freeze(e)}var Ee={},Be={},Hd={},y$=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.Logger=void 0;const Ri=y$(Ud),Ci="h264-profile-level-id";let v$=class{constructor(t){t?(this._debug=(0,Ri.default)(`${Ci}:${t}`),this._warn=(0,Ri.default)(`${Ci}:WARN:${t}`),this._error=(0,Ri.default)(`${Ci}:ERROR:${t}`)):(this._debug=(0,Ri.default)(Ci),this._warn=(0,Ri.default)(`${Ci}:WARN`),this._error=(0,Ri.default)(`${Ci}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Hd.Logger=v$;Object.defineProperty(Be,"__esModule",{value:!0});Be.generateProfileLevelIdStringForAnswer=Be.isSameProfile=Be.parseSdpProfileLevelId=Be.levelToString=Be.profileToString=Be.profileLevelIdToString=Be.parseProfileLevelId=Be.ProfileLevelId=Be.Level=Be.Profile=void 0;const w$=Hd,bs=new w$.Logger;var xe;(function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"})(xe||(Be.Profile=xe={}));var ne;(function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"})(ne||(Be.Level=ne={}));class Wd{constructor(t,r){this.profile=t,this.level=r}}Be.ProfileLevelId=Wd;const _$=new Wd(xe.ConstrainedBaseline,ne.L3_1);class wn{constructor(t){this.mask=~c_("x",t),this.masked_value=c_("1",t)}isMatch(t){return this.masked_value===(t&this.mask)}}class _n{constructor(t,r,n){this.profile_idc=t,this.profile_iop=r,this.profile=n}}const S$=[new _n(66,new wn("x1xx0000"),xe.ConstrainedBaseline),new _n(77,new wn("1xxx0000"),xe.ConstrainedBaseline),new _n(88,new wn("11xx0000"),xe.ConstrainedBaseline),new _n(66,new wn("x0xx0000"),xe.Baseline),new _n(88,new wn("10xx0000"),xe.Baseline),new _n(77,new wn("0x0x0000"),xe.Main),new _n(100,new wn("00000000"),xe.High),new _n(100,new wn("00001100"),xe.ConstrainedHigh),new _n(244,new wn("00000000"),xe.PredictiveHigh444)];function vC(e){if(typeof e!="string"||e.length!==6)return;const r=parseInt(e,16);if(r===0)return;const n=r&255,s=r>>8&255,i=r>>16&255;let o;switch(n){case ne.L1_1:{o=s&16?ne.L1_b:ne.L1_1;break}case ne.L1:case ne.L1_2:case ne.L1_3:case ne.L2:case ne.L2_1:case ne.L2_2:case ne.L3:case ne.L3_1:case ne.L3_2:case ne.L4:case ne.L4_1:case ne.L4_2:case ne.L5:case ne.L5_1:case ne.L5_2:{o=n;break}default:{bs.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${n}]`);return}}for(const a of S$)if(i===a.profile_idc&&a.profile_iop.isMatch(s))return new Wd(a.profile,o);bs.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${i}, profile_iop:${s}]`)}Be.parseProfileLevelId=vC;function wC(e){if(e.level==ne.L1_b)switch(e.profile){case xe.ConstrainedBaseline:return"42f00b";case xe.Baseline:return"42100b";case xe.Main:return"4d100b";default:{bs.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`);return}}let t;switch(e.profile){case xe.ConstrainedBaseline:{t="42e0";break}case xe.Baseline:{t="4200";break}case xe.Main:{t="4d00";break}case xe.ConstrainedHigh:{t="640c";break}case xe.High:{t="6400";break}case xe.PredictiveHigh444:{t="f400";break}default:{bs.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`);return}}let r=e.level.toString(16);return r.length===1&&(r=`0${r}`),`${t}${r}`}Be.profileLevelIdToString=wC;function b$(e){switch(e){case xe.ConstrainedBaseline:return"ConstrainedBaseline";case xe.Baseline:return"Baseline";case xe.Main:return"Main";case xe.ConstrainedHigh:return"ConstrainedHigh";case xe.High:return"High";case xe.PredictiveHigh444:return"PredictiveHigh444";default:{bs.warn(`profileToString() | unrecognized profile ${e}`);return}}}Be.profileToString=b$;function R$(e){switch(e){case ne.L1_b:return"1b";case ne.L1:return"1";case ne.L1_1:return"1.1";case ne.L1_2:return"1.2";case ne.L1_3:return"1.3";case ne.L2:return"2";case ne.L2_1:return"2.1";case ne.L2_2:return"2.2";case ne.L3:return"3";case ne.L3_1:return"3.1";case ne.L3_2:return"3.2";case ne.L4:return"4";case ne.L4_1:return"4.1";case ne.L4_2:return"4.2";case ne.L5:return"5";case ne.L5_1:return"5.1";case ne.L5_2:return"5.2";default:{bs.warn(`levelToString() | unrecognized level ${e}`);return}}}Be.levelToString=R$;function sc(e={}){const t=e["profile-level-id"];return t?vC(t):_$}Be.parseSdpProfileLevelId=sc;function C$(e={},t={}){const r=sc(e),n=sc(t);return!!(r&&n&&r.profile===n.profile)}Be.isSameProfile=C$;function x$(e={},t={}){if(!e["profile-level-id"]&&!t["profile-level-id"]){bs.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const r=sc(e),n=sc(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!n)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==n.profile)throw new TypeError("H264 Profile mismatch");const s=l_(e)&&l_(t),i=r.level,o=n.level,a=T$(i,o),c=s?i:a;return bs.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${c}]`),wC(new Wd(r.profile,c))}Be.generateProfileLevelIdStringForAnswer=x$;function c_(e,t){return+(t[0]===e)<<7|+(t[1]===e)<<6|+(t[2]===e)<<5|+(t[3]===e)<<4|+(t[4]===e)<<3|+(t[5]===e)<<2|+(t[6]===e)<<1|+(t[7]===e)<<0}function E$(e,t){return e===ne.L1_b?t!==ne.L1&&t!==ne.L1_b:t===ne.L1_b?e!==ne.L1:e<t}function T$(e,t){return E$(e,t)?e:t}function l_(e={}){const t=e["level-asymmetry-allowed"];return t===!0||t===1||t==="1"}var P$=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),D$=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_C=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&P$(t,e,r);return D$(t,e),t};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.validateRtpCapabilities=N$;Ee.validateRtpParameters=vy;Ee.validateSctpStreamParameters=j$;Ee.validateSctpCapabilities=I$;Ee.getExtendedRtpCapabilities=$$;Ee.getRecvRtpCapabilities=A$;Ee.getSendingRtpParameters=F$;Ee.getSendingRemoteRtpParameters=B$;Ee.reduceCodecs=z$;Ee.generateProbatorRtpParameters=U$;Ee.canSend=V$;Ee.canReceive=H$;const u_=_C(Be),k$=_C(qe),O$="probator",L$=1234,M$=127;function N$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)W$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)q$(t)}function vy(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)K$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)G$(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)Y$(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),Q$(e.rtcp)}function j$(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}function I$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");X$(e.numStreams)}function $$(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(Oa(n))continue;const s=(e.codecs??[]).find(o=>bC(o,n,{strict:!0,modify:!0}));if(!s)continue;const i={mimeType:s.mimeType,kind:s.kind,clockRate:s.clockRate,channels:s.channels,localPayloadType:s.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:s.parameters,remoteParameters:n.parameters,rtcpFeedback:Z$(s,n)};r.codecs.push(i)}for(const n of r.codecs){const s=e.codecs.find(o=>Oa(o)&&o.parameters.apt===n.localPayloadType),i=t.codecs.find(o=>Oa(o)&&o.parameters.apt===n.remotePayloadType);s&&i&&(n.localRtxPayloadType=s.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const s=e.headerExtensions.find(o=>J$(o,n));if(!s)continue;const i={kind:n.kind,uri:n.uri,sendId:s.preferredId,recvId:n.preferredId,encrypt:s.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":{i.direction="sendrecv";break}case"recvonly":{i.direction="sendonly";break}case"sendonly":{i.direction="recvonly";break}case"inactive":{i.direction="inactive";break}}r.headerExtensions.push(i)}return r}function A$(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const n={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(n),!r.remoteRtxPayloadType)continue;const s={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(s)}for(const r of e.headerExtensions){if(r.direction!=="sendrecv"&&r.direction!=="recvonly")continue;const n={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(n)}return t}function F$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}return r}function B$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}if(r.headerExtensions.some(n=>n.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="goog-remb");else if(r.headerExtensions.some(n=>n.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc");else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc"&&s.type!=="goog-remb");return r}function z$(e,t){const r=[];if(!t)r.push(e[0]),Oa(e[1])&&r.push(e[1]);else{for(let n=0;n<e.length;++n)if(bC(e[n],t,{strict:!0})){r.push(e[n]),Oa(e[n+1])&&r.push(e[n+1]);break}if(r.length===0)throw new TypeError("no matching codec found")}return r}function U$(e){e=k$.clone(e),vy(e);const t={mid:O$,codecs:[],headerExtensions:[],encodings:[{ssrc:L$}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=M$,t.headerExtensions=e.headerExtensions,t}function V$(e,t){return t.codecs.some(r=>r.kind===e)}function H$(e,t){if(vy(e),e.codecs.length===0)return!1;const r=e.codecs[0];return t.codecs.some(n=>n.remotePayloadType===r.payloadType)}function W$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const n of Object.keys(e.parameters)){let s=e.parameters[n];if(s===void 0&&(e.parameters[n]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${n}s, value:${s}]`);if(n==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)SC(n)}function SC(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}function q$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function K$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");r[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const s of Object.keys(e.parameters)){let i=e.parameters[s];if(i===void 0&&(e.parameters[s]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${s}s, value:${i}]`);if(s==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const s of e.rtcpFeedback)SC(s)}function G$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(r===void 0&&(e.parameters[t]="",r=""),typeof r!="string"&&typeof r!="number")throw new TypeError("invalid header extension parameter")}}function Y$(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function Q$(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}function X$(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}function Oa(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function bC(e,t,{strict:r=!1,modify:n=!1}={}){const s=e.mimeType.toLowerCase(),i=t.mimeType.toLowerCase();if(s!==i||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(s){case"video/h264":{if(r){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!u_.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=u_.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch{return!1}n&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(r){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function J$(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function Z$(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const s=(t.rtcpFeedback??[]).find(i=>i.type===n.type&&(i.parameter===n.parameter||!i.parameter&&!n.parameter));s&&r.push(s)}return r}var bc={},hs={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.Logger=void 0;const xi=Ud,Ei="awaitqueue";class eA{constructor(t){t?(this._debug=(0,xi.default)(`${Ei}:${t}`),this._warn=(0,xi.default)(`${Ei}:WARN:${t}`),this._error=(0,xi.default)(`${Ei}:ERROR:${t}`)):(this._debug=(0,xi.default)(Ei),this._warn=(0,xi.default)(`${Ei}:WARN`),this._error=(0,xi.default)(`${Ei}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}qd.Logger=eA;Object.defineProperty(hs,"__esModule",{value:!0});hs.AwaitQueue=hs.AwaitQueueRemovedTaskError=hs.AwaitQueueStoppedError=void 0;const tA=qd,Wn=new tA.Logger;class Kd extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kd)}}hs.AwaitQueueStoppedError=Kd;class Gd extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gd)}}hs.AwaitQueueRemovedTaskError=Gd;class rA{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,r){if(r=r??t.name,Wn.debug(`push() [name:${r}]`),typeof t!="function")throw new TypeError("given task is not a function");if(r)try{Object.defineProperty(t,"name",{value:r})}catch{}return new Promise((n,s)=>{const i={id:this.nextTaskId++,task:t,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),Wn.debug(`resolving task [name:${i.name}]`),n(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),Wn.debug(`rejecting task [name:${i.name}]: %s`,String(o)),s(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(i.id,i),this.pendingTasks.size===1&&this.execute(i)})}stop(){Wn.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())Wn.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new Kd);this.stopping=!1}remove(t){Wn.debug(`remove() [taskIdx:${t}]`);const r=Array.from(this.pendingTasks.values())[t];if(!r){Wn.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}r.reject(new Gd)}dump(){const t=Date.now();let r=0;return Array.from(this.pendingTasks.values()).map(n=>({idx:r++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt-n.enqueuedAt:t-n.enqueuedAt,executionTime:n.executedAt?t-n.executedAt:0}))}async execute(t){if(Wn.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const r=await t.task();t.resolve(r)}catch(r){t.reject(r)}}}hs.AwaitQueue=rA;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d_;var nA=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:P):e=>(d_||(d_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.Producer=void 0;const sA=Ae,f_=hn,Ti=Je,qr=new sA.Logger("Producer");class iA extends f_.EnhancedEventEmitter{constructor({id:t,localId:r,rtpSender:n,track:s,rtpParameters:i,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new f_.EnhancedEventEmitter,qr.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=s,this._kind=s.kind,this._rtpParameters=i,this._paused=a?!s.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(qr.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(qr.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new Ti.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(qr.debug("pause()"),this._closed){qr.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@pause",t,r)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(qr.debug("resume()"),this._closed){qr.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@resume",t,r)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(qr.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new Ti.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new Ti.InvalidStateError("track ended");if(t===this._track){qr.debug("replaceTrack() | same track, ignored");return}await new Promise((r,n)=>{this.safeEmit("@replacetrack",t,r,n)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new Ti.InvalidStateError("closed");if(this._kind!=="video")throw new Ti.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((r,n)=>{this.safeEmit("@setmaxspatiallayer",t,r,n)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new Ti.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((r,n)=>{this.safeEmit("@setrtpencodingparameters",t,r,n)})}onTrackEnded(){qr.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Rc.Producer=iA;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.Consumer=void 0;const oA=Ae,p_=hn,aA=Je,Kr=new oA.Logger("Consumer");class cA extends p_.EnhancedEventEmitter{constructor({id:t,localId:r,producerId:n,rtpReceiver:s,track:i,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new p_.EnhancedEventEmitter,Kr.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=s,this._track=i,this._rtpParameters=o,this._paused=!i.enabled,this._appData=a??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Kr.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Kr.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new aA.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(Kr.debug("pause()"),this._closed){Kr.error("pause() | Consumer closed");return}if(this._paused){Kr.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(Kr.debug("resume()"),this._closed){Kr.error("resume() | Consumer closed");return}if(!this._paused){Kr.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){Kr.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Cc.Consumer=cA;var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.DataProducer=void 0;const lA=Ae,h_=hn,uA=Je,Sn=new lA.Logger("DataProducer");class dA extends h_.EnhancedEventEmitter{constructor({id:t,dataChannel:r,sctpStreamParameters:n,appData:s}){super(),this._closed=!1,this._observer=new h_.EnhancedEventEmitter,Sn.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=s??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Sn.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Sn.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Sn.debug("send()"),this._closed)throw new uA.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Sn.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Sn.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Sn.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Sn.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Sn.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}xc.DataProducer=dA;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.DataConsumer=void 0;const fA=Ae,m_=hn,Ms=new fA.Logger("DataConsumer");class pA extends m_.EnhancedEventEmitter{constructor({id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:s,appData:i}){super(),this._closed=!1,this._observer=new m_.EnhancedEventEmitter,Ms.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=s,this._appData=i??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Ms.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Ms.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Ms.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Ms.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Ms.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Ms.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}Ec.DataConsumer=pA;var hA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RC=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hA(t,e,r);return mA(t,e),t},gA=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bc,"__esModule",{value:!0});bc.Transport=void 0;const yA=hs,pp=gA(nA),vA=Ae,g_=hn,et=Je,hp=RC(qe),oa=RC(Ee),wA=Rc,_A=Cc,SA=xc,bA=Ec,Ke=new vA.Logger("Transport");class RA{constructor(t){this.consumerOptions=t,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}let CA=class extends g_.EnhancedEventEmitter{constructor({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:f,extendedRtpCapabilities:p,canProduceByKind:h}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new yA.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new g_.EnhancedEventEmitter,Ke.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=p,this._canProduceByKind=h,this._maxSctpMessageSize=o?o.maxMessageSize:null;const m=hp.clone(l)??{};delete m.iceServers,delete m.iceTransportPolicy,delete m.bundlePolicy,delete m.rtcpMuxPolicy,delete m.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:m,proprietaryConstraints:u,extendedRtpCapabilities:p}),this._appData=d??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){Ke.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new et.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(Ke.debug("restartIce()"),this._closed)throw new et.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(Ke.debug("updateIceServers()"),this._closed)throw new et.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:r,codecOptions:n,codec:s,stopTracks:i=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,onRtpSender:c,appData:l={}}={}){if(Ke.debug("produce() [track:%o]",t),this._closed)throw new et.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new et.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new et.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(l&&typeof l!="object")throw new TypeError("if given, appData must be an object")}else throw new et.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let u;if(r&&!Array.isArray(r))throw TypeError("encodings must be an array");r&&r.length===0?u=void 0:r&&(u=r.map(h=>{const m={active:!0};return h.active===!1&&(m.active=!1),typeof h.dtx=="boolean"&&(m.dtx=h.dtx),typeof h.scalabilityMode=="string"&&(m.scalabilityMode=h.scalabilityMode),typeof h.scaleResolutionDownBy=="number"&&(m.scaleResolutionDownBy=h.scaleResolutionDownBy),typeof h.maxBitrate=="number"&&(m.maxBitrate=h.maxBitrate),typeof h.maxFramerate=="number"&&(m.maxFramerate=h.maxFramerate),typeof h.adaptivePtime=="boolean"&&(m.adaptivePtime=h.adaptivePtime),typeof h.priority=="string"&&(m.priority=h.priority),typeof h.networkPriority=="string"&&(m.networkPriority=h.networkPriority),m}));const{localId:d,rtpParameters:f,rtpSender:p}=await this._handler.send({track:t,encodings:u,codecOptions:n,codec:s,onRtpSender:c});try{oa.validateRtpParameters(f);const{id:h}=await new Promise((g,v)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:f,appData:l},g,v)}),m=new wA.Producer({id:h,localId:d,rtpSender:p,track:t,rtpParameters:f,stopTracks:i,disableTrackOnPause:o,zeroRtpOnPause:a,appData:l});return this._producers.set(m.id,m),this.handleProducer(m),this._observer.safeEmit("newproducer",m),m}catch(h){throw this._handler.stopSending(d).catch(()=>{}),h}},"transport.produce()").catch(u=>{if(i)try{t.stop()}catch{}throw u})}async consume({id:t,producerId:r,kind:n,rtpParameters:s,streamId:i,onRtpReceiver:o,appData:a={}}){if(Ke.debug("consume()"),this._closed)throw new et.InvalidStateError("closed");if(this._direction!=="recv")throw new et.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing producerId");if(n!=="audio"&&n!=="video")throw new TypeError(`invalid kind '${n}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object");const c=hp.clone(s);if(!oa.canReceive(c,this._extendedRtpCapabilities))throw new et.UnsupportedError("cannot consume this Producer");const u=new RA({id:t,producerId:r,kind:n,rtpParameters:c,streamId:i,onRtpReceiver:o,appData:a});return this._pendingConsumerTasks.push(u),(0,pp.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),u.promise}async produceData({ordered:t=!0,maxPacketLifeTime:r,maxRetransmits:n,label:s="",protocol:i="",appData:o={}}={}){if(Ke.debug("produceData()"),this._closed)throw new et.InvalidStateError("closed");if(this._direction!=="send")throw new et.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new et.UnsupportedError("SCTP not enabled by remote Transport");return(r||n)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i});oa.validateSctpStreamParameters(c);const{id:l}=await new Promise((d,f)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:s,protocol:i,appData:o},d,f)}),u=new SA.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(u.id,u),this.handleDataProducer(u),this._observer.safeEmit("newdataproducer",u),u},"transport.produceData()")}async consumeData({id:t,dataProducerId:r,sctpStreamParameters:n,label:s="",protocol:i="",appData:o={}}){if(Ke.debug("consumeData()"),this._closed)throw new et.InvalidStateError("closed");if(this._direction!=="recv")throw new et.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new et.UnsupportedError("SCTP not enabled by remote Transport");const a=hp.clone(n);return oa.validateSctpStreamParameters(a),this._awaitQueue.push(async()=>{const{dataChannel:c}=await this._handler.receiveDataChannel({sctpStreamParameters:a,label:s,protocol:i}),l=new bA.DataConsumer({id:t,dataProducerId:r,dataChannel:c,sctpStreamParameters:a,appData:o});return this._dataConsumers.set(l.id,l),this.handleDataConsumer(l),this._observer.safeEmit("newdataconsumer",l),l},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){Ke.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let r;const n=[];for(const s of t){const{id:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l}=s.consumerOptions;n.push({trackId:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l})}try{const s=await this._handler.receive(n);for(let i=0;i<s.length;++i){const o=t[i],a=s[i],{id:c,producerId:l,kind:u,rtpParameters:d,appData:f}=o.consumerOptions,{localId:p,rtpReceiver:h,track:m}=a,g=new _A.Consumer({id:c,localId:p,producerId:l,rtpReceiver:h,track:m,rtpParameters:d,appData:f});this._consumers.set(g.id,g),this.handleConsumer(g),!this._probatorConsumerCreated&&!r&&u==="video"&&(r=g),this._observer.safeEmit("newconsumer",g),o.resolve(g)}}catch(s){for(const i of t)i.reject(s)}if(r)try{const s=oa.generateProbatorRtpParameters(r.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:s}]),Ke.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(s){Ke.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",s)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){Ke.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.pauseReceiving(r)}catch(r){Ke.error("pausePendingConsumers() | failed to pause Consumers:",r)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){Ke.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.resumeReceiving(r)}catch(r){Ke.error("resumePendingConsumers() | failed to resume Consumers:",r)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){Ke.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(r=>r.localId))}catch(r){Ke.error("closePendingConsumers() | failed to close Consumers:",r)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:r},n,s)=>{if(this._closed){s(new et.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:r},n,s)}),t.on("@icegatheringstatechange",r=>{r!==this._iceGatheringState&&(Ke.debug("ICE gathering state changed to %s",r),this._iceGatheringState=r,this._closed||this.safeEmit("icegatheringstatechange",r))}),t.on("@connectionstatechange",r=>{r!==this._connectionState&&(Ke.debug("connection state changed to %s",r),this._connectionState=r,this._closed||this.safeEmit("connectionstatechange",r))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(r=>Ke.warn("producer.close() failed:%o",r))}),t.on("@pause",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(r).catch(n)}),t.on("@resume",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(r).catch(n)}),t.on("@replacetrack",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,r),"producer @replacetrack event").then(n).catch(s)}),t.on("@setmaxspatiallayer",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,r),"producer @setmaxspatiallayer event").then(n).catch(s)}),t.on("@setrtpencodingparameters",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,r),"producer @setrtpencodingparameters event").then(n).catch(s)}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new et.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(r).catch(n)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,pp.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,pp.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new et.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(r).catch(n)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}};bc.Transport=CA;var Yd={},Ve={},CC={},xC={exports:{}},y_=xC.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(y_).forEach(function(e){var t=y_[e];t.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});var EC=xC.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},r=function(a,c,l,u){if(u&&!l)c[u]=t(a[1]);else for(var d=0;d<l.length;d+=1)a[d+1]!=null&&(c[l[d]]=t(a[d+1]))},n=function(a,c,l){var u=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:u&&!c[a.name]&&(c[a.name]={});var d=a.push?{}:u?c[a.name]:c;r(l.match(a.reg),d,a.names,a.name),a.push&&c[a.push].push(d)},s=EC,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],u=c;return a.split(/(\r\n|\r|\n)/).filter(i).forEach(function(d){var f=d[0],p=d.slice(2);f==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var h=0;h<(s[f]||[]).length;h+=1){var m=s[f][h];if(m.reg.test(p))return n(m,u,p)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var u,d=!1;return l[0]!=="~"?u=t(l):(u=t(l.substring(1,l.length)),d=!0),{scid:u,paused:d}})})}})(CC);var mp=EC,xA=/%[sdv%]/g,EA=function(e){var t=1,r=arguments,n=r.length;return e.replace(xA,function(s){if(t>=n)return s;var i=r[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},aa=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,s=[e+"="+n];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?s.push(r[t.name][o]):s.push(r[t.names[i]])}else s.push(r[t.name]);return EA.apply(null,s)},TA=["v","o","s","i","u","e","p","c","b","t","r","z","a"],PA=["i","c","b","a"],DA=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(i){i.payloads==null&&(i.payloads="")});var r=t.outerOrder||TA,n=t.innerOrder||PA,s=[];return r.forEach(function(i){mp[i].forEach(function(o){o.name in e&&e[o.name]!=null?s.push(aa(i,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){s.push(aa(i,o,a))})})}),e.media.forEach(function(i){s.push(aa("m",mp.m[0],i)),n.forEach(function(o){mp[o].forEach(function(a){a.name in i&&i[a.name]!=null?s.push(aa(o,a,i)):a.push in i&&i[a.push]!=null&&i[a.push].forEach(function(c){s.push(aa(o,a,c))})})})}),s.join(`\r
`)+`\r
`},fi=CC,kA=DA;Ve.write=kA;Ve.parse=fi.parse;Ve.parseParams=fi.parseParams;Ve.parseFmtpConfig=fi.parseFmtpConfig;Ve.parsePayloads=fi.parsePayloads;Ve.parseRemoteCandidates=fi.parseRemoteCandidates;Ve.parseImageAttributes=fi.parseImageAttributes;Ve.parseSimulcastStreamList=fi.parseSimulcastStreamList;var bt={},OA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MA=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OA(t,e,r);return LA(t,e),t};Object.defineProperty(bt,"__esModule",{value:!0});bt.extractRtpCapabilities=NA;bt.extractDtlsParameters=jA;bt.getCname=IA;bt.applyCodecParameters=$A;const TC=MA(Ve);function NA({sdpObject:e}){const t=new Map,r=[];let n=!1,s=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(n)continue;n=!0;break}case"video":{if(s)continue;s=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=TC.parseParams(c.config),u=t.get(c.payload);u&&(l!=null&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),u.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const u=t.get(c.payload);if(!u)continue;u.rtcpFeedback.push(l)}else for(const u of t.values())u.kind===a&&!/.+\/rtx$/i.test(u.mimeType)&&u.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};r.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:r}}function jA({sdpObject:e}){let t=e.setup,r=e.fingerprint;if(!t||!r){const i=(e.media||[]).find(o=>o.port!==0);i&&(t??(t=i.setup),r??(r=i.fingerprint))}if(t){if(!r)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let n;switch(t){case"active":{n="client";break}case"passive":{n="server";break}case"actpass":{n="auto";break}}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}}function IA({offerMediaObject:e}){const t=(e.ssrcs||[]).find(r=>r.attribute==="cname");return t?t.value:""}function $A({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const n=r.mimeType.toLowerCase();if(n!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let i=t.fmtp.find(a=>a.payload===r.payloadType);i||(i={payload:r.payloadType,config:""},t.fmtp.push(i));const o=TC.parseParams(i.config);switch(n){case"audio/opus":{const a=r.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}i.config="";for(const a of Object.keys(o))i.config&&(i.config+=";"),i.config+=`${a}=${o[a]}`}}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.getRtpEncodings=AA;mn.addLegacySimulcast=FA;function AA({offerMediaObject:e}){const t=new Set;for(const s of e.ssrcs||[]){const i=s.id;t.add(i)}if(t.size===0)throw new Error("no a=ssrc lines found");const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[i,o]=s.ssrcs.split(/\s+/);i=Number(i),o=Number(o),t.has(i)&&(t.delete(i),t.delete(o),r.set(i,o))}for(const s of t)r.set(s,null);const n=[];for(const[s,i]of r){const o={ssrc:s};i&&(o.rtx={ssrc:i}),n.push(o)}return n}function FA({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const r=(e.ssrcs||[]).find(d=>d.attribute==="msid");if(!r)throw new Error("a=ssrc line with msid information not found");const[n,s]=r.value.split(" "),i=Number(r.id);let o;(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const f=d.ssrcs.split(/\s+/);return Number(f[0])===i?(o=Number(f[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],u=[];for(let d=0;d<t;++d)l.push(i+d),o&&u.push(o+d);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const d of l)e.ssrcs.push({id:d,attribute:"cname",value:c}),e.ssrcs.push({id:d,attribute:"msid",value:`${n} ${s}`});for(let d=0;d<u.length;++d){const f=l[d],p=u[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${n} ${s}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.addNackSuppportForOpus=BA;function BA(e){var t;for(const r of e.codecs??[])(r.mimeType.toLowerCase()==="audio/opus"||r.mimeType.toLowerCase()==="audio/multiopus")&&!((t=r.rtcpFeedback)!=null&&t.some(n=>n.type==="nack"&&!n.parameter))&&(r.rtcpFeedback||(r.rtcpFeedback=[]),r.rtcpFeedback.push({type:"nack"}))}var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.HandlerInterface=void 0;const zA=hn;class UA extends zA.EnhancedEventEmitter{constructor(){super()}}Rt.HandlerInterface=UA;var Ht={},ms={},VA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PC=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VA(t,e,r);return HA(t,e),t};Object.defineProperty(ms,"__esModule",{value:!0});ms.OfferMediaSection=ms.AnswerMediaSection=ms.MediaSection=void 0;const WA=PC(Ve),v_=PC(qe);class wy{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:s=!1}){if(this._mediaObject={},this._planB=s,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const i of r){const o={};o.component=1,o.foundation=i.foundation,o.ip=i.address??i.ip,o.port=i.port,o.priority=i.priority,o.transport=i.protocol,o.type=i.type,i.tcpType&&(o.tcptype=i.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}ms.MediaSection=wy;class qA extends wy{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:u,extmapAllowMixed:d=!1}){switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const f of l.codecs){const p={payload:f.payloadType,codec:Qh(f),rate:f.clockRate};f.channels>1&&(p.encoding=f.channels),this._mediaObject.rtp.push(p);const h=v_.clone(f.parameters)??{};let m=v_.clone(f.rtcpFeedback)??[];if(u){const{opusStereo:v,opusFec:_,opusDtx:w,opusMaxPlaybackRate:b,opusMaxAverageBitrate:C,opusPtime:R,opusNack:E,videoGoogleStartBitrate:x,videoGoogleMaxBitrate:k,videoGoogleMinBitrate:L}=u,z=c.codecs.find(U=>U.payloadType===f.payloadType);switch(f.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{v!==void 0&&(z.parameters["sprop-stereo"]=v?1:0,h.stereo=v?1:0),_!==void 0&&(z.parameters.useinbandfec=_?1:0,h.useinbandfec=_?1:0),w!==void 0&&(z.parameters.usedtx=w?1:0,h.usedtx=w?1:0),b!==void 0&&(h.maxplaybackrate=b),C!==void 0&&(h.maxaveragebitrate=C),R!==void 0&&(z.parameters.ptime=R,h.ptime=R),E||(z.rtcpFeedback=z.rtcpFeedback.filter(U=>U.type!=="nack"||U.parameter),m=m.filter(U=>U.type!=="nack"||U.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{x!==void 0&&(h["x-google-start-bitrate"]=x),k!==void 0&&(h["x-google-max-bitrate"]=k),L!==void 0&&(h["x-google-min-bitrate"]=L);break}}}const g={payload:f.payloadType,config:""};for(const v of Object.keys(h))g.config&&(g.config+=";"),g.config+=`${v}=${h[v]}`;g.config&&this._mediaObject.fmtp.push(g);for(const v of m)this._mediaObject.rtcpFb.push({payload:f.payloadType,type:v.type,subtype:v.parameter})}this._mediaObject.payloads=l.codecs.map(f=>f.payloadType).join(" "),this._mediaObject.ext=[];for(const f of l.headerExtensions)(a.ext??[]).some(h=>h.uri===f.uri)&&this._mediaObject.ext.push({uri:f.uri,value:f.id});if(d&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var i,o;if(!((i=this._mediaObject.simulcast)!=null&&i.list1))return;const r={};for(const a of t)a.rid&&(r[a.rid]=a);const n=this._mediaObject.simulcast.list1,s=WA.parseSimulcastStreamList(n);for(const a of s)for(const c of a)c.paused=!((o=r[c.scid])!=null&&o.active);this._mediaObject.simulcast.list1=s.map(a=>a.map(c=>`${c.paused?"~":""}${c.scid}`).join(",")).join(";")}}ms.AnswerMediaSection=qA;class KA extends wy{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:u,trackId:d,oldDataChannelSpec:f=!1}){var p;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},s?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u??"-"} ${d}`);for(const v of l.codecs){const _={payload:v.payloadType,codec:Qh(v),rate:v.clockRate};v.channels>1&&(_.encoding=v.channels),this._mediaObject.rtp.push(_);const w={payload:v.payloadType,config:""};for(const b of Object.keys(v.parameters))w.config&&(w.config+=";"),w.config+=`${b}=${v.parameters[b]}`;w.config&&this._mediaObject.fmtp.push(w);for(const b of v.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:v.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads=l.codecs.map(v=>v.payloadType).join(" "),this._mediaObject.ext=[];for(const v of l.headerExtensions)this._mediaObject.ext.push({uri:v.uri,value:v.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const h=l.encodings[0],m=h.ssrc,g=(p=h.rtx)==null?void 0:p.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:m,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:m,attribute:"msid",value:`${u??"-"} ${d}`}),g&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:g,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:g,attribute:"msid",value:`${u??"-"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${m} ${g}`}));break}case"application":{f?(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:r,trackId:n}){var c;const s=t.encodings[0],i=s.ssrc,o=(c=s.rtx)==null?void 0:c.ssrc,a=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(a.includes(String(l.payloadType)))continue;const u={payload:l.payloadType,codec:Qh(l),rate:l.clockRate};l.channels>1&&(u.encoding=l.channels),this._mediaObject.rtp.push(u);const d={payload:l.payloadType,config:""};for(const f of Object.keys(l.parameters))d.config&&(d.config+=";"),d.config+=`${f}=${l.parameters[f]}`;d.config&&this._mediaObject.fmtp.push(d);for(const f of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(l=>!this._mediaObject.payloads.includes(l.payloadType)).map(l=>l.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){var i;const r=t.encodings[0],n=r.ssrc,s=(i=r.rtx)==null?void 0:i.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==n&&o.id!==s),s&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${n} ${s}`))}}ms.OfferMediaSection=KA;function Qh(e){const r=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");return r[2]}var GA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QA=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GA(t,e,r);return YA(t,e),t};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.RemoteSdp=void 0;const XA=QA(Ve),JA=Ae,ol=ms,gp=new JA.Logger("RemoteSdp");class ZA{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=s,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t!=null&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[a-1].algorithm,hash:n.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(t){gp.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const r of this._mediaSections)r.setIceParameters(t)}updateDtlsRole(t){gp.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const r of this._mediaSections)r.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const r=this._mediaSections[t];if(r.closed)return{idx:t,reuseMid:r.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o=!1}){const a=new ol.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o});r?this._replaceMediaSection(a,r):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:n,streamId:s,trackId:i}),this._replaceMediaSection(a);else{a=new ol.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const r=this._findMediaSection(t);return t===this._firstMid?(gp.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(r.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,r){const n=this._findMediaSection(t);n.muxSimulcastStreams(r),this._replaceMediaSection(n)}planBStopReceiving({mid:t,offerRtpParameters:r}){const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:t}){const r=new ol.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const r=new ol.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}getSdp(){return this._sdpObject.origin.sessionVersion++,XA.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,r){if(typeof r=="string"){const n=this._midToIndex.get(r);if(n===void 0)throw new Error(`no media section found for reuseMid '${r}'`);const s=this._mediaSections[n];this._mediaSections[n]=t,this._midToIndex.delete(s.mid),this._midToIndex.set(t.mid,n),this._sdpObject.media[n]=t.getObject(),this._regenerateBundleMids()}else{const n=this._midToIndex.get(t.mid);if(n===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[n]=t,this._sdpObject.media[n]=t.getObject()}}_findMediaSection(t){const r=this._midToIndex.get(t);if(r===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[r]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Ht.RemoteSdp=ZA;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.parse=t3;const e3=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t3(e){const t=e3.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}var r3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r3(t,e,r);return n3(t,e),t};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.Chrome111=void 0;const qn=zo(Ve),s3=Ae,w_=zo(qe),Pi=zo(Ee),al=zo(bt),__=zo(mn),i3=zo(Bo),o3=Je,a3=Rt,c3=Ht,l3=gn,Z=new s3.Logger("Chrome111"),u3="Chrome111",S_={OS:1024,MIS:1024};class _y extends a3.HandlerInterface{static createFactory(){return()=>new _y}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return u3}close(){if(Z.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Z.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=qn.parse(r.sdp),s=al.extractRtpCapabilities({sdpObject:n});return i3.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Z.debug("getNativeSctpCapabilities()"),{numStreams:S_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),Z.debug("run()"),this._direction=t,this._remoteSdp=new c3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Pi.getSendingRtpParameters("audio",u),video:Pi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Pi.getSendingRemoteRtpParameters("audio",u),video:Pi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Z.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Z.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Z.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Z.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){if(this.assertNotClosed(),this.assertSendDirection(),Z.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let m=1;for(const g of r){const v=g.scalabilityMode?(0,l3.parse)(g.scalabilityMode).temporalLayers:3;v>m&&(m=v)}r.forEach((g,v)=>{g.rid=`r${v}`,g.scalabilityMode=`L1T${m}`})}const o=w_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Pi.reduceCodecs(o.codecs,s);const a=w_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Pi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);const u=await this._pc.createOffer();let d=qn.parse(u.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Z.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f=l.mid;o.mid=f,d=qn.parse(this._pc.localDescription.sdp);const p=d.media[c.idx];if(o.rtcp.cname=al.getCname({offerMediaObject:p}),!r)o.encodings=__.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const m=__.getRtpEncodings({offerMediaObject:p});Object.assign(m[0],r[0]),o.encodings=m}else o.encodings=r;this._remoteSdp.send({offerMediaObject:p,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return Z.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(f,l),{localId:f,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),Z.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Z.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Z.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Z.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Z.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Z.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Z.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=qn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Z.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Z.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=qn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);al.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:qn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Z.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Z.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Z.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=qn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=qn.parse(this._pc.localDescription.sdp));const n=al.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new o3.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Yd.Chrome111=_y;var Qd={},d3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d3(t,e,r);return f3(t,e),t};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Chrome74=void 0;const Gr=Uo(Ve),p3=Ae,b_=Uo(qe),Di=Uo(Ee),cl=Uo(bt),yp=Uo(mn),h3=Uo(Bo),m3=Je,g3=Rt,y3=Ht,v3=gn,X=new p3.Logger("Chrome74"),w3="Chrome74",R_={OS:1024,MIS:1024};class Sy extends g3.HandlerInterface{static createFactory(){return()=>new Sy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w3}close(){if(X.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){X.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=Gr.parse(r.sdp),s=cl.extractRtpCapabilities({sdpObject:n});return h3.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return X.debug("getNativeSctpCapabilities()"),{numStreams:R_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){X.debug("run()"),this._direction=t,this._remoteSdp=new y3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Di.getSendingRtpParameters("audio",u),video:Di.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Di.getSendingRemoteRtpParameters("audio",u),video:Di.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(X.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),X.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),X.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});X.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),X.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const i=b_.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Di.reduceCodecs(i.codecs,s);const o=b_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Di.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let l=await this._pc.createOffer(),u=Gr.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let f=!1;const p=(0,v3.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(X.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,u=Gr.parse(l.sdp),d=u.media[a.idx],yp.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),l={type:"offer",sdp:Gr.write(u)}),X.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const h=c.mid;if(i.mid=h,u=Gr.parse(this._pc.localDescription.sdp),d=u.media[a.idx],i.rtcp.cname=cl.getCname({offerMediaObject:d}),!r)i.encodings=yp.getRtpEncodings({offerMediaObject:d});else if(r.length===1){let g=yp.getRtpEncodings({offerMediaObject:d});Object.assign(g[0],r[0]),f&&(g=[g[0]]),i.encodings=g}else i.encodings=r;if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of i.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${p.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return X.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),X.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();X.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();X.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();X.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?X.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):X.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};X.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Gr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),X.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;X.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=Gr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);cl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:Gr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),X.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){X.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};X.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Gr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Gr.parse(this._pc.localDescription.sdp));const n=cl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m3.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Qd.Chrome74=Sy;var Xd={},_3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Tc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_3(t,e,r);return S3(t,e),t};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.Chrome70=void 0;const ir=Tc(Ve),b3=Ae,C_=Tc(qe),ki=Tc(Ee),ll=Tc(bt),vp=Tc(mn),R3=Rt,C3=Ht,x3=gn,ie=new b3.Logger("Chrome70"),E3="Chrome70",x_={OS:1024,MIS:1024};class by extends R3.HandlerInterface{static createFactory(){return()=>new by}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E3}close(){if(ie.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ie.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=ir.parse(r.sdp);return ll.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ie.debug("getNativeSctpCapabilities()"),{numStreams:x_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ie.debug("run()"),this._direction=t,this._remoteSdp=new C3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:ki.getSendingRtpParameters("audio",u),video:ki.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ki.getSendingRemoteRtpParameters("audio",u),video:ki.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ie.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ie.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ie.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ie.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ie.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ie.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const i=C_.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=ki.reduceCodecs(i.codecs,s);const o=C_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=ki.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),u=ir.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),r&&r.length>1&&(ie.debug("send() | enabling legacy simulcast"),u=ir.parse(l.sdp),d=u.media[a.idx],vp.addLegacySimulcast({offerMediaObject:d,numStreams:r.length}),l={type:"offer",sdp:ir.write(u)});let f=!1;const p=(0,x3.parse)((r??[{}])[0].scalabilityMode);if(r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(ie.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,u=ir.parse(l.sdp),d=u.media[a.idx],vp.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),l={type:"offer",sdp:ir.write(u)}),ie.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),r){ie.debug("send() | applying given encodings");const g=c.sender.getParameters();for(let v=0;v<(g.encodings??[]).length;++v){const _=g.encodings[v],w=r[v];if(!w)break;g.encodings[v]=Object.assign(_,w)}await c.sender.setParameters(g)}const h=c.mid;if(i.mid=h,u=ir.parse(this._pc.localDescription.sdp),d=u.media[a.idx],i.rtcp.cname=ll.getCname({offerMediaObject:d}),i.encodings=vp.getRtpEncodings({offerMediaObject:d}),r)for(let g=0;g<i.encodings.length;++g)r[g]&&Object.assign(i.encodings[g],r[g]);if(f&&(i.encodings=[i.encodings[0]]),i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of i.encodings)g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return ie.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),ie.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();ie.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?ie.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ie.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),ie.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ie.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),ie.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ie.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ie.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=ir.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ie.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;ie.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=ir.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);ll.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:ir.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ie.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ie.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ie.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ie.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=ir.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ir.parse(this._pc.localDescription.sdp));const n=ll.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Xd.Chrome70=by;var Jd={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.getRtpEncodings=T3;pi.addLegacySimulcast=P3;function T3({offerMediaObject:e,track:t}){const r=new Set;for(const i of e.ssrcs||[]){if(i.attribute!=="msid")continue;if(i.value.split(" ")[1]===t.id){const a=i.id;r.add(a)}}if(r.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,a]=i.ssrcs.split(/\s+/);o=Number(o),a=Number(a),r.has(o)&&(r.delete(o),r.delete(a),n.set(o,a))}for(const i of r)n.set(i,null);const s=[];for(const[i,o]of n){const a={ssrc:i};o&&(a.rtx={ssrc:o}),s.push(a)}return s}function P3({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError("numStreams must be greater than 1");let n,s,i;if(!(e.ssrcs||[]).find(d=>d.attribute!=="msid"?!1:d.value.split(" ")[1]===t.id?(n=d.id,i=d.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const f=d.ssrcs.split(/\s+/);return Number(f[0])===n?(s=Number(f[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname"&&d.id===n);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],u=[];for(let d=0;d<r;++d)l.push(n+d),s&&u.push(s+d);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const d of l)e.ssrcs.push({id:d,attribute:"cname",value:c}),e.ssrcs.push({id:d,attribute:"msid",value:`${i} ${t.id}`});for(let d=0;d<u.length;++d){const f=l[d],p=u[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${i} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var D3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),k3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&D3(t,e,r);return k3(t,e),t};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.Chrome67=void 0;const Yr=Pc(Ve),O3=Ae,E_=Pc(qe),Oi=Pc(Ee),ul=Pc(bt),T_=Pc(pi),L3=Rt,M3=Ht,ue=new O3.Logger("Chrome67"),N3="Chrome67",P_={OS:1024,MIS:1024};class Ry extends L3.HandlerInterface{static createFactory(){return()=>new Ry}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return N3}close(){if(ue.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ue.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=Yr.parse(r.sdp);return ul.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ue.debug("getNativeSctpCapabilities()"),{numStreams:P_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ue.debug("run()"),this._direction=t,this._remoteSdp=new M3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Oi.getSendingRtpParameters("audio",u),video:Oi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Oi.getSendingRemoteRtpParameters("audio",u),video:Oi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ue.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ue.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ue.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ue.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ue.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ue.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=Yr.parse(i.sdp),a;const c=E_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Oi.reduceCodecs(c.codecs);const l=E_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Oi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ue.debug("send() | enabling simulcast"),o=Yr.parse(i.sdp),a=o.media.find(p=>p.type==="video"),T_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:Yr.write(o)}),ue.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=Yr.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=ul.getCname({offerMediaObject:a}),c.encodings=T_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(d,f),{localId:d,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection(),ue.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();ue.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ue.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?ue.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ue.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),ue.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),ue.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ue.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%P_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Yr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ue.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;ue.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=Yr.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);ul.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:Yr.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ue.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=c,d=a,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===u);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l,rtpReceiver:f}),r.push({localId:u,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ue.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ue.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Yr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Yr.parse(this._pc.localDescription.sdp));const n=ul.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Jd.Chrome67=Ry;var Zd={},j3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Dc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j3(t,e,r);return I3(t,e),t};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.Chrome55=void 0;const Qr=Dc(Ve),$3=Ae,ca=Je,D_=Dc(qe),Li=Dc(Ee),dl=Dc(bt),k_=Dc(pi),A3=Rt,F3=Ht,ye=new $3.Logger("Chrome55"),B3="Chrome55",O_={OS:1024,MIS:1024};class Cy extends A3.HandlerInterface{static createFactory(){return()=>new Cy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return B3}close(){if(ye.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ye.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=Qr.parse(r.sdp);return dl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ye.debug("getNativeSctpCapabilities()"),{numStreams:O_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ye.debug("run()"),this._direction=t,this._remoteSdp=new F3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Li.getSendingRtpParameters("audio",u),video:Li.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Li.getSendingRemoteRtpParameters("audio",u),video:Li.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ye.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ye.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ye.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ye.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ye.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ye.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=Qr.parse(i.sdp),a;const c=D_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Li.reduceCodecs(c.codecs);const l=D_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Li.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ye.debug("send() | enabling simulcast"),o=Qr.parse(i.sdp),a=o.media.find(f=>f.type==="video"),k_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:Qr.write(o)}),ye.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=Qr.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=dl.getCname({offerMediaObject:a}),c.encodings=k_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ye.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();ye.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ye.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new ca.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new ca.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,r){throw new ca.UnsupportedError("not supported")}async getSenderStats(t){throw new ca.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ye.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%O_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Qr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ye.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;ye.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=Qr.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);dl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:Qr.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ye.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,f=o.streamId??l.rtcp.cname,h=this._pc.getRemoteStreams().find(m=>m.id===f).getTrackById(d);if(!h)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l}),r.push({localId:d,track:h})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ye.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new ca.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ye.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Qr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Qr.parse(this._pc.localDescription.sdp));const n=dl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Zd.Chrome55=Cy;var ef={},z3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z3(t,e,r);return U3(t,e),t};Object.defineProperty(ef,"__esModule",{value:!0});ef.Firefox120=void 0;const Kn=kc(Ve),V3=Ae,L_=Je,M_=kc(qe),Mi=kc(Ee),fl=kc(bt),N_=kc(mn),H3=Rt,W3=Ht,q3=gn,ee=new V3.Logger("Firefox120"),K3="Firefox120",j_={OS:16,MIS:2048};class xy extends H3.HandlerInterface{static createFactory(){return()=>new xy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return K3}close(){if(ee.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ee.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"}),t.addTransceiver(s,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const i=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const o=Kn.parse(i.sdp);return fl.extractRtpCapabilities({sdpObject:o})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return ee.debug("getNativeSctpCapabilities()"),{numStreams:j_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),ee.debug("run()"),this._direction=t,this._remoteSdp=new W3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Mi.getSendingRtpParameters("audio",u),video:Mi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Mi.getSendingRemoteRtpParameters("audio",u),video:Mi.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ee.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new L_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),ee.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ee.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),ee.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((m,g)=>{m.rid=`r${g}`});const o=M_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Mi.reduceCodecs(o.codecs,s);const a=M_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Mi.reduceCodecs(a.codecs,s);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(c.sender);const l=await this._pc.createOffer();let u=Kn.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u});const d=(0,q3.parse)((r??[{}])[0].scalabilityMode);ee.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;o.mid=f,u=Kn.parse(this._pc.localDescription.sdp);const p=u.media[u.media.length-1];if(o.rtcp.cname=fl.getCname({offerMediaObject:p}),!r)o.encodings=N_.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const m=N_.getRtpEncodings({offerMediaObject:p});Object.assign(m[0],r[0]),o.encodings=m}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of o.encodings)m.scalabilityMode?m.scalabilityMode=`L1T${d.temporalLayers}`:m.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return ee.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ee.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();ee.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();ee.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();ee.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?ee.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ee.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ee.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Kn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),ee.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;ee.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=Kn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);fl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d}),i={type:"answer",sdp:Kn.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),ee.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){ee.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ee.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Kn.parse(d.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Kn.parse(this._pc.localDescription.sdp));const n=fl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new L_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}ef.Firefox120=xy;var tf={},G3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Oc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&G3(t,e,r);return Y3(t,e),t};Object.defineProperty(tf,"__esModule",{value:!0});tf.Firefox60=void 0;const Gn=Oc(Ve),Q3=Ae,I_=Je,wp=Oc(qe),Ni=Oc(Ee),pl=Oc(bt),$_=Oc(mn),X3=Rt,J3=Ht,Z3=gn,te=new Q3.Logger("Firefox60"),e4="Firefox60",A_={OS:16,MIS:2048};class Ey extends X3.HandlerInterface{static createFactory(){return()=>new Ey}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return e4}close(){if(te.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){te.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const i=t.addTransceiver(s,{direction:"sendrecv"}),o=i.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await i.sender.setParameters(o);const c=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const l=Gn.parse(c.sdp);return pl.extractRtpCapabilities({sdpObject:l})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return te.debug("getNativeSctpCapabilities()"),{numStreams:A_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),te.debug("run()"),this._direction=t,this._remoteSdp=new J3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ni.getSendingRtpParameters("audio",u),video:Ni.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ni.getSendingRemoteRtpParameters("audio",u),video:Ni.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(te.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new I_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),te.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});te.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),te.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=wp.clone(r),r.forEach((h,m)=>{h.rid=`r${m}`}),r.reverse());const i=wp.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Ni.reduceCodecs(i.codecs,s);const o=wp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Ni.reduceCodecs(o.codecs,s);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const h=a.sender.getParameters();h.encodings=r,await a.sender.setParameters(h)}const c=await this._pc.createOffer();let l=Gn.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const u=(0,Z3.parse)((r??[{}])[0].scalabilityMode);te.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const d=a.mid;i.mid=d,l=Gn.parse(this._pc.localDescription.sdp);const f=l.media[l.media.length-1];if(i.rtcp.cname=pl.getCname({offerMediaObject:f}),!r)i.encodings=$_.getRtpEncodings({offerMediaObject:f});else if(r.length===1){const h=$_.getRtpEncodings({offerMediaObject:f});Object.assign(h[0],r[0]),i.encodings=h}else i.encodings=r.reverse();if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of i.encodings)h.scalabilityMode?h.scalabilityMode=`L1T${u.temporalLayers}`:h.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const p={type:"answer",sdp:this._remoteSdp.getSdp()};return te.debug("send() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._mapMidTransceiver.set(d,a),{localId:d,rtpParameters:i,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),te.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();te.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();te.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();te.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?te.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):te.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();r=s.encodings.length-1-r,s.encodings.forEach((a,c)=>{c>=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};te.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%A_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Gn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),te.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;te.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=Gn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);pl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d}),i={type:"answer",sdp:Gn.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),te.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){te.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};te.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Gn.parse(d.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Gn.parse(this._pc.localDescription.sdp));const n=pl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new I_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}tf.Firefox60=Ey;var rf={},t4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&t4(t,e,r);return r4(t,e),t};Object.defineProperty(rf,"__esModule",{value:!0});rf.Safari12=void 0;const Xr=Vo(Ve),n4=Ae,F_=Vo(qe),ji=Vo(Ee),hl=Vo(bt),B_=Vo(mn),s4=Vo(Bo),i4=Je,o4=Rt,a4=Ht,c4=gn,J=new n4.Logger("Safari12"),l4="Safari12",z_={OS:1024,MIS:1024};class Ty extends o4.HandlerInterface{static createFactory(){return()=>new Ty}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return l4}close(){if(J.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){J.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=Xr.parse(r.sdp),s=hl.extractRtpCapabilities({sdpObject:n});return s4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return J.debug("getNativeSctpCapabilities()"),{numStreams:z_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),J.debug("run()"),this._direction=t,this._remoteSdp=new a4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:ji.getSendingRtpParameters("audio",u),video:ji.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ji.getSendingRemoteRtpParameters("audio",u),video:ji.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(J.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),J.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),J.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});J.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();J.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),J.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=F_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=ji.reduceCodecs(o.codecs,s);const a=F_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=ji.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});i&&i(l.sender);let u=await this._pc.createOffer(),d=Xr.parse(u.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});const p=(0,c4.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(J.debug("send() | enabling legacy simulcast"),d=Xr.parse(u.sdp),f=d.media[c.idx],B_.addLegacySimulcast({offerMediaObject:f,numStreams:r.length}),u={type:"offer",sdp:Xr.write(d)}),J.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const h=l.mid;if(o.mid=h,d=Xr.parse(this._pc.localDescription.sdp),f=d.media[c.idx],o.rtcp.cname=hl.getCname({offerMediaObject:f}),o.encodings=B_.getRtpEncodings({offerMediaObject:f}),r)for(let g=0;g<o.encodings.length;++g)r[g]&&Object.assign(o.encodings[g],r[g]);if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of o.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${p.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return J.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,l),{localId:h,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;J.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();J.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),J.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();J.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),J.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();J.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?J.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):J.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),J.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();J.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),J.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();J.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};J.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%z_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Xr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),J.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};J.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;J.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=Xr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);hl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:Xr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),J.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){J.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();J.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){J.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();J.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){J.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();J.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};J.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};J.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Xr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}J.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Xr.parse(this._pc.localDescription.sdp));const n=hl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new i4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}rf.Safari12=Ty;var nf={},u4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&u4(t,e,r);return d4(t,e),t};Object.defineProperty(nf,"__esModule",{value:!0});nf.Safari11=void 0;const Jr=Lc(Ve),f4=Ae,U_=Lc(qe),Ii=Lc(Ee),ml=Lc(bt),V_=Lc(pi),p4=Rt,h4=Ht,de=new f4.Logger("Safari11"),m4="Safari11",H_={OS:1024,MIS:1024};class Py extends p4.HandlerInterface{static createFactory(){return()=>new Py}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return m4}close(){if(de.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){de.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=Jr.parse(r.sdp);return ml.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return de.debug("getNativeSctpCapabilities()"),{numStreams:H_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){de.debug("run()"),this._direction=t,this._remoteSdp=new h4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ii.getSendingRtpParameters("audio",u),video:Ii.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ii.getSendingRemoteRtpParameters("audio",u),video:Ii.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(de.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){de.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(de.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});de.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();de.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),de.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&de.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=Jr.parse(i.sdp),a;const c=U_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ii.reduceCodecs(c.codecs);const l=U_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ii.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(de.debug("send() | enabling simulcast"),o=Jr.parse(i.sdp),a=o.media.find(p=>p.type==="video"),V_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:Jr.write(o)}),de.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=Jr.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=ml.getCname({offerMediaObject:a}),c.encodings=V_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(d,f),{localId:d,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();de.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){de.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?de.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):de.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),de.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),de.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};de.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%H_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Jr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),de.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;de.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=Jr.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);ml.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:Jr.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),de.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===d);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l,rtpReceiver:f}),r.push({localId:d,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){de.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();de.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};de.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Jr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}de.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Jr.parse(this._pc.localDescription.sdp));const n=ml.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}nf.Safari11=Py;var sf={},of={},g4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v4=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&g4(t,e,r);return y4(t,e),t};Object.defineProperty(of,"__esModule",{value:!0});of.getCapabilities=w4;of.mangleRtpParameters=_4;const DC=v4(qe);function w4(){const e=RTCRtpReceiver.getCapabilities(),t=DC.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const n=r.parameters;n.apt&&(n.apt=Number(n.apt)),n["packetization-mode"]&&(n["packetization-mode"]=Number(n["packetization-mode"]))}for(const n of r.rtcpFeedback??[])n.parameter||(n.parameter="")}return t}function _4(e){const t=DC.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t}var S4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Dy=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&S4(t,e,r);return b4(t,e),t};Object.defineProperty(sf,"__esModule",{value:!0});sf.Edge11=void 0;const R4=Ae,_p=Je,gl=Dy(qe),Sp=Dy(Ee),bp=Dy(of),C4=Rt,_e=new R4.Logger("Edge11"),x4="Edge11";class ky extends C4.HandlerInterface{static createFactory(){return()=>new ky}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return x4}close(){_e.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return _e.debug("getNativeRtpCapabilities()"),bp.getCapabilities()}async getNativeSctpCapabilities(){return _e.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){_e.debug("run()"),this._sendingRtpParametersByKind={audio:Sp.getSendingRtpParameters("audio",u),video:Sp.getSendingRtpParameters("video",u)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=s,this._cname=`CNAME-${gl.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new _p.UnsupportedError("not supported")}async restartIce(t){if(_e.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){_e.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){_e.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),_e.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(t,this._dtlsTransport),o=gl.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Sp.reduceCodecs(o.codecs,s);const a=o.codecs.some(u=>/.+\/rtx$/i.test(u.mimeType));r||(r=[{}]);for(const u of r)u.ssrc=gl.generateRandomNumber(),a&&(u.rtx={ssrc:gl.generateRandomNumber()});o.encodings=r,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=bp.mangleRtpParameters(o);_e.debug("send() | calling rtpSender.send() [params:%o]",c),await i.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,i),{localId:l,rtpParameters:o,rtpSender:i}}async stopSending(t){_e.debug("stopSending() [localId:%s]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{_e.debug("stopSending() | calling rtpSender.stop()"),r.stop()}catch(n){throw _e.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){r?_e.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):_e.debug("replaceTrack() [localId:%s, no track]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(r)}async setMaxSpatialLayer(t,r){_e.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){_e.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");return r.getStats()}async sendDataChannel(t){throw new _p.UnsupportedError("not implemented")}async receive(t){const r=[];for(const n of t){const{trackId:s,kind:i}=n;_e.debug("receive() [trackId:%s, kind:%s]",s,i)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const n of t){const{trackId:s,kind:i,rtpParameters:o}=n;_e.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,i);a.addEventListener("error",u=>{_e.error('rtpReceiver "error" event [event:%o]',u)});const c=bp.mangleRtpParameters(o);_e.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=s;this._rtpReceivers.set(l,a),r.push({localId:l,track:a.track,rtpReceiver:a})}return r}async stopReceiving(t){for(const r of t){_e.debug("stopReceiving() [localId:%s]",r);const n=this._rtpReceivers.get(r);if(!n)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{_e.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(s){_e.warn("stopReceiving() | rtpReceiver.stop() failed:%o",s)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const r=this._rtpReceivers.get(t);if(!r)throw new Error("RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel(t){throw new _p.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:r}){const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",s=>{_e.error('iceGatherer "error" event [event:%o]',s)});try{n.gather()}catch(s){_e.debug("setIceGatherer() | iceGatherer.gather() failed: %s",s.toString())}this._iceGatherer=n}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("candidatepairchange",r=>{_e.debug('iceTransport "candidatepairchange" event [pair:%o]',r.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{_e.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{_e.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",r=>{_e.error('dtlsTransport "error" event [event:%o]',r)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){_e.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise((n,s)=>{this.safeEmit("@connect",{dtlsParameters:r},n,s)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(n=>n.algorithm==="sha-256"||n.algorithm==="sha-384"||n.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}sf.Edge11=ky;var af={},E4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ho=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E4(t,e,r);return T4(t,e),t};Object.defineProperty(af,"__esModule",{value:!0});af.ReactNativeUnifiedPlan=void 0;const Zr=Ho(Ve),P4=Ae,W_=Ho(qe),$i=Ho(Ee),yl=Ho(bt),Rp=Ho(mn),D4=Ho(Bo),k4=Je,O4=Rt,L4=Ht,M4=gn,Y=new P4.Logger("ReactNativeUnifiedPlan"),N4="ReactNativeUnifiedPlan",q_={OS:1024,MIS:1024};class Oy extends O4.HandlerInterface{static createFactory(){return()=>new Oy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return N4}close(){if(Y.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Y.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=Zr.parse(r.sdp),s=yl.extractRtpCapabilities({sdpObject:n});return D4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Y.debug("getNativeSctpCapabilities()"),{numStreams:q_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),Y.debug("run()"),this._direction=t,this._remoteSdp=new L4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:$i.getSendingRtpParameters("audio",u),video:$i.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:$i.getSendingRemoteRtpParameters("audio",u),video:$i.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Y.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Y.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Y.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((v,_)=>{v.rid=`r${_}`});const o=W_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=$i.reduceCodecs(o.codecs,s);const a=W_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=$i.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);let u=await this._pc.createOffer(),d=Zr.parse(u.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let p=!1;const h=(0,M4.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&h.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Y.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,d=Zr.parse(u.sdp),f=d.media[c.idx],Rp.addLegacySimulcast({offerMediaObject:f,numStreams:h.spatialLayers}),u={type:"offer",sdp:Zr.write(d)}),Y.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);let m=l.mid??void 0;if(m||Y.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),o.mid=m,d=Zr.parse(this._pc.localDescription.sdp),f=d.media[c.idx],o.rtcp.cname=yl.getCname({offerMediaObject:f}),!r)o.encodings=Rp.getRtpEncodings({offerMediaObject:f});else if(r.length===1){let v=Rp.getRtpEncodings({offerMediaObject:f});Object.assign(v[0],r[0]),p&&(v=[v[0]]),o.encodings=v}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of o.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${h.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return Y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),m||(m=l.mid,o.mid=m),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Y.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Y.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Y.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Y.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Y.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Y.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%q_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Zr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Y.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=Zr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);yl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:Zr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Y.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Y.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Zr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Zr.parse(this._pc.localDescription.sdp));const n=yl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new k4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}af.ReactNativeUnifiedPlan=Oy;var cf={},j4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j4(t,e,r);return I4(t,e),t};Object.defineProperty(cf,"__esModule",{value:!0});cf.ReactNative=void 0;const en=Mc(Ve),$4=Ae,la=Je,Cp=Mc(qe),Ai=Mc(Ee),vl=Mc(bt),K_=Mc(pi),A4=Rt,F4=Ht,me=new $4.Logger("ReactNative"),B4="ReactNative",G_={OS:1024,MIS:1024};class Ly extends A4.HandlerInterface{static createFactory(){return()=>new Ly}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return B4}close(){if(me.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){me.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=en.parse(r.sdp);return vl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return me.debug("getNativeSctpCapabilities()"),{numStreams:G_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){me.debug("run()"),this._direction=t,this._remoteSdp=new F4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ai.getSendingRtpParameters("audio",u),video:Ai.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ai.getSendingRemoteRtpParameters("audio",u),video:Ai.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(me.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){me.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(me.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});me.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();me.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),me.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&me.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=en.parse(i.sdp),a;const c=Cp.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ai.reduceCodecs(c.codecs);const l=Cp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ai.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(me.debug("send() | enabling simulcast"),o=en.parse(i.sdp),a=o.media.find(f=>f.type==="video"),K_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:en.write(o)}),me.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=en.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=vl.getCname({offerMediaObject:a}),c.encodings=K_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),me.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();me.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){me.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new la.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new la.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,r){throw new la.UnsupportedError("not implemented")}async getSenderStats(t){throw new la.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};me.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%G_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=en.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),me.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u}=a;me.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;let f=a.streamId??u.rtcp.cname;me.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),f+=`-hack-${Cp.generateRandomNumber()}`,n.set(c,f),this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=en.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,u=c,d=o.media.find(f=>String(f.mid)===u);vl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:en.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),me.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:l,rtpParameters:u}=a,d=l,f=c,p=n.get(l),m=this._pc.getRemoteStreams().find(g=>g.id===p).getTrackById(d);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:f,rtpParameters:u}),r.push({localId:d,track:m})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){me.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();me.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new la.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};me.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=en.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=en.parse(this._pc.localDescription.sdp));const n=vl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}cf.ReactNative=Ly;var z4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kC=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z4(t,e,r);return U4(t,e),t};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Device=void 0;Fo.detectDevice=OC;const V4=t$,H4=Ae,W4=hn,Fi=Je,Y_=kC(qe),Yn=kC(Ee),q4=bc,K4=Yd,G4=Qd,Y4=Xd,Q4=Jd,X4=Zd,J4=ef,Z4=tf,eF=rf,tF=nf,rF=sf,nF=af,sF=cf,it=new H4.Logger("Device");function OC(e){var t,r,n,s;if(!e&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(it.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){it.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(it.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(it.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(e||typeof navigator=="object"&&typeof navigator.userAgent=="string"){e??(e=navigator.userAgent);const i=new V4.UAParser(e);it.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",e,i.getResult());const o=i.getBrowser(),a=(t=o.name)==null?void 0:t.toLowerCase(),c=parseInt(o.major??"0"),u=(r=i.getEngine().name)==null?void 0:r.toLowerCase(),d=i.getOS(),f=(n=d.name)==null?void 0:n.toLowerCase(),p=parseFloat(d.version??"0"),m=(s=i.getDevice().model)==null?void 0:s.toLowerCase(),g=f==="ios"||m==="ipad",v=a&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(a),_=a&&["firefox","mobile firefox","mobile focus"].includes(a),w=a&&["safari","mobile safari"].includes(a),b=a&&["edge"].includes(a);if((v||b)&&!g&&c>=111)return"Chrome111";if(v&&!g&&c>=74||b&&!g&&c>=88)return"Chrome74";if(v&&!g&&c>=70)return"Chrome70";if(v&&!g&&c>=67)return"Chrome67";if(v&&!g&&c>=55)return"Chrome55";if(_&&!g&&c>=120)return"Firefox120";if(_&&!g&&c>=60)return"Firefox60";if(_&&g&&p>=14.3)return"Safari12";if(w&&c>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(w&&c>=11)return"Safari11";if(b&&!g&&c>=11&&c<=18)return"Edge11";if(u==="webkit"&&g&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(u==="blink"){const C=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(C){const R=Number(C[1]);return R>=111?"Chrome111":R>=74?"Chrome74":R>=70?"Chrome70":R>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{it.warn("detectDevice() | browser not supported [name:%s, version:%s]",a,c);return}}else{it.warn("detectDevice() | unknown device");return}}class iF{constructor({handlerName:t,handlerFactory:r}={}){if(this._loaded=!1,this._observer=new W4.EnhancedEventEmitter,it.debug("constructor()"),t&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(t)it.debug("constructor() | handler given: %s",t);else if(t=OC(),t)it.debug("constructor() | detected handler: %s",t);else throw new Fi.UnsupportedError("device not supported");switch(t){case"Chrome111":{this._handlerFactory=K4.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=G4.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=Y4.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=Q4.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=X4.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=J4.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=Z4.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=eF.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=tF.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=rF.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=nF.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=sF.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${t}"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new Fi.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new Fi.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){it.debug("load() [routerRtpCapabilities:%o]",t);let r;try{if(this._loaded)throw new Fi.InvalidStateError("already loaded");const n=Y_.clone(t);Yn.validateRtpCapabilities(n),r=this._handlerFactory();const s=await r.getNativeRtpCapabilities();it.debug("load() | got native RTP capabilities:%o",s);const i=Y_.clone(s);Yn.validateRtpCapabilities(i),this._extendedRtpCapabilities=Yn.getExtendedRtpCapabilities(i,n),it.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=Yn.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=Yn.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=Yn.getRecvRtpCapabilities(this._extendedRtpCapabilities),Yn.validateRtpCapabilities(this._recvRtpCapabilities),it.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await r.getNativeSctpCapabilities(),it.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),Yn.validateSctpCapabilities(this._sctpCapabilities),it.debug("load() succeeded"),this._loaded=!0,r.close()}catch(n){throw r&&r.close(),n}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new Fi.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return it.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createRecvTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return it.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createTransport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d}){if(this._loaded){if(typeof r!="string")throw new TypeError("missing id");if(typeof n!="object")throw new TypeError("missing iceParameters");if(Array.isArray(s)){if(typeof i!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(d&&typeof d!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new Fi.InvalidStateError("not loaded");const f=new q4.Transport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}Fo.Device=iF;var LC={},MC={};Object.defineProperty(MC,"__esModule",{value:!0});var NC={};Object.defineProperty(NC,"__esModule",{value:!0});(function(e){var t=P&&P.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=P&&P.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fo,e),r(bc,e),r(Rc,e),r(Cc,e),r(xc,e),r(Ec,e),r(MC,e),r(NC,e),r(Rt,e),r(Je,e)})(LC);(function(e){var t=P&&P.__createBinding||(Object.create?function(l,u,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(l,f,p)}:function(l,u,d,f){f===void 0&&(f=d),l[f]=u[d]}),r=P&&P.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),n=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(u,l,d);return r(u,l),u},s=P&&P.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const i=s(Ud);e.debug=i.default;const o=Fo;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=n(LC);e.types=a,e.version="3.7.17";var c=gn;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(cC);const dn=Object.create(null);dn.open="0";dn.close="1";dn.ping="2";dn.pong="3";dn.message="4";dn.upgrade="5";dn.noop="6";const Fl=Object.create(null);Object.keys(dn).forEach(e=>{Fl[dn[e]]=e});const Xh={type:"error",data:"parser error"},jC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",IC=typeof ArrayBuffer=="function",$C=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,My=({type:e,data:t},r,n)=>jC&&t instanceof Blob?r?n(t):Q_(t,n):IC&&(t instanceof ArrayBuffer||$C(t))?r?n(t):Q_(new Blob([t]),n):n(dn[e]+(t||"")),Q_=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function X_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let xp;function oF(e,t){if(jC&&e.data instanceof Blob)return e.data.arrayBuffer().then(X_).then(t);if(IC&&(e.data instanceof ArrayBuffer||$C(e.data)))return t(X_(e.data));My(e,!1,r=>{xp||(xp=new TextEncoder),t(xp.encode(r))})}const J_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_a=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<J_.length;e++)_a[J_.charCodeAt(e)]=e;const aF=e=>{let t=e.length*.75,r=e.length,n,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(n=0;n<r;n+=4)i=_a[e.charCodeAt(n)],o=_a[e.charCodeAt(n+1)],a=_a[e.charCodeAt(n+2)],c=_a[e.charCodeAt(n+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l},cF=typeof ArrayBuffer=="function",Ny=(e,t)=>{if(typeof e!="string")return{type:"message",data:AC(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:lF(e.substring(1),t)}:Fl[r]?e.length>1?{type:Fl[r],data:e.substring(1)}:{type:Fl[r]}:Xh},lF=(e,t)=>{if(cF){const r=aF(e);return AC(r,t)}else return{base64:!0,data:e}},AC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},FC="",uF=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,o)=>{My(i,!1,a=>{n[o]=a,++s===r&&t(n.join(FC))})})},dF=(e,t)=>{const r=e.split(FC),n=[];for(let s=0;s<r.length;s++){const i=Ny(r[s],t);if(n.push(i),i.type==="error")break}return n};function fF(){return new TransformStream({transform(e,t){oF(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Ep;function wl(e){return e.reduce((t,r)=>t+r.length,0)}function _l(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function pF(e,t){Ep||(Ep=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(wl(r)<1)break;const c=_l(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(wl(r)<2)break;const c=_l(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(wl(r)<8)break;const c=_l(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Xh);break}s=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(wl(r)<s)break;const c=_l(r,s);a.enqueue(Ny(i?c:Ep.decode(c),t)),n=0}if(s===0||s>e){a.enqueue(Xh);break}}}})}const BC=4;function Qe(e){if(e)return hF(e)}function hF(e){for(var t in Qe.prototype)e[t]=Qe.prototype[t];return e}Qe.prototype.on=Qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Qe.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Qe.prototype.off=Qe.prototype.removeListener=Qe.prototype.removeAllListeners=Qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Qe.prototype.emitReserved=Qe.prototype.emit;Qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const lf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),cr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mF="arraybuffer";function zC(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const gF=cr.setTimeout,yF=cr.clearTimeout;function uf(e,t){t.useNativeTimers?(e.setTimeoutFn=gF.bind(cr),e.clearTimeoutFn=yF.bind(cr)):(e.setTimeoutFn=cr.setTimeout.bind(cr),e.clearTimeoutFn=cr.clearTimeout.bind(cr))}const vF=1.33;function wF(e){return typeof e=="string"?_F(e):Math.ceil((e.byteLength||e.size)*vF)}function _F(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function UC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function SF(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function bF(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class RF extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class jy extends Qe{constructor(t){super(),this.writable=!1,uf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new RF(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Ny(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=SF(t);return r.length?"?"+r:""}}class CF extends jy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};dF(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,uF(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=UC()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let VC=!1;try{VC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xF=VC;function EF(){}class TF extends CF{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let fo=class Bl extends Qe{constructor(t,r,n){super(),this.createRequest=t,uf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=zC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Bl.requestsCount++,Bl.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=EF,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bl.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};fo.requestsCount=0;fo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z_);else if(typeof addEventListener=="function"){const e="onpagehide"in cr?"pagehide":"unload";addEventListener(e,Z_,!1)}}function Z_(){for(let e in fo.requests)fo.requests.hasOwnProperty(e)&&fo.requests[e].abort()}const PF=function(){const e=HC({xdomain:!1});return e&&e.responseType!==null}();class DF extends TF{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=PF&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new fo(HC,this.uri(),t)}}function HC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||xF))return new XMLHttpRequest}catch{}if(!t)try{return new cr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const WC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kF extends jy{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=WC?{}:zC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;My(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&lf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=UC()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Tp=cr.WebSocket||cr.MozWebSocket;class OF extends kF{createSocket(t,r,n){return WC?new Tp(t,r,n):r?new Tp(t,r):new Tp(t)}doWrite(t,r){this.ws.send(r)}}class LF extends jy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=pF(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=fF();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&lf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const MF={websocket:OF,webtransport:LF,polling:DF},NF=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=NF.exec(e||""),i={},o=14;for(;o--;)i[jF[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=IF(i,i.path),i.queryKey=$F(i,i.query),i}function IF(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $F(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Zh=typeof addEventListener=="function"&&typeof removeEventListener=="function",zl=[];Zh&&addEventListener("offline",()=>{zl.forEach(e=>e())},!1);class gs extends Qe{constructor(t,r){if(super(),this.binaryType=mF,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Jh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Jh(r.host).host);uf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bF(this.opts.query)),Zh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},zl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=BC,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&gs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",gs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=wF(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,lf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(gs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=zl.indexOf(this._offlineEventListener);n!==-1&&zl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}gs.protocol=BC;class AF extends gs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;gs.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;gs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const o=d=>{const f=new Error("probe error: "+d);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function c(){o("socket closed")}function l(d){r&&d.name!==r.name&&i()}const u=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let FF=class extends AF{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>MF[s]).filter(s=>!!s)),super(t,n)}};function BF(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Jh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const zF=typeof ArrayBuffer=="function",UF=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,qC=Object.prototype.toString,VF=typeof Blob=="function"||typeof Blob<"u"&&qC.call(Blob)==="[object BlobConstructor]",HF=typeof File=="function"||typeof File<"u"&&qC.call(File)==="[object FileConstructor]";function Iy(e){return zF&&(e instanceof ArrayBuffer||UF(e))||VF&&e instanceof Blob||HF&&e instanceof File}function Ul(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Ul(e[r]))return!0;return!1}if(Iy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ul(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ul(e[r]))return!0;return!1}function WF(e){const t=[],r=e.data,n=e;return n.data=em(r,t),n.attachments=t.length,{packet:n,buffers:t}}function em(e,t){if(!e)return e;if(Iy(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=em(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=em(e[n],t));return r}return e}function qF(e,t){return e.data=tm(e.data,t),delete e.attachments,e}function tm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=tm(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=tm(e[r],t));return e}const KF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],GF=5;var fe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class YF{constructor(t){this.replacer=t}encode(t){return(t.type===fe.EVENT||t.type===fe.ACK)&&Ul(t)?this.encodeAsBinary({type:t.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=WF(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function eS(e){return Object.prototype.toString.call(e)==="[object Object]"}class $y extends Qe{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===fe.BINARY_EVENT;n||r.type===fe.BINARY_ACK?(r.type=n?fe.EVENT:fe.ACK,this.reconstructor=new QF(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Iy(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===fe.BINARY_EVENT||n.type===fe.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if($y.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case fe.CONNECT:return eS(r);case fe.DISCONNECT:return r===void 0;case fe.CONNECT_ERROR:return typeof r=="string"||eS(r);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&KF.indexOf(r[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class QF{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=qF(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const XF=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$y,Encoder:YF,get PacketType(){return fe},protocol:GF},Symbol.toStringTag,{value:"Module"}));function Tr(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const JF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KC extends Qe{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Tr(t,"open",this.onopen.bind(this)),Tr(t,"packet",this.onpacket.bind(this)),Tr(t,"error",this.onerror.bind(this)),Tr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(JF.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,d=r.pop();this._registerAckCallback(u,d),o.id=u}const a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case fe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(t);break;case fe.ACK:case fe.BINARY_ACK:this.onack(t);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:fe.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Wo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Wo.prototype.reset=function(){this.attempts=0};Wo.prototype.setMin=function(e){this.ms=e};Wo.prototype.setMax=function(e){this.max=e};Wo.prototype.setJitter=function(e){this.jitter=e};class rm extends Qe{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,uf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Wo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||XF;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new FF(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Tr(r,"open",function(){n.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Tr(r,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Tr(t,"ping",this.onping.bind(this)),Tr(t,"data",this.ondata.bind(this)),Tr(t,"error",this.onerror.bind(this)),Tr(t,"close",this.onclose.bind(this)),Tr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){lf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new KC(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ua={};function Vl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=BF(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=ua[s]&&i in ua[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new rm(n,t):(ua[s]||(ua[s]=new rm(n,t)),c=ua[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Vl,{Manager:rm,Socket:KC,io:Vl,connect:Vl});const GC=(e,t)=>{const[r,n]=S.useState(null),[s,i]=S.useState(null),[o,a]=S.useState([]),[c,l]=S.useState(null),u=S.useRef(null),[d,f]=S.useState(!1),p=S.useRef(null),[h,m]=S.useState(!1),[g,v]=S.useState([]),_=()=>{p.current&&(d?p.current.resume():p.current.pause(),f(!d))};S.useEffect(()=>{const A=Vl("https://hitscord-backend.ru/mediasoup");return n(A),A.on("connection-success",({socketId:q})=>{console.log("Connected with socketId",q)}),()=>{A.disconnect()}},[]);const w=()=>{r!=null&&r.connected&&(m(!0),C())},b=()=>{r==null||r.emit("leaveRoom"),m(!1),i(null),a([]),u.current=null};S.useEffect(()=>{s&&k()},[s]),S.useEffect(()=>{if(r)return r.on("producerClosed",({producerId:A})=>{a(q=>q.filter(N=>N.producerId!==A))}),r.on("producer-closed",({remoteProducerId:A})=>{console.log("producer-closed: ",A),a(q=>q.filter(N=>N.producerId!==A))}),r.on("new-producer",({producerId:A})=>{console.log("newProducer:",A),s&&L(A)}),r.on("updateUsersList",({usersList:A})=>{v(A)}),()=>{r.off("producerClosed"),r.off("producer-closed"),r.off("new-producer"),r.off("updateUsersList")}},[r,s]);const C=async()=>{try{const A=await navigator.mediaDevices.getUserMedia({audio:!0});R(A.getAudioTracks()[0])}catch(A){console.error("Error getting local audio stream:",A)}},R=A=>{r==null||r.emit("joinRoom",{roomName:e,userName:t},q=>{E(A,q.rtpCapabilities)})},E=async(A,q)=>{const N=new cC.Device;await N.load({routerRtpCapabilities:q}),i(N),x(A,N)},x=(A,q)=>{r==null||r.emit("createWebRtcTransport",{consumer:!1},async({params:N})=>{if(N.error){console.error("Error creating send transport:",N.error);return}const H=q.createSendTransport(N);l(H),H.on("connect",({dtlsParameters:j},$)=>{r.emit("transport-connect",{dtlsParameters:j}),$()}),H.on("produce",(j,$)=>{r.emit("transport-produce",{kind:j.kind,rtpParameters:j.rtpParameters},({id:M})=>{$({id:M}),k()})});const T=await H.produce({track:A});p.current=T,T.on("trackended",()=>{console.log("Audio track ended"),p.current=null})})},k=()=>{r==null||r.emit("getProducers",A=>{A.forEach(L)})},L=async A=>{r==null||r.emit("createWebRtcTransport",{consumer:!0},async({params:q})=>{if(q.error)return;const N=s==null?void 0:s.createRecvTransport(q);N==null||N.on("connect",({dtlsParameters:H},T)=>{r.emit("transport-recv-connect",{dtlsParameters:H,serverConsumerTransportId:q.id}),T()}),z(N,A,q.id)})},z=async(A,q,N)=>{r==null||r.emit("consume",{rtpCapabilities:s==null?void 0:s.rtpCapabilities,remoteProducerId:q,serverConsumerTransportId:N},async({params:H})=>{const T=await A.consume(H);console.log(T),a(j=>[...j,T]),r.emit("consumer-resume",{serverConsumerId:H.serverConsumerId})})},U=async()=>{if(!u.current){const q=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0];u.current=await c.produce({track:q}),u.current.on("trackended",K)}},K=async()=>{u.current&&(await u.current.close(),r==null||r.emit("stopProducer",{producerId:u.current.id}),u.current=null)};return{connect:w,disconnect:b,startScreenSharing:U,stopScreenSharing:K,consumers:o,connected:h,users:g,toggleMute:_,isMuted:d}},ZF="_mainContainer_96p74_1",eB="_navigationBar_96p74_6",tB="_contentContainer_96p74_16",rB="_sideBar_96p74_22",nB="_chatContainer_96p74_31",sB="_subtitleContainer_96p74_38",iB="_chatContentContainer_96p74_43",oB="_chatContent_96p74_43",aB="_chatSideBar_96p74_51",cB="_serverInfo_96p74_57",bn={mainContainer:ZF,navigationBar:eB,contentContainer:tB,sideBar:rB,chatContainer:nB,subtitleContainer:sB,chatContentContainer:iB,chatContent:oB,chatSideBar:aB,serverInfo:cB};function lB(){const{roomName:e,user:t}=tc(d=>d.userStore),{connect:r,disconnect:n,startScreenSharing:s,stopScreenSharing:i,consumers:o,connected:a,users:c,toggleMute:l,isMuted:u}=GC(e,t.fullName);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:bn.mainContainer,children:[y.jsx("nav",{className:bn.navigationBar,children:y.jsx(Y2,{})}),y.jsxs("div",{className:bn.contentContainer,children:[y.jsxs("div",{className:bn.sideBar,children:[y.jsx("div",{className:bn.serverInfo,children:" 1"}),y.jsx(hy,{connect:r,connected:a,consumers:o,users:c}),y.jsx(nI,{isConnected:a,startScreenSharing:s,stopScreenSharing:i,onDisconnect:n,toggleMute:l,isMuted:u})]}),y.jsxs("div",{className:bn.chatContainer,children:[y.jsx("div",{className:bn.subtitleContainer,children:"subtitleContainer"}),y.jsxs("div",{className:bn.chatContentContainer,children:[y.jsx(W2,{}),y.jsx("div",{className:bn.chatSideBar,children:"chatSideBar"})]})]})]})]})})}function uB(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const dB=typeof window<"u"?S.useLayoutEffect:S.useEffect;function lt(e,t){dB(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function fB(e,t){e&&uB(e),lt(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),lt(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),lt(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),lt(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),lt(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),lt(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),lt(`mantine-form:${e}:clear-errors`,t.clearErrors),lt(`mantine-form:${e}:reset`,t.reset),lt(`mantine-form:${e}:validate`,t.validate),lt(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),lt(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),lt(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),lt(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),lt(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),lt(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),lt(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),lt(`mantine-form:${e}:reset-touched`,t.resetTouched)}function pB(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function nm(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function hB(e){const[t,r]=S.useState(nm(e)),n=S.useRef(t),s=S.useCallback(c=>{r(l=>{const u=nm(typeof c=="function"?c(l):c);return n.current=u,u})},[]),i=S.useCallback(()=>s({}),[]),o=S.useCallback(c=>{n.current[c]!==void 0&&s(l=>{const u={...l};return delete u[c],u})},[t]),a=S.useCallback((c,l)=>{l==null||l===!1?o(c):n.current[c]!==l&&s(u=>({...u,[c]:l}))},[t]);return{errorsState:t,setErrors:s,clearErrors:i,setFieldError:a,clearFieldError:o}}function sm(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function tS(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function rS(e,t,r,n){if(t===void 0)return r;const s=`${String(e)}`;let i=r;n===-1&&(i=sm(`${s}.${t}`,i));const o={...i},a=new Set;return Object.entries(i).filter(([c])=>{if(!c.startsWith(`${s}.`))return!1;const l=tS(c,s);return Number.isNaN(l)?!1:l>=t}).forEach(([c,l])=>{const u=tS(c,s),d=c.replace(`${s}.${u}`,`${s}.${u+n}`);o[d]=l,a.add(d),a.has(c)||delete o[c]}),o}function mB(e,{from:t,to:r},n){const s=`${e}.${t}`,i=`${e}.${r}`,o={...n};return Object.keys(n).every(a=>{let c,l;if(a.startsWith(s)&&(c=a,l=a.replace(s,i)),a.startsWith(i)&&(c=a.replace(i,s),l=a),c&&l){const u=o[c],d=o[l];return d===void 0?delete o[c]:o[c]=d,u===void 0?delete o[l]:o[l]=u,!1}return!0}),o}function nS(e,t,r){typeof r.value=="object"&&(r.value=eo(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function eo(e){if(typeof e!="object")return e;var t=0,r,n,s,i=Object.prototype.toString.call(e);if(i==="[object Object]"?s=Object.create(e.__proto__||null):i==="[object Array]"?s=Array(e.length):i==="[object Set]"?(s=new Set,e.forEach(function(o){s.add(eo(o))})):i==="[object Map]"?(s=new Map,e.forEach(function(o,a){s.set(eo(a),eo(o))})):i==="[object Date]"?s=new Date(+e):i==="[object RegExp]"?s=new RegExp(e.source,e.flags):i==="[object DataView]"?s=new e.constructor(eo(e.buffer)):i==="[object ArrayBuffer]"?s=e.slice(0):i.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)nS(s,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(s,r=n[t])&&s[r]===e[r]||nS(s,r,Object.getOwnPropertyDescriptor(e,r))}return s||e}function YC(e){return typeof e!="string"?[]:e.split(".")}function wt(e,t){const r=YC(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function df(e,t,r){const n=YC(e);if(n.length===0)return r;const s=eo(r);if(n.length===1)return s[n[0]]=t,s;let i=s[n[0]];for(let o=1;o<n.length-1;o+=1){if(i===void 0)return s;i=i[n[o]]}return i[n[n.length-1]]=t,s}function gB(e,{from:t,to:r},n){const s=wt(e,n);if(!Array.isArray(s))return n;const i=[...s],o=s[t];return i.splice(t,1),i.splice(r,0,o),df(e,i,n)}function yB(e,t,r,n){const s=wt(e,n);if(!Array.isArray(s))return n;const i=[...s];return i.splice(typeof r=="number"?r:i.length,0,t),df(e,i,n)}function vB(e,t,r){const n=wt(e,r);return Array.isArray(n)?df(e,n.filter((s,i)=>i!==t),r):r}function wB({$values:e,$errors:t,$status:r}){const n=S.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>mB(o,a,c)),e.setValues({values:gB(o,a,e.refValues.current),updateState:!0})},[]),s=S.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>rS(o,a,c,-1)),e.setValues({values:vB(o,a,e.refValues.current),updateState:!0})},[]),i=S.useCallback((o,a,c)=>{r.clearFieldDirty(o),t.setErrors(l=>rS(o,c,l,1)),e.setValues({values:yB(o,a,c,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:i}}var _B=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const Sl=hm(_B);function da(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(s=>s.startsWith(`${t}.`));return e[t]||n.some(s=>e[s])||!1}return r.some(n=>e[n])}function SB({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[s,i]=S.useState(t),[o,a]=S.useState(e),c=S.useRef(t),l=S.useRef(e),u=S.useCallback(R=>{const E=typeof R=="function"?R(c.current):R;c.current=E,r==="controlled"&&i(E)},[]),d=S.useCallback((R,E=!1)=>{const x=typeof R=="function"?R(l.current):R;l.current=x,(r==="controlled"||E)&&a(x)},[]),f=S.useCallback(()=>u({}),[]),p=R=>{const E=R?{...R,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(E),d({})},h=S.useCallback((R,E)=>{u(x=>da(x,R)===E?x:{...x,[R]:E})},[]),m=S.useCallback((R,E,x)=>{d(k=>da(k,R)===E?k:{...k,[R]:E},x)},[]),g=S.useCallback((R,E)=>{const x=da(l.current,R),k=!Sl(wt(R,n.getValuesSnapshot()),E),L=sm(R,l.current);L[R]=k,d(L,x!==k)},[]),v=S.useCallback(R=>da(c.current,R),[]),_=S.useCallback(R=>d(E=>{if(typeof R!="string")return E;const x=sm(R,E);return delete x[R],Sl(x,E)?E:x}),[]),w=S.useCallback(R=>{if(R){const x=wt(R,l.current);if(typeof x=="boolean")return x;const k=wt(R,n.refValues.current),L=wt(R,n.valuesSnapshot.current);return!Sl(k,L)}return Object.keys(l.current).length>0?da(l.current):!Sl(n.refValues.current,n.valuesSnapshot.current)},[]),b=S.useCallback(()=>l.current,[]),C=S.useCallback(()=>c.current,[]);return{touchedState:s,dirtyState:o,touchedRef:c,dirtyRef:l,setTouched:u,setDirty:d,resetDirty:p,resetTouched:f,isTouched:v,setFieldTouched:h,setFieldDirty:m,setTouchedState:i,setDirtyState:a,clearFieldDirty:_,isDirty:w,getDirty:b,getTouched:C,setCalculatedFieldDirty:g}}function bB({initialValues:e,onValuesChange:t,mode:r}){const n=S.useRef(!1),[s,i]=S.useState(e||{}),o=S.useRef(s),a=S.useRef(s),c=S.useCallback(({values:m,subscribers:g,updateState:v=!0,mergeWithPreviousValues:_=!0})=>{const w=o.current,b=m instanceof Function?m(o.current):m,C=_?{...w,...b}:b;o.current=C,v&&i(C),t==null||t(C,w),g==null||g.filter(Boolean).forEach(R=>R({updatedValues:C,previousValues:w}))},[t]),l=S.useCallback(m=>{var _;const g=wt(m.path,o.current),v=m.value instanceof Function?m.value(g):m.value;if(g!==v){const w=o.current,b=df(m.path,v,o.current);c({values:b,updateState:m.updateState}),(_=m.subscribers)==null||_.filter(Boolean).forEach(C=>C({path:m.path,updatedValues:b,previousValues:w}))}},[c]),u=S.useCallback(m=>{a.current=m},[]),d=S.useCallback((m,g)=>{n.current||(n.current=!0,c({values:m,updateState:r==="controlled"}),u(m),g())},[c]),f=S.useCallback(()=>{c({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[c]),p=S.useCallback(()=>o.current,[]),h=S.useCallback(()=>a.current,[]);return{initialized:n,stateValues:s,refValues:o,valuesSnapshot:a,setValues:c,setFieldValue:l,resetValues:f,setValuesSnapshot:u,initialize:d,getValues:p,getValuesSnapshot:h}}function RB({$status:e}){const t=S.useRef({}),r=S.useCallback((s,i)=>{S.useEffect(()=>(t.current[s]=t.current[s]||[],t.current[s].push(i),()=>{t.current[s]=t.current[s].filter(o=>o!==i)}),[i])},[]),n=S.useCallback(s=>t.current[s]?t.current[s].map(i=>o=>i({previousValue:wt(s,o.previousValues),value:wt(s,o.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function sS(e,t){return e?`${e}-${t.toString()}`:t.toString()}function iS(e){const t=nm(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function im(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((s,i)=>{const o=e[i],a=`${r===""?"":`${r}.`}${i}`,c=wt(a,t);let l=!1;return typeof o=="function"&&(s[a]=o(c,t,a)),typeof o=="object"&&Array.isArray(c)&&(l=!0,c.forEach((u,d)=>im(o,t,`${a}.${d}`,s))),typeof o=="object"&&typeof c=="object"&&c!==null&&(l||im(o,t,a,s)),s},n)}function om(e,t){return iS(typeof e=="function"?e(t):im(e,t))}function bl(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=om(t,r),s=Object.keys(n.errors).find(i=>e.split(".").every((o,a)=>o===i.split(".")[a]));return{hasError:!!s,error:s?n.errors[s]:null}}const CB="__MANTINE_FORM_INDEX__";function oS(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${CB}`)):!1:!1}function QC({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:c=!1,onValuesChange:l,transformValues:u=p=>p,enhanceGetInputProps:d,validate:f}={}){const p=hB(n),h=bB({initialValues:r,onValuesChange:l,mode:t}),m=SB({initialDirty:s,initialTouched:i,$values:h,mode:t}),g=wB({$values:h,$errors:p,$status:m}),v=RB({$status:m}),[_,w]=S.useState(0),[b,C]=S.useState({}),R=S.useCallback(()=>{h.resetValues(),p.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&w(M=>M+1)},[]),E=S.useCallback(M=>{o&&p.clearErrors(),t==="uncontrolled"&&w(W=>W+1),Object.keys(v.subscribers.current).forEach(W=>{const oe=wt(W,h.refValues.current),ve=wt(W,M);oe!==ve&&v.getFieldSubscribers(W).forEach(Fe=>Fe({previousValues:M,updatedValues:h.refValues.current}))})},[o]),x=S.useCallback(M=>{const W=h.refValues.current;h.initialize(M,()=>t==="uncontrolled"&&w(oe=>oe+1)),E(W)},[E]),k=S.useCallback((M,W,oe)=>{const ve=oS(M,a),Fe=W instanceof Function?W(wt(M,h.refValues.current)):W;m.setCalculatedFieldDirty(M,Fe),m.setFieldTouched(M,!0),!ve&&o&&p.clearFieldError(M),h.setFieldValue({path:M,value:W,updateState:t==="controlled",subscribers:[...v.getFieldSubscribers(M),ve?Pe=>{const be=bl(M,f,Pe.updatedValues);be.hasError?p.setFieldError(M,be.error):p.clearFieldError(M)}:null,(oe==null?void 0:oe.forceUpdate)!==!1&&t!=="controlled"?()=>C(Pe=>({...Pe,[M]:(Pe[M]||0)+1})):null]})},[l,f]),L=S.useCallback(M=>{const W=h.refValues.current;h.setValues({values:M,updateState:t==="controlled"}),E(W)},[l,E]),z=S.useCallback(()=>{const M=om(f,h.refValues.current);return p.setErrors(M.errors),M},[f]),U=S.useCallback(M=>{const W=bl(M,f,h.refValues.current);return W.hasError?p.setFieldError(M,W.error):p.clearFieldError(M),W},[f]),K=(M,{type:W="input",withError:oe=!0,withFocus:ve=!0,...Fe}={})=>{const be={onChange:pB(Ct=>k(M,Ct,{forceUpdate:!1})),"data-path":sS(e,M)};return oe&&(be.error=p.errorsState[M]),W==="checkbox"?be[t==="controlled"?"checked":"defaultChecked"]=wt(M,h.refValues.current):be[t==="controlled"?"value":"defaultValue"]=wt(M,h.refValues.current),ve&&(be.onFocus=()=>m.setFieldTouched(M,!0),be.onBlur=()=>{if(oS(M,c)){const Ct=bl(M,f,h.refValues.current);Ct.hasError?p.setFieldError(M,Ct.error):p.clearFieldError(M)}}),Object.assign(be,d==null?void 0:d({inputProps:be,field:M,options:{type:W,withError:oe,withFocus:ve,...Fe},form:$}))},A=(M,W)=>oe=>{oe==null||oe.preventDefault();const ve=z();ve.hasErrors?W==null||W(ve.errors,h.refValues.current,oe):M==null||M(u(h.refValues.current),oe)},q=M=>u(M||h.refValues.current),N=S.useCallback(M=>{M.preventDefault(),R()},[]),H=S.useCallback(M=>M?!bl(M,f,h.refValues.current).hasError:!om(f,h.refValues.current).hasErrors,[f]),T=M=>`${_}-${M}-${b[M]||0}`,j=S.useCallback(M=>document.querySelector(`[data-path="${sS(e,M)}"]`),[]),$={watch:v.watch,initialized:h.initialized.current,values:h.stateValues,getValues:h.getValues,setInitialValues:h.setValuesSnapshot,initialize:x,setValues:L,setFieldValue:k,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:R,validate:z,validateField:U,getInputProps:K,onSubmit:A,onReset:N,isValid:H,getTransformedValues:q,key:T,getInputNode:j};return fB(e,$),$}function XC(e,t){return function(){return e.apply(t,arguments)}}const{toString:xB}=Object.prototype,{getPrototypeOf:Ay}=Object,ff=(e=>t=>{const r=xB.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Br=e=>(e=e.toLowerCase(),t=>ff(t)===e),pf=e=>t=>typeof t===e,{isArray:qo}=Array,ic=pf("undefined");function EB(e){return e!==null&&!ic(e)&&e.constructor!==null&&!ic(e.constructor)&&Jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JC=Br("ArrayBuffer");function TB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&JC(e.buffer),t}const PB=pf("string"),Jt=pf("function"),ZC=pf("number"),hf=e=>e!==null&&typeof e=="object",DB=e=>e===!0||e===!1,Hl=e=>{if(ff(e)!=="object")return!1;const t=Ay(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kB=Br("Date"),OB=Br("File"),LB=Br("Blob"),MB=Br("FileList"),NB=e=>hf(e)&&Jt(e.pipe),jB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Jt(e.append)&&((t=ff(e))==="formdata"||t==="object"&&Jt(e.toString)&&e.toString()==="[object FormData]"))},IB=Br("URLSearchParams"),[$B,AB,FB,BB]=["ReadableStream","Request","Response","Headers"].map(Br),zB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),qo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function ex(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tx=e=>!ic(e)&&e!==Hs;function am(){const{caseless:e}=tx(this)&&this||{},t={},r=(n,s)=>{const i=e&&ex(t,s)||s;Hl(t[i])&&Hl(n)?t[i]=am(t[i],n):Hl(n)?t[i]=am({},n):qo(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Nc(arguments[n],r);return t}const UB=(e,t,r,{allOwnKeys:n}={})=>(Nc(t,(s,i)=>{r&&Jt(s)?e[i]=XC(s,r):e[i]=s},{allOwnKeys:n}),e),VB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HB=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},WB=(e,t,r,n)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Ay(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},qB=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},KB=e=>{if(!e)return null;if(qo(e))return e;let t=e.length;if(!ZC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},GB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ay(Uint8Array)),YB=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},QB=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},XB=Br("HTMLFormElement"),JB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),aS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ZB=Br("RegExp"),rx=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Nc(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},e9=e=>{rx(e,(t,r)=>{if(Jt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Jt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},t9=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return qo(e)?n(e):n(String(e).split(t)),r},r9=()=>{},n9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Pp="abcdefghijklmnopqrstuvwxyz",cS="0123456789",nx={DIGIT:cS,ALPHA:Pp,ALPHA_DIGIT:Pp+Pp.toUpperCase()+cS},s9=(e=16,t=nx.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function i9(e){return!!(e&&Jt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const o9=e=>{const t=new Array(10),r=(n,s)=>{if(hf(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=qo(n)?[]:{};return Nc(n,(o,a)=>{const c=r(o,s+1);!ic(c)&&(i[a]=c)}),t[s]=void 0,i}}return n};return r(e,0)},a9=Br("AsyncFunction"),c9=e=>e&&(hf(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),sx=((e,t)=>e?setImmediate:t?((r,n)=>(Hs.addEventListener("message",({source:s,data:i})=>{s===Hs&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Hs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Jt(Hs.postMessage)),l9=typeof queueMicrotask<"u"?queueMicrotask.bind(Hs):typeof process<"u"&&process.nextTick||sx,D={isArray:qo,isArrayBuffer:JC,isBuffer:EB,isFormData:jB,isArrayBufferView:TB,isString:PB,isNumber:ZC,isBoolean:DB,isObject:hf,isPlainObject:Hl,isReadableStream:$B,isRequest:AB,isResponse:FB,isHeaders:BB,isUndefined:ic,isDate:kB,isFile:OB,isBlob:LB,isRegExp:ZB,isFunction:Jt,isStream:NB,isURLSearchParams:IB,isTypedArray:GB,isFileList:MB,forEach:Nc,merge:am,extend:UB,trim:zB,stripBOM:VB,inherits:HB,toFlatObject:WB,kindOf:ff,kindOfTest:Br,endsWith:qB,toArray:KB,forEachEntry:YB,matchAll:QB,isHTMLForm:XB,hasOwnProperty:aS,hasOwnProp:aS,reduceDescriptors:rx,freezeMethods:e9,toObjectSet:t9,toCamelCase:JB,noop:r9,toFiniteNumber:n9,findKey:ex,global:Hs,isContextDefined:tx,ALPHABET:nx,generateString:s9,isSpecCompliantForm:i9,toJSONObject:o9,isAsyncFn:a9,isThenable:c9,setImmediate:sx,asap:l9};function se(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}D.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const ix=se.prototype,ox={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ox[e]={value:e}});Object.defineProperties(se,ox);Object.defineProperty(ix,"isAxiosError",{value:!0});se.from=(e,t,r,n,s,i)=>{const o=Object.create(ix);return D.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),se.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const u9=null;function cm(e){return D.isPlainObject(e)||D.isArray(e)}function ax(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function lS(e,t,r){return e?e.concat(t).map(function(s,i){return s=ax(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function d9(e){return D.isArray(e)&&!e.some(cm)}const f9=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function mf(e,t,r){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!D.isUndefined(g[m])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(D.isDate(h))return h.toISOString();if(!c&&D.isBlob(h))throw new se("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(h)||D.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,g){let v=h;if(h&&!g&&typeof h=="object"){if(D.endsWith(m,"{}"))m=n?m:m.slice(0,-2),h=JSON.stringify(h);else if(D.isArray(h)&&d9(h)||(D.isFileList(h)||D.endsWith(m,"[]"))&&(v=D.toArray(h)))return m=ax(m),v.forEach(function(w,b){!(D.isUndefined(w)||w===null)&&t.append(o===!0?lS([m],b,i):o===null?m:m+"[]",l(w))}),!1}return cm(h)?!0:(t.append(lS(g,m,i),l(h)),!1)}const d=[],f=Object.assign(f9,{defaultVisitor:u,convertValue:l,isVisitable:cm});function p(h,m){if(!D.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),D.forEach(h,function(v,_){(!(D.isUndefined(v)||v===null)&&s.call(t,v,D.isString(_)?_.trim():_,m,f))===!0&&p(v,m?m.concat(_):[_])}),d.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return p(e),t}function uS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Fy(e,t){this._pairs=[],e&&mf(e,this,t)}const cx=Fy.prototype;cx.append=function(t,r){this._pairs.push([t,r])};cx.toString=function(t){const r=t?function(n){return t.call(this,n,uS)}:uS;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function p9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lx(e,t,r){if(!t)return e;const n=r&&r.encode||p9,s=r&&r.serialize;let i;if(s?i=s(t,r):i=D.isURLSearchParams(t)?t.toString():new Fy(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ux={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},h9=typeof URLSearchParams<"u"?URLSearchParams:Fy,m9=typeof FormData<"u"?FormData:null,g9=typeof Blob<"u"?Blob:null,y9={isBrowser:!0,classes:{URLSearchParams:h9,FormData:m9,Blob:g9},protocols:["http","https","file","blob","url","data"]},By=typeof window<"u"&&typeof document<"u",lm=typeof navigator=="object"&&navigator||void 0,v9=By&&(!lm||["ReactNative","NativeScript","NS"].indexOf(lm.product)<0),w9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_9=By&&window.location.href||"http://localhost",S9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:By,hasStandardBrowserEnv:v9,hasStandardBrowserWebWorkerEnv:w9,navigator:lm,origin:_9},Symbol.toStringTag,{value:"Module"})),Bt={...S9,...y9};function b9(e,t){return mf(e,new Bt.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Bt.isNode&&D.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function R9(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C9(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function dx(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&D.isArray(s)?s.length:o,c?(D.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&D.isArray(s[o])&&(s[o]=C9(s[o])),!a)}if(D.isFormData(e)&&D.isFunction(e.entries)){const r={};return D.forEachEntry(e,(n,s)=>{t(R9(n),s,r,0)}),r}return null}function x9(e,t,r){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const jc={transitional:ux,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=D.isObject(t);if(i&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return s?JSON.stringify(dx(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return b9(t,this.formSerializer).toString();if((a=D.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mf(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),x9(t)):t}],transformResponse:[function(t){const r=this.transitional||jc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{jc.headers[e]={}});const E9=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T9=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&E9[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},fS=Symbol("internals");function fa(e){return e&&String(e).trim().toLowerCase()}function Wl(e){return e===!1||e==null?e:D.isArray(e)?e.map(Wl):String(e)}function P9(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const D9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dp(e,t,r,n,s){if(D.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!D.isString(t)){if(D.isString(n))return t.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(t)}}function k9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function O9(e,t){const r=D.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}class zt{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(a,c,l){const u=fa(c);if(!u)throw new Error("header name must be a non-empty string");const d=D.findKey(s,u);(!d||s[d]===void 0||l===!0||l===void 0&&s[d]!==!1)&&(s[d||c]=Wl(a))}const o=(a,c)=>D.forEach(a,(l,u)=>i(l,u,c));if(D.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(D.isString(t)&&(t=t.trim())&&!D9(t))o(T9(t),r);else if(D.isHeaders(t))for(const[a,c]of t.entries())i(c,a,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=fa(t),t){const n=D.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return P9(s);if(D.isFunction(r))return r.call(this,s,n);if(D.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=fa(t),t){const n=D.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Dp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=fa(o),o){const a=D.findKey(n,o);a&&(!r||Dp(n,n[a],a,r))&&(delete n[a],s=!0)}}return D.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Dp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return D.forEach(this,(s,i)=>{const o=D.findKey(n,i);if(o){r[o]=Wl(s),delete r[i];return}const a=t?k9(i):String(i).trim();a!==i&&delete r[i],r[a]=Wl(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return D.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&D.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[fS]=this[fS]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=fa(o);n[a]||(O9(s,o),n[a]=!0)}return D.isArray(t)?t.forEach(i):i(t),this}}zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(zt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});D.freezeMethods(zt);function kp(e,t){const r=this||jc,n=t||r,s=zt.from(n.headers);let i=n.data;return D.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function fx(e){return!!(e&&e.__CANCEL__)}function Ko(e,t,r){se.call(this,e??"canceled",se.ERR_CANCELED,t,r),this.name="CanceledError"}D.inherits(Ko,se,{__CANCEL__:!0});function px(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new se("Request failed with status code "+r.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function L9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function M9(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[i];o||(o=l),r[s]=c,n[s]=l;let d=i,f=0;for(;d!==s;)f+=r[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(f*1e3/p):void 0}}function N9(e,t){let r=0,n=1e3/t,s,i;const o=(l,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-r;d>=n?o(l,u):(s=l,i||(i=setTimeout(()=>{i=null,o(s)},n-d)))},()=>s&&o(s)]}const Mu=(e,t,r=3)=>{let n=0;const s=M9(50,250);return N9(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,l=s(c),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},r)},pS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hS=e=>(...t)=>D.asap(()=>e(...t)),j9=Bt.hasStandardBrowserEnv?function(){const t=Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent),r=document.createElement("a");let n;function s(i){let o=i;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(o){const a=D.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),I9=Bt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function A9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hx(e,t){return e&&!$9(t)?A9(e,t):t}const mS=e=>e instanceof zt?{...e}:e;function si(e,t){t=t||{};const r={};function n(l,u,d){return D.isPlainObject(l)&&D.isPlainObject(u)?D.merge.call({caseless:d},l,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function s(l,u,d){if(D.isUndefined(u)){if(!D.isUndefined(l))return n(void 0,l,d)}else return n(l,u,d)}function i(l,u){if(!D.isUndefined(u))return n(void 0,u)}function o(l,u){if(D.isUndefined(u)){if(!D.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in t)return n(l,u);if(d in e)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(mS(l),mS(u),!0)};return D.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||s,f=d(e[u],t[u],u);D.isUndefined(f)&&d!==a||(r[u]=f)}),r}const mx=e=>{const t=si({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=zt.from(o),t.url=lx(hx(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(D.isFormData(r)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Bt.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(t)),n||n!==!1&&j9(t.url))){const l=s&&i&&I9.read(i);l&&o.set(s,l)}return t},F9=typeof XMLHttpRequest<"u",B9=F9&&function(e){return new Promise(function(r,n){const s=mx(e);let i=s.data;const o=zt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=s,u,d,f,p,h;function m(){p&&p(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const w=zt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};px(function(E){r(E),m()},function(E){n(E),m()},C),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(n(new se("Request aborted",se.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new se("Network Error",se.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||ux;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new se(b,C.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&D.forEach(o.toJSON(),function(b,C){g.setRequestHeader(C,b)}),D.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),a&&a!=="json"&&(g.responseType=s.responseType),l&&([f,h]=Mu(l,!0),g.addEventListener("progress",f)),c&&g.upload&&([d,p]=Mu(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{g&&(n(!w||w.type?new Ko(null,e,g):w),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=L9(s.url);if(_&&Bt.protocols.indexOf(_)===-1){n(new se("Unsupported protocol "+_+":",se.ERR_BAD_REQUEST,e));return}g.send(i||null)})},z9=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(l){if(!s){s=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof se?u:new Ko(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>D.asap(a),c}},U9=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},V9=async function*(e,t){for await(const r of H9(e))yield*U9(r,t)},H9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},gS=(e,t,r,n)=>{const s=V9(e,t);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){a(),c.close();return}let d=u.byteLength;if(r){let f=i+=d;r(f)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gx=gf&&typeof ReadableStream=="function",W9=gf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},q9=gx&&yx(()=>{let e=!1;const t=new Request(Bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),yS=64*1024,um=gx&&yx(()=>D.isReadableStream(new Response("").body)),Nu={stream:um&&(e=>e.body)};gf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nu[t]&&(Nu[t]=D.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new se(`Response type '${t}' is not supported`,se.ERR_NOT_SUPPORT,n)})})})(new Response);const K9=async e=>{if(e==null)return 0;if(D.isBlob(e))return e.size;if(D.isSpecCompliantForm(e))return(await new Request(Bt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(D.isArrayBufferView(e)||D.isArrayBuffer(e))return e.byteLength;if(D.isURLSearchParams(e)&&(e=e+""),D.isString(e))return(await W9(e)).byteLength},G9=async(e,t)=>{const r=D.toFiniteNumber(e.getContentLength());return r??K9(t)},Y9=gf&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=mx(e);l=l?(l+"").toLowerCase():"text";let p=z9([s,i&&i.toAbortSignal()],o),h;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&q9&&r!=="get"&&r!=="head"&&(g=await G9(u,n))!==0){let C=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(D.isFormData(n)&&(R=C.headers.get("content-type"))&&u.setContentType(R),C.body){const[E,x]=pS(g,Mu(hS(c)));n=gS(C.body,yS,E,x)}}D.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;h=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?d:void 0});let _=await fetch(h);const w=um&&(l==="stream"||l==="response");if(um&&(a||w&&m)){const C={};["status","statusText","headers"].forEach(k=>{C[k]=_[k]});const R=D.toFiniteNumber(_.headers.get("content-length")),[E,x]=a&&pS(R,Mu(hS(a),!0))||[];_=new Response(gS(_.body,yS,E,()=>{x&&x(),m&&m()}),C)}l=l||"text";let b=await Nu[D.findKey(Nu,l)||"text"](_,e);return!w&&m&&m(),await new Promise((C,R)=>{px(C,R,{data:b,headers:zt.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:h})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,e,h),{cause:v.cause||v}):se.from(v,v&&v.code,e,h)}}),dm={http:u9,xhr:B9,fetch:Y9};D.forEach(dm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vS=e=>`- ${e}`,Q9=e=>D.isFunction(e)||e===null||e===!1,vx={getAdapter:e=>{e=D.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Q9(r)&&(n=dm[(o=String(r)).toLowerCase()],n===void 0))throw new se(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(vS).join(`
`):" "+vS(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:dm};function Op(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ko(null,e)}function wS(e){return Op(e),e.headers=zt.from(e.headers),e.data=kp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vx.getAdapter(e.adapter||jc.adapter)(e).then(function(n){return Op(e),n.data=kp.call(e,e.transformResponse,n),n.headers=zt.from(n.headers),n},function(n){return fx(n)||(Op(e),n&&n.response&&(n.response.data=kp.call(e,e.transformResponse,n.response),n.response.headers=zt.from(n.response.headers))),Promise.reject(n)})}const wx="1.7.7",zy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zy[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _S={};zy.transitional=function(t,r,n){function s(i,o){return"[Axios v"+wx+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new se(s(o," has been removed"+(r?" in "+r:"")),se.ERR_DEPRECATED);return r&&!_S[o]&&(_S[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};function X9(e,t,r){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new se("option "+i+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const fm={assertOptions:X9,validators:zy},Qn=fm.validators;class Gs{constructor(t){this.defaults=t,this.interceptors={request:new dS,response:new dS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=si(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&fm.assertOptions(n,{silentJSONParsing:Qn.transitional(Qn.boolean),forcedJSONParsing:Qn.transitional(Qn.boolean),clarifyTimeoutError:Qn.transitional(Qn.boolean)},!1),s!=null&&(D.isFunction(s)?r.paramsSerializer={serialize:s}:fm.assertOptions(s,{encode:Qn.function,serialize:Qn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&D.merge(i.common,i[r.method]);i&&D.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=zt.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!c){const h=[wS.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),f=h.length,u=Promise.resolve(r);d<f;)u=u.then(h[d++],h[d++]);return u}f=a.length;let p=r;for(d=0;d<f;){const h=a[d++],m=a[d++];try{p=h(p)}catch(g){m.call(this,g);break}}try{u=wS.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=l.length;d<f;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=si(this.defaults,t);const r=hx(t.baseURL,t.url);return lx(r,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){Gs.prototype[t]=function(r,n){return this.request(si(n||{},{method:t,url:r,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(si(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gs.prototype[t]=r(),Gs.prototype[t+"Form"]=r(!0)});class Uy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new Ko(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Uy(function(s){t=s}),cancel:t}}}function J9(e){return function(r){return e.apply(null,r)}}function Z9(e){return D.isObject(e)&&e.isAxiosError===!0}const pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pm).forEach(([e,t])=>{pm[t]=e});function _x(e){const t=new Gs(e),r=XC(Gs.prototype.request,t);return D.extend(r,Gs.prototype,t,{allOwnKeys:!0}),D.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return _x(si(e,s))},r}const We=_x(jc);We.Axios=Gs;We.CanceledError=Ko;We.CancelToken=Uy;We.isCancel=fx;We.VERSION=wx;We.toFormData=mf;We.AxiosError=se;We.Cancel=We.CanceledError;We.all=function(t){return Promise.all(t)};We.spread=J9;We.isAxiosError=Z9;We.mergeConfig=si;We.AxiosHeaders=zt;We.formToJSON=e=>dx(D.isHTMLForm(e)?new FormData(e):e);We.getAdapter=vx.getAdapter;We.HttpStatusCode=pm;We.default=We;const Sx="http://localhost:3001",e6=async e=>{try{const t=await We.post(Sx+"/users",e);return console.log("User registered:",t.data),t.data}catch(t){throw console.error("Error registering user:",t),t}},t6=async e=>{try{const t=await We.get(Sx+"/users?email="+e.email);if(console.log("Login:",t.data),t.data.length<1)throw new Error("    ");return t.data[0]}catch(t){throw console.error("Error registering user:",t),t}},bx={registerUser:e6,loginUser:t6},r6=e=>e instanceof Error?e.message:String(e),ql=sC("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await bx.registerUser(e)}catch(r){return t(r6(r))}}),Lp=sC("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await bx.loginUser(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),n6=()=>{const e=$d(),t=QC({initialValues:{email:"",fullName:"",course:"",group:"",password:""},validate:{email:n=>/^\S+@\S+$/.test(n)?null:"  email",fullName:n=>n.trim().length>0?null:" ",course:n=>n?null:" ",group:n=>n.trim().length>0?null:" ",password:n=>n.trim().length>0?null:" "}}),r=n=>{console.log("Account Data:",n),e(ql(n))};return y.jsx(y.Fragment,{children:y.jsxs(wd,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[y.jsx(Ye,{fw:500,mb:"md",children:"  "}),y.jsx("form",{onSubmit:t.onSubmit(r),children:y.jsxs(nt,{gap:"md",children:[y.jsx(Tn,{label:"Email",placeholder:" email",...t.getInputProps("email"),required:!0}),y.jsx(Tn,{label:"",placeholder:" ",...t.getInputProps("fullName"),required:!0}),y.jsx(oy,{label:"",placeholder:" ",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"}],...t.getInputProps("course"),required:!0}),y.jsx(Tn,{label:"",placeholder:" ",...t.getInputProps("group"),required:!0}),y.jsx(Tn,{label:"",placeholder:" ",...t.getInputProps("password"),required:!0}),y.jsx(Dt,{justify:"center",mt:"md",children:y.jsx(pr,{type:"submit",children:""})})]})})]})})},s6={user:{id:"",email:"",fullName:"Anonymous",course:"",group:"",password:""},roomName:"11",isLoggedIn:!1,error:"",isLoading:!1},Rx=iC({name:"user",initialState:s6,reducers:{setUserName(e,t){e.user.fullName=t.payload}},extraReducers:e=>{e.addCase(ql.pending,t=>{t.error=""}).addCase(ql.fulfilled,(t,r)=>{t.user=r.payload,t.isLoggedIn=!0}).addCase(ql.rejected,(t,r)=>{t.error=r.payload}).addCase(Lp.pending,t=>{t.error=""}).addCase(Lp.fulfilled,(t,r)=>{t.user=r.payload,t.isLoggedIn=!0}).addCase(Lp.rejected,(t,r)=>{t.error=r.payload})}}),{setUserName:i6}=Rx.actions,o6=Rx.reducer,a6=()=>{const e=$d(),t=NR(),r=QC({initialValues:{name:""},validate:{name:s=>s.trim().length<2?"  ":null}}),n=async s=>{e(i6(s.name)),t("/main")};return y.jsx(y.Fragment,{children:y.jsx(vc,{shadow:"md",radius:"md",p:"md",c:"#000000",w:{base:300,lg:500},children:y.jsx("form",{onSubmit:r.onSubmit(n),children:y.jsxs(nt,{gap:"md",children:[y.jsx(Tn,{label:"  ",placeholder:"",...r.getInputProps("name")}),y.jsx(pr,{type:"submit",children:""})]})})})})},c6=({isOwnMessage:e,userName:t,content:r})=>y.jsxs(Dt,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[y.jsx($r,{size:"md",color:"blue",children:t[0]}),y.jsx(B,{style:{backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column"},children:y.jsx(Ye,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r})})]}),l6=({openSidebar:e,openDetailsPanel:t})=>{const[r,n]=S.useState([{userName:"User1",content:"Hello, how are you?",isOwnMessage:!1},{userName:"You",content:"I am good, thanks!",isOwnMessage:!0}]),[s,i]=S.useState(""),o=()=>{s.trim()&&(n([...r,{userName:"You",content:s,isOwnMessage:!0}]),i(""))};return y.jsxs(B,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[y.jsxs(Dt,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[y.jsx(_t,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:y.jsx(E2,{size:20})}),y.jsx(Tn,{leftSection:y.jsx(L2,{size:16}),placeholder:"..."}),y.jsx(_t,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:y.jsx(N2,{size:20})})]}),y.jsx(yr,{my:"md"}),y.jsx(Ps,{style:{flex:1},children:y.jsx(nt,{gap:"sm",children:r.map((a,c)=>y.jsx(c6,{userName:a.userName,content:a.content,isOwnMessage:a.isOwnMessage},c))})}),y.jsxs(Dt,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[y.jsx(_t,{size:"xl",variant:"transparent",children:y.jsx(VR,{size:20})}),y.jsx(Tn,{w:"100%",placeholder:"...",value:s,onChange:a=>i(a.target.value)}),y.jsx(_t,{size:"xl",variant:"transparent",onClick:o,children:y.jsx(WR,{size:20})})]})]})},Cx=e=>{const t=e.reduce((r,n)=>(r[n.socketId]||(r[n.socketId]={userName:n.userName,producerIds:[]}),r[n.socketId].producerIds.push(n.producerId),r),{});return console.log(t),t},u6=({users:e,consumers:t,onOpenStream:r})=>{const n=$d(),s=Cx(e),i=o=>{if(s[o].producerIds.length>1){const c=t.find(l=>l.kind==="video"&&s[o].producerIds.includes(l.producerId));if(c){const l=new MediaStream([c.track]);r(l)}}};return y.jsxs(Ps,{style:{flex:1,maxHeight:"100%"},children:[y.jsx(Dt,{justify:"flex-end",children:y.jsx(_t,{variant:"transparent",onClick:()=>n(aC()),children:y.jsx(b2,{})})}),y.jsx(Nd,{cols:{base:2,lg:3},spacing:"sm",children:Object.entries(s).map(([o,{userName:a,producerIds:c}])=>{const l=c.length>1;return y.jsxs(B,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[y.jsx($r,{radius:"xl",size:"lg",color:"blue",children:a[0]}),y.jsx(Ye,{c:"white",children:a}),l&&y.jsx(pr,{size:"xs",variant:"outline",onClick:()=>i(o),children:" "})]},o)})})]})},d6=({users:e,consumers:t})=>{const[r,n]=S.useState(null),s=a=>{n(a)},i=()=>{n(null)},o=Cx(e);return y.jsx(B,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?y.jsxs(B,{style:{position:"relative",flex:1},children:[y.jsx("video",{autoPlay:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"},ref:a=>{a&&(a.srcObject=r)}}),y.jsxs(pr,{variant:"filled",color:"red",onClick:i,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[y.jsx($2,{size:20})," "]}),y.jsx(B,{style:{position:"absolute",bottom:0,width:"100%"},children:y.jsx(Ps,{children:y.jsx(Nd,{cols:2,spacing:"sm",p:"sm",children:Object.entries(o).map(([a,{userName:c}])=>y.jsxs(B,{style:{padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center"},children:[y.jsx($r,{radius:"xl",size:"sm",children:c[0]}),y.jsx(Ye,{c:"white",size:"xs",children:c})]},a))})})})]}):y.jsx(u6,{users:e,consumers:t,onOpenStream:s})})},SS=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],f6=()=>y.jsx(B,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:200,lg:300},visibleFrom:"sm",children:y.jsxs(nt,{gap:"md",children:[y.jsx(Ye,{c:"white",children:""}),y.jsx(yr,{color:"gray"}),y.jsx(Ye,{c:"gray",children:" "}),y.jsx(nt,{children:SS.filter(e=>e.online).map(e=>y.jsxs(Dt,{wrap:"nowrap",children:[y.jsx($r,{size:"md",color:"blue",children:e.name[0]}),y.jsx(Ye,{c:"white",children:e.name}),y.jsx(Co,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:" "})]},e.id))}),y.jsx(yr,{color:"gray"}),y.jsx(Ye,{c:"gray",children:"  "}),y.jsx(nt,{children:SS.filter(e=>!e.online).map(e=>y.jsxs(Dt,{wrap:"nowrap",children:[y.jsx($r,{size:"md",color:"blue",children:e.name[0]}),y.jsx(Ye,{c:"dimmed",children:e.name}),y.jsx(Co,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"  "})]},e.id))})]})}),bS=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],p6=({onClose:e,opened:t})=>y.jsx(y.Fragment,{children:y.jsx(Fr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:y.jsx(B,{style:{padding:"10px",backgroundColor:"#1A1B1E"},children:y.jsxs(nt,{gap:"md",children:[y.jsx(Ye,{c:"white",children:""}),y.jsx(yr,{color:"gray"}),y.jsx(Ye,{c:"gray",children:" "}),y.jsx(nt,{children:bS.filter(r=>r.online).map(r=>y.jsxs(Dt,{wrap:"nowrap",children:[y.jsx($r,{size:"md",color:"blue",children:r.name[0]}),y.jsx(Ye,{c:"white",children:r.name}),y.jsx(Co,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:" "})]},r.id))}),y.jsx(yr,{color:"gray"}),y.jsx(Ye,{c:"gray",children:"  "}),y.jsx(nt,{children:bS.filter(r=>!r.online).map(r=>y.jsxs(Dt,{wrap:"nowrap",children:[y.jsx($r,{size:"md",color:"blue",children:r.name[0]}),y.jsx(Ye,{c:"dimmed",children:r.name}),y.jsx(Co,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"  "})]},r.id))})]})})})}),h6=({serverName:e})=>y.jsx(_t,{size:"xl",radius:"xl",variant:"transparent",children:y.jsx($r,{size:"md",color:"blue",children:e})}),m6=()=>y.jsxs(md,{w:50,bg:"#0E0E10",align:"center",direction:"column",p:"10px 0",children:[y.jsx(_t,{size:"lg",variant:"transparent",children:y.jsx(x2,{size:24,color:"#fff"})}),y.jsx(yr,{my:"sm"}),y.jsx(nt,{gap:"sm",align:"center",children:y.jsx(h6,{serverName:""})}),y.jsx(yr,{my:"sm"}),y.jsx(_t,{size:"lg",variant:"transparent",children:y.jsx(R2,{size:24,color:"#fff"})})]});function xx({onClose:e}){const[t,{toggle:r}]=wu(!0),[n,s]=S.useState("channel1");return y.jsx(y.Fragment,{children:y.jsxs(nt,{align:"flex-start",gap:"xs",children:[y.jsxs(Dt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(pr,{leftSection:t?y.jsx(FR,{}):y.jsx(BR,{}),variant:"transparent",onClick:r,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),y.jsx(_t,{variant:"transparent",children:y.jsx(HR,{color:"#ffffff"})})]}),y.jsx(_g,{in:t,w:"100%",children:y.jsxs(nt,{gap:"xs",children:[y.jsx(pr,{leftSection:y.jsx(Yw,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{backgroundColor:n==="channel1"?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:()=>{s("channel1"),e()},children:"  1"}),y.jsx(pr,{leftSection:y.jsx(Yw,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{backgroundColor:n==="channel2"?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:()=>{s("channel2"),e()},children:"  2"})]})})]})})}const Ex=({isConnected:e,startScreenSharing:t,stopScreenSharing:r,onDisconnect:n,toggleMute:s,isMuted:i})=>{const{user:o}=tc(u=>u.userStore),[a,c]=S.useState(!1),l=()=>{a?r():t(),c(u=>!u)};return y.jsxs(nt,{mt:"auto",children:[e&&y.jsxs(Dt,{gap:"xs",justify:"space-between",children:[y.jsx(_t,{variant:"transparent","aria-label":"Settings",onClick:l,c:"#ffffff",children:a?y.jsx(D2,{}):y.jsx(P2,{})}),y.jsx(_t,{variant:"transparent","aria-label":"Settings",onClick:s,c:"#ffffff",children:i?y.jsx(zR,{}):y.jsx(UR,{})}),y.jsx(_t,{variant:"transparent","aria-label":"Settings",onClick:n,c:"#ffffff",children:y.jsx(k2,{})})]}),y.jsx(yr,{}),y.jsx(Ye,{truncate:!0,children:o.fullName})]})},g6=({connect:e,disconnect:t,startScreenSharing:r,stopScreenSharing:n,consumers:s,connected:i,users:o,toggleMute:a,isMuted:c,onClose:l,opened:u})=>y.jsx(y.Fragment,{children:y.jsx(Fr,{opened:u,onClose:l,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:y.jsxs(nt,{gap:"xs",bg:"#1A1B1E",p:10,h:"100%",children:[y.jsx(Ye,{children:" #1"}),y.jsx(yr,{}),y.jsx(xx,{onClose:l}),y.jsx(hy,{connect:e,connected:i,consumers:s,users:o}),y.jsx(Ex,{isConnected:i,startScreenSharing:r,stopScreenSharing:n,onDisconnect:t,toggleMute:a,isMuted:c})]})})}),y6=({connect:e,disconnect:t,startScreenSharing:r,stopScreenSharing:n,consumers:s,connected:i,users:o,toggleMute:a,isMuted:c,onClose:l})=>y.jsxs(nt,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[y.jsx(Ye,{children:" #1"}),y.jsx(yr,{}),y.jsx(xx,{onClose:l}),y.jsx(hy,{connect:e,connected:i,consumers:s,users:o}),y.jsx(Ex,{isConnected:i,startScreenSharing:r,stopScreenSharing:n,onDisconnect:t,toggleMute:a,isMuted:c})]}),v6=()=>{const{isUserStreamView:e}=tc(_=>_.appStore),{roomName:t,user:r}=tc(_=>_.userStore),{connect:n,disconnect:s,startScreenSharing:i,stopScreenSharing:o,consumers:a,connected:c,users:l,toggleMute:u,isMuted:d}=GC(t,r.fullName),[f,{open:p,close:h}]=wu(!1),[m,{open:g,close:v}]=wu(!1);return y.jsxs(B,{style:{display:"flex",height:"100dvh"},children:[y.jsx(m6,{}),y.jsx(y6,{connect:n,disconnect:s,startScreenSharing:i,stopScreenSharing:o,consumers:a,connected:c,users:l,toggleMute:u,isMuted:d,onClose:h}),e?y.jsx(d6,{users:l,consumers:a}):y.jsx(l6,{openSidebar:p,openDetailsPanel:g}),y.jsx(f6,{}),y.jsx(g6,{connect:n,disconnect:s,startScreenSharing:i,stopScreenSharing:o,consumers:a,connected:c,users:l,toggleMute:u,isMuted:d,onClose:h,opened:f}),y.jsx(p6,{onClose:v,opened:m})]})};function w6(){return y.jsx(c2,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:y.jsxs(c1,{children:[y.jsx(zn,{}),y.jsxs(t2,{children:[y.jsx(zi,{path:"/",element:y.jsx(v2,{})}),y.jsx(zi,{path:"/main",element:y.jsx(lB,{})}),y.jsx(zi,{path:"/test",element:y.jsx(v6,{})}),y.jsx(zi,{path:"/login",element:y.jsx(a6,{})}),y.jsx(zi,{path:"/register",element:y.jsx(n6,{})})]})]})})}const _6=kI({reducer:{userStore:o6,appStore:XI}});j0(document.getElementById("root")).render(y.jsx(bP,{store:_6,children:y.jsx(w6,{})}));
