var JC=Object.defineProperty;var ZC=(e,t,r)=>t in e?JC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ef=(e,t,r)=>ZC(e,typeof t!="symbol"?t+"":t,r);function eE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VS={exports:{}},Wu={},HS={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),tE=Symbol.for("react.portal"),rE=Symbol.for("react.fragment"),nE=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),cE=Symbol.for("react.suspense"),lE=Symbol.for("react.memo"),uE=Symbol.for("react.lazy"),lv=Symbol.iterator;function dE(e){return e===null||typeof e!="object"?null:(e=lv&&e[lv]||e["@@iterator"],typeof e=="function"?e:null)}var WS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qS=Object.assign,KS={};function ko(e,t,r){this.props=e,this.context=t,this.refs=KS,this.updater=r||WS}ko.prototype.isReactComponent={};ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GS(){}GS.prototype=ko.prototype;function xm(e,t,r){this.props=e,this.context=t,this.refs=KS,this.updater=r||WS}var Cm=xm.prototype=new GS;Cm.constructor=xm;qS(Cm,ko.prototype);Cm.isPureReactComponent=!0;var uv=Array.isArray,YS=Object.prototype.hasOwnProperty,Em={current:null},QS={key:!0,ref:!0,__self:!0,__source:!0};function XS(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)YS.call(t,n)&&!QS.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:vc,type:e,key:i,ref:o,props:s,_owner:Em.current}}function fE(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tm(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function pE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dv=/\/+/g;function Tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pE(""+e.key):t.toString(36)}function Il(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vc:case tE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Tf(o,0):n,uv(s)?(r="",e!=null&&(r=e.replace(dv,"$&/")+"/"),Il(s,t,r,"",function(l){return l})):s!=null&&(Tm(s)&&(s=fE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",uv(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+Tf(i,a);o+=Il(i,t,r,c,s)}else if(c=dE(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+Tf(i,a++),o+=Il(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qc(e,t,r){if(e==null)return e;var n=[],s=0;return Il(e,n,"","",function(i){return t.call(r,i,s++)}),n}function hE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},jl={transition:null},mE={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:jl,ReactCurrentOwner:Em};function JS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:qc,forEach:function(e,t,r){qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qc(e,function(){t++}),t},toArray:function(e){return qc(e,function(t){return t})||[]},only:function(e){if(!Tm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ko;ce.Fragment=rE;ce.Profiler=sE;ce.PureComponent=xm;ce.StrictMode=nE;ce.Suspense=cE;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE;ce.act=JS;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qS({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Em.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)YS.call(t,c)&&!QS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:vc,type:e.type,key:s,ref:i,props:n,_owner:o}};ce.createContext=function(e){return e={$$typeof:oE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iE,_context:e},e.Consumer=e};ce.createElement=XS;ce.createFactory=function(e){var t=XS.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:aE,render:e}};ce.isValidElement=Tm;ce.lazy=function(e){return{$$typeof:uE,_payload:{_status:-1,_result:e},_init:hE}};ce.memo=function(e,t){return{$$typeof:lE,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};ce.unstable_act=JS;ce.useCallback=function(e,t){return $t.current.useCallback(e,t)};ce.useContext=function(e){return $t.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};ce.useEffect=function(e,t){return $t.current.useEffect(e,t)};ce.useId=function(){return $t.current.useId()};ce.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return $t.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};ce.useRef=function(e){return $t.current.useRef(e)};ce.useState=function(e){return $t.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return $t.current.useTransition()};ce.version="18.3.1";HS.exports=ce;var S=HS.exports;const wr=Rm(S),su=eE({__proto__:null,default:wr},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=S,yE=Symbol.for("react.element"),vE=Symbol.for("react.fragment"),wE=Object.prototype.hasOwnProperty,_E=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SE={key:!0,ref:!0,__self:!0,__source:!0};function ZS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wE.call(t,n)&&!SE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:yE,type:e,key:i,ref:o,props:s,_owner:_E.current}}Wu.Fragment=vE;Wu.jsx=ZS;Wu.jsxs=ZS;VS.exports=Wu;var y=VS.exports,eb={exports:{}},lr={},tb={exports:{}},rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var j=T.length;T.push(M);e:for(;0<j;){var I=j-1>>>1,U=T[I];if(0<s(U,M))T[I]=M,T[j]=U,j=I;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],j=T.pop();if(j!==M){T[0]=j;e:for(var I=0,U=T.length,J=U>>>1;I<J;){var ge=2*(I+1)-1,Ee=T[ge],Te=ge+1,fe=T[Te];if(0>s(Ee,j))Te<U&&0>s(fe,Ee)?(T[I]=fe,T[Te]=j,I=Te):(T[I]=Ee,T[ge]=j,I=ge);else if(Te<U&&0>s(fe,j))T[I]=fe,T[Te]=j,I=Te;else break e}}return M}function s(T,M){var j=T.sortIndex-M.sortIndex;return j!==0?j:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,f=3,p=!1,h=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var M=r(l);M!==null;){if(M.callback===null)n(l);else if(M.startTime<=T)n(l),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(l)}}function b(T){if(m=!1,w(T),!h)if(r(c)!==null)h=!0,$(x);else{var M=r(l);M!==null&&W(b,M.startTime-T)}}function x(T,M){h=!1,m&&(m=!1,v(C),C=-1),p=!0;var j=f;try{for(w(M),d=r(c);d!==null&&(!(d.expirationTime>M)||T&&!B());){var I=d.callback;if(typeof I=="function"){d.callback=null,f=d.priorityLevel;var U=I(d.expirationTime<=M);M=e.unstable_now(),typeof U=="function"?d.callback=U:d===r(c)&&n(c),w(M)}else n(c);d=r(c)}if(d!==null)var J=!0;else{var ge=r(l);ge!==null&&W(b,ge.startTime-M),J=!1}return J}finally{d=null,f=j,p=!1}}var R=!1,E=null,C=-1,k=5,L=-1;function B(){return!(e.unstable_now()-L<k)}function z(){if(E!==null){var T=e.unstable_now();L=T;var M=!0;try{M=E(!0,T)}finally{M?q():(R=!1,E=null)}}else R=!1}var q;if(typeof _=="function")q=function(){_(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=z,q=function(){se.postMessage(null)}}else q=function(){g(z,0)};function $(T){E=T,R||(R=!0,q())}function W(T,M){C=g(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,$(x))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var j=f;f=M;try{return T()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var j=f;f=T;try{return M()}finally{f=j}},e.unstable_scheduleCallback=function(T,M,j){var I=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?I+j:I):j=I,T){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=j+U,T={id:u++,callback:M,priorityLevel:T,startTime:j,expirationTime:U,sortIndex:-1},j>I?(T.sortIndex=j,t(l,T),r(c)===null&&T===r(l)&&(m?(v(C),C=-1):m=!0,W(b,j-I))):(T.sortIndex=U,t(c,T),h||p||(h=!0,$(x))),T},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(T){var M=f;return function(){var j=f;f=M;try{return T.apply(this,arguments)}finally{f=j}}}})(rb);tb.exports=rb;var bE=tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=S,or=bE;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nb=new Set,Ha={};function ci(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(Ha[e]=t,e=0;e<t.length;e++)nb.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,xE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fv={},pv={};function CE(e){return zp.call(pv,e)?!0:zp.call(fv,e)?!1:xE.test(e)?pv[e]=!0:(fv[e]=!0,!1)}function EE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TE(e,t,r,n){if(t===null||typeof t>"u"||EE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function Dm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pm,Dm);St[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pm,Dm);St[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pm,Dm);St[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function km(e,t,r,n){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TE(t,r,s,n)&&(r=null),n||s===null?CE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hn=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),sb=Symbol.for("react.provider"),ib=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),ob=Symbol.for("react.offscreen"),hv=Symbol.iterator;function sa(e){return e===null||typeof e!="object"?null:(e=hv&&e[hv]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,Pf;function Ra(e){if(Pf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pf=t&&t[1]||""}return`
`+Pf+e}var Df=!1;function kf(e,t){if(!e||Df)return"";Df=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Df=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ra(e):""}function PE(e){switch(e.tag){case 5:return Ra(e.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return e=kf(e.type,!1),e;case 11:return e=kf(e.type.render,!1),e;case 1:return e=kf(e.type,!0),e;default:return""}}function Wp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Wi:return"Portal";case Up:return"Profiler";case Om:return"StrictMode";case Vp:return"Suspense";case Hp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ib:return(e.displayName||"Context")+".Consumer";case sb:return(e._context.displayName||"Context")+".Provider";case Lm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mm:return t=e.displayName||null,t!==null?t:Wp(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return Wp(e(t))}catch{}}return null}function DE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(t);case 8:return t===Om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ab(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kE(e){var t=ab(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gc(e){e._valueTracker||(e._valueTracker=kE(e))}function cb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ab(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qp(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lb(e,t){t=t.checked,t!=null&&km(e,"checked",t,!1)}function Kp(e,t){lb(e,t);var r=xs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gp(e,t,r){(t!=="number"||iu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xa=Array.isArray;function so(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(xa(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xs(r)}}function ub(e,t){var r=xs(t.value),n=xs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function db(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?db(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yc,fb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OE=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(e){OE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),La[t]=La[e]})});function pb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||La.hasOwnProperty(e)&&La[e]?(""+t).trim():t+"px"}function hb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var LE=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(LE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Jp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function Im(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eh=null,io=null,oo=null;function wv(e){if(e=Sc(e)){if(typeof eh!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Qu(t),eh(e.stateNode,e.type,t))}}function mb(e){io?oo?oo.push(e):oo=[e]:io=e}function gb(){if(io){var e=io,t=oo;if(oo=io=null,wv(e),t)for(e=0;e<t.length;e++)wv(t[e])}}function yb(e,t){return e(t)}function vb(){}var Of=!1;function wb(e,t,r){if(Of)return e(t,r);Of=!0;try{return yb(e,t,r)}finally{Of=!1,(io!==null||oo!==null)&&(vb(),gb())}}function qa(e,t){var r=e.stateNode;if(r===null)return null;var n=Qu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var th=!1;if(Nn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){th=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{th=!1}function ME(e,t,r,n,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var Ma=!1,ou=null,au=!1,rh=null,IE={onError:function(e){Ma=!0,ou=e}};function jE(e,t,r,n,s,i,o,a,c){Ma=!1,ou=null,ME.apply(IE,arguments)}function NE(e,t,r,n,s,i,o,a,c){if(jE.apply(this,arguments),Ma){if(Ma){var l=ou;Ma=!1,ou=null}else throw Error(N(198));au||(au=!0,rh=l)}}function li(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _v(e){if(li(e)!==e)throw Error(N(188))}function $E(e){var t=e.alternate;if(!t){if(t=li(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return _v(s),e;if(i===n)return _v(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function Sb(e){return e=$E(e),e!==null?bb(e):null}function bb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bb(e);if(t!==null)return t;e=e.sibling}return null}var Rb=or.unstable_scheduleCallback,Sv=or.unstable_cancelCallback,AE=or.unstable_shouldYield,FE=or.unstable_requestPaint,Ke=or.unstable_now,BE=or.unstable_getCurrentPriorityLevel,jm=or.unstable_ImmediatePriority,xb=or.unstable_UserBlockingPriority,cu=or.unstable_NormalPriority,zE=or.unstable_LowPriority,Cb=or.unstable_IdlePriority,qu=null,mn=null;function UE(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qu,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:WE,VE=Math.log,HE=Math.LN2;function WE(e){return e>>>=0,e===0?32:31-(VE(e)/HE|0)|0}var Qc=64,Xc=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ca(a):(i&=o,i!==0&&(n=Ca(i)))}else o=r&~s,o!==0?n=Ca(o):i!==0&&(n=Ca(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),s=1<<r,n|=e[r],t&=~s;return n}function qE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fr(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=qE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function nh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eb(){var e=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),e}function Lf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function GE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Fr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Nm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function Tb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pb,$m,Db,kb,Ob,sh=!1,Jc=[],fs=null,ps=null,hs=null,Ka=new Map,Ga=new Map,as=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function oa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Sc(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function QE(e,t,r,n,s){switch(t){case"focusin":return fs=oa(fs,e,t,r,n,s),!0;case"dragenter":return ps=oa(ps,e,t,r,n,s),!0;case"mouseover":return hs=oa(hs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ka.set(i,oa(Ka.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ga.set(i,oa(Ga.get(i)||null,e,t,r,n,s)),!0}return!1}function Lb(e){var t=Vs(e.target);if(t!==null){var r=li(t);if(r!==null){if(t=r.tag,t===13){if(t=_b(r),t!==null){e.blockedOn=t,Ob(e.priority,function(){Db(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ih(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zp=n,r.target.dispatchEvent(n),Zp=null}else return t=Sc(r),t!==null&&$m(t),e.blockedOn=r,!1;t.shift()}return!0}function Rv(e,t,r){Nl(e)&&r.delete(t)}function XE(){sh=!1,fs!==null&&Nl(fs)&&(fs=null),ps!==null&&Nl(ps)&&(ps=null),hs!==null&&Nl(hs)&&(hs=null),Ka.forEach(Rv),Ga.forEach(Rv)}function aa(e,t){e.blockedOn===t&&(e.blockedOn=null,sh||(sh=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,XE)))}function Ya(e){function t(s){return aa(s,e)}if(0<Jc.length){aa(Jc[0],e);for(var r=1;r<Jc.length;r++){var n=Jc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fs!==null&&aa(fs,e),ps!==null&&aa(ps,e),hs!==null&&aa(hs,e),Ka.forEach(t),Ga.forEach(t),r=0;r<as.length;r++)n=as[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<as.length&&(r=as[0],r.blockedOn===null);)Lb(r),r.blockedOn===null&&as.shift()}var ao=Hn.ReactCurrentBatchConfig,uu=!0;function JE(e,t,r,n){var s=Re,i=ao.transition;ao.transition=null;try{Re=1,Am(e,t,r,n)}finally{Re=s,ao.transition=i}}function ZE(e,t,r,n){var s=Re,i=ao.transition;ao.transition=null;try{Re=4,Am(e,t,r,n)}finally{Re=s,ao.transition=i}}function Am(e,t,r,n){if(uu){var s=ih(e,t,r,n);if(s===null)Uf(e,t,n,du,r),bv(e,n);else if(QE(s,e,t,r,n))n.stopPropagation();else if(bv(e,n),t&4&&-1<YE.indexOf(e)){for(;s!==null;){var i=Sc(s);if(i!==null&&Pb(i),i=ih(e,t,r,n),i===null&&Uf(e,t,n,du,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Uf(e,t,n,null,r)}}var du=null;function ih(e,t,r,n){if(du=null,e=Im(n),e=Vs(e),e!==null)if(t=li(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_b(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function Mb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BE()){case jm:return 1;case xb:return 4;case cu:case zE:return 16;case Cb:return 536870912;default:return 16}default:return 16}}var ls=null,Fm=null,$l=null;function Ib(){if($l)return $l;var e,t=Fm,r=t.length,n,s="value"in ls?ls.value:ls.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return $l=s.slice(e,1<n?1-n:void 0)}function Al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function xv(){return!1}function ur(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zc:xv,this.isPropagationStopped=xv,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=ur(Oo),_c=Be({},Oo,{view:0,detail:0}),eT=ur(_c),Mf,If,ca,Ku=Be({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&e.type==="mousemove"?(Mf=e.screenX-ca.screenX,If=e.screenY-ca.screenY):If=Mf=0,ca=e),Mf)},movementY:function(e){return"movementY"in e?e.movementY:If}}),Cv=ur(Ku),tT=Be({},Ku,{dataTransfer:0}),rT=ur(tT),nT=Be({},_c,{relatedTarget:0}),jf=ur(nT),sT=Be({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),iT=ur(sT),oT=Be({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aT=ur(oT),cT=Be({},Oo,{data:0}),Ev=ur(cT),lT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dT[e])?!!t[e]:!1}function zm(){return fT}var pT=Be({},_c,{key:function(e){if(e.key){var t=lT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hT=ur(pT),mT=Be({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=ur(mT),gT=Be({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),yT=ur(gT),vT=Be({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=ur(vT),_T=Be({},Ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ST=ur(_T),bT=[9,13,27,32],Um=Nn&&"CompositionEvent"in window,Ia=null;Nn&&"documentMode"in document&&(Ia=document.documentMode);var RT=Nn&&"TextEvent"in window&&!Ia,jb=Nn&&(!Um||Ia&&8<Ia&&11>=Ia),Pv=" ",Dv=!1;function Nb(e,t){switch(e){case"keyup":return bT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $b(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function xT(e,t){switch(e){case"compositionend":return $b(t);case"keypress":return t.which!==32?null:(Dv=!0,Pv);case"textInput":return e=t.data,e===Pv&&Dv?null:e;default:return null}}function CT(e,t){if(Ki)return e==="compositionend"||!Um&&Nb(e,t)?(e=Ib(),$l=Fm=ls=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jb&&t.locale!=="ko"?null:t.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ET[e.type]:t==="textarea"}function Ab(e,t,r,n){mb(n),t=fu(t,"onChange"),0<t.length&&(r=new Bm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ja=null,Qa=null;function TT(e){Yb(e,0)}function Gu(e){var t=Qi(e);if(cb(t))return e}function PT(e,t){if(e==="change")return t}var Fb=!1;if(Nn){var Nf;if(Nn){var $f="oninput"in document;if(!$f){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),$f=typeof Ov.oninput=="function"}Nf=$f}else Nf=!1;Fb=Nf&&(!document.documentMode||9<document.documentMode)}function Lv(){ja&&(ja.detachEvent("onpropertychange",Bb),Qa=ja=null)}function Bb(e){if(e.propertyName==="value"&&Gu(Qa)){var t=[];Ab(t,Qa,e,Im(e)),wb(TT,t)}}function DT(e,t,r){e==="focusin"?(Lv(),ja=t,Qa=r,ja.attachEvent("onpropertychange",Bb)):e==="focusout"&&Lv()}function kT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(Qa)}function OT(e,t){if(e==="click")return Gu(t)}function LT(e,t){if(e==="input"||e==="change")return Gu(t)}function MT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:MT;function Xa(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!zp.call(t,s)||!zr(e[s],t[s]))return!1}return!0}function Mv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iv(e,t){var r=Mv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mv(r)}}function zb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ub(){for(var e=window,t=iu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=iu(e.document)}return t}function Vm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IT(e){var t=Ub(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zb(r.ownerDocument.documentElement,r)){if(n!==null&&Vm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Iv(r,i);var o=Iv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jT=Nn&&"documentMode"in document&&11>=document.documentMode,Gi=null,oh=null,Na=null,ah=!1;function jv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ah||Gi==null||Gi!==iu(n)||(n=Gi,"selectionStart"in n&&Vm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Na&&Xa(Na,n)||(Na=n,n=fu(oh,"onSelect"),0<n.length&&(t=new Bm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gi)))}function el(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Af={},Vb={};Nn&&(Vb=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Yu(e){if(Af[e])return Af[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vb)return Af[e]=t[r];return e}var Hb=Yu("animationend"),Wb=Yu("animationiteration"),qb=Yu("animationstart"),Kb=Yu("transitionend"),Gb=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){Gb.set(e,t),ci(t,[e])}for(var Ff=0;Ff<Nv.length;Ff++){var Bf=Nv[Ff],NT=Bf.toLowerCase(),$T=Bf[0].toUpperCase()+Bf.slice(1);ks(NT,"on"+$T)}ks(Hb,"onAnimationEnd");ks(Wb,"onAnimationIteration");ks(qb,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Kb,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function $v(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NE(n,t,void 0,e),e.currentTarget=null}function Yb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;$v(s,a,l),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;$v(s,a,l),i=c}}}if(au)throw e=rh,au=!1,rh=null,e}function Le(e,t){var r=t[fh];r===void 0&&(r=t[fh]=new Set);var n=e+"__bubble";r.has(n)||(Qb(t,e,2,!1),r.add(n))}function zf(e,t,r){var n=0;t&&(n|=4),Qb(r,e,n,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[tl]){e[tl]=!0,nb.forEach(function(r){r!=="selectionchange"&&(AT.has(r)||zf(r,!1,e),zf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,zf("selectionchange",!1,t))}}function Qb(e,t,r,n){switch(Mb(t)){case 1:var s=JE;break;case 4:s=ZE;break;default:s=Am}r=s.bind(null,t,r,e),s=void 0,!th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Uf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Vs(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}wb(function(){var l=i,u=Im(r),d=[];e:{var f=Gb.get(e);if(f!==void 0){var p=Bm,h=e;switch(e){case"keypress":if(Al(r)===0)break e;case"keydown":case"keyup":p=hT;break;case"focusin":h="focus",p=jf;break;case"focusout":h="blur",p=jf;break;case"beforeblur":case"afterblur":p=jf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yT;break;case Hb:case Wb:case qb:p=iT;break;case Kb:p=wT;break;case"scroll":p=eT;break;case"wheel":p=ST;break;case"copy":case"cut":case"paste":p=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tv}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var _=l,w;_!==null;){w=_;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=qa(_,v),b!=null&&m.push(Za(_,b,w)))),g)break;_=_.return}0<m.length&&(f=new p(f,h,null,r,u),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Zp&&(h=r.relatedTarget||r.fromElement)&&(Vs(h)||h[$n]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=l,h=h?Vs(h):null,h!==null&&(g=li(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(m=Cv,b="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=Tv,b="onPointerLeave",v="onPointerEnter",_="pointer"),g=p==null?f:Qi(p),w=h==null?f:Qi(h),f=new m(b,_+"leave",p,r,u),f.target=g,f.relatedTarget=w,b=null,Vs(u)===l&&(m=new m(v,_+"enter",h,r,u),m.target=w,m.relatedTarget=g,b=m),g=b,p&&h)t:{for(m=p,v=h,_=0,w=m;w;w=vi(w))_++;for(w=0,b=v;b;b=vi(b))w++;for(;0<_-w;)m=vi(m),_--;for(;0<w-_;)v=vi(v),w--;for(;_--;){if(m===v||v!==null&&m===v.alternate)break t;m=vi(m),v=vi(v)}m=null}else m=null;p!==null&&Av(d,f,p,m,!1),h!==null&&g!==null&&Av(d,g,h,m,!0)}}e:{if(f=l?Qi(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=PT;else if(kv(f))if(Fb)x=LT;else{x=kT;var R=DT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=OT);if(x&&(x=x(e,l))){Ab(d,x,r,u);break e}R&&R(e,f,l),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Gp(f,"number",f.value)}switch(R=l?Qi(l):window,e){case"focusin":(kv(R)||R.contentEditable==="true")&&(Gi=R,oh=l,Na=null);break;case"focusout":Na=oh=Gi=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,jv(d,r,u);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":jv(d,r,u)}var E;if(Um)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ki?Nb(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(jb&&r.locale!=="ko"&&(Ki||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ki&&(E=Ib()):(ls=u,Fm="value"in ls?ls.value:ls.textContent,Ki=!0)),R=fu(l,C),0<R.length&&(C=new Ev(C,e,null,r,u),d.push({event:C,listeners:R}),E?C.data=E:(E=$b(r),E!==null&&(C.data=E)))),(E=RT?xT(e,r):CT(e,r))&&(l=fu(l,"onBeforeInput"),0<l.length&&(u=new Ev("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=E))}Yb(d,t)})}function Za(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qa(e,r),i!=null&&n.unshift(Za(e,i,s)),i=qa(e,t),i!=null&&n.push(Za(e,i,s))),e=e.return}return n}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Av(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,s?(c=qa(r,i),c!=null&&o.unshift(Za(r,c,a))):s||(c=qa(r,i),c!=null&&o.push(Za(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var FT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(FT,`
`).replace(BT,"")}function rl(e,t,r){if(t=Fv(t),Fv(e)!==t&&r)throw Error(N(425))}function pu(){}var ch=null,lh=null;function uh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(e){return Bv.resolve(null).then(e).catch(VT)}:dh;function VT(e){setTimeout(function(){throw e})}function Vf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ya(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ya(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),dn="__reactFiber$"+Lo,ec="__reactProps$"+Lo,$n="__reactContainer$"+Lo,fh="__reactEvents$"+Lo,HT="__reactListeners$"+Lo,WT="__reactHandles$"+Lo;function Vs(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zv(e);e!==null;){if(r=e[dn])return r;e=zv(e)}return t}e=r,r=e.parentNode}return null}function Sc(e){return e=e[dn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Qu(e){return e[ec]||null}var ph=[],Xi=-1;function Os(e){return{current:e}}function Me(e){0>Xi||(e.current=ph[Xi],ph[Xi]=null,Xi--)}function Oe(e,t){Xi++,ph[Xi]=e.current,e.current=t}var Cs={},kt=Os(Cs),Ht=Os(!1),Js=Cs;function yo(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(e){return e=e.childContextTypes,e!=null}function hu(){Me(Ht),Me(kt)}function Uv(e,t,r){if(kt.current!==Cs)throw Error(N(168));Oe(kt,t),Oe(Ht,r)}function Xb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,DE(e)||"Unknown",s));return Be({},r,n)}function mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Js=kt.current,Oe(kt,e),Oe(Ht,Ht.current),!0}function Vv(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Xb(e,t,Js),n.__reactInternalMemoizedMergedChildContext=e,Me(Ht),Me(kt),Oe(kt,e)):Me(Ht),Oe(Ht,r)}var Ln=null,Xu=!1,Hf=!1;function Jb(e){Ln===null?Ln=[e]:Ln.push(e)}function qT(e){Xu=!0,Jb(e)}function Ls(){if(!Hf&&Ln!==null){Hf=!0;var e=0,t=Re;try{var r=Ln;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ln=null,Xu=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),Rb(jm,Ls),s}finally{Re=t,Hf=!1}}return null}var Ji=[],Zi=0,gu=null,yu=0,gr=[],yr=0,Zs=null,Mn=1,In="";function $s(e,t){Ji[Zi++]=yu,Ji[Zi++]=gu,gu=e,yu=t}function Zb(e,t,r){gr[yr++]=Mn,gr[yr++]=In,gr[yr++]=Zs,Zs=e;var n=Mn;e=In;var s=32-Fr(n)-1;n&=~(1<<s),r+=1;var i=32-Fr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Mn=1<<32-Fr(t)+s|r<<s|n,In=i+e}else Mn=1<<i|r<<s|n,In=e}function Hm(e){e.return!==null&&($s(e,1),Zb(e,1,0))}function Wm(e){for(;e===gu;)gu=Ji[--Zi],Ji[Zi]=null,yu=Ji[--Zi],Ji[Zi]=null;for(;e===Zs;)Zs=gr[--yr],gr[yr]=null,In=gr[--yr],gr[yr]=null,Mn=gr[--yr],gr[yr]=null}var nr=null,tr=null,je=!1,Nr=null;function e0(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,tr=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zs!==null?{id:Mn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,tr=null,!0):!1;default:return!1}}function hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mh(e){if(je){var t=tr;if(t){var r=t;if(!Hv(e,t)){if(hh(e))throw Error(N(418));t=ms(r.nextSibling);var n=nr;t&&Hv(e,t)?e0(n,r):(e.flags=e.flags&-4097|2,je=!1,nr=e)}}else{if(hh(e))throw Error(N(418));e.flags=e.flags&-4097|2,je=!1,nr=e}}}function Wv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function nl(e){if(e!==nr)return!1;if(!je)return Wv(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uh(e.type,e.memoizedProps)),t&&(t=tr)){if(hh(e))throw t0(),Error(N(418));for(;t;)e0(e,t),t=ms(t.nextSibling)}if(Wv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tr=ms(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=nr?ms(e.stateNode.nextSibling):null;return!0}function t0(){for(var e=tr;e;)e=ms(e.nextSibling)}function vo(){tr=nr=null,je=!1}function qm(e){Nr===null?Nr=[e]:Nr.push(e)}var KT=Hn.ReactCurrentBatchConfig;function la(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qv(e){var t=e._init;return t(e._payload)}function r0(e){function t(v,_){if(e){var w=v.deletions;w===null?(v.deletions=[_],v.flags|=16):w.push(_)}}function r(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function n(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=ws(v,_),v.index=0,v.sibling=null,v}function i(v,_,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<_?(v.flags|=2,_):w):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,_,w,b){return _===null||_.tag!==6?(_=Xf(w,v.mode,b),_.return=v,_):(_=s(_,w),_.return=v,_)}function c(v,_,w,b){var x=w.type;return x===qi?u(v,_,w.props.children,b,w.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ss&&qv(x)===_.type)?(b=s(_,w.props),b.ref=la(v,_,w),b.return=v,b):(b=Wl(w.type,w.key,w.props,null,v.mode,b),b.ref=la(v,_,w),b.return=v,b)}function l(v,_,w,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Jf(w,v.mode,b),_.return=v,_):(_=s(_,w.children||[]),_.return=v,_)}function u(v,_,w,b,x){return _===null||_.tag!==7?(_=Ys(w,v.mode,b,x),_.return=v,_):(_=s(_,w),_.return=v,_)}function d(v,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Xf(""+_,v.mode,w),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kc:return w=Wl(_.type,_.key,_.props,null,v.mode,w),w.ref=la(v,null,_),w.return=v,w;case Wi:return _=Jf(_,v.mode,w),_.return=v,_;case ss:var b=_._init;return d(v,b(_._payload),w)}if(xa(_)||sa(_))return _=Ys(_,v.mode,w,null),_.return=v,_;sl(v,_)}return null}function f(v,_,w,b){var x=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(v,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:return w.key===x?c(v,_,w,b):null;case Wi:return w.key===x?l(v,_,w,b):null;case ss:return x=w._init,f(v,_,x(w._payload),b)}if(xa(w)||sa(w))return x!==null?null:u(v,_,w,b,null);sl(v,w)}return null}function p(v,_,w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,a(_,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kc:return v=v.get(b.key===null?w:b.key)||null,c(_,v,b,x);case Wi:return v=v.get(b.key===null?w:b.key)||null,l(_,v,b,x);case ss:var R=b._init;return p(v,_,w,R(b._payload),x)}if(xa(b)||sa(b))return v=v.get(w)||null,u(_,v,b,x,null);sl(_,b)}return null}function h(v,_,w,b){for(var x=null,R=null,E=_,C=_=0,k=null;E!==null&&C<w.length;C++){E.index>C?(k=E,E=null):k=E.sibling;var L=f(v,E,w[C],b);if(L===null){E===null&&(E=k);break}e&&E&&L.alternate===null&&t(v,E),_=i(L,_,C),R===null?x=L:R.sibling=L,R=L,E=k}if(C===w.length)return r(v,E),je&&$s(v,C),x;if(E===null){for(;C<w.length;C++)E=d(v,w[C],b),E!==null&&(_=i(E,_,C),R===null?x=E:R.sibling=E,R=E);return je&&$s(v,C),x}for(E=n(v,E);C<w.length;C++)k=p(E,v,C,w[C],b),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?C:k.key),_=i(k,_,C),R===null?x=k:R.sibling=k,R=k);return e&&E.forEach(function(B){return t(v,B)}),je&&$s(v,C),x}function m(v,_,w,b){var x=sa(w);if(typeof x!="function")throw Error(N(150));if(w=x.call(w),w==null)throw Error(N(151));for(var R=x=null,E=_,C=_=0,k=null,L=w.next();E!==null&&!L.done;C++,L=w.next()){E.index>C?(k=E,E=null):k=E.sibling;var B=f(v,E,L.value,b);if(B===null){E===null&&(E=k);break}e&&E&&B.alternate===null&&t(v,E),_=i(B,_,C),R===null?x=B:R.sibling=B,R=B,E=k}if(L.done)return r(v,E),je&&$s(v,C),x;if(E===null){for(;!L.done;C++,L=w.next())L=d(v,L.value,b),L!==null&&(_=i(L,_,C),R===null?x=L:R.sibling=L,R=L);return je&&$s(v,C),x}for(E=n(v,E);!L.done;C++,L=w.next())L=p(E,v,C,L.value,b),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?C:L.key),_=i(L,_,C),R===null?x=L:R.sibling=L,R=L);return e&&E.forEach(function(z){return t(v,z)}),je&&$s(v,C),x}function g(v,_,w,b){if(typeof w=="object"&&w!==null&&w.type===qi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:e:{for(var x=w.key,R=_;R!==null;){if(R.key===x){if(x=w.type,x===qi){if(R.tag===7){r(v,R.sibling),_=s(R,w.props.children),_.return=v,v=_;break e}}else if(R.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ss&&qv(x)===R.type){r(v,R.sibling),_=s(R,w.props),_.ref=la(v,R,w),_.return=v,v=_;break e}r(v,R);break}else t(v,R);R=R.sibling}w.type===qi?(_=Ys(w.props.children,v.mode,b,w.key),_.return=v,v=_):(b=Wl(w.type,w.key,w.props,null,v.mode,b),b.ref=la(v,_,w),b.return=v,v=b)}return o(v);case Wi:e:{for(R=w.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(v,_.sibling),_=s(_,w.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else t(v,_);_=_.sibling}_=Jf(w,v.mode,b),_.return=v,v=_}return o(v);case ss:return R=w._init,g(v,_,R(w._payload),b)}if(xa(w))return h(v,_,w,b);if(sa(w))return m(v,_,w,b);sl(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(v,_.sibling),_=s(_,w),_.return=v,v=_):(r(v,_),_=Xf(w,v.mode,b),_.return=v,v=_),o(v)):r(v,_)}return g}var wo=r0(!0),n0=r0(!1),vu=Os(null),wu=null,eo=null,Km=null;function Gm(){Km=eo=wu=null}function Ym(e){var t=vu.current;Me(vu),e._currentValue=t}function gh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function co(e,t){wu=e,Km=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(Km!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(wu===null)throw Error(N(308));eo=e,wu.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var Hs=null;function Qm(e){Hs===null?Hs=[e]:Hs.push(e)}function s0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qm(t)):(r.next=s.next,s.next=r),t.interleaved=r,An(e,n)}function An(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Xm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,An(e,r)}return s=n.interleaved,s===null?(t.next=t,Qm(n)):(t.next=s.next,s.next=t),n.interleaved=t,An(e,r)}function Fl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nm(e,r)}}function Kv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _u(e,t,r,n){var s=e.updateQueue;is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=r,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=Be({},d,f);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ti|=o,e.lanes=o,e.memoizedState=d}}function Gv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var bc={},gn=Os(bc),tc=Os(bc),rc=Os(bc);function Ws(e){if(e===bc)throw Error(N(174));return e}function Jm(e,t){switch(Oe(rc,t),Oe(tc,e),Oe(gn,bc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}Me(gn),Oe(gn,t)}function _o(){Me(gn),Me(tc),Me(rc)}function o0(e){Ws(rc.current);var t=Ws(gn.current),r=Qp(t,e.type);t!==r&&(Oe(tc,e),Oe(gn,r))}function Zm(e){tc.current===e&&(Me(gn),Me(tc))}var $e=Os(0);function Su(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wf=[];function eg(){for(var e=0;e<Wf.length;e++)Wf[e]._workInProgressVersionPrimary=null;Wf.length=0}var Bl=Hn.ReactCurrentDispatcher,qf=Hn.ReactCurrentBatchConfig,ei=0,Ae=null,ot=null,ft=null,bu=!1,$a=!1,nc=0,GT=0;function xt(){throw Error(N(321))}function tg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zr(e[r],t[r]))return!1;return!0}function rg(e,t,r,n,s,i){if(ei=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bl.current=e===null||e.memoizedState===null?JT:ZT,e=r(n,s),$a){i=0;do{if($a=!1,nc=0,25<=i)throw Error(N(301));i+=1,ft=ot=null,t.updateQueue=null,Bl.current=eP,e=r(n,s)}while($a)}if(Bl.current=Ru,t=ot!==null&&ot.next!==null,ei=0,ft=ot=Ae=null,bu=!1,t)throw Error(N(300));return e}function ng(){var e=nc!==0;return nc=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ae.memoizedState=ft=e:ft=ft.next=e,ft}function xr(){if(ot===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ft===null?Ae.memoizedState:ft.next;if(t!==null)ft=t,ot=e;else{if(e===null)throw Error(N(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?Ae.memoizedState=ft=e:ft=ft.next=e}return ft}function sc(e,t){return typeof t=="function"?t(e):t}function Kf(e){var t=xr(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ot,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((ei&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=n):c=c.next=d,Ae.lanes|=u,ti|=u}l=l.next}while(l!==null&&l!==i);c===null?o=n:c.next=a,zr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,ti|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gf(e){var t=xr(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);zr(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function a0(){}function c0(e,t){var r=Ae,n=xr(),s=t(),i=!zr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ut=!0),n=n.queue,sg(d0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,ic(9,u0.bind(null,r,n,s,t),void 0,null),pt===null)throw Error(N(349));ei&30||l0(r,t,s)}return s}function l0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function u0(e,t,r,n){t.value=r,t.getSnapshot=n,f0(t)&&p0(e)}function d0(e,t,r){return r(function(){f0(t)&&p0(e)})}function f0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zr(e,r)}catch{return!0}}function p0(e){var t=An(e,1);t!==null&&Br(t,e,1,-1)}function Yv(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:e},t.queue=e,e=e.dispatch=XT.bind(null,Ae,e),[t.memoizedState,e]}function ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h0(){return xr().memoizedState}function zl(e,t,r,n){var s=ln();Ae.flags|=e,s.memoizedState=ic(1|t,r,void 0,n===void 0?null:n)}function Ju(e,t,r,n){var s=xr();n=n===void 0?null:n;var i=void 0;if(ot!==null){var o=ot.memoizedState;if(i=o.destroy,n!==null&&tg(n,o.deps)){s.memoizedState=ic(t,r,i,n);return}}Ae.flags|=e,s.memoizedState=ic(1|t,r,i,n)}function Qv(e,t){return zl(8390656,8,e,t)}function sg(e,t){return Ju(2048,8,e,t)}function m0(e,t){return Ju(4,2,e,t)}function g0(e,t){return Ju(4,4,e,t)}function y0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v0(e,t,r){return r=r!=null?r.concat([e]):null,Ju(4,4,y0.bind(null,t,e),r)}function ig(){}function w0(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _0(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function S0(e,t,r){return ei&21?(zr(r,t)||(r=Eb(),Ae.lanes|=r,ti|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function YT(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=qf.transition;qf.transition={};try{e(!1),t()}finally{Re=r,qf.transition=n}}function b0(){return xr().memoizedState}function QT(e,t,r){var n=vs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R0(e))x0(t,r);else if(r=s0(e,t,r,n),r!==null){var s=jt();Br(r,e,n,s),C0(r,t,n)}}function XT(e,t,r){var n=vs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R0(e))x0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,zr(a,o)){var c=t.interleaved;c===null?(s.next=s,Qm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=s0(e,t,s,n),r!==null&&(s=jt(),Br(r,e,n,s),C0(r,t,n))}}function R0(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function x0(e,t){$a=bu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function C0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nm(e,r)}}var Ru={readContext:Rr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},JT={readContext:Rr,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:Qv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zl(4194308,4,y0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QT.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Yv,useDebugValue:ig,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Yv(!1),t=e[0];return e=YT.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=ln();if(je){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),pt===null)throw Error(N(349));ei&30||l0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Qv(d0.bind(null,n,i,e),[e]),n.flags|=2048,ic(9,u0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ln(),t=pt.identifierPrefix;if(je){var r=In,n=Mn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZT={readContext:Rr,useCallback:w0,useContext:Rr,useEffect:sg,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:_0,useReducer:Kf,useRef:h0,useState:function(){return Kf(sc)},useDebugValue:ig,useDeferredValue:function(e){var t=xr();return S0(t,ot.memoizedState,e)},useTransition:function(){var e=Kf(sc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:a0,useSyncExternalStore:c0,useId:b0,unstable_isNewReconciler:!1},eP={readContext:Rr,useCallback:w0,useContext:Rr,useEffect:sg,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:_0,useReducer:Gf,useRef:h0,useState:function(){return Gf(sc)},useDebugValue:ig,useDeferredValue:function(e){var t=xr();return ot===null?t.memoizedState=e:S0(t,ot.memoizedState,e)},useTransition:function(){var e=Gf(sc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:a0,useSyncExternalStore:c0,useId:b0,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zu={isMounted:function(e){return(e=e._reactInternals)?li(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),s=vs(e),i=jn(n,s);i.payload=t,r!=null&&(i.callback=r),t=gs(e,i,s),t!==null&&(Br(t,e,s,n),Fl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),s=vs(e),i=jn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gs(e,i,s),t!==null&&(Br(t,e,s,n),Fl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=vs(e),s=jn(r,n);s.tag=2,t!=null&&(s.callback=t),t=gs(e,s,n),t!==null&&(Br(t,e,n,r),Fl(t,e,n))}};function Xv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xa(r,n)||!Xa(s,i):!0}function E0(e,t,r){var n=!1,s=Cs,i=t.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(s=Wt(t)?Js:kt.current,n=t.contextTypes,i=(n=n!=null)?yo(e,s):Cs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function vh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Xm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rr(i):(i=Wt(t)?Js:kt.current,s.context=yo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zu.enqueueReplaceState(s,s.state,null),_u(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function So(e,t){try{var r="",n=t;do r+=PE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tP=typeof WeakMap=="function"?WeakMap:Map;function T0(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cu||(Cu=!0,Dh=n),wh(e,t)},r}function P0(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){wh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wh(e,t),typeof n!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Zv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=mP.bind(null,e,t,r),t.then(e,e))}function ew(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,gs(r,t,1))),r.lanes|=1),e)}var rP=Hn.ReactCurrentOwner,Ut=!1;function Mt(e,t,r,n){t.child=e===null?n0(t,null,r,n):wo(t,e.child,r,n)}function rw(e,t,r,n,s){r=r.render;var i=t.ref;return co(t,s),n=rg(e,t,r,n,i,s),r=ng(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(je&&r&&Hm(t),t.flags|=1,Mt(e,t,n,s),t.child)}function nw(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!pg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,D0(e,t,i,n,s)):(e=Wl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xa,r(o,n)&&e.ref===t.ref)return Fn(e,t,s)}return t.flags|=1,e=ws(i,n),e.ref=t.ref,e.return=t,t.child=e}function D0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xa(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Fn(e,t,s)}return _h(e,t,r,n,s)}function k0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ro,Zt),Zt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ro,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Oe(ro,Zt),Zt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Oe(ro,Zt),Zt|=n;return Mt(e,t,s,r),t.child}function O0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _h(e,t,r,n,s){var i=Wt(r)?Js:kt.current;return i=yo(t,i),co(t,s),r=rg(e,t,r,n,i,s),n=ng(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(je&&n&&Hm(t),t.flags|=1,Mt(e,t,r,s),t.child)}function sw(e,t,r,n,s){if(Wt(r)){var i=!0;mu(t)}else i=!1;if(co(t,s),t.stateNode===null)Ul(e,t),E0(t,r,n),vh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Rr(l):(l=Wt(r)?Js:kt.current,l=yo(t,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&Jv(t,o,n,l),is=!1;var f=t.memoizedState;o.state=f,_u(t,n,o,s),c=t.memoizedState,a!==n||f!==c||Ht.current||is?(typeof u=="function"&&(yh(t,r,u,n),c=t.memoizedState),(a=is||Xv(t,r,a,n,f,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,i0(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Mr(t.type,a),o.props=l,d=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=Wt(r)?Js:kt.current,c=yo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&Jv(t,o,n,c),is=!1,f=t.memoizedState,o.state=f,_u(t,n,o,s);var h=t.memoizedState;a!==d||f!==h||Ht.current||is?(typeof p=="function"&&(yh(t,r,p,n),h=t.memoizedState),(l=is||Xv(t,r,l,n,f,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Sh(e,t,r,n,i,s)}function Sh(e,t,r,n,s,i){O0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Vv(t,r,!1),Fn(e,t,i);n=t.stateNode,rP.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wo(t,e.child,null,i),t.child=wo(t,null,a,i)):Mt(e,t,a,i),t.memoizedState=n.state,s&&Vv(t,r,!0),t.child}function L0(e){var t=e.stateNode;t.pendingContext?Uv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uv(e,t.context,!1),Jm(e,t.containerInfo)}function iw(e,t,r,n,s){return vo(),qm(s),t.flags|=256,Mt(e,t,r,n),t.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function M0(e,t,r){var n=t.pendingProps,s=$e.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe($e,s&1),e===null)return mh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rd(o,n,0,null),e=Ys(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rh(r),t.memoizedState=bh,e):og(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nP(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ws(a,i):(i=Ys(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Rh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=bh,n}return i=e.child,e=i.sibling,n=ws(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function og(e,t){return t=rd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function il(e,t,r,n){return n!==null&&qm(n),wo(t,e.child,null,r),e=og(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nP(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Yf(Error(N(422))),il(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=rd({mode:"visible",children:n.children},s,0,null),i=Ys(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wo(t,e.child,null,o),t.child.memoizedState=Rh(o),t.memoizedState=bh,i);if(!(t.mode&1))return il(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(N(419)),n=Yf(i,n,void 0),il(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ut||a){if(n=pt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,An(e,s),Br(n,e,s,-1))}return fg(),n=Yf(Error(N(421))),il(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gP.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,tr=ms(s.nextSibling),nr=t,je=!0,Nr=null,e!==null&&(gr[yr++]=Mn,gr[yr++]=In,gr[yr++]=Zs,Mn=e.id,In=e.overflow,Zs=t),t=og(t,n.children),t.flags|=4096,t)}function ow(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gh(e.return,t,r)}function Qf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function I0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Mt(e,t,n.children,r),n=$e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ow(e,r,t);else if(e.tag===19)ow(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe($e,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Su(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Su(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qf(t,!0,r,null,i);break;case"together":Qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sP(e,t,r){switch(t.tag){case 3:L0(t),vo();break;case 5:o0(t);break;case 1:Wt(t.type)&&mu(t);break;case 4:Jm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Oe(vu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe($e,$e.current&1),t.flags|=128,null):r&t.child.childLanes?M0(e,t,r):(Oe($e,$e.current&1),e=Fn(e,t,r),e!==null?e.sibling:null);Oe($e,$e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return I0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe($e,$e.current),n)break;return null;case 22:case 23:return t.lanes=0,k0(e,t,r)}return Fn(e,t,r)}var j0,xh,N0,$0;j0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xh=function(){};N0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ws(gn.current);var i=null;switch(r){case"input":s=qp(e,s),n=qp(e,n),i=[];break;case"select":s=Be({},s,{value:void 0}),n=Be({},n,{value:void 0}),i=[];break;case"textarea":s=Yp(e,s),n=Yp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pu)}Xp(r,n);var o;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ha.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(a=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Le("scroll",e),i||a===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};$0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ua(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function iP(e,t,r){var n=t.pendingProps;switch(Wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Wt(t.type)&&hu(),Ct(t),null;case 3:return n=t.stateNode,_o(),Me(Ht),Me(kt),eg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nr!==null&&(Lh(Nr),Nr=null))),xh(e,t),Ct(t),null;case 5:Zm(t);var s=Ws(rc.current);if(r=t.type,e!==null&&t.stateNode!=null)N0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Ct(t),null}if(e=Ws(gn.current),nl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dn]=t,n[ec]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<Ea.length;s++)Le(Ea[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":mv(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":yv(n,i),Le("invalid",n)}Xp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&rl(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rl(n.textContent,a,e),s=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",n)}switch(r){case"input":Gc(n),gv(n,i,!0);break;case"textarea":Gc(n),vv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=db(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[dn]=t,e[ec]=n,j0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jp(r,n),r){case"dialog":Le("cancel",e),Le("close",e),s=n;break;case"iframe":case"object":case"embed":Le("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ea.length;s++)Le(Ea[s],e);s=n;break;case"source":Le("error",e),s=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=n;break;case"details":Le("toggle",e),s=n;break;case"input":mv(e,n),s=qp(e,n),Le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Be({},n,{value:void 0}),Le("invalid",e);break;case"textarea":yv(e,n),s=Yp(e,n),Le("invalid",e);break;default:s=n}Xp(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?hb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wa(e,c):typeof c=="number"&&Wa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ha.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&km(e,i,c,o))}switch(r){case"input":Gc(e),gv(e,n,!1);break;case"textarea":Gc(e),vv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?so(e,!!n.multiple,i,!1):n.defaultValue!=null&&so(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)$0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Ws(rc.current),Ws(gn.current),nl(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(i=n.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:rl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return Ct(t),null;case 13:if(Me($e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&tr!==null&&t.mode&1&&!(t.flags&128))t0(),vo(),t.flags|=98560,i=!1;else if(i=nl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[dn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else Nr!==null&&(Lh(Nr),Nr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?at===0&&(at=3):fg())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return _o(),xh(e,t),e===null&&Ja(t.stateNode.containerInfo),Ct(t),null;case 10:return Ym(t.type._context),Ct(t),null;case 17:return Wt(t.type)&&hu(),Ct(t),null;case 19:if(Me($e),i=t.memoizedState,i===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ua(i,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Su(e),o!==null){for(t.flags|=128,ua(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe($e,$e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ke()>bo&&(t.flags|=128,n=!0,ua(i,!1),t.lanes=4194304)}else{if(!n)if(e=Su(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ua(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return Ct(t),null}else 2*Ke()-i.renderingStartTime>bo&&r!==1073741824&&(t.flags|=128,n=!0,ua(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ke(),t.sibling=null,r=$e.current,Oe($e,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return dg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function oP(e,t){switch(Wm(t),t.tag){case 1:return Wt(t.type)&&hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),Me(Ht),Me(kt),eg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zm(t),null;case 13:if(Me($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me($e),null;case 4:return _o(),null;case 10:return Ym(t.type._context),null;case 22:case 23:return dg(),null;case 24:return null;default:return null}}var ol=!1,Et=!1,aP=typeof WeakSet=="function"?WeakSet:Set,V=null;function to(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){We(e,t,n)}else r.current=null}function Ch(e,t,r){try{r()}catch(n){We(e,t,n)}}var aw=!1;function cP(e,t){if(ch=uu,e=Ub(),Vm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++l===s&&(a=o),f===i&&++u===n&&(c=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lh={focusedElem:e,selectionRange:r},uu=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,g=h.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Mr(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){We(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=aw,aw=!1,h}function Aa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ch(t,r,i)}s=s.next}while(s!==n)}}function ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Eh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function A0(e){var t=e.alternate;t!==null&&(e.alternate=null,A0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[ec],delete t[fh],delete t[HT],delete t[WT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F0(e){return e.tag===5||e.tag===3||e.tag===4}function cw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pu));else if(n!==4&&(e=e.child,e!==null))for(Th(e,t,r),e=e.sibling;e!==null;)Th(e,t,r),e=e.sibling}function Ph(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ph(e,t,r),e=e.sibling;e!==null;)Ph(e,t,r),e=e.sibling}var wt=null,Ir=!1;function Xn(e,t,r){for(r=r.child;r!==null;)B0(e,t,r),r=r.sibling}function B0(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qu,r)}catch{}switch(r.tag){case 5:Et||to(r,t);case 6:var n=wt,s=Ir;wt=null,Xn(e,t,r),wt=n,Ir=s,wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?Vf(e.parentNode,r):e.nodeType===1&&Vf(e,r),Ya(e)):Vf(wt,r.stateNode));break;case 4:n=wt,s=Ir,wt=r.stateNode.containerInfo,Ir=!0,Xn(e,t,r),wt=n,Ir=s;break;case 0:case 11:case 14:case 15:if(!Et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ch(r,t,o),s=s.next}while(s!==n)}Xn(e,t,r);break;case 1:if(!Et&&(to(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){We(r,t,a)}Xn(e,t,r);break;case 21:Xn(e,t,r);break;case 22:r.mode&1?(Et=(n=Et)||r.memoizedState!==null,Xn(e,t,r),Et=n):Xn(e,t,r);break;default:Xn(e,t,r)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aP),t.forEach(function(n){var s=yP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Ir=!1;break e;case 3:wt=a.stateNode.containerInfo,Ir=!0;break e;case 4:wt=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(wt===null)throw Error(N(160));B0(i,o,s),wt=null,Ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){We(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z0(t,e),t=t.sibling}function z0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Jr(e),n&4){try{Aa(3,e,e.return),ed(3,e)}catch(m){We(e,e.return,m)}try{Aa(5,e,e.return)}catch(m){We(e,e.return,m)}}break;case 1:Lr(t,e),Jr(e),n&512&&r!==null&&to(r,r.return);break;case 5:if(Lr(t,e),Jr(e),n&512&&r!==null&&to(r,r.return),e.flags&32){var s=e.stateNode;try{Wa(s,"")}catch(m){We(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lb(s,i),Jp(a,o);var l=Jp(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?hb(s,d):u==="dangerouslySetInnerHTML"?fb(s,d):u==="children"?Wa(s,d):km(s,u,d,l)}switch(a){case"input":Kp(s,i);break;case"textarea":ub(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?so(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?so(s,!!i.multiple,i.defaultValue,!0):so(s,!!i.multiple,i.multiple?[]:"",!1))}s[ec]=i}catch(m){We(e,e.return,m)}}break;case 6:if(Lr(t,e),Jr(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){We(e,e.return,m)}}break;case 3:if(Lr(t,e),Jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(t.containerInfo)}catch(m){We(e,e.return,m)}break;case 4:Lr(t,e),Jr(e);break;case 13:Lr(t,e),Jr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lg=Ke())),n&4&&lw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Et=(l=Et)||u,Lr(t,e),Et=l):Lr(t,e),Jr(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(d=V=u;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:Aa(4,f,f.return);break;case 1:to(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){We(n,r,m)}}break;case 5:to(f,f.return);break;case 22:if(f.memoizedState!==null){dw(d);continue}}p!==null?(p.return=f,V=p):dw(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=pb("display",o))}catch(m){We(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){We(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lr(t,e),Jr(e),n&4&&lw(e);break;case 21:break;default:Lr(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(F0(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wa(s,""),n.flags&=-33);var i=cw(e);Ph(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=cw(e);Th(e,a,o);break;default:throw Error(N(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lP(e,t,r){V=e,U0(e)}function U0(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ol;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Et;a=ol;var l=Et;if(ol=o,(Et=c)&&!l)for(V=s;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?fw(s):c!==null?(c.return=o,V=c):fw(s);for(;i!==null;)V=i,U0(i),i=i.sibling;V=s,ol=a,Et=l}uw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):uw(e)}}function uw(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||ed(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Et)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Gv(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gv(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ya(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Et||t.flags&512&&Eh(t)}catch(f){We(t,t.return,f)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function dw(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function fw(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ed(4,t)}catch(c){We(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){We(t,s,c)}}var i=t.return;try{Eh(t)}catch(c){We(t,i,c)}break;case 5:var o=t.return;try{Eh(t)}catch(c){We(t,o,c)}}}catch(c){We(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var uP=Math.ceil,xu=Hn.ReactCurrentDispatcher,ag=Hn.ReactCurrentOwner,Sr=Hn.ReactCurrentBatchConfig,ve=0,pt=null,et=null,_t=0,Zt=0,ro=Os(0),at=0,oc=null,ti=0,td=0,cg=0,Fa=null,zt=null,lg=0,bo=1/0,On=null,Cu=!1,Dh=null,ys=null,al=!1,us=null,Eu=0,Ba=0,kh=null,Vl=-1,Hl=0;function jt(){return ve&6?Ke():Vl!==-1?Vl:Vl=Ke()}function vs(e){return e.mode&1?ve&2&&_t!==0?_t&-_t:KT.transition!==null?(Hl===0&&(Hl=Eb()),Hl):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Mb(e.type)),e):1}function Br(e,t,r,n){if(50<Ba)throw Ba=0,kh=null,Error(N(185));wc(e,r,n),(!(ve&2)||e!==pt)&&(e===pt&&(!(ve&2)&&(td|=r),at===4&&cs(e,_t)),qt(e,n),r===1&&ve===0&&!(t.mode&1)&&(bo=Ke()+500,Xu&&Ls()))}function qt(e,t){var r=e.callbackNode;KE(e,t);var n=lu(e,e===pt?_t:0);if(n===0)r!==null&&Sv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sv(r),t===1)e.tag===0?qT(pw.bind(null,e)):Jb(pw.bind(null,e)),UT(function(){!(ve&6)&&Ls()}),r=null;else{switch(Tb(n)){case 1:r=jm;break;case 4:r=xb;break;case 16:r=cu;break;case 536870912:r=Cb;break;default:r=cu}r=Q0(r,V0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function V0(e,t){if(Vl=-1,Hl=0,ve&6)throw Error(N(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var n=lu(e,e===pt?_t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tu(e,n);else{t=n;var s=ve;ve|=2;var i=W0();(pt!==e||_t!==t)&&(On=null,bo=Ke()+500,Gs(e,t));do try{pP();break}catch(a){H0(e,a)}while(!0);Gm(),xu.current=i,ve=s,et!==null?t=0:(pt=null,_t=0,t=at)}if(t!==0){if(t===2&&(s=nh(e),s!==0&&(n=s,t=Oh(e,s))),t===1)throw r=oc,Gs(e,0),cs(e,n),qt(e,Ke()),r;if(t===6)cs(e,n);else{if(s=e.current.alternate,!(n&30)&&!dP(s)&&(t=Tu(e,n),t===2&&(i=nh(e),i!==0&&(n=i,t=Oh(e,i))),t===1))throw r=oc,Gs(e,0),cs(e,n),qt(e,Ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:As(e,zt,On);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=lg+500-Ke(),10<t)){if(lu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dh(As.bind(null,e,zt,On),t);break}As(e,zt,On);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Fr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uP(n/1960))-n,10<n){e.timeoutHandle=dh(As.bind(null,e,zt,On),n);break}As(e,zt,On);break;case 5:As(e,zt,On);break;default:throw Error(N(329))}}}return qt(e,Ke()),e.callbackNode===r?V0.bind(null,e):null}function Oh(e,t){var r=Fa;return e.current.memoizedState.isDehydrated&&(Gs(e,t).flags|=256),e=Tu(e,t),e!==2&&(t=zt,zt=r,t!==null&&Lh(t)),e}function Lh(e){zt===null?zt=e:zt.push.apply(zt,e)}function dP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!zr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~cg,t&=~td,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function pw(e){if(ve&6)throw Error(N(327));lo();var t=lu(e,0);if(!(t&1))return qt(e,Ke()),null;var r=Tu(e,t);if(e.tag!==0&&r===2){var n=nh(e);n!==0&&(t=n,r=Oh(e,n))}if(r===1)throw r=oc,Gs(e,0),cs(e,t),qt(e,Ke()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,zt,On),qt(e,Ke()),null}function ug(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(bo=Ke()+500,Xu&&Ls())}}function ri(e){us!==null&&us.tag===0&&!(ve&6)&&lo();var t=ve;ve|=1;var r=Sr.transition,n=Re;try{if(Sr.transition=null,Re=1,e)return e()}finally{Re=n,Sr.transition=r,ve=t,!(ve&6)&&Ls()}}function dg(){Zt=ro.current,Me(ro)}function Gs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zT(r)),et!==null)for(r=et.return;r!==null;){var n=r;switch(Wm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hu();break;case 3:_o(),Me(Ht),Me(kt),eg();break;case 5:Zm(n);break;case 4:_o();break;case 13:Me($e);break;case 19:Me($e);break;case 10:Ym(n.type._context);break;case 22:case 23:dg()}r=r.return}if(pt=e,et=e=ws(e.current,null),_t=Zt=t,at=0,oc=null,cg=td=ti=0,zt=Fa=null,Hs!==null){for(t=0;t<Hs.length;t++)if(r=Hs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Hs=null}return e}function H0(e,t){do{var r=et;try{if(Gm(),Bl.current=Ru,bu){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bu=!1}if(ei=0,ft=ot=Ae=null,$a=!1,nc=0,ag.current=null,r===null||r.return===null){at=1,oc=t,et=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=_t,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ew(o);if(p!==null){p.flags&=-257,tw(p,o,a,i,t),p.mode&1&&Zv(i,l,t),t=p,c=l;var h=t.updateQueue;if(h===null){var m=new Set;m.add(c),t.updateQueue=m}else h.add(c);break e}else{if(!(t&1)){Zv(i,l,t),fg();break e}c=Error(N(426))}}else if(je&&a.mode&1){var g=ew(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),tw(g,o,a,i,t),qm(So(c,a));break e}}i=c=So(c,a),at!==4&&(at=2),Fa===null?Fa=[i]:Fa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=T0(i,c,t);Kv(i,v);break e;case 1:a=c;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ys===null||!ys.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=P0(i,a,t);Kv(i,b);break e}}i=i.return}while(i!==null)}K0(r)}catch(x){t=x,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function W0(){var e=xu.current;return xu.current=Ru,e===null?Ru:e}function fg(){(at===0||at===3||at===2)&&(at=4),pt===null||!(ti&268435455)&&!(td&268435455)||cs(pt,_t)}function Tu(e,t){var r=ve;ve|=2;var n=W0();(pt!==e||_t!==t)&&(On=null,Gs(e,t));do try{fP();break}catch(s){H0(e,s)}while(!0);if(Gm(),ve=r,xu.current=n,et!==null)throw Error(N(261));return pt=null,_t=0,at}function fP(){for(;et!==null;)q0(et)}function pP(){for(;et!==null&&!AE();)q0(et)}function q0(e){var t=Y0(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?K0(e):et=t,ag.current=null}function K0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oP(r,t),r!==null){r.flags&=32767,et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,et=null;return}}else if(r=iP(r,t,Zt),r!==null){et=r;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);at===0&&(at=5)}function As(e,t,r){var n=Re,s=Sr.transition;try{Sr.transition=null,Re=1,hP(e,t,r,n)}finally{Sr.transition=s,Re=n}return null}function hP(e,t,r,n){do lo();while(us!==null);if(ve&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(GE(e,i),e===pt&&(et=pt=null,_t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||al||(al=!0,Q0(cu,function(){return lo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=Re;Re=1;var a=ve;ve|=4,ag.current=null,cP(e,r),z0(r,e),IT(lh),uu=!!ch,lh=ch=null,e.current=r,lP(r),FE(),ve=a,Re=o,Sr.transition=i}else e.current=r;if(al&&(al=!1,us=e,Eu=s),i=e.pendingLanes,i===0&&(ys=null),UE(r.stateNode),qt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cu)throw Cu=!1,e=Dh,Dh=null,e;return Eu&1&&e.tag!==0&&lo(),i=e.pendingLanes,i&1?e===kh?Ba++:(Ba=0,kh=e):Ba=0,Ls(),null}function lo(){if(us!==null){var e=Tb(Eu),t=Sr.transition,r=Re;try{if(Sr.transition=null,Re=16>e?16:e,us===null)var n=!1;else{if(e=us,us=null,Eu=0,ve&6)throw Error(N(331));var s=ve;for(ve|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(V=l;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Aa(8,u,i)}var d=u.child;if(d!==null)d.return=u,V=d;else for(;V!==null;){u=V;var f=u.sibling,p=u.return;if(A0(u),u===l){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,V=v;break e}V=i.return}}var _=e.current;for(V=_;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=_;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ed(9,a)}}catch(x){We(a,a.return,x)}if(a===o){V=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}if(ve=s,Ls(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qu,e)}catch{}n=!0}return n}finally{Re=r,Sr.transition=t}}return!1}function hw(e,t,r){t=So(r,t),t=T0(e,t,1),e=gs(e,t,1),t=jt(),e!==null&&(wc(e,1,t),qt(e,t))}function We(e,t,r){if(e.tag===3)hw(e,e,r);else for(;t!==null;){if(t.tag===3){hw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n))){e=So(r,e),e=P0(t,e,1),t=gs(t,e,1),e=jt(),t!==null&&(wc(t,1,e),qt(t,e));break}}t=t.return}}function mP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(_t&r)===r&&(at===4||at===3&&(_t&130023424)===_t&&500>Ke()-lg?Gs(e,0):cg|=r),qt(e,t)}function G0(e,t){t===0&&(e.mode&1?(t=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):t=1);var r=jt();e=An(e,t),e!==null&&(wc(e,t,r),qt(e,r))}function gP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G0(e,r)}function yP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),G0(e,r)}var Y0;Y0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,sP(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,je&&t.flags&1048576&&Zb(t,yu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ul(e,t),e=t.pendingProps;var s=yo(t,kt.current);co(t,r),s=rg(null,t,n,e,s,r);var i=ng();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(i=!0,mu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xm(t),s.updater=Zu,t.stateNode=s,s._reactInternals=t,vh(t,n,e,r),t=Sh(null,t,n,!0,i,r)):(t.tag=0,je&&i&&Hm(t),Mt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=wP(n),e=Mr(n,e),s){case 0:t=_h(null,t,n,e,r);break e;case 1:t=sw(null,t,n,e,r);break e;case 11:t=rw(null,t,n,e,r);break e;case 14:t=nw(null,t,n,Mr(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),_h(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),sw(e,t,n,s,r);case 3:e:{if(L0(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,i0(e,t),_u(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=So(Error(N(423)),t),t=iw(e,t,n,r,s);break e}else if(n!==s){s=So(Error(N(424)),t),t=iw(e,t,n,r,s);break e}else for(tr=ms(t.stateNode.containerInfo.firstChild),nr=t,je=!0,Nr=null,r=n0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),n===s){t=Fn(e,t,r);break e}Mt(e,t,n,r)}t=t.child}return t;case 5:return o0(t),e===null&&mh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uh(n,s)?o=null:i!==null&&uh(n,i)&&(t.flags|=32),O0(e,t),Mt(e,t,o,r),t.child;case 6:return e===null&&mh(t),null;case 13:return M0(e,t,r);case 4:return Jm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wo(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),rw(e,t,n,s,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Oe(vu,n._currentValue),n._currentValue=o,i!==null)if(zr(i.value,o)){if(i.children===s.children&&!Ht.current){t=Fn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jn(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),gh(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),gh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,co(t,r),s=Rr(s),n=n(s),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),nw(e,t,n,s,r);case 15:return D0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Ul(e,t),t.tag=1,Wt(n)?(e=!0,mu(t)):e=!1,co(t,r),E0(t,n,s),vh(t,n,s,r),Sh(null,t,n,!0,e,r);case 19:return I0(e,t,r);case 22:return k0(e,t,r)}throw Error(N(156,t.tag))};function Q0(e,t){return Rb(e,t)}function vP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new vP(e,t,r,n)}function pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wP(e){if(typeof e=="function")return pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lm)return 11;if(e===Mm)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")pg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qi:return Ys(r.children,s,i,t);case Om:o=8,s|=8;break;case Up:return e=_r(12,r,t,s|2),e.elementType=Up,e.lanes=i,e;case Vp:return e=_r(13,r,t,s),e.elementType=Vp,e.lanes=i,e;case Hp:return e=_r(19,r,t,s),e.elementType=Hp,e.lanes=i,e;case ob:return rd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sb:o=10;break e;case ib:o=9;break e;case Lm:o=11;break e;case Mm:o=14;break e;case ss:o=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=_r(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ys(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function rd(e,t,r,n){return e=_r(22,e,n,t),e.elementType=ob,e.lanes=r,e.stateNode={isHidden:!1},e}function Xf(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Jf(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _P(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lf(0),this.expirationTimes=Lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hg(e,t,r,n,s,i,o,a,c){return e=new _P(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(i),e}function SP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function X0(e){if(!e)return Cs;e=e._reactInternals;e:{if(li(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Wt(r))return Xb(e,r,t)}return t}function J0(e,t,r,n,s,i,o,a,c){return e=hg(r,n,!0,e,s,i,o,a,c),e.context=X0(null),r=e.current,n=jt(),s=vs(r),i=jn(n,s),i.callback=t??null,gs(r,i,s),e.current.lanes=s,wc(e,s,n),qt(e,n),e}function nd(e,t,r,n){var s=t.current,i=jt(),o=vs(s);return r=X0(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gs(s,t,o),e!==null&&(Br(e,s,o,i),Fl(e,s,o)),o}function Pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mg(e,t){mw(e,t),(e=e.alternate)&&mw(e,t)}function bP(){return null}var Z0=typeof reportError=="function"?reportError:function(e){console.error(e)};function gg(e){this._internalRoot=e}sd.prototype.render=gg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));nd(e,t,null,null)};sd.prototype.unmount=gg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ri(function(){nd(null,e,null,null)}),t[$n]=null}};function sd(e){this._internalRoot=e}sd.prototype.unstable_scheduleHydration=function(e){if(e){var t=kb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<as.length&&t!==0&&t<as[r].priority;r++);as.splice(r,0,e),r===0&&Lb(e)}};function yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gw(){}function RP(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=Pu(o);i.call(l)}}var o=J0(t,n,e,0,null,!1,!1,"",gw);return e._reactRootContainer=o,e[$n]=o.current,Ja(e.nodeType===8?e.parentNode:e),ri(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var l=Pu(c);a.call(l)}}var c=hg(e,0,!1,null,null,!1,!1,"",gw);return e._reactRootContainer=c,e[$n]=c.current,Ja(e.nodeType===8?e.parentNode:e),ri(function(){nd(t,c,r,n)}),c}function od(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Pu(o);a.call(c)}}nd(t,o,e,s)}else o=RP(r,t,e,s,n);return Pu(o)}Pb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ca(t.pendingLanes);r!==0&&(Nm(t,r|1),qt(t,Ke()),!(ve&6)&&(bo=Ke()+500,Ls()))}break;case 13:ri(function(){var n=An(e,1);if(n!==null){var s=jt();Br(n,e,1,s)}}),mg(e,1)}};$m=function(e){if(e.tag===13){var t=An(e,134217728);if(t!==null){var r=jt();Br(t,e,134217728,r)}mg(e,134217728)}};Db=function(e){if(e.tag===13){var t=vs(e),r=An(e,t);if(r!==null){var n=jt();Br(r,e,t,n)}mg(e,t)}};kb=function(){return Re};Ob=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};eh=function(e,t,r){switch(t){case"input":if(Kp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Qu(n);if(!s)throw Error(N(90));cb(n),Kp(n,s)}}}break;case"textarea":ub(e,r);break;case"select":t=r.value,t!=null&&so(e,!!r.multiple,t,!1)}};yb=ug;vb=ri;var xP={usingClientEntryPoint:!1,Events:[Sc,Qi,Qu,mb,gb,ug]},da={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CP={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sb(e),e===null?null:e.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{qu=cl.inject(CP),mn=cl}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xP;lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(t))throw Error(N(200));return SP(e,t,null,r)};lr.createRoot=function(e,t){if(!yg(e))throw Error(N(299));var r=!1,n="",s=Z0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hg(e,1,!1,null,null,r,!1,n,s),e[$n]=t.current,Ja(e.nodeType===8?e.parentNode:e),new gg(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Sb(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return ri(e)};lr.hydrate=function(e,t,r){if(!id(t))throw Error(N(200));return od(null,e,t,!0,r)};lr.hydrateRoot=function(e,t,r){if(!yg(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Z0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=J0(t,null,e,1,r??null,s,!1,i,o),e[$n]=t.current,Ja(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new sd(t)};lr.render=function(e,t,r){if(!id(t))throw Error(N(200));return od(null,e,t,!1,r)};lr.unmountComponentAtNode=function(e){if(!id(e))throw Error(N(40));return e._reactRootContainer?(ri(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};lr.unstable_batchedUpdates=ug;lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!id(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return od(e,t,r,!1,n)};lr.version="18.3.1-next-f1338f8080-20240426";function e1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e1)}catch(e){console.error(e)}}e1(),eb.exports=lr;var Rc=eb.exports;const Ta=Rm(Rc);var t1,yw=Rc;t1=yw.createRoot,yw.hydrateRoot;var r1={exports:{}},n1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=S;function EP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TP=typeof Object.is=="function"?Object.is:EP,PP=xc.useSyncExternalStore,DP=xc.useRef,kP=xc.useEffect,OP=xc.useMemo,LP=xc.useDebugValue;n1.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=DP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=OP(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var h=o.value;if(s(h,p))return d=h}return d=p}if(h=d,TP(u,p))return h;var m=n(p);return s!==void 0&&s(h,m)?h:(u=p,d=m)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var a=PP(e,i[0],i[1]);return kP(function(){o.hasValue=!0,o.value=a},[a]),LP(a),a};r1.exports=n1;var MP=r1.exports,rr="default"in su?wr:su,vw=Symbol.for("react-redux-context"),ww=typeof globalThis<"u"?globalThis:{};function IP(){if(!rr.createContext)return{};const e=ww[vw]??(ww[vw]=new Map);let t=e.get(rr.createContext);return t||(t=rr.createContext(null),e.set(rr.createContext,t)),t}var Es=IP(),jP=()=>{throw new Error("uSES not initialized!")};function vg(e=Es){return function(){return rr.useContext(e)}}var s1=vg(),i1=jP,NP=e=>{i1=e},$P=(e,t)=>e===t;function AP(e=Es){const t=e===Es?s1:vg(e),r=(n,s={})=>{const{equalityFn:i=$P,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:c,getServerState:l,stabilityCheck:u,identityFunctionCheck:d}=t();rr.useRef(!0);const f=rr.useCallback({[n.name](h){return n(h)}}[n.name],[n,u,o.stabilityCheck]),p=i1(c.addNestedSub,a.getState,l||a.getState,f,i);return rr.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var FP=AP();function BP(e){e()}function zP(){let e=null,t=null;return{clear(){e=null,t=null},notify(){BP(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var _w={notify(){},get:()=>[]};function UP(e,t){let r,n=_w,s=0,i=!1;function o(m){u();const g=n.subscribe(m);let v=!1;return()=>{v||(v=!0,g(),d())}}function a(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function l(){return i}function u(){s++,r||(r=e.subscribe(c),n=zP())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=_w)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const h={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return h}var VP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HP=typeof navigator<"u"&&navigator.product==="ReactNative",WP=VP||HP?rr.useLayoutEffect:rr.useEffect;function qP({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=rr.useMemo(()=>{const l=UP(e);return{store:e,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,n,s,i]),a=rr.useMemo(()=>e.getState(),[e]);WP(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=t||Es;return rr.createElement(c.Provider,{value:o},r)}var KP=qP;function o1(e=Es){const t=e===Es?s1:vg(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var GP=o1();function YP(e=Es){const t=e===Es?GP:o1(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var QP=YP();NP(MP.useSyncExternalStoreWithSelector);var fn=function(){return fn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fn.apply(this,arguments)};function a1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function XP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ql="right-scroll-bar-position",Kl="width-before-scroll-bar",JP="with-scroll-bars-hidden",ZP="--removed-body-scroll-bar-size";function Zf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eD(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var tD=typeof window<"u"?S.useLayoutEffect:S.useEffect,Sw=new WeakMap;function rD(e,t){var r=eD(null,function(n){return e.forEach(function(s){return Zf(s,n)})});return tD(function(){var n=Sw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||Zf(a,null)}),i.forEach(function(a){s.has(a)||Zf(a,o)})}Sw.set(r,e)},[e]),r}function nD(e){return e}function sD(e,t){t===void 0&&(t=nD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),r}}}};return s}function iD(e){e===void 0&&(e={});var t=sD(null);return t.options=fn({async:!0,ssr:!1},e),t}var c1=function(e){var t=e.sideCar,r=a1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,fn({},r))};c1.isSideCarExport=!0;function oD(e,t){return e.useMedium(t),c1}var l1=iD(),ep=function(){},ad=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:ep,onWheelCapture:ep,onTouchMoveCapture:ep}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,_=e.gapMode,w=a1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,x=rD([r,t]),R=fn(fn({},w),s);return S.createElement(S.Fragment,null,u&&S.createElement(b,{sideCar:l1,removeScrollBar:l,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:_}),o?S.cloneElement(S.Children.only(a),fn(fn({},R),{ref:x})):S.createElement(v,fn({},R,{className:c,ref:x}),a))});ad.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ad.classNames={fullWidth:Kl,zeroRight:ql};var aD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aD();return t&&e.setAttribute("nonce",t),e}function lD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cD())&&(lD(t,r),uD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fD=function(){var e=dD();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},u1=function(){var e=fD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},pD={left:0,top:0,right:0,gap:0},tp=function(e){return parseInt(e||"",10)||0},hD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[tp(r),tp(n),tp(s)]},mD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pD;var t=hD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},gD=u1(),uo="data-scroll-locked",yD=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(JP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ql,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Kl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(uo,`] {
    `).concat(ZP,": ").concat(a,`px;
  }
`)},bw=function(){var e=parseInt(document.body.getAttribute(uo)||"0",10);return isFinite(e)?e:0},vD=function(){S.useEffect(function(){return document.body.setAttribute(uo,(bw()+1).toString()),function(){var e=bw()-1;e<=0?document.body.removeAttribute(uo):document.body.setAttribute(uo,e.toString())}},[])},wD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;vD();var i=S.useMemo(function(){return mD(s)},[s]);return S.createElement(gD,{styles:yD(i,!t,s,r?"":"!important")})},Mh=!1;if(typeof window<"u")try{var ll=Object.defineProperty({},"passive",{get:function(){return Mh=!0,!0}});window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Mh=!1}var wi=Mh?{passive:!1}:!1,_D=function(e){return e.tagName==="TEXTAREA"},d1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_D(e)&&r[t]==="visible")},SD=function(e){return d1(e,"overflowY")},bD=function(e){return d1(e,"overflowX")},Rw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=f1(e,n);if(s){var i=p1(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},f1=function(e,t){return e==="v"?SD(t):bD(t)},p1=function(e,t){return e==="v"?RD(t):xD(t)},CD=function(e,t){return e==="h"&&t==="rtl"?-1:1},ED=function(e,t,r,n,s){var i=CD(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var p=p1(e,a),h=p[0],m=p[1],g=p[2],v=m-g-i*h;(h||v)&&f1(e,a)&&(d+=v,f+=h),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(l=!0),l},ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xw=function(e){return[e.deltaX,e.deltaY]},Cw=function(e){return e&&"current"in e?e.current:e},TD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DD=0,_i=[];function kD(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),s=S.useState(DD++)[0],i=S.useState(u1)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=XP([e.lockRef.current],(e.shards||[]).map(Cw),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=ul(m),_=r.current,w="deltaX"in m?m.deltaX:_[0]-v[0],b="deltaY"in m?m.deltaY:_[1]-v[1],x,R=m.target,E=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in m&&E==="h"&&R.type==="range")return!1;var C=Rw(E,R);if(!C)return!0;if(C?x=E:(x=E==="v"?"h":"v",C=Rw(E,R)),!C)return!1;if(!n.current&&"changedTouches"in m&&(w||b)&&(n.current=x),!x)return!0;var k=n.current||x;return ED(k,g,m,k==="h"?w:b,!0)},[]),c=S.useCallback(function(m){var g=m;if(!(!_i.length||_i[_i.length-1]!==i)){var v="deltaY"in g?xw(g):ul(g),_=t.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&TD(x.delta,v)})[0];if(_&&_.should){g.cancelable&&g.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(Cw).filter(Boolean).filter(function(x){return x.contains(g.target)}),b=w.length>0?a(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),l=S.useCallback(function(m,g,v,_){var w={name:m,delta:g,target:v,should:_,shadowParent:OD(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=S.useCallback(function(m){r.current=ul(m),n.current=void 0},[]),d=S.useCallback(function(m){l(m.type,xw(m),m.target,a(m,e.lockRef.current))},[]),f=S.useCallback(function(m){l(m.type,ul(m),m.target,a(m,e.lockRef.current))},[]);S.useEffect(function(){return _i.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,wi),document.addEventListener("touchmove",c,wi),document.addEventListener("touchstart",u,wi),function(){_i=_i.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,wi),document.removeEventListener("touchmove",c,wi),document.removeEventListener("touchstart",u,wi)}},[]);var p=e.removeScrollBar,h=e.inert;return S.createElement(S.Fragment,null,h?S.createElement(i,{styles:PD(s)}):null,p?S.createElement(wD,{gapMode:e.gapMode}):null)}function OD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LD=oD(l1,kD);var h1=S.forwardRef(function(e,t){return S.createElement(ad,fn({},e,{ref:t,sideCar:LD}))});h1.classNames=ad.classNames;function Kt(e){return Object.keys(e)}function rp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function wg(e,t){const r={...e},n=t;return rp(e)&&rp(t)&&Object.keys(t).forEach(s=>{rp(n[s])&&s in e?r[s]=wg(r[s],n[s]):r[s]=n[s]}),r}function MD(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function ID(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function ac(e){const t=ID(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function np(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function m1(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const s=`${n/16}${e}`;return t?np(s):s}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(i=>r(i)).join(",");if(n.includes(" "))return n.split(" ").map(i=>r(i)).join(" ");if(n.includes(e))return t?np(n):n;const s=n.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?np(i):i}}return n}return r}const O=m1("rem",{shouldScale:!0}),Ew=m1("em");function Mo(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function g1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Io(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==S.Fragment:!1}function Sn(e){const t=S.createContext(null);return[({children:s,value:i})=>y.jsx(t.Provider,{value:i,children:s}),()=>{const s=S.useContext(t);if(s===null)throw new Error(e);return s}]}function jD(e=null){const t=S.createContext(e);return[({children:s,value:i})=>y.jsx(t.Provider,{value:i,children:s}),()=>S.useContext(t)]}function Du(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function ND(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function $D(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function AD(e,t,r){return Du(e,r)===Du(t,r)}function FD({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:s=!1,dir:i="rtl",orientation:o}){return a=>{var h;r==null||r(a);const c=Array.from(((h=Du(a.currentTarget,e))==null?void 0:h.querySelectorAll(t))||[]).filter(m=>AD(a.currentTarget,m,e)),l=c.findIndex(m=>a.currentTarget===m),u=$D(l,c,n),d=ND(l,c,n),f=i==="rtl"?d:u,p=i==="rtl"?u:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[f].focus(),s&&c[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),s&&c[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[d].focus(),s&&c[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[u].focus(),s&&c[u].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=c.length-1;!c[m].disabled&&c[m].focus();break}}}}const BD={app:100,modal:200,popover:300,overlay:400,max:9999};function Ms(e){return BD[e]}const zD=()=>{};function UD(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||zD:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Fe(e,t="size",r=!0){if(e!==void 0)return g1(e)?r?O(e):e:`var(--${t}-${e})`}function Vt(e){return Fe(e,"mantine-spacing")}function Tr(e){return e===void 0?"var(--mantine-radius-default)":Fe(e,"mantine-radius")}function br(e){return Fe(e,"mantine-font-size")}function VD(e){return Fe(e,"mantine-line-height",!1)}function _g(e){if(e)return Fe(e,"mantine-shadow",!1)}function pn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function HD(e,t){return e in t?ac(t[e]):ac(e)}function WD(e,t){const r=e.map(n=>({value:n,px:HD(n,t)}));return r.sort((n,s)=>n.px-s.px),r}function fo(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function qD(e,t,r){var n;return r?Array.from(((n=Du(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(s=>s===r):null}function KD(){const[e,t]=S.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function za(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function Sg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Us(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function cd(e,t){const r=Us(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback((...s)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...s),t)},[r,t])}const Tw=["mousedown","touchstart"];function GD(e,t,r){const n=S.useRef();return S.useEffect(()=>{const s=i=>{const{target:o}=i??{};if(Array.isArray(r)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(l=>!!l&&!i.composedPath().includes(l))&&!a&&e()}else n.current&&!n.current.contains(o)&&e()};return(t||Tw).forEach(i=>document.addEventListener(i,s)),()=>{(t||Tw).forEach(i=>document.removeEventListener(i,s))}},[n,e,r]),n}function YD(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function QD(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function XD(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,s]=S.useState(r?t:QD(e)),i=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),s(i.current.matches),YD(i.current,o=>s(o.matches))},[e]),n}const Cc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Bn(e,t){const r=S.useRef(!1);S.useEffect(()=>()=>{r.current=!1},[]),S.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function y1({opened:e,shouldReturnFocus:t=!0}){const r=S.useRef(),n=()=>{var s;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((s=r.current)==null||s.focus({preventScroll:!0}))};return Bn(()=>{let s=-1;const i=o=>{o.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?r.current=document.activeElement:t&&(s=window.setTimeout(n,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),n}function JD(e,t="body > :not(script)"){const r=Sg(),n=Array.from(document.querySelectorAll(t)).map(s=>{var c;if((c=s==null?void 0:s.shadowRoot)!=null&&c.contains(e)||s.contains(e))return;const i=s.getAttribute("aria-hidden"),o=s.getAttribute("data-hidden"),a=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",r),i===null||i==="false"?s.setAttribute("aria-hidden","true"):!o&&!a&&s.setAttribute("data-hidden",i),{node:s,ariaHidden:o||null}});return()=>{n.forEach(s=>{!s||r!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const ZD=/input|select|textarea|button|object/,v1="a, input, select, textarea, button, object, [tabindex]";function ek(e){return e.style.display==="none"}function tk(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(ek(r))return!1;r=r.parentNode}return!0}function w1(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Ih(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(w1(e));return(ZD.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&tk(e)}function _1(e){const t=w1(e);return(Number.isNaN(t)||t>=0)&&Ih(e)}function rk(e){return Array.from(e.querySelectorAll(v1)).filter(_1)}function nk(e,t){const r=rk(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let i=n===s.activeElement||e===s.activeElement;const o=s.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(i=r.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===o.getAttribute("name")).includes(n)),!i)return;t.preventDefault();const c=r[t.shiftKey?r.length-1:0];c&&c.focus()}function sk(e=!0){const t=S.useRef(),r=S.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(v1));o=a.find(_1)||a.find(Ih)||null,!o&&Ih(i)&&(o=i)}o&&o.focus({preventScroll:!0})},s=S.useCallback(i=>{if(e){if(i===null){r.current&&(r.current(),r.current=null);return}r.current=JD(i),t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)}},[e]);return S.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&nk(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current()}},[e]),s}const ik=e=>(e+1)%1e6;function ok(){const[,e]=S.useReducer(ik,0);return e}const ak=wr.useId||(()=>{});function ck(){const e=ak();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ec(e){const t=ck(),[r,n]=S.useState(t);return Cc(()=>{n(Sg())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function lk(e,t,r){S.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function S1(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function b1(...e){return t=>{e.forEach(r=>S1(r,t))}}function Ft(...e){return S.useCallback(b1(...e),e)}function uk(e,t,r="ltr"){const n=S.useRef(null),s=S.useRef(!1),i=S.useRef(!1),o=S.useRef(0),[a,c]=S.useState(!1);return S.useEffect(()=>{s.current=!0},[]),S.useEffect(()=>{var _,w;const l=({x:b,y:x})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(s.current&&n.current){n.current.style.userSelect="none";const R=n.current.getBoundingClientRect();if(R.width&&R.height){const E=za((b-R.left)/R.width,0,1);e({x:r==="ltr"?E:1-E,y:za((x-R.top)/R.height,0,1)})}}})},u=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.addEventListener("touchmove",v),document.addEventListener("touchend",p)},d=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",p)},f=()=>{!i.current&&s.current&&(i.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),u())},p=()=>{i.current&&s.current&&(i.current=!1,c(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},h=b=>{f(),b.preventDefault(),m(b)},m=b=>l({x:b.clientX,y:b.clientY}),g=b=>{b.cancelable&&b.preventDefault(),f(),v(b)},v=b=>{b.cancelable&&b.preventDefault(),l({x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY})};return(_=n.current)==null||_.addEventListener("mousedown",h),(w=n.current)==null||w.addEventListener("touchstart",g,{passive:!1}),()=>{n.current&&(n.current.removeEventListener("mousedown",h),n.current.removeEventListener("touchstart",g))}},[r,e]),{ref:n,active:a}}function Ro({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[s,i]=S.useState(t!==void 0?t:r),o=(a,...c)=>{i(a),n==null||n(a,...c)};return e!==void 0?[e,n,!0]:[s,o,!1]}function ld(e,t){return XD("(prefers-reduced-motion: reduce)",e,t)}function cc(e=!1,t){const{onOpen:r,onClose:n}={},[s,i]=S.useState(e),o=S.useCallback(()=>{i(l=>l||(r==null||r(),!0))},[r]),a=S.useCallback(()=>{i(l=>l&&(n==null||n(),!1))},[n]),c=S.useCallback(()=>{s?a():o()},[a,o,s]);return[s,{open:o,close:a,toggle:c}]}function dk(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}function R1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=R1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=R1(e))&&(n&&(n+=" "),n+=t);return n}const fk={};function pk(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,s])=>{t[n]?t[n]=Nt(t[n],s):t[n]=s})}),t}function ud({theme:e,classNames:t,props:r,stylesCtx:n}){const i=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,r,n):o||fk);return pk(i)}function ku({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((i,o)=>typeof o=="function"?{...i,...o(e,r,n)}:{...i,...o},{})}const x1=S.createContext(null);function ui(){const e=S.useContext(x1);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function hk(){return ui().cssVariablesResolver}function mk(){return ui().classNamesPrefix}function bg(){return ui().getStyleNonce}function gk(){return ui().withStaticClasses}function yk(){return ui().headless}function vk(){var e;return(e=ui().stylesTransform)==null?void 0:e.sx}function wk(){var e;return(e=ui().stylesTransform)==null?void 0:e.styles}function _k(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function Sk(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const r=parseInt(t,16),n=r>>16&255,s=r>>8&255,i=r&255;return{r:n,g:s,b:i,a:1}}function bk(e){const[t,r,n,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:s||1}}function Rk(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),s=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*i-1))*s,c=n/60,l=a*(1-Math.abs(c%2-1)),u=i-a/2;let d,f,p;return c>=0&&c<1?(d=a,f=l,p=0):c>=1&&c<2?(d=l,f=a,p=0):c>=2&&c<3?(d=0,f=a,p=l):c>=3&&c<4?(d=0,f=l,p=a):c>=4&&c<5?(d=l,f=0,p=a):(d=a,f=0,p=l),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((p+u)*255),a:o||1}}function Rg(e){return _k(e)?Sk(e):e.startsWith("rgb")?bk(e):e.startsWith("hsl")?Rk(e):{r:0,g:0,b:0,a:1}}function dl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:s,a:i}=Rg(e),o=1-t,a=c=>Math.round(c*o);return`rgba(${a(r)}, ${a(n)}, ${a(s)}, ${i})`}function lc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function sp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function xk(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function Ck(e){if(e.startsWith("oklch("))return(xk(e)||0)/100;const{r:t,g:r,b:n}=Rg(e),s=t/255,i=r/255,o=n/255,a=sp(s),c=sp(i),l=sp(o);return .2126*a+.7152*c+.0722*l}function fa(e,t=.179){return e.startsWith("var(")?!1:Ck(e)>t}function jo({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:fa(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:fa(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:fa(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,s]=e.split("."),i=s?Number(s):void 0,o=n in t.colors;if(o){const a=i!==void 0?t.colors[n][i]:t.colors[n][lc(t,r||"light")];return{color:n,value:a,shade:i,isThemeColor:o,isLight:fa(a,t.luminanceThreshold),variable:s?`--mantine-color-${n}-${i}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:fa(e,t.luminanceThreshold),shade:i,variable:void 0}}function Ts(e,t){const r=jo({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function jh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},n=Ts(r.from,t),s=Ts(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${s} 100%)`}function un(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:s}=Rg(e);return`rgba(${r}, ${n}, ${s}, ${t})`}const Si=un,Ek=({color:e,theme:t,variant:r,gradient:n,autoContrast:s})=>{const i=jo({color:e,theme:t}),o=typeof s=="boolean"?s:t.autoContrast;if(r==="filled"){const a=o&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${O(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${O(1)} solid transparent`}:{background:e,hover:dl(e,.1),color:a,border:`${O(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:un(a,.1),hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}}return{background:un(e,.1),hover:un(e,.12),color:e,border:`${O(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${O(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:un(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${O(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:un(e,.05),color:e,border:`${O(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}}return{background:"transparent",hover:un(e,.12),color:e,border:`${O(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${O(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${O(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${O(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${O(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${O(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:e,border:`${O(1)} solid transparent`}:r==="gradient"?{background:jh(n,t),hover:jh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${O(1)} solid var(--mantine-color-default-border)`}:{}},Tk={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Pw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",xg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Tk,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Ek,autoContrast:!1,luminanceThreshold:.3,fontFamily:Pw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Pw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:O(34),lineHeight:"1.3"},h2:{fontSize:O(26),lineHeight:"1.35"},h3:{fontSize:O(22),lineHeight:"1.4"},h4:{fontSize:O(18),lineHeight:"1.45"},h5:{fontSize:O(16),lineHeight:"1.5"},h6:{fontSize:O(14),lineHeight:"1.5"}}},fontSizes:{xs:O(12),sm:O(14),md:O(16),lg:O(18),xl:O(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:O(2),sm:O(4),md:O(8),lg:O(16),xl:O(32)},spacing:{xs:O(10),sm:O(12),md:O(16),lg:O(20),xl:O(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), 0 ${O(1)} ${O(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(10)} ${O(15)} ${O(-5)}, rgba(0, 0, 0, 0.04) 0 ${O(7)} ${O(7)} ${O(-5)}`,md:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(20)} ${O(25)} ${O(-5)}, rgba(0, 0, 0, 0.04) 0 ${O(10)} ${O(10)} ${O(-5)}`,lg:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(28)} ${O(23)} ${O(-7)}, rgba(0, 0, 0, 0.04) 0 ${O(12)} ${O(12)} ${O(-7)}`,xl:`0 ${O(1)} ${O(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${O(36)} ${O(28)} ${O(-7)}, rgba(0, 0, 0, 0.04) 0 ${O(17)} ${O(17)} ${O(-7)}`},other:{},components:{}};function Dw(e){return e==="auto"||e==="dark"||e==="light"}function Pk({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return Dw(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&Dw(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Dk="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",kw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ip(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Ow(e){if(!(e.primaryColor in e.colors))throw new Error(Dk);if(typeof e.primaryShade=="object"&&(!ip(e.primaryShade.dark)||!ip(e.primaryShade.light)))throw new Error(kw);if(typeof e.primaryShade=="number"&&!ip(e.primaryShade))throw new Error(kw)}function kk(e,t){var n;if(!t)return Ow(e),e;const r=wg(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Ow(r),r}const Cg=S.createContext(null),Ok=()=>S.useContext(Cg)||xg;function dr(){const e=S.useContext(Cg);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function C1({theme:e,children:t,inherit:r=!0}){const n=Ok(),s=S.useMemo(()=>kk(r?n:xg,e),[e,n,r]);return y.jsx(Cg.Provider,{value:s,children:t})}C1.displayName="@mantine/core/MantineThemeProvider";function Lk(){const e=dr(),t=bg(),r=Kt(e.breakpoints).reduce((n,s)=>{const i=e.breakpoints[s].includes("px"),o=ac(e.breakpoints[s]),a=i?`${o-.1}px`:Ew(o-.1),c=i?`${o}px`:Ew(o);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return y.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function op(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function pa(e,t){return(Array.isArray(e)?e:[e]).reduce((n,s)=>`${s}{${n}}`,t)}function Mk(e,t){const r=op(e.variables),n=r?pa(t,r):"",s=op(e.dark),i=op(e.light),o=s?pa(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",a=i?pa(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${n}${o}${a}`}function Ik({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&jo({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Lw(e,t){return Ik({color:e.colors[e.primaryColor][lc(e,t)],theme:e,autoContrast:null})}function fl({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const a=lc(e,"light"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:Si(e.colors[t][a],.1),[`--mantine-color-${n}-light-hover`]:Si(e.colors[t][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:Si(e.colors[t][a],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}const i=lc(e,"dark"),o={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${i})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${i===9?8:i+1})`,[`--mantine-color-${n}-light`]:Si(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${n}-light-hover`]:Si(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(i-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(i-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Si(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...o}:o}function jk(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function bi(e,t,r){Kt(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const E1=e=>{const t=lc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:O(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Lw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Lw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};bi(n.variables,e.breakpoints,"breakpoint"),bi(n.variables,e.spacing,"spacing"),bi(n.variables,e.fontSizes,"font-size"),bi(n.variables,e.lineHeights,"line-height"),bi(n.variables,e.shadows,"shadow"),bi(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,o)=>{n.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Kt(e.colors).forEach(i=>{const o=e.colors[i];if(jk(o)){Object.assign(n.light,fl({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,fl({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,c)=>{n.variables[`--mantine-color-${i}-${c}`]=a}),Object.assign(n.light,fl({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,fl({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return Kt(s).forEach(i=>{n.variables[`--mantine-${i}-font-size`]=s[i].fontSize,n.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,n.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),n};function Nk({theme:e,generator:t}){const r=E1(e),n=t==null?void 0:t(e);return n?wg(r,n):r}const ap=E1(xg);function $k(e){const t={variables:{},light:{},dark:{}};return Kt(e.variables).forEach(r=>{ap.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Kt(e.light).forEach(r=>{ap.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Kt(e.dark).forEach(r=>{ap.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function Ak(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function T1({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=dr(),n=bg(),s=hk(),i=Nk({theme:r,generator:s}),o=e===":root"&&t,a=o?$k(i):i,c=Mk(a,e);return c?y.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${c}${o?"":Ak(e)}`}}):null}T1.displayName="@mantine/CssVariables";function Fk(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Ri(e,t){var n;const r=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=t())==null||n.setAttribute("data-mantine-color-scheme",r)}function Bk({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const s=S.useRef(),[i,o]=S.useState(()=>e.get(t)),a=n||i,c=S.useCallback(u=>{n||(Ri(u,r),o(u),e.set(u))},[e.set,a,n]),l=S.useCallback(()=>{o(t),Ri(t,r),e.clear()},[e.clear,t]);return S.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),Cc(()=>{Ri(e.get(t),r)},[]),S.useEffect(()=>{var d;if(n)return Ri(n,r),()=>{};n===void 0&&Ri(i,r),s.current=window.matchMedia("(prefers-color-scheme: dark)");const u=f=>{i==="auto"&&Ri(f.matches?"dark":"light",r)};return(d=s.current)==null||d.addEventListener("change",u),()=>{var f;return(f=s.current)==null?void 0:f.removeEventListener("change",u)}},[i,n]),{colorScheme:a,setColorScheme:c,clearColorScheme:l}}function zk({respectReducedMotion:e,getRootElement:t}){Cc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}Fk();function P1({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:l=Pk(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:p,stylesTransform:h}){const{colorScheme:m,setColorScheme:g,clearColorScheme:v}=Bk({defaultColorScheme:u,forceColorScheme:p,manager:l,getRootElement:d});return zk({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),y.jsx(x1.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:v,getRootElement:d,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:n,stylesTransform:h},children:y.jsxs(C1,{theme:e,children:[o&&y.jsx(T1,{cssVariablesSelector:a,deduplicateCssVariables:i}),s&&y.jsx(Lk,{}),t]})})}P1.displayName="@mantine/core/MantineProvider";function D1({classNames:e,styles:t,props:r,stylesCtx:n}){const s=dr();return{resolvedClassNames:ud({theme:s,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:ku({theme:s,styles:t,props:r,stylesCtx:n||void 0})}}const Uk={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Vk({theme:e,options:t,unstyled:r}){return Nt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||Uk[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function Hk({selector:e,stylesCtx:t,options:r,props:n,theme:s}){return ud({theme:s,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function Mw({selector:e,stylesCtx:t,theme:r,classNames:n,props:s}){return ud({theme:r,classNames:n,props:s,stylesCtx:t})[e]}function Wk({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function qk({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function Kk({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function Gk({themeName:e,theme:t,selector:r,props:n,stylesCtx:s}){return e.map(i=>{var o,a;return(a=ud({theme:t,classNames:(o=t.components[i])==null?void 0:o.classNames,props:n,stylesCtx:s}))==null?void 0:a[r]})}function Yk({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function Qk({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:s,classNames:i,classes:o,unstyled:a,className:c,rootSelector:l,props:u,stylesCtx:d,withStaticClasses:f,headless:p,transformedStyles:h}){return Nt(Vk({theme:e,options:t,unstyled:a||p}),Gk({theme:e,themeName:r,selector:n,props:u,stylesCtx:d}),Yk({options:t,classes:o,selector:n,unstyled:a}),Mw({selector:n,stylesCtx:d,theme:e,classNames:i,props:u}),Mw({selector:n,stylesCtx:d,theme:e,classNames:h,props:u}),Hk({selector:n,stylesCtx:d,options:t,props:u,theme:e}),Wk({rootSelector:l,selector:n,className:c}),qk({selector:n,classes:o,unstyled:a||p}),f&&!p&&Kk({themeName:r,classNamesPrefix:s,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Xk({theme:e,themeName:t,props:r,stylesCtx:n,selector:s}){return t.map(i=>{var o;return ku({theme:e,styles:(o=e.components[i])==null?void 0:o.styles,props:r,stylesCtx:n})[s]}).reduce((i,o)=>({...i,...o}),{})}function Nh({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Nh({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Jk(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Mo(r[n])}}),t),{})}function Zk({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:s,selector:i,themeName:o,headless:a}){var c;return(c=Jk([a?{}:t==null?void 0:t(r,n,s),...o.map(l=>{var u,d,f;return(f=(d=(u=r.components)==null?void 0:u[l])==null?void 0:d.vars)==null?void 0:f.call(d,r,n,s)}),e==null?void 0:e(r,n,s)]))==null?void 0:c[i]}function eO({theme:e,themeName:t,selector:r,options:n,props:s,stylesCtx:i,rootSelector:o,styles:a,style:c,vars:l,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&Xk({theme:e,themeName:t,props:s,stylesCtx:i,selector:r}),...!f&&ku({theme:e,styles:a,props:s,stylesCtx:i})[r],...!f&&ku({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||s,stylesCtx:i})[r],...Zk({theme:e,props:s,stylesCtx:i,vars:l,varsResolver:u,selector:r,themeName:t,headless:d}),...o===r?Nh({style:c,theme:e}):null,...Nh({style:n==null?void 0:n.style,theme:e})}}function tO({props:e,stylesCtx:t,themeName:r}){var o;const n=dr(),s=(o=wk())==null?void 0:o();return{getTransformedStyles:a=>s?[...a.map(l=>s(l,{props:e,theme:n,ctx:t})),...r.map(l=>{var u;return s((u=n.components[l])==null?void 0:u.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function le({name:e,classes:t,props:r,stylesCtx:n,className:s,style:i,rootSelector:o="root",unstyled:a,classNames:c,styles:l,vars:u,varsResolver:d}){const f=dr(),p=mk(),h=gk(),m=yk(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:v,getTransformedStyles:_}=tO({props:r,stylesCtx:n,themeName:g});return(w,b)=>({className:Qk({theme:f,options:b,themeName:g,selector:w,classNamesPrefix:p,classNames:c,classes:t,unstyled:a,className:s,rootSelector:o,props:r,stylesCtx:n,withStaticClasses:h,headless:m,transformedStyles:_([b==null?void 0:b.styles,l])}),style:eO({theme:f,themeName:g,selector:w,options:b,props:r,stylesCtx:n,rootSelector:o,styles:l,style:i,vars:u,varsResolver:d,headless:m,withStylesTransform:v})})}function F(e,t,r){var o;const n=dr(),s=(o=n.components[e])==null?void 0:o.defaultProps,i=typeof s=="function"?s(n):s;return{...t,...i,...Mo(r)}}function cp(e){return Kt(e).reduce((t,r)=>e[r]!==void 0?`${t}${MD(r)}:${e[r]};`:t,"").trim()}function rO({selector:e,styles:t,media:r,container:n}){const s=t?cp(t):"",i=Array.isArray(r)?r.map(a=>`@media${a.query}{${e}{${cp(a.styles)}}}`):[],o=Array.isArray(n)?n.map(a=>`@container ${a.query}{${e}{${cp(a.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${o.join("")}`.trim()}function dd(e){const t=bg();return y.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:rO(e)}})}function Eg(e){const{m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:u,px:d,py:f,pt:p,pb:h,pl:m,pr:g,pe:v,ps:_,bd:w,bg:b,c:x,opacity:R,ff:E,fz:C,fw:k,lts:L,ta:B,lh:z,fs:q,tt:H,td:se,w:$,miw:W,maw:T,h:M,mih:j,mah:I,bgsz:U,bgp:J,bgr:ge,bga:Ee,pos:Te,top:fe,left:ht,bottom:fr,right:pr,inset:Yr,display:Xe,flex:Je,hiddenFrom:ke,visibleFrom:st,lightHidden:Or,darkHidden:Ve,sx:Rt,...Ne}=e;return{styleProps:Mo({m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:u,px:d,py:f,pt:p,pb:h,pl:m,pr:g,pe:v,ps:_,bd:w,bg:b,c:x,opacity:R,ff:E,fz:C,fw:k,lts:L,ta:B,lh:z,fs:q,tt:H,td:se,w:$,miw:W,maw:T,h:M,mih:j,mah:I,bgsz:U,bgp:J,bgr:ge,bga:Ee,pos:Te,top:fe,left:ht,bottom:fr,right:pr,inset:Yr,display:Xe,flex:Je,hiddenFrom:ke,visibleFrom:st,lightHidden:Or,darkHidden:Ve,sx:Rt}),rest:Ne}}const nO={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Tg(e,t){const r=jo({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function sO(e,t){const r=jo({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:Tg(e,t)}function iO(e,t){if(typeof e=="number")return O(e);if(typeof e=="string"){const[r,n,...s]=e.split(" ").filter(o=>o.trim()!=="");let i=`${O(r)}`;return n&&(i+=` ${n}`),s.length>0&&(i+=` ${Tg(s.join(" "),t)}`),i.trim()}return e}const Iw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function oO(e){return typeof e=="string"&&e in Iw?Iw[e]:e}const aO=["h1","h2","h3","h4","h5","h6"];function cO(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&aO.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?O(e):e}function lO(e){return e}const uO=["h1","h2","h3","h4","h5","h6"];function dO(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&uO.includes(e)?`var(--mantine-${e}-line-height)`:e}function fO(e){return typeof e=="number"?O(e):e}function pO(e,t){if(typeof e=="number")return O(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return O(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const lp={color:Tg,textColor:sO,fontSize:cO,spacing:pO,identity:lO,size:fO,lineHeight:dO,fontFamily:oO,border:iO};function jw(e){return e.replace("(min-width: ","").replace("em)","")}function hO({media:e,...t}){const n=Object.keys(e).sort((s,i)=>Number(jw(s))-Number(jw(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:n}}function mO(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function gO(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function yO(e){return typeof e=="object"&&e!==null?Kt(e).filter(t=>t!=="base"):[]}function vO(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function k1({styleProps:e,data:t,theme:r}){return hO(Kt(e).reduce((n,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return n;const i=t[s],o=Array.isArray(i.property)?i.property:[i.property],a=gO(e[s]);if(!mO(e[s]))return o.forEach(l=>{n.inlineStyles[l]=lp[i.type](a,r)}),n;n.hasResponsiveStyles=!0;const c=yO(e[s]);return o.forEach(l=>{a&&(n.styles[l]=lp[i.type](a,r)),c.forEach(u=>{const d=`(min-width: ${r.breakpoints[u]})`;n.media[d]={...n.media[d],[l]:lp[i.type](vO(e[s],u),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Pg(){return`__m__-${S.useId().replace(/:/g,"")}`}function O1(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...O1(n,t)}),{}):typeof e=="function"?e(t):e??{}}function L1(e){return e.startsWith("data-")?e:`data-${e}`}function wO(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[L1(r)]=e[r]),t},{})}function M1(e){return e?typeof e=="string"?{[L1(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...M1(r)}),{}):wO(e):null}function $h(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...$h(n,t)}),{}):typeof e=="function"?e(t):e??{}}function _O({theme:e,style:t,vars:r,styleProps:n}){const s=$h(t,e),i=$h(r,e);return{...s,...i,...n}}const I1=S.forwardRef(({component:e,style:t,__vars:r,className:n,variant:s,mod:i,size:o,hiddenFrom:a,visibleFrom:c,lightHidden:l,darkHidden:u,renderRoot:d,__size:f,...p},h)=>{var C;const m=dr(),g=e||"div",{styleProps:v,rest:_}=Eg(p),w=vk(),b=(C=w==null?void 0:w())==null?void 0:C(v.sx),x=Pg(),R=k1({styleProps:v,theme:m,data:nO}),E={ref:h,style:_O({theme:m,style:t,vars:r,styleProps:R.inlineStyles}),className:Nt(n,b,{[x]:R.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":s,"data-size":g1(o)?void 0:o||void 0,size:f,...M1(i),..._};return y.jsxs(y.Fragment,{children:[R.hasResponsiveStyles&&y.jsx(dd,{selector:`.${x}`,styles:R.styles,media:R.media}),typeof d=="function"?d(E):y.jsx(g,{...E})]})});I1.displayName="@mantine/core/Box";const A=I1;function j1(e){return e}function K(e){const t=S.forwardRef(e);return t.extend=j1,t.withProps=r=>{const n=S.forwardRef((s,i)=>y.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Bt(e){const t=S.forwardRef(e);return t.withProps=r=>{const n=S.forwardRef((s,i)=>y.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=j1,t}const SO=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function No(){return S.useContext(SO)}function bO(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function up(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const ha=typeof window<"u"&&window.requestAnimationFrame;function RO({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const s=S.useRef(null),i=0,o={display:"none",height:0,overflow:"hidden"},[a,c]=S.useState(n?{}:o),l=h=>{Rc.flushSync(()=>c(h))},u=h=>{l(m=>({...m,...h}))};function d(h){const m=e||bO(h);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Bn(()=>{typeof ha=="function"&&ha(n?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),ha(()=>{const h=up(s);u({...d(h),height:h})})}:()=>{const h=up(s);u({...d(h),willChange:"height",height:h}),ha(()=>u({height:i,overflow:"hidden"}))})},[n]);const f=h=>{if(!(h.target!==s.current||h.propertyName!=="height"))if(n){const m=up(s);m===a.height?l({}):u({height:m}),r()}else a.height===i&&(l(o),r())};function p({style:h={},refKey:m="ref",...g}={}){const v=g[m];return{"aria-hidden":!n,...g,[m]:b1(s,v),onTransitionEnd:f,style:{boxSizing:"border-box",...h,...a}}}return p}const xO={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Dg=K((e,t)=>{const{children:r,in:n,transitionDuration:s,transitionTimingFunction:i,style:o,onTransitionEnd:a,animateOpacity:c,...l}=F("Collapse",xO,e),u=dr(),d=ld(),p=(u.respectReducedMotion?d:!1)?0:s,h=RO({opened:n,transitionDuration:p,transitionTimingFunction:i,onTransitionEnd:a});return p===0?n?y.jsx(A,{...l,children:r}):null:y.jsx(A,{...h({style:{opacity:n||!c?1:0,transition:c?`opacity ${p}ms ${i}`:"none",...O1(o,u)},ref:t,...l}),children:r})});Dg.displayName="@mantine/core/Collapse";const[CO,Pr]=Sn("ScrollArea.Root component was not found in tree");function xo(e,t){const r=Us(t);Cc(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const EO=S.forwardRef((e,t)=>{const{style:r,...n}=e,s=Pr(),[i,o]=S.useState(0),[a,c]=S.useState(0),l=!!(i&&a);return xo(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),xo(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),l?y.jsx("div",{...n,ref:t,style:{...r,width:i,height:a}}):null}),TO=S.forwardRef((e,t)=>{const r=Pr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?y.jsx(EO,{...e,ref:t}):null}),PO={scrollHideDelay:1e3,type:"hover"},N1=S.forwardRef((e,t)=>{const r=F("ScrollAreaRoot",PO,e),{type:n,scrollHideDelay:s,scrollbars:i,...o}=r,[a,c]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(null),[p,h]=S.useState(null),[m,g]=S.useState(null),[v,_]=S.useState(0),[w,b]=S.useState(0),[x,R]=S.useState(!1),[E,C]=S.useState(!1),k=Ft(t,L=>c(L));return y.jsx(CO,{value:{type:n,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:u,content:d,onContentChange:f,scrollbarX:p,onScrollbarXChange:h,scrollbarXEnabled:x,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:_,onCornerHeightChange:b},children:y.jsx(A,{...o,ref:k,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${v}px`,"--sa-corner-height":i!=="xy"?"0px":`${w}px`}})})});N1.displayName="@mantine/core/ScrollAreaRoot";function $1(e,t){const r=e/t;return Number.isNaN(r)?0:r}function fd(e){const t=$1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function A1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function DO(e,[t,r]){return Math.min(r,Math.max(t,e))}function Nw(e,t,r="ltr"){const n=fd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,c=r==="ltr"?[0,o]:[o*-1,0],l=DO(e,c);return A1([0,o],[0,a])(l)}function kO(e,t,r,n="ltr"){const s=fd(r),i=s/2,o=t||i,a=s-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return A1([c,l],d)(e)}function F1(e,t){return e>0&&e<t}function Ou(e){return e?parseInt(e,10):0}function Qs(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[OO,B1]=Sn("ScrollAreaScrollbar was not found in tree"),z1=S.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:l,onResize:u,...d}=e,f=Pr(),[p,h]=S.useState(null),m=Ft(t,C=>h(C)),g=S.useRef(null),v=S.useRef(""),{viewport:_}=f,w=r.content-r.viewport,b=Us(l),x=Us(a),R=cd(u,10),E=C=>{if(g.current){const k=C.clientX-g.current.left,L=C.clientY-g.current.top;c({x:k,y:L})}};return S.useEffect(()=>{const C=k=>{const L=k.target;(p==null?void 0:p.contains(L))&&b(k,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,p,w,b]),S.useEffect(x,[r,x]),xo(p,R),xo(f.content,R),y.jsx(OO,{value:{scrollbar:p,hasThumb:n,onThumbChange:Us(s),onThumbPointerUp:Us(i),onThumbPositionChange:x,onThumbPointerDown:Us(o)},children:y.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:Qs(e.onPointerDown,C=>{C.preventDefault(),C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(C))}),onPointerMove:Qs(e.onPointerMove,E),onPointerUp:Qs(e.onPointerUp,C=>{C.preventDefault();const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})})})}),U1=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Pr(),[a,c]=S.useState(),l=S.useRef(null),u=Ft(t,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),y.jsx(z1,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{...s,"--sa-thumb-width":`${fd(r)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),F1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ou(a.paddingLeft),paddingEnd:Ou(a.paddingRight)}})}})});U1.displayName="@mantine/core/ScrollAreaScrollbarX";const V1=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Pr(),[a,c]=S.useState(),l=S.useRef(null),u=Ft(t,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&c(window.getComputedStyle(l.current))},[]),y.jsx(z1,{...i,"data-orientation":"vertical",ref:u,sizes:r,style:{"--sa-thumb-height":`${fd(r)}px`,...s},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),F1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ou(a.paddingTop),paddingEnd:Ou(a.paddingBottom)}})}})});V1.displayName="@mantine/core/ScrollAreaScrollbarY";const pd=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:s}=No(),i=Pr(),o=S.useRef(null),a=S.useRef(0),[c,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$1(c.viewport,c.content),d={...n,sizes:c,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>{o.current=p},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:p=>{a.current=p}},f=(p,h)=>kO(p,a.current,c,h);return r==="horizontal"?y.jsx(U1,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,h=Nw(p,c,s);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,s))}}):r==="vertical"?y.jsx(V1,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,h=Nw(p,c);c.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null});pd.displayName="@mantine/core/ScrollAreaScrollbarVisible";const kg=S.forwardRef((e,t)=>{const r=Pr(),{forceMount:n,...s}=e,[i,o]=S.useState(!1),a=e.orientation==="horizontal",c=cd(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?l:u)}},10);return xo(r.viewport,c),xo(r.content,c),n||i?y.jsx(pd,{"data-state":i?"visible":"hidden",...s,ref:t}):null});kg.displayName="@mantine/core/ScrollAreaScrollbarAuto";const H1=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),[i,o]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:a}=s;let c=0;if(a){const l=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r||i?y.jsx(kg,{"data-state":i?"visible":"hidden",...n,ref:t}):null});H1.displayName="@mantine/core/ScrollAreaScrollbarHover";const LO=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),i=e.orientation==="horizontal",[o,a]=S.useState("hidden"),c=cd(()=>a("idle"),100);return S.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay]),S.useEffect(()=>{const{viewport:l}=s,u=i?"scrollLeft":"scrollTop";if(l){let d=l[u];const f=()=>{const p=l[u];d!==p&&(a("scrolling"),c()),d=p};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,c]),r||o!=="hidden"?y.jsx(pd,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Qs(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Qs(e.onPointerLeave,()=>a("idle"))}):null}),Ah=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return S.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?y.jsx(H1,{...n,ref:t,forceMount:r}):s.type==="scroll"?y.jsx(LO,{...n,ref:t,forceMount:r}):s.type==="auto"?y.jsx(kg,{...n,ref:t,forceMount:r}):s.type==="always"?y.jsx(pd,{...n,ref:t}):null});Ah.displayName="@mantine/core/ScrollAreaScrollbar";function MO(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)}const W1=S.forwardRef((e,t)=>{const{style:r,...n}=e,s=Pr(),i=B1(),{onThumbPositionChange:o}=i,a=Ft(t,u=>i.onThumbChange(u)),c=S.useRef(),l=cd(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const{viewport:u}=s;if(u){const d=()=>{if(l(),!c.current){const f=MO(u,o);c.current=f,o()}};return o(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[s.viewport,l,o]),y.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Qs(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),p=u.clientX-f.left,h=u.clientY-f.top;i.onThumbPointerDown({x:p,y:h})}),onPointerUp:Qs(e.onPointerUp,i.onThumbPointerUp)})});W1.displayName="@mantine/core/ScrollAreaThumb";const Fh=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=B1();return r||s.hasThumb?y.jsx(W1,{ref:t,...n}):null});Fh.displayName="@mantine/core/ScrollAreaThumb";const q1=S.forwardRef(({children:e,style:t,...r},n)=>{const s=Pr(),i=Ft(n,s.onViewportChange);return y.jsx(A,{...r,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:y.jsx("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange,children:e})})});q1.displayName="@mantine/core/ScrollAreaViewport";var Og={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const K1={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},IO=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":O(t)}}),Is=K((e,t)=>{const r=F("ScrollArea",K1,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,scrollbarSize:c,vars:l,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:p,onScrollPositionChange:h,children:m,offsetScrollbars:g,scrollbars:v,onBottomReached:_,onTopReached:w,...b}=r,[x,R]=S.useState(!1),E=le({name:"ScrollArea",props:r,classes:Og,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:IO});return y.jsxs(N1,{type:u==="never"?"always":u,scrollHideDelay:d,ref:t,scrollbars:v,...E("root"),...b,children:[y.jsx(q1,{...f,...E("viewport",{style:f==null?void 0:f.style}),ref:p,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,onScroll:C=>{var z;(z=f==null?void 0:f.onScroll)==null||z.call(f,C),h==null||h({x:C.currentTarget.scrollLeft,y:C.currentTarget.scrollTop});const{scrollTop:k,scrollHeight:L,clientHeight:B}=C.currentTarget;k-(L-B)>=0&&(_==null||_()),k===0&&(w==null||w())},children:m}),(v==="xy"||v==="x")&&y.jsx(Ah,{...E("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:y.jsx(Fh,{...E("thumb")})}),(v==="xy"||v==="y")&&y.jsx(Ah,{...E("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:y.jsx(Fh,{...E("thumb")})}),y.jsx(TO,{...E("corner"),"data-hovered":x||void 0,"data-hidden":u==="never"||void 0})]})});Is.displayName="@mantine/core/ScrollArea";const Lg=K((e,t)=>{const{children:r,classNames:n,styles:s,scrollbarSize:i,scrollHideDelay:o,type:a,dir:c,offsetScrollbars:l,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:p,viewportProps:h,scrollbars:m,style:g,vars:v,onBottomReached:_,onTopReached:w,...b}=F("ScrollAreaAutosize",K1,e);return y.jsx(A,{...b,ref:t,style:[{display:"flex",overflow:"auto"},g],children:y.jsx(A,{style:{display:"flex",flexDirection:"column",flex:1},children:y.jsx(Is,{classNames:n,styles:s,scrollHideDelay:o,scrollbarSize:i,type:a,dir:c,offsetScrollbars:l,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:p,viewportProps:h,vars:v,scrollbars:m,onBottomReached:_,onTopReached:w,children:r})})})});Is.classes=Og;Lg.displayName="@mantine/core/ScrollAreaAutosize";Lg.classes=Og;Is.Autosize=Lg;var G1={root:"m_87cf2631"};const jO={__staticSelector:"UnstyledButton"},$o=Bt((e,t)=>{const r=F("UnstyledButton",jO,e),{className:n,component:s="button",__staticSelector:i,unstyled:o,classNames:a,styles:c,style:l,...u}=r,d=le({name:i,props:r,classes:G1,className:n,style:l,classNames:a,styles:c,unstyled:o});return y.jsx(A,{...d("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...u})});$o.classes=G1;$o.displayName="@mantine/core/UnstyledButton";var Y1={root:"m_515a97f8"};const NO={},Mg=K((e,t)=>{const r=F("VisuallyHidden",NO,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,...l}=r,u=le({name:"VisuallyHidden",classes:Y1,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a});return y.jsx(A,{component:"span",ref:t,...u("root"),...l})});Mg.classes=Y1;Mg.displayName="@mantine/core/VisuallyHidden";var Q1={root:"m_1b7284a3"};const $O={},AO=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Tr(t),"--paper-shadow":_g(r)}}),Tc=Bt((e,t)=>{const r=F("Paper",$O,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,withBorder:c,vars:l,radius:u,shadow:d,variant:f,mod:p,...h}=r,m=le({name:"Paper",props:r,classes:Q1,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:AO});return y.jsx(A,{ref:t,mod:[{"data-with-border":c},p],...m("root"),variant:f,...h})});Tc.classes=Q1;Tc.displayName="@mantine/core/Paper";function hd(){return typeof window<"u"}function Ao(e){return X1(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bn(e){var t;return(t=(X1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function X1(e){return hd()?e instanceof Node||e instanceof sr(e).Node:!1}function It(e){return hd()?e instanceof Element||e instanceof sr(e).Element:!1}function wn(e){return hd()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function $w(e){return!hd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}function Pc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function FO(e){return["table","td","th"].includes(Ao(e))}function md(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ig(e){const t=jg(),r=It(e)?Ur(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function BO(e){let t=Ps(e);for(;wn(t)&&!Co(t);){if(Ig(t))return t;if(md(t))return null;t=Ps(t)}return null}function jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Co(e){return["html","body","#document"].includes(Ao(e))}function Ur(e){return sr(e).getComputedStyle(e)}function gd(e){return It(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ps(e){if(Ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$w(e)&&e.host||bn(e);return $w(t)?t.host:t}function J1(e){const t=Ps(e);return Co(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&Pc(t)?t:J1(t)}function uc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=J1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=sr(s);if(i){const a=Bh(o);return t.concat(o,o.visualViewport||[],Pc(s)?s:[],a&&r?uc(a):[])}return t.concat(s,uc(s,[],r))}function Bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Vr=Math.min,Tt=Math.max,Lu=Math.round,pl=Math.floor,yn=e=>({x:e,y:e}),zO={left:"right",right:"left",bottom:"top",top:"bottom"},UO={start:"end",end:"start"};function zh(e,t,r){return Tt(e,Vr(t,r))}function zn(e,t){return typeof e=="function"?e(t):e}function Hr(e){return e.split("-")[0]}function Fo(e){return e.split("-")[1]}function Ng(e){return e==="x"?"y":"x"}function $g(e){return e==="y"?"height":"width"}function Un(e){return["top","bottom"].includes(Hr(e))?"y":"x"}function Ag(e){return Ng(Un(e))}function VO(e,t,r){r===void 0&&(r=!1);const n=Fo(e),s=Ag(e),i=$g(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Mu(o)),[o,Mu(o)]}function HO(e){const t=Mu(e);return[Uh(e),t,Uh(t)]}function Uh(e){return e.replace(/start|end/g,t=>UO[t])}function WO(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function qO(e,t,r,n){const s=Fo(e);let i=WO(Hr(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Uh)))),i}function Mu(e){return e.replace(/left|right|bottom|top/g,t=>zO[t])}function KO(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fg(e){return typeof e!="number"?KO(e):{top:e,right:e,bottom:e,left:e}}function Eo(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Aw(e,t,r){let{reference:n,floating:s}=e;const i=Un(t),o=Ag(t),a=$g(o),c=Hr(t),l=i==="y",u=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Fo(t)){case"start":p[o]-=f*(r&&l?-1:1);break;case"end":p[o]+=f*(r&&l?-1:1);break}return p}const GO=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=Aw(l,n,c),f=n,p={},h=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:_,y:w,data:b,reset:x}=await v({x:u,y:d,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=_??u,d=w??d,p={...p,[g]:{...p[g],...b}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):x.rects),{x:u,y:d}=Aw(l,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function Bg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=zn(t,e),h=Fg(p),g=a[f?d==="floating"?"reference":"floating":d],v=Eo(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),_=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},x=Eo(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:c}):_);return{top:(v.top-x.top+h.top)/b.y,bottom:(x.bottom-v.bottom+h.bottom)/b.y,left:(v.left-x.left+h.left)/b.x,right:(x.right-v.right+h.right)/b.x}}const YO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=zn(e,t)||{};if(l==null)return{};const d=Fg(u),f={x:r,y:n},p=Ag(s),h=$g(p),m=await o.getDimensions(l),g=p==="y",v=g?"top":"left",_=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[h]+i.reference[p]-f[p]-i.floating[h],x=f[p]-i.reference[p],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=R?R[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(R)))&&(E=a.floating[w]||i.floating[h]);const C=b/2-x/2,k=E/2-m[h]/2-1,L=Vr(d[v],k),B=Vr(d[_],k),z=L,q=E-m[h]-B,H=E/2-m[h]/2+C,se=zh(z,H,q),$=!c.arrow&&Fo(s)!=null&&H!==se&&i.reference[h]/2-(H<z?L:B)-m[h]/2<0,W=$?H<z?H-z:H-q:0;return{[p]:f[p]+W,data:{[p]:se,centerOffset:H-se-W,...$&&{alignmentOffset:W}},reset:$}}}),QO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=zn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Hr(s),_=Un(a),w=Hr(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),x=f||(w||!m?[Mu(a)]:HO(a)),R=h!=="none";!f&&R&&x.push(...qO(a,m,h,b));const E=[a,...x],C=await Bg(t,g),k=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&k.push(C[v]),d){const H=VO(s,o,b);k.push(C[H[0]],C[H[1]])}if(L=[...L,{placement:s,overflows:k}],!k.every(H=>H<=0)){var B,z;const H=(((B=i.flip)==null?void 0:B.index)||0)+1,se=E[H];if(se)return{data:{index:H,overflows:L},reset:{placement:se}};let $=(z=L.filter(W=>W.overflows[0]<=0).sort((W,T)=>W.overflows[1]-T.overflows[1])[0])==null?void 0:z.placement;if(!$)switch(p){case"bestFit":{var q;const W=(q=L.filter(T=>{if(R){const M=Un(T.placement);return M===_||M==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(M=>M>0).reduce((M,j)=>M+j,0)]).sort((T,M)=>T[1]-M[1])[0])==null?void 0:q[0];W&&($=W);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Z1(e){const t=Vr(...e.map(i=>i.left)),r=Vr(...e.map(i=>i.top)),n=Tt(...e.map(i=>i.right)),s=Tt(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:s-r}}function XO(e){const t=e.slice().sort((s,i)=>s.y-i.y),r=[];let n=null;for(let s=0;s<t.length;s++){const i=t[s];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(s=>Eo(Z1(s)))}const JO=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:c,y:l}=zn(e,t),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),d=XO(u),f=Eo(Z1(u)),p=Fg(a);function h(){if(d.length===2&&d[0].left>d[1].right&&c!=null&&l!=null)return d.find(g=>c>g.left-p.left&&c<g.right+p.right&&l>g.top-p.top&&l<g.bottom+p.bottom)||f;if(d.length>=2){if(Un(r)==="y"){const L=d[0],B=d[d.length-1],z=Hr(r)==="top",q=L.top,H=B.bottom,se=z?L.left:B.left,$=z?L.right:B.right,W=$-se,T=H-q;return{top:q,bottom:H,left:se,right:$,width:W,height:T,x:se,y:q}}const g=Hr(r)==="left",v=Tt(...d.map(L=>L.right)),_=Vr(...d.map(L=>L.left)),w=d.filter(L=>g?L.left===_:L.right===v),b=w[0].top,x=w[w.length-1].bottom,R=_,E=v,C=E-R,k=x-b;return{top:b,bottom:x,left:R,right:E,width:C,height:k,x:R,y:b}}return f}const m=await i.getElementRects({reference:{getBoundingClientRect:h},floating:n.floating,strategy:o});return s.reference.x!==m.reference.x||s.reference.y!==m.reference.y||s.reference.width!==m.reference.width||s.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function ZO(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Hr(r),a=Fo(r),c=Un(r)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=zn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}const eL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await ZO(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},tL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:v,y:_}=g;return{x:v,y:_}}},...c}=zn(e,t),l={x:r,y:n},u=await Bg(t,c),d=Un(Hr(s)),f=Ng(d);let p=l[f],h=l[d];if(i){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=p+u[g],w=p-u[v];p=zh(_,p,w)}if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",_=h+u[g],w=h-u[v];h=zh(_,h,w)}const m=a.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:i,[d]:o}}}}}},rL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=zn(e,t),u={x:r,y:n},d=Un(s),f=Ng(d);let p=u[f],h=u[d];const m=zn(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+g.mainAxis,x=i.reference[f]+i.reference[w]-g.mainAxis;p<b?p=b:p>x&&(p=x)}if(l){var v,_;const w=f==="y"?"width":"height",b=["top","left"].includes(Hr(s)),x=i.reference[d]-i.floating[w]+(b&&((v=o.offset)==null?void 0:v[d])||0)+(b?0:g.crossAxis),R=i.reference[d]+i.reference[w]+(b?0:((_=o.offset)==null?void 0:_[d])||0)-(b?g.crossAxis:0);h<x?h=x:h>R&&(h=R)}return{[f]:p,[d]:h}}}},nL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...l}=zn(e,t),u=await Bg(t,l),d=Hr(s),f=Fo(s),p=Un(s)==="y",{width:h,height:m}=i.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const _=m-u.top-u.bottom,w=h-u.left-u.right,b=Vr(m-u[g],_),x=Vr(h-u[v],w),R=!t.middlewareData.shift;let E=b,C=x;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=_),R&&!f){const L=Tt(u.left,0),B=Tt(u.right,0),z=Tt(u.top,0),q=Tt(u.bottom,0);p?C=h-2*(L!==0||B!==0?L+B:Tt(u.left,u.right)):E=m-2*(z!==0||q!==0?z+q:Tt(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:E});const k=await o.getDimensions(a.floating);return h!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function eR(e){const t=Ur(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=wn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Lu(r)!==i||Lu(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function zg(e){return It(e)?e:e.contextElement}function po(e){const t=zg(e);if(!wn(t))return yn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=eR(t);let o=(i?Lu(r.width):r.width)/n,a=(i?Lu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sL=yn(0);function tR(e){const t=sr(e);return!jg()||!t.visualViewport?sL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sr(e)?!1:t}function ni(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=zg(e);let o=yn(1);t&&(n?It(n)&&(o=po(n)):o=po(e));const a=iL(i,r,n)?tR(i):yn(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=sr(i),p=n&&It(n)?sr(n):n;let h=f,m=Bh(h);for(;m&&n&&p!==h;){const g=po(m),v=m.getBoundingClientRect(),_=Ur(m),w=v.left+(m.clientLeft+parseFloat(_.paddingLeft))*g.x,b=v.top+(m.clientTop+parseFloat(_.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,d*=g.y,c+=w,l+=b,h=sr(m),m=Bh(h)}}return Eo({width:u,height:d,x:c,y:l})}function Ug(e,t){const r=gd(e).scrollLeft;return t?t.left+r:ni(bn(e)).left+r}function rR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Ug(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function oL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=bn(n),a=t?md(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},l=yn(1);const u=yn(0),d=wn(n);if((d||!d&&!i)&&((Ao(n)!=="body"||Pc(o))&&(c=gd(n)),wn(n))){const p=ni(n);l=po(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!d&&!i?rR(o,c,!0):yn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:r.y*l.y-c.scrollTop*l.y+u.y+f.y}}function aL(e){return Array.from(e.getClientRects())}function cL(e){const t=bn(e),r=gd(e),n=e.ownerDocument.body,s=Tt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Tt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ug(e);const a=-r.scrollTop;return Ur(n).direction==="rtl"&&(o+=Tt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lL(e,t){const r=sr(e),n=bn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=jg();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function uL(e,t){const r=ni(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=wn(e)?po(e):yn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:o,height:a,x:c,y:l}}function Fw(e,t,r){let n;if(t==="viewport")n=lL(e,r);else if(t==="document")n=cL(bn(e));else if(It(t))n=uL(t,r);else{const s=tR(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Eo(n)}function nR(e,t){const r=Ps(e);return r===t||!It(r)||Co(r)?!1:Ur(r).position==="fixed"||nR(r,t)}function dL(e,t){const r=t.get(e);if(r)return r;let n=uc(e,[],!1).filter(a=>It(a)&&Ao(a)!=="body"),s=null;const i=Ur(e).position==="fixed";let o=i?Ps(e):e;for(;It(o)&&!Co(o);){const a=Ur(o),c=Ig(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pc(o)&&!c&&nR(e,o))?n=n.filter(u=>u!==o):s=a,o=Ps(o)}return t.set(e,n),n}function fL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?md(t)?[]:dL(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((l,u)=>{const d=Fw(t,u,s);return l.top=Tt(d.top,l.top),l.right=Vr(d.right,l.right),l.bottom=Vr(d.bottom,l.bottom),l.left=Tt(d.left,l.left),l},Fw(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pL(e){const{width:t,height:r}=eR(e);return{width:t,height:r}}function hL(e,t,r){const n=wn(t),s=bn(t),i=r==="fixed",o=ni(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=yn(0);if(n||!n&&!i)if((Ao(t)!=="body"||Pc(s))&&(a=gd(t)),n){const f=ni(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=Ug(s));const l=s&&!n&&!i?rR(s,a):yn(0),u=o.left+a.scrollLeft-c.x-l.x,d=o.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:o.width,height:o.height}}function dp(e){return Ur(e).position==="static"}function Bw(e,t){if(!wn(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bn(e)===r&&(r=r.ownerDocument.body),r}function sR(e,t){const r=sr(e);if(md(e))return r;if(!wn(e)){let s=Ps(e);for(;s&&!Co(s);){if(It(s)&&!dp(s))return s;s=Ps(s)}return r}let n=Bw(e,t);for(;n&&FO(n)&&dp(n);)n=Bw(n,t);return n&&Co(n)&&dp(n)&&!Ig(n)?r:n||BO(e)||r}const mL=async function(e){const t=this.getOffsetParent||sR,r=this.getDimensions,n=await r(e.floating);return{reference:hL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gL(e){return Ur(e).direction==="rtl"}const yL={convertOffsetParentRelativeRectToViewportRelativeRect:oL,getDocumentElement:bn,getClippingRect:fL,getOffsetParent:sR,getElementRects:mL,getClientRects:aL,getDimensions:pL,getScale:po,isElement:It,isRTL:gL};function vL(e,t){let r=null,n;const s=bn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const p=pl(u),h=pl(s.clientWidth-(l+d)),m=pl(s.clientHeight-(u+f)),g=pl(l),_={rootMargin:-p+"px "+-h+"px "+-m+"px "+-g+"px",threshold:Tt(0,Vr(1,c))||1};let w=!0;function b(x){const R=x[0].intersectionRatio;if(R!==c){if(!w)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,_)}r.observe(e)}return o(!0),i}function wL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=zg(e),u=s||i?[...l?uc(l):[],...uc(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const d=l&&a?vL(l,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),l&&!c&&p.observe(l),p.observe(t));let h,m=c?ni(e):null;c&&g();function g(){const v=ni(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&r(),m=v,h=requestAnimationFrame(g)}return r(),()=>{var v;u.forEach(_=>{s&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(h)}}const _L=eL,SL=tL,bL=QO,RL=nL,zw=YO,xL=JO,CL=rL,EL=(e,t,r)=>{const n=new Map,s={platform:yL,...r},i={...s.platform,_c:n};return GO(e,t,{...s,platform:i})};var Gl=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Iu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Iu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function iR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uw(e,t){const r=iR(e);return Math.round(t*r)/r}function fp(e){const t=S.useRef(e);return Gl(()=>{t.current=e}),t}function TL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(n);Iu(f,n)||p(n);const[h,m]=S.useState(null),[g,v]=S.useState(null),_=S.useCallback(T=>{T!==R.current&&(R.current=T,m(T))},[]),w=S.useCallback(T=>{T!==E.current&&(E.current=T,v(T))},[]),b=i||h,x=o||g,R=S.useRef(null),E=S.useRef(null),C=S.useRef(u),k=c!=null,L=fp(c),B=fp(s),z=fp(l),q=S.useCallback(()=>{if(!R.current||!E.current)return;const T={placement:t,strategy:r,middleware:f};B.current&&(T.platform=B.current),EL(R.current,E.current,T).then(M=>{const j={...M,isPositioned:z.current!==!1};H.current&&!Iu(C.current,j)&&(C.current=j,Rc.flushSync(()=>{d(j)}))})},[f,t,r,B,z]);Gl(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[l]);const H=S.useRef(!1);Gl(()=>(H.current=!0,()=>{H.current=!1}),[]),Gl(()=>{if(b&&(R.current=b),x&&(E.current=x),b&&x){if(L.current)return L.current(b,x,q);q()}},[b,x,q,L,k]);const se=S.useMemo(()=>({reference:R,floating:E,setReference:_,setFloating:w}),[_,w]),$=S.useMemo(()=>({reference:b,floating:x}),[b,x]),W=S.useMemo(()=>{const T={position:r,left:0,top:0};if(!$.floating)return T;const M=Uw($.floating,u.x),j=Uw($.floating,u.y);return a?{...T,transform:"translate("+M+"px, "+j+"px)",...iR($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:j}},[r,a,$.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:q,refs:se,elements:$,floatingStyles:W}),[u,q,se,$,W])}const PL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zw({element:n.current,padding:s}).fn(r):{}:n?zw({element:n,padding:s}).fn(r):{}}}},DL=(e,t)=>({..._L(e),options:[e,t]}),kL=(e,t)=>({...SL(e),options:[e,t]}),Vw=(e,t)=>({...CL(e),options:[e,t]}),Hw=(e,t)=>({...bL(e),options:[e,t]}),OL=(e,t)=>({...RL(e),options:[e,t]}),Ww=(e,t)=>({...xL(e),options:[e,t]}),LL=(e,t)=>({...PL(e),options:[e,t]}),oR={...su},ML=oR.useInsertionEffect,IL=ML||(e=>e());function jL(e){const t=S.useRef(()=>{});return IL(()=>{t.current=e}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var Vh=typeof document<"u"?S.useLayoutEffect:S.useEffect;let qw=!1,NL=0;const Kw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+NL++;function $L(){const[e,t]=S.useState(()=>qw?Kw():void 0);return Vh(()=>{e==null&&t(Kw())},[]),S.useEffect(()=>{qw=!0},[]),e}const AL=oR.useId,FL=AL||$L;function BL(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const zL=S.createContext(null),UL=S.createContext(null),VL=()=>{var e;return((e=S.useContext(zL))==null?void 0:e.id)||null},HL=()=>S.useContext(UL);function WL(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=FL(),i=S.useRef({}),[o]=S.useState(()=>BL()),a=VL()!=null,[c,l]=S.useState(n.reference),u=jL((p,h,m)=>{i.current.openEvent=p?h:void 0,o.emit("openchange",{open:p,event:h,reason:m,nested:a}),r==null||r(p,h,m)}),d=S.useMemo(()=>({setPositionReference:l}),[]),f=S.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return S.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:f,events:o,floatingId:s,refs:d}),[t,u,f,o,s,d])}function qL(e){e===void 0&&(e={});const{nodeId:t}=e,r=WL({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,o]=S.useState(null),[a,c]=S.useState(null),u=(s==null?void 0:s.domReference)||i,d=S.useRef(null),f=HL();Vh(()=>{u&&(d.current=u)},[u]);const p=TL({...e,elements:{...s,...a&&{reference:a}}}),h=S.useCallback(w=>{const b=It(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(b),p.refs.setReference(b)},[p.refs]),m=S.useCallback(w=>{(It(w)||w===null)&&(d.current=w,o(w)),(It(p.refs.reference.current)||p.refs.reference.current===null||w!==null&&!It(w))&&p.refs.setReference(w)},[p.refs]),g=S.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:d}),[p.refs,m,h]),v=S.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),_=S.useMemo(()=>({...p,...n,refs:g,elements:v,nodeId:t}),[p,g,v,t,n]);return Vh(()=>{n.dataRef.current.floatingContext=_;const w=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);w&&(w.context=_)}),S.useMemo(()=>({...p,context:_,refs:g,elements:v}),[p,g,v,_])}function KL(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),s=r==="right"?"left":"right";return n===void 0?s:`${s}-${n}`}return t}function Gw(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function Yw(e,t,r,n,s){return e==="center"||n==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const GL={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function YL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,arrowX:i,arrowY:o,dir:a}){const[c,l="center"]=e.split("-"),u={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[GL[c]]:n},d=-t/2;return c==="left"?{...u,...Gw(l,o,r,s),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:c==="right"?{...u,...Gw(l,o,r,s),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:c==="top"?{...u,...Yw(l,i,r,s,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:c==="bottom"?{...u,...Yw(l,i,r,s,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const aR=S.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,visible:i,arrowX:o,arrowY:a,style:c,...l},u)=>{const{dir:d}=No();return i?y.jsx("div",{...l,ref:u,style:{...c,...YL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,dir:d,arrowX:o,arrowY:a})}}):null});aR.displayName="@mantine/core/FloatingArrow";const[QL,cR]=Sn("Popover component was not found in the tree");function yd({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const s=sk(t),i=Ft(s,n);return Io(e)?S.cloneElement(e,{[r]:i}):e}function lR(e){return y.jsx(Mg,{tabIndex:-1,"data-autofocus":!0,...e})}yd.displayName="@mantine/core/FocusTrap";lR.displayName="@mantine/core/FocusTrapInitialFocus";yd.InitialFocus=lR;function XL(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const JL={},uR=S.forwardRef((e,t)=>{const{children:r,target:n,...s}=F("Portal",JL,e),[i,o]=S.useState(!1),a=S.useRef(null);return Cc(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:XL(s),S1(t,a.current),!n&&a.current&&document.body.appendChild(a.current),()=>{!n&&a.current&&document.body.removeChild(a.current)}),[n]),!i||!a.current?null:Rc.createPortal(y.jsx(y.Fragment,{children:r}),a.current)});uR.displayName="@mantine/core/Portal";function vd({withinPortal:e=!0,children:t,...r}){return e?y.jsx(uR,{...r,children:t}):y.jsx(y.Fragment,{children:t})}vd.displayName="@mantine/core/OptionalPortal";const ma=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${O(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),hl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${O(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${O(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${O(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${O(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${O(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${O(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ma("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ma("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ma("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ma("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ma("top"),common:{transformOrigin:"top right"}}},Qw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function ZL({transition:e,state:t,duration:r,timingFunction:n}){const s={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in hl?{transitionProperty:hl[e].transitionProperty,...s,...hl[e].common,...hl[e][Qw[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[Qw[t]]}}function eM({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:s,onExit:i,onEntered:o,onExited:a,enterDelay:c,exitDelay:l}){const u=dr(),d=ld(),f=u.respectReducedMotion?d:!1,[p,h]=S.useState(f?0:e),[m,g]=S.useState(n?"entered":"exited"),v=S.useRef(-1),_=S.useRef(-1),w=S.useRef(-1),b=R=>{const E=R?s:i,C=R?o:a;window.clearTimeout(v.current);const k=f?0:R?e:t;h(k),k===0?(typeof E=="function"&&E(),typeof C=="function"&&C(),g(R?"entered":"exited")):w.current=requestAnimationFrame(()=>{Ta.flushSync(()=>{g(R?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),g(R?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof C=="function"&&C(),g(R?"entered":"exited")},k)})})},x=R=>{if(window.clearTimeout(_.current),typeof(R?c:l)!="number"){b(R);return}_.current=window.setTimeout(()=>{b(R)},R?c:l)};return Bn(()=>{x(n)},[n]),S.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:r||"ease"}}function di({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:s,children:i,timingFunction:o="ease",onExit:a,onEntered:c,onEnter:l,onExited:u,enterDelay:d,exitDelay:f}){const{transitionDuration:p,transitionStatus:h,transitionTimingFunction:m}=eM({mounted:s,exitDuration:n,duration:r,timingFunction:o,onExit:a,onEntered:c,onEnter:l,onExited:u,enterDelay:d,exitDelay:f});return p===0?s?y.jsx(y.Fragment,{children:i({})}):e?i({display:"none"}):null:h==="exited"?e?i({display:"none"}):null:y.jsx(y.Fragment,{children:i(ZL({transition:t,duration:p,state:h,timingFunction:m}))})}di.displayName="@mantine/core/Transition";var dR={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const tM={},Vg=K((e,t)=>{var g,v,_,w;const r=F("PopoverDropdown",tM,e),{className:n,style:s,vars:i,children:o,onKeyDownCapture:a,variant:c,classNames:l,styles:u,...d}=r,f=cR(),p=y1({opened:f.opened,shouldReturnFocus:f.returnFocus}),h=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=Ft(t,f.floating);return f.disabled?null:y.jsx(vd,{...f.portalProps,withinPortal:f.withinPortal,children:y.jsx(di,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((v=f.transitionProps)==null?void 0:v.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((_=f.transitionProps)==null?void 0:_.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:b=>y.jsx(yd,{active:f.trapFocus&&f.opened,innerRef:m,children:y.jsxs(A,{...h,...d,variant:c,onKeyDownCapture:UD(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:n,props:r,classNames:l,styles:u,style:[{...b,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:O(f.width)},s]}),children:[o,y.jsx(aR,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:r,classNames:l,styles:u})})]})})})})});Vg.classes=dR;Vg.displayName="@mantine/core/PopoverDropdown";const rM={refProp:"ref",popupType:"dialog"},fR=K((e,t)=>{const{children:r,refProp:n,popupType:s,...i}=F("PopoverTarget",rM,e);if(!Io(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,a=cR(),c=Ft(a.reference,r.ref,t),l=a.withRoles?{"aria-haspopup":s,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(r,{...o,...l,...a.targetProps,className:Nt(a.targetProps.className,o.className,r.props.className),[n]:c,...a.controlled?null:{onClick:a.onToggle}})});fR.displayName="@mantine/core/PopoverTarget";function nM({opened:e,floating:t,position:r,positionDependencies:n}){const[s,i]=S.useState(0);S.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return wL(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,r]),Bn(()=>{t.update()},n),Bn(()=>{i(o=>o+1)},[e])}function sM(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function iM(e,t){const r=sM(e.middlewares),n=[DL(e.offset)];return r.shift&&n.push(kL(typeof r.shift=="boolean"?{limiter:Vw(),padding:5}:{limiter:Vw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?Hw():Hw(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Ww():Ww(r.inline)),n.push(LL({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(OL({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:i,availableHeight:o,...a}){var u;const l=((u=t().refs.floating.current)==null?void 0:u.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:i,availableHeight:o,...a}):Object.assign(l,{maxWidth:`${i}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(l,{width:`${s.reference.width}px`})}})),n}function oM(e){const[t,r]=Ro({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{t&&r(!1)},s=()=>r(!t),i=qL({strategy:e.strategy,placement:e.position,middleware:iM(e,()=>i)});return nM({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),Bn(()=>{var o;(o=e.onPositionChange)==null||o.call(e,i.placement)},[i.placement]),Bn(()=>{var o,a;t?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[t,e.onClose,e.onOpen]),{floating:i,controlled:typeof e.opened=="boolean",opened:t,onClose:n,onToggle:s}}const aM={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ms("popover"),__staticSelector:"Popover",width:"max-content"},cM=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Tr(t),"--popover-shadow":_g(r)}});function qr(e){var Ve,Rt,Ne,mt,hr,Tn;const t=F("Popover",aM,e),{children:r,position:n,offset:s,onPositionChange:i,positionDependencies:o,opened:a,transitionProps:c,width:l,middlewares:u,withArrow:d,arrowSize:f,arrowOffset:p,arrowRadius:h,arrowPosition:m,unstyled:g,classNames:v,styles:_,closeOnClickOutside:w,withinPortal:b,portalProps:x,closeOnEscape:R,clickOutsideEvents:E,trapFocus:C,onClose:k,onOpen:L,onChange:B,zIndex:z,radius:q,shadow:H,id:se,defaultOpened:$,__staticSelector:W,withRoles:T,disabled:M,returnFocus:j,variant:I,keepMounted:U,vars:J,floatingStrategy:ge,...Ee}=t,Te=le({name:W,props:t,classes:dR,classNames:v,styles:_,unstyled:g,rootSelector:"dropdown",vars:J,varsResolver:cM}),fe=S.useRef(null),[ht,fr]=S.useState(null),[pr,Yr]=S.useState(null),{dir:Xe}=No(),Je=Ec(se),ke=oM({middlewares:u,width:l,position:KL(Xe,n),offset:typeof s=="number"?s+(d?f/2:0):s,arrowRef:fe,arrowOffset:p,onPositionChange:i,positionDependencies:o,opened:a,defaultOpened:$,onChange:B,onOpen:L,onClose:k,strategy:ge});GD(()=>w&&ke.onClose(),E,[ht,pr]);const st=S.useCallback(Ie=>{fr(Ie),ke.floating.refs.setReference(Ie)},[ke.floating.refs.setReference]),Or=S.useCallback(Ie=>{Yr(Ie),ke.floating.refs.setFloating(Ie)},[ke.floating.refs.setFloating]);return y.jsx(QL,{value:{returnFocus:j,disabled:M,controlled:ke.controlled,reference:st,floating:Or,x:ke.floating.x,y:ke.floating.y,arrowX:(Ne=(Rt=(Ve=ke.floating)==null?void 0:Ve.middlewareData)==null?void 0:Rt.arrow)==null?void 0:Ne.x,arrowY:(Tn=(hr=(mt=ke.floating)==null?void 0:mt.middlewareData)==null?void 0:hr.arrow)==null?void 0:Tn.y,opened:ke.opened,arrowRef:fe,transitionProps:c,width:l,withArrow:d,arrowSize:f,arrowOffset:p,arrowRadius:h,arrowPosition:m,placement:ke.floating.placement,trapFocus:C,withinPortal:b,portalProps:x,zIndex:z,radius:q,shadow:H,closeOnEscape:R,onClose:ke.onClose,onToggle:ke.onToggle,getTargetId:()=>`${Je}-target`,getDropdownId:()=>`${Je}-dropdown`,withRoles:T,targetProps:Ee,__staticSelector:W,classNames:v,styles:_,unstyled:g,variant:I,keepMounted:U,getStyles:Te,floatingStrategy:ge},children:r})}qr.Target=fR;qr.Dropdown=Vg;qr.displayName="@mantine/core/Popover";qr.extend=e=>e;var Ar={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const pR=S.forwardRef(({className:e,...t},r)=>y.jsxs(A,{component:"span",className:Nt(Ar.barsLoader,e),...t,ref:r,children:[y.jsx("span",{className:Ar.bar}),y.jsx("span",{className:Ar.bar}),y.jsx("span",{className:Ar.bar})]}));pR.displayName="@mantine/core/Bars";const hR=S.forwardRef(({className:e,...t},r)=>y.jsxs(A,{component:"span",className:Nt(Ar.dotsLoader,e),...t,ref:r,children:[y.jsx("span",{className:Ar.dot}),y.jsx("span",{className:Ar.dot}),y.jsx("span",{className:Ar.dot})]}));hR.displayName="@mantine/core/Dots";const mR=S.forwardRef(({className:e,...t},r)=>y.jsx(A,{component:"span",className:Nt(Ar.ovalLoader,e),...t,ref:r}));mR.displayName="@mantine/core/Oval";const gR={bars:pR,oval:mR,dots:hR},lM={loaders:gR,type:"oval"},uM=(e,{size:t,color:r})=>({root:{"--loader-size":Fe(t,"loader-size"),"--loader-color":r?Ts(r,e):void 0}}),Bo=K((e,t)=>{const r=F("Loader",lM,e),{size:n,color:s,type:i,vars:o,className:a,style:c,classNames:l,styles:u,unstyled:d,loaders:f,variant:p,children:h,...m}=r,g=le({name:"Loader",props:r,classes:Ar,className:a,style:c,classNames:l,styles:u,unstyled:d,vars:o,varsResolver:uM});return h?y.jsx(A,{...g("root"),ref:t,...m,children:h}):y.jsx(A,{...g("root"),ref:t,component:f[i],variant:p,size:n,...m})});Bo.defaultLoaders=gR;Bo.classes=Ar;Bo.displayName="@mantine/core/Loader";var wd={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Xw={orientation:"horizontal"},dM=(e,{borderWidth:t})=>({group:{"--ai-border-width":O(t)}}),Hg=K((e,t)=>{const r=F("ActionIconGroup",Xw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:u,variant:d,mod:f,...p}=F("ActionIconGroup",Xw,e),h=le({name:"ActionIconGroup",props:r,classes:wd,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:dM,rootSelector:"group"});return y.jsx(A,{...h("group"),ref:t,variant:d,mod:[{"data-orientation":c},f],role:"group",...p})});Hg.classes=wd;Hg.displayName="@mantine/core/ActionIconGroup";const fM={},pM=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:n||"filled",autoContrast:o});return{root:{"--ai-size":Fe(t,"ai-size"),"--ai-radius":r===void 0?void 0:Tr(r),"--ai-bg":i||n?a.background:void 0,"--ai-hover":i||n?a.hover:void 0,"--ai-hover-color":i||n?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||n?a.border:void 0}}},Dt=Bt((e,t)=>{const r=F("ActionIcon",fM,e),{className:n,unstyled:s,variant:i,classNames:o,styles:a,style:c,loading:l,loaderProps:u,size:d,color:f,radius:p,__staticSelector:h,gradient:m,vars:g,children:v,disabled:_,"data-disabled":w,autoContrast:b,mod:x,...R}=r,E=le({name:["ActionIcon",h],props:r,className:n,style:c,classes:wd,classNames:o,styles:a,unstyled:s,vars:g,varsResolver:pM});return y.jsxs($o,{...E("root",{active:!_&&!l&&!w}),...R,unstyled:s,variant:i,size:d,disabled:_||l,ref:t,mod:[{loading:l,disabled:_||w},x],children:[y.jsx(di,{mounted:!!l,transition:"slide-down",duration:150,children:C=>y.jsx(A,{component:"span",...E("loader",{style:C}),"aria-hidden":!0,children:y.jsx(Bo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u})})}),y.jsx(A,{component:"span",mod:{loading:l},...E("icon"),children:v})]})});Dt.classes=wd;Dt.displayName="@mantine/core/ActionIcon";Dt.Group=Hg;const yR=S.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:y.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));yR.displayName="@mantine/core/CloseIcon";var vR={root:"m_86a44da5","root--subtle":"m_220c80f2"};const hM={variant:"subtle"},mM=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Fe(t,"cb-size"),"--cb-radius":r===void 0?void 0:Tr(r),"--cb-icon-size":O(n)}}),Dc=Bt((e,t)=>{const r=F("CloseButton",hM,e),{iconSize:n,children:s,vars:i,radius:o,className:a,classNames:c,style:l,styles:u,unstyled:d,"data-disabled":f,disabled:p,variant:h,icon:m,mod:g,...v}=r,_=le({name:"CloseButton",props:r,className:a,style:l,classes:vR,classNames:c,styles:u,unstyled:d,vars:i,varsResolver:mM});return y.jsxs($o,{ref:t,...v,unstyled:d,variant:h,disabled:p,mod:[{disabled:p||f},g],..._("root",{variant:h,active:!p&&!f}),children:[m||y.jsx(yR,{}),s]})});Dc.classes=vR;Dc.displayName="@mantine/core/CloseButton";function gM(e){return S.Children.toArray(e).filter(Boolean)}var wR={root:"m_4081bf90"};const yM={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},vM=(e,{grow:t,preventGrowOverflow:r,gap:n,align:s,justify:i,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&r?a:void 0,"--group-gap":Vt(n),"--group-align":s,"--group-justify":i,"--group-wrap":o}}),bt=K((e,t)=>{const r=F("Group",yM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,children:c,gap:l,align:u,justify:d,wrap:f,grow:p,preventGrowOverflow:h,vars:m,variant:g,__size:v,mod:_,...w}=r,b=gM(c),x=b.length,R=Vt(l??"md"),C={childWidth:`calc(${100/x}% - (${R} - ${R} / ${x}))`},k=le({name:"Group",props:r,stylesCtx:C,className:s,style:i,classes:wR,classNames:n,styles:o,unstyled:a,vars:m,varsResolver:vM});return y.jsx(A,{...k("root"),ref:t,variant:g,mod:[{grow:p},_],size:v,...w,children:b})});bt.classes=wR;bt.displayName="@mantine/core/Group";var _R={root:"m_9814e45f"};const wM={zIndex:Ms("modal")},_M=(e,{gradient:t,color:r,backgroundOpacity:n,blur:s,radius:i,zIndex:o})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&un(r||"#000",n??.6)||void 0,"--overlay-filter":s?`blur(${O(s)})`:void 0,"--overlay-radius":i===void 0?void 0:Tr(i),"--overlay-z-index":o==null?void 0:o.toString()}}),Wg=Bt((e,t)=>{const r=F("Overlay",wM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,fixed:l,center:u,children:d,radius:f,zIndex:p,gradient:h,blur:m,color:g,backgroundOpacity:v,mod:_,...w}=r,b=le({name:"Overlay",props:r,classes:_R,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:_M});return y.jsx(A,{ref:t,...b("root"),mod:[{center:u,fixed:l},_],...w,children:d})});Wg.classes=_R;Wg.displayName="@mantine/core/Overlay";const[SM,Wn]=Sn("ModalBase component was not found in tree");function bM({opened:e,transitionDuration:t}){const[r,n]=S.useState(e),s=S.useRef(),o=ld()?0:t;return S.useEffect(()=>(e?(n(!0),window.clearTimeout(s.current)):o===0?n(!1):s.current=window.setTimeout(()=>n(!1),o),()=>window.clearTimeout(s.current)),[e,o]),r}function RM({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:s,onClose:i,returnFocus:o}){const a=Ec(e),[c,l]=S.useState(!1),[u,d]=S.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,p=bM({opened:r,transitionDuration:f});return lk("keydown",h=>{var m;h.key==="Escape"&&s&&r&&((m=h.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),y1({opened:r,shouldReturnFocus:n&&o}),{_id:a,titleMounted:c,bodyMounted:u,shouldLockScroll:p,setTitleMounted:l,setBodyMounted:d}}const qg=S.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:s,trapFocus:i,closeOnEscape:o,returnFocus:a,closeOnClickOutside:c,withinPortal:l,portalProps:u,lockScroll:d,children:f,zIndex:p,shadow:h,padding:m,__vars:g,unstyled:v,removeScrollProps:_,...w},b)=>{const{_id:x,titleMounted:R,bodyMounted:E,shouldLockScroll:C,setTitleMounted:k,setBodyMounted:L}=RM({id:n,transitionProps:s,opened:t,trapFocus:i,closeOnEscape:o,onClose:r,returnFocus:a}),{key:B,...z}=_||{};return y.jsx(vd,{...u,withinPortal:l,children:y.jsx(SM,{value:{opened:t,onClose:r,closeOnClickOutside:c,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${x}-title`,getBodyId:()=>`${x}-body`,titleMounted:R,bodyMounted:E,setTitleMounted:k,setBodyMounted:L,trapFocus:i,closeOnEscape:o,zIndex:p,unstyled:v},children:y.jsx(h1,{enabled:C&&d,...z,children:y.jsx(A,{ref:b,...w,__vars:{...g,"--mb-z-index":(p||Ms("modal")).toString(),"--mb-shadow":_g(h),"--mb-padding":Vt(m)},children:f})},B)})})});qg.displayName="@mantine/core/ModalBase";function xM(){const e=Wn();return S.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var To={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Kg=S.forwardRef(({className:e,...t},r)=>{const n=xM(),s=Wn();return y.jsx(A,{ref:r,...t,id:n,className:Nt({[To.body]:!s.unstyled},e)})});Kg.displayName="@mantine/core/ModalBaseBody";const Gg=S.forwardRef(({className:e,onClick:t,...r},n)=>{const s=Wn();return y.jsx(Dc,{ref:n,...r,onClick:i=>{s.onClose(),t==null||t(i)},className:Nt({[To.close]:!s.unstyled},e),unstyled:s.unstyled})});Gg.displayName="@mantine/core/ModalBaseCloseButton";const Yg=S.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:s,...i},o)=>{const a=Wn();return y.jsx(di,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:c=>y.jsx("div",{...r,className:Nt({[To.inner]:!a.unstyled},r.className),children:y.jsx(yd,{active:a.opened&&a.trapFocus,innerRef:o,children:y.jsx(Tc,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[s,c],className:Nt({[To.content]:!a.unstyled},t),unstyled:a.unstyled,children:i.children})})})})});Yg.displayName="@mantine/core/ModalBaseContent";const Qg=S.forwardRef(({className:e,...t},r)=>{const n=Wn();return y.jsx(A,{component:"header",ref:r,className:Nt({[To.header]:!n.unstyled},e),...t})});Qg.displayName="@mantine/core/ModalBaseHeader";const CM={duration:200,timingFunction:"ease",transition:"fade"};function EM(e){const t=Wn();return{...CM,...t.transitionProps,...e}}const Xg=S.forwardRef(({onClick:e,transitionProps:t,style:r,...n},s)=>{const i=Wn(),o=EM(t);return y.jsx(di,{mounted:i.opened,...o,transition:"fade",children:a=>y.jsx(Wg,{ref:s,fixed:!0,style:[r,a],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e==null||e(c),i.closeOnClickOutside&&i.onClose()},...n})})});Xg.displayName="@mantine/core/ModalBaseOverlay";function TM(){const e=Wn();return S.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Jg=S.forwardRef(({className:e,...t},r)=>{const n=TM(),s=Wn();return y.jsx(A,{component:"h2",ref:r,className:Nt({[To.title]:!s.unstyled},e),...t,id:n})});Jg.displayName="@mantine/core/ModalBaseTitle";function SR({children:e}){return y.jsx(y.Fragment,{children:e})}const[PM,_d]=jD({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Dr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Jw={},DM=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${br(t)} - ${O(2)})`}}),Sd=K((e,t)=>{const r=F("InputDescription",Jw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:u,__inheritStyles:d=!0,variant:f,...p}=F("InputDescription",Jw,r),h=_d(),m=le({name:["InputWrapper",u],props:r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"description",vars:c,varsResolver:DM}),g=d&&(h==null?void 0:h.getStyles)||m;return y.jsx(A,{component:"p",ref:t,variant:f,size:l,...g("description",h!=null&&h.getStyles?{className:s,style:i}:void 0),...p})});Sd.classes=Dr;Sd.displayName="@mantine/core/InputDescription";const kM={},OM=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${br(t)} - ${O(2)})`}}),bd=K((e,t)=>{const r=F("InputError",kM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:u,__inheritStyles:d=!0,variant:f,...p}=r,h=le({name:["InputWrapper",u],props:r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"error",vars:c,varsResolver:OM}),m=_d(),g=d&&(m==null?void 0:m.getStyles)||h;return y.jsx(A,{component:"p",ref:t,variant:f,size:l,...g("error",m!=null&&m.getStyles?{className:s,style:i}:void 0),...p})});bd.classes=Dr;bd.displayName="@mantine/core/InputError";const Zw={labelElement:"label"},LM=(e,{size:t})=>({label:{"--input-label-size":br(t),"--input-asterisk-color":void 0}}),Rd=K((e,t)=>{const r=F("InputLabel",Zw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,labelElement:l,size:u,required:d,htmlFor:f,onMouseDown:p,children:h,__staticSelector:m,variant:g,mod:v,..._}=F("InputLabel",Zw,r),w=le({name:["InputWrapper",m],props:r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"label",vars:c,varsResolver:LM}),b=_d(),x=(b==null?void 0:b.getStyles)||w;return y.jsxs(A,{...x("label",b!=null&&b.getStyles?{className:s,style:i}:void 0),component:l,variant:g,size:u,ref:t,htmlFor:l==="label"?f:void 0,mod:[{required:d},v],onMouseDown:R=>{p==null||p(R),!R.defaultPrevented&&R.detail>1&&R.preventDefault()},..._,children:[h,d&&y.jsx("span",{...x("required"),"aria-hidden":!0,children:" *"})]})});Rd.classes=Dr;Rd.displayName="@mantine/core/InputLabel";const e_={},Zg=K((e,t)=>{const r=F("InputPlaceholder",e_,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,__staticSelector:l,variant:u,error:d,mod:f,...p}=F("InputPlaceholder",e_,r),h=le({name:["InputPlaceholder",l],props:r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"placeholder"});return y.jsx(A,{...h("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:t,...p})});Zg.classes=Dr;Zg.displayName="@mantine/core/InputPlaceholder";function MM(e,{hasDescription:t,hasError:r}){const n=e.findIndex(c=>c==="input"),s=e.slice(0,n),i=e.slice(n+1),o=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&i.includes("description")||r&&i.includes("error"),offsetTop:o}}const IM={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},jM=(e,{size:t})=>({label:{"--input-label-size":br(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${br(t)} - ${O(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${br(t)} - ${O(2)})`}}),ey=K((e,t)=>{const r=F("InputWrapper",IM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:p,label:h,error:m,description:g,labelProps:v,descriptionProps:_,errorProps:w,labelElement:b,children:x,withAsterisk:R,id:E,required:C,__stylesApiProps:k,mod:L,...B}=r,z=le({name:["InputWrapper",d],props:k||r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:jM}),q={size:l,variant:u,__staticSelector:d},H=Ec(E),se=typeof R=="boolean"?R:C,$=(w==null?void 0:w.id)||`${H}-error`,W=(_==null?void 0:_.id)||`${H}-description`,T=H,M=!!m&&typeof m!="boolean",j=!!g,I=`${M?$:""} ${j?W:""}`,U=I.trim().length>0?I.trim():void 0,J=(v==null?void 0:v.id)||`${H}-label`,ge=h&&y.jsx(Rd,{labelElement:b,id:J,htmlFor:T,required:se,...q,...v,children:h},"label"),Ee=j&&y.jsx(Sd,{..._,...q,size:(_==null?void 0:_.size)||q.size,id:(_==null?void 0:_.id)||W,children:g},"description"),Te=y.jsx(S.Fragment,{children:f(x)},"input"),fe=M&&S.createElement(bd,{...w,...q,size:(w==null?void 0:w.size)||q.size,key:"error",id:(w==null?void 0:w.id)||$},m),ht=p.map(fr=>{switch(fr){case"label":return ge;case"input":return Te;case"description":return Ee;case"error":return fe;default:return null}});return y.jsx(PM,{value:{getStyles:z,describedBy:U,inputId:T,labelId:J,...MM(p,{hasDescription:j,hasError:M})},children:y.jsx(A,{ref:t,variant:u,size:l,mod:[{error:!!m},L],...z("root"),...B,children:ht})})});ey.classes=Dr;ey.displayName="@mantine/core/InputWrapper";const NM={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},$M=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Fe(t.size,"input-height"),"--input-fz":br(t.size),"--input-radius":t.radius===void 0?void 0:Tr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?O(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?O(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Fe(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Cr=Bt((e,t)=>{const r=F("Input",NM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,required:c,__staticSelector:l,__stylesApiProps:u,size:d,wrapperProps:f,error:p,disabled:h,leftSection:m,leftSectionProps:g,leftSectionWidth:v,rightSection:_,rightSectionProps:w,rightSectionWidth:b,rightSectionPointerEvents:x,leftSectionPointerEvents:R,variant:E,vars:C,pointer:k,multiline:L,radius:B,id:z,withAria:q,withErrorStyles:H,mod:se,inputSize:$,...W}=r,{styleProps:T,rest:M}=Eg(W),j=_d(),I={offsetBottom:j==null?void 0:j.offsetBottom,offsetTop:j==null?void 0:j.offsetTop},U=le({name:["Input",l],props:u||r,classes:Dr,className:s,style:i,classNames:n,styles:o,unstyled:a,stylesCtx:I,rootSelector:"wrapper",vars:C,varsResolver:$M}),J=q?{required:c,disabled:h,"aria-invalid":!!p,"aria-describedby":j==null?void 0:j.describedBy,id:(j==null?void 0:j.inputId)||z}:{};return y.jsxs(A,{...U("wrapper"),...T,...f,mod:[{error:!!p&&H,pointer:k,disabled:h,multiline:L,"data-with-right-section":!!_,"data-with-left-section":!!m},se],variant:E,size:d,children:[m&&y.jsx("div",{...g,"data-position":"left",...U("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),y.jsx(A,{component:"input",...M,...J,ref:t,required:c,mod:{disabled:h,error:!!p&&H},variant:E,__size:$,...U("input")}),_&&y.jsx("div",{...w,"data-position":"right",...U("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:_})]})});Cr.classes=Dr;Cr.Wrapper=ey;Cr.Label=Rd;Cr.Error=bd;Cr.Description=Sd;Cr.Placeholder=Zg;Cr.displayName="@mantine/core/Input";function AM(e,t,r){const n=F(e,t,r),{label:s,description:i,error:o,required:a,classNames:c,styles:l,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:p,errorProps:h,labelProps:m,descriptionProps:g,wrapperProps:v,id:_,size:w,style:b,inputContainer:x,inputWrapperOrder:R,withAsterisk:E,variant:C,vars:k,mod:L,...B}=n,{styleProps:z,rest:q}=Eg(B),H={label:s,description:i,error:o,required:a,classNames:c,className:u,__staticSelector:f,__stylesApiProps:p||n,errorProps:h,labelProps:m,descriptionProps:g,unstyled:d,styles:l,size:w,style:b,inputContainer:x,inputWrapperOrder:R,withAsterisk:E,variant:C,id:_,mod:L,...v};return{...q,classNames:c,styles:l,unstyled:d,wrapperProps:{...H,...z},inputProps:{required:a,classNames:c,styles:l,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:p||n,error:o,variant:C,id:_}}}const FM={__staticSelector:"InputBase",withAria:!0},zo=Bt((e,t)=>{const{inputProps:r,wrapperProps:n,...s}=AM("InputBase",FM,e);return y.jsx(Cr.Wrapper,{...n,children:y.jsx(Cr,{...r,...s,ref:t})})});zo.classes={...Cr.classes,...Cr.Wrapper.classes};zo.displayName="@mantine/core/InputBase";const BM={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var bR={root:"m_8bffd616"};const zM={},Uo=Bt((e,t)=>{const r=F("Flex",zM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,gap:l,rowGap:u,columnGap:d,align:f,justify:p,wrap:h,direction:m,...g}=r,v=le({name:"Flex",classes:bR,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),_=dr(),w=Pg(),b=k1({styleProps:{gap:l,rowGap:u,columnGap:d,align:f,justify:p,wrap:h,direction:m},theme:_,data:BM});return y.jsxs(y.Fragment,{children:[b.hasResponsiveStyles&&y.jsx(dd,{selector:`.${w}`,styles:b.styles,media:b.media}),y.jsx(A,{ref:t,...v("root",{className:w,style:Mo(b.inlineStyles)}),...g})]})});Uo.classes=bR;Uo.displayName="@mantine/core/Flex";var RR={root:"m_b6d8b162"};function UM(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const VM={inherit:!1},HM=(e,{variant:t,lineClamp:r,gradient:n,size:s,color:i})=>({root:{"--text-fz":br(s),"--text-lh":VD(s),"--text-gradient":t==="gradient"?jh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":i?Ts(i,e):void 0}}),Ge=Bt((e,t)=>{const r=F("Text",VM,e),{lineClamp:n,truncate:s,inline:i,inherit:o,gradient:a,span:c,__staticSelector:l,vars:u,className:d,style:f,classNames:p,styles:h,unstyled:m,variant:g,mod:v,size:_,...w}=r,b=le({name:["Text",l],props:r,classes:RR,className:d,style:f,classNames:p,styles:h,unstyled:m,vars:u,varsResolver:HM});return y.jsx(A,{...b("root",{focusable:!0}),ref:t,component:c?"span":"p",variant:g,mod:[{"data-truncate":UM(s),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":o},v],size:_,...w})});Ge.classes=RR;Ge.displayName="@mantine/core/Text";function xR(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>xR(t))}:e}function WM(e){return e?e.map(t=>xR(t)):[]}function CR(e){return e.reduce((t,r)=>"group"in r?{...t,...CR(r.items)}:(t[r.value]=r,t),{})}var Qt={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const qM={error:null},KM=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Fe(t,"combobox-chevron-size")}}),ty=K((e,t)=>{const r=F("ComboboxChevron",qM,e),{size:n,error:s,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:u,mod:d,...f}=r,p=le({name:"ComboboxChevron",classes:Qt,props:r,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:u,varsResolver:KM,rootSelector:"chevron"});return y.jsx(A,{component:"svg",...f,...p("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},d],ref:t,children:y.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ty.classes=Qt;ty.displayName="@mantine/core/ComboboxChevron";const[GM,kr]=Sn("Combobox component was not found in tree"),ER=S.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...s},i)=>y.jsx(Dc,{ref:i,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{n(),r==null||r(o)}}));ER.displayName="@mantine/core/ComboboxClearButton";const YM={},ry=K((e,t)=>{const{classNames:r,styles:n,className:s,style:i,hidden:o,...a}=F("ComboboxDropdown",YM,e),c=kr();return y.jsx(qr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:s,style:i,classNames:r,styles:n})})});ry.classes=Qt;ry.displayName="@mantine/core/ComboboxDropdown";const QM={refProp:"ref"},TR=K((e,t)=>{const{children:r,refProp:n}=F("ComboboxDropdownTarget",QM,e);if(kr(),!Io(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return y.jsx(qr.Target,{ref:t,refProp:n,children:r})});TR.displayName="@mantine/core/ComboboxDropdownTarget";const XM={},ny=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxEmpty",XM,e),c=kr();return y.jsx(A,{ref:t,...c.getStyles("empty",{className:n,classNames:r,styles:i,style:s}),...a})});ny.classes=Qt;ny.displayName="@mantine/core/ComboboxEmpty";function sy({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:s,autoComplete:i}){const o=kr(),[a,c]=S.useState(null),l=d=>{if(e==null||e(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):s==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&s==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const JM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},PR=K((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxEventsTarget",JM,e);if(!Io(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=kr(),d=sy({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c});return S.cloneElement(r,{...d,...l,[n]:Ft(t,u.store.targetRef,r==null?void 0:r.ref)})});PR.displayName="@mantine/core/ComboboxEventsTarget";const ZM={},iy=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxFooter",ZM,e),c=kr();return y.jsx(A,{ref:t,...c.getStyles("footer",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});iy.classes=Qt;iy.displayName="@mantine/core/ComboboxFooter";const e2={},oy=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,children:a,label:c,...l}=F("ComboboxGroup",e2,e),u=kr();return y.jsxs(A,{ref:t,...u.getStyles("group",{className:n,classNames:r,style:s,styles:i}),...l,children:[c&&y.jsx("div",{...u.getStyles("groupLabel",{classNames:r,styles:i}),children:c}),a]})});oy.classes=Qt;oy.displayName="@mantine/core/ComboboxGroup";const t2={},ay=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxHeader",t2,e),c=kr();return y.jsx(A,{ref:t,...c.getStyles("header",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});ay.classes=Qt;ay.displayName="@mantine/core/ComboboxHeader";function DR({value:e,valuesDivider:t=",",...r}){return y.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}DR.displayName="@mantine/core/ComboboxHiddenInput";const r2={},cy=K((e,t)=>{const r=F("ComboboxOption",r2,e),{classNames:n,className:s,style:i,styles:o,vars:a,onClick:c,id:l,active:u,onMouseDown:d,onMouseOver:f,disabled:p,selected:h,mod:m,...g}=r,v=kr(),_=S.useId(),w=l||_;return y.jsx(A,{...v.getStyles("option",{className:s,classNames:n,styles:o,style:i}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":p,"combobox-selected":h},m],role:"option",onClick:b=>{var x;p?b.preventDefault():((x=v.onOptionSubmit)==null||x.call(v,r.value,r),c==null||c(b))},onMouseDown:b=>{b.preventDefault(),d==null||d(b)},onMouseOver:b=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f==null||f(b)}})});cy.classes=Qt;cy.displayName="@mantine/core/ComboboxOption";const n2={},ly=K((e,t)=>{const r=F("ComboboxOptions",n2,e),{classNames:n,className:s,style:i,styles:o,id:a,onMouseDown:c,labelledBy:l,...u}=r,d=kr(),f=Ec(a);return S.useEffect(()=>{d.store.setListId(f)},[f]),y.jsx(A,{ref:t,...d.getStyles("options",{className:s,style:i,classNames:n,styles:o}),...u,id:f,role:"listbox","aria-labelledby":l,onMouseDown:p=>{p.preventDefault(),c==null||c(p)}})});ly.classes=Qt;ly.displayName="@mantine/core/ComboboxOptions";const s2={withAriaAttributes:!0,withKeyboardNavigation:!0},uy=K((e,t)=>{const r=F("ComboboxSearch",s2,e),{classNames:n,styles:s,unstyled:i,vars:o,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:l,size:u,...d}=r,f=kr(),p=f.getStyles("search"),h=sy({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return y.jsx(Cr,{ref:Ft(t,f.store.searchRef),classNames:[{input:p.className},n],styles:[{input:p.style},s],size:u||f.size,...h,...d,__staticSelector:"Combobox"})});uy.classes=Qt;uy.displayName="@mantine/core/ComboboxSearch";const i2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},kR=K((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxTarget",i2,e);if(!Io(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=kr(),d=sy({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c}),f=S.cloneElement(r,{...d,...l});return y.jsx(qr.Target,{ref:Ft(t,u.store.targetRef),children:f})});kR.displayName="@mantine/core/ComboboxTarget";function o2(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function a2(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function c2(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function OR({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:s,loop:i=!0,scrollBehavior:o="instant"}={}){const[a,c]=Ro({value:t,defaultValue:e,finalValue:!1,onChange:r}),l=S.useRef(null),u=S.useRef(-1),d=S.useRef(null),f=S.useRef(null),p=S.useRef(-1),h=S.useRef(-1),m=S.useRef(-1),g=S.useCallback(($="unknown")=>{a||(c(!0),s==null||s($))},[c,s,a]),v=S.useCallback(($="unknown")=>{a&&(c(!1),n==null||n($))},[c,n,a]),_=S.useCallback(($="unknown")=>{a?v($):g($)},[v,g,a]),w=S.useCallback(()=>{const $=document.querySelector(`#${l.current} [data-combobox-selected]`);$==null||$.removeAttribute("data-combobox-selected"),$==null||$.removeAttribute("aria-selected")},[]),b=S.useCallback($=>{const W=document.getElementById(l.current),T=W==null?void 0:W.querySelectorAll("[data-combobox-option]");if(!T)return null;const M=$>=T.length?0:$<0?T.length-1:$;return u.current=M,T!=null&&T[M]&&!T[M].hasAttribute("data-combobox-disabled")?(w(),T[M].setAttribute("data-combobox-selected","true"),T[M].setAttribute("aria-selected","true"),T[M].scrollIntoView({block:"nearest",behavior:o}),T[M].id):null},[o,w]),x=S.useCallback(()=>{const $=document.querySelector(`#${l.current} [data-combobox-active]`);if($){const W=document.querySelectorAll(`#${l.current} [data-combobox-option]`),T=Array.from(W).findIndex(M=>M===$);return b(T)}return b(0)},[b]),R=S.useCallback(()=>b(a2(u.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),E=S.useCallback(()=>b(o2(u.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),C=S.useCallback(()=>b(c2(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[b]),k=S.useCallback(($="selected",W)=>{m.current=window.setTimeout(()=>{var j;const T=document.querySelectorAll(`#${l.current} [data-combobox-option]`),M=Array.from(T).findIndex(I=>I.hasAttribute(`data-combobox-${$}`));u.current=M,W!=null&&W.scrollIntoView&&((j=T[M])==null||j.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),L=S.useCallback(()=>{u.current=-1,w()},[w]),B=S.useCallback(()=>{const $=document.querySelectorAll(`#${l.current} [data-combobox-option]`),W=$==null?void 0:$[u.current];W==null||W.click()},[]),z=S.useCallback($=>{l.current=$},[]),q=S.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),H=S.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),se=S.useCallback(()=>u.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(h.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:_,selectedOptionIndex:u.current,getSelectedOptionIndex:se,selectOption:b,selectFirstOption:C,selectActiveOption:x,selectNextOption:R,selectPreviousOption:E,resetSelectedOption:L,updateSelectedOptionIndex:k,listId:l.current,setListId:z,clickSelectedOption:B,searchRef:d,focusSearchInput:q,targetRef:f,focusTarget:H}}const l2={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},u2=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":br(t),"--combobox-option-padding":Fe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:O(r),"--combobox-option-fz":br(t),"--combobox-option-padding":Fe(t,"combobox-option-padding")}});function xe(e){const t=F("Combobox",l2,e),{classNames:r,styles:n,unstyled:s,children:i,store:o,vars:a,onOptionSubmit:c,onClose:l,size:u,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:p,readOnly:h,...m}=t,g=OR(),v=o||g,_=le({name:p||"Combobox",classes:Qt,props:t,classNames:r,styles:n,unstyled:s,vars:a,varsResolver:u2}),w=()=>{l==null||l(),v.closeDropdown()};return y.jsx(GM,{value:{getStyles:_,store:v,onOptionSubmit:c,size:u,resetSelectionOnOptionHover:f,readOnly:h},children:y.jsx(qr,{opened:v.dropdownOpened,...m,onChange:b=>!b&&w(),withRoles:!1,unstyled:s,children:i})})}const d2=e=>e;xe.extend=d2;xe.classes=Qt;xe.displayName="@mantine/core/Combobox";xe.Target=kR;xe.Dropdown=ry;xe.Options=ly;xe.Option=cy;xe.Search=uy;xe.Empty=ny;xe.Chevron=ty;xe.Footer=iy;xe.Header=ay;xe.EventsTarget=PR;xe.DropdownTarget=TR;xe.Group=oy;xe.ClearButton=ER;xe.HiddenInput=DR;function f2({size:e,style:t,...r}){const n=e!==void 0?{width:O(e),height:O(e),...t}:t;return y.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:y.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function dc(e){return"group"in e}function LR({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),s=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(s.length===r)return s;dc(o)&&s.push({group:o.group,items:LR({options:o.items,search:t,limit:r-s.length})}),dc(o)||o.label.toLowerCase().includes(n)&&s.push(o)}return s}function p2(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function MR(e,t=new Set){if(Array.isArray(e))for(const r of e)if(dc(r))MR(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function h2(e,t){return Array.isArray(e)?e.includes(t):e===t}function IR({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:s,renderOption:i}){if(!dc(e)){const a=h2(r,e.value),c=t&&a&&y.jsx(f2,{className:Qt.optionsDropdownCheckIcon}),l=y.jsxs(y.Fragment,{children:[n==="left"&&c,y.jsx("span",{children:e.label}),n==="right"&&c]});return y.jsx(xe.Option,{value:e.value,disabled:e.disabled,className:Nt({[Qt.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):l})}const o=e.items.map(a=>y.jsx(IR,{data:a,value:r,unstyled:s,withCheckIcon:t,checkIconPosition:n,renderOption:i},a.value));return y.jsx(xe.Group,{label:e.group,children:o})}function m2({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:s,limit:i,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:l=!1,value:u,checkIconPosition:d,nothingFoundMessage:f,unstyled:p,labelId:h,renderOption:m,scrollAreaProps:g,"aria-label":v}){MR(e);const w=typeof s=="string"?(n||LR)({options:e,search:c?s:"",limit:i??1/0}):e,b=p2(w),x=w.map(R=>y.jsx(IR,{data:R,withCheckIcon:l,value:u,checkIconPosition:d,unstyled:p,renderOption:m},dc(R)?R.group:R.value));return y.jsx(xe.Dropdown,{hidden:t||r&&b,children:y.jsxs(xe.Options,{labelledBy:h,"aria-label":v,children:[a?y.jsx(Is.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:x}):x,b&&f&&y.jsx(xe.Empty,{children:f})]})})}const jR=S.createContext(null),g2=jR.Provider;function y2(){return{withinGroup:!!S.useContext(jR)}}var xd={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const v2={},w2=(e,{spacing:t})=>({group:{"--ag-spacing":Vt(t)}}),dy=K((e,t)=>{const r=F("AvatarGroup",v2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,spacing:l,...u}=r,d=le({name:"AvatarGroup",classes:xd,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:w2,rootSelector:"group"});return y.jsx(g2,{value:!0,children:y.jsx(A,{ref:t,...d("group"),...u})})});dy.classes=xd;dy.displayName="@mantine/core/AvatarGroup";function _2(e){return y.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function NR(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}function S2(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const b2=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function R2(e,t=b2){const r=S2(NR(e)),n=Math.abs(r)%t.length;return t[n]}const x2={},C2=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o,name:a,allowedInitialsColors:c})=>{const l=i==="initials"&&typeof a=="string"?R2(a,c):i,u=e.variantColorResolver({color:l||"gray",theme:e,gradient:s,variant:n||"light",autoContrast:o});return{root:{"--avatar-size":Fe(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Tr(r),"--avatar-bg":l||n?u.background:void 0,"--avatar-color":l||n?u.color:void 0,"--avatar-bd":l||n?u.border:void 0}}},Wr=Bt((e,t)=>{const r=F("Avatar",x2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,src:l,alt:u,radius:d,color:f,gradient:p,imageProps:h,children:m,autoContrast:g,mod:v,name:_,allowedInitialsColors:w,...b}=r,x=y2(),[R,E]=S.useState(!l),C=le({name:"Avatar",props:r,classes:xd,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:C2});return S.useEffect(()=>E(!l),[l]),y.jsx(A,{...C("root"),mod:[{"within-group":x.withinGroup},v],ref:t,...b,children:R?y.jsx("span",{...C("placeholder"),title:u,children:m||typeof _=="string"&&NR(_)||y.jsx(_2,{})}):y.jsx("img",{...h,...C("image"),src:l,alt:u,onError:k=>{var L;E(!0),(L=h==null?void 0:h.onError)==null||L.call(h,k)}})})});Wr.classes=xd;Wr.displayName="@mantine/core/Avatar";Wr.Group=dy;var $R={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const E2={},T2=(e,{radius:t,color:r,gradient:n,variant:s,size:i,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:o});return{root:{"--badge-height":Fe(i,"badge-height"),"--badge-padding-x":Fe(i,"badge-padding-x"),"--badge-fz":Fe(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Tr(t),"--badge-bg":r||s?a.background:void 0,"--badge-color":r||s?a.color:void 0,"--badge-bd":r||s?a.border:void 0,"--badge-dot-color":s==="dot"?Ts(r,e):void 0}}},Po=Bt((e,t)=>{const r=F("Badge",E2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,radius:l,color:u,gradient:d,leftSection:f,rightSection:p,children:h,variant:m,fullWidth:g,autoContrast:v,circle:_,mod:w,...b}=r,x=le({name:"Badge",props:r,classes:$R,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:T2});return y.jsxs(A,{variant:m,mod:[{block:g,circle:_,"with-right-section":!!p,"with-left-section":!!f},w],...x("root",{variant:m}),ref:t,...b,children:[f&&y.jsx("span",{...x("section"),"data-position":"left",children:f}),y.jsx("span",{...x("label"),children:h}),p&&y.jsx("span",{...x("section"),"data-position":"right",children:p})]})});Po.classes=$R;Po.displayName="@mantine/core/Badge";var Cd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const t_={orientation:"horizontal"},P2=(e,{borderWidth:t})=>({group:{"--button-border-width":O(t)}}),fy=K((e,t)=>{const r=F("ButtonGroup",t_,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:u,variant:d,mod:f,...p}=F("ButtonGroup",t_,e),h=le({name:"ButtonGroup",props:r,classes:Cd,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:P2,rootSelector:"group"});return y.jsx(A,{...h("group"),ref:t,variant:d,mod:[{"data-orientation":c},f],role:"group",...p})});fy.classes=Cd;fy.displayName="@mantine/core/ButtonGroup";const D2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${O(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},k2={},O2=(e,{radius:t,color:r,gradient:n,variant:s,size:i,justify:o,autoContrast:a})=>{const c=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Fe(i,"button-height"),"--button-padding-x":Fe(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?br(i.replace("compact-","")):br(i),"--button-radius":t===void 0?void 0:Tr(t),"--button-bg":r||s?c.background:void 0,"--button-hover":r||s?c.hover:void 0,"--button-color":c.color,"--button-bd":r||s?c.border:void 0,"--button-hover-color":r||s?c.hoverColor:void 0}}},ct=Bt((e,t)=>{const r=F("Button",k2,e),{style:n,vars:s,className:i,color:o,disabled:a,children:c,leftSection:l,rightSection:u,fullWidth:d,variant:f,radius:p,loading:h,loaderProps:m,gradient:g,classNames:v,styles:_,unstyled:w,"data-disabled":b,autoContrast:x,mod:R,...E}=r,C=le({name:"Button",props:r,classes:Cd,className:i,style:n,classNames:v,styles:_,unstyled:w,vars:s,varsResolver:O2}),k=!!l,L=!!u;return y.jsxs($o,{ref:t,...C("root",{active:!a&&!h&&!b}),unstyled:w,variant:f,disabled:a||h,mod:[{disabled:a||b,loading:h,block:d,"with-left-section":k,"with-right-section":L},R],...E,children:[y.jsx(di,{mounted:!!h,transition:D2,duration:150,children:B=>y.jsx(A,{component:"span",...C("loader",{style:B}),"aria-hidden":!0,children:y.jsx(Bo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),y.jsxs("span",{...C("inner"),children:[l&&y.jsx(A,{component:"span",...C("section"),mod:{position:"left"},children:l}),y.jsx(A,{component:"span",mod:{loading:h},...C("label"),children:c}),u&&y.jsx(A,{component:"span",...C("section"),mod:{position:"right"},children:u})]})]})});ct.classes=Cd;ct.displayName="@mantine/core/Button";ct.Group=fy;const[L2,M2]=Sn("Card component was not found in tree");var py={root:"m_e615b15f",section:"m_599a2148"};const I2={},Ed=Bt((e,t)=>{const r=F("CardSection",I2,e),{classNames:n,className:s,style:i,styles:o,vars:a,withBorder:c,inheritPadding:l,mod:u,...d}=r,f=M2();return y.jsx(A,{ref:t,mod:[{"with-border":c,"inherit-padding":l},u],...f.getStyles("section",{className:s,style:i,styles:o,classNames:n}),...d})});Ed.classes=py;Ed.displayName="@mantine/core/CardSection";const j2={},N2=(e,{padding:t})=>({root:{"--card-padding":Vt(t)}}),Td=Bt((e,t)=>{const r=F("Card",j2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,children:l,padding:u,...d}=r,f=le({name:"Card",props:r,classes:py,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:N2}),p=S.Children.toArray(l),h=p.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===Ed?S.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===p.length-1||void 0}):m);return y.jsx(L2,{value:{getStyles:f},children:y.jsx(Tc,{ref:t,unstyled:a,...f("root"),...d,children:h})})});Td.classes=py;Td.displayName="@mantine/core/Card";Td.Section=Ed;var AR={root:"m_3eebeb36",label:"m_9e365f20"};const $2={orientation:"horizontal"},A2=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?Ts(t,e):void 0,"--divider-border-style":r,"--divider-size":Fe(n,"divider-size")}}),Er=K((e,t)=>{const r=F("Divider",$2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,color:l,orientation:u,label:d,labelPosition:f,mod:p,...h}=r,m=le({name:"Divider",classes:AR,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:A2});return y.jsx(A,{ref:t,mod:[{orientation:u,"with-label":!!d},p],...m("root"),...h,role:"separator",children:d&&y.jsx(A,{component:"span",mod:{position:f},...m("label"),children:d})})});Er.classes=AR;Er.displayName="@mantine/core/Divider";const[F2,Vo]=Sn("Drawer component was not found in tree");var qn={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const B2={},Pd=K((e,t)=>{const r=F("DrawerBody",B2,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return y.jsx(Kg,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});Pd.classes=qn;Pd.displayName="@mantine/core/DrawerBody";const z2={},Dd=K((e,t)=>{const r=F("DrawerCloseButton",z2,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return y.jsx(Gg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Dd.classes=qn;Dd.displayName="@mantine/core/DrawerCloseButton";const U2={},kd=K((e,t)=>{const r=F("DrawerContent",U2,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,radius:l,...u}=r,d=Vo(),f=d.scrollAreaComponent||SR;return y.jsx(Yg,{...d.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:d.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),ref:t,...u,radius:l||d.radius||0,children:y.jsx(f,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:c})})});kd.classes=qn;kd.displayName="@mantine/core/DrawerContent";const V2={},Od=K((e,t)=>{const r=F("DrawerHeader",V2,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return y.jsx(Qg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Od.classes=qn;Od.displayName="@mantine/core/DrawerHeader";const H2={},Ld=K((e,t)=>{const r=F("DrawerOverlay",H2,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return y.jsx(Xg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Ld.classes=qn;Ld.displayName="@mantine/core/DrawerOverlay";function W2(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function q2(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const K2={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},G2={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},Y2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ms("modal"),position:"left"},Q2=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Fe(r,"drawer-size"),"--drawer-flex":q2(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":W2(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":O(n)}}),Md=K((e,t)=>{const r=F("DrawerRoot",Y2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,scrollAreaComponent:l,position:u,transitionProps:d,radius:f,...p}=r,{dir:h}=No(),m=le({name:"Drawer",classes:qn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:Q2}),g=(h==="rtl"?G2:K2)[u];return y.jsx(F2,{value:{scrollAreaComponent:l,getStyles:m,radius:f},children:y.jsx(qg,{ref:t,...m("root"),transitionProps:{transition:g,...d},unstyled:a,...p})})});Md.classes=qn;Md.displayName="@mantine/core/DrawerRoot";const X2={},Id=K((e,t)=>{const r=F("DrawerTitle",X2,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return y.jsx(Jg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Id.classes=qn;Id.displayName="@mantine/core/DrawerTitle";const J2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ms("modal"),withOverlay:!0,withCloseButton:!0},Kr=K((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,...c}=F("Drawer",J2,e),l=!!r||i;return y.jsxs(Md,{ref:t,...c,children:[n&&y.jsx(Ld,{...s}),y.jsxs(kd,{children:[l&&y.jsxs(Od,{children:[r&&y.jsx(Id,{children:r}),i&&y.jsx(Dd,{...o})]}),y.jsx(Pd,{children:a})]})]})});Kr.classes=qn;Kr.displayName="@mantine/core/Drawer";Kr.Root=Md;Kr.Overlay=Ld;Kr.Content=kd;Kr.Body=Pd;Kr.Header=Od;Kr.Title=Id;Kr.CloseButton=Dd;function Z2({open:e,close:t,openDelay:r,closeDelay:n}){const s=S.useRef(-1),i=S.useRef(-1),o=()=>{window.clearTimeout(s.current),window.clearTimeout(i.current)},a=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)},c=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)};return S.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:c}}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(null,arguments)}function FR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}const[eI,kc]=Sn("Menu component was not found in the tree");var Ho={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const tI={},hy=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("MenuDivider",tI,e),c=kc();return y.jsx(A,{ref:t,...c.getStyles("divider",{className:n,style:s,styles:i,classNames:r}),...a})});hy.classes=Ho;hy.displayName="@mantine/core/MenuDivider";const rI={},my=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,onMouseEnter:a,onMouseLeave:c,onKeyDown:l,children:u,...d}=F("MenuDropdown",rI,e),f=S.useRef(null),p=kc(),h=pn(l,v=>{var _,w;(v.key==="ArrowUp"||v.key==="ArrowDown")&&(v.preventDefault(),(w=(_=f.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),m=pn(a,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.openDropdown()),g=pn(c,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.closeDropdown());return y.jsxs(qr.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:Ft(t,f),...p.getStyles("dropdown",{className:n,style:s,styles:i,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[y.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});my.classes=Ho;my.displayName="@mantine/core/MenuDropdown";const nI={},gy=Bt((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,color:a,closeMenuOnClick:c,leftSection:l,rightSection:u,children:d,disabled:f,...p}=F("MenuItem",nI,e),h=kc(),m=dr(),{dir:g}=No(),v=S.useRef(),_=h.getItemIndex(v.current),w=p,b=pn(w.onMouseLeave,()=>h.setHovered(-1)),x=pn(w.onMouseEnter,()=>h.setHovered(h.getItemIndex(v.current))),R=pn(w.onClick,()=>{typeof c=="boolean"?c&&h.closeDropdownImmediately():h.closeOnItemClick&&h.closeDropdownImmediately()}),E=pn(w.onFocus,()=>h.setHovered(h.getItemIndex(v.current))),C=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,k=a?jo({color:a,theme:m}):null;return y.jsxs($o,{...p,unstyled:h.unstyled,tabIndex:h.menuItemTabIndex,onFocus:E,...h.getStyles("item",{className:n,style:s,styles:i,classNames:r}),ref:Ft(v,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":h.hovered===_?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:b,onClick:R,onKeyDown:FD({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:h.loop,dir:g,orientation:"vertical",onKeyDown:w.onKeyDown}),__vars:{"--menu-item-color":k!=null&&k.isThemeColor&&(k==null?void 0:k.shade)===void 0?`var(--mantine-color-${k.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[l&&y.jsx("div",{...h.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"left",children:l}),d&&y.jsx("div",{...h.getStyles("itemLabel",{styles:i,classNames:r}),children:d}),u&&y.jsx("div",{...h.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"right",children:u})]})});gy.classes=Ho;gy.displayName="@mantine/core/MenuItem";const sI={},yy=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("MenuLabel",sI,e),c=kc();return y.jsx(A,{ref:t,...c.getStyles("label",{className:n,style:s,styles:i,classNames:r}),...a})});yy.classes=Ho;yy.displayName="@mantine/core/MenuLabel";const iI={refProp:"ref"},BR=S.forwardRef((e,t)=>{const{children:r,refProp:n,...s}=F("MenuTarget",iI,e);if(!Io(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=kc(),o=pn(r.props.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=pn(r.props.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=pn(r.props.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return y.jsx(qr.Target,{refProp:n,popupType:"menu",ref:t,...s,children:S.cloneElement(r,{onClick:o,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});BR.displayName="@mantine/core/MenuTarget";const oI={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function er(e){const t=F("Menu",oI,e),{children:r,onOpen:n,onClose:s,opened:i,defaultOpened:o,trapFocus:a,onChange:c,closeOnItemClick:l,loop:u,closeOnEscape:d,trigger:f,openDelay:p,closeDelay:h,classNames:m,styles:g,unstyled:v,variant:_,vars:w,menuItemTabIndex:b,keepMounted:x,...R}=t,E=le({name:"Menu",classes:Ho,props:t,classNames:m,styles:g,unstyled:v}),[C,{setHovered:k,resetHovered:L}]=KD(),[B,z]=Ro({value:i,defaultValue:o,finalValue:!1,onChange:c}),[q,H]=S.useState(!1),se=()=>{z(!1),H(!1),B&&(s==null||s())},$=()=>{z(!0),!B&&(n==null||n())},W=()=>{B?se():$()},{openDropdown:T,closeDropdown:M}=Z2({open:$,close:se,closeDelay:h,openDelay:p}),j=J=>qD("[data-menu-item]","[data-menu-dropdown]",J),{resolvedClassNames:I,resolvedStyles:U}=D1({classNames:m,styles:g,props:t});return Bn(()=>{L()},[B]),y.jsx(eI,{value:{getStyles:E,opened:B,toggleDropdown:W,getItemIndex:j,hovered:C,setHovered:k,openedViaClick:q,setOpenedViaClick:H,closeOnItemClick:l,closeDropdown:f==="click"?se:M,openDropdown:f==="click"?$:T,closeDropdownImmediately:se,loop:u,trigger:f,unstyled:v,menuItemTabIndex:b},children:y.jsx(qr,{...R,opened:B,onChange:W,defaultOpened:o,trapFocus:x?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:I,styles:U,unstyled:v,variant:_,keepMounted:x,children:r})})}er.extend=e=>e;er.classes=Ho;er.displayName="@mantine/core/Menu";er.Item=gy;er.Label=yy;er.Dropdown=my;er.Target=BR;er.Divider=hy;const[aI,Wo]=Sn("Modal component was not found in tree");var Kn={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const cI={},jd=K((e,t)=>{const r=F("ModalBody",cI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return y.jsx(Kg,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});jd.classes=Kn;jd.displayName="@mantine/core/ModalBody";const lI={},Nd=K((e,t)=>{const r=F("ModalCloseButton",lI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return y.jsx(Gg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Nd.classes=Kn;Nd.displayName="@mantine/core/ModalCloseButton";const uI={},$d=K((e,t)=>{const r=F("ModalContent",uI,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,...l}=r,u=Wo(),d=u.scrollAreaComponent||SR;return y.jsx(Yg,{...u.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:u.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),"data-full-screen":u.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:y.jsx(d,{style:{maxHeight:u.fullScreen?"100dvh":`calc(100dvh - (${O(u.yOffset)} * 2))`},children:c})})});$d.classes=Kn;$d.displayName="@mantine/core/ModalContent";const dI={},Ad=K((e,t)=>{const r=F("ModalHeader",dI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return y.jsx(Qg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Ad.classes=Kn;Ad.displayName="@mantine/core/ModalHeader";const fI={},Fd=K((e,t)=>{const r=F("ModalOverlay",fI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return y.jsx(Xg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Fd.classes=Kn;Fd.displayName="@mantine/core/ModalOverlay";const pI={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ms("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},hI=(e,{radius:t,size:r,yOffset:n,xOffset:s})=>({root:{"--modal-radius":t===void 0?void 0:Tr(t),"--modal-size":Fe(r,"modal-size"),"--modal-y-offset":O(n),"--modal-x-offset":O(s)}}),Bd=K((e,t)=>{const r=F("ModalRoot",pI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,yOffset:l,scrollAreaComponent:u,radius:d,fullScreen:f,centered:p,xOffset:h,__staticSelector:m,...g}=r,v=le({name:m,classes:Kn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:hI});return y.jsx(aI,{value:{yOffset:l,scrollAreaComponent:u,getStyles:v,fullScreen:f},children:y.jsx(qg,{ref:t,...v("root"),"data-full-screen":f||void 0,"data-centered":p||void 0,unstyled:a,...g})})});Bd.classes=Kn;Bd.displayName="@mantine/core/ModalRoot";const mI={},zd=K((e,t)=>{const r=F("ModalTitle",mI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return y.jsx(Jg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});zd.classes=Kn;zd.displayName="@mantine/core/ModalTitle";const gI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ms("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Rn=K((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,radius:c,...l}=F("Modal",gI,e),u=!!r||i;return y.jsxs(Bd,{ref:t,radius:c,...l,children:[n&&y.jsx(Fd,{...s}),y.jsxs($d,{radius:c,children:[u&&y.jsxs(Ad,{children:[r&&y.jsx(zd,{children:r}),i&&y.jsx(Nd,{...o})]}),y.jsx(jd,{children:a})]})]})});Rn.classes=Kn;Rn.displayName="@mantine/core/Modal";Rn.Root=Bd;Rn.Overlay=Fd;Rn.Content=$d;Rn.Body=jd;Rn.Header=Ad;Rn.Title=zd;Rn.CloseButton=Nd;var zR={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const yI={withCloseButton:!0},vI=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Tr(t),"--notification-color":r?Ts(r,e):void 0}}),vy=K((e,t)=>{const r=F("Notification",yI,e),{className:n,color:s,radius:i,loading:o,withCloseButton:a,withBorder:c,title:l,icon:u,children:d,onClose:f,closeButtonProps:p,classNames:h,style:m,styles:g,unstyled:v,variant:_,vars:w,mod:b,...x}=r,R=le({name:"Notification",classes:zR,props:r,className:n,style:m,classNames:h,styles:g,unstyled:v,vars:w,varsResolver:vI});return y.jsxs(A,{...R("root"),mod:[{"data-with-icon":!!u||o,"data-with-border":c},b],ref:t,variant:_,...x,role:"alert",children:[u&&!o&&y.jsx("div",{...R("icon"),children:u}),o&&y.jsx(Bo,{size:28,color:s,...R("loader")}),y.jsxs("div",{...R("body"),children:[l&&y.jsx("div",{...R("title"),children:l}),y.jsx(A,{...R("description"),mod:{"data-with-title":!!l},children:d})]}),a&&y.jsx(Dc,{iconSize:16,color:"gray",...p,unstyled:v,onClick:f,...R("closeButton")})]})});vy.classes=zR;vy.displayName="@mantine/core/Notification";const wI={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},wy=K((e,t)=>{const r=F("Select",wI,e),{classNames:n,styles:s,unstyled:i,vars:o,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:l,onDropdownOpen:u,onFocus:d,onBlur:f,onClick:p,onChange:h,data:m,value:g,defaultValue:v,selectFirstOptionOnChange:_,onOptionSubmit:w,comboboxProps:b,readOnly:x,disabled:R,filter:E,limit:C,withScrollArea:k,maxDropdownHeight:L,size:B,searchable:z,rightSection:q,checkIconPosition:H,withCheckIcon:se,nothingFoundMessage:$,name:W,form:T,searchValue:M,defaultSearchValue:j,onSearchChange:I,allowDeselect:U,error:J,rightSectionPointerEvents:ge,id:Ee,clearable:Te,clearButtonProps:fe,hiddenInputProps:ht,renderOption:fr,onClear:pr,autoComplete:Yr,scrollAreaProps:Xe,...Je}=r,ke=S.useMemo(()=>WM(m),[m]),st=S.useMemo(()=>CR(ke),[ke]),Or=Ec(Ee),[Ve,Rt,Ne]=Ro({value:g,defaultValue:v,finalValue:null,onChange:h}),mt=typeof Ve=="string"?st[Ve]:void 0,hr=dk(mt),[Tn,Ie]=Ro({value:M,defaultValue:j,finalValue:mt?mt.label:"",onChange:I}),ut=OR({opened:a,defaultOpened:c,onDropdownOpen:()=>{u==null||u(),ut.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),ut.resetSelectedOption()}}),{resolvedClassNames:js,resolvedStyles:ae}=D1({props:r,styles:s,classNames:n});S.useEffect(()=>{_&&ut.selectFirstOption()},[_,Ve]),S.useEffect(()=>{g===null&&Ie(""),typeof g=="string"&&mt&&((hr==null?void 0:hr.value)!==mt.value||(hr==null?void 0:hr.label)!==mt.label)&&Ie(mt.label)},[g,mt]);const me=Te&&!!Ve&&!R&&!x&&y.jsx(xe.ClearButton,{size:B,...fe,onClear:()=>{Rt(null,null),Ie(""),pr==null||pr()}});return y.jsxs(y.Fragment,{children:[y.jsxs(xe,{store:ut,__staticSelector:"Select",classNames:js,styles:ae,unstyled:i,readOnly:x,onOptionSubmit:G=>{w==null||w(G);const ue=U&&st[G].value===Ve?null:st[G],Jt=ue?ue.value:null;Jt!==Ve&&Rt(Jt,ue),!Ne&&Ie(typeof Jt=="string"&&(ue==null?void 0:ue.label)||""),ut.closeDropdown()},size:B,...b,children:[y.jsx(xe.Target,{targetType:z?"input":"button",autoComplete:Yr,children:y.jsx(zo,{id:Or,ref:t,rightSection:q||me||y.jsx(xe.Chevron,{size:B,error:J,unstyled:i}),rightSectionPointerEvents:ge||(me?"all":"none"),...Je,size:B,__staticSelector:"Select",disabled:R,readOnly:x||!z,value:Tn,onChange:G=>{Ie(G.currentTarget.value),ut.openDropdown(),_&&ut.selectFirstOption()},onFocus:G=>{z&&ut.openDropdown(),d==null||d(G)},onBlur:G=>{var ue;z&&ut.closeDropdown(),Ie(Ve!=null&&((ue=st[Ve])==null?void 0:ue.label)||""),f==null||f(G)},onClick:G=>{z?ut.openDropdown():ut.toggleDropdown(),p==null||p(G)},classNames:js,styles:ae,unstyled:i,pointer:!z,error:J})}),y.jsx(m2,{data:ke,hidden:x||R,filter:E,search:Tn,limit:C,hiddenWhenEmpty:!$,withScrollArea:k,maxDropdownHeight:L,filterOptions:z&&(mt==null?void 0:mt.label)!==Tn,value:Ve,checkIconPosition:H,withCheckIcon:se,nothingFoundMessage:$,unstyled:i,labelId:Je.label?`${Or}-label`:void 0,"aria-label":Je.label?void 0:Je["aria-label"],renderOption:fr,scrollAreaProps:Xe})]}),y.jsx(xe.HiddenInput,{value:Ve,name:W,form:T,disabled:R,...ht})]})});wy.classes={...zo.classes,...xe.classes};wy.displayName="@mantine/core/Select";function _I({spacing:e,verticalSpacing:t,cols:r,selector:n}){var u;const s=dr(),i=t===void 0?e:t,o=Mo({"--sg-spacing-x":Vt(fo(e)),"--sg-spacing-y":Vt(fo(i)),"--sg-cols":(u=fo(r))==null?void 0:u.toString()}),a=Kt(s.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=Vt(e[f])),typeof i=="object"&&i[f]!==void 0&&(d[f]["--sg-spacing-y"]=Vt(i[f])),typeof r=="object"&&r[f]!==void 0&&(d[f]["--sg-cols"]=r[f]),d),{}),l=WD(Kt(a),s.breakpoints).filter(d=>Kt(a[d.value]).length>0).map(d=>({query:`(min-width: ${s.breakpoints[d.value]})`,styles:a[d.value]}));return y.jsx(dd,{styles:o,media:l,selector:n})}function pp(e){return typeof e=="object"&&e!==null?Kt(e):[]}function SI(e){return e.sort((t,r)=>ac(t)-ac(r))}function bI({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...pp(e),...pp(t),...pp(r)]));return SI(n)}function RI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var l;const s=t===void 0?e:t,i=Mo({"--sg-spacing-x":Vt(fo(e)),"--sg-spacing-y":Vt(fo(s)),"--sg-cols":(l=fo(r))==null?void 0:l.toString()}),o=bI({spacing:e,verticalSpacing:t,cols:r}),a=o.reduce((u,d)=>(u[d]||(u[d]={}),typeof e=="object"&&e[d]!==void 0&&(u[d]["--sg-spacing-x"]=Vt(e[d])),typeof s=="object"&&s[d]!==void 0&&(u[d]["--sg-spacing-y"]=Vt(s[d])),typeof r=="object"&&r[d]!==void 0&&(u[d]["--sg-cols"]=r[d]),u),{}),c=o.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return y.jsx(dd,{styles:i,container:c,selector:n})}var UR={container:"m_925c2d2c",root:"m_2415a157"};const xI={cols:1,spacing:"md",type:"media"},_y=K((e,t)=>{const r=F("SimpleGrid",xI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,cols:l,verticalSpacing:u,spacing:d,type:f,...p}=r,h=le({name:"SimpleGrid",classes:UR,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),m=Pg();return f==="container"?y.jsxs(y.Fragment,{children:[y.jsx(RI,{...r,selector:`.${m}`}),y.jsx("div",{...h("container"),children:y.jsx(A,{ref:t,...h("root",{className:m}),...p})})]}):y.jsxs(y.Fragment,{children:[y.jsx(_I,{...r,selector:`.${m}`}),y.jsx(A,{ref:t,...h("root",{className:m}),...p})]})});_y.classes=UR;_y.displayName="@mantine/core/SimpleGrid";const[CI,Ud]=Sn("SliderProvider was not found in tree"),VR=S.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:s,radius:i,...o},a)=>{const{getStyles:c}=Ud();return y.jsx(A,{tabIndex:-1,variant:r,size:e,ref:a,...c("root"),...o})});VR.displayName="@mantine/core/SliderRoot";const HR=S.forwardRef(({max:e,min:t,value:r,position:n,label:s,dragging:i,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:c,labelAlwaysOn:l,thumbLabel:u,onFocus:d,onBlur:f,showLabelOnHover:p,isHovered:h,children:m=null,disabled:g},v)=>{const{getStyles:_}=Ud(),[w,b]=S.useState(!1),x=l||i||w||p&&h;return y.jsxs(A,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:v,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:i,disabled:g},onFocus:()=>{b(!0),typeof d=="function"&&d()},onBlur:()=>{b(!1),typeof f=="function"&&f()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:R=>R.stopPropagation(),children:[m,y.jsx(di,{mounted:s!=null&&!!x,transition:"fade",duration:0,...c,children:R=>y.jsx("div",{..._("label",{style:R}),children:s})})]})});HR.displayName="@mantine/core/SliderThumb";function WR({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function EI({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function qR({marks:e,min:t,max:r,disabled:n,value:s,offset:i,inverted:o}){const{getStyles:a}=Ud();if(!e)return null;const c=e.map((l,u)=>S.createElement(A,{...a("markWrapper"),__vars:{"--mark-offset":`${WR({value:l.value,min:t,max:r})}%`},key:u},y.jsx(A,{...a("mark"),mod:{filled:EI({mark:l,value:s,offset:i,inverted:o}),disabled:n}}),l.label&&y.jsx("div",{...a("markLabel"),children:l.label})));return y.jsx("div",{children:c})}qR.displayName="@mantine/core/SliderMarks";function KR({filled:e,children:t,offset:r,disabled:n,marksOffset:s,inverted:i,containerProps:o,...a}){const{getStyles:c}=Ud();return y.jsx(A,{...c("trackContainer"),mod:{disabled:n},...o,children:y.jsxs(A,{...c("track"),mod:{inverted:i,disabled:n},children:[y.jsx(A,{mod:{inverted:i,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...c("bar")}),t,y.jsx(qR,{...a,offset:s,disabled:n,inverted:i})]})})}KR.displayName="@mantine/core/SliderTrack";function TI({value:e,containerWidth:t,min:r,max:n,step:s,precision:i}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),c=(a!==0?Math.round(a/s)*s:0)+r,l=Math.max(c,r);return i!==void 0?Number(l.toFixed(i)):l}function ml(e,t){return parseFloat(e.toFixed(t))}function PI(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var GR={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const DI={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},kI=(e,{size:t,color:r,thumbSize:n,radius:s})=>({root:{"--slider-size":Fe(t,"slider-size"),"--slider-color":r?Ts(r,e):void 0,"--slider-radius":s===void 0?void 0:Tr(s),"--slider-thumb-size":n!==void 0?O(n):"calc(var(--slider-size) * 2)"}}),Sy=K((e,t)=>{const r=F("Slider",DI,e),{classNames:n,styles:s,value:i,onChange:o,onChangeEnd:a,size:c,min:l,max:u,step:d,precision:f,defaultValue:p,name:h,marks:m,label:g,labelTransitionProps:v,labelAlwaysOn:_,thumbLabel:w,showLabelOnHover:b,thumbChildren:x,disabled:R,unstyled:E,scale:C,inverted:k,className:L,style:B,vars:z,hiddenInputProps:q,...H}=r,se=le({name:"Slider",props:r,classes:GR,classNames:n,className:L,styles:s,style:B,vars:z,varsResolver:kI,unstyled:E}),{dir:$}=No(),[W,T]=S.useState(!1),[M,j]=Ro({value:typeof i=="number"?za(i,l,u):i,defaultValue:typeof p=="number"?za(p,l,u):p,finalValue:za(0,l,u),onChange:o}),I=S.useRef(M),U=S.useRef(),J=S.useRef(),ge=WR({value:M,min:l,max:u}),Ee=C(M),Te=typeof g=="function"?g(Ee):g,fe=f??PI(d),ht=S.useCallback(({x:Xe})=>{if(!R){const Je=TI({value:Xe,min:l,max:u,step:d,precision:fe});j(Je),I.current=Je}},[R,l,u,d,fe,j]),{ref:fr,active:pr}=uk(ht,{onScrubEnd:()=>a==null?void 0:a(I.current)},$),Yr=Xe=>{var Je,ke,st,Or,Ve,Rt;if(!R)switch(Xe.key){case"ArrowUp":{Xe.preventDefault(),(Je=J.current)==null||Je.focus();const Ne=ml(Math.min(Math.max(M+d,l),u),fe);j(Ne),a==null||a(Ne);break}case"ArrowRight":{Xe.preventDefault(),(ke=J.current)==null||ke.focus();const Ne=ml(Math.min(Math.max($==="rtl"?M-d:M+d,l),u),fe);j(Ne),a==null||a(Ne);break}case"ArrowDown":{Xe.preventDefault(),(st=J.current)==null||st.focus();const Ne=ml(Math.min(Math.max(M-d,l),u),fe);j(Ne),a==null||a(Ne);break}case"ArrowLeft":{Xe.preventDefault(),(Or=J.current)==null||Or.focus();const Ne=ml(Math.min(Math.max($==="rtl"?M+d:M-d,l),u),fe);j(Ne),a==null||a(Ne);break}case"Home":{Xe.preventDefault(),(Ve=J.current)==null||Ve.focus(),j(l),a==null||a(l);break}case"End":{Xe.preventDefault(),(Rt=J.current)==null||Rt.focus(),j(u),a==null||a(u);break}}};return y.jsx(CI,{value:{getStyles:se},children:y.jsxs(VR,{...H,ref:Ft(t,U),onKeyDownCapture:Yr,onMouseDownCapture:()=>{var Xe;return(Xe=U.current)==null?void 0:Xe.focus()},size:c,disabled:R,children:[y.jsx(KR,{inverted:k,offset:0,filled:ge,marks:m,min:l,max:u,value:Ee,disabled:R,containerProps:{ref:fr,onMouseEnter:b?()=>T(!0):void 0,onMouseLeave:b?()=>T(!1):void 0},children:y.jsx(HR,{max:u,min:l,value:Ee,position:ge,dragging:pr,label:Te,ref:J,labelTransitionProps:v,labelAlwaysOn:_,thumbLabel:w,showLabelOnHover:b,isHovered:W,disabled:R,children:x})}),y.jsx("input",{type:"hidden",name:h,value:Ee,...q})]})})});Sy.classes=GR;Sy.displayName="@mantine/core/Slider";var YR={root:"m_6d731127"};const OI={gap:"md",align:"stretch",justify:"flex-start"},LI=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":Vt(t),"--stack-align":r,"--stack-justify":n}}),lt=K((e,t)=>{const r=F("Stack",OI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,align:l,justify:u,gap:d,variant:f,...p}=r,h=le({name:"Stack",props:r,classes:YR,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:LI});return y.jsx(A,{ref:t,...h("root"),variant:f,...p})});lt.classes=YR;lt.displayName="@mantine/core/Stack";const MI={},hn=K((e,t)=>{const r=F("TextInput",MI,e);return y.jsx(zo,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});hn.classes=zo.classes;hn.displayName="@mantine/core/TextInput";const II=["h1","h2","h3","h4","h5","h6"],jI=["xs","sm","md","lg","xl"];function NI(e,t){const r=t!==void 0?t:`h${e}`;return II.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:jI.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:O(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var QR={root:"m_8a5d1357"};const $I={order:1},AI=(e,{order:t,size:r,lineClamp:n,textWrap:s})=>{const i=NI(t,r);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":s}}},by=K((e,t)=>{const r=F("Title",$I,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,order:c,vars:l,size:u,variant:d,lineClamp:f,textWrap:p,mod:h,...m}=r,g=le({name:"Title",props:r,classes:QR,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:AI});return[1,2,3,4,5,6].includes(c)?y.jsx(A,{...g("root"),component:`h${c}`,variant:d,ref:t,mod:[{order:c,"data-line-clamp":typeof f=="number"},h],size:u,...m}):null});by.classes=QR;by.displayName="@mantine/core/Title";function FI(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),n.forEach(i=>i(t))},initialize(s){r||(t=s,r=!0)},subscribe(s){return n.add(s),()=>n.delete(s)}}}function BI(e){return S.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function zI(e,t,r){const n=[],s=[],i={};for(const o of e){const a=o.position||t;i[a]=i[a]||0,i[a]+=1,i[a]<=r?s.push(o):n.push(o)}return{notifications:s,queue:n}}const UI=()=>FI({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),fi=UI(),VI=(e=fi)=>BI(e);function qo(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),s=zI(n,r.defaultPosition,r.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function HI(e,t=fi){const r=e.id||Sg();return qo(t,n=>e.id&&n.some(s=>s.id===e.id)?n:[...n,{...e,id:r}]),r}function XR(e,t=fi){return qo(t,r=>r.filter(n=>{var s;return n.id===e?((s=n.onClose)==null||s.call(n,n),!1):!0})),e}function WI(e,t=fi){return qo(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function qI(e=fi){qo(e,()=>[])}function KI(e=fi){qo(e,t=>t.slice(0,e.getState().limit))}const Ko={show:HI,hide:XR,update:WI,clean:qI,cleanQueue:KI,updateState:qo};function Wh(e,t){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wh(e,t)}function JR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wh(e,t)}const r_={disabled:!1},ju=wr.createContext(null);var GI=function(t){return t.scrollTop},Pa="unmounted",Fs="exited",Bs="entering",Hi="entered",qh="exiting",Gn=function(e){JR(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?a?(c=Fs,i.appearStatus=Bs):c=Hi:n.unmountOnExit||n.mountOnEnter?c=Pa:c=Fs,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Pa?{status:Fs}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Bs&&o!==Hi&&(i=Bs):(o===Bs||o===Hi)&&(i=qh)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Bs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ta.findDOMNode(this);o&&GI(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fs&&this.setState({status:Pa})},r.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[Ta.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!s&&!o||r_.disabled){this.safeSetState({status:Hi},function(){i.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:Bs},function(){i.props.onEntering(l,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Hi},function(){i.props.onEntered(l,u)})})})},r.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ta.findDOMNode(this);if(!i||r_.disabled){this.safeSetState({status:Fs},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:qh},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Fs},function(){s.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ta.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===Pa)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=FR(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wr.createElement(ju.Provider,{value:null},typeof o=="function"?o(s,a):wr.cloneElement(wr.Children.only(o),a))},t}(wr.Component);Gn.contextType=ju;Gn.propTypes={};function xi(){}Gn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xi,onEntering:xi,onEntered:xi,onExit:xi,onExiting:xi,onExited:xi};Gn.UNMOUNTED=Pa;Gn.EXITED=Fs;Gn.ENTERING=Bs;Gn.ENTERED=Hi;Gn.EXITING=qh;function YI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ry(e,t){var r=function(i){return t&&S.isValidElement(i)?t(i):i},n=Object.create(null);return e&&S.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function QI(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var o,a={};for(var c in t){if(n[c])for(o=0;o<n[c].length;o++){var l=n[c][o];a[n[c][o]]=r(l)}a[c]=r(c)}for(o=0;o<s.length;o++)a[s[o]]=r(s[o]);return a}function qs(e,t,r){return r[t]!=null?r[t]:e.props[t]}function XI(e,t){return Ry(e.children,function(r){return S.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:qs(r,"appear",e),enter:qs(r,"enter",e),exit:qs(r,"exit",e)})})}function JI(e,t,r){var n=Ry(e.children),s=QI(t,n);return Object.keys(s).forEach(function(i){var o=s[i];if(S.isValidElement(o)){var a=i in t,c=i in n,l=t[i],u=S.isValidElement(l)&&!l.props.in;c&&(!a||u)?s[i]=S.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:qs(o,"exit",e),enter:qs(o,"enter",e)}):!c&&a&&!u?s[i]=S.cloneElement(o,{in:!1}):c&&a&&S.isValidElement(l)&&(s[i]=S.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:qs(o,"exit",e),enter:qs(o,"enter",e)}))}}),s}var ZI=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ej={component:"div",childFactory:function(t){return t}},os=function(e){JR(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=i.handleExited.bind(YI(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,c=i.firstRender;return{children:c?XI(s,a):JI(s,o,a),firstRender:!1}},r.handleExited=function(s,i){var o=Ry(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var c=Hh({},a.children);return delete c[s.key],{children:c}}))},r.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=FR(s,["component","childFactory"]),c=this.state.contextValue,l=ZI(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?wr.createElement(ju.Provider,{value:c},l):wr.createElement(ju.Provider,{value:c},wr.createElement(i,a,l))},t}(wr.Component);os.propTypes={};os.defaultProps=ej;const ZR=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function tj(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),ZR.reduce((r,n)=>(r[n]=[],r),{}))}const n_={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},rj={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function nj({state:e,maxHeight:t,position:r,transitionDuration:n}){const[s,i]=r.split("-"),o=i==="center"?`${s}-center`:i,a={opacity:0,maxHeight:t,transform:n_[o],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:rj[o]},l={opacity:0,maxHeight:0,transform:n_[o]};return{...a,...{entering:c,entered:c,exiting:l,exited:l}[e]}}function sj(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const ex=S.forwardRef(({data:e,onHide:t,autoClose:r,...n},s)=>{const{autoClose:i,message:o,...a}=e,c=sj(r,e.autoClose),l=S.useRef(),u=()=>window.clearTimeout(l.current),d=()=>{t(e.id),u()},f=()=>{typeof c=="number"&&(l.current=window.setTimeout(d,c))};return S.useEffect(()=>{var p;(p=e.onOpen)==null||p.call(e,e)},[]),S.useEffect(()=>(f(),u),[c]),y.jsx(vy,{...n,...a,onClose:d,ref:s,onMouseEnter:u,onMouseLeave:f,children:o})});ex.displayName="@mantine/notifications/NotificationContainer";var tx={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const ij=Gn,oj={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Ms("overlay"),store:fi,withinPortal:!0},aj=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":O(r)}}),Yn=K((e,t)=>{const r=F("Notifications",oj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,position:l,autoClose:u,transitionDuration:d,containerWidth:f,notificationMaxHeight:p,limit:h,zIndex:m,store:g,portalProps:v,withinPortal:_,...w}=r,b=dr(),x=VI(g),R=ok(),E=ld(),C=S.useRef({}),k=S.useRef(0),B=(b.respectReducedMotion?E:!1)?1:d,z=le({name:"Notifications",classes:tx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:aj});S.useEffect(()=>{g==null||g.updateState(se=>({...se,limit:h||5,defaultPosition:l}))},[h,l]),Bn(()=>{x.notifications.length>k.current&&setTimeout(()=>R(),0),k.current=x.notifications.length},[x.notifications]);const q=tj(x.notifications,l),H=ZR.reduce((se,$)=>(se[$]=q[$].map(({style:W,...T})=>y.jsx(ij,{timeout:B,onEnter:()=>C.current[T.id].offsetHeight,nodeRef:{current:C.current[T.id]},children:M=>y.jsx(ex,{ref:j=>{C.current[T.id]=j},data:T,onHide:j=>XR(j,g),autoClose:u,...z("notification",{style:{...nj({state:M,position:$,transitionDuration:B,maxHeight:p}),...W}})})},T.id)),se),{});return y.jsxs(vd,{withinPortal:_,...v,children:[y.jsx(A,{...z("root"),"data-position":"top-center",ref:t,...w,children:y.jsx(os,{children:H["top-center"]})}),y.jsx(A,{...z("root"),"data-position":"top-left",...w,children:y.jsx(os,{children:H["top-left"]})}),y.jsx(A,{...z("root"),"data-position":"top-right",...w,children:y.jsx(os,{children:H["top-right"]})}),y.jsx(A,{...z("root"),"data-position":"bottom-right",...w,children:y.jsx(os,{children:H["bottom-right"]})}),y.jsx(A,{...z("root"),"data-position":"bottom-left",...w,children:y.jsx(os,{children:H["bottom-left"]})}),y.jsx(A,{...z("root"),"data-position":"bottom-center",...w,children:y.jsx(os,{children:H["bottom-center"]})})]})});Yn.classes=tx;Yn.displayName="@mantine/notifications/Notifications";Yn.show=Ko.show;Yn.hide=Ko.hide;Yn.update=Ko.update;Yn.clean=Ko.clean;Yn.cleanQueue=Ko.cleanQueue;Yn.updateState=Ko.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(this,arguments)}var ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ds||(ds={}));const s_="popstate";function cj(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:c=""}=pi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Kh("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Nu(i))}function n(s,i){xy(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return uj(t,r,n,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lj(){return Math.random().toString(36).substr(2,8)}function i_(e,t){return{usr:e.state,key:e.key,idx:t}}function Kh(e,t,r,n){return r===void 0&&(r=null),fc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pi(t):t,{state:r,key:t&&t.key||n||lj()})}function Nu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function uj(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ds.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(fc({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ds.Pop;let g=u(),v=g==null?null:g-l;l=g,c&&c({action:a,location:m.location,delta:v})}function f(g,v){a=ds.Push;let _=Kh(m.location,g,v);r&&r(_,g),l=u()+1;let w=i_(_,l),b=m.createHref(_);try{o.pushState(w,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(b)}i&&c&&c({action:a,location:m.location,delta:1})}function p(g,v){a=ds.Replace;let _=Kh(m.location,g,v);r&&r(_,g),l=u();let w=i_(_,l),b=m.createHref(_);o.replaceState(w,"",b),i&&c&&c({action:a,location:m.location,delta:0})}function h(g){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof g=="string"?g:Nu(g);return _=_.replace(/ $/,"%20"),rt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let m={get action(){return a},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(s_,d),c=g,()=>{s.removeEventListener(s_,d),c=null}},createHref(g){return t(s,g)},createURL:h,encodeLocation(g){let v=h(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(g){return o.go(g)}};return m}var o_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o_||(o_={}));function dj(e,t,r){return r===void 0&&(r="/"),fj(e,t,r,!1)}function fj(e,t,r,n){let s=typeof t=="string"?pi(t):t,i=Cy(s.pathname||"/",r);if(i==null)return null;let o=rx(e);pj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=xj(i);a=bj(o[c],l,n)}return a}function rx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=_s([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),rx(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:_j(l,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of nx(i.path))s(i,o,c)}),t}function nx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nx(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function pj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hj=/^:[\w-]+$/,mj=3,gj=2,yj=1,vj=10,wj=-2,a_=e=>e==="*";function _j(e,t){let r=e.split("/"),n=r.length;return r.some(a_)&&(n+=wj),t&&(n+=gj),r.filter(s=>!a_(s)).reduce((s,i)=>s+(hj.test(i)?mj:i===""?yj:vj),n)}function Sj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function bj(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=c_({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=c_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:_s([i,d.pathname]),pathnameBase:Pj(_s([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=_s([i,d.pathnameBase]))}return o}function c_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Rj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[d];return p&&!h?l[f]=void 0:l[f]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function Rj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Cj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pi(e):e;return{pathname:r?r.startsWith("/")?r:Ej(r,t):t,search:Dj(n),hash:kj(s)}}function Ej(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function hp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sx(e,t){let r=Tj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ix(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=pi(e):(s=fc({},e),rt(!s.pathname||!s.pathname.includes("?"),hp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),hp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),hp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=Cj(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const _s=e=>e.join("/").replace(/\/\/+/g,"/"),Pj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Oj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ox=["post","put","patch","delete"];new Set(ox);const Lj=["get",...ox];new Set(Lj);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}const Ey=S.createContext(null),Mj=S.createContext(null),hi=S.createContext(null),Vd=S.createContext(null),mi=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ax=S.createContext(null);function Ij(e,t){let{relative:r}=t===void 0?{}:t;Oc()||rt(!1);let{basename:n,navigator:s}=S.useContext(hi),{hash:i,pathname:o,search:a}=ux(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:_s([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Oc(){return S.useContext(Vd)!=null}function Hd(){return Oc()||rt(!1),S.useContext(Vd).location}function cx(e){S.useContext(hi).static||S.useLayoutEffect(e)}function lx(){let{isDataRoute:e}=S.useContext(mi);return e?Kj():jj()}function jj(){Oc()||rt(!1);let e=S.useContext(Ey),{basename:t,future:r,navigator:n}=S.useContext(hi),{matches:s}=S.useContext(mi),{pathname:i}=Hd(),o=JSON.stringify(sx(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return cx(()=>{a.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=ix(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_s([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function ux(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(hi),{matches:s}=S.useContext(mi),{pathname:i}=Hd(),o=JSON.stringify(sx(s,n.v7_relativeSplatPath));return S.useMemo(()=>ix(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Nj(e,t){return $j(e,t)}function $j(e,t,r,n){Oc()||rt(!1);let{navigator:s}=S.useContext(hi),{matches:i}=S.useContext(mi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=Hd(),u;if(t){var d;let g=typeof t=="string"?pi(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||rt(!1),u=g}else u=l;let f=u.pathname||"/",p=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=dj(e,{pathname:p}),m=Uj(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:_s([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:_s([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&m?S.createElement(Vd.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ds.Pop}},m):m}function Aj(){let e=qj(),t=Oj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const Fj=S.createElement(Aj,null);class Bj extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(mi.Provider,{value:this.props.routeContext},S.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zj(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(Ey);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(mi.Provider,{value:t},n)}function Uj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||rt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:p}=r,h=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,h=!1,m=null,g=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Fj,c&&(l<0&&f===0?(h=!0,g=null):l===f&&(h=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),_=()=>{let w;return p?w=m:h?w=g:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,S.createElement(zj,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(Bj,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var dx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dx||{}),$u=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($u||{});function Vj(e){let t=S.useContext(Ey);return t||rt(!1),t}function Hj(e){let t=S.useContext(Mj);return t||rt(!1),t}function Wj(e){let t=S.useContext(mi);return t||rt(!1),t}function fx(e){let t=Wj(),r=t.matches[t.matches.length-1];return r.route.id||rt(!1),r.route.id}function qj(){var e;let t=S.useContext(ax),r=Hj($u.UseRouteError),n=fx($u.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Kj(){let{router:e}=Vj(dx.UseNavigateStable),t=fx($u.UseNavigateStable),r=S.useRef(!1);return cx(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,pc({fromRouteId:t},i)))},[e,t])}const l_={};function Gj(e,t){l_[t]||(l_[t]=!0,console.warn(t))}const u_=(e,t,r)=>Gj(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Yj(e,t){e!=null&&e.v7_startTransition||u_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&u_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Da(e){rt(!1)}function Qj(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ds.Pop,navigator:i,static:o=!1,future:a}=e;Oc()&&rt(!1);let c=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:c,navigator:i,static:o,future:pc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=pi(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:h="default"}=n,m=S.useMemo(()=>{let g=Cy(u,c);return g==null?null:{location:{pathname:g,search:d,hash:f,state:p,key:h},navigationType:s}},[c,u,d,f,p,h,s]);return m==null?null:S.createElement(hi.Provider,{value:l},S.createElement(Vd.Provider,{children:r,value:m}))}function Xj(e){let{children:t,location:r}=e;return Nj(Gh(t),r)}new Promise(()=>{});function Gh(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,Gh(n.props.children,i));return}n.type!==Da&&rt(!1),!n.props.index||!n.props.children||rt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}function Jj(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Zj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eN(e,t){return e.button===0&&(!t||t==="_self")&&!Zj(e)}const tN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rN="6";try{window.__reactRouterVersion=rN}catch{}const nN="startTransition",d_=su[nN];function sN(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=cj({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},u=S.useCallback(d=>{l&&d_?d_(()=>c(d)):c(d)},[c,l]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>Yj(n),[n]),S.createElement(Qj,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const iN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aN=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d}=t,f=Jj(t,tN),{basename:p}=S.useContext(hi),h,m=!1;if(typeof l=="string"&&oN.test(l)&&(h=l,iN))try{let w=new URL(window.location.href),b=l.startsWith("//")?new URL(w.protocol+l):new URL(l),x=Cy(b.pathname,p);b.origin===w.origin&&x!=null?l=x+b.search+b.hash:m=!0}catch{}let g=Ij(l,{relative:s}),v=cN(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:d});function _(w){n&&n(w),w.defaultPrevented||v(w)}return S.createElement("a",Yh({},f,{href:h||g,onClick:m||i?n:_,ref:r,target:c}))});var f_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var p_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p_||(p_={}));function cN(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=lx(),l=Hd(),u=ux(e,{relative:o});return S.useCallback(d=>{if(eN(d,r)){d.preventDefault();let f=n!==void 0?n:Nu(l)===Nu(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,u,n,s,r,e,i,o,a])}const _n=Object.create(null);_n.open="0";_n.close="1";_n.ping="2";_n.pong="3";_n.message="4";_n.upgrade="5";_n.noop="6";const Yl=Object.create(null);Object.keys(_n).forEach(e=>{Yl[_n[e]]=e});const Qh={type:"error",data:"parser error"},px=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hx=typeof ArrayBuffer=="function",mx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ty=({type:e,data:t},r,n)=>px&&t instanceof Blob?r?n(t):h_(t,n):hx&&(t instanceof ArrayBuffer||mx(t))?r?n(t):h_(new Blob([t]),n):n(_n[e]+(t||"")),h_=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function m_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mp;function lN(e,t){if(px&&e.data instanceof Blob)return e.data.arrayBuffer().then(m_).then(t);if(hx&&(e.data instanceof ArrayBuffer||mx(e.data)))return t(m_(e.data));Ty(e,!1,r=>{mp||(mp=new TextEncoder),t(mp.encode(r))})}const g_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<g_.length;e++)ka[g_.charCodeAt(e)]=e;const uN=e=>{let t=e.length*.75,r=e.length,n,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(n=0;n<r;n+=4)i=ka[e.charCodeAt(n)],o=ka[e.charCodeAt(n+1)],a=ka[e.charCodeAt(n+2)],c=ka[e.charCodeAt(n+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l},dN=typeof ArrayBuffer=="function",Py=(e,t)=>{if(typeof e!="string")return{type:"message",data:gx(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:fN(e.substring(1),t)}:Yl[r]?e.length>1?{type:Yl[r],data:e.substring(1)}:{type:Yl[r]}:Qh},fN=(e,t)=>{if(dN){const r=uN(e);return gx(r,t)}else return{base64:!0,data:e}},gx=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},yx="",pN=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,o)=>{Ty(i,!1,a=>{n[o]=a,++s===r&&t(n.join(yx))})})},hN=(e,t)=>{const r=e.split(yx),n=[];for(let s=0;s<r.length;s++){const i=Py(r[s],t);if(n.push(i),i.type==="error")break}return n};function mN(){return new TransformStream({transform(e,t){lN(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let gp;function gl(e){return e.reduce((t,r)=>t+r.length,0)}function yl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function gN(e,t){gp||(gp=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(gl(r)<1)break;const c=yl(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(gl(r)<2)break;const c=yl(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(gl(r)<8)break;const c=yl(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Qh);break}s=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(gl(r)<s)break;const c=yl(r,s);a.enqueue(Py(i?c:gp.decode(c),t)),n=0}if(s===0||s>e){a.enqueue(Qh);break}}}})}const vx=4;function tt(e){if(e)return yN(e)}function yN(e){for(var t in tt.prototype)e[t]=tt.prototype[t];return e}tt.prototype.on=tt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};tt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};tt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};tt.prototype.emitReserved=tt.prototype.emit;tt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};tt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Wd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),vr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),vN="arraybuffer";function wx(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const wN=vr.setTimeout,_N=vr.clearTimeout;function qd(e,t){t.useNativeTimers?(e.setTimeoutFn=wN.bind(vr),e.clearTimeoutFn=_N.bind(vr)):(e.setTimeoutFn=vr.setTimeout.bind(vr),e.clearTimeoutFn=vr.clearTimeout.bind(vr))}const SN=1.33;function bN(e){return typeof e=="string"?RN(e):Math.ceil((e.byteLength||e.size)*SN)}function RN(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function _x(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xN(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function CN(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class EN extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Dy=class extends tt{constructor(t){super(),this.writable=!1,qd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new EN(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Py(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=xN(t);return r.length?"?"+r:""}};class TN extends Dy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};hN(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,pN(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=_x()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Sx=!1;try{Sx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const PN=Sx;function DN(){}class kN extends TN{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let ho=class Ql extends tt{constructor(t,r,n){super(),this.createRequest=t,qd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=wx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ql.requestsCount++,Ql.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=DN,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ql.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ho.requestsCount=0;ho.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",y_);else if(typeof addEventListener=="function"){const e="onpagehide"in vr?"pagehide":"unload";addEventListener(e,y_,!1)}}function y_(){for(let e in ho.requests)ho.requests.hasOwnProperty(e)&&ho.requests[e].abort()}const ON=function(){const e=bx({xdomain:!1});return e&&e.responseType!==null}();class LN extends kN{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=ON&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ho(bx,this.uri(),t)}}function bx(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||PN))return new XMLHttpRequest}catch{}if(!t)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Rx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class MN extends Dy{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Rx?{}:wx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;Ty(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=_x()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const yp=vr.WebSocket||vr.MozWebSocket;class IN extends MN{createSocket(t,r,n){return Rx?new yp(t,r,n):r?new yp(t,r):new yp(t)}doWrite(t,r){this.ws.send(r)}}class jN extends Dy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=gN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=mN();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&Wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const NN={websocket:IN,webtransport:jN,polling:LN},$N=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=$N.exec(e||""),i={},o=14;for(;o--;)i[AN[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=FN(i,i.path),i.queryKey=BN(i,i.query),i}function FN(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function BN(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Jh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xl=[];Jh&&addEventListener("offline",()=>{Xl.forEach(e=>e())},!1);class Ss extends tt{constructor(t,r){if(super(),this.binaryType=vN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Xh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Xh(r.host).host);qd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=CN(this.opts.query)),Jh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=vx,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ss.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ss.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=bN(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Wd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ss.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Jh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Xl.indexOf(this._offlineEventListener);n!==-1&&Xl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ss.protocol=vx;class zN extends Ss{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Ss.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ss.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const o=d=>{const f=new Error("probe error: "+d);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function c(){o("socket closed")}function l(d){r&&d.name!==r.name&&i()}const u=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let UN=class extends zN{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>NN[s]).filter(s=>!!s)),super(t,n)}};function VN(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Xh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const HN=typeof ArrayBuffer=="function",WN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,xx=Object.prototype.toString,qN=typeof Blob=="function"||typeof Blob<"u"&&xx.call(Blob)==="[object BlobConstructor]",KN=typeof File=="function"||typeof File<"u"&&xx.call(File)==="[object FileConstructor]";function ky(e){return HN&&(e instanceof ArrayBuffer||WN(e))||qN&&e instanceof Blob||KN&&e instanceof File}function Jl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Jl(e[r]))return!0;return!1}if(ky(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Jl(e[r]))return!0;return!1}function GN(e){const t=[],r=e.data,n=e;return n.data=Zh(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Zh(e,t){if(!e)return e;if(ky(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Zh(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Zh(e[n],t));return r}return e}function YN(e,t){return e.data=em(e.data,t),delete e.attachments,e}function em(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=em(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=em(e[r],t));return e}const QN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],XN=5;var he;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(he||(he={}));class JN{constructor(t){this.replacer=t}encode(t){return(t.type===he.EVENT||t.type===he.ACK)&&Jl(t)?this.encodeAsBinary({type:t.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===he.BINARY_EVENT||t.type===he.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=GN(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function v_(e){return Object.prototype.toString.call(e)==="[object Object]"}class Oy extends tt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===he.BINARY_EVENT;n||r.type===he.BINARY_ACK?(r.type=n?he.EVENT:he.ACK,this.reconstructor=new ZN(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ky(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(he[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===he.BINARY_EVENT||n.type===he.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Oy.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case he.CONNECT:return v_(r);case he.DISCONNECT:return r===void 0;case he.CONNECT_ERROR:return typeof r=="string"||v_(r);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&QN.indexOf(r[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ZN{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=YN(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const e$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Oy,Encoder:JN,get PacketType(){return he},protocol:XN},Symbol.toStringTag,{value:"Module"}));function jr(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const t$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cx extends tt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[jr(t,"open",this.onopen.bind(this)),jr(t,"packet",this.onpacket.bind(this)),jr(t,"error",this.onerror.bind(this)),jr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(t$.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:he.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,d=r.pop();this._registerAckCallback(u,d),o.id=u}const a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case he.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(t);break;case he.ACK:case he.BINARY_ACK:this.onack(t);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:he.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Go(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Go.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Go.prototype.reset=function(){this.attempts=0};Go.prototype.setMin=function(e){this.ms=e};Go.prototype.setMax=function(e){this.max=e};Go.prototype.setJitter=function(e){this.jitter=e};class tm extends tt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Go({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||e$;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new UN(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=jr(r,"open",function(){n.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=jr(r,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(jr(t,"ping",this.onping.bind(this)),jr(t,"data",this.ondata.bind(this)),jr(t,"error",this.onerror.bind(this)),jr(t,"close",this.onclose.bind(this)),jr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Wd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cx(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ga={};function Zl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=VN(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=ga[s]&&i in ga[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new tm(n,t):(ga[s]||(ga[s]=new tm(n,t)),c=ga[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Zl,{Manager:tm,Socket:Cx,io:Zl,connect:Zl});const be=Zl("https://192.168.0.101:3000/mediasoup");be.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var Ex={},rm={exports:{}},vp,w_;function r$(){if(w_)return vp;w_=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;vp=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return d.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var d=Math.abs(u);return d>=n?Math.round(u/n)+"d":d>=r?Math.round(u/r)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var d=Math.abs(u);return d>=n?l(u,d,n,"day"):d>=r?l(u,d,r,"hour"):d>=t?l(u,d,t,"minute"):d>=e?l(u,d,e,"second"):u+" ms"}function l(u,d,f,p){var h=d>=f*1.5;return Math.round(u/f)+" "+p+(h?"s":"")}return vp}function n$(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=s,r.enabled=o,r.humanize=r$(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d,f=null,p,h;function m(...g){if(!m.enabled)return;const v=m,_=Number(new Date),w=_-(d||_);v.diff=w,v.prev=d,v.curr=_,d=_,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(R,E)=>{if(R==="%%")return"%";b++;const C=r.formatters[E];if(typeof C=="function"){const k=g[b];R=C.call(v,k),g.splice(b,1),b--}return R}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return m.namespace=u,m.useColors=r.useColors(),m.color=r.selectColor(u),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,h=r.enabled(u)),h),set:g=>{f=g}}),typeof r.init=="function"&&r.init(m),m}function n(u,d){const f=r(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d;const f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(u))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var s$=n$;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=s$(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(rm,rm.exports);var Kd=rm.exports,Yo={},nm={exports:{}};(function(e,t){(function(r,n){var s="1.0.39",i="",o="?",a="function",c="undefined",l="object",u="string",d="major",f="model",p="name",h="type",m="vendor",g="version",v="architecture",_="console",w="mobile",b="tablet",x="smarttv",R="wearable",E="embedded",C=500,k="Amazon",L="Apple",B="ASUS",z="BlackBerry",q="Browser",H="Chrome",se="Edge",$="Firefox",W="Google",T="Huawei",M="LG",j="Microsoft",I="Motorola",U="Opera",J="Samsung",ge="Sharp",Ee="Sony",Te="Xiaomi",fe="Zebra",ht="Facebook",fr="Chromium OS",pr="Mac OS",Yr=" Browser",Xe=function(ae,me){var G={};for(var ue in ae)me[ue]&&me[ue].length%2===0?G[ue]=me[ue].concat(ae[ue]):G[ue]=ae[ue];return G},Je=function(ae){for(var me={},G=0;G<ae.length;G++)me[ae[G].toUpperCase()]=ae[G];return me},ke=function(ae,me){return typeof ae===u?st(me).indexOf(st(ae))!==-1:!1},st=function(ae){return ae.toLowerCase()},Or=function(ae){return typeof ae===u?ae.replace(/[^\d\.]/g,i).split(".")[0]:n},Ve=function(ae,me){if(typeof ae===u)return ae=ae.replace(/^\s\s*/,i),typeof me===c?ae:ae.substring(0,C)},Rt=function(ae,me){for(var G=0,ue,Jt,Qr,_e,re,Xr;G<me.length&&!re;){var Cf=me[G],cv=me[G+1];for(ue=Jt=0;ue<Cf.length&&!re&&Cf[ue];)if(re=Cf[ue++].exec(ae),re)for(Qr=0;Qr<cv.length;Qr++)Xr=re[++Jt],_e=cv[Qr],typeof _e===l&&_e.length>0?_e.length===2?typeof _e[1]==a?this[_e[0]]=_e[1].call(this,Xr):this[_e[0]]=_e[1]:_e.length===3?typeof _e[1]===a&&!(_e[1].exec&&_e[1].test)?this[_e[0]]=Xr?_e[1].call(this,Xr,_e[2]):n:this[_e[0]]=Xr?Xr.replace(_e[1],_e[2]):n:_e.length===4&&(this[_e[0]]=Xr?_e[3].call(this,Xr.replace(_e[1],_e[2])):n):this[_e]=Xr||n;G+=2}},Ne=function(ae,me){for(var G in me)if(typeof me[G]===l&&me[G].length>0){for(var ue=0;ue<me[G].length;ue++)if(ke(me[G][ue],ae))return G===o?n:G}else if(ke(me[G],ae))return G===o?n:G;return me.hasOwnProperty("*")?me["*"]:ae},mt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},hr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Tn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,U+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,U+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,U]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+q]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+q],g],[/\bfocus\/([\w\.]+)/i],[g,[p,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+q]],[/fxios\/([-\w\.]+)/i],[g,[p,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+Yr]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Yr],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,J+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,ht],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,H+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Ne,mt]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,st]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,i,st]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,st]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,J],[h,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,J],[h,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,L],[h,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,L],[h,b]],[/(macintosh);/i],[f,[m,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,ge],[h,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,T],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,T],[h,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,Te],[h,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,Te],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[h,w]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[h,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[h,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,I],[h,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,I],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,M],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,M],[h,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[h,w]],[/(pixel c)\b/i],[f,[m,W],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,W],[h,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Ee],[h,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Ee],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[h,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,k],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,k],[h,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,z],[h,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,B],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,B],[h,w]],[/(nexus 9)/i],[f,[m,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[h,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[h,b]],[/(itel) ((\w+))/i],[[m,st],f,[h,Ne,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[h,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[h,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[h,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[h,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[h,b]],[/(surface duo)/i],[f,[m,j],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[h,w]],[/(u304aa)/i],[f,[m,"AT&T"],[h,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[h,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[h,b]],[/\b(k88) b/i],[f,[m,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[h,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[h,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[h,b]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[h,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[h,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[h,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[m,f,[h,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,j],[h,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,fe],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,fe],[h,w]],[/smart-tv.+(samsung)/i],[m,[h,x]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,J],[h,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,M],[h,x]],[/(apple) ?tv/i],[m,[f,L+" TV"],[h,x]],[/crkey/i],[[f,H+"cast"],[m,W],[h,x]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,k],[h,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,ge],[h,x]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Ee],[h,x]],[/(mitv-\w{5}) bui/i],[f,[m,Te],[h,x]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[h,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Ve],[f,Ve],[h,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[h,_]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[h,_]],[/(playstation [345portablevi]+)/i],[f,[m,Ee],[h,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,j],[h,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,J],[h,R]],[/((pebble))app/i],[m,f,[h,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,L],[h,R]],[/droid.+; (glass) \d/i],[f,[m,W],[h,R]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,fe],[h,R]],[/(quest( \d| pro)?)/i],[f,[m,ht],[h,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,E]],[/(aeobc)\b/i],[f,[m,k],[h,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,se+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,Ne,hr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Ne,hr],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,pr],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,H+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,fr],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},Ie=function(ae,me){if(typeof ae===l&&(me=ae,ae=n),!(this instanceof Ie))return new Ie(ae,me).getResult();var G=typeof r!==c&&r.navigator?r.navigator:n,ue=ae||(G&&G.userAgent?G.userAgent:i),Jt=G&&G.userAgentData?G.userAgentData:n,Qr=me?Xe(Tn,me):Tn,_e=G&&G.userAgent==ue;return this.getBrowser=function(){var re={};return re[p]=n,re[g]=n,Rt.call(re,ue,Qr.browser),re[d]=Or(re[g]),_e&&G&&G.brave&&typeof G.brave.isBrave==a&&(re[p]="Brave"),re},this.getCPU=function(){var re={};return re[v]=n,Rt.call(re,ue,Qr.cpu),re},this.getDevice=function(){var re={};return re[m]=n,re[f]=n,re[h]=n,Rt.call(re,ue,Qr.device),_e&&!re[h]&&Jt&&Jt.mobile&&(re[h]=w),_e&&re[f]=="Macintosh"&&G&&typeof G.standalone!==c&&G.maxTouchPoints&&G.maxTouchPoints>2&&(re[f]="iPad",re[h]=b),re},this.getEngine=function(){var re={};return re[p]=n,re[g]=n,Rt.call(re,ue,Qr.engine),re},this.getOS=function(){var re={};return re[p]=n,re[g]=n,Rt.call(re,ue,Qr.os),_e&&!re[p]&&Jt&&Jt.platform&&Jt.platform!="Unknown"&&(re[p]=Jt.platform.replace(/chrome os/i,fr).replace(/macos/i,pr)),re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ue},this.setUA=function(re){return ue=typeof re===u&&re.length>C?Ve(re,C):re,this},this.setUA(ue),this};Ie.VERSION=s,Ie.BROWSER=Je([p,g,d]),Ie.CPU=Je([v]),Ie.DEVICE=Je([f,m,h,_,w,x,b,R,E]),Ie.ENGINE=Ie.OS=Je([p,g]),e.exports&&(t=e.exports=Ie),t.UAParser=Ie;var ut=typeof r!==c&&(r.jQuery||r.Zepto);if(ut&&!ut.ua){var js=new Ie;ut.ua=js.getResult(),ut.ua.get=function(){return js.getUA()},ut.ua.set=function(ae){js.setUA(ae);var me=js.getResult();for(var G in me)ut.ua[G]=me[G]}}})(typeof window=="object"?window:P)})(nm,nm.exports);var i$=nm.exports,ze={},o$=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ze,"__esModule",{value:!0});ze.Logger=void 0;const Ci=o$(Kd),Ei="mediasoup-client";let a$=class{constructor(t){t?(this._debug=(0,Ci.default)(`${Ei}:${t}`),this._warn=(0,Ci.default)(`${Ei}:WARN:${t}`),this._error=(0,Ci.default)(`${Ei}:ERROR:${t}`)):(this._debug=(0,Ci.default)(Ei),this._warn=(0,Ci.default)(`${Ei}:WARN`),this._error=(0,Ci.default)(`${Ei}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};ze.Logger=a$;var xn={},Ly={exports:{}},mo=typeof Reflect=="object"?Reflect:null,__=mo&&typeof mo.apply=="function"?mo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},eu;mo&&typeof mo.ownKeys=="function"?eu=mo.ownKeys:Object.getOwnPropertySymbols?eu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:eu=function(t){return Object.getOwnPropertyNames(t)};function c$(e){console&&console.warn&&console.warn(e)}var Tx=Number.isNaN||function(t){return t!==t};function Ce(){Ce.init.call(this)}Ly.exports=Ce;Ly.exports.once=f$;Ce.EventEmitter=Ce;Ce.prototype._events=void 0;Ce.prototype._eventsCount=0;Ce.prototype._maxListeners=void 0;var S_=10;function Gd(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ce,"defaultMaxListeners",{enumerable:!0,get:function(){return S_},set:function(e){if(typeof e!="number"||e<0||Tx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");S_=e}});Ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ce.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Tx(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Px(e){return e._maxListeners===void 0?Ce.defaultMaxListeners:e._maxListeners}Ce.prototype.getMaxListeners=function(){return Px(this)};Ce.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")__(c,this,r);else for(var l=c.length,u=Mx(c,l),n=0;n<l;++n)__(u[n],this,r);return!0};function Dx(e,t,r,n){var s,i,o;if(Gd(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),o===void 0)o=i[t]=r,++e._eventsCount;else if(typeof o=="function"?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=Px(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,c$(a)}return e}Ce.prototype.addListener=function(t,r){return Dx(this,t,r,!1)};Ce.prototype.on=Ce.prototype.addListener;Ce.prototype.prependListener=function(t,r){return Dx(this,t,r,!0)};function l$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function kx(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=l$.bind(n);return s.listener=r,n.wrapFn=s,s}Ce.prototype.once=function(t,r){return Gd(r),this.on(t,kx(this,t,r)),this};Ce.prototype.prependOnceListener=function(t,r){return Gd(r),this.prependListener(t,kx(this,t,r)),this};Ce.prototype.removeListener=function(t,r){var n,s,i,o,a;if(Gd(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():u$(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function Ox(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?d$(s):Mx(s,s.length)}Ce.prototype.listeners=function(t){return Ox(this,t,!0)};Ce.prototype.rawListeners=function(t){return Ox(this,t,!1)};Ce.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Lx.call(e,t)};Ce.prototype.listenerCount=Lx;function Lx(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ce.prototype.eventNames=function(){return this._eventsCount>0?eu(this._events):[]};function Mx(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function u$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d$(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function f$(e,t){return new Promise(function(r,n){function s(o){e.removeListener(t,i),n(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}Ix(e,t,i,{once:!0}),t!=="error"&&p$(e,s,{once:!0})})}function p$(e,t,r){typeof e.on=="function"&&Ix(e,"error",t,r)}function Ix(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var h$=Ly.exports;Object.defineProperty(xn,"__esModule",{value:!0});xn.EnhancedEventEmitter=void 0;const m$=h$,g$=ze,y$=new g$.Logger("EnhancedEventEmitter");class v$ extends m$.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...r){return super.emit(t,...r)}safeEmit(t,...r){try{return super.emit(t,...r)}catch(n){y$.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,n);try{super.emit("listenererror",t,n)}catch{}return!!super.listenerCount(t)}}on(t,r){return super.on(t,r),this}off(t,r){return super.off(t,r),this}addListener(t,r){return super.on(t,r),this}prependListener(t,r){return super.prependListener(t,r),this}once(t,r){return super.once(t,r),this}prependOnceListener(t,r){return super.prependOnceListener(t,r),this}removeListener(t,r){return super.off(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}xn.EnhancedEventEmitter=v$;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.InvalidStateError=nt.UnsupportedError=void 0;class My extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,My):this.stack=new Error(t).stack}}nt.UnsupportedError=My;class Iy extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Iy):this.stack=new Error(t).stack}}nt.InvalidStateError=Iy;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.clone=w$;Qe.generateRandomNumber=_$;Qe.deepFreeze=jx;function w$(e){if(e!==void 0)return Number.isNaN(e)?NaN:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}function _$(){return Math.round(Math.random()*1e7)}function jx(e){const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&jx(n)}return Object.freeze(e)}var De={},He={},Yd={},S$=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.Logger=void 0;const Ti=S$(Kd),Pi="h264-profile-level-id";let b$=class{constructor(t){t?(this._debug=(0,Ti.default)(`${Pi}:${t}`),this._warn=(0,Ti.default)(`${Pi}:WARN:${t}`),this._error=(0,Ti.default)(`${Pi}:ERROR:${t}`)):(this._debug=(0,Ti.default)(Pi),this._warn=(0,Ti.default)(`${Pi}:WARN`),this._error=(0,Ti.default)(`${Pi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Yd.Logger=b$;Object.defineProperty(He,"__esModule",{value:!0});He.generateProfileLevelIdStringForAnswer=He.isSameProfile=He.parseSdpProfileLevelId=He.levelToString=He.profileToString=He.profileLevelIdToString=He.parseProfileLevelId=He.ProfileLevelId=He.Level=He.Profile=void 0;const R$=Yd,Ds=new R$.Logger;var Pe;(function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"})(Pe||(He.Profile=Pe={}));var ne;(function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"})(ne||(He.Level=ne={}));class Qd{constructor(t,r){this.profile=t,this.level=r}}He.ProfileLevelId=Qd;const x$=new Qd(Pe.ConstrainedBaseline,ne.L3_1);class Pn{constructor(t){this.mask=~b_("x",t),this.masked_value=b_("1",t)}isMatch(t){return this.masked_value===(t&this.mask)}}class Dn{constructor(t,r,n){this.profile_idc=t,this.profile_iop=r,this.profile=n}}const C$=[new Dn(66,new Pn("x1xx0000"),Pe.ConstrainedBaseline),new Dn(77,new Pn("1xxx0000"),Pe.ConstrainedBaseline),new Dn(88,new Pn("11xx0000"),Pe.ConstrainedBaseline),new Dn(66,new Pn("x0xx0000"),Pe.Baseline),new Dn(88,new Pn("10xx0000"),Pe.Baseline),new Dn(77,new Pn("0x0x0000"),Pe.Main),new Dn(100,new Pn("00000000"),Pe.High),new Dn(100,new Pn("00001100"),Pe.ConstrainedHigh),new Dn(244,new Pn("00000000"),Pe.PredictiveHigh444)];function Nx(e){if(typeof e!="string"||e.length!==6)return;const r=parseInt(e,16);if(r===0)return;const n=r&255,s=r>>8&255,i=r>>16&255;let o;switch(n){case ne.L1_1:{o=s&16?ne.L1_b:ne.L1_1;break}case ne.L1:case ne.L1_2:case ne.L1_3:case ne.L2:case ne.L2_1:case ne.L2_2:case ne.L3:case ne.L3_1:case ne.L3_2:case ne.L4:case ne.L4_1:case ne.L4_2:case ne.L5:case ne.L5_1:case ne.L5_2:{o=n;break}default:{Ds.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${n}]`);return}}for(const a of C$)if(i===a.profile_idc&&a.profile_iop.isMatch(s))return new Qd(a.profile,o);Ds.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${i}, profile_iop:${s}]`)}He.parseProfileLevelId=Nx;function $x(e){if(e.level==ne.L1_b)switch(e.profile){case Pe.ConstrainedBaseline:return"42f00b";case Pe.Baseline:return"42100b";case Pe.Main:return"4d100b";default:{Ds.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`);return}}let t;switch(e.profile){case Pe.ConstrainedBaseline:{t="42e0";break}case Pe.Baseline:{t="4200";break}case Pe.Main:{t="4d00";break}case Pe.ConstrainedHigh:{t="640c";break}case Pe.High:{t="6400";break}case Pe.PredictiveHigh444:{t="f400";break}default:{Ds.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`);return}}let r=e.level.toString(16);return r.length===1&&(r=`0${r}`),`${t}${r}`}He.profileLevelIdToString=$x;function E$(e){switch(e){case Pe.ConstrainedBaseline:return"ConstrainedBaseline";case Pe.Baseline:return"Baseline";case Pe.Main:return"Main";case Pe.ConstrainedHigh:return"ConstrainedHigh";case Pe.High:return"High";case Pe.PredictiveHigh444:return"PredictiveHigh444";default:{Ds.warn(`profileToString() | unrecognized profile ${e}`);return}}}He.profileToString=E$;function T$(e){switch(e){case ne.L1_b:return"1b";case ne.L1:return"1";case ne.L1_1:return"1.1";case ne.L1_2:return"1.2";case ne.L1_3:return"1.3";case ne.L2:return"2";case ne.L2_1:return"2.1";case ne.L2_2:return"2.2";case ne.L3:return"3";case ne.L3_1:return"3.1";case ne.L3_2:return"3.2";case ne.L4:return"4";case ne.L4_1:return"4.1";case ne.L4_2:return"4.2";case ne.L5:return"5";case ne.L5_1:return"5.1";case ne.L5_2:return"5.2";default:{Ds.warn(`levelToString() | unrecognized level ${e}`);return}}}He.levelToString=T$;function hc(e={}){const t=e["profile-level-id"];return t?Nx(t):x$}He.parseSdpProfileLevelId=hc;function P$(e={},t={}){const r=hc(e),n=hc(t);return!!(r&&n&&r.profile===n.profile)}He.isSameProfile=P$;function D$(e={},t={}){if(!e["profile-level-id"]&&!t["profile-level-id"]){Ds.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const r=hc(e),n=hc(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!n)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==n.profile)throw new TypeError("H264 Profile mismatch");const s=R_(e)&&R_(t),i=r.level,o=n.level,a=O$(i,o),c=s?i:a;return Ds.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${c}]`),$x(new Qd(r.profile,c))}He.generateProfileLevelIdStringForAnswer=D$;function b_(e,t){return+(t[0]===e)<<7|+(t[1]===e)<<6|+(t[2]===e)<<5|+(t[3]===e)<<4|+(t[4]===e)<<3|+(t[5]===e)<<2|+(t[6]===e)<<1|+(t[7]===e)<<0}function k$(e,t){return e===ne.L1_b?t!==ne.L1&&t!==ne.L1_b:t===ne.L1_b?e!==ne.L1:e<t}function O$(e,t){return k$(e,t)?e:t}function R_(e={}){const t=e["level-asymmetry-allowed"];return t===!0||t===1||t==="1"}var L$=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M$=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ax=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L$(t,e,r);return M$(t,e),t};Object.defineProperty(De,"__esModule",{value:!0});De.validateRtpCapabilities=A$;De.validateRtpParameters=jy;De.validateSctpStreamParameters=F$;De.validateSctpCapabilities=B$;De.getExtendedRtpCapabilities=z$;De.getRecvRtpCapabilities=U$;De.getSendingRtpParameters=V$;De.getSendingRemoteRtpParameters=H$;De.reduceCodecs=W$;De.generateProbatorRtpParameters=q$;De.canSend=K$;De.canReceive=G$;const x_=Ax(He),I$=Ax(Qe),j$="probator",N$=1234,$$=127;function A$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)Y$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)Q$(t)}function jy(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)X$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)J$(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)Z$(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),eA(e.rtcp)}function F$(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}function B$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");tA(e.numStreams)}function z$(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(Ua(n))continue;const s=(e.codecs??[]).find(o=>Bx(o,n,{strict:!0,modify:!0}));if(!s)continue;const i={mimeType:s.mimeType,kind:s.kind,clockRate:s.clockRate,channels:s.channels,localPayloadType:s.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:s.parameters,remoteParameters:n.parameters,rtcpFeedback:nA(s,n)};r.codecs.push(i)}for(const n of r.codecs){const s=e.codecs.find(o=>Ua(o)&&o.parameters.apt===n.localPayloadType),i=t.codecs.find(o=>Ua(o)&&o.parameters.apt===n.remotePayloadType);s&&i&&(n.localRtxPayloadType=s.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const s=e.headerExtensions.find(o=>rA(o,n));if(!s)continue;const i={kind:n.kind,uri:n.uri,sendId:s.preferredId,recvId:n.preferredId,encrypt:s.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":{i.direction="sendrecv";break}case"recvonly":{i.direction="sendonly";break}case"sendonly":{i.direction="recvonly";break}case"inactive":{i.direction="inactive";break}}r.headerExtensions.push(i)}return r}function U$(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const n={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(n),!r.remoteRtxPayloadType)continue;const s={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(s)}for(const r of e.headerExtensions){if(r.direction!=="sendrecv"&&r.direction!=="recvonly")continue;const n={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(n)}return t}function V$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}return r}function H$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}if(r.headerExtensions.some(n=>n.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="goog-remb");else if(r.headerExtensions.some(n=>n.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc");else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc"&&s.type!=="goog-remb");return r}function W$(e,t){const r=[];if(!t)r.push(e[0]),Ua(e[1])&&r.push(e[1]);else{for(let n=0;n<e.length;++n)if(Bx(e[n],t,{strict:!0})){r.push(e[n]),Ua(e[n+1])&&r.push(e[n+1]);break}if(r.length===0)throw new TypeError("no matching codec found")}return r}function q$(e){e=I$.clone(e),jy(e);const t={mid:j$,codecs:[],headerExtensions:[],encodings:[{ssrc:N$}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=$$,t.headerExtensions=e.headerExtensions,t}function K$(e,t){return t.codecs.some(r=>r.kind===e)}function G$(e,t){if(jy(e),e.codecs.length===0)return!1;const r=e.codecs[0];return t.codecs.some(n=>n.remotePayloadType===r.payloadType)}function Y$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const n of Object.keys(e.parameters)){let s=e.parameters[n];if(s===void 0&&(e.parameters[n]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${n}s, value:${s}]`);if(n==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)Fx(n)}function Fx(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}function Q$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function X$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");r[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const s of Object.keys(e.parameters)){let i=e.parameters[s];if(i===void 0&&(e.parameters[s]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${s}s, value:${i}]`);if(s==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const s of e.rtcpFeedback)Fx(s)}function J$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(r===void 0&&(e.parameters[t]="",r=""),typeof r!="string"&&typeof r!="number")throw new TypeError("invalid header extension parameter")}}function Z$(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function eA(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}function tA(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}function Ua(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function Bx(e,t,{strict:r=!1,modify:n=!1}={}){const s=e.mimeType.toLowerCase(),i=t.mimeType.toLowerCase();if(s!==i||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(s){case"video/h264":{if(r){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!x_.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=x_.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch{return!1}n&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(r){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function rA(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function nA(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const s=(t.rtcpFeedback??[]).find(i=>i.type===n.type&&(i.parameter===n.parameter||!i.parameter&&!n.parameter));s&&r.push(s)}return r}var Lc={},bs={},Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.Logger=void 0;const Di=Kd,ki="awaitqueue";class sA{constructor(t){t?(this._debug=(0,Di.default)(`${ki}:${t}`),this._warn=(0,Di.default)(`${ki}:WARN:${t}`),this._error=(0,Di.default)(`${ki}:ERROR:${t}`)):(this._debug=(0,Di.default)(ki),this._warn=(0,Di.default)(`${ki}:WARN`),this._error=(0,Di.default)(`${ki}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}Xd.Logger=sA;Object.defineProperty(bs,"__esModule",{value:!0});bs.AwaitQueue=bs.AwaitQueueRemovedTaskError=bs.AwaitQueueStoppedError=void 0;const iA=Xd,Jn=new iA.Logger;class Jd extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Jd)}}bs.AwaitQueueStoppedError=Jd;class Zd extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Zd)}}bs.AwaitQueueRemovedTaskError=Zd;class oA{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,r){if(r=r??t.name,Jn.debug(`push() [name:${r}]`),typeof t!="function")throw new TypeError("given task is not a function");if(r)try{Object.defineProperty(t,"name",{value:r})}catch{}return new Promise((n,s)=>{const i={id:this.nextTaskId++,task:t,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),Jn.debug(`resolving task [name:${i.name}]`),n(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),Jn.debug(`rejecting task [name:${i.name}]: %s`,String(o)),s(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(i.id,i),this.pendingTasks.size===1&&this.execute(i)})}stop(){Jn.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())Jn.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new Jd);this.stopping=!1}remove(t){Jn.debug(`remove() [taskIdx:${t}]`);const r=Array.from(this.pendingTasks.values())[t];if(!r){Jn.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}r.reject(new Zd)}dump(){const t=Date.now();let r=0;return Array.from(this.pendingTasks.values()).map(n=>({idx:r++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt-n.enqueuedAt:t-n.enqueuedAt,executionTime:n.executedAt?t-n.executedAt:0}))}async execute(t){if(Jn.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const r=await t.task();t.resolve(r)}catch(r){t.reject(r)}}}bs.AwaitQueue=oA;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let C_;var aA=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:P):e=>(C_||(C_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Producer=void 0;const cA=ze,E_=xn,Oi=nt,Zr=new cA.Logger("Producer");class lA extends E_.EnhancedEventEmitter{constructor({id:t,localId:r,rtpSender:n,track:s,rtpParameters:i,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new E_.EnhancedEventEmitter,Zr.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=s,this._kind=s.kind,this._rtpParameters=i,this._paused=a?!s.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Zr.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Zr.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new Oi.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(Zr.debug("pause()"),this._closed){Zr.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@pause",t,r)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(Zr.debug("resume()"),this._closed){Zr.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@resume",t,r)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(Zr.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new Oi.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new Oi.InvalidStateError("track ended");if(t===this._track){Zr.debug("replaceTrack() | same track, ignored");return}await new Promise((r,n)=>{this.safeEmit("@replacetrack",t,r,n)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new Oi.InvalidStateError("closed");if(this._kind!=="video")throw new Oi.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((r,n)=>{this.safeEmit("@setmaxspatiallayer",t,r,n)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new Oi.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((r,n)=>{this.safeEmit("@setrtpencodingparameters",t,r,n)})}onTrackEnded(){Zr.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Mc.Producer=lA;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.Consumer=void 0;const uA=ze,T_=xn,dA=nt,en=new uA.Logger("Consumer");class fA extends T_.EnhancedEventEmitter{constructor({id:t,localId:r,producerId:n,rtpReceiver:s,track:i,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new T_.EnhancedEventEmitter,en.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=s,this._track=i,this._rtpParameters=o,this._paused=!i.enabled,this._appData=a??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(en.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(en.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new dA.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(en.debug("pause()"),this._closed){en.error("pause() | Consumer closed");return}if(this._paused){en.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(en.debug("resume()"),this._closed){en.error("resume() | Consumer closed");return}if(!this._paused){en.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){en.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Ic.Consumer=fA;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.DataProducer=void 0;const pA=ze,P_=xn,hA=nt,kn=new pA.Logger("DataProducer");class mA extends P_.EnhancedEventEmitter{constructor({id:t,dataChannel:r,sctpStreamParameters:n,appData:s}){super(),this._closed=!1,this._observer=new P_.EnhancedEventEmitter,kn.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=s??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(kn.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(kn.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(kn.debug("send()"),this._closed)throw new hA.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(kn.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?kn.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):kn.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(kn.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||kn.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}jc.DataProducer=mA;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.DataConsumer=void 0;const gA=ze,D_=xn,Ns=new gA.Logger("DataConsumer");class yA extends D_.EnhancedEventEmitter{constructor({id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:s,appData:i}){super(),this._closed=!1,this._observer=new D_.EnhancedEventEmitter,Ns.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=s,this._appData=i??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Ns.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Ns.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Ns.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Ns.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Ns.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Ns.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}Nc.DataConsumer=yA;var vA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zx=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vA(t,e,r);return wA(t,e),t},_A=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Transport=void 0;const SA=bs,wp=_A(aA),bA=ze,k_=xn,it=nt,_p=zx(Qe),ya=zx(De),RA=Mc,xA=Ic,CA=jc,EA=Nc,Ze=new bA.Logger("Transport");class TA{constructor(t){this.consumerOptions=t,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}class PA extends k_.EnhancedEventEmitter{constructor({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:f,extendedRtpCapabilities:p,canProduceByKind:h}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new SA.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new k_.EnhancedEventEmitter,Ze.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=p,this._canProduceByKind=h,this._maxSctpMessageSize=o?o.maxMessageSize:null;const m=_p.clone(l)??{};delete m.iceServers,delete m.iceTransportPolicy,delete m.bundlePolicy,delete m.rtcpMuxPolicy,delete m.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:m,proprietaryConstraints:u,extendedRtpCapabilities:p}),this._appData=d??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){Ze.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new it.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(Ze.debug("restartIce()"),this._closed)throw new it.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(Ze.debug("updateIceServers()"),this._closed)throw new it.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:r,codecOptions:n,codec:s,stopTracks:i=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,onRtpSender:c,appData:l={}}={}){if(Ze.debug("produce() [track:%o]",t),this._closed)throw new it.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new it.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new it.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(l&&typeof l!="object")throw new TypeError("if given, appData must be an object")}else throw new it.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let u;if(r&&!Array.isArray(r))throw TypeError("encodings must be an array");r&&r.length===0?u=void 0:r&&(u=r.map(h=>{const m={active:!0};return h.active===!1&&(m.active=!1),typeof h.dtx=="boolean"&&(m.dtx=h.dtx),typeof h.scalabilityMode=="string"&&(m.scalabilityMode=h.scalabilityMode),typeof h.scaleResolutionDownBy=="number"&&(m.scaleResolutionDownBy=h.scaleResolutionDownBy),typeof h.maxBitrate=="number"&&(m.maxBitrate=h.maxBitrate),typeof h.maxFramerate=="number"&&(m.maxFramerate=h.maxFramerate),typeof h.adaptivePtime=="boolean"&&(m.adaptivePtime=h.adaptivePtime),typeof h.priority=="string"&&(m.priority=h.priority),typeof h.networkPriority=="string"&&(m.networkPriority=h.networkPriority),m}));const{localId:d,rtpParameters:f,rtpSender:p}=await this._handler.send({track:t,encodings:u,codecOptions:n,codec:s,onRtpSender:c});try{ya.validateRtpParameters(f);const{id:h}=await new Promise((g,v)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:f,appData:l},g,v)}),m=new RA.Producer({id:h,localId:d,rtpSender:p,track:t,rtpParameters:f,stopTracks:i,disableTrackOnPause:o,zeroRtpOnPause:a,appData:l});return this._producers.set(m.id,m),this.handleProducer(m),this._observer.safeEmit("newproducer",m),m}catch(h){throw this._handler.stopSending(d).catch(()=>{}),h}},"transport.produce()").catch(u=>{if(i)try{t.stop()}catch{}throw u})}async consume({id:t,producerId:r,kind:n,rtpParameters:s,streamId:i,onRtpReceiver:o,appData:a={}}){if(Ze.debug("consume()"),this._closed)throw new it.InvalidStateError("closed");if(this._direction!=="recv")throw new it.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing producerId");if(n!=="audio"&&n!=="video")throw new TypeError(`invalid kind '${n}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object");const c=_p.clone(s);if(!ya.canReceive(c,this._extendedRtpCapabilities))throw new it.UnsupportedError("cannot consume this Producer");const u=new TA({id:t,producerId:r,kind:n,rtpParameters:c,streamId:i,onRtpReceiver:o,appData:a});return this._pendingConsumerTasks.push(u),(0,wp.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),u.promise}async produceData({ordered:t=!0,maxPacketLifeTime:r,maxRetransmits:n,label:s="",protocol:i="",appData:o={}}={}){if(Ze.debug("produceData()"),this._closed)throw new it.InvalidStateError("closed");if(this._direction!=="send")throw new it.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new it.UnsupportedError("SCTP not enabled by remote Transport");return(r||n)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i});ya.validateSctpStreamParameters(c);const{id:l}=await new Promise((d,f)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:s,protocol:i,appData:o},d,f)}),u=new CA.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(u.id,u),this.handleDataProducer(u),this._observer.safeEmit("newdataproducer",u),u},"transport.produceData()")}async consumeData({id:t,dataProducerId:r,sctpStreamParameters:n,label:s="",protocol:i="",appData:o={}}){if(Ze.debug("consumeData()"),this._closed)throw new it.InvalidStateError("closed");if(this._direction!=="recv")throw new it.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new it.UnsupportedError("SCTP not enabled by remote Transport");const a=_p.clone(n);return ya.validateSctpStreamParameters(a),this._awaitQueue.push(async()=>{const{dataChannel:c}=await this._handler.receiveDataChannel({sctpStreamParameters:a,label:s,protocol:i}),l=new EA.DataConsumer({id:t,dataProducerId:r,dataChannel:c,sctpStreamParameters:a,appData:o});return this._dataConsumers.set(l.id,l),this.handleDataConsumer(l),this._observer.safeEmit("newdataconsumer",l),l},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){Ze.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let r;const n=[];for(const s of t){const{id:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l}=s.consumerOptions;n.push({trackId:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l})}try{const s=await this._handler.receive(n);for(let i=0;i<s.length;++i){const o=t[i],a=s[i],{id:c,producerId:l,kind:u,rtpParameters:d,appData:f}=o.consumerOptions,{localId:p,rtpReceiver:h,track:m}=a,g=new xA.Consumer({id:c,localId:p,producerId:l,rtpReceiver:h,track:m,rtpParameters:d,appData:f});this._consumers.set(g.id,g),this.handleConsumer(g),!this._probatorConsumerCreated&&!r&&u==="video"&&(r=g),this._observer.safeEmit("newconsumer",g),o.resolve(g)}}catch(s){for(const i of t)i.reject(s)}if(r)try{const s=ya.generateProbatorRtpParameters(r.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:s}]),Ze.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(s){Ze.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",s)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){Ze.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.pauseReceiving(r)}catch(r){Ze.error("pausePendingConsumers() | failed to pause Consumers:",r)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){Ze.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.resumeReceiving(r)}catch(r){Ze.error("resumePendingConsumers() | failed to resume Consumers:",r)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){Ze.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(r=>r.localId))}catch(r){Ze.error("closePendingConsumers() | failed to close Consumers:",r)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:r},n,s)=>{if(this._closed){s(new it.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:r},n,s)}),t.on("@icegatheringstatechange",r=>{r!==this._iceGatheringState&&(Ze.debug("ICE gathering state changed to %s",r),this._iceGatheringState=r,this._closed||this.safeEmit("icegatheringstatechange",r))}),t.on("@connectionstatechange",r=>{r!==this._connectionState&&(Ze.debug("connection state changed to %s",r),this._connectionState=r,this._closed||this.safeEmit("connectionstatechange",r))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(r=>Ze.warn("producer.close() failed:%o",r))}),t.on("@pause",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(r).catch(n)}),t.on("@resume",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(r).catch(n)}),t.on("@replacetrack",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,r),"producer @replacetrack event").then(n).catch(s)}),t.on("@setmaxspatiallayer",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,r),"producer @setmaxspatiallayer event").then(n).catch(s)}),t.on("@setrtpencodingparameters",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,r),"producer @setrtpencodingparameters event").then(n).catch(s)}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new it.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(r).catch(n)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,wp.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,wp.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new it.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(r).catch(n)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}}Lc.Transport=PA;var ef={},qe={},Ux={},Vx={exports:{}},O_=Vx.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(O_).forEach(function(e){var t=O_[e];t.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});var Hx=Vx.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},r=function(a,c,l,u){if(u&&!l)c[u]=t(a[1]);else for(var d=0;d<l.length;d+=1)a[d+1]!=null&&(c[l[d]]=t(a[d+1]))},n=function(a,c,l){var u=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:u&&!c[a.name]&&(c[a.name]={});var d=a.push?{}:u?c[a.name]:c;r(l.match(a.reg),d,a.names,a.name),a.push&&c[a.push].push(d)},s=Hx,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],u=c;return a.split(/(\r\n|\r|\n)/).filter(i).forEach(function(d){var f=d[0],p=d.slice(2);f==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var h=0;h<(s[f]||[]).length;h+=1){var m=s[f][h];if(m.reg.test(p))return n(m,u,p)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var u,d=!1;return l[0]!=="~"?u=t(l):(u=t(l.substring(1,l.length)),d=!0),{scid:u,paused:d}})})}})(Ux);var Sp=Hx,DA=/%[sdv%]/g,kA=function(e){var t=1,r=arguments,n=r.length;return e.replace(DA,function(s){if(t>=n)return s;var i=r[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},va=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,s=[e+"="+n];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?s.push(r[t.name][o]):s.push(r[t.names[i]])}else s.push(r[t.name]);return kA.apply(null,s)},OA=["v","o","s","i","u","e","p","c","b","t","r","z","a"],LA=["i","c","b","a"],MA=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(i){i.payloads==null&&(i.payloads="")});var r=t.outerOrder||OA,n=t.innerOrder||LA,s=[];return r.forEach(function(i){Sp[i].forEach(function(o){o.name in e&&e[o.name]!=null?s.push(va(i,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){s.push(va(i,o,a))})})}),e.media.forEach(function(i){s.push(va("m",Sp.m[0],i)),n.forEach(function(o){Sp[o].forEach(function(a){a.name in i&&i[a.name]!=null?s.push(va(o,a,i)):a.push in i&&i[a.push]!=null&&i[a.push].forEach(function(c){s.push(va(o,a,c))})})})}),s.join(`\r
`)+`\r
`},gi=Ux,IA=MA;qe.write=IA;qe.parse=gi.parse;qe.parseParams=gi.parseParams;qe.parseFmtpConfig=gi.parseFmtpConfig;qe.parsePayloads=gi.parsePayloads;qe.parseRemoteCandidates=gi.parseRemoteCandidates;qe.parseImageAttributes=gi.parseImageAttributes;qe.parseSimulcastStreamList=gi.parseSimulcastStreamList;var Ot={},jA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$A=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jA(t,e,r);return NA(t,e),t};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.extractRtpCapabilities=AA;Ot.extractDtlsParameters=FA;Ot.getCname=BA;Ot.applyCodecParameters=zA;const Wx=$A(qe);function AA({sdpObject:e}){const t=new Map,r=[];let n=!1,s=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(n)continue;n=!0;break}case"video":{if(s)continue;s=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=Wx.parseParams(c.config),u=t.get(c.payload);u&&(l!=null&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),u.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const u=t.get(c.payload);if(!u)continue;u.rtcpFeedback.push(l)}else for(const u of t.values())u.kind===a&&!/.+\/rtx$/i.test(u.mimeType)&&u.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};r.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:r}}function FA({sdpObject:e}){let t=e.setup,r=e.fingerprint;if(!t||!r){const i=(e.media||[]).find(o=>o.port!==0);i&&(t??(t=i.setup),r??(r=i.fingerprint))}if(t){if(!r)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let n;switch(t){case"active":{n="client";break}case"passive":{n="server";break}case"actpass":{n="auto";break}}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}}function BA({offerMediaObject:e}){const t=(e.ssrcs||[]).find(r=>r.attribute==="cname");return t?t.value:""}function zA({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const n=r.mimeType.toLowerCase();if(n!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let i=t.fmtp.find(a=>a.payload===r.payloadType);i||(i={payload:r.payloadType,config:""},t.fmtp.push(i));const o=Wx.parseParams(i.config);switch(n){case"audio/opus":{const a=r.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}i.config="";for(const a of Object.keys(o))i.config&&(i.config+=";"),i.config+=`${a}=${o[a]}`}}var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.getRtpEncodings=UA;Cn.addLegacySimulcast=VA;function UA({offerMediaObject:e}){const t=new Set;for(const s of e.ssrcs||[]){const i=s.id;t.add(i)}if(t.size===0)throw new Error("no a=ssrc lines found");const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[i,o]=s.ssrcs.split(/\s+/);i=Number(i),o=Number(o),t.has(i)&&(t.delete(i),t.delete(o),r.set(i,o))}for(const s of t)r.set(s,null);const n=[];for(const[s,i]of r){const o={ssrc:s};i&&(o.rtx={ssrc:i}),n.push(o)}return n}function VA({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const r=(e.ssrcs||[]).find(d=>d.attribute==="msid");if(!r)throw new Error("a=ssrc line with msid information not found");const[n,s]=r.value.split(" "),i=Number(r.id);let o;(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const f=d.ssrcs.split(/\s+/);return Number(f[0])===i?(o=Number(f[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],u=[];for(let d=0;d<t;++d)l.push(i+d),o&&u.push(o+d);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const d of l)e.ssrcs.push({id:d,attribute:"cname",value:c}),e.ssrcs.push({id:d,attribute:"msid",value:`${n} ${s}`});for(let d=0;d<u.length;++d){const f=l[d],p=u[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${n} ${s}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.addNackSuppportForOpus=HA;function HA(e){var t;for(const r of e.codecs??[])(r.mimeType.toLowerCase()==="audio/opus"||r.mimeType.toLowerCase()==="audio/multiopus")&&!((t=r.rtcpFeedback)!=null&&t.some(n=>n.type==="nack"&&!n.parameter))&&(r.rtcpFeedback||(r.rtcpFeedback=[]),r.rtcpFeedback.push({type:"nack"}))}var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.HandlerInterface=void 0;const WA=xn;class qA extends WA.EnhancedEventEmitter{constructor(){super()}}Lt.HandlerInterface=qA;var Xt={},Rs={},KA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qx=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KA(t,e,r);return GA(t,e),t};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.OfferMediaSection=Rs.AnswerMediaSection=Rs.MediaSection=void 0;const YA=qx(qe),L_=qx(Qe);class Ny{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:s=!1}){if(this._mediaObject={},this._planB=s,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const i of r){const o={};o.component=1,o.foundation=i.foundation,o.ip=i.address??i.ip,o.port=i.port,o.priority=i.priority,o.transport=i.protocol,o.type=i.type,i.tcpType&&(o.tcptype=i.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}Rs.MediaSection=Ny;class QA extends Ny{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:u,extmapAllowMixed:d=!1}){switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const f of l.codecs){const p={payload:f.payloadType,codec:sm(f),rate:f.clockRate};f.channels>1&&(p.encoding=f.channels),this._mediaObject.rtp.push(p);const h=L_.clone(f.parameters)??{};let m=L_.clone(f.rtcpFeedback)??[];if(u){const{opusStereo:v,opusFec:_,opusDtx:w,opusMaxPlaybackRate:b,opusMaxAverageBitrate:x,opusPtime:R,opusNack:E,videoGoogleStartBitrate:C,videoGoogleMaxBitrate:k,videoGoogleMinBitrate:L}=u,B=c.codecs.find(z=>z.payloadType===f.payloadType);switch(f.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{v!==void 0&&(B.parameters["sprop-stereo"]=v?1:0,h.stereo=v?1:0),_!==void 0&&(B.parameters.useinbandfec=_?1:0,h.useinbandfec=_?1:0),w!==void 0&&(B.parameters.usedtx=w?1:0,h.usedtx=w?1:0),b!==void 0&&(h.maxplaybackrate=b),x!==void 0&&(h.maxaveragebitrate=x),R!==void 0&&(B.parameters.ptime=R,h.ptime=R),E||(B.rtcpFeedback=B.rtcpFeedback.filter(z=>z.type!=="nack"||z.parameter),m=m.filter(z=>z.type!=="nack"||z.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{C!==void 0&&(h["x-google-start-bitrate"]=C),k!==void 0&&(h["x-google-max-bitrate"]=k),L!==void 0&&(h["x-google-min-bitrate"]=L);break}}}const g={payload:f.payloadType,config:""};for(const v of Object.keys(h))g.config&&(g.config+=";"),g.config+=`${v}=${h[v]}`;g.config&&this._mediaObject.fmtp.push(g);for(const v of m)this._mediaObject.rtcpFb.push({payload:f.payloadType,type:v.type,subtype:v.parameter})}this._mediaObject.payloads=l.codecs.map(f=>f.payloadType).join(" "),this._mediaObject.ext=[];for(const f of l.headerExtensions)(a.ext??[]).some(h=>h.uri===f.uri)&&this._mediaObject.ext.push({uri:f.uri,value:f.id});if(d&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var i,o;if(!((i=this._mediaObject.simulcast)!=null&&i.list1))return;const r={};for(const a of t)a.rid&&(r[a.rid]=a);const n=this._mediaObject.simulcast.list1,s=YA.parseSimulcastStreamList(n);for(const a of s)for(const c of a)c.paused=!((o=r[c.scid])!=null&&o.active);this._mediaObject.simulcast.list1=s.map(a=>a.map(c=>`${c.paused?"~":""}${c.scid}`).join(",")).join(";")}}Rs.AnswerMediaSection=QA;class XA extends Ny{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:u,trackId:d,oldDataChannelSpec:f=!1}){var p;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},s?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u??"-"} ${d}`);for(const v of l.codecs){const _={payload:v.payloadType,codec:sm(v),rate:v.clockRate};v.channels>1&&(_.encoding=v.channels),this._mediaObject.rtp.push(_);const w={payload:v.payloadType,config:""};for(const b of Object.keys(v.parameters))w.config&&(w.config+=";"),w.config+=`${b}=${v.parameters[b]}`;w.config&&this._mediaObject.fmtp.push(w);for(const b of v.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:v.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads=l.codecs.map(v=>v.payloadType).join(" "),this._mediaObject.ext=[];for(const v of l.headerExtensions)this._mediaObject.ext.push({uri:v.uri,value:v.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const h=l.encodings[0],m=h.ssrc,g=(p=h.rtx)==null?void 0:p.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:m,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:m,attribute:"msid",value:`${u??"-"} ${d}`}),g&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:g,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:g,attribute:"msid",value:`${u??"-"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${m} ${g}`}));break}case"application":{f?(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:r,trackId:n}){var c;const s=t.encodings[0],i=s.ssrc,o=(c=s.rtx)==null?void 0:c.ssrc,a=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(a.includes(String(l.payloadType)))continue;const u={payload:l.payloadType,codec:sm(l),rate:l.clockRate};l.channels>1&&(u.encoding=l.channels),this._mediaObject.rtp.push(u);const d={payload:l.payloadType,config:""};for(const f of Object.keys(l.parameters))d.config&&(d.config+=";"),d.config+=`${f}=${l.parameters[f]}`;d.config&&this._mediaObject.fmtp.push(d);for(const f of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(l=>!this._mediaObject.payloads.includes(l.payloadType)).map(l=>l.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){var i;const r=t.encodings[0],n=r.ssrc,s=(i=r.rtx)==null?void 0:i.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==n&&o.id!==s),s&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${n} ${s}`))}}Rs.OfferMediaSection=XA;function sm(e){const r=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");return r[2]}var JA=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZA=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e3=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JA(t,e,r);return ZA(t,e),t};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.RemoteSdp=void 0;const t3=e3(qe),r3=ze,vl=Rs,bp=new r3.Logger("RemoteSdp");class n3{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=s,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t!=null&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[a-1].algorithm,hash:n.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(t){bp.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const r of this._mediaSections)r.setIceParameters(t)}updateDtlsRole(t){bp.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const r of this._mediaSections)r.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const r=this._mediaSections[t];if(r.closed)return{idx:t,reuseMid:r.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o=!1}){const a=new vl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o});r?this._replaceMediaSection(a,r):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:n,streamId:s,trackId:i}),this._replaceMediaSection(a);else{a=new vl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const r=this._findMediaSection(t);return t===this._firstMid?(bp.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(r.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,r){const n=this._findMediaSection(t);n.muxSimulcastStreams(r),this._replaceMediaSection(n)}planBStopReceiving({mid:t,offerRtpParameters:r}){const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:t}){const r=new vl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const r=new vl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}getSdp(){return this._sdpObject.origin.sessionVersion++,t3.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,r){if(typeof r=="string"){const n=this._midToIndex.get(r);if(n===void 0)throw new Error(`no media section found for reuseMid '${r}'`);const s=this._mediaSections[n];this._mediaSections[n]=t,this._midToIndex.delete(s.mid),this._midToIndex.set(t.mid,n),this._sdpObject.media[n]=t.getObject(),this._regenerateBundleMids()}else{const n=this._midToIndex.get(t.mid);if(n===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[n]=t,this._sdpObject.media[n]=t.getObject()}}_findMediaSection(t){const r=this._midToIndex.get(t);if(r===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[r]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Xt.RemoteSdp=n3;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.parse=i3;const s3=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function i3(e){const t=s3.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}var o3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),a3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o3(t,e,r);return a3(t,e),t};Object.defineProperty(ef,"__esModule",{value:!0});ef.Chrome111=void 0;const Zn=Xo(qe),c3=ze,M_=Xo(Qe),Li=Xo(De),wl=Xo(Ot),I_=Xo(Cn),l3=Xo(Qo),u3=nt,d3=Lt,f3=Xt,p3=En,Z=new c3.Logger("Chrome111"),h3="Chrome111",j_={OS:1024,MIS:1024};class $y extends d3.HandlerInterface{static createFactory(){return()=>new $y}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return h3}close(){if(Z.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Z.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=Zn.parse(r.sdp),s=wl.extractRtpCapabilities({sdpObject:n});return l3.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Z.debug("getNativeSctpCapabilities()"),{numStreams:j_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),Z.debug("run()"),this._direction=t,this._remoteSdp=new f3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Li.getSendingRtpParameters("audio",u),video:Li.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Li.getSendingRemoteRtpParameters("audio",u),video:Li.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Z.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Z.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Z.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Z.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){if(this.assertNotClosed(),this.assertSendDirection(),Z.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let m=1;for(const g of r){const v=g.scalabilityMode?(0,p3.parse)(g.scalabilityMode).temporalLayers:3;v>m&&(m=v)}r.forEach((g,v)=>{g.rid=`r${v}`,g.scalabilityMode=`L1T${m}`})}const o=M_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Li.reduceCodecs(o.codecs,s);const a=M_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Li.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);const u=await this._pc.createOffer();let d=Zn.parse(u.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Z.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f=l.mid;o.mid=f,d=Zn.parse(this._pc.localDescription.sdp);const p=d.media[c.idx];if(o.rtcp.cname=wl.getCname({offerMediaObject:p}),!r)o.encodings=I_.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const m=I_.getRtpEncodings({offerMediaObject:p});Object.assign(m[0],r[0]),o.encodings=m}else o.encodings=r;this._remoteSdp.send({offerMediaObject:p,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return Z.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(f,l),{localId:f,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),Z.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Z.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Z.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Z.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Z.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Z.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Z.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Zn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Z.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Z.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=Zn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);wl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:Zn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Z.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Z.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Z.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=Zn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=Zn.parse(this._pc.localDescription.sdp));const n=wl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new u3.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}ef.Chrome111=$y;var tf={},m3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m3(t,e,r);return g3(t,e),t};Object.defineProperty(tf,"__esModule",{value:!0});tf.Chrome74=void 0;const tn=Jo(qe),y3=ze,N_=Jo(Qe),Mi=Jo(De),_l=Jo(Ot),Rp=Jo(Cn),v3=Jo(Qo),w3=nt,_3=Lt,S3=Xt,b3=En,Q=new y3.Logger("Chrome74"),R3="Chrome74",$_={OS:1024,MIS:1024};class Ay extends _3.HandlerInterface{static createFactory(){return()=>new Ay}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R3}close(){if(Q.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Q.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=tn.parse(r.sdp),s=_l.extractRtpCapabilities({sdpObject:n});return v3.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Q.debug("getNativeSctpCapabilities()"),{numStreams:$_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Q.debug("run()"),this._direction=t,this._remoteSdp=new S3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Mi.getSendingRtpParameters("audio",u),video:Mi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Mi.getSendingRemoteRtpParameters("audio",u),video:Mi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Q.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Q.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Q.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Q.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),Q.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const i=N_.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Mi.reduceCodecs(i.codecs,s);const o=N_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Mi.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let l=await this._pc.createOffer(),u=tn.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let f=!1;const p=(0,b3.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Q.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,u=tn.parse(l.sdp),d=u.media[a.idx],Rp.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),l={type:"offer",sdp:tn.write(u)}),Q.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const h=c.mid;if(i.mid=h,u=tn.parse(this._pc.localDescription.sdp),d=u.media[a.idx],i.rtcp.cname=_l.getCname({offerMediaObject:d}),!r)i.encodings=Rp.getRtpEncodings({offerMediaObject:d});else if(r.length===1){let g=Rp.getRtpEncodings({offerMediaObject:d});Object.assign(g[0],r[0]),f&&(g=[g[0]]),i.encodings=g}else i.encodings=r;if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of i.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${p.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return Q.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),Q.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Q.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Q.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Q.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Q.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Q.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Q.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%$_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=tn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Q.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Q.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=tn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);_l.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:tn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Q.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Q.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Q.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=tn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=tn.parse(this._pc.localDescription.sdp));const n=_l.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new w3.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}tf.Chrome74=Ay;var rf={},x3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),C3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$c=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&x3(t,e,r);return C3(t,e),t};Object.defineProperty(rf,"__esModule",{value:!0});rf.Chrome70=void 0;const mr=$c(qe),E3=ze,A_=$c(Qe),Ii=$c(De),Sl=$c(Ot),xp=$c(Cn),T3=Lt,P3=Xt,D3=En,oe=new E3.Logger("Chrome70"),k3="Chrome70",F_={OS:1024,MIS:1024};class Fy extends T3.HandlerInterface{static createFactory(){return()=>new Fy}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return k3}close(){if(oe.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){oe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=mr.parse(r.sdp);return Sl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return oe.debug("getNativeSctpCapabilities()"),{numStreams:F_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){oe.debug("run()"),this._direction=t,this._remoteSdp=new P3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ii.getSendingRtpParameters("audio",u),video:Ii.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ii.getSendingRemoteRtpParameters("audio",u),video:Ii.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(oe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){oe.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(oe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});oe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();oe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),oe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const i=A_.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Ii.reduceCodecs(i.codecs,s);const o=A_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Ii.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),u=mr.parse(l.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),r&&r.length>1&&(oe.debug("send() | enabling legacy simulcast"),u=mr.parse(l.sdp),d=u.media[a.idx],xp.addLegacySimulcast({offerMediaObject:d,numStreams:r.length}),l={type:"offer",sdp:mr.write(u)});let f=!1;const p=(0,D3.parse)((r??[{}])[0].scalabilityMode);if(r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(oe.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,u=mr.parse(l.sdp),d=u.media[a.idx],xp.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),l={type:"offer",sdp:mr.write(u)}),oe.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),r){oe.debug("send() | applying given encodings");const g=c.sender.getParameters();for(let v=0;v<(g.encodings??[]).length;++v){const _=g.encodings[v],w=r[v];if(!w)break;g.encodings[v]=Object.assign(_,w)}await c.sender.setParameters(g)}const h=c.mid;if(i.mid=h,u=mr.parse(this._pc.localDescription.sdp),d=u.media[a.idx],i.rtcp.cname=Sl.getCname({offerMediaObject:d}),i.encodings=xp.getRtpEncodings({offerMediaObject:d}),r)for(let g=0;g<i.encodings.length;++g)r[g]&&Object.assign(i.encodings[g],r[g]);if(f&&(i.encodings=[i.encodings[0]]),i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of i.encodings)g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return oe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,c),{localId:h,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),oe.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();oe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?oe.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):oe.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),oe.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();oe.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),oe.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();oe.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};oe.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%F_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=mr.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),oe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};oe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;oe.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=mr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);Sl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:mr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),oe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){oe.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();oe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};oe.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=mr.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}oe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=mr.parse(this._pc.localDescription.sdp));const n=Sl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}rf.Chrome70=Fy;var nf={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.getRtpEncodings=O3;yi.addLegacySimulcast=L3;function O3({offerMediaObject:e,track:t}){const r=new Set;for(const i of e.ssrcs||[]){if(i.attribute!=="msid")continue;if(i.value.split(" ")[1]===t.id){const a=i.id;r.add(a)}}if(r.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,a]=i.ssrcs.split(/\s+/);o=Number(o),a=Number(a),r.has(o)&&(r.delete(o),r.delete(a),n.set(o,a))}for(const i of r)n.set(i,null);const s=[];for(const[i,o]of n){const a={ssrc:i};o&&(a.rtx={ssrc:o}),s.push(a)}return s}function L3({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError("numStreams must be greater than 1");let n,s,i;if(!(e.ssrcs||[]).find(d=>d.attribute!=="msid"?!1:d.value.split(" ")[1]===t.id?(n=d.id,i=d.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(d=>{if(d.semantics!=="FID")return!1;const f=d.ssrcs.split(/\s+/);return Number(f[0])===n?(s=Number(f[1]),!0):!1});const a=e.ssrcs.find(d=>d.attribute==="cname"&&d.id===n);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],u=[];for(let d=0;d<r;++d)l.push(n+d),s&&u.push(s+d);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const d of l)e.ssrcs.push({id:d,attribute:"cname",value:c}),e.ssrcs.push({id:d,attribute:"msid",value:`${i} ${t.id}`});for(let d=0;d<u.length;++d){const f=l[d],p=u[d];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${i} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var M3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ac=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M3(t,e,r);return I3(t,e),t};Object.defineProperty(nf,"__esModule",{value:!0});nf.Chrome67=void 0;const rn=Ac(qe),j3=ze,B_=Ac(Qe),ji=Ac(De),bl=Ac(Ot),z_=Ac(yi),N3=Lt,$3=Xt,de=new j3.Logger("Chrome67"),A3="Chrome67",U_={OS:1024,MIS:1024};class By extends N3.HandlerInterface{static createFactory(){return()=>new By}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return A3}close(){if(de.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){de.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=rn.parse(r.sdp);return bl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return de.debug("getNativeSctpCapabilities()"),{numStreams:U_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){de.debug("run()"),this._direction=t,this._remoteSdp=new $3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:ji.getSendingRtpParameters("audio",u),video:ji.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ji.getSendingRemoteRtpParameters("audio",u),video:ji.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(de.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){de.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(de.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});de.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();de.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),de.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&de.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=rn.parse(i.sdp),a;const c=B_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=ji.reduceCodecs(c.codecs);const l=B_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=ji.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(de.debug("send() | enabling simulcast"),o=rn.parse(i.sdp),a=o.media.find(p=>p.type==="video"),z_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:rn.write(o)}),de.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=rn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=bl.getCname({offerMediaObject:a}),c.encodings=z_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(d,f),{localId:d,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection(),de.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();de.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){de.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?de.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):de.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),de.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),de.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};de.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%U_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=rn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),de.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};de.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;de.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=rn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);bl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:rn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),de.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=c,d=a,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===u);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l,rtpReceiver:f}),r.push({localId:u,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){de.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();de.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};de.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};de.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=rn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}de.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=rn.parse(this._pc.localDescription.sdp));const n=bl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}nf.Chrome67=By;var sf={},F3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F3(t,e,r);return B3(t,e),t};Object.defineProperty(sf,"__esModule",{value:!0});sf.Chrome55=void 0;const nn=Fc(qe),z3=ze,wa=nt,V_=Fc(Qe),Ni=Fc(De),Rl=Fc(Ot),H_=Fc(yi),U3=Lt,V3=Xt,we=new z3.Logger("Chrome55"),H3="Chrome55",W_={OS:1024,MIS:1024};class zy extends U3.HandlerInterface{static createFactory(){return()=>new zy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return H3}close(){if(we.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){we.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=nn.parse(r.sdp);return Rl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return we.debug("getNativeSctpCapabilities()"),{numStreams:W_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){we.debug("run()"),this._direction=t,this._remoteSdp=new V3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ni.getSendingRtpParameters("audio",u),video:Ni.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ni.getSendingRemoteRtpParameters("audio",u),video:Ni.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(we.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){we.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(we.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});we.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};we.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};we.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();we.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),we.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&we.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=nn.parse(i.sdp),a;const c=V_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ni.reduceCodecs(c.codecs);const l=V_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ni.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(we.debug("send() | enabling simulcast"),o=nn.parse(i.sdp),a=o.media.find(f=>f.type==="video"),H_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:nn.write(o)}),we.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=nn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=Rl.getCname({offerMediaObject:a}),c.encodings=H_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};we.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),we.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();we.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){we.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};we.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new wa.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new wa.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,r){throw new wa.UnsupportedError("not supported")}async getSenderStats(t){throw new wa.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};we.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%W_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=nn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),we.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};we.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;we.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};we.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=nn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);Rl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:nn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),we.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,f=o.streamId??l.rtcp.cname,h=this._pc.getRemoteStreams().find(m=>m.id===f).getTrackById(d);if(!h)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l}),r.push({localId:d,track:h})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){we.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};we.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();we.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new wa.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};we.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};we.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=nn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}we.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=nn.parse(this._pc.localDescription.sdp));const n=Rl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}sf.Chrome55=zy;var of={},W3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&W3(t,e,r);return q3(t,e),t};Object.defineProperty(of,"__esModule",{value:!0});of.Firefox120=void 0;const es=Bc(qe),K3=ze,q_=nt,K_=Bc(Qe),$i=Bc(De),xl=Bc(Ot),G_=Bc(Cn),G3=Lt,Y3=Xt,Q3=En,ee=new K3.Logger("Firefox120"),X3="Firefox120",Y_={OS:16,MIS:2048};class Uy extends G3.HandlerInterface{static createFactory(){return()=>new Uy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return X3}close(){if(ee.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ee.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"}),t.addTransceiver(s,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const i=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const o=es.parse(i.sdp);return xl.extractRtpCapabilities({sdpObject:o})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return ee.debug("getNativeSctpCapabilities()"),{numStreams:Y_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),ee.debug("run()"),this._direction=t,this._remoteSdp=new Y3.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:$i.getSendingRtpParameters("audio",u),video:$i.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:$i.getSendingRemoteRtpParameters("audio",u),video:$i.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ee.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new q_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),ee.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ee.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),ee.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((m,g)=>{m.rid=`r${g}`});const o=K_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=$i.reduceCodecs(o.codecs,s);const a=K_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=$i.reduceCodecs(a.codecs,s);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(c.sender);const l=await this._pc.createOffer();let u=es.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u});const d=(0,Q3.parse)((r??[{}])[0].scalabilityMode);ee.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;o.mid=f,u=es.parse(this._pc.localDescription.sdp);const p=u.media[u.media.length-1];if(o.rtcp.cname=xl.getCname({offerMediaObject:p}),!r)o.encodings=G_.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const m=G_.getRtpEncodings({offerMediaObject:p});Object.assign(m[0],r[0]),o.encodings=m}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of o.encodings)m.scalabilityMode?m.scalabilityMode=`L1T${d.temporalLayers}`:m.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const h={type:"answer",sdp:this._remoteSdp.getSdp()};return ee.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ee.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();ee.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();ee.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();ee.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?ee.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ee.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ee.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%Y_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=es.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),ee.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;ee.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=es.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);xl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d}),i={type:"answer",sdp:es.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),ee.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){ee.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ee.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=es.parse(d.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=es.parse(this._pc.localDescription.sdp));const n=xl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new q_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}of.Firefox120=Uy;var af={},J3=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z3=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J3(t,e,r);return Z3(t,e),t};Object.defineProperty(af,"__esModule",{value:!0});af.Firefox60=void 0;const ts=zc(qe),e4=ze,Q_=nt,Cp=zc(Qe),Ai=zc(De),Cl=zc(Ot),X_=zc(Cn),t4=Lt,r4=Xt,n4=En,te=new e4.Logger("Firefox60"),s4="Firefox60",J_={OS:16,MIS:2048};class Vy extends t4.HandlerInterface{static createFactory(){return()=>new Vy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return s4}close(){if(te.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){te.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const i=t.addTransceiver(s,{direction:"sendrecv"}),o=i.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await i.sender.setParameters(o);const c=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const l=ts.parse(c.sdp);return Cl.extractRtpCapabilities({sdpObject:l})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return te.debug("getNativeSctpCapabilities()"),{numStreams:J_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),te.debug("run()"),this._direction=t,this._remoteSdp=new r4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ai.getSendingRtpParameters("audio",u),video:Ai.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ai.getSendingRemoteRtpParameters("audio",u),video:Ai.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(te.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new Q_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),te.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});te.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),te.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=Cp.clone(r),r.forEach((h,m)=>{h.rid=`r${m}`}),r.reverse());const i=Cp.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Ai.reduceCodecs(i.codecs,s);const o=Cp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Ai.reduceCodecs(o.codecs,s);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const h=a.sender.getParameters();h.encodings=r,await a.sender.setParameters(h)}const c=await this._pc.createOffer();let l=ts.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const u=(0,n4.parse)((r??[{}])[0].scalabilityMode);te.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const d=a.mid;i.mid=d,l=ts.parse(this._pc.localDescription.sdp);const f=l.media[l.media.length-1];if(i.rtcp.cname=Cl.getCname({offerMediaObject:f}),!r)i.encodings=X_.getRtpEncodings({offerMediaObject:f});else if(r.length===1){const h=X_.getRtpEncodings({offerMediaObject:f});Object.assign(h[0],r[0]),i.encodings=h}else i.encodings=r.reverse();if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of i.encodings)h.scalabilityMode?h.scalabilityMode=`L1T${u.temporalLayers}`:h.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const p={type:"answer",sdp:this._remoteSdp.getSdp()};return te.debug("send() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._mapMidTransceiver.set(d,a),{localId:d,rtpParameters:i,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),te.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();te.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();te.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();te.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?te.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):te.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();r=s.encodings.length-1-r,s.encodings.forEach((a,c)=>{c>=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};te.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%J_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=ts.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),te.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;te.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=ts.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);Cl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d}),i={type:"answer",sdp:ts.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),te.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){te.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};te.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=ts.parse(d.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ts.parse(this._pc.localDescription.sdp));const n=Cl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new Q_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}af.Firefox60=Vy;var cf={},i4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zo=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&i4(t,e,r);return o4(t,e),t};Object.defineProperty(cf,"__esModule",{value:!0});cf.Safari12=void 0;const sn=Zo(qe),a4=ze,Z_=Zo(Qe),Fi=Zo(De),El=Zo(Ot),eS=Zo(Cn),c4=Zo(Qo),l4=nt,u4=Lt,d4=Xt,f4=En,X=new a4.Logger("Safari12"),p4="Safari12",tS={OS:1024,MIS:1024};class Hy extends u4.HandlerInterface{static createFactory(){return()=>new Hy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return p4}close(){if(X.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){X.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=sn.parse(r.sdp),s=El.extractRtpCapabilities({sdpObject:n});return c4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return X.debug("getNativeSctpCapabilities()"),{numStreams:tS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),X.debug("run()"),this._direction=t,this._remoteSdp=new d4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Fi.getSendingRtpParameters("audio",u),video:Fi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Fi.getSendingRemoteRtpParameters("audio",u),video:Fi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(X.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),X.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),X.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});X.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),X.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=Z_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Fi.reduceCodecs(o.codecs,s);const a=Z_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Fi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});i&&i(l.sender);let u=await this._pc.createOffer(),d=sn.parse(u.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});const p=(0,f4.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(X.debug("send() | enabling legacy simulcast"),d=sn.parse(u.sdp),f=d.media[c.idx],eS.addLegacySimulcast({offerMediaObject:f,numStreams:r.length}),u={type:"offer",sdp:sn.write(d)}),X.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const h=l.mid;if(o.mid=h,d=sn.parse(this._pc.localDescription.sdp),f=d.media[c.idx],o.rtcp.cname=El.getCname({offerMediaObject:f}),o.encodings=eS.getRtpEncodings({offerMediaObject:f}),r)for(let g=0;g<o.encodings.length;++g)r[g]&&Object.assign(o.encodings[g],r[g]);if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of o.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${p.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return X.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(h,l),{localId:h,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;X.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();X.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();X.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();X.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?X.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):X.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};X.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%tS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=sn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),X.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;X.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=sn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);El.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:sn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),X.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){X.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};X.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=sn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=sn.parse(this._pc.localDescription.sdp));const n=El.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new l4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}cf.Safari12=Hy;var lf={},h4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),m4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&h4(t,e,r);return m4(t,e),t};Object.defineProperty(lf,"__esModule",{value:!0});lf.Safari11=void 0;const on=Uc(qe),g4=ze,rS=Uc(Qe),Bi=Uc(De),Tl=Uc(Ot),nS=Uc(yi),y4=Lt,v4=Xt,pe=new g4.Logger("Safari11"),w4="Safari11",sS={OS:1024,MIS:1024};class Wy extends y4.HandlerInterface{static createFactory(){return()=>new Wy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w4}close(){if(pe.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){pe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=on.parse(r.sdp);return Tl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return pe.debug("getNativeSctpCapabilities()"),{numStreams:sS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){pe.debug("run()"),this._direction=t,this._remoteSdp=new v4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Bi.getSendingRtpParameters("audio",u),video:Bi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Bi.getSendingRemoteRtpParameters("audio",u),video:Bi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(pe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){pe.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(pe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});pe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};pe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};pe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();pe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),pe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&pe.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=on.parse(i.sdp),a;const c=rS.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Bi.reduceCodecs(c.codecs);const l=rS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Bi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(pe.debug("send() | enabling simulcast"),o=on.parse(i.sdp),a=o.media.find(p=>p.type==="video"),nS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:on.write(o)}),pe.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=on.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=Tl.getCname({offerMediaObject:a}),c.encodings=nS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};pe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(d,f),{localId:d,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();pe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){pe.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};pe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?pe.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):pe.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),pe.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),pe.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};pe.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%sS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=on.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),pe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};pe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:u}=o;pe.debug("receive() [trackId:%s, kind:%s]",a,c);const d=c;this._remoteSdp.receive({mid:d,kind:c,offerRtpParameters:l,streamId:u??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};pe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=on.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,u=i.media.find(d=>String(d.mid)===l);Tl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:u})}s={type:"answer",sdp:on.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),pe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,u=a,d=c,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===d);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l,rtpReceiver:f}),r.push({localId:d,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){pe.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};pe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();pe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};pe.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};pe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=on.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}pe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=on.parse(this._pc.localDescription.sdp));const n=Tl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}lf.Safari11=Wy;var uf={},df={},_4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b4=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_4(t,e,r);return S4(t,e),t};Object.defineProperty(df,"__esModule",{value:!0});df.getCapabilities=R4;df.mangleRtpParameters=x4;const Kx=b4(Qe);function R4(){const e=RTCRtpReceiver.getCapabilities(),t=Kx.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const n=r.parameters;n.apt&&(n.apt=Number(n.apt)),n["packetization-mode"]&&(n["packetization-mode"]=Number(n["packetization-mode"]))}for(const n of r.rtcpFeedback??[])n.parameter||(n.parameter="")}return t}function x4(e){const t=Kx.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t}var C4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qy=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&C4(t,e,r);return E4(t,e),t};Object.defineProperty(uf,"__esModule",{value:!0});uf.Edge11=void 0;const T4=ze,Ep=nt,Pl=qy(Qe),Tp=qy(De),Pp=qy(df),P4=Lt,Se=new T4.Logger("Edge11"),D4="Edge11";class Ky extends P4.HandlerInterface{static createFactory(){return()=>new Ky}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return D4}close(){Se.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return Se.debug("getNativeRtpCapabilities()"),Pp.getCapabilities()}async getNativeSctpCapabilities(){return Se.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Se.debug("run()"),this._sendingRtpParametersByKind={audio:Tp.getSendingRtpParameters("audio",u),video:Tp.getSendingRtpParameters("video",u)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=s,this._cname=`CNAME-${Pl.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new Ep.UnsupportedError("not supported")}async restartIce(t){if(Se.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){Se.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){Se.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),Se.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(t,this._dtlsTransport),o=Pl.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Tp.reduceCodecs(o.codecs,s);const a=o.codecs.some(u=>/.+\/rtx$/i.test(u.mimeType));r||(r=[{}]);for(const u of r)u.ssrc=Pl.generateRandomNumber(),a&&(u.rtx={ssrc:Pl.generateRandomNumber()});o.encodings=r,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=Pp.mangleRtpParameters(o);Se.debug("send() | calling rtpSender.send() [params:%o]",c),await i.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,i),{localId:l,rtpParameters:o,rtpSender:i}}async stopSending(t){Se.debug("stopSending() [localId:%s]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{Se.debug("stopSending() | calling rtpSender.stop()"),r.stop()}catch(n){throw Se.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){r?Se.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Se.debug("replaceTrack() [localId:%s, no track]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(r)}async setMaxSpatialLayer(t,r){Se.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){Se.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");return r.getStats()}async sendDataChannel(t){throw new Ep.UnsupportedError("not implemented")}async receive(t){const r=[];for(const n of t){const{trackId:s,kind:i}=n;Se.debug("receive() [trackId:%s, kind:%s]",s,i)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const n of t){const{trackId:s,kind:i,rtpParameters:o}=n;Se.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,i);a.addEventListener("error",u=>{Se.error('rtpReceiver "error" event [event:%o]',u)});const c=Pp.mangleRtpParameters(o);Se.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=s;this._rtpReceivers.set(l,a),r.push({localId:l,track:a.track,rtpReceiver:a})}return r}async stopReceiving(t){for(const r of t){Se.debug("stopReceiving() [localId:%s]",r);const n=this._rtpReceivers.get(r);if(!n)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{Se.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(s){Se.warn("stopReceiving() | rtpReceiver.stop() failed:%o",s)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const r=this._rtpReceivers.get(t);if(!r)throw new Error("RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel(t){throw new Ep.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:r}){const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",s=>{Se.error('iceGatherer "error" event [event:%o]',s)});try{n.gather()}catch(s){Se.debug("setIceGatherer() | iceGatherer.gather() failed: %s",s.toString())}this._iceGatherer=n}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("candidatepairchange",r=>{Se.debug('iceTransport "candidatepairchange" event [pair:%o]',r.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{Se.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{Se.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",r=>{Se.error('dtlsTransport "error" event [event:%o]',r)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){Se.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise((n,s)=>{this.safeEmit("@connect",{dtlsParameters:r},n,s)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(n=>n.algorithm==="sha-256"||n.algorithm==="sha-384"||n.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}uf.Edge11=Ky;var ff={},k4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ea=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k4(t,e,r);return O4(t,e),t};Object.defineProperty(ff,"__esModule",{value:!0});ff.ReactNativeUnifiedPlan=void 0;const an=ea(qe),L4=ze,iS=ea(Qe),zi=ea(De),Dl=ea(Ot),Dp=ea(Cn),M4=ea(Qo),I4=nt,j4=Lt,N4=Xt,$4=En,Y=new L4.Logger("ReactNativeUnifiedPlan"),A4="ReactNativeUnifiedPlan",oS={OS:1024,MIS:1024};class Gy extends j4.HandlerInterface{static createFactory(){return()=>new Gy}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return A4}close(){if(Y.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Y.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=an.parse(r.sdp),s=Dl.extractRtpCapabilities({sdpObject:n});return M4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Y.debug("getNativeSctpCapabilities()"),{numStreams:oS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){this.assertNotClosed(),Y.debug("run()"),this._direction=t,this._remoteSdp=new N4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:zi.getSendingRtpParameters("audio",u),video:zi.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:zi.getSendingRemoteRtpParameters("audio",u),video:zi.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Y.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Y.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Y.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((v,_)=>{v.rid=`r${_}`});const o=iS.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=zi.reduceCodecs(o.codecs,s);const a=iS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=zi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);let u=await this._pc.createOffer(),d=an.parse(u.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let p=!1;const h=(0,$4.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&h.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Y.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,d=an.parse(u.sdp),f=d.media[c.idx],Dp.addLegacySimulcast({offerMediaObject:f,numStreams:h.spatialLayers}),u={type:"offer",sdp:an.write(d)}),Y.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);let m=l.mid??void 0;if(m||Y.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),o.mid=m,d=an.parse(this._pc.localDescription.sdp),f=d.media[c.idx],o.rtcp.cname=Dl.getCname({offerMediaObject:f}),!r)o.encodings=Dp.getRtpEncodings({offerMediaObject:f});else if(r.length===1){let v=Dp.getRtpEncodings({offerMediaObject:f});Object.assign(v[0],r[0]),p&&(v=[v[0]]),o.encodings=v}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of o.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${h.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return Y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),m||(m=l.mid,o.mid=m),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Y.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Y.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Y.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Y.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Y.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Y.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%oS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=an.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u,streamId:d}=a;Y.debug("receive() [trackId:%s, kind:%s]",c,l);const f=u.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:u,streamId:d??u.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const u=n.get(c),d=this._pc.getTransceivers().find(f=>f.mid===u);if(!d)throw new Error("transceiver not found");l(d.receiver)}}let i=await this._pc.createAnswer();const o=an.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,u=n.get(c),d=o.media.find(f=>String(f.mid)===u);Dl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:an.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(d=>d.mid===l);if(u)this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Y.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Y.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=an.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=an.parse(this._pc.localDescription.sdp));const n=Dl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new I4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}ff.ReactNativeUnifiedPlan=Gy;var pf={},F4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vc=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F4(t,e,r);return B4(t,e),t};Object.defineProperty(pf,"__esModule",{value:!0});pf.ReactNative=void 0;const cn=Vc(qe),z4=ze,_a=nt,kp=Vc(Qe),Ui=Vc(De),kl=Vc(Ot),aS=Vc(yi),U4=Lt,V4=Xt,ye=new z4.Logger("ReactNative"),H4="ReactNative",cS={OS:1024,MIS:1024};class Yy extends U4.HandlerInterface{static createFactory(){return()=>new Yy}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return H4}close(){if(ye.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ye.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=cn.parse(r.sdp);return kl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ye.debug("getNativeSctpCapabilities()"),{numStreams:cS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ye.debug("run()"),this._direction=t,this._remoteSdp=new V4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ui.getSendingRtpParameters("audio",u),video:Ui.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:Ui.getSendingRemoteRtpParameters("audio",u),video:Ui.getSendingRemoteRtpParameters("video",u)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ye.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ye.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ye.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ye.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ye.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ye.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=cn.parse(i.sdp),a;const c=kp.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ui.reduceCodecs(c.codecs);const l=kp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ui.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ye.debug("send() | enabling simulcast"),o=cn.parse(i.sdp),a=o.media.find(f=>f.type==="video"),aS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:cn.write(o)}),ye.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=cn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=kl.getCname({offerMediaObject:a}),c.encodings=aS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const u={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("send() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,t),{localId:d,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ye.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();ye.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ye.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new _a.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new _a.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,r){throw new _a.UnsupportedError("not implemented")}async getSenderStats(t){throw new _a.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ye.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%cS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=cn.parse(l.sdp),d=u.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),ye.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:u}=a;ye.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;let f=a.streamId??u.rtcp.cname;ye.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),f+=`-hack-${kp.generateRandomNumber()}`,n.set(c,f),this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=cn.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,u=c,d=o.media.find(f=>String(f.mid)===u);kl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:d})}i={type:"answer",sdp:cn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ye.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:l,rtpParameters:u}=a,d=l,f=c,p=n.get(l),m=this._pc.getRemoteStreams().find(g=>g.id===p).getTrackById(d);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:f,rtpParameters:u}),r.push({localId:d,track:m})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ye.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new _a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ye.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const u={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const d=await this._pc.createAnswer();if(!this._transportReady){const f=cn.parse(d.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=cn.parse(this._pc.localDescription.sdp));const n=kl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}pf.ReactNative=Yy;var W4=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q4=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gx=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&W4(t,e,r);return q4(t,e),t};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.Device=void 0;Yo.detectDevice=Yx;const K4=i$,G4=ze,Y4=xn,Vi=nt,lS=Gx(Qe),rs=Gx(De),Q4=Lc,X4=ef,J4=tf,Z4=rf,eF=nf,tF=sf,rF=of,nF=af,sF=cf,iF=lf,oF=uf,aF=ff,cF=pf,dt=new G4.Logger("Device");function Yx(e){var t,r,n,s;if(!e&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(dt.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){dt.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(dt.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(dt.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(e||typeof navigator=="object"&&typeof navigator.userAgent=="string"){e??(e=navigator.userAgent);const i=new K4.UAParser(e);dt.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",e,i.getResult());const o=i.getBrowser(),a=(t=o.name)==null?void 0:t.toLowerCase(),c=parseInt(o.major??"0"),u=(r=i.getEngine().name)==null?void 0:r.toLowerCase(),d=i.getOS(),f=(n=d.name)==null?void 0:n.toLowerCase(),p=parseFloat(d.version??"0"),m=(s=i.getDevice().model)==null?void 0:s.toLowerCase(),g=f==="ios"||m==="ipad",v=a&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(a),_=a&&["firefox","mobile firefox","mobile focus"].includes(a),w=a&&["safari","mobile safari"].includes(a),b=a&&["edge"].includes(a);if((v||b)&&!g&&c>=111)return"Chrome111";if(v&&!g&&c>=74||b&&!g&&c>=88)return"Chrome74";if(v&&!g&&c>=70)return"Chrome70";if(v&&!g&&c>=67)return"Chrome67";if(v&&!g&&c>=55)return"Chrome55";if(_&&!g&&c>=120)return"Firefox120";if(_&&!g&&c>=60)return"Firefox60";if(_&&g&&p>=14.3)return"Safari12";if(w&&c>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(w&&c>=11)return"Safari11";if(b&&!g&&c>=11&&c<=18)return"Edge11";if(u==="webkit"&&g&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(u==="blink"){const x=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(x){const R=Number(x[1]);return R>=111?"Chrome111":R>=74?"Chrome74":R>=70?"Chrome70":R>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{dt.warn("detectDevice() | browser not supported [name:%s, version:%s]",a,c);return}}else{dt.warn("detectDevice() | unknown device");return}}class lF{constructor({handlerName:t,handlerFactory:r}={}){if(this._loaded=!1,this._observer=new Y4.EnhancedEventEmitter,dt.debug("constructor()"),t&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(t)dt.debug("constructor() | handler given: %s",t);else if(t=Yx(),t)dt.debug("constructor() | detected handler: %s",t);else throw new Vi.UnsupportedError("device not supported");switch(t){case"Chrome111":{this._handlerFactory=X4.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=J4.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=Z4.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=eF.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=tF.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=rF.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=nF.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=sF.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=iF.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=oF.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=aF.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=cF.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${t}"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new Vi.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new Vi.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){dt.debug("load() [routerRtpCapabilities:%o]",t);let r;try{if(this._loaded)throw new Vi.InvalidStateError("already loaded");const n=lS.clone(t);rs.validateRtpCapabilities(n),r=this._handlerFactory();const s=await r.getNativeRtpCapabilities();dt.debug("load() | got native RTP capabilities:%o",s);const i=lS.clone(s);rs.validateRtpCapabilities(i),this._extendedRtpCapabilities=rs.getExtendedRtpCapabilities(i,n),dt.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=rs.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=rs.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=rs.getRecvRtpCapabilities(this._extendedRtpCapabilities),rs.validateRtpCapabilities(this._recvRtpCapabilities),dt.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await r.getNativeSctpCapabilities(),dt.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),rs.validateSctpCapabilities(this._sctpCapabilities),dt.debug("load() succeeded"),this._loaded=!0,r.close()}catch(n){throw r&&r.close(),n}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new Vi.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return dt.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createRecvTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return dt.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createTransport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d}){if(this._loaded){if(typeof r!="string")throw new TypeError("missing id");if(typeof n!="object")throw new TypeError("missing iceParameters");if(Array.isArray(s)){if(typeof i!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(d&&typeof d!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new Vi.InvalidStateError("not loaded");const f=new Q4.Transport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:d,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}Yo.Device=lF;var Qx={},Xx={};Object.defineProperty(Xx,"__esModule",{value:!0});var Jx={};Object.defineProperty(Jx,"__esModule",{value:!0});(function(e){var t=P&&P.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=P&&P.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Yo,e),r(Lc,e),r(Mc,e),r(Ic,e),r(jc,e),r(Nc,e),r(Xx,e),r(Jx,e),r(Lt,e),r(nt,e)})(Qx);(function(e){var t=P&&P.__createBinding||(Object.create?function(l,u,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(l,f,p)}:function(l,u,d,f){f===void 0&&(f=d),l[f]=u[d]}),r=P&&P.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),n=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(u,l,d);return r(u,l),u},s=P&&P.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const i=s(Kd);e.debug=i.default;const o=Yo;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=n(Qx);e.types=a,e.version="3.7.17";var c=En;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(Ex);const uF=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],dF=async(e,t)=>new Promise((r,n)=>{be.emit("joinRoom",{roomName:e,userName:t},s=>{s.error?n(s.error):r(s.rtpCapabilities)})}),fF=async e=>{const t=new Ex.Device;return await t.load({routerRtpCapabilities:e}),t},pF=async(e,t,r,n)=>new Promise((s,i)=>{be.emit("createWebRtcTransport",{consumer:!1},async({params:o})=>{if(o.error){i(o.error);return}const a=e.createSendTransport(o);a.on("connect",({dtlsParameters:l},u)=>{be.emit("transport-connect",{dtlsParameters:l}),u()}),a.on("produce",(l,u)=>{be.emit("transport-produce",{kind:l.kind,rtpParameters:l.rtpParameters},({id:d})=>{u({id:d}),hF(be,e,n)})});const c=await a.produce({track:t});r(c),s(a),c.on("trackended",()=>{r(null)})})}),hF=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(s=>Zx(s,t,r))})},Zx=async(e,t,r)=>{be.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const s=t.createRecvTransport(n);s.on("connect",({dtlsParameters:i},o)=>{be.emit("transport-recv-connect",{dtlsParameters:i,serverConsumerTransportId:n.id}),o()}),mF(s,e,n.id,t,r)})},mF=async(e,t,r,n,s)=>{be.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:i})=>{const o=await e.consume(i);s(o),be.emit("consumer-resume",{serverConsumerId:i.serverConsumerId})})},eC=S.createContext(null),gF=e=>{const[t,r]=S.useState(!1),[n,s]=S.useState(!1),[i,o]=S.useState(!1),[a,c]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState(null),[p,h]=S.useState(null),[m,g]=S.useState(null),[v,_]=S.useState(null),[w,b]=S.useState(null),x=E=>{c(C=>[...C,E])},R=()=>{p&&(n?p.resume():p.pause(),s(!n))};return S.useEffect(()=>{if(be)return be.on("producerClosed",({producerId:E})=>{c(C=>C.filter(k=>k.producerId!==E))}),be.on("producer-closed",({remoteProducerId:E})=>{c(C=>C.filter(k=>k.producerId!==E))}),be.on("new-producer",({producerId:E})=>{d&&Zx(E,d,x)}),be.on("updateUsersList",({usersList:E})=>{u(E)}),()=>{be.off("producerClosed"),be.off("producer-closed"),be.off("new-producer"),be.off("updateUsersList")}},[d]),y.jsx(eC.Provider,{value:{isConnected:t,isMuted:n,isStreaming:i,setIsConnected:r,setIsMuted:s,setIsStreaming:o,audioProducer:p,setAudioProducer:h,videoProducer:m,setVideoProducer:g,device:d,setDevice:f,producerTransport:v,setProducerTransport:_,consumers:a,users:l,addConsumer:x,setConsumers:c,toggleMute:R,selectedUserId:w,setSelectedUserId:b},children:e.children})};function yF(){return y.jsx(y.Fragment,{children:y.jsxs(Uo,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[y.jsx(by,{order:3,children:"Добро пожаловать в Hitscord!"}),y.jsx(bt,{gap:"20px",children:y.jsx(aN,{to:"/login",children:y.jsx(ct,{variant:"filled",radius:"md",children:"Войти"})})})]})})}function vF(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const wF=typeof window<"u"?S.useLayoutEffect:S.useEffect;function gt(e,t){wF(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function _F(e,t){e&&vF(e),gt(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),gt(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),gt(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),gt(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),gt(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),gt(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),gt(`mantine-form:${e}:clear-errors`,t.clearErrors),gt(`mantine-form:${e}:reset`,t.reset),gt(`mantine-form:${e}:validate`,t.validate),gt(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),gt(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),gt(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),gt(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),gt(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),gt(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),gt(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),gt(`mantine-form:${e}:reset-touched`,t.resetTouched)}function SF(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function im(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function bF(e){const[t,r]=S.useState(im(e)),n=S.useRef(t),s=S.useCallback(c=>{r(l=>{const u=im(typeof c=="function"?c(l):c);return n.current=u,u})},[]),i=S.useCallback(()=>s({}),[]),o=S.useCallback(c=>{n.current[c]!==void 0&&s(l=>{const u={...l};return delete u[c],u})},[t]),a=S.useCallback((c,l)=>{l==null||l===!1?o(c):n.current[c]!==l&&s(u=>({...u,[c]:l}))},[t]);return{errorsState:t,setErrors:s,clearErrors:i,setFieldError:a,clearFieldError:o}}function om(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function uS(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function dS(e,t,r,n){if(t===void 0)return r;const s=`${String(e)}`;let i=r;n===-1&&(i=om(`${s}.${t}`,i));const o={...i},a=new Set;return Object.entries(i).filter(([c])=>{if(!c.startsWith(`${s}.`))return!1;const l=uS(c,s);return Number.isNaN(l)?!1:l>=t}).forEach(([c,l])=>{const u=uS(c,s),d=c.replace(`${s}.${u}`,`${s}.${u+n}`);o[d]=l,a.add(d),a.has(c)||delete o[c]}),o}function RF(e,{from:t,to:r},n){const s=`${e}.${t}`,i=`${e}.${r}`,o={...n};return Object.keys(n).every(a=>{let c,l;if(a.startsWith(s)&&(c=a,l=a.replace(s,i)),a.startsWith(i)&&(c=a.replace(i,s),l=a),c&&l){const u=o[c],d=o[l];return d===void 0?delete o[c]:o[c]=d,u===void 0?delete o[l]:o[l]=u,!1}return!0}),o}function fS(e,t,r){typeof r.value=="object"&&(r.value=no(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function no(e){if(typeof e!="object")return e;var t=0,r,n,s,i=Object.prototype.toString.call(e);if(i==="[object Object]"?s=Object.create(e.__proto__||null):i==="[object Array]"?s=Array(e.length):i==="[object Set]"?(s=new Set,e.forEach(function(o){s.add(no(o))})):i==="[object Map]"?(s=new Map,e.forEach(function(o,a){s.set(no(a),no(o))})):i==="[object Date]"?s=new Date(+e):i==="[object RegExp]"?s=new RegExp(e.source,e.flags):i==="[object DataView]"?s=new e.constructor(no(e.buffer)):i==="[object ArrayBuffer]"?s=e.slice(0):i.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)fS(s,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(s,r=n[t])&&s[r]===e[r]||fS(s,r,Object.getOwnPropertyDescriptor(e,r))}return s||e}function tC(e){return typeof e!="string"?[]:e.split(".")}function Pt(e,t){const r=tC(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function hf(e,t,r){const n=tC(e);if(n.length===0)return r;const s=no(r);if(n.length===1)return s[n[0]]=t,s;let i=s[n[0]];for(let o=1;o<n.length-1;o+=1){if(i===void 0)return s;i=i[n[o]]}return i[n[n.length-1]]=t,s}function xF(e,{from:t,to:r},n){const s=Pt(e,n);if(!Array.isArray(s))return n;const i=[...s],o=s[t];return i.splice(t,1),i.splice(r,0,o),hf(e,i,n)}function CF(e,t,r,n){const s=Pt(e,n);if(!Array.isArray(s))return n;const i=[...s];return i.splice(typeof r=="number"?r:i.length,0,t),hf(e,i,n)}function EF(e,t,r){const n=Pt(e,r);return Array.isArray(n)?hf(e,n.filter((s,i)=>i!==t),r):r}function TF({$values:e,$errors:t,$status:r}){const n=S.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>RF(o,a,c)),e.setValues({values:xF(o,a,e.refValues.current),updateState:!0})},[]),s=S.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>dS(o,a,c,-1)),e.setValues({values:EF(o,a,e.refValues.current),updateState:!0})},[]),i=S.useCallback((o,a,c)=>{r.clearFieldDirty(o),t.setErrors(l=>dS(o,c,l,1)),e.setValues({values:CF(o,a,c,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:i}}var PF=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const Ol=Rm(PF);function Sa(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(s=>s.startsWith(`${t}.`));return e[t]||n.some(s=>e[s])||!1}return r.some(n=>e[n])}function DF({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[s,i]=S.useState(t),[o,a]=S.useState(e),c=S.useRef(t),l=S.useRef(e),u=S.useCallback(R=>{const E=typeof R=="function"?R(c.current):R;c.current=E,r==="controlled"&&i(E)},[]),d=S.useCallback((R,E=!1)=>{const C=typeof R=="function"?R(l.current):R;l.current=C,(r==="controlled"||E)&&a(C)},[]),f=S.useCallback(()=>u({}),[]),p=R=>{const E=R?{...R,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(E),d({})},h=S.useCallback((R,E)=>{u(C=>Sa(C,R)===E?C:{...C,[R]:E})},[]),m=S.useCallback((R,E,C)=>{d(k=>Sa(k,R)===E?k:{...k,[R]:E},C)},[]),g=S.useCallback((R,E)=>{const C=Sa(l.current,R),k=!Ol(Pt(R,n.getValuesSnapshot()),E),L=om(R,l.current);L[R]=k,d(L,C!==k)},[]),v=S.useCallback(R=>Sa(c.current,R),[]),_=S.useCallback(R=>d(E=>{if(typeof R!="string")return E;const C=om(R,E);return delete C[R],Ol(C,E)?E:C}),[]),w=S.useCallback(R=>{if(R){const C=Pt(R,l.current);if(typeof C=="boolean")return C;const k=Pt(R,n.refValues.current),L=Pt(R,n.valuesSnapshot.current);return!Ol(k,L)}return Object.keys(l.current).length>0?Sa(l.current):!Ol(n.refValues.current,n.valuesSnapshot.current)},[]),b=S.useCallback(()=>l.current,[]),x=S.useCallback(()=>c.current,[]);return{touchedState:s,dirtyState:o,touchedRef:c,dirtyRef:l,setTouched:u,setDirty:d,resetDirty:p,resetTouched:f,isTouched:v,setFieldTouched:h,setFieldDirty:m,setTouchedState:i,setDirtyState:a,clearFieldDirty:_,isDirty:w,getDirty:b,getTouched:x,setCalculatedFieldDirty:g}}function kF({initialValues:e,onValuesChange:t,mode:r}){const n=S.useRef(!1),[s,i]=S.useState(e||{}),o=S.useRef(s),a=S.useRef(s),c=S.useCallback(({values:m,subscribers:g,updateState:v=!0,mergeWithPreviousValues:_=!0})=>{const w=o.current,b=m instanceof Function?m(o.current):m,x=_?{...w,...b}:b;o.current=x,v&&i(x),t==null||t(x,w),g==null||g.filter(Boolean).forEach(R=>R({updatedValues:x,previousValues:w}))},[t]),l=S.useCallback(m=>{var _;const g=Pt(m.path,o.current),v=m.value instanceof Function?m.value(g):m.value;if(g!==v){const w=o.current,b=hf(m.path,v,o.current);c({values:b,updateState:m.updateState}),(_=m.subscribers)==null||_.filter(Boolean).forEach(x=>x({path:m.path,updatedValues:b,previousValues:w}))}},[c]),u=S.useCallback(m=>{a.current=m},[]),d=S.useCallback((m,g)=>{n.current||(n.current=!0,c({values:m,updateState:r==="controlled"}),u(m),g())},[c]),f=S.useCallback(()=>{c({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[c]),p=S.useCallback(()=>o.current,[]),h=S.useCallback(()=>a.current,[]);return{initialized:n,stateValues:s,refValues:o,valuesSnapshot:a,setValues:c,setFieldValue:l,resetValues:f,setValuesSnapshot:u,initialize:d,getValues:p,getValuesSnapshot:h}}function OF({$status:e}){const t=S.useRef({}),r=S.useCallback((s,i)=>{S.useEffect(()=>(t.current[s]=t.current[s]||[],t.current[s].push(i),()=>{t.current[s]=t.current[s].filter(o=>o!==i)}),[i])},[]),n=S.useCallback(s=>t.current[s]?t.current[s].map(i=>o=>i({previousValue:Pt(s,o.previousValues),value:Pt(s,o.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function pS(e,t){return e?`${e}-${t.toString()}`:t.toString()}function hS(e){const t=im(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function am(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((s,i)=>{const o=e[i],a=`${r===""?"":`${r}.`}${i}`,c=Pt(a,t);let l=!1;return typeof o=="function"&&(s[a]=o(c,t,a)),typeof o=="object"&&Array.isArray(c)&&(l=!0,c.forEach((u,d)=>am(o,t,`${a}.${d}`,s))),typeof o=="object"&&typeof c=="object"&&c!==null&&(l||am(o,t,a,s)),s},n)}function cm(e,t){return hS(typeof e=="function"?e(t):am(e,t))}function Ll(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=cm(t,r),s=Object.keys(n.errors).find(i=>e.split(".").every((o,a)=>o===i.split(".")[a]));return{hasError:!!s,error:s?n.errors[s]:null}}const LF="__MANTINE_FORM_INDEX__";function mS(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${LF}`)):!1:!1}function Qy({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:c=!1,onValuesChange:l,transformValues:u=p=>p,enhanceGetInputProps:d,validate:f}={}){const p=bF(n),h=kF({initialValues:r,onValuesChange:l,mode:t}),m=DF({initialDirty:s,initialTouched:i,$values:h,mode:t}),g=TF({$values:h,$errors:p,$status:m}),v=OF({$status:m}),[_,w]=S.useState(0),[b,x]=S.useState({}),R=S.useCallback(()=>{h.resetValues(),p.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&w(I=>I+1)},[]),E=S.useCallback(I=>{o&&p.clearErrors(),t==="uncontrolled"&&w(U=>U+1),Object.keys(v.subscribers.current).forEach(U=>{const J=Pt(U,h.refValues.current),ge=Pt(U,I);J!==ge&&v.getFieldSubscribers(U).forEach(Ee=>Ee({previousValues:I,updatedValues:h.refValues.current}))})},[o]),C=S.useCallback(I=>{const U=h.refValues.current;h.initialize(I,()=>t==="uncontrolled"&&w(J=>J+1)),E(U)},[E]),k=S.useCallback((I,U,J)=>{const ge=mS(I,a),Ee=U instanceof Function?U(Pt(I,h.refValues.current)):U;m.setCalculatedFieldDirty(I,Ee),m.setFieldTouched(I,!0),!ge&&o&&p.clearFieldError(I),h.setFieldValue({path:I,value:U,updateState:t==="controlled",subscribers:[...v.getFieldSubscribers(I),ge?Te=>{const fe=Ll(I,f,Te.updatedValues);fe.hasError?p.setFieldError(I,fe.error):p.clearFieldError(I)}:null,(J==null?void 0:J.forceUpdate)!==!1&&t!=="controlled"?()=>x(Te=>({...Te,[I]:(Te[I]||0)+1})):null]})},[l,f]),L=S.useCallback(I=>{const U=h.refValues.current;h.setValues({values:I,updateState:t==="controlled"}),E(U)},[l,E]),B=S.useCallback(()=>{const I=cm(f,h.refValues.current);return p.setErrors(I.errors),I},[f]),z=S.useCallback(I=>{const U=Ll(I,f,h.refValues.current);return U.hasError?p.setFieldError(I,U.error):p.clearFieldError(I),U},[f]),q=(I,{type:U="input",withError:J=!0,withFocus:ge=!0,...Ee}={})=>{const fe={onChange:SF(ht=>k(I,ht,{forceUpdate:!1})),"data-path":pS(e,I)};return J&&(fe.error=p.errorsState[I]),U==="checkbox"?fe[t==="controlled"?"checked":"defaultChecked"]=Pt(I,h.refValues.current):fe[t==="controlled"?"value":"defaultValue"]=Pt(I,h.refValues.current),ge&&(fe.onFocus=()=>m.setFieldTouched(I,!0),fe.onBlur=()=>{if(mS(I,c)){const ht=Ll(I,f,h.refValues.current);ht.hasError?p.setFieldError(I,ht.error):p.clearFieldError(I)}}),Object.assign(fe,d==null?void 0:d({inputProps:fe,field:I,options:{type:U,withError:J,withFocus:ge,...Ee},form:j}))},H=(I,U)=>J=>{J==null||J.preventDefault();const ge=B();ge.hasErrors?U==null||U(ge.errors,h.refValues.current,J):I==null||I(u(h.refValues.current),J)},se=I=>u(I||h.refValues.current),$=S.useCallback(I=>{I.preventDefault(),R()},[]),W=S.useCallback(I=>I?!Ll(I,f,h.refValues.current).hasError:!cm(f,h.refValues.current).hasErrors,[f]),T=I=>`${_}-${I}-${b[I]||0}`,M=S.useCallback(I=>document.querySelector(`[data-path="${pS(e,I)}"]`),[]),j={watch:v.watch,initialized:h.initialized.current,values:h.stateValues,getValues:h.getValues,setInitialValues:h.setValuesSnapshot,initialize:C,setValues:L,setFieldValue:k,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:R,validate:B,validateField:z,getInputProps:q,onSubmit:H,onReset:$,isValid:W,getTransformedValues:se,key:T,getInputNode:M};return _F(e,j),j}const Qn=QP,si=FP;function vt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MF=typeof Symbol=="function"&&Symbol.observable||"@@observable",gS=MF,Op=()=>Math.random().toString(36).substring(7).split("").join("."),IF={INIT:`@@redux/INIT${Op()}`,REPLACE:`@@redux/REPLACE${Op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Op()}`},Au=IF;function Xy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rC(e,t,r){if(typeof e!="function")throw new Error(vt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(vt(1));return r(rC)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((g,v)=>{o.set(v,g)}))}function u(){if(c)throw new Error(vt(3));return s}function d(g){if(typeof g!="function")throw new Error(vt(4));if(c)throw new Error(vt(5));let v=!0;l();const _=a++;return o.set(_,g),function(){if(v){if(c)throw new Error(vt(6));v=!1,l(),o.delete(_),i=null}}}function f(g){if(!Xy(g))throw new Error(vt(7));if(typeof g.type>"u")throw new Error(vt(8));if(typeof g.type!="string")throw new Error(vt(17));if(c)throw new Error(vt(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(_=>{_()}),g}function p(g){if(typeof g!="function")throw new Error(vt(10));n=g,f({type:Au.REPLACE})}function h(){const g=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(vt(11));function _(){const b=v;b.next&&b.next(u())}return _(),{unsubscribe:g(_)}},[gS](){return this}}}return f({type:Au.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[gS]:h}}function jF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Au.INIT})>"u")throw new Error(vt(12));if(typeof r(void 0,{type:Au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vt(13))})}function NF(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{jF(r)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],p=o[d],h=f(p,a);if(typeof h>"u")throw a&&a.type,new Error(vt(14));l[d]=h,c=c||h!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function Fu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function $F(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(vt(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=e.map(c=>c(o));return i=Fu(...a)(s.dispatch),{...s,dispatch:i}}}function AF(e){return Xy(e)&&"type"in e&&typeof e.type=="string"}var nC=Symbol.for("immer-nothing"),yS=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function $r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Do=Object.getPrototypeOf;function ii(e){return!!e&&!!e[ar]}function Vn(e){var t;return e?sC(e)||Array.isArray(e)||!!e[yS]||!!((t=e.constructor)!=null&&t[yS])||gf(e)||yf(e):!1}var FF=Object.prototype.constructor.toString();function sC(e){if(!e||typeof e!="object")return!1;const t=Do(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===FF}function Bu(e,t){mf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function mf(e){const t=e[ar];return t?t.type_:Array.isArray(e)?1:gf(e)?2:yf(e)?3:0}function lm(e,t){return mf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iC(e,t,r){const n=mf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function BF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gf(e){return e instanceof Map}function yf(e){return e instanceof Set}function zs(e){return e.copy_||e.base_}function um(e,t){if(gf(e))return new Map(e);if(yf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=sC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ar];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Do(e),n)}else{const n=Do(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Jy(e,t=!1){return vf(e)||ii(e)||!Vn(e)||(mf(e)>1&&(e.set=e.add=e.clear=e.delete=zF),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Jy(n,!0))),e}function zF(){$r(2)}function vf(e){return Object.isFrozen(e)}var UF={};function oi(e){const t=UF[e];return t||$r(0,e),t}var mc;function oC(){return mc}function VF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vS(e,t){t&&(oi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dm(e){fm(e),e.drafts_.forEach(HF),e.drafts_=null}function fm(e){e===mc&&(mc=e.parent_)}function wS(e){return mc=VF(mc,e)}function HF(e){const t=e[ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _S(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ar].modified_&&(dm(t),$r(4)),Vn(e)&&(e=zu(t,e),t.parent_||Uu(t,e)),t.patches_&&oi("Patches").generateReplacementPatches_(r[ar].base_,e,t.patches_,t.inversePatches_)):e=zu(t,r,[]),dm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nC?e:void 0}function zu(e,t,r){if(vf(t))return t;const n=t[ar];if(!n)return Bu(t,(s,i)=>SS(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Uu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Bu(i,(a,c)=>SS(e,n,s,a,c,r,o)),Uu(e,s,!1),r&&e.patches_&&oi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function SS(e,t,r,n,s,i,o){if(ii(s)){const a=i&&t&&t.type_!==3&&!lm(t.assigned_,n)?i.concat(n):void 0,c=zu(e,s,a);if(iC(r,n,c),ii(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Vn(s)&&!vf(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zu(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Uu(e,s)}}function Uu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jy(t,r)}function WF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:oC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Zy;r&&(s=[n],i=gc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var Zy={get(e,t){if(t===ar)return e;const r=zs(e);if(!lm(r,t))return qF(e,r,t);const n=r[t];return e.finalized_||!Vn(n)?n:n===Lp(e.base_,t)?(Mp(e),e.copy_[t]=hm(n,e)):n},has(e,t){return t in zs(e)},ownKeys(e){return Reflect.ownKeys(zs(e))},set(e,t,r){const n=aC(zs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Lp(zs(e),t),i=s==null?void 0:s[ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(BF(r,s)&&(r!==void 0||lm(e.base_,t)))return!0;Mp(e),pm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mp(e),pm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){$r(11)},getPrototypeOf(e){return Do(e.base_)},setPrototypeOf(){$r(12)}},gc={};Bu(Zy,(e,t)=>{gc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gc.deleteProperty=function(e,t){return gc.set.call(this,e,t,void 0)};gc.set=function(e,t,r){return Zy.set.call(this,e[0],t,r,e[0])};function Lp(e,t){const r=e[ar];return(r?zs(r):e)[t]}function qF(e,t,r){var s;const n=aC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function aC(e,t){if(!(t in e))return;let r=Do(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Do(r)}}function pm(e){e.modified_||(e.modified_=!0,e.parent_&&pm(e.parent_))}function Mp(e){e.copy_||(e.copy_=um(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...l){return o.produce(c,u=>r.call(this,u,...l))}}typeof r!="function"&&$r(6),n!==void 0&&typeof n!="function"&&$r(7);let s;if(Vn(t)){const i=wS(this),o=hm(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?dm(i):fm(i)}return vS(i,n),_S(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===nC&&(s=void 0),this.autoFreeze_&&Jy(s,!0),n){const i=[],o=[];oi("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else $r(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vn(e)||$r(8),ii(e)&&(e=GF(e));const t=wS(this),r=hm(e,void 0);return r[ar].isManual_=!0,fm(t),r}finishDraft(e,t){const r=e&&e[ar];(!r||!r.isManual_)&&$r(9);const{scope_:n}=r;return vS(n,t),_S(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=oi("Patches").applyPatches_;return ii(e)?n(e,t):this.produce(e,s=>n(s,t))}};function hm(e,t){const r=gf(e)?oi("MapSet").proxyMap_(e,t):yf(e)?oi("MapSet").proxySet_(e,t):WF(e,t);return(t?t.scope_:oC()).drafts_.push(r),r}function GF(e){return ii(e)||$r(10,e),cC(e)}function cC(e){if(!Vn(e)||vf(e))return e;const t=e[ar];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=um(e,t.scope_.immer_.useStrictShallowCopy_)}else r=um(e,!0);return Bu(r,(n,s)=>{iC(r,n,cC(s))}),t&&(t.finalized_=!1),r}var cr=new KF,lC=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function uC(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var YF=uC(),QF=uC,XF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fu:Fu.apply(null,arguments)},JF=e=>e&&typeof e.match=="function";function Va(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(vn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AF(n)&&n.type===e,r}var dC=class Oa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Oa.prototype)}static get[Symbol.species](){return Oa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Oa(...t[0].concat(this)):new Oa(...t.concat(this))}};function bS(e){return Vn(e)?lC(e,()=>{}):e}function RS(e,t,r){if(e.has(t)){let s=e.get(t);return r.update&&(s=r.update(s,t,e),e.set(t,s)),s}if(!r.insert)throw new Error(vn(10));const n=r.insert(t,e);return e.set(t,n),n}function ZF(e){return typeof e=="boolean"}var e9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new dC;return r&&(ZF(r)?o.push(YF):o.push(QF(r.extraArgument))),o},t9="RTK_autoBatch",fC=e=>t=>{setTimeout(t,e)},r9=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fC(10),n9=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?r9:e.type==="callback"?e.queueNotification:fC(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>s&&u(),f=n.subscribe(d);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var d;try{return s=!((d=u==null?void 0:u.meta)!=null&&d[t9]),i=!s,i&&(o||(o=!0,c(l))),n.dispatch(u)}finally{s=!0}}})},s9=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new dC(e);return n&&s.push(n9(typeof n=="object"?n:void 0)),s};function i9(e){const t=e9(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(Xy(r))a=NF(r);else throw new Error(vn(1));let c;typeof n=="function"?c=n(t):c=t();let l=Fu;s&&(l=XF({trace:!1,...typeof s=="object"&&s}));const u=$F(...c),d=s9(u);let f=typeof o=="function"?o(d):d();const p=l(...f);return rC(a,i,p)}function pC(e){const t={},r=[];let n;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(vn(28));if(a in t)throw new Error(vn(29));return t[a]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function o9(e){return typeof e=="function"}function a9(e,t){let[r,n,s]=pC(t),i;if(o9(e))i=()=>bS(e());else{const a=bS(e);i=()=>a}function o(a=i(),c){let l=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[s]),l.reduce((u,d)=>{if(d)if(ii(u)){const p=d(u,c);return p===void 0?u:p}else{if(Vn(u))return lC(u,f=>d(f,c));{const f=d(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},a)}return o.getInitialState=i,o}var c9=(e,t)=>JF(e)?e.match(t):e(t);function l9(...e){return t=>e.some(r=>c9(r,t))}var u9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d9=(e=21)=>{let t="",r=e;for(;r--;)t+=u9[Math.random()*64|0];return t},f9=["name","message","stack","code"],Ip=class{constructor(e,t){Ef(this,"_type");this.payload=e,this.meta=t}},xS=class{constructor(e,t){Ef(this,"_type");this.payload=e,this.meta=t}},p9=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of f9)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},hC=(()=>{function e(t,r,n){const s=Va(t+"/fulfilled",(c,l,u,d)=>({payload:c,meta:{...d||{},arg:u,requestId:l,requestStatus:"fulfilled"}})),i=Va(t+"/pending",(c,l,u)=>({payload:void 0,meta:{...u||{},arg:l,requestId:c,requestStatus:"pending"}})),o=Va(t+"/rejected",(c,l,u,d,f)=>({payload:d,error:(n&&n.serializeError||p9)(c||"Rejected"),meta:{...f||{},arg:u,requestId:l,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,u,d)=>{const f=n!=null&&n.idGenerator?n.idGenerator(c):d9(),p=new AbortController;let h,m;function g(_){m=_,p.abort()}const v=async function(){var b,x;let _;try{let R=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,c,{getState:u,extra:d});if(m9(R)&&(R=await R),R===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((C,k)=>{h=()=>{k({name:"AbortError",message:m||"Aborted"})},p.signal.addEventListener("abort",h)});l(i(f,c,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:f,arg:c},{getState:u,extra:d}))),_=await Promise.race([E,Promise.resolve(r(c,{dispatch:l,getState:u,extra:d,requestId:f,signal:p.signal,abort:g,rejectWithValue:(C,k)=>new Ip(C,k),fulfillWithValue:(C,k)=>new xS(C,k)})).then(C=>{if(C instanceof Ip)throw C;return C instanceof xS?s(C.payload,f,c,C.meta):s(C,f,c)})])}catch(R){_=R instanceof Ip?o(null,f,c,R.payload,R.meta):o(R,f,c)}finally{h&&p.signal.removeEventListener("abort",h)}return n&&!n.dispatchConditionRejection&&o.match(_)&&_.meta.condition||l(_),_}();return Object.assign(v,{abort:g,requestId:f,arg:c,unwrap(){return v.then(h9)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:l9(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function h9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function m9(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var g9=Symbol.for("rtk-slice-createasyncthunk");function y9(e,t){return`${e}/${t}`}function v9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[g9];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(vn(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(_9()):s.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,b){const x=typeof w=="string"?w:w.type;if(!x)throw new Error(vn(12));if(x in l.sliceCaseReducersByType)throw new Error(vn(13));return l.sliceCaseReducersByType[x]=b,u},addMatcher(w,b){return l.sliceMatchers.push({matcher:w,reducer:b}),u},exposeAction(w,b){return l.actionCreators[w]=b,u},exposeCaseReducer(w,b){return l.sliceCaseReducersByName[w]=b,u}};c.forEach(w=>{const b=a[w],x={reducerName:w,type:y9(i,w),createNotation:typeof s.reducers=="function"};b9(b)?x9(x,b,u,t):S9(x,b,u)});function d(){const[w={},b=[],x=void 0]=typeof s.extraReducers=="function"?pC(s.extraReducers):[s.extraReducers],R={...w,...l.sliceCaseReducersByType};return a9(s.initialState,E=>{for(let C in R)E.addCase(C,R[C]);for(let C of l.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of b)E.addMatcher(C.matcher,C.reducer);x&&E.addDefaultCase(x)})}const f=w=>w,p=new Map;let h;function m(w,b){return h||(h=d()),h(w,b)}function g(){return h||(h=d()),h.getInitialState()}function v(w,b=!1){function x(E){let C=E[w];return typeof C>"u"&&b&&(C=g()),C}function R(E=f){const C=RS(p,b,{insert:()=>new WeakMap});return RS(C,E,{insert:()=>{const k={};for(const[L,B]of Object.entries(s.selectors??{}))k[L]=w9(B,E,g,b);return k}})}return{reducerPath:w,getSelectors:R,get selectors(){return R(x)},selectSlice:x}}const _={name:i,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...v(o),injectInto(w,{reducerPath:b,...x}={}){const R=b??o;return w.inject({reducerPath:R,reducer:m},x),{..._,...v(R,!0)}}};return _}}function w9(e,t,r,n){function s(i,...o){let a=t(i);return typeof a>"u"&&n&&(a=r()),e(a,...o)}return s.unwrapped=e,s}var wf=v9();function _9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function S9({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!R9(n))throw new Error(vn(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Va(e,o):Va(e))}function b9(e){return e._reducerDefinitionType==="asyncThunk"}function R9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function x9({type:e,reducerName:t},r,n,s){if(!s)throw new Error(vn(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:l,options:u}=r,d=s(e,i,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),a&&n.addCase(d.pending,a),c&&n.addCase(d.rejected,c),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(t,{fulfilled:o||Ml,pending:a||Ml,rejected:c||Ml,settled:l||Ml})}function Ml(){}function vn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function mC(e,t){return function(){return e.apply(t,arguments)}}const{toString:C9}=Object.prototype,{getPrototypeOf:ev}=Object,_f=(e=>t=>{const r=C9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=e=>(e=e.toLowerCase(),t=>_f(t)===e),Sf=e=>t=>typeof t===e,{isArray:ta}=Array,yc=Sf("undefined");function E9(e){return e!==null&&!yc(e)&&e.constructor!==null&&!yc(e.constructor)&&ir(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gC=Gr("ArrayBuffer");function T9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gC(e.buffer),t}const P9=Sf("string"),ir=Sf("function"),yC=Sf("number"),bf=e=>e!==null&&typeof e=="object",D9=e=>e===!0||e===!1,tu=e=>{if(_f(e)!=="object")return!1;const t=ev(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k9=Gr("Date"),O9=Gr("File"),L9=Gr("Blob"),M9=Gr("FileList"),I9=e=>bf(e)&&ir(e.pipe),j9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ir(e.append)&&((t=_f(e))==="formdata"||t==="object"&&ir(e.toString)&&e.toString()==="[object FormData]"))},N9=Gr("URLSearchParams"),[$9,A9,F9,B9]=["ReadableStream","Request","Response","Headers"].map(Gr),z9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ta(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function vC(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wC=e=>!yc(e)&&e!==Ks;function mm(){const{caseless:e}=wC(this)&&this||{},t={},r=(n,s)=>{const i=e&&vC(t,s)||s;tu(t[i])&&tu(n)?t[i]=mm(t[i],n):tu(n)?t[i]=mm({},n):ta(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Hc(arguments[n],r);return t}const U9=(e,t,r,{allOwnKeys:n}={})=>(Hc(t,(s,i)=>{r&&ir(s)?e[i]=mC(s,r):e[i]=s},{allOwnKeys:n}),e),V9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),H9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},W9=(e,t,r,n)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&ev(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},q9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},K9=e=>{if(!e)return null;if(ta(e))return e;let t=e.length;if(!yC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},G9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ev(Uint8Array)),Y9=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Q9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},X9=Gr("HTMLFormElement"),J9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),CS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Z9=Gr("RegExp"),_C=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Hc(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},e5=e=>{_C(e,(t,r)=>{if(ir(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ir(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},t5=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ta(e)?n(e):n(String(e).split(t)),r},r5=()=>{},n5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,jp="abcdefghijklmnopqrstuvwxyz",ES="0123456789",SC={DIGIT:ES,ALPHA:jp,ALPHA_DIGIT:jp+jp.toUpperCase()+ES},s5=(e=16,t=SC.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function i5(e){return!!(e&&ir(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const o5=e=>{const t=new Array(10),r=(n,s)=>{if(bf(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=ta(n)?[]:{};return Hc(n,(o,a)=>{const c=r(o,s+1);!yc(c)&&(i[a]=c)}),t[s]=void 0,i}}return n};return r(e,0)},a5=Gr("AsyncFunction"),c5=e=>e&&(bf(e)||ir(e))&&ir(e.then)&&ir(e.catch),bC=((e,t)=>e?setImmediate:t?((r,n)=>(Ks.addEventListener("message",({source:s,data:i})=>{s===Ks&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ks.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ir(Ks.postMessage)),l5=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||bC,D={isArray:ta,isArrayBuffer:gC,isBuffer:E9,isFormData:j9,isArrayBufferView:T9,isString:P9,isNumber:yC,isBoolean:D9,isObject:bf,isPlainObject:tu,isReadableStream:$9,isRequest:A9,isResponse:F9,isHeaders:B9,isUndefined:yc,isDate:k9,isFile:O9,isBlob:L9,isRegExp:Z9,isFunction:ir,isStream:I9,isURLSearchParams:N9,isTypedArray:G9,isFileList:M9,forEach:Hc,merge:mm,extend:U9,trim:z9,stripBOM:V9,inherits:H9,toFlatObject:W9,kindOf:_f,kindOfTest:Gr,endsWith:q9,toArray:K9,forEachEntry:Y9,matchAll:Q9,isHTMLForm:X9,hasOwnProperty:CS,hasOwnProp:CS,reduceDescriptors:_C,freezeMethods:e5,toObjectSet:t5,toCamelCase:J9,noop:r5,toFiniteNumber:n5,findKey:vC,global:Ks,isContextDefined:wC,ALPHABET:SC,generateString:s5,isSpecCompliantForm:i5,toJSONObject:o5,isAsyncFn:a5,isThenable:c5,setImmediate:bC,asap:l5};function ie(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}D.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const RC=ie.prototype,xC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xC[e]={value:e}});Object.defineProperties(ie,xC);Object.defineProperty(RC,"isAxiosError",{value:!0});ie.from=(e,t,r,n,s,i)=>{const o=Object.create(RC);return D.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ie.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const u5=null;function gm(e){return D.isPlainObject(e)||D.isArray(e)}function CC(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function TS(e,t,r){return e?e.concat(t).map(function(s,i){return s=CC(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function d5(e){return D.isArray(e)&&!e.some(gm)}const f5=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Rf(e,t,r){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!D.isUndefined(g[m])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(D.isDate(h))return h.toISOString();if(!c&&D.isBlob(h))throw new ie("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(h)||D.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,g){let v=h;if(h&&!g&&typeof h=="object"){if(D.endsWith(m,"{}"))m=n?m:m.slice(0,-2),h=JSON.stringify(h);else if(D.isArray(h)&&d5(h)||(D.isFileList(h)||D.endsWith(m,"[]"))&&(v=D.toArray(h)))return m=CC(m),v.forEach(function(w,b){!(D.isUndefined(w)||w===null)&&t.append(o===!0?TS([m],b,i):o===null?m:m+"[]",l(w))}),!1}return gm(h)?!0:(t.append(TS(g,m,i),l(h)),!1)}const d=[],f=Object.assign(f5,{defaultVisitor:u,convertValue:l,isVisitable:gm});function p(h,m){if(!D.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),D.forEach(h,function(v,_){(!(D.isUndefined(v)||v===null)&&s.call(t,v,D.isString(_)?_.trim():_,m,f))===!0&&p(v,m?m.concat(_):[_])}),d.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return p(e),t}function PS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tv(e,t){this._pairs=[],e&&Rf(e,this,t)}const EC=tv.prototype;EC.append=function(t,r){this._pairs.push([t,r])};EC.toString=function(t){const r=t?function(n){return t.call(this,n,PS)}:PS;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function p5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TC(e,t,r){if(!t)return e;const n=r&&r.encode||p5,s=r&&r.serialize;let i;if(s?i=s(t,r):i=D.isURLSearchParams(t)?t.toString():new tv(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class DS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(n){n!==null&&t(n)})}}const PC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},h5=typeof URLSearchParams<"u"?URLSearchParams:tv,m5=typeof FormData<"u"?FormData:null,g5=typeof Blob<"u"?Blob:null,y5={isBrowser:!0,classes:{URLSearchParams:h5,FormData:m5,Blob:g5},protocols:["http","https","file","blob","url","data"]},rv=typeof window<"u"&&typeof document<"u",ym=typeof navigator=="object"&&navigator||void 0,v5=rv&&(!ym||["ReactNative","NativeScript","NS"].indexOf(ym.product)<0),w5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_5=rv&&window.location.href||"http://localhost",S5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rv,hasStandardBrowserEnv:v5,hasStandardBrowserWebWorkerEnv:w5,navigator:ym,origin:_5},Symbol.toStringTag,{value:"Module"})),Gt={...S5,...y5};function b5(e,t){return Rf(e,new Gt.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Gt.isNode&&D.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function R5(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function x5(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function DC(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&D.isArray(s)?s.length:o,c?(D.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&D.isArray(s[o])&&(s[o]=x5(s[o])),!a)}if(D.isFormData(e)&&D.isFunction(e.entries)){const r={};return D.forEachEntry(e,(n,s)=>{t(R5(n),s,r,0)}),r}return null}function C5(e,t,r){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Wc={transitional:PC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=D.isObject(t);if(i&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return s?JSON.stringify(DC(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return b5(t,this.formSerializer).toString();if((a=D.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rf(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),C5(t)):t}],transformResponse:[function(t){const r=this.transitional||Wc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ie.from(a,ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{Wc.headers[e]={}});const E5=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T5=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&E5[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},kS=Symbol("internals");function ba(e){return e&&String(e).trim().toLowerCase()}function ru(e){return e===!1||e==null?e:D.isArray(e)?e.map(ru):String(e)}function P5(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const D5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Np(e,t,r,n,s){if(D.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!D.isString(t)){if(D.isString(n))return t.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(t)}}function k5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function O5(e,t){const r=D.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}class Yt{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(a,c,l){const u=ba(c);if(!u)throw new Error("header name must be a non-empty string");const d=D.findKey(s,u);(!d||s[d]===void 0||l===!0||l===void 0&&s[d]!==!1)&&(s[d||c]=ru(a))}const o=(a,c)=>D.forEach(a,(l,u)=>i(l,u,c));if(D.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(D.isString(t)&&(t=t.trim())&&!D5(t))o(T5(t),r);else if(D.isHeaders(t))for(const[a,c]of t.entries())i(c,a,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=ba(t),t){const n=D.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return P5(s);if(D.isFunction(r))return r.call(this,s,n);if(D.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ba(t),t){const n=D.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Np(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=ba(o),o){const a=D.findKey(n,o);a&&(!r||Np(n,n[a],a,r))&&(delete n[a],s=!0)}}return D.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Np(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return D.forEach(this,(s,i)=>{const o=D.findKey(n,i);if(o){r[o]=ru(s),delete r[i];return}const a=t?k5(i):String(i).trim();a!==i&&delete r[i],r[a]=ru(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return D.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&D.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[kS]=this[kS]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ba(o);n[a]||(O5(s,o),n[a]=!0)}return D.isArray(t)?t.forEach(i):i(t),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Yt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});D.freezeMethods(Yt);function $p(e,t){const r=this||Wc,n=t||r,s=Yt.from(n.headers);let i=n.data;return D.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function kC(e){return!!(e&&e.__CANCEL__)}function ra(e,t,r){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,r),this.name="CanceledError"}D.inherits(ra,ie,{__CANCEL__:!0});function OC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ie("Request failed with status code "+r.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function L5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function M5(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[i];o||(o=l),r[s]=c,n[s]=l;let d=i,f=0;for(;d!==s;)f+=r[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(f*1e3/p):void 0}}function I5(e,t){let r=0,n=1e3/t,s,i;const o=(l,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-r;d>=n?o(l,u):(s=l,i||(i=setTimeout(()=>{i=null,o(s)},n-d)))},()=>s&&o(s)]}const Vu=(e,t,r=3)=>{let n=0;const s=M5(50,250);return I5(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,l=s(c),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},r)},OS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},LS=e=>(...t)=>D.asap(()=>e(...t)),j5=Gt.hasStandardBrowserEnv?function(){const t=Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent),r=document.createElement("a");let n;function s(i){let o=i;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(o){const a=D.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),N5=Gt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function A5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function LC(e,t){return e&&!$5(t)?A5(e,t):t}const MS=e=>e instanceof Yt?{...e}:e;function ai(e,t){t=t||{};const r={};function n(l,u,d){return D.isPlainObject(l)&&D.isPlainObject(u)?D.merge.call({caseless:d},l,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function s(l,u,d){if(D.isUndefined(u)){if(!D.isUndefined(l))return n(void 0,l,d)}else return n(l,u,d)}function i(l,u){if(!D.isUndefined(u))return n(void 0,u)}function o(l,u){if(D.isUndefined(u)){if(!D.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in t)return n(l,u);if(d in e)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(MS(l),MS(u),!0)};return D.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||s,f=d(e[u],t[u],u);D.isUndefined(f)&&d!==a||(r[u]=f)}),r}const MC=e=>{const t=ai({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Yt.from(o),t.url=TC(LC(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(D.isFormData(r)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Gt.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(t)),n||n!==!1&&j5(t.url))){const l=s&&i&&N5.read(i);l&&o.set(s,l)}return t},F5=typeof XMLHttpRequest<"u",B5=F5&&function(e){return new Promise(function(r,n){const s=MC(e);let i=s.data;const o=Yt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=s,u,d,f,p,h;function m(){p&&p(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function v(){if(!g)return;const w=Yt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};OC(function(E){r(E),m()},function(E){n(E),m()},x),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(n(new ie("Request aborted",ie.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new ie("Network Error",ie.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const x=s.transitional||PC;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new ie(b,x.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&D.forEach(o.toJSON(),function(b,x){g.setRequestHeader(x,b)}),D.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),a&&a!=="json"&&(g.responseType=s.responseType),l&&([f,h]=Vu(l,!0),g.addEventListener("progress",f)),c&&g.upload&&([d,p]=Vu(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{g&&(n(!w||w.type?new ra(null,e,g):w),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=L5(s.url);if(_&&Gt.protocols.indexOf(_)===-1){n(new ie("Unsupported protocol "+_+":",ie.ERR_BAD_REQUEST,e));return}g.send(i||null)})},z5=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(l){if(!s){s=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof ie?u:new ra(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>D.asap(a),c}},U5=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},V5=async function*(e,t){for await(const r of H5(e))yield*U5(r,t)},H5=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},IS=(e,t,r,n)=>{const s=V5(e,t);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){a(),c.close();return}let d=u.byteLength;if(r){let f=i+=d;r(f)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},xf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",IC=xf&&typeof ReadableStream=="function",W5=xf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},q5=IC&&jC(()=>{let e=!1;const t=new Request(Gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),jS=64*1024,vm=IC&&jC(()=>D.isReadableStream(new Response("").body)),Hu={stream:vm&&(e=>e.body)};xf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Hu[t]&&(Hu[t]=D.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new ie(`Response type '${t}' is not supported`,ie.ERR_NOT_SUPPORT,n)})})})(new Response);const K5=async e=>{if(e==null)return 0;if(D.isBlob(e))return e.size;if(D.isSpecCompliantForm(e))return(await new Request(Gt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(D.isArrayBufferView(e)||D.isArrayBuffer(e))return e.byteLength;if(D.isURLSearchParams(e)&&(e=e+""),D.isString(e))return(await W5(e)).byteLength},G5=async(e,t)=>{const r=D.toFiniteNumber(e.getContentLength());return r??K5(t)},Y5=xf&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=MC(e);l=l?(l+"").toLowerCase():"text";let p=z5([s,i&&i.toAbortSignal()],o),h;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&q5&&r!=="get"&&r!=="head"&&(g=await G5(u,n))!==0){let x=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(D.isFormData(n)&&(R=x.headers.get("content-type"))&&u.setContentType(R),x.body){const[E,C]=OS(g,Vu(LS(c)));n=IS(x.body,jS,E,C)}}D.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;h=new Request(t,{...f,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?d:void 0});let _=await fetch(h);const w=vm&&(l==="stream"||l==="response");if(vm&&(a||w&&m)){const x={};["status","statusText","headers"].forEach(k=>{x[k]=_[k]});const R=D.toFiniteNumber(_.headers.get("content-length")),[E,C]=a&&OS(R,Vu(LS(a),!0))||[];_=new Response(IS(_.body,jS,E,()=>{C&&C(),m&&m()}),x)}l=l||"text";let b=await Hu[D.findKey(Hu,l)||"text"](_,e);return!w&&m&&m(),await new Promise((x,R)=>{OC(x,R,{data:b,headers:Yt.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:h})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,e,h),{cause:v.cause||v}):ie.from(v,v&&v.code,e,h)}}),wm={http:u5,xhr:B5,fetch:Y5};D.forEach(wm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const NS=e=>`- ${e}`,Q5=e=>D.isFunction(e)||e===null||e===!1,NC={getAdapter:e=>{e=D.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Q5(r)&&(n=wm[(o=String(r)).toLowerCase()],n===void 0))throw new ie(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(NS).join(`
`):" "+NS(i[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:wm};function Ap(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ra(null,e)}function $S(e){return Ap(e),e.headers=Yt.from(e.headers),e.data=$p.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),NC.getAdapter(e.adapter||Wc.adapter)(e).then(function(n){return Ap(e),n.data=$p.call(e,e.transformResponse,n),n.headers=Yt.from(n.headers),n},function(n){return kC(n)||(Ap(e),n&&n.response&&(n.response.data=$p.call(e,e.transformResponse,n.response),n.response.headers=Yt.from(n.response.headers))),Promise.reject(n)})}const $C="1.7.7",nv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const AS={};nv.transitional=function(t,r,n){function s(i,o){return"[Axios v"+$C+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new ie(s(o," has been removed"+(r?" in "+r:"")),ie.ERR_DEPRECATED);return r&&!AS[o]&&(AS[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};function X5(e,t,r){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new ie("option "+i+" must be "+c,ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ie("Unknown option "+i,ie.ERR_BAD_OPTION)}}const _m={assertOptions:X5,validators:nv},ns=_m.validators;class Xs{constructor(t){this.defaults=t,this.interceptors={request:new DS,response:new DS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ai(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&_m.assertOptions(n,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),s!=null&&(D.isFunction(s)?r.paramsSerializer={serialize:s}:_m.assertOptions(s,{encode:ns.function,serialize:ns.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&D.merge(i.common,i[r.method]);i&&D.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=Yt.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!c){const h=[$S.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),f=h.length,u=Promise.resolve(r);d<f;)u=u.then(h[d++],h[d++]);return u}f=a.length;let p=r;for(d=0;d<f;){const h=a[d++],m=a[d++];try{p=h(p)}catch(g){m.call(this,g);break}}try{u=$S.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=l.length;d<f;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=ai(this.defaults,t);const r=LC(t.baseURL,t.url);return TC(r,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){Xs.prototype[t]=function(r,n){return this.request(ai(n||{},{method:t,url:r,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(ai(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Xs.prototype[t]=r(),Xs.prototype[t+"Form"]=r(!0)});class sv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new ra(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new sv(function(s){t=s}),cancel:t}}}function J5(e){return function(r){return e.apply(null,r)}}function Z5(e){return D.isObject(e)&&e.isAxiosError===!0}const Sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sm).forEach(([e,t])=>{Sm[t]=e});function AC(e){const t=new Xs(e),r=mC(Xs.prototype.request,t);return D.extend(r,Xs.prototype,t,{allOwnKeys:!0}),D.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return AC(ai(e,s))},r}const Ye=AC(Wc);Ye.Axios=Xs;Ye.CanceledError=ra;Ye.CancelToken=sv;Ye.isCancel=kC;Ye.VERSION=$C;Ye.toFormData=Rf;Ye.AxiosError=ie;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=J5;Ye.isAxiosError=Z5;Ye.mergeConfig=ai;Ye.AxiosHeaders=Yt;Ye.formToJSON=e=>DC(D.isHTMLForm(e)?new FormData(e):e);Ye.getAdapter=NC.getAdapter;Ye.HttpStatusCode=Sm;Ye.default=Ye;const FC="http://localhost:3001",e6=async e=>{try{const t=await Ye.post(FC+"/users",e);return console.log("User registered:",t.data),t.data}catch(t){throw console.error("Error registering user:",t),t}},t6=async e=>{try{const t=await Ye.get(FC+"/users?email="+e.email);if(console.log("Login:",t.data),t.data.length<1)throw new Error("Пароль или почта не правильные");return t.data[0]}catch(t){throw console.error("Error registering user:",t),t}},BC={registerUser:e6,loginUser:t6},r6=e=>e instanceof Error?e.message:String(e),nu=hC("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await BC.registerUser(e)}catch(r){return t(r6(r))}}),Fp=hC("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await BC.loginUser(e)}catch(r){return t(r instanceof Error?r.message:"Неизвестная ошибка")}}),n6=()=>{const e=Qn(),t=Qy({initialValues:{email:"",fullName:"",course:"",group:"",password:""},validate:{email:n=>/^\S+@\S+$/.test(n)?null:"Неверный формат email",fullName:n=>n.trim().length>0?null:"Введите ФИО",course:n=>n?null:"Выберите курс",group:n=>n.trim().length>0?null:"Введите группу",password:n=>n.trim().length>0?null:"Введите пароль"}}),r=n=>{console.log("Account Data:",n),e(nu(n))};return y.jsx(y.Fragment,{children:y.jsxs(Td,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[y.jsx(Ge,{fw:500,mb:"md",children:"Создать учётную запись"}),y.jsx("form",{onSubmit:t.onSubmit(r),children:y.jsxs(lt,{gap:"md",children:[y.jsx(hn,{label:"Email",placeholder:"Введите email",...t.getInputProps("email"),required:!0}),y.jsx(hn,{label:"ФИО",placeholder:"Введите ФИО",...t.getInputProps("fullName"),required:!0}),y.jsx(wy,{label:"Курс",placeholder:"Выберите курс",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"}],...t.getInputProps("course"),required:!0}),y.jsx(hn,{label:"Группа",placeholder:"Введите группу",...t.getInputProps("group"),required:!0}),y.jsx(hn,{label:"Пароль",placeholder:"Введите пароль",...t.getInputProps("password"),required:!0}),y.jsx(bt,{justify:"center",mt:"md",children:y.jsx(ct,{type:"submit",children:"Создать"})})]})})]})})},s6={user:{id:"",email:"",fullName:"Anonymous",course:"",group:"",password:"",isAdmin:!1},roomName:"11",isLoggedIn:!1,error:"",isLoading:!1},zC=wf({name:"user",initialState:s6,reducers:{setUserName(e,t){e.user.fullName=t.payload}},extraReducers:e=>{e.addCase(nu.pending,t=>{t.error=""}).addCase(nu.fulfilled,(t,r)=>{t.user=r.payload,t.isLoggedIn=!0}).addCase(nu.rejected,(t,r)=>{t.error=r.payload}).addCase(Fp.pending,t=>{t.error=""}).addCase(Fp.fulfilled,(t,r)=>{t.user=r.payload,t.isLoggedIn=!0}).addCase(Fp.rejected,(t,r)=>{t.error=r.payload})}}),{setUserName:i6}=zC.actions,o6=zC.reducer,a6=()=>{const e=Qn(),t=lx(),r=Qy({initialValues:{name:""},validate:{name:s=>s.trim().length<2?"Имя слишком короткое":null}}),n=async s=>{e(i6(s.name)),t("/main")};return y.jsx(y.Fragment,{children:y.jsx(Uo,{justify:"center",align:"center",w:"100vw",h:"100vh",bg:"#1a1b1e",children:y.jsx(Tc,{shadow:"md",radius:"md",p:"md",c:"#ffffff",bg:"#0e0e10",w:{base:300,lg:500},children:y.jsx("form",{onSubmit:r.onSubmit(n),children:y.jsxs(lt,{gap:"md",children:[y.jsx(hn,{label:"Введите ваше имя",placeholder:"Имя",...r.getInputProps("name")}),y.jsx(ct,{type:"submit",children:"Войти"})]})})})})})};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>S.createElement("svg",{ref:c,...l6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:UC("lucide",s),...a},[...o.map(([l,u])=>S.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=S.forwardRef(({className:n,...s},i)=>S.createElement(u6,{ref:i,iconNode:t,className:UC(`lucide-${c6(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Ue("ArrowLeftFromLine",[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Ue("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Ue("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Ue("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Ue("MonitorUp",[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Ue("MonitorX",[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Ue("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Ue("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yt=[];for(let e=0;e<256;++e)yt.push((e+256).toString(16).slice(1));function D6(e,t=0){return(yt[e[t+0]]+yt[e[t+1]]+yt[e[t+2]]+yt[e[t+3]]+"-"+yt[e[t+4]]+yt[e[t+5]]+"-"+yt[e[t+6]]+yt[e[t+7]]+"-"+yt[e[t+8]]+yt[e[t+9]]+"-"+yt[e[t+10]]+yt[e[t+11]]+yt[e[t+12]]+yt[e[t+13]]+yt[e[t+14]]+yt[e[t+15]]).toLowerCase()}let Bp;const k6=new Uint8Array(16);function O6(){if(!Bp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bp=crypto.getRandomValues.bind(crypto)}return Bp(k6)}const L6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BS={randomUUID:L6};function WC(e,t,r){if(BS.randomUUID&&!t&&!e)return BS.randomUUID();e=e||{};const n=e.random||(e.rng||O6)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,D6(n)}function M6(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${s} ${i}:${o}`}const I6=({isOwnMessage:e,userName:t,content:r,time:n})=>y.jsxs(bt,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[y.jsx(Wr,{size:"md",color:"blue",children:t[0]}),y.jsxs(A,{style:{backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column"},children:[y.jsx(Ge,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r}),y.jsx(Ge,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:e?"flex-end":"flex-start"},children:M6(n)})]})]}),j6={servers:{server1:{name:"test",textChannels:{channel1:{name:"General",messages:[{id:"msg1",content:"Welcome to the General chat!",userId:"user1",userName:"Alice",timestamp:new Date().toISOString(),isOwnMessage:!1}]},channel2:{name:"Random",messages:[{id:"msg2",content:"Hello from Random chat!",userId:"user2",userName:"Bob",timestamp:new Date().toISOString(),isOwnMessage:!1}]}}}},currentServerId:"server1",currentChannelId:"channel1"},qC=wf({name:"server",initialState:j6,reducers:{addServer:(e,t)=>{const{serverId:r,name:n}=t.payload;e.servers[r]={name:n,textChannels:{}}},addTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n]={name:s,messages:[]})},editTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n].name=s)},deleteTextChannel:(e,t)=>{const{serverId:r,channelId:n}=t.payload,s=e.servers[r];e.currentChannelId===n&&(e.currentChannelId="channel1"),s&&delete s.textChannels[n]},setCurrentServer:(e,t)=>{e.currentServerId=t.payload,e.currentChannelId="channel1"},setCurrentChannel:(e,t)=>{e.currentChannelId=t.payload},addMessage:(e,t)=>{var o;const{serverId:r,channelId:n,message:s}=t.payload,i=(o=e.servers[r])==null?void 0:o.textChannels[n];i&&i.messages.push(s)}}}),{addServer:g8,addTextChannel:N6,editTextChannel:$6,setCurrentServer:A6,setCurrentChannel:F6,addMessage:B6,deleteTextChannel:z6}=qC.actions,U6=qC.reducer,V6=({openSidebar:e,openDetailsPanel:t})=>{const r=Qn(),{servers:n,currentChannelId:s,currentServerId:i}=si(d=>d.serverStore),{user:o}=si(d=>d.userStore),[a,c]=S.useState(""),l=()=>{if(a.trim()&&i&&s){const d=WC();r(B6({serverId:i,channelId:s,message:{id:d,content:a,userId:o.fullName,userName:o.fullName,timestamp:new Date().toISOString(),isOwnMessage:!0}})),c("")}},u=d=>{d.key==="Enter"&&l()};return y.jsxs(A,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[y.jsxs(bt,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[y.jsx(Dt,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:y.jsx(g6,{size:20})}),y.jsx(hn,{leftSection:y.jsx(R6,{size:16}),placeholder:"Поиск..."}),y.jsx(Dt,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:y.jsx(T6,{size:20})})]}),y.jsx(Er,{my:"md"}),y.jsx(Is,{style:{flex:1},children:y.jsx(lt,{gap:"sm",children:n[i||"channel1"].textChannels[s||"General"].messages.map(d=>y.jsx(I6,{userName:d.userName,content:d.content,isOwnMessage:d.isOwnMessage,time:d.timestamp},d.id))})}),y.jsxs(bt,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[y.jsx(Dt,{size:"xl",variant:"transparent",children:y.jsx(S6,{size:20})}),y.jsx(hn,{w:"100%",placeholder:"Написать...",value:a,onChange:d=>c(d.target.value),onKeyDownCapture:u}),y.jsx(Dt,{size:"xl",variant:"transparent",onClick:l,children:y.jsx(x6,{size:20})})]})]})},na=()=>{const e=S.useContext(eC);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},H6={isUserStreamView:!1},KC=wf({name:"app",initialState:H6,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload}}}),{toggleUserStreamView:GC,setUserStreamView:ov}=KC.actions,W6=KC.reducer,av=e=>e.reduce((r,n)=>(r[n.socketId]||(r[n.socketId]={userName:n.userName,producerIds:[]}),r[n.socketId].producerIds.push(n.producerId),r),{}),q6=({users:e,onOpenStream:t})=>{const r=Qn(),n=av(e);return y.jsxs(Is,{style:{flex:1,maxHeight:"100%"},children:[y.jsx(bt,{justify:"flex-end",children:y.jsx(Dt,{variant:"transparent",onClick:()=>r(GC()),children:y.jsx(d6,{})})}),y.jsx(_y,{cols:{base:2,lg:3},spacing:"sm",children:Object.entries(n).map(([s,{userName:i,producerIds:o}])=>{const a=o.length>1;return y.jsxs(A,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[y.jsx(Wr,{radius:"xl",size:"lg",color:"blue",children:i[0]}),y.jsx(Ge,{c:"white",children:i}),a&&y.jsx(ct,{size:"xs",variant:"outline",onClick:()=>t(s),children:"Открыть стрим"})]},s)})})]})},K6=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=na(),s=S.useRef(null),i=S.useRef(null),o=av(t),a=S.useRef(null),c=()=>{a.current&&a.current.scrollBy({left:-100,behavior:"smooth"})},l=()=>{a.current&&a.current.scrollBy({left:100,behavior:"smooth"})},u=f=>{n(f)},d=()=>{n(null),s.current&&(i.current=null,s.current.srcObject=null)};return S.useEffect(()=>{if(!be)return;const f=({producerId:p})=>{e.some(m=>m.kind==="video"&&m.producerId===p&&r&&o[r].producerIds.includes(p))&&d()};return be.on("producerClosed",f),()=>{be.off("producerClosed",f)}},[e,r,o,t]),S.useEffect(()=>{var f;if(console.log(r),r){const p=e.find(h=>{var m;return h.kind==="video"&&((m=o[r])==null?void 0:m.producerIds.includes(h.producerId))});if(console.log(e),p){const h=p.track;if(!i.current||((f=i.current.getVideoTracks()[0])==null?void 0:f.id)!==h.id){const m=new MediaStream([h]);i.current=m,s.current&&(s.current.srcObject=m,s.current.play().catch(g=>console.error("Ошибка воспроизведения видео:",g)))}}}},[r,e,o]),y.jsx(A,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?y.jsxs(A,{style:{position:"relative",flex:1},children:[y.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),y.jsxs(ct,{variant:"filled",color:"red",onClick:d,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[y.jsx(P6,{size:20})," Закрыть"]}),y.jsxs(A,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[y.jsx(ct,{variant:"subtle",color:"gray",onClick:c,style:{zIndex:1},children:y.jsx(f6,{size:20})}),y.jsx(Is,{viewportRef:a,style:{width:"100%"},children:y.jsx(Uo,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:Object.entries(o).map(([f,{userName:p,producerIds:h}])=>{const m=h.length>1;return y.jsxs(A,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"100px",width:"100px"},children:[y.jsx(Wr,{radius:"xl",size:"sm",children:p[0]}),y.jsx(Ge,{c:"white",size:"xs",children:p}),m&&y.jsx(ct,{size:"xs",variant:"outline",onClick:()=>u(f),children:y.jsx(bm,{})})]},f)})})}),y.jsx(ct,{variant:"subtle",color:"gray",onClick:l,style:{zIndex:1},children:y.jsx(iv,{size:20})})]})]}):y.jsx(q6,{users:t,onOpenStream:u})})},zS=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],G6=()=>y.jsx(A,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:200,lg:300},visibleFrom:"sm",children:y.jsxs(lt,{gap:"md",children:[y.jsx(Ge,{c:"white",children:"Пользователи"}),y.jsx(Er,{color:"gray"}),y.jsx(Ge,{c:"gray",children:"В сети"}),y.jsx(lt,{children:zS.filter(e=>e.online).map(e=>y.jsxs(bt,{wrap:"nowrap",children:[y.jsx(Wr,{size:"md",color:"blue",children:e.name[0]}),y.jsx(Ge,{c:"white",children:e.name}),y.jsx(Po,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:"В сети"})]},e.id))}),y.jsx(Er,{color:"gray"}),y.jsx(Ge,{c:"gray",children:"Не в сети"}),y.jsx(lt,{children:zS.filter(e=>!e.online).map(e=>y.jsxs(bt,{wrap:"nowrap",children:[y.jsx(Wr,{size:"md",color:"blue",children:e.name[0]}),y.jsx(Ge,{c:"dimmed",children:e.name}),y.jsx(Po,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"Не в сети"})]},e.id))})]})}),US=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],Y6=({onClose:e,opened:t})=>y.jsx(y.Fragment,{children:y.jsx(Kr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:y.jsx(A,{style:{padding:"10px",backgroundColor:"#1A1B1E"},children:y.jsxs(lt,{gap:"md",children:[y.jsx(Ge,{c:"white",children:"Пользователи"}),y.jsx(Er,{color:"gray"}),y.jsx(Ge,{c:"gray",children:"В сети"}),y.jsx(lt,{children:US.filter(r=>r.online).map(r=>y.jsxs(bt,{wrap:"nowrap",children:[y.jsx(Wr,{size:"md",color:"blue",children:r.name[0]}),y.jsx(Ge,{c:"white",children:r.name}),y.jsx(Po,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:"В сети"})]},r.id))}),y.jsx(Er,{color:"gray"}),y.jsx(Ge,{c:"gray",children:"Не в сети"}),y.jsx(lt,{children:US.filter(r=>!r.online).map(r=>y.jsxs(bt,{wrap:"nowrap",children:[y.jsx(Wr,{size:"md",color:"blue",children:r.name[0]}),y.jsx(Ge,{c:"dimmed",children:r.name}),y.jsx(Po,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"Не в сети"})]},r.id))})]})})})}),Q6=({serverId:e,serverName:t})=>{const r=Qn();return y.jsx(Dt,{size:"xl",radius:"xl",variant:"transparent",onClick:()=>r(A6(e)),children:y.jsx(Wr,{size:"md",color:"blue",children:t})})},X6=()=>{const{servers:e}=si(t=>t.serverStore);return y.jsxs(Uo,{w:50,bg:"#0E0E10",align:"center",direction:"column",p:"10px 0",children:[y.jsx(Dt,{size:"lg",variant:"transparent",children:y.jsx(m6,{size:24,color:"#fff"})}),y.jsx(Er,{my:"sm"}),y.jsx(lt,{gap:"sm",align:"center",children:Object.entries(e).map(([t,r])=>y.jsx(Q6,{serverId:t,serverName:r.name},t))}),y.jsx(Er,{my:"sm"}),y.jsx(Dt,{size:"lg",variant:"transparent",children:y.jsx(p6,{size:24,color:"#fff"})})]})},J6=({opened:e,onClose:t,isEdit:r,serverId:n})=>{const s=Qn(),i=Qy({initialValues:{name:r.initialData},validate:{name:c=>c.trim().length<3?"Название канала должно быть более 3 символов":null}});S.useEffect(()=>{r.isEdit?i.setValues({name:r.initialData}):i.reset()},[r]);const o=c=>{if(r.isEdit)s($6({serverId:n,channelId:r.channelId,name:c.name})),t();else{const l=WC();s(N6({serverId:n,channelId:l,name:c.name})),i.reset(),t()}},a=()=>{s(z6({serverId:n,channelId:r.channelId})),t()};return y.jsx(Rn,{opened:e,onClose:t,title:r.isEdit?"Редактирование текстового канала":"Создание текстового канала",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:y.jsxs("form",{onSubmit:i.onSubmit(o),children:[y.jsx(hn,{label:"Название канала",placeholder:"Введите название канала",...i.getInputProps("name")}),y.jsxs(bt,{justify:"flex-end",mt:"md",children:[r.isEdit&&y.jsx(ct,{variant:"filled",color:"red",onClick:a,children:"Удалить"}),!r.isEdit&&y.jsx(ct,{variant:"outline",onClick:t,children:"Отмена"}),y.jsx(ct,{type:"submit",children:r.isEdit?"Сохранить":"Создать"})]})]})})};function YC({onClose:e}){const t=Qn(),[r,{toggle:n}]=cc(!0),[s,{open:i,close:o}]=cc(!1),{servers:a,currentServerId:c,currentChannelId:l}=si(h=>h.serverStore),[u,d]=S.useState(""),[f,p]=S.useState({isEdit:!1,initialData:"",channelId:""});return y.jsxs(y.Fragment,{children:[y.jsxs(lt,{align:"flex-start",gap:"xs",children:[y.jsxs(bt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(ct,{leftSection:r?y.jsx(VC,{}):y.jsx(iv,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:"Текстовые каналы"}),y.jsx(Dt,{variant:"transparent",onClick:()=>{p({isEdit:!1,initialData:"",channelId:""}),i()},children:y.jsx(HC,{color:"#ffffff"})})]}),y.jsx(Dg,{in:r,w:"100%",children:y.jsx(lt,{gap:"xs",children:Object.entries(a[c||"channel1"].textChannels).map(([h,m])=>y.jsxs(A,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>d(h),onMouseLeave:()=>d(""),children:[y.jsx(ct,{leftSection:y.jsx(h6,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{backgroundColor:l===h?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:u===h?0:"var(--mantine-radius-default)",borderBottomRightRadius:u===h?0:"var(--mantine-radius-default)"}},fullWidth:!0,onClick:()=>{t(F6(h)),t(ov(!1)),e()},children:m.name}),u===h&&y.jsx(ct,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:{backgroundColor:l===h?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},onClick:()=>{p({isEdit:!0,initialData:m.name,channelId:h}),i()},children:y.jsx(C6,{size:16})})]},h))})})]}),c&&y.jsx(J6,{opened:s,onClose:o,isEdit:f,serverId:c})]})}const Z6=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:s}=na();return async(o,a)=>{try{if(!be.connected)throw new Error("Socket is not connected");const c=await uF(),l=await dF(o,a),u=await fF(l);r(u);const d=await pF(u,c,t,s);n(d),e(!0),console.log("Connected successfully")}catch(c){console.error("Error connecting:",c),e(!1)}}},e8=()=>{const[e,t]=S.useState([]);return S.useEffect(()=>{if(be)return be.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{be.off("active-speakers")}},[]),e};function QC(){const e=Z6(),{isConnected:t,consumers:r,users:n,setSelectedUserId:s}=na(),{user:i,roomName:o}=si(v=>v.userStore),a=Qn(),[c,{toggle:l}]=cc(!0),[u,d]=S.useState({}),f=e8(),p=av(n),h=S.useRef(new Map),m=()=>{t?a(GC()):e(o,i.fullName)},g=(v,_)=>{const w=p[v].producerIds.find(b=>!!r.find(R=>R.producerId===b&&R.kind==="audio"));w&&d(b=>({...b,[w]:_/100}))};return S.useEffect(()=>{r.forEach(_=>{if(_.kind==="audio"){const{producerId:w,track:b}=_;if(!h.current.has(w)){const x=document.createElement("audio");x.srcObject=new MediaStream([b]),x.autoplay=!0,x.volume=u[w]??1,h.current.set(w,x),document.body.appendChild(x)}}});const v=r.map(_=>_.producerId);return h.current.forEach((_,w)=>{v.includes(w)||(_.pause(),_.remove(),h.current.delete(w))}),()=>{h.current.forEach(_=>{_.pause(),_.remove()}),h.current.clear()}},[r,u]),y.jsx(y.Fragment,{children:y.jsxs(lt,{align:"flex-start",gap:"xs",children:[y.jsxs(bt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(ct,{leftSection:c?y.jsx(VC,{}):y.jsx(iv,{}),variant:"transparent",onClick:l,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:"Голосовые каналы"}),y.jsx(Dt,{variant:"transparent",children:y.jsx(HC,{color:"#ffffff"})})]}),y.jsxs(Dg,{in:c,w:"100%",children:[y.jsx(ct,{leftSection:y.jsx(FS,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:m,children:"Голосовой канал 1"}),y.jsx(lt,{gap:"xs",children:Object.entries(p).map(([v,{producerIds:_}])=>{const w=_.some(b=>f.some(x=>x.producerId===b));return y.jsxs(er,{shadow:"md",width:200,closeOnItemClick:!0,children:[y.jsx(er.Target,{children:y.jsxs(bt,{style:{cursor:"pointer"},wrap:"nowrap",children:[y.jsx(E6,{color:w?"#43b581":void 0}),y.jsx(Ge,{truncate:!0,children:v}),_.length>1&&y.jsx(bm,{color:"#43b581",style:{marginLeft:"auto"}})]})}),y.jsxs(er.Dropdown,{children:[y.jsx(er.Item,{leftSection:y.jsx(FS,{}),children:y.jsx(Sy,{label:"Громкость",value:(u[_.find(b=>r.some(x=>x.producerId===b&&x.kind==="audio"))||""]||1)*100,onChange:b=>g(v,b),min:1,max:100})}),_.length>1&&y.jsx(er.Item,{leftSection:y.jsx(bm,{}),onClick:()=>{s(v),a(ov(!0))},children:"Открыть стрим"})]})]},v)})})]})]})})}const t8=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:s,setIsStreaming:i,setAudioProducer:o}=na();return()=>{be.emit("leaveRoom"),e(!1),t(null),n([]),s(!1),i(!1),o(null),r(null)}},r8=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=na(),s=S.useRef(null),i=async()=>{const c=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],l=await r.produce({track:c});t(l),s.current=l.id,l.on("trackended",o),n(!0)},o=async()=>{e?(e.close(),be.emit("stopProducer",{producerId:e.id})):be.emit("stopProducer",{producerId:s.current}),s.current=null,t(null),n(!1)};return{startScreenSharing:i,stopScreenSharing:o}},XC=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=na(),s=t8(),{startScreenSharing:i,stopScreenSharing:o}=r8(),a=Qn(),{user:c}=si(u=>u.userStore),l=()=>{n?o():i()};return y.jsxs(lt,{mt:"auto",children:[e&&y.jsxs(bt,{gap:"xs",justify:"space-between",children:[y.jsx(Dt,{variant:"transparent",onClick:l,c:"#ffffff",children:n?y.jsx(_6,{}):y.jsx(w6,{})}),y.jsx(Dt,{variant:"transparent",onClick:t,c:"#ffffff",children:r?y.jsx(y6,{}):y.jsx(v6,{})}),y.jsx(Dt,{variant:"transparent",onClick:()=>{s(),a(ov(!1))},c:"#ffffff",children:y.jsx(b6,{})})]}),y.jsx(Er,{}),y.jsx(Ge,{truncate:!0,children:c.fullName})]})},n8=({onClose:e,opened:t})=>y.jsx(y.Fragment,{children:y.jsx(Kr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:y.jsxs(lt,{gap:"xs",bg:"#1A1B1E",p:10,h:"100%",children:[y.jsx(Ge,{children:"Сервер #1"}),y.jsx(Er,{}),y.jsx(YC,{onClose:e}),y.jsx(QC,{}),y.jsx(XC,{})]})})}),s8=({onClose:e})=>y.jsxs(lt,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[y.jsx(Ge,{children:"Сервер #1"}),y.jsx(Er,{}),y.jsx(YC,{onClose:e}),y.jsx(QC,{}),y.jsx(XC,{})]}),i8=()=>{const{isUserStreamView:e}=si(a=>a.appStore),[t,{open:r,close:n}]=cc(!1),[s,{open:i,close:o}]=cc(!1);return y.jsxs(A,{style:{display:"flex",height:"100dvh"},children:[y.jsx(X6,{}),y.jsx(s8,{onClose:n}),e?y.jsx(K6,{}):y.jsx(V6,{openSidebar:r,openDetailsPanel:i}),y.jsx(G6,{}),y.jsx(n8,{onClose:n,opened:t}),y.jsx(Y6,{onClose:o,opened:s})]})};function o8(){return y.jsx(gF,{children:y.jsx(sN,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:y.jsxs(P1,{children:[y.jsx(Yn,{}),y.jsxs(Xj,{children:[y.jsx(Da,{path:"/",element:y.jsx(yF,{})}),y.jsx(Da,{path:"/main",element:y.jsx(i8,{})}),y.jsx(Da,{path:"/login",element:y.jsx(a6,{})}),y.jsx(Da,{path:"/register",element:y.jsx(n6,{})})]})]})})})}const a8={isConnected:!1,users:[],activeUsers:[]},c8=wf({name:"mediasoup",initialState:a8,reducers:{setConnected(e,t){e.isConnected=t.payload},setUsers(e,t){e.users=t.payload},setActiveUsers(e,t){e.activeUsers=[...t.payload]}}}),l8=c8.reducer,u8=i9({reducer:{userStore:o6,appStore:W6,serverStore:U6,mediaStore:l8}});t1(document.getElementById("root")).render(y.jsx(KP,{store:u8,children:y.jsx(o8,{})}));
