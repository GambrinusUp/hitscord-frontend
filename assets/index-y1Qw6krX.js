var rE=Object.defineProperty;var nE=(e,t,r)=>t in e?rE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Op=(e,t,r)=>nE(e,typeof t!="symbol"?t+"":t,r);function sE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Np={exports:{}},Ta={},Ap={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function iE(){if($w)return Ne;$w=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function R(U,X,ce){this.props=U,this.context=X,this.refs=E,this.updater=ce||S}R.prototype.isReactComponent={},R.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=R.prototype;function _(U,X,ce){this.props=U,this.context=X,this.refs=E,this.updater=ce||S}var p=_.prototype=new T;p.constructor=_,b(p,R.prototype),p.isPureReactComponent=!0;var f=Array.isArray,g=Object.prototype.hasOwnProperty,x={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,ce){var de,ee={},ie=null,ue=null;if(X!=null)for(de in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(ie=""+X.key),X)g.call(X,de)&&!P.hasOwnProperty(de)&&(ee[de]=X[de]);var me=arguments.length-2;if(me===1)ee.children=ce;else if(1<me){for(var he=Array(me),Ce=0;Ce<me;Ce++)he[Ce]=arguments[Ce+2];ee.children=he}if(U&&U.defaultProps)for(de in me=U.defaultProps,me)ee[de]===void 0&&(ee[de]=me[de]);return{$$typeof:e,type:U,key:ie,ref:ue,props:ee,_owner:x.current}}function L(U,X){return{$$typeof:e,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function A(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return X[ce]})}var N=/\/+/g;function B(U,X){return typeof U=="object"&&U!==null&&U.key!=null?A(""+U.key):X.toString(36)}function W(U,X,ce,de,ee){var ie=typeof U;(ie==="undefined"||ie==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(ie){case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case e:case t:ue=!0}}if(ue)return ue=U,ee=ee(ue),U=de===""?"."+B(ue,0):de,f(ee)?(ce="",U!=null&&(ce=U.replace(N,"$&/")+"/"),W(ee,X,ce,"",function(Ce){return Ce})):ee!=null&&(M(ee)&&(ee=L(ee,ce+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+U)),X.push(ee)),1;if(ue=0,de=de===""?".":de+":",f(U))for(var me=0;me<U.length;me++){ie=U[me];var he=de+B(ie,me);ue+=W(ie,X,ce,he,ee)}else if(he=w(U),typeof he=="function")for(U=he.call(U),me=0;!(ie=U.next()).done;)ie=ie.value,he=de+B(ie,me++),ue+=W(ie,X,ce,he,ee);else if(ie==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function K(U,X,ce){if(U==null)return U;var de=[],ee=0;return W(U,de,"","",function(ie){return X.call(ce,ie,ee++)}),de}function O(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var V={current:null},F={transition:null},z={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:K,forEach:function(U,X,ce){K(U,function(){X.apply(this,arguments)},ce)},count:function(U){var X=0;return K(U,function(){X++}),X},toArray:function(U){return K(U,function(X){return X})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=R,Ne.Fragment=r,Ne.Profiler=i,Ne.PureComponent=_,Ne.StrictMode=n,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ne.act=q,Ne.cloneElement=function(U,X,ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var de=b({},U.props),ee=U.key,ie=U.ref,ue=U._owner;if(X!=null){if(X.ref!==void 0&&(ie=X.ref,ue=x.current),X.key!==void 0&&(ee=""+X.key),U.type&&U.type.defaultProps)var me=U.type.defaultProps;for(he in X)g.call(X,he)&&!P.hasOwnProperty(he)&&(de[he]=X[he]===void 0&&me!==void 0?me[he]:X[he])}var he=arguments.length-2;if(he===1)de.children=ce;else if(1<he){me=Array(he);for(var Ce=0;Ce<he;Ce++)me[Ce]=arguments[Ce+2];de.children=me}return{$$typeof:e,type:U.type,key:ee,ref:ie,props:de,_owner:ue}},Ne.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ne.createElement=I,Ne.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:l,render:U}},Ne.isValidElement=M,Ne.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:O}},Ne.memo=function(U,X){return{$$typeof:h,type:U,compare:X===void 0?null:X}},Ne.startTransition=function(U){var X=F.transition;F.transition={};try{U()}finally{F.transition=X}},Ne.unstable_act=q,Ne.useCallback=function(U,X){return V.current.useCallback(U,X)},Ne.useContext=function(U){return V.current.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U){return V.current.useDeferredValue(U)},Ne.useEffect=function(U,X){return V.current.useEffect(U,X)},Ne.useId=function(){return V.current.useId()},Ne.useImperativeHandle=function(U,X,ce){return V.current.useImperativeHandle(U,X,ce)},Ne.useInsertionEffect=function(U,X){return V.current.useInsertionEffect(U,X)},Ne.useLayoutEffect=function(U,X){return V.current.useLayoutEffect(U,X)},Ne.useMemo=function(U,X){return V.current.useMemo(U,X)},Ne.useReducer=function(U,X,ce){return V.current.useReducer(U,X,ce)},Ne.useRef=function(U){return V.current.useRef(U)},Ne.useState=function(U){return V.current.useState(U)},Ne.useSyncExternalStore=function(U,X,ce){return V.current.useSyncExternalStore(U,X,ce)},Ne.useTransition=function(){return V.current.useTransition()},Ne.version="18.3.1",Ne}var Fw;function Hu(){return Fw||(Fw=1,Ap.exports=iE()),Ap.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function aE(){if(zw)return Ta;zw=1;var e=Hu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,d,h){var m,v={},w=null,S=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)n.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:t,type:l,key:w,ref:S,props:v,_owner:i.current}}return Ta.Fragment=r,Ta.jsx=c,Ta.jsxs=c,Ta}var Bw;function cE(){return Bw||(Bw=1,Np.exports=aE()),Np.exports}var C=cE(),kl={},$p={exports:{}},hr={},Fp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function lE(){return Uw||(Uw=1,function(e){function t(F,z){var q=F.length;F.push(z);e:for(;0<q;){var U=q-1>>>1,X=F[U];if(0<i(X,z))F[U]=z,F[q]=X,q=U;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],q=F.pop();if(q!==z){F[0]=q;e:for(var U=0,X=F.length,ce=X>>>1;U<ce;){var de=2*(U+1)-1,ee=F[de],ie=de+1,ue=F[ie];if(0>i(ee,q))ie<X&&0>i(ue,ee)?(F[U]=ue,F[ie]=q,U=ie):(F[U]=ee,F[de]=q,U=de);else if(ie<X&&0>i(ue,q))F[U]=ue,F[ie]=q,U=ie;else break e}}return z}function i(F,z){var q=F.sortIndex-z.sortIndex;return q!==0?q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var d=[],h=[],m=1,v=null,w=3,S=!1,b=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(F){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=F)n(h),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(h)}}function f(F){if(E=!1,p(F),!b)if(r(d)!==null)b=!0,O(g);else{var z=r(h);z!==null&&V(f,z.startTime-F)}}function g(F,z){b=!1,E&&(E=!1,T(I),I=-1),S=!0;var q=w;try{for(p(z),v=r(d);v!==null&&(!(v.expirationTime>z)||F&&!A());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var X=U(v.expirationTime<=z);z=e.unstable_now(),typeof X=="function"?v.callback=X:v===r(d)&&n(d),p(z)}else n(d);v=r(d)}if(v!==null)var ce=!0;else{var de=r(h);de!==null&&V(f,de.startTime-z),ce=!1}return ce}finally{v=null,w=q,S=!1}}var x=!1,P=null,I=-1,L=5,M=-1;function A(){return!(e.unstable_now()-M<L)}function N(){if(P!==null){var F=e.unstable_now();M=F;var z=!0;try{z=P(!0,F)}finally{z?B():(x=!1,P=null)}}else x=!1}var B;if(typeof _=="function")B=function(){_(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=N,B=function(){K.postMessage(null)}}else B=function(){R(N,0)};function O(F){P=F,x||(x=!0,B())}function V(F,z){I=R(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,O(g))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var q=w;w=z;try{return F()}finally{w=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=w;w=F;try{return z()}finally{w=q}},e.unstable_scheduleCallback=function(F,z,q){var U=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,F={id:m++,callback:z,priorityLevel:F,startTime:q,expirationTime:X,sortIndex:-1},q>U?(F.sortIndex=q,t(h,F),r(d)===null&&F===r(h)&&(E?(T(I),I=-1):E=!0,V(f,q-U))):(F.sortIndex=X,t(d,F),b||S||(b=!0,O(g))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var z=w;return function(){var q=w;w=z;try{return F.apply(this,arguments)}finally{w=q}}}}(zp)),zp}var Vw;function uE(){return Vw||(Vw=1,Fp.exports=lE()),Fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function dE(){if(Hw)return hr;Hw=1;var e=Hu(),t=uE();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(s){return d.call(v,s)?!0:d.call(m,s)?!1:h.test(s)?v[s]=!0:(m[s]=!0,!1)}function S(s,o,u,y){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return y?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,u,y){if(o===null||typeof o>"u"||S(s,o,u,y))return!0;if(y)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(s,o,u,y,k,j,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=j,this.removeEmptyString=$}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new E(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(T,_);R[o]=new E(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(T,_);R[o]=new E(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(T,_);R[o]=new E(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function p(s,o,u,y){var k=R.hasOwnProperty(o)?R[o]:null;(k!==null?k.type!==0:y||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,k,y)&&(u=null),y||k===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):k.mustUseProperty?s[k.propertyName]=u===null?k.type===3?!1:"":u:(o=k.attributeName,y=k.attributeNamespace,u===null?s.removeAttribute(o):(k=k.type,u=k===3||k===4&&u===!0?"":""+u,y?s.setAttributeNS(y,o,u):s.setAttribute(o,u))))}var f=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),x=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,U;function X(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var ce=!1;function de(s,o){if(!s||ce)return"";ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var y=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){y=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){y=Z}s()}}catch(Z){if(Z&&y&&typeof Z.stack=="string"){for(var k=Z.stack.split(`
`),j=y.stack.split(`
`),$=k.length-1,H=j.length-1;1<=$&&0<=H&&k[$]!==j[H];)H--;for(;1<=$&&0<=H;$--,H--)if(k[$]!==j[H]){if($!==1||H!==1)do if($--,H--,0>H||k[$]!==j[H]){var G=`
`+k[$].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=$&&0<=H);break}}}finally{ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function ee(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case x:return"Portal";case L:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return o=s.displayName||null,o!==null?o:ie(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return ie(s(o))}catch{}}return null}function ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function he(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ce(s){var o=he(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),y=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var k=u.get,j=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return k.call(this)},set:function($){y=""+$,j.call(this,$)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function je(s){s._valueTracker||(s._valueTracker=Ce(s))}function yt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),y="";return s&&(y=he(s)?s.checked?"true":"false":s.value),s=y,s!==u?(o.setValue(s),!0):!1}function ct(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ge(s,o){var u=o.checked;return q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function tt(s,o){var u=o.defaultValue==null?"":o.defaultValue,y=o.checked!=null?o.checked:o.defaultChecked;u=me(o.value!=null?o.value:u),s._wrapperState={initialChecked:y,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function rt(s,o){o=o.checked,o!=null&&p(s,"checked",o,!1)}function Je(s,o){rt(s,o);var u=me(o.value),y=o.type;if(u!=null)y==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?mt(s,o.type,u):o.hasOwnProperty("defaultValue")&&mt(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Tt(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var y=o.type;if(!(y!=="submit"&&y!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function mt(s,o,u){(o!=="number"||ct(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ke=Array.isArray;function Ue(s,o,u,y){if(s=s.options,o){o={};for(var k=0;k<u.length;k++)o["$"+u[k]]=!0;for(u=0;u<s.length;u++)k=o.hasOwnProperty("$"+s[u].value),s[u].selected!==k&&(s[u].selected=k),k&&y&&(s[u].defaultSelected=!0)}else{for(u=""+me(u),o=null,k=0;k<s.length;k++){if(s[k].value===u){s[k].selected=!0,y&&(s[k].defaultSelected=!0);return}o!==null||s[k].disabled||(o=s[k])}o!==null&&(o.selected=!0)}}function lt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function It(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(Ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:me(u)}}function ut(s,o){var u=me(o.value),y=me(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),y!=null&&(s.defaultValue=""+y)}function Nt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ke(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ke(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Fe=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,y,k){MSApp.execUnsafeLocalFunction(function(){return s(o,u,y,k)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function wt(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),He[o]=He[s]})});function Se(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||He.hasOwnProperty(s)&&He[s]?(""+o).trim():o+"px"}function dt(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var y=u.indexOf("--")===0,k=Se(u,o[u],y);u==="float"&&(u="cssFloat"),y?s.setProperty(u,k):s[u]=k}}var Kn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(s,o){if(o){if(Kn[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Gd(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=null;function Yd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xd=null,Uo=null,Vo=null;function tv(s){if(s=fa(s)){if(typeof Xd!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Vc(o),Xd(s.stateNode,s.type,o))}}function rv(s){Uo?Vo?Vo.push(s):Vo=[s]:Uo=s}function nv(){if(Uo){var s=Uo,o=Vo;if(Vo=Uo=null,tv(s),o)for(s=0;s<o.length;s++)tv(o[s])}}function sv(s,o){return s(o)}function ov(){}var Qd=!1;function iv(s,o,u){if(Qd)return s(o,u);Qd=!0;try{return sv(s,o,u)}finally{Qd=!1,(Uo!==null||Vo!==null)&&(ov(),nv())}}function Wi(s,o){var u=s.stateNode;if(u===null)return null;var y=Vc(u);if(y===null)return null;u=y[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Jd=!1;if(l)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Jd=!1}function cC(s,o,u,y,k,j,$,H,G){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(u,Z)}catch(se){this.onError(se)}}var Gi=!1,bc=null,_c=!1,Zd=null,lC={onError:function(s){Gi=!0,bc=s}};function uC(s,o,u,y,k,j,$,H,G){Gi=!1,bc=null,cC.apply(lC,arguments)}function dC(s,o,u,y,k,j,$,H,G){if(uC.apply(this,arguments),Gi){if(Gi){var Z=bc;Gi=!1,bc=null}else throw Error(r(198));_c||(_c=!0,Zd=Z)}}function to(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function av(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function cv(s){if(to(s)!==s)throw Error(r(188))}function fC(s){var o=s.alternate;if(!o){if(o=to(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,y=o;;){var k=u.return;if(k===null)break;var j=k.alternate;if(j===null){if(y=k.return,y!==null){u=y;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===u)return cv(k),s;if(j===y)return cv(k),o;j=j.sibling}throw Error(r(188))}if(u.return!==y.return)u=k,y=j;else{for(var $=!1,H=k.child;H;){if(H===u){$=!0,u=k,y=j;break}if(H===y){$=!0,y=k,u=j;break}H=H.sibling}if(!$){for(H=j.child;H;){if(H===u){$=!0,u=j,y=k;break}if(H===y){$=!0,y=j,u=k;break}H=H.sibling}if(!$)throw Error(r(189))}}if(u.alternate!==y)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function lv(s){return s=fC(s),s!==null?uv(s):null}function uv(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=uv(s);if(o!==null)return o;s=s.sibling}return null}var dv=t.unstable_scheduleCallback,fv=t.unstable_cancelCallback,pC=t.unstable_shouldYield,hC=t.unstable_requestPaint,St=t.unstable_now,mC=t.unstable_getCurrentPriorityLevel,ef=t.unstable_ImmediatePriority,pv=t.unstable_UserBlockingPriority,xc=t.unstable_NormalPriority,gC=t.unstable_LowPriority,hv=t.unstable_IdlePriority,Cc=null,Dn=null;function vC(s){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Cc,s,void 0,(s.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:SC,yC=Math.log,wC=Math.LN2;function SC(s){return s>>>=0,s===0?32:31-(yC(s)/wC|0)|0}var Rc=64,Ec=4194304;function Ki(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Tc(s,o){var u=s.pendingLanes;if(u===0)return 0;var y=0,k=s.suspendedLanes,j=s.pingedLanes,$=u&268435455;if($!==0){var H=$&~k;H!==0?y=Ki(H):(j&=$,j!==0&&(y=Ki(j)))}else $=u&~k,$!==0?y=Ki($):j!==0&&(y=Ki(j));if(y===0)return 0;if(o!==0&&o!==y&&(o&k)===0&&(k=y&-y,j=o&-o,k>=j||k===16&&(j&4194240)!==0))return o;if((y&4)!==0&&(y|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=y;0<o;)u=31-Xr(o),k=1<<u,y|=s[u],o&=~k;return y}function bC(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _C(s,o){for(var u=s.suspendedLanes,y=s.pingedLanes,k=s.expirationTimes,j=s.pendingLanes;0<j;){var $=31-Xr(j),H=1<<$,G=k[$];G===-1?((H&u)===0||(H&y)!==0)&&(k[$]=bC(H,o)):G<=o&&(s.expiredLanes|=H),j&=~H}}function tf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function mv(){var s=Rc;return Rc<<=1,(Rc&4194240)===0&&(Rc=64),s}function rf(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Yi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Xr(o),s[o]=u}function xC(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<u;){var k=31-Xr(u),j=1<<k;o[k]=0,y[k]=-1,s[k]=-1,u&=~j}}function nf(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var y=31-Xr(u),k=1<<y;k&o|s[y]&o&&(s[y]|=o),u&=~k}}var Xe=0;function gv(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var vv,sf,yv,wv,Sv,of=!1,kc=[],bs=null,_s=null,xs=null,Xi=new Map,Qi=new Map,Cs=[],CC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(s,o){switch(s){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(o.pointerId)}}function Ji(s,o,u,y,k,j){return s===null||s.nativeEvent!==j?(s={blockedOn:o,domEventName:u,eventSystemFlags:y,nativeEvent:j,targetContainers:[k]},o!==null&&(o=fa(o),o!==null&&sf(o)),s):(s.eventSystemFlags|=y,o=s.targetContainers,k!==null&&o.indexOf(k)===-1&&o.push(k),s)}function RC(s,o,u,y,k){switch(o){case"focusin":return bs=Ji(bs,s,o,u,y,k),!0;case"dragenter":return _s=Ji(_s,s,o,u,y,k),!0;case"mouseover":return xs=Ji(xs,s,o,u,y,k),!0;case"pointerover":var j=k.pointerId;return Xi.set(j,Ji(Xi.get(j)||null,s,o,u,y,k)),!0;case"gotpointercapture":return j=k.pointerId,Qi.set(j,Ji(Qi.get(j)||null,s,o,u,y,k)),!0}return!1}function _v(s){var o=ro(s.target);if(o!==null){var u=to(o);if(u!==null){if(o=u.tag,o===13){if(o=av(u),o!==null){s.blockedOn=o,Sv(s.priority,function(){yv(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=cf(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var y=new u.constructor(u.type,u);Kd=y,u.target.dispatchEvent(y),Kd=null}else return o=fa(u),o!==null&&sf(o),s.blockedOn=u,!1;o.shift()}return!0}function xv(s,o,u){Pc(s)&&u.delete(o)}function EC(){of=!1,bs!==null&&Pc(bs)&&(bs=null),_s!==null&&Pc(_s)&&(_s=null),xs!==null&&Pc(xs)&&(xs=null),Xi.forEach(xv),Qi.forEach(xv)}function Zi(s,o){s.blockedOn===o&&(s.blockedOn=null,of||(of=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EC)))}function ea(s){function o(k){return Zi(k,s)}if(0<kc.length){Zi(kc[0],s);for(var u=1;u<kc.length;u++){var y=kc[u];y.blockedOn===s&&(y.blockedOn=null)}}for(bs!==null&&Zi(bs,s),_s!==null&&Zi(_s,s),xs!==null&&Zi(xs,s),Xi.forEach(o),Qi.forEach(o),u=0;u<Cs.length;u++)y=Cs[u],y.blockedOn===s&&(y.blockedOn=null);for(;0<Cs.length&&(u=Cs[0],u.blockedOn===null);)_v(u),u.blockedOn===null&&Cs.shift()}var Ho=f.ReactCurrentBatchConfig,Dc=!0;function TC(s,o,u,y){var k=Xe,j=Ho.transition;Ho.transition=null;try{Xe=1,af(s,o,u,y)}finally{Xe=k,Ho.transition=j}}function kC(s,o,u,y){var k=Xe,j=Ho.transition;Ho.transition=null;try{Xe=4,af(s,o,u,y)}finally{Xe=k,Ho.transition=j}}function af(s,o,u,y){if(Dc){var k=cf(s,o,u,y);if(k===null)Rf(s,o,y,jc,u),bv(s,y);else if(RC(k,s,o,u,y))y.stopPropagation();else if(bv(s,y),o&4&&-1<CC.indexOf(s)){for(;k!==null;){var j=fa(k);if(j!==null&&vv(j),j=cf(s,o,u,y),j===null&&Rf(s,o,y,jc,u),j===k)break;k=j}k!==null&&y.stopPropagation()}else Rf(s,o,y,null,u)}}var jc=null;function cf(s,o,u,y){if(jc=null,s=Yd(y),s=ro(s),s!==null)if(o=to(s),o===null)s=null;else if(u=o.tag,u===13){if(s=av(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return jc=s,null}function Cv(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mC()){case ef:return 1;case pv:return 4;case xc:case gC:return 16;case hv:return 536870912;default:return 16}default:return 16}}var Rs=null,lf=null,Ic=null;function Rv(){if(Ic)return Ic;var s,o=lf,u=o.length,y,k="value"in Rs?Rs.value:Rs.textContent,j=k.length;for(s=0;s<u&&o[s]===k[s];s++);var $=u-s;for(y=1;y<=$&&o[u-y]===k[j-y];y++);return Ic=k.slice(s,1<y?1-y:void 0)}function Mc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Lc(){return!0}function Ev(){return!1}function xr(s){function o(u,y,k,j,$){this._reactName=u,this._targetInst=k,this.type=y,this.nativeEvent=j,this.target=$,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(u=s[H],this[H]=u?u(j):j[H]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Lc:Ev,this.isPropagationStopped=Ev,this}return q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),o}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=xr(Wo),ta=q({},Wo,{view:0,detail:0}),PC=xr(ta),df,ff,ra,Oc=q({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ra&&(ra&&s.type==="mousemove"?(df=s.screenX-ra.screenX,ff=s.screenY-ra.screenY):ff=df=0,ra=s),df)},movementY:function(s){return"movementY"in s?s.movementY:ff}}),Tv=xr(Oc),DC=q({},Oc,{dataTransfer:0}),jC=xr(DC),IC=q({},ta,{relatedTarget:0}),pf=xr(IC),MC=q({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),LC=xr(MC),OC=q({},Wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),NC=xr(OC),AC=q({},Wo,{data:0}),kv=xr(AC),$C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=zC[s])?!!o[s]:!1}function hf(){return BC}var UC=q({},ta,{key:function(s){if(s.key){var o=$C[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?FC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(s){return s.type==="keypress"?Mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),VC=xr(UC),HC=q({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=xr(HC),WC=q({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),qC=xr(WC),GC=q({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KC=xr(GC),YC=q({},Oc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),XC=xr(YC),QC=[9,13,27,32],mf=l&&"CompositionEvent"in window,na=null;l&&"documentMode"in document&&(na=document.documentMode);var JC=l&&"TextEvent"in window&&!na,Dv=l&&(!mf||na&&8<na&&11>=na),jv=" ",Iv=!1;function Mv(s,o){switch(s){case"keyup":return QC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qo=!1;function ZC(s,o){switch(s){case"compositionend":return Lv(o);case"keypress":return o.which!==32?null:(Iv=!0,jv);case"textInput":return s=o.data,s===jv&&Iv?null:s;default:return null}}function eR(s,o){if(qo)return s==="compositionend"||!mf&&Mv(s,o)?(s=Rv(),Ic=lf=Rs=null,qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Dv&&o.locale!=="ko"?null:o.data;default:return null}}var tR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ov(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!tR[s.type]:o==="textarea"}function Nv(s,o,u,y){rv(y),o=zc(o,"onChange"),0<o.length&&(u=new uf("onChange","change",null,u,y),s.push({event:u,listeners:o}))}var sa=null,oa=null;function rR(s){ey(s,0)}function Nc(s){var o=Qo(s);if(yt(o))return s}function nR(s,o){if(s==="change")return o}var Av=!1;if(l){var gf;if(l){var vf="oninput"in document;if(!vf){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),vf=typeof $v.oninput=="function"}gf=vf}else gf=!1;Av=gf&&(!document.documentMode||9<document.documentMode)}function Fv(){sa&&(sa.detachEvent("onpropertychange",zv),oa=sa=null)}function zv(s){if(s.propertyName==="value"&&Nc(oa)){var o=[];Nv(o,oa,s,Yd(s)),iv(rR,o)}}function sR(s,o,u){s==="focusin"?(Fv(),sa=o,oa=u,sa.attachEvent("onpropertychange",zv)):s==="focusout"&&Fv()}function oR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nc(oa)}function iR(s,o){if(s==="click")return Nc(o)}function aR(s,o){if(s==="input"||s==="change")return Nc(o)}function cR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Qr=typeof Object.is=="function"?Object.is:cR;function ia(s,o){if(Qr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),y=Object.keys(o);if(u.length!==y.length)return!1;for(y=0;y<u.length;y++){var k=u[y];if(!d.call(o,k)||!Qr(s[k],o[k]))return!1}return!0}function Bv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uv(s,o){var u=Bv(s);s=0;for(var y;u;){if(u.nodeType===3){if(y=s+u.textContent.length,s<=o&&y>=o)return{node:u,offset:o-s};s=y}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bv(u)}}function Vv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Vv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Hv(){for(var s=window,o=ct();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ct(s.document)}return o}function yf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function lR(s){var o=Hv(),u=s.focusedElem,y=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Vv(u.ownerDocument.documentElement,u)){if(y!==null&&yf(u)){if(o=y.start,s=y.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var k=u.textContent.length,j=Math.min(y.start,k);y=y.end===void 0?j:Math.min(y.end,k),!s.extend&&j>y&&(k=y,y=j,j=k),k=Uv(u,j);var $=Uv(u,y);k&&$&&(s.rangeCount!==1||s.anchorNode!==k.node||s.anchorOffset!==k.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(k.node,k.offset),s.removeAllRanges(),j>y?(s.addRange(o),s.extend($.node,$.offset)):(o.setEnd($.node,$.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var uR=l&&"documentMode"in document&&11>=document.documentMode,Go=null,wf=null,aa=null,Sf=!1;function Wv(s,o,u){var y=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sf||Go==null||Go!==ct(y)||(y=Go,"selectionStart"in y&&yf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),aa&&ia(aa,y)||(aa=y,y=zc(wf,"onSelect"),0<y.length&&(o=new uf("onSelect","select",null,o,u),s.push({event:o,listeners:y}),o.target=Go)))}function Ac(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ko={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},bf={},qv={};l&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function $c(s){if(bf[s])return bf[s];if(!Ko[s])return s;var o=Ko[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in qv)return bf[s]=o[u];return s}var Gv=$c("animationend"),Kv=$c("animationiteration"),Yv=$c("animationstart"),Xv=$c("transitionend"),Qv=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(s,o){Qv.set(s,o),a(o,[s])}for(var _f=0;_f<Jv.length;_f++){var xf=Jv[_f],dR=xf.toLowerCase(),fR=xf[0].toUpperCase()+xf.slice(1);Es(dR,"on"+fR)}Es(Gv,"onAnimationEnd"),Es(Kv,"onAnimationIteration"),Es(Yv,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Xv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Zv(s,o,u){var y=s.type||"unknown-event";s.currentTarget=u,dC(y,o,void 0,s),s.currentTarget=null}function ey(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var y=s[u],k=y.event;y=y.listeners;e:{var j=void 0;if(o)for(var $=y.length-1;0<=$;$--){var H=y[$],G=H.instance,Z=H.currentTarget;if(H=H.listener,G!==j&&k.isPropagationStopped())break e;Zv(k,H,Z),j=G}else for($=0;$<y.length;$++){if(H=y[$],G=H.instance,Z=H.currentTarget,H=H.listener,G!==j&&k.isPropagationStopped())break e;Zv(k,H,Z),j=G}}}if(_c)throw s=Zd,_c=!1,Zd=null,s}function nt(s,o){var u=o[jf];u===void 0&&(u=o[jf]=new Set);var y=s+"__bubble";u.has(y)||(ty(o,s,2,!1),u.add(y))}function Cf(s,o,u){var y=0;o&&(y|=4),ty(u,s,y,o)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function la(s){if(!s[Fc]){s[Fc]=!0,n.forEach(function(u){u!=="selectionchange"&&(pR.has(u)||Cf(u,!1,s),Cf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fc]||(o[Fc]=!0,Cf("selectionchange",!1,o))}}function ty(s,o,u,y){switch(Cv(o)){case 1:var k=TC;break;case 4:k=kC;break;default:k=af}u=k.bind(null,o,u,s),k=void 0,!Jd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(k=!0),y?k!==void 0?s.addEventListener(o,u,{capture:!0,passive:k}):s.addEventListener(o,u,!0):k!==void 0?s.addEventListener(o,u,{passive:k}):s.addEventListener(o,u,!1)}function Rf(s,o,u,y,k){var j=y;if((o&1)===0&&(o&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var H=y.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if($===4)for($=y.return;$!==null;){var G=$.tag;if((G===3||G===4)&&(G=$.stateNode.containerInfo,G===k||G.nodeType===8&&G.parentNode===k))return;$=$.return}for(;H!==null;){if($=ro(H),$===null)return;if(G=$.tag,G===5||G===6){y=j=$;continue e}H=H.parentNode}}y=y.return}iv(function(){var Z=j,se=Yd(u),ae=[];e:{var re=Qv.get(s);if(re!==void 0){var pe=uf,ve=s;switch(s){case"keypress":if(Mc(u)===0)break e;case"keydown":case"keyup":pe=VC;break;case"focusin":ve="focus",pe=pf;break;case"focusout":ve="blur",pe=pf;break;case"beforeblur":case"afterblur":pe=pf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=qC;break;case Gv:case Kv:case Yv:pe=LC;break;case Xv:pe=KC;break;case"scroll":pe=PC;break;case"wheel":pe=XC;break;case"copy":case"cut":case"paste":pe=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Pv}var we=(o&4)!==0,bt=!we&&s==="scroll",Q=we?re!==null?re+"Capture":null:re;we=[];for(var Y=Z,J;Y!==null;){J=Y;var le=J.stateNode;if(J.tag===5&&le!==null&&(J=le,Q!==null&&(le=Wi(Y,Q),le!=null&&we.push(ua(Y,le,J)))),bt)break;Y=Y.return}0<we.length&&(re=new pe(re,ve,null,u,se),ae.push({event:re,listeners:we}))}}if((o&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&u!==Kd&&(ve=u.relatedTarget||u.fromElement)&&(ro(ve)||ve[Yn]))break e;if((pe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=u.relatedTarget||u.toElement,pe=Z,ve=ve?ro(ve):null,ve!==null&&(bt=to(ve),ve!==bt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Z),pe!==ve)){if(we=Tv,le="onMouseLeave",Q="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(we=Pv,le="onPointerLeave",Q="onPointerEnter",Y="pointer"),bt=pe==null?re:Qo(pe),J=ve==null?re:Qo(ve),re=new we(le,Y+"leave",pe,u,se),re.target=bt,re.relatedTarget=J,le=null,ro(se)===Z&&(we=new we(Q,Y+"enter",ve,u,se),we.target=J,we.relatedTarget=bt,le=we),bt=le,pe&&ve)t:{for(we=pe,Q=ve,Y=0,J=we;J;J=Yo(J))Y++;for(J=0,le=Q;le;le=Yo(le))J++;for(;0<Y-J;)we=Yo(we),Y--;for(;0<J-Y;)Q=Yo(Q),J--;for(;Y--;){if(we===Q||Q!==null&&we===Q.alternate)break t;we=Yo(we),Q=Yo(Q)}we=null}else we=null;pe!==null&&ry(ae,re,pe,we,!1),ve!==null&&bt!==null&&ry(ae,bt,ve,we,!0)}}e:{if(re=Z?Qo(Z):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var be=nR;else if(Ov(re))if(Av)be=aR;else{be=oR;var _e=sR}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(be=iR);if(be&&(be=be(s,Z))){Nv(ae,be,u,se);break e}_e&&_e(s,re,Z),s==="focusout"&&(_e=re._wrapperState)&&_e.controlled&&re.type==="number"&&mt(re,"number",re.value)}switch(_e=Z?Qo(Z):window,s){case"focusin":(Ov(_e)||_e.contentEditable==="true")&&(Go=_e,wf=Z,aa=null);break;case"focusout":aa=wf=Go=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Wv(ae,u,se);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":Wv(ae,u,se)}var xe;if(mf)e:{switch(s){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else qo?Mv(s,u)&&(Ee="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Dv&&u.locale!=="ko"&&(qo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&qo&&(xe=Rv()):(Rs=se,lf="value"in Rs?Rs.value:Rs.textContent,qo=!0)),_e=zc(Z,Ee),0<_e.length&&(Ee=new kv(Ee,s,null,u,se),ae.push({event:Ee,listeners:_e}),xe?Ee.data=xe:(xe=Lv(u),xe!==null&&(Ee.data=xe)))),(xe=JC?ZC(s,u):eR(s,u))&&(Z=zc(Z,"onBeforeInput"),0<Z.length&&(se=new kv("onBeforeInput","beforeinput",null,u,se),ae.push({event:se,listeners:Z}),se.data=xe))}ey(ae,o)})}function ua(s,o,u){return{instance:s,listener:o,currentTarget:u}}function zc(s,o){for(var u=o+"Capture",y=[];s!==null;){var k=s,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Wi(s,u),j!=null&&y.unshift(ua(s,j,k)),j=Wi(s,o),j!=null&&y.push(ua(s,j,k))),s=s.return}return y}function Yo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ry(s,o,u,y,k){for(var j=o._reactName,$=[];u!==null&&u!==y;){var H=u,G=H.alternate,Z=H.stateNode;if(G!==null&&G===y)break;H.tag===5&&Z!==null&&(H=Z,k?(G=Wi(u,j),G!=null&&$.unshift(ua(u,G,H))):k||(G=Wi(u,j),G!=null&&$.push(ua(u,G,H)))),u=u.return}$.length!==0&&s.push({event:o,listeners:$})}var hR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function ny(s){return(typeof s=="string"?s:""+s).replace(hR,`
`).replace(mR,"")}function Bc(s,o,u){if(o=ny(o),ny(s)!==o&&u)throw Error(r(425))}function Uc(){}var Ef=null,Tf=null;function kf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,vR=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(s){return sy.resolve(null).then(s).catch(yR)}:Pf;function yR(s){setTimeout(function(){throw s})}function Df(s,o){var u=o,y=0;do{var k=u.nextSibling;if(s.removeChild(u),k&&k.nodeType===8)if(u=k.data,u==="/$"){if(y===0){s.removeChild(k),ea(o);return}y--}else u!=="$"&&u!=="$?"&&u!=="$!"||y++;u=k}while(u);ea(o)}function Ts(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function oy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),jn="__reactFiber$"+Xo,da="__reactProps$"+Xo,Yn="__reactContainer$"+Xo,jf="__reactEvents$"+Xo,wR="__reactListeners$"+Xo,SR="__reactHandles$"+Xo;function ro(s){var o=s[jn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Yn]||u[jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=oy(s);s!==null;){if(u=s[jn])return u;s=oy(s)}return o}s=u,u=s.parentNode}return null}function fa(s){return s=s[jn]||s[Yn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Qo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Vc(s){return s[da]||null}var If=[],Jo=-1;function ks(s){return{current:s}}function st(s){0>Jo||(s.current=If[Jo],If[Jo]=null,Jo--)}function et(s,o){Jo++,If[Jo]=s.current,s.current=o}var Ps={},qt=ks(Ps),lr=ks(!1),no=Ps;function Zo(s,o){var u=s.type.contextTypes;if(!u)return Ps;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===o)return y.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in u)k[j]=o[j];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=k),k}function ur(s){return s=s.childContextTypes,s!=null}function Hc(){st(lr),st(qt)}function iy(s,o,u){if(qt.current!==Ps)throw Error(r(168));et(qt,o),et(lr,u)}function ay(s,o,u){var y=s.stateNode;if(o=o.childContextTypes,typeof y.getChildContext!="function")return u;y=y.getChildContext();for(var k in y)if(!(k in o))throw Error(r(108,ue(s)||"Unknown",k));return q({},u,y)}function Wc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ps,no=qt.current,et(qt,s),et(lr,lr.current),!0}function cy(s,o,u){var y=s.stateNode;if(!y)throw Error(r(169));u?(s=ay(s,o,no),y.__reactInternalMemoizedMergedChildContext=s,st(lr),st(qt),et(qt,s)):st(lr),et(lr,u)}var Xn=null,qc=!1,Mf=!1;function ly(s){Xn===null?Xn=[s]:Xn.push(s)}function bR(s){qc=!0,ly(s)}function Ds(){if(!Mf&&Xn!==null){Mf=!0;var s=0,o=Xe;try{var u=Xn;for(Xe=1;s<u.length;s++){var y=u[s];do y=y(!0);while(y!==null)}Xn=null,qc=!1}catch(k){throw Xn!==null&&(Xn=Xn.slice(s+1)),dv(ef,Ds),k}finally{Xe=o,Mf=!1}}return null}var ei=[],ti=0,Gc=null,Kc=0,Or=[],Nr=0,so=null,Qn=1,Jn="";function oo(s,o){ei[ti++]=Kc,ei[ti++]=Gc,Gc=s,Kc=o}function uy(s,o,u){Or[Nr++]=Qn,Or[Nr++]=Jn,Or[Nr++]=so,so=s;var y=Qn;s=Jn;var k=32-Xr(y)-1;y&=~(1<<k),u+=1;var j=32-Xr(o)+k;if(30<j){var $=k-k%5;j=(y&(1<<$)-1).toString(32),y>>=$,k-=$,Qn=1<<32-Xr(o)+k|u<<k|y,Jn=j+s}else Qn=1<<j|u<<k|y,Jn=s}function Lf(s){s.return!==null&&(oo(s,1),uy(s,1,0))}function Of(s){for(;s===Gc;)Gc=ei[--ti],ei[ti]=null,Kc=ei[--ti],ei[ti]=null;for(;s===so;)so=Or[--Nr],Or[Nr]=null,Jn=Or[--Nr],Or[Nr]=null,Qn=Or[--Nr],Or[Nr]=null}var Cr=null,Rr=null,at=!1,Jr=null;function dy(s,o){var u=zr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function fy(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Cr=s,Rr=Ts(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Cr=s,Rr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=so!==null?{id:Qn,overflow:Jn}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Cr=s,Rr=null,!0):!1;default:return!1}}function Nf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Af(s){if(at){var o=Rr;if(o){var u=o;if(!fy(s,o)){if(Nf(s))throw Error(r(418));o=Ts(u.nextSibling);var y=Cr;o&&fy(s,o)?dy(y,u):(s.flags=s.flags&-4097|2,at=!1,Cr=s)}}else{if(Nf(s))throw Error(r(418));s.flags=s.flags&-4097|2,at=!1,Cr=s}}}function py(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cr=s}function Yc(s){if(s!==Cr)return!1;if(!at)return py(s),at=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!kf(s.type,s.memoizedProps)),o&&(o=Rr)){if(Nf(s))throw hy(),Error(r(418));for(;o;)dy(s,o),o=Ts(o.nextSibling)}if(py(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Rr=Ts(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Rr=null}}else Rr=Cr?Ts(s.stateNode.nextSibling):null;return!0}function hy(){for(var s=Rr;s;)s=Ts(s.nextSibling)}function ri(){Rr=Cr=null,at=!1}function $f(s){Jr===null?Jr=[s]:Jr.push(s)}var _R=f.ReactCurrentBatchConfig;function pa(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var y=u.stateNode}if(!y)throw Error(r(147,s));var k=y,j=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function($){var H=k.refs;$===null?delete H[j]:H[j]=$},o._stringRef=j,o)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function Xc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function my(s){var o=s._init;return o(s._payload)}function gy(s){function o(Q,Y){if(s){var J=Q.deletions;J===null?(Q.deletions=[Y],Q.flags|=16):J.push(Y)}}function u(Q,Y){if(!s)return null;for(;Y!==null;)o(Q,Y),Y=Y.sibling;return null}function y(Q,Y){for(Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function k(Q,Y){return Q=$s(Q,Y),Q.index=0,Q.sibling=null,Q}function j(Q,Y,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<Y?(Q.flags|=2,Y):J):(Q.flags|=2,Y)):(Q.flags|=1048576,Y)}function $(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function H(Q,Y,J,le){return Y===null||Y.tag!==6?(Y=Pp(J,Q.mode,le),Y.return=Q,Y):(Y=k(Y,J),Y.return=Q,Y)}function G(Q,Y,J,le){var be=J.type;return be===P?se(Q,Y,J.props.children,le,J.key):Y!==null&&(Y.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&my(be)===Y.type)?(le=k(Y,J.props),le.ref=pa(Q,Y,J),le.return=Q,le):(le=Sl(J.type,J.key,J.props,null,Q.mode,le),le.ref=pa(Q,Y,J),le.return=Q,le)}function Z(Q,Y,J,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Dp(J,Q.mode,le),Y.return=Q,Y):(Y=k(Y,J.children||[]),Y.return=Q,Y)}function se(Q,Y,J,le,be){return Y===null||Y.tag!==7?(Y=ho(J,Q.mode,le,be),Y.return=Q,Y):(Y=k(Y,J),Y.return=Q,Y)}function ae(Q,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Pp(""+Y,Q.mode,J),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case g:return J=Sl(Y.type,Y.key,Y.props,null,Q.mode,J),J.ref=pa(Q,null,Y),J.return=Q,J;case x:return Y=Dp(Y,Q.mode,J),Y.return=Q,Y;case O:var le=Y._init;return ae(Q,le(Y._payload),J)}if(Ke(Y)||z(Y))return Y=ho(Y,Q.mode,J,null),Y.return=Q,Y;Xc(Q,Y)}return null}function re(Q,Y,J,le){var be=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:H(Q,Y,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case g:return J.key===be?G(Q,Y,J,le):null;case x:return J.key===be?Z(Q,Y,J,le):null;case O:return be=J._init,re(Q,Y,be(J._payload),le)}if(Ke(J)||z(J))return be!==null?null:se(Q,Y,J,le,null);Xc(Q,J)}return null}function pe(Q,Y,J,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return Q=Q.get(J)||null,H(Y,Q,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return Q=Q.get(le.key===null?J:le.key)||null,G(Y,Q,le,be);case x:return Q=Q.get(le.key===null?J:le.key)||null,Z(Y,Q,le,be);case O:var _e=le._init;return pe(Q,Y,J,_e(le._payload),be)}if(Ke(le)||z(le))return Q=Q.get(J)||null,se(Y,Q,le,be,null);Xc(Y,le)}return null}function ve(Q,Y,J,le){for(var be=null,_e=null,xe=Y,Ee=Y=0,Ot=null;xe!==null&&Ee<J.length;Ee++){xe.index>Ee?(Ot=xe,xe=null):Ot=xe.sibling;var We=re(Q,xe,J[Ee],le);if(We===null){xe===null&&(xe=Ot);break}s&&xe&&We.alternate===null&&o(Q,xe),Y=j(We,Y,Ee),_e===null?be=We:_e.sibling=We,_e=We,xe=Ot}if(Ee===J.length)return u(Q,xe),at&&oo(Q,Ee),be;if(xe===null){for(;Ee<J.length;Ee++)xe=ae(Q,J[Ee],le),xe!==null&&(Y=j(xe,Y,Ee),_e===null?be=xe:_e.sibling=xe,_e=xe);return at&&oo(Q,Ee),be}for(xe=y(Q,xe);Ee<J.length;Ee++)Ot=pe(xe,Q,Ee,J[Ee],le),Ot!==null&&(s&&Ot.alternate!==null&&xe.delete(Ot.key===null?Ee:Ot.key),Y=j(Ot,Y,Ee),_e===null?be=Ot:_e.sibling=Ot,_e=Ot);return s&&xe.forEach(function(Fs){return o(Q,Fs)}),at&&oo(Q,Ee),be}function we(Q,Y,J,le){var be=z(J);if(typeof be!="function")throw Error(r(150));if(J=be.call(J),J==null)throw Error(r(151));for(var _e=be=null,xe=Y,Ee=Y=0,Ot=null,We=J.next();xe!==null&&!We.done;Ee++,We=J.next()){xe.index>Ee?(Ot=xe,xe=null):Ot=xe.sibling;var Fs=re(Q,xe,We.value,le);if(Fs===null){xe===null&&(xe=Ot);break}s&&xe&&Fs.alternate===null&&o(Q,xe),Y=j(Fs,Y,Ee),_e===null?be=Fs:_e.sibling=Fs,_e=Fs,xe=Ot}if(We.done)return u(Q,xe),at&&oo(Q,Ee),be;if(xe===null){for(;!We.done;Ee++,We=J.next())We=ae(Q,We.value,le),We!==null&&(Y=j(We,Y,Ee),_e===null?be=We:_e.sibling=We,_e=We);return at&&oo(Q,Ee),be}for(xe=y(Q,xe);!We.done;Ee++,We=J.next())We=pe(xe,Q,Ee,We.value,le),We!==null&&(s&&We.alternate!==null&&xe.delete(We.key===null?Ee:We.key),Y=j(We,Y,Ee),_e===null?be=We:_e.sibling=We,_e=We);return s&&xe.forEach(function(tE){return o(Q,tE)}),at&&oo(Q,Ee),be}function bt(Q,Y,J,le){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case g:e:{for(var be=J.key,_e=Y;_e!==null;){if(_e.key===be){if(be=J.type,be===P){if(_e.tag===7){u(Q,_e.sibling),Y=k(_e,J.props.children),Y.return=Q,Q=Y;break e}}else if(_e.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&my(be)===_e.type){u(Q,_e.sibling),Y=k(_e,J.props),Y.ref=pa(Q,_e,J),Y.return=Q,Q=Y;break e}u(Q,_e);break}else o(Q,_e);_e=_e.sibling}J.type===P?(Y=ho(J.props.children,Q.mode,le,J.key),Y.return=Q,Q=Y):(le=Sl(J.type,J.key,J.props,null,Q.mode,le),le.ref=pa(Q,Y,J),le.return=Q,Q=le)}return $(Q);case x:e:{for(_e=J.key;Y!==null;){if(Y.key===_e)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){u(Q,Y.sibling),Y=k(Y,J.children||[]),Y.return=Q,Q=Y;break e}else{u(Q,Y);break}else o(Q,Y);Y=Y.sibling}Y=Dp(J,Q.mode,le),Y.return=Q,Q=Y}return $(Q);case O:return _e=J._init,bt(Q,Y,_e(J._payload),le)}if(Ke(J))return ve(Q,Y,J,le);if(z(J))return we(Q,Y,J,le);Xc(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,Y!==null&&Y.tag===6?(u(Q,Y.sibling),Y=k(Y,J),Y.return=Q,Q=Y):(u(Q,Y),Y=Pp(J,Q.mode,le),Y.return=Q,Q=Y),$(Q)):u(Q,Y)}return bt}var ni=gy(!0),vy=gy(!1),Qc=ks(null),Jc=null,si=null,Ff=null;function zf(){Ff=si=Jc=null}function Bf(s){var o=Qc.current;st(Qc),s._currentValue=o}function Uf(s,o,u){for(;s!==null;){var y=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,y!==null&&(y.childLanes|=o)):y!==null&&(y.childLanes&o)!==o&&(y.childLanes|=o),s===u)break;s=s.return}}function oi(s,o){Jc=s,Ff=si=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(dr=!0),s.firstContext=null)}function Ar(s){var o=s._currentValue;if(Ff!==s)if(s={context:s,memoizedValue:o,next:null},si===null){if(Jc===null)throw Error(r(308));si=s,Jc.dependencies={lanes:0,firstContext:s}}else si=si.next=s;return o}var io=null;function Vf(s){io===null?io=[s]:io.push(s)}function yy(s,o,u,y){var k=o.interleaved;return k===null?(u.next=u,Vf(o)):(u.next=k.next,k.next=u),o.interleaved=u,Zn(s,y)}function Zn(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var js=!1;function Hf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function es(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Is(s,o,u){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Ve&2)!==0){var k=y.pending;return k===null?o.next=o:(o.next=k.next,k.next=o),y.pending=o,Zn(s,u)}return k=y.interleaved,k===null?(o.next=o,Vf(y)):(o.next=k.next,k.next=o),y.interleaved=o,Zn(s,u)}function Zc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var y=o.lanes;y&=s.pendingLanes,u|=y,o.lanes=u,nf(s,u)}}function Sy(s,o){var u=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,u===y)){var k=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var $={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?k=j=$:j=j.next=$,u=u.next}while(u!==null);j===null?k=j=o:j=j.next=o}else k=j=o;u={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:y.shared,effects:y.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function el(s,o,u,y){var k=s.updateQueue;js=!1;var j=k.firstBaseUpdate,$=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var G=H,Z=G.next;G.next=null,$===null?j=Z:$.next=Z,$=G;var se=s.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==$&&(H===null?se.firstBaseUpdate=Z:H.next=Z,se.lastBaseUpdate=G))}if(j!==null){var ae=k.baseState;$=0,se=Z=G=null,H=j;do{var re=H.lane,pe=H.eventTime;if((y&re)===re){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ve=s,we=H;switch(re=o,pe=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ae=ve.call(pe,ae,re);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,ae,re):ve,re==null)break e;ae=q({},ae,re);break e;case 2:js=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,re=k.effects,re===null?k.effects=[H]:re.push(H))}else pe={eventTime:pe,lane:re,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(Z=se=pe,G=ae):se=se.next=pe,$|=re;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;re=H,H=re.next,re.next=null,k.lastBaseUpdate=re,k.shared.pending=null}}while(!0);if(se===null&&(G=ae),k.baseState=G,k.firstBaseUpdate=Z,k.lastBaseUpdate=se,o=k.shared.interleaved,o!==null){k=o;do $|=k.lane,k=k.next;while(k!==o)}else j===null&&(k.shared.lanes=0);lo|=$,s.lanes=$,s.memoizedState=ae}}function by(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var y=s[o],k=y.callback;if(k!==null){if(y.callback=null,y=u,typeof k!="function")throw Error(r(191,k));k.call(y)}}}var ha={},In=ks(ha),ma=ks(ha),ga=ks(ha);function ao(s){if(s===ha)throw Error(r(174));return s}function Wf(s,o){switch(et(ga,o),et(ma,s),et(In,ha),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pe(o,s)}st(In),et(In,o)}function ii(){st(In),st(ma),st(ga)}function _y(s){ao(ga.current);var o=ao(In.current),u=Pe(o,s.type);o!==u&&(et(ma,s),et(In,u))}function qf(s){ma.current===s&&(st(In),st(ma))}var ft=ks(0);function tl(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gf=[];function Kf(){for(var s=0;s<Gf.length;s++)Gf[s]._workInProgressVersionPrimary=null;Gf.length=0}var rl=f.ReactCurrentDispatcher,Yf=f.ReactCurrentBatchConfig,co=0,pt=null,kt=null,Mt=null,nl=!1,va=!1,ya=0,xR=0;function Gt(){throw Error(r(321))}function Xf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Qr(s[u],o[u]))return!1;return!0}function Qf(s,o,u,y,k,j){if(co=j,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,rl.current=s===null||s.memoizedState===null?TR:kR,s=u(y,k),va){j=0;do{if(va=!1,ya=0,25<=j)throw Error(r(301));j+=1,Mt=kt=null,o.updateQueue=null,rl.current=PR,s=u(y,k)}while(va)}if(rl.current=il,o=kt!==null&&kt.next!==null,co=0,Mt=kt=pt=null,nl=!1,o)throw Error(r(300));return s}function Jf(){var s=ya!==0;return ya=0,s}function Mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?pt.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function $r(){if(kt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=Mt===null?pt.memoizedState:Mt.next;if(o!==null)Mt=o,kt=s;else{if(s===null)throw Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?pt.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}function wa(s,o){return typeof o=="function"?o(s):o}function Zf(s){var o=$r(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var y=kt,k=y.baseQueue,j=u.pending;if(j!==null){if(k!==null){var $=k.next;k.next=j.next,j.next=$}y.baseQueue=k=j,u.pending=null}if(k!==null){j=k.next,y=y.baseState;var H=$=null,G=null,Z=j;do{var se=Z.lane;if((co&se)===se)G!==null&&(G=G.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),y=Z.hasEagerState?Z.eagerState:s(y,Z.action);else{var ae={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};G===null?(H=G=ae,$=y):G=G.next=ae,pt.lanes|=se,lo|=se}Z=Z.next}while(Z!==null&&Z!==j);G===null?$=y:G.next=H,Qr(y,o.memoizedState)||(dr=!0),o.memoizedState=y,o.baseState=$,o.baseQueue=G,u.lastRenderedState=y}if(s=u.interleaved,s!==null){k=s;do j=k.lane,pt.lanes|=j,lo|=j,k=k.next;while(k!==s)}else k===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ep(s){var o=$r(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var y=u.dispatch,k=u.pending,j=o.memoizedState;if(k!==null){u.pending=null;var $=k=k.next;do j=s(j,$.action),$=$.next;while($!==k);Qr(j,o.memoizedState)||(dr=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),u.lastRenderedState=j}return[j,y]}function xy(){}function Cy(s,o){var u=pt,y=$r(),k=o(),j=!Qr(y.memoizedState,k);if(j&&(y.memoizedState=k,dr=!0),y=y.queue,tp(Ty.bind(null,u,y,s),[s]),y.getSnapshot!==o||j||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Sa(9,Ey.bind(null,u,y,k,o),void 0,null),Lt===null)throw Error(r(349));(co&30)!==0||Ry(u,o,k)}return k}function Ry(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ey(s,o,u,y){o.value=u,o.getSnapshot=y,ky(o)&&Py(s)}function Ty(s,o,u){return u(function(){ky(o)&&Py(s)})}function ky(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Qr(s,u)}catch{return!0}}function Py(s){var o=Zn(s,1);o!==null&&rn(o,s,1,-1)}function Dy(s){var o=Mn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:s},o.queue=s,s=s.dispatch=ER.bind(null,pt,s),[o.memoizedState,s]}function Sa(s,o,u,y){return s={tag:s,create:o,destroy:u,deps:y,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(y=u.next,u.next=s,s.next=y,o.lastEffect=s)),s}function jy(){return $r().memoizedState}function sl(s,o,u,y){var k=Mn();pt.flags|=s,k.memoizedState=Sa(1|o,u,void 0,y===void 0?null:y)}function ol(s,o,u,y){var k=$r();y=y===void 0?null:y;var j=void 0;if(kt!==null){var $=kt.memoizedState;if(j=$.destroy,y!==null&&Xf(y,$.deps)){k.memoizedState=Sa(o,u,j,y);return}}pt.flags|=s,k.memoizedState=Sa(1|o,u,j,y)}function Iy(s,o){return sl(8390656,8,s,o)}function tp(s,o){return ol(2048,8,s,o)}function My(s,o){return ol(4,2,s,o)}function Ly(s,o){return ol(4,4,s,o)}function Oy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Ny(s,o,u){return u=u!=null?u.concat([s]):null,ol(4,4,Oy.bind(null,o,s),u)}function rp(){}function Ay(s,o){var u=$r();o=o===void 0?null:o;var y=u.memoizedState;return y!==null&&o!==null&&Xf(o,y[1])?y[0]:(u.memoizedState=[s,o],s)}function $y(s,o){var u=$r();o=o===void 0?null:o;var y=u.memoizedState;return y!==null&&o!==null&&Xf(o,y[1])?y[0]:(s=s(),u.memoizedState=[s,o],s)}function Fy(s,o,u){return(co&21)===0?(s.baseState&&(s.baseState=!1,dr=!0),s.memoizedState=u):(Qr(u,o)||(u=mv(),pt.lanes|=u,lo|=u,s.baseState=!0),o)}function CR(s,o){var u=Xe;Xe=u!==0&&4>u?u:4,s(!0);var y=Yf.transition;Yf.transition={};try{s(!1),o()}finally{Xe=u,Yf.transition=y}}function zy(){return $r().memoizedState}function RR(s,o,u){var y=Ns(s);if(u={lane:y,action:u,hasEagerState:!1,eagerState:null,next:null},By(s))Uy(o,u);else if(u=yy(s,o,u,y),u!==null){var k=rr();rn(u,s,y,k),Vy(u,o,y)}}function ER(s,o,u){var y=Ns(s),k={lane:y,action:u,hasEagerState:!1,eagerState:null,next:null};if(By(s))Uy(o,k);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var $=o.lastRenderedState,H=j($,u);if(k.hasEagerState=!0,k.eagerState=H,Qr(H,$)){var G=o.interleaved;G===null?(k.next=k,Vf(o)):(k.next=G.next,G.next=k),o.interleaved=k;return}}catch{}finally{}u=yy(s,o,k,y),u!==null&&(k=rr(),rn(u,s,y,k),Vy(u,o,y))}}function By(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function Uy(s,o){va=nl=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Vy(s,o,u){if((u&4194240)!==0){var y=o.lanes;y&=s.pendingLanes,u|=y,o.lanes=u,nf(s,u)}}var il={readContext:Ar,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},TR={readContext:Ar,useCallback:function(s,o){return Mn().memoizedState=[s,o===void 0?null:o],s},useContext:Ar,useEffect:Iy,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,sl(4194308,4,Oy.bind(null,o,s),u)},useLayoutEffect:function(s,o){return sl(4194308,4,s,o)},useInsertionEffect:function(s,o){return sl(4,2,s,o)},useMemo:function(s,o){var u=Mn();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var y=Mn();return o=u!==void 0?u(o):o,y.memoizedState=y.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},y.queue=s,s=s.dispatch=RR.bind(null,pt,s),[y.memoizedState,s]},useRef:function(s){var o=Mn();return s={current:s},o.memoizedState=s},useState:Dy,useDebugValue:rp,useDeferredValue:function(s){return Mn().memoizedState=s},useTransition:function(){var s=Dy(!1),o=s[0];return s=CR.bind(null,s[1]),Mn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var y=pt,k=Mn();if(at){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Lt===null)throw Error(r(349));(co&30)!==0||Ry(y,o,u)}k.memoizedState=u;var j={value:u,getSnapshot:o};return k.queue=j,Iy(Ty.bind(null,y,j,s),[s]),y.flags|=2048,Sa(9,Ey.bind(null,y,j,u,o),void 0,null),u},useId:function(){var s=Mn(),o=Lt.identifierPrefix;if(at){var u=Jn,y=Qn;u=(y&~(1<<32-Xr(y)-1)).toString(32)+u,o=":"+o+"R"+u,u=ya++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=xR++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},kR={readContext:Ar,useCallback:Ay,useContext:Ar,useEffect:tp,useImperativeHandle:Ny,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:$y,useReducer:Zf,useRef:jy,useState:function(){return Zf(wa)},useDebugValue:rp,useDeferredValue:function(s){var o=$r();return Fy(o,kt.memoizedState,s)},useTransition:function(){var s=Zf(wa)[0],o=$r().memoizedState;return[s,o]},useMutableSource:xy,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1},PR={readContext:Ar,useCallback:Ay,useContext:Ar,useEffect:tp,useImperativeHandle:Ny,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:$y,useReducer:ep,useRef:jy,useState:function(){return ep(wa)},useDebugValue:rp,useDeferredValue:function(s){var o=$r();return kt===null?o.memoizedState=s:Fy(o,kt.memoizedState,s)},useTransition:function(){var s=ep(wa)[0],o=$r().memoizedState;return[s,o]},useMutableSource:xy,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1};function Zr(s,o){if(s&&s.defaultProps){o=q({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function np(s,o,u,y){o=s.memoizedState,u=u(y,o),u=u==null?o:q({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var al={isMounted:function(s){return(s=s._reactInternals)?to(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var y=rr(),k=Ns(s),j=es(y,k);j.payload=o,u!=null&&(j.callback=u),o=Is(s,j,k),o!==null&&(rn(o,s,k,y),Zc(o,s,k))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var y=rr(),k=Ns(s),j=es(y,k);j.tag=1,j.payload=o,u!=null&&(j.callback=u),o=Is(s,j,k),o!==null&&(rn(o,s,k,y),Zc(o,s,k))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=rr(),y=Ns(s),k=es(u,y);k.tag=2,o!=null&&(k.callback=o),o=Is(s,k,y),o!==null&&(rn(o,s,y,u),Zc(o,s,y))}};function Hy(s,o,u,y,k,j,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,j,$):o.prototype&&o.prototype.isPureReactComponent?!ia(u,y)||!ia(k,j):!0}function Wy(s,o,u){var y=!1,k=Ps,j=o.contextType;return typeof j=="object"&&j!==null?j=Ar(j):(k=ur(o)?no:qt.current,y=o.contextTypes,j=(y=y!=null)?Zo(s,k):Ps),o=new o(u,j),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=al,s.stateNode=o,o._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=k,s.__reactInternalMemoizedMaskedChildContext=j),o}function qy(s,o,u,y){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,y),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,y),o.state!==s&&al.enqueueReplaceState(o,o.state,null)}function sp(s,o,u,y){var k=s.stateNode;k.props=u,k.state=s.memoizedState,k.refs={},Hf(s);var j=o.contextType;typeof j=="object"&&j!==null?k.context=Ar(j):(j=ur(o)?no:qt.current,k.context=Zo(s,j)),k.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(np(s,o,j,u),k.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(o=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),o!==k.state&&al.enqueueReplaceState(k,k.state,null),el(s,u,k,y),k.state=s.memoizedState),typeof k.componentDidMount=="function"&&(s.flags|=4194308)}function ai(s,o){try{var u="",y=o;do u+=ee(y),y=y.return;while(y);var k=u}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:o,stack:k,digest:null}}function op(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function ip(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var DR=typeof WeakMap=="function"?WeakMap:Map;function Gy(s,o,u){u=es(-1,u),u.tag=3,u.payload={element:null};var y=o.value;return u.callback=function(){hl||(hl=!0,bp=y),ip(s,o)},u}function Ky(s,o,u){u=es(-1,u),u.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var k=o.value;u.payload=function(){return y(k)},u.callback=function(){ip(s,o)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){ip(s,o),typeof y!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),u}function Yy(s,o,u){var y=s.pingCache;if(y===null){y=s.pingCache=new DR;var k=new Set;y.set(o,k)}else k=y.get(o),k===void 0&&(k=new Set,y.set(o,k));k.has(u)||(k.add(u),s=HR.bind(null,s,o,u),o.then(s,s))}function Xy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Qy(s,o,u,y,k){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=es(-1,1),o.tag=2,Is(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=k,s)}var jR=f.ReactCurrentOwner,dr=!1;function tr(s,o,u,y){o.child=s===null?vy(o,null,u,y):ni(o,s.child,u,y)}function Jy(s,o,u,y,k){u=u.render;var j=o.ref;return oi(o,k),y=Qf(s,o,u,y,j,k),u=Jf(),s!==null&&!dr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~k,ts(s,o,k)):(at&&u&&Lf(o),o.flags|=1,tr(s,o,y,k),o.child)}function Zy(s,o,u,y,k){if(s===null){var j=u.type;return typeof j=="function"&&!kp(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=j,ew(s,o,j,y,k)):(s=Sl(u.type,null,y,o,o.mode,k),s.ref=o.ref,s.return=o,o.child=s)}if(j=s.child,(s.lanes&k)===0){var $=j.memoizedProps;if(u=u.compare,u=u!==null?u:ia,u($,y)&&s.ref===o.ref)return ts(s,o,k)}return o.flags|=1,s=$s(j,y),s.ref=o.ref,s.return=o,o.child=s}function ew(s,o,u,y,k){if(s!==null){var j=s.memoizedProps;if(ia(j,y)&&s.ref===o.ref)if(dr=!1,o.pendingProps=y=j,(s.lanes&k)!==0)(s.flags&131072)!==0&&(dr=!0);else return o.lanes=s.lanes,ts(s,o,k)}return ap(s,o,u,y,k)}function tw(s,o,u){var y=o.pendingProps,k=y.children,j=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(li,Er),Er|=u;else{if((u&1073741824)===0)return s=j!==null?j.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(li,Er),Er|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:u,et(li,Er),Er|=y}else j!==null?(y=j.baseLanes|u,o.memoizedState=null):y=u,et(li,Er),Er|=y;return tr(s,o,k,u),o.child}function rw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ap(s,o,u,y,k){var j=ur(u)?no:qt.current;return j=Zo(o,j),oi(o,k),u=Qf(s,o,u,y,j,k),y=Jf(),s!==null&&!dr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~k,ts(s,o,k)):(at&&y&&Lf(o),o.flags|=1,tr(s,o,u,k),o.child)}function nw(s,o,u,y,k){if(ur(u)){var j=!0;Wc(o)}else j=!1;if(oi(o,k),o.stateNode===null)ll(s,o),Wy(o,u,y),sp(o,u,y,k),y=!0;else if(s===null){var $=o.stateNode,H=o.memoizedProps;$.props=H;var G=$.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Ar(Z):(Z=ur(u)?no:qt.current,Z=Zo(o,Z));var se=u.getDerivedStateFromProps,ae=typeof se=="function"||typeof $.getSnapshotBeforeUpdate=="function";ae||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==y||G!==Z)&&qy(o,$,y,Z),js=!1;var re=o.memoizedState;$.state=re,el(o,y,$,k),G=o.memoizedState,H!==y||re!==G||lr.current||js?(typeof se=="function"&&(np(o,u,se,y),G=o.memoizedState),(H=js||Hy(o,u,H,y,re,G,Z))?(ae||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=y,o.memoizedState=G),$.props=y,$.state=G,$.context=Z,y=H):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),y=!1)}else{$=o.stateNode,wy(s,o),H=o.memoizedProps,Z=o.type===o.elementType?H:Zr(o.type,H),$.props=Z,ae=o.pendingProps,re=$.context,G=u.contextType,typeof G=="object"&&G!==null?G=Ar(G):(G=ur(u)?no:qt.current,G=Zo(o,G));var pe=u.getDerivedStateFromProps;(se=typeof pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==ae||re!==G)&&qy(o,$,y,G),js=!1,re=o.memoizedState,$.state=re,el(o,y,$,k);var ve=o.memoizedState;H!==ae||re!==ve||lr.current||js?(typeof pe=="function"&&(np(o,u,pe,y),ve=o.memoizedState),(Z=js||Hy(o,u,Z,y,re,ve,G)||!1)?(se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(y,ve,G),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(y,ve,G)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=y,o.memoizedState=ve),$.props=y,$.state=ve,$.context=G,y=Z):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),y=!1)}return cp(s,o,u,y,j,k)}function cp(s,o,u,y,k,j){rw(s,o);var $=(o.flags&128)!==0;if(!y&&!$)return k&&cy(o,u,!1),ts(s,o,j);y=o.stateNode,jR.current=o;var H=$&&typeof u.getDerivedStateFromError!="function"?null:y.render();return o.flags|=1,s!==null&&$?(o.child=ni(o,s.child,null,j),o.child=ni(o,null,H,j)):tr(s,o,H,j),o.memoizedState=y.state,k&&cy(o,u,!0),o.child}function sw(s){var o=s.stateNode;o.pendingContext?iy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&iy(s,o.context,!1),Wf(s,o.containerInfo)}function ow(s,o,u,y,k){return ri(),$f(k),o.flags|=256,tr(s,o,u,y),o.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function up(s){return{baseLanes:s,cachePool:null,transitions:null}}function iw(s,o,u){var y=o.pendingProps,k=ft.current,j=!1,$=(o.flags&128)!==0,H;if((H=$)||(H=s!==null&&s.memoizedState===null?!1:(k&2)!==0),H?(j=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(k|=1),et(ft,k&1),s===null)return Af(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=y.children,s=y.fallback,j?(y=o.mode,j=o.child,$={mode:"hidden",children:$},(y&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=$):j=bl($,y,0,null),s=ho(s,y,u,null),j.return=o,s.return=o,j.sibling=s,o.child=j,o.child.memoizedState=up(u),o.memoizedState=lp,s):dp(o,$));if(k=s.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return IR(s,o,$,y,H,k,u);if(j){j=y.fallback,$=o.mode,k=s.child,H=k.sibling;var G={mode:"hidden",children:y.children};return($&1)===0&&o.child!==k?(y=o.child,y.childLanes=0,y.pendingProps=G,o.deletions=null):(y=$s(k,G),y.subtreeFlags=k.subtreeFlags&14680064),H!==null?j=$s(H,j):(j=ho(j,$,u,null),j.flags|=2),j.return=o,y.return=o,y.sibling=j,o.child=y,y=j,j=o.child,$=s.child.memoizedState,$=$===null?up(u):{baseLanes:$.baseLanes|u,cachePool:null,transitions:$.transitions},j.memoizedState=$,j.childLanes=s.childLanes&~u,o.memoizedState=lp,y}return j=s.child,s=j.sibling,y=$s(j,{mode:"visible",children:y.children}),(o.mode&1)===0&&(y.lanes=u),y.return=o,y.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=y,o.memoizedState=null,y}function dp(s,o){return o=bl({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function cl(s,o,u,y){return y!==null&&$f(y),ni(o,s.child,null,u),s=dp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function IR(s,o,u,y,k,j,$){if(u)return o.flags&256?(o.flags&=-257,y=op(Error(r(422))),cl(s,o,$,y)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(j=y.fallback,k=o.mode,y=bl({mode:"visible",children:y.children},k,0,null),j=ho(j,k,$,null),j.flags|=2,y.return=o,j.return=o,y.sibling=j,o.child=y,(o.mode&1)!==0&&ni(o,s.child,null,$),o.child.memoizedState=up($),o.memoizedState=lp,j);if((o.mode&1)===0)return cl(s,o,$,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var H=y.dgst;return y=H,j=Error(r(419)),y=op(j,y,void 0),cl(s,o,$,y)}if(H=($&s.childLanes)!==0,dr||H){if(y=Lt,y!==null){switch($&-$){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|$))!==0?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,Zn(s,k),rn(y,s,k,-1))}return Tp(),y=op(Error(r(421))),cl(s,o,$,y)}return k.data==="$?"?(o.flags|=128,o.child=s.child,o=WR.bind(null,s),k._reactRetry=o,null):(s=j.treeContext,Rr=Ts(k.nextSibling),Cr=o,at=!0,Jr=null,s!==null&&(Or[Nr++]=Qn,Or[Nr++]=Jn,Or[Nr++]=so,Qn=s.id,Jn=s.overflow,so=o),o=dp(o,y.children),o.flags|=4096,o)}function aw(s,o,u){s.lanes|=o;var y=s.alternate;y!==null&&(y.lanes|=o),Uf(s.return,o,u)}function fp(s,o,u,y,k){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:y,tail:u,tailMode:k}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=u,j.tailMode=k)}function cw(s,o,u){var y=o.pendingProps,k=y.revealOrder,j=y.tail;if(tr(s,o,y.children,u),y=ft.current,(y&2)!==0)y=y&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&aw(s,u,o);else if(s.tag===19)aw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(et(ft,y),(o.mode&1)===0)o.memoizedState=null;else switch(k){case"forwards":for(u=o.child,k=null;u!==null;)s=u.alternate,s!==null&&tl(s)===null&&(k=u),u=u.sibling;u=k,u===null?(k=o.child,o.child=null):(k=u.sibling,u.sibling=null),fp(o,!1,k,u,j);break;case"backwards":for(u=null,k=o.child,o.child=null;k!==null;){if(s=k.alternate,s!==null&&tl(s)===null){o.child=k;break}s=k.sibling,k.sibling=u,u=k,k=s}fp(o,!0,u,null,j);break;case"together":fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ll(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ts(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),lo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=$s(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=$s(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function MR(s,o,u){switch(o.tag){case 3:sw(o),ri();break;case 5:_y(o);break;case 1:ur(o.type)&&Wc(o);break;case 4:Wf(o,o.stateNode.containerInfo);break;case 10:var y=o.type._context,k=o.memoizedProps.value;et(Qc,y._currentValue),y._currentValue=k;break;case 13:if(y=o.memoizedState,y!==null)return y.dehydrated!==null?(et(ft,ft.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?iw(s,o,u):(et(ft,ft.current&1),s=ts(s,o,u),s!==null?s.sibling:null);et(ft,ft.current&1);break;case 19:if(y=(u&o.childLanes)!==0,(s.flags&128)!==0){if(y)return cw(s,o,u);o.flags|=128}if(k=o.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),et(ft,ft.current),y)break;return null;case 22:case 23:return o.lanes=0,tw(s,o,u)}return ts(s,o,u)}var lw,pp,uw,dw;lw=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pp=function(){},uw=function(s,o,u,y){var k=s.memoizedProps;if(k!==y){s=o.stateNode,ao(In.current);var j=null;switch(u){case"input":k=Ge(s,k),y=Ge(s,y),j=[];break;case"select":k=q({},k,{value:void 0}),y=q({},y,{value:void 0}),j=[];break;case"textarea":k=lt(s,k),y=lt(s,y),j=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=Uc)}Bo(u,y);var $;u=null;for(Z in k)if(!y.hasOwnProperty(Z)&&k.hasOwnProperty(Z)&&k[Z]!=null)if(Z==="style"){var H=k[Z];for($ in H)H.hasOwnProperty($)&&(u||(u={}),u[$]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in y){var G=y[Z];if(H=k!=null?k[Z]:void 0,y.hasOwnProperty(Z)&&G!==H&&(G!=null||H!=null))if(Z==="style")if(H){for($ in H)!H.hasOwnProperty($)||G&&G.hasOwnProperty($)||(u||(u={}),u[$]="");for($ in G)G.hasOwnProperty($)&&H[$]!==G[$]&&(u||(u={}),u[$]=G[$])}else u||(j||(j=[]),j.push(Z,u)),u=G;else Z==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(j=j||[]).push(Z,G)):Z==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(Z,""+G):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(G!=null&&Z==="onScroll"&&nt("scroll",s),j||H===G||(j=[])):(j=j||[]).push(Z,G))}u&&(j=j||[]).push("style",u);var Z=j;(o.updateQueue=Z)&&(o.flags|=4)}},dw=function(s,o,u,y){u!==y&&(o.flags|=4)};function ba(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var y=null;u!==null;)u.alternate!==null&&(y=u),u=u.sibling;y===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,y=0;if(o)for(var k=s.child;k!==null;)u|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)u|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=y,s.childLanes=u,o}function LR(s,o,u){var y=o.pendingProps;switch(Of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return ur(o.type)&&Hc(),Kt(o),null;case 3:return y=o.stateNode,ii(),st(lr),st(qt),Kf(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(Yc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jr!==null&&(Cp(Jr),Jr=null))),pp(s,o),Kt(o),null;case 5:qf(o);var k=ao(ga.current);if(u=o.type,s!==null&&o.stateNode!=null)uw(s,o,u,y,k),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!y){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(s=ao(In.current),Yc(o)){y=o.stateNode,u=o.type;var j=o.memoizedProps;switch(y[jn]=o,y[da]=j,s=(o.mode&1)!==0,u){case"dialog":nt("cancel",y),nt("close",y);break;case"iframe":case"object":case"embed":nt("load",y);break;case"video":case"audio":for(k=0;k<ca.length;k++)nt(ca[k],y);break;case"source":nt("error",y);break;case"img":case"image":case"link":nt("error",y),nt("load",y);break;case"details":nt("toggle",y);break;case"input":tt(y,j),nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!j.multiple},nt("invalid",y);break;case"textarea":It(y,j),nt("invalid",y)}Bo(u,j),k=null;for(var $ in j)if(j.hasOwnProperty($)){var H=j[$];$==="children"?typeof H=="string"?y.textContent!==H&&(j.suppressHydrationWarning!==!0&&Bc(y.textContent,H,s),k=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(j.suppressHydrationWarning!==!0&&Bc(y.textContent,H,s),k=["children",""+H]):i.hasOwnProperty($)&&H!=null&&$==="onScroll"&&nt("scroll",y)}switch(u){case"input":je(y),Tt(y,j,!0);break;case"textarea":je(y),Nt(y);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(y.onclick=Uc)}y=k,o.updateQueue=y,y!==null&&(o.flags|=4)}else{$=k.nodeType===9?k:k.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ke(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=$.createElement(u,{is:y.is}):(s=$.createElement(u),u==="select"&&($=s,y.multiple?$.multiple=!0:y.size&&($.size=y.size))):s=$.createElementNS(s,u),s[jn]=o,s[da]=y,lw(s,o,!1,!1),o.stateNode=s;e:{switch($=Gd(u,y),u){case"dialog":nt("cancel",s),nt("close",s),k=y;break;case"iframe":case"object":case"embed":nt("load",s),k=y;break;case"video":case"audio":for(k=0;k<ca.length;k++)nt(ca[k],s);k=y;break;case"source":nt("error",s),k=y;break;case"img":case"image":case"link":nt("error",s),nt("load",s),k=y;break;case"details":nt("toggle",s),k=y;break;case"input":tt(s,y),k=Ge(s,y),nt("invalid",s);break;case"option":k=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},k=q({},y,{value:void 0}),nt("invalid",s);break;case"textarea":It(s,y),k=lt(s,y),nt("invalid",s);break;default:k=y}Bo(u,k),H=k;for(j in H)if(H.hasOwnProperty(j)){var G=H[j];j==="style"?dt(s,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Fe(s,G)):j==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&wt(s,G):typeof G=="number"&&wt(s,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?G!=null&&j==="onScroll"&&nt("scroll",s):G!=null&&p(s,j,G,$))}switch(u){case"input":je(s),Tt(s,y,!1);break;case"textarea":je(s),Nt(s);break;case"option":y.value!=null&&s.setAttribute("value",""+me(y.value));break;case"select":s.multiple=!!y.multiple,j=y.value,j!=null?Ue(s,!!y.multiple,j,!1):y.defaultValue!=null&&Ue(s,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(s.onclick=Uc)}switch(u){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(s&&o.stateNode!=null)dw(s,o,s.memoizedProps,y);else{if(typeof y!="string"&&o.stateNode===null)throw Error(r(166));if(u=ao(ga.current),ao(In.current),Yc(o)){if(y=o.stateNode,u=o.memoizedProps,y[jn]=o,(j=y.nodeValue!==u)&&(s=Cr,s!==null))switch(s.tag){case 3:Bc(y.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bc(y.nodeValue,u,(s.mode&1)!==0)}j&&(o.flags|=4)}else y=(u.nodeType===9?u:u.ownerDocument).createTextNode(y),y[jn]=o,o.stateNode=y}return Kt(o),null;case 13:if(st(ft),y=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Rr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)hy(),ri(),o.flags|=98560,j=!1;else if(j=Yc(o),y!==null&&y.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[jn]=o}else ri(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),j=!1}else Jr!==null&&(Cp(Jr),Jr=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ft.current&1)!==0?Pt===0&&(Pt=3):Tp())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return ii(),pp(s,o),s===null&&la(o.stateNode.containerInfo),Kt(o),null;case 10:return Bf(o.type._context),Kt(o),null;case 17:return ur(o.type)&&Hc(),Kt(o),null;case 19:if(st(ft),j=o.memoizedState,j===null)return Kt(o),null;if(y=(o.flags&128)!==0,$=j.rendering,$===null)if(y)ba(j,!1);else{if(Pt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if($=tl(s),$!==null){for(o.flags|=128,ba(j,!1),y=$.updateQueue,y!==null&&(o.updateQueue=y,o.flags|=4),o.subtreeFlags=0,y=u,u=o.child;u!==null;)j=u,s=y,j.flags&=14680066,$=j.alternate,$===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=$.childLanes,j.lanes=$.lanes,j.child=$.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=$.memoizedProps,j.memoizedState=$.memoizedState,j.updateQueue=$.updateQueue,j.type=$.type,s=$.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return et(ft,ft.current&1|2),o.child}s=s.sibling}j.tail!==null&&St()>ui&&(o.flags|=128,y=!0,ba(j,!1),o.lanes=4194304)}else{if(!y)if(s=tl($),s!==null){if(o.flags|=128,y=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ba(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!at)return Kt(o),null}else 2*St()-j.renderingStartTime>ui&&u!==1073741824&&(o.flags|=128,y=!0,ba(j,!1),o.lanes=4194304);j.isBackwards?($.sibling=o.child,o.child=$):(u=j.last,u!==null?u.sibling=$:o.child=$,j.last=$)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=St(),o.sibling=null,u=ft.current,et(ft,y?u&1|2:u&1),o):(Kt(o),null);case 22:case 23:return Ep(),y=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(o.flags|=8192),y&&(o.mode&1)!==0?(Er&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function OR(s,o){switch(Of(o),o.tag){case 1:return ur(o.type)&&Hc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ii(),st(lr),st(qt),Kf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return qf(o),null;case 13:if(st(ft),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ri()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return st(ft),null;case 4:return ii(),null;case 10:return Bf(o.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var ul=!1,Yt=!1,NR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ci(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(y){gt(s,o,y)}else u.current=null}function hp(s,o,u){try{u()}catch(y){gt(s,o,y)}}var fw=!1;function AR(s,o){if(Ef=Dc,s=Hv(),yf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var y=u.getSelection&&u.getSelection();if(y&&y.rangeCount!==0){u=y.anchorNode;var k=y.anchorOffset,j=y.focusNode;y=y.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var $=0,H=-1,G=-1,Z=0,se=0,ae=s,re=null;t:for(;;){for(var pe;ae!==u||k!==0&&ae.nodeType!==3||(H=$+k),ae!==j||y!==0&&ae.nodeType!==3||(G=$+y),ae.nodeType===3&&($+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)re=ae,ae=pe;for(;;){if(ae===s)break t;if(re===u&&++Z===k&&(H=$),re===j&&++se===y&&(G=$),(pe=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=pe}u=H===-1||G===-1?null:{start:H,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tf={focusedElem:s,selectionRange:u},Dc=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,bt=ve.memoizedState,Q=o.stateNode,Y=Q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Zr(o.type,we),bt);Q.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){gt(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=fw,fw=!1,ve}function _a(s,o,u){var y=o.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&s)===s){var j=k.destroy;k.destroy=void 0,j!==void 0&&hp(o,u,j)}k=k.next}while(k!==y)}}function dl(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var y=u.create;u.destroy=y()}u=u.next}while(u!==o)}}function mp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function pw(s){var o=s.alternate;o!==null&&(s.alternate=null,pw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[jn],delete o[da],delete o[jf],delete o[wR],delete o[SR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function hw(s){return s.tag===5||s.tag===3||s.tag===4}function mw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gp(s,o,u){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Uc));else if(y!==4&&(s=s.child,s!==null))for(gp(s,o,u),s=s.sibling;s!==null;)gp(s,o,u),s=s.sibling}function vp(s,o,u){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(vp(s,o,u),s=s.sibling;s!==null;)vp(s,o,u),s=s.sibling}var At=null,en=!1;function Ms(s,o,u){for(u=u.child;u!==null;)gw(s,o,u),u=u.sibling}function gw(s,o,u){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Cc,u)}catch{}switch(u.tag){case 5:Yt||ci(u,o);case 6:var y=At,k=en;At=null,Ms(s,o,u),At=y,en=k,At!==null&&(en?(s=At,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):At.removeChild(u.stateNode));break;case 18:At!==null&&(en?(s=At,u=u.stateNode,s.nodeType===8?Df(s.parentNode,u):s.nodeType===1&&Df(s,u),ea(s)):Df(At,u.stateNode));break;case 4:y=At,k=en,At=u.stateNode.containerInfo,en=!0,Ms(s,o,u),At=y,en=k;break;case 0:case 11:case 14:case 15:if(!Yt&&(y=u.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var j=k,$=j.destroy;j=j.tag,$!==void 0&&((j&2)!==0||(j&4)!==0)&&hp(u,o,$),k=k.next}while(k!==y)}Ms(s,o,u);break;case 1:if(!Yt&&(ci(u,o),y=u.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=u.memoizedProps,y.state=u.memoizedState,y.componentWillUnmount()}catch(H){gt(u,o,H)}Ms(s,o,u);break;case 21:Ms(s,o,u);break;case 22:u.mode&1?(Yt=(y=Yt)||u.memoizedState!==null,Ms(s,o,u),Yt=y):Ms(s,o,u);break;default:Ms(s,o,u)}}function vw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new NR),o.forEach(function(y){var k=qR.bind(null,s,y);u.has(y)||(u.add(y),y.then(k,k))})}}function tn(s,o){var u=o.deletions;if(u!==null)for(var y=0;y<u.length;y++){var k=u[y];try{var j=s,$=o,H=$;e:for(;H!==null;){switch(H.tag){case 5:At=H.stateNode,en=!1;break e;case 3:At=H.stateNode.containerInfo,en=!0;break e;case 4:At=H.stateNode.containerInfo,en=!0;break e}H=H.return}if(At===null)throw Error(r(160));gw(j,$,k),At=null,en=!1;var G=k.alternate;G!==null&&(G.return=null),k.return=null}catch(Z){gt(k,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)yw(o,s),o=o.sibling}function yw(s,o){var u=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tn(o,s),Ln(s),y&4){try{_a(3,s,s.return),dl(3,s)}catch(we){gt(s,s.return,we)}try{_a(5,s,s.return)}catch(we){gt(s,s.return,we)}}break;case 1:tn(o,s),Ln(s),y&512&&u!==null&&ci(u,u.return);break;case 5:if(tn(o,s),Ln(s),y&512&&u!==null&&ci(u,u.return),s.flags&32){var k=s.stateNode;try{wt(k,"")}catch(we){gt(s,s.return,we)}}if(y&4&&(k=s.stateNode,k!=null)){var j=s.memoizedProps,$=u!==null?u.memoizedProps:j,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&j.type==="radio"&&j.name!=null&&rt(k,j),Gd(H,$);var Z=Gd(H,j);for($=0;$<G.length;$+=2){var se=G[$],ae=G[$+1];se==="style"?dt(k,ae):se==="dangerouslySetInnerHTML"?Fe(k,ae):se==="children"?wt(k,ae):p(k,se,ae,Z)}switch(H){case"input":Je(k,j);break;case"textarea":ut(k,j);break;case"select":var re=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var pe=j.value;pe!=null?Ue(k,!!j.multiple,pe,!1):re!==!!j.multiple&&(j.defaultValue!=null?Ue(k,!!j.multiple,j.defaultValue,!0):Ue(k,!!j.multiple,j.multiple?[]:"",!1))}k[da]=j}catch(we){gt(s,s.return,we)}}break;case 6:if(tn(o,s),Ln(s),y&4){if(s.stateNode===null)throw Error(r(162));k=s.stateNode,j=s.memoizedProps;try{k.nodeValue=j}catch(we){gt(s,s.return,we)}}break;case 3:if(tn(o,s),Ln(s),y&4&&u!==null&&u.memoizedState.isDehydrated)try{ea(o.containerInfo)}catch(we){gt(s,s.return,we)}break;case 4:tn(o,s),Ln(s);break;case 13:tn(o,s),Ln(s),k=s.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(Sp=St())),y&4&&vw(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(Yt=(Z=Yt)||se,tn(o,s),Yt=Z):tn(o,s),Ln(s),y&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!se&&(s.mode&1)!==0)for(ge=s,se=s.child;se!==null;){for(ae=ge=se;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:_a(4,re,re.return);break;case 1:ci(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){y=re,u=re.return;try{o=y,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){gt(y,u,we)}}break;case 5:ci(re,re.return);break;case 22:if(re.memoizedState!==null){bw(ae);continue}}pe!==null?(pe.return=re,ge=pe):bw(ae)}se=se.sibling}e:for(se=null,ae=s;;){if(ae.tag===5){if(se===null){se=ae;try{k=ae.stateNode,Z?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(H=ae.stateNode,G=ae.memoizedProps.style,$=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=Se("display",$))}catch(we){gt(s,s.return,we)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(we){gt(s,s.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:tn(o,s),Ln(s),y&4&&vw(s);break;case 21:break;default:tn(o,s),Ln(s)}}function Ln(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(hw(u)){var y=u;break e}u=u.return}throw Error(r(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(wt(k,""),y.flags&=-33);var j=mw(s);vp(s,j,k);break;case 3:case 4:var $=y.stateNode.containerInfo,H=mw(s);gp(s,H,$);break;default:throw Error(r(161))}}catch(G){gt(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function $R(s,o,u){ge=s,ww(s)}function ww(s,o,u){for(var y=(s.mode&1)!==0;ge!==null;){var k=ge,j=k.child;if(k.tag===22&&y){var $=k.memoizedState!==null||ul;if(!$){var H=k.alternate,G=H!==null&&H.memoizedState!==null||Yt;H=ul;var Z=Yt;if(ul=$,(Yt=G)&&!Z)for(ge=k;ge!==null;)$=ge,G=$.child,$.tag===22&&$.memoizedState!==null?_w(k):G!==null?(G.return=$,ge=G):_w(k);for(;j!==null;)ge=j,ww(j),j=j.sibling;ge=k,ul=H,Yt=Z}Sw(s)}else(k.subtreeFlags&8772)!==0&&j!==null?(j.return=k,ge=j):Sw(s)}}function Sw(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||dl(5,o);break;case 1:var y=o.stateNode;if(o.flags&4&&!Yt)if(u===null)y.componentDidMount();else{var k=o.elementType===o.type?u.memoizedProps:Zr(o.type,u.memoizedProps);y.componentDidUpdate(k,u.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&by(o,j,y);break;case 3:var $=o.updateQueue;if($!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}by(o,$,u)}break;case 5:var H=o.stateNode;if(u===null&&o.flags&4){u=H;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&ea(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||o.flags&512&&mp(o)}catch(re){gt(o,o.return,re)}}if(o===s){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function bw(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function _w(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{dl(4,o)}catch(G){gt(o,u,G)}break;case 1:var y=o.stateNode;if(typeof y.componentDidMount=="function"){var k=o.return;try{y.componentDidMount()}catch(G){gt(o,k,G)}}var j=o.return;try{mp(o)}catch(G){gt(o,j,G)}break;case 5:var $=o.return;try{mp(o)}catch(G){gt(o,$,G)}}}catch(G){gt(o,o.return,G)}if(o===s){ge=null;break}var H=o.sibling;if(H!==null){H.return=o.return,ge=H;break}ge=o.return}}var FR=Math.ceil,fl=f.ReactCurrentDispatcher,yp=f.ReactCurrentOwner,Fr=f.ReactCurrentBatchConfig,Ve=0,Lt=null,xt=null,$t=0,Er=0,li=ks(0),Pt=0,xa=null,lo=0,pl=0,wp=0,Ca=null,fr=null,Sp=0,ui=1/0,rs=null,hl=!1,bp=null,Ls=null,ml=!1,Os=null,gl=0,Ra=0,_p=null,vl=-1,yl=0;function rr(){return(Ve&6)!==0?St():vl!==-1?vl:vl=St()}function Ns(s){return(s.mode&1)===0?1:(Ve&2)!==0&&$t!==0?$t&-$t:_R.transition!==null?(yl===0&&(yl=mv()),yl):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:Cv(s.type)),s)}function rn(s,o,u,y){if(50<Ra)throw Ra=0,_p=null,Error(r(185));Yi(s,u,y),((Ve&2)===0||s!==Lt)&&(s===Lt&&((Ve&2)===0&&(pl|=u),Pt===4&&As(s,$t)),pr(s,y),u===1&&Ve===0&&(o.mode&1)===0&&(ui=St()+500,qc&&Ds()))}function pr(s,o){var u=s.callbackNode;_C(s,o);var y=Tc(s,s===Lt?$t:0);if(y===0)u!==null&&fv(u),s.callbackNode=null,s.callbackPriority=0;else if(o=y&-y,s.callbackPriority!==o){if(u!=null&&fv(u),o===1)s.tag===0?bR(Cw.bind(null,s)):ly(Cw.bind(null,s)),vR(function(){(Ve&6)===0&&Ds()}),u=null;else{switch(gv(y)){case 1:u=ef;break;case 4:u=pv;break;case 16:u=xc;break;case 536870912:u=hv;break;default:u=xc}u=Iw(u,xw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function xw(s,o){if(vl=-1,yl=0,(Ve&6)!==0)throw Error(r(327));var u=s.callbackNode;if(di()&&s.callbackNode!==u)return null;var y=Tc(s,s===Lt?$t:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||o)o=wl(s,y);else{o=y;var k=Ve;Ve|=2;var j=Ew();(Lt!==s||$t!==o)&&(rs=null,ui=St()+500,fo(s,o));do try{UR();break}catch(H){Rw(s,H)}while(!0);zf(),fl.current=j,Ve=k,xt!==null?o=0:(Lt=null,$t=0,o=Pt)}if(o!==0){if(o===2&&(k=tf(s),k!==0&&(y=k,o=xp(s,k))),o===1)throw u=xa,fo(s,0),As(s,y),pr(s,St()),u;if(o===6)As(s,y);else{if(k=s.current.alternate,(y&30)===0&&!zR(k)&&(o=wl(s,y),o===2&&(j=tf(s),j!==0&&(y=j,o=xp(s,j))),o===1))throw u=xa,fo(s,0),As(s,y),pr(s,St()),u;switch(s.finishedWork=k,s.finishedLanes=y,o){case 0:case 1:throw Error(r(345));case 2:po(s,fr,rs);break;case 3:if(As(s,y),(y&130023424)===y&&(o=Sp+500-St(),10<o)){if(Tc(s,0)!==0)break;if(k=s.suspendedLanes,(k&y)!==y){rr(),s.pingedLanes|=s.suspendedLanes&k;break}s.timeoutHandle=Pf(po.bind(null,s,fr,rs),o);break}po(s,fr,rs);break;case 4:if(As(s,y),(y&4194240)===y)break;for(o=s.eventTimes,k=-1;0<y;){var $=31-Xr(y);j=1<<$,$=o[$],$>k&&(k=$),y&=~j}if(y=k,y=St()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*FR(y/1960))-y,10<y){s.timeoutHandle=Pf(po.bind(null,s,fr,rs),y);break}po(s,fr,rs);break;case 5:po(s,fr,rs);break;default:throw Error(r(329))}}}return pr(s,St()),s.callbackNode===u?xw.bind(null,s):null}function xp(s,o){var u=Ca;return s.current.memoizedState.isDehydrated&&(fo(s,o).flags|=256),s=wl(s,o),s!==2&&(o=fr,fr=u,o!==null&&Cp(o)),s}function Cp(s){fr===null?fr=s:fr.push.apply(fr,s)}function zR(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var y=0;y<u.length;y++){var k=u[y],j=k.getSnapshot;k=k.value;try{if(!Qr(j(),k))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function As(s,o){for(o&=~wp,o&=~pl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Xr(o),y=1<<u;s[u]=-1,o&=~y}}function Cw(s){if((Ve&6)!==0)throw Error(r(327));di();var o=Tc(s,0);if((o&1)===0)return pr(s,St()),null;var u=wl(s,o);if(s.tag!==0&&u===2){var y=tf(s);y!==0&&(o=y,u=xp(s,y))}if(u===1)throw u=xa,fo(s,0),As(s,o),pr(s,St()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,po(s,fr,rs),pr(s,St()),null}function Rp(s,o){var u=Ve;Ve|=1;try{return s(o)}finally{Ve=u,Ve===0&&(ui=St()+500,qc&&Ds())}}function uo(s){Os!==null&&Os.tag===0&&(Ve&6)===0&&di();var o=Ve;Ve|=1;var u=Fr.transition,y=Xe;try{if(Fr.transition=null,Xe=1,s)return s()}finally{Xe=y,Fr.transition=u,Ve=o,(Ve&6)===0&&Ds()}}function Ep(){Er=li.current,st(li)}function fo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,gR(u)),xt!==null)for(u=xt.return;u!==null;){var y=u;switch(Of(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Hc();break;case 3:ii(),st(lr),st(qt),Kf();break;case 5:qf(y);break;case 4:ii();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Bf(y.type._context);break;case 22:case 23:Ep()}u=u.return}if(Lt=s,xt=s=$s(s.current,null),$t=Er=o,Pt=0,xa=null,wp=pl=lo=0,fr=Ca=null,io!==null){for(o=0;o<io.length;o++)if(u=io[o],y=u.interleaved,y!==null){u.interleaved=null;var k=y.next,j=u.pending;if(j!==null){var $=j.next;j.next=k,y.next=$}u.pending=y}io=null}return s}function Rw(s,o){do{var u=xt;try{if(zf(),rl.current=il,nl){for(var y=pt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}nl=!1}if(co=0,Mt=kt=pt=null,va=!1,ya=0,yp.current=null,u===null||u.return===null){Pt=1,xa=o,xt=null;break}e:{var j=s,$=u.return,H=u,G=o;if(o=$t,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var Z=G,se=H,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=Xy($);if(pe!==null){pe.flags&=-257,Qy(pe,$,H,j,o),pe.mode&1&&Yy(j,Z,o),o=pe,G=Z;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(G),o.updateQueue=we}else ve.add(G);break e}else{if((o&1)===0){Yy(j,Z,o),Tp();break e}G=Error(r(426))}}else if(at&&H.mode&1){var bt=Xy($);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Qy(bt,$,H,j,o),$f(ai(G,H));break e}}j=G=ai(G,H),Pt!==4&&(Pt=2),Ca===null?Ca=[j]:Ca.push(j),j=$;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var Q=Gy(j,G,o);Sy(j,Q);break e;case 1:H=G;var Y=j.type,J=j.stateNode;if((j.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ls===null||!Ls.has(J)))){j.flags|=65536,o&=-o,j.lanes|=o;var le=Ky(j,H,o);Sy(j,le);break e}}j=j.return}while(j!==null)}kw(u)}catch(be){o=be,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function Ew(){var s=fl.current;return fl.current=il,s===null?il:s}function Tp(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||(lo&268435455)===0&&(pl&268435455)===0||As(Lt,$t)}function wl(s,o){var u=Ve;Ve|=2;var y=Ew();(Lt!==s||$t!==o)&&(rs=null,fo(s,o));do try{BR();break}catch(k){Rw(s,k)}while(!0);if(zf(),Ve=u,fl.current=y,xt!==null)throw Error(r(261));return Lt=null,$t=0,Pt}function BR(){for(;xt!==null;)Tw(xt)}function UR(){for(;xt!==null&&!pC();)Tw(xt)}function Tw(s){var o=jw(s.alternate,s,Er);s.memoizedProps=s.pendingProps,o===null?kw(s):xt=o,yp.current=null}function kw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=LR(u,o,Er),u!==null){xt=u;return}}else{if(u=OR(u,o),u!==null){u.flags&=32767,xt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Pt=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=s}while(o!==null);Pt===0&&(Pt=5)}function po(s,o,u){var y=Xe,k=Fr.transition;try{Fr.transition=null,Xe=1,VR(s,o,u,y)}finally{Fr.transition=k,Xe=y}return null}function VR(s,o,u,y){do di();while(Os!==null);if((Ve&6)!==0)throw Error(r(327));u=s.finishedWork;var k=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=u.lanes|u.childLanes;if(xC(s,j),s===Lt&&(xt=Lt=null,$t=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ml||(ml=!0,Iw(xc,function(){return di(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=Fr.transition,Fr.transition=null;var $=Xe;Xe=1;var H=Ve;Ve|=4,yp.current=null,AR(s,u),yw(u,s),lR(Tf),Dc=!!Ef,Tf=Ef=null,s.current=u,$R(u),hC(),Ve=H,Xe=$,Fr.transition=j}else s.current=u;if(ml&&(ml=!1,Os=s,gl=k),j=s.pendingLanes,j===0&&(Ls=null),vC(u.stateNode),pr(s,St()),o!==null)for(y=s.onRecoverableError,u=0;u<o.length;u++)k=o[u],y(k.value,{componentStack:k.stack,digest:k.digest});if(hl)throw hl=!1,s=bp,bp=null,s;return(gl&1)!==0&&s.tag!==0&&di(),j=s.pendingLanes,(j&1)!==0?s===_p?Ra++:(Ra=0,_p=s):Ra=0,Ds(),null}function di(){if(Os!==null){var s=gv(gl),o=Fr.transition,u=Xe;try{if(Fr.transition=null,Xe=16>s?16:s,Os===null)var y=!1;else{if(s=Os,Os=null,gl=0,(Ve&6)!==0)throw Error(r(331));var k=Ve;for(Ve|=4,ge=s.current;ge!==null;){var j=ge,$=j.child;if((ge.flags&16)!==0){var H=j.deletions;if(H!==null){for(var G=0;G<H.length;G++){var Z=H[G];for(ge=Z;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:_a(8,se,j)}var ae=se.child;if(ae!==null)ae.return=se,ge=ae;else for(;ge!==null;){se=ge;var re=se.sibling,pe=se.return;if(pw(se),se===Z){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var ve=j.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var bt=we.sibling;we.sibling=null,we=bt}while(we!==null)}}ge=j}}if((j.subtreeFlags&2064)!==0&&$!==null)$.return=j,ge=$;else e:for(;ge!==null;){if(j=ge,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:_a(9,j,j.return)}var Q=j.sibling;if(Q!==null){Q.return=j.return,ge=Q;break e}ge=j.return}}var Y=s.current;for(ge=Y;ge!==null;){$=ge;var J=$.child;if(($.subtreeFlags&2064)!==0&&J!==null)J.return=$,ge=J;else e:for($=Y;ge!==null;){if(H=ge,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:dl(9,H)}}catch(be){gt(H,H.return,be)}if(H===$){ge=null;break e}var le=H.sibling;if(le!==null){le.return=H.return,ge=le;break e}ge=H.return}}if(Ve=k,Ds(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Cc,s)}catch{}y=!0}return y}finally{Xe=u,Fr.transition=o}}return!1}function Pw(s,o,u){o=ai(u,o),o=Gy(s,o,1),s=Is(s,o,1),o=rr(),s!==null&&(Yi(s,1,o),pr(s,o))}function gt(s,o,u){if(s.tag===3)Pw(s,s,u);else for(;o!==null;){if(o.tag===3){Pw(o,s,u);break}else if(o.tag===1){var y=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))){s=ai(u,s),s=Ky(o,s,1),o=Is(o,s,1),s=rr(),o!==null&&(Yi(o,1,s),pr(o,s));break}}o=o.return}}function HR(s,o,u){var y=s.pingCache;y!==null&&y.delete(o),o=rr(),s.pingedLanes|=s.suspendedLanes&u,Lt===s&&($t&u)===u&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>St()-Sp?fo(s,0):wp|=u),pr(s,o)}function Dw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ec,Ec<<=1,(Ec&130023424)===0&&(Ec=4194304)));var u=rr();s=Zn(s,o),s!==null&&(Yi(s,o,u),pr(s,u))}function WR(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Dw(s,u)}function qR(s,o){var u=0;switch(s.tag){case 13:var y=s.stateNode,k=s.memoizedState;k!==null&&(u=k.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(o),Dw(s,u)}var jw;jw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||lr.current)dr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return dr=!1,MR(s,o,u);dr=(s.flags&131072)!==0}else dr=!1,at&&(o.flags&1048576)!==0&&uy(o,Kc,o.index);switch(o.lanes=0,o.tag){case 2:var y=o.type;ll(s,o),s=o.pendingProps;var k=Zo(o,qt.current);oi(o,u),k=Qf(null,o,y,s,k,u);var j=Jf();return o.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ur(y)?(j=!0,Wc(o)):j=!1,o.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Hf(o),k.updater=al,o.stateNode=k,k._reactInternals=o,sp(o,y,s,u),o=cp(null,o,y,!0,j,u)):(o.tag=0,at&&j&&Lf(o),tr(null,o,k,u),o=o.child),o;case 16:y=o.elementType;e:{switch(ll(s,o),s=o.pendingProps,k=y._init,y=k(y._payload),o.type=y,k=o.tag=KR(y),s=Zr(y,s),k){case 0:o=ap(null,o,y,s,u);break e;case 1:o=nw(null,o,y,s,u);break e;case 11:o=Jy(null,o,y,s,u);break e;case 14:o=Zy(null,o,y,Zr(y.type,s),u);break e}throw Error(r(306,y,""))}return o;case 0:return y=o.type,k=o.pendingProps,k=o.elementType===y?k:Zr(y,k),ap(s,o,y,k,u);case 1:return y=o.type,k=o.pendingProps,k=o.elementType===y?k:Zr(y,k),nw(s,o,y,k,u);case 3:e:{if(sw(o),s===null)throw Error(r(387));y=o.pendingProps,j=o.memoizedState,k=j.element,wy(s,o),el(o,y,null,u);var $=o.memoizedState;if(y=$.element,j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){k=ai(Error(r(423)),o),o=ow(s,o,y,u,k);break e}else if(y!==k){k=ai(Error(r(424)),o),o=ow(s,o,y,u,k);break e}else for(Rr=Ts(o.stateNode.containerInfo.firstChild),Cr=o,at=!0,Jr=null,u=vy(o,null,y,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ri(),y===k){o=ts(s,o,u);break e}tr(s,o,y,u)}o=o.child}return o;case 5:return _y(o),s===null&&Af(o),y=o.type,k=o.pendingProps,j=s!==null?s.memoizedProps:null,$=k.children,kf(y,k)?$=null:j!==null&&kf(y,j)&&(o.flags|=32),rw(s,o),tr(s,o,$,u),o.child;case 6:return s===null&&Af(o),null;case 13:return iw(s,o,u);case 4:return Wf(o,o.stateNode.containerInfo),y=o.pendingProps,s===null?o.child=ni(o,null,y,u):tr(s,o,y,u),o.child;case 11:return y=o.type,k=o.pendingProps,k=o.elementType===y?k:Zr(y,k),Jy(s,o,y,k,u);case 7:return tr(s,o,o.pendingProps,u),o.child;case 8:return tr(s,o,o.pendingProps.children,u),o.child;case 12:return tr(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(y=o.type._context,k=o.pendingProps,j=o.memoizedProps,$=k.value,et(Qc,y._currentValue),y._currentValue=$,j!==null)if(Qr(j.value,$)){if(j.children===k.children&&!lr.current){o=ts(s,o,u);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var H=j.dependencies;if(H!==null){$=j.child;for(var G=H.firstContext;G!==null;){if(G.context===y){if(j.tag===1){G=es(-1,u&-u),G.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?G.next=G:(G.next=se.next,se.next=G),Z.pending=G}}j.lanes|=u,G=j.alternate,G!==null&&(G.lanes|=u),Uf(j.return,u,o),H.lanes|=u;break}G=G.next}}else if(j.tag===10)$=j.type===o.type?null:j.child;else if(j.tag===18){if($=j.return,$===null)throw Error(r(341));$.lanes|=u,H=$.alternate,H!==null&&(H.lanes|=u),Uf($,u,o),$=j.sibling}else $=j.child;if($!==null)$.return=j;else for($=j;$!==null;){if($===o){$=null;break}if(j=$.sibling,j!==null){j.return=$.return,$=j;break}$=$.return}j=$}tr(s,o,k.children,u),o=o.child}return o;case 9:return k=o.type,y=o.pendingProps.children,oi(o,u),k=Ar(k),y=y(k),o.flags|=1,tr(s,o,y,u),o.child;case 14:return y=o.type,k=Zr(y,o.pendingProps),k=Zr(y.type,k),Zy(s,o,y,k,u);case 15:return ew(s,o,o.type,o.pendingProps,u);case 17:return y=o.type,k=o.pendingProps,k=o.elementType===y?k:Zr(y,k),ll(s,o),o.tag=1,ur(y)?(s=!0,Wc(o)):s=!1,oi(o,u),Wy(o,y,k),sp(o,y,k,u),cp(null,o,y,!0,s,u);case 19:return cw(s,o,u);case 22:return tw(s,o,u)}throw Error(r(156,o.tag))};function Iw(s,o){return dv(s,o)}function GR(s,o,u,y){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,o,u,y){return new GR(s,o,u,y)}function kp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function KR(s){if(typeof s=="function")return kp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===K)return 14}return 2}function $s(s,o){var u=s.alternate;return u===null?(u=zr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Sl(s,o,u,y,k,j){var $=2;if(y=s,typeof s=="function")kp(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case P:return ho(u.children,k,j,o);case I:$=8,k|=8;break;case L:return s=zr(12,u,o,k|2),s.elementType=L,s.lanes=j,s;case B:return s=zr(13,u,o,k),s.elementType=B,s.lanes=j,s;case W:return s=zr(19,u,o,k),s.elementType=W,s.lanes=j,s;case V:return bl(u,k,j,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:$=10;break e;case A:$=9;break e;case N:$=11;break e;case K:$=14;break e;case O:$=16,y=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=zr($,u,o,k),o.elementType=s,o.type=y,o.lanes=j,o}function ho(s,o,u,y){return s=zr(7,s,y,o),s.lanes=u,s}function bl(s,o,u,y){return s=zr(22,s,y,o),s.elementType=V,s.lanes=u,s.stateNode={isHidden:!1},s}function Pp(s,o,u){return s=zr(6,s,null,o),s.lanes=u,s}function Dp(s,o,u){return o=zr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function YR(s,o,u,y,k){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function jp(s,o,u,y,k,j,$,H,G){return s=new YR(s,o,u,H,G),o===1?(o=1,j===!0&&(o|=8)):o=0,j=zr(3,null,null,o),s.current=j,j.stateNode=s,j.memoizedState={element:y,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(j),s}function XR(s,o,u){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:y==null?null:""+y,children:s,containerInfo:o,implementation:u}}function Mw(s){if(!s)return Ps;s=s._reactInternals;e:{if(to(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ur(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(ur(u))return ay(s,u,o)}return o}function Lw(s,o,u,y,k,j,$,H,G){return s=jp(u,y,!0,s,k,j,$,H,G),s.context=Mw(null),u=s.current,y=rr(),k=Ns(u),j=es(y,k),j.callback=o??null,Is(u,j,k),s.current.lanes=k,Yi(s,k,y),pr(s,y),s}function _l(s,o,u,y){var k=o.current,j=rr(),$=Ns(k);return u=Mw(u),o.context===null?o.context=u:o.pendingContext=u,o=es(j,$),o.payload={element:s},y=y===void 0?null:y,y!==null&&(o.callback=y),s=Is(k,o,$),s!==null&&(rn(s,k,$,j),Zc(s,k,$)),$}function xl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ow(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Ip(s,o){Ow(s,o),(s=s.alternate)&&Ow(s,o)}function QR(){return null}var Nw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mp(s){this._internalRoot=s}Cl.prototype.render=Mp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));_l(s,o,null,null)},Cl.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;uo(function(){_l(null,s,null,null)}),o[Yn]=null}};function Cl(s){this._internalRoot=s}Cl.prototype.unstable_scheduleHydration=function(s){if(s){var o=wv();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Cs.length&&o!==0&&o<Cs[u].priority;u++);Cs.splice(u,0,s),u===0&&_v(s)}};function Lp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Rl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function JR(s,o,u,y,k){if(k){if(typeof y=="function"){var j=y;y=function(){var Z=xl($);j.call(Z)}}var $=Lw(o,y,s,0,null,!1,!1,"",Aw);return s._reactRootContainer=$,s[Yn]=$.current,la(s.nodeType===8?s.parentNode:s),uo(),$}for(;k=s.lastChild;)s.removeChild(k);if(typeof y=="function"){var H=y;y=function(){var Z=xl(G);H.call(Z)}}var G=jp(s,0,!1,null,null,!1,!1,"",Aw);return s._reactRootContainer=G,s[Yn]=G.current,la(s.nodeType===8?s.parentNode:s),uo(function(){_l(o,G,u,y)}),G}function El(s,o,u,y,k){var j=u._reactRootContainer;if(j){var $=j;if(typeof k=="function"){var H=k;k=function(){var G=xl($);H.call(G)}}_l(o,$,s,k)}else $=JR(u,o,s,k,y);return xl($)}vv=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ki(o.pendingLanes);u!==0&&(nf(o,u|1),pr(o,St()),(Ve&6)===0&&(ui=St()+500,Ds()))}break;case 13:uo(function(){var y=Zn(s,1);if(y!==null){var k=rr();rn(y,s,1,k)}}),Ip(s,1)}},sf=function(s){if(s.tag===13){var o=Zn(s,134217728);if(o!==null){var u=rr();rn(o,s,134217728,u)}Ip(s,134217728)}},yv=function(s){if(s.tag===13){var o=Ns(s),u=Zn(s,o);if(u!==null){var y=rr();rn(u,s,o,y)}Ip(s,o)}},wv=function(){return Xe},Sv=function(s,o){var u=Xe;try{return Xe=s,o()}finally{Xe=u}},Xd=function(s,o,u){switch(o){case"input":if(Je(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var y=u[o];if(y!==s&&y.form===s.form){var k=Vc(y);if(!k)throw Error(r(90));yt(y),Je(y,k)}}}break;case"textarea":ut(s,u);break;case"select":o=u.value,o!=null&&Ue(s,!!u.multiple,o,!1)}},sv=Rp,ov=uo;var ZR={usingClientEntryPoint:!1,Events:[fa,Qo,Vc,rv,nv,Rp]},Ea={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eE={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=lv(s),s===null?null:s.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{Cc=Tl.inject(eE),Dn=Tl}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR,hr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(o))throw Error(r(200));return XR(s,o,null,u)},hr.createRoot=function(s,o){if(!Lp(s))throw Error(r(299));var u=!1,y="",k=Nw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=jp(s,1,!1,null,null,u,!1,y,k),s[Yn]=o.current,la(s.nodeType===8?s.parentNode:s),new Mp(o)},hr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=lv(o),s=s===null?null:s.stateNode,s},hr.flushSync=function(s){return uo(s)},hr.hydrate=function(s,o,u){if(!Rl(o))throw Error(r(200));return El(null,s,o,!0,u)},hr.hydrateRoot=function(s,o,u){if(!Lp(s))throw Error(r(405));var y=u!=null&&u.hydratedSources||null,k=!1,j="",$=Nw;if(u!=null&&(u.unstable_strictMode===!0&&(k=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&($=u.onRecoverableError)),o=Lw(o,null,s,1,u??null,k,!1,j,$),s[Yn]=o.current,la(s),y)for(s=0;s<y.length;s++)u=y[s],k=u._getVersion,k=k(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,k]:o.mutableSourceEagerHydrationData.push(u,k);return new Cl(o)},hr.render=function(s,o,u){if(!Rl(o))throw Error(r(200));return El(null,s,o,!1,u)},hr.unmountComponentAtNode=function(s){if(!Rl(s))throw Error(r(40));return s._reactRootContainer?(uo(function(){El(null,null,s,!1,function(){s._reactRootContainer=null,s[Yn]=null})}),!0):!1},hr.unstable_batchedUpdates=Rp,hr.unstable_renderSubtreeIntoContainer=function(s,o,u,y){if(!Rl(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return El(s,o,u,!1,y)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var Ww;function P_(){if(Ww)return $p.exports;Ww=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$p.exports=dE(),$p.exports}var qw;function fE(){if(qw)return kl;qw=1;var e=P_();return kl.createRoot=e.createRoot,kl.hydrateRoot=e.hydrateRoot,kl}var pE=fE(),D=Hu();const Ut=bm(D),D_=sE({__proto__:null,default:Ut},[D]);var Bp={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function hE(){if(Gw)return Up;Gw=1;var e=Hu();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,l=e.useDebugValue;return Up.useSyncExternalStoreWithSelector=function(d,h,m,v,w){var S=i(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=c(function(){function R(g){if(!T){if(T=!0,_=g,g=v(g),w!==void 0&&b.hasValue){var x=b.value;if(w(x,g))return p=x}return p=g}if(x=p,r(_,g))return x;var P=v(g);return w!==void 0&&w(x,P)?(_=g,x):(_=g,p=P)}var T=!1,_,p,f=m===void 0?null:m;return[function(){return R(h())},f===null?void 0:function(){return R(f())}]},[h,m,v,w]);var E=n(d,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},Up}var Kw;function mE(){return Kw||(Kw=1,Bp.exports=hE()),Bp.exports}var gE=mE();function vE(e){e()}function yE(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vE(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Yw={notify(){},get:()=>[]};function wE(e,t){let r,n=Yw,i=0,a=!1;function c(E){m();const R=n.subscribe(E);let T=!1;return()=>{T||(T=!0,R(),v())}}function l(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return a}function m(){i++,r||(r=e.subscribe(d),n=yE())}function v(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Yw)}function w(){a||(a=!0,m())}function S(){a&&(a=!1,v())}const b={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:h,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>n};return b}var SE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bE=SE(),_E=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xE=_E(),CE=()=>bE||xE?D.useLayoutEffect:D.useEffect,RE=CE(),Vp=Symbol.for("react-redux-context"),Hp=typeof globalThis<"u"?globalThis:{};function EE(){if(!D.createContext)return{};const e=Hp[Vp]??(Hp[Vp]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var Ws=EE();function TE(e){const{children:t,context:r,serverState:n,store:i}=e,a=D.useMemo(()=>{const d=wE(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),c=D.useMemo(()=>i.getState(),[i]);RE(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const l=r||Ws;return D.createElement(l.Provider,{value:a},t)}var kE=TE;function _m(e=Ws){return function(){return D.useContext(e)}}var j_=_m();function I_(e=Ws){const t=e===Ws?j_:_m(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var PE=I_();function DE(e=Ws){const t=e===Ws?PE:I_(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var jE=DE(),IE=(e,t)=>e===t;function ME(e=Ws){const t=e===Ws?j_:_m(e),r=(n,i={})=>{const{equalityFn:a=IE}=typeof i=="function"?{equalityFn:i}:i,c=t(),{store:l,subscription:d,getServerState:h}=c;D.useRef(!0);const m=D.useCallback({[n.name](w){return n(w)}}[n.name],[n]),v=gE.useSyncExternalStoreWithSelector(d.addNestedSub,l.getState,h||l.getState,m,a);return D.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var LE=ME(),An=function(){return An=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},An.apply(this,arguments)};function M_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function OE(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var ql="right-scroll-bar-position",Gl="width-before-scroll-bar",NE="with-scroll-bars-hidden",AE="--removed-body-scroll-bar-size";function Wp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $E(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var FE=typeof window<"u"?D.useLayoutEffect:D.useEffect,Xw=new WeakMap;function zE(e,t){var r=$E(null,function(n){return e.forEach(function(i){return Wp(i,n)})});return FE(function(){var n=Xw.get(r);if(n){var i=new Set(n),a=new Set(e),c=r.current;i.forEach(function(l){a.has(l)||Wp(l,null)}),a.forEach(function(l){i.has(l)||Wp(l,c)})}Xw.set(r,e)},[e]),r}function BE(e){return e}function UE(e,t){t===void 0&&(t=BE);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(a),c=r}var d=function(){var m=c;c=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return i}function VE(e){e===void 0&&(e={});var t=UE(null);return t.options=An({async:!0,ssr:!1},e),t}var L_=function(e){var t=e.sideCar,r=M_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,An({},r))};L_.isSideCarExport=!0;function HE(e,t){return e.useMedium(t),L_}var O_=VE(),qp=function(){},Wu=D.forwardRef(function(e,t){var r=D.useRef(null),n=D.useState({onScrollCapture:qp,onWheelCapture:qp,onTouchMoveCapture:qp}),i=n[0],a=n[1],c=e.forwardProps,l=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,w=e.sideCar,S=e.noIsolation,b=e.inert,E=e.allowPinchZoom,R=e.as,T=R===void 0?"div":R,_=e.gapMode,p=M_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),f=w,g=zE([r,t]),x=An(An({},p),i);return D.createElement(D.Fragment,null,m&&D.createElement(f,{sideCar:O_,removeScrollBar:h,shards:v,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!E,lockRef:r,gapMode:_}),c?D.cloneElement(D.Children.only(l),An(An({},x),{ref:g})):D.createElement(T,An({},x,{className:d,ref:g}),l))});Wu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wu.classNames={fullWidth:Gl,zeroRight:ql};var WE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WE();return t&&e.setAttribute("nonce",t),e}function GE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YE=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qE())&&(GE(t,r),KE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XE=function(){var e=YE();return function(t,r){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},N_=function(){var e=XE(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},QE={left:0,top:0,right:0,gap:0},Gp=function(e){return parseInt(e||"",10)||0},JE=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Gp(r),Gp(n),Gp(i)]},ZE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QE;var t=JE(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eT=N_(),_i="data-scroll-locked",tT=function(e,t,r,n){var i=e.left,a=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_i,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ql,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_i,`] {
    `).concat(AE,": ").concat(l,`px;
  }
`)},Qw=function(){var e=parseInt(document.body.getAttribute(_i)||"0",10);return isFinite(e)?e:0},rT=function(){D.useEffect(function(){return document.body.setAttribute(_i,(Qw()+1).toString()),function(){var e=Qw()-1;e<=0?document.body.removeAttribute(_i):document.body.setAttribute(_i,e.toString())}},[])},nT=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;rT();var a=D.useMemo(function(){return ZE(i)},[i]);return D.createElement(eT,{styles:tT(a,!t,i,r?"":"!important")})},Ah=!1;if(typeof window<"u")try{var Pl=Object.defineProperty({},"passive",{get:function(){return Ah=!0,!0}});window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Ah=!1}var fi=Ah?{passive:!1}:!1,sT=function(e){return e.tagName==="TEXTAREA"},A_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!sT(e)&&r[t]==="visible")},oT=function(e){return A_(e,"overflowY")},iT=function(e){return A_(e,"overflowX")},Jw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=$_(e,n);if(i){var a=F_(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aT=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cT=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$_=function(e,t){return e==="v"?oT(t):iT(t)},F_=function(e,t){return e==="v"?aT(t):cT(t)},lT=function(e,t){return e==="h"&&t==="rtl"?-1:1},uT=function(e,t,r,n,i){var a=lT(e,window.getComputedStyle(t).direction),c=a*n,l=r.target,d=t.contains(l),h=!1,m=c>0,v=0,w=0;do{var S=F_(e,l),b=S[0],E=S[1],R=S[2],T=E-R-a*b;(b||T)&&$_(e,l)&&(v+=T,w+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(v)<1||!m&&Math.abs(w)<1)&&(h=!0),h},Dl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zw=function(e){return[e.deltaX,e.deltaY]},eS=function(e){return e&&"current"in e?e.current:e},dT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pT=0,pi=[];function hT(e){var t=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(pT++)[0],a=D.useState(N_)[0],c=D.useRef(e);D.useEffect(function(){c.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var E=OE([e.lockRef.current],(e.shards||[]).map(eS),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=D.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var T=Dl(E),_=r.current,p="deltaX"in E?E.deltaX:_[0]-T[0],f="deltaY"in E?E.deltaY:_[1]-T[1],g,x=E.target,P=Math.abs(p)>Math.abs(f)?"h":"v";if("touches"in E&&P==="h"&&x.type==="range")return!1;var I=Jw(P,x);if(!I)return!0;if(I?g=P:(g=P==="v"?"h":"v",I=Jw(P,x)),!I)return!1;if(!n.current&&"changedTouches"in E&&(p||f)&&(n.current=g),!g)return!0;var L=n.current||g;return uT(L,R,E,L==="h"?p:f)},[]),d=D.useCallback(function(E){var R=E;if(!(!pi.length||pi[pi.length-1]!==a)){var T="deltaY"in R?Zw(R):Dl(R),_=t.current.filter(function(g){return g.name===R.type&&(g.target===R.target||R.target===g.shadowParent)&&dT(g.delta,T)})[0];if(_&&_.should){R.cancelable&&R.preventDefault();return}if(!_){var p=(c.current.shards||[]).map(eS).filter(Boolean).filter(function(g){return g.contains(R.target)}),f=p.length>0?l(R,p[0]):!c.current.noIsolation;f&&R.cancelable&&R.preventDefault()}}},[]),h=D.useCallback(function(E,R,T,_){var p={name:E,delta:R,target:T,should:_,shadowParent:mT(T)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(f){return f!==p})},1)},[]),m=D.useCallback(function(E){r.current=Dl(E),n.current=void 0},[]),v=D.useCallback(function(E){h(E.type,Zw(E),E.target,l(E,e.lockRef.current))},[]),w=D.useCallback(function(E){h(E.type,Dl(E),E.target,l(E,e.lockRef.current))},[]);D.useEffect(function(){return pi.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",d,fi),document.addEventListener("touchmove",d,fi),document.addEventListener("touchstart",m,fi),function(){pi=pi.filter(function(E){return E!==a}),document.removeEventListener("wheel",d,fi),document.removeEventListener("touchmove",d,fi),document.removeEventListener("touchstart",m,fi)}},[]);var S=e.removeScrollBar,b=e.inert;return D.createElement(D.Fragment,null,b?D.createElement(a,{styles:fT(i)}):null,S?D.createElement(nT,{gapMode:e.gapMode}):null)}function mT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gT=HE(O_,hT);var Tu=D.forwardRef(function(e,t){return D.createElement(Wu,An({},e,{ref:t,sideCar:gT}))});Tu.classNames=Wu.classNames;function mr(e){return Object.keys(e)}function Kp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function xm(e,t){const r={...e},n=t;return Kp(e)&&Kp(t)&&Object.keys(t).forEach(i=>{Kp(n[i])&&i in e?r[i]=xm(r[i],n[i]):r[i]=n[i]}),r}function vT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function yT(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function tc(e){const t=yT(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Yp(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function z_(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const i=`${n/16}${e}`;return t?Yp(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?Yp(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?Yp(a):a}}return n}return r}const te=z_("rem",{shouldScale:!0}),tS=z_("em");function ji(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function B_(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Ks(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==D.Fragment:!1}function Tn(e){const t=D.createContext(null);return[({children:i,value:a})=>C.jsx(t.Provider,{value:a,children:i}),()=>{const i=D.useContext(t);if(i===null)throw new Error(e);return i}]}function qu(e=null){const t=D.createContext(e);return[({children:i,value:a})=>C.jsx(t.Provider,{value:a,children:i}),()=>D.useContext(t)]}function rS(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function ku(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function wT(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function ST(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function bT(e,t,r){return ku(e,r)===ku(t,r)}function U_({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:c}){return l=>{var b;r==null||r(l);const d=Array.from(((b=ku(l.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(E=>bT(l.currentTarget,E,e)),h=d.findIndex(E=>l.currentTarget===E),m=ST(h,d,n),v=wT(h,d,n),w=a==="rtl"?v:m,S=a==="rtl"?m:v;switch(l.key){case"ArrowRight":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[w].focus(),i&&d[w].click());break}case"ArrowLeft":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[S].focus(),i&&d[S].click());break}case"ArrowUp":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[v].focus(),i&&d[v].click());break}case"ArrowDown":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[m].focus(),i&&d[m].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const E=d.length-1;!d[E].disabled&&d[E].focus();break}}}}const _T={app:100,modal:200,popover:300,overlay:400,max:9999};function Sr(e){return _T[e]}const xT=()=>{};function CT(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||xT:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Qe(e,t="size",r=!0){if(e!==void 0)return B_(e)?r?te(e):e:`var(--${t}-${e})`}function or(e){return Qe(e,"mantine-spacing")}function jt(e){return e===void 0?"var(--mantine-radius-default)":Qe(e,"mantine-radius")}function ir(e){return Qe(e,"mantine-font-size")}function RT(e){return Qe(e,"mantine-line-height",!1)}function Cm(e){if(e)return Qe(e,"mantine-shadow",!1)}function $n(e,t){return r=>{e==null||e(r),t==null||t(r)}}function ET(e,t){return e in t?tc(t[e]):tc(e)}function TT(e,t){const r=e.map(n=>({value:n,px:ET(n,t)}));return r.sort((n,i)=>n.px-i.px),r}function xi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function kT(e,t,r){var n;return r?Array.from(((n=ku(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(i=>i===r):null}function PT(){const[e,t]=D.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ya(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function V_(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function _o(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const DT=()=>{};function Gu(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,i=_o(e),a=D.useRef(0),c=Object.assign(D.useCallback((...l)=>{window.clearTimeout(a.current);const d=()=>{a.current!==0&&(a.current=0,i(...l))};c.flush=d,a.current=window.setTimeout(d,r)},[i,r]),{flush:DT});return D.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const nS=["mousedown","touchstart"];function jT(e,t,r){const n=D.useRef(null);return D.useEffect(()=>{const i=a=>{const{target:c}=a??{};if(Array.isArray(r)){const l=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(h=>!!h&&!a.composedPath().includes(h))&&!l&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||nS).forEach(a=>document.addEventListener(a,i)),()=>{(t||nS).forEach(a=>document.removeEventListener(a,i))}},[n,e,r]),n}function IT({timeout:e=2e3}={}){const[t,r]=D.useState(null),[n,i]=D.useState(!1),[a,c]=D.useState(null),l=m=>{window.clearTimeout(a),c(window.setTimeout(()=>i(!1),e)),i(m)};return{copy:m=>{"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>l(!0)).catch(v=>r(v)):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),r(null),window.clearTimeout(a)},error:t,copied:n}}function MT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function LT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function OT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=D.useState(r?t:LT(e)),a=D.useRef(null);return D.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),MT(a.current,c=>i(c.matches))},[e]),n}const dc=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Hn(e,t){const r=D.useRef(!1);D.useEffect(()=>()=>{r.current=!1},[]),D.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function H_({opened:e,shouldReturnFocus:t=!0}){const r=D.useRef(null),n=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return Hn(()=>{let i=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),n}const NT=/input|select|textarea|button|object/,W_="a, input, select, textarea, button, object, [tabindex]";function AT(e){return e.style.display==="none"}function $T(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(AT(r))return!1;r=r.parentNode}return!0}function q_(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function $h(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(q_(e));return(NT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&$T(e)}function G_(e){const t=q_(e);return(Number.isNaN(t)||t>=0)&&$h(e)}function FT(e){return Array.from(e.querySelectorAll(W_)).filter(G_)}function zT(e,t){const r=FT(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],i=e.getRootNode();let a=n===i.activeElement||e===i.activeElement;const c=i.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(m=>m.getAttribute("type")==="radio"&&m.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function BT(e=!0){const t=D.useRef(null),r=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const c=Array.from(i.querySelectorAll(W_));a=c.find(G_)||c.find($h)||null,!a&&$h(i)&&(a=i)}a&&a.focus({preventScroll:!0})},n=D.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&r(i)}),t.current=i):t.current=null)},[e]);return D.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const i=a=>{a.key==="Tab"&&t.current&&zT(t.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n}const UT=e=>(e+1)%1e6;function VT(){const[,e]=D.useReducer(UT,0);return e}const HT=Ut.useId||(()=>{});function WT(){const e=HT();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ys(e){const t=WT(),[r,n]=D.useState(t);return dc(()=>{n(V_())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function qT(e,t,r){D.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Fh(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function K_(...e){const t=new Map;return r=>{if(e.forEach(n=>{const i=Fh(n,r);i&&t.set(n,i)}),t.size>0)return()=>{e.forEach(n=>{const i=t.get(n);i?i():Fh(n,null)}),t.clear()}}}function Ht(...e){return D.useCallback(K_(...e),e)}function GT(e,t,r="ltr"){const n=D.useRef(null),i=D.useRef(!1),a=D.useRef(!1),c=D.useRef(0),[l,d]=D.useState(!1);return D.useEffect(()=>{i.current=!0},[]),D.useEffect(()=>{const h=n.current,m=({x:p,y:f})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(i.current&&h){h.style.userSelect="none";const g=h.getBoundingClientRect();if(g.width&&g.height){const x=Ya((p-g.left)/g.width,0,1);e({x:r==="ltr"?x:1-x,y:Ya((f-g.top)/g.height,0,1)})}}})},v=()=>{document.addEventListener("mousemove",R),document.addEventListener("mouseup",b),document.addEventListener("touchmove",_),document.addEventListener("touchend",b)},w=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",b)},S=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),v())},b=()=>{a.current&&i.current&&(a.current=!1,d(!1),w(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},E=p=>{S(),p.preventDefault(),R(p)},R=p=>m({x:p.clientX,y:p.clientY}),T=p=>{p.cancelable&&p.preventDefault(),S(),_(p)},_=p=>{p.cancelable&&p.preventDefault(),m({x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY})};return h==null||h.addEventListener("mousedown",E),h==null||h.addEventListener("touchstart",T,{passive:!1}),()=>{h&&(h.removeEventListener("mousedown",E),h.removeEventListener("touchstart",T))}},[r,e]),{ref:n,active:l}}function ls({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[i,a]=D.useState(t!==void 0?t:r),c=(l,...d)=>{a(l),n==null||n(l,...d)};return e!==void 0?[e,n,!0]:[i,c,!1]}function Ku(e,t){return OT("(prefers-reduced-motion: reduce)",e,t)}function Pr(e=!1,t){const{onOpen:r,onClose:n}={},[i,a]=D.useState(e),c=D.useCallback(()=>{a(h=>h||(r==null||r(),!0))},[r]),l=D.useCallback(()=>{a(h=>h&&(n==null||n(),!1))},[n]),d=D.useCallback(()=>{i?l():c()},[l,c,i]);return[i,{open:c,close:l,toggle:d}]}function KT(e){const t=D.useRef(void 0);return D.useEffect(()=>{t.current=e},[e]),t.current}var YT={};function XT(){return typeof process<"u"&&YT?"production":"development"}function sS(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function Yu(e){var r;const t=Ut.version;return typeof Ut.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function Y_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Y_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Y_(e))&&(n&&(n+=" "),n+=t);return n}const QT={};function JT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,i])=>{t[n]?t[n]=Vt(t[n],i):t[n]=i})}),t}function Xu({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||QT);return JT(a)}function Pu({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const X_=D.createContext(null);function Xs(){const e=D.useContext(X_);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function ZT(){return Xs().cssVariablesResolver}function ek(){return Xs().classNamesPrefix}function Rm(){return Xs().getStyleNonce}function tk(){return Xs().withStaticClasses}function rk(){return Xs().headless}function nk(){var e;return(e=Xs().stylesTransform)==null?void 0:e.sx}function sk(){var e;return(e=Xs().stylesTransform)==null?void 0:e.styles}function Q_(){return Xs().env||"default"}function ok(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function ik(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function ak(e){const[t,r,n,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:i||1}}function ck(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,l=(1-Math.abs(2*a-1))*i,d=n/60,h=l*(1-Math.abs(d%2-1)),m=a-l/2;let v,w,S;return d>=0&&d<1?(v=l,w=h,S=0):d>=1&&d<2?(v=h,w=l,S=0):d>=2&&d<3?(v=0,w=l,S=h):d>=3&&d<4?(v=0,w=h,S=l):d>=4&&d<5?(v=h,w=0,S=l):(v=l,w=0,S=h),{r:Math.round((v+m)*255),g:Math.round((w+m)*255),b:Math.round((S+m)*255),a:c||1}}function Em(e){return ok(e)?ik(e):e.startsWith("rgb")?ak(e):e.startsWith("hsl")?ck(e):{r:0,g:0,b:0,a:1}}function jl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:i,a}=Em(e),c=1-t,l=d=>Math.round(d*c);return`rgba(${l(r)}, ${l(n)}, ${l(i)}, ${a})`}function rc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Xp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function lk(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function uk(e){if(e.startsWith("oklch("))return(lk(e)||0)/100;const{r:t,g:r,b:n}=Em(e),i=t/255,a=r/255,c=n/255,l=Xp(i),d=Xp(a),h=Xp(c);return .2126*l+.7152*d+.0722*h}function ka(e,t=.179){return e.startsWith("var(")?!1:uk(e)>t}function Ii({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:ka(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:ka(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:ka(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,i]=e.split("."),a=i?Number(i):void 0,c=n in t.colors;if(c){const l=a!==void 0?t.colors[n][a]:t.colors[n][rc(t,r||"light")];return{color:n,value:l,shade:a,isThemeColor:c,isLight:ka(l,t.luminanceThreshold),variable:i?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:ka(e,t.luminanceThreshold),shade:a,variable:void 0}}function yr(e,t){const r=Ii({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function zh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=yr(r.from,t),i=yr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function Nn(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:i}=Em(e);return`rgba(${r}, ${n}, ${i}, ${t})`}const hi=Nn,dk=({color:e,theme:t,variant:r,gradient:n,autoContrast:i})=>{const a=Ii({color:e,theme:t}),c=typeof i=="boolean"?i:t.autoContrast;if(r==="filled"){const l=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${te(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:l,border:`${te(1)} solid transparent`}:{background:e,hover:jl(e,.1),color:l,border:`${te(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:Nn(l,.1),hover:Nn(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:Nn(e,.1),hover:Nn(e,.12),color:e,border:`${te(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Nn(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Nn(e,.05),color:e,border:`${te(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:"transparent",hover:Nn(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:"transparent",hover:Nn(e,.12),color:e,border:`${te(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${te(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:jl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jl(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jl(t.white,.01),color:e,border:`${te(1)} solid transparent`}:r==="gradient"?{background:zh(n,t),hover:zh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${te(1)} solid var(--mantine-color-default-border)`}:{}},fk={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},oS="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Tm={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:fk,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:dk,autoContrast:!1,luminanceThreshold:.3,fontFamily:oS,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:oS,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:te(34),lineHeight:"1.3"},h2:{fontSize:te(26),lineHeight:"1.35"},h3:{fontSize:te(22),lineHeight:"1.4"},h4:{fontSize:te(18),lineHeight:"1.45"},h5:{fontSize:te(16),lineHeight:"1.5"},h6:{fontSize:te(14),lineHeight:"1.5"}}},fontSizes:{xs:te(12),sm:te(14),md:te(16),lg:te(18),xl:te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:te(2),sm:te(4),md:te(8),lg:te(16),xl:te(32)},spacing:{xs:te(10),sm:te(12),md:te(16),lg:te(20),xl:te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), 0 ${te(1)} ${te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(10)} ${te(15)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(7)} ${te(7)} ${te(-5)}`,md:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(20)} ${te(25)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(10)} ${te(10)} ${te(-5)}`,lg:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(28)} ${te(23)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(12)} ${te(12)} ${te(-7)}`,xl:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(36)} ${te(28)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(17)} ${te(17)} ${te(-7)}`},other:{},components:{}};function iS(e){return e==="auto"||e==="dark"||e==="light"}function pk({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return iS(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&iS(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const hk="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",aS="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Qp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function cS(e){if(!(e.primaryColor in e.colors))throw new Error(hk);if(typeof e.primaryShade=="object"&&(!Qp(e.primaryShade.dark)||!Qp(e.primaryShade.light)))throw new Error(aS);if(typeof e.primaryShade=="number"&&!Qp(e.primaryShade))throw new Error(aS)}function mk(e,t){var n;if(!t)return cS(e),e;const r=xm(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),cS(r),r}const km=D.createContext(null),gk=()=>D.useContext(km)||Tm;function ar(){const e=D.useContext(km);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function J_({theme:e,children:t,inherit:r=!0}){const n=gk(),i=D.useMemo(()=>mk(r?n:Tm,e),[e,n,r]);return C.jsx(km.Provider,{value:i,children:t})}J_.displayName="@mantine/core/MantineThemeProvider";function vk(){const e=ar(),t=Rm(),r=mr(e.breakpoints).reduce((n,i)=>{const a=e.breakpoints[i].includes("px"),c=tc(e.breakpoints[i]),l=a?`${c-.1}px`:tS(c-.1),d=a?`${c}px`:tS(c);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return C.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Jp(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function Pa(e,t){return(Array.isArray(e)?e:[e]).reduce((n,i)=>`${i}{${n}}`,t)}function yk(e,t){const r=Jp(e.variables),n=r?Pa(t,r):"",i=Jp(e.dark),a=Jp(e.light),c=i?Pa(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",l=a?Pa(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${l}`}function Pm({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ii({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function lS(e,t){return Pm({color:e.colors[e.primaryColor][rc(e,t)],theme:e,autoContrast:null})}function Il({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(r==="light"){const l=rc(e,"light"),d={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:hi(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:hi(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:hi(e.colors[t][l],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...d}:d}const a=rc(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:hi(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:hi(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:hi(e.colors[t][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function wk(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function mi(e,t,r){mr(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const Z_=e=>{const t=rc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:te(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":lS(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":lS(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};mi(n.variables,e.breakpoints,"breakpoint"),mi(n.variables,e.spacing,"spacing"),mi(n.variables,e.fontSizes,"font-size"),mi(n.variables,e.lineHeights,"line-height"),mi(n.variables,e.shadows,"shadow"),mi(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),mr(e.colors).forEach(a=>{const c=e.colors[a];if(wk(c)){Object.assign(n.light,Il({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,Il({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((l,d)=>{n.variables[`--mantine-color-${a}-${d}`]=l}),Object.assign(n.light,Il({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,Il({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return mr(i).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=i[a].fontSize,n.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||e.headings.fontWeight}),n};function Sk({theme:e,generator:t}){const r=Z_(e),n=t==null?void 0:t(e);return n?xm(r,n):r}const Zp=Z_(Tm);function bk(e){const t={variables:{},light:{},dark:{}};return mr(e.variables).forEach(r=>{Zp.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),mr(e.light).forEach(r=>{Zp.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),mr(e.dark).forEach(r=>{Zp.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function _k(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function e0({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=ar(),n=Rm(),i=ZT(),a=Sk({theme:r,generator:i}),c=e===":root"&&t,l=c?bk(a):a,d=yk(l,e);return d?C.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${d}${c?"":_k(e)}`}}):null}e0.displayName="@mantine/CssVariables";function xk(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function gi(e,t){var i,a;const r=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function Ck({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const i=D.useRef(null),[a,c]=D.useState(()=>e.get(t)),l=n||a,d=D.useCallback(m=>{n||(gi(m,r),c(m),e.set(m))},[e.set,l,n]),h=D.useCallback(()=>{c(t),gi(t,r),e.clear()},[e.clear,t]);return D.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),dc(()=>{gi(e.get(t),r)},[]),D.useEffect(()=>{var v;if(n)return gi(n,r),()=>{};n===void 0&&gi(a,r),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const m=w=>{a==="auto"&&gi(w.matches?"dark":"light",r)};return(v=i.current)==null||v.addEventListener("change",m),()=>{var w;return(w=i.current)==null?void 0:w.removeEventListener("change",m)}},[a,n]),{colorScheme:l,setColorScheme:d,clearColorScheme:h}}function Rk({respectReducedMotion:e,getRootElement:t}){dc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}xk();function t0({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:l=":root",classNamesPrefix:d="mantine",colorSchemeManager:h=pk(),defaultColorScheme:m="light",getRootElement:v=()=>document.documentElement,cssVariablesResolver:w,forceColorScheme:S,stylesTransform:b,env:E}){const{colorScheme:R,setColorScheme:T,clearColorScheme:_}=Ck({defaultColorScheme:m,forceColorScheme:S,manager:h,getRootElement:v});return Rk({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:v}),C.jsx(X_.Provider,{value:{colorScheme:R,setColorScheme:T,clearColorScheme:_,getRootElement:v,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:w,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:b,env:E},children:C.jsxs(J_,{theme:e,children:[c&&C.jsx(e0,{cssVariablesSelector:l,deduplicateCssVariables:a}),i&&C.jsx(vk,{}),t]})})}t0.displayName="@mantine/core/MantineProvider";function fc({classNames:e,styles:t,props:r,stylesCtx:n}){const i=ar();return{resolvedClassNames:Xu({theme:i,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:Pu({theme:i,styles:t,props:r,stylesCtx:n||void 0})}}const Ek={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Tk({theme:e,options:t,unstyled:r}){return Vt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||Ek[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function kk({selector:e,stylesCtx:t,options:r,props:n,theme:i}){return Xu({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function uS({selector:e,stylesCtx:t,theme:r,classNames:n,props:i}){return Xu({theme:r,classNames:n,props:i,stylesCtx:t})[e]}function Pk({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function Dk({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function jk({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(i=>`${t}-${i}-${r}`)}function Ik({themeName:e,theme:t,selector:r,props:n,stylesCtx:i}){return e.map(a=>{var c,l;return(l=Xu({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:i}))==null?void 0:l[r]})}function Mk({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function Lk({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:i,classNames:a,classes:c,unstyled:l,className:d,rootSelector:h,props:m,stylesCtx:v,withStaticClasses:w,headless:S,transformedStyles:b}){return Vt(Tk({theme:e,options:t,unstyled:l||S}),Ik({theme:e,themeName:r,selector:n,props:m,stylesCtx:v}),Mk({options:t,classes:c,selector:n,unstyled:l}),uS({selector:n,stylesCtx:v,theme:e,classNames:a,props:m}),uS({selector:n,stylesCtx:v,theme:e,classNames:b,props:m}),kk({selector:n,stylesCtx:v,options:t,props:m,theme:e}),Pk({rootSelector:h,selector:n,className:d}),Dk({selector:n,classes:c,unstyled:l||S}),w&&!S&&jk({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Ok({theme:e,themeName:t,props:r,stylesCtx:n,selector:i}){return t.map(a=>{var c;return Pu({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[i]}).reduce((a,c)=>({...a,...c}),{})}function Bh({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Bh({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Nk(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...ji(r[n])}}),t),{})}function Ak({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:i,selector:a,themeName:c,headless:l}){var d;return(d=Nk([l?{}:t==null?void 0:t(r,n,i),...c.map(h=>{var m,v,w;return(w=(v=(m=r.components)==null?void 0:m[h])==null?void 0:v.vars)==null?void 0:w.call(v,r,n,i)}),e==null?void 0:e(r,n,i)]))==null?void 0:d[a]}function $k({theme:e,themeName:t,selector:r,options:n,props:i,stylesCtx:a,rootSelector:c,styles:l,style:d,vars:h,varsResolver:m,headless:v,withStylesTransform:w}){return{...!w&&Ok({theme:e,themeName:t,props:i,stylesCtx:a,selector:r}),...!w&&Pu({theme:e,styles:l,props:i,stylesCtx:a})[r],...!w&&Pu({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:a})[r],...Ak({theme:e,props:i,stylesCtx:a,vars:h,varsResolver:m,selector:r,themeName:t,headless:v}),...c===r?Bh({style:d,theme:e}):null,...Bh({style:n==null?void 0:n.style,theme:e})}}function Fk({props:e,stylesCtx:t,themeName:r}){var c;const n=ar(),i=(c=sk())==null?void 0:c();return{getTransformedStyles:l=>i?[...l.map(h=>i(h,{props:e,theme:n,ctx:t})),...r.map(h=>{var m;return i((m=n.components[h])==null?void 0:m.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Te({name:e,classes:t,props:r,stylesCtx:n,className:i,style:a,rootSelector:c="root",unstyled:l,classNames:d,styles:h,vars:m,varsResolver:v}){const w=ar(),S=ek(),b=tk(),E=rk(),R=(Array.isArray(e)?e:[e]).filter(p=>p),{withStylesTransform:T,getTransformedStyles:_}=Fk({props:r,stylesCtx:n,themeName:R});return(p,f)=>({className:Lk({theme:w,options:f,themeName:R,selector:p,classNamesPrefix:S,classNames:d,classes:t,unstyled:l,className:i,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:b,headless:E,transformedStyles:_([f==null?void 0:f.styles,h])}),style:$k({theme:w,themeName:R,selector:p,options:f,props:r,stylesCtx:n,rootSelector:c,styles:h,style:a,vars:m,varsResolver:v,headless:E,withStylesTransform:T})})}function r0(e,t){return typeof e=="boolean"?e:t.autoContrast}function oe(e,t,r){var c;const n=ar(),i=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof i=="function"?i(n):i;return{...t,...a,...ji(r)}}function eh(e){return mr(e).reduce((t,r)=>e[r]!==void 0?`${t}${vT(r)}:${e[r]};`:t,"").trim()}function zk({selector:e,styles:t,media:r,container:n}){const i=t?eh(t):"",a=Array.isArray(r)?r.map(l=>`@media${l.query}{${e}{${eh(l.styles)}}}`):[],c=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${eh(l.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${a.join("")}${c.join("")}`.trim()}function Qu(e){const t=Rm();return C.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:zk(e)}})}function Ju(e){const{m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:l,me:d,ms:h,p:m,px:v,py:w,pt:S,pb:b,pl:E,pr:R,pe:T,ps:_,bd:p,bg:f,c:g,opacity:x,ff:P,fz:I,fw:L,lts:M,ta:A,lh:N,fs:B,tt:W,td:K,w:O,miw:V,maw:F,h:z,mih:q,mah:U,bgsz:X,bgp:ce,bgr:de,bga:ee,pos:ie,top:ue,left:me,bottom:he,right:Ce,inset:je,display:yt,flex:ct,hiddenFrom:Ge,visibleFrom:tt,lightHidden:rt,darkHidden:Je,sx:Tt,...mt}=e;return{styleProps:ji({m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:l,me:d,ms:h,p:m,px:v,py:w,pt:S,pb:b,pl:E,pr:R,pe:T,ps:_,bd:p,bg:f,c:g,opacity:x,ff:P,fz:I,fw:L,lts:M,ta:A,lh:N,fs:B,tt:W,td:K,w:O,miw:V,maw:F,h:z,mih:q,mah:U,bgsz:X,bgp:ce,bgr:de,bga:ee,pos:ie,top:ue,left:me,bottom:he,right:Ce,inset:je,display:yt,flex:ct,hiddenFrom:Ge,visibleFrom:tt,lightHidden:rt,darkHidden:Je,sx:Tt}),rest:mt}}const Bk={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Dm(e,t){const r=Ii({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function Uk(e,t){const r=Ii({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:Dm(e,t)}function Vk(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const[r,n,...i]=e.split(" ").filter(c=>c.trim()!=="");let a=`${te(r)}`;return n&&(a+=` ${n}`),i.length>0&&(a+=` ${Dm(i.join(" "),t)}`),a.trim()}return e}const dS={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Hk(e){return typeof e=="string"&&e in dS?dS[e]:e}const Wk=["h1","h2","h3","h4","h5","h6"];function qk(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&Wk.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?te(e):e}function Gk(e){return e}const Kk=["h1","h2","h3","h4","h5","h6"];function Yk(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&Kk.includes(e)?`var(--mantine-${e}-line-height)`:e}function Xk(e){return typeof e=="number"?te(e):e}function Qk(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return te(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const th={color:Dm,textColor:Uk,fontSize:qk,spacing:Qk,identity:Gk,size:Xk,lineHeight:Yk,fontFamily:Hk,border:Vk};function fS(e){return e.replace("(min-width: ","").replace("em)","")}function Jk({media:e,...t}){const n=Object.keys(e).sort((i,a)=>Number(fS(i))-Number(fS(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:n}}function Zk(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function eP(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function tP(e){return typeof e=="object"&&e!==null?mr(e).filter(t=>t!=="base"):[]}function rP(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function n0({styleProps:e,data:t,theme:r}){return Jk(mr(e).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const a=t[i],c=Array.isArray(a.property)?a.property:[a.property],l=eP(e[i]);if(!Zk(e[i]))return c.forEach(h=>{n.inlineStyles[h]=th[a.type](l,r)}),n;n.hasResponsiveStyles=!0;const d=tP(e[i]);return c.forEach(h=>{l&&(n.styles[h]=th[a.type](l,r)),d.forEach(m=>{const v=`(min-width: ${r.breakpoints[m]})`;n.media[v]={...n.media[v],[h]:th[a.type](rP(e[i],m),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function jm(){return`__m__-${D.useId().replace(/:/g,"")}`}function Im(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Im(n,t)}),{}):typeof e=="function"?e(t):e??{}}function s0(e){return e.startsWith("data-")?e:`data-${e}`}function nP(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[s0(r)]=e[r]),t},{})}function o0(e){return e?typeof e=="string"?{[s0(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...o0(r)}),{}):nP(e):null}function Uh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Uh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function sP({theme:e,style:t,vars:r,styleProps:n}){const i=Uh(t,e),a=Uh(r,e);return{...i,...a,...n}}const i0=D.forwardRef(({component:e,style:t,__vars:r,className:n,variant:i,mod:a,size:c,hiddenFrom:l,visibleFrom:d,lightHidden:h,darkHidden:m,renderRoot:v,__size:w,...S},b)=>{var I;const E=ar(),R=e||"div",{styleProps:T,rest:_}=Ju(S),p=nk(),f=(I=p==null?void 0:p())==null?void 0:I(T.sx),g=jm(),x=n0({styleProps:T,theme:E,data:Bk}),P={ref:b,style:sP({theme:E,style:t,vars:r,styleProps:x.inlineStyles}),className:Vt(n,f,{[g]:x.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":m,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${d}`]:d}),"data-variant":i,"data-size":B_(c)?void 0:c||void 0,size:w,...o0(a),..._};return C.jsxs(C.Fragment,{children:[x.hasResponsiveStyles&&C.jsx(Qu,{selector:`.${g}`,styles:x.styles,media:x.media}),typeof v=="function"?v(P):C.jsx(R,{...P})]})});i0.displayName="@mantine/core/Box";const ne=i0;function a0(e){return e}function oP(e){const t=e;return r=>{const n=D.forwardRef((i,a)=>C.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function fe(e){const t=D.forwardRef(e);return t.extend=a0,t.withProps=r=>{const n=D.forwardRef((i,a)=>C.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Zt(e){const t=D.forwardRef(e);return t.withProps=r=>{const n=D.forwardRef((i,a)=>C.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=a0,t}const iP=D.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Qs(){return D.useContext(iP)}var Zu=P_();const Va=bm(Zu);function aP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function rh(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Da=typeof window<"u"&&window.requestAnimationFrame;function cP({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const i=D.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[l,d]=D.useState(n?{}:c),h=b=>{Zu.flushSync(()=>d(b))},m=b=>{h(E=>({...E,...b}))};function v(b){const E=e||aP(b);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}Hn(()=>{typeof Da=="function"&&Da(n?()=>{m({willChange:"height",display:"block",overflow:"hidden"}),Da(()=>{const b=rh(i);m({...v(b),height:b})})}:()=>{const b=rh(i);m({...v(b),willChange:"height",height:b}),Da(()=>m({height:a,overflow:"hidden"}))})},[n]);const w=b=>{if(!(b.target!==i.current||b.propertyName!=="height"))if(n){const E=rh(i);E===l.height?h({}):m({height:E}),r()}else l.height===a&&(h(c),r())};function S({style:b={},refKey:E="ref",...R}={}){const T=R[E];return{"aria-hidden":!n,...R,[E]:K_(i,T),onTransitionEnd:w,style:{boxSizing:"border-box",...b,...l}}}return S}const lP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ed=fe((e,t)=>{const{children:r,in:n,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:l,animateOpacity:d,...h}=oe("Collapse",lP,e),m=ar(),v=Ku(),S=(m.respectReducedMotion?v:!1)?0:i,b=cP({opened:n,transitionDuration:S,transitionTimingFunction:a,onTransitionEnd:l});return S===0?n?C.jsx(ne,{...h,children:r}):null:C.jsx(ne,{...b({style:{opacity:n||!d?1:0,transition:d?`opacity ${S}ms ${a}`:"none",...Im(c,m)},ref:t,...h}),children:r})});ed.displayName="@mantine/core/Collapse";function td(){return typeof window<"u"}function Mi(e){return c0(e)?(e.nodeName||"").toLowerCase():"#document"}function gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gn(e){var t;return(t=(c0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c0(e){return td()?e instanceof Node||e instanceof gr(e).Node:!1}function ot(e){return td()?e instanceof Element||e instanceof gr(e).Element:!1}function Dr(e){return td()?e instanceof HTMLElement||e instanceof gr(e).HTMLElement:!1}function Vh(e){return!td()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gr(e).ShadowRoot}function pc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function uP(e){return["table","td","th"].includes(Mi(e))}function rd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mm(e){const t=nd(),r=ot(e)?Vr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function dP(e){let t=us(e);for(;Dr(t)&&!qs(t);){if(Mm(t))return t;if(rd(t))return null;t=us(t)}return null}function nd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qs(e){return["html","body","#document"].includes(Mi(e))}function Vr(e){return gr(e).getComputedStyle(e)}function sd(e){return ot(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function us(e){if(Mi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vh(e)&&e.host||Gn(e);return Vh(t)?t.host:t}function l0(e){const t=us(e);return qs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dr(t)&&pc(t)?t:l0(t)}function os(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=l0(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),c=gr(i);if(a){const l=Hh(c);return t.concat(c,c.visualViewport||[],pc(i)?i:[],l&&r?os(l):[])}return t.concat(i,os(i,[],r))}function Hh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pS(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function nc(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Vh(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function u0(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function d0(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function fP(e){return mP()?!1:!hS()&&e.width===0&&e.height===0||hS()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function pP(){return/apple/i.test(navigator.vendor)}function hS(){const e=/android/i;return e.test(u0())||e.test(d0())}function hP(){return u0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function mP(){return d0().includes("jsdom/")}function Wh(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function gP(e){return"nativeEvent"in e}function vP(e){return e.matches("html,body")}function xo(e){return(e==null?void 0:e.ownerDocument)||document}function nh(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function wi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const yP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function wP(e){return Dr(e)&&e.matches(yP)}const Cn=Math.min,Xt=Math.max,Du=Math.round,Ml=Math.floor,zn=e=>({x:e,y:e}),SP={left:"right",right:"left",bottom:"top",top:"bottom"},bP={start:"end",end:"start"};function qh(e,t,r){return Xt(e,Cn(t,r))}function ds(e,t){return typeof e=="function"?e(t):e}function Rn(e){return e.split("-")[0]}function Li(e){return e.split("-")[1]}function Lm(e){return e==="x"?"y":"x"}function Om(e){return e==="y"?"height":"width"}function fs(e){return["top","bottom"].includes(Rn(e))?"y":"x"}function Nm(e){return Lm(fs(e))}function _P(e,t,r){r===void 0&&(r=!1);const n=Li(e),i=Nm(e),a=Om(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=ju(c)),[c,ju(c)]}function xP(e){const t=ju(e);return[Gh(e),t,Gh(t)]}function Gh(e){return e.replace(/start|end/g,t=>bP[t])}function CP(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:c;default:return[]}}function RP(e,t,r,n){const i=Li(e);let a=CP(Rn(e),r==="start",n);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Gh)))),a}function ju(e){return e.replace(/left|right|bottom|top/g,t=>SP[t])}function EP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Am(e){return typeof e!="number"?EP(e):{top:e,right:e,bottom:e,left:e}}function Ti(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function mS(e,t,r){let{reference:n,floating:i}=e;const a=fs(t),c=Nm(t),l=Om(c),d=Rn(t),h=a==="y",m=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,w=n[l]/2-i[l]/2;let S;switch(d){case"top":S={x:m,y:n.y-i.height};break;case"bottom":S={x:m,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-i.width,y:v};break;default:S={x:n.x,y:n.y}}switch(Li(t)){case"start":S[c]-=w*(r&&h?-1:1);break;case"end":S[c]+=w*(r&&h?-1:1);break}return S}const TP=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,l=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:v}=mS(h,n,d),w=n,S={},b=0;for(let E=0;E<l.length;E++){const{name:R,fn:T}=l[E],{x:_,y:p,data:f,reset:g}=await T({x:m,y:v,initialPlacement:n,placement:w,strategy:i,middlewareData:S,rects:h,platform:c,elements:{reference:e,floating:t}});m=_??m,v=p??v,S={...S,[R]:{...S[R],...f}},g&&b<=50&&(b++,typeof g=="object"&&(g.placement&&(w=g.placement),g.rects&&(h=g.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):g.rects),{x:m,y:v}=mS(h,w,d)),E=-1)}return{x:m,y:v,placement:w,strategy:i,middlewareData:S}};async function $m(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:c,elements:l,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:w=!1,padding:S=0}=ds(t,e),b=Am(S),R=l[w?v==="floating"?"reference":"floating":v],T=Ti(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(R)))==null||r?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:h,rootBoundary:m,strategy:d})),_=v==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),f=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},g=Ti(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:p,strategy:d}):_);return{top:(T.top-g.top+b.top)/f.y,bottom:(g.bottom-T.bottom+b.bottom)/f.y,left:(T.left-g.left+b.left)/f.x,right:(g.right-T.right+b.right)/f.x}}const kP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:c,elements:l,middlewareData:d}=t,{element:h,padding:m=0}=ds(e,t)||{};if(h==null)return{};const v=Am(m),w={x:r,y:n},S=Nm(i),b=Om(S),E=await c.getDimensions(h),R=S==="y",T=R?"top":"left",_=R?"bottom":"right",p=R?"clientHeight":"clientWidth",f=a.reference[b]+a.reference[S]-w[S]-a.floating[b],g=w[S]-a.reference[S],x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let P=x?x[p]:0;(!P||!await(c.isElement==null?void 0:c.isElement(x)))&&(P=l.floating[p]||a.floating[b]);const I=f/2-g/2,L=P/2-E[b]/2-1,M=Cn(v[T],L),A=Cn(v[_],L),N=M,B=P-E[b]-A,W=P/2-E[b]/2+I,K=qh(N,W,B),O=!d.arrow&&Li(i)!=null&&W!==K&&a.reference[b]/2-(W<N?M:A)-E[b]/2<0,V=O?W<N?W-N:W-B:0;return{[S]:w[S]+V,data:{[S]:K,centerOffset:W-K-V,...O&&{alignmentOffset:V}},reset:O}}}),PP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:c,initialPlacement:l,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...R}=ds(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Rn(i),_=fs(l),p=Rn(l)===l,f=await(d.isRTL==null?void 0:d.isRTL(h.floating)),g=w||(p||!E?[ju(l)]:xP(l)),x=b!=="none";!w&&x&&g.push(...RP(l,E,b,f));const P=[l,...g],I=await $m(t,R),L=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&L.push(I[T]),v){const W=_P(i,c,f);L.push(I[W[0]],I[W[1]])}if(M=[...M,{placement:i,overflows:L}],!L.every(W=>W<=0)){var A,N;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,K=P[W];if(K)return{data:{index:W,overflows:M},reset:{placement:K}};let O=(N=M.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(S){case"bestFit":{var B;const V=(B=M.filter(F=>{if(x){const z=fs(F.placement);return z===_||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:B[0];V&&(O=V);break}case"initialPlacement":O=l;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function f0(e){const t=Cn(...e.map(a=>a.left)),r=Cn(...e.map(a=>a.top)),n=Xt(...e.map(a=>a.right)),i=Xt(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:i-r}}function DP(e){const t=e.slice().sort((i,a)=>i.y-a.y),r=[];let n=null;for(let i=0;i<t.length;i++){const a=t[i];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(i=>Ti(f0(i)))}const jP=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:i,platform:a,strategy:c}=t,{padding:l=2,x:d,y:h}=ds(e,t),m=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),v=DP(m),w=Ti(f0(m)),S=Am(l);function b(){if(v.length===2&&v[0].left>v[1].right&&d!=null&&h!=null)return v.find(R=>d>R.left-S.left&&d<R.right+S.right&&h>R.top-S.top&&h<R.bottom+S.bottom)||w;if(v.length>=2){if(fs(r)==="y"){const M=v[0],A=v[v.length-1],N=Rn(r)==="top",B=M.top,W=A.bottom,K=N?M.left:A.left,O=N?M.right:A.right,V=O-K,F=W-B;return{top:B,bottom:W,left:K,right:O,width:V,height:F,x:K,y:B}}const R=Rn(r)==="left",T=Xt(...v.map(M=>M.right)),_=Cn(...v.map(M=>M.left)),p=v.filter(M=>R?M.left===_:M.right===T),f=p[0].top,g=p[p.length-1].bottom,x=_,P=T,I=P-x,L=g-f;return{top:f,bottom:g,left:x,right:P,width:I,height:L,x,y:f}}return w}const E=await a.getElementRects({reference:{getBoundingClientRect:b},floating:n.floating,strategy:c});return i.reference.x!==E.reference.x||i.reference.y!==E.reference.y||i.reference.width!==E.reference.width||i.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}};async function IP(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Rn(r),l=Li(r),d=fs(r)==="y",h=["left","top"].includes(c)?-1:1,m=a&&d?-1:1,v=ds(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof b=="number"&&(S=l==="end"?b*-1:b),d?{x:S*m,y:w*h}:{x:w*h,y:S*m}}const MP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:c,middlewareData:l}=t,d=await IP(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},LP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:R=>{let{x:T,y:_}=R;return{x:T,y:_}}},...d}=ds(e,t),h={x:r,y:n},m=await $m(t,d),v=fs(Rn(i)),w=Lm(v);let S=h[w],b=h[v];if(a){const R=w==="y"?"top":"left",T=w==="y"?"bottom":"right",_=S+m[R],p=S-m[T];S=qh(_,S,p)}if(c){const R=v==="y"?"top":"left",T=v==="y"?"bottom":"right",_=b+m[R],p=b-m[T];b=qh(_,b,p)}const E=l.fn({...t,[w]:S,[v]:b});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[w]:a,[v]:c}}}}}},OP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:d=!0,crossAxis:h=!0}=ds(e,t),m={x:r,y:n},v=fs(i),w=Lm(v);let S=m[w],b=m[v];const E=ds(l,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const p=w==="y"?"height":"width",f=a.reference[w]-a.floating[p]+R.mainAxis,g=a.reference[w]+a.reference[p]-R.mainAxis;S<f?S=f:S>g&&(S=g)}if(h){var T,_;const p=w==="y"?"width":"height",f=["top","left"].includes(Rn(i)),g=a.reference[v]-a.floating[p]+(f&&((T=c.offset)==null?void 0:T[v])||0)+(f?0:R.crossAxis),x=a.reference[v]+a.reference[p]+(f?0:((_=c.offset)==null?void 0:_[v])||0)-(f?R.crossAxis:0);b<g?b=g:b>x&&(b=x)}return{[w]:S,[v]:b}}}},NP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:c,elements:l}=t,{apply:d=()=>{},...h}=ds(e,t),m=await $m(t,h),v=Rn(i),w=Li(i),S=fs(i)==="y",{width:b,height:E}=a.floating;let R,T;v==="top"||v==="bottom"?(R=v,T=w===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(T=v,R=w==="end"?"top":"bottom");const _=E-m.top-m.bottom,p=b-m.left-m.right,f=Cn(E-m[R],_),g=Cn(b-m[T],p),x=!t.middlewareData.shift;let P=f,I=g;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=p),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=_),x&&!w){const M=Xt(m.left,0),A=Xt(m.right,0),N=Xt(m.top,0),B=Xt(m.bottom,0);S?I=b-2*(M!==0||A!==0?M+A:Xt(m.left,m.right)):P=E-2*(N!==0||B!==0?N+B:Xt(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:P});const L=await c.getDimensions(l.floating);return b!==L.width||E!==L.height?{reset:{rects:!0}}:{}}}};function p0(e){const t=Vr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Dr(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:n,l=Du(r)!==a||Du(n)!==c;return l&&(r=a,n=c),{width:r,height:n,$:l}}function Fm(e){return ot(e)?e:e.contextElement}function Ci(e){const t=Fm(e);if(!Dr(t))return zn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=p0(t);let c=(a?Du(r.width):r.width)/n,l=(a?Du(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const AP=zn(0);function h0(e){const t=gr(e);return!nd()||!t.visualViewport?AP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $P(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==gr(e)?!1:t}function Po(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=Fm(e);let c=zn(1);t&&(n?ot(n)&&(c=Ci(n)):c=Ci(e));const l=$P(a,r,n)?h0(a):zn(0);let d=(i.left+l.x)/c.x,h=(i.top+l.y)/c.y,m=i.width/c.x,v=i.height/c.y;if(a){const w=gr(a),S=n&&ot(n)?gr(n):n;let b=w,E=Hh(b);for(;E&&n&&S!==b;){const R=Ci(E),T=E.getBoundingClientRect(),_=Vr(E),p=T.left+(E.clientLeft+parseFloat(_.paddingLeft))*R.x,f=T.top+(E.clientTop+parseFloat(_.paddingTop))*R.y;d*=R.x,h*=R.y,m*=R.x,v*=R.y,d+=p,h+=f,b=gr(E),E=Hh(b)}}return Ti({width:m,height:v,x:d,y:h})}function zm(e,t){const r=sd(e).scrollLeft;return t?t.left+r:Po(Gn(e)).left+r}function m0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:zm(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function FP(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",c=Gn(n),l=t?rd(t.floating):!1;if(n===c||l&&a)return r;let d={scrollLeft:0,scrollTop:0},h=zn(1);const m=zn(0),v=Dr(n);if((v||!v&&!a)&&((Mi(n)!=="body"||pc(c))&&(d=sd(n)),Dr(n))){const S=Po(n);h=Ci(n),m.x=S.x+n.clientLeft,m.y=S.y+n.clientTop}const w=c&&!v&&!a?m0(c,d,!0):zn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+m.x+w.x,y:r.y*h.y-d.scrollTop*h.y+m.y+w.y}}function zP(e){return Array.from(e.getClientRects())}function BP(e){const t=Gn(e),r=sd(e),n=e.ownerDocument.body,i=Xt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Xt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+zm(e);const l=-r.scrollTop;return Vr(n).direction==="rtl"&&(c+=Xt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:c,y:l}}function UP(e,t){const r=gr(e),n=Gn(e),i=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,l=0,d=0;if(i){a=i.width,c=i.height;const h=nd();(!h||h&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:l,y:d}}function VP(e,t){const r=Po(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Dr(e)?Ci(e):zn(1),c=e.clientWidth*a.x,l=e.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:c,height:l,x:d,y:h}}function gS(e,t,r){let n;if(t==="viewport")n=UP(e,r);else if(t==="document")n=BP(Gn(e));else if(ot(t))n=VP(t,r);else{const i=h0(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ti(n)}function g0(e,t){const r=us(e);return r===t||!ot(r)||qs(r)?!1:Vr(r).position==="fixed"||g0(r,t)}function HP(e,t){const r=t.get(e);if(r)return r;let n=os(e,[],!1).filter(l=>ot(l)&&Mi(l)!=="body"),i=null;const a=Vr(e).position==="fixed";let c=a?us(e):e;for(;ot(c)&&!qs(c);){const l=Vr(c),d=Mm(c);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pc(c)&&!d&&g0(e,c))?n=n.filter(m=>m!==c):i=l,c=us(c)}return t.set(e,n),n}function WP(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?rd(t)?[]:HP(t,this._c):[].concat(r),n],l=c[0],d=c.reduce((h,m)=>{const v=gS(t,m,i);return h.top=Xt(v.top,h.top),h.right=Cn(v.right,h.right),h.bottom=Cn(v.bottom,h.bottom),h.left=Xt(v.left,h.left),h},gS(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qP(e){const{width:t,height:r}=p0(e);return{width:t,height:r}}function GP(e,t,r){const n=Dr(t),i=Gn(t),a=r==="fixed",c=Po(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=zn(0);if(n||!n&&!a)if((Mi(t)!=="body"||pc(i))&&(l=sd(t)),n){const w=Po(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else i&&(d.x=zm(i));const h=i&&!n&&!a?m0(i,l):zn(0),m=c.left+l.scrollLeft-d.x-h.x,v=c.top+l.scrollTop-d.y-h.y;return{x:m,y:v,width:c.width,height:c.height}}function sh(e){return Vr(e).position==="static"}function vS(e,t){if(!Dr(e)||Vr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gn(e)===r&&(r=r.ownerDocument.body),r}function v0(e,t){const r=gr(e);if(rd(e))return r;if(!Dr(e)){let i=us(e);for(;i&&!qs(i);){if(ot(i)&&!sh(i))return i;i=us(i)}return r}let n=vS(e,t);for(;n&&uP(n)&&sh(n);)n=vS(n,t);return n&&qs(n)&&sh(n)&&!Mm(n)?r:n||dP(e)||r}const KP=async function(e){const t=this.getOffsetParent||v0,r=this.getDimensions,n=await r(e.floating);return{reference:GP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YP(e){return Vr(e).direction==="rtl"}const XP={convertOffsetParentRelativeRectToViewportRelativeRect:FP,getDocumentElement:Gn,getClippingRect:WP,getOffsetParent:v0,getElementRects:KP,getClientRects:zP,getDimensions:qP,getScale:Ci,isElement:ot,isRTL:YP};function y0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QP(e,t){let r=null,n;const i=Gn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:m,top:v,width:w,height:S}=h;if(l||t(),!w||!S)return;const b=Ml(v),E=Ml(i.clientWidth-(m+w)),R=Ml(i.clientHeight-(v+S)),T=Ml(m),p={rootMargin:-b+"px "+-E+"px "+-R+"px "+-T+"px",threshold:Xt(0,Cn(1,d))||1};let f=!0;function g(x){const P=x[0].intersectionRatio;if(P!==d){if(!f)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!y0(h,e.getBoundingClientRect())&&c(),f=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch{r=new IntersectionObserver(g,p)}r.observe(e)}return c(!0),a}function JP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=Fm(e),m=i||a?[...h?os(h):[],...os(t)]:[];m.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const v=h&&l?QP(h,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(T=>{let[_]=T;_&&_.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var p;(p=S)==null||p.observe(t)})),r()}),h&&!d&&S.observe(h),S.observe(t));let b,E=d?Po(e):null;d&&R();function R(){const T=Po(e);E&&!y0(E,T)&&r(),E=T,b=requestAnimationFrame(R)}return r(),()=>{var T;m.forEach(_=>{i&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),v==null||v(),(T=S)==null||T.disconnect(),S=null,d&&cancelAnimationFrame(b)}}const ZP=MP,eD=LP,tD=PP,rD=NP,yS=kP,nD=jP,sD=OP,oD=(e,t,r)=>{const n=new Map,i={platform:XP,...r},a={...i.platform,_c:n};return TP(e,t,{...i,platform:a})};var Kl=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Iu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Iu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function w0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wS(e,t){const r=w0(e);return Math.round(t*r)/r}function oh(e){const t=D.useRef(e);return Kl(()=>{t.current=e}),t}function iD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:c}={},transform:l=!0,whileElementsMounted:d,open:h}=e,[m,v]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=D.useState(n);Iu(w,n)||S(n);const[b,E]=D.useState(null),[R,T]=D.useState(null),_=D.useCallback(F=>{F!==x.current&&(x.current=F,E(F))},[]),p=D.useCallback(F=>{F!==P.current&&(P.current=F,T(F))},[]),f=a||b,g=c||R,x=D.useRef(null),P=D.useRef(null),I=D.useRef(m),L=d!=null,M=oh(d),A=oh(i),N=oh(h),B=D.useCallback(()=>{if(!x.current||!P.current)return;const F={placement:t,strategy:r,middleware:w};A.current&&(F.platform=A.current),oD(x.current,P.current,F).then(z=>{const q={...z,isPositioned:N.current!==!1};W.current&&!Iu(I.current,q)&&(I.current=q,Zu.flushSync(()=>{v(q)}))})},[w,t,r,A,N]);Kl(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(F=>({...F,isPositioned:!1})))},[h]);const W=D.useRef(!1);Kl(()=>(W.current=!0,()=>{W.current=!1}),[]),Kl(()=>{if(f&&(x.current=f),g&&(P.current=g),f&&g){if(M.current)return M.current(f,g,B);B()}},[f,g,B,M,L]);const K=D.useMemo(()=>({reference:x,floating:P,setReference:_,setFloating:p}),[_,p]),O=D.useMemo(()=>({reference:f,floating:g}),[f,g]),V=D.useMemo(()=>{const F={position:r,left:0,top:0};if(!O.floating)return F;const z=wS(O.floating,m.x),q=wS(O.floating,m.y);return l?{...F,transform:"translate("+z+"px, "+q+"px)",...w0(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,l,O.floating,m.x,m.y]);return D.useMemo(()=>({...m,update:B,refs:K,elements:O,floatingStyles:V}),[m,B,K,O,V])}const aD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?yS({element:n.current,padding:i}).fn(r):{}:n?yS({element:n,padding:i}).fn(r):{}}}},S0=(e,t)=>({...ZP(e),options:[e,t]}),Bm=(e,t)=>({...eD(e),options:[e,t]}),SS=(e,t)=>({...sD(e),options:[e,t]}),Mu=(e,t)=>({...tD(e),options:[e,t]}),cD=(e,t)=>({...rD(e),options:[e,t]}),Xa=(e,t)=>({...nD(e),options:[e,t]}),b0=(e,t)=>({...aD(e),options:[e,t]});function lD(e){return D.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const _0={...D_},uD=_0.useInsertionEffect,dD=uD||(e=>e());function ss(e){const t=D.useRef(()=>{});return dD(()=>{t.current=e}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var Bn=typeof document<"u"?D.useLayoutEffect:D.useEffect;let bS=!1,fD=0;const _S=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fD++;function pD(){const[e,t]=D.useState(()=>bS?_S():void 0);return Bn(()=>{e==null&&t(_S())},[]),D.useEffect(()=>{bS=!0},[]),e}const hD=_0.useId,x0=hD||pD;function mD(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const gD=D.createContext(null),vD=D.createContext(null),Um=()=>{var e;return((e=D.useContext(gD))==null?void 0:e.id)||null},Vm=()=>D.useContext(vD);function Hm(e){return"data-floating-ui-"+e}function ih(e){const t=D.useRef(e);return Bn(()=>{t.current=e}),t}const xS=Hm("safe-polygon");function Yl(e,t,r){return r&&!Wh(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function yD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:c}=e,{enabled:l=!0,delay:d=0,handleClose:h=null,mouseOnly:m=!1,restMs:v=0,move:w=!0}=t,S=Vm(),b=Um(),E=ih(h),R=ih(d),T=ih(r),_=D.useRef(),p=D.useRef(-1),f=D.useRef(),g=D.useRef(-1),x=D.useRef(!0),P=D.useRef(!1),I=D.useRef(()=>{}),L=D.useRef(!1),M=D.useCallback(()=>{var V;const F=(V=i.current.openEvent)==null?void 0:V.type;return(F==null?void 0:F.includes("mouse"))&&F!=="mousedown"},[i]);D.useEffect(()=>{if(!l)return;function V(F){let{open:z}=F;z||(clearTimeout(p.current),clearTimeout(g.current),x.current=!0,L.current=!1)}return a.on("openchange",V),()=>{a.off("openchange",V)}},[l,a]),D.useEffect(()=>{if(!l||!E.current||!r)return;function V(z){M()&&n(!1,z,"hover")}const F=xo(c.floating).documentElement;return F.addEventListener("mouseleave",V),()=>{F.removeEventListener("mouseleave",V)}},[c.floating,r,n,l,E,M]);const A=D.useCallback(function(V,F,z){F===void 0&&(F=!0),z===void 0&&(z="hover");const q=Yl(R.current,"close",_.current);q&&!f.current?(clearTimeout(p.current),p.current=window.setTimeout(()=>n(!1,V,z),q)):F&&(clearTimeout(p.current),n(!1,V,z))},[R,n]),N=ss(()=>{I.current(),f.current=void 0}),B=ss(()=>{if(P.current){const V=xo(c.floating).body;V.style.pointerEvents="",V.removeAttribute(xS),P.current=!1}}),W=ss(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);D.useEffect(()=>{if(!l)return;function V(U){if(clearTimeout(p.current),x.current=!1,m&&!Wh(_.current)||v>0&&!Yl(R.current,"open"))return;const X=Yl(R.current,"open",_.current);X?p.current=window.setTimeout(()=>{T.current||n(!0,U,"hover")},X):r||n(!0,U,"hover")}function F(U){if(W())return;I.current();const X=xo(c.floating);if(clearTimeout(g.current),L.current=!1,E.current&&i.current.floatingContext){r||clearTimeout(p.current),f.current=E.current({...i.current.floatingContext,tree:S,x:U.clientX,y:U.clientY,onClose(){B(),N(),W()||A(U,!0,"safe-polygon")}});const de=f.current;X.addEventListener("mousemove",de),I.current=()=>{X.removeEventListener("mousemove",de)};return}(_.current==="touch"?!nc(c.floating,U.relatedTarget):!0)&&A(U)}function z(U){W()||i.current.floatingContext&&(E.current==null||E.current({...i.current.floatingContext,tree:S,x:U.clientX,y:U.clientY,onClose(){B(),N(),W()||A(U)}})(U))}if(ot(c.domReference)){var q;const U=c.domReference;return r&&U.addEventListener("mouseleave",z),(q=c.floating)==null||q.addEventListener("mouseleave",z),w&&U.addEventListener("mousemove",V,{once:!0}),U.addEventListener("mouseenter",V),U.addEventListener("mouseleave",F),()=>{var X;r&&U.removeEventListener("mouseleave",z),(X=c.floating)==null||X.removeEventListener("mouseleave",z),w&&U.removeEventListener("mousemove",V),U.removeEventListener("mouseenter",V),U.removeEventListener("mouseleave",F)}}},[c,l,e,m,v,w,A,N,B,n,r,T,S,R,E,i,W]),Bn(()=>{var V;if(l&&r&&(V=E.current)!=null&&V.__options.blockPointerEvents&&M()){P.current=!0;const z=c.floating;if(ot(c.domReference)&&z){var F;const q=xo(c.floating).body;q.setAttribute(xS,"");const U=c.domReference,X=S==null||(F=S.nodesRef.current.find(ce=>ce.id===b))==null||(F=F.context)==null?void 0:F.elements.floating;return X&&(X.style.pointerEvents=""),q.style.pointerEvents="none",U.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{q.style.pointerEvents="",U.style.pointerEvents="",z.style.pointerEvents=""}}}},[l,r,b,c,S,E,M]),Bn(()=>{r||(_.current=void 0,L.current=!1,N(),B())},[r,N,B]),D.useEffect(()=>()=>{N(),clearTimeout(p.current),clearTimeout(g.current),B()},[l,c.domReference,N,B]);const K=D.useMemo(()=>{function V(F){_.current=F.pointerType}return{onPointerDown:V,onPointerEnter:V,onMouseMove(F){const{nativeEvent:z}=F;function q(){!x.current&&!T.current&&n(!0,z,"hover")}m&&!Wh(_.current)||r||v===0||L.current&&F.movementX**2+F.movementY**2<2||(clearTimeout(g.current),_.current==="touch"?q():(L.current=!0,g.current=window.setTimeout(q,v)))}}},[m,n,r,T,v]),O=D.useMemo(()=>({onMouseEnter(){clearTimeout(p.current)},onMouseLeave(V){W()||A(V.nativeEvent,!1)}}),[A,W]);return D.useMemo(()=>l?{reference:K,floating:O}:{},[l,K,O])}const Kh=()=>{},C0=D.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Kh,setState:Kh,isInstantPhase:!1}),wD=()=>D.useContext(C0);function SD(e){const{children:t,delay:r,timeoutMs:n=0}=e,[i,a]=D.useReducer((d,h)=>({...d,...h}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=D.useRef(null),l=D.useCallback(d=>{a({currentId:d})},[]);return Bn(()=>{i.currentId?c.current===null?c.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[i.currentId,i.isInstantPhase]),D.createElement(C0.Provider,{value:D.useMemo(()=>({...i,setState:a,setCurrentId:l}),[i,l])},t)}function bD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:i}=e,{id:a,enabled:c=!0}=t,l=a??i,d=wD(),{currentId:h,setCurrentId:m,initialDelay:v,setState:w,timeoutMs:S}=d;return Bn(()=>{c&&h&&(w({delay:{open:1,close:Yl(v,"close")}}),h!==l&&n(!1))},[c,l,n,w,h,v]),Bn(()=>{function b(){n(!1),w({delay:v,currentId:null})}if(c&&h&&!r&&h===l){if(S){const E=window.setTimeout(b,S);return()=>{clearTimeout(E)}}b()}},[c,r,w,h,l,n,v,S]),Bn(()=>{c&&(m===Kh||!r||m(l))},[c,r,m,l]),d}function ah(e,t){let r=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(i=>{var a;return(a=n)==null?void 0:a.some(c=>{var l;return i.parentId===c.id&&((l=i.context)==null?void 0:l.open)})}),r=r.concat(n);return r}const _D="data-floating-ui-focusable",xD={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},CD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},CS=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function RD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:i,dataRef:a}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:m=!1,referencePressEvent:v="pointerdown",ancestorScroll:w=!1,bubbles:S,capture:b}=t,E=Vm(),R=ss(typeof d=="function"?d:()=>!1),T=typeof d=="function"?R:d,_=D.useRef(!1),p=D.useRef(!1),{escapeKey:f,outsidePress:g}=CS(S),{escapeKey:x,outsidePress:P}=CS(b),I=D.useRef(!1),L=ss(K=>{var O;if(!r||!c||!l||K.key!=="Escape"||I.current)return;const V=(O=a.current.floatingContext)==null?void 0:O.nodeId,F=E?ah(E.nodesRef.current,V):[];if(!f&&(K.stopPropagation(),F.length>0)){let z=!0;if(F.forEach(q=>{var U;if((U=q.context)!=null&&U.open&&!q.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}n(!1,gP(K)?K.nativeEvent:K,"escape-key")}),M=ss(K=>{var O;const V=()=>{var F;L(K),(F=wi(K))==null||F.removeEventListener("keydown",V)};(O=wi(K))==null||O.addEventListener("keydown",V)}),A=ss(K=>{var O;const V=_.current;_.current=!1;const F=p.current;if(p.current=!1,h==="click"&&F||V||typeof T=="function"&&!T(K))return;const z=wi(K),q="["+Hm("inert")+"]",U=xo(i.floating).querySelectorAll(q);let X=ot(z)?z:null;for(;X&&!qs(X);){const ie=us(X);if(qs(ie)||!ot(ie))break;X=ie}if(U.length&&ot(z)&&!vP(z)&&!nc(z,i.floating)&&Array.from(U).every(ie=>!nc(X,ie)))return;if(Dr(z)&&W){const ie=z.clientWidth>0&&z.scrollWidth>z.clientWidth,ue=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let me=ue&&K.offsetX>z.clientWidth;if(ue&&Vr(z).direction==="rtl"&&(me=K.offsetX<=z.offsetWidth-z.clientWidth),me||ie&&K.offsetY>z.clientHeight)return}const ce=(O=a.current.floatingContext)==null?void 0:O.nodeId,de=E&&ah(E.nodesRef.current,ce).some(ie=>{var ue;return nh(K,(ue=ie.context)==null?void 0:ue.elements.floating)});if(nh(K,i.floating)||nh(K,i.domReference)||de)return;const ee=E?ah(E.nodesRef.current,ce):[];if(ee.length>0){let ie=!0;if(ee.forEach(ue=>{var me;if((me=ue.context)!=null&&me.open&&!ue.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}n(!1,K,"outside-press")}),N=ss(K=>{var O;const V=()=>{var F;A(K),(F=wi(K))==null||F.removeEventListener(h,V)};(O=wi(K))==null||O.addEventListener(h,V)});D.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=f,a.current.__outsidePressBubbles=g;let K=-1;function O(U){n(!1,U,"ancestor-scroll")}function V(){window.clearTimeout(K),I.current=!0}function F(){K=window.setTimeout(()=>{I.current=!1},nd()?5:0)}const z=xo(i.floating);l&&(z.addEventListener("keydown",x?M:L,x),z.addEventListener("compositionstart",V),z.addEventListener("compositionend",F)),T&&z.addEventListener(h,P?N:A,P);let q=[];return w&&(ot(i.domReference)&&(q=os(i.domReference)),ot(i.floating)&&(q=q.concat(os(i.floating))),!ot(i.reference)&&i.reference&&i.reference.contextElement&&(q=q.concat(os(i.reference.contextElement)))),q=q.filter(U=>{var X;return U!==((X=z.defaultView)==null?void 0:X.visualViewport)}),q.forEach(U=>{U.addEventListener("scroll",O,{passive:!0})}),()=>{l&&(z.removeEventListener("keydown",x?M:L,x),z.removeEventListener("compositionstart",V),z.removeEventListener("compositionend",F)),T&&z.removeEventListener(h,P?N:A,P),q.forEach(U=>{U.removeEventListener("scroll",O)}),window.clearTimeout(K)}},[a,i,l,T,h,r,n,w,c,f,g,L,x,M,A,P,N]),D.useEffect(()=>{_.current=!1},[T,h]);const B=D.useMemo(()=>({onKeyDown:L,[xD[v]]:K=>{m&&n(!1,K.nativeEvent,"reference-press")}}),[L,n,m,v]),W=D.useMemo(()=>({onKeyDown:L,onMouseDown(){p.current=!0},onMouseUp(){p.current=!0},[CD[h]]:()=>{_.current=!0}}),[L,h]);return D.useMemo(()=>c?{reference:B,floating:W}:{},[c,B,W])}function ED(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=x0(),a=D.useRef({}),[c]=D.useState(()=>mD()),l=Um()!=null,[d,h]=D.useState(n.reference),m=ss((S,b,E)=>{a.current.openEvent=S?b:void 0,c.emit("openchange",{open:S,event:b,reason:E,nested:l}),r==null||r(S,b,E)}),v=D.useMemo(()=>({setPositionReference:h}),[]),w=D.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return D.useMemo(()=>({dataRef:a,open:t,onOpenChange:m,elements:w,events:c,floatingId:i,refs:v}),[t,m,w,c,i,v])}function Wm(e){e===void 0&&(e={});const{nodeId:t}=e,r=ED({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,c]=D.useState(null),[l,d]=D.useState(null),m=(i==null?void 0:i.domReference)||a,v=D.useRef(null),w=Vm();Bn(()=>{m&&(v.current=m)},[m]);const S=iD({...e,elements:{...i,...l&&{reference:l}}}),b=D.useCallback(p=>{const f=ot(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;d(f),S.refs.setReference(f)},[S.refs]),E=D.useCallback(p=>{(ot(p)||p===null)&&(v.current=p,c(p)),(ot(S.refs.reference.current)||S.refs.reference.current===null||p!==null&&!ot(p))&&S.refs.setReference(p)},[S.refs]),R=D.useMemo(()=>({...S.refs,setReference:E,setPositionReference:b,domReference:v}),[S.refs,E,b]),T=D.useMemo(()=>({...S.elements,domReference:m}),[S.elements,m]),_=D.useMemo(()=>({...S,...n,refs:R,elements:T,nodeId:t}),[S,R,T,t,n]);return Bn(()=>{n.dataRef.current.floatingContext=_;const p=w==null?void 0:w.nodesRef.current.find(f=>f.id===t);p&&(p.context=_)}),D.useMemo(()=>({...S,context:_,refs:R,elements:T}),[S,R,T,_])}function TD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:c}=e,{enabled:l=!0,visibleOnly:d=!0}=t,h=D.useRef(!1),m=D.useRef(),v=D.useRef(!0);D.useEffect(()=>{if(!l)return;const S=gr(c.domReference);function b(){!r&&Dr(c.domReference)&&c.domReference===pS(xo(c.domReference))&&(h.current=!0)}function E(){v.current=!0}return S.addEventListener("blur",b),S.addEventListener("keydown",E,!0),()=>{S.removeEventListener("blur",b),S.removeEventListener("keydown",E,!0)}},[c.domReference,r,l]),D.useEffect(()=>{if(!l)return;function S(b){let{reason:E}=b;(E==="reference-press"||E==="escape-key")&&(h.current=!0)}return i.on("openchange",S),()=>{i.off("openchange",S)}},[i,l]),D.useEffect(()=>()=>{clearTimeout(m.current)},[]);const w=D.useMemo(()=>({onPointerDown(S){fP(S.nativeEvent)||(v.current=!1)},onMouseLeave(){h.current=!1},onFocus(S){if(h.current)return;const b=wi(S.nativeEvent);if(d&&ot(b))try{if(pP()&&hP())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!v.current&&!wP(b))return}n(!0,S.nativeEvent,"focus")},onBlur(S){h.current=!1;const b=S.relatedTarget,E=S.nativeEvent,R=ot(b)&&b.hasAttribute(Hm("focus-guard"))&&b.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var T;const _=pS(c.domReference?c.domReference.ownerDocument:document);!b&&_===c.domReference||nc((T=a.current.floatingContext)==null?void 0:T.refs.floating.current,_)||nc(c.domReference,_)||R||n(!1,E,"focus")})}}),[a,c.domReference,n,d]);return D.useMemo(()=>l?{reference:w}:{},[l,w])}const RS="active",ES="selected";function ch(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[RS]:c,[ES]:l,...d}=e;a=d}return{...r==="floating"&&{tabIndex:-1,[_D]:""},...a,...t.map(c=>{const l=c?c[r]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((c,l)=>(l&&Object.entries(l).forEach(d=>{let[h,m]=d;if(!(i&&[RS,ES].includes(h)))if(h.indexOf("on")===0){if(n.has(h)||n.set(h,[]),typeof m=="function"){var v;(v=n.get(h))==null||v.push(m),c[h]=function(){for(var w,S=arguments.length,b=new Array(S),E=0;E<S;E++)b[E]=arguments[E];return(w=n.get(h))==null?void 0:w.map(R=>R(...b)).find(R=>R!==void 0)}}}else c[h]=m}),c),{})}}function kD(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),r=e.map(l=>l==null?void 0:l.floating),n=e.map(l=>l==null?void 0:l.item),i=D.useCallback(l=>ch(l,e,"reference"),t),a=D.useCallback(l=>ch(l,e,"floating"),r),c=D.useCallback(l=>ch(l,e,"item"),n);return D.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:c}),[i,a,c])}const PD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function DD(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:i}=e,{enabled:a=!0,role:c="dialog"}=t,l=(r=PD.get(c))!=null?r:c,d=x0(),m=Um()!=null,v=D.useMemo(()=>l==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?i:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":n?i:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:d},...l==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[l,i,m,n,d,c]),w=D.useMemo(()=>{const b={id:i,...l&&{role:l}};return l==="tooltip"||c==="label"?b:{...b,...l==="menu"&&{"aria-labelledby":d}}},[l,i,d,c]),S=D.useCallback(b=>{let{active:E,selected:R}=b;const T={role:"option",...E&&{id:i+"-option"}};switch(c){case"select":return{...T,"aria-selected":E&&R};case"combobox":return{...T,...E&&{"aria-selected":!0}}}return{}},[i,c]);return D.useMemo(()=>a?{reference:v,floating:w,item:S}:{},[a,v,w,S])}const[jD,Wr]=Tn("ScrollArea.Root component was not found in tree");function ki(e,t){const r=_o(t);dc(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}const ID=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Wr(),[a,c]=D.useState(0),[l,d]=D.useState(0),h=!!(a&&l);return ki(i.scrollbarX,()=>{var v;const m=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(m),d(m)}),ki(i.scrollbarY,()=>{var v;const m=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(m),c(m)}),h?C.jsx("div",{...n,ref:t,style:{...r,width:a,height:l}}):null}),MD=D.forwardRef((e,t)=>{const r=Wr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?C.jsx(ID,{...e,ref:t}):null}),LD={scrollHideDelay:1e3,type:"hover"},R0=D.forwardRef((e,t)=>{const r=oe("ScrollAreaRoot",LD,e),{type:n,scrollHideDelay:i,scrollbars:a,...c}=r,[l,d]=D.useState(null),[h,m]=D.useState(null),[v,w]=D.useState(null),[S,b]=D.useState(null),[E,R]=D.useState(null),[T,_]=D.useState(0),[p,f]=D.useState(0),[g,x]=D.useState(!1),[P,I]=D.useState(!1),L=Ht(t,M=>d(M));return C.jsx(jD,{value:{type:n,scrollHideDelay:i,scrollArea:l,viewport:h,onViewportChange:m,content:v,onContentChange:w,scrollbarX:S,onScrollbarXChange:b,scrollbarXEnabled:g,onScrollbarXEnabledChange:x,scrollbarY:E,onScrollbarYChange:R,scrollbarYEnabled:P,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:f},children:C.jsx(ne,{...c,ref:L,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${T}px`,"--sa-corner-height":a!=="xy"?"0px":`${p}px`}})})});R0.displayName="@mantine/core/ScrollAreaRoot";function E0(e,t){const r=e/t;return Number.isNaN(r)?0:r}function od(e){const t=E0(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function T0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function OD(e,[t,r]){return Math.min(r,Math.max(t,e))}function TS(e,t,r="ltr"){const n=od(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,c]:[c*-1,0],h=OD(e,d);return T0([0,c],[0,l])(h)}function ND(e,t,r,n="ltr"){const i=od(r),a=i/2,c=t||a,l=i-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,v=n==="ltr"?[0,m]:[m*-1,0];return T0([d,h],v)(e)}function k0(e,t){return e>0&&e<t}function Lu(e){return e?parseInt(e,10):0}function Eo(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[AD,P0]=Tn("ScrollAreaScrollbar was not found in tree"),D0=D.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:h,onResize:m,...v}=e,w=Wr(),[S,b]=D.useState(null),E=Ht(t,I=>b(I)),R=D.useRef(null),T=D.useRef(""),{viewport:_}=w,p=r.content-r.viewport,f=_o(h),g=_o(l),x=Gu(m,10),P=I=>{if(R.current){const L=I.clientX-R.current.left,M=I.clientY-R.current.top;d({x:L,y:M})}};return D.useEffect(()=>{const I=L=>{const M=L.target;(S==null?void 0:S.contains(M))&&f(L,p)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[_,S,p,f]),D.useEffect(g,[r,g]),ki(S,x),ki(w.content,x),C.jsx(AD,{value:{scrollbar:S,hasThumb:n,onThumbChange:_o(i),onThumbPointerUp:_o(a),onThumbPositionChange:g,onThumbPointerDown:_o(c)},children:C.jsx("div",{...v,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...v.style},onPointerDown:Eo(e.onPointerDown,I=>{I.preventDefault(),I.button===0&&(I.target.setPointerCapture(I.pointerId),R.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",P(I))}),onPointerMove:Eo(e.onPointerMove,P),onPointerUp:Eo(e.onPointerUp,I=>{const L=I.target;L.hasPointerCapture(I.pointerId)&&(I.preventDefault(),L.releasePointerCapture(I.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,R.current=null}})})}),j0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Wr(),[l,d]=D.useState(),h=D.useRef(null),m=Ht(t,h,c.onScrollbarXChange);return D.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),C.jsx(D0,{"data-orientation":"horizontal",...a,ref:m,sizes:r,style:{...i,"--sa-thumb-width":`${od(r)}px`},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,w)=>{if(c.viewport){const S=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(S),k0(S,w)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&l&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Lu(l.paddingLeft),paddingEnd:Lu(l.paddingRight)}})}})});j0.displayName="@mantine/core/ScrollAreaScrollbarX";const I0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Wr(),[l,d]=D.useState(),h=D.useRef(null),m=Ht(t,h,c.onScrollbarYChange);return D.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),C.jsx(D0,{...a,"data-orientation":"vertical",ref:m,sizes:r,style:{"--sa-thumb-height":`${od(r)}px`,...i},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,w)=>{if(c.viewport){const S=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(S),k0(S,w)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&l&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Lu(l.paddingTop),paddingEnd:Lu(l.paddingBottom)}})}})});I0.displayName="@mantine/core/ScrollAreaScrollbarY";const id=D.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:i}=Qs(),a=Wr(),c=D.useRef(null),l=D.useRef(0),[d,h]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=E0(d.viewport,d.content),v={...n,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:S=>{l.current=S}},w=(S,b)=>ND(S,l.current,d,b);return r==="horizontal"?C.jsx(j0,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollLeft,b=TS(S,d,i);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollLeft=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollLeft=w(S,i))}}):r==="vertical"?C.jsx(I0,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollTop,b=TS(S,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollTop=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollTop=w(S))}}):null});id.displayName="@mantine/core/ScrollAreaScrollbarVisible";const qm=D.forwardRef((e,t)=>{const r=Wr(),{forceMount:n,...i}=e,[a,c]=D.useState(!1),l=e.orientation==="horizontal",d=Gu(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?h:m)}},10);return ki(r.viewport,d),ki(r.content,d),n||a?C.jsx(id,{"data-state":a?"visible":"hidden",...i,ref:t}):null});qm.displayName="@mantine/core/ScrollAreaScrollbarAuto";const M0=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Wr(),[a,c]=D.useState(!1);return D.useEffect(()=>{const{scrollArea:l}=i;let d=0;if(l){const h=()=>{window.clearTimeout(d),c(!0)},m=()=>{d=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",m)}}},[i.scrollArea,i.scrollHideDelay]),r||a?C.jsx(qm,{"data-state":a?"visible":"hidden",...n,ref:t}):null});M0.displayName="@mantine/core/ScrollAreaScrollbarHover";const $D=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Wr(),a=e.orientation==="horizontal",[c,l]=D.useState("hidden"),d=Gu(()=>l("idle"),100);return D.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay]),D.useEffect(()=>{const{viewport:h}=i,m=a?"scrollLeft":"scrollTop";if(h){let v=h[m];const w=()=>{const S=h[m];v!==S&&(l("scrolling"),d()),v=S};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,a,d]),r||c!=="hidden"?C.jsx(id,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Eo(e.onPointerEnter,()=>l("interacting")),onPointerLeave:Eo(e.onPointerLeave,()=>l("idle"))}):null}),Yh=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Wr(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,l=e.orientation==="horizontal";return D.useEffect(()=>(l?a(!0):c(!0),()=>{l?a(!1):c(!1)}),[l,a,c]),i.type==="hover"?C.jsx(M0,{...n,ref:t,forceMount:r}):i.type==="scroll"?C.jsx($D,{...n,ref:t,forceMount:r}):i.type==="auto"?C.jsx(qm,{...n,ref:t,forceMount:r}):i.type==="always"?C.jsx(id,{...n,ref:t}):null});Yh.displayName="@mantine/core/ScrollAreaScrollbar";function FD(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,l=r.top!==a.top;(c||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const L0=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Wr(),a=P0(),{onThumbPositionChange:c}=a,l=Ht(t,m=>a.onThumbChange(m)),d=D.useRef(void 0),h=Gu(()=>{d.current&&(d.current(),d.current=void 0)},100);return D.useEffect(()=>{const{viewport:m}=i;if(m){const v=()=>{if(h(),!d.current){const w=FD(m,c);d.current=w,c()}};return c(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,h,c]),C.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Eo(e.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),S=m.clientX-w.left,b=m.clientY-w.top;a.onThumbPointerDown({x:S,y:b})}),onPointerUp:Eo(e.onPointerUp,a.onThumbPointerUp)})});L0.displayName="@mantine/core/ScrollAreaThumb";const Xh=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=P0();return r||i.hasThumb?C.jsx(L0,{ref:t,...n}):null});Xh.displayName="@mantine/core/ScrollAreaThumb";const O0=D.forwardRef(({children:e,style:t,...r},n)=>{const i=Wr(),a=Ht(n,i.onViewportChange);return C.jsx(ne,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:C.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});O0.displayName="@mantine/core/ScrollAreaViewport";var Gm={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const N0={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},zD=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":te(t),"--scrollarea-over-scroll-behavior":r}}),Mr=fe((e,t)=>{const r=oe("ScrollArea",N0,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,scrollbarSize:d,vars:h,type:m,scrollHideDelay:v,viewportProps:w,viewportRef:S,onScrollPositionChange:b,children:E,offsetScrollbars:R,scrollbars:T,onBottomReached:_,onTopReached:p,overscrollBehavior:f,...g}=r,[x,P]=D.useState(!1),[I,L]=D.useState(!1),[M,A]=D.useState(!1),N=Te({name:"ScrollArea",props:r,classes:Gm,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:h,varsResolver:zD}),B=D.useRef(null),W=lD([S,B]);return D.useEffect(()=>{if(!B.current||R!=="present")return;const K=B.current,O=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:F,scrollWidth:z,clientWidth:q}=K;L(V>F),A(z>q)});return O.observe(K),()=>O.disconnect()},[B,R]),C.jsxs(R0,{type:m==="never"?"always":m,scrollHideDelay:v,ref:t,scrollbars:T,...N("root"),...g,children:[C.jsx(O0,{...w,...N("viewport",{style:w==null?void 0:w.style}),ref:W,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":R==="present"&&!M?"true":void 0,"data-vertical-hidden":R==="present"&&!I?"true":void 0,onScroll:K=>{var z;(z=w==null?void 0:w.onScroll)==null||z.call(w,K),b==null||b({x:K.currentTarget.scrollLeft,y:K.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:V,clientHeight:F}=K.currentTarget;O-(V-F)>=0&&(_==null||_()),O===0&&(p==null||p())},children:E}),(T==="xy"||T==="x")&&C.jsx(Yh,{...N("scrollbar"),orientation:"horizontal","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:C.jsx(Xh,{...N("thumb")})}),(T==="xy"||T==="y")&&C.jsx(Yh,{...N("scrollbar"),orientation:"vertical","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:C.jsx(Xh,{...N("thumb")})}),C.jsx(MD,{...N("corner"),"data-hovered":x||void 0,"data-hidden":m==="never"||void 0})]})});Mr.displayName="@mantine/core/ScrollArea";const Km=fe((e,t)=>{const{children:r,classNames:n,styles:i,scrollbarSize:a,scrollHideDelay:c,type:l,dir:d,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:v,unstyled:w,variant:S,viewportProps:b,scrollbars:E,style:R,vars:T,onBottomReached:_,onTopReached:p,...f}=oe("ScrollAreaAutosize",N0,e);return C.jsx(ne,{...f,ref:t,style:[{display:"flex",overflow:"auto"},R],children:C.jsx(ne,{style:{display:"flex",flexDirection:"column",flex:1},children:C.jsx(Mr,{classNames:n,styles:i,scrollHideDelay:c,scrollbarSize:a,type:l,dir:d,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:v,unstyled:w,variant:S,viewportProps:b,vars:T,scrollbars:E,onBottomReached:_,onTopReached:p,children:r})})})});Mr.classes=Gm;Km.displayName="@mantine/core/ScrollAreaAutosize";Km.classes=Gm;Mr.Autosize=Km;var A0={root:"m_87cf2631"};const BD={__staticSelector:"UnstyledButton"},Js=Zt((e,t)=>{const r=oe("UnstyledButton",BD,e),{className:n,component:i="button",__staticSelector:a,unstyled:c,classNames:l,styles:d,style:h,...m}=r,v=Te({name:a,props:r,classes:A0,className:n,style:h,classNames:l,styles:d,unstyled:c});return C.jsx(ne,{...v("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...m})});Js.classes=A0;Js.displayName="@mantine/core/UnstyledButton";var $0={root:"m_515a97f8"};const UD={},Ym=fe((e,t)=>{const r=oe("VisuallyHidden",UD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,...h}=r,m=Te({name:"VisuallyHidden",classes:$0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l});return C.jsx(ne,{component:"span",ref:t,...m("root"),...h})});Ym.classes=$0;Ym.displayName="@mantine/core/VisuallyHidden";var F0={root:"m_1b7284a3"};const VD={},HD=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:jt(t),"--paper-shadow":Cm(r)}}),ad=Zt((e,t)=>{const r=oe("Paper",VD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,withBorder:d,vars:h,radius:m,shadow:v,variant:w,mod:S,...b}=r,E=Te({name:"Paper",props:r,classes:F0,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:h,varsResolver:HD});return C.jsx(ne,{ref:t,mod:[{"data-with-border":d},S],...E("root"),variant:w,...b})});ad.classes=F0;ad.displayName="@mantine/core/Paper";function z0(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),i=r==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return t}function kS(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function PS(e,t,r,n,i){return e==="center"||n==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:r}:e==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const WD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function qD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,arrowX:a,arrowY:c,dir:l}){const[d,h="center"]=e.split("-"),m={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[WD[d]]:n},v=-t/2;return d==="left"?{...m,...kS(h,c,r,i),right:v,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...m,...kS(h,c,r,i),left:v,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...m,...PS(h,a,r,i,l),bottom:v,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...m,...PS(h,a,r,i,l),top:v,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Xm=D.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,visible:a,arrowX:c,arrowY:l,style:d,...h},m)=>{const{dir:v}=Qs();return a?C.jsx("div",{...h,ref:m,style:{...d,...qD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,dir:v,arrowX:c,arrowY:l})}}):null});Xm.displayName="@mantine/core/FloatingArrow";var B0={root:"m_9814e45f"};const GD={zIndex:Sr("modal")},KD=(e,{gradient:t,color:r,backgroundOpacity:n,blur:i,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&Nn(r||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${te(i)})`:void 0,"--overlay-radius":a===void 0?void 0:jt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),cd=Zt((e,t)=>{const r=oe("Overlay",GD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,fixed:h,center:m,children:v,radius:w,zIndex:S,gradient:b,blur:E,color:R,backgroundOpacity:T,mod:_,...p}=r,f=Te({name:"Overlay",props:r,classes:B0,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:KD});return C.jsx(ne,{ref:t,...f("root"),mod:[{center:m,fixed:h},_],...p,children:v})});cd.classes=B0;cd.displayName="@mantine/core/Overlay";function lh(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function YD({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||lh(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const i=lh(r);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return lh(r)}const XD={},U0=fe((e,t)=>{const{children:r,target:n,reuseTargetNode:i,...a}=oe("Portal",XD,e),[c,l]=D.useState(!1),d=D.useRef(null);return dc(()=>(l(!0),d.current=YD({target:n,reuseTargetNode:i,...a}),Fh(t,d.current),!n&&!i&&d.current&&document.body.appendChild(d.current),()=>{!n&&!i&&d.current&&document.body.removeChild(d.current)}),[n]),!c||!d.current?null:Zu.createPortal(C.jsx(C.Fragment,{children:r}),d.current)});U0.displayName="@mantine/core/Portal";const Io=fe(({withinPortal:e=!0,children:t,...r},n)=>Q_()==="test"||!e?C.jsx(C.Fragment,{children:t}):C.jsx(U0,{ref:n,...r,children:t}));Io.displayName="@mantine/core/OptionalPortal";const ja=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Ll={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ja("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ja("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ja("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ja("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ja("top"),common:{transformOrigin:"top right"}}},DS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function QD({transition:e,state:t,duration:r,timingFunction:n}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in Ll?{transitionProperty:Ll[e].transitionProperty,...i,...Ll[e].common,...Ll[e][DS[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[DS[t]]}}function JD({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:i,onExit:a,onEntered:c,onExited:l,enterDelay:d,exitDelay:h}){const m=ar(),v=Ku(),w=m.respectReducedMotion?v:!1,[S,b]=D.useState(w?0:e),[E,R]=D.useState(n?"entered":"exited"),T=D.useRef(-1),_=D.useRef(-1),p=D.useRef(-1),f=x=>{const P=x?i:a,I=x?c:l;window.clearTimeout(T.current);const L=w?0:x?e:t;b(L),L===0?(typeof P=="function"&&P(),typeof I=="function"&&I(),R(x?"entered":"exited")):p.current=requestAnimationFrame(()=>{Va.flushSync(()=>{R(x?"pre-entering":"pre-exiting")}),p.current=requestAnimationFrame(()=>{typeof P=="function"&&P(),R(x?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof I=="function"&&I(),R(x?"entered":"exited")},L)})})},g=x=>{if(window.clearTimeout(_.current),typeof(x?d:h)!="number"){f(x);return}_.current=window.setTimeout(()=>{f(x)},x?d:h)};return Hn(()=>{g(n)},[n]),D.useEffect(()=>()=>{window.clearTimeout(T.current),cancelAnimationFrame(p.current)},[]),{transitionDuration:S,transitionStatus:E,transitionTimingFunction:r||"ease"}}function hs({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:i,children:a,timingFunction:c="ease",onExit:l,onEntered:d,onEnter:h,onExited:m,enterDelay:v,exitDelay:w}){const S=Q_(),{transitionDuration:b,transitionStatus:E,transitionTimingFunction:R}=JD({mounted:i,exitDuration:n,duration:r,timingFunction:c,onExit:l,onEntered:d,onEnter:h,onExited:m,enterDelay:v,exitDelay:w});return b===0||S==="test"?i?C.jsx(C.Fragment,{children:a({})}):e?a({display:"none"}):null:E==="exited"?e?a({display:"none"}):null:C.jsx(C.Fragment,{children:a(QD({transition:t,duration:b,state:E,timingFunction:R}))})}hs.displayName="@mantine/core/Transition";const[ZD,V0]=Tn("Popover component was not found in the tree");function ld({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const i=BT(t),a=Ht(i,n);return Ks(e)?D.cloneElement(e,{[r]:a}):e}function H0(e){return C.jsx(Ym,{tabIndex:-1,"data-autofocus":!0,...e})}ld.displayName="@mantine/core/FocusTrap";H0.displayName="@mantine/core/FocusTrapInitialFocus";ld.InitialFocus=H0;var W0={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const ej={},Qm=fe((e,t)=>{var R,T,_,p;const r=oe("PopoverDropdown",ej,e),{className:n,style:i,vars:a,children:c,onKeyDownCapture:l,variant:d,classNames:h,styles:m,...v}=r,w=V0(),S=H_({opened:w.opened,shouldReturnFocus:w.returnFocus}),b=w.withRoles?{"aria-labelledby":w.getTargetId(),id:w.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Ht(t,w.floating);return w.disabled?null:C.jsx(Io,{...w.portalProps,withinPortal:w.withinPortal,children:C.jsx(hs,{mounted:w.opened,...w.transitionProps,transition:((R=w.transitionProps)==null?void 0:R.transition)||"fade",duration:((T=w.transitionProps)==null?void 0:T.duration)??150,keepMounted:w.keepMounted,exitDuration:typeof((_=w.transitionProps)==null?void 0:_.exitDuration)=="number"?w.transitionProps.exitDuration:(p=w.transitionProps)==null?void 0:p.duration,children:f=>C.jsx(ld,{active:w.trapFocus&&w.opened,innerRef:E,children:C.jsxs(ne,{...b,...v,variant:d,onKeyDownCapture:CT(()=>{var g,x;(g=w.onClose)==null||g.call(w),(x=w.onDismiss)==null||x.call(w)},{active:w.closeOnEscape,onTrigger:S,onKeyDown:l}),"data-position":w.placement,"data-fixed":w.floatingStrategy==="fixed"||void 0,...w.getStyles("dropdown",{className:n,props:r,classNames:h,styles:m,style:[{...f,zIndex:w.zIndex,top:w.y??0,left:w.x??0,width:w.width==="target"?void 0:te(w.width)},w.resolvedStyles.dropdown,m==null?void 0:m.dropdown,i]}),children:[c,C.jsx(Xm,{ref:w.arrowRef,arrowX:w.arrowX,arrowY:w.arrowY,visible:w.withArrow,position:w.placement,arrowSize:w.arrowSize,arrowRadius:w.arrowRadius,arrowOffset:w.arrowOffset,arrowPosition:w.arrowPosition,...w.getStyles("arrow",{props:r,classNames:h,styles:m})})]})})})})});Qm.classes=W0;Qm.displayName="@mantine/core/PopoverDropdown";const tj={refProp:"ref",popupType:"dialog"},q0=fe((e,t)=>{const{children:r,refProp:n,popupType:i,...a}=oe("PopoverTarget",tj,e);if(!Ks(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,l=V0(),d=Ht(l.reference,Yu(r),t),h=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return D.cloneElement(r,{...c,...h,...l.targetProps,className:Vt(l.targetProps.className,c.className,r.props.className),[n]:d,...l.controlled?null:{onClick:l.onToggle}})});q0.displayName="@mantine/core/PopoverTarget";function G0({opened:e,floating:t,position:r,positionDependencies:n}){const[i,a]=D.useState(0);D.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return JP(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,r]),Hn(()=>{t.update()},n),Hn(()=>{a(c=>c+1)},[e])}function rj(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function nj(e,t){const r=rj(e.middlewares),n=[S0(e.offset)];return r.shift&&n.push(Bm(typeof r.shift=="boolean"?{limiter:SS(),padding:5}:{limiter:SS(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?Mu():Mu(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Xa():Xa(r.inline)),n.push(b0({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(cD({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:c,...l}){var m;const h=((m=t().refs.floating.current)==null?void 0:m.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:c,...l}):Object.assign(h,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(h,{width:`${i.reference.width}px`})}})),n}function sj(e){const[t,r]=ls({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=D.useRef(t),i=()=>{t&&r(!1)},a=()=>r(!t),c=Wm({strategy:e.strategy,placement:e.position,middleware:nj(e,()=>c)});return G0({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Hn(()=>{var l;(l=e.onPositionChange)==null||l.call(e,c.placement)},[c.placement]),Hn(()=>{var l,d;t!==n.current&&(t?(d=e.onOpen)==null||d.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:a}}const oj={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Sr("popover"),__staticSelector:"Popover",width:"max-content"},ij=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:jt(t),"--popover-shadow":Cm(r)}});function vr(e){var Nt,ke,Pe,ye,Fe,wt;const t=oe("Popover",oj,e),{children:r,position:n,offset:i,onPositionChange:a,positionDependencies:c,opened:l,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:m,width:v,middlewares:w,withArrow:S,arrowSize:b,arrowOffset:E,arrowRadius:R,arrowPosition:T,unstyled:_,classNames:p,styles:f,closeOnClickOutside:g,withinPortal:x,portalProps:P,closeOnEscape:I,clickOutsideEvents:L,trapFocus:M,onClose:A,onDismiss:N,onOpen:B,onChange:W,zIndex:K,radius:O,shadow:V,id:F,defaultOpened:z,__staticSelector:q,withRoles:U,disabled:X,returnFocus:ce,variant:de,keepMounted:ee,vars:ie,floatingStrategy:ue,withOverlay:me,overlayProps:he,...Ce}=t,je=Te({name:q,props:t,classes:W0,classNames:p,styles:f,unstyled:_,rootSelector:"dropdown",vars:ie,varsResolver:ij}),{resolvedStyles:yt}=fc({classNames:p,styles:f,props:t}),ct=D.useRef(null),[Ge,tt]=D.useState(null),[rt,Je]=D.useState(null),{dir:Tt}=Qs(),mt=Ys(F),Ke=sj({middlewares:w,width:v,position:z0(Tt,n),offset:typeof i=="number"?i+(S?b/2:0):i,arrowRef:ct,arrowOffset:E,onPositionChange:a,positionDependencies:c,opened:l,defaultOpened:z,onChange:W,onOpen:B,onClose:A,onDismiss:N,strategy:ue});jT(()=>{g&&(Ke.onClose(),N==null||N())},L,[Ge,rt]);const Ue=D.useCallback(He=>{tt(He),Ke.floating.refs.setReference(He)},[Ke.floating.refs.setReference]),lt=D.useCallback(He=>{Je(He),Ke.floating.refs.setFloating(He)},[Ke.floating.refs.setFloating]),It=D.useCallback(()=>{var He;(He=d==null?void 0:d.onExited)==null||He.call(d),h==null||h()},[d==null?void 0:d.onExited,h]),ut=D.useCallback(()=>{var He;(He=d==null?void 0:d.onEntered)==null||He.call(d),m==null||m()},[d==null?void 0:d.onEntered,m]);return C.jsxs(ZD,{value:{returnFocus:ce,disabled:X,controlled:Ke.controlled,reference:Ue,floating:lt,x:Ke.floating.x,y:Ke.floating.y,arrowX:(Pe=(ke=(Nt=Ke.floating)==null?void 0:Nt.middlewareData)==null?void 0:ke.arrow)==null?void 0:Pe.x,arrowY:(wt=(Fe=(ye=Ke.floating)==null?void 0:ye.middlewareData)==null?void 0:Fe.arrow)==null?void 0:wt.y,opened:Ke.opened,arrowRef:ct,transitionProps:{...d,onExited:It,onEntered:ut},width:v,withArrow:S,arrowSize:b,arrowOffset:E,arrowRadius:R,arrowPosition:T,placement:Ke.floating.placement,trapFocus:M,withinPortal:x,portalProps:P,zIndex:K,radius:O,shadow:V,closeOnEscape:I,onDismiss:N,onClose:Ke.onClose,onToggle:Ke.onToggle,getTargetId:()=>`${mt}-target`,getDropdownId:()=>`${mt}-dropdown`,withRoles:U,targetProps:Ce,__staticSelector:q,classNames:p,styles:f,unstyled:_,variant:de,keepMounted:ee,getStyles:je,resolvedStyles:yt,floatingStrategy:ue},children:[r,me&&C.jsx(hs,{transition:"fade",mounted:Ke.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:He=>C.jsx(Io,{withinPortal:x,children:C.jsx(cd,{...he,...je("overlay",{className:he==null?void 0:he.className,style:[He,he==null?void 0:he.style]})})})})]})}vr.Target=q0;vr.Dropdown=Qm;vr.displayName="@mantine/core/Popover";vr.extend=e=>e;var bn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const K0=D.forwardRef(({className:e,...t},r)=>C.jsxs(ne,{component:"span",className:Vt(bn.barsLoader,e),...t,ref:r,children:[C.jsx("span",{className:bn.bar}),C.jsx("span",{className:bn.bar}),C.jsx("span",{className:bn.bar})]}));K0.displayName="@mantine/core/Bars";const Y0=D.forwardRef(({className:e,...t},r)=>C.jsxs(ne,{component:"span",className:Vt(bn.dotsLoader,e),...t,ref:r,children:[C.jsx("span",{className:bn.dot}),C.jsx("span",{className:bn.dot}),C.jsx("span",{className:bn.dot})]}));Y0.displayName="@mantine/core/Dots";const X0=D.forwardRef(({className:e,...t},r)=>C.jsx(ne,{component:"span",className:Vt(bn.ovalLoader,e),...t,ref:r}));X0.displayName="@mantine/core/Oval";const Q0={bars:K0,oval:X0,dots:Y0},aj={loaders:Q0,type:"oval"},cj=(e,{size:t,color:r})=>({root:{"--loader-size":Qe(t,"loader-size"),"--loader-color":r?yr(r,e):void 0}}),Oi=fe((e,t)=>{const r=oe("Loader",aj,e),{size:n,color:i,type:a,vars:c,className:l,style:d,classNames:h,styles:m,unstyled:v,loaders:w,variant:S,children:b,...E}=r,R=Te({name:"Loader",props:r,classes:bn,className:l,style:d,classNames:h,styles:m,unstyled:v,vars:c,varsResolver:cj});return b?C.jsx(ne,{...R("root"),ref:t,...E,children:b}):C.jsx(ne,{...R("root"),ref:t,component:w[a],variant:S,size:n,...E})});Oi.defaultLoaders=Q0;Oi.classes=bn;Oi.displayName="@mantine/core/Loader";var Ni={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const jS={orientation:"horizontal"},lj=(e,{borderWidth:t})=>({group:{"--ai-border-width":te(t)}}),Jm=fe((e,t)=>{const r=oe("ActionIconGroup",jS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,orientation:d,vars:h,borderWidth:m,variant:v,mod:w,...S}=oe("ActionIconGroup",jS,e),b=Te({name:"ActionIconGroup",props:r,classes:Ni,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:h,varsResolver:lj,rootSelector:"group"});return C.jsx(ne,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":d},w],role:"group",...S})});Jm.classes=Ni;Jm.displayName="@mantine/core/ActionIconGroup";const IS={},uj=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Qe(c,"section-height"),"--section-padding-x":Qe(c,"section-padding-x"),"--section-fz":ir(c),"--section-radius":t===void 0?void 0:jt(t),"--section-bg":r||i?l.background:void 0,"--section-color":l.color,"--section-bd":r||i?l.border:void 0}}},Zm=fe((e,t)=>{const r=oe("ActionIconGroupSection",IS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,variant:h,gradient:m,radius:v,autoContrast:w,...S}=oe("ActionIconGroupSection",IS,e),b=Te({name:"ActionIconGroupSection",props:r,classes:Ni,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:uj,rootSelector:"groupSection"});return C.jsx(ne,{...b("groupSection"),ref:t,variant:h,...S})});Zm.classes=Ni;Zm.displayName="@mantine/core/ActionIconGroupSection";const dj={},fj=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":Qe(t,"ai-size"),"--ai-radius":r===void 0?void 0:jt(r),"--ai-bg":a||n?l.background:void 0,"--ai-hover":a||n?l.hover:void 0,"--ai-hover-color":a||n?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":a||n?l.border:void 0}}},it=Zt((e,t)=>{const r=oe("ActionIcon",dj,e),{className:n,unstyled:i,variant:a,classNames:c,styles:l,style:d,loading:h,loaderProps:m,size:v,color:w,radius:S,__staticSelector:b,gradient:E,vars:R,children:T,disabled:_,"data-disabled":p,autoContrast:f,mod:g,...x}=r,P=Te({name:["ActionIcon",b],props:r,className:n,style:d,classes:Ni,classNames:c,styles:l,unstyled:i,vars:R,varsResolver:fj});return C.jsxs(Js,{...P("root",{active:!_&&!h&&!p}),...x,unstyled:i,variant:a,size:v,disabled:_||h,ref:t,mod:[{loading:h,disabled:_||p},g],children:[C.jsx(hs,{mounted:!!h,transition:"slide-down",duration:150,children:I=>C.jsx(ne,{component:"span",...P("loader",{style:I}),"aria-hidden":!0,children:C.jsx(Oi,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...m})})}),C.jsx(ne,{component:"span",mod:{loading:h},...P("icon"),children:T})]})});it.classes=Ni;it.displayName="@mantine/core/ActionIcon";it.Group=Jm;it.GroupSection=Zm;const J0=D.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>C.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:C.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));J0.displayName="@mantine/core/CloseIcon";var Z0={root:"m_86a44da5","root--subtle":"m_220c80f2"};const pj={variant:"subtle"},hj=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Qe(t,"cb-size"),"--cb-radius":r===void 0?void 0:jt(r),"--cb-icon-size":te(n)}}),hc=Zt((e,t)=>{const r=oe("CloseButton",pj,e),{iconSize:n,children:i,vars:a,radius:c,className:l,classNames:d,style:h,styles:m,unstyled:v,"data-disabled":w,disabled:S,variant:b,icon:E,mod:R,__staticSelector:T,..._}=r,p=Te({name:T||"CloseButton",props:r,className:l,style:h,classes:Z0,classNames:d,styles:m,unstyled:v,vars:a,varsResolver:hj});return C.jsxs(Js,{ref:t,..._,unstyled:v,variant:b,disabled:S,mod:[{disabled:S||w},R],...p("root",{variant:b,active:!S&&!w}),children:[E||C.jsx(J0,{}),i]})});hc.classes=Z0;hc.displayName="@mantine/core/CloseButton";function mj(e){return D.Children.toArray(e).filter(Boolean)}var e1={root:"m_4081bf90"};const gj={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},vj=(e,{grow:t,preventGrowOverflow:r,gap:n,align:i,justify:a,wrap:c},{childWidth:l})=>({root:{"--group-child-width":t&&r?l:void 0,"--group-gap":or(n),"--group-align":i,"--group-justify":a,"--group-wrap":c}}),qe=fe((e,t)=>{const r=oe("Group",gj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,children:d,gap:h,align:m,justify:v,wrap:w,grow:S,preventGrowOverflow:b,vars:E,variant:R,__size:T,mod:_,...p}=r,f=mj(d),g=f.length,x=or(h??"md"),I={childWidth:`calc(${100/g}% - (${x} - ${x} / ${g}))`},L=Te({name:"Group",props:r,stylesCtx:I,className:i,style:a,classes:e1,classNames:n,styles:c,unstyled:l,vars:E,varsResolver:vj});return C.jsx(ne,{...L("root"),ref:t,variant:R,mod:[{grow:S},_],size:T,...p,children:f})});qe.classes=e1;qe.displayName="@mantine/core/Group";const[yj,ms]=Tn("ModalBase component was not found in tree");function wj({opened:e,transitionDuration:t}){const[r,n]=D.useState(e),i=D.useRef(-1),c=Ku()?0:t;return D.useEffect(()=>(e?(n(!0),window.clearTimeout(i.current)):c===0?n(!1):i.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(i.current)),[e,c]),r}function Sj({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:i,onClose:a,returnFocus:c}){const l=Ys(e),[d,h]=D.useState(!1),[m,v]=D.useState(!1),w=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=wj({opened:r,transitionDuration:w});return qT("keydown",b=>{var E;b.key==="Escape"&&i&&r&&((E=b.target)==null?void 0:E.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),H_({opened:r,shouldReturnFocus:n&&c}),{_id:l,titleMounted:d,bodyMounted:m,shouldLockScroll:S,setTitleMounted:h,setBodyMounted:v}}const eg=D.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:l,closeOnEscape:d,returnFocus:h,closeOnClickOutside:m,withinPortal:v,portalProps:w,lockScroll:S,children:b,zIndex:E,shadow:R,padding:T,__vars:_,unstyled:p,removeScrollProps:f,...g},x)=>{const{_id:P,titleMounted:I,bodyMounted:L,shouldLockScroll:M,setTitleMounted:A,setBodyMounted:N}=Sj({id:n,transitionProps:i,opened:t,trapFocus:l,closeOnEscape:d,onClose:r,returnFocus:h}),{key:B,...W}=f||{};return C.jsx(Io,{...w,withinPortal:v,children:C.jsx(yj,{value:{opened:t,onClose:r,closeOnClickOutside:m,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${P}-title`,getBodyId:()=>`${P}-body`,titleMounted:I,bodyMounted:L,setTitleMounted:A,setBodyMounted:N,trapFocus:l,closeOnEscape:d,zIndex:E,unstyled:p},children:C.jsx(Tu,{enabled:M&&S,...W,children:C.jsx(ne,{ref:x,...g,__vars:{..._,"--mb-z-index":(E||Sr("modal")).toString(),"--mb-shadow":Cm(R),"--mb-padding":or(T)},children:b})},B)})})});eg.displayName="@mantine/core/ModalBase";function bj(){const e=ms();return D.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Pi={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const tg=D.forwardRef(({className:e,...t},r)=>{const n=bj(),i=ms();return C.jsx(ne,{ref:r,...t,id:n,className:Vt({[Pi.body]:!i.unstyled},e)})});tg.displayName="@mantine/core/ModalBaseBody";const rg=D.forwardRef(({className:e,onClick:t,...r},n)=>{const i=ms();return C.jsx(hc,{ref:n,...r,onClick:a=>{i.onClose(),t==null||t(a)},className:Vt({[Pi.close]:!i.unstyled},e),unstyled:i.unstyled})});rg.displayName="@mantine/core/ModalBaseCloseButton";const ng=D.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:i,...a},c)=>{const l=ms();return C.jsx(hs,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var d,h,m;(d=l.onExitTransitionEnd)==null||d.call(l),(m=(h=l.transitionProps)==null?void 0:h.onExited)==null||m.call(h)},onEntered:()=>{var d,h,m;(d=l.onEnterTransitionEnd)==null||d.call(l),(m=(h=l.transitionProps)==null?void 0:h.onEntered)==null||m.call(h)},...e,children:d=>C.jsx("div",{...r,className:Vt({[Pi.inner]:!l.unstyled},r.className),children:C.jsx(ld,{active:l.opened&&l.trapFocus,innerRef:c,children:C.jsx(ad,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[i,d],className:Vt({[Pi.content]:!l.unstyled},t),unstyled:l.unstyled,children:a.children})})})})});ng.displayName="@mantine/core/ModalBaseContent";const sg=D.forwardRef(({className:e,...t},r)=>{const n=ms();return C.jsx(ne,{component:"header",ref:r,className:Vt({[Pi.header]:!n.unstyled},e),...t})});sg.displayName="@mantine/core/ModalBaseHeader";const _j={duration:200,timingFunction:"ease",transition:"fade"};function xj(e){const t=ms();return{..._j,...t.transitionProps,...e}}const og=D.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...i},a)=>{const c=ms(),l=xj(t);return C.jsx(hs,{mounted:n!==void 0?n:c.opened,...l,transition:"fade",children:d=>C.jsx(cd,{ref:a,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:h=>{e==null||e(h),c.closeOnClickOutside&&c.onClose()},...i})})});og.displayName="@mantine/core/ModalBaseOverlay";function Cj(){const e=ms();return D.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const ig=D.forwardRef(({className:e,...t},r)=>{const n=Cj(),i=ms();return C.jsx(ne,{component:"h2",ref:r,className:Vt({[Pi.title]:!i.unstyled},e),...t,id:n})});ig.displayName="@mantine/core/ModalBaseTitle";function t1({children:e}){return C.jsx(C.Fragment,{children:e})}const[Rj,Ej]=qu({size:"sm"}),Tj={},r1=fe((e,t)=>{const r=oe("InputClearButton",Tj,e),{size:n,variant:i,vars:a,classNames:c,styles:l,...d}=r,h=Ej(),{resolvedClassNames:m,resolvedStyles:v}=fc({classNames:c,styles:l,props:r});return C.jsx(hc,{variant:i||"transparent",ref:t,size:n||(h==null?void 0:h.size)||"sm",classNames:m,styles:v,__staticSelector:"InputClearButton",...d})});r1.displayName="@mantine/core/InputClearButton";const[kj,ud]=qu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var qr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const MS={},Pj=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ir(t)} - ${te(2)})`}}),dd=fe((e,t)=>{const r=oe("InputDescription",MS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:h,__staticSelector:m,__inheritStyles:v=!0,variant:w,...S}=oe("InputDescription",MS,r),b=ud(),E=Te({name:["InputWrapper",m],props:r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"description",vars:d,varsResolver:Pj}),R=v&&(b==null?void 0:b.getStyles)||E;return C.jsx(ne,{component:"p",ref:t,variant:w,size:h,...R("description",b!=null&&b.getStyles?{className:i,style:a}:void 0),...S})});dd.classes=qr;dd.displayName="@mantine/core/InputDescription";const Dj={},jj=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ir(t)} - ${te(2)})`}}),fd=fe((e,t)=>{const r=oe("InputError",Dj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:h,__staticSelector:m,__inheritStyles:v=!0,variant:w,...S}=r,b=Te({name:["InputWrapper",m],props:r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"error",vars:d,varsResolver:jj}),E=ud(),R=v&&(E==null?void 0:E.getStyles)||b;return C.jsx(ne,{component:"p",ref:t,variant:w,size:h,...R("error",E!=null&&E.getStyles?{className:i,style:a}:void 0),...S})});fd.classes=qr;fd.displayName="@mantine/core/InputError";const LS={labelElement:"label"},Ij=(e,{size:t})=>({label:{"--input-label-size":ir(t),"--input-asterisk-color":void 0}}),pd=fe((e,t)=>{const r=oe("InputLabel",LS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,labelElement:h,size:m,required:v,htmlFor:w,onMouseDown:S,children:b,__staticSelector:E,variant:R,mod:T,..._}=oe("InputLabel",LS,r),p=Te({name:["InputWrapper",E],props:r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"label",vars:d,varsResolver:Ij}),f=ud(),g=(f==null?void 0:f.getStyles)||p;return C.jsxs(ne,{...g("label",f!=null&&f.getStyles?{className:i,style:a}:void 0),component:h,variant:R,size:m,ref:t,htmlFor:h==="label"?w:void 0,mod:[{required:v},T],onMouseDown:x=>{S==null||S(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[b,v&&C.jsx("span",{...g("required"),"aria-hidden":!0,children:" *"})]})});pd.classes=qr;pd.displayName="@mantine/core/InputLabel";const OS={},ag=fe((e,t)=>{const r=oe("InputPlaceholder",OS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,__staticSelector:h,variant:m,error:v,mod:w,...S}=oe("InputPlaceholder",OS,r),b=Te({name:["InputPlaceholder",h],props:r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"placeholder"});return C.jsx(ne,{...b("placeholder"),mod:[{error:!!v},w],component:"span",variant:m,ref:t,...S})});ag.classes=qr;ag.displayName="@mantine/core/InputPlaceholder";function Mj(e,{hasDescription:t,hasError:r}){const n=e.findIndex(d=>d==="input"),i=e.slice(0,n),a=e.slice(n+1),c=t&&i.includes("description")||r&&i.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const Lj={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Oj=(e,{size:t})=>({label:{"--input-label-size":ir(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ir(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ir(t)} - ${te(2)})`}}),cg=fe((e,t)=>{const r=oe("InputWrapper",Lj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:h,variant:m,__staticSelector:v,inputContainer:w,inputWrapperOrder:S,label:b,error:E,description:R,labelProps:T,descriptionProps:_,errorProps:p,labelElement:f,children:g,withAsterisk:x,id:P,required:I,__stylesApiProps:L,mod:M,...A}=r,N=Te({name:["InputWrapper",v],props:L||r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:Oj}),B={size:h,variant:m,__staticSelector:v},W=Ys(P),K=typeof x=="boolean"?x:I,O=(p==null?void 0:p.id)||`${W}-error`,V=(_==null?void 0:_.id)||`${W}-description`,F=W,z=!!E&&typeof E!="boolean",q=!!R,U=`${z?O:""} ${q?V:""}`,X=U.trim().length>0?U.trim():void 0,ce=(T==null?void 0:T.id)||`${W}-label`,de=b&&C.jsx(pd,{labelElement:f,id:ce,htmlFor:F,required:K,...B,...T,children:b},"label"),ee=q&&C.jsx(dd,{..._,...B,size:(_==null?void 0:_.size)||B.size,id:(_==null?void 0:_.id)||V,children:R},"description"),ie=C.jsx(D.Fragment,{children:w(g)},"input"),ue=z&&D.createElement(fd,{...p,...B,size:(p==null?void 0:p.size)||B.size,key:"error",id:(p==null?void 0:p.id)||O},E),me=S.map(he=>{switch(he){case"label":return de;case"input":return ie;case"description":return ee;case"error":return ue;default:return null}});return C.jsx(kj,{value:{getStyles:N,describedBy:X,inputId:F,labelId:ce,...Mj(S,{hasDescription:q,hasError:z})},children:C.jsx(ne,{ref:t,variant:m,size:h,mod:[{error:!!E},M],...N("root"),...A,children:me})})});cg.classes=qr;cg.displayName="@mantine/core/InputWrapper";const Nj={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Aj=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Qe(t.size,"input-height"),"--input-fz":ir(t.size),"--input-radius":t.radius===void 0?void 0:jt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Qe(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Jt=Zt((e,t)=>{const r=oe("Input",Nj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,required:d,__staticSelector:h,__stylesApiProps:m,size:v,wrapperProps:w,error:S,disabled:b,leftSection:E,leftSectionProps:R,leftSectionWidth:T,rightSection:_,rightSectionProps:p,rightSectionWidth:f,rightSectionPointerEvents:g,leftSectionPointerEvents:x,variant:P,vars:I,pointer:L,multiline:M,radius:A,id:N,withAria:B,withErrorStyles:W,mod:K,inputSize:O,__clearSection:V,__clearable:F,__defaultRightSection:z,...q}=r,{styleProps:U,rest:X}=Ju(q),ce=ud(),de={offsetBottom:ce==null?void 0:ce.offsetBottom,offsetTop:ce==null?void 0:ce.offsetTop},ee=Te({name:["Input",h],props:m||r,classes:qr,className:i,style:a,classNames:n,styles:c,unstyled:l,stylesCtx:de,rootSelector:"wrapper",vars:I,varsResolver:Aj}),ie=B?{required:d,disabled:b,"aria-invalid":!!S,"aria-describedby":ce==null?void 0:ce.describedBy,id:(ce==null?void 0:ce.inputId)||N}:{},ue=_||F&&V||z;return C.jsx(Rj,{value:{size:v||"sm"},children:C.jsxs(ne,{...ee("wrapper"),...U,...w,mod:[{error:!!S&&W,pointer:L,disabled:b,multiline:M,"data-with-right-section":!!ue,"data-with-left-section":!!E},K],variant:P,size:v,children:[E&&C.jsx("div",{...R,"data-position":"left",...ee("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:E}),C.jsx(ne,{component:"input",...X,...ie,ref:t,required:d,mod:{disabled:b,error:!!S&&W},variant:P,__size:O,...ee("input")}),ue&&C.jsx("div",{...p,"data-position":"right",...ee("section",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),children:ue})]})})});Jt.classes=qr;Jt.Wrapper=cg;Jt.Label=pd;Jt.Error=fd;Jt.Description=dd;Jt.Placeholder=ag;Jt.ClearButton=r1;Jt.displayName="@mantine/core/Input";function $j(e,t,r){const n=oe(e,t,r),{label:i,description:a,error:c,required:l,classNames:d,styles:h,className:m,unstyled:v,__staticSelector:w,__stylesApiProps:S,errorProps:b,labelProps:E,descriptionProps:R,wrapperProps:T,id:_,size:p,style:f,inputContainer:g,inputWrapperOrder:x,withAsterisk:P,variant:I,vars:L,mod:M,...A}=n,{styleProps:N,rest:B}=Ju(A),W={label:i,description:a,error:c,required:l,classNames:d,className:m,__staticSelector:w,__stylesApiProps:S||n,errorProps:b,labelProps:E,descriptionProps:R,unstyled:v,styles:h,size:p,style:f,inputContainer:g,inputWrapperOrder:x,withAsterisk:P,variant:I,id:_,mod:M,...T};return{...B,classNames:d,styles:h,unstyled:v,wrapperProps:{...W,...N},inputProps:{required:l,classNames:d,styles:h,unstyled:v,size:p,__staticSelector:w,__stylesApiProps:S||n,error:c,variant:I,id:_}}}const Fj={__staticSelector:"InputBase",withAria:!0},gs=Zt((e,t)=>{const{inputProps:r,wrapperProps:n,...i}=$j("InputBase",Fj,e);return C.jsx(Jt.Wrapper,{...n,children:C.jsx(Jt,{...r,...i,ref:t})})});gs.classes={...Jt.classes,...Jt.Wrapper.classes};gs.displayName="@mantine/core/InputBase";const zj={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var n1={root:"m_8bffd616"};const Bj={},En=Zt((e,t)=>{const r=oe("Flex",Bj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,gap:h,rowGap:m,columnGap:v,align:w,justify:S,wrap:b,direction:E,...R}=r,T=Te({name:"Flex",classes:n1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d}),_=ar(),p=jm(),f=n0({styleProps:{gap:h,rowGap:m,columnGap:v,align:w,justify:S,wrap:b,direction:E},theme:_,data:zj});return C.jsxs(C.Fragment,{children:[f.hasResponsiveStyles&&C.jsx(Qu,{selector:`.${p}`,styles:f.styles,media:f.media}),C.jsx(ne,{ref:t,...T("root",{className:p,style:ji(f.inlineStyles)}),...R})]})});En.classes=n1;En.displayName="@mantine/core/Flex";function s1({style:e,size:t=16,...r}){return C.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:te(t),height:te(t),display:"block"},...r,children:C.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}s1.displayName="@mantine/core/AccordionChevron";var o1={root:"m_b6d8b162"};function Uj(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Vj={inherit:!1},Hj=(e,{variant:t,lineClamp:r,gradient:n,size:i,color:a})=>({root:{"--text-fz":ir(i),"--text-lh":RT(i),"--text-gradient":t==="gradient"?zh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?yr(a,e):void 0}}),Le=Zt((e,t)=>{const r=oe("Text",Vj,e),{lineClamp:n,truncate:i,inline:a,inherit:c,gradient:l,span:d,__staticSelector:h,vars:m,className:v,style:w,classNames:S,styles:b,unstyled:E,variant:R,mod:T,size:_,...p}=r,f=Te({name:["Text",h],props:r,classes:o1,className:v,style:w,classNames:S,styles:b,unstyled:E,vars:m,varsResolver:Hj});return C.jsx(ne,{...f("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:R,mod:[{"data-truncate":Uj(i),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},T],size:_,...p})});Le.classes=o1;Le.displayName="@mantine/core/Text";function i1(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>i1(t))}:e}function Wj(e){return e?e.map(t=>i1(t)):[]}function a1(e){return e.reduce((t,r)=>"group"in r?{...t,...a1(r.items)}:(t[r.value]=r,t),{})}var wr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const qj={error:null},Gj=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Qe(t,"combobox-chevron-size"),"--combobox-chevron-color":r?yr(r,e):void 0}}),lg=fe((e,t)=>{const r=oe("ComboboxChevron",qj,e),{size:n,error:i,style:a,className:c,classNames:l,styles:d,unstyled:h,vars:m,mod:v,...w}=r,S=Te({name:"ComboboxChevron",classes:wr,props:r,style:a,className:c,classNames:l,styles:d,unstyled:h,vars:m,varsResolver:Gj,rootSelector:"chevron"});return C.jsx(ne,{component:"svg",...w,...S("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},v],ref:t,children:C.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});lg.classes=wr;lg.displayName="@mantine/core/ComboboxChevron";const[Kj,Gr]=Tn("Combobox component was not found in tree"),c1=D.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...i},a)=>C.jsx(Jt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));c1.displayName="@mantine/core/ComboboxClearButton";const Yj={},ug=fe((e,t)=>{const{classNames:r,styles:n,className:i,style:a,hidden:c,...l}=oe("ComboboxDropdown",Yj,e),d=Gr();return C.jsx(vr.Dropdown,{...l,ref:t,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:i,style:a,classNames:r,styles:n})})});ug.classes=wr;ug.displayName="@mantine/core/ComboboxDropdown";const Xj={refProp:"ref"},l1=fe((e,t)=>{const{children:r,refProp:n}=oe("ComboboxDropdownTarget",Xj,e);if(Gr(),!Ks(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return C.jsx(vr.Target,{ref:t,refProp:n,children:r})});l1.displayName="@mantine/core/ComboboxDropdownTarget";const Qj={},dg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxEmpty",Qj,e),d=Gr();return C.jsx(ne,{ref:t,...d.getStyles("empty",{className:n,classNames:r,styles:a,style:i}),...l})});dg.classes=wr;dg.displayName="@mantine/core/ComboboxEmpty";function fg({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:i,autoComplete:a}){const c=Gr(),[l,d]=D.useState(null),h=v=>{if(e==null||e(v),!c.readOnly&&t){if(v.nativeEvent.isComposing)return;if(v.nativeEvent.code==="ArrowDown"&&(v.preventDefault(),c.store.dropdownOpened?d(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="ArrowUp"&&(v.preventDefault(),c.store.dropdownOpened?d(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="Enter"||v.nativeEvent.code==="NumpadEnter"){if(v.nativeEvent.keyCode===229)return;const w=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&w!==-1?(v.preventDefault(),c.store.clickSelectedOption()):i==="button"&&(v.preventDefault(),c.store.openDropdown("keyboard"))}v.key==="Escape"&&c.store.closeDropdown("keyboard"),v.nativeEvent.code==="Space"&&i==="button"&&(v.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&l||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:h}}const Jj={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},u1=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...h}=oe("ComboboxEventsTarget",Jj,e);if(!Ks(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Gr(),v=fg({targetType:l,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d});return D.cloneElement(r,{...v,...h,[n]:Ht(t,m.store.targetRef,Yu(r))})});u1.displayName="@mantine/core/ComboboxEventsTarget";const Zj={},pg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxFooter",Zj,e),d=Gr();return C.jsx(ne,{ref:t,...d.getStyles("footer",{className:n,classNames:r,style:i,styles:a}),...l,onMouseDown:h=>{h.preventDefault()}})});pg.classes=wr;pg.displayName="@mantine/core/ComboboxFooter";const eI={},hg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,children:l,label:d,...h}=oe("ComboboxGroup",eI,e),m=Gr();return C.jsxs(ne,{ref:t,...m.getStyles("group",{className:n,classNames:r,style:i,styles:a}),...h,children:[d&&C.jsx("div",{...m.getStyles("groupLabel",{classNames:r,styles:a}),children:d}),l]})});hg.classes=wr;hg.displayName="@mantine/core/ComboboxGroup";const tI={},mg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxHeader",tI,e),d=Gr();return C.jsx(ne,{ref:t,...d.getStyles("header",{className:n,classNames:r,style:i,styles:a}),...l,onMouseDown:h=>{h.preventDefault()}})});mg.classes=wr;mg.displayName="@mantine/core/ComboboxHeader";function d1({value:e,valuesDivider:t=",",...r}){return C.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}d1.displayName="@mantine/core/ComboboxHiddenInput";const rI={},gg=fe((e,t)=>{const r=oe("ComboboxOption",rI,e),{classNames:n,className:i,style:a,styles:c,vars:l,onClick:d,id:h,active:m,onMouseDown:v,onMouseOver:w,disabled:S,selected:b,mod:E,...R}=r,T=Gr(),_=D.useId(),p=h||_;return C.jsx(ne,{...T.getStyles("option",{className:i,classNames:n,styles:c,style:a}),...R,ref:t,id:p,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":S,"combobox-selected":b},E],role:"option",onClick:f=>{var g;S?f.preventDefault():((g=T.onOptionSubmit)==null||g.call(T,r.value,r),d==null||d(f))},onMouseDown:f=>{f.preventDefault(),v==null||v(f)},onMouseOver:f=>{T.resetSelectionOnOptionHover&&T.store.resetSelectedOption(),w==null||w(f)}})});gg.classes=wr;gg.displayName="@mantine/core/ComboboxOption";const nI={},vg=fe((e,t)=>{const r=oe("ComboboxOptions",nI,e),{classNames:n,className:i,style:a,styles:c,id:l,onMouseDown:d,labelledBy:h,...m}=r,v=Gr(),w=Ys(l);return D.useEffect(()=>{v.store.setListId(w)},[w]),C.jsx(ne,{ref:t,...v.getStyles("options",{className:i,style:a,classNames:n,styles:c}),...m,id:w,role:"listbox","aria-labelledby":h,onMouseDown:S=>{S.preventDefault(),d==null||d(S)}})});vg.classes=wr;vg.displayName="@mantine/core/ComboboxOptions";const sI={withAriaAttributes:!0,withKeyboardNavigation:!0},yg=fe((e,t)=>{const r=oe("ComboboxSearch",sI,e),{classNames:n,styles:i,unstyled:a,vars:c,withAriaAttributes:l,onKeyDown:d,withKeyboardNavigation:h,size:m,...v}=r,w=Gr(),S=w.getStyles("search"),b=fg({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return C.jsx(Jt,{ref:Ht(t,w.store.searchRef),classNames:[{input:S.className},n],styles:[{input:S.style},i],size:m||w.size,...b,...v,__staticSelector:"Combobox"})});yg.classes=wr;yg.displayName="@mantine/core/ComboboxSearch";const oI={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},f1=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...h}=oe("ComboboxTarget",oI,e);if(!Ks(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=Gr(),v=fg({targetType:l,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d}),w=D.cloneElement(r,{...v,...h});return C.jsx(vr.Target,{ref:Ht(t,m.store.targetRef),children:w})});f1.displayName="@mantine/core/ComboboxTarget";function iI(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function aI(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function cI(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function p1({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:i,loop:a=!0,scrollBehavior:c="instant"}={}){const[l,d]=ls({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=D.useRef(null),m=D.useRef(-1),v=D.useRef(null),w=D.useRef(null),S=D.useRef(-1),b=D.useRef(-1),E=D.useRef(-1),R=D.useCallback((O="unknown")=>{l||(d(!0),i==null||i(O))},[d,i,l]),T=D.useCallback((O="unknown")=>{l&&(d(!1),n==null||n(O))},[d,n,l]),_=D.useCallback((O="unknown")=>{l?T(O):R(O)},[T,R,l]),p=D.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),f=D.useCallback(O=>{const V=document.getElementById(h.current),F=V==null?void 0:V.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=O>=F.length?0:O<0?F.length-1:O;return m.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(p(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:c}),F[z].id):null},[c,p]),g=D.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-active]`);if(O){const V=document.querySelectorAll(`#${h.current} [data-combobox-option]`),F=Array.from(V).findIndex(z=>z===O);return f(F)}return f(0)},[f]),x=D.useCallback(()=>f(aI(m.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[f,a]),P=D.useCallback(()=>f(iI(m.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[f,a]),I=D.useCallback(()=>f(cI(document.querySelectorAll(`#${h.current} [data-combobox-option]`))),[f]),L=D.useCallback((O="selected",V)=>{E.current=window.setTimeout(()=>{var q;const F=document.querySelectorAll(`#${h.current} [data-combobox-option]`),z=Array.from(F).findIndex(U=>U.hasAttribute(`data-combobox-${O}`));m.current=z,V!=null&&V.scrollIntoView&&((q=F[z])==null||q.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),M=D.useCallback(()=>{m.current=-1,p()},[p]),A=D.useCallback(()=>{const O=document.querySelectorAll(`#${h.current} [data-combobox-option]`),V=O==null?void 0:O[m.current];V==null||V.click()},[]),N=D.useCallback(O=>{h.current=O},[]),B=D.useCallback(()=>{S.current=window.setTimeout(()=>v.current.focus(),0)},[]),W=D.useCallback(()=>{b.current=window.setTimeout(()=>w.current.focus(),0)},[]),K=D.useCallback(()=>m.current,[]);return D.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(b.current),window.clearTimeout(E.current)},[]),{dropdownOpened:l,openDropdown:R,closeDropdown:T,toggleDropdown:_,selectedOptionIndex:m.current,getSelectedOptionIndex:K,selectOption:f,selectFirstOption:I,selectActiveOption:g,selectNextOption:x,selectPreviousOption:P,resetSelectedOption:M,updateSelectedOptionIndex:L,listId:h.current,setListId:N,clickSelectedOption:A,searchRef:v,focusSearchInput:B,targetRef:w,focusTarget:W}}const lI={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},uI=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":ir(t),"--combobox-option-padding":Qe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:te(r),"--combobox-option-fz":ir(t),"--combobox-option-padding":Qe(t,"combobox-option-padding")}});function Ze(e){const t=oe("Combobox",lI,e),{classNames:r,styles:n,unstyled:i,children:a,store:c,vars:l,onOptionSubmit:d,onClose:h,size:m,dropdownPadding:v,resetSelectionOnOptionHover:w,__staticSelector:S,readOnly:b,...E}=t,R=p1(),T=c||R,_=Te({name:S||"Combobox",classes:wr,props:t,classNames:r,styles:n,unstyled:i,vars:l,varsResolver:uI}),p=()=>{h==null||h(),T.closeDropdown()};return C.jsx(Kj,{value:{getStyles:_,store:T,onOptionSubmit:d,size:m,resetSelectionOnOptionHover:w,readOnly:b},children:C.jsx(vr,{opened:T.dropdownOpened,...E,onChange:f=>!f&&p(),withRoles:!1,unstyled:i,children:a})})}const dI=e=>e;Ze.extend=dI;Ze.classes=wr;Ze.displayName="@mantine/core/Combobox";Ze.Target=f1;Ze.Dropdown=ug;Ze.Options=vg;Ze.Option=gg;Ze.Search=yg;Ze.Empty=dg;Ze.Chevron=lg;Ze.Footer=pg;Ze.Header=mg;Ze.EventsTarget=u1;Ze.DropdownTarget=l1;Ze.Group=hg;Ze.ClearButton=c1;Ze.HiddenInput=d1;function fI({size:e,style:t,...r}){const n=e!==void 0?{width:te(e),height:te(e),...t}:t;return C.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:C.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function sc(e){return"group"in e}function h1({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(i.length===r)return i;sc(c)&&i.push({group:c.group,items:h1({options:c.items,search:t,limit:r-i.length})}),sc(c)||c.label.toLowerCase().includes(n)&&i.push(c)}return i}function pI(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function m1(e,t=new Set){if(Array.isArray(e))for(const r of e)if(sc(r))m1(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function hI(e,t){return Array.isArray(e)?e.includes(t):e===t}function g1({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:i,renderOption:a}){if(!sc(e)){const l=hI(r,e.value),d=t&&l&&C.jsx(fI,{className:wr.optionsDropdownCheckIcon}),h=C.jsxs(C.Fragment,{children:[n==="left"&&d,C.jsx("span",{children:e.label}),n==="right"&&d]});return C.jsx(Ze.Option,{value:e.value,disabled:e.disabled,className:Vt({[wr.optionsDropdownOption]:!i}),"data-reverse":n==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof a=="function"?a({option:e,checked:l}):h})}const c=e.items.map(l=>C.jsx(g1,{data:l,value:r,unstyled:i,withCheckIcon:t,checkIconPosition:n,renderOption:a},l.value));return C.jsx(Ze.Group,{label:e.group,children:c})}function mI({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:i,limit:a,maxDropdownHeight:c,withScrollArea:l=!0,filterOptions:d=!0,withCheckIcon:h=!1,value:m,checkIconPosition:v,nothingFoundMessage:w,unstyled:S,labelId:b,renderOption:E,scrollAreaProps:R,"aria-label":T}){m1(e);const p=typeof i=="string"?(n||h1)({options:e,search:d?i:"",limit:a??1/0}):e,f=pI(p),g=p.map(x=>C.jsx(g1,{data:x,withCheckIcon:h,value:m,checkIconPosition:v,unstyled:S,renderOption:E},sc(x)?x.group:x.value));return C.jsx(Ze.Dropdown,{hidden:t||r&&f,"data-composed":!0,children:C.jsxs(Ze.Options,{labelledBy:b,"aria-label":T,children:[l?C.jsx(Mr.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...R,children:g}):g,f&&w&&C.jsx(Ze.Empty,{children:w})]})})}const v1=D.createContext(null),gI=v1.Provider;function vI(){return{withinGroup:!!D.useContext(v1)}}var hd={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const yI={},wI=(e,{spacing:t})=>({group:{"--ag-spacing":or(t)}}),wg=fe((e,t)=>{const r=oe("AvatarGroup",yI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,spacing:h,...m}=r,v=Te({name:"AvatarGroup",classes:hd,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:wI,rootSelector:"group"});return C.jsx(gI,{value:!0,children:C.jsx(ne,{ref:t,...v("group"),...m})})});wg.classes=hd;wg.displayName="@mantine/core/AvatarGroup";function SI(e){return C.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function bI(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const _I=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function xI(e,t=_I){const r=bI(e),n=Math.abs(r)%t.length;return t[n]}function CI(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const RI={},EI=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c,name:l,allowedInitialsColors:d})=>{const h=a==="initials"&&typeof l=="string"?xI(l,d):a,m=e.variantColorResolver({color:h||"gray",theme:e,gradient:i,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":Qe(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:jt(r),"--avatar-bg":h||n?m.background:void 0,"--avatar-color":h||n?m.color:void 0,"--avatar-bd":h||n?m.border:void 0}}},Kr=Zt((e,t)=>{const r=oe("Avatar",RI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,src:h,alt:m,radius:v,color:w,gradient:S,imageProps:b,children:E,autoContrast:R,mod:T,name:_,allowedInitialsColors:p,...f}=r,g=vI(),[x,P]=D.useState(!h),I=Te({name:"Avatar",props:r,classes:hd,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:EI});return D.useEffect(()=>P(!h),[h]),C.jsx(ne,{...I("root"),mod:[{"within-group":g.withinGroup},T],ref:t,...f,children:x?C.jsx("span",{...I("placeholder"),title:m,children:E||typeof _=="string"&&CI(_)||C.jsx(SI,{})}):C.jsx("img",{...b,...I("image"),src:h,alt:m,onError:L=>{var M;P(!0),(M=b==null?void 0:b.onError)==null||M.call(b,L)}})})});Kr.classes=hd;Kr.displayName="@mantine/core/Avatar";Kr.Group=wg;var y1={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const TI={},kI=(e,{radius:t,color:r,gradient:n,variant:i,size:a,autoContrast:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:c});return{root:{"--badge-height":Qe(a,"badge-height"),"--badge-padding-x":Qe(a,"badge-padding-x"),"--badge-fz":Qe(a,"badge-fz"),"--badge-radius":t===void 0?void 0:jt(t),"--badge-bg":r||i?l.background:void 0,"--badge-color":r||i?l.color:void 0,"--badge-bd":r||i?l.border:void 0,"--badge-dot-color":i==="dot"?yr(r,e):void 0}}},Fn=Zt((e,t)=>{const r=oe("Badge",TI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,radius:h,color:m,gradient:v,leftSection:w,rightSection:S,children:b,variant:E,fullWidth:R,autoContrast:T,circle:_,mod:p,...f}=r,g=Te({name:"Badge",props:r,classes:y1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:kI});return C.jsxs(ne,{variant:E,mod:[{block:R,circle:_,"with-right-section":!!S,"with-left-section":!!w},p],...g("root",{variant:E}),ref:t,...f,children:[w&&C.jsx("span",{...g("section"),"data-position":"left",children:w}),C.jsx("span",{...g("label"),children:b}),S&&C.jsx("span",{...g("section"),"data-position":"right",children:S})]})});Fn.classes=y1;Fn.displayName="@mantine/core/Badge";var Ai={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const NS={orientation:"horizontal"},PI=(e,{borderWidth:t})=>({group:{"--button-border-width":te(t)}}),Sg=fe((e,t)=>{const r=oe("ButtonGroup",NS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,orientation:d,vars:h,borderWidth:m,variant:v,mod:w,...S}=oe("ButtonGroup",NS,e),b=Te({name:"ButtonGroup",props:r,classes:Ai,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:h,varsResolver:PI,rootSelector:"group"});return C.jsx(ne,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":d},w],role:"group",...S})});Sg.classes=Ai;Sg.displayName="@mantine/core/ButtonGroup";const AS={},DI=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Qe(c,"section-height"),"--section-padding-x":Qe(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?ir(c.replace("compact-","")):ir(c),"--section-radius":t===void 0?void 0:jt(t),"--section-bg":r||i?l.background:void 0,"--section-color":l.color,"--section-bd":r||i?l.border:void 0}}},bg=fe((e,t)=>{const r=oe("ButtonGroupSection",AS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,variant:h,gradient:m,radius:v,autoContrast:w,...S}=oe("ButtonGroupSection",AS,e),b=Te({name:"ButtonGroupSection",props:r,classes:Ai,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:DI,rootSelector:"groupSection"});return C.jsx(ne,{...b("groupSection"),ref:t,variant:h,...S})});bg.classes=Ai;bg.displayName="@mantine/core/ButtonGroupSection";const jI={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},II={},MI=(e,{radius:t,color:r,gradient:n,variant:i,size:a,justify:c,autoContrast:l})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:l});return{root:{"--button-justify":c,"--button-height":Qe(a,"button-height"),"--button-padding-x":Qe(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?ir(a.replace("compact-","")):ir(a),"--button-radius":t===void 0?void 0:jt(t),"--button-bg":r||i?d.background:void 0,"--button-hover":r||i?d.hover:void 0,"--button-color":d.color,"--button-bd":r||i?d.border:void 0,"--button-hover-color":r||i?d.hoverColor:void 0}}},De=Zt((e,t)=>{const r=oe("Button",II,e),{style:n,vars:i,className:a,color:c,disabled:l,children:d,leftSection:h,rightSection:m,fullWidth:v,variant:w,radius:S,loading:b,loaderProps:E,gradient:R,classNames:T,styles:_,unstyled:p,"data-disabled":f,autoContrast:g,mod:x,...P}=r,I=Te({name:"Button",props:r,classes:Ai,className:a,style:n,classNames:T,styles:_,unstyled:p,vars:i,varsResolver:MI}),L=!!h,M=!!m;return C.jsxs(Js,{ref:t,...I("root",{active:!l&&!b&&!f}),unstyled:p,variant:w,disabled:l||b,mod:[{disabled:l||f,loading:b,block:v,"with-left-section":L,"with-right-section":M},x],...P,children:[C.jsx(hs,{mounted:!!b,transition:jI,duration:150,children:A=>C.jsx(ne,{component:"span",...I("loader",{style:A}),"aria-hidden":!0,children:C.jsx(Oi,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),C.jsxs("span",{...I("inner"),children:[h&&C.jsx(ne,{component:"span",...I("section"),mod:{position:"left"},children:h}),C.jsx(ne,{component:"span",mod:{loading:b},...I("label"),children:d}),m&&C.jsx(ne,{component:"span",...I("section"),mod:{position:"right"},children:m})]})]})});De.classes=Ai;De.displayName="@mantine/core/Button";De.Group=Sg;De.GroupSection=bg;const[LI,OI]=Tn("Card component was not found in tree");var _g={root:"m_e615b15f",section:"m_599a2148"};const NI={},md=Zt((e,t)=>{const r=oe("CardSection",NI,e),{classNames:n,className:i,style:a,styles:c,vars:l,withBorder:d,inheritPadding:h,mod:m,...v}=r,w=OI();return C.jsx(ne,{ref:t,mod:[{"with-border":d,"inherit-padding":h},m],...w.getStyles("section",{className:i,style:a,styles:c,classNames:n}),...v})});md.classes=_g;md.displayName="@mantine/core/CardSection";const AI={},$I=(e,{padding:t})=>({root:{"--card-padding":or(t)}}),$i=Zt((e,t)=>{const r=oe("Card",AI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,children:h,padding:m,...v}=r,w=Te({name:"Card",props:r,classes:_g,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:$I}),S=D.Children.toArray(h),b=S.map((E,R)=>typeof E=="object"&&E&&"type"in E&&E.type===md?D.cloneElement(E,{"data-first-section":R===0||void 0,"data-last-section":R===S.length-1||void 0}):E);return C.jsx(LI,{value:{getStyles:w},children:C.jsx(ad,{ref:t,unstyled:l,...w("root"),...v,children:b})})});$i.classes=_g;$i.displayName="@mantine/core/Card";$i.Section=md;const FI={timeout:1e3};function w1(e){const{children:t,timeout:r,value:n,...i}=oe("CopyButton",FI,e),a=IT({timeout:r}),c=()=>a.copy(n);return C.jsx(C.Fragment,{children:t({copy:c,copied:a.copied,...i})})}w1.displayName="@mantine/core/CopyButton";var S1={root:"m_3eebeb36",label:"m_9e365f20"};const zI={orientation:"horizontal"},BI=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?yr(t,e):void 0,"--divider-border-style":r,"--divider-size":Qe(n,"divider-size")}}),Wn=fe((e,t)=>{const r=oe("Divider",zI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,color:h,orientation:m,label:v,labelPosition:w,mod:S,...b}=r,E=Te({name:"Divider",classes:S1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:BI});return C.jsx(ne,{ref:t,mod:[{orientation:m,"with-label":!!v},S],...E("root"),...b,role:"separator",children:v&&C.jsx(ne,{component:"span",mod:{position:w},...E("label"),children:v})})});Wn.classes=S1;Wn.displayName="@mantine/core/Divider";const[UI,Fi]=Tn("Drawer component was not found in tree");var vs={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const VI={},gd=fe((e,t)=>{const r=oe("DrawerBody",VI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Fi();return C.jsx(tg,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});gd.classes=vs;gd.displayName="@mantine/core/DrawerBody";const HI={},vd=fe((e,t)=>{const r=oe("DrawerCloseButton",HI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Fi();return C.jsx(rg,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});vd.classes=vs;vd.displayName="@mantine/core/DrawerCloseButton";const WI={},yd=fe((e,t)=>{const r=oe("DrawerContent",WI,e),{classNames:n,className:i,style:a,styles:c,vars:l,children:d,radius:h,__hidden:m,...v}=r,w=Fi(),S=w.scrollAreaComponent||t1;return C.jsx(ng,{...w.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:w.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),ref:t,...v,radius:h||w.radius||0,"data-hidden":m||void 0,children:C.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});yd.classes=vs;yd.displayName="@mantine/core/DrawerContent";const qI={},wd=fe((e,t)=>{const r=oe("DrawerHeader",qI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Fi();return C.jsx(sg,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});wd.classes=vs;wd.displayName="@mantine/core/DrawerHeader";const GI={},Sd=fe((e,t)=>{const r=oe("DrawerOverlay",GI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Fi();return C.jsx(og,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});Sd.classes=vs;Sd.displayName="@mantine/core/DrawerOverlay";function KI(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function YI(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const XI={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},QI={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},JI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),position:"left"},ZI=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Qe(r,"drawer-size"),"--drawer-flex":YI(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":KI(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":te(n)}}),bd=fe((e,t)=>{const r=oe("DrawerRoot",JI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,scrollAreaComponent:h,position:m,transitionProps:v,radius:w,...S}=r,{dir:b}=Qs(),E=Te({name:"Drawer",classes:vs,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:ZI}),R=(b==="rtl"?QI:XI)[m];return C.jsx(UI,{value:{scrollAreaComponent:h,getStyles:E,radius:w},children:C.jsx(eg,{ref:t,...E("root"),transitionProps:{transition:R,...v},unstyled:l,...S})})});bd.classes=vs;bd.displayName="@mantine/core/DrawerRoot";const[e2,t2]=qu();function b1({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(Sr("modal"));return C.jsx(e2,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),i(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}b1.displayName="@mantine/core/DrawerStack";const r2={},_d=fe((e,t)=>{const r=oe("DrawerTitle",r2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Fi();return C.jsx(ig,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});_d.classes=vs;_d.displayName="@mantine/core/DrawerTitle";const n2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),withOverlay:!0,withCloseButton:!0},Yr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:l,opened:d,stackId:h,zIndex:m,...v}=oe("Drawer",n2,e),w=t2(),S=!!r||a,b=w&&h?{closeOnEscape:w.currentId===h,trapFocus:w.currentId===h,zIndex:w.getZIndex(h)}:{},E=n===!1?!1:h&&w?w.currentId===h:d;return D.useEffect(()=>{w&&h&&(d?w.addModal(h,m||Sr("modal")):w.removeModal(h))},[d,h,m]),C.jsxs(bd,{ref:t,opened:d,zIndex:w&&h?w.getZIndex(h):m,...v,...b,children:[n&&C.jsx(Sd,{visible:E,transitionProps:w&&h?{duration:0}:void 0,...i}),C.jsxs(yd,{__hidden:w&&h&&d?h!==w.currentId:!1,children:[S&&C.jsxs(wd,{children:[r&&C.jsx(_d,{children:r}),a&&C.jsx(vd,{...c})]}),C.jsx(gd,{children:l})]})]})});Yr.classes=vs;Yr.displayName="@mantine/core/Drawer";Yr.Root=bd;Yr.Overlay=Sd;Yr.Content=yd;Yr.Body=gd;Yr.Header=wd;Yr.Title=_d;Yr.CloseButton=vd;Yr.Stack=b1;function s2({open:e,close:t,openDelay:r,closeDelay:n}){const i=D.useRef(-1),a=D.useRef(-1),c=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},l=()=>{c(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)},d=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return D.useEffect(()=>c,[]),{openDropdown:l,closeDropdown:d}}function o2(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=te(t),[i,a]=e.split("-");return i==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var _1={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const i2={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},a2=(e,{color:t,position:r,offset:n,size:i,radius:a,zIndex:c,autoContrast:l})=>({root:{"--indicator-color":t?yr(t,e):void 0,"--indicator-text-color":r0(l,e)?Pm({color:t,theme:e,autoContrast:l}):void 0,"--indicator-size":te(i),"--indicator-radius":a===void 0?void 0:jt(a),"--indicator-z-index":c==null?void 0:c.toString(),...o2(r,n)}}),xg=fe((e,t)=>{const r=oe("Indicator",i2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,children:h,position:m,offset:v,inline:w,label:S,radius:b,color:E,withBorder:R,disabled:T,processing:_,zIndex:p,autoContrast:f,mod:g,...x}=r,P=Te({name:"Indicator",classes:_1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:a2});return C.jsxs(ne,{ref:t,...P("root"),mod:[{inline:w},g],...x,children:[!T&&C.jsx(ne,{mod:{"with-label":!!S,"with-border":R,processing:_},...P("indicator"),children:S}),h]})});xg.classes=_1;xg.displayName="@mantine/core/Indicator";function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(null,arguments)}function Cg(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c2=D.useLayoutEffect,l2=function(t){var r=Ut.useRef(t);return c2(function(){r.current=t}),r},$S=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},u2=function(t,r){var n=Ut.useRef();return Ut.useCallback(function(i){t.current=i,n.current&&$S(n.current,null),n.current=r,r&&$S(r,i)},[r])},FS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},d2=function(t){Object.keys(FS).forEach(function(r){t.style.setProperty(r,FS[r],"important")})},zS=d2,nr=null,BS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function f2(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),nr||(nr=document.createElement("textarea"),nr.setAttribute("tabindex","-1"),nr.setAttribute("aria-hidden","true"),zS(nr)),nr.parentNode===null&&document.body.appendChild(nr);var i=e.paddingSize,a=e.borderSize,c=e.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(w){var S=w;nr.style[S]=c[S]}),zS(nr),nr.value=t;var d=BS(nr,e);nr.value=t,d=BS(nr,e),nr.value="x";var h=nr.scrollHeight-i,m=h*r;l==="border-box"&&(m=m+i+a),d=Math.max(m,d);var v=h*n;return l==="border-box"&&(v=v+i+a),d=Math.min(v,d),[d,h]}var US=function(){},p2=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},h2=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],m2=!!document.documentElement.currentStyle,g2=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=p2(h2,r),i=n.boxSizing;if(i==="")return null;m2&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},v2=g2;function x1(e,t,r){var n=l2(r);D.useLayoutEffect(function(){var i=function(c){return n.current(c)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var y2=function(t){x1(window,"resize",t)},w2=function(t){x1(document.fonts,"loadingdone",t)},S2=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b2=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,c=t.onChange,l=c===void 0?US:c,d=t.onHeightChange,h=d===void 0?US:d,m=Cg(t,S2),v=m.value!==void 0,w=D.useRef(null),S=u2(w,r),b=D.useRef(0),E=D.useRef(),R=function(){var p=w.current,f=n&&E.current?E.current:v2(p);if(f){E.current=f;var g=f2(f,p.value||p.placeholder||"x",a,i),x=g[0],P=g[1];b.current!==x&&(b.current=x,p.style.setProperty("height",x+"px","important"),h(x,{rowHeight:P}))}},T=function(p){v||R(),l(p)};return D.useLayoutEffect(R),y2(R),w2(R),D.createElement("textarea",Ou({},m,{onChange:T,ref:S}))},_2=D.forwardRef(b2);const x2={},xd=fe((e,t)=>{const{autosize:r,maxRows:n,minRows:i,__staticSelector:a,resize:c,...l}=oe("Textarea",x2,e),d=r&&XT()!=="test",h=d?{maxRows:n,minRows:i}:{};return C.jsx(gs,{component:d?_2:"textarea",ref:t,...l,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...h})});xd.classes=gs.classes;xd.displayName="@mantine/core/Textarea";const[C2,mc]=Tn("Menu component was not found in the tree");var zi={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const R2={},Rg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("MenuDivider",R2,e),d=mc();return C.jsx(ne,{ref:t,...d.getStyles("divider",{className:n,style:i,styles:a,classNames:r}),...l})});Rg.classes=zi;Rg.displayName="@mantine/core/MenuDivider";const E2={},Eg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,onMouseEnter:l,onMouseLeave:d,onKeyDown:h,children:m,...v}=oe("MenuDropdown",E2,e),w=D.useRef(null),S=mc(),b=$n(h,T=>{var _,p;(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),(p=(_=w.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||p.focus())}),E=$n(l,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),R=$n(d,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return C.jsxs(vr.Dropdown,{...v,onMouseEnter:E,onMouseLeave:R,role:"menu","aria-orientation":"vertical",ref:Ht(t,w),...S.getStyles("dropdown",{className:n,style:i,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[S.withInitialFocusPlaceholder&&C.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),m]})});Eg.classes=zi;Eg.displayName="@mantine/core/MenuDropdown";const T2={},Tg=Zt((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,color:l,closeMenuOnClick:d,leftSection:h,rightSection:m,children:v,disabled:w,"data-disabled":S,...b}=oe("MenuItem",T2,e),E=mc(),R=ar(),{dir:T}=Qs(),_=D.useRef(null),p=E.getItemIndex(_.current),f=b,g=$n(f.onMouseLeave,()=>E.setHovered(-1)),x=$n(f.onMouseEnter,()=>E.setHovered(E.getItemIndex(_.current))),P=$n(f.onClick,()=>{S||(typeof d=="boolean"?d&&E.closeDropdownImmediately():E.closeOnItemClick&&E.closeDropdownImmediately())}),I=$n(f.onFocus,()=>E.setHovered(E.getItemIndex(_.current))),L=l?R.variantColorResolver({color:l,theme:R,variant:"light"}):void 0,M=l?Ii({color:l,theme:R}):null;return C.jsxs(Js,{...b,unstyled:E.unstyled,tabIndex:E.menuItemTabIndex,onFocus:I,...E.getStyles("item",{className:n,style:i,styles:a,classNames:r}),ref:Ht(_,t),role:"menuitem",disabled:w,"data-menu-item":!0,"data-disabled":w||S||void 0,"data-hovered":E.hovered===p?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:g,onClick:P,onKeyDown:U_({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:E.loop,dir:T,orientation:"vertical",onKeyDown:f.onKeyDown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:L==null?void 0:L.color,"--menu-item-hover":L==null?void 0:L.hover},children:[h&&C.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:h}),v&&C.jsx("div",{...E.getStyles("itemLabel",{styles:a,classNames:r}),children:v}),m&&C.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:m})]})});Tg.classes=zi;Tg.displayName="@mantine/core/MenuItem";const k2={},kg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("MenuLabel",k2,e),d=mc();return C.jsx(ne,{ref:t,...d.getStyles("label",{className:n,style:i,styles:a,classNames:r}),...l})});kg.classes=zi;kg.displayName="@mantine/core/MenuLabel";const P2={refProp:"ref"},C1=D.forwardRef((e,t)=>{const{children:r,refProp:n,...i}=oe("MenuTarget",P2,e);if(!Ks(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=mc(),c=r.props,l=$n(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),d=$n(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),h=$n(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return C.jsx(vr.Target,{refProp:n,popupType:"menu",ref:t,...i,children:D.cloneElement(r,{onClick:l,onMouseEnter:d,onMouseLeave:h,"data-expanded":a.opened?!0:void 0})})});C1.displayName="@mantine/core/MenuTarget";const D2={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ye(e){const t=oe("Menu",D2,e),{children:r,onOpen:n,onClose:i,opened:a,defaultOpened:c,trapFocus:l,onChange:d,closeOnItemClick:h,loop:m,closeOnEscape:v,trigger:w,openDelay:S,closeDelay:b,classNames:E,styles:R,unstyled:T,variant:_,vars:p,menuItemTabIndex:f,keepMounted:g,withInitialFocusPlaceholder:x,...P}=t,I=Te({name:"Menu",classes:zi,props:t,classNames:E,styles:R,unstyled:T}),[L,{setHovered:M,resetHovered:A}]=PT(),[N,B]=ls({value:a,defaultValue:c,finalValue:!1,onChange:d}),[W,K]=D.useState(!1),O=()=>{B(!1),K(!1),N&&(i==null||i())},V=()=>{B(!0),!N&&(n==null||n())},F=()=>{N?O():V()},{openDropdown:z,closeDropdown:q}=s2({open:V,close:O,closeDelay:b,openDelay:S}),U=de=>kT("[data-menu-item]","[data-menu-dropdown]",de),{resolvedClassNames:X,resolvedStyles:ce}=fc({classNames:E,styles:R,props:t});return Hn(()=>{A()},[N]),C.jsx(C2,{value:{getStyles:I,opened:N,toggleDropdown:F,getItemIndex:U,hovered:L,setHovered:M,openedViaClick:W,setOpenedViaClick:K,closeOnItemClick:h,closeDropdown:w==="click"?O:q,openDropdown:w==="click"?V:z,closeDropdownImmediately:O,loop:m,trigger:w,unstyled:T,menuItemTabIndex:f,withInitialFocusPlaceholder:x},children:C.jsx(vr,{...P,opened:N,onChange:F,defaultOpened:c,trapFocus:g?!1:l,closeOnEscape:v,__staticSelector:"Menu",classNames:X,styles:ce,unstyled:T,variant:_,keepMounted:g,children:r})})}Ye.extend=e=>e;Ye.withProps=oP(Ye);Ye.classes=zi;Ye.displayName="@mantine/core/Menu";Ye.Item=Tg;Ye.Label=kg;Ye.Dropdown=Eg;Ye.Target=C1;Ye.Divider=Rg;const[j2,Bi]=Tn("Modal component was not found in tree");var ys={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const I2={},Cd=fe((e,t)=>{const r=oe("ModalBody",I2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Bi();return C.jsx(tg,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});Cd.classes=ys;Cd.displayName="@mantine/core/ModalBody";const M2={},Rd=fe((e,t)=>{const r=oe("ModalCloseButton",M2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Bi();return C.jsx(rg,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});Rd.classes=ys;Rd.displayName="@mantine/core/ModalCloseButton";const L2={},Ed=fe((e,t)=>{const r=oe("ModalContent",L2,e),{classNames:n,className:i,style:a,styles:c,vars:l,children:d,__hidden:h,...m}=r,v=Bi(),w=v.scrollAreaComponent||t1;return C.jsx(ng,{...v.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:v.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),"data-full-screen":v.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...m,children:C.jsx(w,{style:{maxHeight:v.fullScreen?"100dvh":`calc(100dvh - (${te(v.yOffset)} * 2))`},children:d})})});Ed.classes=ys;Ed.displayName="@mantine/core/ModalContent";const O2={},Td=fe((e,t)=>{const r=oe("ModalHeader",O2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Bi();return C.jsx(sg,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});Td.classes=ys;Td.displayName="@mantine/core/ModalHeader";const N2={},kd=fe((e,t)=>{const r=oe("ModalOverlay",N2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Bi();return C.jsx(og,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});kd.classes=ys;kd.displayName="@mantine/core/ModalOverlay";const A2={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},$2=(e,{radius:t,size:r,yOffset:n,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:jt(t),"--modal-size":Qe(r,"modal-size"),"--modal-y-offset":te(n),"--modal-x-offset":te(i)}}),Pd=fe((e,t)=>{const r=oe("ModalRoot",A2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,yOffset:h,scrollAreaComponent:m,radius:v,fullScreen:w,centered:S,xOffset:b,__staticSelector:E,...R}=r,T=Te({name:E,classes:ys,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:$2});return C.jsx(j2,{value:{yOffset:h,scrollAreaComponent:m,getStyles:T,fullScreen:w},children:C.jsx(eg,{ref:t,...T("root"),"data-full-screen":w||void 0,"data-centered":S||void 0,unstyled:l,...R})})});Pd.classes=ys;Pd.displayName="@mantine/core/ModalRoot";const[F2,z2]=qu();function R1({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(Sr("modal"));return C.jsx(F2,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),i(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}R1.displayName="@mantine/core/ModalStack";const B2={},Dd=fe((e,t)=>{const r=oe("ModalTitle",B2,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,h=Bi();return C.jsx(ig,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});Dd.classes=ys;Dd.displayName="@mantine/core/ModalTitle";const U2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Sr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},er=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:l,radius:d,opened:h,stackId:m,zIndex:v,...w}=oe("Modal",U2,e),S=z2(),b=!!r||a,E=S&&m?{closeOnEscape:S.currentId===m,trapFocus:S.currentId===m,zIndex:S.getZIndex(m)}:{},R=n===!1?!1:m&&S?S.currentId===m:h;return D.useEffect(()=>{S&&m&&(h?S.addModal(m,v||Sr("modal")):S.removeModal(m))},[h,m,v]),C.jsxs(Pd,{ref:t,radius:d,opened:h,zIndex:S&&m?S.getZIndex(m):v,...w,...E,children:[n&&C.jsx(kd,{visible:R,transitionProps:S&&m?{duration:0}:void 0,...i}),C.jsxs(Ed,{radius:d,__hidden:S&&m&&h?m!==S.currentId:!1,children:[b&&C.jsxs(Td,{children:[r&&C.jsx(Dd,{children:r}),a&&C.jsx(Rd,{...c})]}),C.jsx(Cd,{children:l})]})]})});er.classes=ys;er.displayName="@mantine/core/Modal";er.Root=Pd;er.Overlay=kd;er.Content=Ed;er.Body=Cd;er.Header=Td;er.Title=Dd;er.CloseButton=Rd;er.Stack=R1;var E1={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const V2={},H2=(e,{variant:t,color:r,childrenOffset:n,autoContrast:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":or(n)}}},_n=Zt((e,t)=>{const r=oe("NavLink",V2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,opened:h,defaultOpened:m,onChange:v,children:w,onClick:S,active:b,disabled:E,leftSection:R,rightSection:T,label:_,description:p,disableRightSectionRotation:f,noWrap:g,childrenOffset:x,onKeyDown:P,autoContrast:I,mod:L,...M}=r,A=Te({name:"NavLink",props:r,classes:E1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:H2}),[N,B]=ls({value:h,defaultValue:m,finalValue:!1,onChange:v}),W=!!w,K=O=>{S==null||S(O),W&&(O.preventDefault(),B(!N))};return C.jsxs(C.Fragment,{children:[C.jsxs(Js,{...A("root"),component:"a",ref:t,onClick:K,onKeyDown:O=>{P==null||P(O),O.nativeEvent.code==="Space"&&W&&(O.preventDefault(),B(!N))},unstyled:l,mod:[{disabled:E,active:b,expanded:N},L],...M,children:[R&&C.jsx(ne,{component:"span",...A("section"),mod:{position:"left"},children:R}),C.jsxs(ne,{...A("body"),mod:{"no-wrap":g},children:[C.jsx(ne,{component:"span",...A("label"),children:_}),C.jsx(ne,{component:"span",mod:{active:b},...A("description"),children:p})]}),(W||T)&&C.jsx(ne,{...A("section"),component:"span",mod:{rotate:N&&!f,position:"right"},children:W?T||C.jsx(s1,{...A("chevron")}):T})]}),W&&C.jsx(ed,{in:N,...A("collapse"),children:C.jsx("div",{...A("children"),children:w})})]})});_n.classes=E1;_n.displayName="@mantine/core/NavLink";var T1={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const W2={withCloseButton:!0},q2=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:jt(t),"--notification-color":r?yr(r,e):void 0}}),Pg=fe((e,t)=>{const r=oe("Notification",W2,e),{className:n,color:i,radius:a,loading:c,withCloseButton:l,withBorder:d,title:h,icon:m,children:v,onClose:w,closeButtonProps:S,classNames:b,style:E,styles:R,unstyled:T,variant:_,vars:p,mod:f,loaderProps:g,...x}=r,P=Te({name:"Notification",classes:T1,props:r,className:n,style:E,classNames:b,styles:R,unstyled:T,vars:p,varsResolver:q2});return C.jsxs(ne,{...P("root"),mod:[{"data-with-icon":!!m||c,"data-with-border":d},f],ref:t,variant:_,...x,role:"alert",children:[m&&!c&&C.jsx("div",{...P("icon"),children:m}),c&&C.jsx(Oi,{size:28,color:i,...g,...P("loader")}),C.jsxs("div",{...P("body"),children:[h&&C.jsx("div",{...P("title"),children:h}),C.jsx(ne,{...P("description"),mod:{"data-with-title":!!h},children:v})]}),l&&C.jsx(hc,{iconSize:16,color:"gray",...S,unstyled:T,onClick:w,...P("closeButton")})]})});Pg.classes=T1;Pg.displayName="@mantine/core/Notification";const G2=({reveal:e})=>C.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:C.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Qh={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const K2={visibilityToggleIcon:G2},Y2=(e,{size:t})=>({root:{"--psi-icon-size":Qe(t,"psi-icon-size"),"--psi-button-size":Qe(t,"psi-button-size")}}),jd=fe((e,t)=>{const r=oe("PasswordInput",K2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,required:h,error:m,leftSection:v,disabled:w,id:S,variant:b,inputContainer:E,description:R,label:T,size:_,errorProps:p,descriptionProps:f,labelProps:g,withAsterisk:x,inputWrapperOrder:P,wrapperProps:I,radius:L,rightSection:M,rightSectionWidth:A,rightSectionPointerEvents:N,leftSectionWidth:B,visible:W,defaultVisible:K,onVisibilityChange:O,visibilityToggleIcon:V,visibilityToggleButtonProps:F,rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:U,withErrorStyles:X,mod:ce,...de}=r,ee=Ys(S),[ie,ue]=ls({value:W,defaultValue:K,finalValue:!1,onChange:O}),me=()=>ue(!ie),he=Te({name:"PasswordInput",classes:Qh,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:Y2}),{resolvedClassNames:Ce,resolvedStyles:je}=fc({classNames:n,styles:c,props:r}),{styleProps:yt,rest:ct}=Ju(de),Ge=V,tt=C.jsx(it,{...he("visibilityToggle"),disabled:w,radius:L,"aria-hidden":!F,tabIndex:-1,...F,variant:(F==null?void 0:F.variant)??"subtle",color:"gray",unstyled:l,onTouchEnd:rt=>{var Je;rt.preventDefault(),(Je=F==null?void 0:F.onTouchEnd)==null||Je.call(F,rt),me()},onMouseDown:rt=>{var Je;rt.preventDefault(),(Je=F==null?void 0:F.onMouseDown)==null||Je.call(F,rt),me()},onKeyDown:rt=>{var Je;(Je=F==null?void 0:F.onKeyDown)==null||Je.call(F,rt),rt.key===" "&&(rt.preventDefault(),me())},children:C.jsx(Ge,{reveal:ie})});return C.jsx(Jt.Wrapper,{required:h,id:ee,label:T,error:m,description:R,size:_,classNames:Ce,styles:je,__staticSelector:"PasswordInput",errorProps:p,descriptionProps:f,unstyled:l,withAsterisk:x,inputWrapperOrder:P,inputContainer:E,variant:b,labelProps:{...g,htmlFor:ee},mod:ce,...he("root"),...yt,...I,children:C.jsx(Jt,{component:"div",error:m,leftSection:v,size:_,classNames:{...Ce,input:Vt(Qh.input,Ce.input)},styles:je,radius:L,disabled:w,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:M??tt,variant:b,unstyled:l,leftSectionWidth:B,rightSectionPointerEvents:N||"all",rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:U,withAria:!1,withErrorStyles:X,children:C.jsx("input",{required:h,"data-invalid":!!m||void 0,"data-with-left-section":!!v||void 0,...he("innerInput"),disabled:w,id:ee,ref:t,...ct,autoComplete:ct.autoComplete||"off",type:ie?"text":"password"})})})});jd.classes={...gs.classes,...Qh};jd.displayName="@mantine/core/PasswordInput";const X2={duration:100,transition:"fade"};function Q2(e,t){return{...X2,...t,...e}}function J2({offset:e,position:t,defaultOpened:r}){const[n,i]=D.useState(r),a=D.useRef(null),{x:c,y:l,elements:d,refs:h,update:m,placement:v}=Wm({placement:t,middleware:[Bm({crossAxis:!0,padding:5,rootBoundary:"document"})]}),w=v.includes("right")?e:t.includes("left")?e*-1:0,S=v.includes("bottom")?e:t.includes("top")?e*-1:0,b=D.useCallback(({clientX:E,clientY:R})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:R,left:E+w,top:R+S,right:E,bottom:R}}})},[d.reference]);return D.useEffect(()=>{if(h.floating.current){const E=a.current;E.addEventListener("mousemove",b);const R=os(h.floating.current);return R.forEach(T=>{T.addEventListener("scroll",m)}),()=>{E.removeEventListener("mousemove",b),R.forEach(T=>{T.removeEventListener("scroll",m)})}}},[d.reference,h.floating.current,m,b,n]),{handleMouseMove:b,x:c,y:l,opened:n,setOpened:i,boundaryRef:a,floating:h.setFloating}}var Id={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Z2={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Sr("popover")},eM=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jt(t),"--tooltip-bg":r?yr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Dg=fe((e,t)=>{const r=oe("TooltipFloating",Z2,e),{children:n,refProp:i,withinPortal:a,style:c,className:l,classNames:d,styles:h,unstyled:m,radius:v,color:w,label:S,offset:b,position:E,multiline:R,zIndex:T,disabled:_,defaultOpened:p,variant:f,vars:g,portalProps:x,...P}=r,I=ar(),L=Te({name:"TooltipFloating",props:r,classes:Id,className:l,style:c,classNames:d,styles:h,unstyled:m,rootSelector:"tooltip",vars:g,varsResolver:eM}),{handleMouseMove:M,x:A,y:N,opened:B,boundaryRef:W,floating:K,setOpened:O}=J2({offset:b,position:E,defaultOpened:p});if(!Ks(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const V=Ht(W,Yu(n),t),F=n.props,z=U=>{var X;(X=F.onMouseEnter)==null||X.call(F,U),M(U),O(!0)},q=U=>{var X;(X=F.onMouseLeave)==null||X.call(F,U),O(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(Io,{...x,withinPortal:a,children:C.jsx(ne,{...P,...L("tooltip",{style:{...Im(c,I),zIndex:T,display:!_&&B?"block":"none",top:(N&&Math.round(N))??"",left:(A&&Math.round(A))??""}}),variant:f,ref:K,mod:{multiline:R},children:S})}),D.cloneElement(n,{...F,[i]:V,onMouseEnter:z,onMouseLeave:q})]})});Dg.classes=Id;Dg.displayName="@mantine/core/TooltipFloating";const k1=D.createContext(!1),tM=k1.Provider,rM=()=>D.useContext(k1),nM={openDelay:0,closeDelay:0};function jg(e){const{openDelay:t,closeDelay:r,children:n}=oe("TooltipGroup",nM,e);return C.jsx(tM,{value:!0,children:C.jsx(SD,{delay:{open:t,close:r},children:n})})}jg.displayName="@mantine/core/TooltipGroup";jg.extend=e=>e;function sM(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function oM(e){const t=sM(e.middlewares),r=[S0(e.offset)];return t.shift&&r.push(Bm(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?Mu():Mu(t.flip)),r.push(b0({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Xa():Xa(t.inline)):e.inline&&r.push(Xa()),r}function iM(e){var x,P,I;const[t,r]=D.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,a=rM(),c=Ys(),l=D.useCallback(L=>{r(L),L&&_(c)},[c]),{x:d,y:h,context:m,refs:v,update:w,placement:S,middlewareData:{arrow:{x:b,y:E}={}}}=Wm({strategy:e.strategy,placement:e.position,open:i,onOpenChange:l,middleware:oM(e)}),{delay:R,currentId:T,setCurrentId:_}=bD(m,{id:c}),{getReferenceProps:p,getFloatingProps:f}=kD([yD(m,{enabled:(x=e.events)==null?void 0:x.hover,delay:a?R:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((P=e.events)!=null&&P.touch)}),TD(m,{enabled:(I=e.events)==null?void 0:I.focus,visibleOnly:!0}),DD(m,{role:"tooltip"}),RD(m,{enabled:typeof e.opened>"u"})]);G0({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:v,update:w}}),Hn(()=>{var L;(L=e.onPositionChange)==null||L.call(e,S)},[S]);const g=i&&T&&T!==c;return{x:d,y:h,arrowX:b,arrowY:E,reference:v.setReference,floating:v.setFloating,getFloatingProps:f,getReferenceProps:p,isGroupPhase:g,opened:i,placement:S}}const VS={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Sr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},aM=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jt(t),"--tooltip-bg":r?yr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Un=fe((e,t)=>{const r=oe("Tooltip",VS,e),{children:n,position:i,refProp:a,label:c,openDelay:l,closeDelay:d,onPositionChange:h,opened:m,defaultOpened:v,withinPortal:w,radius:S,color:b,classNames:E,styles:R,unstyled:T,style:_,className:p,withArrow:f,arrowSize:g,arrowOffset:x,arrowRadius:P,arrowPosition:I,offset:L,transitionProps:M,multiline:A,events:N,zIndex:B,disabled:W,positionDependencies:K,onClick:O,onMouseEnter:V,onMouseLeave:F,inline:z,variant:q,keepMounted:U,vars:X,portalProps:ce,mod:de,floatingStrategy:ee,middlewares:ie,...ue}=oe("Tooltip",VS,r),{dir:me}=Qs(),he=D.useRef(null),Ce=iM({position:z0(me,i),closeDelay:d,openDelay:l,onPositionChange:h,opened:m,defaultOpened:v,events:N,arrowRef:he,arrowOffset:x,offset:typeof L=="number"?L+(f?g/2:0):L,positionDependencies:[...K,n],inline:z,strategy:ee,middlewares:ie}),je=Te({name:"Tooltip",props:r,classes:Id,className:p,style:_,classNames:E,styles:R,unstyled:T,rootSelector:"tooltip",vars:X,varsResolver:aM});if(!Ks(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const yt=Ht(Ce.reference,Yu(n),t),ct=Q2(M,{duration:100,transition:"fade"}),Ge=n.props;return C.jsxs(C.Fragment,{children:[C.jsx(Io,{...ce,withinPortal:w,children:C.jsx(hs,{...ct,keepMounted:U,mounted:!W&&!!Ce.opened,duration:Ce.isGroupPhase?10:ct.duration,children:tt=>C.jsxs(ne,{...ue,"data-fixed":ee==="fixed"||void 0,variant:q,mod:[{multiline:A},de],...Ce.getFloatingProps({ref:Ce.floating,className:je("tooltip").className,style:{...je("tooltip").style,...tt,zIndex:B,top:Ce.y??0,left:Ce.x??0}}),children:[c,C.jsx(Xm,{ref:he,arrowX:Ce.arrowX,arrowY:Ce.arrowY,visible:f,position:Ce.placement,arrowSize:g,arrowOffset:x,arrowRadius:P,arrowPosition:I,...je("arrow")})]})})}),D.cloneElement(n,Ce.getReferenceProps({onClick:O,onMouseEnter:V,onMouseLeave:F,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Vt(p,Ge.className),...Ge,[a]:yt}))]})});Un.classes=Id;Un.displayName="@mantine/core/Tooltip";Un.Floating=Dg;Un.Group=jg;const cM={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},is=fe((e,t)=>{const r=oe("Select",cM,e),{classNames:n,styles:i,unstyled:a,vars:c,dropdownOpened:l,defaultDropdownOpened:d,onDropdownClose:h,onDropdownOpen:m,onFocus:v,onBlur:w,onClick:S,onChange:b,data:E,value:R,defaultValue:T,selectFirstOptionOnChange:_,onOptionSubmit:p,comboboxProps:f,readOnly:g,disabled:x,filter:P,limit:I,withScrollArea:L,maxDropdownHeight:M,size:A,searchable:N,rightSection:B,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:O,name:V,form:F,searchValue:z,defaultSearchValue:q,onSearchChange:U,allowDeselect:X,error:ce,rightSectionPointerEvents:de,id:ee,clearable:ie,clearButtonProps:ue,hiddenInputProps:me,renderOption:he,onClear:Ce,autoComplete:je,scrollAreaProps:yt,__defaultRightSection:ct,__clearSection:Ge,__clearable:tt,chevronColor:rt,...Je}=r,Tt=D.useMemo(()=>Wj(E),[E]),mt=D.useMemo(()=>a1(Tt),[Tt]),Ke=Ys(ee),[Ue,lt,It]=ls({value:R,defaultValue:T,finalValue:null,onChange:b}),ut=typeof Ue=="string"?mt[Ue]:void 0,Nt=KT(ut),[ke,Pe]=ls({value:z,defaultValue:q,finalValue:ut?ut.label:"",onChange:U}),ye=p1({opened:l,defaultOpened:d,onDropdownOpen:()=>{m==null||m(),ye.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h==null||h(),ye.resetSelectedOption()}}),{resolvedClassNames:Fe,resolvedStyles:wt}=fc({props:r,styles:i,classNames:n});D.useEffect(()=>{_&&ye.selectFirstOption()},[_,Ue]),D.useEffect(()=>{R===null&&Pe(""),typeof R=="string"&&ut&&((Nt==null?void 0:Nt.value)!==ut.value||(Nt==null?void 0:Nt.label)!==ut.label)&&Pe(ut.label)},[R,ut]);const He=C.jsx(Ze.ClearButton,{...ue,onClear:()=>{lt(null,null),Pe(""),Ce==null||Ce()}}),ze=ie&&!!Ue&&!x&&!g;return C.jsxs(C.Fragment,{children:[C.jsxs(Ze,{store:ye,__staticSelector:"Select",classNames:Fe,styles:wt,unstyled:a,readOnly:g,onOptionSubmit:Se=>{p==null||p(Se);const dt=X&&mt[Se].value===Ue?null:mt[Se],Kn=dt?dt.value:null;Kn!==Ue&&lt(Kn,dt),!It&&Pe(typeof Kn=="string"&&(dt==null?void 0:dt.label)||""),ye.closeDropdown()},size:A,...f,children:[C.jsx(Ze.Target,{targetType:N?"input":"button",autoComplete:je,children:C.jsx(gs,{id:Ke,ref:t,__defaultRightSection:C.jsx(Ze.Chevron,{size:A,error:ce,unstyled:a,color:rt}),__clearSection:He,__clearable:ze,rightSection:B,rightSectionPointerEvents:de||(ze?"all":"none"),...Je,size:A,__staticSelector:"Select",disabled:x,readOnly:g||!N,value:ke,onChange:Se=>{Pe(Se.currentTarget.value),ye.openDropdown(),_&&ye.selectFirstOption()},onFocus:Se=>{N&&ye.openDropdown(),v==null||v(Se)},onBlur:Se=>{var dt;N&&ye.closeDropdown(),Pe(Ue!=null&&((dt=mt[Ue])==null?void 0:dt.label)||""),w==null||w(Se)},onClick:Se=>{N?ye.openDropdown():ye.toggleDropdown(),S==null||S(Se)},classNames:Fe,styles:wt,unstyled:a,pointer:!N,error:ce})}),C.jsx(mI,{data:Tt,hidden:g||x,filter:P,search:ke,limit:I,hiddenWhenEmpty:!O,withScrollArea:L,maxDropdownHeight:M,filterOptions:N&&(ut==null?void 0:ut.label)!==ke,value:Ue,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:O,unstyled:a,labelId:Je.label?`${Ke}-label`:void 0,"aria-label":Je.label?void 0:Je["aria-label"],renderOption:he,scrollAreaProps:yt})]}),C.jsx(Ze.HiddenInput,{value:Ue,name:V,form:F,disabled:x,...me})]})});is.classes={...gs.classes,...Ze.classes};is.displayName="@mantine/core/Select";function lM({spacing:e,verticalSpacing:t,cols:r,selector:n}){var m;const i=ar(),a=t===void 0?e:t,c=ji({"--sg-spacing-x":or(xi(e)),"--sg-spacing-y":or(xi(a)),"--sg-cols":(m=xi(r))==null?void 0:m.toString()}),l=mr(i.breakpoints).reduce((v,w)=>(v[w]||(v[w]={}),typeof e=="object"&&e[w]!==void 0&&(v[w]["--sg-spacing-x"]=or(e[w])),typeof a=="object"&&a[w]!==void 0&&(v[w]["--sg-spacing-y"]=or(a[w])),typeof r=="object"&&r[w]!==void 0&&(v[w]["--sg-cols"]=r[w]),v),{}),h=TT(mr(l),i.breakpoints).filter(v=>mr(l[v.value]).length>0).map(v=>({query:`(min-width: ${i.breakpoints[v.value]})`,styles:l[v.value]}));return C.jsx(Qu,{styles:c,media:h,selector:n})}function uh(e){return typeof e=="object"&&e!==null?mr(e):[]}function uM(e){return e.sort((t,r)=>tc(t)-tc(r))}function dM({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...uh(e),...uh(t),...uh(r)]));return uM(n)}function fM({spacing:e,verticalSpacing:t,cols:r,selector:n}){var h;const i=t===void 0?e:t,a=ji({"--sg-spacing-x":or(xi(e)),"--sg-spacing-y":or(xi(i)),"--sg-cols":(h=xi(r))==null?void 0:h.toString()}),c=dM({spacing:e,verticalSpacing:t,cols:r}),l=c.reduce((m,v)=>(m[v]||(m[v]={}),typeof e=="object"&&e[v]!==void 0&&(m[v]["--sg-spacing-x"]=or(e[v])),typeof i=="object"&&i[v]!==void 0&&(m[v]["--sg-spacing-y"]=or(i[v])),typeof r=="object"&&r[v]!==void 0&&(m[v]["--sg-cols"]=r[v]),m),{}),d=c.map(m=>({query:`simple-grid (min-width: ${m})`,styles:l[m]}));return C.jsx(Qu,{styles:a,container:d,selector:n})}var P1={container:"m_925c2d2c",root:"m_2415a157"};const pM={cols:1,spacing:"md",type:"media"},Ig=fe((e,t)=>{const r=oe("SimpleGrid",pM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,cols:h,verticalSpacing:m,spacing:v,type:w,...S}=r,b=Te({name:"SimpleGrid",classes:P1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d}),E=jm();return w==="container"?C.jsxs(C.Fragment,{children:[C.jsx(fM,{...r,selector:`.${E}`}),C.jsx("div",{...b("container"),children:C.jsx(ne,{ref:t,...b("root",{className:E}),...S})})]}):C.jsxs(C.Fragment,{children:[C.jsx(lM,{...r,selector:`.${E}`}),C.jsx(ne,{ref:t,...b("root",{className:E}),...S})]})});Ig.classes=P1;Ig.displayName="@mantine/core/SimpleGrid";var D1={root:"m_18320242","skeleton-fade":"m_299c329c"};const hM={visible:!0,animate:!0},mM=(e,{width:t,height:r,radius:n,circle:i})=>({root:{"--skeleton-height":te(r),"--skeleton-width":te(i?r:t),"--skeleton-radius":i?"1000px":n===void 0?void 0:jt(n)}}),To=fe((e,t)=>{const r=oe("Skeleton",hM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,width:h,height:m,circle:v,visible:w,radius:S,animate:b,mod:E,...R}=r,T=Te({name:"Skeleton",classes:D1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:mM});return C.jsx(ne,{ref:t,...T("root"),mod:[{visible:w,animate:b},E],...R})});To.classes=D1;To.displayName="@mantine/core/Skeleton";const[gM,Md]=Tn("SliderProvider was not found in tree"),j1=D.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:i,radius:a,...c},l)=>{const{getStyles:d}=Md();return C.jsx(ne,{tabIndex:-1,variant:r,size:e,ref:l,...d("root"),...c})});j1.displayName="@mantine/core/SliderRoot";const I1=D.forwardRef(({max:e,min:t,value:r,position:n,label:i,dragging:a,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:d,labelAlwaysOn:h,thumbLabel:m,onFocus:v,onBlur:w,showLabelOnHover:S,isHovered:b,children:E=null,disabled:R},T)=>{const{getStyles:_}=Md(),[p,f]=D.useState(!1),g=h||a||p||S&&b;return C.jsxs(ne,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:T,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:a,disabled:R},onFocus:x=>{f(!0),typeof v=="function"&&v(x)},onBlur:x=>{f(!1),typeof w=="function"&&w(x)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:x=>x.stopPropagation(),children:[E,C.jsx(hs,{mounted:i!=null&&!!g,transition:"fade",duration:0,...d,children:x=>C.jsx("div",{..._("label",{style:x}),children:i})})]})});I1.displayName="@mantine/core/SliderThumb";function M1({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function vM({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function L1({marks:e,min:t,max:r,disabled:n,value:i,offset:a,inverted:c}){const{getStyles:l}=Md();if(!e)return null;const d=e.map((h,m)=>D.createElement(ne,{...l("markWrapper"),__vars:{"--mark-offset":`${M1({value:h.value,min:t,max:r})}%`},key:m},C.jsx(ne,{...l("mark"),mod:{filled:vM({mark:h,value:i,offset:a,inverted:c}),disabled:n}}),h.label&&C.jsx("div",{...l("markLabel"),children:h.label})));return C.jsx("div",{children:d})}L1.displayName="@mantine/core/SliderMarks";function O1({filled:e,children:t,offset:r,disabled:n,marksOffset:i,inverted:a,containerProps:c,...l}){const{getStyles:d}=Md();return C.jsx(ne,{...d("trackContainer"),mod:{disabled:n},...c,children:C.jsxs(ne,{...d("track"),mod:{inverted:a,disabled:n},children:[C.jsx(ne,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...d("bar")}),t,C.jsx(L1,{...l,offset:i,disabled:n,inverted:a})]})})}O1.displayName="@mantine/core/SliderTrack";function yM({value:e,containerWidth:t,min:r,max:n,step:i,precision:a}){const l=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),d=(l!==0?Math.round(l/i)*i:0)+r,h=Math.max(d,r);return a!==void 0?Number(h.toFixed(a)):h}function Ol(e,t){return parseFloat(e.toFixed(t))}function wM(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function dh(e,t){const n=[...t].sort((i,a)=>i.value-a.value).find(i=>i.value>e);return n?n.value:e}function fh(e,t){const n=[...t].sort((i,a)=>a.value-i.value).find(i=>i.value<e);return n?n.value:e}function HS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function WS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var N1={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const SM={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},bM=(e,{size:t,color:r,thumbSize:n,radius:i})=>({root:{"--slider-size":Qe(t,"slider-size"),"--slider-color":r?yr(r,e):void 0,"--slider-radius":i===void 0?void 0:jt(i),"--slider-thumb-size":n!==void 0?te(n):"calc(var(--slider-size) * 2)"}}),Mg=fe((e,t)=>{const r=oe("Slider",SM,e),{classNames:n,styles:i,value:a,onChange:c,onChangeEnd:l,size:d,min:h,max:m,step:v,precision:w,defaultValue:S,name:b,marks:E,label:R,labelTransitionProps:T,labelAlwaysOn:_,thumbLabel:p,showLabelOnHover:f,thumbChildren:g,disabled:x,unstyled:P,scale:I,inverted:L,className:M,style:A,vars:N,hiddenInputProps:B,restrictToMarks:W,thumbProps:K,...O}=r,V=Te({name:"Slider",props:r,classes:N1,classNames:n,className:M,styles:i,style:A,vars:N,varsResolver:bM,unstyled:P}),{dir:F}=Qs(),[z,q]=D.useState(!1),[U,X]=ls({value:typeof a=="number"?Ya(a,h,m):a,defaultValue:typeof S=="number"?Ya(S,h,m):S,finalValue:Ya(0,h,m),onChange:c}),ce=D.useRef(U),de=D.useRef(null),ee=D.useRef(null),ie=M1({value:U,min:h,max:m}),ue=I(U),me=typeof R=="function"?R(ue):R,he=w??wM(v),Ce=D.useCallback(({x:Ge})=>{if(!x){const tt=yM({value:Ge,min:h,max:m,step:v,precision:he});X(W&&(E!=null&&E.length)?sS(tt,E.map(rt=>rt.value)):tt),ce.current=tt}},[x,h,m,v,he,X,E,W]),{ref:je,active:yt}=GT(Ce,{onScrubEnd:()=>!x&&(l==null?void 0:l(W&&(E!=null&&E.length)?sS(ce.current,E.map(Ge=>Ge.value)):ce.current))},F),ct=Ge=>{var tt,rt,Je,Tt,mt,Ke;if(!x)switch(Ge.key){case"ArrowUp":{if(Ge.preventDefault(),(tt=ee.current)==null||tt.focus(),W&&E){const lt=dh(U,E);X(lt),l==null||l(lt);break}const Ue=Ol(Math.min(Math.max(U+v,h),m),he);X(Ue),l==null||l(Ue);break}case"ArrowRight":{if(Ge.preventDefault(),(rt=ee.current)==null||rt.focus(),W&&E){const lt=F==="rtl"?fh(U,E):dh(U,E);X(lt),l==null||l(lt);break}const Ue=Ol(Math.min(Math.max(F==="rtl"?U-v:U+v,h),m),he);X(Ue),l==null||l(Ue);break}case"ArrowDown":{if(Ge.preventDefault(),(Je=ee.current)==null||Je.focus(),W&&E){const lt=fh(U,E);X(lt),l==null||l(lt);break}const Ue=Ol(Math.min(Math.max(U-v,h),m),he);X(Ue),l==null||l(Ue);break}case"ArrowLeft":{if(Ge.preventDefault(),(Tt=ee.current)==null||Tt.focus(),W&&E){const lt=F==="rtl"?dh(U,E):fh(U,E);X(lt),l==null||l(lt);break}const Ue=Ol(Math.min(Math.max(F==="rtl"?U+v:U-v,h),m),he);X(Ue),l==null||l(Ue);break}case"Home":{if(Ge.preventDefault(),(mt=ee.current)==null||mt.focus(),W&&E){X(HS(E)),l==null||l(HS(E));break}X(h),l==null||l(h);break}case"End":{if(Ge.preventDefault(),(Ke=ee.current)==null||Ke.focus(),W&&E){X(WS(E)),l==null||l(WS(E));break}X(m),l==null||l(m);break}}};return C.jsx(gM,{value:{getStyles:V},children:C.jsxs(j1,{...O,ref:Ht(t,de),onKeyDownCapture:ct,onMouseDownCapture:()=>{var Ge;return(Ge=de.current)==null?void 0:Ge.focus()},size:d,disabled:x,children:[C.jsx(O1,{inverted:L,offset:0,filled:ie,marks:E,min:h,max:m,value:ue,disabled:x,containerProps:{ref:je,onMouseEnter:f?()=>q(!0):void 0,onMouseLeave:f?()=>q(!1):void 0},children:C.jsx(I1,{max:m,min:h,value:ue,position:ie,dragging:yt,label:me,ref:ee,labelTransitionProps:T,labelAlwaysOn:_,thumbLabel:p,showLabelOnHover:f,isHovered:z,disabled:x,...K,children:g})}),C.jsx("input",{type:"hidden",name:b,value:ue,...B})]})})});Mg.classes=N1;Mg.displayName="@mantine/core/Slider";var A1={root:"m_6d731127"};const _M={gap:"md",align:"stretch",justify:"flex-start"},xM=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":or(t),"--stack-align":r,"--stack-justify":n}}),Me=fe((e,t)=>{const r=oe("Stack",_M,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,align:h,justify:m,gap:v,variant:w,...S}=r,b=Te({name:"Stack",props:r,classes:A1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:xM});return C.jsx(ne,{ref:t,...b("root"),variant:w,...S})});Me.classes=A1;Me.displayName="@mantine/core/Stack";const[CM,Lg]=Tn("Tabs component was not found in the tree");var gc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const RM={},Og=fe((e,t)=>{const r=oe("TabsList",RM,e),{children:n,className:i,grow:a,justify:c,classNames:l,styles:d,style:h,mod:m,...v}=r,w=Lg();return C.jsx(ne,{...v,...w.getStyles("list",{className:i,style:h,classNames:l,styles:d,props:r,variant:w.variant}),ref:t,role:"tablist",variant:w.variant,mod:[{grow:a,orientation:w.orientation,placement:w.orientation==="vertical"&&w.placement,inverted:w.inverted},m],"aria-orientation":w.orientation,__vars:{"--tabs-justify":c},children:n})});Og.classes=gc;Og.displayName="@mantine/core/TabsList";const EM={},Ng=fe((e,t)=>{const r=oe("TabsPanel",EM,e),{children:n,className:i,value:a,classNames:c,styles:l,style:d,mod:h,keepMounted:m,...v}=r,w=Lg(),S=w.value===a,b=w.keepMounted||m||S?n:null;return C.jsx(ne,{...v,...w.getStyles("panel",{className:i,classNames:c,styles:l,style:[d,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:w.orientation},h],role:"tabpanel",id:w.getPanelId(a),"aria-labelledby":w.getTabId(a),children:b})});Ng.classes=gc;Ng.displayName="@mantine/core/TabsPanel";const TM={},Ag=fe((e,t)=>{const r=oe("TabsTab",TM,e),{className:n,children:i,rightSection:a,leftSection:c,value:l,onClick:d,onKeyDown:h,disabled:m,color:v,style:w,classNames:S,styles:b,vars:E,mod:R,tabIndex:T,..._}=r,p=ar(),{dir:f}=Qs(),g=Lg(),x=l===g.value,P=L=>{g.onChange(g.allowTabDeactivation&&l===g.value?null:l),d==null||d(L)},I={classNames:S,styles:b,props:r};return C.jsxs(Js,{..._,...g.getStyles("tab",{className:n,style:w,variant:g.variant,...I}),disabled:m,unstyled:g.unstyled,variant:g.variant,mod:[{active:x,disabled:m,orientation:g.orientation,inverted:g.inverted,placement:g.orientation==="vertical"&&g.placement},R],ref:t,role:"tab",id:g.getTabId(l),"aria-selected":x,tabIndex:T!==void 0?T:x||g.value===null?0:-1,"aria-controls":g.getPanelId(l),onClick:P,__vars:{"--tabs-color":v?yr(v,p):void 0},onKeyDown:U_({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:g.activateTabWithKeyboard,loop:g.loop,orientation:g.orientation||"horizontal",dir:f,onKeyDown:h}),children:[c&&C.jsx("span",{...g.getStyles("tabSection",I),"data-position":"left",children:c}),i&&C.jsx("span",{...g.getStyles("tabLabel",I),children:i}),a&&C.jsx("span",{...g.getStyles("tabSection",I),"data-position":"right",children:a})]})});Ag.classes=gc;Ag.displayName="@mantine/core/TabsTab";const qS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",kM={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},PM=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":jt(t),"--tabs-color":yr(r,e),"--tabs-text-color":r0(n,e)?Pm({color:r,theme:e,autoContrast:n}):void 0}}),Dt=fe((e,t)=>{const r=oe("Tabs",kM,e),{defaultValue:n,value:i,onChange:a,orientation:c,children:l,loop:d,id:h,activateTabWithKeyboard:m,allowTabDeactivation:v,variant:w,color:S,radius:b,inverted:E,placement:R,keepMounted:T,classNames:_,styles:p,unstyled:f,className:g,style:x,vars:P,autoContrast:I,mod:L,...M}=r,A=Ys(h),[N,B]=ls({value:i,defaultValue:n,finalValue:null,onChange:a}),W=Te({name:"Tabs",props:r,classes:gc,className:g,style:x,classNames:_,styles:p,unstyled:f,vars:P,varsResolver:PM});return C.jsx(CM,{value:{placement:R,value:N,orientation:c,id:A,loop:d,activateTabWithKeyboard:m,getTabId:rS(`${A}-tab`,qS),getPanelId:rS(`${A}-panel`,qS),onChange:B,allowTabDeactivation:v,variant:w,color:S,radius:b,inverted:E,keepMounted:T,unstyled:f,getStyles:W},children:C.jsx(ne,{ref:t,id:A,variant:w,mod:[{orientation:c,inverted:c==="horizontal"&&E,placement:c==="vertical"&&R},L],...W("root"),...M,children:l})})});Dt.classes=gc;Dt.displayName="@mantine/core/Tabs";Dt.Tab=Ag;Dt.Panel=Ng;Dt.List=Og;const DM={},Hr=fe((e,t)=>{const r=oe("TextInput",DM,e);return C.jsx(gs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Hr.classes=gs.classes;Hr.displayName="@mantine/core/TextInput";const jM=["h1","h2","h3","h4","h5","h6"],IM=["xs","sm","md","lg","xl"];function MM(e,t){const r=t!==void 0?t:`h${e}`;return jM.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:IM.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var $1={root:"m_8a5d1357"};const LM={order:1},OM=(e,{order:t,size:r,lineClamp:n,textWrap:i})=>{const a=MM(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":i}}},Ld=fe((e,t)=>{const r=oe("Title",LM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,order:d,vars:h,size:m,variant:v,lineClamp:w,textWrap:S,mod:b,...E}=r,R=Te({name:"Title",props:r,classes:$1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:h,varsResolver:OM});return[1,2,3,4,5,6].includes(d)?C.jsx(ne,{...R("root"),component:`h${d}`,variant:v,ref:t,mod:[{order:d,"data-line-clamp":typeof w=="number"},b],size:m,...E}):null});Ld.classes=$1;Ld.displayName="@mantine/core/Title";function NM(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),n.forEach(a=>a(t))},initialize(i){r||(t=i,r=!0)},subscribe(i){return n.add(i),()=>n.delete(i)}}}function AM(e){return D.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function $M(e,t,r){const n=[],i=[],a={};for(const c of e){const l=c.position||t;a[l]=a[l]||0,a[l]+=1,a[l]<=r?i.push(c):n.push(c)}return{notifications:i,queue:n}}const FM=()=>NM({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Mo=FM(),zM=(e=Mo)=>AM(e);function Ui(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),i=$M(n,r.defaultPosition,r.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function BM(e,t=Mo){const r=e.id||V_();return Ui(t,n=>e.id&&n.some(i=>i.id===e.id)?n:[...n,{...e,id:r}]),r}function F1(e,t=Mo){return Ui(t,r=>r.filter(n=>{var i;return n.id===e?((i=n.onClose)==null||i.call(n,n),!1):!0})),e}function UM(e,t=Mo){return Ui(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function VM(e=Mo){Ui(e,()=>[])}function HM(e=Mo){Ui(e,t=>t.slice(0,e.getState().limit))}const Gs={show:BM,hide:F1,update:UM,clean:VM,cleanQueue:HM,updateState:Ui};function Jh(e,t){return Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Jh(e,t)}function z1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jh(e,t)}const GS={disabled:!1},Nu=Ut.createContext(null);var WM=function(t){return t.scrollTop},Ha="unmounted",wo="exited",So="entering",Si="entered",Zh="exiting",ws=function(e){z1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=i,l=c&&!c.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?l?(d=wo,a.appearStatus=So):d=Si:n.unmountOnExit||n.mountOnEnter?d=Ha:d=wo,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var c=i.in;return c&&a.status===Ha?{status:wo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==So&&c!==Si&&(a=So):(c===So||c===Si)&&(a=Zh)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,c,l;return a=c=l=i,i!=null&&typeof i!="number"&&(a=i.exit,c=i.enter,l=i.appear!==void 0?i.appear:c),{exit:a,enter:c,appear:l}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===So){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Va.findDOMNode(this);c&&WM(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wo&&this.setState({status:Ha})},r.performEnter=function(i){var a=this,c=this.props.enter,l=this.context?this.context.isMounting:i,d=this.props.nodeRef?[l]:[Va.findDOMNode(this),l],h=d[0],m=d[1],v=this.getTimeouts(),w=l?v.appear:v.enter;if(!i&&!c||GS.disabled){this.safeSetState({status:Si},function(){a.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:So},function(){a.props.onEntering(h,m),a.onTransitionEnd(w,function(){a.safeSetState({status:Si},function(){a.props.onEntered(h,m)})})})},r.performExit=function(){var i=this,a=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:Va.findDOMNode(this);if(!a||GS.disabled){this.safeSetState({status:wo},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Zh},function(){i.props.onExiting(l),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:wo},function(){i.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,a.nextCallback=null,i(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Va.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=d[0],m=d[1];this.props.addEndListener(h,m)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Ha)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Cg(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ut.createElement(Nu.Provider,{value:null},typeof c=="function"?c(i,l):Ut.cloneElement(Ut.Children.only(c),l))},t}(Ut.Component);ws.contextType=Nu;ws.propTypes={};function vi(){}ws.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vi,onEntering:vi,onEntered:vi,onExit:vi,onExiting:vi,onExited:vi};ws.UNMOUNTED=Ha;ws.EXITED=wo;ws.ENTERING=So;ws.ENTERED=Si;ws.EXITING=Zh;function qM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $g(e,t){var r=function(a){return t&&D.isValidElement(a)?t(a):a},n=Object.create(null);return e&&D.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function GM(e,t){e=e||{},t=t||{};function r(m){return m in t?t[m]:e[m]}var n=Object.create(null),i=[];for(var a in e)a in t?i.length&&(n[a]=i,i=[]):i.push(a);var c,l={};for(var d in t){if(n[d])for(c=0;c<n[d].length;c++){var h=n[d][c];l[n[d][c]]=r(h)}l[d]=r(d)}for(c=0;c<i.length;c++)l[i[c]]=r(i[c]);return l}function Co(e,t,r){return r[t]!=null?r[t]:e.props[t]}function KM(e,t){return $g(e.children,function(r){return D.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Co(r,"appear",e),enter:Co(r,"enter",e),exit:Co(r,"exit",e)})})}function YM(e,t,r){var n=$g(e.children),i=GM(t,n);return Object.keys(i).forEach(function(a){var c=i[a];if(D.isValidElement(c)){var l=a in t,d=a in n,h=t[a],m=D.isValidElement(h)&&!h.props.in;d&&(!l||m)?i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:Co(c,"exit",e),enter:Co(c,"enter",e)}):!d&&l&&!m?i[a]=D.cloneElement(c,{in:!1}):d&&l&&D.isValidElement(h)&&(i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:h.props.in,exit:Co(c,"exit",e),enter:Co(c,"enter",e)}))}}),i}var XM=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},QM={component:"div",childFactory:function(t){return t}},zs=function(e){z1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=a.handleExited.bind(qM(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,l=a.handleExited,d=a.firstRender;return{children:d?KM(i,l):YM(i,c,l),firstRender:!1}},r.handleExited=function(i,a){var c=$g(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(l){var d=Ou({},l.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,a=i.component,c=i.childFactory,l=Cg(i,["component","childFactory"]),d=this.state.contextValue,h=XM(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,a===null?Ut.createElement(Nu.Provider,{value:d},h):Ut.createElement(Nu.Provider,{value:d},Ut.createElement(a,l,h))},t}(Ut.Component);zs.propTypes={};zs.defaultProps=QM;const B1=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function JM(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),B1.reduce((r,n)=>(r[n]=[],r),{}))}const KS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},ZM={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function eL({state:e,maxHeight:t,position:r,transitionDuration:n}){const[i,a]=r.split("-"),c=a==="center"?`${i}-center`:a,l={opacity:0,maxHeight:t,transform:KS[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:ZM[c]},h={opacity:0,maxHeight:0,transform:KS[c]};return{...l,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function tL(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const U1=D.forwardRef(({data:e,onHide:t,autoClose:r,...n},i)=>{const{autoClose:a,message:c,...l}=e,d=tL(r,e.autoClose),h=D.useRef(-1),m=()=>window.clearTimeout(h.current),v=()=>{t(e.id),m()},w=()=>{typeof d=="number"&&(h.current=window.setTimeout(v,d))};return D.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),D.useEffect(()=>(w(),m),[d]),C.jsx(Pg,{...n,...l,onClose:v,ref:i,onMouseEnter:m,onMouseLeave:w,children:c})});U1.displayName="@mantine/notifications/NotificationContainer";var V1={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const rL=ws,nL={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Sr("overlay"),store:Mo,withinPortal:!0},sL=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":te(r)}}),Ss=fe((e,t)=>{const r=oe("Notifications",nL,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,position:h,autoClose:m,transitionDuration:v,containerWidth:w,notificationMaxHeight:S,limit:b,zIndex:E,store:R,portalProps:T,withinPortal:_,...p}=r,f=ar(),g=zM(R),x=VT(),P=Ku(),I=D.useRef({}),L=D.useRef(0),A=(f.respectReducedMotion?P:!1)?1:v,N=Te({name:"Notifications",classes:V1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:sL});D.useEffect(()=>{R==null||R.updateState(K=>({...K,limit:b||5,defaultPosition:h}))},[b,h]),Hn(()=>{g.notifications.length>L.current&&setTimeout(()=>x(),0),L.current=g.notifications.length},[g.notifications]);const B=JM(g.notifications,h),W=B1.reduce((K,O)=>(K[O]=B[O].map(({style:V,...F})=>C.jsx(rL,{timeout:A,onEnter:()=>I.current[F.id].offsetHeight,nodeRef:{current:I.current[F.id]},children:z=>C.jsx(U1,{ref:q=>{I.current[F.id]=q},data:F,onHide:q=>F1(q,R),autoClose:m,...N("notification",{style:{...eL({state:z,position:O,transitionDuration:A,maxHeight:S}),...V}})})},F.id)),K),{});return C.jsxs(Io,{withinPortal:_,...T,children:[C.jsx(ne,{...N("root"),"data-position":"top-center",ref:t,...p,children:C.jsx(zs,{children:W["top-center"]})}),C.jsx(ne,{...N("root"),"data-position":"top-left",...p,children:C.jsx(zs,{children:W["top-left"]})}),C.jsx(ne,{...N("root",{className:Tu.classNames.fullWidth}),"data-position":"top-right",...p,children:C.jsx(zs,{children:W["top-right"]})}),C.jsx(ne,{...N("root",{className:Tu.classNames.fullWidth}),"data-position":"bottom-right",...p,children:C.jsx(zs,{children:W["bottom-right"]})}),C.jsx(ne,{...N("root"),"data-position":"bottom-left",...p,children:C.jsx(zs,{children:W["bottom-left"]})}),C.jsx(ne,{...N("root"),"data-position":"bottom-center",...p,children:C.jsx(zs,{children:W["bottom-center"]})})]})});Ss.classes=V1;Ss.displayName="@mantine/notifications/Notifications";Ss.show=Gs.show;Ss.hide=Gs.hide;Ss.update=Gs.update;Ss.clean=Gs.clean;Ss.cleanQueue=Gs.cleanQueue;Ss.updateState=Gs.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const YS="popstate";function oL(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:l="",hash:d=""}=Lo(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),em("",{pathname:c,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),l="";if(c&&c.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");l=h===-1?d:d.slice(0,h)}return l+"#"+(typeof a=="string"?a:Au(a))}function n(i,a){Fg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return aL(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iL(){return Math.random().toString(36).substr(2,8)}function XS(e,t){return{usr:e.state,key:e.key,idx:t}}function em(e,t,r,n){return r===void 0&&(r=null),oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lo(t):t,{state:r,key:t&&t.key||n||iL()})}function Au(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aL(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,l=Bs.Pop,d=null,h=m();h==null&&(h=0,c.replaceState(oc({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function v(){l=Bs.Pop;let R=m(),T=R==null?null:R-h;h=R,d&&d({action:l,location:E.location,delta:T})}function w(R,T){l=Bs.Push;let _=em(E.location,R,T);r&&r(_,R),h=m()+1;let p=XS(_,h),f=E.createHref(_);try{c.pushState(p,"",f)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;i.location.assign(f)}a&&d&&d({action:l,location:E.location,delta:1})}function S(R,T){l=Bs.Replace;let _=em(E.location,R,T);r&&r(_,R),h=m();let p=XS(_,h),f=E.createHref(_);c.replaceState(p,"",f),a&&d&&d({action:l,location:E.location,delta:0})}function b(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof R=="string"?R:Au(R);return _=_.replace(/ $/,"%20"),Rt(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let E={get action(){return l},get location(){return e(i,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(YS,v),d=R,()=>{i.removeEventListener(YS,v),d=null}},createHref(R){return t(i,R)},createURL:b,encodeLocation(R){let T=b(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:S,go(R){return c.go(R)}};return E}var QS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(QS||(QS={}));function cL(e,t,r){return r===void 0&&(r="/"),lL(e,t,r)}function lL(e,t,r,n){let i=typeof t=="string"?Lo(t):t,a=zg(i.pathname||"/",r);if(a==null)return null;let c=H1(e);uL(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let h=_L(a);l=wL(c[d],h)}return l}function H1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(Rt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Us([n,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(Rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),H1(a.children,t,m,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:vL(h,a.index),routesMeta:m})};return e.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,c);else for(let d of W1(a.path))i(a,c,d)}),t}function W1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=W1(n.join("/")),l=[];return l.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...c),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function uL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dL=/^:[\w-]+$/,fL=3,pL=2,hL=1,mL=10,gL=-2,JS=e=>e==="*";function vL(e,t){let r=e.split("/"),n=r.length;return r.some(JS)&&(n+=gL),t&&(n+=pL),r.filter(i=>!JS(i)).reduce((i,a)=>i+(dL.test(a)?fL:a===""?hL:mL),n)}function yL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function wL(e,t,r){let{routesMeta:n}=e,i={},a="/",c=[];for(let l=0;l<n.length;++l){let d=n[l],h=l===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=SL({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),w=d.route;if(!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Us([a,v.pathname]),pathnameBase:EL(Us([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Us([a,v.pathnameBase]))}return c}function SL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,m,v)=>{let{paramName:w,isOptional:S}=m;if(w==="*"){let E=l[v]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[v];return S&&!b?h[w]=void 0:h[w]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function bL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Fg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function _L(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Lo(e):e;return{pathname:r?r.startsWith("/")?r:CL(r,t):t,search:TL(n),hash:kL(i)}}function CL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ph(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function q1(e,t){let r=RL(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function G1(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Lo(e):(i=oc({},e),Rt(!i.pathname||!i.pathname.includes("?"),ph("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),ph("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),ph("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,l;if(c==null)l=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}l=v>=0?t[v]:"/"}let d=xL(i,l),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Us=e=>e.join("/").replace(/\/\/+/g,"/"),EL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K1=["post","put","patch","delete"];new Set(K1);const DL=["get",...K1];new Set(DL);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}const Bg=D.createContext(null),jL=D.createContext(null),Oo=D.createContext(null),Od=D.createContext(null),No=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Y1=D.createContext(null);function IL(e,t){let{relative:r}=t===void 0?{}:t;vc()||Rt(!1);let{basename:n,navigator:i}=D.useContext(Oo),{hash:a,pathname:c,search:l}=Q1(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:Us([n,c])),i.createHref({pathname:d,search:l,hash:a})}function vc(){return D.useContext(Od)!=null}function Nd(){return vc()||Rt(!1),D.useContext(Od).location}function X1(e){D.useContext(Oo).static||D.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=D.useContext(No);return e?WL():ML()}function ML(){vc()||Rt(!1);let e=D.useContext(Bg),{basename:t,future:r,navigator:n}=D.useContext(Oo),{matches:i}=D.useContext(No),{pathname:a}=Nd(),c=JSON.stringify(q1(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return X1(()=>{l.current=!0}),D.useCallback(function(h,m){if(m===void 0&&(m={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let v=G1(h,JSON.parse(c),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Us([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,c,a,e])}function Q1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=D.useContext(Oo),{matches:i}=D.useContext(No),{pathname:a}=Nd(),c=JSON.stringify(q1(i,n.v7_relativeSplatPath));return D.useMemo(()=>G1(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function LL(e,t){return OL(e,t)}function OL(e,t,r,n){vc()||Rt(!1);let{navigator:i}=D.useContext(Oo),{matches:a}=D.useContext(No),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=Nd(),m;if(t){var v;let R=typeof t=="string"?Lo(t):t;d==="/"||(v=R.pathname)!=null&&v.startsWith(d)||Rt(!1),m=R}else m=h;let w=m.pathname||"/",S=w;if(d!=="/"){let R=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=cL(e,{pathname:S}),E=zL(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:Us([d,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:Us([d,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&E?D.createElement(Od.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Bs.Pop}},E):E}function NL(){let e=HL(),t=PL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,null)}const AL=D.createElement(NL,null);class $L extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?D.createElement(No.Provider,{value:this.props.routeContext},D.createElement(Y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FL(e){let{routeContext:t,match:r,children:n}=e,i=D.useContext(Bg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(No.Provider,{value:t},n)}function zL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let m=c.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);m>=0||Rt(!1),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=m),v.route.id){let{loaderData:w,errors:S}=r,b=v.route.loader&&w[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||b){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,v,w)=>{let S,b=!1,E=null,R=null;r&&(S=l&&v.route.id?l[v.route.id]:void 0,E=v.route.errorElement||AL,d&&(h<0&&w===0?(qL("route-fallback"),b=!0,R=null):h===w&&(b=!0,R=v.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,w+1)),_=()=>{let p;return S?p=E:b?p=R:v.route.Component?p=D.createElement(v.route.Component,null):v.route.element?p=v.route.element:p=m,D.createElement(FL,{match:v,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:p})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?D.createElement($L,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var J1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J1||{}),Z1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z1||{});function BL(e){let t=D.useContext(Bg);return t||Rt(!1),t}function UL(e){let t=D.useContext(jL);return t||Rt(!1),t}function VL(e){let t=D.useContext(No);return t||Rt(!1),t}function ex(e){let t=VL(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function HL(){var e;let t=D.useContext(Y1),r=UL(),n=ex();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function WL(){let{router:e}=BL(J1.UseNavigateStable),t=ex(Z1.UseNavigateStable),r=D.useRef(!1);return X1(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ic({fromRouteId:t},a)))},[e,t])}const ZS={};function qL(e,t,r){ZS[e]||(ZS[e]=!0)}const eb={};function GL(e,t){eb[t]||(eb[t]=!0,console.warn(t))}const tb=(e,t,r)=>GL(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function KL(e,t){e!=null&&e.v7_startTransition||tb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||tb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Wa(e){Rt(!1)}function YL(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Bs.Pop,navigator:a,static:c=!1,future:l}=e;vc()&&Rt(!1);let d=t.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:d,navigator:a,static:c,future:ic({v7_relativeSplatPath:!1},l)}),[d,l,a,c]);typeof n=="string"&&(n=Lo(n));let{pathname:m="/",search:v="",hash:w="",state:S=null,key:b="default"}=n,E=D.useMemo(()=>{let R=zg(m,d);return R==null?null:{location:{pathname:R,search:v,hash:w,state:S,key:b},navigationType:i}},[d,m,v,w,S,b,i]);return E==null?null:D.createElement(Oo.Provider,{value:h},D.createElement(Od.Provider,{children:r,value:E}))}function XL(e){let{children:t,location:r}=e;return LL(tm(t),r)}new Promise(()=>{});function tm(e,t){t===void 0&&(t=[]);let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let a=[...t,i];if(n.type===D.Fragment){r.push.apply(r,tm(n.props.children,a));return}n.type!==Wa&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=tm(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(this,arguments)}function QL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function JL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZL(e,t){return e.button===0&&(!t||t==="_self")&&!JL(e)}const eO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tO="6";try{window.__reactRouterVersion=tO}catch{}const rO="startTransition",rb=D_[rO];function nO(e){let{basename:t,children:r,future:n,window:i}=e,a=D.useRef();a.current==null&&(a.current=oL({window:i,v5Compat:!0}));let c=a.current,[l,d]=D.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=D.useCallback(v=>{h&&rb?rb(()=>d(v)):d(v)},[d,h]);return D.useLayoutEffect(()=>c.listen(m),[c,m]),D.useEffect(()=>KL(n),[n]),D.createElement(YL,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const sO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=D.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:l,target:d,to:h,preventScrollReset:m,viewTransition:v}=t,w=QL(t,eO),{basename:S}=D.useContext(Oo),b,E=!1;if(typeof h=="string"&&oO.test(h)&&(b=h,sO))try{let p=new URL(window.location.href),f=h.startsWith("//")?new URL(p.protocol+h):new URL(h),g=zg(f.pathname,S);f.origin===p.origin&&g!=null?h=g+f.search+f.hash:E=!0}catch{}let R=IL(h,{relative:i}),T=iO(h,{replace:c,state:l,target:d,preventScrollReset:m,relative:i,viewTransition:v});function _(p){n&&n(p),p.defaultPrevented||T(p)}return D.createElement("a",rm({},w,{href:b||R,onClick:E||a?n:_,ref:r,target:d}))});var sb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sb||(sb={}));var ob;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ob||(ob={}));function iO(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:l}=t===void 0?{}:t,d=Zs(),h=Nd(),m=Q1(e,{relative:c});return D.useCallback(v=>{if(ZL(v,r)){v.preventDefault();let w=n!==void 0?n:Au(h)===Au(m);d(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:l})}},[h,d,m,n,i,r,e,a,c,l])}const tx=D.createContext(void 0),rx=D.createContext(null),Ao=()=>{const e=D.useContext(rx);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},qn=Object.create(null);qn.open="0";qn.close="1";qn.ping="2";qn.pong="3";qn.message="4";qn.upgrade="5";qn.noop="6";const Xl=Object.create(null);Object.keys(qn).forEach(e=>{Xl[qn[e]]=e});const nm={type:"error",data:"parser error"},nx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sx=typeof ArrayBuffer=="function",ox=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ug=({type:e,data:t},r,n)=>nx&&t instanceof Blob?r?n(t):ib(t,n):sx&&(t instanceof ArrayBuffer||ox(t))?r?n(t):ib(new Blob([t]),n):n(qn[e]+(t||"")),ib=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function ab(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let hh;function aO(e,t){if(nx&&e.data instanceof Blob)return e.data.arrayBuffer().then(ab).then(t);if(sx&&(e.data instanceof ArrayBuffer||ox(e.data)))return t(ab(e.data));Ug(e,!1,r=>{hh||(hh=new TextEncoder),t(hh.encode(r))})}const cb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<cb.length;e++)qa[cb.charCodeAt(e)]=e;const cO=e=>{let t=e.length*.75,r=e.length,n,i=0,a,c,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),m=new Uint8Array(h);for(n=0;n<r;n+=4)a=qa[e.charCodeAt(n)],c=qa[e.charCodeAt(n+1)],l=qa[e.charCodeAt(n+2)],d=qa[e.charCodeAt(n+3)],m[i++]=a<<2|c>>4,m[i++]=(c&15)<<4|l>>2,m[i++]=(l&3)<<6|d&63;return h},lO=typeof ArrayBuffer=="function",Vg=(e,t)=>{if(typeof e!="string")return{type:"message",data:ix(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:uO(e.substring(1),t)}:Xl[r]?e.length>1?{type:Xl[r],data:e.substring(1)}:{type:Xl[r]}:nm},uO=(e,t)=>{if(lO){const r=cO(e);return ix(r,t)}else return{base64:!0,data:e}},ix=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ax="",dO=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,c)=>{Ug(a,!1,l=>{n[c]=l,++i===r&&t(n.join(ax))})})},fO=(e,t)=>{const r=e.split(ax),n=[];for(let i=0;i<r.length;i++){const a=Vg(r[i],t);if(n.push(a),a.type==="error")break}return n};function pO(){return new TransformStream({transform(e,t){aO(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let mh;function Nl(e){return e.reduce((t,r)=>t+r.length,0)}function Al(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function hO(e,t){mh||(mh=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(c,l){for(r.push(c);;){if(n===0){if(Nl(r)<1)break;const d=Al(r,1);a=(d[0]&128)===128,i=d[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Nl(r)<2)break;const d=Al(r,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Nl(r)<8)break;const d=Al(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(nm);break}i=m*Math.pow(2,32)+h.getUint32(4),n=3}else{if(Nl(r)<i)break;const d=Al(r,i);l.enqueue(Vg(a?d:mh.decode(d),t)),n=0}if(i===0||i>e){l.enqueue(nm);break}}}})}const cx=4;function Ct(e){if(e)return mO(e)}function mO(e){for(var t in Ct.prototype)e[t]=Ct.prototype[t];return e}Ct.prototype.on=Ct.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ct.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ct.prototype.off=Ct.prototype.removeListener=Ct.prototype.removeAllListeners=Ct.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ct.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Ct.prototype.emitReserved=Ct.prototype.emit;Ct.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ct.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ad=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Ur=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gO="arraybuffer";function lx(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const vO=Ur.setTimeout,yO=Ur.clearTimeout;function $d(e,t){t.useNativeTimers?(e.setTimeoutFn=vO.bind(Ur),e.clearTimeoutFn=yO.bind(Ur)):(e.setTimeoutFn=Ur.setTimeout.bind(Ur),e.clearTimeoutFn=Ur.clearTimeout.bind(Ur))}const wO=1.33;function SO(e){return typeof e=="string"?bO(e):Math.ceil((e.byteLength||e.size)*wO)}function bO(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function ux(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _O(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function xO(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class CO extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Hg=class extends Ct{constructor(t){super(),this.writable=!1,$d(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new CO(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Vg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=_O(t);return r.length?"?"+r:""}};class RO extends Hg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};fO(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dO(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=ux()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let dx=!1;try{dx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const EO=dx;function TO(){}class kO extends RO{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Vn extends Ct{constructor(t,r,n){super(),this.createRequest=t,$d(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=lx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Vn.requestsCount++,Vn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=TO,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vn.requestsCount=0;Vn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lb);else if(typeof addEventListener=="function"){const e="onpagehide"in Ur?"pagehide":"unload";addEventListener(e,lb,!1)}}function lb(){for(let e in Vn.requests)Vn.requests.hasOwnProperty(e)&&Vn.requests[e].abort()}const PO=function(){const e=fx({xdomain:!1});return e&&e.responseType!==null}();class DO extends kO{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=PO&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vn(fx,this.uri(),t)}}function fx(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||EO))return new XMLHttpRequest}catch{}if(!t)try{return new Ur[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const px=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jO extends Hg{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=px?{}:lx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Ug(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=ux()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const gh=Ur.WebSocket||Ur.MozWebSocket;class IO extends jO{createSocket(t,r,n){return px?new gh(t,r,n):r?new gh(t,r):new gh(t)}doWrite(t,r){this.ws.send(r)}}class MO extends Hg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=hO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=pO();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:d})=>{l||(this.onPacket(d),a())}).catch(l=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&Ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const LO={websocket:IO,webtransport:MO,polling:DO},OO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sm(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=OO.exec(e||""),a={},c=14;for(;c--;)a[NO[c]]=i[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=AO(a,a.path),a.queryKey=$O(a,a.query),a}function AO(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $O(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const om=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ql=[];om&&addEventListener("offline",()=>{Ql.forEach(e=>e())},!1);class Vs extends Ct{constructor(t,r){if(super(),this.binaryType=gO,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=sm(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=sm(r.host).host);$d(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xO(this.opts.query)),om&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ql.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=cx,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Vs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Vs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=SO(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ad(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Vs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),om&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ql.indexOf(this._offlineEventListener);n!==-1&&Ql.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Vs.protocol=cx;class FO extends Vs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Vs.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Vs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function a(){n||(n=!0,m(),r.close(),r=null)}const c=v=>{const w=new Error("probe error: "+v);w.transport=r.name,a(),this.emitReserved("upgradeError",w)};function l(){c("transport closed")}function d(){c("socket closed")}function h(v){r&&v.name!==r.name&&a()}const m=()=>{r.removeListener("open",i),r.removeListener("error",c),r.removeListener("close",l),this.off("close",d),this.off("upgrading",h)};r.once("open",i),r.once("error",c),r.once("close",l),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let zO=class extends FO{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>LO[i]).filter(i=>!!i)),super(t,n)}};function BO(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=sm(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const UO=typeof ArrayBuffer=="function",VO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,hx=Object.prototype.toString,HO=typeof Blob=="function"||typeof Blob<"u"&&hx.call(Blob)==="[object BlobConstructor]",WO=typeof File=="function"||typeof File<"u"&&hx.call(File)==="[object FileConstructor]";function Wg(e){return UO&&(e instanceof ArrayBuffer||VO(e))||HO&&e instanceof Blob||WO&&e instanceof File}function Jl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Jl(e[r]))return!0;return!1}if(Wg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Jl(e[r]))return!0;return!1}function qO(e){const t=[],r=e.data,n=e;return n.data=im(r,t),n.attachments=t.length,{packet:n,buffers:t}}function im(e,t){if(!e)return e;if(Wg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=im(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=im(e[n],t));return r}return e}function GO(e,t){return e.data=am(e.data,t),delete e.attachments,e}function am(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=am(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=am(e[r],t));return e}const KO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],YO=5;var Be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Be||(Be={}));class XO{constructor(t){this.replacer=t}encode(t){return(t.type===Be.EVENT||t.type===Be.ACK)&&Jl(t)?this.encodeAsBinary({type:t.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Be.BINARY_EVENT||t.type===Be.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=qO(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function ub(e){return Object.prototype.toString.call(e)==="[object Object]"}class qg extends Ct{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Be.BINARY_EVENT;n||r.type===Be.BINARY_ACK?(r.type=n?Be.EVENT:Be.ACK,this.reconstructor=new QO(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Wg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Be.BINARY_EVENT||n.type===Be.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(qg.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Be.CONNECT:return ub(r);case Be.DISCONNECT:return r===void 0;case Be.CONNECT_ERROR:return typeof r=="string"||ub(r);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&KO.indexOf(r[0])===-1);case Be.ACK:case Be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class QO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=GO(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const JO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qg,Encoder:XO,get PacketType(){return Be},protocol:YO},Symbol.toStringTag,{value:"Module"}));function wn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const ZO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mx extends Ct{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[wn(t,"open",this.onopen.bind(this)),wn(t,"packet",this.onpacket.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(ZO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Be.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,v=r.pop();this._registerAckCallback(m,v),c.id=m}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),c=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(c,l)=>c?i(c):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(t);break;case Be.ACK:case Be.BINARY_ACK:this.onack(t);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Be.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Vi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Vi.prototype.reset=function(){this.attempts=0};Vi.prototype.setMin=function(e){this.ms=e};Vi.prototype.setMax=function(e){this.max=e};Vi.prototype.setJitter=function(e){this.jitter=e};class cm extends Ct{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,$d(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Vi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||JO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new zO(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=wn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},c=wn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(wn(t,"ping",this.onping.bind(this)),wn(t,"data",this.ondata.bind(this)),wn(t,"error",this.onerror.bind(this)),wn(t,"close",this.onclose.bind(this)),wn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ad(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new mx(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ia={};function Zl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=BO(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,c=Ia[i]&&a in Ia[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return l?d=new cm(n,t):(Ia[i]||(Ia[i]=new cm(n,t)),d=Ia[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Zl,{Manager:cm,Socket:mx,io:Zl,connect:Zl});const $e="https://hitscord-backend.online",eN="https://hitscord-backend.ru/mediasoup",Ie=Zl(eN);Ie.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var nn={},$l={exports:{}},vh,db;function tN(){if(db)return vh;db=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;vh=function(m,v){v=v||{};var w=typeof m;if(w==="string"&&m.length>0)return c(m);if(w==="number"&&isFinite(m))return v.long?d(m):l(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(v){var w=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function l(m){var v=Math.abs(m);return v>=n?Math.round(m/n)+"d":v>=r?Math.round(m/r)+"h":v>=t?Math.round(m/t)+"m":v>=e?Math.round(m/e)+"s":m+"ms"}function d(m){var v=Math.abs(m);return v>=n?h(m,v,n,"day"):v>=r?h(m,v,r,"hour"):v>=t?h(m,v,t,"minute"):v>=e?h(m,v,e,"second"):m+" ms"}function h(m,v,w,S){var b=v>=w*1.5;return Math.round(m/w)+" "+S+(b?"s":"")}return vh}var yh,fb;function rN(){if(fb)return yh;fb=1;function e(t){n.debug=n,n.default=n,n.coerce=h,n.disable=c,n.enable=a,n.enabled=l,n.humanize=tN(),n.destroy=m,Object.keys(t).forEach(v=>{n[v]=t[v]}),n.names=[],n.skips=[],n.formatters={};function r(v){let w=0;for(let S=0;S<v.length;S++)w=(w<<5)-w+v.charCodeAt(S),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=r;function n(v){let w,S=null,b,E;function R(...T){if(!R.enabled)return;const _=R,p=Number(new Date),f=p-(w||p);_.diff=f,_.prev=w,_.curr=p,w=p,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let g=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(P,I)=>{if(P==="%%")return"%";g++;const L=n.formatters[I];if(typeof L=="function"){const M=T[g];P=L.call(_,M),T.splice(g,1),g--}return P}),n.formatArgs.call(_,T),(_.log||n.log).apply(_,T)}return R.namespace=v,R.useColors=n.useColors(),R.color=n.selectColor(v),R.extend=i,R.destroy=n.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(b!==n.namespaces&&(b=n.namespaces,E=n.enabled(v)),E),set:T=>{S=T}}),typeof n.init=="function"&&n.init(R),R}function i(v,w){const S=n(this.namespace+(typeof w>"u"?":":w)+v);return S.log=this.log,S}function a(v){n.save(v),n.namespaces=v,n.names=[],n.skips=[];let w;const S=(typeof v=="string"?v:"").split(/[\s,]+/),b=S.length;for(w=0;w<b;w++)S[w]&&(v=S[w].replace(/\*/g,".*?"),v[0]==="-"?n.skips.push(new RegExp("^"+v.slice(1)+"$")):n.names.push(new RegExp("^"+v+"$")))}function c(){const v=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),v}function l(v){if(v[v.length-1]==="*")return!0;let w,S;for(w=0,S=n.skips.length;w<S;w++)if(n.skips[w].test(v))return!1;for(w=0,S=n.names.length;w<S;w++)if(n.names[w].test(v))return!0;return!1}function d(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function h(v){return v instanceof Error?v.stack||v.message:v}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return yh=e,yh}var pb;function Fd(){return pb||(pb=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=c,t.useColors=n,t.storage=l(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;h.splice(1,0,m,"color: inherit");let v=0,w=0;h[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(v++,S==="%c"&&(w=v))}),h.splice(w,0,m)}t.log=console.debug||console.log||(()=>{});function a(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function c(){let h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function l(){try{return localStorage}catch{}}e.exports=rN()(t);const{formatters:d}=e.exports;d.j=function(h){try{return JSON.stringify(h)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}($l,$l.exports)),$l.exports}var Br={},Ga={exports:{}},nN=Ga.exports,hb;function sN(){return hb||(hb=1,function(e,t){(function(r,n){var i="1.0.39",a="",c="?",l="function",d="undefined",h="object",m="string",v="major",w="model",S="name",b="type",E="vendor",R="version",T="architecture",_="console",p="mobile",f="tablet",g="smarttv",x="wearable",P="embedded",I=500,L="Amazon",M="Apple",A="ASUS",N="BlackBerry",B="Browser",W="Chrome",K="Edge",O="Firefox",V="Google",F="Huawei",z="LG",q="Microsoft",U="Motorola",X="Opera",ce="Samsung",de="Sharp",ee="Sony",ie="Xiaomi",ue="Zebra",me="Facebook",he="Chromium OS",Ce="Mac OS",je=" Browser",yt=function(ke,Pe){var ye={};for(var Fe in ke)Pe[Fe]&&Pe[Fe].length%2===0?ye[Fe]=Pe[Fe].concat(ke[Fe]):ye[Fe]=ke[Fe];return ye},ct=function(ke){for(var Pe={},ye=0;ye<ke.length;ye++)Pe[ke[ye].toUpperCase()]=ke[ye];return Pe},Ge=function(ke,Pe){return typeof ke===m?tt(Pe).indexOf(tt(ke))!==-1:!1},tt=function(ke){return ke.toLowerCase()},rt=function(ke){return typeof ke===m?ke.replace(/[^\d\.]/g,a).split(".")[0]:n},Je=function(ke,Pe){if(typeof ke===m)return ke=ke.replace(/^\s\s*/,a),typeof Pe===d?ke:ke.substring(0,I)},Tt=function(ke,Pe){for(var ye=0,Fe,wt,He,ze,Se,dt;ye<Pe.length&&!Se;){var Kn=Pe[ye],Bo=Pe[ye+1];for(Fe=wt=0;Fe<Kn.length&&!Se&&Kn[Fe];)if(Se=Kn[Fe++].exec(ke),Se)for(He=0;He<Bo.length;He++)dt=Se[++wt],ze=Bo[He],typeof ze===h&&ze.length>0?ze.length===2?typeof ze[1]==l?this[ze[0]]=ze[1].call(this,dt):this[ze[0]]=ze[1]:ze.length===3?typeof ze[1]===l&&!(ze[1].exec&&ze[1].test)?this[ze[0]]=dt?ze[1].call(this,dt,ze[2]):n:this[ze[0]]=dt?dt.replace(ze[1],ze[2]):n:ze.length===4&&(this[ze[0]]=dt?ze[3].call(this,dt.replace(ze[1],ze[2])):n):this[ze]=dt||n;ye+=2}},mt=function(ke,Pe){for(var ye in Pe)if(typeof Pe[ye]===h&&Pe[ye].length>0){for(var Fe=0;Fe<Pe[ye].length;Fe++)if(Ge(Pe[ye][Fe],ke))return ye===c?n:ye}else if(Ge(Pe[ye],ke))return ye===c?n:ye;return Pe.hasOwnProperty("*")?Pe["*"]:ke},Ke={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ue={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},lt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,R],[/opios[\/ ]+([\w\.]+)/i],[R,[S,X+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[R,[S,X+" GX"]],[/\bopr\/([\w\.]+)/i],[R,[S,X]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[R,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,R],[/quark(?:pc)?\/([-\w\.]+)/i],[R,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[R,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[S,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[R,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[R,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[R,[S,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+B],R],[/\bfocus\/([\w\.]+)/i],[R,[S,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[S,X+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[S,X+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[S,"MIUI "+B]],[/fxios\/([-\w\.]+)/i],[R,[S,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+je]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],R],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+je],R],[/samsungbrowser\/([\w\.]+)/i],[R,[S,ce+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],R],[/metasr[\/ ]?([\d\.]+)/i],[R,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,R],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,me],R],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[R,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[S,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[R,mt,Ke]],[/(webkit|khtml)\/([\w\.]+)/i],[S,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],R],[/(wolvic)\/([\w\.]+)/i],[S,R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[S,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[R,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,tt]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,a,tt]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,tt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[E,ce],[b,f]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[E,ce],[b,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[E,M],[b,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[E,M],[b,f]],[/(macintosh);/i],[w,[E,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[E,de],[b,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[E,F],[b,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[E,F],[b,p]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[w,/_/g," "],[E,ie],[b,p]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[E,ie],[b,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[E,"OPPO"],[b,p]],[/\b(opd2\d{3}a?) bui/i],[w,[E,"OPPO"],[b,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[E,"Vivo"],[b,p]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[E,"Realme"],[b,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[E,U],[b,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[E,U],[b,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[E,z],[b,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[E,z],[b,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[E,"Lenovo"],[b,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[E,"Nokia"],[b,p]],[/(pixel c)\b/i],[w,[E,V],[b,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[E,V],[b,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[E,ee],[b,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[E,ee],[b,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[E,"OnePlus"],[b,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[E,L],[b,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[E,L],[b,p]],[/(playbook);[-\w\),; ]+(rim)/i],[w,E,[b,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[E,N],[b,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[E,A],[b,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[E,A],[b,p]],[/(nexus 9)/i],[w,[E,"HTC"],[b,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[w,/_/g," "],[b,p]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[w,[E,"TCL"],[b,f]],[/(itel) ((\w+))/i],[[E,tt],w,[b,mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[E,"Acer"],[b,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[E,"Meizu"],[b,p]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[E,"Ulefone"],[b,p]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[E,"Nothing"],[b,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,w,[b,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,w,[b,f]],[/(surface duo)/i],[w,[E,q],[b,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[E,"Fairphone"],[b,p]],[/(u304aa)/i],[w,[E,"AT&T"],[b,p]],[/\bsie-(\w*)/i],[w,[E,"Siemens"],[b,p]],[/\b(rct\w+) b/i],[w,[E,"RCA"],[b,f]],[/\b(venue[\d ]{2,7}) b/i],[w,[E,"Dell"],[b,f]],[/\b(q(?:mv|ta)\w+) b/i],[w,[E,"Verizon"],[b,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[E,"Barnes & Noble"],[b,f]],[/\b(tm\d{3}\w+) b/i],[w,[E,"NuVision"],[b,f]],[/\b(k88) b/i],[w,[E,"ZTE"],[b,f]],[/\b(nx\d{3}j) b/i],[w,[E,"ZTE"],[b,p]],[/\b(gen\d{3}) b.+49h/i],[w,[E,"Swiss"],[b,p]],[/\b(zur\d{3}) b/i],[w,[E,"Swiss"],[b,f]],[/\b((zeki)?tb.*\b) b/i],[w,[E,"Zeki"],[b,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],w,[b,f]],[/\b(ns-?\w{0,9}) b/i],[w,[E,"Insignia"],[b,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[E,"NextBook"],[b,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],w,[b,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],w,[b,p]],[/\b(ph-1) /i],[w,[E,"Essential"],[b,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[E,"Envizen"],[b,f]],[/\b(trio[-\w\. ]+) b/i],[w,[E,"MachSpeed"],[b,f]],[/\btu_(1491) b/i],[w,[E,"Rotor"],[b,f]],[/(shield[\w ]+) b/i],[w,[E,"Nvidia"],[b,f]],[/(sprint) (\w+)/i],[E,w,[b,p]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[E,q],[b,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[E,ue],[b,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[E,ue],[b,p]],[/smart-tv.+(samsung)/i],[E,[b,g]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[E,ce],[b,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,z],[b,g]],[/(apple) ?tv/i],[E,[w,M+" TV"],[b,g]],[/crkey/i],[[w,W+"cast"],[E,V],[b,g]],[/droid.+aft(\w+)( bui|\))/i],[w,[E,L],[b,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[E,de],[b,g]],[/(bravia[\w ]+)( bui|\))/i],[w,[E,ee],[b,g]],[/(mitv-\w{5}) bui/i],[w,[E,ie],[b,g]],[/Hbbtv.*(technisat) (.*);/i],[E,w,[b,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,Je],[w,Je],[b,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,w,[b,_]],[/droid.+; (shield) bui/i],[w,[E,"Nvidia"],[b,_]],[/(playstation [345portablevi]+)/i],[w,[E,ee],[b,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[E,q],[b,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[w,[E,ce],[b,x]],[/((pebble))app/i],[E,w,[b,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[E,M],[b,x]],[/droid.+; (glass) \d/i],[w,[E,V],[b,x]],[/droid.+; (wt63?0{2,3})\)/i],[w,[E,ue],[b,x]],[/(quest( \d| pro)?)/i],[w,[E,me],[b,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[b,P]],[/(aeobc)\b/i],[w,[E,L],[b,P]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[b,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[b,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,f]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,p]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[S,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,R],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[R,mt,Ue]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[R,mt,Ue],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,Ce],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,R],[/\(bb(10);/i],[R,[S,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[S,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[R,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[R,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,he],R],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,R],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,R]]},It=function(ke,Pe){if(typeof ke===h&&(Pe=ke,ke=n),!(this instanceof It))return new It(ke,Pe).getResult();var ye=typeof r!==d&&r.navigator?r.navigator:n,Fe=ke||(ye&&ye.userAgent?ye.userAgent:a),wt=ye&&ye.userAgentData?ye.userAgentData:n,He=Pe?yt(lt,Pe):lt,ze=ye&&ye.userAgent==Fe;return this.getBrowser=function(){var Se={};return Se[S]=n,Se[R]=n,Tt.call(Se,Fe,He.browser),Se[v]=rt(Se[R]),ze&&ye&&ye.brave&&typeof ye.brave.isBrave==l&&(Se[S]="Brave"),Se},this.getCPU=function(){var Se={};return Se[T]=n,Tt.call(Se,Fe,He.cpu),Se},this.getDevice=function(){var Se={};return Se[E]=n,Se[w]=n,Se[b]=n,Tt.call(Se,Fe,He.device),ze&&!Se[b]&&wt&&wt.mobile&&(Se[b]=p),ze&&Se[w]=="Macintosh"&&ye&&typeof ye.standalone!==d&&ye.maxTouchPoints&&ye.maxTouchPoints>2&&(Se[w]="iPad",Se[b]=f),Se},this.getEngine=function(){var Se={};return Se[S]=n,Se[R]=n,Tt.call(Se,Fe,He.engine),Se},this.getOS=function(){var Se={};return Se[S]=n,Se[R]=n,Tt.call(Se,Fe,He.os),ze&&!Se[S]&&wt&&wt.platform&&wt.platform!="Unknown"&&(Se[S]=wt.platform.replace(/chrome os/i,he).replace(/macos/i,Ce)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(Se){return Fe=typeof Se===m&&Se.length>I?Je(Se,I):Se,this},this.setUA(Fe),this};It.VERSION=i,It.BROWSER=ct([S,R,v]),It.CPU=ct([T]),It.DEVICE=ct([w,E,b,_,p,g,f,x,P]),It.ENGINE=It.OS=ct([S,R]),e.exports&&(t=e.exports=It),t.UAParser=It;var ut=typeof r!==d&&(r.jQuery||r.Zepto);if(ut&&!ut.ua){var Nt=new It;ut.ua=Nt.getResult(),ut.ua.get=function(){return Nt.getUA()},ut.ua.set=function(ke){Nt.setUA(ke);var Pe=Nt.getResult();for(var ye in Pe)ut.ua[ye]=Pe[ye]}}})(typeof window=="object"?window:nN)}(Ga,Ga.exports)),Ga.exports}var mo={},mb;function Et(){if(mb)return mo;mb=1;var e=mo&&mo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mo,"__esModule",{value:!0}),mo.Logger=void 0;const t=e(Fd()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return mo.Logger=n,mo}var Ma={},Fl={exports:{}},gb;function oN(){if(gb)return Fl.exports;gb=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(g,x,P){return Function.prototype.apply.call(g,x,P)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:r=function(g){return Object.getOwnPropertyNames(g)};function n(f){console&&console.warn&&console.warn(f)}var i=Number.isNaN||function(g){return g!==g};function a(){a.init.call(this)}Fl.exports=a,Fl.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(f){if(typeof f!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(f){if(typeof f!="number"||f<0||i(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");c=f}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||i(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function d(f){return f._maxListeners===void 0?a.defaultMaxListeners:f._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(g){for(var x=[],P=1;P<arguments.length;P++)x.push(arguments[P]);var I=g==="error",L=this._events;if(L!==void 0)I=I&&L.error===void 0;else if(!I)return!1;if(I){var M;if(x.length>0&&(M=x[0]),M instanceof Error)throw M;var A=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw A.context=M,A}var N=L[g];if(N===void 0)return!1;if(typeof N=="function")t(N,this,x);else for(var B=N.length,W=b(N,B),P=0;P<B;++P)t(W[P],this,x);return!0};function h(f,g,x,P){var I,L,M;if(l(x),L=f._events,L===void 0?(L=f._events=Object.create(null),f._eventsCount=0):(L.newListener!==void 0&&(f.emit("newListener",g,x.listener?x.listener:x),L=f._events),M=L[g]),M===void 0)M=L[g]=x,++f._eventsCount;else if(typeof M=="function"?M=L[g]=P?[x,M]:[M,x]:P?M.unshift(x):M.push(x),I=d(f),I>0&&M.length>I&&!M.warned){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=f,A.type=g,A.count=M.length,n(A)}return f}a.prototype.addListener=function(g,x){return h(this,g,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(g,x){return h(this,g,x,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(f,g,x){var P={fired:!1,wrapFn:void 0,target:f,type:g,listener:x},I=m.bind(P);return I.listener=x,P.wrapFn=I,I}a.prototype.once=function(g,x){return l(x),this.on(g,v(this,g,x)),this},a.prototype.prependOnceListener=function(g,x){return l(x),this.prependListener(g,v(this,g,x)),this},a.prototype.removeListener=function(g,x){var P,I,L,M,A;if(l(x),I=this._events,I===void 0)return this;if(P=I[g],P===void 0)return this;if(P===x||P.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete I[g],I.removeListener&&this.emit("removeListener",g,P.listener||x));else if(typeof P!="function"){for(L=-1,M=P.length-1;M>=0;M--)if(P[M]===x||P[M].listener===x){A=P[M].listener,L=M;break}if(L<0)return this;L===0?P.shift():E(P,L),P.length===1&&(I[g]=P[0]),I.removeListener!==void 0&&this.emit("removeListener",g,A||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(g){var x,P,I;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[g]),this;if(arguments.length===0){var L=Object.keys(P),M;for(I=0;I<L.length;++I)M=L[I],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=P[g],typeof x=="function")this.removeListener(g,x);else if(x!==void 0)for(I=x.length-1;I>=0;I--)this.removeListener(g,x[I]);return this};function w(f,g,x){var P=f._events;if(P===void 0)return[];var I=P[g];return I===void 0?[]:typeof I=="function"?x?[I.listener||I]:[I]:x?R(I):b(I,I.length)}a.prototype.listeners=function(g){return w(this,g,!0)},a.prototype.rawListeners=function(g){return w(this,g,!1)},a.listenerCount=function(f,g){return typeof f.listenerCount=="function"?f.listenerCount(g):S.call(f,g)},a.prototype.listenerCount=S;function S(f){var g=this._events;if(g!==void 0){var x=g[f];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(f,g){for(var x=new Array(g),P=0;P<g;++P)x[P]=f[P];return x}function E(f,g){for(;g+1<f.length;g++)f[g]=f[g+1];f.pop()}function R(f){for(var g=new Array(f.length),x=0;x<g.length;++x)g[x]=f[x].listener||f[x];return g}function T(f,g){return new Promise(function(x,P){function I(M){f.removeListener(g,L),P(M)}function L(){typeof f.removeListener=="function"&&f.removeListener("error",I),x([].slice.call(arguments))}p(f,g,L,{once:!0}),g!=="error"&&_(f,I,{once:!0})})}function _(f,g,x){typeof f.on=="function"&&p(f,"error",g,x)}function p(f,g,x,P){if(typeof f.on=="function")P.once?f.once(g,x):f.on(g,x);else if(typeof f.addEventListener=="function")f.addEventListener(g,function I(L){P.once&&f.removeEventListener(g,I),x(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f)}return Fl.exports}var vb;function $o(){if(vb)return Ma;vb=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.EnhancedEventEmitter=void 0;const e=oN(),t=Et(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(l){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,l);try{super.emit("listenererror",a,l)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return Ma.EnhancedEventEmitter=n,Ma}var go={},yb;function cr(){if(yb)return go;yb=1,Object.defineProperty(go,"__esModule",{value:!0}),go.InvalidStateError=go.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}go.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return go.InvalidStateError=t,go}var yi={},wb;function Wt(){if(wb)return yi;wb=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.clone=e,yi.generateRandomNumber=t,yi.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const i=Reflect.ownKeys(n);for(const a of i){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return yi}var _t={},ht={},vo={},Sb;function iN(){if(Sb)return vo;Sb=1;var e=vo&&vo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vo,"__esModule",{value:!0}),vo.Logger=void 0;const t=e(Fd()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return vo.Logger=n,vo}var bb;function aN(){if(bb)return ht;bb=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.generateProfileLevelIdStringForAnswer=ht.isSameProfile=ht.parseSdpProfileLevelId=ht.levelToString=ht.profileToString=ht.profileLevelIdToString=ht.parseProfileLevelId=ht.ProfileLevelId=ht.Level=ht.Profile=void 0;const e=iN(),t=new e.Logger;var r;(function(f){f[f.ConstrainedBaseline=1]="ConstrainedBaseline",f[f.Baseline=2]="Baseline",f[f.Main=3]="Main",f[f.ConstrainedHigh=4]="ConstrainedHigh",f[f.High=5]="High",f[f.PredictiveHigh444=6]="PredictiveHigh444"})(r||(ht.Profile=r={}));var n;(function(f){f[f.L1_b=0]="L1_b",f[f.L1=10]="L1",f[f.L1_1=11]="L1_1",f[f.L1_2=12]="L1_2",f[f.L1_3=13]="L1_3",f[f.L2=20]="L2",f[f.L2_1=21]="L2_1",f[f.L2_2=22]="L2_2",f[f.L3=30]="L3",f[f.L3_1=31]="L3_1",f[f.L3_2=32]="L3_2",f[f.L4=40]="L4",f[f.L4_1=41]="L4_1",f[f.L4_2=42]="L4_2",f[f.L5=50]="L5",f[f.L5_1=51]="L5_1",f[f.L5_2=52]="L5_2"})(n||(ht.Level=n={}));class i{constructor(g,x){this.profile=g,this.level=x}}ht.ProfileLevelId=i;const a=new i(r.ConstrainedBaseline,n.L3_1);class c{constructor(g){this.mask=~R("x",g),this.masked_value=R("1",g)}isMatch(g){return this.masked_value===(g&this.mask)}}class l{constructor(g,x,P){this.profile_idc=g,this.profile_iop=x,this.profile=P}}const d=[new l(66,new c("x1xx0000"),r.ConstrainedBaseline),new l(77,new c("1xxx0000"),r.ConstrainedBaseline),new l(88,new c("11xx0000"),r.ConstrainedBaseline),new l(66,new c("x0xx0000"),r.Baseline),new l(88,new c("10xx0000"),r.Baseline),new l(77,new c("0x0x0000"),r.Main),new l(100,new c("00000000"),r.High),new l(100,new c("00001100"),r.ConstrainedHigh),new l(244,new c("00000000"),r.PredictiveHigh444)];function h(f){if(typeof f!="string"||f.length!==6)return;const x=parseInt(f,16);if(x===0)return;const P=x&255,I=x>>8&255,L=x>>16&255;let M;switch(P){case n.L1_1:{M=(I&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{M=P;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${f}, level_idc:${P}]`);return}}for(const A of d)if(L===A.profile_idc&&A.profile_iop.isMatch(I))return new i(A.profile,M);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${f}, profile_idc:${L}, profile_iop:${I}]`)}ht.parseProfileLevelId=h;function m(f){if(f.level==n.L1_b)switch(f.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${f.profile}`);return}}let g;switch(f.profile){case r.ConstrainedBaseline:{g="42e0";break}case r.Baseline:{g="4200";break}case r.Main:{g="4d00";break}case r.ConstrainedHigh:{g="640c";break}case r.High:{g="6400";break}case r.PredictiveHigh444:{g="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${f.profile}`);return}}let x=f.level.toString(16);return x.length===1&&(x=`0${x}`),`${g}${x}`}ht.profileLevelIdToString=m;function v(f){switch(f){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${f}`);return}}}ht.profileToString=v;function w(f){switch(f){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${f}`);return}}}ht.levelToString=w;function S(f={}){const g=f["profile-level-id"];return g?h(g):a}ht.parseSdpProfileLevelId=S;function b(f={},g={}){const x=S(f),P=S(g);return!!(x&&P&&x.profile===P.profile)}ht.isSameProfile=b;function E(f={},g={}){if(!f["profile-level-id"]&&!g["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const x=S(f),P=S(g);if(!x)throw new TypeError("invalid local_profile_level_id");if(!P)throw new TypeError("invalid remote_profile_level_id");if(x.profile!==P.profile)throw new TypeError("H264 Profile mismatch");const I=p(f)&&p(g),L=x.level,M=P.level,A=_(L,M),N=I?L:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${x.profile}, level:${N}]`),m(new i(x.profile,N))}ht.generateProfileLevelIdStringForAnswer=E;function R(f,g){return+(g[0]===f)<<7|+(g[1]===f)<<6|+(g[2]===f)<<5|+(g[3]===f)<<4|+(g[4]===f)<<3|+(g[5]===f)<<2|+(g[6]===f)<<1|+(g[7]===f)<<0}function T(f,g){return f===n.L1_b?g!==n.L1&&g!==n.L1_b:g===n.L1_b?f!==n.L1:f<g}function _(f,g){return T(f,g)?f:g}function p(f={}){const g=f["level-asymmetry-allowed"];return g===!0||g===1||g==="1"}return ht}var _b;function br(){if(_b)return _t;_b=1;var e=_t&&_t.__createBinding||(Object.create?function(O,V,F,z){z===void 0&&(z=F);var q=Object.getOwnPropertyDescriptor(V,F);(!q||("get"in q?!V.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return V[F]}}),Object.defineProperty(O,z,q)}:function(O,V,F,z){z===void 0&&(z=F),O[z]=V[F]}),t=_t&&_t.__setModuleDefault||(Object.create?function(O,V){Object.defineProperty(O,"default",{enumerable:!0,value:V})}:function(O,V){O.default=V}),r=_t&&_t.__importStar||function(O){if(O&&O.__esModule)return O;var V={};if(O!=null)for(var F in O)F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)&&e(V,O,F);return t(V,O),V};Object.defineProperty(_t,"__esModule",{value:!0}),_t.validateRtpCapabilities=d,_t.validateRtpParameters=h,_t.validateSctpStreamParameters=m,_t.validateSctpCapabilities=v,_t.getExtendedRtpCapabilities=w,_t.getRecvRtpCapabilities=S,_t.getSendingRtpParameters=b,_t.getSendingRemoteRtpParameters=E,_t.reduceCodecs=R,_t.generateProbatorRtpParameters=T,_t.canSend=_,_t.canReceive=p;const n=r(aN()),i=r(Wt()),a="probator",c=1234,l=127;function d(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(O.codecs&&!Array.isArray(O.codecs))throw new TypeError("caps.codecs is not an array");O.codecs||(O.codecs=[]);for(const V of O.codecs)f(V);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const V of O.headerExtensions)x(V)}function h(O){if(typeof O!="object")throw new TypeError("params is not an object");if(O.mid&&typeof O.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(O.codecs))throw new TypeError("missing params.codecs");for(const V of O.codecs)P(V);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("params.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const V of O.headerExtensions)I(V);if(O.encodings&&!Array.isArray(O.encodings))throw new TypeError("params.encodings is not an array");O.encodings||(O.encodings=[]);for(const V of O.encodings)L(V);if(O.rtcp&&typeof O.rtcp!="object")throw new TypeError("params.rtcp is not an object");O.rtcp||(O.rtcp={}),M(O.rtcp)}function m(O){if(typeof O!="object")throw new TypeError("params is not an object");if(typeof O.streamId!="number")throw new TypeError("missing params.streamId");let V=!1;if(typeof O.ordered=="boolean"?V=!0:O.ordered=!0,O.maxPacketLifeTime&&typeof O.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(O.maxRetransmits&&typeof O.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(O.maxPacketLifeTime&&O.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(V&&O.ordered&&(O.maxPacketLifeTime||O.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!V&&(O.maxPacketLifeTime||O.maxRetransmits)&&(O.ordered=!1),O.label&&typeof O.label!="string")throw new TypeError("invalid params.label");if(O.protocol&&typeof O.protocol!="string")throw new TypeError("invalid params.protocol")}function v(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(!O.numStreams||typeof O.numStreams!="object")throw new TypeError("missing caps.numStreams");A(O.numStreams)}function w(O,V){const F={codecs:[],headerExtensions:[]};for(const z of V.codecs??[]){if(N(z))continue;const q=(O.codecs??[]).find(X=>B(X,z,{strict:!0,modify:!0}));if(!q)continue;const U={mimeType:q.mimeType,kind:q.kind,clockRate:q.clockRate,channels:q.channels,localPayloadType:q.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:z.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:q.parameters,remoteParameters:z.parameters,rtcpFeedback:K(q,z)};F.codecs.push(U)}for(const z of F.codecs){const q=O.codecs.find(X=>N(X)&&X.parameters.apt===z.localPayloadType),U=V.codecs.find(X=>N(X)&&X.parameters.apt===z.remotePayloadType);q&&U&&(z.localRtxPayloadType=q.preferredPayloadType,z.remoteRtxPayloadType=U.preferredPayloadType)}for(const z of V.headerExtensions){const q=O.headerExtensions.find(X=>W(X,z));if(!q)continue;const U={kind:z.kind,uri:z.uri,sendId:q.preferredId,recvId:z.preferredId,encrypt:q.preferredEncrypt,direction:"sendrecv"};switch(z.direction){case"sendrecv":{U.direction="sendrecv";break}case"recvonly":{U.direction="sendonly";break}case"sendonly":{U.direction="recvonly";break}case"inactive":{U.direction="inactive";break}}F.headerExtensions.push(U)}return F}function S(O){const V={codecs:[],headerExtensions:[]};for(const F of O.codecs){const z={mimeType:F.mimeType,kind:F.kind,preferredPayloadType:F.remotePayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if(V.codecs.push(z),!F.remoteRtxPayloadType)continue;const q={mimeType:`${F.kind}/rtx`,kind:F.kind,preferredPayloadType:F.remoteRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.remotePayloadType},rtcpFeedback:[]};V.codecs.push(q)}for(const F of O.headerExtensions){if(F.direction!=="sendrecv"&&F.direction!=="recvonly")continue;const z={kind:F.kind,uri:F.uri,preferredId:F.recvId,preferredEncrypt:F.encrypt,direction:F.direction};V.headerExtensions.push(z)}return V}function b(O,V){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of V.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.localParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const U={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(U)}}for(const z of V.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}return F}function E(O,V){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of V.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.remoteParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const U={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(U)}}for(const z of V.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}if(F.headerExtensions.some(z=>z.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="goog-remb");else if(F.headerExtensions.some(z=>z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc");else for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc"&&q.type!=="goog-remb");return F}function R(O,V){const F=[];if(!V)F.push(O[0]),N(O[1])&&F.push(O[1]);else{for(let z=0;z<O.length;++z)if(B(O[z],V,{strict:!0})){F.push(O[z]),N(O[z+1])&&F.push(O[z+1]);break}if(F.length===0)throw new TypeError("no matching codec found")}return F}function T(O){O=i.clone(O),h(O);const V={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return V.codecs.push(O.codecs[0]),V.codecs[0].payloadType=l,V.headerExtensions=O.headerExtensions,V}function _(O,V){return V.codecs.some(F=>F.kind===O)}function p(O,V){if(h(O),O.codecs.length===0)return!1;const F=O.codecs[0];return V.codecs.some(z=>z.remotePayloadType===F.payloadType)}function f(O){const V=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=V.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(O.kind=F[1].toLowerCase(),O.preferredPayloadType&&typeof O.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");O.kind==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const z of Object.keys(O.parameters)){let q=O.parameters[z];if(q===void 0&&(O.parameters[z]="",q=""),typeof q!="string"&&typeof q!="number")throw new TypeError(`invalid codec parameter [key:${z}s, value:${q}]`);if(z==="apt"&&typeof q!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const z of O.rtcpFeedback)g(z)}function g(O){if(typeof O!="object")throw new TypeError("fb is not an object");if(!O.type||typeof O.type!="string")throw new TypeError("missing fb.type");(!O.parameter||typeof O.parameter!="string")&&(O.parameter="")}function x(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(O.kind!=="audio"&&O.kind!=="video")throw new TypeError("invalid ext.kind");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.preferredId!="number")throw new TypeError("missing ext.preferredId");if(O.preferredEncrypt&&typeof O.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(O.preferredEncrypt||(O.preferredEncrypt=!1),O.direction&&typeof O.direction!="string")throw new TypeError("invalid ext.direction");O.direction||(O.direction="sendrecv")}function P(O){const V=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=V.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(typeof O.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");F[1].toLowerCase()==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const q of Object.keys(O.parameters)){let U=O.parameters[q];if(U===void 0&&(O.parameters[q]="",U=""),typeof U!="string"&&typeof U!="number")throw new TypeError(`invalid codec parameter [key:${q}s, value:${U}]`);if(q==="apt"&&typeof U!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const q of O.rtcpFeedback)g(q)}function I(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.id!="number")throw new TypeError("missing ext.id");if(O.encrypt&&typeof O.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");O.encrypt||(O.encrypt=!1),(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const V of Object.keys(O.parameters)){let F=O.parameters[V];if(F===void 0&&(O.parameters[V]="",F=""),typeof F!="string"&&typeof F!="number")throw new TypeError("invalid header extension parameter")}}function L(O){if(typeof O!="object")throw new TypeError("encoding is not an object");if(O.ssrc&&typeof O.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(O.rid&&typeof O.rid!="string")throw new TypeError("invalid encoding.rid");if(O.rtx&&typeof O.rtx!="object")throw new TypeError("invalid encoding.rtx");if(O.rtx&&typeof O.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!O.dtx||typeof O.dtx!="boolean")&&(O.dtx=!1),O.scalabilityMode&&typeof O.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function M(O){if(typeof O!="object")throw new TypeError("rtcp is not an object");if(O.cname&&typeof O.cname!="string")throw new TypeError("invalid rtcp.cname");(!O.reducedSize||typeof O.reducedSize!="boolean")&&(O.reducedSize=!0)}function A(O){if(typeof O!="object")throw new TypeError("numStreams is not an object");if(typeof O.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof O.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(O){return O?/.+\/rtx$/i.test(O.mimeType):!1}function B(O,V,{strict:F=!1,modify:z=!1}={}){const q=O.mimeType.toLowerCase(),U=V.mimeType.toLowerCase();if(q!==U||O.clockRate!==V.clockRate||O.channels!==V.channels)return!1;switch(q){case"video/h264":{if(F){const X=O.parameters["packetization-mode"]||0,ce=V.parameters["packetization-mode"]||0;if(X!==ce||!n.isSameProfile(O.parameters,V.parameters))return!1;let de;try{de=n.generateProfileLevelIdStringForAnswer(O.parameters,V.parameters)}catch{return!1}z&&(de?(O.parameters["profile-level-id"]=de,V.parameters["profile-level-id"]=de):(delete O.parameters["profile-level-id"],delete V.parameters["profile-level-id"]))}break}case"video/vp9":{if(F){const X=O.parameters["profile-id"]||0,ce=V.parameters["profile-id"]||0;if(X!==ce)return!1}break}}return!0}function W(O,V){return!(O.kind&&V.kind&&O.kind!==V.kind||O.uri!==V.uri)}function K(O,V){const F=[];for(const z of O.rtcpFeedback??[]){const q=(V.rtcpFeedback??[]).find(U=>U.type===z.type&&(U.parameter===z.parameter||!U.parameter&&!z.parameter));q&&F.push(q)}return F}return _t}var Tr={},ns={},La={},xb;function cN(){if(xb)return La;xb=1,Object.defineProperty(La,"__esModule",{value:!0}),La.Logger=void 0;const e=Fd(),t="awaitqueue";let r=class{constructor(i){i?(this._debug=(0,e.default)(`${t}:${i}`),this._warn=(0,e.default)(`${t}:WARN:${i}`),this._error=(0,e.default)(`${t}:ERROR:${i}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return La.Logger=r,La}var Cb;function lN(){if(Cb)return ns;Cb=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.AwaitQueue=ns.AwaitQueueRemovedTaskError=ns.AwaitQueueStoppedError=void 0;const e=cN(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}ns.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}ns.AwaitQueueRemovedTaskError=n;class i{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,l){if(l=l??c.name,t.debug(`push() [name:${l}]`),typeof c!="function")throw new TypeError("given task is not a function");if(l)try{Object.defineProperty(c,"name",{value:l})}catch{}return new Promise((d,h)=>{const m={id:this.nextTaskId++,task:c,name:l,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:v=>{if(m.completed)return;m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`resolving task [name:${m.name}]`),d(v);const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)},reject:v=>{if(!m.completed&&(m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`rejecting task [name:${m.name}]: %s`,String(v)),h(v),!this.stopping)){const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)}}};this.pendingTasks.set(m.id,m),this.pendingTasks.size===1&&this.execute(m)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const l=Array.from(this.pendingTasks.values())[c];if(!l){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}l.reject(new n)}dump(){const c=Date.now();let l=0;return Array.from(this.pendingTasks.values()).map(d=>({idx:l++,task:d.task,name:d.name,enqueuedTime:d.executedAt?d.executedAt-d.enqueuedAt:c-d.enqueuedAt,executionTime:d.executedAt?c-d.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const l=await c.task();c.resolve(l)}catch(l){c.reject(l)}}}return ns.AwaitQueue=i,ns}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var wh,Rb;function uN(){if(Rb)return wh;Rb=1;let e;return wh=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:oE):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),wh}var Oa={},Eb;function gx(){if(Eb)return Oa;Eb=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.Producer=void 0;const e=Et(),t=$o(),r=cr(),n=new e.Logger("Producer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,rtpSender:d,track:h,rtpParameters:m,stopTracks:v,disableTrackOnPause:w,zeroRtpOnPause:S,appData:b}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._rtpSender=d,this._track=h,this._kind=h.kind,this._rtpParameters=m,this._paused=w?!h.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=v,this._disableTrackOnPause=w,this._zeroRtpOnPause=S,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@pause",c,l)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@resume",c,l)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((l,d)=>{this.safeEmit("@replacetrack",c,l,d)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((l,d)=>{this.safeEmit("@setmaxspatiallayer",c,l,d)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((l,d)=>{this.safeEmit("@setrtpencodingparameters",c,l,d)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Oa.Producer=i,Oa}var Na={},Tb;function vx(){if(Tb)return Na;Tb=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.Consumer=void 0;const e=Et(),t=$o(),r=cr(),n=new e.Logger("Consumer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,producerId:d,rtpReceiver:h,track:m,rtpParameters:v,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._producerId=d,this._rtpReceiver=h,this._track=m,this._rtpParameters=v,this._paused=!m.enabled,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Na.Consumer=i,Na}var Aa={},kb;function yx(){if(kb)return Aa;kb=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.DataProducer=void 0;const e=Et(),t=$o(),r=cr(),n=new e.Logger("DataProducer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:l,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:l}=c;l||(l=new Error("unknown DataChannel error")),l.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",l.sctpCauseCode,l.message):n.error('DataChannel "error" event: %o',l),this.safeEmit("error",l)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Aa.DataProducer=i,Aa}var $a={},Pb;function wx(){if(Pb)return $a;Pb=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.DataConsumer=void 0;const e=Et(),t=$o(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:l,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return $a.DataConsumer=n,$a}var Db;function Sx(){if(Db)return Tr;Db=1;var e=Tr&&Tr.__createBinding||(Object.create?function(_,p,f,g){g===void 0&&(g=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,g,x)}:function(_,p,f,g){g===void 0&&(g=f),_[g]=p[f]}),t=Tr&&Tr.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=Tr&&Tr.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p},n=Tr&&Tr.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Transport=void 0;const i=lN(),a=n(uN()),c=Et(),l=$o(),d=cr(),h=r(Wt()),m=r(br()),v=gx(),w=vx(),S=yx(),b=wx(),E=new c.Logger("Transport");class R{constructor(p){this.consumerOptions=p,this.promise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}}let T=class extends l.EnhancedEventEmitter{constructor({direction:p,id:f,iceParameters:g,iceCandidates:x,dtlsParameters:P,sctpParameters:I,iceServers:L,iceTransportPolicy:M,additionalSettings:A,proprietaryConstraints:N,appData:B,handlerFactory:W,extendedRtpCapabilities:K,canProduceByKind:O}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new l.EnhancedEventEmitter,E.debug("constructor() [id:%s, direction:%s]",f,p),this._id=f,this._direction=p,this._extendedRtpCapabilities=K,this._canProduceByKind=O,this._maxSctpMessageSize=I?I.maxMessageSize:null;const V=h.clone(A)??{};delete V.iceServers,delete V.iceTransportPolicy,delete V.bundlePolicy,delete V.rtcpMuxPolicy,delete V.sdpSemantics,this._handler=W(),this._handler.run({direction:p,iceParameters:g,iceCandidates:x,dtlsParameters:P,sctpParameters:I,iceServers:L,iceTransportPolicy:M,additionalSettings:V,proprietaryConstraints:N,extendedRtpCapabilities:K}),this._appData=B??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(p){this._appData=p}get observer(){return this._observer}close(){if(!this._closed){E.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const p of this._producers.values())p.transportClosed();this._producers.clear();for(const p of this._consumers.values())p.transportClosed();this._consumers.clear();for(const p of this._dataProducers.values())p.transportClosed();this._dataProducers.clear();for(const p of this._dataConsumers.values())p.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:p}){if(E.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!p)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(p),"transport.restartIce()")}async updateIceServers({iceServers:p}={}){if(E.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(p))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(p),"transport.updateIceServers()")}async produce({track:p,encodings:f,codecOptions:g,codec:x,stopTracks:P=!0,disableTrackOnPause:I=!0,zeroRtpOnPause:L=!1,onRtpSender:M,appData:A={}}={}){if(E.debug("produce() [track:%o]",p),this._closed)throw new d.InvalidStateError("closed");if(p){if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._canProduceByKind[p.kind]){if(p.readyState==="ended")throw new d.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError(`cannot produce ${p.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(f&&!Array.isArray(f))throw TypeError("encodings must be an array");f&&f.length===0?N=void 0:f&&(N=f.map(O=>{const V={active:!0};return O.active===!1&&(V.active=!1),typeof O.dtx=="boolean"&&(V.dtx=O.dtx),typeof O.scalabilityMode=="string"&&(V.scalabilityMode=O.scalabilityMode),typeof O.scaleResolutionDownBy=="number"&&(V.scaleResolutionDownBy=O.scaleResolutionDownBy),typeof O.maxBitrate=="number"&&(V.maxBitrate=O.maxBitrate),typeof O.maxFramerate=="number"&&(V.maxFramerate=O.maxFramerate),typeof O.adaptivePtime=="boolean"&&(V.adaptivePtime=O.adaptivePtime),typeof O.priority=="string"&&(V.priority=O.priority),typeof O.networkPriority=="string"&&(V.networkPriority=O.networkPriority),V}));const{localId:B,rtpParameters:W,rtpSender:K}=await this._handler.send({track:p,encodings:N,codecOptions:g,codec:x,onRtpSender:M});try{m.validateRtpParameters(W);const{id:O}=await new Promise((F,z)=>{this.safeEmit("produce",{kind:p.kind,rtpParameters:W,appData:A},F,z)}),V=new v.Producer({id:O,localId:B,rtpSender:K,track:p,rtpParameters:W,stopTracks:P,disableTrackOnPause:I,zeroRtpOnPause:L,appData:A});return this._producers.set(V.id,V),this.handleProducer(V),this._observer.safeEmit("newproducer",V),V}catch(O){throw this._handler.stopSending(B).catch(()=>{}),O}},"transport.produce()").catch(N=>{if(P)try{p.stop()}catch{}throw N})}async consume({id:p,producerId:f,kind:g,rtpParameters:x,streamId:P,onRtpReceiver:I,appData:L={}}){if(E.debug("consume()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(typeof p!="string")throw new TypeError("missing id");if(typeof f!="string")throw new TypeError("missing producerId");if(g!=="audio"&&g!=="video")throw new TypeError(`invalid kind '${g}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object");const M=h.clone(x);if(!m.canReceive(M,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const N=new R({id:p,producerId:f,kind:g,rtpParameters:M,streamId:P,onRtpReceiver:I,appData:L});return this._pendingConsumerTasks.push(N),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),N.promise}async produceData({ordered:p=!0,maxPacketLifeTime:f,maxRetransmits:g,label:x="",protocol:P="",appData:I={}}={}){if(E.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(I&&typeof I!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");return(f||g)&&(p=!1),this._awaitQueue.push(async()=>{const{dataChannel:L,sctpStreamParameters:M}=await this._handler.sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:g,label:x,protocol:P});m.validateSctpStreamParameters(M);const{id:A}=await new Promise((B,W)=>{this.safeEmit("producedata",{sctpStreamParameters:M,label:x,protocol:P,appData:I},B,W)}),N=new S.DataProducer({id:A,dataChannel:L,sctpStreamParameters:M,appData:I});return this._dataProducers.set(N.id,N),this.handleDataProducer(N),this._observer.safeEmit("newdataproducer",N),N},"transport.produceData()")}async consumeData({id:p,dataProducerId:f,sctpStreamParameters:g,label:x="",protocol:P="",appData:I={}}){if(E.debug("consumeData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof p!="string")throw new TypeError("missing id");if(typeof f!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(I&&typeof I!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");const L=h.clone(g);return m.validateSctpStreamParameters(L),this._awaitQueue.push(async()=>{const{dataChannel:M}=await this._handler.receiveDataChannel({sctpStreamParameters:L,label:x,protocol:P}),A=new b.DataConsumer({id:p,dataProducerId:f,dataChannel:M,sctpStreamParameters:L,appData:I});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){E.debug("createPendingConsumers() | there is no Consumer to be created");return}const p=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let f;const g=[];for(const x of p){const{id:P,kind:I,rtpParameters:L,streamId:M,onRtpReceiver:A}=x.consumerOptions;g.push({trackId:P,kind:I,rtpParameters:L,streamId:M,onRtpReceiver:A})}try{const x=await this._handler.receive(g);for(let P=0;P<x.length;++P){const I=p[P],L=x[P],{id:M,producerId:A,kind:N,rtpParameters:B,appData:W}=I.consumerOptions,{localId:K,rtpReceiver:O,track:V}=L,F=new w.Consumer({id:M,localId:K,producerId:A,rtpReceiver:O,track:V,rtpParameters:B,appData:W});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!f&&N==="video"&&(f=F),this._observer.safeEmit("newconsumer",F),I.resolve(F)}}catch(x){for(const P of p)P.reject(x)}if(f)try{const x=m.generateProbatorRtpParameters(f.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:x}]),E.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(x){E.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",x)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){E.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const p=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const f=p.map(g=>g.localId);await this._handler.pauseReceiving(f)}catch(f){E.error("pausePendingConsumers() | failed to pause Consumers:",f)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){E.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const p=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const f=p.map(g=>g.localId);await this._handler.resumeReceiving(f)}catch(f){E.error("resumePendingConsumers() | failed to resume Consumers:",f)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){E.debug("closePendingConsumers() | there is no Consumer to be closed");return}const p=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(p.map(f=>f.localId))}catch(f){E.error("closePendingConsumers() | failed to close Consumers:",f)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const p=this._handler;p.on("@connect",({dtlsParameters:f},g,x)=>{if(this._closed){x(new d.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:f},g,x)}),p.on("@icegatheringstatechange",f=>{f!==this._iceGatheringState&&(E.debug("ICE gathering state changed to %s",f),this._iceGatheringState=f,this._closed||this.safeEmit("icegatheringstatechange",f))}),p.on("@connectionstatechange",f=>{f!==this._connectionState&&(E.debug("connection state changed to %s",f),this._connectionState=f,this._closed||this.safeEmit("connectionstatechange",f))})}handleProducer(p){p.on("@close",()=>{this._producers.delete(p.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(p.localId),"producer @close event").catch(f=>E.warn("producer.close() failed:%o",f))}),p.on("@pause",(f,g)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(p.localId),"producer @pause event").then(f).catch(g)}),p.on("@resume",(f,g)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(p.localId),"producer @resume event").then(f).catch(g)}),p.on("@replacetrack",(f,g,x)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(p.localId,f),"producer @replacetrack event").then(g).catch(x)}),p.on("@setmaxspatiallayer",(f,g,x)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(p.localId,f),"producer @setmaxspatiallayer event").then(g).catch(x)}),p.on("@setrtpencodingparameters",(f,g,x)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(p.localId,f),"producer @setrtpencodingparameters event").then(g).catch(x)}),p.on("@getstats",(f,g)=>{if(this._closed)return g(new d.InvalidStateError("closed"));this._handler.getSenderStats(p.localId).then(f).catch(g)})}handleConsumer(p){p.on("@close",()=>{this._consumers.delete(p.id),this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.delete(p.id),!this._closed&&(this._pendingCloseConsumers.set(p.id,p),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),p.on("@pause",()=>{this._pendingResumeConsumers.has(p.id)&&this._pendingResumeConsumers.delete(p.id),this._pendingPauseConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),p.on("@resume",()=>{this._pendingPauseConsumers.has(p.id)&&this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),p.on("@getstats",(f,g)=>{if(this._closed)return g(new d.InvalidStateError("closed"));this._handler.getReceiverStats(p.localId).then(f).catch(g)})}handleDataProducer(p){p.on("@close",()=>{this._dataProducers.delete(p.id)})}handleDataConsumer(p){p.on("@close",()=>{this._dataConsumers.delete(p.id)})}};return Tr.Transport=T,Tr}var sn={},On={},Sh={},bh={exports:{}},jb;function bx(){if(jb)return bh.exports;jb=1;var e=bh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),bh.exports}var Ib;function dN(){return Ib||(Ib=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},r=function(l,d,h,m){if(m&&!h)d[m]=t(l[1]);else for(var v=0;v<h.length;v+=1)l[v+1]!=null&&(d[h[v]]=t(l[v+1]))},n=function(l,d,h){var m=l.name&&l.names;l.push&&!d[l.push]?d[l.push]=[]:m&&!d[l.name]&&(d[l.name]={});var v=l.push?{}:m?d[l.name]:d;r(h.match(l.reg),v,l.names,l.name),l.push&&d[l.push].push(v)},i=bx(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var d={},h=[],m=d;return l.split(/(\r\n|\r|\n)/).filter(a).forEach(function(v){var w=v[0],S=v.slice(2);w==="m"&&(h.push({rtp:[],fmtp:[]}),m=h[h.length-1]);for(var b=0;b<(i[w]||[]).length;b+=1){var E=i[w][b];if(E.reg.test(S))return n(E,m,S)}}),d.media=h,d};var c=function(l,d){var h=d.split(/=(.+)/,2);return h.length===2?l[h[0]]=t(h[1]):h.length===1&&d.length>1&&(l[h[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var d=[],h=l.split(" ").map(t),m=0;m<h.length;m+=3)d.push({component:h[m],ip:h[m+1],port:h[m+2]});return d},e.parseImageAttributes=function(l){return l.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(d){return d.split(",").map(function(h){var m,v=!1;return h[0]!=="~"?m=t(h):(m=t(h.substring(1,h.length)),v=!0),{scid:m,paused:v}})})}}(Sh)),Sh}var _h,Mb;function fN(){if(Mb)return _h;Mb=1;var e=bx(),t=/%[sdv%]/g,r=function(c){var l=1,d=arguments,h=d.length;return c.replace(t,function(m){if(l>=h)return m;var v=d[l];switch(l+=1,m){case"%%":return"%";case"%s":return String(v);case"%d":return Number(v);case"%v":return""}})},n=function(c,l,d){var h=l.format instanceof Function?l.format(l.push?d:d[l.name]):l.format,m=[c+"="+h];if(l.names)for(var v=0;v<l.names.length;v+=1){var w=l.names[v];l.name?m.push(d[l.name][w]):m.push(d[l.names[v]])}else m.push(d[l.name]);return r.apply(null,m)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return _h=function(c,l){l=l||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(v){v.payloads==null&&(v.payloads="")});var d=l.outerOrder||i,h=l.innerOrder||a,m=[];return d.forEach(function(v){e[v].forEach(function(w){w.name in c&&c[w.name]!=null?m.push(n(v,w,c)):w.push in c&&c[w.push]!=null&&c[w.push].forEach(function(S){m.push(n(v,w,S))})})}),c.media.forEach(function(v){m.push(n("m",e.m[0],v)),h.forEach(function(w){e[w].forEach(function(S){S.name in v&&v[S.name]!=null?m.push(n(w,S,v)):S.push in v&&v[S.push]!=null&&v[S.push].forEach(function(b){m.push(n(w,S,b))})})})}),m.join(`\r
`)+`\r
`},_h}var Lb;function _r(){if(Lb)return On;Lb=1;var e=dN(),t=fN();return On.write=t,On.parse=e.parse,On.parseParams=e.parseParams,On.parseFmtpConfig=e.parseFmtpConfig,On.parsePayloads=e.parsePayloads,On.parseRemoteCandidates=e.parseRemoteCandidates,On.parseImageAttributes=e.parseImageAttributes,On.parseSimulcastStreamList=e.parseSimulcastStreamList,On}var kr={},Ob;function kn(){if(Ob)return kr;Ob=1;var e=kr&&kr.__createBinding||(Object.create?function(d,h,m,v){v===void 0&&(v=m);var w=Object.getOwnPropertyDescriptor(h,m);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,v,w)}:function(d,h,m,v){v===void 0&&(v=m),d[v]=h[m]}),t=kr&&kr.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=kr&&kr.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&e(h,d,m);return t(h,d),h};Object.defineProperty(kr,"__esModule",{value:!0}),kr.extractRtpCapabilities=i,kr.extractDtlsParameters=a,kr.getCname=c,kr.applyCodecParameters=l;const n=r(_r());function i({sdpObject:d}){const h=new Map,m=[];let v=!1,w=!1;for(const b of d.media){const E=b.type;switch(E){case"audio":{if(v)continue;v=!0;break}case"video":{if(w)continue;w=!0;break}default:continue}for(const R of b.rtp){const T={kind:E,mimeType:`${E}/${R.codec}`,preferredPayloadType:R.payload,clockRate:R.rate,channels:R.encoding,parameters:{},rtcpFeedback:[]};h.set(T.preferredPayloadType,T)}for(const R of b.fmtp||[]){const T=n.parseParams(R.config),_=h.get(R.payload);_&&(T!=null&&T.hasOwnProperty("profile-level-id")&&(T["profile-level-id"]=String(T["profile-level-id"])),_.parameters=T)}for(const R of b.rtcpFb||[]){const T={type:R.type,parameter:R.subtype};if(T.parameter||delete T.parameter,R.payload!=="*"){const _=h.get(R.payload);if(!_)continue;_.rtcpFeedback.push(T)}else for(const _ of h.values())_.kind===E&&!/.+\/rtx$/i.test(_.mimeType)&&_.rtcpFeedback.push(T)}for(const R of b.ext||[]){if(R["encrypt-uri"])continue;const T={kind:E,uri:R.uri,preferredId:R.value};m.push(T)}}return{codecs:Array.from(h.values()),headerExtensions:m}}function a({sdpObject:d}){let h=d.setup,m=d.fingerprint;if(!h||!m){const S=(d.media||[]).find(b=>b.port!==0);S&&(h??(h=S.setup),m??(m=S.fingerprint))}if(h){if(!m)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let v;switch(h){case"active":{v="client";break}case"passive":{v="server";break}case"actpass":{v="auto";break}}return{role:v,fingerprints:[{algorithm:m.type,value:m.hash}]}}function c({offerMediaObject:d}){const h=(d.ssrcs||[]).find(m=>m.attribute==="cname");return h?h.value:""}function l({offerRtpParameters:d,answerMediaObject:h}){for(const m of d.codecs){const v=m.mimeType.toLowerCase();if(v!=="audio/opus"||!(h.rtp||[]).find(E=>E.payload===m.payloadType))continue;h.fmtp=h.fmtp||[];let S=h.fmtp.find(E=>E.payload===m.payloadType);S||(S={payload:m.payloadType,config:""},h.fmtp.push(S));const b=n.parseParams(S.config);switch(v){case"audio/opus":{const E=m.parameters["sprop-stereo"];E!==void 0&&(b.stereo=E?1:0);break}}S.config="";for(const E of Object.keys(b))S.config&&(S.config+=";"),S.config+=`${E}=${b[E]}`}}return kr}var Fa={},Nb;function Fo(){if(Nb)return Fa;Nb=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.getRtpEncodings=e,Fa.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const l=c.id;n.add(l)}if(n.size===0)throw new Error("no a=ssrc lines found");const i=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[l,d]=c.ssrcs.split(/\s+/);l=Number(l),d=Number(d),n.has(l)&&(n.delete(l),n.delete(d),i.set(l,d))}for(const c of n)i.set(c,null);const a=[];for(const[c,l]of i){const d={ssrc:c};l&&(d.rtx={ssrc:l}),a.push(d)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const i=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!i)throw new Error("a=ssrc line with msid information not found");const[a,c]=i.value.split(" "),l=Number(i.id);let d;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===l?(d=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const m=h.value,v=[],w=[];for(let S=0;S<n;++S)v.push(l+S),d&&w.push(d+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:m}),r.ssrcs.push({id:S,attribute:"msid",value:`${a} ${c}`});for(let S=0;S<w.length;++S){const b=v[S],E=w[S];r.ssrcs.push({id:E,attribute:"cname",value:m}),r.ssrcs.push({id:E,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return Fa}var zl={},Ab;function zd(){if(Ab)return zl;Ab=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(i=>i.type==="nack"&&!i.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return zl}var za={},$b;function Lr(){if($b)return za;$b=1,Object.defineProperty(za,"__esModule",{value:!0}),za.HandlerInterface=void 0;const e=$o();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return za.HandlerInterface=t,za}var on={},sr={},Fb;function pN(){if(Fb)return sr;Fb=1;var e=sr&&sr.__createBinding||(Object.create?function(h,m,v,w){w===void 0&&(w=v);var S=Object.getOwnPropertyDescriptor(m,v);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(h,w,S)}:function(h,m,v,w){w===void 0&&(w=v),h[w]=m[v]}),t=sr&&sr.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=sr&&sr.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&e(m,h,v);return t(m,h),m};Object.defineProperty(sr,"__esModule",{value:!0}),sr.OfferMediaSection=sr.AnswerMediaSection=sr.MediaSection=void 0;const n=r(_r()),i=r(Wt());let a=class{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:w,planB:S=!1}){if(this._mediaObject={},this._planB=S,m&&this.setIceParameters(m),v){this._mediaObject.candidates=[];for(const b of v){const E={};E.component=1,E.foundation=b.foundation,E.ip=b.address??b.ip,E.port=b.port,E.priority=b.priority,E.transport=b.protocol,E.type=b.type,b.tcpType&&(E.tcptype=b.tcpType),this._mediaObject.candidates.push(E)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}w&&this.setDtlsRole(w.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(m){this._mediaObject.iceUfrag=m.usernameFragment,this._mediaObject.icePwd=m.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};sr.MediaSection=a;class c extends a{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:E=!1,offerMediaObject:R,offerRtpParameters:T,answerRtpParameters:_,codecOptions:p,extmapAllowMixed:f=!1}){switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:w,planB:E}),this._mediaObject.mid=String(R.mid),this._mediaObject.type=R.type,this._mediaObject.protocol=R.protocol,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),R.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const g of _.codecs){const x={payload:g.payloadType,codec:d(g),rate:g.clockRate};g.channels>1&&(x.encoding=g.channels),this._mediaObject.rtp.push(x);const P=i.clone(g.parameters)??{};let I=i.clone(g.rtcpFeedback)??[];if(p){const{opusStereo:M,opusFec:A,opusDtx:N,opusMaxPlaybackRate:B,opusMaxAverageBitrate:W,opusPtime:K,opusNack:O,videoGoogleStartBitrate:V,videoGoogleMaxBitrate:F,videoGoogleMinBitrate:z}=p,q=T.codecs.find(U=>U.payloadType===g.payloadType);switch(g.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{M!==void 0&&(q.parameters["sprop-stereo"]=M?1:0,P.stereo=M?1:0),A!==void 0&&(q.parameters.useinbandfec=A?1:0,P.useinbandfec=A?1:0),N!==void 0&&(q.parameters.usedtx=N?1:0,P.usedtx=N?1:0),B!==void 0&&(P.maxplaybackrate=B),W!==void 0&&(P.maxaveragebitrate=W),K!==void 0&&(q.parameters.ptime=K,P.ptime=K),O||(q.rtcpFeedback=q.rtcpFeedback.filter(U=>U.type!=="nack"||U.parameter),I=I.filter(U=>U.type!=="nack"||U.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{V!==void 0&&(P["x-google-start-bitrate"]=V),F!==void 0&&(P["x-google-max-bitrate"]=F),z!==void 0&&(P["x-google-min-bitrate"]=z);break}}}const L={payload:g.payloadType,config:""};for(const M of Object.keys(P))L.config&&(L.config+=";"),L.config+=`${M}=${P[M]}`;L.config&&this._mediaObject.fmtp.push(L);for(const M of I)this._mediaObject.rtcpFb.push({payload:g.payloadType,type:M.type,subtype:M.parameter})}this._mediaObject.payloads=_.codecs.map(g=>g.payloadType).join(" "),this._mediaObject.ext=[];for(const g of _.headerExtensions)(R.ext??[]).some(P=>P.uri===g.uri)&&this._mediaObject.ext.push({uri:g.uri,value:g.id});if(f&&R.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),R.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:R.simulcast.list1},this._mediaObject.rids=[];for(const g of R.rids??[])g.direction==="send"&&this._mediaObject.rids.push({id:g.id,direction:"recv"})}else if(R.simulcast_03){this._mediaObject.simulcast_03={value:R.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const g of R.rids??[])g.direction==="send"&&this._mediaObject.rids.push({id:g.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof R.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):R.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(m){switch(m){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(m){var b,E;if(!((b=this._mediaObject.simulcast)!=null&&b.list1))return;const v={};for(const R of m)R.rid&&(v[R.rid]=R);const w=this._mediaObject.simulcast.list1,S=n.parseSimulcastStreamList(w);for(const R of S)for(const T of R)T.paused=!((E=v[T.scid])!=null&&E.active);this._mediaObject.simulcast.list1=S.map(R=>R.map(T=>`${T.paused?"~":""}${T.scid}`).join(",")).join(";")}}sr.AnswerMediaSection=c;class l extends a{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:E=!1,mid:R,kind:T,offerRtpParameters:_,streamId:p,trackId:f,oldDataChannelSpec:g=!1}){var x;switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:w,planB:E}),this._mediaObject.mid=String(R),this._mediaObject.type=T,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),T){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${p??"-"} ${f}`);for(const M of _.codecs){const A={payload:M.payloadType,codec:d(M),rate:M.clockRate};M.channels>1&&(A.encoding=M.channels),this._mediaObject.rtp.push(A);const N={payload:M.payloadType,config:""};for(const B of Object.keys(M.parameters))N.config&&(N.config+=";"),N.config+=`${B}=${M.parameters[B]}`;N.config&&this._mediaObject.fmtp.push(N);for(const B of M.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:M.payloadType,type:B.type,subtype:B.parameter})}this._mediaObject.payloads=_.codecs.map(M=>M.payloadType).join(" "),this._mediaObject.ext=[];for(const M of _.headerExtensions)this._mediaObject.ext.push({uri:M.uri,value:M.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const P=_.encodings[0],I=P.ssrc,L=(x=P.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],_.rtcp.cname&&this._mediaObject.ssrcs.push({id:I,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:I,attribute:"msid",value:`${p??"-"} ${f}`}),L&&(_.rtcp.cname&&this._mediaObject.ssrcs.push({id:L,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:L,attribute:"msid",value:`${p??"-"} ${f}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${I} ${L}`}));break}case"application":{g?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(m){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:m,streamId:v,trackId:w}){var T;const S=m.encodings[0],b=S.ssrc,E=(T=S.rtx)==null?void 0:T.ssrc,R=this._mediaObject.payloads.split(" ");for(const _ of m.codecs){if(R.includes(String(_.payloadType)))continue;const p={payload:_.payloadType,codec:d(_),rate:_.clockRate};_.channels>1&&(p.encoding=_.channels),this._mediaObject.rtp.push(p);const f={payload:_.payloadType,config:""};for(const g of Object.keys(_.parameters))f.config&&(f.config+=";"),f.config+=`${g}=${_.parameters[g]}`;f.config&&this._mediaObject.fmtp.push(f);for(const g of _.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:_.payloadType,type:g.type,subtype:g.parameter})}this._mediaObject.payloads+=` ${m.codecs.filter(_=>!this._mediaObject.payloads.includes(_.payloadType)).map(_=>_.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),m.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${v??"-"} ${w}`}),E&&(m.rtcp.cname&&this._mediaObject.ssrcs.push({id:E,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:E,attribute:"msid",value:`${v??"-"} ${w}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`}))}planBStopReceiving({offerRtpParameters:m}){var b;const v=m.encodings[0],w=v.ssrc,S=(b=v.rtx)==null?void 0:b.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(E=>E.id!==w&&E.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(E=>E.ssrcs!==`${w} ${S}`))}}sr.OfferMediaSection=l;function d(h){const v=new RegExp("^(audio|video)/(.+)","i").exec(h.mimeType);if(!v)throw new TypeError("invalid codec.mimeType");return v[2]}return sr}var zb;function Pn(){if(zb)return on;zb=1;var e=on&&on.__createBinding||(Object.create?function(d,h,m,v){v===void 0&&(v=m);var w=Object.getOwnPropertyDescriptor(h,m);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,v,w)}:function(d,h,m,v){v===void 0&&(v=m),d[v]=h[m]}),t=on&&on.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=on&&on.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&e(h,d,m);return t(h,d),h};Object.defineProperty(on,"__esModule",{value:!0}),on.RemoteSdp=void 0;const n=r(_r()),i=Et(),a=pN(),c=new i.Logger("RemoteSdp");let l=class{constructor({iceParameters:h,iceCandidates:m,dtlsParameters:v,sctpParameters:w,plainRtpParameters:S,planB:b=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=h,this._iceCandidates=m,this._dtlsParameters=v,this._sctpParameters=w,this._plainRtpParameters=S,this._planB=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},h!=null&&h.iceLite&&(this._sdpObject.icelite="ice-lite"),v){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const E=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:v.fingerprints[E-1].algorithm,hash:v.fingerprints[E-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(h){c.debug("updateIceParameters() [iceParameters:%o]",h),this._iceParameters=h,this._sdpObject.icelite=h.iceLite?"ice-lite":void 0;for(const m of this._mediaSections)m.setIceParameters(h)}updateDtlsRole(h){c.debug("updateDtlsRole() [role:%s]",h),this._dtlsParameters.role=h;for(const m of this._mediaSections)m.setDtlsRole(h)}getNextMediaSectionIdx(){for(let h=0;h<this._mediaSections.length;++h){const m=this._mediaSections[h];if(m.closed)return{idx:h,reuseMid:m.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:h,reuseMid:m,offerRtpParameters:v,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b=!1}){const E=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:h,offerRtpParameters:v,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b});m?this._replaceMediaSection(E,m):this._midToIndex.has(E.mid)?this._replaceMediaSection(E):this._addMediaSection(E)}receive({mid:h,kind:m,offerRtpParameters:v,streamId:w,trackId:S}){const b=this._midToIndex.get(h);let E;if(b!==void 0&&(E=this._mediaSections[b]),E)E.planBReceive({offerRtpParameters:v,streamId:w,trackId:S}),this._replaceMediaSection(E);else{E=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:h,kind:m,offerRtpParameters:v,streamId:w,trackId:S});const R=this._mediaSections.find(T=>T.closed);R?this._replaceMediaSection(E,R.mid):this._addMediaSection(E)}}pauseMediaSection(h){this._findMediaSection(h).pause()}resumeSendingMediaSection(h){this._findMediaSection(h).resume()}resumeReceivingMediaSection(h){this._findMediaSection(h).resume()}disableMediaSection(h){this._findMediaSection(h).disable()}closeMediaSection(h){const m=this._findMediaSection(h);return h===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",h),this.disableMediaSection(h),!1):(m.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(h,m){const v=this._findMediaSection(h);v.muxSimulcastStreams(m),this._replaceMediaSection(v)}planBStopReceiving({mid:h,offerRtpParameters:m}){const v=this._findMediaSection(h);v.planBStopReceiving({offerRtpParameters:m}),this._replaceMediaSection(v)}sendSctpAssociation({offerMediaObject:h}){const m=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:h});this._addMediaSection(m)}receiveSctpAssociation({oldDataChannelSpec:h=!1}={}){const m=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:h});this._addMediaSection(m)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(h){this._firstMid||(this._firstMid=h.mid),this._mediaSections.push(h),this._midToIndex.set(h.mid,this._mediaSections.length-1),this._sdpObject.media.push(h.getObject()),this._regenerateBundleMids()}_replaceMediaSection(h,m){if(typeof m=="string"){const v=this._midToIndex.get(m);if(v===void 0)throw new Error(`no media section found for reuseMid '${m}'`);const w=this._mediaSections[v];this._mediaSections[v]=h,this._midToIndex.delete(w.mid),this._midToIndex.set(h.mid,v),this._sdpObject.media[v]=h.getObject(),this._regenerateBundleMids()}else{const v=this._midToIndex.get(h.mid);if(v===void 0)throw new Error(`no media section found with mid '${h.mid}'`);this._mediaSections[v]=h,this._sdpObject.media[v]=h.getObject()}}_findMediaSection(h){const m=this._midToIndex.get(h);if(m===void 0)throw new Error(`no media section found with mid '${h}'`);return this._mediaSections[m]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(h=>!h.closed).map(h=>h.mid).join(" "))}};return on.RemoteSdp=l,on}var Bl={},Bb;function eo(){if(Bb)return Bl;Bb=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return Bl}var Ub;function hN(){if(Ub)return sn;Ub=1;var e=sn&&sn.__createBinding||(Object.create?function(_,p,f,g){g===void 0&&(g=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,g,x)}:function(_,p,f,g){g===void 0&&(g=f),_[g]=p[f]}),t=sn&&sn.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=sn&&sn.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Chrome111=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Fo()),h=r(zd()),m=cr(),v=Lr(),w=Pn(),S=eo(),b=new i.Logger("Chrome111"),E="Chrome111",R={OS:1024,MIS:1024};let T=class _x extends v.HandlerInterface{static createFactory(){return()=>new _x}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const g=n.parse(f.sdp),x=l.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:I,iceTransportPolicy:L,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:g,codec:x,onRtpSender:P}){if(this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1){let V=1;for(const F of f){const z=F.scalabilityMode?(0,S.parse)(F.scalabilityMode).temporalLayers:3;z>V&&(V=z)}f.forEach((F,z)=>{F.rid=`r${z}`,F.scalabilityMode=`L1T${V}`})}const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});P&&P(A.sender);const N=await this._pc.createOffer();let B=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const W=A.mid;I.mid=W,B=n.parse(this._pc.localDescription.sdp);const K=B.media[M.idx];if(I.rtcp.cname=l.getCname({offerMediaObject:K}),!f)I.encodings=d.getRtpEncodings({offerMediaObject:K});else if(f.length===1){const V=d.getRtpEncodings({offerMediaObject:K});Object.assign(V[0],f[0]),I.encodings=V}else I.encodings=f;this._remoteSdp.send({offerMediaObject:K,reuseMid:M.reuseMid,offerRtpParameters:I,answerRtpParameters:L,codecOptions:g,extmapAllowMixed:!0});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{M<=f?L.active=!0:L.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{x.encodings[M]={...L,...f}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),B=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:B});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:L,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],g=new Map;for(const L of p){const{trackId:M,kind:A,rtpParameters:N,streamId:B}=L;b.debug("receive() [trackId:%s, kind:%s]",M,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:B??N.rtcp.cname,trackId:M})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of p){const{trackId:M,onRtpReceiver:A}=L;if(A){const N=g.get(M),B=this._pc.getTransceivers().find(W=>W.mid===N);if(!B)throw new Error("transceiver not found");A(B.receiver)}}let P=await this._pc.createAnswer();const I=n.parse(P.sdp);for(const L of p){const{trackId:M,rtpParameters:A}=L,N=g.get(M),B=I.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:B})}P={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const L of p){const{trackId:M}=L,A=g.get(M),N=this._pc.getTransceivers().find(B=>B.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L}=p,M={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L,protocol:g};b.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(f,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const B=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(B.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setLocalDescription(B),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const g=l.extractDtlsParameters({sdpObject:f});g.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return sn.Chrome111=T,sn}var an={},Vb;function mN(){if(Vb)return an;Vb=1;var e=an&&an.__createBinding||(Object.create?function(_,p,f,g){g===void 0&&(g=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,g,x)}:function(_,p,f,g){g===void 0&&(g=f),_[g]=p[f]}),t=an&&an.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=an&&an.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(an,"__esModule",{value:!0}),an.Chrome74=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Fo()),h=r(zd()),m=cr(),v=Lr(),w=Pn(),S=eo(),b=new i.Logger("Chrome74"),E="Chrome74",R={OS:1024,MIS:1024};let T=class xx extends v.HandlerInterface{static createFactory(){return()=>new xx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const g=n.parse(f.sdp),x=l.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:I,iceTransportPolicy:L,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:N}){b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:g,codec:x}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1&&f.forEach((F,z)=>{F.rid=`r${z}`});const P=a.clone(this._sendingRtpParametersByKind[p.kind]);P.codecs=c.reduceCodecs(P.codecs,x);const I=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const L=this._remoteSdp.getNextMediaSectionIdx(),M=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});let A=await this._pc.createOffer(),N=n.parse(A.sdp),B;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let W=!1;const K=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length===1&&K.spatialLayers>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,N=n.parse(A.sdp),B=N.media[L.idx],d.addLegacySimulcast({offerMediaObject:B,numStreams:K.spatialLayers}),A={type:"offer",sdp:n.write(N)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const O=M.mid;if(P.mid=O,N=n.parse(this._pc.localDescription.sdp),B=N.media[L.idx],P.rtcp.cname=l.getCname({offerMediaObject:B}),!f)P.encodings=d.getRtpEncodings({offerMediaObject:B});else if(f.length===1){let F=d.getRtpEncodings({offerMediaObject:B});Object.assign(F[0],f[0]),W&&(F=[F[0]]),P.encodings=F}else P.encodings=f;if(P.encodings.length>1&&(P.codecs[0].mimeType.toLowerCase()==="video/vp8"||P.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of P.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${K.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:B,reuseMid:L.reuseMid,offerRtpParameters:P,answerRtpParameters:I,codecOptions:g,extmapAllowMixed:!0});const V={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._mapMidTransceiver.set(O,M),{localId:O,rtpParameters:P,rtpSender:M.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{M<=f?L.active=!0:L.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{x.encodings[M]={...L,...f}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),B=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:B});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:L,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],g=new Map;for(const L of p){const{trackId:M,kind:A,rtpParameters:N,streamId:B}=L;b.debug("receive() [trackId:%s, kind:%s]",M,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:B??N.rtcp.cname,trackId:M})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let P=await this._pc.createAnswer();const I=n.parse(P.sdp);for(const L of p){const{trackId:M,rtpParameters:A}=L,N=g.get(M),B=I.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:B})}P={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const L of p){const{trackId:M}=L,A=g.get(M),N=this._pc.getTransceivers().find(B=>B.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L}=p,M={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L,protocol:g};b.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(f,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const B=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(B.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setLocalDescription(B),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const g=l.extractDtlsParameters({sdpObject:f});g.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return an.Chrome74=T,an}var cn={},Hb;function gN(){if(Hb)return cn;Hb=1;var e=cn&&cn.__createBinding||(Object.create?function(R,T,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(T,_);(!f||("get"in f?!T.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return T[_]}}),Object.defineProperty(R,p,f)}:function(R,T,_,p){p===void 0&&(p=_),R[p]=T[_]}),t=cn&&cn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=cn&&cn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var _ in R)_!=="default"&&Object.prototype.hasOwnProperty.call(R,_)&&e(T,R,_);return t(T,R),T};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Chrome70=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Fo()),h=Lr(),m=Pn(),v=eo(),w=new i.Logger("Chrome70"),S="Chrome70",b={OS:1024,MIS:1024};let E=class Cx extends h.HandlerInterface{static createFactory(){return()=>new Cx}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{T.addTransceiver("audio"),T.addTransceiver("video");const _=await T.createOffer();try{T.close()}catch{}const p=n.parse(_.sdp);return l.extractRtpCapabilities({sdpObject:p})}catch(_){try{T.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:I,proprietaryConstraints:L,extendedRtpCapabilities:M}){w.debug("run()"),this._direction=T,this._remoteSdp=new m.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",M),video:c.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",M),video:c.getSendingRemoteRtpParameters("video",M)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=T,this._pc.setConfiguration(_)}async restartIce(T){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",T.kind,T.id);const g=a.clone(this._sendingRtpParametersByKind[T.kind]);g.codecs=c.reduceCodecs(g.codecs,f);const x=a.clone(this._sendingRemoteRtpParametersByKind[T.kind]);x.codecs=c.reduceCodecs(x.codecs,f);const P=this._remoteSdp.getNextMediaSectionIdx(),I=this._pc.addTransceiver(T,{direction:"sendonly",streams:[this._sendStream]});let L=await this._pc.createOffer(),M=n.parse(L.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),_&&_.length>1&&(w.debug("send() | enabling legacy simulcast"),M=n.parse(L.sdp),A=M.media[P.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:_.length}),L={type:"offer",sdp:n.write(M)});let N=!1;const B=(0,v.parse)((_??[{}])[0].scalabilityMode);if(_&&_.length===1&&B.spatialLayers>1&&g.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),N=!0,M=n.parse(L.sdp),A=M.media[P.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:B.spatialLayers}),L={type:"offer",sdp:n.write(M)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),_){w.debug("send() | applying given encodings");const O=I.sender.getParameters();for(let V=0;V<(O.encodings??[]).length;++V){const F=O.encodings[V],z=_[V];if(!z)break;O.encodings[V]=Object.assign(F,z)}await I.sender.setParameters(O)}const W=I.mid;if(g.mid=W,M=n.parse(this._pc.localDescription.sdp),A=M.media[P.idx],g.rtcp.cname=l.getCname({offerMediaObject:A}),g.encodings=d.getRtpEncodings({offerMediaObject:A}),_)for(let O=0;O<g.encodings.length;++O)_[O]&&Object.assign(g.encodings[O],_[O]);if(N&&(g.encodings=[g.encodings[0]]),g.encodings.length>1&&(g.codecs[0].mimeType.toLowerCase()==="video/vp8"||g.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of g.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:P.reuseMid,offerRtpParameters:g,answerRtpParameters:x,codecOptions:p});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(W,I),{localId:W,rtpParameters:g,rtpSender:I.sender}}async stopSending(T){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",T);const _=this._mapMidTransceiver.get(T);if(!_)throw new Error("associated RTCRtpTransceiver not found");if(_.sender.replaceTrack(null),this._pc.removeTrack(_.sender),this._remoteSdp.closeMediaSection(_.mid))try{_.stop()}catch{}const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(T)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,_){this.assertSendDirection(),_?w.debug("replaceTrack() [localId:%s, track.id:%s]",T,_.id):w.debug("replaceTrack() [localId:%s, no track]",T);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(_)}async setMaxSpatialLayer(T,_){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",T,_);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const f=p.sender.getParameters();f.encodings.forEach((P,I)=>{I<=_?P.active=!0:P.active=!1}),await p.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(T,f.encodings);const g=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async setRtpEncodingParameters(T,_){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",T,_);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const f=p.sender.getParameters();f.encodings.forEach((P,I)=>{f.encodings[I]={...P,..._}}),await p.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(T,f.encodings);const g=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async getSenderStats(T){this.assertSendDirection();const _=this._mapMidTransceiver.get(T);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.sender.getStats()}async sendDataChannel({ordered:T,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),M=n.parse(L.sdp),A=M.media.find(B=>B.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:I}}async receive(T){this.assertRecvDirection();const _=[],p=new Map;for(const P of T){const{trackId:I,kind:L,rtpParameters:M,streamId:A}=P;w.debug("receive() [trackId:%s, kind:%s]",I,L);const N=M.mid??String(this._mapMidTransceiver.size);p.set(I,N),this._remoteSdp.receive({mid:N,kind:L,offerRtpParameters:M,streamId:A??M.rtcp.cname,trackId:I})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let g=await this._pc.createAnswer();const x=n.parse(g.sdp);for(const P of T){const{trackId:I,rtpParameters:L}=P,M=p.get(I),A=x.media.find(N=>String(N.mid)===M);l.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}g={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const P of T){const{trackId:I}=P,L=p.get(I),M=this._pc.getTransceivers().find(A=>A.mid===L);if(!M)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(L,M),_.push({localId:L,track:M.receiver.track,rtpReceiver:M.receiver})}return _}async stopReceiving(T){this.assertRecvDirection();for(const f of T){w.debug("stopReceiving() [localId:%s]",f);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(g.mid)}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const f of T)this._mapMidTransceiver.delete(f)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){this.assertRecvDirection();const _=this._mapMidTransceiver.get(T);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:T,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=T,I={negotiated:!0,id:f,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const M={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=l.extractDtlsParameters({sdpObject:_});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((f,g)=>{this.safeEmit("@connect",{dtlsParameters:p},f,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return cn.Chrome70=E,cn}var ln={},Ba={},Wb;function Bd(){if(Wb)return Ba;Wb=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.getRtpEncodings=e,Ba.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const i=new Set;for(const l of r.ssrcs||[]){if(l.attribute!=="msid")continue;if(l.value.split(" ")[1]===n.id){const h=l.id;i.add(h)}}if(i.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const l of r.ssrcGroups||[]){if(l.semantics!=="FID")continue;let[d,h]=l.ssrcs.split(/\s+/);d=Number(d),h=Number(h),i.has(d)&&(i.delete(d),i.delete(h),a.set(d,h))}for(const l of i)a.set(l,null);const c=[];for(const[l,d]of a){const h={ssrc:l};d&&(h.rtx={ssrc:d}),c.push(h)}return c}function t({offerMediaObject:r,track:n,numStreams:i}){if(i<=1)throw new TypeError("numStreams must be greater than 1");let a,c,l;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===n.id?(a=S.id,l=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===a?(c=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===a);if(!h)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const m=h.value,v=[],w=[];for(let S=0;S<i;++S)v.push(a+S),c&&w.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:m}),r.ssrcs.push({id:S,attribute:"msid",value:`${l} ${n.id}`});for(let S=0;S<w.length;++S){const b=v[S],E=w[S];r.ssrcs.push({id:E,attribute:"cname",value:m}),r.ssrcs.push({id:E,attribute:"msid",value:`${l} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return Ba}var qb;function vN(){if(qb)return ln;qb=1;var e=ln&&ln.__createBinding||(Object.create?function(E,R,T,_){_===void 0&&(_=T);var p=Object.getOwnPropertyDescriptor(R,T);(!p||("get"in p?!R.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(E,_,p)}:function(E,R,T,_){_===void 0&&(_=T),E[_]=R[T]}),t=ln&&ln.__setModuleDefault||(Object.create?function(E,R){Object.defineProperty(E,"default",{enumerable:!0,value:R})}:function(E,R){E.default=R}),r=ln&&ln.__importStar||function(E){if(E&&E.__esModule)return E;var R={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&e(R,E,T);return t(R,E),R};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Chrome67=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Bd()),h=Lr(),m=Pn(),v=new i.Logger("Chrome67"),w="Chrome67",S={OS:1024,MIS:1024};let b=class Rx extends h.HandlerInterface{static createFactory(){return()=>new Rx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const _=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:_})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:R,iceParameters:T,iceCandidates:_,dtlsParameters:p,sctpParameters:f,iceServers:g,iceTransportPolicy:x,additionalSettings:P,proprietaryConstraints:I,extendedRtpCapabilities:L}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:_,dtlsParameters:p,sctpParameters:f,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:g??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...P},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const _={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const _=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:_,codec:p}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let f=await this._pc.createOffer(),g=n.parse(f.sdp),x;const P=a.clone(this._sendingRtpParametersByKind[R.kind]);P.codecs=c.reduceCodecs(P.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(I.codecs=c.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),g=n.parse(f.sdp),x=g.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:R,numStreams:T.length}),f={type:"offer",sdp:n.write(g)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f),g=n.parse(this._pc.localDescription.sdp),x=g.media.find(N=>N.type===R.kind),P.rtcp.cname=l.getCname({offerMediaObject:x}),P.encodings=d.getRtpEncodings({offerMediaObject:x,track:R}),T)for(let N=0;N<P.encodings.length;++N)T[N]&&Object.assign(P.encodings[N],T[N]);if(P.encodings.length>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of P.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:P,answerRtpParameters:I,codecOptions:_});const L={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const M=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===R);return this._mapSendLocalIdRtpSender.set(M,A),{localId:M,rtpParameters:P,rtpSender:A}}async stopSending(R){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",R);const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(T),T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const _=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(f){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",f.toString());return}throw f}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.track;await _.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,g)=>{g<=T?f.active=!0:f.active=!1}),await _.setParameters(p)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,g)=>{p.encodings[g]={...f,...T}}),await _.setParameters(p)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:_,label:p,protocol:f}){this.assertSendDirection();const g={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmitTime:T,maxRetransmits:_,protocol:f};v.debug("sendDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(p,g);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),L=n.parse(I.sdp),M=L.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:M});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const P={streamId:g.id,ordered:g.ordered,maxPacketLifeTime:g.maxPacketLifeTime,maxRetransmits:g.maxRetransmits};return{dataChannel:x,sctpStreamParameters:P}}async receive(R){this.assertRecvDirection();const T=[];for(const g of R){const{trackId:x,kind:P,rtpParameters:I,streamId:L}=g;v.debug("receive() [trackId:%s, kind:%s]",x,P);const M=P;this._remoteSdp.receive({mid:M,kind:P,offerRtpParameters:I,streamId:L??I.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let p=await this._pc.createAnswer();const f=n.parse(p.sdp);for(const g of R){const{kind:x,rtpParameters:P}=g,I=x,L=f.media.find(M=>String(M.mid)===I);l.applyCodecParameters({offerRtpParameters:P,answerMediaObject:L})}p={type:"answer",sdp:n.write(f)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const g of R){const{kind:x,trackId:P,rtpParameters:I}=g,L=P,M=x,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===L);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(L,{mid:M,rtpParameters:I,rtpReceiver:A}),T.push({localId:L,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const p of R){v.debug("stopReceiving() [localId:%s]",p);const{mid:f,rtpParameters:g}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:f,offerRtpParameters:g})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const _=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:_}){this.assertRecvDirection();const{streamId:p,ordered:f,maxPacketLifeTime:g,maxRetransmits:x}=R,P={negotiated:!0,id:p,ordered:f,maxPacketLifeTime:g,maxRetransmitTime:g,maxRetransmits:x,protocol:_};v.debug("receiveDataChannel() [options:%o]",P);const I=this._pc.createDataChannel(T,P);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const M=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(M.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setLocalDescription(M),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const _=l.extractDtlsParameters({sdpObject:T});_.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((p,f)=>{this.safeEmit("@connect",{dtlsParameters:_},p,f)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ln.Chrome67=b,ln}var un={},Gb;function yN(){if(Gb)return un;Gb=1;var e=un&&un.__createBinding||(Object.create?function(R,T,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(T,_);(!f||("get"in f?!T.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return T[_]}}),Object.defineProperty(R,p,f)}:function(R,T,_,p){p===void 0&&(p=_),R[p]=T[_]}),t=un&&un.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=un&&un.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var _ in R)_!=="default"&&Object.prototype.hasOwnProperty.call(R,_)&&e(T,R,_);return t(T,R),T};Object.defineProperty(un,"__esModule",{value:!0}),un.Chrome55=void 0;const n=r(_r()),i=Et(),a=cr(),c=r(Wt()),l=r(br()),d=r(kn()),h=r(Bd()),m=Lr(),v=Pn(),w=new i.Logger("Chrome55"),S="Chrome55",b={OS:1024,MIS:1024};let E=class Ex extends m.HandlerInterface{static createFactory(){return()=>new Ex}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(_){try{T.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:I,proprietaryConstraints:L,extendedRtpCapabilities:M}){w.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",M),video:l.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",M),video:l.getSendingRemoteRtpParameters("video",M)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...I},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=T,this._pc.setConfiguration(_)}async restartIce(T){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),f&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let g=await this._pc.createOffer(),x=n.parse(g.sdp),P;const I=c.clone(this._sendingRtpParametersByKind[T.kind]);I.codecs=l.reduceCodecs(I.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),T.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(g.sdp),P=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:P,track:T,numStreams:_.length}),g={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),x=n.parse(this._pc.localDescription.sdp),P=x.media.find(N=>N.type===T.kind),I.rtcp.cname=d.getCname({offerMediaObject:P}),I.encodings=h.getRtpEncodings({offerMediaObject:P,track:T}),_)for(let N=0;N<I.encodings.length;++N)_[N]&&Object.assign(I.encodings[N],_[N]);if(I.encodings.length>1&&I.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of I.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:P,offerRtpParameters:I,answerRtpParameters:L,codecOptions:p});const M={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:I}}async stopSending(T){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",T);const _=this._mapSendLocalIdTrack.get(T);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(g){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,_){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(T,_){throw new a.UnsupportedError("not supported")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),M=n.parse(L.sdp),A=M.media.find(B=>B.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:I}}async receive(T){this.assertRecvDirection();const _=[];for(const x of T){const{trackId:P,kind:I,rtpParameters:L,streamId:M}=x;w.debug("receive() [trackId:%s, kind:%s]",P,I);const A=I;this._remoteSdp.receive({mid:A,kind:I,offerRtpParameters:L,streamId:M??L.rtcp.cname,trackId:P})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let f=await this._pc.createAnswer();const g=n.parse(f.sdp);for(const x of T){const{kind:P,rtpParameters:I}=x,L=P,M=g.media.find(A=>String(A.mid)===L);d.applyCodecParameters({offerRtpParameters:I,answerMediaObject:M})}f={type:"answer",sdp:n.write(g)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const x of T){const{kind:P,trackId:I,rtpParameters:L}=x,M=P,A=I,N=x.streamId??L.rtcp.cname,W=this._pc.getRemoteStreams().find(K=>K.id===N).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:M,rtpParameters:L}),_.push({localId:A,track:W})}return _}async stopReceiving(T){this.assertRecvDirection();for(const f of T){w.debug("stopReceiving() [localId:%s]",f);const{mid:g,rtpParameters:x}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=T,I={negotiated:!0,id:f,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:_});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((f,g)=>{this.safeEmit("@connect",{dtlsParameters:p},f,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return un.Chrome55=E,un}var dn={},Kb;function wN(){if(Kb)return dn;Kb=1;var e=dn&&dn.__createBinding||(Object.create?function(T,_,p,f){f===void 0&&(f=p);var g=Object.getOwnPropertyDescriptor(_,p);(!g||("get"in g?!_.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(T,f,g)}:function(T,_,p,f){f===void 0&&(f=p),T[f]=_[p]}),t=dn&&dn.__setModuleDefault||(Object.create?function(T,_){Object.defineProperty(T,"default",{enumerable:!0,value:_})}:function(T,_){T.default=_}),r=dn&&dn.__importStar||function(T){if(T&&T.__esModule)return T;var _={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(_,T,p);return t(_,T),_};Object.defineProperty(dn,"__esModule",{value:!0}),dn.Firefox120=void 0;const n=r(_r()),i=Et(),a=cr(),c=r(Wt()),l=r(br()),d=r(kn()),h=r(Fo()),m=Lr(),v=Pn(),w=eo(),S=new i.Logger("Firefox120"),b="Firefox120",E={OS:16,MIS:2048};let R=class Tx extends m.HandlerInterface{static createFactory(){return()=>new Tx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const g=p.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"}),_.addTransceiver(g,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const x=await _.createOffer();try{p.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}const P=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:P})}catch(x){try{p.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:_,iceParameters:p,iceCandidates:f,dtlsParameters:g,sctpParameters:x,iceServers:P,iceTransportPolicy:I,additionalSettings:L,proprietaryConstraints:M,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new v.RemoteSdp({iceParameters:p,iceCandidates:f,dtlsParameters:g,sctpParameters:x}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:I??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const f={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:p,codecOptions:f,codec:g,onRtpSender:x}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),p&&p.length>1&&p.forEach((O,V)=>{O.rid=`r${V}`});const P=c.clone(this._sendingRtpParametersByKind[_.kind]);P.codecs=l.reduceCodecs(P.codecs,g);const I=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);I.codecs=l.reduceCodecs(I.codecs,g);const L=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});x&&x(L.sender);const M=await this._pc.createOffer();let A=n.parse(M.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const N=(0,w.parse)((p??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const B=L.mid;P.mid=B,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(P.rtcp.cname=d.getCname({offerMediaObject:W}),!p)P.encodings=h.getRtpEncodings({offerMediaObject:W});else if(p.length===1){const O=h.getRtpEncodings({offerMediaObject:W});Object.assign(O[0],p[0]),P.encodings=O}else P.encodings=p;if(P.encodings.length>1&&(P.codecs[0].mimeType.toLowerCase()==="video/vp8"||P.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of P.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${N.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:P,answerRtpParameters:I,codecOptions:f,extmapAllowMixed:!0});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(B,L),{localId:B,rtpParameters:P,rtpSender:L.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const f=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(_);const f=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const f=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async replaceTrack(_,p){this.assertNotClosed(),this.assertSendDirection(),p?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,p.id):S.debug("replaceTrack() [localId:%s, no track]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(p)}async setMaxSpatialLayer(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");const g=f.sender.getParameters();g.encodings.forEach((I,L)=>{L<=p?I.active=!0:I.active=!1}),await f.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");const g=f.sender.getParameters();g.encodings.forEach((I,L)=>{g.encodings[L]={...I,...p}}),await f.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:p,maxRetransmits:f,label:g,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:p,maxRetransmits:f,protocol:x};S.debug("sendDataChannel() [options:%o]",P);const I=this._pc.createDataChannel(g,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),A=n.parse(M.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const B={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const L={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:I,sctpStreamParameters:L}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const p=[],f=new Map;for(const I of _){const{trackId:L,kind:M,rtpParameters:A,streamId:N}=I;S.debug("receive() [trackId:%s, kind:%s]",L,M);const B=A.mid??String(this._mapMidTransceiver.size);f.set(L,B),this._remoteSdp.receive({mid:B,kind:M,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:L})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);for(const I of _){const{trackId:L,onRtpReceiver:M}=I;if(M){const A=f.get(L),N=this._pc.getTransceivers().find(B=>B.mid===A);if(!N)throw new Error("transceiver not found");M(N.receiver)}}let x=await this._pc.createAnswer();const P=n.parse(x.sdp);for(const I of _){const{trackId:L,rtpParameters:M}=I,A=f.get(L),N=P.media.find(B=>String(B.mid)===A);d.applyCodecParameters({offerRtpParameters:M,answerMediaObject:N}),x={type:"answer",sdp:n.write(P)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:P}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const I of _){const{trackId:L}=I,M=f.get(L),A=this._pc.getTransceivers().find(N=>N.mid===M);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(M,A),p.push({localId:M,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const g of _){S.debug("stopReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const g of _)this._mapMidTransceiver.delete(g)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("pauseReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(g)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("resumeReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(g)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(_){this.assertRecvDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:p,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:I}=_,L={negotiated:!0,id:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:I,protocol:f};S.debug("receiveDataChannel() [options:%o]",L);const M=this._pc.createDataChannel(p,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const B=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:B})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:_,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:p});f.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((g,x)=>{this.safeEmit("@connect",{dtlsParameters:f},g,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return dn.Firefox120=R,dn}var fn={},Yb;function SN(){if(Yb)return fn;Yb=1;var e=fn&&fn.__createBinding||(Object.create?function(T,_,p,f){f===void 0&&(f=p);var g=Object.getOwnPropertyDescriptor(_,p);(!g||("get"in g?!_.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(T,f,g)}:function(T,_,p,f){f===void 0&&(f=p),T[f]=_[p]}),t=fn&&fn.__setModuleDefault||(Object.create?function(T,_){Object.defineProperty(T,"default",{enumerable:!0,value:_})}:function(T,_){T.default=_}),r=fn&&fn.__importStar||function(T){if(T&&T.__esModule)return T;var _={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(_,T,p);return t(_,T),_};Object.defineProperty(fn,"__esModule",{value:!0}),fn.Firefox60=void 0;const n=r(_r()),i=Et(),a=cr(),c=r(Wt()),l=r(br()),d=r(kn()),h=r(Fo()),m=Lr(),v=Pn(),w=eo(),S=new i.Logger("Firefox60"),b="Firefox60",E={OS:16,MIS:2048};let R=class kx extends m.HandlerInterface{static createFactory(){return()=>new kx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const g=p.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"});const x=_.addTransceiver(g,{direction:"sendrecv"}),P=x.sender.getParameters(),I=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];P.encodings=I,await x.sender.setParameters(P);const L=await _.createOffer();try{p.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}const M=n.parse(L.sdp);return d.extractRtpCapabilities({sdpObject:M})}catch(x){try{p.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:_,iceParameters:p,iceCandidates:f,dtlsParameters:g,sctpParameters:x,iceServers:P,iceTransportPolicy:I,additionalSettings:L,proprietaryConstraints:M,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new v.RemoteSdp({iceParameters:p,iceCandidates:f,dtlsParameters:g,sctpParameters:x}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:I??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const f={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:p,codecOptions:f,codec:g}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),p&&(p=c.clone(p),p.forEach((K,O)=>{K.rid=`r${O}`}),p.reverse());const x=c.clone(this._sendingRtpParametersByKind[_.kind]);x.codecs=l.reduceCodecs(x.codecs,g);const P=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);P.codecs=l.reduceCodecs(P.codecs,g);const I=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});if(p){const K=I.sender.getParameters();K.encodings=p,await I.sender.setParameters(K)}const L=await this._pc.createOffer();let M=n.parse(L.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:M});const A=(0,w.parse)((p??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const N=I.mid;x.mid=N,M=n.parse(this._pc.localDescription.sdp);const B=M.media[M.media.length-1];if(x.rtcp.cname=d.getCname({offerMediaObject:B}),!p)x.encodings=h.getRtpEncodings({offerMediaObject:B});else if(p.length===1){const K=h.getRtpEncodings({offerMediaObject:B});Object.assign(K[0],p[0]),x.encodings=K}else x.encodings=p.reverse();if(x.encodings.length>1&&(x.codecs[0].mimeType.toLowerCase()==="video/vp8"||x.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const K of x.encodings)K.scalabilityMode?K.scalabilityMode=`L1T${A.temporalLayers}`:K.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:B,offerRtpParameters:x,answerRtpParameters:P,codecOptions:f,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(N,I),{localId:N,rtpParameters:x,rtpSender:I.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const f=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(_);const f=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const f=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async replaceTrack(_,p){this.assertNotClosed(),this.assertSendDirection(),p?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,p.id):S.debug("replaceTrack() [localId:%s, no track]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(p)}async setMaxSpatialLayer(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");const g=f.sender.getParameters();p=g.encodings.length-1-p,g.encodings.forEach((I,L)=>{L>=p?I.active=!0:I.active=!1}),await f.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");const g=f.sender.getParameters();g.encodings.forEach((I,L)=>{g.encodings[L]={...I,...p}}),await f.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:p,maxRetransmits:f,label:g,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:p,maxRetransmits:f,protocol:x};S.debug("sendDataChannel() [options:%o]",P);const I=this._pc.createDataChannel(g,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),A=n.parse(M.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const B={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const L={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:I,sctpStreamParameters:L}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const p=[],f=new Map;for(const I of _){const{trackId:L,kind:M,rtpParameters:A,streamId:N}=I;S.debug("receive() [trackId:%s, kind:%s]",L,M);const B=A.mid??String(this._mapMidTransceiver.size);f.set(L,B),this._remoteSdp.receive({mid:B,kind:M,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:L})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);let x=await this._pc.createAnswer();const P=n.parse(x.sdp);for(const I of _){const{trackId:L,rtpParameters:M}=I,A=f.get(L),N=P.media.find(B=>String(B.mid)===A);d.applyCodecParameters({offerRtpParameters:M,answerMediaObject:N}),x={type:"answer",sdp:n.write(P)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:P}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const I of _){const{trackId:L}=I,M=f.get(L),A=this._pc.getTransceivers().find(N=>N.mid===M);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(M,A),p.push({localId:M,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const g of _){S.debug("stopReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const g of _)this._mapMidTransceiver.delete(g)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("pauseReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(g)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("resumeReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(g)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(_){this.assertRecvDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:p,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:I}=_,L={negotiated:!0,id:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:I,protocol:f};S.debug("receiveDataChannel() [options:%o]",L);const M=this._pc.createDataChannel(p,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const B=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:B})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:_,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:p});f.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((g,x)=>{this.safeEmit("@connect",{dtlsParameters:f},g,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return fn.Firefox60=R,fn}var pn={},Xb;function bN(){if(Xb)return pn;Xb=1;var e=pn&&pn.__createBinding||(Object.create?function(_,p,f,g){g===void 0&&(g=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,g,x)}:function(_,p,f,g){g===void 0&&(g=f),_[g]=p[f]}),t=pn&&pn.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=pn&&pn.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(pn,"__esModule",{value:!0}),pn.Safari12=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Fo()),h=r(zd()),m=cr(),v=Lr(),w=Pn(),S=eo(),b=new i.Logger("Safari12"),E="Safari12",R={OS:1024,MIS:1024};let T=class Px extends v.HandlerInterface{static createFactory(){return()=>new Px}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const g=n.parse(f.sdp),x=l.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:I,iceTransportPolicy:L,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:g,codec:x,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id);const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream]});P&&P(A.sender);let N=await this._pc.createOffer(),B=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B});const K=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length>1&&(b.debug("send() | enabling legacy simulcast"),B=n.parse(N.sdp),W=B.media[M.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:f.length}),N={type:"offer",sdp:n.write(B)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=A.mid;if(I.mid=O,B=n.parse(this._pc.localDescription.sdp),W=B.media[M.idx],I.rtcp.cname=l.getCname({offerMediaObject:W}),I.encodings=d.getRtpEncodings({offerMediaObject:W}),f)for(let F=0;F<I.encodings.length;++F)f[F]&&Object.assign(I.encodings[F],f[F]);if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of I.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${K.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:M.reuseMid,offerRtpParameters:I,answerRtpParameters:L,codecOptions:g});const V={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._mapMidTransceiver.set(O,A),{localId:O,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(p);const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{M<=f?L.active=!0:L.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{x.encodings[M]={...L,...f}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),B=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:B});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:L,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],g=new Map;for(const L of p){const{trackId:M,kind:A,rtpParameters:N,streamId:B}=L;b.debug("receive() [trackId:%s, kind:%s]",M,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:B??N.rtcp.cname,trackId:M})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of p){const{trackId:M,onRtpReceiver:A}=L;if(A){const N=g.get(M),B=this._pc.getTransceivers().find(W=>W.mid===N);if(!B)throw new Error("transceiver not found");A(B.receiver)}}let P=await this._pc.createAnswer();const I=n.parse(P.sdp);for(const L of p){const{trackId:M,rtpParameters:A}=L,N=g.get(M),B=I.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:B})}P={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const L of p){const{trackId:M}=L,A=g.get(M),N=this._pc.getTransceivers().find(B=>B.mid===A);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver})}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L}=p,M={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L,protocol:g};b.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(f,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const B=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(B.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setLocalDescription(B),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const g=l.extractDtlsParameters({sdpObject:f});g.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return pn.Safari12=T,pn}var hn={},Qb;function _N(){if(Qb)return hn;Qb=1;var e=hn&&hn.__createBinding||(Object.create?function(E,R,T,_){_===void 0&&(_=T);var p=Object.getOwnPropertyDescriptor(R,T);(!p||("get"in p?!R.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(E,_,p)}:function(E,R,T,_){_===void 0&&(_=T),E[_]=R[T]}),t=hn&&hn.__setModuleDefault||(Object.create?function(E,R){Object.defineProperty(E,"default",{enumerable:!0,value:R})}:function(E,R){E.default=R}),r=hn&&hn.__importStar||function(E){if(E&&E.__esModule)return E;var R={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&e(R,E,T);return t(R,E),R};Object.defineProperty(hn,"__esModule",{value:!0}),hn.Safari11=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Bd()),h=Lr(),m=Pn(),v=new i.Logger("Safari11"),w="Safari11",S={OS:1024,MIS:1024};let b=class Dx extends h.HandlerInterface{static createFactory(){return()=>new Dx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const _=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:_})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:R,iceParameters:T,iceCandidates:_,dtlsParameters:p,sctpParameters:f,iceServers:g,iceTransportPolicy:x,additionalSettings:P,proprietaryConstraints:I,extendedRtpCapabilities:L}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:_,dtlsParameters:p,sctpParameters:f,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:g??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...P},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const _={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const _=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:_,codec:p}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let f=await this._pc.createOffer(),g=n.parse(f.sdp),x;const P=a.clone(this._sendingRtpParametersByKind[R.kind]);P.codecs=c.reduceCodecs(P.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(I.codecs=c.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),g=n.parse(f.sdp),x=g.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:R,numStreams:T.length}),f={type:"offer",sdp:n.write(g)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f),g=n.parse(this._pc.localDescription.sdp),x=g.media.find(N=>N.type===R.kind),P.rtcp.cname=l.getCname({offerMediaObject:x}),P.encodings=d.getRtpEncodings({offerMediaObject:x,track:R}),T)for(let N=0;N<P.encodings.length;++N)T[N]&&Object.assign(P.encodings[N],T[N]);if(P.encodings.length>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of P.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:P,answerRtpParameters:I,codecOptions:_});const L={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const M=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===R);return this._mapSendLocalIdRtpSender.set(M,A),{localId:M,rtpParameters:P,rtpSender:A}}async stopSending(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const _=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(f){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",f.toString());return}throw f}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.track;await _.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,g)=>{g<=T?f.active=!0:f.active=!1}),await _.setParameters(p)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const _=this._mapSendLocalIdRtpSender.get(R);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,g)=>{p.encodings[g]={...f,...T}}),await _.setParameters(p)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:_,label:p,protocol:f}){this.assertSendDirection();const g={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmits:_,protocol:f};v.debug("sendDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(p,g);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),L=n.parse(I.sdp),M=L.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:M});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const P={streamId:g.id,ordered:g.ordered,maxPacketLifeTime:g.maxPacketLifeTime,maxRetransmits:g.maxRetransmits};return{dataChannel:x,sctpStreamParameters:P}}async receive(R){this.assertRecvDirection();const T=[];for(const g of R){const{trackId:x,kind:P,rtpParameters:I,streamId:L}=g;v.debug("receive() [trackId:%s, kind:%s]",x,P);const M=P;this._remoteSdp.receive({mid:M,kind:P,offerRtpParameters:I,streamId:L??I.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let p=await this._pc.createAnswer();const f=n.parse(p.sdp);for(const g of R){const{kind:x,rtpParameters:P}=g,I=x,L=f.media.find(M=>String(M.mid)===I);l.applyCodecParameters({offerRtpParameters:P,answerMediaObject:L})}p={type:"answer",sdp:n.write(f)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const g of R){const{kind:x,trackId:P,rtpParameters:I}=g,L=x,M=P,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===M);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(M,{mid:L,rtpParameters:I,rtpReceiver:A}),T.push({localId:M,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const p of R){v.debug("stopReceiving() [localId:%s]",p);const{mid:f,rtpParameters:g}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:f,offerRtpParameters:g})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const _=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async pauseReceiving(R){}async resumeReceiving(R){}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:_}){this.assertRecvDirection();const{streamId:p,ordered:f,maxPacketLifeTime:g,maxRetransmits:x}=R,P={negotiated:!0,id:p,ordered:f,maxPacketLifeTime:g,maxRetransmits:x,protocol:_};v.debug("receiveDataChannel() [options:%o]",P);const I=this._pc.createDataChannel(T,P);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const M=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(M.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setLocalDescription(M),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const _=l.extractDtlsParameters({sdpObject:T});_.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((p,f)=>{this.safeEmit("@connect",{dtlsParameters:_},p,f)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return hn.Safari11=b,hn}var mn={},gn={},Jb;function xN(){if(Jb)return gn;Jb=1;var e=gn&&gn.__createBinding||(Object.create?function(c,l,d,h){h===void 0&&(h=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,h,m)}:function(c,l,d,h){h===void 0&&(h=d),c[h]=l[d]}),t=gn&&gn.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=gn&&gn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(l,c,d);return t(l,c),l};Object.defineProperty(gn,"__esModule",{value:!0}),gn.getCapabilities=i,gn.mangleRtpParameters=a;const n=r(Wt());function i(){const c=RTCRtpReceiver.getCapabilities(),l=n.clone(c);for(const d of l.codecs??[]){if(d.channels=d.numChannels,delete d.numChannels,d.mimeType=d.mimeType??`${d.kind}/${d.name}`,d.parameters){const h=d.parameters;h.apt&&(h.apt=Number(h.apt)),h["packetization-mode"]&&(h["packetization-mode"]=Number(h["packetization-mode"]))}for(const h of d.rtcpFeedback??[])h.parameter||(h.parameter="")}return l}function a(c){const l=n.clone(c);l.mid&&(l.muxId=l.mid,delete l.mid);for(const d of l.codecs)d.channels&&(d.numChannels=d.channels,delete d.channels),d.mimeType&&!d.name&&(d.name=d.mimeType.split("/")[1]),delete d.mimeType;return l}return gn}var Zb;function CN(){if(Zb)return mn;Zb=1;var e=mn&&mn.__createBinding||(Object.create?function(w,S,b,E){E===void 0&&(E=b);var R=Object.getOwnPropertyDescriptor(S,b);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[b]}}),Object.defineProperty(w,E,R)}:function(w,S,b,E){E===void 0&&(E=b),w[E]=S[b]}),t=mn&&mn.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=mn&&mn.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&e(S,w,b);return t(S,w),S};Object.defineProperty(mn,"__esModule",{value:!0}),mn.Edge11=void 0;const n=Et(),i=cr(),a=r(Wt()),c=r(br()),l=r(xN()),d=Lr(),h=new n.Logger("Edge11"),m="Edge11";let v=class jx extends d.HandlerInterface{static createFactory(){return()=>new jx}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return m}close(){h.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return h.debug("getNativeRtpCapabilities()"),l.getCapabilities()}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:b,iceCandidates:E,dtlsParameters:R,sctpParameters:T,iceServers:_,iceTransportPolicy:p,additionalSettings:f,proprietaryConstraints:g,extendedRtpCapabilities:x}){h.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",x),video:c.getSendingRtpParameters("video",x)},this._remoteIceParameters=b,this._remoteIceCandidates=E,this._remoteDtlsParameters=R,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:_,iceTransportPolicy:p}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new i.UnsupportedError("not supported")}async restartIce(S){if(h.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){h.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const b of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(b);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:b,codecOptions:E,codec:R}){h.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),h.debug("send() | calling new RTCRtpSender()");const T=new RTCRtpSender(S,this._dtlsTransport),_=a.clone(this._sendingRtpParametersByKind[S.kind]);_.codecs=c.reduceCodecs(_.codecs,R);const p=_.codecs.some(x=>/.+\/rtx$/i.test(x.mimeType));b||(b=[{}]);for(const x of b)x.ssrc=a.generateRandomNumber(),p&&(x.rtx={ssrc:a.generateRandomNumber()});_.encodings=b,_.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const f=l.mangleRtpParameters(_);h.debug("send() | calling rtpSender.send() [params:%o]",f),await T.send(f);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(g,T),{localId:g,rtpParameters:_,rtpSender:T}}async stopSending(S){h.debug("stopSending() [localId:%s]",S);const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{h.debug("stopSending() | calling rtpSender.stop()"),b.stop()}catch(E){throw h.warn("stopSending() | rtpSender.stop() failed:%o",E),E}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,b){b?h.debug("replaceTrack() [localId:%s, track.id:%s]",S,b.id):h.debug("replaceTrack() [localId:%s, no track]",S);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");E.setTrack(b)}async setMaxSpatialLayer(S,b){h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,b);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");const R=E.getParameters();R.encodings.forEach((T,_)=>{_<=b?T.active=!0:T.active=!1}),await E.setParameters(R)}async setRtpEncodingParameters(S,b){h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,b);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");const R=E.getParameters();R.encodings.forEach((T,_)=>{R.encodings[_]={...T,...b}}),await E.setParameters(R)}async getSenderStats(S){const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");return b.getStats()}async sendDataChannel(S){throw new i.UnsupportedError("not implemented")}async receive(S){const b=[];for(const E of S){const{trackId:R,kind:T}=E;h.debug("receive() [trackId:%s, kind:%s]",R,T)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const E of S){const{trackId:R,kind:T,rtpParameters:_}=E;h.debug("receive() | calling new RTCRtpReceiver()");const p=new RTCRtpReceiver(this._dtlsTransport,T);p.addEventListener("error",x=>{h.error('rtpReceiver "error" event [event:%o]',x)});const f=l.mangleRtpParameters(_);h.debug("receive() | calling rtpReceiver.receive() [params:%o]",f),await p.receive(f);const g=R;this._rtpReceivers.set(g,p),b.push({localId:g,track:p.track,rtpReceiver:p})}return b}async stopReceiving(S){for(const b of S){h.debug("stopReceiving() [localId:%s]",b);const E=this._rtpReceivers.get(b);if(!E)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(b);try{h.debug("stopReceiving() | calling rtpReceiver.stop()"),E.stop()}catch(R){h.warn("stopReceiving() | rtpReceiver.stop() failed:%o",R)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const b=this._rtpReceivers.get(S);if(!b)throw new Error("RTCRtpReceiver not found");return b.getStats()}async receiveDataChannel(S){throw new i.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:b}){const E=new RTCIceGatherer({iceServers:S??[],gatherPolicy:b??"all"});E.addEventListener("error",R=>{h.error('iceGatherer "error" event [event:%o]',R)});try{E.gather()}catch(R){h.debug("setIceGatherer() | iceGatherer.gather() failed: %s",R.toString())}this._iceGatherer=E}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",b=>{h.debug('iceTransport "candidatepairchange" event [pair:%o]',b.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{h.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{h.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",b=>{h.error('dtlsTransport "error" event [event:%o]',b)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){h.debug("setupTransport()");const b=this._dtlsTransport.getLocalParameters();b.role=S,await new Promise((E,R)=>{this.safeEmit("@connect",{dtlsParameters:b},E,R)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const E of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(E);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(E=>E.algorithm==="sha-256"||E.algorithm==="sha-384"||E.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return mn.Edge11=v,mn}var vn={},e_;function RN(){if(e_)return vn;e_=1;var e=vn&&vn.__createBinding||(Object.create?function(_,p,f,g){g===void 0&&(g=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,g,x)}:function(_,p,f,g){g===void 0&&(g=f),_[g]=p[f]}),t=vn&&vn.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=vn&&vn.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(vn,"__esModule",{value:!0}),vn.ReactNativeUnifiedPlan=void 0;const n=r(_r()),i=Et(),a=r(Wt()),c=r(br()),l=r(kn()),d=r(Fo()),h=r(zd()),m=cr(),v=Lr(),w=Pn(),S=eo(),b=new i.Logger("ReactNativeUnifiedPlan"),E="ReactNativeUnifiedPlan",R={OS:1024,MIS:1024};let T=class Ix extends v.HandlerInterface{static createFactory(){return()=>new Ix}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const g=n.parse(f.sdp),x=l.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:I,iceTransportPolicy:L,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:g,codec:x,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1&&f.forEach((z,q)=>{z.rid=`r${q}`});const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});P&&P(A.sender);let N=await this._pc.createOffer(),B=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B});let K=!1;const O=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length===1&&O.spatialLayers>1&&I.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),K=!0,B=n.parse(N.sdp),W=B.media[M.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:O.spatialLayers}),N={type:"offer",sdp:n.write(B)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);let V=A.mid??void 0;if(V||b.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),I.mid=V,B=n.parse(this._pc.localDescription.sdp),W=B.media[M.idx],I.rtcp.cname=l.getCname({offerMediaObject:W}),!f)I.encodings=d.getRtpEncodings({offerMediaObject:W});else if(f.length===1){let z=d.getRtpEncodings({offerMediaObject:W});Object.assign(z[0],f[0]),K&&(z=[z[0]]),I.encodings=z}else I.encodings=f;if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const z of I.encodings)z.scalabilityMode?z.scalabilityMode=`L1T${O.temporalLayers}`:z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:M.reuseMid,offerRtpParameters:I,answerRtpParameters:L,codecOptions:g,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),V||(V=A.mid,I.mid=V),this._mapMidTransceiver.set(V,A),{localId:V,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{M<=f?L.active=!0:L.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const g=this._mapMidTransceiver.get(p);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((L,M)=>{x.encodings[M]={...L,...f}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),B=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:B});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:L,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],g=new Map;for(const L of p){const{trackId:M,kind:A,rtpParameters:N,streamId:B}=L;b.debug("receive() [trackId:%s, kind:%s]",M,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:B??N.rtcp.cname,trackId:M})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of p){const{trackId:M,onRtpReceiver:A}=L;if(A){const N=g.get(M),B=this._pc.getTransceivers().find(W=>W.mid===N);if(!B)throw new Error("transceiver not found");A(B.receiver)}}let P=await this._pc.createAnswer();const I=n.parse(P.sdp);for(const L of p){const{trackId:M,rtpParameters:A}=L,N=g.get(M),B=I.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:B})}P={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const L of p){const{trackId:M}=L,A=g.get(M),N=this._pc.getTransceivers().find(B=>B.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L}=p,M={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:I,maxRetransmits:L,protocol:g};b.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(f,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const B=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(B.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setLocalDescription(B),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const g=l.extractDtlsParameters({sdpObject:f});g.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return vn.ReactNativeUnifiedPlan=T,vn}var yn={},t_;function EN(){if(t_)return yn;t_=1;var e=yn&&yn.__createBinding||(Object.create?function(R,T,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(T,_);(!f||("get"in f?!T.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return T[_]}}),Object.defineProperty(R,p,f)}:function(R,T,_,p){p===void 0&&(p=_),R[p]=T[_]}),t=yn&&yn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=yn&&yn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var _ in R)_!=="default"&&Object.prototype.hasOwnProperty.call(R,_)&&e(T,R,_);return t(T,R),T};Object.defineProperty(yn,"__esModule",{value:!0}),yn.ReactNative=void 0;const n=r(_r()),i=Et(),a=cr(),c=r(Wt()),l=r(br()),d=r(kn()),h=r(Bd()),m=Lr(),v=Pn(),w=new i.Logger("ReactNative"),S="ReactNative",b={OS:1024,MIS:1024};let E=class Mx extends m.HandlerInterface{static createFactory(){return()=>new Mx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(_){try{T.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:I,proprietaryConstraints:L,extendedRtpCapabilities:M}){w.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",M),video:l.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",M),video:l.getSendingRemoteRtpParameters("video",M)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...I},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=T,this._pc.setConfiguration(_)}async restartIce(T){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),f&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let g=await this._pc.createOffer(),x=n.parse(g.sdp),P;const I=c.clone(this._sendingRtpParametersByKind[T.kind]);I.codecs=l.reduceCodecs(I.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),T.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(g.sdp),P=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:P,track:T,numStreams:_.length}),g={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),x=n.parse(this._pc.localDescription.sdp),P=x.media.find(N=>N.type===T.kind),I.rtcp.cname=d.getCname({offerMediaObject:P}),I.encodings=h.getRtpEncodings({offerMediaObject:P,track:T}),_)for(let N=0;N<I.encodings.length;++N)_[N]&&Object.assign(I.encodings[N],_[N]);if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of I.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:P,offerRtpParameters:I,answerRtpParameters:L,codecOptions:p});const M={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:I}}async stopSending(T){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",T);const _=this._mapSendLocalIdTrack.get(T);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(g){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,_){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(T,_){throw new a.UnsupportedError("not implemented")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),M=n.parse(L.sdp),A=M.media.find(B=>B.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:I}}async receive(T){this.assertRecvDirection();const _=[],p=new Map;for(const P of T){const{trackId:I,kind:L,rtpParameters:M}=P;w.debug("receive() [trackId:%s, kind:%s]",I,L);const A=L;let N=P.streamId??M.rtcp.cname;w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),N+=`-hack-${c.generateRandomNumber()}`,p.set(I,N),this._remoteSdp.receive({mid:A,kind:L,offerRtpParameters:M,streamId:N,trackId:I})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let g=await this._pc.createAnswer();const x=n.parse(g.sdp);for(const P of T){const{kind:I,rtpParameters:L}=P,M=I,A=x.media.find(N=>String(N.mid)===M);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}g={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const P of T){const{kind:I,trackId:L,rtpParameters:M}=P,A=L,N=I,B=p.get(L),K=this._pc.getRemoteStreams().find(O=>O.id===B).getTrackById(A);if(!K)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:M}),_.push({localId:A,track:K})}return _}async stopReceiving(T){this.assertRecvDirection();for(const f of T){w.debug("stopReceiving() [localId:%s]",f);const{mid:g,rtpParameters:x}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=T,I={negotiated:!0,id:f,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const L=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:_});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((f,g)=>{this.safeEmit("@connect",{dtlsParameters:p},f,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return yn.ReactNative=E,yn}var r_;function Lx(){if(r_)return Br;r_=1;var e=Br&&Br.__createBinding||(Object.create?function(L,M,A,N){N===void 0&&(N=A);var B=Object.getOwnPropertyDescriptor(M,A);(!B||("get"in B?!M.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return M[A]}}),Object.defineProperty(L,N,B)}:function(L,M,A,N){N===void 0&&(N=A),L[N]=M[A]}),t=Br&&Br.__setModuleDefault||(Object.create?function(L,M){Object.defineProperty(L,"default",{enumerable:!0,value:M})}:function(L,M){L.default=M}),r=Br&&Br.__importStar||function(L){if(L&&L.__esModule)return L;var M={};if(L!=null)for(var A in L)A!=="default"&&Object.prototype.hasOwnProperty.call(L,A)&&e(M,L,A);return t(M,L),M};Object.defineProperty(Br,"__esModule",{value:!0}),Br.Device=void 0,Br.detectDevice=P;const n=sN(),i=Et(),a=$o(),c=cr(),l=r(Wt()),d=r(br()),h=Sx(),m=hN(),v=mN(),w=gN(),S=vN(),b=yN(),E=wN(),R=SN(),T=bN(),_=_N(),p=CN(),f=RN(),g=EN(),x=new i.Logger("Device");function P(L){var M,A,N,B;if(!L&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(x.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){x.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(x.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(x.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(L||typeof navigator=="object"&&typeof navigator.userAgent=="string"){L??(L=navigator.userAgent);const W=new n.UAParser(L);x.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",L,W.getResult());const K=W.getBrowser(),O=(M=K.name)==null?void 0:M.toLowerCase(),V=parseInt(K.major??"0"),z=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),q=W.getOS(),U=(N=q.name)==null?void 0:N.toLowerCase(),X=parseFloat(q.version??"0"),de=(B=W.getDevice().model)==null?void 0:B.toLowerCase(),ee=U==="ios"||de==="ipad",ie=O&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(O),ue=O&&["firefox","mobile firefox","mobile focus"].includes(O),me=O&&["safari","mobile safari"].includes(O),he=O&&["edge"].includes(O);if((ie||he)&&!ee&&V>=111)return"Chrome111";if(ie&&!ee&&V>=74||he&&!ee&&V>=88)return"Chrome74";if(ie&&!ee&&V>=70)return"Chrome70";if(ie&&!ee&&V>=67)return"Chrome67";if(ie&&!ee&&V>=55)return"Chrome55";if(ue&&!ee&&V>=120)return"Firefox120";if(ue&&!ee&&V>=60)return"Firefox60";if(ue&&ee&&X>=14.3)return"Safari12";if(me&&V>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(me&&V>=11)return"Safari11";if(he&&!ee&&V>=11&&V<=18)return"Edge11";if(z==="webkit"&&ee&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(z==="blink"){const Ce=L.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Ce){const je=Number(Ce[1]);return je>=111?"Chrome111":je>=74?"Chrome74":je>=70?"Chrome70":je>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{x.warn("detectDevice() | browser not supported [name:%s, version:%s]",O,V);return}}else{x.warn("detectDevice() | unknown device");return}}let I=class{constructor({handlerName:M,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,x.debug("constructor()"),M&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(M)x.debug("constructor() | handler given: %s",M);else if(M=P(),M)x.debug("constructor() | detected handler: %s",M);else throw new c.UnsupportedError("device not supported");switch(M){case"Chrome111":{this._handlerFactory=m.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=v.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=w.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=b.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=E.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=R.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=T.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=_.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=p.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=f.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=g.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${M}"`)}}const N=this._handlerFactory();this._handlerName=N.name,N.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:M}){x.debug("load() [routerRtpCapabilities:%o]",M);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const N=l.clone(M);d.validateRtpCapabilities(N),A=this._handlerFactory();const B=await A.getNativeRtpCapabilities();x.debug("load() | got native RTP capabilities:%o",B);const W=l.clone(B);d.validateRtpCapabilities(W),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(W,N),x.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),x.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),x.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),x.debug("load() succeeded"),this._loaded=!0,A.close()}catch(N){throw A&&A.close(),N}}canProduce(M){if(this._loaded){if(M!=="audio"&&M!=="video")throw new TypeError(`invalid kind "${M}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[M]}createSendTransport({id:M,iceParameters:A,iceCandidates:N,dtlsParameters:B,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:V,proprietaryConstraints:F,appData:z}){return x.debug("createSendTransport()"),this.createTransport({direction:"send",id:M,iceParameters:A,iceCandidates:N,dtlsParameters:B,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:V,proprietaryConstraints:F,appData:z})}createRecvTransport({id:M,iceParameters:A,iceCandidates:N,dtlsParameters:B,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:V,proprietaryConstraints:F,appData:z}){return x.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:M,iceParameters:A,iceCandidates:N,dtlsParameters:B,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:V,proprietaryConstraints:F,appData:z})}createTransport({direction:M,id:A,iceParameters:N,iceCandidates:B,dtlsParameters:W,sctpParameters:K,iceServers:O,iceTransportPolicy:V,additionalSettings:F,proprietaryConstraints:z,appData:q}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(B)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(K&&typeof K!="object")throw new TypeError("wrong sctpParameters");if(q&&typeof q!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const U=new h.Transport({direction:M,id:A,iceParameters:N,iceCandidates:B,dtlsParameters:W,sctpParameters:K,iceServers:O,iceTransportPolicy:V,additionalSettings:F,proprietaryConstraints:z,appData:q,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",U),U}};return Br.Device=I,Br}var yo={},xh={},n_;function TN(){return n_||(n_=1,Object.defineProperty(xh,"__esModule",{value:!0})),xh}var Ch={},s_;function kN(){return s_||(s_=1,Object.defineProperty(Ch,"__esModule",{value:!0})),Ch}var o_;function PN(){return o_||(o_=1,function(e){var t=yo&&yo.__createBinding||(Object.create?function(n,i,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(i,a);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,c,l)}:function(n,i,a,c){c===void 0&&(c=a),n[c]=i[a]}),r=yo&&yo.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Lx(),e),r(Sx(),e),r(gx(),e),r(vx(),e),r(yx(),e),r(wx(),e),r(TN(),e),r(kN(),e),r(Lr(),e),r(cr(),e)}(yo)),yo}var i_;function DN(){return i_||(i_=1,function(e){var t=nn&&nn.__createBinding||(Object.create?function(h,m,v,w){w===void 0&&(w=v);var S=Object.getOwnPropertyDescriptor(m,v);(!S||("get"in S?!m.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(h,w,S)}:function(h,m,v,w){w===void 0&&(w=v),h[w]=m[v]}),r=nn&&nn.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),n=nn&&nn.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&t(m,h,v);return r(m,h),m},i=nn&&nn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=i(Fd());e.debug=a.default;const c=Lx();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=n(PN());e.types=l,e.version="3.7.17";var d=eo();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})}(nn)),nn}var jN=DN();const IN=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],MN=async(e,t,r,n,i)=>new Promise((a,c)=>{Ie.emit("joinRoom",{roomName:e,userName:t,userId:r,serverId:n,accessToken:i},l=>{l.error?c(l.error):a(l.rtpCapabilities)})}),LN=async e=>{const t=new jN.Device;return await t.load({routerRtpCapabilities:e}),t},ON=async(e,t,r,n)=>new Promise((i,a)=>{Ie.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const l=e.createSendTransport(c);l.on("connect",({dtlsParameters:h},m)=>{Ie.emit("transport-connect",{dtlsParameters:h}),m()}),l.on("produce",(h,m)=>{const v=localStorage.getItem("accessToken");Ie.emit("transport-produce",{kind:h.kind,rtpParameters:h.rtpParameters,appData:h.appData,accessToken:v},({id:w})=>{m({id:w}),NN(Ie,e,n)})});const d=await l.produce({track:t});r(d),i(l),d.on("trackended",()=>{r(null)})})}),NN=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(i=>Ox(i,t,r))})},Ox=async(e,t,r)=>{Ie.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const i=t.createRecvTransport(n);i.on("connect",({dtlsParameters:a},c)=>{Ie.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),AN(i,e,n.id,t,r)})},AN=async(e,t,r,n,i)=>{Ie.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const{source:c,...l}=a,d=await e.consume({...l,appData:{source:c}});console.log(d.appData.source),i(d),Ie.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},vt=jE,Re=LE,$N=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:i}=Ao();return async(c,l,d,h,m)=>{try{if(!Ie.connected)throw new Error("Socket is not connected");const v=await IN(),w=await MN(c,l,d,h,m),S=await LN(w);r(S);const b=await ON(S,v,t,i);n(b),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}},yc=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:i,setIsStreaming:a,setAudioProducer:c,setVideoAudioProducer:l}=Ao();return async(h,m)=>{i(!1),await new Promise(v=>{Ie.once("leaveConfirmed",v),Ie.emit("leaveRoom",{accessToken:h,voiceChannelId:m})}),e(!1),t(null),n([]),a(!1),c(null),r(null),l(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:c,...l},d)=>D.createElement("svg",{ref:d,...zN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Nx("lucide",i),...l},[...c.map(([h,m])=>D.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(BN,{ref:a,iconNode:t,className:Nx(`lucide-${FN(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],VN=Oe("ArrowDown",UN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],WN=Oe("ArrowLeftFromLine",HN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],GN=Oe("BookUser",qN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gg=Oe("Check",KN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ud=Oe("ChevronDown",YN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QN=Oe("ChevronLeft",XN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ac=Oe("ChevronRight",JN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],e3=Oe("CircleCheck",ZN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],r3=Oe("CirclePlus",t3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],s3=Oe("CircleX",n3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Kg=Oe("Copy",o3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],lm=Oe("DoorOpen",i3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],c3=Oe("Hash",a3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],u3=Oe("House",l3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],f3=Oe("LogOut",d3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],h3=Oe("Menu",p3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ax=Oe("MicOff",m3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],v3=Oe("Mic",g3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],w3=Oe("MonitorUp",y3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],b3=Oe("MonitorX",S3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],x3=Oe("Paperclip",_3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R3=Oe("Pen",C3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],T3=Oe("Pencil",E3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],P3=Oe("PhoneMissed",k3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$u=Oe("Plus",D3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],I3=Oe("Search",j3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],L3=Oe("Send",M3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wc=Oe("Settings",O3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$x=Oe("Trash2",N3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],$3=Oe("Unplug",A3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],z3=Oe("UserPen",F3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],U3=Oe("UserMinus",B3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],H3=Oe("UserRoundCog",V3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],q3=Oe("UserRoundPen",W3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K3=Oe("User",G3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],X3=Oe("Users",Y3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],um=Oe("Video",Q3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Fx=Oe("Volume2",J3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qa=Oe("X",Z3);function zo(){return{showSuccess:r=>{Gs.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:C.jsx(e3,{})})},showError:r=>{Gs.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:C.jsx(s3,{})})}}}const eA=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n,videoAudioProducer:i,setVideoAudioProducer:a}=Ao(),c=D.useRef(null),l=D.useRef(null),d=async()=>{const m=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),v=m.getVideoTracks()[0],w=await r.produce({track:v,appData:{source:"screen-video"}});t(w),c.current=w.id,w.on("trackended",h);const S=m.getAudioTracks()[0];if(S){const b=await r.produce({track:S,appData:{source:"screen-audio"}});a(b),l.current=b.id,b.on("trackended",h)}n(!0)},h=async()=>{const m=localStorage.getItem("accessToken");e?(e.close(),Ie.emit("stopProducer",{producerId:e.id,accessToken:m})):Ie.emit("stopProducer",{producerId:c.current,accessToken:m}),i?(i.close(),Ie.emit("stopProducer",{producerId:i.id,accessToken:m})):Ie.emit("stopProducer",{producerId:l.current,accessToken:m}),c.current=null,l.current=null,t(null),a(null),n(!1)};return{startScreenSharing:d,stopScreenSharing:h}};var Qt=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(Qt||{});function zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tA=typeof Symbol=="function"&&Symbol.observable||"@@observable",a_=tA,Rh=()=>Math.random().toString(36).substring(7).split("").join("."),rA={INIT:`@@redux/INIT${Rh()}`,REPLACE:`@@redux/REPLACE${Rh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rh()}`},Fu=rA;function Yg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zx(e,t,r){if(typeof e!="function")throw new Error(zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zt(1));return r(zx)(e,t)}let n=e,i=t,a=new Map,c=a,l=0,d=!1;function h(){c===a&&(c=new Map,a.forEach((R,T)=>{c.set(T,R)}))}function m(){if(d)throw new Error(zt(3));return i}function v(R){if(typeof R!="function")throw new Error(zt(4));if(d)throw new Error(zt(5));let T=!0;h();const _=l++;return c.set(_,R),function(){if(T){if(d)throw new Error(zt(6));T=!1,h(),c.delete(_),a=null}}}function w(R){if(!Yg(R))throw new Error(zt(7));if(typeof R.type>"u")throw new Error(zt(8));if(typeof R.type!="string")throw new Error(zt(17));if(d)throw new Error(zt(9));try{d=!0,i=n(i,R)}finally{d=!1}return(a=c).forEach(_=>{_()}),R}function S(R){if(typeof R!="function")throw new Error(zt(10));n=R,w({type:Fu.REPLACE})}function b(){const R=v;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(zt(11));function _(){const f=T;f.next&&f.next(m())}return _(),{unsubscribe:R(_)}},[a_](){return this}}}return w({type:Fu.INIT}),{dispatch:w,subscribe:v,getState:m,replaceReducer:S,[a_]:b}}function nA(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fu.INIT})>"u")throw new Error(zt(12));if(typeof r(void 0,{type:Fu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function sA(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{nA(r)}catch(a){i=a}return function(c={},l){if(i)throw i;let d=!1;const h={};for(let m=0;m<n.length;m++){const v=n[m],w=r[v],S=c[v],b=w(S,l);if(typeof b>"u")throw l&&l.type,new Error(zt(14));h[v]=b,d=d||b!==S}return d=d||n.length!==Object.keys(c).length,d?h:c}}function zu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oA(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(zt(15))};const c={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},l=e.map(d=>d(c));return a=zu(...l)(i.dispatch),{...i,dispatch:a}}}function iA(e){return Yg(e)&&"type"in e&&typeof e.type=="string"}var Bx=Symbol.for("immer-nothing"),c_=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function Sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Di=Object.getPrototypeOf;function Do(e){return!!e&&!!e[jr]}function ps(e){var t;return e?Ux(e)||Array.isArray(e)||!!e[c_]||!!((t=e.constructor)!=null&&t[c_])||Hd(e)||Wd(e):!1}var aA=Object.prototype.constructor.toString();function Ux(e){if(!e||typeof e!="object")return!1;const t=Di(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===aA}function Bu(e,t){Vd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Vd(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Hd(e)?2:Wd(e)?3:0}function dm(e,t){return Vd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vx(e,t,r){const n=Vd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function cA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hd(e){return e instanceof Map}function Wd(e){return e instanceof Set}function bo(e){return e.copy_||e.base_}function fm(e,t){if(Hd(e))return new Map(e);if(Wd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ux(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],l=n[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(Di(e),n)}else{const n=Di(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Xg(e,t=!1){return qd(e)||Do(e)||!ps(e)||(Vd(e)>1&&(e.set=e.add=e.clear=e.delete=lA),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Xg(n,!0))),e}function lA(){Sn(2)}function qd(e){return Object.isFrozen(e)}var uA={};function jo(e){const t=uA[e];return t||Sn(0,e),t}var cc;function Hx(){return cc}function dA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l_(e,t){t&&(jo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pm(e){hm(e),e.drafts_.forEach(fA),e.drafts_=null}function hm(e){e===cc&&(cc=e.parent_)}function u_(e){return cc=dA(cc,e)}function fA(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function d_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(pm(t),Sn(4)),ps(e)&&(e=Uu(t,e),t.parent_||Vu(t,e)),t.patches_&&jo("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=Uu(t,r,[]),pm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bx?e:void 0}function Uu(e,t,r){if(qd(t))return t;const n=t[jr];if(!n)return Bu(t,(i,a)=>f_(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Vu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,c=!1;n.type_===3&&(a=new Set(i),i.clear(),c=!0),Bu(a,(l,d)=>f_(e,n,i,l,d,r,c)),Vu(e,i,!1),r&&e.patches_&&jo("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function f_(e,t,r,n,i,a,c){if(Do(i)){const l=a&&t&&t.type_!==3&&!dm(t.assigned_,n)?a.concat(n):void 0,d=Uu(e,i,l);if(Vx(r,n,d),Do(d))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ps(i)&&!qd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Uu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Vu(e,i)}}function Vu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xg(t,r)}function pA(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Hx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Qg;r&&(i=[n],a=lc);const{revoke:c,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=c,l}var Qg={get(e,t){if(t===jr)return e;const r=bo(e);if(!dm(r,t))return hA(e,r,t);const n=r[t];return e.finalized_||!ps(n)?n:n===Eh(e.base_,t)?(Th(e),e.copy_[t]=gm(n,e)):n},has(e,t){return t in bo(e)},ownKeys(e){return Reflect.ownKeys(bo(e))},set(e,t,r){const n=Wx(bo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Eh(bo(e),t),a=i==null?void 0:i[jr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(cA(r,i)&&(r!==void 0||dm(e.base_,t)))return!0;Th(e),mm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Eh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Th(e),mm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=bo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Sn(11)},getPrototypeOf(e){return Di(e.base_)},setPrototypeOf(){Sn(12)}},lc={};Bu(Qg,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,r){return Qg.set.call(this,e[0],t,r,e[0])};function Eh(e,t){const r=e[jr];return(r?bo(r):e)[t]}function hA(e,t,r){var i;const n=Wx(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Wx(e,t){if(!(t in e))return;let r=Di(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Di(r)}}function mm(e){e.modified_||(e.modified_=!0,e.parent_&&mm(e.parent_))}function Th(e){e.copy_||(e.copy_=fm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(d=a,...h){return c.produce(d,m=>r.call(this,m,...h))}}typeof r!="function"&&Sn(6),n!==void 0&&typeof n!="function"&&Sn(7);let i;if(ps(t)){const a=u_(this),c=gm(t,void 0);let l=!0;try{i=r(c),l=!1}finally{l?pm(a):hm(a)}return l_(a,n),d_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Bx&&(i=void 0),this.autoFreeze_&&Xg(i,!0),n){const a=[],c=[];jo("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else Sn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,d=>t(d,...l));let n,i;return[this.produce(t,r,(c,l)=>{n=c,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ps(e)||Sn(8),Do(e)&&(e=gA(e));const t=u_(this),r=gm(e,void 0);return r[jr].isManual_=!0,hm(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&Sn(9);const{scope_:n}=r;return l_(n,t),d_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=jo("Patches").applyPatches_;return Do(e)?n(e,t):this.produce(e,i=>n(i,t))}};function gm(e,t){const r=Hd(e)?jo("MapSet").proxyMap_(e,t):Wd(e)?jo("MapSet").proxySet_(e,t):pA(e,t);return(t?t.scope_:Hx()).drafts_.push(r),r}function gA(e){return Do(e)||Sn(10,e),qx(e)}function qx(e){if(!ps(e)||qd(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=fm(e,!0);return Bu(r,(n,i)=>{Vx(r,n,qx(i))}),t&&(t.finalized_=!1),r}var Ir=new mA,Gx=Ir.produce;Ir.produceWithPatches.bind(Ir);Ir.setAutoFreeze.bind(Ir);Ir.setUseStrictShallowCopy.bind(Ir);Ir.applyPatches.bind(Ir);Ir.createDraft.bind(Ir);Ir.finishDraft.bind(Ir);function Kx(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var vA=Kx(),yA=Kx,wA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zu:zu.apply(null,arguments)},SA=e=>e&&typeof e.match=="function";function Ja(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(as(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>iA(n)&&n.type===e,r}var Yx=class Ka extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ka.prototype)}static get[Symbol.species](){return Ka}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ka(...t[0].concat(this)):new Ka(...t.concat(this))}};function p_(e){return ps(e)?Gx(e,()=>{}):e}function h_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bA(e){return typeof e=="boolean"}var _A=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new Yx;return r&&(bA(r)?c.push(vA):c.push(yA(r.extraArgument))),c},xA="RTK_autoBatch",m_=e=>t=>{setTimeout(t,e)},CA=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:m_(10):e.type==="callback"?e.queueNotification:m_(e.timeout),h=()=>{c=!1,a&&(a=!1,l.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const v=()=>i&&m(),w=n.subscribe(v);return l.add(m),()=>{w(),l.delete(m)}},dispatch(m){var v;try{return i=!((v=m==null?void 0:m.meta)!=null&&v[xA]),a=!i,a&&(c||(c=!0,d(h))),n.dispatch(m)}finally{i=!0}}})},RA=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Yx(e);return n&&i.push(CA(typeof n=="object"?n:void 0)),i};function EA(e){const t=_A(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Yg(r))l=sA(r);else throw new Error(as(1));let d;typeof n=="function"?d=n(t):d=t();let h=zu;i&&(h=wA({trace:!1,...typeof i=="object"&&i}));const m=oA(...d),v=RA(m);let w=typeof c=="function"?c(v):v();const S=h(...w);return zx(l,a,S)}function Xx(e){const t={},r=[];let n;const i={addCase(a,c){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(as(28));if(l in t)throw new Error(as(29));return t[l]=c,i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function TA(e){return typeof e=="function"}function kA(e,t){let[r,n,i]=Xx(t),a;if(TA(e))a=()=>p_(e());else{const l=p_(e);a=()=>l}function c(l=a(),d){let h=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,v)=>{if(v)if(Do(m)){const S=v(m,d);return S===void 0?m:S}else{if(ps(m))return Gx(m,w=>v(w,d));{const w=v(m,d);if(w===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return m},l)}return c.getInitialState=a,c}var PA=(e,t)=>SA(e)?e.match(t):e(t);function Ro(...e){return t=>e.some(r=>PA(r,t))}var DA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jA=(e=21)=>{let t="",r=e;for(;r--;)t+=DA[Math.random()*64|0];return t},IA=["name","message","stack","code"],kh=class{constructor(e,t){Op(this,"_type");this.payload=e,this.meta=t}},g_=class{constructor(e,t){Op(this,"_type");this.payload=e,this.meta=t}},MA=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of IA)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},v_="External signal was aborted",Ae=(()=>{function e(t,r,n){const i=Ja(t+"/fulfilled",(d,h,m,v)=>({payload:d,meta:{...v||{},arg:m,requestId:h,requestStatus:"fulfilled"}})),a=Ja(t+"/pending",(d,h,m)=>({payload:void 0,meta:{...m||{},arg:h,requestId:d,requestStatus:"pending"}})),c=Ja(t+"/rejected",(d,h,m,v,w)=>({payload:v,error:(n&&n.serializeError||MA)(d||"Rejected"),meta:{...w||{},arg:m,requestId:h,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function l(d,{signal:h}={}){return(m,v,w)=>{const S=n!=null&&n.idGenerator?n.idGenerator(d):jA(),b=new AbortController;let E,R;function T(p){R=p,b.abort()}h&&(h.aborted?T(v_):h.addEventListener("abort",()=>T(v_),{once:!0}));const _=async function(){var g,x;let p;try{let P=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,d,{getState:v,extra:w});if(OA(P)&&(P=await P),P===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((L,M)=>{E=()=>{M({name:"AbortError",message:R||"Aborted"})},b.signal.addEventListener("abort",E)});m(a(S,d,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:S,arg:d},{getState:v,extra:w}))),p=await Promise.race([I,Promise.resolve(r(d,{dispatch:m,getState:v,extra:w,requestId:S,signal:b.signal,abort:T,rejectWithValue:(L,M)=>new kh(L,M),fulfillWithValue:(L,M)=>new g_(L,M)})).then(L=>{if(L instanceof kh)throw L;return L instanceof g_?i(L.payload,S,d,L.meta):i(L,S,d)})])}catch(P){p=P instanceof kh?c(null,S,d,P.payload,P.meta):c(P,S,d)}finally{E&&b.signal.removeEventListener("abort",E)}return n&&!n.dispatchConditionRejection&&c.match(p)&&p.meta.condition||m(p),p}();return Object.assign(_,{abort:T,requestId:S,arg:d,unwrap(){return _.then(LA)}})}}return Object.assign(l,{pending:a,rejected:c,fulfilled:i,settled:Ro(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function LA(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function OA(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var NA=Symbol.for("rtk-slice-createasyncthunk");function AA(e,t){return`${e}/${t}`}function $A({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[NA];return function(i){const{name:a,reducerPath:c=a}=i;if(!a)throw new Error(as(11));const l=(typeof i.reducers=="function"?i.reducers(zA()):i.reducers)||{},d=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(p,f){const g=typeof p=="string"?p:p.type;if(!g)throw new Error(as(12));if(g in h.sliceCaseReducersByType)throw new Error(as(13));return h.sliceCaseReducersByType[g]=f,m},addMatcher(p,f){return h.sliceMatchers.push({matcher:p,reducer:f}),m},exposeAction(p,f){return h.actionCreators[p]=f,m},exposeCaseReducer(p,f){return h.sliceCaseReducersByName[p]=f,m}};d.forEach(p=>{const f=l[p],g={reducerName:p,type:AA(a,p),createNotation:typeof i.reducers=="function"};UA(f)?HA(g,f,m,t):BA(g,f,m)});function v(){const[p={},f=[],g=void 0]=typeof i.extraReducers=="function"?Xx(i.extraReducers):[i.extraReducers],x={...p,...h.sliceCaseReducersByType};return kA(i.initialState,P=>{for(let I in x)P.addCase(I,x[I]);for(let I of h.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of f)P.addMatcher(I.matcher,I.reducer);g&&P.addDefaultCase(g)})}const w=p=>p,S=new Map;let b;function E(p,f){return b||(b=v()),b(p,f)}function R(){return b||(b=v()),b.getInitialState()}function T(p,f=!1){function g(P){let I=P[p];return typeof I>"u"&&f&&(I=R()),I}function x(P=w){const I=h_(S,f,()=>new WeakMap);return h_(I,P,()=>{const L={};for(const[M,A]of Object.entries(i.selectors??{}))L[M]=FA(A,P,R,f);return L})}return{reducerPath:p,getSelectors:x,get selectors(){return x(g)},selectSlice:g}}const _={name:a,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:R,...T(c),injectInto(p,{reducerPath:f,...g}={}){const x=f??c;return p.inject({reducerPath:x,reducer:E},g),{..._,...T(x,!0)}}};return _}}function FA(e,t,r,n){function i(a,...c){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...c)}return i.unwrapped=e,i}var Jg=$A();function zA(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BA({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!VA(n))throw new Error(as(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Ja(e,c):Ja(e))}function UA(e){return e._reducerDefinitionType==="asyncThunk"}function VA(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HA({type:e,reducerName:t},r,n,i){if(!i)throw new Error(as(18));const{payloadCreator:a,fulfilled:c,pending:l,rejected:d,settled:h,options:m}=r,v=i(e,a,m);n.exposeAction(t,v),c&&n.addCase(v.fulfilled,c),l&&n.addCase(v.pending,l),d&&n.addCase(v.rejected,d),h&&n.addMatcher(v.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Ul,pending:l||Ul,rejected:d||Ul,settled:h||Ul})}function Ul(){}function as(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Qx=async(e,t,r,n=0)=>{try{const i=await fetch(`${$e}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await i.json();if(!i.ok)throw new Error(a.message||`Error: ${i.status}`);return a.messages}catch(i){throw console.error("Error get messages:",i),i}},WA=async(e,t,r,n)=>{try{const i=await fetch(`${$e}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},qA=async(e,t)=>{try{const r=await fetch(`${$e}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},GA=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/channel/name/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change channel name:",n),n}},KA=async e=>{try{const t=await fetch(`${$e}/api/channel/voice/mute/self`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error self mute:",t),t}},YA=async(e,t)=>{try{const r=await fetch(`${$e}/api/channel/settings/change/text`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change text channel settings:",r),r}},XA=async(e,t)=>{try{const r=await fetch(`${$e}/api/channel/settings/text?channelId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get text channel settings:",r),r}},QA=async(e,t)=>{try{const r=await fetch(`${$e}/api/channel/settings/voice?channelId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get voice channel settings:",r),r}},JA=async(e,t)=>{try{const r=await fetch(`${$e}/api/channel/settings/change/voice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change voice channel settings:",r),r}},ZA=async(e,t,r,n)=>{try{const i=await fetch(`${$e}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create message:",i),i}},e4=async(e,t)=>{try{const r=await fetch(`${$e}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},t4=async(e,t,r)=>{try{const n=await fetch(`${$e}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},r4=async e=>{try{const t=await fetch(`${$e}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},n4=async(e,t)=>{try{const r=await fetch(`${$e}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},s4=async(e,t)=>{try{const r=await fetch(`${$e}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},o4=async(e,t)=>{try{const r=await fetch(`${$e}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},i4=async(e,t,r,n)=>{try{const i=await fetch(`${$e}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create server:",i),i}},a4=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},c4=async(e,t)=>{try{const r=await fetch(`${$e}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},l4=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},u4=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},d4=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete user from server:",n),n}},f4=async(e,t,r)=>{try{const n=await fetch(`${$e}/api/server/unsubscribe/creator`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,newCreatorId:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unsubscribe creator from server:",n),n}},cs=Ae("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await r4(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),xn=Ae("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await n4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),eu=Ae("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await s4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ph=Ae("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await o4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),tu=Ae("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:i})=>{try{await i4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),ru=Ae("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await a4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Za=Ae("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await c4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),nu=Ae("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Qx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Dh=Ae("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Qx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),jh=Ae("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:i})=>{try{await ZA(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Ih=Ae("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await e4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Mh=Ae("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await t4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),su=Ae("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:i})=>{try{await WA(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),ec=Ae("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await qA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ou=Ae("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await l4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),iu=Ae("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await u4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),au=Ae("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r},{rejectWithValue:n})=>{try{await d4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),cu=Ae("testServerSlice/changeChannelName",async({accessToken:e,id:t,name:r},{rejectWithValue:n})=>{try{await GA(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),p4=Ae("testServerSlice/creatorUnsubscribeFromServer",async({accessToken:e,serverId:t,newCreatorId:r},{rejectWithValue:n})=>{try{await f4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),lu=Ae("testServerSlice/selfMute",async({accessToken:e},{rejectWithValue:t})=>{try{await KA(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),uu=Ae("testServerSlice/changeTextChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await YA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),du=Ae("testServerSlice/getTextChannelSettings",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{return await XA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),fu=Ae("testServerSlice/getVoiceChannelSettings",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{return await QA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),pu=Ae("testServerSlice/changeVoiceChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await JA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}});var Ri=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(Ri||{});const h4={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:Ri.IDLE,roleSettings:{canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null},isLoading:!1,error:""},Jx=Jg({name:"testServer",initialState:h4,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},e.roleSettings={canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null}},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)},editChannelName:(e,t)=>{const{channelId:r,newName:n}=t.payload,i=e.serverData.channels.textChannels.find(c=>c.channelId===r);if(i){i.channelName=n;return}const a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);if(a){a.channelName=n;return}},addUserOnVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,i=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);i&&(i.users.some(a=>a.userId===n)||i.users.push({userId:n,isMuted:!1}))},removeUserFromVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,i=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);i&&(i.users=i.users.filter(a=>a.userId!==n))},toggleUserMuteStatus:(e,t)=>{const{channelId:r,userId:n,isMuted:i}=t.payload,a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);a&&(a.users=a.users.map(c=>c.userId===n?{...c,isMuted:i}:c))}},extraReducers:e=>{e.addCase(cs.pending,t=>{t.isLoading=!0,t.error=""}).addCase(cs.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(cs.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(xn.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},t.error=""}).addCase(xn.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let i=t.currentChannelId;n.find(c=>c.channelId===i)||(i=n.length>0?n[0].channelId:null,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(xn.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(eu.pending,t=>{t.error=""}).addCase(eu.fulfilled,t=>{t.error=""}).addCase(eu.rejected,(t,r)=>{t.error=r.payload}).addCase(Ph.pending,t=>{t.error=""}).addCase(Ph.fulfilled,t=>{t.error=""}).addCase(Ph.rejected,(t,r)=>{t.error=r.payload}).addCase(tu.pending,t=>{t.error=""}).addCase(tu.fulfilled,t=>{t.error=""}).addCase(tu.rejected,(t,r)=>{t.error=r.payload}).addCase(ru.pending,t=>{t.error=""}).addCase(ru.fulfilled,t=>{t.error=""}).addCase(ru.rejected,(t,r)=>{t.error=r.payload}).addCase(nu.pending,t=>{t.messagesStatus=Ri.PENDING,t.isLoading=!0,t.error=""}).addCase(nu.fulfilled,(t,r)=>{t.messages=r.payload,t.hasNewMessage=!1,t.messagesStatus=Ri.FULFILLED,t.isLoading=!1,t.error=""}).addCase(nu.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=Ri.REJECTED,t.error=r.payload}).addCase(Dh.pending,t=>{t.isLoading=!0,t.error=""}).addCase(Dh.fulfilled,(t,r)=>{t.messages=[...r.payload,...t.messages],t.isLoading=!1,t.error=""}).addCase(Dh.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(jh.pending,t=>{t.error=""}).addCase(jh.fulfilled,t=>{t.error=""}).addCase(jh.rejected,(t,r)=>{t.error=r.payload}).addCase(Ih.pending,t=>{t.error=""}).addCase(Ih.fulfilled,t=>{t.error=""}).addCase(Ih.rejected,(t,r)=>{t.error=r.payload}).addCase(Mh.pending,t=>{t.error=""}).addCase(Mh.fulfilled,t=>{t.error=""}).addCase(Mh.rejected,(t,r)=>{t.error=r.payload}).addCase(su.pending,t=>{t.error=""}).addCase(su.fulfilled,t=>{t.error=""}).addCase(su.rejected,(t,r)=>{t.error=r.payload}).addCase(ec.pending,t=>{t.error=""}).addCase(ec.fulfilled,t=>{t.error=""}).addCase(ec.rejected,(t,r)=>{t.error=r.payload}).addCase(Za.pending,t=>{t.error=""}).addCase(Za.fulfilled,t=>{t.error=""}).addCase(Za.rejected,(t,r)=>{t.error=r.payload}).addCase(ou.pending,t=>{t.error=""}).addCase(ou.fulfilled,t=>{t.error=""}).addCase(ou.rejected,(t,r)=>{t.error=r.payload}).addCase(iu.pending,t=>{t.error=""}).addCase(iu.fulfilled,t=>{t.error=""}).addCase(iu.rejected,(t,r)=>{t.error=r.payload}).addCase(au.pending,t=>{t.error=""}).addCase(au.fulfilled,t=>{t.error=""}).addCase(au.rejected,(t,r)=>{t.error=r.payload}).addCase(cu.pending,t=>{t.error=""}).addCase(cu.fulfilled,t=>{t.error=""}).addCase(cu.rejected,(t,r)=>{t.error=r.payload}).addCase(lu.pending,t=>{t.error=""}).addCase(lu.fulfilled,t=>{t.error=""}).addCase(lu.rejected,(t,r)=>{t.error=r.payload}).addMatcher(Ro(du.fulfilled,fu.fulfilled),(t,r)=>{t.roleSettings=r.payload,t.error=""}).addMatcher(Ro(du.pending,uu.pending,fu.pending,pu.pending),t=>{t.error=""}).addMatcher(Ro(uu.fulfilled,pu.fulfilled),t=>{t.error=""}).addMatcher(Ro(du.rejected,uu.rejected,fu.rejected,pu.rejected),(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:m4,setCurrentChannelId:g4,setCurrentVoiceChannelId:Ei,addMessage:v4,deleteMessageWs:y4,editMessageWs:w4,addUserWs:S4,deleteUserWs:b4,clearServerData:Zg,clearHasNewMessage:y_,setNewServerName:_4,setNewUserName:x4,removeUser:C4,removeServer:R4,editChannelName:E4,addUserOnVoiceChannel:T4,removeUserFromVoiceChannel:k4,toggleUserMuteStatus:P4}=Jx.actions,D4=Jx.reducer,j4=e=>{const[t,r]=D.useState(!1),[n,i]=D.useState(!1),[a,c]=D.useState(!1),[l,d]=D.useState([]),[h,m]=D.useState([]),[v,w]=D.useState(null),[S,b]=D.useState(null),[E,R]=D.useState(null),[T,_]=D.useState(null),[p,f]=D.useState(null),[g,x]=D.useState(null),P=vt(),{currentVoiceChannelId:I}=Re(N=>N.testServerStore),{accessToken:L}=Re(N=>N.userStore),M=N=>{d(B=>[...B,N])},A=()=>{S&&(n?S.resume():S.pause(),P(lu({accessToken:L})),i(!n))};return D.useEffect(()=>{if(!Ie)return;Ie.on("producerClosed",({producerId:B})=>{d(W=>W.filter(K=>K.producerId!==B))}),Ie.on("producer-closed",({remoteProducerId:B})=>{d(W=>W.filter(K=>K.producerId!==B))}),Ie.on("new-producer",({producerId:B})=>{v&&Ox(B,v,M)}),Ie.on("updateUsersList",({rooms:B})=>{console.log(B),m(B)});const N=()=>{Ie.emit("leaveRoom",{accessToken:L,voiceChannelId:I})};return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N),Ie.off("producerClosed"),Ie.off("producer-closed"),Ie.off("new-producer"),Ie.off("updateUsersList")}},[v]),C.jsx(rx.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:i,setIsStreaming:c,audioProducer:S,setAudioProducer:b,videoProducer:E,setVideoProducer:R,device:v,setDevice:w,producerTransport:p,setProducerTransport:f,consumers:l,users:h,addConsumer:M,setConsumers:d,toggleMute:A,selectedUserId:g,setSelectedUserId:x,videoAudioProducer:T,setVideoAudioProducer:_},children:e.children})},I4=e=>{const{consumers:t}=Ao(),r=D.useRef(new Map),[n,i]=D.useState({});D.useEffect(()=>{t.forEach(({producerId:l,track:d,kind:h,appData:m})=>{const v=m==null?void 0:m.source;if(h==="audio"&&v!=="screen-audio"&&!r.current.has(l)&&m.source){const w=document.createElement("audio");w.srcObject=new MediaStream([d]),w.autoplay=!0,w.volume=n[l]??1,r.current.set(l,w),document.body.appendChild(w)}});const c=t.map(l=>l.producerId);return r.current.forEach((l,d)=>{c.includes(d)||(l.pause(),l.remove(),r.current.delete(d))}),()=>{r.current.forEach(l=>{l.pause(),l.remove()}),r.current.clear()}},[t,n]);const a=(c,l)=>{i(d=>({...d,[c]:l/100}))};return C.jsx(tx.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},M4=()=>{const e=D.useContext(tx);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function L4(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const O4=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Ft(e,t){O4(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function N4(e,t){e&&L4(e),Ft(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),Ft(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),Ft(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),Ft(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),Ft(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),Ft(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),Ft(`mantine-form:${e}:clear-errors`,t.clearErrors),Ft(`mantine-form:${e}:reset`,t.reset),Ft(`mantine-form:${e}:validate`,t.validate),Ft(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),Ft(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),Ft(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),Ft(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),Ft(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),Ft(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),Ft(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),Ft(`mantine-form:${e}:reset-touched`,t.resetTouched)}function A4(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function vm(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function $4(e){const[t,r]=D.useState(vm(e)),n=D.useRef(t),i=D.useCallback(d=>{r(h=>{const m=vm(typeof d=="function"?d(h):d);return n.current=m,m})},[]),a=D.useCallback(()=>i({}),[]),c=D.useCallback(d=>{n.current[d]!==void 0&&i(h=>{const m={...h};return delete m[d],m})},[t]),l=D.useCallback((d,h)=>{h==null||h===!1?c(d):n.current[d]!==h&&i(m=>({...m,[d]:h}))},[t]);return{errorsState:t,setErrors:i,clearErrors:a,setFieldError:l,clearFieldError:c}}function ym(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function w_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function S_(e,t,r,n){if(t===void 0)return r;const i=`${String(e)}`;let a=r;n===-1&&(a=ym(`${i}.${t}`,a));const c={...a},l=new Set;return Object.entries(a).filter(([d])=>{if(!d.startsWith(`${i}.`))return!1;const h=w_(d,i);return Number.isNaN(h)?!1:h>=t}).forEach(([d,h])=>{const m=w_(d,i),v=d.replace(`${i}.${m}`,`${i}.${m+n}`);c[v]=h,l.add(v),l.has(d)||delete c[d]}),c}function F4(e,{from:t,to:r},n){const i=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(l=>{let d,h;if(l.startsWith(i)&&(d=l,h=l.replace(i,a)),l.startsWith(a)&&(d=l.replace(a,i),h=l),d&&h){const m=c[d],v=c[h];return v===void 0?delete c[d]:c[d]=v,m===void 0?delete c[h]:c[h]=m,!1}return!0}),c}function b_(e,t,r){typeof r.value=="object"&&(r.value=bi(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function bi(e){if(typeof e!="object")return e;var t=0,r,n,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(c){i.add(bi(c))})):a==="[object Map]"?(i=new Map,e.forEach(function(c,l){i.set(bi(l),bi(c))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(bi(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)b_(i,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(i,r=n[t])&&i[r]===e[r]||b_(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}function Zx(e){return typeof e!="string"?[]:e.split(".")}function Bt(e,t){const r=Zx(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let i=1;i<r.length&&n!=null;i+=1)n=n[r[i]];return n}function Sc(e,t,r){const n=Zx(e);if(n.length===0)return r;const i=bi(r);if(n.length===1)return i[n[0]]=t,i;let a=i[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return i;a=a[n[c]]}return a[n[n.length-1]]=t,i}function z4(e,{from:t,to:r},n){const i=Bt(e,n);if(!Array.isArray(i))return n;const a=[...i],c=i[t];return a.splice(t,1),a.splice(r,0,c),Sc(e,a,n)}function B4(e,t,r,n){const i=Bt(e,n);if(!Array.isArray(i))return n;const a=[...i];return a.splice(typeof r=="number"?r:a.length,0,t),Sc(e,a,n)}function U4(e,t,r){const n=Bt(e,r);return Array.isArray(n)?Sc(e,n.filter((i,a)=>a!==t),r):r}function V4(e,t,r,n){const i=Bt(e,n);if(!Array.isArray(i)||i.length<=r)return n;const a=[...i];return a[r]=t,Sc(e,a,n)}function H4({$values:e,$errors:t,$status:r}){const n=D.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(h=>F4(l,d,h)),e.setValues({values:z4(l,d,e.refValues.current),updateState:!0})},[]),i=D.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(h=>S_(l,d,h,-1)),e.setValues({values:U4(l,d,e.refValues.current),updateState:!0})},[]),a=D.useCallback((l,d,h)=>{r.clearFieldDirty(l),t.setErrors(m=>S_(l,h,m,1)),e.setValues({values:B4(l,d,h,e.refValues.current),updateState:!0})},[]),c=D.useCallback((l,d,h)=>{r.clearFieldDirty(l),e.setValues({values:V4(l,h,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:i,insertListItem:a,replaceListItem:c}}var Lh,__;function W4(){return __||(__=1,Lh=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),Lh}var q4=W4();const Vl=bm(q4);function Ua(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(i=>i.startsWith(`${t}.`));return e[t]||n.some(i=>e[i])||!1}return r.some(n=>e[n])}function G4({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[i,a]=D.useState(t),[c,l]=D.useState(e),d=D.useRef(t),h=D.useRef(e),m=D.useCallback(x=>{const P=typeof x=="function"?x(d.current):x;d.current=P,r==="controlled"&&a(P)},[]),v=D.useCallback((x,P=!1)=>{const I=typeof x=="function"?x(h.current):x;h.current=I,(r==="controlled"||P)&&l(I)},[]),w=D.useCallback(()=>m({}),[]),S=D.useCallback(x=>{const P=x?{...n.refValues.current,...x}:n.refValues.current;n.setValuesSnapshot(P),v({})},[]),b=D.useCallback((x,P)=>{m(I=>Ua(I,x)===P?I:{...I,[x]:P})},[]),E=D.useCallback((x,P,I)=>{v(L=>Ua(L,x)===P?L:{...L,[x]:P},I)},[]),R=D.useCallback((x,P)=>{const I=Ua(h.current,x),L=!Vl(Bt(x,n.getValuesSnapshot()),P),M=ym(x,h.current);M[x]=L,v(M,I!==L)},[]),T=D.useCallback(x=>Ua(d.current,x),[]),_=D.useCallback(x=>v(P=>{if(typeof x!="string")return P;const I=ym(x,P);return delete I[x],Vl(I,P)?P:I}),[]),p=D.useCallback(x=>{if(x){const I=Bt(x,h.current);if(typeof I=="boolean")return I;const L=Bt(x,n.refValues.current),M=Bt(x,n.valuesSnapshot.current);return!Vl(L,M)}return Object.keys(h.current).length>0?Ua(h.current):!Vl(n.refValues.current,n.valuesSnapshot.current)},[]),f=D.useCallback(()=>h.current,[]),g=D.useCallback(()=>d.current,[]);return{touchedState:i,dirtyState:c,touchedRef:d,dirtyRef:h,setTouched:m,setDirty:v,resetDirty:S,resetTouched:w,isTouched:T,setFieldTouched:b,setFieldDirty:E,setTouchedState:a,setDirtyState:l,clearFieldDirty:_,isDirty:p,getDirty:f,getTouched:g,setCalculatedFieldDirty:R}}function K4({initialValues:e,onValuesChange:t,mode:r}){const n=D.useRef(!1),[i,a]=D.useState(e||{}),c=D.useRef(i),l=D.useRef(i),d=D.useCallback(({values:E,subscribers:R,updateState:T=!0,mergeWithPreviousValues:_=!0})=>{const p=c.current,f=E instanceof Function?E(c.current):E,g=_?{...p,...f}:f;c.current=g,T&&a(g),t==null||t(g,p),R==null||R.filter(Boolean).forEach(x=>x({updatedValues:g,previousValues:p}))},[t]),h=D.useCallback(E=>{var _;const R=Bt(E.path,c.current),T=E.value instanceof Function?E.value(R):E.value;if(R!==T){const p=c.current,f=Sc(E.path,T,c.current);d({values:f,updateState:E.updateState}),(_=E.subscribers)==null||_.filter(Boolean).forEach(g=>g({path:E.path,updatedValues:f,previousValues:p}))}},[d]),m=D.useCallback(E=>{l.current=E},[]),v=D.useCallback((E,R)=>{n.current||(n.current=!0,d({values:E,updateState:r==="controlled"}),m(E),R())},[d]),w=D.useCallback(()=>{d({values:l.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),S=D.useCallback(()=>c.current,[]),b=D.useCallback(()=>l.current,[]);return{initialized:n,stateValues:i,refValues:c,valuesSnapshot:l,setValues:d,setFieldValue:h,resetValues:w,setValuesSnapshot:m,initialize:v,getValues:S,getValuesSnapshot:b}}function Y4({$status:e}){const t=D.useRef({}),r=D.useCallback((i,a)=>{D.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(a),()=>{t.current[i]=t.current[i].filter(c=>c!==a)}),[a])},[]),n=D.useCallback(i=>t.current[i]?t.current[i].map(a=>c=>a({previousValue:Bt(i,c.previousValues),value:Bt(i,c.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function x_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const Hl=Symbol("root-rule");function C_(e){const t=vm(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function wm(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((i,a)=>{const c=e[a],l=`${r===""?"":`${r}.`}${a}`,d=Bt(l,t);let h=!1;return typeof c=="function"&&(i[l]=c(d,t,l)),typeof c=="object"&&Array.isArray(d)&&(h=!0,d.forEach((m,v)=>wm(c,t,`${l}.${v}`,i)),Hl in c&&(i[l]=c[Hl](d,t,l))),typeof c=="object"&&typeof d=="object"&&d!==null&&(h||wm(c,t,l,i),Hl in c&&(i[l]=c[Hl](d,t,l))),i},n)}function Sm(e,t){return C_(typeof e=="function"?e(t):wm(e,t))}function Wl(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=Sm(t,r),i=Object.keys(n.errors).find(a=>e.split(".").every((c,l)=>c===a.split(".")[l]));return{hasError:!!i,error:i?n.errors[i]:null}}const X4="__MANTINE_FORM_INDEX__";function R_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${X4}`)):!1:!1}function uc({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:i={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:l=!1,validateInputOnBlur:d=!1,onValuesChange:h,transformValues:m=E=>E,enhanceGetInputProps:v,validate:w,onSubmitPreventDefault:S="always",touchTrigger:b="change"}={}){const E=$4(n),R=K4({initialValues:r,onValuesChange:h,mode:t}),T=G4({initialDirty:i,initialTouched:a,$values:R,mode:t}),_=H4({$values:R,$errors:E,$status:T}),p=Y4({$status:T}),[f,g]=D.useState(0),[x,P]=D.useState({}),[I,L]=D.useState(!1),M=D.useCallback(()=>{R.resetValues(),E.clearErrors(),T.resetDirty(),T.resetTouched(),t==="uncontrolled"&&g(ee=>ee+1)},[]),A=D.useCallback(ee=>{c&&E.clearErrors(),t==="uncontrolled"&&g(ie=>ie+1),Object.keys(p.subscribers.current).forEach(ie=>{const ue=Bt(ie,R.refValues.current),me=Bt(ie,ee);ue!==me&&p.getFieldSubscribers(ie).forEach(he=>he({previousValues:ee,updatedValues:R.refValues.current}))})},[c]),N=D.useCallback(ee=>{const ie=R.refValues.current;R.initialize(ee,()=>t==="uncontrolled"&&g(ue=>ue+1)),A(ie)},[A]),B=D.useCallback((ee,ie,ue)=>{const me=R_(ee,l),he=ie instanceof Function?ie(Bt(ee,R.refValues.current)):ie;T.setCalculatedFieldDirty(ee,he),b==="change"&&T.setFieldTouched(ee,!0),!me&&c&&E.clearFieldError(ee),R.setFieldValue({path:ee,value:ie,updateState:t==="controlled",subscribers:[...p.getFieldSubscribers(ee),me?Ce=>{const je=Wl(ee,w,Ce.updatedValues);je.hasError?E.setFieldError(ee,je.error):E.clearFieldError(ee)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>P(Ce=>({...Ce,[ee]:(Ce[ee]||0)+1})):null]})},[h,w]),W=D.useCallback(ee=>{const ie=R.refValues.current;R.setValues({values:ee,updateState:t==="controlled"}),A(ie)},[h,A]),K=D.useCallback(()=>{const ee=Sm(w,R.refValues.current);return E.setErrors(ee.errors),ee},[w]),O=D.useCallback(ee=>{const ie=Wl(ee,w,R.refValues.current);return ie.hasError?E.setFieldError(ee,ie.error):E.clearFieldError(ee),ie},[w]),V=(ee,{type:ie="input",withError:ue=!0,withFocus:me=!0,...he}={})=>{const je={onChange:A4(yt=>B(ee,yt,{forceUpdate:!1})),"data-path":x_(e,ee)};return ue&&(je.error=E.errorsState[ee]),ie==="checkbox"?je[t==="controlled"?"checked":"defaultChecked"]=Bt(ee,R.refValues.current):je[t==="controlled"?"value":"defaultValue"]=Bt(ee,R.refValues.current),me&&(je.onFocus=()=>T.setFieldTouched(ee,!0),je.onBlur=()=>{if(R_(ee,d)){const yt=Wl(ee,w,R.refValues.current);yt.hasError?E.setFieldError(ee,yt.error):E.clearFieldError(ee)}}),Object.assign(je,v==null?void 0:v({inputProps:je,field:ee,options:{type:ie,withError:ue,withFocus:me,...he},form:de}))},F=(ee,ie)=>ue=>{S==="always"&&(ue==null||ue.preventDefault());const me=K();if(me.hasErrors)S==="validation-failed"&&(ue==null||ue.preventDefault()),ie==null||ie(me.errors,R.refValues.current,ue);else{const he=ee==null?void 0:ee(m(R.refValues.current),ue);he instanceof Promise&&(L(!0),he.finally(()=>L(!1)))}},z=ee=>m(ee||R.refValues.current),q=D.useCallback(ee=>{ee.preventDefault(),M()},[]),U=D.useCallback(ee=>ee?!Wl(ee,w,R.refValues.current).hasError:!Sm(w,R.refValues.current).hasErrors,[w]),X=ee=>`${f}-${ee}-${x[ee]||0}`,ce=D.useCallback(ee=>document.querySelector(`[data-path="${x_(e,ee)}"]`),[]),de={watch:p.watch,initialized:R.initialized.current,values:R.stateValues,getValues:R.getValues,setInitialValues:R.setValuesSnapshot,initialize:N,setValues:W,setFieldValue:B,submitting:I,setSubmitting:L,errors:E.errorsState,setErrors:E.setErrors,setFieldError:E.setFieldError,clearFieldError:E.clearFieldError,clearErrors:E.clearErrors,resetDirty:T.resetDirty,setTouched:T.setTouched,setDirty:T.setDirty,isTouched:T.isTouched,resetTouched:T.resetTouched,isDirty:T.isDirty,getTouched:T.getTouched,getDirty:T.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:M,validate:K,validateField:O,getInputProps:V,onSubmit:F,onReset:q,isValid:U,getTransformedValues:z,key:X,getInputNode:ce};return N4(e,de),de}const Q4=async e=>{try{const t=await fetch(`${$e}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},J4=async e=>{try{const t=await fetch(`${$e}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},Z4=async e=>{try{const t=await fetch(`${$e}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},e$=async e=>{try{const t=await fetch(`${$e}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},t$=async e=>{try{const t=await fetch(`${$e}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},r$=async(e,t)=>{try{const r=await fetch(`${$e}/api/friendship/application/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create application:",r),r}},n$=async e=>{try{const t=await fetch(`${$e}/api/friendship/application/list/from`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},s$=async e=>{try{const t=await fetch(`${$e}/api/friendship/application/list/to`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},o$=async(e,t)=>{try{const r=await fetch(`${$e}/api/friendship/application/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete application:",r),r}},i$=async(e,t)=>{try{const r=await fetch(`${$e}/api/friendship/application/decline`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error decline application:",r),r}},a$=async(e,t)=>{try{const r=await fetch(`${$e}/api/friendship/application/approve`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error approve application:",r),r}},c$=async(e,t)=>{try{const r=await fetch(`${$e}/api/friendship/delete?UserId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete friendship:",r),r}},l$=async e=>{try{const t=await fetch(`${$e}/api/friendship/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get friendship list:",t),t}},u$=e=>e instanceof Error?e.message:String(e),hu=Ae("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await Q4(e)}catch(r){return t(u$(r))}}),mu=Ae("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await J4(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),gu=Ae("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const i=await Z4(e);return console.log(i),i}catch(i){if(console.log(i),i.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(yu({refreshToken:c})).unwrap()}return t(i instanceof Error?i.message:" ")}}),vu=Ae("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await e$(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),yu=Ae("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await t$(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),wu=Ae("userSlice/createApplication",async({accessToken:e,userId:t},{rejectWithValue:r})=>{try{await r$(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Su=Ae("userSlice/getApplicationsFrom",async({accessToken:e},{rejectWithValue:t})=>{try{return await n$(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),bu=Ae("userSlice/getApplicationsTo",async({accessToken:e},{rejectWithValue:t})=>{try{return await s$(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),_u=Ae("userSlice/approveApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await a$(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),xu=Ae("userSlice/declineApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await i$(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Cu=Ae("userSlice/deleteApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await o$(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ru=Ae("userSlice/getFriendshipList",async({accessToken:e},{rejectWithValue:t})=>{try{return await l$(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Eu=Ae("userSlice/deleteFriendship",async({accessToken:e,userId:t},{rejectWithValue:r})=>{try{await c$(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Oh=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},d$={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:Oh("accessToken"),refreshToken:Oh("refreshToken"),isLoggedIn:!!Oh("accessToken"),applicationFrom:[],applicationTo:[],friendshipList:[],error:"",isLoading:!1},f$=Jg({name:"user",initialState:d$,reducers:{},extraReducers:e=>{e.addCase(hu.pending,t=>{t.error=""}).addCase(hu.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(hu.rejected,(t,r)=>{t.error=r.payload}).addCase(mu.pending,t=>{t.error=""}).addCase(mu.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(mu.rejected,(t,r)=>{t.error=r.payload}).addCase(gu.pending,t=>{t.error=""}).addCase(gu.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(gu.rejected,(t,r)=>{t.error=r.payload}).addCase(vu.pending,t=>{t.error=""}).addCase(vu.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(vu.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(yu.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(yu.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(yu.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1}).addCase(wu.pending,t=>{t.error=""}).addCase(wu.fulfilled,t=>{t.error=""}).addCase(wu.rejected,(t,r)=>{t.error=r.payload}).addCase(Su.fulfilled,(t,r)=>{t.applicationFrom=r.payload.applications,t.error=""}).addCase(bu.fulfilled,(t,r)=>{t.applicationTo=r.payload.applications,t.error=""}).addCase(Cu.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationFrom=t.applicationFrom.filter(i=>i.id!==n),t.error=""}).addCase(xu.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(i=>i.id!==n),t.error=""}).addCase(_u.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(i=>i.id!==n),t.error=""}).addCase(Ru.fulfilled,(t,r)=>{t.friendshipList=r.payload.users,t.error=""}).addCase(Eu.fulfilled,(t,{meta:r})=>{const n=r.arg.userId;t.friendshipList=t.friendshipList.filter(i=>i.userId!==n),t.error=""}).addMatcher(Ro(Su.pending,bu.pending,_u.pending,xu.pending,Cu.pending,Ru.pending,Eu.pending),t=>{t.error=""}).addMatcher(Ro(Su.rejected,bu.rejected,_u.rejected,xu.rejected,Cu.rejected,Ru.rejected,Eu.rejected),(t,r)=>{t.error=r.payload})}}),p$=f$.reducer,h$=()=>{const{accessToken:e}=Re(a=>a.userStore),t=vt(),r=Zs(),n=uc({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await t(mu(a))).meta.requestStatus==="fulfilled"&&r("/main")};return D.useEffect(()=>{e&&r("/main")},[e,r]),C.jsx(En,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:C.jsxs($i,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[C.jsx(Le,{fw:500,mb:"md",children:"   "}),C.jsx("form",{onSubmit:n.onSubmit(i),children:C.jsxs(Me,{gap:"md",children:[C.jsx(Hr,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),C.jsx(jd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),C.jsx(qe,{justify:"center",mt:"md",children:C.jsx(De,{type:"submit",children:""})})]})})]})})},m$=()=>C.jsxs(En,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[C.jsx(Ld,{order:3,children:"   Hitscord!"}),C.jsxs(qe,{gap:"20px",children:[C.jsx(nb,{to:"/login",children:C.jsx(De,{variant:"filled",radius:"md",children:""})}),C.jsx(nb,{to:"/register",children:C.jsx(De,{variant:"filled",radius:"md",children:""})})]})]});function g$(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${i} ${a}:${c}`}const E_=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),v$=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName}),ev=e=>e.map(t=>{const r=t.users.reduce((n,i)=>(n[i.socketId]||(n[i.socketId]={userName:i.userName,userId:i.userId,producerIds:[]}),n[i.socketId].producerIds.push(i.producerId),n),{});return{roomName:t.roomName,users:r}}),y$={isUserStreamView:!1,isOpenHome:!0},eC=Jg({name:"app",initialState:y$,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:tC,setUserStreamView:Hs,setOpenHome:Hi}=eC.actions,w$=eC.reducer,S$=({accessToken:e,dispatch:t,serverId:r})=>{const n=D.useRef(null);D.useEffect(()=>{if(e){const l=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return l.onmessage=d=>{const h=JSON.parse(d.data);if(console.log(h),h.MessageType==="New message"){const m=E_(h.Payload);m.id&&m.text&&t(v4(m))}if(h.MessageType==="Deleted message"&&t(y4({channelId:h.Payload.ChannelId,messageId:h.Payload.MessageId})),h.MessageType==="Updated message"){const m=E_(h.Payload);t(w4(m))}},l.onerror=d=>{console.error("WebSocket error:",d)},n.current=l,()=>{console.log("Closing WebSocket connection"),l.close()}}},[e,r,t]);const i=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const h={Type:"New message",Content:l};n.current.send(JSON.stringify(h))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]),a=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const h={Type:"Update message",Content:l};n.current.send(JSON.stringify(h))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]),c=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const h={Type:"Delete message",Content:l};n.current.send(JSON.stringify(h))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]);return{sendMessage:i,editMessage:a,deleteMessage:c}},b$=({accessToken:e,dispatch:t,serverId:r})=>{const n=yc(),i=D.useRef(null),{currentServerId:a,currentVoiceChannelId:c,serverData:l}=Re(d=>d.testServerStore);D.useEffect(()=>{if(e){const d=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return d.onmessage=h=>{const m=JSON.parse(h.data);if(console.log(m),m.MessageType==="New user on server"){const v=v$(m.Payload),{ServerId:w}=m.Payload;r===w&&t(S4(v))}if(m.MessageType==="User unsubscribe"){const{UserId:v,ServerId:w}=m.Payload;r===w&&t(b4({UserId:v,ServerId:w}))}if(m.MessageType==="Role changed"){const{ServerId:v}=m.Payload;e&&r&&r===v&&t(xn({accessToken:e,serverId:r}))}if((m.MessageType==="New channel"||m.MessageType==="Channel deleted")&&e&&r&&(m.Payload.ChannelType===1&&m.Payload.ChannelId===c&&n(e,c),r===m.Payload.ServerId&&t(xn({accessToken:e,serverId:r}))),m.MessageType==="New server name"&&a===m.Payload.ServerId&&t(_4({name:m.Payload.Name})),m.MessageType==="New users name on server"&&a===m.Payload.ServerId&&t(x4({userId:m.Payload.UserId,name:m.Payload.Name})),m.MessageType==="User unsubscribe"&&a===m.Payload.ServerId&&t(C4({userId:m.Payload.UserId})),m.MessageType==="You removed from server"&&(m.Payload.IsNeedRemoveFromVC&&n(e,c),t(Hi(!0)),t(R4({serverId:m.Payload.ServerId}))),m.MessageType==="Change channel name"&&m.Payload.ServerId===a&&t(E4({channelId:m.Payload.ChannelId,newName:m.Payload.Name})),m.MessageType==="New user in voice channel"&&m.Payload.ServerId===a&&t(T4({channelId:m.Payload.ChannelId,userId:m.Payload.UserId})),m.MessageType==="User remove from voice channel"&&m.Payload.ServerId===a&&t(k4({channelId:m.Payload.ChannelId,userId:m.Payload.UserId})),m.MessageType==="User change his mute status"&&m.Payload.ServerId===a&&t(P4({channelId:m.Payload.ChannelId,userId:m.Payload.UserId,isMuted:m.Payload.MuteStatus===1})),m.MessageType==="Text channel settings edited"){const{ServerId:v,RoleId:w}=m.Payload;l.userRoleId&&l.userRoleId===w&&r&&r===v&&t(xn({accessToken:e,serverId:r}))}if(m.MessageType==="Voice channel settings edited"){const{ServerId:v,RoleId:w}=m.Payload;l.userRoleId&&l.userRoleId===w&&r&&r===v&&t(xn({accessToken:e,serverId:r}))}},d.onerror=h=>{console.error("WebSocket error:",h)},i.current=d,()=>{console.log("Closing WebSocket connection"),d.close()}}},[e,r,t])},_$=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:i,authorId:a,editMessage:c,deleteMessage:l})=>{var p;const{accessToken:d}=Re(f=>f.userStore),m=(p=Re(f=>f.testServerStore.serverData.users).find(f=>f.userId===a))==null?void 0:p.userName,[v,w]=D.useState(!1),[S,b]=D.useState(!1),[E,R]=D.useState(t),T=()=>{E.trim()&&(c({Token:d,MessageId:n,Text:E.trim()}),b(!1))},_=()=>{l({Token:d,MessageId:n})};return C.jsxs(En,{direction:"column",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[C.jsxs(qe,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[C.jsx(Kr,{size:"md",color:"blue",children:m?m[0]:"?"}),C.jsxs(ne,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:S?"100%":"auto"},children:[C.jsx(Le,{fw:500,style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:m}),S?C.jsx(xd,{value:E,onChange:f=>R(f.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):C.jsx(Le,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t}),C.jsx(qe,{justify:"space-between",children:C.jsxs(Le,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[g$(r),i&&C.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&C.jsx(qe,{justify:"flex-end",gap:"xs",p:4,style:{opacity:v||S?1:0,transition:"opacity 0.3s ease"},mr:44,children:S?C.jsxs(C.Fragment,{children:[C.jsx(it,{variant:"subtle",onClick:T,children:C.jsx(Gg,{size:12})}),C.jsx(it,{variant:"subtle",onClick:()=>b(!1),children:C.jsx(Qa,{size:12})})]}):C.jsxs(C.Fragment,{children:[C.jsx(it,{variant:"subtle",onClick:()=>b(!0),children:C.jsx(R3,{size:12})}),C.jsx(it,{variant:"subtle",onClick:_,children:C.jsx($x,{size:12})})]})})]})},x$=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:i})=>{const a=vt(),c=D.useRef(null),{user:l,accessToken:d}=Re(I=>I.userStore),{currentServerId:h,currentChannelId:m,messages:v,hasNewMessage:w,isLoading:S,messagesStatus:b}=Re(I=>I.testServerStore),[E,R]=D.useState(""),[T,_]=D.useState(!0),[p,f]=D.useState(!1),g=()=>{E.trim()&&h&&m&&(r({Token:d,ChannelId:m,Text:E.trim(),NestedChannel:!1}),R(""))},x=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),g())},P=()=>{if(c.current){const{scrollTop:I,scrollHeight:L,clientHeight:M}=c.current,A=I+M>=L-1;_(A),A&&f(!1)}};return D.useEffect(()=>{T?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(y_())):f(!0)},[v,T]),D.useEffect(()=>{b===Ri.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[b]),C.jsxs(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[C.jsxs(qe,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[C.jsx(it,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:C.jsx(h3,{size:20})}),C.jsx(Hr,{leftSection:C.jsx(I3,{size:16}),placeholder:"..."}),C.jsx(it,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:C.jsx(X3,{size:20})})]}),C.jsx(Wn,{my:"md"}),C.jsx(Mr,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:P,children:C.jsxs(Me,{gap:"sm",children:[S&&v.length<1&&Array.from({length:5}).map((I,L)=>C.jsxs(qe,{align:"flex-start",gap:"xs",children:[C.jsx(To,{height:40,width:40,circle:!0}),C.jsxs(ne,{style:{flex:1},children:[C.jsx(To,{height:12,width:"60%",radius:"md"}),C.jsx(To,{height:10,width:"40%",mt:8,radius:"md"})]})]},L)),v.map(I=>C.jsx(_$,{messageId:I.id,content:I.text,isOwnMessage:l.id===I.authorId,time:I.createdAt,modifiedAt:I.modifiedAt,authorId:I.authorId,editMessage:n,deleteMessage:i},I.id))]})}),!T&&p&&C.jsx(ne,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:C.jsx(xg,{size:14,disabled:!w,withBorder:!0,children:C.jsx(it,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),f(!1),a(y_()))},children:C.jsx(VN,{size:20})})})}),C.jsxs(qe,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[C.jsx(it,{size:"xl",variant:"transparent",children:C.jsx(x3,{size:20})}),C.jsx(xd,{w:"100%",placeholder:"...",value:E,onChange:I=>R(I.target.value),onKeyDownCapture:x,autosize:!0,minRows:1,maxRows:3}),C.jsx(it,{size:"xl",variant:"transparent",onClick:g,children:C.jsx(L3,{size:20})})]})]})},C$=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>C.jsxs(ne,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[C.jsx(Kr,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),C.jsx(Le,{c:"white",size:"xs",children:t}),r&&C.jsx(De,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:C.jsx(um,{})})]},e),R$=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>C.jsxs(ne,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[C.jsx(Kr,{radius:"xl",size:"lg",color:"blue",children:t[0]}),C.jsx(Le,{c:"white",children:t}),r&&C.jsx(De,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),E$=({users:e,onOpenStream:t})=>{const r=vt(),{currentVoiceChannelId:n}=Re(c=>c.testServerStore),a=ev(e).find(c=>c.roomName===n);return C.jsxs(Mr,{style:{flex:1,maxHeight:"100%"},children:[C.jsx(qe,{justify:"flex-end",children:C.jsx(it,{variant:"transparent",onClick:()=>r(tC()),children:C.jsx(WN,{})})}),C.jsx(Ig,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:l,producerIds:d}])=>{const h=d.length>1;return C.jsx(R$,{socketId:c,userName:l,isStreaming:h,onOpenStream:t},c)})})]})},T$=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=Ao(),i=D.useRef(null),a=D.useRef(null),{currentVoiceChannelId:c}=Re(b=>b.testServerStore),d=ev(t).find(b=>b.roomName===c),h=D.useRef(null),m=()=>{h.current&&h.current.scrollBy({left:-100,behavior:"smooth"})},v=()=>{h.current&&h.current.scrollBy({left:100,behavior:"smooth"})},w=b=>{n(b)},S=()=>{n(null),i.current&&(a.current=null,i.current.srcObject=null)};return D.useEffect(()=>{if(!Ie||!d)return;const b=({producerId:E})=>{e.some(T=>{var _;return T.kind==="video"&&T.producerId===E&&((_=d.users[r])==null?void 0:_.producerIds.includes(E))})&&S()};return Ie.on("producerClosed",b),()=>{Ie.off("producerClosed",b)}},[Ie,e,d,r]),D.useEffect(()=>{var _;if(!r||!d)return;const b=((_=d.users[r])==null?void 0:_.producerIds)??[],E=e.find(p=>p.kind==="video"&&b.includes(p.producerId)),R=e.find(p=>{var f;return p.kind==="audio"&&((f=p.appData)==null?void 0:f.source)==="screen-audio"&&b.includes(p.producerId)}),T=[];if(E!=null&&E.track&&T.push(E.track),R!=null&&R.track&&T.push(R.track),T.length>0){const p=new MediaStream(T);a.current=p,i.current&&(i.current.srcObject=p,i.current.play().catch(f=>console.error("  /:",f)))}},[r,e,d]),C.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?C.jsxs(ne,{style:{position:"relative",flex:1},children:[C.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),C.jsxs(De,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[C.jsx(Qa,{size:20})," "]}),C.jsxs(ne,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[C.jsx(De,{variant:"subtle",color:"gray",onClick:m,style:{zIndex:1},children:C.jsx(QN,{size:20})}),C.jsx(Mr,{viewportRef:h,style:{width:"100%"},children:C.jsx(En,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:d&&Object.entries(d.users).map(([b,{userName:E,producerIds:R}])=>{const T=R.length>1;return C.jsx(C$,{socketId:b,userName:E,isStreaming:T,handleUserClick:w},b)})})}),C.jsx(De,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:C.jsx(ac,{size:20})})]})]}):C.jsx(E$,{users:t,onOpenStream:w})})},k$=({userName:e,userTag:t,roleName:r,userId:n})=>{var S;const i=vt(),{showSuccess:a}=zo(),{roles:c}=Re(b=>b.testServerStore.serverData),{applicationFrom:l}=Re(b=>b.userStore),{accessToken:d,user:h}=Re(b=>b.userStore),m=l.find(b=>b.user.userId===n),v=((S=c.find(b=>b.name===r))==null?void 0:S.color)??"green",w=async()=>{(await i(wu({accessToken:d,userId:n}))).meta.requestStatus==="fulfilled"&&a("   ")};return C.jsxs(Me,{gap:"xs",justify:"center",align:"center",w:"100%",children:[C.jsx(Kr,{size:"md",color:"blue",children:e[0]}),C.jsx(Le,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:e}),C.jsx(Fn,{color:v,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:r}),C.jsxs(qe,{children:[C.jsx(Le,{c:"dimmed",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t}),C.jsx(w1,{value:t,timeout:2e3,children:({copied:b,copy:E})=>C.jsx(Un,{label:b?"":"",withArrow:!0,position:"right",children:C.jsx(it,{color:b?"teal":"gray",variant:"subtle",onClick:E,children:b?C.jsx(Gg,{size:16}):C.jsx(Kg,{size:16})})})})]}),h.id!==n&&C.jsx(De,{variant:"light",radius:"md",onClick:w,disabled:!!m,children:m?" ":"  "})]})},P$=({userId:e,userName:t,userTag:r,roleName:n})=>{var d;const[i,a]=D.useState(!1),{roles:c}=Re(h=>h.testServerStore.serverData),l=((d=c.find(h=>h.name===n))==null?void 0:d.color)??"green";return C.jsxs(vr,{opened:i,onChange:a,position:"left",radius:"md",children:[C.jsx(vr.Target,{children:C.jsxs(En,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden",cursor:"pointer"},onClick:()=>a(h=>!h),children:[C.jsx(Kr,{size:"md",color:"blue",children:t}),C.jsx(Un,{label:t,position:"top-start",withArrow:!0,children:C.jsx(Le,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:t})}),C.jsx(Un,{label:n,position:"top-end",withArrow:!0,children:C.jsx(Fn,{variant:"light",color:l,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:n})})]})}),C.jsx(vr.Dropdown,{bg:"#43474f",children:C.jsx(k$,{userId:e,userName:t,userTag:r,roleName:n})})]})},D$=()=>{const{serverData:e}=Re(t=>t.testServerStore);return C.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:C.jsxs(Me,{gap:"md",h:"100%",children:[C.jsx(Le,{c:"white",children:""}),C.jsx(Wn,{color:"gray"}),C.jsx(Mr.Autosize,{mah:"100%",maw:"100%",children:C.jsx(Me,{gap:"xs",children:e.users.map(t=>C.jsx(P$,{userId:t.userId,userName:t.userName,userTag:t.userTag,roleName:t.roleName},t.userId))})})]})})},j$=({onClose:e,opened:t})=>{const{serverData:r}=Re(n=>n.testServerStore);return C.jsx(Yr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:C.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:C.jsxs(Me,{gap:"md",h:"100%",children:[C.jsx(Le,{c:"white",children:""}),C.jsx(Wn,{color:"gray"}),C.jsx(Mr.Autosize,{mah:"100%",maw:"100%",children:C.jsx(Me,{gap:"xs",children:r.users.map(n=>C.jsxs(qe,{wrap:"nowrap",children:[C.jsx(Kr,{size:"md",color:"blue",children:n.userName}),C.jsx(Le,{c:"white",children:n.userName}),C.jsx(Fn,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})};var ko=(e=>(e.APPLICATION_FROM="APPLICATION_FROM",e.APPLICATION_TO="APPLICATION_TO",e.FRIEND="FRIEND",e))(ko||{});const Nh=({applicationId:e,type:t,userName:r,userTag:n,userId:i})=>{const a=vt(),{accessToken:c}=Re(v=>v.userStore),l=()=>{e&&a(Cu({accessToken:c,applicationId:e}))},d=()=>{e&&a(_u({accessToken:c,applicationId:e}))},h=()=>{e&&a(xu({accessToken:c,applicationId:e}))},m=()=>{a(Eu({accessToken:c,userId:i}))};return C.jsx($i,{bg:"#2c2e33",padding:"xs",radius:"md",withBorder:!0,children:C.jsxs(qe,{justify:"space-between",children:[C.jsxs(qe,{children:[C.jsx(Kr,{size:"md",color:"blue",children:r[0]}),C.jsxs(Me,{gap:"xs",children:[C.jsx(Le,{c:"white",children:r}),C.jsx(Le,{c:"dimmed",children:n})]})]}),C.jsxs(qe,{children:[t===ko.APPLICATION_TO&&C.jsxs(C.Fragment,{children:[C.jsx(De,{leftSection:C.jsx(Gg,{}),variant:"light",color:"green",radius:"md",onClick:d,children:""}),C.jsx(De,{leftSection:C.jsx(Qa,{}),variant:"light",color:"red",radius:"md",onClick:h,children:""})]}),t===ko.APPLICATION_FROM&&C.jsx(De,{leftSection:C.jsx(Qa,{}),variant:"light",color:"red",radius:"md",onClick:l,children:""}),t===ko.FRIEND&&C.jsx(De,{leftSection:C.jsx(Qa,{}),variant:"light",color:"red",radius:"md",onClick:m,children:"  "})]})]})})},I$=({activeLink:e})=>{const[t,r]=D.useState("friends"),{applicationFrom:n,applicationTo:i,friendshipList:a}=Re(c=>c.userStore);return C.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:C.jsx(En,{w:"100%",h:"100%",justify:"center",children:e==="friends"&&C.jsxs(Dt,{value:t,onChange:r,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},w:"100%",children:[C.jsxs(Dt.List,{children:[C.jsx(Dt.Tab,{value:"friends",children:" "}),C.jsx(Dt.Tab,{value:"applicationFrom",children:" "}),C.jsx(Dt.Tab,{value:"applicationTo",children:" "})]}),C.jsx(Dt.Panel,{value:"friends",children:C.jsxs(Me,{p:"xs",gap:"xs",children:[a.length<1&&C.jsx(Le,{children:"    "}),a.map(c=>C.jsx(Nh,{type:ko.FRIEND,userName:c.userName,userTag:c.userTag,userId:c.userId},c.userId))]})}),C.jsx(Dt.Panel,{value:"applicationFrom",children:C.jsxs(Me,{p:"xs",gap:"xs",children:[n.length<1&&C.jsx(Le,{children:" "}),n.map(c=>C.jsx(Nh,{applicationId:c.id,type:ko.APPLICATION_FROM,userName:c.user.userName,userTag:c.user.userTag,createdAt:c.createdAt,userId:c.user.userId},c.id))]})}),C.jsx(Dt.Panel,{value:"applicationTo",children:C.jsxs(Me,{p:"xs",gap:"xs",children:[i.length<1&&C.jsx(Le,{children:" "}),i.map(c=>C.jsx(Nh,{applicationId:c.id,type:ko.APPLICATION_TO,userName:c.user.userName,userTag:c.user.userTag,createdAt:c.createdAt,userId:c.user.userId},c.id))]})})]})})})},M$=()=>{const{user:e}=Re(t=>t.userStore);return C.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:C.jsxs(Me,{gap:"md",align:"center",children:[C.jsx(Kr,{size:80,radius:"xl",src:void 0,alt:e.name}),C.jsx(Un,{label:e.name,withArrow:!0,children:C.jsx(Ld,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),C.jsx(Un,{label:e.tag,withArrow:!0,children:C.jsxs(Le,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),C.jsx(Un,{label:e.mail,withArrow:!0,children:C.jsxs(Le,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),C.jsxs(Le,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},L$=({activeLink:e,setActiveLink:t})=>C.jsxs(Me,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[C.jsx(_n,{label:"",leftSection:C.jsx(GN,{size:16}),rightSection:C.jsx(ac,{size:12}),active:e==="friends",onClick:()=>t("friends")}),C.jsx(_n,{label:"",leftSection:C.jsx(wc,{size:16}),rightSection:C.jsx(ac,{size:12}),active:e==="settings",onClick:()=>t("settings")})]}),O$=()=>{const e=vt(),{accessToken:t}=Re(i=>i.userStore),[r,n]=D.useState("friends");return D.useEffect(()=>{e(Su({accessToken:t})),e(bu({accessToken:t})),e(Ru({accessToken:t}))},[]),C.jsxs(C.Fragment,{children:[C.jsx(L$,{activeLink:r,setActiveLink:n}),C.jsx(I$,{activeLink:r}),C.jsx(M$,{})]})},N$=({opened:e,onClose:t})=>{const[r,n]=D.useState("create"),{user:i,accessToken:a}=Re(v=>v.userStore),c=vt(),l=uc({initialValues:{name:""},validate:{name:v=>v.trim().length<3?"     3 ":null}}),d=uc({initialValues:{serverId:""},validate:{serverId:v=>v.trim().length===0?" ID ":null}}),h=async v=>{(await c(eu({accessToken:a,name:v.name}))).meta.requestStatus==="fulfilled"&&(c(cs({accessToken:a})),l.reset(),t())},m=async v=>{(await c(ru({accessToken:a,serverId:v.serverId,userName:i.name}))).meta.requestStatus==="fulfilled"&&(c(cs({accessToken:a})),l.reset(),t())};return C.jsx(er,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:C.jsxs(Dt,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[C.jsxs(Dt.List,{children:[C.jsx(Dt.Tab,{value:"create",children:" "}),C.jsx(Dt.Tab,{value:"connect",children:"  "})]}),C.jsx(Dt.Panel,{value:"create",children:C.jsxs("form",{onSubmit:l.onSubmit(h),children:[C.jsx(Hr,{label:" ",placeholder:"  ",...l.getInputProps("name")}),C.jsxs(qe,{justify:"flex-end",mt:"md",children:[C.jsx(De,{variant:"outline",onClick:t,children:""}),C.jsx(De,{type:"submit",children:""})]})]})}),C.jsx(Dt.Panel,{value:"connect",children:C.jsxs("form",{onSubmit:d.onSubmit(m),children:[C.jsx(Hr,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),C.jsxs(qe,{justify:"flex-end",mt:"md",children:[C.jsx(De,{variant:"outline",onClick:t,children:""}),C.jsx(De,{type:"submit",children:""})]})]})})]})})},A$=({serverId:e,serverName:t})=>{const r=vt(),{user:n}=Re(a=>a.userStore),i=()=>{r(m4(e)),r(Hs(!1)),r(Hi(!1)),Ie.emit("setServer",{serverId:e,userName:n.name,userId:n.id})};return C.jsx(it,{size:"xl",radius:"xl",variant:"transparent",onClick:i,children:C.jsx(Kr,{size:"md",color:"blue",children:t})})},$$=()=>{const[e,{open:t,close:r}]=Pr(!1),n=vt(),i=Zs(),{serversList:a}=Re(d=>d.testServerStore),{accessToken:c}=Re(d=>d.userStore),l=async()=>{(await n(vu({accessToken:c}))).meta.requestStatus==="fulfilled"&&i("/")};return D.useEffect(()=>{c&&n(cs({accessToken:c}))},[c,n]),C.jsxs(En,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[C.jsxs(En,{direction:"column",align:"center",children:[C.jsx(it,{size:"lg",variant:"transparent",onClick:()=>n(Hi(!0)),children:C.jsx(u3,{size:24,color:"#fff"})}),C.jsx(Wn,{my:"sm"}),C.jsx(Me,{gap:"sm",align:"center",children:a.map(d=>C.jsx(A$,{serverId:d.serverId,serverName:d.serverName},d.serverId))}),C.jsx(Wn,{my:"sm"}),C.jsx(it,{size:"lg",variant:"transparent",onClick:t,children:C.jsx(r3,{size:24,color:"#fff"})})]}),C.jsx(it,{size:"lg",variant:"transparent",onClick:l,children:C.jsx(f3,{size:24,color:"#fff"})}),C.jsx(N$,{opened:e,onClose:r})]})},F$=({opened:e,onClose:t})=>{const r=vt(),{accessToken:n}=Re(h=>h.userStore),{currentServerId:i}=Re(h=>h.testServerStore),[a,c]=D.useState(""),{showSuccess:l}=zo(),d=async()=>{i&&(await r(iu({accessToken:n,serverId:i,name:a}))).meta.requestStatus==="fulfilled"&&(l("  "),c(""),t())};return C.jsx(er,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:C.jsxs(Me,{gap:"xs",children:[C.jsx(Hr,{label:" ",placeholder:"  ",value:a,onChange:h=>c(h.currentTarget.value)}),C.jsx(qe,{justify:"flex-end",mt:"md",children:C.jsx(De,{variant:"filled",onClick:d,children:""})})]})})},rC=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=Ao(),i=yc(),{startScreenSharing:a,stopScreenSharing:c}=eA(),l=vt(),{user:d,accessToken:h}=Re(S=>S.userStore),{currentVoiceChannelId:m}=Re(S=>S.testServerStore),v=()=>{n?c():a()},w=()=>{i(h,m),l(Hs(!1)),l(Ei(null))};return C.jsxs(Me,{mt:"auto",children:[e&&C.jsxs(qe,{gap:"xs",justify:"space-between",children:[C.jsx(it,{variant:"transparent",onClick:v,c:"#ffffff",children:n?C.jsx(b3,{}):C.jsx(w3,{})}),C.jsx(it,{variant:"transparent",onClick:t,c:"#ffffff",children:r?C.jsx(Ax,{}):C.jsx(v3,{})}),C.jsx(it,{variant:"transparent",onClick:w,c:"#ffffff",children:C.jsx(P3,{})})]}),C.jsx(Wn,{}),C.jsx(Le,{truncate:!0,children:d.name})]})},nC=({opened:e,onClose:t})=>{const r=vt(),{serverData:n,currentServerId:i,error:a}=Re(M=>M.testServerStore),{accessToken:c,user:l}=Re(M=>M.userStore),[d,h]=D.useState("roles"),[m,v]=D.useState(""),[w,S]=D.useState(""),[b,E]=D.useState(!1),[R,T]=D.useState(n.serverName),{showSuccess:_}=zo(),[p,f]=D.useState(""),g=n.isCreator,x=n.canDeleteUsers,P=async()=>{if(!m||!w)return;E(!0),(await r(tu({accessToken:c,serverId:n.serverId,userId:m,role:w}))).meta.requestStatus==="fulfilled"&&(E(!1),_("  "),r(xn({accessToken:c,serverId:n.serverId})),t())},I=async()=>{i&&(E(!0),(await r(ou({accessToken:c,serverId:i,name:R}))).meta.requestStatus==="fulfilled"&&(E(!1),_("  "),t()))},L=async()=>{i&&p&&(E(!0),(await r(au({accessToken:c,serverId:i,userId:p}))).meta.requestStatus==="fulfilled"&&(E(!1),_("  "),f(null),t()))};return D.useEffect(()=>{a&&E(!1)},[a]),C.jsx(er,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:C.jsxs(qe,{align:"flex-start",gap:"md",children:[C.jsxs(Me,{gap:"xs",style:{width:200},children:[C.jsx(_n,{label:"",leftSection:C.jsx($u,{size:16}),active:d==="roles",onClick:()=>h("roles")}),g&&C.jsx(_n,{label:" ",leftSection:C.jsx($u,{size:16}),active:d==="name",onClick:()=>h("name")}),(g||x)&&C.jsx(_n,{label:" ",leftSection:C.jsx(U3,{size:16}),active:d==="deleteUser",onClick:()=>h("deleteUser")})]}),C.jsxs(Mr,{children:[d==="roles"&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:"  "}),C.jsx(is,{label:" ",placeholder:" ",data:n.users.filter(M=>M.userId!==l.id).map(M=>({value:M.userId,label:M.userName})),value:m,onChange:v}),C.jsx(is,{label:" ",placeholder:" ",data:n.roles.map(M=>({value:M.id,label:M.name})),value:w,onChange:S}),C.jsx(De,{onClick:P,loading:b,children:" "})]}),d==="name"&&g&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:"  "}),C.jsx(Hr,{label:"  ",value:R,onChange:M=>T(M.target.value),placeholder:n.serverName}),C.jsx(De,{onClick:I,loading:b,children:" "})]}),d==="deleteUser"&&(g||x)&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:"   "}),C.jsx(is,{label:" ",placeholder:" ",data:n.users.filter(M=>M.userId!==l.id).map(M=>({value:M.userId,label:M.userName})),value:p,onChange:f}),C.jsx(De,{onClick:L,loading:b,children:""})]})]})]})})},z$=({opened:e,onClose:t})=>{const r=Zs(),n=vt(),i=yc(),{showSuccess:a,showError:c}=zo(),{serverData:l,currentVoiceChannelId:d}=Re(b=>b.testServerStore),{accessToken:h,user:m}=Re(b=>b.userStore),[v,w]=D.useState(""),S=async()=>{if(!v){c("  ");return}i(h,d),n(Hs(!1)),n(Ei(null)),(await n(p4({accessToken:h,serverId:l.serverId,newCreatorId:v}))).meta.requestStatus==="fulfilled"&&(a("  "),n(cs({accessToken:h})),n(Hi(!0)),n(Zg()),w(""),r("/main"))};return C.jsx(er,{opened:e,onClose:t,title:"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:C.jsxs(Me,{gap:"xs",children:[C.jsx(is,{label:"  ",placeholder:" ",data:l.users.filter(b=>b.userId!==m.id).map(b=>({value:b.userId,label:b.userName})),value:v,onChange:w}),C.jsx(qe,{justify:"flex-end",mt:"md",children:C.jsx(De,{variant:"filled",onClick:S,children:""})})]})})},T_=e=>e.toLowerCase()==="true",B$=e=>{switch(e){case Qt.TEXT_CHANNEL:return[{value:"0",label:""},{value:"2",label:""},{value:"3",label:" "}];case Qt.VOICE_CHANNEL:return[{value:"0",label:""},{value:"1",label:" "}];default:return[]}},sC=({opened:e,onClose:t,channelId:r,channelName:n,channelType:i})=>{const a=vt(),{accessToken:c}=Re(B=>B.userStore),{serverData:l,roleSettings:d}=Re(B=>B.testServerStore),[h,m]=D.useState("name"),[v,w]=D.useState(n),[S,b]=D.useState(!1),{showSuccess:E}=zo(),[R,T]=D.useState(null),[_,p]=D.useState(null),[f,g]=D.useState(""),x=d.canSee,P=d.canJoin,I=d.canWrite,L=d.canWriteSub,M=async()=>{b(!0),(await a(cu({accessToken:c,id:r,name:v}))).meta.requestStatus==="fulfilled"&&(b(!1),E("   "),t())},A=async()=>{b(!0),(await a(ec({accessToken:c,channelId:r}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t())},N=async()=>{b(!0),i===Qt.TEXT_CHANNEL&&R&&_&&f&&(await a(uu({accessToken:c,settings:{channelId:r,add:T_(R),type:Number(_),roleId:f}}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t()),i===Qt.VOICE_CHANNEL&&R&&_&&f&&(await a(pu({accessToken:c,settings:{channelId:r,add:T_(R),type:Number(_),roleId:f}}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t())};return D.useEffect(()=>{c&&e&&(i===Qt.TEXT_CHANNEL&&a(du({accessToken:c,channelId:r})),i===Qt.VOICE_CHANNEL&&a(fu({accessToken:c,channelId:r})))},[c,e]),C.jsx(er,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:C.jsxs(qe,{align:"flex-start",gap:"md",children:[C.jsxs(Me,{gap:"xs",style:{width:200},children:[C.jsx(_n,{label:"",leftSection:C.jsx(T3,{size:16}),active:h==="name",onClick:()=>m("name")}),C.jsx(_n,{label:"",leftSection:C.jsx($x,{size:16}),active:h==="delete",onClick:()=>m("delete")}),C.jsx(_n,{label:"",leftSection:C.jsx(H3,{size:16}),active:h==="watchSettings",onClick:()=>m("watchSettings")}),C.jsx(_n,{label:"",leftSection:C.jsx(q3,{size:16}),active:h==="settings",onClick:()=>m("settings")})]}),C.jsxs(Mr,{children:[h==="name"&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:"  "}),C.jsx(Hr,{label:"  ",value:v,onChange:B=>w(B.target.value),placeholder:n}),C.jsx(De,{onClick:M,loading:S,children:" "})]}),h==="delete"&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:" "}),C.jsx(De,{color:"red",onClick:A,loading:S,children:" "})]}),h==="watchSettings"&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:" "}),x&&C.jsxs(C.Fragment,{children:[C.jsx(Le,{children:" :"}),C.jsx(Me,{gap:"xs",children:x.map(B=>C.jsx(Fn,{color:B.color,size:"lg",variant:"light",radius:"md",children:B.name},B.id))})]}),P&&C.jsxs(C.Fragment,{children:[C.jsx(Le,{children:" :"}),C.jsx(Me,{gap:"xs",children:P.map(B=>C.jsx(Fn,{color:B.color,size:"lg",variant:"light",radius:"md",children:B.name},B.id))})]}),I&&C.jsxs(C.Fragment,{children:[C.jsx(Le,{children:" :"}),C.jsx(Me,{gap:"xs",children:I.map(B=>C.jsx(Fn,{color:B.color,size:"lg",variant:"light",radius:"md",children:B.name},B.id))})]}),L&&C.jsxs(C.Fragment,{children:[C.jsx(Le,{children:"  :"}),C.jsx(Me,{gap:"xs",children:L.map(B=>C.jsx(Fn,{color:B.color,size:"lg",variant:"light",radius:"md",children:B.name},B.id))})]})]}),h==="settings"&&C.jsxs(Me,{gap:"md",children:[C.jsx(Le,{size:"lg",w:500,children:"   "}),C.jsxs(qe,{align:"center",children:[C.jsx(is,{label:"",placeholder:" ",data:[{value:"true",label:""},{value:"false",label:""}],value:R,onChange:T}),C.jsx(is,{label:"",placeholder:" ",data:B$(i),value:_,onChange:p}),C.jsx(is,{label:" ",placeholder:" ",data:l.roles.map(B=>({value:B.id,label:B.name})),value:f,onChange:g})]}),C.jsx(De,{onClick:N,loading:S,children:" "})]})]})]})})},U$=({channelId:e,currentChannelId:t,channelName:r,isAdmin:n,handleOpenChannel:i})=>{const{hasNewMessage:a}=Re(w=>w.testServerStore),[c,l]=D.useState(""),[d,{open:h,close:m}]=Pr(!1),v=()=>{h()};return C.jsxs(C.Fragment,{children:[C.jsxs(ne,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>l(e),onMouseLeave:()=>l(""),children:[C.jsx(De,{leftSection:a&&e===t?C.jsx(Fn,{circle:!0,children:"1"}):C.jsx(c3,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:k_.buttonRoot(c===e,t===e)},fullWidth:!0,onClick:i,children:r}),n&&c===e&&C.jsx(De,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:k_.buttonSettings(t===e)},onClick:v,children:C.jsx(wc,{size:16})})]},e),C.jsx(sC,{opened:d,onClose:m,channelId:e,channelName:r,channelType:Qt.TEXT_CHANNEL})]})},oC=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:i})=>{const a=vt(),{accessToken:c}=Re(w=>w.userStore),{error:l}=Re(w=>w.testServerStore),{showError:d}=zo(),h=uc({initialValues:{name:r.initialData},validate:{name:w=>w.trim().length<3?"     3 ":null}});D.useEffect(()=>{r.isEdit?h.setValues({name:r.initialData}):h.reset()},[r]);const m=async w=>{(await a(su({accessToken:c,serverId:n,name:w.name,channelType:i===Qt.TEXT_CHANNEL?Qt.TEXT_CHANNEL:Qt.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&a(xn({accessToken:c,serverId:n})),t()},v=async()=>{(await a(ec({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(xn({accessToken:c,serverId:n})),t()};return D.useEffect(()=>{l&&d(l)},[l]),C.jsx(er,{opened:e,onClose:t,title:r.isEdit?` ${i===Qt.TEXT_CHANNEL?"":""} `:` ${i===Qt.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?C.jsxs(C.Fragment,{children:[C.jsxs(Le,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),C.jsxs(qe,{justify:"flex-end",mt:"md",children:[C.jsx(De,{variant:"filled",color:"red",onClick:v,children:""}),C.jsx(De,{variant:"outline",onClick:t,children:""})]})]}):C.jsxs("form",{onSubmit:h.onSubmit(m),children:[C.jsx(Hr,{label:" ",placeholder:"  ",...h.getInputProps("name")}),C.jsxs(qe,{justify:"flex-end",mt:"md",children:[C.jsx(De,{variant:"outline",onClick:t,children:""}),C.jsx(De,{type:"submit",children:""})]})]})})},iC=({onClose:e})=>{const t=vt(),[r,{toggle:n}]=Pr(!0),[i,{open:a,close:c}]=Pr(!1),[l,d]=D.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:h,currentServerId:m,currentChannelId:v}=Re(E=>E.testServerStore),w=h.isCreator||h.canWorkWithChannels,S=E=>{t(g4(E)),t(Hs(!1)),e()},b=(E,R)=>{d({isEdit:!0,initialData:E,channelId:R}),a()};return D.useEffect(()=>{console.log(v)},[v]),C.jsxs(C.Fragment,{children:[C.jsxs(Me,{align:"flex-start",gap:"xs",children:[C.jsxs(qe,{justify:"space-between",w:"100%",wrap:"nowrap",children:[C.jsx(De,{leftSection:r?C.jsx(Ud,{}):C.jsx(ac,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),w&&C.jsx(it,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),a()},children:C.jsx($u,{color:"#ffffff"})})]}),C.jsx(ed,{in:r,w:"100%",children:C.jsx(Me,{gap:"xs",children:h.channels.textChannels.map(({channelId:E,channelName:R})=>C.jsx(U$,{channelId:E,currentChannelId:v,channelName:R,isAdmin:w,handleOpenChannel:()=>S(E),handleEditChannel:()=>b(R,E)},E))})})]}),m&&C.jsx(oC,{opened:i,onClose:c,isEdit:l,serverId:m,channelType:Qt.TEXT_CHANNEL})]})},k_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},V$=({channelId:e,channelName:t,isAdmin:r,handleConnect:n})=>{const[i,{open:a,close:c}]=Pr(!1),[l,d]=D.useState(""),h=()=>{a()};return C.jsxs(C.Fragment,{children:[C.jsxs(ne,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>d(e),onMouseLeave:()=>d(""),children:[C.jsx(De,{leftSection:C.jsx(Fx,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:n,children:t}),r&&l===e&&C.jsx(De,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:G$.buttonSettings},onClick:h,children:C.jsx(wc,{size:16})})]}),C.jsx(sC,{opened:i,onClose:c,channelId:e,channelName:t,channelType:Qt.VOICE_CHANNEL})]})},H$=({opened:e,toggle:t,isAdmin:r,handleAddChannel:n})=>C.jsxs(qe,{justify:"space-between",w:"100%",wrap:"nowrap",children:[C.jsx(De,{leftSection:e?C.jsx(Ud,{}):C.jsx(ac,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&C.jsx(it,{variant:"transparent",onClick:n,children:C.jsx($u,{color:"#ffffff"})})]}),W$=({socketId:e,isSpeaking:t,userName:r,producerIds:n,isAdmin:i,userVolume:a,handleVolumeChange:c,handleOpenStream:l,handleKickUser:d,channelId:h,userId:m})=>{var b,E;const{voiceChannels:v}=Re(R=>R.testServerStore.serverData.channels),w=(b=v.find(R=>R.channelId===h))==null?void 0:b.users,S=(E=w==null?void 0:w.find(R=>R.userId===m))==null?void 0:E.isMuted;return C.jsxs(Ye,{shadow:"md",width:200,closeOnItemClick:!0,children:[C.jsx(Ye.Target,{children:C.jsxs(qe,{style:{cursor:"pointer",overflow:"hidden",width:"100%"},wrap:"nowrap",children:[C.jsx(K3,{color:t?"#43b581":void 0,style:{flexShrink:0}}),S&&C.jsx(Ax,{size:20,style:{flexShrink:0}}),C.jsx(Le,{style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:r}),n.length>1&&C.jsx(um,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),C.jsxs(Ye.Dropdown,{children:[C.jsx(Ye.Item,{leftSection:C.jsx(Fx,{}),children:C.jsx(Mg,{label:"",value:a,onChange:R=>c(e,R),min:1,max:100})}),n.length>1&&C.jsx(Ye.Item,{leftSection:C.jsx(um,{}),onClick:()=>l(e),children:" "}),i&&C.jsx(Ye.Item,{leftSection:C.jsx($3,{}),onClick:()=>d(e),children:" "})]})]},e)},q$=()=>{const[e,t]=D.useState([]);return D.useEffect(()=>{if(Ie)return Ie.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Ie.off("active-speakers")}},[]),e},aC=()=>{const e=$N(),t=yc(),{isConnected:r,consumers:n,users:i,setSelectedUserId:a}=Ao(),{user:c,accessToken:l}=Re(K=>K.userStore),{serverData:d,currentVoiceChannelId:h,currentServerId:m}=Re(K=>K.testServerStore),v=vt(),[w,{toggle:S}]=Pr(!0),[b,{open:E,close:R}]=Pr(!1),T=q$(),{setVolume:_,userVolumes:p}=M4(),f=ev(i),g=d.isCreator,[x,P]=D.useState({isEdit:!1,initialData:"",channelId:""}),I=async K=>{r?K===h?v(tC()):(h&&await t(l,h),v(Hs(!1)),v(Ei(K)),e(K,c.name,c.id,d.serverId,l)):(v(Ei(K)),e(K,c.name,c.id,d.serverId,l))},L=(K,O)=>{if(!h)return;const V=f.find(q=>q.roomName===h);if(!V)return;const F=V.users[K];if(!F)return;const z=F.producerIds.find(q=>!!n.find(X=>X.producerId===q&&X.kind==="audio"));z&&_(z,O)},M=()=>{P({isEdit:!1,initialData:"",channelId:""}),E()},A=K=>{console.log(K),Ie.emit("kickUser",{targetSocketId:K},O=>{O.success?console.log("  :",O.message):console.error("  :",O.message)})},N=K=>{const O=K.find(V=>n.some(F=>F.producerId===V&&F.kind==="audio"));return(p[O||""]||1)*100},B=(K,O)=>K.some(F=>T.some(z=>z.producerId===F))&&O===h,W=K=>{a(K),v(Hs(!0))};return D.useEffect(()=>{if(Ie)return Ie.on("kickedUser",()=>{t(l,h),v(Hs(!1)),v(Ei(null))}),()=>{Ie.off("producerClosed")}},[t,v]),C.jsxs(C.Fragment,{children:[C.jsxs(Me,{align:"flex-start",gap:"xs",children:[C.jsx(H$,{opened:w,toggle:S,isAdmin:g,handleAddChannel:M}),C.jsx(ed,{in:w,w:"100%",children:C.jsx(Me,{gap:"xs",children:d.channels.voiceChannels.map(({channelId:K,channelName:O})=>C.jsxs(Ut.Fragment,{children:[C.jsx(V$,{channelId:K,channelName:O,isAdmin:g,handleConnect:()=>I(K)}),C.jsx(Me,{gap:"xs",children:f.filter(V=>V.roomName===K).flatMap(V=>Object.entries(V.users).map(([F,{producerIds:z,userName:q,userId:U}])=>{const X=B(z,K),ce=N(z);return C.jsx(W$,{socketId:F,isSpeaking:X,userName:q,producerIds:z,isAdmin:g,userVolume:ce,handleOpenStream:W,handleVolumeChange:L,handleKickUser:A,channelId:K,userId:U},F)}))})]},K))})})]}),m&&C.jsx(oC,{opened:b,onClose:R,isEdit:x,serverId:m,channelType:Qt.VOICE_CHANNEL})]})},G$={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},K$=({onClose:e})=>{const t=Zs(),r=vt(),n=yc(),[i,{open:a,close:c}]=Pr(!1),[l,{open:d,close:h}]=Pr(!1),[m,{open:v,close:w}]=Pr(!1),{serverData:S,isLoading:b,currentVoiceChannelId:E}=Re(g=>g.testServerStore),{accessToken:R}=Re(g=>g.userStore),T=S.canChangeRole,_=S.isCreator,p=g=>{navigator.clipboard.writeText(g)},f=async()=>{n(R,E),r(Hs(!1)),r(Ei(null)),(await r(Za({accessToken:R,serverId:S.serverId}))).meta.requestStatus==="fulfilled"&&(r(cs({accessToken:R})),r(Hi(!0)),r(Zg()),t("/main"))};return C.jsxs(C.Fragment,{children:[C.jsxs(Me,{gap:"xs",bg:"#1A1B1E",p:10,w:250,h:"100%",visibleFrom:"sm",children:[C.jsxs(Ye,{shadow:"md",width:200,children:[C.jsx(Ye.Target,{children:C.jsxs(qe,{justify:"space-between",style:{cursor:"pointer"},children:[b?C.jsx(To,{height:10,width:"40%",radius:"md"}):C.jsx(Le,{children:S.serverName}),C.jsx(Ud,{})]})}),C.jsxs(Ye.Dropdown,{children:[(T||_)&&C.jsx(Ye.Item,{leftSection:C.jsx(wc,{size:16}),onClick:a,children:" "}),C.jsx(Ye.Item,{onClick:d,leftSection:C.jsx(z3,{size:16}),children:"   "}),C.jsx(Ye.Item,{onClick:()=>p(S.serverId),leftSection:C.jsx(Kg,{size:16}),children:" ID "}),!_&&C.jsx(Ye.Item,{onClick:f,leftSection:C.jsx(lm,{size:16}),children:"  "}),_&&C.jsx(Ye.Item,{onClick:()=>v(),leftSection:C.jsx(lm,{size:16}),children:"  "})]})]}),C.jsx(Wn,{}),C.jsxs(Mr.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[C.jsx(iC,{onClose:e}),C.jsx(aC,{})]}),C.jsx(rC,{})]}),C.jsx(nC,{opened:i,onClose:c}),C.jsx(F$,{opened:l,onClose:h}),C.jsx(z$,{opened:m,onClose:w})]})},Y$=({onClose:e,opened:t})=>{const r=Zs(),n=vt(),[i,{open:a,close:c}]=Pr(!1),{serverData:l,isLoading:d}=Re(S=>S.testServerStore),{accessToken:h}=Re(S=>S.userStore),m=l.isCreator,v=S=>{navigator.clipboard.writeText(S)},w=async()=>{(await n(Za({accessToken:h,serverId:l.serverId}))).meta.requestStatus==="fulfilled"&&(n(cs({accessToken:h})),n(Hi(!0)),n(Zg()),r("/main"))};return C.jsxs(C.Fragment,{children:[C.jsxs(Yr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[C.jsxs(Ye,{shadow:"md",width:200,children:[C.jsx(Ye.Target,{children:C.jsxs(qe,{justify:"space-between",style:{cursor:"pointer"},children:[d?C.jsx(To,{height:10,width:"40%",radius:"md"}):C.jsx(Le,{children:l.serverName}),C.jsx(Ud,{})]})}),C.jsxs(Ye.Dropdown,{children:[m&&C.jsx(Ye.Item,{leftSection:C.jsx(wc,{size:16}),onClick:a,children:" "}),C.jsx(Ye.Item,{onClick:()=>v(l.serverId),leftSection:C.jsx(Kg,{size:16}),children:" ID "}),!m&&C.jsx(Ye.Item,{onClick:w,leftSection:C.jsx(lm,{size:16}),children:"  "})]})]}),C.jsx(Wn,{}),C.jsx(iC,{onClose:e}),C.jsx(aC,{}),C.jsx(rC,{})]}),C.jsx(nC,{opened:i,onClose:c})]})},X$=()=>{const e=Zs(),t=vt(),{isUserStreamView:r,isOpenHome:n}=Re(T=>T.appStore),{accessToken:i,isLoggedIn:a}=Re(T=>T.userStore),{currentServerId:c,currentChannelId:l}=Re(T=>T.testServerStore),[d,{open:h,close:m}]=Pr(!1),[v,{open:w,close:S}]=Pr(!1),{sendMessage:b,editMessage:E,deleteMessage:R}=S$({accessToken:i,dispatch:t,serverId:c});return b$({accessToken:i,dispatch:t,serverId:c}),D.useEffect(()=>{a||e("/")},[a,e]),D.useEffect(()=>{i&&t(gu({accessToken:i}))},[i,t]),D.useEffect(()=>{c&&i&&t(xn({accessToken:i,serverId:c}))},[i,c,t]),D.useEffect(()=>{l&&i&&t(nu({accessToken:i,channelId:l,numberOfMessages:50,fromStart:0}))},[i,l,c,t]),C.jsxs(ne,{style:{display:"flex",height:"100dvh"},children:[C.jsx($$,{}),n?C.jsx(O$,{}):C.jsxs(C.Fragment,{children:[C.jsx(K$,{onClose:m}),r?C.jsx(T$,{}):C.jsx(x$,{openSidebar:h,openDetailsPanel:w,sendMessage:b,editMessage:E,deleteMessage:R}),C.jsx(D$,{}),C.jsx(Y$,{onClose:m,opened:d}),C.jsx(j$,{onClose:S,opened:v})]})]})},Q$=()=>{const e=vt(),t=Zs(),{accessToken:r}=Re(a=>a.userStore),n=uc({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await e(hu({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return D.useEffect(()=>{r&&t("/main")},[r,t]),C.jsx(En,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:C.jsxs($i,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[C.jsx(Le,{fw:500,mb:"md",children:"  "}),C.jsx("form",{onSubmit:n.onSubmit(i),children:C.jsxs(Me,{gap:"md",children:[C.jsx(Hr,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),C.jsx(Hr,{label:"",placeholder:" ",...n.getInputProps("accountName"),required:!0}),C.jsx(jd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),C.jsx(qe,{justify:"center",mt:"md",children:C.jsx(De,{type:"submit",children:""})})]})})]})})},J$=({children:e})=>{const t=Re(i=>i.testServerStore.error),r=Re(i=>i.userStore.error),{showError:n}=zo();return D.useEffect(()=>{t!==""&&n(t)},[t]),D.useEffect(()=>{r!==""&&n(r)},[r]),C.jsx(C.Fragment,{children:e})},Z$=()=>C.jsx(j4,{children:C.jsx(I4,{children:C.jsx(nO,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:C.jsxs(t0,{children:[C.jsx(Ss,{}),C.jsx(J$,{children:C.jsxs(XL,{children:[C.jsx(Wa,{path:"/",element:C.jsx(m$,{})}),C.jsx(Wa,{path:"/main",element:C.jsx(X$,{})}),C.jsx(Wa,{path:"/login",element:C.jsx(h$,{})}),C.jsx(Wa,{path:"/register",element:C.jsx(Q$,{})})]})})]})})})}),e5=EA({reducer:{userStore:p$,appStore:w$,testServerStore:D4}});pE.createRoot(document.getElementById("root")).render(C.jsx(kE,{store:e5,children:C.jsx(Z$,{})}));
