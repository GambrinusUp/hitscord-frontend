var xD=Object.defineProperty;var CD=(e,t,r)=>t in e?xD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ym=(e,t,r)=>CD(e,typeof t!="symbol"?t+"":t,r);function RD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var ED=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wm={exports:{}},vc={},Sm={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function TD(){if(u0)return st;u0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function C(z,G,se){this.props=z,this.context=G,this.refs=x,this.updater=se||w}C.prototype.isReactComponent={},C.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=C.prototype;function R(z,G,se){this.props=z,this.context=G,this.refs=x,this.updater=se||w}var p=R.prototype=new T;p.constructor=R,S(p,C.prototype),p.isPureReactComponent=!0;var h=Array.isArray,b=Object.prototype.hasOwnProperty,E={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function j(z,G,se){var de,J={},oe=null,ue=null;if(G!=null)for(de in G.ref!==void 0&&(ue=G.ref),G.key!==void 0&&(oe=""+G.key),G)b.call(G,de)&&!D.hasOwnProperty(de)&&(J[de]=G[de]);var ve=arguments.length-2;if(ve===1)J.children=se;else if(1<ve){for(var we=Array(ve),Ne=0;Ne<ve;Ne++)we[Ne]=arguments[Ne+2];J.children=we}if(z&&z.defaultProps)for(de in ve=z.defaultProps,ve)J[de]===void 0&&(J[de]=ve[de]);return{$$typeof:e,type:z,key:oe,ref:ue,props:J,_owner:E.current}}function N(z,G){return{$$typeof:e,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function A(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return G[se]})}var O=/\/+/g;function V(z,G){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):G.toString(36)}function W(z,G,se,de,J){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var ue=!1;if(z===null)ue=!0;else switch(oe){case"string":case"number":ue=!0;break;case"object":switch(z.$$typeof){case e:case t:ue=!0}}if(ue)return ue=z,J=J(ue),z=de===""?"."+V(ue,0):de,h(J)?(se="",z!=null&&(se=z.replace(O,"$&/")+"/"),W(J,G,se,"",function(Ne){return Ne})):J!=null&&(M(J)&&(J=N(J,se+(!J.key||ue&&ue.key===J.key?"":(""+J.key).replace(O,"$&/")+"/")+z)),G.push(J)),1;if(ue=0,de=de===""?".":de+":",h(z))for(var ve=0;ve<z.length;ve++){oe=z[ve];var we=de+V(oe,ve);ue+=W(oe,G,se,we,J)}else if(we=v(z),typeof we=="function")for(z=we.call(z),ve=0;!(oe=z.next()).done;)oe=oe.value,we=de+V(oe,ve++),ue+=W(oe,G,se,we,J);else if(oe==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ue}function K(z,G,se){if(z==null)return z;var de=[],J=0;return W(z,de,"","",function(oe){return G.call(se,oe,J++)}),de}function L(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var F={current:null},$={transition:null},U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:$,ReactCurrentOwner:E};function H(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:K,forEach:function(z,G,se){K(z,function(){G.apply(this,arguments)},se)},count:function(z){var G=0;return K(z,function(){G++}),G},toArray:function(z){return K(z,function(G){return G})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},st.Component=C,st.Fragment=r,st.Profiler=o,st.PureComponent=R,st.StrictMode=n,st.Suspense=u,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,st.act=H,st.cloneElement=function(z,G,se){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var de=S({},z.props),J=z.key,oe=z.ref,ue=z._owner;if(G!=null){if(G.ref!==void 0&&(oe=G.ref,ue=E.current),G.key!==void 0&&(J=""+G.key),z.type&&z.type.defaultProps)var ve=z.type.defaultProps;for(we in G)b.call(G,we)&&!D.hasOwnProperty(we)&&(de[we]=G[we]===void 0&&ve!==void 0?ve[we]:G[we])}var we=arguments.length-2;if(we===1)de.children=se;else if(1<we){ve=Array(we);for(var Ne=0;Ne<we;Ne++)ve[Ne]=arguments[Ne+2];de.children=ve}return{$$typeof:e,type:z.type,key:J,ref:oe,props:de,_owner:ue}},st.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},st.createElement=j,st.createFactory=function(z){var G=j.bind(null,z);return G.type=z,G},st.createRef=function(){return{current:null}},st.forwardRef=function(z){return{$$typeof:l,render:z}},st.isValidElement=M,st.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:L}},st.memo=function(z,G){return{$$typeof:d,type:z,compare:G===void 0?null:G}},st.startTransition=function(z){var G=$.transition;$.transition={};try{z()}finally{$.transition=G}},st.unstable_act=H,st.useCallback=function(z,G){return F.current.useCallback(z,G)},st.useContext=function(z){return F.current.useContext(z)},st.useDebugValue=function(){},st.useDeferredValue=function(z){return F.current.useDeferredValue(z)},st.useEffect=function(z,G){return F.current.useEffect(z,G)},st.useId=function(){return F.current.useId()},st.useImperativeHandle=function(z,G,se){return F.current.useImperativeHandle(z,G,se)},st.useInsertionEffect=function(z,G){return F.current.useInsertionEffect(z,G)},st.useLayoutEffect=function(z,G){return F.current.useLayoutEffect(z,G)},st.useMemo=function(z,G){return F.current.useMemo(z,G)},st.useReducer=function(z,G,se){return F.current.useReducer(z,G,se)},st.useRef=function(z){return F.current.useRef(z)},st.useState=function(z){return F.current.useState(z)},st.useSyncExternalStore=function(z,G,se){return F.current.useSyncExternalStore(z,G,se)},st.useTransition=function(){return F.current.useTransition()},st.version="18.3.1",st}var d0;function vf(){return d0||(d0=1,Sm.exports=TD()),Sm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function kD(){if(f0)return vc;f0=1;var e=vf(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,d){var m,y={},v=null,w=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(m in u)n.call(u,m)&&!a.hasOwnProperty(m)&&(y[m]=u[m]);if(l&&l.defaultProps)for(m in u=l.defaultProps,u)y[m]===void 0&&(y[m]=u[m]);return{$$typeof:t,type:l,key:v,ref:w,props:y,_owner:o.current}}return vc.Fragment=r,vc.jsx=c,vc.jsxs=c,vc}var p0;function PD(){return p0||(p0=1,wm.exports=kD()),wm.exports}var g=PD(),Pu={},bm={exports:{}},Mr={},_m={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function DD(){return h0||(h0=1,function(e){function t($,U){var H=$.length;$.push(U);e:for(;0<H;){var z=H-1>>>1,G=$[z];if(0<o(G,U))$[z]=U,$[H]=G,H=z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var U=$[0],H=$.pop();if(H!==U){$[0]=H;e:for(var z=0,G=$.length,se=G>>>1;z<se;){var de=2*(z+1)-1,J=$[de],oe=de+1,ue=$[oe];if(0>o(J,H))oe<G&&0>o(ue,J)?($[z]=ue,$[oe]=H,z=oe):($[z]=J,$[de]=H,z=de);else if(oe<G&&0>o(ue,H))$[z]=ue,$[oe]=H,z=oe;else break e}}return U}function o($,U){var H=$.sortIndex-U.sortIndex;return H!==0?H:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var u=[],d=[],m=1,y=null,v=3,w=!1,S=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p($){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=$)n(d),U.sortIndex=U.expirationTime,t(u,U);else break;U=r(d)}}function h($){if(x=!1,p($),!S)if(r(u)!==null)S=!0,L(b);else{var U=r(d);U!==null&&F(h,U.startTime-$)}}function b($,U){S=!1,x&&(x=!1,T(j),j=-1),w=!0;var H=v;try{for(p(U),y=r(u);y!==null&&(!(y.expirationTime>U)||$&&!A());){var z=y.callback;if(typeof z=="function"){y.callback=null,v=y.priorityLevel;var G=z(y.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?y.callback=G:y===r(u)&&n(u),p(U)}else n(u);y=r(u)}if(y!==null)var se=!0;else{var de=r(d);de!==null&&F(h,de.startTime-U),se=!1}return se}finally{y=null,v=H,w=!1}}var E=!1,D=null,j=-1,N=5,M=-1;function A(){return!(e.unstable_now()-M<N)}function O(){if(D!==null){var $=e.unstable_now();M=$;var U=!0;try{U=D(!0,$)}finally{U?V():(E=!1,D=null)}}else E=!1}var V;if(typeof R=="function")V=function(){R(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=O,V=function(){K.postMessage(null)}}else V=function(){C(O,0)};function L($){D=$,E||(E=!0,V())}function F($,U){j=C(function(){$(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,L(b))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var H=v;v=U;try{return $()}finally{v=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=v;v=$;try{return U()}finally{v=H}},e.unstable_scheduleCallback=function($,U,H){var z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,$={id:m++,callback:U,priorityLevel:$,startTime:H,expirationTime:G,sortIndex:-1},H>z?($.sortIndex=H,t(d,$),r(u)===null&&$===r(d)&&(x?(T(j),j=-1):x=!0,F(h,H-z))):($.sortIndex=G,t(u,$),S||w||(S=!0,L(b))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var U=v;return function(){var H=v;v=U;try{return $.apply(this,arguments)}finally{v=H}}}}(xm)),xm}var m0;function jD(){return m0||(m0=1,_m.exports=DD()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function ID(){if(g0)return Mr;g0=1;var e=vf(),t=jD();function r(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)n.add(i[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(s){return u.call(y,s)?!0:u.call(m,s)?!1:d.test(s)?y[s]=!0:(m[s]=!0,!1)}function w(s,i,f,_){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return _?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,i,f,_){if(i===null||typeof i>"u"||w(s,i,f,_))return!0;if(_)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(s,i,f,_,k,I,B){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=_,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=s,this.type=i,this.sanitizeURL=I,this.removeEmptyString=B}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new x(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(T,R);C[i]=new x(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(T,R);C[i]=new x(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(T,R);C[i]=new x(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function p(s,i,f,_){var k=C.hasOwnProperty(i)?C[i]:null;(k!==null?k.type!==0:_||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,f,k,_)&&(f=null),_||k===null?v(i)&&(f===null?s.removeAttribute(i):s.setAttribute(i,""+f)):k.mustUseProperty?s[k.propertyName]=f===null?k.type===3?!1:"":f:(i=k.attributeName,_=k.attributeNamespace,f===null?s.removeAttribute(i):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,_?s.setAttributeNS(_,i,f):s.setAttribute(i,f))))}var h=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),$=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var H=Object.assign,z;function G(s){if(z===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var se=!1;function de(s,i){if(!s||se)return"";se=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var _=ee}Reflect.construct(s,[],i)}else{try{i.call()}catch(ee){_=ee}s.call(i.prototype)}else{try{throw Error()}catch(ee){_=ee}s()}}catch(ee){if(ee&&_&&typeof ee.stack=="string"){for(var k=ee.stack.split(`
`),I=_.stack.split(`
`),B=k.length-1,q=I.length-1;1<=B&&0<=q&&k[B]!==I[q];)q--;for(;1<=B&&0<=q;B--,q--)if(k[B]!==I[q]){if(B!==1||q!==1)do if(B--,q--,0>q||k[B]!==I[q]){var X=`
`+k[B].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=B&&0<=q);break}}}finally{se=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?G(s):""}function J(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case E:return"Portal";case N:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case O:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return i=s.displayName||null,i!==null?i:oe(s.type)||"Memo";case L:i=s._payload,s=s._init;try{return oe(s(i))}catch{}}return null}function ue(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(i);case 8:return i===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function we(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ne(s){var i=we(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),_=""+s[i];if(!s.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,I=f.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return k.call(this)},set:function(B){_=""+B,I.call(this,B)}}),Object.defineProperty(s,i,{enumerable:f.enumerable}),{getValue:function(){return _},setValue:function(B){_=""+B},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ae(s){s._valueTracker||(s._valueTracker=Ne(s))}function Ee(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var f=i.getValue(),_="";return s&&(_=we(s)?s.checked?"true":"false":s.value),s=_,s!==f?(i.setValue(s),!0):!1}function rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ve(s,i){var f=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Be(s,i){var f=i.defaultValue==null?"":i.defaultValue,_=i.checked!=null?i.checked:i.defaultChecked;f=ve(i.value!=null?i.value:f),s._wrapperState={initialChecked:_,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function lt(s,i){i=i.checked,i!=null&&p(s,"checked",i,!1)}function pe(s,i){lt(s,i);var f=ve(i.value),_=i.type;if(f!=null)_==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(_==="submit"||_==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ke(s,i.type,f):i.hasOwnProperty("defaultValue")&&ke(s,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Se(s,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var _=i.type;if(!(_!=="submit"&&_!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,f||i===s.value||(s.value=i),s.defaultValue=i}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function ke(s,i,f){(i!=="number"||rt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var $e=Array.isArray;function We(s,i,f,_){if(s=s.options,i){i={};for(var k=0;k<f.length;k++)i["$"+f[k]]=!0;for(f=0;f<s.length;f++)k=i.hasOwnProperty("$"+s[f].value),s[f].selected!==k&&(s[f].selected=k),k&&_&&(s[f].defaultSelected=!0)}else{for(f=""+ve(f),i=null,k=0;k<s.length;k++){if(s[k].value===f){s[k].selected=!0,_&&(s[k].defaultSelected=!0);return}i!==null||s[k].disabled||(i=s[k])}i!==null&&(i.selected=!0)}}function He(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ye(s,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(r(92));if($e(f)){if(1<f.length)throw Error(r(93));f=f[0]}i=f}i==null&&(i=""),f=i}s._wrapperState={initialValue:ve(f)}}function me(s,i){var f=ve(i.value),_=ve(i.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),i.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),_!=null&&(s.defaultValue=""+_)}function Le(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Te(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Te(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var be,Ze=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,_,k){MSApp.execUnsafeLocalFunction(function(){return s(i,f,_,k)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=be.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function dt(s,i){if(i){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=i;return}}s.textContent=i}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},it=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(s){it.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),nt[i]=nt[s]})});function Oe(s,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||nt.hasOwnProperty(s)&&nt[s]?(""+i).trim():i+"px"}function Ct(s,i){s=s.style;for(var f in i)if(i.hasOwnProperty(f)){var _=f.indexOf("--")===0,k=Oe(f,i[f],_);f==="float"&&(f="cssFloat"),_?s.setProperty(f,k):s[f]=k}}var vs=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xi(s,i){if(i){if(vs[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function jp(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=null;function Mp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Np=null,Ci=null,Ri=null;function Tw(s){if(s=rc(s)){if(typeof Np!="function")throw Error(r(280));var i=s.stateNode;i&&(i=Hl(i),Np(s.stateNode,s.type,i))}}function kw(s){Ci?Ri?Ri.push(s):Ri=[s]:Ci=s}function Pw(){if(Ci){var s=Ci,i=Ri;if(Ri=Ci=null,Tw(s),i)for(s=0;s<i.length;s++)Tw(i[s])}}function Dw(s,i){return s(i)}function jw(){}var Lp=!1;function Iw(s,i,f){if(Lp)return s(i,f);Lp=!0;try{return Dw(s,i,f)}finally{Lp=!1,(Ci!==null||Ri!==null)&&(jw(),Pw())}}function La(s,i){var f=s.stateNode;if(f===null)return null;var _=Hl(f);if(_===null)return null;f=_[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(s=s.type,_=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!_;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,i,typeof f));return f}var Op=!1;if(l)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Op=!1}function Pk(s,i,f,_,k,I,B,q,X){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(f,ee)}catch(le){this.onError(le)}}var Aa=!1,_l=null,xl=!1,Ap=null,Dk={onError:function(s){Aa=!0,_l=s}};function jk(s,i,f,_,k,I,B,q,X){Aa=!1,_l=null,Pk.apply(Dk,arguments)}function Ik(s,i,f,_,k,I,B,q,X){if(jk.apply(this,arguments),Aa){if(Aa){var ee=_l;Aa=!1,_l=null}else throw Error(r(198));xl||(xl=!0,Ap=ee)}}function Do(s){var i=s,f=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(f=i.return),s=i.return;while(s)}return i.tag===3?f:null}function Mw(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Nw(s){if(Do(s)!==s)throw Error(r(188))}function Mk(s){var i=s.alternate;if(!i){if(i=Do(s),i===null)throw Error(r(188));return i!==s?null:s}for(var f=s,_=i;;){var k=f.return;if(k===null)break;var I=k.alternate;if(I===null){if(_=k.return,_!==null){f=_;continue}break}if(k.child===I.child){for(I=k.child;I;){if(I===f)return Nw(k),s;if(I===_)return Nw(k),i;I=I.sibling}throw Error(r(188))}if(f.return!==_.return)f=k,_=I;else{for(var B=!1,q=k.child;q;){if(q===f){B=!0,f=k,_=I;break}if(q===_){B=!0,_=k,f=I;break}q=q.sibling}if(!B){for(q=I.child;q;){if(q===f){B=!0,f=I,_=k;break}if(q===_){B=!0,_=I,f=k;break}q=q.sibling}if(!B)throw Error(r(189))}}if(f.alternate!==_)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:i}function Lw(s){return s=Mk(s),s!==null?Ow(s):null}function Ow(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Ow(s);if(i!==null)return i;s=s.sibling}return null}var Aw=t.unstable_scheduleCallback,$w=t.unstable_cancelCallback,Nk=t.unstable_shouldYield,Lk=t.unstable_requestPaint,Nt=t.unstable_now,Ok=t.unstable_getCurrentPriorityLevel,$p=t.unstable_ImmediatePriority,Fw=t.unstable_UserBlockingPriority,Cl=t.unstable_NormalPriority,Ak=t.unstable_LowPriority,zw=t.unstable_IdlePriority,Rl=null,rs=null;function $k(s){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(Rl,s,void 0,(s.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Bk,Fk=Math.log,zk=Math.LN2;function Bk(s){return s>>>=0,s===0?32:31-(Fk(s)/zk|0)|0}var El=64,Tl=4194304;function $a(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function kl(s,i){var f=s.pendingLanes;if(f===0)return 0;var _=0,k=s.suspendedLanes,I=s.pingedLanes,B=f&268435455;if(B!==0){var q=B&~k;q!==0?_=$a(q):(I&=B,I!==0&&(_=$a(I)))}else B=f&~k,B!==0?_=$a(B):I!==0&&(_=$a(I));if(_===0)return 0;if(i!==0&&i!==_&&(i&k)===0&&(k=_&-_,I=i&-i,k>=I||k===16&&(I&4194240)!==0))return i;if((_&4)!==0&&(_|=f&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=_;0<i;)f=31-bn(i),k=1<<f,_|=s[f],i&=~k;return _}function Uk(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vk(s,i){for(var f=s.suspendedLanes,_=s.pingedLanes,k=s.expirationTimes,I=s.pendingLanes;0<I;){var B=31-bn(I),q=1<<B,X=k[B];X===-1?((q&f)===0||(q&_)!==0)&&(k[B]=Uk(q,i)):X<=i&&(s.expiredLanes|=q),I&=~q}}function Fp(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Bw(){var s=El;return El<<=1,(El&4194240)===0&&(El=64),s}function zp(s){for(var i=[],f=0;31>f;f++)i.push(s);return i}function Fa(s,i,f){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-bn(i),s[i]=f}function Hk(s,i){var f=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var _=s.eventTimes;for(s=s.expirationTimes;0<f;){var k=31-bn(f),I=1<<k;i[k]=0,_[k]=-1,s[k]=-1,f&=~I}}function Bp(s,i){var f=s.entangledLanes|=i;for(s=s.entanglements;f;){var _=31-bn(f),k=1<<_;k&i|s[_]&i&&(s[_]|=i),f&=~k}}var ht=0;function Uw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vw,Up,Hw,Ww,qw,Vp=!1,Pl=[],Gs=null,Ks=null,Xs=null,za=new Map,Ba=new Map,Ys=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gw(s,i){switch(s){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":za.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(i.pointerId)}}function Ua(s,i,f,_,k,I){return s===null||s.nativeEvent!==I?(s={blockedOn:i,domEventName:f,eventSystemFlags:_,nativeEvent:I,targetContainers:[k]},i!==null&&(i=rc(i),i!==null&&Up(i)),s):(s.eventSystemFlags|=_,i=s.targetContainers,k!==null&&i.indexOf(k)===-1&&i.push(k),s)}function qk(s,i,f,_,k){switch(i){case"focusin":return Gs=Ua(Gs,s,i,f,_,k),!0;case"dragenter":return Ks=Ua(Ks,s,i,f,_,k),!0;case"mouseover":return Xs=Ua(Xs,s,i,f,_,k),!0;case"pointerover":var I=k.pointerId;return za.set(I,Ua(za.get(I)||null,s,i,f,_,k)),!0;case"gotpointercapture":return I=k.pointerId,Ba.set(I,Ua(Ba.get(I)||null,s,i,f,_,k)),!0}return!1}function Kw(s){var i=jo(s.target);if(i!==null){var f=Do(i);if(f!==null){if(i=f.tag,i===13){if(i=Mw(f),i!==null){s.blockedOn=i,qw(s.priority,function(){Hw(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dl(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var f=Wp(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var _=new f.constructor(f.type,f);Ip=_,f.target.dispatchEvent(_),Ip=null}else return i=rc(f),i!==null&&Up(i),s.blockedOn=f,!1;i.shift()}return!0}function Xw(s,i,f){Dl(s)&&f.delete(i)}function Gk(){Vp=!1,Gs!==null&&Dl(Gs)&&(Gs=null),Ks!==null&&Dl(Ks)&&(Ks=null),Xs!==null&&Dl(Xs)&&(Xs=null),za.forEach(Xw),Ba.forEach(Xw)}function Va(s,i){s.blockedOn===i&&(s.blockedOn=null,Vp||(Vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gk)))}function Ha(s){function i(k){return Va(k,s)}if(0<Pl.length){Va(Pl[0],s);for(var f=1;f<Pl.length;f++){var _=Pl[f];_.blockedOn===s&&(_.blockedOn=null)}}for(Gs!==null&&Va(Gs,s),Ks!==null&&Va(Ks,s),Xs!==null&&Va(Xs,s),za.forEach(i),Ba.forEach(i),f=0;f<Ys.length;f++)_=Ys[f],_.blockedOn===s&&(_.blockedOn=null);for(;0<Ys.length&&(f=Ys[0],f.blockedOn===null);)Kw(f),f.blockedOn===null&&Ys.shift()}var Ei=h.ReactCurrentBatchConfig,jl=!0;function Kk(s,i,f,_){var k=ht,I=Ei.transition;Ei.transition=null;try{ht=1,Hp(s,i,f,_)}finally{ht=k,Ei.transition=I}}function Xk(s,i,f,_){var k=ht,I=Ei.transition;Ei.transition=null;try{ht=4,Hp(s,i,f,_)}finally{ht=k,Ei.transition=I}}function Hp(s,i,f,_){if(jl){var k=Wp(s,i,f,_);if(k===null)ch(s,i,_,Il,f),Gw(s,_);else if(qk(k,s,i,f,_))_.stopPropagation();else if(Gw(s,_),i&4&&-1<Wk.indexOf(s)){for(;k!==null;){var I=rc(k);if(I!==null&&Vw(I),I=Wp(s,i,f,_),I===null&&ch(s,i,_,Il,f),I===k)break;k=I}k!==null&&_.stopPropagation()}else ch(s,i,_,null,f)}}var Il=null;function Wp(s,i,f,_){if(Il=null,s=Mp(_),s=jo(s),s!==null)if(i=Do(s),i===null)s=null;else if(f=i.tag,f===13){if(s=Mw(i),s!==null)return s;s=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Il=s,null}function Yw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ok()){case $p:return 1;case Fw:return 4;case Cl:case Ak:return 16;case zw:return 536870912;default:return 16}default:return 16}}var Js=null,qp=null,Ml=null;function Jw(){if(Ml)return Ml;var s,i=qp,f=i.length,_,k="value"in Js?Js.value:Js.textContent,I=k.length;for(s=0;s<f&&i[s]===k[s];s++);var B=f-s;for(_=1;_<=B&&i[f-_]===k[I-_];_++);return Ml=k.slice(s,1<_?1-_:void 0)}function Nl(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ll(){return!0}function Qw(){return!1}function Hr(s){function i(f,_,k,I,B){this._reactName=f,this._targetInst=k,this.type=_,this.nativeEvent=I,this.target=B,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(f=s[q],this[q]=f?f(I):I[q]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ll:Qw,this.isPropagationStopped=Qw,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),i}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=Hr(Ti),Wa=H({},Ti,{view:0,detail:0}),Yk=Hr(Wa),Kp,Xp,qa,Ol=H({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qa&&(qa&&s.type==="mousemove"?(Kp=s.screenX-qa.screenX,Xp=s.screenY-qa.screenY):Xp=Kp=0,qa=s),Kp)},movementY:function(s){return"movementY"in s?s.movementY:Xp}}),Zw=Hr(Ol),Jk=H({},Ol,{dataTransfer:0}),Qk=Hr(Jk),Zk=H({},Wa,{relatedTarget:0}),Yp=Hr(Zk),eP=H({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),tP=Hr(eP),rP=H({},Ti,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nP=Hr(rP),sP=H({},Ti,{data:0}),eS=Hr(sP),oP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cP(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=aP[s])?!!i[s]:!1}function Jp(){return cP}var lP=H({},Wa,{key:function(s){if(s.key){var i=oP[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?iP[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jp,charCode:function(s){return s.type==="keypress"?Nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),uP=Hr(lP),dP=H({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tS=Hr(dP),fP=H({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jp}),pP=Hr(fP),hP=H({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),mP=Hr(hP),gP=H({},Ol,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vP=Hr(gP),yP=[9,13,27,32],Qp=l&&"CompositionEvent"in window,Ga=null;l&&"documentMode"in document&&(Ga=document.documentMode);var wP=l&&"TextEvent"in window&&!Ga,rS=l&&(!Qp||Ga&&8<Ga&&11>=Ga),nS=" ",sS=!1;function oS(s,i){switch(s){case"keyup":return yP.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ki=!1;function SP(s,i){switch(s){case"compositionend":return iS(i);case"keypress":return i.which!==32?null:(sS=!0,nS);case"textInput":return s=i.data,s===nS&&sS?null:s;default:return null}}function bP(s,i){if(ki)return s==="compositionend"||!Qp&&oS(s,i)?(s=Jw(),Ml=qp=Js=null,ki=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rS&&i.locale!=="ko"?null:i.data;default:return null}}var _P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aS(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!_P[s.type]:i==="textarea"}function cS(s,i,f,_){kw(_),i=Bl(i,"onChange"),0<i.length&&(f=new Gp("onChange","change",null,f,_),s.push({event:f,listeners:i}))}var Ka=null,Xa=null;function xP(s){ES(s,0)}function Al(s){var i=Mi(s);if(Ee(i))return s}function CP(s,i){if(s==="change")return i}var lS=!1;if(l){var Zp;if(l){var eh="oninput"in document;if(!eh){var uS=document.createElement("div");uS.setAttribute("oninput","return;"),eh=typeof uS.oninput=="function"}Zp=eh}else Zp=!1;lS=Zp&&(!document.documentMode||9<document.documentMode)}function dS(){Ka&&(Ka.detachEvent("onpropertychange",fS),Xa=Ka=null)}function fS(s){if(s.propertyName==="value"&&Al(Xa)){var i=[];cS(i,Xa,s,Mp(s)),Iw(xP,i)}}function RP(s,i,f){s==="focusin"?(dS(),Ka=i,Xa=f,Ka.attachEvent("onpropertychange",fS)):s==="focusout"&&dS()}function EP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Al(Xa)}function TP(s,i){if(s==="click")return Al(i)}function kP(s,i){if(s==="input"||s==="change")return Al(i)}function PP(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var _n=typeof Object.is=="function"?Object.is:PP;function Ya(s,i){if(_n(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var f=Object.keys(s),_=Object.keys(i);if(f.length!==_.length)return!1;for(_=0;_<f.length;_++){var k=f[_];if(!u.call(i,k)||!_n(s[k],i[k]))return!1}return!0}function pS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hS(s,i){var f=pS(s);s=0;for(var _;f;){if(f.nodeType===3){if(_=s+f.textContent.length,s<=i&&_>=i)return{node:f,offset:i-s};s=_}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=pS(f)}}function mS(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?mS(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function gS(){for(var s=window,i=rt();i instanceof s.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)s=i.contentWindow;else break;i=rt(s.document)}return i}function th(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function DP(s){var i=gS(),f=s.focusedElem,_=s.selectionRange;if(i!==f&&f&&f.ownerDocument&&mS(f.ownerDocument.documentElement,f)){if(_!==null&&th(f)){if(i=_.start,s=_.end,s===void 0&&(s=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(s,f.value.length);else if(s=(i=f.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var k=f.textContent.length,I=Math.min(_.start,k);_=_.end===void 0?I:Math.min(_.end,k),!s.extend&&I>_&&(k=_,_=I,I=k),k=hS(f,I);var B=hS(f,_);k&&B&&(s.rangeCount!==1||s.anchorNode!==k.node||s.anchorOffset!==k.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(i=i.createRange(),i.setStart(k.node,k.offset),s.removeAllRanges(),I>_?(s.addRange(i),s.extend(B.node,B.offset)):(i.setEnd(B.node,B.offset),s.addRange(i)))}}for(i=[],s=f;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)s=i[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jP=l&&"documentMode"in document&&11>=document.documentMode,Pi=null,rh=null,Ja=null,nh=!1;function vS(s,i,f){var _=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;nh||Pi==null||Pi!==rt(_)||(_=Pi,"selectionStart"in _&&th(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Ja&&Ya(Ja,_)||(Ja=_,_=Bl(rh,"onSelect"),0<_.length&&(i=new Gp("onSelect","select",null,i,f),s.push({event:i,listeners:_}),i.target=Pi)))}function $l(s,i){var f={};return f[s.toLowerCase()]=i.toLowerCase(),f["Webkit"+s]="webkit"+i,f["Moz"+s]="moz"+i,f}var Di={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},sh={},yS={};l&&(yS=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Fl(s){if(sh[s])return sh[s];if(!Di[s])return s;var i=Di[s],f;for(f in i)if(i.hasOwnProperty(f)&&f in yS)return sh[s]=i[f];return s}var wS=Fl("animationend"),SS=Fl("animationiteration"),bS=Fl("animationstart"),_S=Fl("transitionend"),xS=new Map,CS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(s,i){xS.set(s,i),a(i,[s])}for(var oh=0;oh<CS.length;oh++){var ih=CS[oh],IP=ih.toLowerCase(),MP=ih[0].toUpperCase()+ih.slice(1);Qs(IP,"on"+MP)}Qs(wS,"onAnimationEnd"),Qs(SS,"onAnimationIteration"),Qs(bS,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(_S,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function RS(s,i,f){var _=s.type||"unknown-event";s.currentTarget=f,Ik(_,i,void 0,s),s.currentTarget=null}function ES(s,i){i=(i&4)!==0;for(var f=0;f<s.length;f++){var _=s[f],k=_.event;_=_.listeners;e:{var I=void 0;if(i)for(var B=_.length-1;0<=B;B--){var q=_[B],X=q.instance,ee=q.currentTarget;if(q=q.listener,X!==I&&k.isPropagationStopped())break e;RS(k,q,ee),I=X}else for(B=0;B<_.length;B++){if(q=_[B],X=q.instance,ee=q.currentTarget,q=q.listener,X!==I&&k.isPropagationStopped())break e;RS(k,q,ee),I=X}}}if(xl)throw s=Ap,xl=!1,Ap=null,s}function yt(s,i){var f=i[hh];f===void 0&&(f=i[hh]=new Set);var _=s+"__bubble";f.has(_)||(TS(i,s,2,!1),f.add(_))}function ah(s,i,f){var _=0;i&&(_|=4),TS(f,s,_,i)}var zl="_reactListening"+Math.random().toString(36).slice(2);function Za(s){if(!s[zl]){s[zl]=!0,n.forEach(function(f){f!=="selectionchange"&&(NP.has(f)||ah(f,!1,s),ah(f,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[zl]||(i[zl]=!0,ah("selectionchange",!1,i))}}function TS(s,i,f,_){switch(Yw(i)){case 1:var k=Kk;break;case 4:k=Xk;break;default:k=Hp}f=k.bind(null,i,f,s),k=void 0,!Op||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(k=!0),_?k!==void 0?s.addEventListener(i,f,{capture:!0,passive:k}):s.addEventListener(i,f,!0):k!==void 0?s.addEventListener(i,f,{passive:k}):s.addEventListener(i,f,!1)}function ch(s,i,f,_,k){var I=_;if((i&1)===0&&(i&2)===0&&_!==null)e:for(;;){if(_===null)return;var B=_.tag;if(B===3||B===4){var q=_.stateNode.containerInfo;if(q===k||q.nodeType===8&&q.parentNode===k)break;if(B===4)for(B=_.return;B!==null;){var X=B.tag;if((X===3||X===4)&&(X=B.stateNode.containerInfo,X===k||X.nodeType===8&&X.parentNode===k))return;B=B.return}for(;q!==null;){if(B=jo(q),B===null)return;if(X=B.tag,X===5||X===6){_=I=B;continue e}q=q.parentNode}}_=_.return}Iw(function(){var ee=I,le=Mp(f),fe=[];e:{var ce=xS.get(s);if(ce!==void 0){var _e=Gp,Pe=s;switch(s){case"keypress":if(Nl(f)===0)break e;case"keydown":case"keyup":_e=uP;break;case"focusin":Pe="focus",_e=Yp;break;case"focusout":Pe="blur",_e=Yp;break;case"beforeblur":case"afterblur":_e=Yp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=pP;break;case wS:case SS:case bS:_e=tP;break;case _S:_e=mP;break;case"scroll":_e=Yk;break;case"wheel":_e=vP;break;case"copy":case"cut":case"paste":_e=nP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=tS}var De=(i&4)!==0,Lt=!De&&s==="scroll",Q=De?ce!==null?ce+"Capture":null:ce;De=[];for(var Y=ee,Z;Y!==null;){Z=Y;var he=Z.stateNode;if(Z.tag===5&&he!==null&&(Z=he,Q!==null&&(he=La(Y,Q),he!=null&&De.push(ec(Y,he,Z)))),Lt)break;Y=Y.return}0<De.length&&(ce=new _e(ce,Pe,null,f,le),fe.push({event:ce,listeners:De}))}}if((i&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",ce&&f!==Ip&&(Pe=f.relatedTarget||f.fromElement)&&(jo(Pe)||Pe[ys]))break e;if((_e||ce)&&(ce=le.window===le?le:(ce=le.ownerDocument)?ce.defaultView||ce.parentWindow:window,_e?(Pe=f.relatedTarget||f.toElement,_e=ee,Pe=Pe?jo(Pe):null,Pe!==null&&(Lt=Do(Pe),Pe!==Lt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(_e=null,Pe=ee),_e!==Pe)){if(De=Zw,he="onMouseLeave",Q="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(De=tS,he="onPointerLeave",Q="onPointerEnter",Y="pointer"),Lt=_e==null?ce:Mi(_e),Z=Pe==null?ce:Mi(Pe),ce=new De(he,Y+"leave",_e,f,le),ce.target=Lt,ce.relatedTarget=Z,he=null,jo(le)===ee&&(De=new De(Q,Y+"enter",Pe,f,le),De.target=Z,De.relatedTarget=Lt,he=De),Lt=he,_e&&Pe)t:{for(De=_e,Q=Pe,Y=0,Z=De;Z;Z=ji(Z))Y++;for(Z=0,he=Q;he;he=ji(he))Z++;for(;0<Y-Z;)De=ji(De),Y--;for(;0<Z-Y;)Q=ji(Q),Z--;for(;Y--;){if(De===Q||Q!==null&&De===Q.alternate)break t;De=ji(De),Q=ji(Q)}De=null}else De=null;_e!==null&&kS(fe,ce,_e,De,!1),Pe!==null&&Lt!==null&&kS(fe,Lt,Pe,De,!0)}}e:{if(ce=ee?Mi(ee):window,_e=ce.nodeName&&ce.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ce.type==="file")var Ae=CP;else if(aS(ce))if(lS)Ae=kP;else{Ae=EP;var qe=RP}else(_e=ce.nodeName)&&_e.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ae=TP);if(Ae&&(Ae=Ae(s,ee))){cS(fe,Ae,f,le);break e}qe&&qe(s,ce,ee),s==="focusout"&&(qe=ce._wrapperState)&&qe.controlled&&ce.type==="number"&&ke(ce,"number",ce.value)}switch(qe=ee?Mi(ee):window,s){case"focusin":(aS(qe)||qe.contentEditable==="true")&&(Pi=qe,rh=ee,Ja=null);break;case"focusout":Ja=rh=Pi=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,vS(fe,f,le);break;case"selectionchange":if(jP)break;case"keydown":case"keyup":vS(fe,f,le)}var Ge;if(Qp)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else ki?oS(s,f)&&(Je="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Je="onCompositionStart");Je&&(rS&&f.locale!=="ko"&&(ki||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&ki&&(Ge=Jw()):(Js=le,qp="value"in Js?Js.value:Js.textContent,ki=!0)),qe=Bl(ee,Je),0<qe.length&&(Je=new eS(Je,s,null,f,le),fe.push({event:Je,listeners:qe}),Ge?Je.data=Ge:(Ge=iS(f),Ge!==null&&(Je.data=Ge)))),(Ge=wP?SP(s,f):bP(s,f))&&(ee=Bl(ee,"onBeforeInput"),0<ee.length&&(le=new eS("onBeforeInput","beforeinput",null,f,le),fe.push({event:le,listeners:ee}),le.data=Ge))}ES(fe,i)})}function ec(s,i,f){return{instance:s,listener:i,currentTarget:f}}function Bl(s,i){for(var f=i+"Capture",_=[];s!==null;){var k=s,I=k.stateNode;k.tag===5&&I!==null&&(k=I,I=La(s,f),I!=null&&_.unshift(ec(s,I,k)),I=La(s,i),I!=null&&_.push(ec(s,I,k))),s=s.return}return _}function ji(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kS(s,i,f,_,k){for(var I=i._reactName,B=[];f!==null&&f!==_;){var q=f,X=q.alternate,ee=q.stateNode;if(X!==null&&X===_)break;q.tag===5&&ee!==null&&(q=ee,k?(X=La(f,I),X!=null&&B.unshift(ec(f,X,q))):k||(X=La(f,I),X!=null&&B.push(ec(f,X,q)))),f=f.return}B.length!==0&&s.push({event:i,listeners:B})}var LP=/\r\n?/g,OP=/\u0000|\uFFFD/g;function PS(s){return(typeof s=="string"?s:""+s).replace(LP,`
`).replace(OP,"")}function Ul(s,i,f){if(i=PS(i),PS(s)!==i&&f)throw Error(r(425))}function Vl(){}var lh=null,uh=null;function dh(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,AP=typeof clearTimeout=="function"?clearTimeout:void 0,DS=typeof Promise=="function"?Promise:void 0,$P=typeof queueMicrotask=="function"?queueMicrotask:typeof DS<"u"?function(s){return DS.resolve(null).then(s).catch(FP)}:fh;function FP(s){setTimeout(function(){throw s})}function ph(s,i){var f=i,_=0;do{var k=f.nextSibling;if(s.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(_===0){s.removeChild(k),Ha(i);return}_--}else f!=="$"&&f!=="$?"&&f!=="$!"||_++;f=k}while(f);Ha(i)}function Zs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function jS(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return s;i--}else f==="/$"&&i++}s=s.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),ns="__reactFiber$"+Ii,tc="__reactProps$"+Ii,ys="__reactContainer$"+Ii,hh="__reactEvents$"+Ii,zP="__reactListeners$"+Ii,BP="__reactHandles$"+Ii;function jo(s){var i=s[ns];if(i)return i;for(var f=s.parentNode;f;){if(i=f[ys]||f[ns]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(s=jS(s);s!==null;){if(f=s[ns])return f;s=jS(s)}return i}s=f,f=s.parentNode}return null}function rc(s){return s=s[ns]||s[ys],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Mi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Hl(s){return s[tc]||null}var mh=[],Ni=-1;function eo(s){return{current:s}}function wt(s){0>Ni||(s.current=mh[Ni],mh[Ni]=null,Ni--)}function vt(s,i){Ni++,mh[Ni]=s.current,s.current=i}var to={},ur=eo(to),kr=eo(!1),Io=to;function Li(s,i){var f=s.type.contextTypes;if(!f)return to;var _=s.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===i)return _.__reactInternalMemoizedMaskedChildContext;var k={},I;for(I in f)k[I]=i[I];return _&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=k),k}function Pr(s){return s=s.childContextTypes,s!=null}function Wl(){wt(kr),wt(ur)}function IS(s,i,f){if(ur.current!==to)throw Error(r(168));vt(ur,i),vt(kr,f)}function MS(s,i,f){var _=s.stateNode;if(i=i.childContextTypes,typeof _.getChildContext!="function")return f;_=_.getChildContext();for(var k in _)if(!(k in i))throw Error(r(108,ue(s)||"Unknown",k));return H({},f,_)}function ql(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||to,Io=ur.current,vt(ur,s),vt(kr,kr.current),!0}function NS(s,i,f){var _=s.stateNode;if(!_)throw Error(r(169));f?(s=MS(s,i,Io),_.__reactInternalMemoizedMergedChildContext=s,wt(kr),wt(ur),vt(ur,s)):wt(kr),vt(kr,f)}var ws=null,Gl=!1,gh=!1;function LS(s){ws===null?ws=[s]:ws.push(s)}function UP(s){Gl=!0,LS(s)}function ro(){if(!gh&&ws!==null){gh=!0;var s=0,i=ht;try{var f=ws;for(ht=1;s<f.length;s++){var _=f[s];do _=_(!0);while(_!==null)}ws=null,Gl=!1}catch(k){throw ws!==null&&(ws=ws.slice(s+1)),Aw($p,ro),k}finally{ht=i,gh=!1}}return null}var Oi=[],Ai=0,Kl=null,Xl=0,nn=[],sn=0,Mo=null,Ss=1,bs="";function No(s,i){Oi[Ai++]=Xl,Oi[Ai++]=Kl,Kl=s,Xl=i}function OS(s,i,f){nn[sn++]=Ss,nn[sn++]=bs,nn[sn++]=Mo,Mo=s;var _=Ss;s=bs;var k=32-bn(_)-1;_&=~(1<<k),f+=1;var I=32-bn(i)+k;if(30<I){var B=k-k%5;I=(_&(1<<B)-1).toString(32),_>>=B,k-=B,Ss=1<<32-bn(i)+k|f<<k|_,bs=I+s}else Ss=1<<I|f<<k|_,bs=s}function vh(s){s.return!==null&&(No(s,1),OS(s,1,0))}function yh(s){for(;s===Kl;)Kl=Oi[--Ai],Oi[Ai]=null,Xl=Oi[--Ai],Oi[Ai]=null;for(;s===Mo;)Mo=nn[--sn],nn[sn]=null,bs=nn[--sn],nn[sn]=null,Ss=nn[--sn],nn[sn]=null}var Wr=null,qr=null,_t=!1,xn=null;function AS(s,i){var f=ln(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=s,i=s.deletions,i===null?(s.deletions=[f],s.flags|=16):i.push(f)}function $S(s,i){switch(s.tag){case 5:var f=s.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Wr=s,qr=Zs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Wr=s,qr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Mo!==null?{id:Ss,overflow:bs}:null,s.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=ln(18,null,null,0),f.stateNode=i,f.return=s,s.child=f,Wr=s,qr=null,!0):!1;default:return!1}}function wh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sh(s){if(_t){var i=qr;if(i){var f=i;if(!$S(s,i)){if(wh(s))throw Error(r(418));i=Zs(f.nextSibling);var _=Wr;i&&$S(s,i)?AS(_,f):(s.flags=s.flags&-4097|2,_t=!1,Wr=s)}}else{if(wh(s))throw Error(r(418));s.flags=s.flags&-4097|2,_t=!1,Wr=s}}}function FS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wr=s}function Yl(s){if(s!==Wr)return!1;if(!_t)return FS(s),_t=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!dh(s.type,s.memoizedProps)),i&&(i=qr)){if(wh(s))throw zS(),Error(r(418));for(;i;)AS(s,i),i=Zs(i.nextSibling)}if(FS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(i===0){qr=Zs(s.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}s=s.nextSibling}qr=null}}else qr=Wr?Zs(s.stateNode.nextSibling):null;return!0}function zS(){for(var s=qr;s;)s=Zs(s.nextSibling)}function $i(){qr=Wr=null,_t=!1}function bh(s){xn===null?xn=[s]:xn.push(s)}var VP=h.ReactCurrentBatchConfig;function nc(s,i,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var _=f.stateNode}if(!_)throw Error(r(147,s));var k=_,I=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===I?i.ref:(i=function(B){var q=k.refs;B===null?delete q[I]:q[I]=B},i._stringRef=I,i)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function Jl(s,i){throw s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function BS(s){var i=s._init;return i(s._payload)}function US(s){function i(Q,Y){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[Y],Q.flags|=16):Z.push(Y)}}function f(Q,Y){if(!s)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function _(Q,Y){for(Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function k(Q,Y){return Q=uo(Q,Y),Q.index=0,Q.sibling=null,Q}function I(Q,Y,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<Y?(Q.flags|=2,Y):Z):(Q.flags|=2,Y)):(Q.flags|=1048576,Y)}function B(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function q(Q,Y,Z,he){return Y===null||Y.tag!==6?(Y=fm(Z,Q.mode,he),Y.return=Q,Y):(Y=k(Y,Z),Y.return=Q,Y)}function X(Q,Y,Z,he){var Ae=Z.type;return Ae===D?le(Q,Y,Z.props.children,he,Z.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&BS(Ae)===Y.type)?(he=k(Y,Z.props),he.ref=nc(Q,Y,Z),he.return=Q,he):(he=bu(Z.type,Z.key,Z.props,null,Q.mode,he),he.ref=nc(Q,Y,Z),he.return=Q,he)}function ee(Q,Y,Z,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=pm(Z,Q.mode,he),Y.return=Q,Y):(Y=k(Y,Z.children||[]),Y.return=Q,Y)}function le(Q,Y,Z,he,Ae){return Y===null||Y.tag!==7?(Y=Uo(Z,Q.mode,he,Ae),Y.return=Q,Y):(Y=k(Y,Z),Y.return=Q,Y)}function fe(Q,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=fm(""+Y,Q.mode,Z),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Z=bu(Y.type,Y.key,Y.props,null,Q.mode,Z),Z.ref=nc(Q,null,Y),Z.return=Q,Z;case E:return Y=pm(Y,Q.mode,Z),Y.return=Q,Y;case L:var he=Y._init;return fe(Q,he(Y._payload),Z)}if($e(Y)||U(Y))return Y=Uo(Y,Q.mode,Z,null),Y.return=Q,Y;Jl(Q,Y)}return null}function ce(Q,Y,Z,he){var Ae=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ae!==null?null:q(Q,Y,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ae?X(Q,Y,Z,he):null;case E:return Z.key===Ae?ee(Q,Y,Z,he):null;case L:return Ae=Z._init,ce(Q,Y,Ae(Z._payload),he)}if($e(Z)||U(Z))return Ae!==null?null:le(Q,Y,Z,he,null);Jl(Q,Z)}return null}function _e(Q,Y,Z,he,Ae){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(Z)||null,q(Y,Q,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return Q=Q.get(he.key===null?Z:he.key)||null,X(Y,Q,he,Ae);case E:return Q=Q.get(he.key===null?Z:he.key)||null,ee(Y,Q,he,Ae);case L:var qe=he._init;return _e(Q,Y,Z,qe(he._payload),Ae)}if($e(he)||U(he))return Q=Q.get(Z)||null,le(Y,Q,he,Ae,null);Jl(Y,he)}return null}function Pe(Q,Y,Z,he){for(var Ae=null,qe=null,Ge=Y,Je=Y=0,Qt=null;Ge!==null&&Je<Z.length;Je++){Ge.index>Je?(Qt=Ge,Ge=null):Qt=Ge.sibling;var ft=ce(Q,Ge,Z[Je],he);if(ft===null){Ge===null&&(Ge=Qt);break}s&&Ge&&ft.alternate===null&&i(Q,Ge),Y=I(ft,Y,Je),qe===null?Ae=ft:qe.sibling=ft,qe=ft,Ge=Qt}if(Je===Z.length)return f(Q,Ge),_t&&No(Q,Je),Ae;if(Ge===null){for(;Je<Z.length;Je++)Ge=fe(Q,Z[Je],he),Ge!==null&&(Y=I(Ge,Y,Je),qe===null?Ae=Ge:qe.sibling=Ge,qe=Ge);return _t&&No(Q,Je),Ae}for(Ge=_(Q,Ge);Je<Z.length;Je++)Qt=_e(Ge,Q,Je,Z[Je],he),Qt!==null&&(s&&Qt.alternate!==null&&Ge.delete(Qt.key===null?Je:Qt.key),Y=I(Qt,Y,Je),qe===null?Ae=Qt:qe.sibling=Qt,qe=Qt);return s&&Ge.forEach(function(fo){return i(Q,fo)}),_t&&No(Q,Je),Ae}function De(Q,Y,Z,he){var Ae=U(Z);if(typeof Ae!="function")throw Error(r(150));if(Z=Ae.call(Z),Z==null)throw Error(r(151));for(var qe=Ae=null,Ge=Y,Je=Y=0,Qt=null,ft=Z.next();Ge!==null&&!ft.done;Je++,ft=Z.next()){Ge.index>Je?(Qt=Ge,Ge=null):Qt=Ge.sibling;var fo=ce(Q,Ge,ft.value,he);if(fo===null){Ge===null&&(Ge=Qt);break}s&&Ge&&fo.alternate===null&&i(Q,Ge),Y=I(fo,Y,Je),qe===null?Ae=fo:qe.sibling=fo,qe=fo,Ge=Qt}if(ft.done)return f(Q,Ge),_t&&No(Q,Je),Ae;if(Ge===null){for(;!ft.done;Je++,ft=Z.next())ft=fe(Q,ft.value,he),ft!==null&&(Y=I(ft,Y,Je),qe===null?Ae=ft:qe.sibling=ft,qe=ft);return _t&&No(Q,Je),Ae}for(Ge=_(Q,Ge);!ft.done;Je++,ft=Z.next())ft=_e(Ge,Q,Je,ft.value,he),ft!==null&&(s&&ft.alternate!==null&&Ge.delete(ft.key===null?Je:ft.key),Y=I(ft,Y,Je),qe===null?Ae=ft:qe.sibling=ft,qe=ft);return s&&Ge.forEach(function(_D){return i(Q,_D)}),_t&&No(Q,Je),Ae}function Lt(Q,Y,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===D&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ae=Z.key,qe=Y;qe!==null;){if(qe.key===Ae){if(Ae=Z.type,Ae===D){if(qe.tag===7){f(Q,qe.sibling),Y=k(qe,Z.props.children),Y.return=Q,Q=Y;break e}}else if(qe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&BS(Ae)===qe.type){f(Q,qe.sibling),Y=k(qe,Z.props),Y.ref=nc(Q,qe,Z),Y.return=Q,Q=Y;break e}f(Q,qe);break}else i(Q,qe);qe=qe.sibling}Z.type===D?(Y=Uo(Z.props.children,Q.mode,he,Z.key),Y.return=Q,Q=Y):(he=bu(Z.type,Z.key,Z.props,null,Q.mode,he),he.ref=nc(Q,Y,Z),he.return=Q,Q=he)}return B(Q);case E:e:{for(qe=Z.key;Y!==null;){if(Y.key===qe)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){f(Q,Y.sibling),Y=k(Y,Z.children||[]),Y.return=Q,Q=Y;break e}else{f(Q,Y);break}else i(Q,Y);Y=Y.sibling}Y=pm(Z,Q.mode,he),Y.return=Q,Q=Y}return B(Q);case L:return qe=Z._init,Lt(Q,Y,qe(Z._payload),he)}if($e(Z))return Pe(Q,Y,Z,he);if(U(Z))return De(Q,Y,Z,he);Jl(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,Y!==null&&Y.tag===6?(f(Q,Y.sibling),Y=k(Y,Z),Y.return=Q,Q=Y):(f(Q,Y),Y=fm(Z,Q.mode,he),Y.return=Q,Q=Y),B(Q)):f(Q,Y)}return Lt}var Fi=US(!0),VS=US(!1),Ql=eo(null),Zl=null,zi=null,_h=null;function xh(){_h=zi=Zl=null}function Ch(s){var i=Ql.current;wt(Ql),s._currentValue=i}function Rh(s,i,f){for(;s!==null;){var _=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,_!==null&&(_.childLanes|=i)):_!==null&&(_.childLanes&i)!==i&&(_.childLanes|=i),s===f)break;s=s.return}}function Bi(s,i){Zl=s,_h=zi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Dr=!0),s.firstContext=null)}function on(s){var i=s._currentValue;if(_h!==s)if(s={context:s,memoizedValue:i,next:null},zi===null){if(Zl===null)throw Error(r(308));zi=s,Zl.dependencies={lanes:0,firstContext:s}}else zi=zi.next=s;return i}var Lo=null;function Eh(s){Lo===null?Lo=[s]:Lo.push(s)}function HS(s,i,f,_){var k=i.interleaved;return k===null?(f.next=f,Eh(i)):(f.next=k.next,k.next=f),i.interleaved=f,_s(s,_)}function _s(s,i){s.lanes|=i;var f=s.alternate;for(f!==null&&(f.lanes|=i),f=s,s=s.return;s!==null;)s.childLanes|=i,f=s.alternate,f!==null&&(f.childLanes|=i),f=s,s=s.return;return f.tag===3?f.stateNode:null}var no=!1;function Th(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xs(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function so(s,i,f){var _=s.updateQueue;if(_===null)return null;if(_=_.shared,(ut&2)!==0){var k=_.pending;return k===null?i.next=i:(i.next=k.next,k.next=i),_.pending=i,_s(s,f)}return k=_.interleaved,k===null?(i.next=i,Eh(_)):(i.next=k.next,k.next=i),_.interleaved=i,_s(s,f)}function eu(s,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var _=i.lanes;_&=s.pendingLanes,f|=_,i.lanes=f,Bp(s,f)}}function qS(s,i){var f=s.updateQueue,_=s.alternate;if(_!==null&&(_=_.updateQueue,f===_)){var k=null,I=null;if(f=f.firstBaseUpdate,f!==null){do{var B={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};I===null?k=I=B:I=I.next=B,f=f.next}while(f!==null);I===null?k=I=i:I=I.next=i}else k=I=i;f={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:I,shared:_.shared,effects:_.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=i:s.next=i,f.lastBaseUpdate=i}function tu(s,i,f,_){var k=s.updateQueue;no=!1;var I=k.firstBaseUpdate,B=k.lastBaseUpdate,q=k.shared.pending;if(q!==null){k.shared.pending=null;var X=q,ee=X.next;X.next=null,B===null?I=ee:B.next=ee,B=X;var le=s.alternate;le!==null&&(le=le.updateQueue,q=le.lastBaseUpdate,q!==B&&(q===null?le.firstBaseUpdate=ee:q.next=ee,le.lastBaseUpdate=X))}if(I!==null){var fe=k.baseState;B=0,le=ee=X=null,q=I;do{var ce=q.lane,_e=q.eventTime;if((_&ce)===ce){le!==null&&(le=le.next={eventTime:_e,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Pe=s,De=q;switch(ce=i,_e=f,De.tag){case 1:if(Pe=De.payload,typeof Pe=="function"){fe=Pe.call(_e,fe,ce);break e}fe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=De.payload,ce=typeof Pe=="function"?Pe.call(_e,fe,ce):Pe,ce==null)break e;fe=H({},fe,ce);break e;case 2:no=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,ce=k.effects,ce===null?k.effects=[q]:ce.push(q))}else _e={eventTime:_e,lane:ce,tag:q.tag,payload:q.payload,callback:q.callback,next:null},le===null?(ee=le=_e,X=fe):le=le.next=_e,B|=ce;if(q=q.next,q===null){if(q=k.shared.pending,q===null)break;ce=q,q=ce.next,ce.next=null,k.lastBaseUpdate=ce,k.shared.pending=null}}while(!0);if(le===null&&(X=fe),k.baseState=X,k.firstBaseUpdate=ee,k.lastBaseUpdate=le,i=k.shared.interleaved,i!==null){k=i;do B|=k.lane,k=k.next;while(k!==i)}else I===null&&(k.shared.lanes=0);$o|=B,s.lanes=B,s.memoizedState=fe}}function GS(s,i,f){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var _=s[i],k=_.callback;if(k!==null){if(_.callback=null,_=f,typeof k!="function")throw Error(r(191,k));k.call(_)}}}var sc={},ss=eo(sc),oc=eo(sc),ic=eo(sc);function Oo(s){if(s===sc)throw Error(r(174));return s}function kh(s,i){switch(vt(ic,i),vt(oc,s),vt(ss,sc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Fe(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Fe(i,s)}wt(ss),vt(ss,i)}function Ui(){wt(ss),wt(oc),wt(ic)}function KS(s){Oo(ic.current);var i=Oo(ss.current),f=Fe(i,s.type);i!==f&&(vt(oc,s),vt(ss,f))}function Ph(s){oc.current===s&&(wt(ss),wt(oc))}var Rt=eo(0);function ru(s){for(var i=s;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function jh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var nu=h.ReactCurrentDispatcher,Ih=h.ReactCurrentBatchConfig,Ao=0,Et=null,Ht=null,Yt=null,su=!1,ac=!1,cc=0,HP=0;function dr(){throw Error(r(321))}function Mh(s,i){if(i===null)return!1;for(var f=0;f<i.length&&f<s.length;f++)if(!_n(s[f],i[f]))return!1;return!0}function Nh(s,i,f,_,k,I){if(Ao=I,Et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nu.current=s===null||s.memoizedState===null?KP:XP,s=f(_,k),ac){I=0;do{if(ac=!1,cc=0,25<=I)throw Error(r(301));I+=1,Yt=Ht=null,i.updateQueue=null,nu.current=YP,s=f(_,k)}while(ac)}if(nu.current=au,i=Ht!==null&&Ht.next!==null,Ao=0,Yt=Ht=Et=null,su=!1,i)throw Error(r(300));return s}function Lh(){var s=cc!==0;return cc=0,s}function os(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Et.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function an(){if(Ht===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var i=Yt===null?Et.memoizedState:Yt.next;if(i!==null)Yt=i,Ht=s;else{if(s===null)throw Error(r(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Yt===null?Et.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function lc(s,i){return typeof i=="function"?i(s):i}function Oh(s){var i=an(),f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var _=Ht,k=_.baseQueue,I=f.pending;if(I!==null){if(k!==null){var B=k.next;k.next=I.next,I.next=B}_.baseQueue=k=I,f.pending=null}if(k!==null){I=k.next,_=_.baseState;var q=B=null,X=null,ee=I;do{var le=ee.lane;if((Ao&le)===le)X!==null&&(X=X.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),_=ee.hasEagerState?ee.eagerState:s(_,ee.action);else{var fe={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};X===null?(q=X=fe,B=_):X=X.next=fe,Et.lanes|=le,$o|=le}ee=ee.next}while(ee!==null&&ee!==I);X===null?B=_:X.next=q,_n(_,i.memoizedState)||(Dr=!0),i.memoizedState=_,i.baseState=B,i.baseQueue=X,f.lastRenderedState=_}if(s=f.interleaved,s!==null){k=s;do I=k.lane,Et.lanes|=I,$o|=I,k=k.next;while(k!==s)}else k===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function Ah(s){var i=an(),f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var _=f.dispatch,k=f.pending,I=i.memoizedState;if(k!==null){f.pending=null;var B=k=k.next;do I=s(I,B.action),B=B.next;while(B!==k);_n(I,i.memoizedState)||(Dr=!0),i.memoizedState=I,i.baseQueue===null&&(i.baseState=I),f.lastRenderedState=I}return[I,_]}function XS(){}function YS(s,i){var f=Et,_=an(),k=i(),I=!_n(_.memoizedState,k);if(I&&(_.memoizedState=k,Dr=!0),_=_.queue,$h(ZS.bind(null,f,_,s),[s]),_.getSnapshot!==i||I||Yt!==null&&Yt.memoizedState.tag&1){if(f.flags|=2048,uc(9,QS.bind(null,f,_,k,i),void 0,null),Jt===null)throw Error(r(349));(Ao&30)!==0||JS(f,i,k)}return k}function JS(s,i,f){s.flags|=16384,s={getSnapshot:i,value:f},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.stores=[s]):(f=i.stores,f===null?i.stores=[s]:f.push(s))}function QS(s,i,f,_){i.value=f,i.getSnapshot=_,eb(i)&&tb(s)}function ZS(s,i,f){return f(function(){eb(i)&&tb(s)})}function eb(s){var i=s.getSnapshot;s=s.value;try{var f=i();return!_n(s,f)}catch{return!0}}function tb(s){var i=_s(s,1);i!==null&&Tn(i,s,1,-1)}function rb(s){var i=os();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:s},i.queue=s,s=s.dispatch=GP.bind(null,Et,s),[i.memoizedState,s]}function uc(s,i,f,_){return s={tag:s,create:i,destroy:f,deps:_,next:null},i=Et.updateQueue,i===null?(i={lastEffect:null,stores:null},Et.updateQueue=i,i.lastEffect=s.next=s):(f=i.lastEffect,f===null?i.lastEffect=s.next=s:(_=f.next,f.next=s,s.next=_,i.lastEffect=s)),s}function nb(){return an().memoizedState}function ou(s,i,f,_){var k=os();Et.flags|=s,k.memoizedState=uc(1|i,f,void 0,_===void 0?null:_)}function iu(s,i,f,_){var k=an();_=_===void 0?null:_;var I=void 0;if(Ht!==null){var B=Ht.memoizedState;if(I=B.destroy,_!==null&&Mh(_,B.deps)){k.memoizedState=uc(i,f,I,_);return}}Et.flags|=s,k.memoizedState=uc(1|i,f,I,_)}function sb(s,i){return ou(8390656,8,s,i)}function $h(s,i){return iu(2048,8,s,i)}function ob(s,i){return iu(4,2,s,i)}function ib(s,i){return iu(4,4,s,i)}function ab(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function cb(s,i,f){return f=f!=null?f.concat([s]):null,iu(4,4,ab.bind(null,i,s),f)}function Fh(){}function lb(s,i){var f=an();i=i===void 0?null:i;var _=f.memoizedState;return _!==null&&i!==null&&Mh(i,_[1])?_[0]:(f.memoizedState=[s,i],s)}function ub(s,i){var f=an();i=i===void 0?null:i;var _=f.memoizedState;return _!==null&&i!==null&&Mh(i,_[1])?_[0]:(s=s(),f.memoizedState=[s,i],s)}function db(s,i,f){return(Ao&21)===0?(s.baseState&&(s.baseState=!1,Dr=!0),s.memoizedState=f):(_n(f,i)||(f=Bw(),Et.lanes|=f,$o|=f,s.baseState=!0),i)}function WP(s,i){var f=ht;ht=f!==0&&4>f?f:4,s(!0);var _=Ih.transition;Ih.transition={};try{s(!1),i()}finally{ht=f,Ih.transition=_}}function fb(){return an().memoizedState}function qP(s,i,f){var _=co(s);if(f={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null},pb(s))hb(i,f);else if(f=HS(s,i,f,_),f!==null){var k=wr();Tn(f,s,_,k),mb(f,i,_)}}function GP(s,i,f){var _=co(s),k={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null};if(pb(s))hb(i,k);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=i.lastRenderedReducer,I!==null))try{var B=i.lastRenderedState,q=I(B,f);if(k.hasEagerState=!0,k.eagerState=q,_n(q,B)){var X=i.interleaved;X===null?(k.next=k,Eh(i)):(k.next=X.next,X.next=k),i.interleaved=k;return}}catch{}finally{}f=HS(s,i,k,_),f!==null&&(k=wr(),Tn(f,s,_,k),mb(f,i,_))}}function pb(s){var i=s.alternate;return s===Et||i!==null&&i===Et}function hb(s,i){ac=su=!0;var f=s.pending;f===null?i.next=i:(i.next=f.next,f.next=i),s.pending=i}function mb(s,i,f){if((f&4194240)!==0){var _=i.lanes;_&=s.pendingLanes,f|=_,i.lanes=f,Bp(s,f)}}var au={readContext:on,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},KP={readContext:on,useCallback:function(s,i){return os().memoizedState=[s,i===void 0?null:i],s},useContext:on,useEffect:sb,useImperativeHandle:function(s,i,f){return f=f!=null?f.concat([s]):null,ou(4194308,4,ab.bind(null,i,s),f)},useLayoutEffect:function(s,i){return ou(4194308,4,s,i)},useInsertionEffect:function(s,i){return ou(4,2,s,i)},useMemo:function(s,i){var f=os();return i=i===void 0?null:i,s=s(),f.memoizedState=[s,i],s},useReducer:function(s,i,f){var _=os();return i=f!==void 0?f(i):i,_.memoizedState=_.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},_.queue=s,s=s.dispatch=qP.bind(null,Et,s),[_.memoizedState,s]},useRef:function(s){var i=os();return s={current:s},i.memoizedState=s},useState:rb,useDebugValue:Fh,useDeferredValue:function(s){return os().memoizedState=s},useTransition:function(){var s=rb(!1),i=s[0];return s=WP.bind(null,s[1]),os().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,f){var _=Et,k=os();if(_t){if(f===void 0)throw Error(r(407));f=f()}else{if(f=i(),Jt===null)throw Error(r(349));(Ao&30)!==0||JS(_,i,f)}k.memoizedState=f;var I={value:f,getSnapshot:i};return k.queue=I,sb(ZS.bind(null,_,I,s),[s]),_.flags|=2048,uc(9,QS.bind(null,_,I,f,i),void 0,null),f},useId:function(){var s=os(),i=Jt.identifierPrefix;if(_t){var f=bs,_=Ss;f=(_&~(1<<32-bn(_)-1)).toString(32)+f,i=":"+i+"R"+f,f=cc++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=HP++,i=":"+i+"r"+f.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},XP={readContext:on,useCallback:lb,useContext:on,useEffect:$h,useImperativeHandle:cb,useInsertionEffect:ob,useLayoutEffect:ib,useMemo:ub,useReducer:Oh,useRef:nb,useState:function(){return Oh(lc)},useDebugValue:Fh,useDeferredValue:function(s){var i=an();return db(i,Ht.memoizedState,s)},useTransition:function(){var s=Oh(lc)[0],i=an().memoizedState;return[s,i]},useMutableSource:XS,useSyncExternalStore:YS,useId:fb,unstable_isNewReconciler:!1},YP={readContext:on,useCallback:lb,useContext:on,useEffect:$h,useImperativeHandle:cb,useInsertionEffect:ob,useLayoutEffect:ib,useMemo:ub,useReducer:Ah,useRef:nb,useState:function(){return Ah(lc)},useDebugValue:Fh,useDeferredValue:function(s){var i=an();return Ht===null?i.memoizedState=s:db(i,Ht.memoizedState,s)},useTransition:function(){var s=Ah(lc)[0],i=an().memoizedState;return[s,i]},useMutableSource:XS,useSyncExternalStore:YS,useId:fb,unstable_isNewReconciler:!1};function Cn(s,i){if(s&&s.defaultProps){i=H({},i),s=s.defaultProps;for(var f in s)i[f]===void 0&&(i[f]=s[f]);return i}return i}function zh(s,i,f,_){i=s.memoizedState,f=f(_,i),f=f==null?i:H({},i,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var cu={isMounted:function(s){return(s=s._reactInternals)?Do(s)===s:!1},enqueueSetState:function(s,i,f){s=s._reactInternals;var _=wr(),k=co(s),I=xs(_,k);I.payload=i,f!=null&&(I.callback=f),i=so(s,I,k),i!==null&&(Tn(i,s,k,_),eu(i,s,k))},enqueueReplaceState:function(s,i,f){s=s._reactInternals;var _=wr(),k=co(s),I=xs(_,k);I.tag=1,I.payload=i,f!=null&&(I.callback=f),i=so(s,I,k),i!==null&&(Tn(i,s,k,_),eu(i,s,k))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var f=wr(),_=co(s),k=xs(f,_);k.tag=2,i!=null&&(k.callback=i),i=so(s,k,_),i!==null&&(Tn(i,s,_,f),eu(i,s,_))}};function gb(s,i,f,_,k,I,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(_,I,B):i.prototype&&i.prototype.isPureReactComponent?!Ya(f,_)||!Ya(k,I):!0}function vb(s,i,f){var _=!1,k=to,I=i.contextType;return typeof I=="object"&&I!==null?I=on(I):(k=Pr(i)?Io:ur.current,_=i.contextTypes,I=(_=_!=null)?Li(s,k):to),i=new i(f,I),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cu,s.stateNode=i,i._reactInternals=s,_&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=k,s.__reactInternalMemoizedMaskedChildContext=I),i}function yb(s,i,f,_){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,_),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,_),i.state!==s&&cu.enqueueReplaceState(i,i.state,null)}function Bh(s,i,f,_){var k=s.stateNode;k.props=f,k.state=s.memoizedState,k.refs={},Th(s);var I=i.contextType;typeof I=="object"&&I!==null?k.context=on(I):(I=Pr(i)?Io:ur.current,k.context=Li(s,I)),k.state=s.memoizedState,I=i.getDerivedStateFromProps,typeof I=="function"&&(zh(s,i,I,f),k.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(i=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),i!==k.state&&cu.enqueueReplaceState(k,k.state,null),tu(s,f,k,_),k.state=s.memoizedState),typeof k.componentDidMount=="function"&&(s.flags|=4194308)}function Vi(s,i){try{var f="",_=i;do f+=J(_),_=_.return;while(_);var k=f}catch(I){k=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:i,stack:k,digest:null}}function Uh(s,i,f){return{value:s,source:null,stack:f??null,digest:i??null}}function Vh(s,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var JP=typeof WeakMap=="function"?WeakMap:Map;function wb(s,i,f){f=xs(-1,f),f.tag=3,f.payload={element:null};var _=i.value;return f.callback=function(){mu||(mu=!0,sm=_),Vh(s,i)},f}function Sb(s,i,f){f=xs(-1,f),f.tag=3;var _=s.type.getDerivedStateFromError;if(typeof _=="function"){var k=i.value;f.payload=function(){return _(k)},f.callback=function(){Vh(s,i)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(f.callback=function(){Vh(s,i),typeof _!="function"&&(io===null?io=new Set([this]):io.add(this));var B=i.stack;this.componentDidCatch(i.value,{componentStack:B!==null?B:""})}),f}function bb(s,i,f){var _=s.pingCache;if(_===null){_=s.pingCache=new JP;var k=new Set;_.set(i,k)}else k=_.get(i),k===void 0&&(k=new Set,_.set(i,k));k.has(f)||(k.add(f),s=dD.bind(null,s,i,f),i.then(s,s))}function _b(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function xb(s,i,f,_,k){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=xs(-1,1),i.tag=2,so(f,i,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=k,s)}var QP=h.ReactCurrentOwner,Dr=!1;function yr(s,i,f,_){i.child=s===null?VS(i,null,f,_):Fi(i,s.child,f,_)}function Cb(s,i,f,_,k){f=f.render;var I=i.ref;return Bi(i,k),_=Nh(s,i,f,_,I,k),f=Lh(),s!==null&&!Dr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~k,Cs(s,i,k)):(_t&&f&&vh(i),i.flags|=1,yr(s,i,_,k),i.child)}function Rb(s,i,f,_,k){if(s===null){var I=f.type;return typeof I=="function"&&!dm(I)&&I.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=I,Eb(s,i,I,_,k)):(s=bu(f.type,null,_,i,i.mode,k),s.ref=i.ref,s.return=i,i.child=s)}if(I=s.child,(s.lanes&k)===0){var B=I.memoizedProps;if(f=f.compare,f=f!==null?f:Ya,f(B,_)&&s.ref===i.ref)return Cs(s,i,k)}return i.flags|=1,s=uo(I,_),s.ref=i.ref,s.return=i,i.child=s}function Eb(s,i,f,_,k){if(s!==null){var I=s.memoizedProps;if(Ya(I,_)&&s.ref===i.ref)if(Dr=!1,i.pendingProps=_=I,(s.lanes&k)!==0)(s.flags&131072)!==0&&(Dr=!0);else return i.lanes=s.lanes,Cs(s,i,k)}return Hh(s,i,f,_,k)}function Tb(s,i,f){var _=i.pendingProps,k=_.children,I=s!==null?s.memoizedState:null;if(_.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Wi,Gr),Gr|=f;else{if((f&1073741824)===0)return s=I!==null?I.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,vt(Wi,Gr),Gr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=I!==null?I.baseLanes:f,vt(Wi,Gr),Gr|=_}else I!==null?(_=I.baseLanes|f,i.memoizedState=null):_=f,vt(Wi,Gr),Gr|=_;return yr(s,i,k,f),i.child}function kb(s,i){var f=i.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Hh(s,i,f,_,k){var I=Pr(f)?Io:ur.current;return I=Li(i,I),Bi(i,k),f=Nh(s,i,f,_,I,k),_=Lh(),s!==null&&!Dr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~k,Cs(s,i,k)):(_t&&_&&vh(i),i.flags|=1,yr(s,i,f,k),i.child)}function Pb(s,i,f,_,k){if(Pr(f)){var I=!0;ql(i)}else I=!1;if(Bi(i,k),i.stateNode===null)uu(s,i),vb(i,f,_),Bh(i,f,_,k),_=!0;else if(s===null){var B=i.stateNode,q=i.memoizedProps;B.props=q;var X=B.context,ee=f.contextType;typeof ee=="object"&&ee!==null?ee=on(ee):(ee=Pr(f)?Io:ur.current,ee=Li(i,ee));var le=f.getDerivedStateFromProps,fe=typeof le=="function"||typeof B.getSnapshotBeforeUpdate=="function";fe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(q!==_||X!==ee)&&yb(i,B,_,ee),no=!1;var ce=i.memoizedState;B.state=ce,tu(i,_,B,k),X=i.memoizedState,q!==_||ce!==X||kr.current||no?(typeof le=="function"&&(zh(i,f,le,_),X=i.memoizedState),(q=no||gb(i,f,q,_,ce,X,ee))?(fe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(i.flags|=4194308)):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=_,i.memoizedState=X),B.props=_,B.state=X,B.context=ee,_=q):(typeof B.componentDidMount=="function"&&(i.flags|=4194308),_=!1)}else{B=i.stateNode,WS(s,i),q=i.memoizedProps,ee=i.type===i.elementType?q:Cn(i.type,q),B.props=ee,fe=i.pendingProps,ce=B.context,X=f.contextType,typeof X=="object"&&X!==null?X=on(X):(X=Pr(f)?Io:ur.current,X=Li(i,X));var _e=f.getDerivedStateFromProps;(le=typeof _e=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(q!==fe||ce!==X)&&yb(i,B,_,X),no=!1,ce=i.memoizedState,B.state=ce,tu(i,_,B,k);var Pe=i.memoizedState;q!==fe||ce!==Pe||kr.current||no?(typeof _e=="function"&&(zh(i,f,_e,_),Pe=i.memoizedState),(ee=no||gb(i,f,ee,_,ce,Pe,X)||!1)?(le||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(_,Pe,X),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(_,Pe,X)),typeof B.componentDidUpdate=="function"&&(i.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof B.componentDidUpdate!="function"||q===s.memoizedProps&&ce===s.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ce===s.memoizedState||(i.flags|=1024),i.memoizedProps=_,i.memoizedState=Pe),B.props=_,B.state=Pe,B.context=X,_=ee):(typeof B.componentDidUpdate!="function"||q===s.memoizedProps&&ce===s.memoizedState||(i.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ce===s.memoizedState||(i.flags|=1024),_=!1)}return Wh(s,i,f,_,I,k)}function Wh(s,i,f,_,k,I){kb(s,i);var B=(i.flags&128)!==0;if(!_&&!B)return k&&NS(i,f,!1),Cs(s,i,I);_=i.stateNode,QP.current=i;var q=B&&typeof f.getDerivedStateFromError!="function"?null:_.render();return i.flags|=1,s!==null&&B?(i.child=Fi(i,s.child,null,I),i.child=Fi(i,null,q,I)):yr(s,i,q,I),i.memoizedState=_.state,k&&NS(i,f,!0),i.child}function Db(s){var i=s.stateNode;i.pendingContext?IS(s,i.pendingContext,i.pendingContext!==i.context):i.context&&IS(s,i.context,!1),kh(s,i.containerInfo)}function jb(s,i,f,_,k){return $i(),bh(k),i.flags|=256,yr(s,i,f,_),i.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Gh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ib(s,i,f){var _=i.pendingProps,k=Rt.current,I=!1,B=(i.flags&128)!==0,q;if((q=B)||(q=s!==null&&s.memoizedState===null?!1:(k&2)!==0),q?(I=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(k|=1),vt(Rt,k&1),s===null)return Sh(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(B=_.children,s=_.fallback,I?(_=i.mode,I=i.child,B={mode:"hidden",children:B},(_&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=B):I=_u(B,_,0,null),s=Uo(s,_,f,null),I.return=i,s.return=i,I.sibling=s,i.child=I,i.child.memoizedState=Gh(f),i.memoizedState=qh,s):Kh(i,B));if(k=s.memoizedState,k!==null&&(q=k.dehydrated,q!==null))return ZP(s,i,B,_,q,k,f);if(I){I=_.fallback,B=i.mode,k=s.child,q=k.sibling;var X={mode:"hidden",children:_.children};return(B&1)===0&&i.child!==k?(_=i.child,_.childLanes=0,_.pendingProps=X,i.deletions=null):(_=uo(k,X),_.subtreeFlags=k.subtreeFlags&14680064),q!==null?I=uo(q,I):(I=Uo(I,B,f,null),I.flags|=2),I.return=i,_.return=i,_.sibling=I,i.child=_,_=I,I=i.child,B=s.child.memoizedState,B=B===null?Gh(f):{baseLanes:B.baseLanes|f,cachePool:null,transitions:B.transitions},I.memoizedState=B,I.childLanes=s.childLanes&~f,i.memoizedState=qh,_}return I=s.child,s=I.sibling,_=uo(I,{mode:"visible",children:_.children}),(i.mode&1)===0&&(_.lanes=f),_.return=i,_.sibling=null,s!==null&&(f=i.deletions,f===null?(i.deletions=[s],i.flags|=16):f.push(s)),i.child=_,i.memoizedState=null,_}function Kh(s,i){return i=_u({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function lu(s,i,f,_){return _!==null&&bh(_),Fi(i,s.child,null,f),s=Kh(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function ZP(s,i,f,_,k,I,B){if(f)return i.flags&256?(i.flags&=-257,_=Uh(Error(r(422))),lu(s,i,B,_)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(I=_.fallback,k=i.mode,_=_u({mode:"visible",children:_.children},k,0,null),I=Uo(I,k,B,null),I.flags|=2,_.return=i,I.return=i,_.sibling=I,i.child=_,(i.mode&1)!==0&&Fi(i,s.child,null,B),i.child.memoizedState=Gh(B),i.memoizedState=qh,I);if((i.mode&1)===0)return lu(s,i,B,null);if(k.data==="$!"){if(_=k.nextSibling&&k.nextSibling.dataset,_)var q=_.dgst;return _=q,I=Error(r(419)),_=Uh(I,_,void 0),lu(s,i,B,_)}if(q=(B&s.childLanes)!==0,Dr||q){if(_=Jt,_!==null){switch(B&-B){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(_.suspendedLanes|B))!==0?0:k,k!==0&&k!==I.retryLane&&(I.retryLane=k,_s(s,k),Tn(_,s,k,-1))}return um(),_=Uh(Error(r(421))),lu(s,i,B,_)}return k.data==="$?"?(i.flags|=128,i.child=s.child,i=fD.bind(null,s),k._reactRetry=i,null):(s=I.treeContext,qr=Zs(k.nextSibling),Wr=i,_t=!0,xn=null,s!==null&&(nn[sn++]=Ss,nn[sn++]=bs,nn[sn++]=Mo,Ss=s.id,bs=s.overflow,Mo=i),i=Kh(i,_.children),i.flags|=4096,i)}function Mb(s,i,f){s.lanes|=i;var _=s.alternate;_!==null&&(_.lanes|=i),Rh(s.return,i,f)}function Xh(s,i,f,_,k){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:_,tail:f,tailMode:k}:(I.isBackwards=i,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=f,I.tailMode=k)}function Nb(s,i,f){var _=i.pendingProps,k=_.revealOrder,I=_.tail;if(yr(s,i,_.children,f),_=Rt.current,(_&2)!==0)_=_&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mb(s,f,i);else if(s.tag===19)Mb(s,f,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}_&=1}if(vt(Rt,_),(i.mode&1)===0)i.memoizedState=null;else switch(k){case"forwards":for(f=i.child,k=null;f!==null;)s=f.alternate,s!==null&&ru(s)===null&&(k=f),f=f.sibling;f=k,f===null?(k=i.child,i.child=null):(k=f.sibling,f.sibling=null),Xh(i,!1,k,f,I);break;case"backwards":for(f=null,k=i.child,i.child=null;k!==null;){if(s=k.alternate,s!==null&&ru(s)===null){i.child=k;break}s=k.sibling,k.sibling=f,f=k,k=s}Xh(i,!0,f,null,I);break;case"together":Xh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Cs(s,i,f){if(s!==null&&(i.dependencies=s.dependencies),$o|=i.lanes,(f&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,f=uo(s,s.pendingProps),i.child=f,f.return=i;s.sibling!==null;)s=s.sibling,f=f.sibling=uo(s,s.pendingProps),f.return=i;f.sibling=null}return i.child}function eD(s,i,f){switch(i.tag){case 3:Db(i),$i();break;case 5:KS(i);break;case 1:Pr(i.type)&&ql(i);break;case 4:kh(i,i.stateNode.containerInfo);break;case 10:var _=i.type._context,k=i.memoizedProps.value;vt(Ql,_._currentValue),_._currentValue=k;break;case 13:if(_=i.memoizedState,_!==null)return _.dehydrated!==null?(vt(Rt,Rt.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?Ib(s,i,f):(vt(Rt,Rt.current&1),s=Cs(s,i,f),s!==null?s.sibling:null);vt(Rt,Rt.current&1);break;case 19:if(_=(f&i.childLanes)!==0,(s.flags&128)!==0){if(_)return Nb(s,i,f);i.flags|=128}if(k=i.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),vt(Rt,Rt.current),_)break;return null;case 22:case 23:return i.lanes=0,Tb(s,i,f)}return Cs(s,i,f)}var Lb,Yh,Ob,Ab;Lb=function(s,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Yh=function(){},Ob=function(s,i,f,_){var k=s.memoizedProps;if(k!==_){s=i.stateNode,Oo(ss.current);var I=null;switch(f){case"input":k=Ve(s,k),_=Ve(s,_),I=[];break;case"select":k=H({},k,{value:void 0}),_=H({},_,{value:void 0}),I=[];break;case"textarea":k=He(s,k),_=He(s,_),I=[];break;default:typeof k.onClick!="function"&&typeof _.onClick=="function"&&(s.onclick=Vl)}xi(f,_);var B;f=null;for(ee in k)if(!_.hasOwnProperty(ee)&&k.hasOwnProperty(ee)&&k[ee]!=null)if(ee==="style"){var q=k[ee];for(B in q)q.hasOwnProperty(B)&&(f||(f={}),f[B]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?I||(I=[]):(I=I||[]).push(ee,null));for(ee in _){var X=_[ee];if(q=k!=null?k[ee]:void 0,_.hasOwnProperty(ee)&&X!==q&&(X!=null||q!=null))if(ee==="style")if(q){for(B in q)!q.hasOwnProperty(B)||X&&X.hasOwnProperty(B)||(f||(f={}),f[B]="");for(B in X)X.hasOwnProperty(B)&&q[B]!==X[B]&&(f||(f={}),f[B]=X[B])}else f||(I||(I=[]),I.push(ee,f)),f=X;else ee==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,q=q?q.__html:void 0,X!=null&&q!==X&&(I=I||[]).push(ee,X)):ee==="children"?typeof X!="string"&&typeof X!="number"||(I=I||[]).push(ee,""+X):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(X!=null&&ee==="onScroll"&&yt("scroll",s),I||q===X||(I=[])):(I=I||[]).push(ee,X))}f&&(I=I||[]).push("style",f);var ee=I;(i.updateQueue=ee)&&(i.flags|=4)}},Ab=function(s,i,f,_){f!==_&&(i.flags|=4)};function dc(s,i){if(!_t)switch(s.tailMode){case"hidden":i=s.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:_.sibling=null}}function fr(s){var i=s.alternate!==null&&s.alternate.child===s.child,f=0,_=0;if(i)for(var k=s.child;k!==null;)f|=k.lanes|k.childLanes,_|=k.subtreeFlags&14680064,_|=k.flags&14680064,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)f|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=_,s.childLanes=f,i}function tD(s,i,f){var _=i.pendingProps;switch(yh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(i),null;case 1:return Pr(i.type)&&Wl(),fr(i),null;case 3:return _=i.stateNode,Ui(),wt(kr),wt(ur),jh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(s===null||s.child===null)&&(Yl(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xn!==null&&(am(xn),xn=null))),Yh(s,i),fr(i),null;case 5:Ph(i);var k=Oo(ic.current);if(f=i.type,s!==null&&i.stateNode!=null)Ob(s,i,f,_,k),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!_){if(i.stateNode===null)throw Error(r(166));return fr(i),null}if(s=Oo(ss.current),Yl(i)){_=i.stateNode,f=i.type;var I=i.memoizedProps;switch(_[ns]=i,_[tc]=I,s=(i.mode&1)!==0,f){case"dialog":yt("cancel",_),yt("close",_);break;case"iframe":case"object":case"embed":yt("load",_);break;case"video":case"audio":for(k=0;k<Qa.length;k++)yt(Qa[k],_);break;case"source":yt("error",_);break;case"img":case"image":case"link":yt("error",_),yt("load",_);break;case"details":yt("toggle",_);break;case"input":Be(_,I),yt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!I.multiple},yt("invalid",_);break;case"textarea":Ye(_,I),yt("invalid",_)}xi(f,I),k=null;for(var B in I)if(I.hasOwnProperty(B)){var q=I[B];B==="children"?typeof q=="string"?_.textContent!==q&&(I.suppressHydrationWarning!==!0&&Ul(_.textContent,q,s),k=["children",q]):typeof q=="number"&&_.textContent!==""+q&&(I.suppressHydrationWarning!==!0&&Ul(_.textContent,q,s),k=["children",""+q]):o.hasOwnProperty(B)&&q!=null&&B==="onScroll"&&yt("scroll",_)}switch(f){case"input":ae(_),Se(_,I,!0);break;case"textarea":ae(_),Le(_);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(_.onclick=Vl)}_=k,i.updateQueue=_,_!==null&&(i.flags|=4)}else{B=k.nodeType===9?k:k.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Te(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=B.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof _.is=="string"?s=B.createElement(f,{is:_.is}):(s=B.createElement(f),f==="select"&&(B=s,_.multiple?B.multiple=!0:_.size&&(B.size=_.size))):s=B.createElementNS(s,f),s[ns]=i,s[tc]=_,Lb(s,i,!1,!1),i.stateNode=s;e:{switch(B=jp(f,_),f){case"dialog":yt("cancel",s),yt("close",s),k=_;break;case"iframe":case"object":case"embed":yt("load",s),k=_;break;case"video":case"audio":for(k=0;k<Qa.length;k++)yt(Qa[k],s);k=_;break;case"source":yt("error",s),k=_;break;case"img":case"image":case"link":yt("error",s),yt("load",s),k=_;break;case"details":yt("toggle",s),k=_;break;case"input":Be(s,_),k=Ve(s,_),yt("invalid",s);break;case"option":k=_;break;case"select":s._wrapperState={wasMultiple:!!_.multiple},k=H({},_,{value:void 0}),yt("invalid",s);break;case"textarea":Ye(s,_),k=He(s,_),yt("invalid",s);break;default:k=_}xi(f,k),q=k;for(I in q)if(q.hasOwnProperty(I)){var X=q[I];I==="style"?Ct(s,X):I==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Ze(s,X)):I==="children"?typeof X=="string"?(f!=="textarea"||X!=="")&&dt(s,X):typeof X=="number"&&dt(s,""+X):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?X!=null&&I==="onScroll"&&yt("scroll",s):X!=null&&p(s,I,X,B))}switch(f){case"input":ae(s),Se(s,_,!1);break;case"textarea":ae(s),Le(s);break;case"option":_.value!=null&&s.setAttribute("value",""+ve(_.value));break;case"select":s.multiple=!!_.multiple,I=_.value,I!=null?We(s,!!_.multiple,I,!1):_.defaultValue!=null&&We(s,!!_.multiple,_.defaultValue,!0);break;default:typeof k.onClick=="function"&&(s.onclick=Vl)}switch(f){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return fr(i),null;case 6:if(s&&i.stateNode!=null)Ab(s,i,s.memoizedProps,_);else{if(typeof _!="string"&&i.stateNode===null)throw Error(r(166));if(f=Oo(ic.current),Oo(ss.current),Yl(i)){if(_=i.stateNode,f=i.memoizedProps,_[ns]=i,(I=_.nodeValue!==f)&&(s=Wr,s!==null))switch(s.tag){case 3:Ul(_.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ul(_.nodeValue,f,(s.mode&1)!==0)}I&&(i.flags|=4)}else _=(f.nodeType===9?f:f.ownerDocument).createTextNode(_),_[ns]=i,i.stateNode=_}return fr(i),null;case 13:if(wt(Rt),_=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&qr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)zS(),$i(),i.flags|=98560,I=!1;else if(I=Yl(i),_!==null&&_.dehydrated!==null){if(s===null){if(!I)throw Error(r(318));if(I=i.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[ns]=i}else $i(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fr(i),I=!1}else xn!==null&&(am(xn),xn=null),I=!0;if(!I)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(_=_!==null,_!==(s!==null&&s.memoizedState!==null)&&_&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Rt.current&1)!==0?Wt===0&&(Wt=3):um())),i.updateQueue!==null&&(i.flags|=4),fr(i),null);case 4:return Ui(),Yh(s,i),s===null&&Za(i.stateNode.containerInfo),fr(i),null;case 10:return Ch(i.type._context),fr(i),null;case 17:return Pr(i.type)&&Wl(),fr(i),null;case 19:if(wt(Rt),I=i.memoizedState,I===null)return fr(i),null;if(_=(i.flags&128)!==0,B=I.rendering,B===null)if(_)dc(I,!1);else{if(Wt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(B=ru(s),B!==null){for(i.flags|=128,dc(I,!1),_=B.updateQueue,_!==null&&(i.updateQueue=_,i.flags|=4),i.subtreeFlags=0,_=f,f=i.child;f!==null;)I=f,s=_,I.flags&=14680066,B=I.alternate,B===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=B.childLanes,I.lanes=B.lanes,I.child=B.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=B.memoizedProps,I.memoizedState=B.memoizedState,I.updateQueue=B.updateQueue,I.type=B.type,s=B.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return vt(Rt,Rt.current&1|2),i.child}s=s.sibling}I.tail!==null&&Nt()>qi&&(i.flags|=128,_=!0,dc(I,!1),i.lanes=4194304)}else{if(!_)if(s=ru(B),s!==null){if(i.flags|=128,_=!0,f=s.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),dc(I,!0),I.tail===null&&I.tailMode==="hidden"&&!B.alternate&&!_t)return fr(i),null}else 2*Nt()-I.renderingStartTime>qi&&f!==1073741824&&(i.flags|=128,_=!0,dc(I,!1),i.lanes=4194304);I.isBackwards?(B.sibling=i.child,i.child=B):(f=I.last,f!==null?f.sibling=B:i.child=B,I.last=B)}return I.tail!==null?(i=I.tail,I.rendering=i,I.tail=i.sibling,I.renderingStartTime=Nt(),i.sibling=null,f=Rt.current,vt(Rt,_?f&1|2:f&1),i):(fr(i),null);case 22:case 23:return lm(),_=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==_&&(i.flags|=8192),_&&(i.mode&1)!==0?(Gr&1073741824)!==0&&(fr(i),i.subtreeFlags&6&&(i.flags|=8192)):fr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function rD(s,i){switch(yh(i),i.tag){case 1:return Pr(i.type)&&Wl(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ui(),wt(kr),wt(ur),jh(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ph(i),null;case 13:if(wt(Rt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));$i()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return wt(Rt),null;case 4:return Ui(),null;case 10:return Ch(i.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var du=!1,pr=!1,nD=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Hi(s,i){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(_){Pt(s,i,_)}else f.current=null}function Jh(s,i,f){try{f()}catch(_){Pt(s,i,_)}}var $b=!1;function sD(s,i){if(lh=jl,s=gS(),th(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var _=f.getSelection&&f.getSelection();if(_&&_.rangeCount!==0){f=_.anchorNode;var k=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{f.nodeType,I.nodeType}catch{f=null;break e}var B=0,q=-1,X=-1,ee=0,le=0,fe=s,ce=null;t:for(;;){for(var _e;fe!==f||k!==0&&fe.nodeType!==3||(q=B+k),fe!==I||_!==0&&fe.nodeType!==3||(X=B+_),fe.nodeType===3&&(B+=fe.nodeValue.length),(_e=fe.firstChild)!==null;)ce=fe,fe=_e;for(;;){if(fe===s)break t;if(ce===f&&++ee===k&&(q=B),ce===I&&++le===_&&(X=B),(_e=fe.nextSibling)!==null)break;fe=ce,ce=fe.parentNode}fe=_e}f=q===-1||X===-1?null:{start:q,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(uh={focusedElem:s,selectionRange:f},jl=!1,Re=i;Re!==null;)if(i=Re,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Re=s;else for(;Re!==null;){i=Re;try{var Pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var De=Pe.memoizedProps,Lt=Pe.memoizedState,Q=i.stateNode,Y=Q.getSnapshotBeforeUpdate(i.elementType===i.type?De:Cn(i.type,De),Lt);Q.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var Z=i.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){Pt(i,i.return,he)}if(s=i.sibling,s!==null){s.return=i.return,Re=s;break}Re=i.return}return Pe=$b,$b=!1,Pe}function fc(s,i,f){var _=i.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&s)===s){var I=k.destroy;k.destroy=void 0,I!==void 0&&Jh(i,f,I)}k=k.next}while(k!==_)}}function fu(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&s)===s){var _=f.create;f.destroy=_()}f=f.next}while(f!==i)}}function Qh(s){var i=s.ref;if(i!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof i=="function"?i(s):i.current=s}}function Fb(s){var i=s.alternate;i!==null&&(s.alternate=null,Fb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[ns],delete i[tc],delete i[hh],delete i[zP],delete i[BP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function zb(s){return s.tag===5||s.tag===3||s.tag===4}function Bb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zh(s,i,f){var _=s.tag;if(_===5||_===6)s=s.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(s,i):f.insertBefore(s,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(s,f)):(i=f,i.appendChild(s)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=Vl));else if(_!==4&&(s=s.child,s!==null))for(Zh(s,i,f),s=s.sibling;s!==null;)Zh(s,i,f),s=s.sibling}function em(s,i,f){var _=s.tag;if(_===5||_===6)s=s.stateNode,i?f.insertBefore(s,i):f.appendChild(s);else if(_!==4&&(s=s.child,s!==null))for(em(s,i,f),s=s.sibling;s!==null;)em(s,i,f),s=s.sibling}var tr=null,Rn=!1;function oo(s,i,f){for(f=f.child;f!==null;)Ub(s,i,f),f=f.sibling}function Ub(s,i,f){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(Rl,f)}catch{}switch(f.tag){case 5:pr||Hi(f,i);case 6:var _=tr,k=Rn;tr=null,oo(s,i,f),tr=_,Rn=k,tr!==null&&(Rn?(s=tr,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):tr.removeChild(f.stateNode));break;case 18:tr!==null&&(Rn?(s=tr,f=f.stateNode,s.nodeType===8?ph(s.parentNode,f):s.nodeType===1&&ph(s,f),Ha(s)):ph(tr,f.stateNode));break;case 4:_=tr,k=Rn,tr=f.stateNode.containerInfo,Rn=!0,oo(s,i,f),tr=_,Rn=k;break;case 0:case 11:case 14:case 15:if(!pr&&(_=f.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){k=_=_.next;do{var I=k,B=I.destroy;I=I.tag,B!==void 0&&((I&2)!==0||(I&4)!==0)&&Jh(f,i,B),k=k.next}while(k!==_)}oo(s,i,f);break;case 1:if(!pr&&(Hi(f,i),_=f.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=f.memoizedProps,_.state=f.memoizedState,_.componentWillUnmount()}catch(q){Pt(f,i,q)}oo(s,i,f);break;case 21:oo(s,i,f);break;case 22:f.mode&1?(pr=(_=pr)||f.memoizedState!==null,oo(s,i,f),pr=_):oo(s,i,f);break;default:oo(s,i,f)}}function Vb(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new nD),i.forEach(function(_){var k=pD.bind(null,s,_);f.has(_)||(f.add(_),_.then(k,k))})}}function En(s,i){var f=i.deletions;if(f!==null)for(var _=0;_<f.length;_++){var k=f[_];try{var I=s,B=i,q=B;e:for(;q!==null;){switch(q.tag){case 5:tr=q.stateNode,Rn=!1;break e;case 3:tr=q.stateNode.containerInfo,Rn=!0;break e;case 4:tr=q.stateNode.containerInfo,Rn=!0;break e}q=q.return}if(tr===null)throw Error(r(160));Ub(I,B,k),tr=null,Rn=!1;var X=k.alternate;X!==null&&(X.return=null),k.return=null}catch(ee){Pt(k,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Hb(i,s),i=i.sibling}function Hb(s,i){var f=s.alternate,_=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(En(i,s),is(s),_&4){try{fc(3,s,s.return),fu(3,s)}catch(De){Pt(s,s.return,De)}try{fc(5,s,s.return)}catch(De){Pt(s,s.return,De)}}break;case 1:En(i,s),is(s),_&512&&f!==null&&Hi(f,f.return);break;case 5:if(En(i,s),is(s),_&512&&f!==null&&Hi(f,f.return),s.flags&32){var k=s.stateNode;try{dt(k,"")}catch(De){Pt(s,s.return,De)}}if(_&4&&(k=s.stateNode,k!=null)){var I=s.memoizedProps,B=f!==null?f.memoizedProps:I,q=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{q==="input"&&I.type==="radio"&&I.name!=null&&lt(k,I),jp(q,B);var ee=jp(q,I);for(B=0;B<X.length;B+=2){var le=X[B],fe=X[B+1];le==="style"?Ct(k,fe):le==="dangerouslySetInnerHTML"?Ze(k,fe):le==="children"?dt(k,fe):p(k,le,fe,ee)}switch(q){case"input":pe(k,I);break;case"textarea":me(k,I);break;case"select":var ce=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!I.multiple;var _e=I.value;_e!=null?We(k,!!I.multiple,_e,!1):ce!==!!I.multiple&&(I.defaultValue!=null?We(k,!!I.multiple,I.defaultValue,!0):We(k,!!I.multiple,I.multiple?[]:"",!1))}k[tc]=I}catch(De){Pt(s,s.return,De)}}break;case 6:if(En(i,s),is(s),_&4){if(s.stateNode===null)throw Error(r(162));k=s.stateNode,I=s.memoizedProps;try{k.nodeValue=I}catch(De){Pt(s,s.return,De)}}break;case 3:if(En(i,s),is(s),_&4&&f!==null&&f.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(De){Pt(s,s.return,De)}break;case 4:En(i,s),is(s);break;case 13:En(i,s),is(s),k=s.child,k.flags&8192&&(I=k.memoizedState!==null,k.stateNode.isHidden=I,!I||k.alternate!==null&&k.alternate.memoizedState!==null||(nm=Nt())),_&4&&Vb(s);break;case 22:if(le=f!==null&&f.memoizedState!==null,s.mode&1?(pr=(ee=pr)||le,En(i,s),pr=ee):En(i,s),is(s),_&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!le&&(s.mode&1)!==0)for(Re=s,le=s.child;le!==null;){for(fe=Re=le;Re!==null;){switch(ce=Re,_e=ce.child,ce.tag){case 0:case 11:case 14:case 15:fc(4,ce,ce.return);break;case 1:Hi(ce,ce.return);var Pe=ce.stateNode;if(typeof Pe.componentWillUnmount=="function"){_=ce,f=ce.return;try{i=_,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(De){Pt(_,f,De)}}break;case 5:Hi(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Gb(fe);continue}}_e!==null?(_e.return=ce,Re=_e):Gb(fe)}le=le.sibling}e:for(le=null,fe=s;;){if(fe.tag===5){if(le===null){le=fe;try{k=fe.stateNode,ee?(I=k.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(q=fe.stateNode,X=fe.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null,q.style.display=Oe("display",B))}catch(De){Pt(s,s.return,De)}}}else if(fe.tag===6){if(le===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(De){Pt(s,s.return,De)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;le===fe&&(le=null),fe=fe.return}le===fe&&(le=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:En(i,s),is(s),_&4&&Vb(s);break;case 21:break;default:En(i,s),is(s)}}function is(s){var i=s.flags;if(i&2){try{e:{for(var f=s.return;f!==null;){if(zb(f)){var _=f;break e}f=f.return}throw Error(r(160))}switch(_.tag){case 5:var k=_.stateNode;_.flags&32&&(dt(k,""),_.flags&=-33);var I=Bb(s);em(s,I,k);break;case 3:case 4:var B=_.stateNode.containerInfo,q=Bb(s);Zh(s,q,B);break;default:throw Error(r(161))}}catch(X){Pt(s,s.return,X)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function oD(s,i,f){Re=s,Wb(s)}function Wb(s,i,f){for(var _=(s.mode&1)!==0;Re!==null;){var k=Re,I=k.child;if(k.tag===22&&_){var B=k.memoizedState!==null||du;if(!B){var q=k.alternate,X=q!==null&&q.memoizedState!==null||pr;q=du;var ee=pr;if(du=B,(pr=X)&&!ee)for(Re=k;Re!==null;)B=Re,X=B.child,B.tag===22&&B.memoizedState!==null?Kb(k):X!==null?(X.return=B,Re=X):Kb(k);for(;I!==null;)Re=I,Wb(I),I=I.sibling;Re=k,du=q,pr=ee}qb(s)}else(k.subtreeFlags&8772)!==0&&I!==null?(I.return=k,Re=I):qb(s)}}function qb(s){for(;Re!==null;){var i=Re;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:pr||fu(5,i);break;case 1:var _=i.stateNode;if(i.flags&4&&!pr)if(f===null)_.componentDidMount();else{var k=i.elementType===i.type?f.memoizedProps:Cn(i.type,f.memoizedProps);_.componentDidUpdate(k,f.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var I=i.updateQueue;I!==null&&GS(i,I,_);break;case 3:var B=i.updateQueue;if(B!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}GS(i,B,f)}break;case 5:var q=i.stateNode;if(f===null&&i.flags&4){f=q;var X=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&f.focus();break;case"img":X.src&&(f.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var fe=le.dehydrated;fe!==null&&Ha(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}pr||i.flags&512&&Qh(i)}catch(ce){Pt(i,i.return,ce)}}if(i===s){Re=null;break}if(f=i.sibling,f!==null){f.return=i.return,Re=f;break}Re=i.return}}function Gb(s){for(;Re!==null;){var i=Re;if(i===s){Re=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Re=f;break}Re=i.return}}function Kb(s){for(;Re!==null;){var i=Re;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{fu(4,i)}catch(X){Pt(i,f,X)}break;case 1:var _=i.stateNode;if(typeof _.componentDidMount=="function"){var k=i.return;try{_.componentDidMount()}catch(X){Pt(i,k,X)}}var I=i.return;try{Qh(i)}catch(X){Pt(i,I,X)}break;case 5:var B=i.return;try{Qh(i)}catch(X){Pt(i,B,X)}}}catch(X){Pt(i,i.return,X)}if(i===s){Re=null;break}var q=i.sibling;if(q!==null){q.return=i.return,Re=q;break}Re=i.return}}var iD=Math.ceil,pu=h.ReactCurrentDispatcher,tm=h.ReactCurrentOwner,cn=h.ReactCurrentBatchConfig,ut=0,Jt=null,$t=null,rr=0,Gr=0,Wi=eo(0),Wt=0,pc=null,$o=0,hu=0,rm=0,hc=null,jr=null,nm=0,qi=1/0,Rs=null,mu=!1,sm=null,io=null,gu=!1,ao=null,vu=0,mc=0,om=null,yu=-1,wu=0;function wr(){return(ut&6)!==0?Nt():yu!==-1?yu:yu=Nt()}function co(s){return(s.mode&1)===0?1:(ut&2)!==0&&rr!==0?rr&-rr:VP.transition!==null?(wu===0&&(wu=Bw()),wu):(s=ht,s!==0||(s=window.event,s=s===void 0?16:Yw(s.type)),s)}function Tn(s,i,f,_){if(50<mc)throw mc=0,om=null,Error(r(185));Fa(s,f,_),((ut&2)===0||s!==Jt)&&(s===Jt&&((ut&2)===0&&(hu|=f),Wt===4&&lo(s,rr)),Ir(s,_),f===1&&ut===0&&(i.mode&1)===0&&(qi=Nt()+500,Gl&&ro()))}function Ir(s,i){var f=s.callbackNode;Vk(s,i);var _=kl(s,s===Jt?rr:0);if(_===0)f!==null&&$w(f),s.callbackNode=null,s.callbackPriority=0;else if(i=_&-_,s.callbackPriority!==i){if(f!=null&&$w(f),i===1)s.tag===0?UP(Yb.bind(null,s)):LS(Yb.bind(null,s)),$P(function(){(ut&6)===0&&ro()}),f=null;else{switch(Uw(_)){case 1:f=$p;break;case 4:f=Fw;break;case 16:f=Cl;break;case 536870912:f=zw;break;default:f=Cl}f=s0(f,Xb.bind(null,s))}s.callbackPriority=i,s.callbackNode=f}}function Xb(s,i){if(yu=-1,wu=0,(ut&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Gi()&&s.callbackNode!==f)return null;var _=kl(s,s===Jt?rr:0);if(_===0)return null;if((_&30)!==0||(_&s.expiredLanes)!==0||i)i=Su(s,_);else{i=_;var k=ut;ut|=2;var I=Qb();(Jt!==s||rr!==i)&&(Rs=null,qi=Nt()+500,zo(s,i));do try{lD();break}catch(q){Jb(s,q)}while(!0);xh(),pu.current=I,ut=k,$t!==null?i=0:(Jt=null,rr=0,i=Wt)}if(i!==0){if(i===2&&(k=Fp(s),k!==0&&(_=k,i=im(s,k))),i===1)throw f=pc,zo(s,0),lo(s,_),Ir(s,Nt()),f;if(i===6)lo(s,_);else{if(k=s.current.alternate,(_&30)===0&&!aD(k)&&(i=Su(s,_),i===2&&(I=Fp(s),I!==0&&(_=I,i=im(s,I))),i===1))throw f=pc,zo(s,0),lo(s,_),Ir(s,Nt()),f;switch(s.finishedWork=k,s.finishedLanes=_,i){case 0:case 1:throw Error(r(345));case 2:Bo(s,jr,Rs);break;case 3:if(lo(s,_),(_&130023424)===_&&(i=nm+500-Nt(),10<i)){if(kl(s,0)!==0)break;if(k=s.suspendedLanes,(k&_)!==_){wr(),s.pingedLanes|=s.suspendedLanes&k;break}s.timeoutHandle=fh(Bo.bind(null,s,jr,Rs),i);break}Bo(s,jr,Rs);break;case 4:if(lo(s,_),(_&4194240)===_)break;for(i=s.eventTimes,k=-1;0<_;){var B=31-bn(_);I=1<<B,B=i[B],B>k&&(k=B),_&=~I}if(_=k,_=Nt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*iD(_/1960))-_,10<_){s.timeoutHandle=fh(Bo.bind(null,s,jr,Rs),_);break}Bo(s,jr,Rs);break;case 5:Bo(s,jr,Rs);break;default:throw Error(r(329))}}}return Ir(s,Nt()),s.callbackNode===f?Xb.bind(null,s):null}function im(s,i){var f=hc;return s.current.memoizedState.isDehydrated&&(zo(s,i).flags|=256),s=Su(s,i),s!==2&&(i=jr,jr=f,i!==null&&am(i)),s}function am(s){jr===null?jr=s:jr.push.apply(jr,s)}function aD(s){for(var i=s;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var _=0;_<f.length;_++){var k=f[_],I=k.getSnapshot;k=k.value;try{if(!_n(I(),k))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function lo(s,i){for(i&=~rm,i&=~hu,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var f=31-bn(i),_=1<<f;s[f]=-1,i&=~_}}function Yb(s){if((ut&6)!==0)throw Error(r(327));Gi();var i=kl(s,0);if((i&1)===0)return Ir(s,Nt()),null;var f=Su(s,i);if(s.tag!==0&&f===2){var _=Fp(s);_!==0&&(i=_,f=im(s,_))}if(f===1)throw f=pc,zo(s,0),lo(s,i),Ir(s,Nt()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Bo(s,jr,Rs),Ir(s,Nt()),null}function cm(s,i){var f=ut;ut|=1;try{return s(i)}finally{ut=f,ut===0&&(qi=Nt()+500,Gl&&ro())}}function Fo(s){ao!==null&&ao.tag===0&&(ut&6)===0&&Gi();var i=ut;ut|=1;var f=cn.transition,_=ht;try{if(cn.transition=null,ht=1,s)return s()}finally{ht=_,cn.transition=f,ut=i,(ut&6)===0&&ro()}}function lm(){Gr=Wi.current,wt(Wi)}function zo(s,i){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,AP(f)),$t!==null)for(f=$t.return;f!==null;){var _=f;switch(yh(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Wl();break;case 3:Ui(),wt(kr),wt(ur),jh();break;case 5:Ph(_);break;case 4:Ui();break;case 13:wt(Rt);break;case 19:wt(Rt);break;case 10:Ch(_.type._context);break;case 22:case 23:lm()}f=f.return}if(Jt=s,$t=s=uo(s.current,null),rr=Gr=i,Wt=0,pc=null,rm=hu=$o=0,jr=hc=null,Lo!==null){for(i=0;i<Lo.length;i++)if(f=Lo[i],_=f.interleaved,_!==null){f.interleaved=null;var k=_.next,I=f.pending;if(I!==null){var B=I.next;I.next=k,_.next=B}f.pending=_}Lo=null}return s}function Jb(s,i){do{var f=$t;try{if(xh(),nu.current=au,su){for(var _=Et.memoizedState;_!==null;){var k=_.queue;k!==null&&(k.pending=null),_=_.next}su=!1}if(Ao=0,Yt=Ht=Et=null,ac=!1,cc=0,tm.current=null,f===null||f.return===null){Wt=1,pc=i,$t=null;break}e:{var I=s,B=f.return,q=f,X=i;if(i=rr,q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ee=X,le=q,fe=le.tag;if((le.mode&1)===0&&(fe===0||fe===11||fe===15)){var ce=le.alternate;ce?(le.updateQueue=ce.updateQueue,le.memoizedState=ce.memoizedState,le.lanes=ce.lanes):(le.updateQueue=null,le.memoizedState=null)}var _e=_b(B);if(_e!==null){_e.flags&=-257,xb(_e,B,q,I,i),_e.mode&1&&bb(I,ee,i),i=_e,X=ee;var Pe=i.updateQueue;if(Pe===null){var De=new Set;De.add(X),i.updateQueue=De}else Pe.add(X);break e}else{if((i&1)===0){bb(I,ee,i),um();break e}X=Error(r(426))}}else if(_t&&q.mode&1){var Lt=_b(B);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),xb(Lt,B,q,I,i),bh(Vi(X,q));break e}}I=X=Vi(X,q),Wt!==4&&(Wt=2),hc===null?hc=[I]:hc.push(I),I=B;do{switch(I.tag){case 3:I.flags|=65536,i&=-i,I.lanes|=i;var Q=wb(I,X,i);qS(I,Q);break e;case 1:q=X;var Y=I.type,Z=I.stateNode;if((I.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(io===null||!io.has(Z)))){I.flags|=65536,i&=-i,I.lanes|=i;var he=Sb(I,q,i);qS(I,he);break e}}I=I.return}while(I!==null)}e0(f)}catch(Ae){i=Ae,$t===f&&f!==null&&($t=f=f.return);continue}break}while(!0)}function Qb(){var s=pu.current;return pu.current=au,s===null?au:s}function um(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Jt===null||($o&268435455)===0&&(hu&268435455)===0||lo(Jt,rr)}function Su(s,i){var f=ut;ut|=2;var _=Qb();(Jt!==s||rr!==i)&&(Rs=null,zo(s,i));do try{cD();break}catch(k){Jb(s,k)}while(!0);if(xh(),ut=f,pu.current=_,$t!==null)throw Error(r(261));return Jt=null,rr=0,Wt}function cD(){for(;$t!==null;)Zb($t)}function lD(){for(;$t!==null&&!Nk();)Zb($t)}function Zb(s){var i=n0(s.alternate,s,Gr);s.memoizedProps=s.pendingProps,i===null?e0(s):$t=i,tm.current=null}function e0(s){var i=s;do{var f=i.alternate;if(s=i.return,(i.flags&32768)===0){if(f=tD(f,i,Gr),f!==null){$t=f;return}}else{if(f=rD(f,i),f!==null){f.flags&=32767,$t=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Wt=6,$t=null;return}}if(i=i.sibling,i!==null){$t=i;return}$t=i=s}while(i!==null);Wt===0&&(Wt=5)}function Bo(s,i,f){var _=ht,k=cn.transition;try{cn.transition=null,ht=1,uD(s,i,f,_)}finally{cn.transition=k,ht=_}return null}function uD(s,i,f,_){do Gi();while(ao!==null);if((ut&6)!==0)throw Error(r(327));f=s.finishedWork;var k=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var I=f.lanes|f.childLanes;if(Hk(s,I),s===Jt&&($t=Jt=null,rr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||gu||(gu=!0,s0(Cl,function(){return Gi(),null})),I=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||I){I=cn.transition,cn.transition=null;var B=ht;ht=1;var q=ut;ut|=4,tm.current=null,sD(s,f),Hb(f,s),DP(uh),jl=!!lh,uh=lh=null,s.current=f,oD(f),Lk(),ut=q,ht=B,cn.transition=I}else s.current=f;if(gu&&(gu=!1,ao=s,vu=k),I=s.pendingLanes,I===0&&(io=null),$k(f.stateNode),Ir(s,Nt()),i!==null)for(_=s.onRecoverableError,f=0;f<i.length;f++)k=i[f],_(k.value,{componentStack:k.stack,digest:k.digest});if(mu)throw mu=!1,s=sm,sm=null,s;return(vu&1)!==0&&s.tag!==0&&Gi(),I=s.pendingLanes,(I&1)!==0?s===om?mc++:(mc=0,om=s):mc=0,ro(),null}function Gi(){if(ao!==null){var s=Uw(vu),i=cn.transition,f=ht;try{if(cn.transition=null,ht=16>s?16:s,ao===null)var _=!1;else{if(s=ao,ao=null,vu=0,(ut&6)!==0)throw Error(r(331));var k=ut;for(ut|=4,Re=s.current;Re!==null;){var I=Re,B=I.child;if((Re.flags&16)!==0){var q=I.deletions;if(q!==null){for(var X=0;X<q.length;X++){var ee=q[X];for(Re=ee;Re!==null;){var le=Re;switch(le.tag){case 0:case 11:case 15:fc(8,le,I)}var fe=le.child;if(fe!==null)fe.return=le,Re=fe;else for(;Re!==null;){le=Re;var ce=le.sibling,_e=le.return;if(Fb(le),le===ee){Re=null;break}if(ce!==null){ce.return=_e,Re=ce;break}Re=_e}}}var Pe=I.alternate;if(Pe!==null){var De=Pe.child;if(De!==null){Pe.child=null;do{var Lt=De.sibling;De.sibling=null,De=Lt}while(De!==null)}}Re=I}}if((I.subtreeFlags&2064)!==0&&B!==null)B.return=I,Re=B;else e:for(;Re!==null;){if(I=Re,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:fc(9,I,I.return)}var Q=I.sibling;if(Q!==null){Q.return=I.return,Re=Q;break e}Re=I.return}}var Y=s.current;for(Re=Y;Re!==null;){B=Re;var Z=B.child;if((B.subtreeFlags&2064)!==0&&Z!==null)Z.return=B,Re=Z;else e:for(B=Y;Re!==null;){if(q=Re,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:fu(9,q)}}catch(Ae){Pt(q,q.return,Ae)}if(q===B){Re=null;break e}var he=q.sibling;if(he!==null){he.return=q.return,Re=he;break e}Re=q.return}}if(ut=k,ro(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(Rl,s)}catch{}_=!0}return _}finally{ht=f,cn.transition=i}}return!1}function t0(s,i,f){i=Vi(f,i),i=wb(s,i,1),s=so(s,i,1),i=wr(),s!==null&&(Fa(s,1,i),Ir(s,i))}function Pt(s,i,f){if(s.tag===3)t0(s,s,f);else for(;i!==null;){if(i.tag===3){t0(i,s,f);break}else if(i.tag===1){var _=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(io===null||!io.has(_))){s=Vi(f,s),s=Sb(i,s,1),i=so(i,s,1),s=wr(),i!==null&&(Fa(i,1,s),Ir(i,s));break}}i=i.return}}function dD(s,i,f){var _=s.pingCache;_!==null&&_.delete(i),i=wr(),s.pingedLanes|=s.suspendedLanes&f,Jt===s&&(rr&f)===f&&(Wt===4||Wt===3&&(rr&130023424)===rr&&500>Nt()-nm?zo(s,0):rm|=f),Ir(s,i)}function r0(s,i){i===0&&((s.mode&1)===0?i=1:(i=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var f=wr();s=_s(s,i),s!==null&&(Fa(s,i,f),Ir(s,f))}function fD(s){var i=s.memoizedState,f=0;i!==null&&(f=i.retryLane),r0(s,f)}function pD(s,i){var f=0;switch(s.tag){case 13:var _=s.stateNode,k=s.memoizedState;k!==null&&(f=k.retryLane);break;case 19:_=s.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(i),r0(s,f)}var n0;n0=function(s,i,f){if(s!==null)if(s.memoizedProps!==i.pendingProps||kr.current)Dr=!0;else{if((s.lanes&f)===0&&(i.flags&128)===0)return Dr=!1,eD(s,i,f);Dr=(s.flags&131072)!==0}else Dr=!1,_t&&(i.flags&1048576)!==0&&OS(i,Xl,i.index);switch(i.lanes=0,i.tag){case 2:var _=i.type;uu(s,i),s=i.pendingProps;var k=Li(i,ur.current);Bi(i,f),k=Nh(null,i,_,s,k,f);var I=Lh();return i.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pr(_)?(I=!0,ql(i)):I=!1,i.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Th(i),k.updater=cu,i.stateNode=k,k._reactInternals=i,Bh(i,_,s,f),i=Wh(null,i,_,!0,I,f)):(i.tag=0,_t&&I&&vh(i),yr(null,i,k,f),i=i.child),i;case 16:_=i.elementType;e:{switch(uu(s,i),s=i.pendingProps,k=_._init,_=k(_._payload),i.type=_,k=i.tag=mD(_),s=Cn(_,s),k){case 0:i=Hh(null,i,_,s,f);break e;case 1:i=Pb(null,i,_,s,f);break e;case 11:i=Cb(null,i,_,s,f);break e;case 14:i=Rb(null,i,_,Cn(_.type,s),f);break e}throw Error(r(306,_,""))}return i;case 0:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:Cn(_,k),Hh(s,i,_,k,f);case 1:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:Cn(_,k),Pb(s,i,_,k,f);case 3:e:{if(Db(i),s===null)throw Error(r(387));_=i.pendingProps,I=i.memoizedState,k=I.element,WS(s,i),tu(i,_,null,f);var B=i.memoizedState;if(_=B.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},i.updateQueue.baseState=I,i.memoizedState=I,i.flags&256){k=Vi(Error(r(423)),i),i=jb(s,i,_,f,k);break e}else if(_!==k){k=Vi(Error(r(424)),i),i=jb(s,i,_,f,k);break e}else for(qr=Zs(i.stateNode.containerInfo.firstChild),Wr=i,_t=!0,xn=null,f=VS(i,null,_,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($i(),_===k){i=Cs(s,i,f);break e}yr(s,i,_,f)}i=i.child}return i;case 5:return KS(i),s===null&&Sh(i),_=i.type,k=i.pendingProps,I=s!==null?s.memoizedProps:null,B=k.children,dh(_,k)?B=null:I!==null&&dh(_,I)&&(i.flags|=32),kb(s,i),yr(s,i,B,f),i.child;case 6:return s===null&&Sh(i),null;case 13:return Ib(s,i,f);case 4:return kh(i,i.stateNode.containerInfo),_=i.pendingProps,s===null?i.child=Fi(i,null,_,f):yr(s,i,_,f),i.child;case 11:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:Cn(_,k),Cb(s,i,_,k,f);case 7:return yr(s,i,i.pendingProps,f),i.child;case 8:return yr(s,i,i.pendingProps.children,f),i.child;case 12:return yr(s,i,i.pendingProps.children,f),i.child;case 10:e:{if(_=i.type._context,k=i.pendingProps,I=i.memoizedProps,B=k.value,vt(Ql,_._currentValue),_._currentValue=B,I!==null)if(_n(I.value,B)){if(I.children===k.children&&!kr.current){i=Cs(s,i,f);break e}}else for(I=i.child,I!==null&&(I.return=i);I!==null;){var q=I.dependencies;if(q!==null){B=I.child;for(var X=q.firstContext;X!==null;){if(X.context===_){if(I.tag===1){X=xs(-1,f&-f),X.tag=2;var ee=I.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?X.next=X:(X.next=le.next,le.next=X),ee.pending=X}}I.lanes|=f,X=I.alternate,X!==null&&(X.lanes|=f),Rh(I.return,f,i),q.lanes|=f;break}X=X.next}}else if(I.tag===10)B=I.type===i.type?null:I.child;else if(I.tag===18){if(B=I.return,B===null)throw Error(r(341));B.lanes|=f,q=B.alternate,q!==null&&(q.lanes|=f),Rh(B,f,i),B=I.sibling}else B=I.child;if(B!==null)B.return=I;else for(B=I;B!==null;){if(B===i){B=null;break}if(I=B.sibling,I!==null){I.return=B.return,B=I;break}B=B.return}I=B}yr(s,i,k.children,f),i=i.child}return i;case 9:return k=i.type,_=i.pendingProps.children,Bi(i,f),k=on(k),_=_(k),i.flags|=1,yr(s,i,_,f),i.child;case 14:return _=i.type,k=Cn(_,i.pendingProps),k=Cn(_.type,k),Rb(s,i,_,k,f);case 15:return Eb(s,i,i.type,i.pendingProps,f);case 17:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:Cn(_,k),uu(s,i),i.tag=1,Pr(_)?(s=!0,ql(i)):s=!1,Bi(i,f),vb(i,_,k),Bh(i,_,k,f),Wh(null,i,_,!0,s,f);case 19:return Nb(s,i,f);case 22:return Tb(s,i,f)}throw Error(r(156,i.tag))};function s0(s,i){return Aw(s,i)}function hD(s,i,f,_){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(s,i,f,_){return new hD(s,i,f,_)}function dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mD(s){if(typeof s=="function")return dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===O)return 11;if(s===K)return 14}return 2}function uo(s,i){var f=s.alternate;return f===null?(f=ln(s.tag,i,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=i,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,i=s.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function bu(s,i,f,_,k,I){var B=2;if(_=s,typeof s=="function")dm(s)&&(B=1);else if(typeof s=="string")B=5;else e:switch(s){case D:return Uo(f.children,k,I,i);case j:B=8,k|=8;break;case N:return s=ln(12,f,i,k|2),s.elementType=N,s.lanes=I,s;case V:return s=ln(13,f,i,k),s.elementType=V,s.lanes=I,s;case W:return s=ln(19,f,i,k),s.elementType=W,s.lanes=I,s;case F:return _u(f,k,I,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:B=10;break e;case A:B=9;break e;case O:B=11;break e;case K:B=14;break e;case L:B=16,_=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return i=ln(B,f,i,k),i.elementType=s,i.type=_,i.lanes=I,i}function Uo(s,i,f,_){return s=ln(7,s,_,i),s.lanes=f,s}function _u(s,i,f,_){return s=ln(22,s,_,i),s.elementType=F,s.lanes=f,s.stateNode={isHidden:!1},s}function fm(s,i,f){return s=ln(6,s,null,i),s.lanes=f,s}function pm(s,i,f){return i=ln(4,s.children!==null?s.children:[],s.key,i),i.lanes=f,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function gD(s,i,f,_,k){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=_,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function hm(s,i,f,_,k,I,B,q,X){return s=new gD(s,i,f,q,X),i===1?(i=1,I===!0&&(i|=8)):i=0,I=ln(3,null,null,i),s.current=I,I.stateNode=s,I.memoizedState={element:_,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(I),s}function vD(s,i,f){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:_==null?null:""+_,children:s,containerInfo:i,implementation:f}}function o0(s){if(!s)return to;s=s._reactInternals;e:{if(Do(s)!==s||s.tag!==1)throw Error(r(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(Pr(f))return MS(s,f,i)}return i}function i0(s,i,f,_,k,I,B,q,X){return s=hm(f,_,!0,s,k,I,B,q,X),s.context=o0(null),f=s.current,_=wr(),k=co(f),I=xs(_,k),I.callback=i??null,so(f,I,k),s.current.lanes=k,Fa(s,k,_),Ir(s,_),s}function xu(s,i,f,_){var k=i.current,I=wr(),B=co(k);return f=o0(f),i.context===null?i.context=f:i.pendingContext=f,i=xs(I,B),i.payload={element:s},_=_===void 0?null:_,_!==null&&(i.callback=_),s=so(k,i,B),s!==null&&(Tn(s,k,B,I),eu(s,k,B)),B}function Cu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function a0(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<i?f:i}}function mm(s,i){a0(s,i),(s=s.alternate)&&a0(s,i)}function yD(){return null}var c0=typeof reportError=="function"?reportError:function(s){console.error(s)};function gm(s){this._internalRoot=s}Ru.prototype.render=gm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));xu(s,i,null,null)},Ru.prototype.unmount=gm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Fo(function(){xu(null,s,null,null)}),i[ys]=null}};function Ru(s){this._internalRoot=s}Ru.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ww();s={blockedOn:null,target:s,priority:i};for(var f=0;f<Ys.length&&i!==0&&i<Ys[f].priority;f++);Ys.splice(f,0,s),f===0&&Kw(s)}};function vm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Eu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function l0(){}function wD(s,i,f,_,k){if(k){if(typeof _=="function"){var I=_;_=function(){var ee=Cu(B);I.call(ee)}}var B=i0(i,_,s,0,null,!1,!1,"",l0);return s._reactRootContainer=B,s[ys]=B.current,Za(s.nodeType===8?s.parentNode:s),Fo(),B}for(;k=s.lastChild;)s.removeChild(k);if(typeof _=="function"){var q=_;_=function(){var ee=Cu(X);q.call(ee)}}var X=hm(s,0,!1,null,null,!1,!1,"",l0);return s._reactRootContainer=X,s[ys]=X.current,Za(s.nodeType===8?s.parentNode:s),Fo(function(){xu(i,X,f,_)}),X}function Tu(s,i,f,_,k){var I=f._reactRootContainer;if(I){var B=I;if(typeof k=="function"){var q=k;k=function(){var X=Cu(B);q.call(X)}}xu(i,B,s,k)}else B=wD(f,i,s,k,_);return Cu(B)}Vw=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var f=$a(i.pendingLanes);f!==0&&(Bp(i,f|1),Ir(i,Nt()),(ut&6)===0&&(qi=Nt()+500,ro()))}break;case 13:Fo(function(){var _=_s(s,1);if(_!==null){var k=wr();Tn(_,s,1,k)}}),mm(s,1)}},Up=function(s){if(s.tag===13){var i=_s(s,134217728);if(i!==null){var f=wr();Tn(i,s,134217728,f)}mm(s,134217728)}},Hw=function(s){if(s.tag===13){var i=co(s),f=_s(s,i);if(f!==null){var _=wr();Tn(f,s,i,_)}mm(s,i)}},Ww=function(){return ht},qw=function(s,i){var f=ht;try{return ht=s,i()}finally{ht=f}},Np=function(s,i,f){switch(i){case"input":if(pe(s,f),i=f.name,f.type==="radio"&&i!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var _=f[i];if(_!==s&&_.form===s.form){var k=Hl(_);if(!k)throw Error(r(90));Ee(_),pe(_,k)}}}break;case"textarea":me(s,f);break;case"select":i=f.value,i!=null&&We(s,!!f.multiple,i,!1)}},Dw=cm,jw=Fo;var SD={usingClientEntryPoint:!1,Events:[rc,Mi,Hl,kw,Pw,cm]},gc={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bD={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Lw(s),s===null?null:s.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||yD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Rl=ku.inject(bD),rs=ku}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD,Mr.createPortal=function(s,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(i))throw Error(r(200));return vD(s,i,null,f)},Mr.createRoot=function(s,i){if(!vm(s))throw Error(r(299));var f=!1,_="",k=c0;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(_=i.identifierPrefix),i.onRecoverableError!==void 0&&(k=i.onRecoverableError)),i=hm(s,1,!1,null,null,f,!1,_,k),s[ys]=i.current,Za(s.nodeType===8?s.parentNode:s),new gm(i)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Lw(i),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return Fo(s)},Mr.hydrate=function(s,i,f){if(!Eu(i))throw Error(r(200));return Tu(null,s,i,!0,f)},Mr.hydrateRoot=function(s,i,f){if(!vm(s))throw Error(r(405));var _=f!=null&&f.hydratedSources||null,k=!1,I="",B=c0;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(I=f.identifierPrefix),f.onRecoverableError!==void 0&&(B=f.onRecoverableError)),i=i0(i,null,s,1,f??null,k,!1,I,B),s[ys]=i.current,Za(s),_)for(s=0;s<_.length;s++)f=_[s],k=f._getVersion,k=k(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,k]:i.mutableSourceEagerHydrationData.push(f,k);return new Ru(i)},Mr.render=function(s,i,f){if(!Eu(i))throw Error(r(200));return Tu(null,s,i,!1,f)},Mr.unmountComponentAtNode=function(s){if(!Eu(s))throw Error(r(40));return s._reactRootContainer?(Fo(function(){Tu(null,null,s,!1,function(){s._reactRootContainer=null,s[ys]=null})}),!0):!1},Mr.unstable_batchedUpdates=cm,Mr.unstable_renderSubtreeIntoContainer=function(s,i,f,_){if(!Eu(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Tu(s,i,f,!1,_)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var v0;function jx(){if(v0)return bm.exports;v0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bm.exports=ID(),bm.exports}var y0;function MD(){if(y0)return Pu;y0=1;var e=jx();return Pu.createRoot=e.createRoot,Pu.hydrateRoot=e.hydrateRoot,Pu}var ND=MD(),P=vf();const xt=Pv(P),Ix=RD({__proto__:null,default:xt},[P]);var Cm={exports:{}},Rm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function LD(){if(w0)return Rm;w0=1;var e=vf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,c=e.useMemo,l=e.useDebugValue;return Rm.useSyncExternalStoreWithSelector=function(u,d,m,y,v){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function C(b){if(!T){if(T=!0,R=b,b=y(b),v!==void 0&&S.hasValue){var E=S.value;if(v(E,b))return p=E}return p=b}if(E=p,r(R,b))return E;var D=y(b);return v!==void 0&&v(E,D)?(R=b,E):(R=b,p=D)}var T=!1,R,p,h=m===void 0?null:m;return[function(){return C(d())},h===null?void 0:function(){return C(h())}]},[d,m,y,v]);var x=n(u,w[0],w[1]);return a(function(){S.hasValue=!0,S.value=x},[x]),l(x),x},Rm}var S0;function OD(){return S0||(S0=1,Cm.exports=LD()),Cm.exports}var AD=OD();function $D(e){e()}function FD(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$D(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var b0={notify(){},get:()=>[]};function zD(e,t){let r,n=b0,o=0,a=!1;function c(x){m();const C=n.subscribe(x);let T=!1;return()=>{T||(T=!0,C(),y())}}function l(){n.notify()}function u(){S.onStateChange&&S.onStateChange()}function d(){return a}function m(){o++,r||(r=e.subscribe(u),n=FD())}function y(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=b0)}function v(){a||(a=!0,m())}function w(){a&&(a=!1,y())}const S={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>n};return S}var BD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UD=BD(),VD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HD=VD(),WD=()=>UD||HD?P.useLayoutEffect:P.useEffect,qD=WD(),Em=Symbol.for("react-redux-context"),Tm=typeof globalThis<"u"?globalThis:{};function GD(){if(!P.createContext)return{};const e=Tm[Em]??(Tm[Em]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var bo=GD();function KD(e){const{children:t,context:r,serverState:n,store:o}=e,a=P.useMemo(()=>{const u=zD(o);return{store:o,subscription:u,getServerState:n?()=>n:void 0}},[o,n]),c=P.useMemo(()=>o.getState(),[o]);qD(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,c]);const l=r||bo;return P.createElement(l.Provider,{value:a},t)}var XD=KD;function Dv(e=bo){return function(){return P.useContext(e)}}var Mx=Dv();function Nx(e=bo){const t=e===bo?Mx:Dv(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var YD=Nx();function JD(e=bo){const t=e===bo?YD:Nx(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var QD=JD(),ZD=(e,t)=>e===t;function ej(e=bo){const t=e===bo?Mx:Dv(e),r=(n,o={})=>{const{equalityFn:a=ZD}=typeof o=="function"?{equalityFn:o}:o,c=t(),{store:l,subscription:u,getServerState:d}=c;P.useRef(!0);const m=P.useCallback({[n.name](v){return n(v)}}[n.name],[n]),y=AD.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,d||l.getState,m,a);return P.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var tj=ej(),us=function(){return us=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},us.apply(this,arguments)};function Lx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function rj(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ku="right-scroll-bar-position",Xu="width-before-scroll-bar",nj="with-scroll-bars-hidden",sj="--removed-body-scroll-bar-size";function km(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oj(e,t){var r=P.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var ij=typeof window<"u"?P.useLayoutEffect:P.useEffect,_0=new WeakMap;function aj(e,t){var r=oj(null,function(n){return e.forEach(function(o){return km(o,n)})});return ij(function(){var n=_0.get(r);if(n){var o=new Set(n),a=new Set(e),c=r.current;o.forEach(function(l){a.has(l)||km(l,null)}),a.forEach(function(l){o.has(l)||km(l,c)})}_0.set(r,e)},[e]),r}function cj(e){return e}function lj(e,t){t===void 0&&(t=cj);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(a),c=r}var u=function(){var m=c;c=[],m.forEach(a)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(m){c.push(m),d()},filter:function(m){return c=c.filter(m),r}}}};return o}function uj(e){e===void 0&&(e={});var t=lj(null);return t.options=us({async:!0,ssr:!1},e),t}var Ox=function(e){var t=e.sideCar,r=Lx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,us({},r))};Ox.isSideCarExport=!0;function dj(e,t){return e.useMedium(t),Ox}var Ax=uj(),Pm=function(){},yf=P.forwardRef(function(e,t){var r=P.useRef(null),n=P.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),o=n[0],a=n[1],c=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,m=e.enabled,y=e.shards,v=e.sideCar,w=e.noIsolation,S=e.inert,x=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,R=e.gapMode,p=Lx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),h=v,b=aj([r,t]),E=us(us({},p),o);return P.createElement(P.Fragment,null,m&&P.createElement(h,{sideCar:Ax,removeScrollBar:d,shards:y,noIsolation:w,inert:S,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:R}),c?P.cloneElement(P.Children.only(l),us(us({},E),{ref:b})):P.createElement(T,us({},E,{className:u,ref:b}),l))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:Xu,zeroRight:Ku};var fj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fj();return t&&e.setAttribute("nonce",t),e}function hj(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mj(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gj=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pj())&&(hj(t,r),mj(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vj=function(){var e=gj();return function(t,r){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$x=function(){var e=vj(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},yj={left:0,top:0,right:0,gap:0},Dm=function(e){return parseInt(e||"",10)||0},wj=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Dm(r),Dm(n),Dm(o)]},Sj=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yj;var t=wj(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},bj=$x(),sa="data-scroll-locked",_j=function(e,t,r,n){var o=e.left,a=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(nj,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ku,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(sj,": ").concat(l,`px;
  }
`)},x0=function(){var e=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(e)?e:0},xj=function(){P.useEffect(function(){return document.body.setAttribute(sa,(x0()+1).toString()),function(){var e=x0()-1;e<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,e.toString())}},[])},Cj=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;xj();var a=P.useMemo(function(){return Sj(o)},[o]);return P.createElement(bj,{styles:_j(a,!t,o,r?"":"!important")})},Ng=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return Ng=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Ng=!1}var Ki=Ng?{passive:!1}:!1,Rj=function(e){return e.tagName==="TEXTAREA"},Fx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Rj(e)&&r[t]==="visible")},Ej=function(e){return Fx(e,"overflowY")},Tj=function(e){return Fx(e,"overflowX")},C0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=zx(e,n);if(o){var a=Bx(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kj=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Pj=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zx=function(e,t){return e==="v"?Ej(t):Tj(t)},Bx=function(e,t){return e==="v"?kj(t):Pj(t)},Dj=function(e,t){return e==="h"&&t==="rtl"?-1:1},jj=function(e,t,r,n,o){var a=Dj(e,window.getComputedStyle(t).direction),c=a*n,l=r.target,u=t.contains(l),d=!1,m=c>0,y=0,v=0;do{var w=Bx(e,l),S=w[0],x=w[1],C=w[2],T=x-C-a*S;(S||T)&&zx(e,l)&&(y+=T,v+=S),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(d=!0),d},ju=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R0=function(e){return[e.deltaX,e.deltaY]},E0=function(e){return e&&"current"in e?e.current:e},Ij=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Mj=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Nj=0,Xi=[];function Lj(e){var t=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),o=P.useState(Nj++)[0],a=P.useState($x)[0],c=P.useRef(e);P.useEffect(function(){c.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=rj([e.lockRef.current],(e.shards||[]).map(E0),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=P.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!c.current.allowPinchZoom;var T=ju(x),R=r.current,p="deltaX"in x?x.deltaX:R[0]-T[0],h="deltaY"in x?x.deltaY:R[1]-T[1],b,E=x.target,D=Math.abs(p)>Math.abs(h)?"h":"v";if("touches"in x&&D==="h"&&E.type==="range")return!1;var j=C0(D,E);if(!j)return!0;if(j?b=D:(b=D==="v"?"h":"v",j=C0(D,E)),!j)return!1;if(!n.current&&"changedTouches"in x&&(p||h)&&(n.current=b),!b)return!0;var N=n.current||b;return jj(N,C,x,N==="h"?p:h)},[]),u=P.useCallback(function(x){var C=x;if(!(!Xi.length||Xi[Xi.length-1]!==a)){var T="deltaY"in C?R0(C):ju(C),R=t.current.filter(function(b){return b.name===C.type&&(b.target===C.target||C.target===b.shadowParent)&&Ij(b.delta,T)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var p=(c.current.shards||[]).map(E0).filter(Boolean).filter(function(b){return b.contains(C.target)}),h=p.length>0?l(C,p[0]):!c.current.noIsolation;h&&C.cancelable&&C.preventDefault()}}},[]),d=P.useCallback(function(x,C,T,R){var p={name:x,delta:C,target:T,should:R,shadowParent:Oj(T)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(h){return h!==p})},1)},[]),m=P.useCallback(function(x){r.current=ju(x),n.current=void 0},[]),y=P.useCallback(function(x){d(x.type,R0(x),x.target,l(x,e.lockRef.current))},[]),v=P.useCallback(function(x){d(x.type,ju(x),x.target,l(x,e.lockRef.current))},[]);P.useEffect(function(){return Xi.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Ki),document.addEventListener("touchmove",u,Ki),document.addEventListener("touchstart",m,Ki),function(){Xi=Xi.filter(function(x){return x!==a}),document.removeEventListener("wheel",u,Ki),document.removeEventListener("touchmove",u,Ki),document.removeEventListener("touchstart",m,Ki)}},[]);var w=e.removeScrollBar,S=e.inert;return P.createElement(P.Fragment,null,S?P.createElement(a,{styles:Mj(o)}):null,w?P.createElement(Cj,{gapMode:e.gapMode}):null)}function Oj(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Aj=dj(Ax,Lj);var Kd=P.forwardRef(function(e,t){return P.createElement(yf,us({},e,{ref:t,sideCar:Aj}))});Kd.classNames=yf.classNames;function Bt(e){return Object.keys(e)}function jm(e){return e&&typeof e=="object"&&!Array.isArray(e)}function jv(e,t){const r={...e},n=t;return jm(e)&&jm(t)&&Object.keys(t).forEach(o=>{jm(n[o])&&o in e?r[o]=jv(r[o],n[o]):r[o]=n[o]}),r}function $j(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Fj(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Gc(e){const t=Fj(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Im(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Ux(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const o=`${n/16}${e}`;return t?Im(o):o}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?Im(n):n;const o=n.replace("px","");if(!Number.isNaN(Number(o))){const a=`${Number(o)/16}${e}`;return t?Im(a):a}}return n}return r}const ne=Ux("rem",{shouldScale:!0}),T0=Ux("em");function Co(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function Vx(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Ro(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==P.Fragment:!1}function tn(e){const t=P.createContext(null);return[({children:o,value:a})=>g.jsx(t.Provider,{value:a,children:o}),()=>{const o=P.useContext(t);if(o===null)throw new Error(e);return o}]}function pi(e=null){const t=P.createContext(e);return[({children:o,value:a})=>g.jsx(t.Provider,{value:a,children:o}),()=>P.useContext(t)]}function k0(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function Xd(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function zj(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function Bj(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function Uj(e,t,r){return Xd(e,r)===Xd(t,r)}function Hx({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:o=!1,dir:a="rtl",orientation:c}){return l=>{var S;r==null||r(l);const u=Array.from(((S=Xd(l.currentTarget,e))==null?void 0:S.querySelectorAll(t))||[]).filter(x=>Uj(l.currentTarget,x,e)),d=u.findIndex(x=>l.currentTarget===x),m=Bj(d,u,n),y=zj(d,u,n),v=a==="rtl"?y:m,w=a==="rtl"?m:y;switch(l.key){case"ArrowRight":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),u[v].focus(),o&&u[v].click());break}case"ArrowLeft":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),u[w].focus(),o&&u[w].click());break}case"ArrowUp":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),u[y].focus(),o&&u[y].click());break}case"ArrowDown":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),u[m].focus(),o&&u[m].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const x=u.length-1;!u[x].disabled&&u[x].focus();break}}}}const Vj={app:100,modal:200,popover:300,overlay:400,max:9999};function Br(e){return Vj[e]}const Lg=()=>{};function Hj(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Lg:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Qe(e,t="size",r=!0){if(e!==void 0)return Vx(e)?r?ne(e):e:`var(--${t}-${e})`}function Zt(e){return Qe(e,"mantine-spacing")}function kt(e){return e===void 0?"var(--mantine-radius-default)":Qe(e,"mantine-radius")}function ir(e){return Qe(e,"mantine-font-size")}function Wj(e){return Qe(e,"mantine-line-height",!1)}function Iv(e){if(e)return Qe(e,"mantine-shadow",!1)}function Lr(e,t){return r=>{e==null||e(r),t==null||t(r)}}function qj(e,t){return e in t?Gc(t[e]):Gc(e)}function Mv(e,t){const r=e.map(n=>({value:n,px:qj(n,t)}));return r.sort((n,o)=>n.px-o.px),r}function qn(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Gj(e,t,r){var n;return r?Array.from(((n=Xd(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(o=>o===r):null}function Kj(){const[e,t]=P.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Gn(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function Wx(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Yo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const Xj=()=>{};function wf(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,o=Yo(e),a=P.useRef(0),c=Object.assign(P.useCallback((...l)=>{window.clearTimeout(a.current);const u=()=>{a.current!==0&&(a.current=0,o(...l))};c.flush=u,a.current=window.setTimeout(u,r)},[o,r]),{flush:Xj});return P.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const P0=["mousedown","touchstart"];function Yj(e,t,r){const n=P.useRef(null);return P.useEffect(()=>{const o=a=>{const{target:c}=a??{};if(Array.isArray(r)){const l=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(d=>!!d&&!a.composedPath().includes(d))&&!l&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||P0).forEach(a=>document.addEventListener(a,o)),()=>{(t||P0).forEach(a=>document.removeEventListener(a,o))}},[n,e,r]),n}function Jj({timeout:e=2e3}={}){const[t,r]=P.useState(null),[n,o]=P.useState(!1),[a,c]=P.useState(null),l=m=>{window.clearTimeout(a),c(window.setTimeout(()=>o(!1),e)),o(m)};return{copy:m=>{"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>l(!0)).catch(y=>r(y)):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),r(null),window.clearTimeout(a)},error:t,copied:n}}function Qj(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Zj(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function eI(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,o]=P.useState(r?t:Zj(e)),a=P.useRef(null);return P.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),o(a.current.matches),Qj(a.current,c=>o(c.matches))},[e]),n}const va=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Fr(e,t){const r=P.useRef(!1);P.useEffect(()=>()=>{r.current=!1},[]),P.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function qx({opened:e,shouldReturnFocus:t=!0}){const r=P.useRef(null),n=()=>{var o;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((o=r.current)==null||o.focus({preventScroll:!0}))};return Fr(()=>{let o=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(o=window.setTimeout(n,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",a)}},[e,t]),n}const tI=/input|select|textarea|button|object/,Gx="a, input, select, textarea, button, object, [tabindex]";function rI(e){return e.style.display==="none"}function nI(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(rI(r))return!1;r=r.parentNode}return!0}function Kx(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Og(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(Kx(e));return(tI.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&nI(e)}function Xx(e){const t=Kx(e);return(Number.isNaN(t)||t>=0)&&Og(e)}function sI(e){return Array.from(e.querySelectorAll(Gx)).filter(Xx)}function oI(e,t){const r=sI(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],o=e.getRootNode();let a=n===o.activeElement||e===o.activeElement;const c=o.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(m=>m.getAttribute("type")==="radio"&&m.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const u=r[t.shiftKey?r.length-1:0];u&&u.focus()}function iI(e=!0){const t=P.useRef(null),r=o=>{let a=o.querySelector("[data-autofocus]");if(!a){const c=Array.from(o.querySelectorAll(Gx));a=c.find(Xx)||c.find(Og)||null,!a&&Og(o)&&(a=o)}a&&a.focus({preventScroll:!0})},n=P.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),t.current=o):t.current=null)},[e]);return P.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const o=a=>{a.key==="Tab"&&t.current&&oI(t.current,a)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),n}const aI=e=>(e+1)%1e6;function cI(){const[,e]=P.useReducer(aI,0);return e}const lI=xt.useId||(()=>{});function uI(){const e=lI();return e?`mantine-${e.replace(/:/g,"")}`:""}function As(e){const t=uI(),[r,n]=P.useState(t);return va(()=>{n(Wx())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function dI(e,t,r){P.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Yd(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Yx(...e){const t=new Map;return r=>{if(e.forEach(n=>{const o=Yd(n,r);o&&t.set(n,o)}),t.size>0)return()=>{e.forEach(n=>{const o=t.get(n);o?o():Yd(n,null)}),t.clear()}}}function Kt(...e){return P.useCallback(Yx(...e),e)}function Jx(e){return{x:Gn(e.x,0,1),y:Gn(e.y,0,1)}}function Nv(e,t,r="ltr"){const n=P.useRef(null),o=P.useRef(!1),a=P.useRef(!1),c=P.useRef(0),[l,u]=P.useState(!1);return P.useEffect(()=>{o.current=!0},[]),P.useEffect(()=>{const d=n.current,m=({x:p,y:h})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(o.current&&d){d.style.userSelect="none";const b=d.getBoundingClientRect();if(b.width&&b.height){const E=Gn((p-b.left)/b.width,0,1);e({x:r==="ltr"?E:1-E,y:Gn((h-b.top)/b.height,0,1)})}}})},y=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",S),document.addEventListener("touchmove",R),document.addEventListener("touchend",S)},v=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",S)},w=()=>{!a.current&&o.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),y())},S=()=>{a.current&&o.current&&(a.current=!1,u(!1),v(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},x=p=>{w(),p.preventDefault(),C(p)},C=p=>m({x:p.clientX,y:p.clientY}),T=p=>{p.cancelable&&p.preventDefault(),w(),R(p)},R=p=>{p.cancelable&&p.preventDefault(),m({x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY})};return d==null||d.addEventListener("mousedown",x),d==null||d.addEventListener("touchstart",T,{passive:!1}),()=>{d&&(d.removeEventListener("mousedown",x),d.removeEventListener("touchstart",T))}},[r,e]),{ref:n,active:l}}function Er({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[o,a]=P.useState(t!==void 0?t:r),c=(l,...u)=>{a(l),n==null||n(l,...u)};return e!==void 0?[e,n,!0]:[o,c,!1]}function po(e,t){const r=t-e+1;return Array.from({length:r},(n,o)=>o+e)}const Iu="dots";function fI({total:e,siblings:t=1,boundaries:r=1,page:n,initialPage:o=1,onChange:a}){const c=Math.max(Math.trunc(e),0),[l,u]=Er({value:n,onChange:a,defaultValue:o,finalValue:o}),d=x=>{x<=0?u(1):x>c?u(c):u(x)},m=()=>d(l+1),y=()=>d(l-1),v=()=>d(1),w=()=>d(c);return{range:P.useMemo(()=>{if(t*2+3+r*2>=c)return po(1,c);const C=Math.max(l-t,r),T=Math.min(l+t,c-r),R=C>r+2,p=T<c-(r+1);if(!R&&p){const h=t*2+r+2;return[...po(1,h),Iu,...po(c-(r-1),c)]}if(R&&!p){const h=r+1+2*t;return[...po(1,r),Iu,...po(c-h,c)]}return[...po(1,r),Iu,...po(C,T),Iu,...po(c-r+1,c)]},[c,t,l]),active:l,setPage:d,next:m,previous:y,first:v,last:w}}function Sf(e,t){return eI("(prefers-reduced-motion: reduce)",e,t)}function Dt(e=!1,t){const{onOpen:r,onClose:n}={},[o,a]=P.useState(e),c=P.useCallback(()=>{a(d=>d||(r==null||r(),!0))},[r]),l=P.useCallback(()=>{a(d=>d&&(n==null||n(),!1))},[n]),u=P.useCallback(()=>{o?l():c()},[l,c,o]);return[o,{open:c,close:l,toggle:u}]}function pI(e){const t=P.useRef(void 0);return P.useEffect(()=>{t.current=e},[e]),t.current}function hI(){return navigator.userAgent.includes("OPR")}function mI(){const[e,t]=P.useState(!1);va(()=>{t(typeof window<"u"&&!hI()&&"EyeDropper"in window)},[]);const r=P.useCallback((n={})=>e?new window.EyeDropper().open(n):Promise.resolve(void 0),[e]);return{supported:e,open:r}}var gI={};function vI(){return typeof process<"u"&&gI?"production":"development"}function D0(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function bf(e){var r;const t=xt.version;return typeof xt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function Qx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Qx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Qx(e))&&(n&&(n+=" "),n+=t);return n}const yI={};function wI(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,o])=>{t[n]?t[n]=Gt(t[n],o):t[n]=o})}),t}function _f({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||yI);return wI(a)}function Jd({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const Zx=P.createContext(null);function Eo(){const e=P.useContext(Zx);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function SI(){return Eo().cssVariablesResolver}function bI(){return Eo().classNamesPrefix}function Lv(){return Eo().getStyleNonce}function _I(){return Eo().withStaticClasses}function xI(){return Eo().headless}function CI(){var e;return(e=Eo().stylesTransform)==null?void 0:e.sx}function RI(){var e;return(e=Eo().stylesTransform)==null?void 0:e.styles}function eC(){return Eo().env||"default"}function EI(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function TI(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,o=r>>8&255,a=r&255;return{r:n,g:o,b:a,a:1}}function kI(e){const[t,r,n,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:o||1}}function PI(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),o=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,l=(1-Math.abs(2*a-1))*o,u=n/60,d=l*(1-Math.abs(u%2-1)),m=a-l/2;let y,v,w;return u>=0&&u<1?(y=l,v=d,w=0):u>=1&&u<2?(y=d,v=l,w=0):u>=2&&u<3?(y=0,v=l,w=d):u>=3&&u<4?(y=0,v=d,w=l):u>=4&&u<5?(y=d,v=0,w=l):(y=l,v=0,w=d),{r:Math.round((y+m)*255),g:Math.round((v+m)*255),b:Math.round((w+m)*255),a:c||1}}function Ov(e){return EI(e)?TI(e):e.startsWith("rgb")?kI(e):e.startsWith("hsl")?PI(e):{r:0,g:0,b:0,a:1}}function Mu(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:o,a}=Ov(e),c=1-t,l=u=>Math.round(u*c);return`rgba(${l(r)}, ${l(n)}, ${l(o)}, ${a})`}function Kc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Mm(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function DI(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function jI(e){if(e.startsWith("oklch("))return(DI(e)||0)/100;const{r:t,g:r,b:n}=Ov(e),o=t/255,a=r/255,c=n/255,l=Mm(o),u=Mm(a),d=Mm(c);return .2126*l+.7152*u+.0722*d}function yc(e,t=.179){return e.startsWith("var(")?!1:jI(e)>t}function ya({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:yc(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:yc(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:yc(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,o]=e.split("."),a=o?Number(o):void 0,c=n in t.colors;if(c){const l=a!==void 0?t.colors[n][a]:t.colors[n][Kc(t,r||"light")];return{color:n,value:l,shade:a,isThemeColor:c,isLight:yc(l,t.luminanceThreshold),variable:o?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:yc(e,t.luminanceThreshold),shade:a,variable:void 0}}function gr(e,t){const r=ya({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function Ag(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=gr(r.from,t),o=gr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${o} 100%)`}function ls(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:o}=Ov(e);return`rgba(${r}, ${n}, ${o}, ${t})`}const Yi=ls,II=({color:e,theme:t,variant:r,gradient:n,autoContrast:o})=>{const a=ya({color:e,theme:t}),c=typeof o=="boolean"?o:t.autoContrast;if(r==="filled"){const l=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${ne(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:l,border:`${ne(1)} solid transparent`}:{background:e,hover:Mu(e,.1),color:l,border:`${ne(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:ls(l,.1),hover:ls(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${ne(1)} solid transparent`}}return{background:ls(e,.1),hover:ls(e,.12),color:e,border:`${ne(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${ne(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:ls(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${ne(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:ls(e,.05),color:e,border:`${ne(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:"transparent",hover:ls(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${ne(1)} solid transparent`}}return{background:"transparent",hover:ls(e,.12),color:e,border:`${ne(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${ne(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${ne(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:Mu(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${ne(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Mu(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${ne(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Mu(t.white,.01),color:e,border:`${ne(1)} solid transparent`}:r==="gradient"?{background:Ag(n,t),hover:Ag(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ne(1)} solid var(--mantine-color-default-border)`}:{}},MI={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},j0="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Av={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:MI,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:II,autoContrast:!1,luminanceThreshold:.3,fontFamily:j0,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:j0,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ne(34),lineHeight:"1.3"},h2:{fontSize:ne(26),lineHeight:"1.35"},h3:{fontSize:ne(22),lineHeight:"1.4"},h4:{fontSize:ne(18),lineHeight:"1.45"},h5:{fontSize:ne(16),lineHeight:"1.5"},h6:{fontSize:ne(14),lineHeight:"1.5"}}},fontSizes:{xs:ne(12),sm:ne(14),md:ne(16),lg:ne(18),xl:ne(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ne(2),sm:ne(4),md:ne(8),lg:ne(16),xl:ne(32)},spacing:{xs:ne(10),sm:ne(12),md:ne(16),lg:ne(20),xl:ne(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), 0 ${ne(1)} ${ne(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(10)} ${ne(15)} ${ne(-5)}, rgba(0, 0, 0, 0.04) 0 ${ne(7)} ${ne(7)} ${ne(-5)}`,md:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(20)} ${ne(25)} ${ne(-5)}, rgba(0, 0, 0, 0.04) 0 ${ne(10)} ${ne(10)} ${ne(-5)}`,lg:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(28)} ${ne(23)} ${ne(-7)}, rgba(0, 0, 0, 0.04) 0 ${ne(12)} ${ne(12)} ${ne(-7)}`,xl:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(36)} ${ne(28)} ${ne(-7)}, rgba(0, 0, 0, 0.04) 0 ${ne(17)} ${ne(17)} ${ne(-7)}`},other:{},components:{}};function I0(e){return e==="auto"||e==="dark"||e==="light"}function NI({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return I0(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&I0(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const LI="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",M0="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Nm(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function N0(e){if(!(e.primaryColor in e.colors))throw new Error(LI);if(typeof e.primaryShade=="object"&&(!Nm(e.primaryShade.dark)||!Nm(e.primaryShade.light)))throw new Error(M0);if(typeof e.primaryShade=="number"&&!Nm(e.primaryShade))throw new Error(M0)}function OI(e,t){var n;if(!t)return N0(e),e;const r=jv(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),N0(r),r}const $v=P.createContext(null),AI=()=>P.useContext($v)||Av;function er(){const e=P.useContext($v);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function tC({theme:e,children:t,inherit:r=!0}){const n=AI(),o=P.useMemo(()=>OI(r?n:Av,e),[e,n,r]);return g.jsx($v.Provider,{value:o,children:t})}tC.displayName="@mantine/core/MantineThemeProvider";function $I(){const e=er(),t=Lv(),r=Bt(e.breakpoints).reduce((n,o)=>{const a=e.breakpoints[o].includes("px"),c=Gc(e.breakpoints[o]),l=a?`${c-.1}px`:T0(c-.1),u=a?`${c}px`:T0(c);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Lm(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function wc(e,t){return(Array.isArray(e)?e:[e]).reduce((n,o)=>`${o}{${n}}`,t)}function FI(e,t){const r=Lm(e.variables),n=r?wc(t,r):"",o=Lm(e.dark),a=Lm(e.light),c=o?wc(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",l=a?wc(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${l}`}function xf({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&ya({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function L0(e,t){return xf({color:e.colors[e.primaryColor][Kc(e,t)],theme:e,autoContrast:null})}function Nu({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(r==="light"){const l=Kc(e,"light"),u={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:Yi(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:Yi(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:Yi(e.colors[t][l],.05)};return o?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...u}:u}const a=Kc(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:Yi(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:Yi(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Yi(e.colors[t][Math.max(a-4,0)],.05)};return o?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function zI(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ji(e,t,r){Bt(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const rC=e=>{const t=Kc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:ne(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":L0(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":L0(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ji(n.variables,e.breakpoints,"breakpoint"),Ji(n.variables,e.spacing,"spacing"),Ji(n.variables,e.fontSizes,"font-size"),Ji(n.variables,e.lineHeights,"line-height"),Ji(n.variables,e.shadows,"shadow"),Ji(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),Bt(e.colors).forEach(a=>{const c=e.colors[a];if(zI(c)){Object.assign(n.light,Nu({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,Nu({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((l,u)=>{n.variables[`--mantine-color-${a}-${u}`]=l}),Object.assign(n.light,Nu({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,Nu({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return Bt(o).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=o[a].fontSize,n.variables[`--mantine-${a}-line-height`]=o[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=o[a].fontWeight||e.headings.fontWeight}),n};function BI({theme:e,generator:t}){const r=rC(e),n=t==null?void 0:t(e);return n?jv(r,n):r}const Om=rC(Av);function UI(e){const t={variables:{},light:{},dark:{}};return Bt(e.variables).forEach(r=>{Om.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Bt(e.light).forEach(r=>{Om.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Bt(e.dark).forEach(r=>{Om.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function VI(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function nC({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=er(),n=Lv(),o=SI(),a=BI({theme:r,generator:o}),c=e===":root"&&t,l=c?UI(a):a,u=FI(l,e);return u?g.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${u}${c?"":VI(e)}`}}):null}nC.displayName="@mantine/CssVariables";function HI(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Qi(e,t){var o,a;const r=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function WI({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const o=P.useRef(null),[a,c]=P.useState(()=>e.get(t)),l=n||a,u=P.useCallback(m=>{n||(Qi(m,r),c(m),e.set(m))},[e.set,l,n]),d=P.useCallback(()=>{c(t),Qi(t,r),e.clear()},[e.clear,t]);return P.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),va(()=>{Qi(e.get(t),r)},[]),P.useEffect(()=>{var y;if(n)return Qi(n,r),()=>{};n===void 0&&Qi(a,r),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const m=v=>{a==="auto"&&Qi(v.matches?"dark":"light",r)};return(y=o.current)==null||y.addEventListener("change",m),()=>{var v;return(v=o.current)==null?void 0:v.removeEventListener("change",m)}},[a,n]),{colorScheme:l,setColorScheme:u,clearColorScheme:d}}function qI({respectReducedMotion:e,getRootElement:t}){va(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}HI();function sC({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:o=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=NI(),defaultColorScheme:m="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:v,forceColorScheme:w,stylesTransform:S,env:x}){const{colorScheme:C,setColorScheme:T,clearColorScheme:R}=WI({defaultColorScheme:m,forceColorScheme:w,manager:d,getRootElement:y});return qI({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:y}),g.jsx(Zx.Provider,{value:{colorScheme:C,setColorScheme:T,clearColorScheme:R,getRootElement:y,classNamesPrefix:u,getStyleNonce:r,cssVariablesResolver:v,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:S,env:x},children:g.jsxs(tC,{theme:e,children:[c&&g.jsx(nC,{cssVariablesSelector:l,deduplicateCssVariables:a}),o&&g.jsx($I,{}),t]})})}sC.displayName="@mantine/core/MantineProvider";function hi({classNames:e,styles:t,props:r,stylesCtx:n}){const o=er();return{resolvedClassNames:_f({theme:o,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:Jd({theme:o,styles:t,props:r,stylesCtx:n||void 0})}}const GI={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function KI({theme:e,options:t,unstyled:r}){return Gt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||GI[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function XI({selector:e,stylesCtx:t,options:r,props:n,theme:o}){return _f({theme:o,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function O0({selector:e,stylesCtx:t,theme:r,classNames:n,props:o}){return _f({theme:r,classNames:n,props:o,stylesCtx:t})[e]}function YI({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function JI({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function QI({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(o=>`${t}-${o}-${r}`)}function ZI({themeName:e,theme:t,selector:r,props:n,stylesCtx:o}){return e.map(a=>{var c,l;return(l=_f({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:o}))==null?void 0:l[r]})}function e2({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function t2({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:o,classNames:a,classes:c,unstyled:l,className:u,rootSelector:d,props:m,stylesCtx:y,withStaticClasses:v,headless:w,transformedStyles:S}){return Gt(KI({theme:e,options:t,unstyled:l||w}),ZI({theme:e,themeName:r,selector:n,props:m,stylesCtx:y}),e2({options:t,classes:c,selector:n,unstyled:l}),O0({selector:n,stylesCtx:y,theme:e,classNames:a,props:m}),O0({selector:n,stylesCtx:y,theme:e,classNames:S,props:m}),XI({selector:n,stylesCtx:y,options:t,props:m,theme:e}),YI({rootSelector:d,selector:n,className:u}),JI({selector:n,classes:c,unstyled:l||w}),v&&!w&&QI({themeName:r,classNamesPrefix:o,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function r2({theme:e,themeName:t,props:r,stylesCtx:n,selector:o}){return t.map(a=>{var c;return Jd({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[o]}).reduce((a,c)=>({...a,...c}),{})}function $g({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...$g({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function n2(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Co(r[n])}}),t),{})}function s2({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:o,selector:a,themeName:c,headless:l}){var u;return(u=n2([l?{}:t==null?void 0:t(r,n,o),...c.map(d=>{var m,y,v;return(v=(y=(m=r.components)==null?void 0:m[d])==null?void 0:y.vars)==null?void 0:v.call(y,r,n,o)}),e==null?void 0:e(r,n,o)]))==null?void 0:u[a]}function o2({theme:e,themeName:t,selector:r,options:n,props:o,stylesCtx:a,rootSelector:c,styles:l,style:u,vars:d,varsResolver:m,headless:y,withStylesTransform:v}){return{...!v&&r2({theme:e,themeName:t,props:o,stylesCtx:a,selector:r}),...!v&&Jd({theme:e,styles:l,props:o,stylesCtx:a})[r],...!v&&Jd({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||o,stylesCtx:a})[r],...s2({theme:e,props:o,stylesCtx:a,vars:d,varsResolver:m,selector:r,themeName:t,headless:y}),...c===r?$g({style:u,theme:e}):null,...$g({style:n==null?void 0:n.style,theme:e})}}function i2({props:e,stylesCtx:t,themeName:r}){var c;const n=er(),o=(c=RI())==null?void 0:c();return{getTransformedStyles:l=>o?[...l.map(d=>o(d,{props:e,theme:n,ctx:t})),...r.map(d=>{var m;return o((m=n.components[d])==null?void 0:m.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function ze({name:e,classes:t,props:r,stylesCtx:n,className:o,style:a,rootSelector:c="root",unstyled:l,classNames:u,styles:d,vars:m,varsResolver:y}){const v=er(),w=bI(),S=_I(),x=xI(),C=(Array.isArray(e)?e:[e]).filter(p=>p),{withStylesTransform:T,getTransformedStyles:R}=i2({props:r,stylesCtx:n,themeName:C});return(p,h)=>({className:t2({theme:v,options:h,themeName:C,selector:p,classNamesPrefix:w,classNames:u,classes:t,unstyled:l,className:o,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:S,headless:x,transformedStyles:R([h==null?void 0:h.styles,d])}),style:o2({theme:v,themeName:C,selector:p,options:h,props:r,stylesCtx:n,rootSelector:c,styles:d,style:a,vars:m,varsResolver:y,headless:x,withStylesTransform:T})})}function Fv(e,t){return typeof e=="boolean"?e:t.autoContrast}function ie(e,t,r){var c;const n=er(),o=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof o=="function"?o(n):o;return{...t,...a,...Co(r)}}function Am(e){return Bt(e).reduce((t,r)=>e[r]!==void 0?`${t}${$j(r)}:${e[r]};`:t,"").trim()}function a2({selector:e,styles:t,media:r,container:n}){const o=t?Am(t):"",a=Array.isArray(r)?r.map(l=>`@media${l.query}{${e}{${Am(l.styles)}}}`):[],c=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${Am(l.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${a.join("")}${c.join("")}`.trim()}function wa(e){const t=Lv();return g.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:a2(e)}})}function sl(e){const{m:t,mx:r,my:n,mt:o,mb:a,ml:c,mr:l,me:u,ms:d,p:m,px:y,py:v,pt:w,pb:S,pl:x,pr:C,pe:T,ps:R,bd:p,bg:h,c:b,opacity:E,ff:D,fz:j,fw:N,lts:M,ta:A,lh:O,fs:V,tt:W,td:K,w:L,miw:F,maw:$,h:U,mih:H,mah:z,bgsz:G,bgp:se,bgr:de,bga:J,pos:oe,top:ue,left:ve,bottom:we,right:Ne,inset:ae,display:Ee,flex:rt,hiddenFrom:Ve,visibleFrom:Be,lightHidden:lt,darkHidden:pe,sx:Se,...ke}=e;return{styleProps:Co({m:t,mx:r,my:n,mt:o,mb:a,ml:c,mr:l,me:u,ms:d,p:m,px:y,py:v,pt:w,pb:S,pl:x,pr:C,pe:T,ps:R,bd:p,bg:h,c:b,opacity:E,ff:D,fz:j,fw:N,lts:M,ta:A,lh:O,fs:V,tt:W,td:K,w:L,miw:F,maw:$,h:U,mih:H,mah:z,bgsz:G,bgp:se,bgr:de,bga:J,pos:oe,top:ue,left:ve,bottom:we,right:Ne,inset:ae,display:Ee,flex:rt,hiddenFrom:Ve,visibleFrom:Be,lightHidden:lt,darkHidden:pe,sx:Se}),rest:ke}}const c2={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function zv(e,t){const r=ya({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function l2(e,t){const r=ya({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:zv(e,t)}function u2(e,t){if(typeof e=="number")return ne(e);if(typeof e=="string"){const[r,n,...o]=e.split(" ").filter(c=>c.trim()!=="");let a=`${ne(r)}`;return n&&(a+=` ${n}`),o.length>0&&(a+=` ${zv(o.join(" "),t)}`),a.trim()}return e}const A0={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function d2(e){return typeof e=="string"&&e in A0?A0[e]:e}const f2=["h1","h2","h3","h4","h5","h6"];function p2(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&f2.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?ne(e):e}function h2(e){return e}const m2=["h1","h2","h3","h4","h5","h6"];function g2(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&m2.includes(e)?`var(--mantine-${e}-line-height)`:e}function v2(e){return typeof e=="number"?ne(e):e}function y2(e,t){if(typeof e=="number")return ne(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return ne(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const $m={color:zv,textColor:l2,fontSize:p2,spacing:y2,identity:h2,size:v2,lineHeight:g2,fontFamily:d2,border:u2};function $0(e){return e.replace("(min-width: ","").replace("em)","")}function w2({media:e,...t}){const n=Object.keys(e).sort((o,a)=>Number($0(o))-Number($0(a))).map(o=>({query:o,styles:e[o]}));return{...t,media:n}}function S2(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function b2(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function _2(e){return typeof e=="object"&&e!==null?Bt(e).filter(t=>t!=="base"):[]}function x2(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function oC({styleProps:e,data:t,theme:r}){return w2(Bt(e).reduce((n,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return n;const a=t[o],c=Array.isArray(a.property)?a.property:[a.property],l=b2(e[o]);if(!S2(e[o]))return c.forEach(d=>{n.inlineStyles[d]=$m[a.type](l,r)}),n;n.hasResponsiveStyles=!0;const u=_2(e[o]);return c.forEach(d=>{l&&(n.styles[d]=$m[a.type](l,r)),u.forEach(m=>{const y=`(min-width: ${r.breakpoints[m]})`;n.media[y]={...n.media[y],[d]:$m[a.type](x2(e[o],m),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function ol(){return`__m__-${P.useId().replace(/:/g,"")}`}function Bv(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Bv(n,t)}),{}):typeof e=="function"?e(t):e??{}}function iC(e){return e.startsWith("data-")?e:`data-${e}`}function C2(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[iC(r)]=e[r]),t},{})}function aC(e){return e?typeof e=="string"?{[iC(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...aC(r)}),{}):C2(e):null}function Fg(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Fg(n,t)}),{}):typeof e=="function"?e(t):e??{}}function R2({theme:e,style:t,vars:r,styleProps:n}){const o=Fg(t,e),a=Fg(r,e);return{...o,...a,...n}}const cC=P.forwardRef(({component:e,style:t,__vars:r,className:n,variant:o,mod:a,size:c,hiddenFrom:l,visibleFrom:u,lightHidden:d,darkHidden:m,renderRoot:y,__size:v,...w},S)=>{var j;const x=er(),C=e||"div",{styleProps:T,rest:R}=sl(w),p=CI(),h=(j=p==null?void 0:p())==null?void 0:j(T.sx),b=ol(),E=oC({styleProps:T,theme:x,data:c2}),D={ref:S,style:R2({theme:x,style:t,vars:r,styleProps:E.inlineStyles}),className:Gt(n,h,{[b]:E.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":m,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":o,"data-size":Vx(c)?void 0:c||void 0,size:v,...aC(a),...R};return g.jsxs(g.Fragment,{children:[E.hasResponsiveStyles&&g.jsx(wa,{selector:`.${b}`,styles:E.styles,media:E.media}),typeof y=="function"?y(D):g.jsx(C,{...D})]})});cC.displayName="@mantine/core/Box";const re=cC;function lC(e){return e}function E2(e){const t=e;return r=>{const n=P.forwardRef((o,a)=>g.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function ye(e){const t=P.forwardRef(e);return t.extend=lC,t.withProps=r=>{const n=P.forwardRef((o,a)=>g.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function cr(e){const t=P.forwardRef(e);return t.withProps=r=>{const n=P.forwardRef((o,a)=>g.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=lC,t}const T2=P.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function To(){return P.useContext(T2)}var Cf=jx();const Nc=Pv(Cf);function k2(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Fm(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Sc=typeof window<"u"&&window.requestAnimationFrame;function P2({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const o=P.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[l,u]=P.useState(n?{}:c),d=S=>{Cf.flushSync(()=>u(S))},m=S=>{d(x=>({...x,...S}))};function y(S){const x=e||k2(S);return{transition:`height ${x}ms ${t}, opacity ${x}ms ${t}`}}Fr(()=>{typeof Sc=="function"&&Sc(n?()=>{m({willChange:"height",display:"block",overflow:"hidden"}),Sc(()=>{const S=Fm(o);m({...y(S),height:S})})}:()=>{const S=Fm(o);m({...y(S),willChange:"height",height:S}),Sc(()=>m({height:a,overflow:"hidden"}))})},[n]);const v=S=>{if(!(S.target!==o.current||S.propertyName!=="height"))if(n){const x=Fm(o);x===l.height?d({}):m({height:x}),r()}else l.height===a&&(d(c),r())};function w({style:S={},refKey:x="ref",...C}={}){const T=C[x];return{"aria-hidden":!n,...C,[x]:Yx(o,T),onTransitionEnd:v,style:{boxSizing:"border-box",...S,...l}}}return w}const D2={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Rf=ye((e,t)=>{const{children:r,in:n,transitionDuration:o,transitionTimingFunction:a,style:c,onTransitionEnd:l,animateOpacity:u,...d}=ie("Collapse",D2,e),m=er(),y=Sf(),w=(m.respectReducedMotion?y:!1)?0:o,S=P2({opened:n,transitionDuration:w,transitionTimingFunction:a,onTransitionEnd:l});return w===0?n?g.jsx(re,{...d,children:r}):null:g.jsx(re,{...S({style:{opacity:n||!u?1:0,transition:u?`opacity ${w}ms ${a}`:"none",...Bv(c,m)},ref:t,...d}),children:r})});Rf.displayName="@mantine/core/Collapse";function Ef(){return typeof window<"u"}function Sa(e){return uC(e)?(e.nodeName||"").toLowerCase():"#document"}function Or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gs(e){var t;return(t=(uC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uC(e){return Ef()?e instanceof Node||e instanceof Or(e).Node:!1}function St(e){return Ef()?e instanceof Element||e instanceof Or(e).Element:!1}function Jr(e){return Ef()?e instanceof HTMLElement||e instanceof Or(e).HTMLElement:!1}function zg(e){return!Ef()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Or(e).ShadowRoot}function il(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function j2(e){return["table","td","th"].includes(Sa(e))}function Tf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uv(e){const t=kf(),r=St(e)?hn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function I2(e){let t=Ms(e);for(;Jr(t)&&!_o(t);){if(Uv(t))return t;if(Tf(t))return null;t=Ms(t)}return null}function kf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _o(e){return["html","body","#document"].includes(Sa(e))}function hn(e){return Or(e).getComputedStyle(e)}function Pf(e){return St(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ms(e){if(Sa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zg(e)&&e.host||gs(e);return zg(t)?t.host:t}function dC(e){const t=Ms(e);return _o(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jr(t)&&il(t)?t:dC(t)}function ks(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=dC(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),c=Or(o);if(a){const l=Bg(c);return t.concat(c,c.visualViewport||[],il(o)?o:[],l&&r?ks(l):[])}return t.concat(o,ks(o,[],r))}function Bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function F0(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Xc(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&zg(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function fC(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function pC(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function M2(e){return O2()?!1:!z0()&&e.width===0&&e.height===0||z0()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function N2(){return/apple/i.test(navigator.vendor)}function z0(){const e=/android/i;return e.test(fC())||e.test(pC())}function L2(){return fC().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function O2(){return pC().includes("jsdom/")}function Ug(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function A2(e){return"nativeEvent"in e}function $2(e){return e.matches("html,body")}function Qo(e){return(e==null?void 0:e.ownerDocument)||document}function zm(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function ta(e){return"composedPath"in e?e.composedPath()[0]:e.target}const F2="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function z2(e){return Jr(e)&&e.matches(F2)}const Xn=Math.min,hr=Math.max,Qd=Math.round,Lu=Math.floor,ds=e=>({x:e,y:e}),B2={left:"right",right:"left",bottom:"top",top:"bottom"},U2={start:"end",end:"start"};function Vg(e,t,r){return hr(e,Xn(t,r))}function Ns(e,t){return typeof e=="function"?e(t):e}function Yn(e){return e.split("-")[0]}function ba(e){return e.split("-")[1]}function Vv(e){return e==="x"?"y":"x"}function Hv(e){return e==="y"?"height":"width"}function Ls(e){return["top","bottom"].includes(Yn(e))?"y":"x"}function Wv(e){return Vv(Ls(e))}function V2(e,t,r){r===void 0&&(r=!1);const n=ba(e),o=Wv(e),a=Hv(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Zd(c)),[c,Zd(c)]}function H2(e){const t=Zd(e);return[Hg(e),t,Hg(t)]}function Hg(e){return e.replace(/start|end/g,t=>U2[t])}function W2(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:c;default:return[]}}function q2(e,t,r,n){const o=ba(e);let a=W2(Yn(e),r==="start",n);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(Hg)))),a}function Zd(e){return e.replace(/left|right|bottom|top/g,t=>B2[t])}function G2(e){return{top:0,right:0,bottom:0,left:0,...e}}function qv(e){return typeof e!="number"?G2(e):{top:e,right:e,bottom:e,left:e}}function pa(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function B0(e,t,r){let{reference:n,floating:o}=e;const a=Ls(t),c=Wv(t),l=Hv(c),u=Yn(t),d=a==="y",m=n.x+n.width/2-o.width/2,y=n.y+n.height/2-o.height/2,v=n[l]/2-o[l]/2;let w;switch(u){case"top":w={x:m,y:n.y-o.height};break;case"bottom":w={x:m,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y};break;case"left":w={x:n.x-o.width,y};break;default:w={x:n.x,y:n.y}}switch(ba(t)){case"start":w[c]-=v*(r&&d?-1:1);break;case"end":w[c]+=v*(r&&d?-1:1);break}return w}const K2=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:c}=r,l=a.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let d=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y}=B0(d,n,u),v=n,w={},S=0;for(let x=0;x<l.length;x++){const{name:C,fn:T}=l[x],{x:R,y:p,data:h,reset:b}=await T({x:m,y,initialPlacement:n,placement:v,strategy:o,middlewareData:w,rects:d,platform:c,elements:{reference:e,floating:t}});m=R??m,y=p??y,w={...w,[C]:{...w[C],...h}},b&&S<=50&&(S++,typeof b=="object"&&(b.placement&&(v=b.placement),b.rects&&(d=b.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:m,y}=B0(d,v,u)),x=-1)}return{x:m,y,placement:v,strategy:o,middlewareData:w}};async function Gv(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:c,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:w=0}=Ns(t,e),S=qv(w),C=l[v?y==="floating"?"reference":"floating":y],T=pa(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:u})),R=y==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),h=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},b=pa(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:p,strategy:u}):R);return{top:(T.top-b.top+S.top)/h.y,bottom:(b.bottom-T.bottom+S.bottom)/h.y,left:(T.left-b.left+S.left)/h.x,right:(b.right-T.right+S.right)/h.x}}const X2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:c,elements:l,middlewareData:u}=t,{element:d,padding:m=0}=Ns(e,t)||{};if(d==null)return{};const y=qv(m),v={x:r,y:n},w=Wv(o),S=Hv(w),x=await c.getDimensions(d),C=w==="y",T=C?"top":"left",R=C?"bottom":"right",p=C?"clientHeight":"clientWidth",h=a.reference[S]+a.reference[w]-v[w]-a.floating[S],b=v[w]-a.reference[w],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d));let D=E?E[p]:0;(!D||!await(c.isElement==null?void 0:c.isElement(E)))&&(D=l.floating[p]||a.floating[S]);const j=h/2-b/2,N=D/2-x[S]/2-1,M=Xn(y[T],N),A=Xn(y[R],N),O=M,V=D-x[S]-A,W=D/2-x[S]/2+j,K=Vg(O,W,V),L=!u.arrow&&ba(o)!=null&&W!==K&&a.reference[S]/2-(W<O?M:A)-x[S]/2<0,F=L?W<O?W-O:W-V:0;return{[w]:v[w]+F,data:{[w]:K,centerOffset:W-K-F,...L&&{alignmentOffset:F}},reset:L}}}),Y2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:c,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...C}=Ns(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Yn(o),R=Ls(l),p=Yn(l)===l,h=await(u.isRTL==null?void 0:u.isRTL(d.floating)),b=v||(p||!x?[Zd(l)]:H2(l)),E=S!=="none";!v&&E&&b.push(...q2(l,x,S,h));const D=[l,...b],j=await Gv(t,C),N=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&N.push(j[T]),y){const W=V2(o,c,h);N.push(j[W[0]],j[W[1]])}if(M=[...M,{placement:o,overflows:N}],!N.every(W=>W<=0)){var A,O;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,K=D[W];if(K)return{data:{index:W,overflows:M},reset:{placement:K}};let L=(O=M.filter(F=>F.overflows[0]<=0).sort((F,$)=>F.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(w){case"bestFit":{var V;const F=(V=M.filter($=>{if(E){const U=Ls($.placement);return U===R||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,H)=>U+H,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:V[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function hC(e){const t=Xn(...e.map(a=>a.left)),r=Xn(...e.map(a=>a.top)),n=hr(...e.map(a=>a.right)),o=hr(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:o-r}}function J2(e){const t=e.slice().sort((o,a)=>o.y-a.y),r=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(o=>pa(hC(o)))}const Q2=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:o,platform:a,strategy:c}=t,{padding:l=2,x:u,y:d}=Ns(e,t),m=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),y=J2(m),v=pa(hC(m)),w=qv(l);function S(){if(y.length===2&&y[0].left>y[1].right&&u!=null&&d!=null)return y.find(C=>u>C.left-w.left&&u<C.right+w.right&&d>C.top-w.top&&d<C.bottom+w.bottom)||v;if(y.length>=2){if(Ls(r)==="y"){const M=y[0],A=y[y.length-1],O=Yn(r)==="top",V=M.top,W=A.bottom,K=O?M.left:A.left,L=O?M.right:A.right,F=L-K,$=W-V;return{top:V,bottom:W,left:K,right:L,width:F,height:$,x:K,y:V}}const C=Yn(r)==="left",T=hr(...y.map(M=>M.right)),R=Xn(...y.map(M=>M.left)),p=y.filter(M=>C?M.left===R:M.right===T),h=p[0].top,b=p[p.length-1].bottom,E=R,D=T,j=D-E,N=b-h;return{top:h,bottom:b,left:E,right:D,width:j,height:N,x:E,y:h}}return v}const x=await a.getElementRects({reference:{getBoundingClientRect:S},floating:n.floating,strategy:c});return o.reference.x!==x.reference.x||o.reference.y!==x.reference.y||o.reference.width!==x.reference.width||o.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function Z2(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=Yn(r),l=ba(r),u=Ls(r)==="y",d=["left","top"].includes(c)?-1:1,m=a&&u?-1:1,y=Ns(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return l&&typeof S=="number"&&(w=l==="end"?S*-1:S),u?{x:w*m,y:v*d}:{x:v*d,y:w*m}}const eM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:c,middlewareData:l}=t,u=await Z2(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:a+u.y,data:{...u,placement:c}}}}},tM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:C=>{let{x:T,y:R}=C;return{x:T,y:R}}},...u}=Ns(e,t),d={x:r,y:n},m=await Gv(t,u),y=Ls(Yn(o)),v=Vv(y);let w=d[v],S=d[y];if(a){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",R=w+m[C],p=w-m[T];w=Vg(R,w,p)}if(c){const C=y==="y"?"top":"left",T=y==="y"?"bottom":"right",R=S+m[C],p=S-m[T];S=Vg(R,S,p)}const x=l.fn({...t,[v]:w,[y]:S});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[v]:a,[y]:c}}}}}},rM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Ns(e,t),m={x:r,y:n},y=Ls(o),v=Vv(y);let w=m[v],S=m[y];const x=Ns(l,t),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const p=v==="y"?"height":"width",h=a.reference[v]-a.floating[p]+C.mainAxis,b=a.reference[v]+a.reference[p]-C.mainAxis;w<h?w=h:w>b&&(w=b)}if(d){var T,R;const p=v==="y"?"width":"height",h=["top","left"].includes(Yn(o)),b=a.reference[y]-a.floating[p]+(h&&((T=c.offset)==null?void 0:T[y])||0)+(h?0:C.crossAxis),E=a.reference[y]+a.reference[p]+(h?0:((R=c.offset)==null?void 0:R[y])||0)-(h?C.crossAxis:0);S<b?S=b:S>E&&(S=E)}return{[v]:w,[y]:S}}}},nM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:c,elements:l}=t,{apply:u=()=>{},...d}=Ns(e,t),m=await Gv(t,d),y=Yn(o),v=ba(o),w=Ls(o)==="y",{width:S,height:x}=a.floating;let C,T;y==="top"||y==="bottom"?(C=y,T=v===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(T=y,C=v==="end"?"top":"bottom");const R=x-m.top-m.bottom,p=S-m.left-m.right,h=Xn(x-m[C],R),b=Xn(S-m[T],p),E=!t.middlewareData.shift;let D=h,j=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=p),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=R),E&&!v){const M=hr(m.left,0),A=hr(m.right,0),O=hr(m.top,0),V=hr(m.bottom,0);w?j=S-2*(M!==0||A!==0?M+A:hr(m.left,m.right)):D=x-2*(O!==0||V!==0?O+V:hr(m.top,m.bottom))}await u({...t,availableWidth:j,availableHeight:D});const N=await c.getDimensions(l.floating);return S!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function mC(e){const t=hn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Jr(e),a=o?e.offsetWidth:r,c=o?e.offsetHeight:n,l=Qd(r)!==a||Qd(n)!==c;return l&&(r=a,n=c),{width:r,height:n,$:l}}function Kv(e){return St(e)?e:e.contextElement}function oa(e){const t=Kv(e);if(!Jr(t))return ds(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=mC(t);let c=(a?Qd(r.width):r.width)/n,l=(a?Qd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const sM=ds(0);function gC(e){const t=Or(e);return!kf()||!t.visualViewport?sM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Or(e)?!1:t}function ci(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=Kv(e);let c=ds(1);t&&(n?St(n)&&(c=oa(n)):c=oa(e));const l=oM(a,r,n)?gC(a):ds(0);let u=(o.left+l.x)/c.x,d=(o.top+l.y)/c.y,m=o.width/c.x,y=o.height/c.y;if(a){const v=Or(a),w=n&&St(n)?Or(n):n;let S=v,x=Bg(S);for(;x&&n&&w!==S;){const C=oa(x),T=x.getBoundingClientRect(),R=hn(x),p=T.left+(x.clientLeft+parseFloat(R.paddingLeft))*C.x,h=T.top+(x.clientTop+parseFloat(R.paddingTop))*C.y;u*=C.x,d*=C.y,m*=C.x,y*=C.y,u+=p,d+=h,S=Or(x),x=Bg(S)}}return pa({width:m,height:y,x:u,y:d})}function Xv(e,t){const r=Pf(e).scrollLeft;return t?t.left+r:ci(gs(e)).left+r}function vC(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Xv(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function iM(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",c=gs(n),l=t?Tf(t.floating):!1;if(n===c||l&&a)return r;let u={scrollLeft:0,scrollTop:0},d=ds(1);const m=ds(0),y=Jr(n);if((y||!y&&!a)&&((Sa(n)!=="body"||il(c))&&(u=Pf(n)),Jr(n))){const w=ci(n);d=oa(n),m.x=w.x+n.clientLeft,m.y=w.y+n.clientTop}const v=c&&!y&&!a?vC(c,u,!0):ds(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+m.x+v.x,y:r.y*d.y-u.scrollTop*d.y+m.y+v.y}}function aM(e){return Array.from(e.getClientRects())}function cM(e){const t=gs(e),r=Pf(e),n=e.ownerDocument.body,o=hr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=hr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Xv(e);const l=-r.scrollTop;return hn(n).direction==="rtl"&&(c+=hr(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:c,y:l}}function lM(e,t){const r=Or(e),n=gs(e),o=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,l=0,u=0;if(o){a=o.width,c=o.height;const d=kf();(!d||d&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}return{width:a,height:c,x:l,y:u}}function uM(e,t){const r=ci(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Jr(e)?oa(e):ds(1),c=e.clientWidth*a.x,l=e.clientHeight*a.y,u=o*a.x,d=n*a.y;return{width:c,height:l,x:u,y:d}}function U0(e,t,r){let n;if(t==="viewport")n=lM(e,r);else if(t==="document")n=cM(gs(e));else if(St(t))n=uM(t,r);else{const o=gC(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return pa(n)}function yC(e,t){const r=Ms(e);return r===t||!St(r)||_o(r)?!1:hn(r).position==="fixed"||yC(r,t)}function dM(e,t){const r=t.get(e);if(r)return r;let n=ks(e,[],!1).filter(l=>St(l)&&Sa(l)!=="body"),o=null;const a=hn(e).position==="fixed";let c=a?Ms(e):e;for(;St(c)&&!_o(c);){const l=hn(c),u=Uv(c);!u&&l.position==="fixed"&&(o=null),(a?!u&&!o:!u&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||il(c)&&!u&&yC(e,c))?n=n.filter(m=>m!==c):o=l,c=Ms(c)}return t.set(e,n),n}function fM(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Tf(t)?[]:dM(t,this._c):[].concat(r),n],l=c[0],u=c.reduce((d,m)=>{const y=U0(t,m,o);return d.top=hr(y.top,d.top),d.right=Xn(y.right,d.right),d.bottom=Xn(y.bottom,d.bottom),d.left=hr(y.left,d.left),d},U0(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function pM(e){const{width:t,height:r}=mC(e);return{width:t,height:r}}function hM(e,t,r){const n=Jr(t),o=gs(t),a=r==="fixed",c=ci(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const u=ds(0);if(n||!n&&!a)if((Sa(t)!=="body"||il(o))&&(l=Pf(t)),n){const v=ci(t,!0,a,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else o&&(u.x=Xv(o));const d=o&&!n&&!a?vC(o,l):ds(0),m=c.left+l.scrollLeft-u.x-d.x,y=c.top+l.scrollTop-u.y-d.y;return{x:m,y,width:c.width,height:c.height}}function Bm(e){return hn(e).position==="static"}function V0(e,t){if(!Jr(e)||hn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gs(e)===r&&(r=r.ownerDocument.body),r}function wC(e,t){const r=Or(e);if(Tf(e))return r;if(!Jr(e)){let o=Ms(e);for(;o&&!_o(o);){if(St(o)&&!Bm(o))return o;o=Ms(o)}return r}let n=V0(e,t);for(;n&&j2(n)&&Bm(n);)n=V0(n,t);return n&&_o(n)&&Bm(n)&&!Uv(n)?r:n||I2(e)||r}const mM=async function(e){const t=this.getOffsetParent||wC,r=this.getDimensions,n=await r(e.floating);return{reference:hM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gM(e){return hn(e).direction==="rtl"}const vM={convertOffsetParentRelativeRectToViewportRelativeRect:iM,getDocumentElement:gs,getClippingRect:fM,getOffsetParent:wC,getElementRects:mM,getClientRects:aM,getDimensions:pM,getScale:oa,isElement:St,isRTL:gM};function SC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yM(e,t){let r=null,n;const o=gs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:m,top:y,width:v,height:w}=d;if(l||t(),!v||!w)return;const S=Lu(y),x=Lu(o.clientWidth-(m+v)),C=Lu(o.clientHeight-(y+w)),T=Lu(m),p={rootMargin:-S+"px "+-x+"px "+-C+"px "+-T+"px",threshold:hr(0,Xn(1,u))||1};let h=!0;function b(E){const D=E[0].intersectionRatio;if(D!==u){if(!h)return c();D?c(!1,D):n=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!SC(d,e.getBoundingClientRect())&&c(),h=!1}try{r=new IntersectionObserver(b,{...p,root:o.ownerDocument})}catch{r=new IntersectionObserver(b,p)}r.observe(e)}return c(!0),a}function wM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Kv(e),m=o||a?[...d?ks(d):[],...ks(t)]:[];m.forEach(T=>{o&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const y=d&&l?yM(d,r):null;let v=-1,w=null;c&&(w=new ResizeObserver(T=>{let[R]=T;R&&R.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var p;(p=w)==null||p.observe(t)})),r()}),d&&!u&&w.observe(d),w.observe(t));let S,x=u?ci(e):null;u&&C();function C(){const T=ci(e);x&&!SC(x,T)&&r(),x=T,S=requestAnimationFrame(C)}return r(),()=>{var T;m.forEach(R=>{o&&R.removeEventListener("scroll",r),a&&R.removeEventListener("resize",r)}),y==null||y(),(T=w)==null||T.disconnect(),w=null,u&&cancelAnimationFrame(S)}}const SM=eM,bM=tM,_M=Y2,xM=nM,H0=X2,CM=Q2,RM=rM,EM=(e,t,r)=>{const n=new Map,o={platform:vM,...r},a={...o.platform,_c:n};return K2(e,t,{...o,platform:a})};var Yu=typeof document<"u"?P.useLayoutEffect:P.useEffect;function ef(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ef(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!ef(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function bC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function W0(e,t){const r=bC(e);return Math.round(t*r)/r}function Um(e){const t=P.useRef(e);return Yu(()=>{t.current=e}),t}function TM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:c}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[m,y]=P.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=P.useState(n);ef(v,n)||w(n);const[S,x]=P.useState(null),[C,T]=P.useState(null),R=P.useCallback($=>{$!==E.current&&(E.current=$,x($))},[]),p=P.useCallback($=>{$!==D.current&&(D.current=$,T($))},[]),h=a||S,b=c||C,E=P.useRef(null),D=P.useRef(null),j=P.useRef(m),N=u!=null,M=Um(u),A=Um(o),O=Um(d),V=P.useCallback(()=>{if(!E.current||!D.current)return;const $={placement:t,strategy:r,middleware:v};A.current&&($.platform=A.current),EM(E.current,D.current,$).then(U=>{const H={...U,isPositioned:O.current!==!1};W.current&&!ef(j.current,H)&&(j.current=H,Cf.flushSync(()=>{y(H)}))})},[v,t,r,A,O]);Yu(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[d]);const W=P.useRef(!1);Yu(()=>(W.current=!0,()=>{W.current=!1}),[]),Yu(()=>{if(h&&(E.current=h),b&&(D.current=b),h&&b){if(M.current)return M.current(h,b,V);V()}},[h,b,V,M,N]);const K=P.useMemo(()=>({reference:E,floating:D,setReference:R,setFloating:p}),[R,p]),L=P.useMemo(()=>({reference:h,floating:b}),[h,b]),F=P.useMemo(()=>{const $={position:r,left:0,top:0};if(!L.floating)return $;const U=W0(L.floating,m.x),H=W0(L.floating,m.y);return l?{...$,transform:"translate("+U+"px, "+H+"px)",...bC(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:H}},[r,l,L.floating,m.x,m.y]);return P.useMemo(()=>({...m,update:V,refs:K,elements:L,floatingStyles:F}),[m,V,K,L,F])}const kM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?H0({element:n.current,padding:o}).fn(r):{}:n?H0({element:n,padding:o}).fn(r):{}}}},_C=(e,t)=>({...SM(e),options:[e,t]}),Yv=(e,t)=>({...bM(e),options:[e,t]}),q0=(e,t)=>({...RM(e),options:[e,t]}),tf=(e,t)=>({..._M(e),options:[e,t]}),PM=(e,t)=>({...xM(e),options:[e,t]}),Bc=(e,t)=>({...CM(e),options:[e,t]}),xC=(e,t)=>({...kM(e),options:[e,t]});function DM(e){return P.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const CC={...Ix},jM=CC.useInsertionEffect,IM=jM||(e=>e());function Ts(e){const t=P.useRef(()=>{});return IM(()=>{t.current=e}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}var fs=typeof document<"u"?P.useLayoutEffect:P.useEffect;let G0=!1,MM=0;const K0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+MM++;function NM(){const[e,t]=P.useState(()=>G0?K0():void 0);return fs(()=>{e==null&&t(K0())},[]),P.useEffect(()=>{G0=!0},[]),e}const LM=CC.useId,RC=LM||NM;function OM(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(o=>o(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(o=>o!==r))||[])}}}const AM=P.createContext(null),$M=P.createContext(null),Jv=()=>{var e;return((e=P.useContext(AM))==null?void 0:e.id)||null},Qv=()=>P.useContext($M);function Zv(e){return"data-floating-ui-"+e}function Vm(e){const t=P.useRef(e);return fs(()=>{t.current=e}),t}const X0=Zv("safe-polygon");function Ju(e,t,r){return r&&!Ug(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function FM(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:c}=e,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:m=!1,restMs:y=0,move:v=!0}=t,w=Qv(),S=Jv(),x=Vm(d),C=Vm(u),T=Vm(r),R=P.useRef(),p=P.useRef(-1),h=P.useRef(),b=P.useRef(-1),E=P.useRef(!0),D=P.useRef(!1),j=P.useRef(()=>{}),N=P.useRef(!1),M=P.useCallback(()=>{var F;const $=(F=o.current.openEvent)==null?void 0:F.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[o]);P.useEffect(()=>{if(!l)return;function F($){let{open:U}=$;U||(clearTimeout(p.current),clearTimeout(b.current),E.current=!0,N.current=!1)}return a.on("openchange",F),()=>{a.off("openchange",F)}},[l,a]),P.useEffect(()=>{if(!l||!x.current||!r)return;function F(U){M()&&n(!1,U,"hover")}const $=Qo(c.floating).documentElement;return $.addEventListener("mouseleave",F),()=>{$.removeEventListener("mouseleave",F)}},[c.floating,r,n,l,x,M]);const A=P.useCallback(function(F,$,U){$===void 0&&($=!0),U===void 0&&(U="hover");const H=Ju(C.current,"close",R.current);H&&!h.current?(clearTimeout(p.current),p.current=window.setTimeout(()=>n(!1,F,U),H)):$&&(clearTimeout(p.current),n(!1,F,U))},[C,n]),O=Ts(()=>{j.current(),h.current=void 0}),V=Ts(()=>{if(D.current){const F=Qo(c.floating).body;F.style.pointerEvents="",F.removeAttribute(X0),D.current=!1}}),W=Ts(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);P.useEffect(()=>{if(!l)return;function F(z){if(clearTimeout(p.current),E.current=!1,m&&!Ug(R.current)||y>0&&!Ju(C.current,"open"))return;const G=Ju(C.current,"open",R.current);G?p.current=window.setTimeout(()=>{T.current||n(!0,z,"hover")},G):r||n(!0,z,"hover")}function $(z){if(W())return;j.current();const G=Qo(c.floating);if(clearTimeout(b.current),N.current=!1,x.current&&o.current.floatingContext){r||clearTimeout(p.current),h.current=x.current({...o.current.floatingContext,tree:w,x:z.clientX,y:z.clientY,onClose(){V(),O(),W()||A(z,!0,"safe-polygon")}});const de=h.current;G.addEventListener("mousemove",de),j.current=()=>{G.removeEventListener("mousemove",de)};return}(R.current==="touch"?!Xc(c.floating,z.relatedTarget):!0)&&A(z)}function U(z){W()||o.current.floatingContext&&(x.current==null||x.current({...o.current.floatingContext,tree:w,x:z.clientX,y:z.clientY,onClose(){V(),O(),W()||A(z)}})(z))}if(St(c.domReference)){var H;const z=c.domReference;return r&&z.addEventListener("mouseleave",U),(H=c.floating)==null||H.addEventListener("mouseleave",U),v&&z.addEventListener("mousemove",F,{once:!0}),z.addEventListener("mouseenter",F),z.addEventListener("mouseleave",$),()=>{var G;r&&z.removeEventListener("mouseleave",U),(G=c.floating)==null||G.removeEventListener("mouseleave",U),v&&z.removeEventListener("mousemove",F),z.removeEventListener("mouseenter",F),z.removeEventListener("mouseleave",$)}}},[c,l,e,m,y,v,A,O,V,n,r,T,w,C,x,o,W]),fs(()=>{var F;if(l&&r&&(F=x.current)!=null&&F.__options.blockPointerEvents&&M()){D.current=!0;const U=c.floating;if(St(c.domReference)&&U){var $;const H=Qo(c.floating).body;H.setAttribute(X0,"");const z=c.domReference,G=w==null||($=w.nodesRef.current.find(se=>se.id===S))==null||($=$.context)==null?void 0:$.elements.floating;return G&&(G.style.pointerEvents=""),H.style.pointerEvents="none",z.style.pointerEvents="auto",U.style.pointerEvents="auto",()=>{H.style.pointerEvents="",z.style.pointerEvents="",U.style.pointerEvents=""}}}},[l,r,S,c,w,x,M]),fs(()=>{r||(R.current=void 0,N.current=!1,O(),V())},[r,O,V]),P.useEffect(()=>()=>{O(),clearTimeout(p.current),clearTimeout(b.current),V()},[l,c.domReference,O,V]);const K=P.useMemo(()=>{function F($){R.current=$.pointerType}return{onPointerDown:F,onPointerEnter:F,onMouseMove($){const{nativeEvent:U}=$;function H(){!E.current&&!T.current&&n(!0,U,"hover")}m&&!Ug(R.current)||r||y===0||N.current&&$.movementX**2+$.movementY**2<2||(clearTimeout(b.current),R.current==="touch"?H():(N.current=!0,b.current=window.setTimeout(H,y)))}}},[m,n,r,T,y]),L=P.useMemo(()=>({onMouseEnter(){clearTimeout(p.current)},onMouseLeave(F){W()||A(F.nativeEvent,!1)}}),[A,W]);return P.useMemo(()=>l?{reference:K,floating:L}:{},[l,K,L])}const Wg=()=>{},EC=P.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Wg,setState:Wg,isInstantPhase:!1}),zM=()=>P.useContext(EC);function BM(e){const{children:t,delay:r,timeoutMs:n=0}=e,[o,a]=P.useReducer((u,d)=>({...u,...d}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=P.useRef(null),l=P.useCallback(u=>{a({currentId:u})},[]);return fs(()=>{o.currentId?c.current===null?c.current=o.currentId:o.isInstantPhase||a({isInstantPhase:!0}):(o.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[o.currentId,o.isInstantPhase]),P.createElement(EC.Provider,{value:P.useMemo(()=>({...o,setState:a,setCurrentId:l}),[o,l])},t)}function UM(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:o}=e,{id:a,enabled:c=!0}=t,l=a??o,u=zM(),{currentId:d,setCurrentId:m,initialDelay:y,setState:v,timeoutMs:w}=u;return fs(()=>{c&&d&&(v({delay:{open:1,close:Ju(y,"close")}}),d!==l&&n(!1))},[c,l,n,v,d,y]),fs(()=>{function S(){n(!1),v({delay:y,currentId:null})}if(c&&d&&!r&&d===l){if(w){const x=window.setTimeout(S,w);return()=>{clearTimeout(x)}}S()}},[c,r,v,d,l,n,y,w]),fs(()=>{c&&(m===Wg||!r||m(l))},[c,r,m,l]),u}function Hm(e,t){let r=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(o=>{var a;return(a=n)==null?void 0:a.some(c=>{var l;return o.parentId===c.id&&((l=o.context)==null?void 0:l.open)})}),r=r.concat(n);return r}const VM="data-floating-ui-focusable",HM={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},WM={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Y0=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function qM(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:m=!1,referencePressEvent:y="pointerdown",ancestorScroll:v=!1,bubbles:w,capture:S}=t,x=Qv(),C=Ts(typeof u=="function"?u:()=>!1),T=typeof u=="function"?C:u,R=P.useRef(!1),p=P.useRef(!1),{escapeKey:h,outsidePress:b}=Y0(w),{escapeKey:E,outsidePress:D}=Y0(S),j=P.useRef(!1),N=Ts(K=>{var L;if(!r||!c||!l||K.key!=="Escape"||j.current)return;const F=(L=a.current.floatingContext)==null?void 0:L.nodeId,$=x?Hm(x.nodesRef.current,F):[];if(!h&&(K.stopPropagation(),$.length>0)){let U=!0;if($.forEach(H=>{var z;if((z=H.context)!=null&&z.open&&!H.context.dataRef.current.__escapeKeyBubbles){U=!1;return}}),!U)return}n(!1,A2(K)?K.nativeEvent:K,"escape-key")}),M=Ts(K=>{var L;const F=()=>{var $;N(K),($=ta(K))==null||$.removeEventListener("keydown",F)};(L=ta(K))==null||L.addEventListener("keydown",F)}),A=Ts(K=>{var L;const F=R.current;R.current=!1;const $=p.current;if(p.current=!1,d==="click"&&$||F||typeof T=="function"&&!T(K))return;const U=ta(K),H="["+Zv("inert")+"]",z=Qo(o.floating).querySelectorAll(H);let G=St(U)?U:null;for(;G&&!_o(G);){const oe=Ms(G);if(_o(oe)||!St(oe))break;G=oe}if(z.length&&St(U)&&!$2(U)&&!Xc(U,o.floating)&&Array.from(z).every(oe=>!Xc(G,oe)))return;if(Jr(U)&&W){const oe=U.clientWidth>0&&U.scrollWidth>U.clientWidth,ue=U.clientHeight>0&&U.scrollHeight>U.clientHeight;let ve=ue&&K.offsetX>U.clientWidth;if(ue&&hn(U).direction==="rtl"&&(ve=K.offsetX<=U.offsetWidth-U.clientWidth),ve||oe&&K.offsetY>U.clientHeight)return}const se=(L=a.current.floatingContext)==null?void 0:L.nodeId,de=x&&Hm(x.nodesRef.current,se).some(oe=>{var ue;return zm(K,(ue=oe.context)==null?void 0:ue.elements.floating)});if(zm(K,o.floating)||zm(K,o.domReference)||de)return;const J=x?Hm(x.nodesRef.current,se):[];if(J.length>0){let oe=!0;if(J.forEach(ue=>{var ve;if((ve=ue.context)!=null&&ve.open&&!ue.context.dataRef.current.__outsidePressBubbles){oe=!1;return}}),!oe)return}n(!1,K,"outside-press")}),O=Ts(K=>{var L;const F=()=>{var $;A(K),($=ta(K))==null||$.removeEventListener(d,F)};(L=ta(K))==null||L.addEventListener(d,F)});P.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=h,a.current.__outsidePressBubbles=b;let K=-1;function L(z){n(!1,z,"ancestor-scroll")}function F(){window.clearTimeout(K),j.current=!0}function $(){K=window.setTimeout(()=>{j.current=!1},kf()?5:0)}const U=Qo(o.floating);l&&(U.addEventListener("keydown",E?M:N,E),U.addEventListener("compositionstart",F),U.addEventListener("compositionend",$)),T&&U.addEventListener(d,D?O:A,D);let H=[];return v&&(St(o.domReference)&&(H=ks(o.domReference)),St(o.floating)&&(H=H.concat(ks(o.floating))),!St(o.reference)&&o.reference&&o.reference.contextElement&&(H=H.concat(ks(o.reference.contextElement)))),H=H.filter(z=>{var G;return z!==((G=U.defaultView)==null?void 0:G.visualViewport)}),H.forEach(z=>{z.addEventListener("scroll",L,{passive:!0})}),()=>{l&&(U.removeEventListener("keydown",E?M:N,E),U.removeEventListener("compositionstart",F),U.removeEventListener("compositionend",$)),T&&U.removeEventListener(d,D?O:A,D),H.forEach(z=>{z.removeEventListener("scroll",L)}),window.clearTimeout(K)}},[a,o,l,T,d,r,n,v,c,h,b,N,E,M,A,D,O]),P.useEffect(()=>{R.current=!1},[T,d]);const V=P.useMemo(()=>({onKeyDown:N,[HM[y]]:K=>{m&&n(!1,K.nativeEvent,"reference-press")}}),[N,n,m,y]),W=P.useMemo(()=>({onKeyDown:N,onMouseDown(){p.current=!0},onMouseUp(){p.current=!0},[WM[d]]:()=>{R.current=!0}}),[N,d]);return P.useMemo(()=>c?{reference:V,floating:W}:{},[c,V,W])}function GM(e){const{open:t=!1,onOpenChange:r,elements:n}=e,o=RC(),a=P.useRef({}),[c]=P.useState(()=>OM()),l=Jv()!=null,[u,d]=P.useState(n.reference),m=Ts((w,S,x)=>{a.current.openEvent=w?S:void 0,c.emit("openchange",{open:w,event:S,reason:x,nested:l}),r==null||r(w,S,x)}),y=P.useMemo(()=>({setPositionReference:d}),[]),v=P.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return P.useMemo(()=>({dataRef:a,open:t,onOpenChange:m,elements:v,events:c,floatingId:o,refs:y}),[t,m,v,c,o,y])}function ey(e){e===void 0&&(e={});const{nodeId:t}=e,r=GM({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,o=n.elements,[a,c]=P.useState(null),[l,u]=P.useState(null),m=(o==null?void 0:o.domReference)||a,y=P.useRef(null),v=Qv();fs(()=>{m&&(y.current=m)},[m]);const w=TM({...e,elements:{...o,...l&&{reference:l}}}),S=P.useCallback(p=>{const h=St(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;u(h),w.refs.setReference(h)},[w.refs]),x=P.useCallback(p=>{(St(p)||p===null)&&(y.current=p,c(p)),(St(w.refs.reference.current)||w.refs.reference.current===null||p!==null&&!St(p))&&w.refs.setReference(p)},[w.refs]),C=P.useMemo(()=>({...w.refs,setReference:x,setPositionReference:S,domReference:y}),[w.refs,x,S]),T=P.useMemo(()=>({...w.elements,domReference:m}),[w.elements,m]),R=P.useMemo(()=>({...w,...n,refs:C,elements:T,nodeId:t}),[w,C,T,t,n]);return fs(()=>{n.dataRef.current.floatingContext=R;const p=v==null?void 0:v.nodesRef.current.find(h=>h.id===t);p&&(p.context=R)}),P.useMemo(()=>({...w,context:R,refs:C,elements:T}),[w,C,T,R])}function KM(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:c}=e,{enabled:l=!0,visibleOnly:u=!0}=t,d=P.useRef(!1),m=P.useRef(),y=P.useRef(!0);P.useEffect(()=>{if(!l)return;const w=Or(c.domReference);function S(){!r&&Jr(c.domReference)&&c.domReference===F0(Qo(c.domReference))&&(d.current=!0)}function x(){y.current=!0}return w.addEventListener("blur",S),w.addEventListener("keydown",x,!0),()=>{w.removeEventListener("blur",S),w.removeEventListener("keydown",x,!0)}},[c.domReference,r,l]),P.useEffect(()=>{if(!l)return;function w(S){let{reason:x}=S;(x==="reference-press"||x==="escape-key")&&(d.current=!0)}return o.on("openchange",w),()=>{o.off("openchange",w)}},[o,l]),P.useEffect(()=>()=>{clearTimeout(m.current)},[]);const v=P.useMemo(()=>({onPointerDown(w){M2(w.nativeEvent)||(y.current=!1)},onMouseLeave(){d.current=!1},onFocus(w){if(d.current)return;const S=ta(w.nativeEvent);if(u&&St(S))try{if(N2()&&L2())throw Error();if(!S.matches(":focus-visible"))return}catch{if(!y.current&&!z2(S))return}n(!0,w.nativeEvent,"focus")},onBlur(w){d.current=!1;const S=w.relatedTarget,x=w.nativeEvent,C=St(S)&&S.hasAttribute(Zv("focus-guard"))&&S.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var T;const R=F0(c.domReference?c.domReference.ownerDocument:document);!S&&R===c.domReference||Xc((T=a.current.floatingContext)==null?void 0:T.refs.floating.current,R)||Xc(c.domReference,R)||C||n(!1,x,"focus")})}}),[a,c.domReference,n,u]);return P.useMemo(()=>l?{reference:v}:{},[l,v])}const J0="active",Q0="selected";function Wm(e,t,r){const n=new Map,o=r==="item";let a=e;if(o&&e){const{[J0]:c,[Q0]:l,...u}=e;a=u}return{...r==="floating"&&{tabIndex:-1,[VM]:""},...a,...t.map(c=>{const l=c?c[r]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((c,l)=>(l&&Object.entries(l).forEach(u=>{let[d,m]=u;if(!(o&&[J0,Q0].includes(d)))if(d.indexOf("on")===0){if(n.has(d)||n.set(d,[]),typeof m=="function"){var y;(y=n.get(d))==null||y.push(m),c[d]=function(){for(var v,w=arguments.length,S=new Array(w),x=0;x<w;x++)S[x]=arguments[x];return(v=n.get(d))==null?void 0:v.map(C=>C(...S)).find(C=>C!==void 0)}}}else c[d]=m}),c),{})}}function XM(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),r=e.map(l=>l==null?void 0:l.floating),n=e.map(l=>l==null?void 0:l.item),o=P.useCallback(l=>Wm(l,e,"reference"),t),a=P.useCallback(l=>Wm(l,e,"floating"),r),c=P.useCallback(l=>Wm(l,e,"item"),n);return P.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:c}),[o,a,c])}const YM=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function JM(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:o}=e,{enabled:a=!0,role:c="dialog"}=t,l=(r=YM.get(c))!=null?r:c,u=RC(),m=Jv()!=null,y=P.useMemo(()=>l==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?o:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":n?o:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:u},...l==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[l,o,m,n,u,c]),v=P.useMemo(()=>{const S={id:o,...l&&{role:l}};return l==="tooltip"||c==="label"?S:{...S,...l==="menu"&&{"aria-labelledby":u}}},[l,o,u,c]),w=P.useCallback(S=>{let{active:x,selected:C}=S;const T={role:"option",...x&&{id:o+"-option"}};switch(c){case"select":return{...T,"aria-selected":x&&C};case"combobox":return{...T,...x&&{"aria-selected":!0}}}return{}},[o,c]);return P.useMemo(()=>a?{reference:y,floating:v,item:w}:{},[a,y,v,w])}const[QM,gn]=tn("ScrollArea.Root component was not found in tree");function ha(e,t){const r=Yo(t);va(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}const ZM=P.forwardRef((e,t)=>{const{style:r,...n}=e,o=gn(),[a,c]=P.useState(0),[l,u]=P.useState(0),d=!!(a&&l);return ha(o.scrollbarX,()=>{var y;const m=((y=o.scrollbarX)==null?void 0:y.offsetHeight)||0;o.onCornerHeightChange(m),u(m)}),ha(o.scrollbarY,()=>{var y;const m=((y=o.scrollbarY)==null?void 0:y.offsetWidth)||0;o.onCornerWidthChange(m),c(m)}),d?g.jsx("div",{...n,ref:t,style:{...r,width:a,height:l}}):null}),eN=P.forwardRef((e,t)=>{const r=gn(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?g.jsx(ZM,{...e,ref:t}):null}),tN={scrollHideDelay:1e3,type:"hover"},TC=P.forwardRef((e,t)=>{const r=ie("ScrollAreaRoot",tN,e),{type:n,scrollHideDelay:o,scrollbars:a,...c}=r,[l,u]=P.useState(null),[d,m]=P.useState(null),[y,v]=P.useState(null),[w,S]=P.useState(null),[x,C]=P.useState(null),[T,R]=P.useState(0),[p,h]=P.useState(0),[b,E]=P.useState(!1),[D,j]=P.useState(!1),N=Kt(t,M=>u(M));return g.jsx(QM,{value:{type:n,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:m,content:y,onContentChange:v,scrollbarX:w,onScrollbarXChange:S,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:C,scrollbarYEnabled:D,onScrollbarYEnabledChange:j,onCornerWidthChange:R,onCornerHeightChange:h},children:g.jsx(re,{...c,ref:N,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${T}px`,"--sa-corner-height":a!=="xy"?"0px":`${p}px`}})})});TC.displayName="@mantine/core/ScrollAreaRoot";function kC(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Df(e){const t=kC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function PC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rN(e,[t,r]){return Math.min(r,Math.max(t,e))}function Z0(e,t,r="ltr"){const n=Df(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,c=t.content-t.viewport,l=a-n,u=r==="ltr"?[0,c]:[c*-1,0],d=rN(e,u);return PC([0,c],[0,l])(d)}function nN(e,t,r,n="ltr"){const o=Df(r),a=o/2,c=t||a,l=o-c,u=r.scrollbar.paddingStart+c,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,y=n==="ltr"?[0,m]:[m*-1,0];return PC([u,d],y)(e)}function DC(e,t){return e>0&&e<t}function rf(e){return e?parseInt(e,10):0}function ri(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[sN,jC]=tn("ScrollAreaScrollbar was not found in tree"),IC=P.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:m,...y}=e,v=gn(),[w,S]=P.useState(null),x=Kt(t,j=>S(j)),C=P.useRef(null),T=P.useRef(""),{viewport:R}=v,p=r.content-r.viewport,h=Yo(d),b=Yo(l),E=wf(m,10),D=j=>{if(C.current){const N=j.clientX-C.current.left,M=j.clientY-C.current.top;u({x:N,y:M})}};return P.useEffect(()=>{const j=N=>{const M=N.target;(w==null?void 0:w.contains(M))&&h(N,p)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[R,w,p,h]),P.useEffect(b,[r,b]),ha(w,E),ha(v.content,E),g.jsx(sN,{value:{scrollbar:w,hasThumb:n,onThumbChange:Yo(o),onThumbPointerUp:Yo(a),onThumbPositionChange:b,onThumbPointerDown:Yo(c)},children:g.jsx("div",{...y,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:ri(e.onPointerDown,j=>{j.preventDefault(),j.button===0&&(j.target.setPointerCapture(j.pointerId),C.current=w.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",D(j))}),onPointerMove:ri(e.onPointerMove,D),onPointerUp:ri(e.onPointerUp,j=>{const N=j.target;N.hasPointerCapture(j.pointerId)&&(j.preventDefault(),N.releasePointerCapture(j.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,C.current=null}})})}),MC=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:o,...a}=e,c=gn(),[l,u]=P.useState(),d=P.useRef(null),m=Kt(t,d,c.onScrollbarXChange);return P.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),g.jsx(IC,{"data-orientation":"horizontal",...a,ref:m,sizes:r,style:{...o,"--sa-thumb-width":`${Df(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(c.viewport){const w=c.viewport.scrollLeft+y.deltaX;e.onWheelScroll(w),DC(w,v)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&l&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:rf(l.paddingLeft),paddingEnd:rf(l.paddingRight)}})}})});MC.displayName="@mantine/core/ScrollAreaScrollbarX";const NC=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:o,...a}=e,c=gn(),[l,u]=P.useState(),d=P.useRef(null),m=Kt(t,d,c.onScrollbarYChange);return P.useEffect(()=>{d.current&&u(window.getComputedStyle(d.current))},[]),g.jsx(IC,{...a,"data-orientation":"vertical",ref:m,sizes:r,style:{"--sa-thumb-height":`${Df(r)}px`,...o},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(c.viewport){const w=c.viewport.scrollTop+y.deltaY;e.onWheelScroll(w),DC(w,v)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&l&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:rf(l.paddingTop),paddingEnd:rf(l.paddingBottom)}})}})});NC.displayName="@mantine/core/ScrollAreaScrollbarY";const jf=P.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:o}=To(),a=gn(),c=P.useRef(null),l=P.useRef(0),[u,d]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=kC(u.viewport,u.content),y={...n,sizes:u,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:w=>{c.current=w},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:w=>{l.current=w}},v=(w,S)=>nN(w,l.current,u,S);return r==="horizontal"?g.jsx(MC,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const w=a.viewport.scrollLeft,S=Z0(w,u,o);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:w=>{a.viewport&&(a.viewport.scrollLeft=w)},onDragScroll:w=>{a.viewport&&(a.viewport.scrollLeft=v(w,o))}}):r==="vertical"?g.jsx(NC,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const w=a.viewport.scrollTop,S=Z0(w,u);u.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:w=>{a.viewport&&(a.viewport.scrollTop=w)},onDragScroll:w=>{a.viewport&&(a.viewport.scrollTop=v(w))}}):null});jf.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ty=P.forwardRef((e,t)=>{const r=gn(),{forceMount:n,...o}=e,[a,c]=P.useState(!1),l=e.orientation==="horizontal",u=wf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?d:m)}},10);return ha(r.viewport,u),ha(r.content,u),n||a?g.jsx(jf,{"data-state":a?"visible":"hidden",...o,ref:t}):null});ty.displayName="@mantine/core/ScrollAreaScrollbarAuto";const LC=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=gn(),[a,c]=P.useState(!1);return P.useEffect(()=>{const{scrollArea:l}=o;let u=0;if(l){const d=()=>{window.clearTimeout(u),c(!0)},m=()=>{u=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),r||a?g.jsx(ty,{"data-state":a?"visible":"hidden",...n,ref:t}):null});LC.displayName="@mantine/core/ScrollAreaScrollbarHover";const oN=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=gn(),a=e.orientation==="horizontal",[c,l]=P.useState("hidden"),u=wf(()=>l("idle"),100);return P.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,o.scrollHideDelay]),P.useEffect(()=>{const{viewport:d}=o,m=a?"scrollLeft":"scrollTop";if(d){let y=d[m];const v=()=>{const w=d[m];y!==w&&(l("scrolling"),u()),y=w};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[o.viewport,a,u]),r||c!=="hidden"?g.jsx(jf,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ri(e.onPointerEnter,()=>l("interacting")),onPointerLeave:ri(e.onPointerLeave,()=>l("idle"))}):null}),qg=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=gn(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=o,l=e.orientation==="horizontal";return P.useEffect(()=>(l?a(!0):c(!0),()=>{l?a(!1):c(!1)}),[l,a,c]),o.type==="hover"?g.jsx(LC,{...n,ref:t,forceMount:r}):o.type==="scroll"?g.jsx(oN,{...n,ref:t,forceMount:r}):o.type==="auto"?g.jsx(ty,{...n,ref:t,forceMount:r}):o.type==="always"?g.jsx(jf,{...n,ref:t}):null});qg.displayName="@mantine/core/ScrollAreaScrollbar";function iN(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,l=r.top!==a.top;(c||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)}const OC=P.forwardRef((e,t)=>{const{style:r,...n}=e,o=gn(),a=jC(),{onThumbPositionChange:c}=a,l=Kt(t,m=>a.onThumbChange(m)),u=P.useRef(void 0),d=wf(()=>{u.current&&(u.current(),u.current=void 0)},100);return P.useEffect(()=>{const{viewport:m}=o;if(m){const y=()=>{if(d(),!u.current){const v=iN(m,c);u.current=v,c()}};return c(),m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[o.viewport,d,c]),g.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:ri(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),w=m.clientX-v.left,S=m.clientY-v.top;a.onThumbPointerDown({x:w,y:S})}),onPointerUp:ri(e.onPointerUp,a.onThumbPointerUp)})});OC.displayName="@mantine/core/ScrollAreaThumb";const Gg=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=jC();return r||o.hasThumb?g.jsx(OC,{ref:t,...n}):null});Gg.displayName="@mantine/core/ScrollAreaThumb";const AC=P.forwardRef(({children:e,style:t,...r},n)=>{const o=gn(),a=Kt(n,o.onViewportChange);return g.jsx(re,{...r,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:g.jsx("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange,children:e})})});AC.displayName="@mantine/core/ScrollAreaViewport";var ry={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const $C={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},aN=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":ne(t),"--scrollarea-over-scroll-behavior":r}}),It=ye((e,t)=>{const r=ie("ScrollArea",$C,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,scrollbarSize:u,vars:d,type:m,scrollHideDelay:y,viewportProps:v,viewportRef:w,onScrollPositionChange:S,children:x,offsetScrollbars:C,scrollbars:T,onBottomReached:R,onTopReached:p,overscrollBehavior:h,...b}=r,[E,D]=P.useState(!1),[j,N]=P.useState(!1),[M,A]=P.useState(!1),O=ze({name:"ScrollArea",props:r,classes:ry,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:aN}),V=P.useRef(null),W=DM([w,V]);return P.useEffect(()=>{if(!V.current||C!=="present")return;const K=V.current,L=new ResizeObserver(()=>{const{scrollHeight:F,clientHeight:$,scrollWidth:U,clientWidth:H}=K;N(F>$),A(U>H)});return L.observe(K),()=>L.disconnect()},[V,C]),g.jsxs(TC,{type:m==="never"?"always":m,scrollHideDelay:y,ref:t,scrollbars:T,...O("root"),...b,children:[g.jsx(AC,{...v,...O("viewport",{style:v==null?void 0:v.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":C==="present"&&!M?"true":void 0,"data-vertical-hidden":C==="present"&&!j?"true":void 0,onScroll:K=>{var U;(U=v==null?void 0:v.onScroll)==null||U.call(v,K),S==null||S({x:K.currentTarget.scrollLeft,y:K.currentTarget.scrollTop});const{scrollTop:L,scrollHeight:F,clientHeight:$}=K.currentTarget;L-(F-$)>=0&&(R==null||R()),L===0&&(p==null||p())},children:x}),(T==="xy"||T==="x")&&g.jsx(qg,{...O("scrollbar"),orientation:"horizontal","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:g.jsx(Gg,{...O("thumb")})}),(T==="xy"||T==="y")&&g.jsx(qg,{...O("scrollbar"),orientation:"vertical","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:g.jsx(Gg,{...O("thumb")})}),g.jsx(eN,{...O("corner"),"data-hovered":E||void 0,"data-hidden":m==="never"||void 0})]})});It.displayName="@mantine/core/ScrollArea";const ny=ye((e,t)=>{const{children:r,classNames:n,styles:o,scrollbarSize:a,scrollHideDelay:c,type:l,dir:u,offsetScrollbars:d,viewportRef:m,onScrollPositionChange:y,unstyled:v,variant:w,viewportProps:S,scrollbars:x,style:C,vars:T,onBottomReached:R,onTopReached:p,...h}=ie("ScrollAreaAutosize",$C,e);return g.jsx(re,{...h,ref:t,style:[{display:"flex",overflow:"auto"},C],children:g.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1},children:g.jsx(It,{classNames:n,styles:o,scrollHideDelay:c,scrollbarSize:a,type:l,dir:u,offsetScrollbars:d,viewportRef:m,onScrollPositionChange:y,unstyled:v,variant:w,viewportProps:S,vars:T,scrollbars:x,onBottomReached:R,onTopReached:p,children:r})})})});It.classes=ry;ny.displayName="@mantine/core/ScrollAreaAutosize";ny.classes=ry;It.Autosize=ny;var FC={root:"m_87cf2631"};const cN={__staticSelector:"UnstyledButton"},Jn=cr((e,t)=>{const r=ie("UnstyledButton",cN,e),{className:n,component:o="button",__staticSelector:a,unstyled:c,classNames:l,styles:u,style:d,...m}=r,y=ze({name:a,props:r,classes:FC,className:n,style:d,classNames:l,styles:u,unstyled:c});return g.jsx(re,{...y("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...m})});Jn.classes=FC;Jn.displayName="@mantine/core/UnstyledButton";var zC={root:"m_515a97f8"};const lN={},sy=ye((e,t)=>{const r=ie("VisuallyHidden",lN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,...d}=r,m=ze({name:"VisuallyHidden",classes:zC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l});return g.jsx(re,{component:"span",ref:t,...m("root"),...d})});sy.classes=zC;sy.displayName="@mantine/core/VisuallyHidden";var BC={root:"m_1b7284a3"};const uN={},dN=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:kt(t),"--paper-shadow":Iv(r)}}),al=cr((e,t)=>{const r=ie("Paper",uN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,withBorder:u,vars:d,radius:m,shadow:y,variant:v,mod:w,...S}=r,x=ze({name:"Paper",props:r,classes:BC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:dN});return g.jsx(re,{ref:t,mod:[{"data-with-border":u},w],...x("root"),variant:v,...S})});al.classes=BC;al.displayName="@mantine/core/Paper";function UC(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),o=r==="right"?"left":"right";return n===void 0?o:`${o}-${n}`}return t}function e_(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function t_(e,t,r,n,o){return e==="center"||n==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:r}:e==="start"?{[o==="ltr"?"left":"right"]:r}:{}}const fN={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function pN({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,arrowX:a,arrowY:c,dir:l}){const[u,d="center"]=e.split("-"),m={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[fN[u]]:n},y=-t/2;return u==="left"?{...m,...e_(d,c,r,o),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...m,...e_(d,c,r,o),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...m,...t_(d,a,r,o,l),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...m,...t_(d,a,r,o,l),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const oy=P.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,visible:a,arrowX:c,arrowY:l,style:u,...d},m)=>{const{dir:y}=To();return a?g.jsx("div",{...d,ref:m,style:{...u,...pN({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,dir:y,arrowX:c,arrowY:l})}}):null});oy.displayName="@mantine/core/FloatingArrow";var VC={root:"m_9814e45f"};const hN={zIndex:Br("modal")},mN=(e,{gradient:t,color:r,backgroundOpacity:n,blur:o,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&ls(r||"#000",n??.6)||void 0,"--overlay-filter":o?`blur(${ne(o)})`:void 0,"--overlay-radius":a===void 0?void 0:kt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),If=cr((e,t)=>{const r=ie("Overlay",hN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,fixed:d,center:m,children:y,radius:v,zIndex:w,gradient:S,blur:x,color:C,backgroundOpacity:T,mod:R,...p}=r,h=ze({name:"Overlay",props:r,classes:VC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:mN});return g.jsx(re,{ref:t,...h("root"),mod:[{center:m,fixed:d},R],...p,children:y})});If.classes=VC;If.displayName="@mantine/core/Overlay";function qm(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function gN({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||qm(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const o=qm(r);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return qm(r)}const vN={},HC=ye((e,t)=>{const{children:r,target:n,reuseTargetNode:o,...a}=ie("Portal",vN,e),[c,l]=P.useState(!1),u=P.useRef(null);return va(()=>(l(!0),u.current=gN({target:n,reuseTargetNode:o,...a}),Yd(t,u.current),!n&&!o&&u.current&&document.body.appendChild(u.current),()=>{!n&&!o&&u.current&&document.body.removeChild(u.current)}),[n]),!c||!u.current?null:Cf.createPortal(g.jsx(g.Fragment,{children:r}),u.current)});HC.displayName="@mantine/core/Portal";const mi=ye(({withinPortal:e=!0,children:t,...r},n)=>eC()==="test"||!e?g.jsx(g.Fragment,{children:t}):g.jsx(HC,{ref:n,...r,children:t}));mi.displayName="@mantine/core/OptionalPortal";const bc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Ou={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...bc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...bc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...bc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...bc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...bc("top"),common:{transformOrigin:"top right"}}},r_={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function yN({transition:e,state:t,duration:r,timingFunction:n}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in Ou?{transitionProperty:Ou[e].transitionProperty,...o,...Ou[e].common,...Ou[e][r_[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[r_[t]]}}function wN({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:o,onExit:a,onEntered:c,onExited:l,enterDelay:u,exitDelay:d}){const m=er(),y=Sf(),v=m.respectReducedMotion?y:!1,[w,S]=P.useState(v?0:e),[x,C]=P.useState(n?"entered":"exited"),T=P.useRef(-1),R=P.useRef(-1),p=P.useRef(-1),h=E=>{const D=E?o:a,j=E?c:l;window.clearTimeout(T.current);const N=v?0:E?e:t;S(N),N===0?(typeof D=="function"&&D(),typeof j=="function"&&j(),C(E?"entered":"exited")):p.current=requestAnimationFrame(()=>{Nc.flushSync(()=>{C(E?"pre-entering":"pre-exiting")}),p.current=requestAnimationFrame(()=>{typeof D=="function"&&D(),C(E?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof j=="function"&&j(),C(E?"entered":"exited")},N)})})},b=E=>{if(window.clearTimeout(R.current),typeof(E?u:d)!="number"){h(E);return}R.current=window.setTimeout(()=>{h(E)},E?u:d)};return Fr(()=>{b(n)},[n]),P.useEffect(()=>()=>{window.clearTimeout(T.current),cancelAnimationFrame(p.current)},[]),{transitionDuration:w,transitionStatus:x,transitionTimingFunction:r||"ease"}}function $s({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:o,children:a,timingFunction:c="ease",onExit:l,onEntered:u,onEnter:d,onExited:m,enterDelay:y,exitDelay:v}){const w=eC(),{transitionDuration:S,transitionStatus:x,transitionTimingFunction:C}=wN({mounted:o,exitDuration:n,duration:r,timingFunction:c,onExit:l,onEntered:u,onEnter:d,onExited:m,enterDelay:y,exitDelay:v});return S===0||w==="test"?o?g.jsx(g.Fragment,{children:a({})}):e?a({display:"none"}):null:x==="exited"?e?a({display:"none"}):null:g.jsx(g.Fragment,{children:a(yN({transition:t,duration:S,state:x,timingFunction:C}))})}$s.displayName="@mantine/core/Transition";const[SN,WC]=tn("Popover component was not found in the tree");function Mf({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const o=iI(t),a=Kt(o,n);return Ro(e)?P.cloneElement(e,{[r]:a}):e}function qC(e){return g.jsx(sy,{tabIndex:-1,"data-autofocus":!0,...e})}Mf.displayName="@mantine/core/FocusTrap";qC.displayName="@mantine/core/FocusTrapInitialFocus";Mf.InitialFocus=qC;var GC={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const bN={},iy=ye((e,t)=>{var C,T,R,p;const r=ie("PopoverDropdown",bN,e),{className:n,style:o,vars:a,children:c,onKeyDownCapture:l,variant:u,classNames:d,styles:m,...y}=r,v=WC(),w=qx({opened:v.opened,shouldReturnFocus:v.returnFocus}),S=v.withRoles?{"aria-labelledby":v.getTargetId(),id:v.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=Kt(t,v.floating);return v.disabled?null:g.jsx(mi,{...v.portalProps,withinPortal:v.withinPortal,children:g.jsx($s,{mounted:v.opened,...v.transitionProps,transition:((C=v.transitionProps)==null?void 0:C.transition)||"fade",duration:((T=v.transitionProps)==null?void 0:T.duration)??150,keepMounted:v.keepMounted,exitDuration:typeof((R=v.transitionProps)==null?void 0:R.exitDuration)=="number"?v.transitionProps.exitDuration:(p=v.transitionProps)==null?void 0:p.duration,children:h=>g.jsx(Mf,{active:v.trapFocus&&v.opened,innerRef:x,children:g.jsxs(re,{...S,...y,variant:u,onKeyDownCapture:Hj(()=>{var b,E;(b=v.onClose)==null||b.call(v),(E=v.onDismiss)==null||E.call(v)},{active:v.closeOnEscape,onTrigger:w,onKeyDown:l}),"data-position":v.placement,"data-fixed":v.floatingStrategy==="fixed"||void 0,...v.getStyles("dropdown",{className:n,props:r,classNames:d,styles:m,style:[{...h,zIndex:v.zIndex,top:v.y??0,left:v.x??0,width:v.width==="target"?void 0:ne(v.width)},v.resolvedStyles.dropdown,m==null?void 0:m.dropdown,o]}),children:[c,g.jsx(oy,{ref:v.arrowRef,arrowX:v.arrowX,arrowY:v.arrowY,visible:v.withArrow,position:v.placement,arrowSize:v.arrowSize,arrowRadius:v.arrowRadius,arrowOffset:v.arrowOffset,arrowPosition:v.arrowPosition,...v.getStyles("arrow",{props:r,classNames:d,styles:m})})]})})})})});iy.classes=GC;iy.displayName="@mantine/core/PopoverDropdown";const _N={refProp:"ref",popupType:"dialog"},KC=ye((e,t)=>{const{children:r,refProp:n,popupType:o,...a}=ie("PopoverTarget",_N,e);if(!Ro(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,l=WC(),u=Kt(l.reference,bf(r),t),d=l.withRoles?{"aria-haspopup":o,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return P.cloneElement(r,{...c,...d,...l.targetProps,className:Gt(l.targetProps.className,c.className,r.props.className),[n]:u,...l.controlled?null:{onClick:l.onToggle}})});KC.displayName="@mantine/core/PopoverTarget";function XC({opened:e,floating:t,position:r,positionDependencies:n}){const[o,a]=P.useState(0);P.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return wM(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,r]),Fr(()=>{t.update()},n),Fr(()=>{a(c=>c+1)},[e])}function xN(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function CN(e,t){const r=xN(e.middlewares),n=[_C(e.offset)];return r.shift&&n.push(Yv(typeof r.shift=="boolean"?{limiter:q0(),padding:5}:{limiter:q0(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?tf():tf(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Bc():Bc(r.inline)),n.push(xC({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(PM({...typeof r.size=="boolean"?{}:r.size,apply({rects:o,availableWidth:a,availableHeight:c,...l}){var m;const d=((m=t().refs.floating.current)==null?void 0:m.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:o,availableWidth:a,availableHeight:c,...l}):Object.assign(d,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(d,{width:`${o.reference.width}px`})}})),n}function RN(e){const[t,r]=Er({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=P.useRef(t),o=()=>{t&&r(!1)},a=()=>r(!t),c=ey({strategy:e.strategy,placement:e.position,middleware:CN(e,()=>c)});return XC({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Fr(()=>{var l;(l=e.onPositionChange)==null||l.call(e,c.placement)},[c.placement]),Fr(()=>{var l,u;t!==n.current&&(t?(u=e.onOpen)==null||u.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:o,onToggle:a}}const EN={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Br("popover"),__staticSelector:"Popover",width:"max-content"},TN=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:kt(t),"--popover-shadow":Iv(r)}});function ar(e){var Le,Te,Fe,be,Ze,dt;const t=ie("Popover",EN,e),{children:r,position:n,offset:o,onPositionChange:a,positionDependencies:c,opened:l,transitionProps:u,onExitTransitionEnd:d,onEnterTransitionEnd:m,width:y,middlewares:v,withArrow:w,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:T,unstyled:R,classNames:p,styles:h,closeOnClickOutside:b,withinPortal:E,portalProps:D,closeOnEscape:j,clickOutsideEvents:N,trapFocus:M,onClose:A,onDismiss:O,onOpen:V,onChange:W,zIndex:K,radius:L,shadow:F,id:$,defaultOpened:U,__staticSelector:H,withRoles:z,disabled:G,returnFocus:se,variant:de,keepMounted:J,vars:oe,floatingStrategy:ue,withOverlay:ve,overlayProps:we,...Ne}=t,ae=ze({name:H,props:t,classes:GC,classNames:p,styles:h,unstyled:R,rootSelector:"dropdown",vars:oe,varsResolver:TN}),{resolvedStyles:Ee}=hi({classNames:p,styles:h,props:t}),rt=P.useRef(null),[Ve,Be]=P.useState(null),[lt,pe]=P.useState(null),{dir:Se}=To(),ke=As($),$e=RN({middlewares:v,width:y,position:UC(Se,n),offset:typeof o=="number"?o+(w?S/2:0):o,arrowRef:rt,arrowOffset:x,onPositionChange:a,positionDependencies:c,opened:l,defaultOpened:U,onChange:W,onOpen:V,onClose:A,onDismiss:O,strategy:ue});Yj(()=>{b&&($e.onClose(),O==null||O())},N,[Ve,lt]);const We=P.useCallback(nt=>{Be(nt),$e.floating.refs.setReference(nt)},[$e.floating.refs.setReference]),He=P.useCallback(nt=>{pe(nt),$e.floating.refs.setFloating(nt)},[$e.floating.refs.setFloating]),Ye=P.useCallback(()=>{var nt;(nt=u==null?void 0:u.onExited)==null||nt.call(u),d==null||d()},[u==null?void 0:u.onExited,d]),me=P.useCallback(()=>{var nt;(nt=u==null?void 0:u.onEntered)==null||nt.call(u),m==null||m()},[u==null?void 0:u.onEntered,m]);return g.jsxs(SN,{value:{returnFocus:se,disabled:G,controlled:$e.controlled,reference:We,floating:He,x:$e.floating.x,y:$e.floating.y,arrowX:(Fe=(Te=(Le=$e.floating)==null?void 0:Le.middlewareData)==null?void 0:Te.arrow)==null?void 0:Fe.x,arrowY:(dt=(Ze=(be=$e.floating)==null?void 0:be.middlewareData)==null?void 0:Ze.arrow)==null?void 0:dt.y,opened:$e.opened,arrowRef:rt,transitionProps:{...u,onExited:Ye,onEntered:me},width:y,withArrow:w,arrowSize:S,arrowOffset:x,arrowRadius:C,arrowPosition:T,placement:$e.floating.placement,trapFocus:M,withinPortal:E,portalProps:D,zIndex:K,radius:L,shadow:F,closeOnEscape:j,onDismiss:O,onClose:$e.onClose,onToggle:$e.onToggle,getTargetId:()=>`${ke}-target`,getDropdownId:()=>`${ke}-dropdown`,withRoles:z,targetProps:Ne,__staticSelector:H,classNames:p,styles:h,unstyled:R,variant:de,keepMounted:J,getStyles:ae,resolvedStyles:Ee,floatingStrategy:ue},children:[r,ve&&g.jsx($s,{transition:"fade",mounted:$e.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:nt=>g.jsx(mi,{withinPortal:E,children:g.jsx(If,{...we,...ae("overlay",{className:we==null?void 0:we.className,style:[nt,we==null?void 0:we.style]})})})})]})}ar.Target=KC;ar.Dropdown=iy;ar.displayName="@mantine/core/Popover";ar.extend=e=>e;var Kn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const YC=P.forwardRef(({className:e,...t},r)=>g.jsxs(re,{component:"span",className:Gt(Kn.barsLoader,e),...t,ref:r,children:[g.jsx("span",{className:Kn.bar}),g.jsx("span",{className:Kn.bar}),g.jsx("span",{className:Kn.bar})]}));YC.displayName="@mantine/core/Bars";const JC=P.forwardRef(({className:e,...t},r)=>g.jsxs(re,{component:"span",className:Gt(Kn.dotsLoader,e),...t,ref:r,children:[g.jsx("span",{className:Kn.dot}),g.jsx("span",{className:Kn.dot}),g.jsx("span",{className:Kn.dot})]}));JC.displayName="@mantine/core/Dots";const QC=P.forwardRef(({className:e,...t},r)=>g.jsx(re,{component:"span",className:Gt(Kn.ovalLoader,e),...t,ref:r}));QC.displayName="@mantine/core/Oval";const ZC={bars:YC,oval:QC,dots:JC},kN={loaders:ZC,type:"oval"},PN=(e,{size:t,color:r})=>({root:{"--loader-size":Qe(t,"loader-size"),"--loader-color":r?gr(r,e):void 0}}),Fs=ye((e,t)=>{const r=ie("Loader",kN,e),{size:n,color:o,type:a,vars:c,className:l,style:u,classNames:d,styles:m,unstyled:y,loaders:v,variant:w,children:S,...x}=r,C=ze({name:"Loader",props:r,classes:Kn,className:l,style:u,classNames:d,styles:m,unstyled:y,vars:c,varsResolver:PN});return S?g.jsx(re,{...C("root"),ref:t,...x,children:S}):g.jsx(re,{...C("root"),ref:t,component:v[a],variant:w,size:n,...x})});Fs.defaultLoaders=ZC;Fs.classes=Kn;Fs.displayName="@mantine/core/Loader";var _a={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const n_={orientation:"horizontal"},DN=(e,{borderWidth:t})=>({group:{"--ai-border-width":ne(t)}}),ay=ye((e,t)=>{const r=ie("ActionIconGroup",n_,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,orientation:u,vars:d,borderWidth:m,variant:y,mod:v,...w}=ie("ActionIconGroup",n_,e),S=ze({name:"ActionIconGroup",props:r,classes:_a,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:DN,rootSelector:"group"});return g.jsx(re,{...S("group"),ref:t,variant:y,mod:[{"data-orientation":u},v],role:"group",...w})});ay.classes=_a;ay.displayName="@mantine/core/ActionIconGroup";const s_={},jN=(e,{radius:t,color:r,gradient:n,variant:o,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Qe(c,"section-height"),"--section-padding-x":Qe(c,"section-padding-x"),"--section-fz":ir(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||o?l.background:void 0,"--section-color":l.color,"--section-bd":r||o?l.border:void 0}}},cy=ye((e,t)=>{const r=ie("ActionIconGroupSection",s_,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,vars:u,variant:d,gradient:m,radius:y,autoContrast:v,...w}=ie("ActionIconGroupSection",s_,e),S=ze({name:"ActionIconGroupSection",props:r,classes:_a,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:u,varsResolver:jN,rootSelector:"groupSection"});return g.jsx(re,{...S("groupSection"),ref:t,variant:d,...w})});cy.classes=_a;cy.displayName="@mantine/core/ActionIconGroupSection";const IN={},MN=(e,{size:t,radius:r,variant:n,gradient:o,color:a,autoContrast:c})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":Qe(t,"ai-size"),"--ai-radius":r===void 0?void 0:kt(r),"--ai-bg":a||n?l.background:void 0,"--ai-hover":a||n?l.hover:void 0,"--ai-hover-color":a||n?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":a||n?l.border:void 0}}},ct=cr((e,t)=>{const r=ie("ActionIcon",IN,e),{className:n,unstyled:o,variant:a,classNames:c,styles:l,style:u,loading:d,loaderProps:m,size:y,color:v,radius:w,__staticSelector:S,gradient:x,vars:C,children:T,disabled:R,"data-disabled":p,autoContrast:h,mod:b,...E}=r,D=ze({name:["ActionIcon",S],props:r,className:n,style:u,classes:_a,classNames:c,styles:l,unstyled:o,vars:C,varsResolver:MN});return g.jsxs(Jn,{...D("root",{active:!R&&!d&&!p}),...E,unstyled:o,variant:a,size:y,disabled:R||d,ref:t,mod:[{loading:d,disabled:R||p},b],children:[g.jsx($s,{mounted:!!d,transition:"slide-down",duration:150,children:j=>g.jsx(re,{component:"span",...D("loader",{style:j}),"aria-hidden":!0,children:g.jsx(Fs,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...m})})}),g.jsx(re,{component:"span",mod:{loading:d},...D("icon"),children:T})]})});ct.classes=_a;ct.displayName="@mantine/core/ActionIcon";ct.Group=ay;ct.GroupSection=cy;const eR=P.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));eR.displayName="@mantine/core/CloseIcon";var tR={root:"m_86a44da5","root--subtle":"m_220c80f2"};const NN={variant:"subtle"},LN=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Qe(t,"cb-size"),"--cb-radius":r===void 0?void 0:kt(r),"--cb-icon-size":ne(n)}}),xa=cr((e,t)=>{const r=ie("CloseButton",NN,e),{iconSize:n,children:o,vars:a,radius:c,className:l,classNames:u,style:d,styles:m,unstyled:y,"data-disabled":v,disabled:w,variant:S,icon:x,mod:C,__staticSelector:T,...R}=r,p=ze({name:T||"CloseButton",props:r,className:l,style:d,classes:tR,classNames:u,styles:m,unstyled:y,vars:a,varsResolver:LN});return g.jsxs(Jn,{ref:t,...R,unstyled:y,variant:S,disabled:w,mod:[{disabled:w||v},C],...p("root",{variant:S,active:!w&&!v}),children:[x||g.jsx(eR,{}),o]})});xa.classes=tR;xa.displayName="@mantine/core/CloseButton";function ON(e){return P.Children.toArray(e).filter(Boolean)}var rR={root:"m_4081bf90"};const AN={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},$N=(e,{grow:t,preventGrowOverflow:r,gap:n,align:o,justify:a,wrap:c},{childWidth:l})=>({root:{"--group-child-width":t&&r?l:void 0,"--group-gap":Zt(n),"--group-align":o,"--group-justify":a,"--group-wrap":c}}),Ce=ye((e,t)=>{const r=ie("Group",AN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,children:u,gap:d,align:m,justify:y,wrap:v,grow:w,preventGrowOverflow:S,vars:x,variant:C,__size:T,mod:R,...p}=r,h=ON(u),b=h.length,E=Zt(d??"md"),j={childWidth:`calc(${100/b}% - (${E} - ${E} / ${b}))`},N=ze({name:"Group",props:r,stylesCtx:j,className:o,style:a,classes:rR,classNames:n,styles:c,unstyled:l,vars:x,varsResolver:$N});return g.jsx(re,{...N("root"),ref:t,variant:C,mod:[{grow:w},R],size:T,...p,children:h})});Ce.classes=rR;Ce.displayName="@mantine/core/Group";const[FN,zs]=tn("ModalBase component was not found in tree");function zN({opened:e,transitionDuration:t}){const[r,n]=P.useState(e),o=P.useRef(-1),c=Sf()?0:t;return P.useEffect(()=>(e?(n(!0),window.clearTimeout(o.current)):c===0?n(!1):o.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(o.current)),[e,c]),r}function BN({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:o,onClose:a,returnFocus:c}){const l=As(e),[u,d]=P.useState(!1),[m,y]=P.useState(!1),v=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,w=zN({opened:r,transitionDuration:v});return dI("keydown",S=>{var x;S.key==="Escape"&&o&&r&&((x=S.target)==null?void 0:x.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),qx({opened:r,shouldReturnFocus:n&&c}),{_id:l,titleMounted:u,bodyMounted:m,shouldLockScroll:w,setTitleMounted:d,setBodyMounted:y}}const ly=P.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:o,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:l,closeOnEscape:u,returnFocus:d,closeOnClickOutside:m,withinPortal:y,portalProps:v,lockScroll:w,children:S,zIndex:x,shadow:C,padding:T,__vars:R,unstyled:p,removeScrollProps:h,...b},E)=>{const{_id:D,titleMounted:j,bodyMounted:N,shouldLockScroll:M,setTitleMounted:A,setBodyMounted:O}=BN({id:n,transitionProps:o,opened:t,trapFocus:l,closeOnEscape:u,onClose:r,returnFocus:d}),{key:V,...W}=h||{};return g.jsx(mi,{...v,withinPortal:y,children:g.jsx(FN,{value:{opened:t,onClose:r,closeOnClickOutside:m,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${D}-title`,getBodyId:()=>`${D}-body`,titleMounted:j,bodyMounted:N,setTitleMounted:A,setBodyMounted:O,trapFocus:l,closeOnEscape:u,zIndex:x,unstyled:p},children:g.jsx(Kd,{enabled:M&&w,...W,children:g.jsx(re,{ref:E,...b,__vars:{...R,"--mb-z-index":(x||Br("modal")).toString(),"--mb-shadow":Iv(C),"--mb-padding":Zt(T)},children:S})},V)})})});ly.displayName="@mantine/core/ModalBase";function UN(){const e=zs();return P.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var ma={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const uy=P.forwardRef(({className:e,...t},r)=>{const n=UN(),o=zs();return g.jsx(re,{ref:r,...t,id:n,className:Gt({[ma.body]:!o.unstyled},e)})});uy.displayName="@mantine/core/ModalBaseBody";const dy=P.forwardRef(({className:e,onClick:t,...r},n)=>{const o=zs();return g.jsx(xa,{ref:n,...r,onClick:a=>{o.onClose(),t==null||t(a)},className:Gt({[ma.close]:!o.unstyled},e),unstyled:o.unstyled})});dy.displayName="@mantine/core/ModalBaseCloseButton";const fy=P.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:o,...a},c)=>{const l=zs();return g.jsx($s,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var u,d,m;(u=l.onExitTransitionEnd)==null||u.call(l),(m=(d=l.transitionProps)==null?void 0:d.onExited)==null||m.call(d)},onEntered:()=>{var u,d,m;(u=l.onEnterTransitionEnd)==null||u.call(l),(m=(d=l.transitionProps)==null?void 0:d.onEntered)==null||m.call(d)},...e,children:u=>g.jsx("div",{...r,className:Gt({[ma.inner]:!l.unstyled},r.className),children:g.jsx(Mf,{active:l.opened&&l.trapFocus,innerRef:c,children:g.jsx(al,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[o,u],className:Gt({[ma.content]:!l.unstyled},t),unstyled:l.unstyled,children:a.children})})})})});fy.displayName="@mantine/core/ModalBaseContent";const py=P.forwardRef(({className:e,...t},r)=>{const n=zs();return g.jsx(re,{component:"header",ref:r,className:Gt({[ma.header]:!n.unstyled},e),...t})});py.displayName="@mantine/core/ModalBaseHeader";const VN={duration:200,timingFunction:"ease",transition:"fade"};function HN(e){const t=zs();return{...VN,...t.transitionProps,...e}}const hy=P.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...o},a)=>{const c=zs(),l=HN(t);return g.jsx($s,{mounted:n!==void 0?n:c.opened,...l,transition:"fade",children:u=>g.jsx(If,{ref:a,fixed:!0,style:[r,u],zIndex:c.zIndex,unstyled:c.unstyled,onClick:d=>{e==null||e(d),c.closeOnClickOutside&&c.onClose()},...o})})});hy.displayName="@mantine/core/ModalBaseOverlay";function WN(){const e=zs();return P.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const my=P.forwardRef(({className:e,...t},r)=>{const n=WN(),o=zs();return g.jsx(re,{component:"h2",ref:r,className:Gt({[ma.title]:!o.unstyled},e),...t,id:n})});my.displayName="@mantine/core/ModalBaseTitle";function nR({children:e}){return g.jsx(g.Fragment,{children:e})}const[qN,GN]=pi({size:"sm"}),KN={},sR=ye((e,t)=>{const r=ie("InputClearButton",KN,e),{size:n,variant:o,vars:a,classNames:c,styles:l,...u}=r,d=GN(),{resolvedClassNames:m,resolvedStyles:y}=hi({classNames:c,styles:l,props:r});return g.jsx(xa,{variant:o||"transparent",ref:t,size:n||(d==null?void 0:d.size)||"sm",classNames:m,styles:y,__staticSelector:"InputClearButton",...u})});sR.displayName="@mantine/core/InputClearButton";const[XN,cl]=pi({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var vn={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const o_={},YN=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ir(t)} - ${ne(2)})`}}),Nf=ye((e,t)=>{const r=ie("InputDescription",o_,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,size:d,__staticSelector:m,__inheritStyles:y=!0,variant:v,...w}=ie("InputDescription",o_,r),S=cl(),x=ze({name:["InputWrapper",m],props:r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"description",vars:u,varsResolver:YN}),C=y&&(S==null?void 0:S.getStyles)||x;return g.jsx(re,{component:"p",ref:t,variant:v,size:d,...C("description",S!=null&&S.getStyles?{className:o,style:a}:void 0),...w})});Nf.classes=vn;Nf.displayName="@mantine/core/InputDescription";const JN={},QN=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ir(t)} - ${ne(2)})`}}),Lf=ye((e,t)=>{const r=ie("InputError",JN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,size:d,__staticSelector:m,__inheritStyles:y=!0,variant:v,...w}=r,S=ze({name:["InputWrapper",m],props:r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"error",vars:u,varsResolver:QN}),x=cl(),C=y&&(x==null?void 0:x.getStyles)||S;return g.jsx(re,{component:"p",ref:t,variant:v,size:d,...C("error",x!=null&&x.getStyles?{className:o,style:a}:void 0),...w})});Lf.classes=vn;Lf.displayName="@mantine/core/InputError";const i_={labelElement:"label"},ZN=(e,{size:t})=>({label:{"--input-label-size":ir(t),"--input-asterisk-color":void 0}}),Of=ye((e,t)=>{const r=ie("InputLabel",i_,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,labelElement:d,size:m,required:y,htmlFor:v,onMouseDown:w,children:S,__staticSelector:x,variant:C,mod:T,...R}=ie("InputLabel",i_,r),p=ze({name:["InputWrapper",x],props:r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"label",vars:u,varsResolver:ZN}),h=cl(),b=(h==null?void 0:h.getStyles)||p;return g.jsxs(re,{...b("label",h!=null&&h.getStyles?{className:o,style:a}:void 0),component:d,variant:C,size:m,ref:t,htmlFor:d==="label"?v:void 0,mod:[{required:y},T],onMouseDown:E=>{w==null||w(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...R,children:[S,y&&g.jsx("span",{...b("required"),"aria-hidden":!0,children:" *"})]})});Of.classes=vn;Of.displayName="@mantine/core/InputLabel";const a_={},gy=ye((e,t)=>{const r=ie("InputPlaceholder",a_,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,__staticSelector:d,variant:m,error:y,mod:v,...w}=ie("InputPlaceholder",a_,r),S=ze({name:["InputPlaceholder",d],props:r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"placeholder"});return g.jsx(re,{...S("placeholder"),mod:[{error:!!y},v],component:"span",variant:m,ref:t,...w})});gy.classes=vn;gy.displayName="@mantine/core/InputPlaceholder";function eL(e,{hasDescription:t,hasError:r}){const n=e.findIndex(u=>u==="input"),o=e.slice(0,n),a=e.slice(n+1),c=t&&o.includes("description")||r&&o.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const tL={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},rL=(e,{size:t})=>({label:{"--input-label-size":ir(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ir(t)} - ${ne(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ir(t)} - ${ne(2)})`}}),vy=ye((e,t)=>{const r=ie("InputWrapper",tL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,size:d,variant:m,__staticSelector:y,inputContainer:v,inputWrapperOrder:w,label:S,error:x,description:C,labelProps:T,descriptionProps:R,errorProps:p,labelElement:h,children:b,withAsterisk:E,id:D,required:j,__stylesApiProps:N,mod:M,...A}=r,O=ze({name:["InputWrapper",y],props:N||r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:rL}),V={size:d,variant:m,__staticSelector:y},W=As(D),K=typeof E=="boolean"?E:j,L=(p==null?void 0:p.id)||`${W}-error`,F=(R==null?void 0:R.id)||`${W}-description`,$=W,U=!!x&&typeof x!="boolean",H=!!C,z=`${U?L:""} ${H?F:""}`,G=z.trim().length>0?z.trim():void 0,se=(T==null?void 0:T.id)||`${W}-label`,de=S&&g.jsx(Of,{labelElement:h,id:se,htmlFor:$,required:K,...V,...T,children:S},"label"),J=H&&g.jsx(Nf,{...R,...V,size:(R==null?void 0:R.size)||V.size,id:(R==null?void 0:R.id)||F,children:C},"description"),oe=g.jsx(P.Fragment,{children:v(b)},"input"),ue=U&&P.createElement(Lf,{...p,...V,size:(p==null?void 0:p.size)||V.size,key:"error",id:(p==null?void 0:p.id)||L},x),ve=w.map(we=>{switch(we){case"label":return de;case"input":return oe;case"description":return J;case"error":return ue;default:return null}});return g.jsx(XN,{value:{getStyles:O,describedBy:G,inputId:$,labelId:se,...eL(w,{hasDescription:H,hasError:U})},children:g.jsx(re,{ref:t,variant:m,size:d,mod:[{error:!!x},M],...O("root"),...A,children:ve})})});vy.classes=vn;vy.displayName="@mantine/core/InputWrapper";const nL={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},sL=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Qe(t.size,"input-height"),"--input-fz":ir(t.size),"--input-radius":t.radius===void 0?void 0:kt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?ne(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?ne(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Qe(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Mt=cr((e,t)=>{const r=ie("Input",nL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,required:u,__staticSelector:d,__stylesApiProps:m,size:y,wrapperProps:v,error:w,disabled:S,leftSection:x,leftSectionProps:C,leftSectionWidth:T,rightSection:R,rightSectionProps:p,rightSectionWidth:h,rightSectionPointerEvents:b,leftSectionPointerEvents:E,variant:D,vars:j,pointer:N,multiline:M,radius:A,id:O,withAria:V,withErrorStyles:W,mod:K,inputSize:L,__clearSection:F,__clearable:$,__defaultRightSection:U,...H}=r,{styleProps:z,rest:G}=sl(H),se=cl(),de={offsetBottom:se==null?void 0:se.offsetBottom,offsetTop:se==null?void 0:se.offsetTop},J=ze({name:["Input",d],props:m||r,classes:vn,className:o,style:a,classNames:n,styles:c,unstyled:l,stylesCtx:de,rootSelector:"wrapper",vars:j,varsResolver:sL}),oe=V?{required:u,disabled:S,"aria-invalid":!!w,"aria-describedby":se==null?void 0:se.describedBy,id:(se==null?void 0:se.inputId)||O}:{},ue=R||$&&F||U;return g.jsx(qN,{value:{size:y||"sm"},children:g.jsxs(re,{...J("wrapper"),...z,...v,mod:[{error:!!w&&W,pointer:N,disabled:S,multiline:M,"data-with-right-section":!!ue,"data-with-left-section":!!x},K],variant:D,size:y,children:[x&&g.jsx("div",{...C,"data-position":"left",...J("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:x}),g.jsx(re,{component:"input",...G,...oe,ref:t,required:u,mod:{disabled:S,error:!!w&&W},variant:D,__size:L,...J("input")}),ue&&g.jsx("div",{...p,"data-position":"right",...J("section",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),children:ue})]})})});Mt.classes=vn;Mt.Wrapper=vy;Mt.Label=Of;Mt.Error=Lf;Mt.Description=Nf;Mt.Placeholder=gy;Mt.ClearButton=sR;Mt.displayName="@mantine/core/Input";function oR(e,t,r){const n=ie(e,t,r),{label:o,description:a,error:c,required:l,classNames:u,styles:d,className:m,unstyled:y,__staticSelector:v,__stylesApiProps:w,errorProps:S,labelProps:x,descriptionProps:C,wrapperProps:T,id:R,size:p,style:h,inputContainer:b,inputWrapperOrder:E,withAsterisk:D,variant:j,vars:N,mod:M,...A}=n,{styleProps:O,rest:V}=sl(A),W={label:o,description:a,error:c,required:l,classNames:u,className:m,__staticSelector:v,__stylesApiProps:w||n,errorProps:S,labelProps:x,descriptionProps:C,unstyled:y,styles:d,size:p,style:h,inputContainer:b,inputWrapperOrder:E,withAsterisk:D,variant:j,id:R,mod:M,...T};return{...V,classNames:u,styles:d,unstyled:y,wrapperProps:{...W,...O},inputProps:{required:l,classNames:u,styles:d,unstyled:y,size:p,__staticSelector:v,__stylesApiProps:w||n,error:c,variant:j,id:R}}}const oL={__staticSelector:"InputBase",withAria:!0},yn=cr((e,t)=>{const{inputProps:r,wrapperProps:n,...o}=oR("InputBase",oL,e);return g.jsx(Mt.Wrapper,{...n,children:g.jsx(Mt,{...r,...o,ref:t})})});yn.classes={...Mt.classes,...Mt.Wrapper.classes};yn.displayName="@mantine/core/InputBase";const iL={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var iR={root:"m_8bffd616"};const aL={},mn=cr((e,t)=>{const r=ie("Flex",aL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,gap:d,rowGap:m,columnGap:y,align:v,justify:w,wrap:S,direction:x,...C}=r,T=ze({name:"Flex",classes:iR,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u}),R=er(),p=ol(),h=oC({styleProps:{gap:d,rowGap:m,columnGap:y,align:v,justify:w,wrap:S,direction:x},theme:R,data:iL});return g.jsxs(g.Fragment,{children:[h.hasResponsiveStyles&&g.jsx(wa,{selector:`.${p}`,styles:h.styles,media:h.media}),g.jsx(re,{ref:t,...T("root",{className:p,style:Co(h.inlineStyles)}),...C})]})});mn.classes=iR;mn.displayName="@mantine/core/Flex";function aR({style:e,size:t=16,...r}){return g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:ne(t),height:ne(t),display:"block"},...r,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}aR.displayName="@mantine/core/AccordionChevron";var cR={root:"m_b6d8b162"};function cL(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const lL={inherit:!1},uL=(e,{variant:t,lineClamp:r,gradient:n,size:o,color:a})=>({root:{"--text-fz":ir(o),"--text-lh":Wj(o),"--text-gradient":t==="gradient"?Ag(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?gr(a,e):void 0}}),je=cr((e,t)=>{const r=ie("Text",lL,e),{lineClamp:n,truncate:o,inline:a,inherit:c,gradient:l,span:u,__staticSelector:d,vars:m,className:y,style:v,classNames:w,styles:S,unstyled:x,variant:C,mod:T,size:R,...p}=r,h=ze({name:["Text",d],props:r,classes:cR,className:y,style:v,classNames:w,styles:S,unstyled:x,vars:m,varsResolver:uL});return g.jsx(re,{...h("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:C,mod:[{"data-truncate":cL(o),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},T],size:R,...p})});je.classes=cR;je.displayName="@mantine/core/Text";function lR(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>lR(t))}:e}function dL(e){return e?e.map(t=>lR(t)):[]}function uR(e){return e.reduce((t,r)=>"group"in r?{...t,...uR(r.items)}:(t[r.value]=r,t),{})}var zr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const fL={error:null},pL=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Qe(t,"combobox-chevron-size"),"--combobox-chevron-color":r?gr(r,e):void 0}}),yy=ye((e,t)=>{const r=ie("ComboboxChevron",fL,e),{size:n,error:o,style:a,className:c,classNames:l,styles:u,unstyled:d,vars:m,mod:y,...v}=r,w=ze({name:"ComboboxChevron",classes:zr,props:r,style:a,className:c,classNames:l,styles:u,unstyled:d,vars:m,varsResolver:pL,rootSelector:"chevron"});return g.jsx(re,{component:"svg",...v,...w("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},y],ref:t,children:g.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});yy.classes=zr;yy.displayName="@mantine/core/ComboboxChevron";const[hL,wn]=tn("Combobox component was not found in tree"),dR=P.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...o},a)=>g.jsx(Mt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));dR.displayName="@mantine/core/ComboboxClearButton";const mL={},wy=ye((e,t)=>{const{classNames:r,styles:n,className:o,style:a,hidden:c,...l}=ie("ComboboxDropdown",mL,e),u=wn();return g.jsx(ar.Dropdown,{...l,ref:t,role:"presentation","data-hidden":c||void 0,...u.getStyles("dropdown",{className:o,style:a,classNames:r,styles:n})})});wy.classes=zr;wy.displayName="@mantine/core/ComboboxDropdown";const gL={refProp:"ref"},fR=ye((e,t)=>{const{children:r,refProp:n}=ie("ComboboxDropdownTarget",gL,e);if(wn(),!Ro(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return g.jsx(ar.Target,{ref:t,refProp:n,children:r})});fR.displayName="@mantine/core/ComboboxDropdownTarget";const vL={},Sy=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxEmpty",vL,e),u=wn();return g.jsx(re,{ref:t,...u.getStyles("empty",{className:n,classNames:r,styles:a,style:o}),...l})});Sy.classes=zr;Sy.displayName="@mantine/core/ComboboxEmpty";function by({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:o,autoComplete:a}){const c=wn(),[l,u]=P.useState(null),d=y=>{if(e==null||e(y),!c.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),c.store.dropdownOpened?u(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),u(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),c.store.dropdownOpened?u(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),u(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const v=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&v!==-1?(y.preventDefault(),c.store.clickSelectedOption()):o==="button"&&(y.preventDefault(),c.store.openDropdown("keyboard"))}y.key==="Escape"&&c.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&o==="button"&&(y.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&l||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:d}}const yL={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},pR=ye((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:u,...d}=ie("ComboboxEventsTarget",yL,e);if(!Ro(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=wn(),y=by({targetType:l,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:u});return P.cloneElement(r,{...y,...d,[n]:Kt(t,m.store.targetRef,bf(r))})});pR.displayName="@mantine/core/ComboboxEventsTarget";const wL={},_y=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxFooter",wL,e),u=wn();return g.jsx(re,{ref:t,...u.getStyles("footer",{className:n,classNames:r,style:o,styles:a}),...l,onMouseDown:d=>{d.preventDefault()}})});_y.classes=zr;_y.displayName="@mantine/core/ComboboxFooter";const SL={},xy=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,children:l,label:u,...d}=ie("ComboboxGroup",SL,e),m=wn();return g.jsxs(re,{ref:t,...m.getStyles("group",{className:n,classNames:r,style:o,styles:a}),...d,children:[u&&g.jsx("div",{...m.getStyles("groupLabel",{classNames:r,styles:a}),children:u}),l]})});xy.classes=zr;xy.displayName="@mantine/core/ComboboxGroup";const bL={},Cy=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxHeader",bL,e),u=wn();return g.jsx(re,{ref:t,...u.getStyles("header",{className:n,classNames:r,style:o,styles:a}),...l,onMouseDown:d=>{d.preventDefault()}})});Cy.classes=zr;Cy.displayName="@mantine/core/ComboboxHeader";function hR({value:e,valuesDivider:t=",",...r}){return g.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}hR.displayName="@mantine/core/ComboboxHiddenInput";const _L={},Ry=ye((e,t)=>{const r=ie("ComboboxOption",_L,e),{classNames:n,className:o,style:a,styles:c,vars:l,onClick:u,id:d,active:m,onMouseDown:y,onMouseOver:v,disabled:w,selected:S,mod:x,...C}=r,T=wn(),R=P.useId(),p=d||R;return g.jsx(re,{...T.getStyles("option",{className:o,classNames:n,styles:c,style:a}),...C,ref:t,id:p,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":w,"combobox-selected":S},x],role:"option",onClick:h=>{var b;w?h.preventDefault():((b=T.onOptionSubmit)==null||b.call(T,r.value,r),u==null||u(h))},onMouseDown:h=>{h.preventDefault(),y==null||y(h)},onMouseOver:h=>{T.resetSelectionOnOptionHover&&T.store.resetSelectedOption(),v==null||v(h)}})});Ry.classes=zr;Ry.displayName="@mantine/core/ComboboxOption";const xL={},Ey=ye((e,t)=>{const r=ie("ComboboxOptions",xL,e),{classNames:n,className:o,style:a,styles:c,id:l,onMouseDown:u,labelledBy:d,...m}=r,y=wn(),v=As(l);return P.useEffect(()=>{y.store.setListId(v)},[v]),g.jsx(re,{ref:t,...y.getStyles("options",{className:o,style:a,classNames:n,styles:c}),...m,id:v,role:"listbox","aria-labelledby":d,onMouseDown:w=>{w.preventDefault(),u==null||u(w)}})});Ey.classes=zr;Ey.displayName="@mantine/core/ComboboxOptions";const CL={withAriaAttributes:!0,withKeyboardNavigation:!0},Ty=ye((e,t)=>{const r=ie("ComboboxSearch",CL,e),{classNames:n,styles:o,unstyled:a,vars:c,withAriaAttributes:l,onKeyDown:u,withKeyboardNavigation:d,size:m,...y}=r,v=wn(),w=v.getStyles("search"),S=by({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return g.jsx(Mt,{ref:Kt(t,v.store.searchRef),classNames:[{input:w.className},n],styles:[{input:w.style},o],size:m||v.size,...S,...y,__staticSelector:"Combobox"})});Ty.classes=zr;Ty.displayName="@mantine/core/ComboboxSearch";const RL={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},mR=ye((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:u,...d}=ie("ComboboxTarget",RL,e);if(!Ro(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=wn(),y=by({targetType:l,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:u}),v=P.cloneElement(r,{...y,...d});return g.jsx(ar.Target,{ref:Kt(t,m.store.targetRef),children:v})});mR.displayName="@mantine/core/ComboboxTarget";function EL(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function TL(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function kL(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function gR({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:o,loop:a=!0,scrollBehavior:c="instant"}={}){const[l,u]=Er({value:t,defaultValue:e,finalValue:!1,onChange:r}),d=P.useRef(null),m=P.useRef(-1),y=P.useRef(null),v=P.useRef(null),w=P.useRef(-1),S=P.useRef(-1),x=P.useRef(-1),C=P.useCallback((L="unknown")=>{l||(u(!0),o==null||o(L))},[u,o,l]),T=P.useCallback((L="unknown")=>{l&&(u(!1),n==null||n(L))},[u,n,l]),R=P.useCallback((L="unknown")=>{l?T(L):C(L)},[T,C,l]),p=P.useCallback(()=>{const L=document.querySelector(`#${d.current} [data-combobox-selected]`);L==null||L.removeAttribute("data-combobox-selected"),L==null||L.removeAttribute("aria-selected")},[]),h=P.useCallback(L=>{const F=document.getElementById(d.current),$=F==null?void 0:F.querySelectorAll("[data-combobox-option]");if(!$)return null;const U=L>=$.length?0:L<0?$.length-1:L;return m.current=U,$!=null&&$[U]&&!$[U].hasAttribute("data-combobox-disabled")?(p(),$[U].setAttribute("data-combobox-selected","true"),$[U].setAttribute("aria-selected","true"),$[U].scrollIntoView({block:"nearest",behavior:c}),$[U].id):null},[c,p]),b=P.useCallback(()=>{const L=document.querySelector(`#${d.current} [data-combobox-active]`);if(L){const F=document.querySelectorAll(`#${d.current} [data-combobox-option]`),$=Array.from(F).findIndex(U=>U===L);return h($)}return h(0)},[h]),E=P.useCallback(()=>h(TL(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),a)),[h,a]),D=P.useCallback(()=>h(EL(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),a)),[h,a]),j=P.useCallback(()=>h(kL(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[h]),N=P.useCallback((L="selected",F)=>{x.current=window.setTimeout(()=>{var H;const $=document.querySelectorAll(`#${d.current} [data-combobox-option]`),U=Array.from($).findIndex(z=>z.hasAttribute(`data-combobox-${L}`));m.current=U,F!=null&&F.scrollIntoView&&((H=$[U])==null||H.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),M=P.useCallback(()=>{m.current=-1,p()},[p]),A=P.useCallback(()=>{const L=document.querySelectorAll(`#${d.current} [data-combobox-option]`),F=L==null?void 0:L[m.current];F==null||F.click()},[]),O=P.useCallback(L=>{d.current=L},[]),V=P.useCallback(()=>{w.current=window.setTimeout(()=>y.current.focus(),0)},[]),W=P.useCallback(()=>{S.current=window.setTimeout(()=>v.current.focus(),0)},[]),K=P.useCallback(()=>m.current,[]);return P.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(S.current),window.clearTimeout(x.current)},[]),{dropdownOpened:l,openDropdown:C,closeDropdown:T,toggleDropdown:R,selectedOptionIndex:m.current,getSelectedOptionIndex:K,selectOption:h,selectFirstOption:j,selectActiveOption:b,selectNextOption:E,selectPreviousOption:D,resetSelectedOption:M,updateSelectedOptionIndex:N,listId:d.current,setListId:O,clickSelectedOption:A,searchRef:y,focusSearchInput:V,targetRef:v,focusTarget:W}}const PL={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},DL=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":ir(t),"--combobox-option-padding":Qe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:ne(r),"--combobox-option-fz":ir(t),"--combobox-option-padding":Qe(t,"combobox-option-padding")}});function gt(e){const t=ie("Combobox",PL,e),{classNames:r,styles:n,unstyled:o,children:a,store:c,vars:l,onOptionSubmit:u,onClose:d,size:m,dropdownPadding:y,resetSelectionOnOptionHover:v,__staticSelector:w,readOnly:S,...x}=t,C=gR(),T=c||C,R=ze({name:w||"Combobox",classes:zr,props:t,classNames:r,styles:n,unstyled:o,vars:l,varsResolver:DL}),p=()=>{d==null||d(),T.closeDropdown()};return g.jsx(hL,{value:{getStyles:R,store:T,onOptionSubmit:u,size:m,resetSelectionOnOptionHover:v,readOnly:S},children:g.jsx(ar,{opened:T.dropdownOpened,...x,onChange:h=>!h&&p(),withRoles:!1,unstyled:o,children:a})})}const jL=e=>e;gt.extend=jL;gt.classes=zr;gt.displayName="@mantine/core/Combobox";gt.Target=mR;gt.Dropdown=wy;gt.Options=Ey;gt.Option=Ry;gt.Search=Ty;gt.Empty=Sy;gt.Chevron=yy;gt.Footer=_y;gt.Header=Cy;gt.EventsTarget=pR;gt.DropdownTarget=fR;gt.Group=xy;gt.ClearButton=dR;gt.HiddenInput=hR;var vR={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const IL=vR,yR=P.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:n,styles:o,unstyled:a,children:c,label:l,description:u,id:d,disabled:m,error:y,size:v,labelPosition:w="left",bodyElement:S="div",labelElement:x="label",variant:C,style:T,vars:R,mod:p,...h},b)=>{const E=ze({name:e,props:t,className:r,style:T,classes:vR,classNames:n,styles:o,unstyled:a});return g.jsx(re,{...E("root"),ref:b,__vars:{"--label-fz":ir(v),"--label-lh":Qe(v,"label-lh")},mod:[{"label-position":w},p],variant:C,size:v,...h,children:g.jsxs(re,{component:S,htmlFor:S==="label"?d:void 0,...E("body"),children:[c,g.jsxs("div",{...E("labelWrapper"),"data-disabled":m||void 0,children:[l&&g.jsx(re,{component:x,htmlFor:x==="label"?d:void 0,...E("label"),"data-disabled":m||void 0,children:l}),u&&g.jsx(Mt.Description,{size:v,__inheritStyles:!1,...E("description"),children:u}),y&&typeof y!="boolean"&&g.jsx(Mt.Error,{size:v,__inheritStyles:!1,...E("error"),children:y})]})]})})});yR.displayName="@mantine/core/InlineInput";function ML({children:e,role:t}){const r=cl();return r?g.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):g.jsx(g.Fragment,{children:e})}function NL({size:e,style:t,...r}){const n=e!==void 0?{width:ne(e),height:ne(e),...t}:t;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Yc(e){return"group"in e}function wR({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),o=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(o.length===r)return o;Yc(c)&&o.push({group:c.group,items:wR({options:c.items,search:t,limit:r-o.length})}),Yc(c)||c.label.toLowerCase().includes(n)&&o.push(c)}return o}function LL(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function SR(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Yc(r))SR(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function OL(e,t){return Array.isArray(e)?e.includes(t):e===t}function bR({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:o,renderOption:a}){if(!Yc(e)){const l=OL(r,e.value),u=t&&l&&g.jsx(NL,{className:zr.optionsDropdownCheckIcon}),d=g.jsxs(g.Fragment,{children:[n==="left"&&u,g.jsx("span",{children:e.label}),n==="right"&&u]});return g.jsx(gt.Option,{value:e.value,disabled:e.disabled,className:Gt({[zr.optionsDropdownOption]:!o}),"data-reverse":n==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof a=="function"?a({option:e,checked:l}):d})}const c=e.items.map(l=>g.jsx(bR,{data:l,value:r,unstyled:o,withCheckIcon:t,checkIconPosition:n,renderOption:a},l.value));return g.jsx(gt.Group,{label:e.group,children:c})}function AL({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:o,limit:a,maxDropdownHeight:c,withScrollArea:l=!0,filterOptions:u=!0,withCheckIcon:d=!1,value:m,checkIconPosition:y,nothingFoundMessage:v,unstyled:w,labelId:S,renderOption:x,scrollAreaProps:C,"aria-label":T}){SR(e);const p=typeof o=="string"?(n||wR)({options:e,search:u?o:"",limit:a??1/0}):e,h=LL(p),b=p.map(E=>g.jsx(bR,{data:E,withCheckIcon:d,value:m,checkIconPosition:y,unstyled:w,renderOption:x},Yc(E)?E.group:E.value));return g.jsx(gt.Dropdown,{hidden:t||r&&h,"data-composed":!0,children:g.jsxs(gt.Options,{labelledBy:S,"aria-label":T,children:[l?g.jsx(It.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:b}):b,h&&v&&g.jsx(gt.Empty,{children:v})]})})}const _R=P.createContext(null),$L=_R.Provider;function FL(){return{withinGroup:!!P.useContext(_R)}}var Af={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const zL={},BL=(e,{spacing:t})=>({group:{"--ag-spacing":Zt(t)}}),ky=ye((e,t)=>{const r=ie("AvatarGroup",zL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,spacing:d,...m}=r,y=ze({name:"AvatarGroup",classes:Af,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:BL,rootSelector:"group"});return g.jsx($L,{value:!0,children:g.jsx(re,{ref:t,...y("group"),...m})})});ky.classes=Af;ky.displayName="@mantine/core/AvatarGroup";function UL(e){return g.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function VL(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const HL=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function WL(e,t=HL){const r=VL(e),n=Math.abs(r)%t.length;return t[n]}function qL(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const GL={},KL=(e,{size:t,radius:r,variant:n,gradient:o,color:a,autoContrast:c,name:l,allowedInitialsColors:u})=>{const d=a==="initials"&&typeof l=="string"?WL(l,u):a,m=e.variantColorResolver({color:d||"gray",theme:e,gradient:o,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":Qe(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:kt(r),"--avatar-bg":d||n?m.background:void 0,"--avatar-color":d||n?m.color:void 0,"--avatar-bd":d||n?m.border:void 0}}},vr=cr((e,t)=>{const r=ie("Avatar",GL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,src:d,alt:m,radius:y,color:v,gradient:w,imageProps:S,children:x,autoContrast:C,mod:T,name:R,allowedInitialsColors:p,...h}=r,b=FL(),[E,D]=P.useState(!d),j=ze({name:"Avatar",props:r,classes:Af,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:KL});return P.useEffect(()=>D(!d),[d]),g.jsx(re,{...j("root"),mod:[{"within-group":b.withinGroup},T],ref:t,...h,children:E?g.jsx("span",{...j("placeholder"),title:m,children:x||typeof R=="string"&&qL(R)||g.jsx(UL,{})}):g.jsx("img",{...S,...j("image"),src:d,alt:m,onError:N=>{var M;D(!0),(M=S==null?void 0:S.onError)==null||M.call(S,N)}})})});vr.classes=Af;vr.displayName="@mantine/core/Avatar";vr.Group=ky;var xR={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const XL={},YL=(e,{radius:t,color:r,gradient:n,variant:o,size:a,autoContrast:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:c});return{root:{"--badge-height":Qe(a,"badge-height"),"--badge-padding-x":Qe(a,"badge-padding-x"),"--badge-fz":Qe(a,"badge-fz"),"--badge-radius":t===void 0?void 0:kt(t),"--badge-bg":r||o?l.background:void 0,"--badge-color":r||o?l.color:void 0,"--badge-bd":r||o?l.border:void 0,"--badge-dot-color":o==="dot"?gr(r,e):void 0}}},fn=cr((e,t)=>{const r=ie("Badge",XL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,radius:d,color:m,gradient:y,leftSection:v,rightSection:w,children:S,variant:x,fullWidth:C,autoContrast:T,circle:R,mod:p,...h}=r,b=ze({name:"Badge",props:r,classes:xR,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:YL});return g.jsxs(re,{variant:x,mod:[{block:C,circle:R,"with-right-section":!!w,"with-left-section":!!v},p],...b("root",{variant:x}),ref:t,...h,children:[v&&g.jsx("span",{...b("section"),"data-position":"left",children:v}),g.jsx("span",{...b("label"),children:S}),w&&g.jsx("span",{...b("section"),"data-position":"right",children:w})]})});fn.classes=xR;fn.displayName="@mantine/core/Badge";var Ca={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const c_={orientation:"horizontal"},JL=(e,{borderWidth:t})=>({group:{"--button-border-width":ne(t)}}),Py=ye((e,t)=>{const r=ie("ButtonGroup",c_,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,orientation:u,vars:d,borderWidth:m,variant:y,mod:v,...w}=ie("ButtonGroup",c_,e),S=ze({name:"ButtonGroup",props:r,classes:Ca,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:JL,rootSelector:"group"});return g.jsx(re,{...S("group"),ref:t,variant:y,mod:[{"data-orientation":u},v],role:"group",...w})});Py.classes=Ca;Py.displayName="@mantine/core/ButtonGroup";const l_={},QL=(e,{radius:t,color:r,gradient:n,variant:o,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Qe(c,"section-height"),"--section-padding-x":Qe(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?ir(c.replace("compact-","")):ir(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||o?l.background:void 0,"--section-color":l.color,"--section-bd":r||o?l.border:void 0}}},Dy=ye((e,t)=>{const r=ie("ButtonGroupSection",l_,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,vars:u,variant:d,gradient:m,radius:y,autoContrast:v,...w}=ie("ButtonGroupSection",l_,e),S=ze({name:"ButtonGroupSection",props:r,classes:Ca,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:u,varsResolver:QL,rootSelector:"groupSection"});return g.jsx(re,{...S("groupSection"),ref:t,variant:d,...w})});Dy.classes=Ca;Dy.displayName="@mantine/core/ButtonGroupSection";const ZL={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ne(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},eO={},tO=(e,{radius:t,color:r,gradient:n,variant:o,size:a,justify:c,autoContrast:l})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:l});return{root:{"--button-justify":c,"--button-height":Qe(a,"button-height"),"--button-padding-x":Qe(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?ir(a.replace("compact-","")):ir(a),"--button-radius":t===void 0?void 0:kt(t),"--button-bg":r||o?u.background:void 0,"--button-hover":r||o?u.hover:void 0,"--button-color":u.color,"--button-bd":r||o?u.border:void 0,"--button-hover-color":r||o?u.hoverColor:void 0}}},Ie=cr((e,t)=>{const r=ie("Button",eO,e),{style:n,vars:o,className:a,color:c,disabled:l,children:u,leftSection:d,rightSection:m,fullWidth:y,variant:v,radius:w,loading:S,loaderProps:x,gradient:C,classNames:T,styles:R,unstyled:p,"data-disabled":h,autoContrast:b,mod:E,...D}=r,j=ze({name:"Button",props:r,classes:Ca,className:a,style:n,classNames:T,styles:R,unstyled:p,vars:o,varsResolver:tO}),N=!!d,M=!!m;return g.jsxs(Jn,{ref:t,...j("root",{active:!l&&!S&&!h}),unstyled:p,variant:v,disabled:l||S,mod:[{disabled:l||h,loading:S,block:y,"with-left-section":N,"with-right-section":M},E],...D,children:[g.jsx($s,{mounted:!!S,transition:ZL,duration:150,children:A=>g.jsx(re,{component:"span",...j("loader",{style:A}),"aria-hidden":!0,children:g.jsx(Fs,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),g.jsxs("span",{...j("inner"),children:[d&&g.jsx(re,{component:"span",...j("section"),mod:{position:"left"},children:d}),g.jsx(re,{component:"span",mod:{loading:S},...j("label"),children:u}),m&&g.jsx(re,{component:"span",...j("section"),mod:{position:"right"},children:m})]})]})});Ie.classes=Ca;Ie.displayName="@mantine/core/Button";Ie.Group=Py;Ie.GroupSection=Dy;const[rO,nO]=tn("Card component was not found in tree");var jy={root:"m_e615b15f",section:"m_599a2148"};const sO={},$f=cr((e,t)=>{const r=ie("CardSection",sO,e),{classNames:n,className:o,style:a,styles:c,vars:l,withBorder:u,inheritPadding:d,mod:m,...y}=r,v=nO();return g.jsx(re,{ref:t,mod:[{"with-border":u,"inherit-padding":d},m],...v.getStyles("section",{className:o,style:a,styles:c,classNames:n}),...y})});$f.classes=jy;$f.displayName="@mantine/core/CardSection";const oO={},iO=(e,{padding:t})=>({root:{"--card-padding":Zt(t)}}),Qr=cr((e,t)=>{const r=ie("Card",oO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,children:d,padding:m,...y}=r,v=ze({name:"Card",props:r,classes:jy,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:iO}),w=P.Children.toArray(d),S=w.map((x,C)=>typeof x=="object"&&x&&"type"in x&&x.type===$f?P.cloneElement(x,{"data-first-section":C===0||void 0,"data-last-section":C===w.length-1||void 0}):x);return g.jsx(rO,{value:{getStyles:v},children:g.jsx(al,{ref:t,unstyled:l,...v("root"),...y,children:S})})});Qr.classes=jy;Qr.displayName="@mantine/core/Card";Qr.Section=$f;var CR={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const u_={withShadow:!0},aO=(e,{radius:t,size:r})=>({root:{"--cs-radius":t===void 0?void 0:kt(t),"--cs-size":ne(r)}}),Ra=cr((e,t)=>{const r=ie("ColorSwatch",u_,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,color:d,size:m,radius:y,withShadow:v,children:w,variant:S,...x}=ie("ColorSwatch",u_,r),C=ze({name:"ColorSwatch",props:r,classes:CR,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:aO});return g.jsxs(re,{ref:t,variant:S,size:m,...C("root",{focusable:!0}),...x,children:[g.jsx("span",{...C("alphaOverlay")}),v&&g.jsx("span",{...C("shadowOverlay")}),g.jsx("span",{...C("colorOverlay",{style:{backgroundColor:d}})}),g.jsx("span",{...C("childrenOverlay"),children:w})]})});Ra.classes=CR;Ra.displayName="@mantine/core/ColorSwatch";const[cO,Iy]=pi(null),My=P.forwardRef(({position:e,...t},r)=>g.jsx(re,{ref:r,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));My.displayName="@mantine/core/ColorPickerThumb";var Ny={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const lO={},Ly=ye((e,t)=>{var $;const r=ie("ColorSlider",lO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,onChange:d,onChangeEnd:m,maxValue:y,round:v,size:w="md",focusable:S=!0,value:x,overlays:C,thumbColor:T="transparent",onScrubStart:R,onScrubEnd:p,__staticSelector:h="ColorPicker",...b}=r,E=ze({name:h,classes:Ny,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l}),j=(($=Iy())==null?void 0:$.getStyles)||E,N=er(),[M,A]=P.useState({y:0,x:x/y}),O=P.useRef(M),V=U=>v?Math.round(U*y):U*y,{ref:W}=Nv(({x:U,y:H})=>{O.current={x:U,y:H},d==null||d(V(U))},{onScrubEnd:()=>{const{x:U}=O.current;m==null||m(V(U)),p==null||p()},onScrubStart:R});Fr(()=>{A({y:0,x:x/y})},[x]);const K=(U,H)=>{U.preventDefault();const z=Jx(H);d==null||d(V(z.x)),m==null||m(V(z.x))},L=U=>{switch(U.key){case"ArrowRight":{K(U,{x:M.x+.05,y:M.y});break}case"ArrowLeft":{K(U,{x:M.x-.05,y:M.y});break}}},F=C.map((U,H)=>P.createElement("div",{...j("sliderOverlay"),style:U,key:H}));return g.jsxs(re,{...b,ref:Kt(W,t),...j("slider"),role:"slider","aria-valuenow":x,"aria-valuemax":y,"aria-valuemin":0,tabIndex:S?0:-1,onKeyDown:L,"data-focus-ring":N.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${w})`},children:[F,g.jsx(My,{position:M,...j("thumb",{style:{top:ne(1),background:T}})})]})});Ly.displayName="@mantine/core/ColorSlider";function pn(e,t=0,r=10**t){return Math.round(r*e)/r}function uO({h:e,s:t,l:r,a:n}){const o=t*((r<50?r:100-r)/100);return{h:e,s:o>0?2*o/(r+o)*100:0,v:r+o,a:n}}const dO={grad:360/400,turn:360,rad:360/(Math.PI*2)};function fO(e,t="deg"){return Number(e)*(dO[t]||1)}const pO=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function d_(e){const t=pO.exec(e);return t?uO({h:fO(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Kg({r:e,g:t,b:r,a:n}){const o=Math.max(e,t,r),a=o-Math.min(e,t,r),c=a?o===e?(t-r)/a:o===t?2+(r-e)/a:4+(e-t)/a:0;return{h:pn(60*(c<0?c+6:c),3),s:pn(o?a/o*100:0,3),v:pn(o/255*100,3),a:n}}function Xg(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?Kg({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):Kg({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function hO(e){const t=e[0]==="#"?e.slice(1):e,r=c=>pn(parseInt(c,16)/255,3);if(t.length===4){const c=t.slice(0,3),l=r(t[3]+t[3]);return{...Xg(c),a:l}}const n=t.slice(0,6),o=r(t.slice(6,8));return{...Xg(n),a:o}}const mO=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function f_(e){const t=mO.exec(e);return t?Kg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const RR={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},gO={hex:Xg,hexa:hO,rgb:f_,rgba:f_,hsl:d_,hsla:d_};function Lc(e){for(const[,t]of Object.entries(RR))if(t.test(e))return!0;return!1}function Zo(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[r,n]of Object.entries(RR))if(n.test(t))return gO[r](t);return{h:0,s:0,v:0,a:1}}const vO={},ER=P.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:o,color:a,...c}=ie("AlphaSlider",vO,e);return g.jsx(Ly,{...c,ref:t,value:r,onChange:l=>n==null?void 0:n(pn(l,2)),onChangeEnd:l=>o==null?void 0:o(pn(l,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${ne(8)} ${ne(8)}`,backgroundPosition:`0 0, 0 ${ne(4)}, ${ne(4)} ${ne(-4)}, ${ne(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${a})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${ne(1)} inset, rgb(0, 0, 0, .15) 0 0 ${ne(4)} inset`}]})});ER.displayName="@mantine/core/AlphaSlider";function TR({h:e,s:t,v:r,a:n}){const o=e/360*6,a=t/100,c=r/100,l=Math.floor(o),u=c*(1-a),d=c*(1-(o-l)*a),m=c*(1-(1-o+l)*a),y=l%6;return{r:pn([c,d,u,u,m,c][y]*255),g:pn([m,c,c,d,u,u][y]*255),b:pn([u,u,m,c,c,d][y]*255),a:pn(n,2)}}function p_(e,t){const{r,g:n,b:o,a}=TR(e);return t?`rgba(${r}, ${n}, ${o}, ${pn(a,2)})`:`rgb(${r}, ${n}, ${o})`}function h_({h:e,s:t,v:r,a:n},o){const a=(200-t)*r/100,c={h:Math.round(e),s:Math.round(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:Math.round(a/2)};return o?`hsla(${c.h}, ${c.s}%, ${c.l}%, ${pn(n,2)})`:`hsl(${c.h}, ${c.s}%, ${c.l}%)`}function Qu(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function kR(e){const{r:t,g:r,b:n}=TR(e);return`#${Qu(t)}${Qu(r)}${Qu(n)}`}function yO(e){const t=Math.round(e.a*255);return`${kR(e)}${Qu(t)}`}const Gm={hex:kR,hexa:e=>yO(e),rgb:e=>p_(e,!1),rgba:e=>p_(e,!0),hsl:e=>h_(e,!1),hsla:e=>h_(e,!0)};function Vn(e,t){return t?e in Gm?Gm[e](t):Gm.hex(t):"#000000"}const PR=P.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:o,color:a,...c}=ie("HueSlider",{},e);return g.jsx(Ly,{...c,ref:t,value:r,onChange:n,onChangeEnd:o,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${ne(1)} inset, rgb(0, 0, 0, .15) 0 0 ${ne(4)} inset`}]})});PR.displayName="@mantine/core/HueSlider";function DR({className:e,onChange:t,onChangeEnd:r,value:n,saturationLabel:o,focusable:a=!0,size:c,color:l,onScrubStart:u,onScrubEnd:d,...m}){const{getStyles:y}=Iy(),[v,w]=P.useState({x:n.s/100,y:1-n.v/100}),S=P.useRef(v),{ref:x}=Nv(({x:R,y:p})=>{S.current={x:R,y:p},t({s:Math.round(R*100),v:Math.round((1-p)*100)})},{onScrubEnd:()=>{const{x:R,y:p}=S.current;r({s:Math.round(R*100),v:Math.round((1-p)*100)}),d==null||d()},onScrubStart:u});P.useEffect(()=>{w({x:n.s/100,y:1-n.v/100})},[n.s,n.v]);const C=(R,p)=>{R.preventDefault();const h=Jx(p);t({s:Math.round(h.x*100),v:Math.round((1-h.y)*100)}),r({s:Math.round(h.x*100),v:Math.round((1-h.y)*100)})},T=R=>{switch(R.key){case"ArrowUp":{C(R,{y:v.y-.05,x:v.x});break}case"ArrowDown":{C(R,{y:v.y+.05,x:v.x});break}case"ArrowRight":{C(R,{x:v.x+.05,y:v.y});break}case"ArrowLeft":{C(R,{x:v.x-.05,y:v.y});break}}};return g.jsxs(re,{...y("saturation"),ref:x,...m,role:"slider","aria-label":o,"aria-valuenow":v.x,"aria-valuetext":Vn("rgba",n),tabIndex:a?0:-1,onKeyDown:T,children:[g.jsx("div",{...y("saturationOverlay",{style:{backgroundColor:`hsl(${n.h}, 100%, 50%)`}})}),g.jsx("div",{...y("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),g.jsx("div",{...y("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),g.jsx(My,{position:v,...y("thumb",{style:{backgroundColor:l}})})]})}DR.displayName="@mantine/core/Saturation";const jR=P.forwardRef(({className:e,datatype:t,setValue:r,onChangeEnd:n,size:o,focusable:a,data:c,swatchesPerRow:l,...u},d)=>{const m=Iy(),y=c.map((v,w)=>P.createElement(Ra,{...m.getStyles("swatch"),unstyled:m.unstyled,component:"button",type:"button",color:v,key:w,radius:"sm",onClick:()=>{r(v),n==null||n(v)},"aria-label":v,tabIndex:a?0:-1,"data-swatch":!0}));return g.jsx(re,{...m.getStyles("swatches"),ref:d,...u,children:y})});jR.displayName="@mantine/core/Swatches";const wO={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},SO=(e,{size:t,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":Qe(t,"cp-preview-size"),"--cp-width":Qe(t,"cp-width"),"--cp-body-spacing":Zt(t),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":Qe(t,"cp-thumb-size"),"--cp-saturation-height":Qe(t,"cp-saturation-height")}}),Oy=ye((e,t)=>{const r=ie("ColorPicker",wO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,format:d,value:m,defaultValue:y,onChange:v,onChangeEnd:w,withPicker:S,size:x,saturationLabel:C,hueLabel:T,alphaLabel:R,focusable:p,swatches:h,swatchesPerRow:b,fullWidth:E,onColorSwatchClick:D,__staticSelector:j,mod:N,...M}=r,A=ze({name:j,props:r,classes:Ny,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"wrapper",vars:u,varsResolver:SO}),O=P.useRef(d),V=P.useRef(""),W=P.useRef(-1),K=P.useRef(!1),L=d==="hexa"||d==="rgba"||d==="hsla",[F,$,U]=Er({value:m,defaultValue:y,finalValue:"#FFFFFF",onChange:v}),[H,z]=P.useState(Zo(F)),G=()=>{window.clearTimeout(W.current),K.current=!0},se=()=>{window.clearTimeout(W.current),W.current=window.setTimeout(()=>{K.current=!1},200)},de=J=>{z(oe=>{const ue={...oe,...J};return V.current=Vn(O.current,ue),ue}),$(V.current)};return Fr(()=>{Lc(m)&&!K.current&&z(Zo(m))},[m]),Fr(()=>{O.current=d,$(Vn(d,H))},[d]),g.jsx(cO,{value:{getStyles:A,unstyled:l},children:g.jsxs(re,{ref:t,...A("wrapper"),size:x,mod:[{"full-width":E},N],...M,children:[S&&g.jsxs(g.Fragment,{children:[g.jsx(DR,{value:H,onChange:de,onChangeEnd:({s:J,v:oe})=>w==null?void 0:w(Vn(O.current,{...H,s:J,v:oe})),color:F,size:x,focusable:p,saturationLabel:C,onScrubStart:G,onScrubEnd:se}),g.jsxs("div",{...A("body"),children:[g.jsxs("div",{...A("sliders"),children:[g.jsx(PR,{value:H.h,onChange:J=>de({h:J}),onChangeEnd:J=>w==null?void 0:w(Vn(O.current,{...H,h:J})),size:x,focusable:p,"aria-label":T,onScrubStart:G,onScrubEnd:se}),L&&g.jsx(ER,{value:H.a,onChange:J=>de({a:J}),onChangeEnd:J=>{w==null||w(Vn(O.current,{...H,a:J}))},size:x,color:Vn("hex",H),focusable:p,"aria-label":R,onScrubStart:G,onScrubEnd:se})]}),L&&g.jsx(Ra,{color:F,radius:"sm",size:"var(--cp-preview-size)",...A("preview")})]})]}),Array.isArray(h)&&g.jsx(jR,{data:h,swatchesPerRow:b,focusable:p,setValue:$,onChangeEnd:J=>{const oe=Vn(d,Zo(J));D==null||D(oe),w==null||w(oe),U||z(Zo(J))}})]})})});Oy.classes=Ny;Oy.displayName="@mantine/core/ColorPicker";function bO({style:e,...t}){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M11 7l6 6"}),g.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var m_={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const g_={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},_O=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":Qe(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":Qe(t,"ci-preview-size")}}),Ff=ye((e,t)=>{const r=ie("ColorInput",g_,e),{classNames:n,styles:o,unstyled:a,disallowInput:c,fixOnBlur:l,popoverProps:u,withPreview:d,withEyeDropper:m,eyeDropperIcon:y,closeOnColorSwatchClick:v,eyeDropperButtonProps:w,value:S,defaultValue:x,onChange:C,onChangeEnd:T,onClick:R,onFocus:p,onBlur:h,inputProps:b,format:E,wrapperProps:D,readOnly:j,withPicker:N,swatches:M,disabled:A,leftSection:O,rightSection:V,swatchesPerRow:W,...K}=oR("ColorInput",g_,e),L=ze({name:"ColorInput",props:r,classes:m_,classNames:n,styles:o,unstyled:a,rootSelector:"wrapper",vars:r.vars,varsResolver:_O}),{resolvedClassNames:F,resolvedStyles:$}=hi({classNames:n,styles:o,props:r}),[U,H]=P.useState(!1),[z,G]=P.useState(""),[se,de]=Er({value:S,defaultValue:x,finalValue:"",onChange:C}),{supported:J,open:oe}=mI(),ue=g.jsx(ct,{...w,...L("eyeDropperButton",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),variant:"subtle",color:"gray",size:b.size,unstyled:a,onClick:()=>oe().then(ae=>{if(ae!=null&&ae.sRGBHex){const Ee=Vn(E,Zo(ae.sRGBHex));de(Ee),T==null||T(Ee)}}).catch(()=>{}),children:y||g.jsx(bO,{...L("eyeDropperIcon")})}),ve=ae=>{p==null||p(ae),H(!0)},we=ae=>{l&&de(z),h==null||h(ae),H(!1)},Ne=ae=>{R==null||R(ae),H(!0)};return P.useEffect(()=>{(Lc(se)||se.trim()==="")&&G(se)},[se]),Fr(()=>{Lc(se)&&de(Vn(E,Zo(se)))},[E]),g.jsx(Mt.Wrapper,{...D,classNames:F,styles:$,__staticSelector:"ColorInput",children:g.jsxs(ar,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:U,...u,classNames:F,styles:$,unstyled:a,withRoles:!1,disabled:j||N===!1&&(!Array.isArray(M)||M.length===0),children:[g.jsx(ar.Target,{children:g.jsx(Mt,{autoComplete:"off",...K,...b,classNames:F,styles:$,disabled:A,ref:t,__staticSelector:"ColorInput",onFocus:ve,onBlur:we,onClick:Ne,spellCheck:!1,value:se,onChange:ae=>{const Ee=ae.currentTarget.value;de(Ee),Lc(Ee)&&(T==null||T(Vn(E,Zo(Ee))))},leftSection:O||(d?g.jsx(Ra,{color:Lc(se)?se:"#fff",size:"var(--ci-preview-size)",...L("colorPreview")}):null),readOnly:c||j,pointer:c,unstyled:a,rightSection:V||(m&&!A&&!j&&J?ue:null)})}),g.jsx(ar.Dropdown,{onMouseDown:ae=>ae.preventDefault(),className:m_.dropdown,children:g.jsx(Oy,{__staticSelector:"ColorInput",value:se,onChange:de,onChangeEnd:T,format:E,swatches:M,swatchesPerRow:W,withPicker:N,size:b.size,focusable:!1,unstyled:a,styles:$,classNames:F,onColorSwatchClick:()=>v&&H(!1)})})]})})});Ff.classes=yn.classes;Ff.displayName="@mantine/core/ColorInput";const xO={timeout:1e3};function IR(e){const{children:t,timeout:r,value:n,...o}=ie("CopyButton",xO,e),a=Jj({timeout:r}),c=()=>a.copy(n);return g.jsx(g.Fragment,{children:t({copy:c,copied:a.copied,...o})})}IR.displayName="@mantine/core/CopyButton";var MR={root:"m_3eebeb36",label:"m_9e365f20"};const CO={orientation:"horizontal"},RO=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?gr(t,e):void 0,"--divider-border-style":r,"--divider-size":Qe(n,"divider-size")}}),Cr=ye((e,t)=>{const r=ie("Divider",CO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,color:d,orientation:m,label:y,labelPosition:v,mod:w,...S}=r,x=ze({name:"Divider",classes:MR,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:RO});return g.jsx(re,{ref:t,mod:[{orientation:m,"with-label":!!y},w],...x("root"),...S,role:"separator",children:y&&g.jsx(re,{component:"span",mod:{position:v},...x("label"),children:y})})});Cr.classes=MR;Cr.displayName="@mantine/core/Divider";const[EO,Ea]=tn("Drawer component was not found in tree");var Bs={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const TO={},zf=ye((e,t)=>{const r=ie("DrawerBody",TO,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=Ea();return g.jsx(uy,{ref:t,...d.getStyles("body",{classNames:n,style:a,styles:c,className:o}),...u})});zf.classes=Bs;zf.displayName="@mantine/core/DrawerBody";const kO={},Bf=ye((e,t)=>{const r=ie("DrawerCloseButton",kO,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=Ea();return g.jsx(dy,{ref:t,...d.getStyles("close",{classNames:n,style:a,styles:c,className:o}),...u})});Bf.classes=Bs;Bf.displayName="@mantine/core/DrawerCloseButton";const PO={},Uf=ye((e,t)=>{const r=ie("DrawerContent",PO,e),{classNames:n,className:o,style:a,styles:c,vars:l,children:u,radius:d,__hidden:m,...y}=r,v=Ea(),w=v.scrollAreaComponent||nR;return g.jsx(fy,{...v.getStyles("content",{className:o,style:a,styles:c,classNames:n}),innerProps:v.getStyles("inner",{className:o,style:a,styles:c,classNames:n}),ref:t,...y,radius:d||v.radius||0,"data-hidden":m||void 0,children:g.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:u})})});Uf.classes=Bs;Uf.displayName="@mantine/core/DrawerContent";const DO={},Vf=ye((e,t)=>{const r=ie("DrawerHeader",DO,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=Ea();return g.jsx(py,{ref:t,...d.getStyles("header",{classNames:n,style:a,styles:c,className:o}),...u})});Vf.classes=Bs;Vf.displayName="@mantine/core/DrawerHeader";const jO={},Hf=ye((e,t)=>{const r=ie("DrawerOverlay",jO,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=Ea();return g.jsx(hy,{ref:t,...d.getStyles("overlay",{classNames:n,style:a,styles:c,className:o}),...u})});Hf.classes=Bs;Hf.displayName="@mantine/core/DrawerOverlay";function IO(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function MO(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const NO={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},LO={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},OO={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Br("modal"),position:"left"},AO=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Qe(r,"drawer-size"),"--drawer-flex":MO(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":IO(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":ne(n)}}),Wf=ye((e,t)=>{const r=ie("DrawerRoot",OO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,scrollAreaComponent:d,position:m,transitionProps:y,radius:v,...w}=r,{dir:S}=To(),x=ze({name:"Drawer",classes:Bs,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:AO}),C=(S==="rtl"?LO:NO)[m];return g.jsx(EO,{value:{scrollAreaComponent:d,getStyles:x,radius:v},children:g.jsx(ly,{ref:t,...x("root"),transitionProps:{transition:C,...y},unstyled:l,...w})})});Wf.classes=Bs;Wf.displayName="@mantine/core/DrawerRoot";const[$O,FO]=pi();function NR({children:e}){const[t,r]=P.useState([]),[n,o]=P.useState(Br("modal"));return g.jsx($O,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),o(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}NR.displayName="@mantine/core/DrawerStack";const zO={},qf=ye((e,t)=>{const r=ie("DrawerTitle",zO,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=Ea();return g.jsx(my,{ref:t,...d.getStyles("title",{classNames:n,style:a,styles:c,className:o}),...u})});qf.classes=Bs;qf.displayName="@mantine/core/DrawerTitle";const BO={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Br("modal"),withOverlay:!0,withCloseButton:!0},Sn=ye((e,t)=>{const{title:r,withOverlay:n,overlayProps:o,withCloseButton:a,closeButtonProps:c,children:l,opened:u,stackId:d,zIndex:m,...y}=ie("Drawer",BO,e),v=FO(),w=!!r||a,S=v&&d?{closeOnEscape:v.currentId===d,trapFocus:v.currentId===d,zIndex:v.getZIndex(d)}:{},x=n===!1?!1:d&&v?v.currentId===d:u;return P.useEffect(()=>{v&&d&&(u?v.addModal(d,m||Br("modal")):v.removeModal(d))},[u,d,m]),g.jsxs(Wf,{ref:t,opened:u,zIndex:v&&d?v.getZIndex(d):m,...y,...S,children:[n&&g.jsx(Hf,{visible:x,transitionProps:v&&d?{duration:0}:void 0,...o}),g.jsxs(Uf,{__hidden:v&&d&&u?d!==v.currentId:!1,children:[w&&g.jsxs(Vf,{children:[r&&g.jsx(qf,{children:r}),a&&g.jsx(Bf,{...c})]}),g.jsx(zf,{children:l})]})]})});Sn.classes=Bs;Sn.displayName="@mantine/core/Drawer";Sn.Root=Wf;Sn.Overlay=Hf;Sn.Content=Uf;Sn.Body=zf;Sn.Header=Vf;Sn.Title=qf;Sn.CloseButton=Bf;Sn.Stack=NR;function UO({open:e,close:t,openDelay:r,closeDelay:n}){const o=P.useRef(-1),a=P.useRef(-1),c=()=>{window.clearTimeout(o.current),window.clearTimeout(a.current)},l=()=>{c(),r===0||r===void 0?e():o.current=window.setTimeout(e,r)},u=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return P.useEffect(()=>c,[]),{openDropdown:l,closeDropdown:u}}const[v_,LR]=tn("Grid component was not found in tree"),Yg=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,y_=(e,t,r)=>r||e==="auto"?"100%":e==="content"?"unset":Yg(e,t),w_=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},S_=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function VO({span:e,order:t,offset:r,selector:n}){var w;const o=er(),a=LR(),c=a.breakpoints||o.breakpoints,u=qn(e)===void 0?12:qn(e),d=Co({"--col-order":(w=qn(t))==null?void 0:w.toString(),"--col-flex-grow":w_(u,a.grow),"--col-flex-basis":Yg(u,a.columns),"--col-width":u==="content"?"auto":void 0,"--col-max-width":y_(u,a.columns,a.grow),"--col-offset":S_(qn(r),a.columns)}),m=Bt(c).reduce((S,x)=>{var C;return S[x]||(S[x]={}),typeof t=="object"&&t[x]!==void 0&&(S[x]["--col-order"]=(C=t[x])==null?void 0:C.toString()),typeof e=="object"&&e[x]!==void 0&&(S[x]["--col-flex-grow"]=w_(e[x],a.grow),S[x]["--col-flex-basis"]=Yg(e[x],a.columns),S[x]["--col-width"]=e[x]==="content"?"auto":void 0,S[x]["--col-max-width"]=y_(e[x],a.columns,a.grow)),typeof r=="object"&&r[x]!==void 0&&(S[x]["--col-offset"]=S_(r[x],a.columns)),S},{}),v=Mv(Bt(m),c).filter(S=>Bt(m[S.value]).length>0).map(S=>({query:a.type==="container"?`mantine-grid (min-width: ${c[S.value]})`:`(min-width: ${c[S.value]})`,styles:m[S.value]}));return g.jsx(wa,{styles:d,media:a.type==="container"?void 0:v,container:a.type==="container"?v:void 0,selector:n})}var Ay={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const HO={span:12},$y=ye((e,t)=>{const r=ie("GridCol",HO,e),{classNames:n,className:o,style:a,styles:c,vars:l,span:u,order:d,offset:m,...y}=r,v=LR(),w=ol();return g.jsxs(g.Fragment,{children:[g.jsx(VO,{selector:`.${w}`,span:u,order:d,offset:m}),g.jsx(re,{ref:t,...v.getStyles("col",{className:Gt(o,w),style:a,classNames:n,styles:c}),...y})]})});$y.classes=Ay;$y.displayName="@mantine/core/GridCol";function b_({gutter:e,selector:t,breakpoints:r,type:n}){const o=er(),a=r||o.breakpoints,c=Co({"--grid-gutter":Zt(qn(e))}),l=Bt(a).reduce((m,y)=>(m[y]||(m[y]={}),typeof e=="object"&&e[y]!==void 0&&(m[y]["--grid-gutter"]=Zt(e[y])),m),{}),d=Mv(Bt(l),a).filter(m=>Bt(l[m.value]).length>0).map(m=>({query:n==="container"?`mantine-grid (min-width: ${a[m.value]})`:`(min-width: ${a[m.value]})`,styles:l[m.value]}));return g.jsx(wa,{styles:c,media:n==="container"?void 0:d,container:n==="container"?d:void 0,selector:t})}const WO={gutter:"md",grow:!1,columns:12},qO=(e,{justify:t,align:r,overflow:n})=>({root:{"--grid-justify":t,"--grid-align":r,"--grid-overflow":n}}),mo=ye((e,t)=>{const r=ie("Grid",WO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,grow:d,gutter:m,columns:y,align:v,justify:w,children:S,breakpoints:x,type:C,...T}=r,R=ze({name:"Grid",classes:Ay,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:qO}),p=ol();return C==="container"&&x?g.jsxs(v_,{value:{getStyles:R,grow:d,columns:y||12,breakpoints:x,type:C},children:[g.jsx(b_,{selector:`.${p}`,...r}),g.jsx("div",{...R("container"),children:g.jsx(re,{ref:t,...R("root",{className:p}),...T,children:g.jsx("div",{...R("inner"),children:S})})})]}):g.jsxs(v_,{value:{getStyles:R,grow:d,columns:y||12,breakpoints:x,type:C},children:[g.jsx(b_,{selector:`.${p}`,...r}),g.jsx(re,{ref:t,...R("root",{className:p}),...T,children:g.jsx("div",{...R("inner"),children:S})})]})});mo.classes=Ay;mo.displayName="@mantine/core/Grid";mo.Col=$y;function GO(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=ne(t),[o,a]=e.split("-");return o==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),o==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),o==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var OR={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const KO={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},XO=(e,{color:t,position:r,offset:n,size:o,radius:a,zIndex:c,autoContrast:l})=>({root:{"--indicator-color":t?gr(t,e):void 0,"--indicator-text-color":Fv(l,e)?xf({color:t,theme:e,autoContrast:l}):void 0,"--indicator-size":ne(o),"--indicator-radius":a===void 0?void 0:kt(a),"--indicator-z-index":c==null?void 0:c.toString(),...GO(r,n)}}),Fy=ye((e,t)=>{const r=ie("Indicator",KO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,children:d,position:m,offset:y,inline:v,label:w,radius:S,color:x,withBorder:C,disabled:T,processing:R,zIndex:p,autoContrast:h,mod:b,...E}=r,D=ze({name:"Indicator",classes:OR,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:XO});return g.jsxs(re,{ref:t,...D("root"),mod:[{inline:v},b],...E,children:[!T&&g.jsx(re,{mod:{"with-label":!!w,"with-border":C,processing:R},...D("indicator"),children:w}),d]})});Fy.classes=OR;Fy.displayName="@mantine/core/Indicator";function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function zy(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YO=P.useLayoutEffect,JO=function(t){var r=xt.useRef(t);return YO(function(){r.current=t}),r},__=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},QO=function(t,r){var n=xt.useRef();return xt.useCallback(function(o){t.current=o,n.current&&__(n.current,null),n.current=r,r&&__(r,o)},[r])},x_={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},ZO=function(t){Object.keys(x_).forEach(function(r){t.style.setProperty(r,x_[r],"important")})},C_=ZO,Sr=null,R_=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function e3(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),Sr||(Sr=document.createElement("textarea"),Sr.setAttribute("tabindex","-1"),Sr.setAttribute("aria-hidden","true"),C_(Sr)),Sr.parentNode===null&&document.body.appendChild(Sr);var o=e.paddingSize,a=e.borderSize,c=e.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(v){var w=v;Sr.style[w]=c[w]}),C_(Sr),Sr.value=t;var u=R_(Sr,e);Sr.value=t,u=R_(Sr,e),Sr.value="x";var d=Sr.scrollHeight-o,m=d*r;l==="border-box"&&(m=m+o+a),u=Math.max(m,u);var y=d*n;return l==="border-box"&&(y=y+o+a),u=Math.min(y,u),[u,d]}var E_=function(){},t3=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},r3=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],n3=!!document.documentElement.currentStyle,s3=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=t3(r3,r),o=n.boxSizing;if(o==="")return null;n3&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},o3=s3;function AR(e,t,r){var n=JO(r);P.useLayoutEffect(function(){var o=function(c){return n.current(c)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var i3=function(t){AR(window,"resize",t)},a3=function(t){AR(document.fonts,"loadingdone",t)},c3=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],l3=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,a=t.minRows,c=t.onChange,l=c===void 0?E_:c,u=t.onHeightChange,d=u===void 0?E_:u,m=zy(t,c3),y=m.value!==void 0,v=P.useRef(null),w=QO(v,r),S=P.useRef(0),x=P.useRef(),C=function(){var p=v.current,h=n&&x.current?x.current:o3(p);if(h){x.current=h;var b=e3(h,p.value||p.placeholder||"x",a,o),E=b[0],D=b[1];S.current!==E&&(S.current=E,p.style.setProperty("height",E+"px","important"),d(E,{rowHeight:D}))}},T=function(p){y||C(),l(p)};return P.useLayoutEffect(C),i3(C),a3(C),P.createElement("textarea",nf({},m,{onChange:T,ref:w}))},u3=P.forwardRef(l3);const d3={},ll=ye((e,t)=>{const{autosize:r,maxRows:n,minRows:o,__staticSelector:a,resize:c,...l}=ie("Textarea",d3,e),u=r&&vI()!=="test",d=u?{maxRows:n,minRows:o}:{};return g.jsx(yn,{component:u?u3:"textarea",ref:t,...l,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...d})});ll.classes=yn.classes;ll.displayName="@mantine/core/Textarea";const[f3,ul]=tn("Menu component was not found in the tree");var Ta={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const p3={},By=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("MenuDivider",p3,e),u=ul();return g.jsx(re,{ref:t,...u.getStyles("divider",{className:n,style:o,styles:a,classNames:r}),...l})});By.classes=Ta;By.displayName="@mantine/core/MenuDivider";const h3={},Uy=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,onMouseEnter:l,onMouseLeave:u,onKeyDown:d,children:m,...y}=ie("MenuDropdown",h3,e),v=P.useRef(null),w=ul(),S=Lr(d,T=>{var R,p;(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),(p=(R=v.current)==null?void 0:R.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||p.focus())}),x=Lr(l,()=>(w.trigger==="hover"||w.trigger==="click-hover")&&w.openDropdown()),C=Lr(u,()=>(w.trigger==="hover"||w.trigger==="click-hover")&&w.closeDropdown());return g.jsxs(ar.Dropdown,{...y,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Kt(t,v),...w.getStyles("dropdown",{className:n,style:o,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:S,children:[w.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),m]})});Uy.classes=Ta;Uy.displayName="@mantine/core/MenuDropdown";const m3={},Vy=cr((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,color:l,closeMenuOnClick:u,leftSection:d,rightSection:m,children:y,disabled:v,"data-disabled":w,...S}=ie("MenuItem",m3,e),x=ul(),C=er(),{dir:T}=To(),R=P.useRef(null),p=x.getItemIndex(R.current),h=S,b=Lr(h.onMouseLeave,()=>x.setHovered(-1)),E=Lr(h.onMouseEnter,()=>x.setHovered(x.getItemIndex(R.current))),D=Lr(h.onClick,()=>{w||(typeof u=="boolean"?u&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),j=Lr(h.onFocus,()=>x.setHovered(x.getItemIndex(R.current))),N=l?C.variantColorResolver({color:l,theme:C,variant:"light"}):void 0,M=l?ya({color:l,theme:C}):null;return g.jsxs(Jn,{...S,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,onFocus:j,...x.getStyles("item",{className:n,style:o,styles:a,classNames:r}),ref:Kt(R,t),role:"menuitem",disabled:v,"data-menu-item":!0,"data-disabled":v||w||void 0,"data-hovered":x.hovered===p?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:b,onClick:D,onKeyDown:Hx({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:T,orientation:"vertical",onKeyDown:h.onKeyDown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:N==null?void 0:N.color,"--menu-item-hover":N==null?void 0:N.hover},children:[d&&g.jsx("div",{...x.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:d}),y&&g.jsx("div",{...x.getStyles("itemLabel",{styles:a,classNames:r}),children:y}),m&&g.jsx("div",{...x.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:m})]})});Vy.classes=Ta;Vy.displayName="@mantine/core/MenuItem";const g3={},Hy=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("MenuLabel",g3,e),u=ul();return g.jsx(re,{ref:t,...u.getStyles("label",{className:n,style:o,styles:a,classNames:r}),...l})});Hy.classes=Ta;Hy.displayName="@mantine/core/MenuLabel";const v3={refProp:"ref"},$R=P.forwardRef((e,t)=>{const{children:r,refProp:n,...o}=ie("MenuTarget",v3,e);if(!Ro(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=ul(),c=r.props,l=Lr(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),u=Lr(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),d=Lr(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return g.jsx(ar.Target,{refProp:n,popupType:"menu",ref:t,...o,children:P.cloneElement(r,{onClick:l,onMouseEnter:u,onMouseLeave:d,"data-expanded":a.opened?!0:void 0})})});$R.displayName="@mantine/core/MenuTarget";const y3={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function pt(e){const t=ie("Menu",y3,e),{children:r,onOpen:n,onClose:o,opened:a,defaultOpened:c,trapFocus:l,onChange:u,closeOnItemClick:d,loop:m,closeOnEscape:y,trigger:v,openDelay:w,closeDelay:S,classNames:x,styles:C,unstyled:T,variant:R,vars:p,menuItemTabIndex:h,keepMounted:b,withInitialFocusPlaceholder:E,...D}=t,j=ze({name:"Menu",classes:Ta,props:t,classNames:x,styles:C,unstyled:T}),[N,{setHovered:M,resetHovered:A}]=Kj(),[O,V]=Er({value:a,defaultValue:c,finalValue:!1,onChange:u}),[W,K]=P.useState(!1),L=()=>{V(!1),K(!1),O&&(o==null||o())},F=()=>{V(!0),!O&&(n==null||n())},$=()=>{O?L():F()},{openDropdown:U,closeDropdown:H}=UO({open:F,close:L,closeDelay:S,openDelay:w}),z=de=>Gj("[data-menu-item]","[data-menu-dropdown]",de),{resolvedClassNames:G,resolvedStyles:se}=hi({classNames:x,styles:C,props:t});return Fr(()=>{A()},[O]),g.jsx(f3,{value:{getStyles:j,opened:O,toggleDropdown:$,getItemIndex:z,hovered:N,setHovered:M,openedViaClick:W,setOpenedViaClick:K,closeOnItemClick:d,closeDropdown:v==="click"?L:H,openDropdown:v==="click"?F:U,closeDropdownImmediately:L,loop:m,trigger:v,unstyled:T,menuItemTabIndex:h,withInitialFocusPlaceholder:E},children:g.jsx(ar,{...D,opened:O,onChange:$,defaultOpened:c,trapFocus:b?!1:l,closeOnEscape:y,__staticSelector:"Menu",classNames:G,styles:se,unstyled:T,variant:R,keepMounted:b,children:r})})}pt.extend=e=>e;pt.withProps=E2(pt);pt.classes=Ta;pt.displayName="@mantine/core/Menu";pt.Item=Vy;pt.Label=Hy;pt.Dropdown=Uy;pt.Target=$R;pt.Divider=By;const[w3,ka]=tn("Modal component was not found in tree");var Us={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const S3={},Gf=ye((e,t)=>{const r=ie("ModalBody",S3,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=ka();return g.jsx(uy,{ref:t,...d.getStyles("body",{classNames:n,style:a,styles:c,className:o}),...u})});Gf.classes=Us;Gf.displayName="@mantine/core/ModalBody";const b3={},Kf=ye((e,t)=>{const r=ie("ModalCloseButton",b3,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=ka();return g.jsx(dy,{ref:t,...d.getStyles("close",{classNames:n,style:a,styles:c,className:o}),...u})});Kf.classes=Us;Kf.displayName="@mantine/core/ModalCloseButton";const _3={},Xf=ye((e,t)=>{const r=ie("ModalContent",_3,e),{classNames:n,className:o,style:a,styles:c,vars:l,children:u,__hidden:d,...m}=r,y=ka(),v=y.scrollAreaComponent||nR;return g.jsx(fy,{...y.getStyles("content",{className:o,style:a,styles:c,classNames:n}),innerProps:y.getStyles("inner",{className:o,style:a,styles:c,classNames:n}),"data-full-screen":y.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...m,children:g.jsx(v,{style:{maxHeight:y.fullScreen?"100dvh":`calc(100dvh - (${ne(y.yOffset)} * 2))`},children:u})})});Xf.classes=Us;Xf.displayName="@mantine/core/ModalContent";const x3={},Yf=ye((e,t)=>{const r=ie("ModalHeader",x3,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=ka();return g.jsx(py,{ref:t,...d.getStyles("header",{classNames:n,style:a,styles:c,className:o}),...u})});Yf.classes=Us;Yf.displayName="@mantine/core/ModalHeader";const C3={},Jf=ye((e,t)=>{const r=ie("ModalOverlay",C3,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=ka();return g.jsx(hy,{ref:t,...d.getStyles("overlay",{classNames:n,style:a,styles:c,className:o}),...u})});Jf.classes=Us;Jf.displayName="@mantine/core/ModalOverlay";const R3={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Br("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},E3=(e,{radius:t,size:r,yOffset:n,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:kt(t),"--modal-size":Qe(r,"modal-size"),"--modal-y-offset":ne(n),"--modal-x-offset":ne(o)}}),Qf=ye((e,t)=>{const r=ie("ModalRoot",R3,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,yOffset:d,scrollAreaComponent:m,radius:y,fullScreen:v,centered:w,xOffset:S,__staticSelector:x,...C}=r,T=ze({name:x,classes:Us,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:E3});return g.jsx(w3,{value:{yOffset:d,scrollAreaComponent:m,getStyles:T,fullScreen:v},children:g.jsx(ly,{ref:t,...T("root"),"data-full-screen":v||void 0,"data-centered":w||void 0,unstyled:l,...C})})});Qf.classes=Us;Qf.displayName="@mantine/core/ModalRoot";const[T3,k3]=pi();function FR({children:e}){const[t,r]=P.useState([]),[n,o]=P.useState(Br("modal"));return g.jsx(T3,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),o(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}FR.displayName="@mantine/core/ModalStack";const P3={},Zf=ye((e,t)=>{const r=ie("ModalTitle",P3,e),{classNames:n,className:o,style:a,styles:c,vars:l,...u}=r,d=ka();return g.jsx(my,{ref:t,...d.getStyles("title",{classNames:n,style:a,styles:c,className:o}),...u})});Zf.classes=Us;Zf.displayName="@mantine/core/ModalTitle";const D3={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Br("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},bt=ye((e,t)=>{const{title:r,withOverlay:n,overlayProps:o,withCloseButton:a,closeButtonProps:c,children:l,radius:u,opened:d,stackId:m,zIndex:y,...v}=ie("Modal",D3,e),w=k3(),S=!!r||a,x=w&&m?{closeOnEscape:w.currentId===m,trapFocus:w.currentId===m,zIndex:w.getZIndex(m)}:{},C=n===!1?!1:m&&w?w.currentId===m:d;return P.useEffect(()=>{w&&m&&(d?w.addModal(m,y||Br("modal")):w.removeModal(m))},[d,m,y]),g.jsxs(Qf,{ref:t,radius:u,opened:d,zIndex:w&&m?w.getZIndex(m):y,...v,...x,children:[n&&g.jsx(Jf,{visible:C,transitionProps:w&&m?{duration:0}:void 0,...o}),g.jsxs(Xf,{radius:u,__hidden:w&&m&&d?m!==w.currentId:!1,children:[S&&g.jsxs(Yf,{children:[r&&g.jsx(Zf,{children:r}),a&&g.jsx(Kf,{...c})]}),g.jsx(Gf,{children:l})]})]})});bt.classes=Us;bt.displayName="@mantine/core/Modal";bt.Root=Qf;bt.Overlay=Jf;bt.Content=Xf;bt.Body=Gf;bt.Header=Yf;bt.Title=Zf;bt.CloseButton=Kf;bt.Stack=FR;const[PU,zR]=pi(),[j3,I3]=pi();var ep={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const M3={},N3=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Qe(t):Qe(r,"pg-gap")}}),Wy=ye((e,t)=>{const r=ie("PillGroup",M3,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,size:d,disabled:m,...y}=r,v=zR(),w=(v==null?void 0:v.size)||d||void 0,S=ze({name:"PillGroup",classes:ep,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:N3,stylesCtx:{size:w},rootSelector:"group"});return g.jsx(j3,{value:{size:w,disabled:m},children:g.jsx(re,{ref:t,size:w,...S("group"),...y})})});Wy.classes=ep;Wy.displayName="@mantine/core/PillGroup";const L3={variant:"default"},O3=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Qe(r,"pill-fz"),"--pill-height":Qe(r,"pill-height"),"--pill-radius":t===void 0?void 0:kt(t)}}),dl=ye((e,t)=>{const r=ie("Pill",L3,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,variant:d,children:m,withRemoveButton:y,onRemove:v,removeButtonProps:w,radius:S,size:x,disabled:C,mod:T,...R}=r,p=I3(),h=zR(),b=x||(p==null?void 0:p.size)||void 0,E=(h==null?void 0:h.variant)==="filled"?"contrast":d||"default",D=ze({name:"Pill",classes:ep,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:O3,stylesCtx:{size:b}});return g.jsxs(re,{component:"span",ref:t,variant:E,size:b,...D("root",{variant:E}),mod:[{"with-remove":y&&!C,disabled:C||(p==null?void 0:p.disabled)},T],...R,children:[g.jsx("span",{...D("label"),children:m}),y&&g.jsx(xa,{variant:"transparent",radius:S,tabIndex:-1,"aria-hidden":!0,unstyled:l,...w,...D("remove",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),onMouseDown:j=>{var N;j.preventDefault(),j.stopPropagation(),(N=w==null?void 0:w.onMouseDown)==null||N.call(w,j)},onClick:j=>{var N;j.stopPropagation(),v==null||v(),(N=w==null?void 0:w.onClick)==null||N.call(w,j)}})]})});dl.classes=ep;dl.displayName="@mantine/core/Pill";dl.Group=Wy;var BR={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const A3={},$3=(e,{variant:t,color:r,childrenOffset:n,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:o});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":Zt(n)}}},Nr=cr((e,t)=>{const r=ie("NavLink",A3,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,opened:d,defaultOpened:m,onChange:y,children:v,onClick:w,active:S,disabled:x,leftSection:C,rightSection:T,label:R,description:p,disableRightSectionRotation:h,noWrap:b,childrenOffset:E,onKeyDown:D,autoContrast:j,mod:N,...M}=r,A=ze({name:"NavLink",props:r,classes:BR,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:$3}),[O,V]=Er({value:d,defaultValue:m,finalValue:!1,onChange:y}),W=!!v,K=L=>{w==null||w(L),W&&(L.preventDefault(),V(!O))};return g.jsxs(g.Fragment,{children:[g.jsxs(Jn,{...A("root"),component:"a",ref:t,onClick:K,onKeyDown:L=>{D==null||D(L),L.nativeEvent.code==="Space"&&W&&(L.preventDefault(),V(!O))},unstyled:l,mod:[{disabled:x,active:S,expanded:O},N],...M,children:[C&&g.jsx(re,{component:"span",...A("section"),mod:{position:"left"},children:C}),g.jsxs(re,{...A("body"),mod:{"no-wrap":b},children:[g.jsx(re,{component:"span",...A("label"),children:R}),g.jsx(re,{component:"span",mod:{active:S},...A("description"),children:p})]}),(W||T)&&g.jsx(re,{...A("section"),component:"span",mod:{rotate:O&&!h,position:"right"},children:W?T||g.jsx(aR,{...A("chevron")}):T})]}),W&&g.jsx(Rf,{in:O,...A("collapse"),children:g.jsx("div",{...A("children"),children:v})})]})});Nr.classes=BR;Nr.displayName="@mantine/core/NavLink";var UR={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const F3={withCloseButton:!0},z3=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:kt(t),"--notification-color":r?gr(r,e):void 0}}),qy=ye((e,t)=>{const r=ie("Notification",F3,e),{className:n,color:o,radius:a,loading:c,withCloseButton:l,withBorder:u,title:d,icon:m,children:y,onClose:v,closeButtonProps:w,classNames:S,style:x,styles:C,unstyled:T,variant:R,vars:p,mod:h,loaderProps:b,...E}=r,D=ze({name:"Notification",classes:UR,props:r,className:n,style:x,classNames:S,styles:C,unstyled:T,vars:p,varsResolver:z3});return g.jsxs(re,{...D("root"),mod:[{"data-with-icon":!!m||c,"data-with-border":u},h],ref:t,variant:R,...E,role:"alert",children:[m&&!c&&g.jsx("div",{...D("icon"),children:m}),c&&g.jsx(Fs,{size:28,color:o,...b,...D("loader")}),g.jsxs("div",{...D("body"),children:[d&&g.jsx("div",{...D("title"),children:d}),g.jsx(re,{...D("description"),mod:{"data-with-title":!!d},children:y})]}),l&&g.jsx(xa,{iconSize:16,color:"gray",...w,unstyled:T,onClick:v,...D("closeButton")})]})});qy.classes=UR;qy.displayName="@mantine/core/Notification";function VR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}var Jc;(function(e){e.event="event",e.props="prop"})(Jc||(Jc={}));function go(){}function B3(e){var t,r=void 0;return function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return t&&n.length===t.length&&n.every(function(a,c){return a===t[c]})||(t=n,r=e.apply(void 0,n)),r}}function Qc(e){return!!(e||"").match(/\d/)}function ia(e){return e==null}function U3(e){return typeof e=="number"&&isNaN(e)}function HR(e){return ia(e)||U3(e)||typeof e=="number"&&!isFinite(e)}function WR(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function V3(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function H3(e,t,r){var n=V3(r),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(n,"$1"+t)}function W3(e){var t=P.useRef(e);t.current=e;var r=P.useRef(function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return t.current.apply(t,n)});return r.current}function Gy(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var o=e.split("."),a=o[0],c=o[1]||"";return{beforeDecimal:a,afterDecimal:c,hasNegation:r,addNegation:n}}function q3(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",o=r[1]||"";return(t?"-":"")+n+(o?"."+o:"")}function qR(e,t,r){for(var n="",o=r?"0":"",a=0;a<=t-1;a++)n+=e[a]||o;return n}function T_(e,t){return Array(t+1).join(e)}function GR(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),o=n[0],a=n[1];if(a=Number(a),!a)return r+o;o=o.replace(".","");var c=1+a,l=o.length;return c<0?o="0."+T_("0",Math.abs(c))+o:c>=l?o=o+T_("0",c-l):o=(o.substring(0,c)||"0")+"."+o.substring(c),r+o}function k_(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,o=Gy(e),a=o.beforeDecimal,c=o.afterDecimal,l=o.hasNegation,u=parseFloat("0."+(c||"0")),d=c.length<=t?"0."+c:u.toFixed(t),m=d.split("."),y=a;a&&Number(m[0])&&(y=a.split("").reverse().reduce(function(x,C,T){return x.length>T?(Number(x[0])+Number(C)).toString()+x.substring(1,x.length):C+x},m[0]));var v=qR(m[1]||"",t,r),w=l?"-":"",S=n?".":"";return""+w+y+S+v}function Jo(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var KR=B3(function(e,t){for(var r=0,n=0,o=e.length,a=t.length;e[r]===t[r]&&r<o;)r++;for(;e[o-1-n]===t[a-1-n]&&a-n>r&&o-n>r;)n++;return{from:{start:r,end:o-n},to:{start:r,end:a-n}}}),G3=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function K3(e,t,r){return Math.min(Math.max(e,t),r)}function Km(e){return Math.max(e.selectionStart,e.selectionEnd)}function X3(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Y3(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function J3(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,o=e.formattedValueIndex;return t[n]===r[o]}function Q3(e,t,r,n,o,a,c){c===void 0&&(c=J3);var l=o.findIndex(function(h){return h}),u=e.slice(0,l);!t&&!r.startsWith(u)&&(t=u,r=u+r,n=n+u.length);for(var d=r.length,m=e.length,y={},v=new Array(d),w=0;w<d;w++){v[w]=-1;for(var S=0,x=m;S<x;S++){var C=c({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:w,formattedValueIndex:S});if(C&&y[S]!==!0){v[w]=S,y[S]=!0;break}}}for(var T=n;T<d&&(v[T]===-1||!a(r[T]));)T++;var R=T===d||v[T]===-1?m:v[T];for(T=n-1;T>0&&v[T]===-1;)T--;var p=T===-1||v[T]===-1?0:v[T]+1;return p>R?R:n-p<R-n?p:R}function P_(e,t,r,n){var o=e.length;if(t=K3(t,0,o),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=o&&!r[t];)t++;t>o&&(t=r.lastIndexOf(!0))}return t===-1&&(t=o),t}function Z3(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(Qc(e[r])||Qc(e[r-1]));return t}function XR(e,t,r,n,o,a){a===void 0&&(a=go);var c=W3(function(S,x){var C,T;return HR(S)?(T="",C=""):typeof S=="number"||x?(T=typeof S=="number"?GR(S):S,C=n(T)):(T=o(S,void 0),C=n(T)),{formattedValue:C,numAsString:T}}),l=P.useState(function(){return c(ia(e)?t:e,r)}),u=l[0],d=l[1],m=function(S,x){S.formattedValue!==u.formattedValue&&d({formattedValue:S.formattedValue,numAsString:S.value}),a(S,x)},y=e,v=r;ia(e)&&(y=u.numAsString,v=!0);var w=c(y,v);return P.useMemo(function(){d(w)},[w.formattedValue]),[u,m]}function e4(e){return e.replace(/[^0-9]/g,"")}function t4(e){return e}function r4(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,o=e.renderText,a=e.getInputRef,c=e.format;c===void 0&&(c=t4);var l=e.removeFormatting;l===void 0&&(l=e4);var u=e.defaultValue,d=e.valueIsNumericString,m=e.onValueChange,y=e.isAllowed,v=e.onChange;v===void 0&&(v=go);var w=e.onKeyDown;w===void 0&&(w=go);var S=e.onMouseUp;S===void 0&&(S=go);var x=e.onFocus;x===void 0&&(x=go);var C=e.onBlur;C===void 0&&(C=go);var T=e.value,R=e.getCaretBoundary;R===void 0&&(R=Z3);var p=e.isValidInputCharacter;p===void 0&&(p=Qc);var h=e.isCharacterSame,b=VR(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),E=XR(T,u,!!d,c,l,m),D=E[0],j=D.formattedValue,N=D.numAsString,M=E[1],A=P.useRef(),O=P.useRef({formattedValue:j,numAsString:N}),V=function(pe,Se){O.current={formattedValue:pe.formattedValue,numAsString:pe.value},M(pe,Se)},W=P.useState(!1),K=W[0],L=W[1],F=P.useRef(null),$=P.useRef({setCaretTimeout:null,focusTimeout:null});P.useEffect(function(){return L(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var U=c,H=function(pe,Se){var ke=parseFloat(Se);return{formattedValue:pe,value:Se,floatValue:isNaN(ke)?void 0:ke}},z=function(pe,Se,ke){pe.selectionStart===0&&pe.selectionEnd===pe.value.length||(Jo(pe,Se),$.current.setCaretTimeout=setTimeout(function(){pe.value===ke&&pe.selectionStart!==Se&&Jo(pe,Se)},0))},G=function(pe,Se,ke){return P_(pe,Se,R(pe),ke)},se=function(pe,Se,ke){var $e=R(Se),We=Q3(Se,j,pe,ke,$e,p,h);return We=P_(Se,We,$e),We},de=function(pe){var Se=pe.formattedValue;Se===void 0&&(Se="");var ke=pe.input,$e=pe.source,We=pe.event,He=pe.numAsString,Ye;if(ke){var me=pe.inputValue||ke.value,Le=Km(ke);ke.value=Se,Ye=se(me,Se,Le),Ye!==void 0&&z(ke,Ye,Se)}Se!==j&&V(H(Se,He),{event:We,source:$e})};P.useEffect(function(){var pe=O.current,Se=pe.formattedValue,ke=pe.numAsString;(j!==Se||N!==ke)&&V(H(j,N),{event:void 0,source:Jc.props})},[j,N]);var J=F.current?Km(F.current):void 0,oe=typeof window<"u"?P.useLayoutEffect:P.useEffect;oe(function(){var pe=F.current;if(j!==O.current.formattedValue&&pe){var Se=se(O.current.formattedValue,j,J);pe.value=j,z(pe,Se,j)}},[j]);var ue=function(pe,Se,ke){var $e=Se.target,We=A.current?G3(A.current,$e.selectionEnd):KR(j,pe),He=Object.assign(Object.assign({},We),{lastValue:j}),Ye=l(pe,He),me=U(Ye);if(Ye=l(me,void 0),y&&!y(H(me,Ye))){var Le=Se.target,Te=Km(Le),Fe=se(pe,j,Te);return Le.value=j,z(Le,Fe,j),!1}return de({formattedValue:me,numAsString:Ye,inputValue:pe,event:Se,source:ke,input:Se.target}),!0},ve=function(pe,Se){Se===void 0&&(Se=0);var ke=pe.selectionStart,$e=pe.selectionEnd;A.current={selectionStart:ke,selectionEnd:$e+Se}},we=function(pe){var Se=pe.target,ke=Se.value,$e=ue(ke,pe,Jc.event);$e&&v(pe),A.current=void 0},Ne=function(pe){var Se=pe.target,ke=pe.key,$e=Se.selectionStart,We=Se.selectionEnd,He=Se.value;He===void 0&&(He="");var Ye;ke==="ArrowLeft"||ke==="Backspace"?Ye=Math.max($e-1,0):ke==="ArrowRight"?Ye=Math.min($e+1,He.length):ke==="Delete"&&(Ye=$e);var me=0;ke==="Delete"&&$e===We&&(me=1);var Le=ke==="ArrowLeft"||ke==="ArrowRight";if(Ye===void 0||$e!==We&&!Le){w(pe),ve(Se,me);return}var Te=Ye;if(Le){var Fe=ke==="ArrowLeft"?"left":"right";Te=G(He,Ye,Fe),Te!==Ye&&pe.preventDefault()}else ke==="Delete"&&!p(He[Ye])?Te=G(He,Ye,"right"):ke==="Backspace"&&!p(He[Ye])&&(Te=G(He,Ye,"left"));Te!==Ye&&z(Se,Te,He),w(pe),ve(Se,me)},ae=function(pe){var Se=pe.target,ke=function(){var $e=Se.selectionStart,We=Se.selectionEnd,He=Se.value;if(He===void 0&&(He=""),$e===We){var Ye=G(He,$e);Ye!==$e&&z(Se,Ye,He)}};ke(),requestAnimationFrame(function(){ke()}),S(pe),ve(Se)},Ee=function(pe){pe.persist&&pe.persist();var Se=pe.target,ke=pe.currentTarget;F.current=Se,$.current.focusTimeout=setTimeout(function(){var $e=Se.selectionStart,We=Se.selectionEnd,He=Se.value;He===void 0&&(He="");var Ye=G(He,$e);Ye!==$e&&!($e===0&&We===He.length)&&z(Se,Ye,He),x(Object.assign(Object.assign({},pe),{currentTarget:ke}))},0)},rt=function(pe){F.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),C(pe)},Ve=K&&X3()?"numeric":void 0,Be=Object.assign({inputMode:Ve},b,{type:t,value:j,onChange:we,onKeyDown:Ne,onMouseUp:ae,onFocus:Ee,onBlur:rt});if(r==="text")return o?xt.createElement(xt.Fragment,null,o(j,b)||null):xt.createElement("span",Object.assign({},b,{ref:a}),j);if(n){var lt=n;return xt.createElement(lt,Object.assign({},Be,{ref:a}))}return xt.createElement("input",Object.assign({},Be,{ref:a}))}function D_(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var a=t.suffix;a===void 0&&(a="");var c=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var u=tp(t),d=u.thousandSeparator,m=u.decimalSeparator,y=r!==0&&e.indexOf(".")!==-1||r&&n,v=Gy(e,c),w=v.beforeDecimal,S=v.afterDecimal,x=v.addNegation;return r!==void 0&&(S=qR(S,r,!!n)),d&&(w=H3(w,d,l)),o&&(w=o+w),a&&(S=S+a),x&&(w="-"+w),e=w+(y&&m||"")+S,e}function tp(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function n4(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=r.test(e),a=n.test(e);return e=e.replace(/-/g,""),o&&!a&&t&&(e="-"+e),e}function s4(e,t){return new RegExp("(^-)|[0-9]|"+WR(e),"g")}function o4(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function i4(e,t,r){var n;t===void 0&&(t=Y3(e));var o=r.allowNegative,a=r.prefix;a===void 0&&(a="");var c=r.suffix;c===void 0&&(c="");var l=r.decimalScale,u=t.from,d=t.to,m=d.start,y=d.end,v=tp(r),w=v.allowedDecimalSeparators,S=v.decimalSeparator,x=e[y]===S;if(Qc(e)&&(e===a||e===c)&&t.lastValue==="")return e;if(y-m===1&&w.indexOf(e[m])!==-1){var C=l===0?"":S;e=e.substring(0,m)+C+e.substring(m+1,e.length)}var T=function(F,$,U){var H=!1,z=!1;a.startsWith("-")?H=!1:F.startsWith("--")?(H=!1,z=!0):c.startsWith("-")&&F.length===c.length?H=!1:F[0]==="-"&&(H=!0);var G=H?1:0;return z&&(G=2),G&&(F=F.substring(G),$-=G,U-=G),{value:F,start:$,end:U,hasNegation:H}},R=T(e,m,y),p=R.hasNegation;n=R,e=n.value,m=n.start,y=n.end;var h=T(t.lastValue,u.start,u.end),b=h.start,E=h.end,D=h.value,j=e.substring(m,y);e.length&&D.length&&(b>D.length-c.length||E<a.length)&&!(j&&c.startsWith(j))&&(e=D);var N=0;e.startsWith(a)?N+=a.length:m<a.length&&(N=m),e=e.substring(N),y-=N;var M=e.length,A=e.length-c.length;e.endsWith(c)?M=A:(y>A||y>e.length-c.length)&&(M=y),e=e.substring(0,M),e=n4(p?"-"+e:e,o),e=(e.match(s4(S))||[]).join("");var O=e.indexOf(S);e=e.replace(new RegExp(WR(S),"g"),function(F,$){return $===O?".":""});var V=Gy(e,o),W=V.beforeDecimal,K=V.afterDecimal,L=V.addNegation;return d.end-d.start<u.end-u.start&&W===""&&x&&!parseFloat(K)&&(e=L?"-":""),e}function a4(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var o=Array.from({length:e.length+1}).map(function(){return!0}),a=e[0]==="-";o.fill(!1,0,r.length+(a?1:0));var c=e.length;return o.fill(!1,c-n.length+1,c+1),o}function c4(e){var t=tp(e),r=t.thousandSeparator,n=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var a=e.allowNegative;if(a===void 0&&(a=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}function l4(e){e=c4(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=go);var a=e.onBlur;a===void 0&&(a=go);var c=e.thousandSeparator,l=e.decimalScale,u=e.fixedDecimalScale,d=e.prefix;d===void 0&&(d="");var m=e.defaultValue,y=e.value,v=e.valueIsNumericString,w=e.onValueChange,S=VR(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=tp(e),C=x.decimalSeparator,T=x.allowedDecimalSeparators,R=function(L){return D_(L,e)},p=function(L,F){return i4(L,F,e)},h=ia(y)?m:y,b=v??o4(h,d,t);ia(y)?ia(m)||(b=b||typeof m=="number"):b=b||typeof y=="number";var E=function(L){return HR(L)?L:(typeof L=="number"&&(L=GR(L)),b&&typeof l=="number"?k_(L,l,!!u):L)},D=XR(E(y),E(m),!!b,R,p,w),j=D[0],N=j.numAsString,M=j.formattedValue,A=D[1],O=function(L){var F=L.target,$=L.key,U=F.selectionStart,H=F.selectionEnd,z=F.value;if(z===void 0&&(z=""),($==="Backspace"||$==="Delete")&&H<d.length){L.preventDefault();return}if(U!==H){o(L);return}$==="Backspace"&&z[0]==="-"&&U===d.length+1&&r&&Jo(F,1),l&&u&&($==="Backspace"&&z[U-1]===C?(Jo(F,U-1),L.preventDefault()):$==="Delete"&&z[U]===C&&L.preventDefault()),T!=null&&T.includes($)&&z[U]===C&&Jo(F,U+1);var G=c===!0?",":c;$==="Backspace"&&z[U-1]===G&&Jo(F,U-1),$==="Delete"&&z[U]===G&&Jo(F,U+1),o(L)},V=function(L){var F=N;if(F.match(/\d/g)||(F=""),n||(F=q3(F)),u&&l&&(F=k_(F,l,u)),F!==N){var $=D_(F,e);A({formattedValue:$,value:F,floatValue:parseFloat(F)},{event:L,source:Jc.event})}a(L)},W=function(L){return L===C?!0:Qc(L)},K=function(L){var F=L.currentValue,$=L.lastValue,U=L.formattedValue,H=L.currentValueIndex,z=L.formattedValueIndex,G=F[H],se=U[z],de=KR($,F),J=de.to,oe=function(ue){return p(ue).indexOf(".")+d.length};return y===0&&u&&l&&F[J.start]===C&&oe(F)<H&&oe(U)>z?!1:H>=J.start&&H<J.end&&T&&T.includes(G)&&se===C?!0:G===se};return Object.assign(Object.assign({},S),{value:M,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:K,onValueChange:A,format:R,removeFormatting:p,getCaretBoundary:function(L){return a4(L,e)},onKeyDown:O,onBlur:V})}function u4(e){var t=l4(e);return xt.createElement(r4,Object.assign({},t))}function j_({direction:e,style:t,...r}){return g.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Jg={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const d4=/^(0\.0*|-0(\.0*)?)$/,f4=/^-?0\d+(\.\d+)?\.?$/;function Qg(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function Xm(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Qg(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function p4(e){return e.toString().replace(".","").length}function h4(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&p4(t)<14&&t!==""}function I_(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,o=r===void 0||e<=r;return n&&o}const m4={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},g4=(e,{size:t})=>({controls:{"--ni-chevron-size":Qe(t,"ni-chevron-size")}}),rp=ye((e,t)=>{const r=ie("NumberInput",m4,e),{className:n,classNames:o,styles:a,unstyled:c,vars:l,onChange:u,onValueChange:d,value:m,defaultValue:y,max:v,min:w,step:S,hideControls:x,rightSection:C,isAllowed:T,clampBehavior:R,onBlur:p,allowDecimal:h,decimalScale:b,onKeyDown:E,onKeyDownCapture:D,handlersRef:j,startValue:N,disabled:M,rightSectionPointerEvents:A,allowNegative:O,readOnly:V,size:W,rightSectionWidth:K,stepHoldInterval:L,stepHoldDelay:F,allowLeadingZeros:$,withKeyboardEvents:U,trimLeadingZeroesOnBlur:H,...z}=r,G=ze({name:"NumberInput",classes:Jg,props:r,classNames:o,styles:a,unstyled:c,vars:l,varsResolver:g4}),{resolvedClassNames:se,resolvedStyles:de}=hi({classNames:o,styles:a,props:r}),[J,oe]=Er({value:m,defaultValue:y,finalValue:"",onChange:u}),ue=F!==void 0&&L!==void 0,ve=P.useRef(null),we=P.useRef(null),Ne=P.useRef(0),ae=(me,Le)=>{Le.source==="event"&&oe(h4(me.floatValue,me.value)&&!d4.test(me.value)&&!($&&f4.test(me.value))?me.floatValue:me.value),d==null||d(me,Le)},Ee=me=>{const Le=String(me).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Le?Math.max(0,(Le[1]?Le[1].length:0)-(Le[2]?+Le[2]:0)):0},rt=me=>{ve.current&&typeof me<"u"&&ve.current.setSelectionRange(me,me)},Ve=P.useRef(Lg);Ve.current=()=>{if(!Xm(J))return;let me;const Le=Ee(J),Te=Ee(S),Fe=Math.max(Le,Te),be=10**Fe;if(!Qg(J)&&(typeof J!="number"||Number.isNaN(J)))me=Gn(N,w,v);else if(v!==void 0){const dt=(Math.round(Number(J)*be)+Math.round(S*be))/be;me=dt<=v?dt:v}else me=(Math.round(Number(J)*be)+Math.round(S*be))/be;const Ze=me.toFixed(Fe);oe(parseFloat(Ze)),d==null||d({floatValue:parseFloat(Ze),formattedValue:Ze,value:Ze},{source:"increment"}),setTimeout(()=>{var dt;return rt((dt=ve.current)==null?void 0:dt.value.length)},0)};const Be=P.useRef(Lg);Be.current=()=>{if(!Xm(J))return;let me;const Le=w!==void 0?w:O?Number.MIN_SAFE_INTEGER:0,Te=Ee(J),Fe=Ee(S),be=Math.max(Te,Fe),Ze=10**be;if(!Qg(J)&&typeof J!="number"||Number.isNaN(J))me=Gn(N,Le,v);else{const nt=(Math.round(Number(J)*Ze)-Math.round(S*Ze))/Ze;me=Le!==void 0&&nt<Le?Le:nt}const dt=me.toFixed(be);oe(parseFloat(dt)),d==null||d({floatValue:parseFloat(dt),formattedValue:dt,value:dt},{source:"decrement"}),setTimeout(()=>{var nt;return rt((nt=ve.current)==null?void 0:nt.value.length)},0)};const lt=me=>{E==null||E(me),!(V||!U)&&(me.key==="ArrowUp"&&(me.preventDefault(),Ve.current()),me.key==="ArrowDown"&&(me.preventDefault(),Be.current()))},pe=me=>{if(D==null||D(me),me.key==="Backspace"){const Le=ve.current;Le.selectionStart===0&&Le.selectionStart===Le.selectionEnd&&(me.preventDefault(),window.setTimeout(()=>rt(0),0))}},Se=me=>{let Le=J;if(R==="blur"&&typeof Le=="number"&&(Le=Gn(Le,w,v)),H&&typeof Le=="string"&&Ee(Le)<15){const Te=Le.toString().replace(/^0+/,""),Fe=parseFloat(Te);Le=Number.isNaN(Fe)||Fe>Number.MAX_SAFE_INTEGER?Te:Gn(Fe,w,v)}J!==Le&&oe(Le),p==null||p(me)};Yd(j,{increment:Ve.current,decrement:Be.current});const ke=me=>{me?Ve.current():Be.current(),Ne.current+=1},$e=me=>{if(ke(me),ue){const Le=typeof L=="number"?L:L(Ne.current);we.current=window.setTimeout(()=>$e(me),Le)}},We=(me,Le)=>{var Te;me.preventDefault(),(Te=ve.current)==null||Te.focus(),ke(Le),ue&&(we.current=window.setTimeout(()=>$e(Le),F))},He=()=>{we.current&&window.clearTimeout(we.current),we.current=null,Ne.current=0},Ye=g.jsxs("div",{...G("controls"),children:[g.jsx(Jn,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:M||typeof J=="number"&&v!==void 0&&J>=v,mod:{direction:"up"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{We(me,!0)},onPointerUp:He,onPointerLeave:He,children:g.jsx(j_,{direction:"up"})}),g.jsx(Jn,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:M||typeof J=="number"&&w!==void 0&&J<=w,mod:{direction:"down"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{We(me,!1)},onPointerUp:He,onPointerLeave:He,children:g.jsx(j_,{direction:"down"})})]});return g.jsx(yn,{component:u4,allowNegative:O,className:Gt(Jg.root,n),size:W,...z,readOnly:V,disabled:M,value:J,getInputRef:Kt(t,ve),onValueChange:ae,rightSection:x||V||!Xm(J)?C:C||Ye,classNames:se,styles:de,unstyled:c,__staticSelector:"NumberInput",decimalScale:h?b:0,onKeyDown:lt,onKeyDownCapture:pe,rightSectionPointerEvents:A??(M?"none":void 0),rightSectionWidth:K??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:$,onBlur:Se,isAllowed:me=>R==="strict"?T?T(me)&&I_(me.floatValue,w,v):I_(me.floatValue,w,v):T?T(me):!0})});rp.classes={...yn.classes,...Jg};rp.displayName="@mantine/core/NumberInput";const[v4,np]=tn("Pagination.Root component was not found in tree");var fl={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const y4={withPadding:!0},pl=ye((e,t)=>{const r=ie("PaginationControl",y4,e),{classNames:n,className:o,style:a,styles:c,vars:l,active:u,disabled:d,withPadding:m,mod:y,...v}=r,w=np(),S=d||w.disabled;return g.jsx(Jn,{ref:t,disabled:S,mod:[{active:u,disabled:S,"with-padding":m},y],...w.getStyles("control",{className:o,style:a,classNames:n,styles:c,active:!S}),...v})});pl.classes=fl;pl.displayName="@mantine/core/PaginationControl";function hl({style:e,children:t,path:r,...n}){return g.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...n,children:g.jsx("path",{d:r,fill:"currentColor"})})}const w4=e=>g.jsx(hl,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),S4=e=>g.jsx(hl,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),b4=e=>g.jsx(hl,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),_4=e=>g.jsx(hl,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),x4=e=>g.jsx(hl,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),C4={icon:x4},sp=ye((e,t)=>{const r=ie("PaginationDots",C4,e),{classNames:n,className:o,style:a,styles:c,vars:l,icon:u,...d}=r,m=np(),y=u;return g.jsx(re,{ref:t,...m.getStyles("dots",{className:o,style:a,styles:c,classNames:n}),...d,children:g.jsx(y,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});sp.classes=fl;sp.displayName="@mantine/core/PaginationDots";function op({icon:e,name:t,action:r,type:n}){const o={icon:e},a=P.forwardRef((c,l)=>{const{icon:u,...d}=ie(t,o,c),m=u,y=np(),v=n==="next"?y.active===y.total:y.active===1;return g.jsx(pl,{disabled:y.disabled||v,ref:l,onClick:y[r],withPadding:!1,...d,children:g.jsx(m,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return a.displayName=`@mantine/core/${t}`,a}const YR=op({icon:w4,name:"PaginationNext",action:"onNext",type:"next"}),JR=op({icon:S4,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),QR=op({icon:b4,name:"PaginationFirst",action:"onFirst",type:"previous"}),ZR=op({icon:_4,name:"PaginationLast",action:"onLast",type:"next"});function Ky({dotsIcon:e}){const t=np(),r=t.range.map((n,o)=>{var a,c,l;return n==="dots"?g.jsx(sp,{icon:e},o):g.jsx(pl,{active:n===t.active,"aria-current":n===t.active?"page":void 0,onClick:()=>t.onChange(n),disabled:t.disabled,...(a=t.getItemProps)==null?void 0:a.call(t,n),children:((l=(c=t.getItemProps)==null?void 0:c.call(t,n))==null?void 0:l.children)??n},o)});return g.jsx(g.Fragment,{children:r})}Ky.displayName="@mantine/core/PaginationItems";const R4={siblings:1,boundaries:1},E4=(e,{size:t,radius:r,color:n,autoContrast:o})=>({root:{"--pagination-control-radius":r===void 0?void 0:kt(r),"--pagination-control-size":Qe(t,"pagination-control-size"),"--pagination-control-fz":ir(t),"--pagination-active-bg":n?gr(n,e):void 0,"--pagination-active-color":Fv(o,e)?xf({color:n,theme:e,autoContrast:o}):void 0}}),ip=ye((e,t)=>{const r=ie("PaginationRoot",R4,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,total:d,value:m,defaultValue:y,onChange:v,disabled:w,siblings:S,boundaries:x,color:C,radius:T,onNextPage:R,onPreviousPage:p,onFirstPage:h,onLastPage:b,getItemProps:E,autoContrast:D,...j}=r,N=ze({name:"Pagination",classes:fl,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:E4}),{range:M,setPage:A,next:O,previous:V,active:W,first:K,last:L}=fI({page:m,initialPage:y,onChange:v,total:d,siblings:S,boundaries:x}),F=Lr(R,O),$=Lr(p,V),U=Lr(h,K),H=Lr(b,L);return g.jsx(v4,{value:{total:d,range:M,active:W,disabled:w,getItemProps:E,onChange:A,onNext:F,onPrevious:$,onFirst:U,onLast:H,getStyles:N},children:g.jsx(re,{ref:t,...N("root"),...j})})});ip.classes=fl;ip.displayName="@mantine/core/PaginationRoot";const T4={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Qn=ye((e,t)=>{const r=ie("Pagination",T4,e),{withEdges:n,withControls:o,getControlProps:a,nextIcon:c,previousIcon:l,lastIcon:u,firstIcon:d,dotsIcon:m,total:y,gap:v,hideWithOnePage:w,withPages:S,...x}=r;return y<=0||w&&y===1?null:g.jsx(ip,{ref:t,total:y,...x,children:g.jsxs(Ce,{gap:v,children:[n&&g.jsx(QR,{icon:d,...a==null?void 0:a("first")}),o&&g.jsx(JR,{icon:l,...a==null?void 0:a("previous")}),S&&g.jsx(Ky,{dotsIcon:m}),o&&g.jsx(YR,{icon:c,...a==null?void 0:a("next")}),n&&g.jsx(ZR,{icon:u,...a==null?void 0:a("last")})]})})});Qn.classes=fl;Qn.displayName="@mantine/core/Pagination";Qn.Root=ip;Qn.Control=pl;Qn.Dots=sp;Qn.First=QR;Qn.Last=ZR;Qn.Next=YR;Qn.Previous=JR;Qn.Items=Ky;const k4=({reveal:e})=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:g.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Zg={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const P4={visibilityToggleIcon:k4},D4=(e,{size:t})=>({root:{"--psi-icon-size":Qe(t,"psi-icon-size"),"--psi-button-size":Qe(t,"psi-button-size")}}),ap=ye((e,t)=>{const r=ie("PasswordInput",P4,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,required:d,error:m,leftSection:y,disabled:v,id:w,variant:S,inputContainer:x,description:C,label:T,size:R,errorProps:p,descriptionProps:h,labelProps:b,withAsterisk:E,inputWrapperOrder:D,wrapperProps:j,radius:N,rightSection:M,rightSectionWidth:A,rightSectionPointerEvents:O,leftSectionWidth:V,visible:W,defaultVisible:K,onVisibilityChange:L,visibilityToggleIcon:F,visibilityToggleButtonProps:$,rightSectionProps:U,leftSectionProps:H,leftSectionPointerEvents:z,withErrorStyles:G,mod:se,...de}=r,J=As(w),[oe,ue]=Er({value:W,defaultValue:K,finalValue:!1,onChange:L}),ve=()=>ue(!oe),we=ze({name:"PasswordInput",classes:Zg,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:D4}),{resolvedClassNames:Ne,resolvedStyles:ae}=hi({classNames:n,styles:c,props:r}),{styleProps:Ee,rest:rt}=sl(de),Ve=F,Be=g.jsx(ct,{...we("visibilityToggle"),disabled:v,radius:N,"aria-hidden":!$,tabIndex:-1,...$,variant:($==null?void 0:$.variant)??"subtle",color:"gray",unstyled:l,onTouchEnd:lt=>{var pe;lt.preventDefault(),(pe=$==null?void 0:$.onTouchEnd)==null||pe.call($,lt),ve()},onMouseDown:lt=>{var pe;lt.preventDefault(),(pe=$==null?void 0:$.onMouseDown)==null||pe.call($,lt),ve()},onKeyDown:lt=>{var pe;(pe=$==null?void 0:$.onKeyDown)==null||pe.call($,lt),lt.key===" "&&(lt.preventDefault(),ve())},children:g.jsx(Ve,{reveal:oe})});return g.jsx(Mt.Wrapper,{required:d,id:J,label:T,error:m,description:C,size:R,classNames:Ne,styles:ae,__staticSelector:"PasswordInput",errorProps:p,descriptionProps:h,unstyled:l,withAsterisk:E,inputWrapperOrder:D,inputContainer:x,variant:S,labelProps:{...b,htmlFor:J},mod:se,...we("root"),...Ee,...j,children:g.jsx(Mt,{component:"div",error:m,leftSection:y,size:R,classNames:{...Ne,input:Gt(Zg.input,Ne.input)},styles:ae,radius:N,disabled:v,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:M??Be,variant:S,unstyled:l,leftSectionWidth:V,rightSectionPointerEvents:O||"all",rightSectionProps:U,leftSectionProps:H,leftSectionPointerEvents:z,withAria:!1,withErrorStyles:G,children:g.jsx("input",{required:d,"data-invalid":!!m||void 0,"data-with-left-section":!!y||void 0,...we("innerInput"),disabled:v,id:J,ref:t,...rt,autoComplete:rt.autoComplete||"off",type:oe?"text":"password"})})})});ap.classes={...yn.classes,...Zg};ap.displayName="@mantine/core/PasswordInput";const j4={duration:100,transition:"fade"};function I4(e,t){return{...j4,...t,...e}}function M4({offset:e,position:t,defaultOpened:r}){const[n,o]=P.useState(r),a=P.useRef(null),{x:c,y:l,elements:u,refs:d,update:m,placement:y}=ey({placement:t,middleware:[Yv({crossAxis:!0,padding:5,rootBoundary:"document"})]}),v=y.includes("right")?e:t.includes("left")?e*-1:0,w=y.includes("bottom")?e:t.includes("top")?e*-1:0,S=P.useCallback(({clientX:x,clientY:C})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:C,left:x+v,top:C+w,right:x,bottom:C}}})},[u.reference]);return P.useEffect(()=>{if(d.floating.current){const x=a.current;x.addEventListener("mousemove",S);const C=ks(d.floating.current);return C.forEach(T=>{T.addEventListener("scroll",m)}),()=>{x.removeEventListener("mousemove",S),C.forEach(T=>{T.removeEventListener("scroll",m)})}}},[u.reference,d.floating.current,m,S,n]),{handleMouseMove:S,x:c,y:l,opened:n,setOpened:o,boundaryRef:a,floating:d.setFloating}}var cp={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const N4={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Br("popover")},L4=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Xy=ye((e,t)=>{const r=ie("TooltipFloating",N4,e),{children:n,refProp:o,withinPortal:a,style:c,className:l,classNames:u,styles:d,unstyled:m,radius:y,color:v,label:w,offset:S,position:x,multiline:C,zIndex:T,disabled:R,defaultOpened:p,variant:h,vars:b,portalProps:E,...D}=r,j=er(),N=ze({name:"TooltipFloating",props:r,classes:cp,className:l,style:c,classNames:u,styles:d,unstyled:m,rootSelector:"tooltip",vars:b,varsResolver:L4}),{handleMouseMove:M,x:A,y:O,opened:V,boundaryRef:W,floating:K,setOpened:L}=M4({offset:S,position:x,defaultOpened:p});if(!Ro(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const F=Kt(W,bf(n),t),$=n.props,U=z=>{var G;(G=$.onMouseEnter)==null||G.call($,z),M(z),L(!0)},H=z=>{var G;(G=$.onMouseLeave)==null||G.call($,z),L(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(mi,{...E,withinPortal:a,children:g.jsx(re,{...D,...N("tooltip",{style:{...Bv(c,j),zIndex:T,display:!R&&V?"block":"none",top:(O&&Math.round(O))??"",left:(A&&Math.round(A))??""}}),variant:h,ref:K,mod:{multiline:C},children:w})}),P.cloneElement(n,{...$,[o]:F,onMouseEnter:U,onMouseLeave:H})]})});Xy.classes=cp;Xy.displayName="@mantine/core/TooltipFloating";const eE=P.createContext(!1),O4=eE.Provider,A4=()=>P.useContext(eE),$4={openDelay:0,closeDelay:0};function Yy(e){const{openDelay:t,closeDelay:r,children:n}=ie("TooltipGroup",$4,e);return g.jsx(O4,{value:!0,children:g.jsx(BM,{delay:{open:t,close:r},children:n})})}Yy.displayName="@mantine/core/TooltipGroup";Yy.extend=e=>e;function F4(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function z4(e){const t=F4(e.middlewares),r=[_C(e.offset)];return t.shift&&r.push(Yv(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?tf():tf(t.flip)),r.push(xC({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Bc():Bc(t.inline)):e.inline&&r.push(Bc()),r}function B4(e){var E,D,j;const[t,r]=P.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,a=A4(),c=As(),l=P.useCallback(N=>{r(N),N&&R(c)},[c]),{x:u,y:d,context:m,refs:y,update:v,placement:w,middlewareData:{arrow:{x:S,y:x}={}}}=ey({strategy:e.strategy,placement:e.position,open:o,onOpenChange:l,middleware:z4(e)}),{delay:C,currentId:T,setCurrentId:R}=UM(m,{id:c}),{getReferenceProps:p,getFloatingProps:h}=XM([FM(m,{enabled:(E=e.events)==null?void 0:E.hover,delay:a?C:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((D=e.events)!=null&&D.touch)}),KM(m,{enabled:(j=e.events)==null?void 0:j.focus,visibleOnly:!0}),JM(m,{role:"tooltip"}),qM(m,{enabled:typeof e.opened>"u"})]);XC({opened:o,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:y,update:v}}),Fr(()=>{var N;(N=e.onPositionChange)==null||N.call(e,w)},[w]);const b=o&&T&&T!==c;return{x:u,y:d,arrowX:S,arrowY:x,reference:y.setReference,floating:y.setFloating,getFloatingProps:h,getReferenceProps:p,isGroupPhase:b,opened:o,placement:w}}const M_={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Br("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},U4=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ps=ye((e,t)=>{const r=ie("Tooltip",M_,e),{children:n,position:o,refProp:a,label:c,openDelay:l,closeDelay:u,onPositionChange:d,opened:m,defaultOpened:y,withinPortal:v,radius:w,color:S,classNames:x,styles:C,unstyled:T,style:R,className:p,withArrow:h,arrowSize:b,arrowOffset:E,arrowRadius:D,arrowPosition:j,offset:N,transitionProps:M,multiline:A,events:O,zIndex:V,disabled:W,positionDependencies:K,onClick:L,onMouseEnter:F,onMouseLeave:$,inline:U,variant:H,keepMounted:z,vars:G,portalProps:se,mod:de,floatingStrategy:J,middlewares:oe,...ue}=ie("Tooltip",M_,r),{dir:ve}=To(),we=P.useRef(null),Ne=B4({position:UC(ve,o),closeDelay:u,openDelay:l,onPositionChange:d,opened:m,defaultOpened:y,events:O,arrowRef:we,arrowOffset:E,offset:typeof N=="number"?N+(h?b/2:0):N,positionDependencies:[...K,n],inline:U,strategy:J,middlewares:oe}),ae=ze({name:"Tooltip",props:r,classes:cp,className:p,style:R,classNames:x,styles:C,unstyled:T,rootSelector:"tooltip",vars:G,varsResolver:U4});if(!Ro(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Ee=Kt(Ne.reference,bf(n),t),rt=I4(M,{duration:100,transition:"fade"}),Ve=n.props;return g.jsxs(g.Fragment,{children:[g.jsx(mi,{...se,withinPortal:v,children:g.jsx($s,{...rt,keepMounted:z,mounted:!W&&!!Ne.opened,duration:Ne.isGroupPhase?10:rt.duration,children:Be=>g.jsxs(re,{...ue,"data-fixed":J==="fixed"||void 0,variant:H,mod:[{multiline:A},de],...Ne.getFloatingProps({ref:Ne.floating,className:ae("tooltip").className,style:{...ae("tooltip").style,...Be,zIndex:V,top:Ne.y??0,left:Ne.x??0}}),children:[c,g.jsx(oy,{ref:we,arrowX:Ne.arrowX,arrowY:Ne.arrowY,visible:h,position:Ne.placement,arrowSize:b,arrowOffset:E,arrowRadius:D,arrowPosition:j,...ae("arrow")})]})})}),P.cloneElement(n,Ne.getReferenceProps({onClick:L,onMouseEnter:F,onMouseLeave:$,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Gt(p,Ve.className),...Ve,[a]:Ee}))]})});ps.classes=cp;ps.displayName="@mantine/core/Tooltip";ps.Floating=Xy;ps.Group=Yy;const V4={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Ps=ye((e,t)=>{const r=ie("Select",V4,e),{classNames:n,styles:o,unstyled:a,vars:c,dropdownOpened:l,defaultDropdownOpened:u,onDropdownClose:d,onDropdownOpen:m,onFocus:y,onBlur:v,onClick:w,onChange:S,data:x,value:C,defaultValue:T,selectFirstOptionOnChange:R,onOptionSubmit:p,comboboxProps:h,readOnly:b,disabled:E,filter:D,limit:j,withScrollArea:N,maxDropdownHeight:M,size:A,searchable:O,rightSection:V,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:L,name:F,form:$,searchValue:U,defaultSearchValue:H,onSearchChange:z,allowDeselect:G,error:se,rightSectionPointerEvents:de,id:J,clearable:oe,clearButtonProps:ue,hiddenInputProps:ve,renderOption:we,onClear:Ne,autoComplete:ae,scrollAreaProps:Ee,__defaultRightSection:rt,__clearSection:Ve,__clearable:Be,chevronColor:lt,...pe}=r,Se=P.useMemo(()=>dL(x),[x]),ke=P.useMemo(()=>uR(Se),[Se]),$e=As(J),[We,He,Ye]=Er({value:C,defaultValue:T,finalValue:null,onChange:S}),me=typeof We=="string"?ke[We]:void 0,Le=pI(me),[Te,Fe]=Er({value:U,defaultValue:H,finalValue:me?me.label:"",onChange:z}),be=gR({opened:l,defaultOpened:u,onDropdownOpen:()=>{m==null||m(),be.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{d==null||d(),be.resetSelectedOption()}}),{resolvedClassNames:Ze,resolvedStyles:dt}=hi({props:r,styles:o,classNames:n});P.useEffect(()=>{R&&be.selectFirstOption()},[R,We]),P.useEffect(()=>{C===null&&Fe(""),typeof C=="string"&&me&&((Le==null?void 0:Le.value)!==me.value||(Le==null?void 0:Le.label)!==me.label)&&Fe(me.label)},[C,me]);const nt=g.jsx(gt.ClearButton,{...ue,onClear:()=>{He(null,null),Fe(""),Ne==null||Ne()}}),it=oe&&!!We&&!E&&!b;return g.jsxs(g.Fragment,{children:[g.jsxs(gt,{store:be,__staticSelector:"Select",classNames:Ze,styles:dt,unstyled:a,readOnly:b,onOptionSubmit:Oe=>{p==null||p(Oe);const Ct=G&&ke[Oe].value===We?null:ke[Oe],vs=Ct?Ct.value:null;vs!==We&&He(vs,Ct),!Ye&&Fe(typeof vs=="string"&&(Ct==null?void 0:Ct.label)||""),be.closeDropdown()},size:A,...h,children:[g.jsx(gt.Target,{targetType:O?"input":"button",autoComplete:ae,children:g.jsx(yn,{id:$e,ref:t,__defaultRightSection:g.jsx(gt.Chevron,{size:A,error:se,unstyled:a,color:lt}),__clearSection:nt,__clearable:it,rightSection:V,rightSectionPointerEvents:de||(it?"all":"none"),...pe,size:A,__staticSelector:"Select",disabled:E,readOnly:b||!O,value:Te,onChange:Oe=>{Fe(Oe.currentTarget.value),be.openDropdown(),R&&be.selectFirstOption()},onFocus:Oe=>{O&&be.openDropdown(),y==null||y(Oe)},onBlur:Oe=>{var Ct;O&&be.closeDropdown(),Fe(We!=null&&((Ct=ke[We])==null?void 0:Ct.label)||""),v==null||v(Oe)},onClick:Oe=>{O?be.openDropdown():be.toggleDropdown(),w==null||w(Oe)},classNames:Ze,styles:dt,unstyled:a,pointer:!O,error:se})}),g.jsx(AL,{data:Se,hidden:b||E,filter:D,search:Te,limit:j,hiddenWhenEmpty:!L,withScrollArea:N,maxDropdownHeight:M,filterOptions:O&&(me==null?void 0:me.label)!==Te,value:We,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:L,unstyled:a,labelId:pe.label?`${$e}-label`:void 0,"aria-label":pe.label?void 0:pe["aria-label"],renderOption:we,scrollAreaProps:Ee})]}),g.jsx(gt.HiddenInput,{value:We,name:F,form:$,disabled:E,...ve})]})});Ps.classes={...yn.classes,...gt.classes};Ps.displayName="@mantine/core/Select";function H4({spacing:e,verticalSpacing:t,cols:r,selector:n}){var m;const o=er(),a=t===void 0?e:t,c=Co({"--sg-spacing-x":Zt(qn(e)),"--sg-spacing-y":Zt(qn(a)),"--sg-cols":(m=qn(r))==null?void 0:m.toString()}),l=Bt(o.breakpoints).reduce((y,v)=>(y[v]||(y[v]={}),typeof e=="object"&&e[v]!==void 0&&(y[v]["--sg-spacing-x"]=Zt(e[v])),typeof a=="object"&&a[v]!==void 0&&(y[v]["--sg-spacing-y"]=Zt(a[v])),typeof r=="object"&&r[v]!==void 0&&(y[v]["--sg-cols"]=r[v]),y),{}),d=Mv(Bt(l),o.breakpoints).filter(y=>Bt(l[y.value]).length>0).map(y=>({query:`(min-width: ${o.breakpoints[y.value]})`,styles:l[y.value]}));return g.jsx(wa,{styles:c,media:d,selector:n})}function Ym(e){return typeof e=="object"&&e!==null?Bt(e):[]}function W4(e){return e.sort((t,r)=>Gc(t)-Gc(r))}function q4({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...Ym(e),...Ym(t),...Ym(r)]));return W4(n)}function G4({spacing:e,verticalSpacing:t,cols:r,selector:n}){var d;const o=t===void 0?e:t,a=Co({"--sg-spacing-x":Zt(qn(e)),"--sg-spacing-y":Zt(qn(o)),"--sg-cols":(d=qn(r))==null?void 0:d.toString()}),c=q4({spacing:e,verticalSpacing:t,cols:r}),l=c.reduce((m,y)=>(m[y]||(m[y]={}),typeof e=="object"&&e[y]!==void 0&&(m[y]["--sg-spacing-x"]=Zt(e[y])),typeof o=="object"&&o[y]!==void 0&&(m[y]["--sg-spacing-y"]=Zt(o[y])),typeof r=="object"&&r[y]!==void 0&&(m[y]["--sg-cols"]=r[y]),m),{}),u=c.map(m=>({query:`simple-grid (min-width: ${m})`,styles:l[m]}));return g.jsx(wa,{styles:a,container:u,selector:n})}var tE={container:"m_925c2d2c",root:"m_2415a157"};const K4={cols:1,spacing:"md",type:"media"},Jy=ye((e,t)=>{const r=ie("SimpleGrid",K4,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,cols:d,verticalSpacing:m,spacing:y,type:v,...w}=r,S=ze({name:"SimpleGrid",classes:tE,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u}),x=ol();return v==="container"?g.jsxs(g.Fragment,{children:[g.jsx(G4,{...r,selector:`.${x}`}),g.jsx("div",{...S("container"),children:g.jsx(re,{ref:t,...S("root",{className:x}),...w})})]}):g.jsxs(g.Fragment,{children:[g.jsx(H4,{...r,selector:`.${x}`}),g.jsx(re,{ref:t,...S("root",{className:x}),...w})]})});Jy.classes=tE;Jy.displayName="@mantine/core/SimpleGrid";var rE={root:"m_18320242","skeleton-fade":"m_299c329c"};const X4={visible:!0,animate:!0},Y4=(e,{width:t,height:r,radius:n,circle:o})=>({root:{"--skeleton-height":ne(r),"--skeleton-width":ne(o?r:t),"--skeleton-radius":o?"1000px":n===void 0?void 0:kt(n)}}),ni=ye((e,t)=>{const r=ie("Skeleton",X4,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,width:d,height:m,circle:y,visible:v,radius:w,animate:S,mod:x,...C}=r,T=ze({name:"Skeleton",classes:rE,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:Y4});return g.jsx(re,{ref:t,...T("root"),mod:[{visible:v,animate:S},x],...C})});ni.classes=rE;ni.displayName="@mantine/core/Skeleton";const[J4,lp]=tn("SliderProvider was not found in tree"),nE=P.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:o,radius:a,...c},l)=>{const{getStyles:u}=lp();return g.jsx(re,{tabIndex:-1,variant:r,size:e,ref:l,...u("root"),...c})});nE.displayName="@mantine/core/SliderRoot";const sE=P.forwardRef(({max:e,min:t,value:r,position:n,label:o,dragging:a,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:u,labelAlwaysOn:d,thumbLabel:m,onFocus:y,onBlur:v,showLabelOnHover:w,isHovered:S,children:x=null,disabled:C},T)=>{const{getStyles:R}=lp(),[p,h]=P.useState(!1),b=d||a||p||w&&S;return g.jsxs(re,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:T,__vars:{"--slider-thumb-offset":`${n}%`},...R("thumb",{focusable:!0}),mod:{dragging:a,disabled:C},onFocus:E=>{h(!0),typeof y=="function"&&y(E)},onBlur:E=>{h(!1),typeof v=="function"&&v(E)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:E=>E.stopPropagation(),children:[x,g.jsx($s,{mounted:o!=null&&!!b,transition:"fade",duration:0,...u,children:E=>g.jsx("div",{...R("label",{style:E}),children:o})})]})});sE.displayName="@mantine/core/SliderThumb";function oE({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function Q4({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function iE({marks:e,min:t,max:r,disabled:n,value:o,offset:a,inverted:c}){const{getStyles:l}=lp();if(!e)return null;const u=e.map((d,m)=>P.createElement(re,{...l("markWrapper"),__vars:{"--mark-offset":`${oE({value:d.value,min:t,max:r})}%`},key:m},g.jsx(re,{...l("mark"),mod:{filled:Q4({mark:d,value:o,offset:a,inverted:c}),disabled:n}}),d.label&&g.jsx("div",{...l("markLabel"),children:d.label})));return g.jsx("div",{children:u})}iE.displayName="@mantine/core/SliderMarks";function aE({filled:e,children:t,offset:r,disabled:n,marksOffset:o,inverted:a,containerProps:c,...l}){const{getStyles:u}=lp();return g.jsx(re,{...u("trackContainer"),mod:{disabled:n},...c,children:g.jsxs(re,{...u("track"),mod:{inverted:a,disabled:n},children:[g.jsx(re,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...u("bar")}),t,g.jsx(iE,{...l,offset:o,disabled:n,inverted:a})]})})}aE.displayName="@mantine/core/SliderTrack";function Z4({value:e,containerWidth:t,min:r,max:n,step:o,precision:a}){const l=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),u=(l!==0?Math.round(l/o)*o:0)+r,d=Math.max(u,r);return a!==void 0?Number(d.toFixed(a)):d}function Au(e,t){return parseFloat(e.toFixed(t))}function eA(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Jm(e,t){const n=[...t].sort((o,a)=>o.value-a.value).find(o=>o.value>e);return n?n.value:e}function Qm(e,t){const n=[...t].sort((o,a)=>a.value-o.value).find(o=>o.value<e);return n?n.value:e}function N_(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function L_(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var cE={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const tA={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},rA=(e,{size:t,color:r,thumbSize:n,radius:o})=>({root:{"--slider-size":Qe(t,"slider-size"),"--slider-color":r?gr(r,e):void 0,"--slider-radius":o===void 0?void 0:kt(o),"--slider-thumb-size":n!==void 0?ne(n):"calc(var(--slider-size) * 2)"}}),Qy=ye((e,t)=>{const r=ie("Slider",tA,e),{classNames:n,styles:o,value:a,onChange:c,onChangeEnd:l,size:u,min:d,max:m,step:y,precision:v,defaultValue:w,name:S,marks:x,label:C,labelTransitionProps:T,labelAlwaysOn:R,thumbLabel:p,showLabelOnHover:h,thumbChildren:b,disabled:E,unstyled:D,scale:j,inverted:N,className:M,style:A,vars:O,hiddenInputProps:V,restrictToMarks:W,thumbProps:K,...L}=r,F=ze({name:"Slider",props:r,classes:cE,classNames:n,className:M,styles:o,style:A,vars:O,varsResolver:rA,unstyled:D}),{dir:$}=To(),[U,H]=P.useState(!1),[z,G]=Er({value:typeof a=="number"?Gn(a,d,m):a,defaultValue:typeof w=="number"?Gn(w,d,m):w,finalValue:Gn(0,d,m),onChange:c}),se=P.useRef(z),de=P.useRef(null),J=P.useRef(null),oe=oE({value:z,min:d,max:m}),ue=j(z),ve=typeof C=="function"?C(ue):C,we=v??eA(y),Ne=P.useCallback(({x:Ve})=>{if(!E){const Be=Z4({value:Ve,min:d,max:m,step:y,precision:we});G(W&&(x!=null&&x.length)?D0(Be,x.map(lt=>lt.value)):Be),se.current=Be}},[E,d,m,y,we,G,x,W]),{ref:ae,active:Ee}=Nv(Ne,{onScrubEnd:()=>!E&&(l==null?void 0:l(W&&(x!=null&&x.length)?D0(se.current,x.map(Ve=>Ve.value)):se.current))},$),rt=Ve=>{var Be,lt,pe,Se,ke,$e;if(!E)switch(Ve.key){case"ArrowUp":{if(Ve.preventDefault(),(Be=J.current)==null||Be.focus(),W&&x){const He=Jm(z,x);G(He),l==null||l(He);break}const We=Au(Math.min(Math.max(z+y,d),m),we);G(We),l==null||l(We);break}case"ArrowRight":{if(Ve.preventDefault(),(lt=J.current)==null||lt.focus(),W&&x){const He=$==="rtl"?Qm(z,x):Jm(z,x);G(He),l==null||l(He);break}const We=Au(Math.min(Math.max($==="rtl"?z-y:z+y,d),m),we);G(We),l==null||l(We);break}case"ArrowDown":{if(Ve.preventDefault(),(pe=J.current)==null||pe.focus(),W&&x){const He=Qm(z,x);G(He),l==null||l(He);break}const We=Au(Math.min(Math.max(z-y,d),m),we);G(We),l==null||l(We);break}case"ArrowLeft":{if(Ve.preventDefault(),(Se=J.current)==null||Se.focus(),W&&x){const He=$==="rtl"?Jm(z,x):Qm(z,x);G(He),l==null||l(He);break}const We=Au(Math.min(Math.max($==="rtl"?z+y:z-y,d),m),we);G(We),l==null||l(We);break}case"Home":{if(Ve.preventDefault(),(ke=J.current)==null||ke.focus(),W&&x){G(N_(x)),l==null||l(N_(x));break}G(d),l==null||l(d);break}case"End":{if(Ve.preventDefault(),($e=J.current)==null||$e.focus(),W&&x){G(L_(x)),l==null||l(L_(x));break}G(m),l==null||l(m);break}}};return g.jsx(J4,{value:{getStyles:F},children:g.jsxs(nE,{...L,ref:Kt(t,de),onKeyDownCapture:rt,onMouseDownCapture:()=>{var Ve;return(Ve=de.current)==null?void 0:Ve.focus()},size:u,disabled:E,children:[g.jsx(aE,{inverted:N,offset:0,filled:oe,marks:x,min:d,max:m,value:ue,disabled:E,containerProps:{ref:ae,onMouseEnter:h?()=>H(!0):void 0,onMouseLeave:h?()=>H(!1):void 0},children:g.jsx(sE,{max:m,min:d,value:ue,position:oe,dragging:Ee,label:ve,ref:J,labelTransitionProps:T,labelAlwaysOn:R,thumbLabel:p,showLabelOnHover:h,isHovered:U,disabled:E,...K,children:b})}),g.jsx("input",{type:"hidden",name:S,value:ue,...V})]})})});Qy.classes=cE;Qy.displayName="@mantine/core/Slider";var lE={root:"m_6d731127"};const nA={gap:"md",align:"stretch",justify:"flex-start"},sA=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":Zt(t),"--stack-align":r,"--stack-justify":n}}),xe=ye((e,t)=>{const r=ie("Stack",nA,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,align:d,justify:m,gap:y,variant:v,...w}=r,S=ze({name:"Stack",props:r,classes:lE,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:sA});return g.jsx(re,{ref:t,...S("root"),variant:v,...w})});xe.classes=lE;xe.displayName="@mantine/core/Stack";const uE=P.createContext(null),oA=uE.Provider,iA=()=>P.useContext(uE),aA={},Zy=ye((e,t)=>{const{value:r,defaultValue:n,onChange:o,size:a,wrapperProps:c,children:l,readOnly:u,...d}=ie("SwitchGroup",aA,e),[m,y]=Er({value:r,defaultValue:n,finalValue:[],onChange:o}),v=w=>{const S=w.currentTarget.value;!u&&y(m.includes(S)?m.filter(x=>x!==S):[...m,S])};return g.jsx(oA,{value:{value:m,onChange:v,size:a},children:g.jsx(Mt.Wrapper,{size:a,ref:t,...c,...d,labelElement:"div",__staticSelector:"SwitchGroup",children:g.jsx(ML,{role:"group",children:l})})})});Zy.classes=Mt.Wrapper.classes;Zy.displayName="@mantine/core/SwitchGroup";var dE={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const cA={labelPosition:"right"},lA=(e,{radius:t,color:r,size:n})=>({root:{"--switch-radius":t===void 0?void 0:kt(t),"--switch-height":Qe(n,"switch-height"),"--switch-width":Qe(n,"switch-width"),"--switch-thumb-size":Qe(n,"switch-thumb-size"),"--switch-label-font-size":Qe(n,"switch-label-font-size"),"--switch-track-label-padding":Qe(n,"switch-track-label-padding"),"--switch-color":r?gr(r,e):void 0}}),si=ye((e,t)=>{const r=ie("Switch",cA,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,color:d,label:m,offLabel:y,onLabel:v,id:w,size:S,radius:x,wrapperProps:C,thumbIcon:T,checked:R,defaultChecked:p,onChange:h,labelPosition:b,description:E,error:D,disabled:j,variant:N,rootRef:M,mod:A,...O}=r,V=iA(),W=S||(V==null?void 0:V.size),K=ze({name:"Switch",props:r,classes:dE,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:lA}),{styleProps:L,rest:F}=sl(O),$=As(w),U=V?{checked:V.value.includes(F.value),onChange:V.onChange}:{},[H,z]=Er({value:U.checked??R,defaultValue:p,finalValue:!1});return g.jsxs(yR,{...K("root"),__staticSelector:"Switch",__stylesApiProps:r,id:$,size:W,labelPosition:b,label:m,description:E,error:D,disabled:j,bodyElement:"label",labelElement:"span",classNames:n,styles:c,unstyled:l,"data-checked":U.checked||R||void 0,variant:N,ref:M,mod:A,...L,...C,children:[g.jsx("input",{...F,disabled:j,checked:H,"data-checked":U.checked||R||void 0,onChange:G=>{var se;V?(se=U.onChange)==null||se.call(U,G):h==null||h(G),z(G.currentTarget.checked)},id:$,ref:t,type:"checkbox",role:"switch",...K("input")}),g.jsxs(re,{"aria-hidden":"true",mod:{error:D,"label-position":b,"without-labels":!v&&!y},...K("track"),children:[g.jsx(re,{component:"span",mod:"reduce-motion",...K("thumb"),children:T}),g.jsx("span",{...K("trackLabel"),children:H?v:y})]})]})});si.classes={...dE,...IL};si.displayName="@mantine/core/Switch";si.Group=Zy;const[uA,ew]=tn("Tabs component was not found in the tree");var ml={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const dA={},tw=ye((e,t)=>{const r=ie("TabsList",dA,e),{children:n,className:o,grow:a,justify:c,classNames:l,styles:u,style:d,mod:m,...y}=r,v=ew();return g.jsx(re,{...y,...v.getStyles("list",{className:o,style:d,classNames:l,styles:u,props:r,variant:v.variant}),ref:t,role:"tablist",variant:v.variant,mod:[{grow:a,orientation:v.orientation,placement:v.orientation==="vertical"&&v.placement,inverted:v.inverted},m],"aria-orientation":v.orientation,__vars:{"--tabs-justify":c},children:n})});tw.classes=ml;tw.displayName="@mantine/core/TabsList";const fA={},rw=ye((e,t)=>{const r=ie("TabsPanel",fA,e),{children:n,className:o,value:a,classNames:c,styles:l,style:u,mod:d,keepMounted:m,...y}=r,v=ew(),w=v.value===a,S=v.keepMounted||m||w?n:null;return g.jsx(re,{...y,...v.getStyles("panel",{className:o,classNames:c,styles:l,style:[u,w?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:v.orientation},d],role:"tabpanel",id:v.getPanelId(a),"aria-labelledby":v.getTabId(a),children:S})});rw.classes=ml;rw.displayName="@mantine/core/TabsPanel";const pA={},nw=ye((e,t)=>{const r=ie("TabsTab",pA,e),{className:n,children:o,rightSection:a,leftSection:c,value:l,onClick:u,onKeyDown:d,disabled:m,color:y,style:v,classNames:w,styles:S,vars:x,mod:C,tabIndex:T,...R}=r,p=er(),{dir:h}=To(),b=ew(),E=l===b.value,D=N=>{b.onChange(b.allowTabDeactivation&&l===b.value?null:l),u==null||u(N)},j={classNames:w,styles:S,props:r};return g.jsxs(Jn,{...R,...b.getStyles("tab",{className:n,style:v,variant:b.variant,...j}),disabled:m,unstyled:b.unstyled,variant:b.variant,mod:[{active:E,disabled:m,orientation:b.orientation,inverted:b.inverted,placement:b.orientation==="vertical"&&b.placement},C],ref:t,role:"tab",id:b.getTabId(l),"aria-selected":E,tabIndex:T!==void 0?T:E||b.value===null?0:-1,"aria-controls":b.getPanelId(l),onClick:D,__vars:{"--tabs-color":y?gr(y,p):void 0},onKeyDown:Hx({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:b.activateTabWithKeyboard,loop:b.loop,orientation:b.orientation||"horizontal",dir:h,onKeyDown:d}),children:[c&&g.jsx("span",{...b.getStyles("tabSection",j),"data-position":"left",children:c}),o&&g.jsx("span",{...b.getStyles("tabLabel",j),children:o}),a&&g.jsx("span",{...b.getStyles("tabSection",j),"data-position":"right",children:a})]})});nw.classes=ml;nw.displayName="@mantine/core/TabsTab";const O_="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",hA={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},mA=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":kt(t),"--tabs-color":gr(r,e),"--tabs-text-color":Fv(n,e)?xf({color:r,theme:e,autoContrast:n}):void 0}}),qt=ye((e,t)=>{const r=ie("Tabs",hA,e),{defaultValue:n,value:o,onChange:a,orientation:c,children:l,loop:u,id:d,activateTabWithKeyboard:m,allowTabDeactivation:y,variant:v,color:w,radius:S,inverted:x,placement:C,keepMounted:T,classNames:R,styles:p,unstyled:h,className:b,style:E,vars:D,autoContrast:j,mod:N,...M}=r,A=As(d),[O,V]=Er({value:o,defaultValue:n,finalValue:null,onChange:a}),W=ze({name:"Tabs",props:r,classes:ml,className:b,style:E,classNames:R,styles:p,unstyled:h,vars:D,varsResolver:mA});return g.jsx(uA,{value:{placement:C,value:O,orientation:c,id:A,loop:u,activateTabWithKeyboard:m,getTabId:k0(`${A}-tab`,O_),getPanelId:k0(`${A}-panel`,O_),onChange:V,allowTabDeactivation:y,variant:v,color:w,radius:S,inverted:x,keepMounted:T,unstyled:h,getStyles:W},children:g.jsx(re,{ref:t,id:A,variant:v,mod:[{orientation:c,inverted:c==="horizontal"&&x,placement:c==="vertical"&&C},N],...W("root"),...M,children:l})})});qt.classes=ml;qt.displayName="@mantine/core/Tabs";qt.Tab=nw;qt.Panel=rw;qt.List=tw;const gA={},jt=ye((e,t)=>{const r=ie("TextInput",gA,e);return g.jsx(yn,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});jt.classes=yn.classes;jt.displayName="@mantine/core/TextInput";const vA=["h1","h2","h3","h4","h5","h6"],yA=["xs","sm","md","lg","xl"];function wA(e,t){const r=t!==void 0?t:`h${e}`;return vA.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:yA.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:ne(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var fE={root:"m_8a5d1357"};const SA={order:1},bA=(e,{order:t,size:r,lineClamp:n,textWrap:o})=>{const a=wA(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":o}}},Ar=ye((e,t)=>{const r=ie("Title",SA,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,order:u,vars:d,size:m,variant:y,lineClamp:v,textWrap:w,mod:S,...x}=r,C=ze({name:"Title",props:r,classes:fE,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:bA});return[1,2,3,4,5,6].includes(u)?g.jsx(re,{...C("root"),component:`h${u}`,variant:y,ref:t,mod:[{order:u,"data-line-clamp":typeof v=="number"},S],size:m,...x}):null});Ar.classes=fE;Ar.displayName="@mantine/core/Title";function _A(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),n.forEach(a=>a(t))},initialize(o){r||(t=o,r=!0)},subscribe(o){return n.add(o),()=>n.delete(o)}}}function xA(e){return P.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function CA(e,t,r){const n=[],o=[],a={};for(const c of e){const l=c.position||t;a[l]=a[l]||0,a[l]+=1,a[l]<=r?o.push(c):n.push(c)}return{notifications:o,queue:n}}const RA=()=>_A({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),gi=RA(),EA=(e=gi)=>xA(e);function Pa(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),o=CA(n,r.defaultPosition,r.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function TA(e,t=gi){const r=e.id||Wx();return Pa(t,n=>e.id&&n.some(o=>o.id===e.id)?n:[...n,{...e,id:r}]),r}function pE(e,t=gi){return Pa(t,r=>r.filter(n=>{var o;return n.id===e?((o=n.onClose)==null||o.call(n,n),!1):!0})),e}function kA(e,t=gi){return Pa(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function PA(e=gi){Pa(e,()=>[])}function DA(e=gi){Pa(e,t=>t.slice(0,e.getState().limit))}const Ds={show:TA,hide:pE,update:kA,clean:PA,cleanQueue:DA,updateState:Pa};function ev(e,t){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ev(e,t)}function hE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ev(e,t)}const A_={disabled:!1},sf=xt.createContext(null);var jA=function(t){return t.scrollTop},Oc="unmounted",Go="exited",Ko="entering",ra="entered",tv="exiting",Vs=function(e){hE(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var c=o,l=c&&!c.isMounting?n.enter:n.appear,u;return a.appearStatus=null,n.in?l?(u=Go,a.appearStatus=Ko):u=ra:n.unmountOnExit||n.mountOnEnter?u=Oc:u=Go,a.state={status:u},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var c=o.in;return c&&a.status===Oc?{status:Go}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var a=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Ko&&c!==ra&&(a=Ko):(c===Ko||c===ra)&&(a=tv)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,a,c,l;return a=c=l=o,o!=null&&typeof o!="number"&&(a=o.exit,c=o.enter,l=o.appear!==void 0?o.appear:c),{exit:a,enter:c,appear:l}},r.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Ko){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Nc.findDOMNode(this);c&&jA(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Go&&this.setState({status:Oc})},r.performEnter=function(o){var a=this,c=this.props.enter,l=this.context?this.context.isMounting:o,u=this.props.nodeRef?[l]:[Nc.findDOMNode(this),l],d=u[0],m=u[1],y=this.getTimeouts(),v=l?y.appear:y.enter;if(!o&&!c||A_.disabled){this.safeSetState({status:ra},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Ko},function(){a.props.onEntering(d,m),a.onTransitionEnd(v,function(){a.safeSetState({status:ra},function(){a.props.onEntered(d,m)})})})},r.performExit=function(){var o=this,a=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:Nc.findDOMNode(this);if(!a||A_.disabled){this.safeSetState({status:Go},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:tv},function(){o.props.onExiting(l),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:Go},function(){o.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},r.setNextCallback=function(o){var a=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,a.nextCallback=null,o(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(o,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Nc.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],d=u[0],m=u[1];this.props.addEndListener(d,m)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===Oc)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=zy(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xt.createElement(sf.Provider,{value:null},typeof c=="function"?c(o,l):xt.cloneElement(xt.Children.only(c),l))},t}(xt.Component);Vs.contextType=sf;Vs.propTypes={};function Zi(){}Vs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zi,onEntering:Zi,onEntered:Zi,onExit:Zi,onExiting:Zi,onExited:Zi};Vs.UNMOUNTED=Oc;Vs.EXITED=Go;Vs.ENTERING=Ko;Vs.ENTERED=ra;Vs.EXITING=tv;function IA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sw(e,t){var r=function(a){return t&&P.isValidElement(a)?t(a):a},n=Object.create(null);return e&&P.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function MA(e,t){e=e||{},t=t||{};function r(m){return m in t?t[m]:e[m]}var n=Object.create(null),o=[];for(var a in e)a in t?o.length&&(n[a]=o,o=[]):o.push(a);var c,l={};for(var u in t){if(n[u])for(c=0;c<n[u].length;c++){var d=n[u][c];l[n[u][c]]=r(d)}l[u]=r(u)}for(c=0;c<o.length;c++)l[o[c]]=r(o[c]);return l}function ei(e,t,r){return r[t]!=null?r[t]:e.props[t]}function NA(e,t){return sw(e.children,function(r){return P.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:ei(r,"appear",e),enter:ei(r,"enter",e),exit:ei(r,"exit",e)})})}function LA(e,t,r){var n=sw(e.children),o=MA(t,n);return Object.keys(o).forEach(function(a){var c=o[a];if(P.isValidElement(c)){var l=a in t,u=a in n,d=t[a],m=P.isValidElement(d)&&!d.props.in;u&&(!l||m)?o[a]=P.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:ei(c,"exit",e),enter:ei(c,"enter",e)}):!u&&l&&!m?o[a]=P.cloneElement(c,{in:!1}):u&&l&&P.isValidElement(d)&&(o[a]=P.cloneElement(c,{onExited:r.bind(null,c),in:d.props.in,exit:ei(c,"exit",e),enter:ei(c,"enter",e)}))}}),o}var OA=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},AA={component:"div",childFactory:function(t){return t}},ho=function(e){hE(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var c=a.handleExited.bind(IA(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var c=a.children,l=a.handleExited,u=a.firstRender;return{children:u?NA(o,l):LA(o,c,l),firstRender:!1}},r.handleExited=function(o,a){var c=sw(this.props.children);o.key in c||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(l){var u=nf({},l.children);return delete u[o.key],{children:u}}))},r.render=function(){var o=this.props,a=o.component,c=o.childFactory,l=zy(o,["component","childFactory"]),u=this.state.contextValue,d=OA(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,a===null?xt.createElement(sf.Provider,{value:u},d):xt.createElement(sf.Provider,{value:u},xt.createElement(a,l,d))},t}(xt.Component);ho.propTypes={};ho.defaultProps=AA;const mE=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function $A(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),mE.reduce((r,n)=>(r[n]=[],r),{}))}const $_={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},FA={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function zA({state:e,maxHeight:t,position:r,transitionDuration:n}){const[o,a]=r.split("-"),c=a==="center"?`${o}-center`:a,l={opacity:0,maxHeight:t,transform:$_[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:FA[c]},d={opacity:0,maxHeight:0,transform:$_[c]};return{...l,...{entering:u,entered:u,exiting:d,exited:d}[e]}}function BA(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const gE=P.forwardRef(({data:e,onHide:t,autoClose:r,...n},o)=>{const{autoClose:a,message:c,...l}=e,u=BA(r,e.autoClose),d=P.useRef(-1),m=()=>window.clearTimeout(d.current),y=()=>{t(e.id),m()},v=()=>{typeof u=="number"&&(d.current=window.setTimeout(y,u))};return P.useEffect(()=>{var w;(w=e.onOpen)==null||w.call(e,e)},[]),P.useEffect(()=>(v(),m),[u]),g.jsx(qy,{...n,...l,onClose:y,ref:o,onMouseEnter:m,onMouseLeave:v,children:c})});gE.displayName="@mantine/notifications/NotificationContainer";var vE={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const UA=Vs,VA={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Br("overlay"),store:gi,withinPortal:!0},HA=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":ne(r)}}),Hs=ye((e,t)=>{const r=ie("Notifications",VA,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:u,position:d,autoClose:m,transitionDuration:y,containerWidth:v,notificationMaxHeight:w,limit:S,zIndex:x,store:C,portalProps:T,withinPortal:R,...p}=r,h=er(),b=EA(C),E=cI(),D=Sf(),j=P.useRef({}),N=P.useRef(0),A=(h.respectReducedMotion?D:!1)?1:y,O=ze({name:"Notifications",classes:vE,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:u,varsResolver:HA});P.useEffect(()=>{C==null||C.updateState(K=>({...K,limit:S||5,defaultPosition:d}))},[S,d]),Fr(()=>{b.notifications.length>N.current&&setTimeout(()=>E(),0),N.current=b.notifications.length},[b.notifications]);const V=$A(b.notifications,d),W=mE.reduce((K,L)=>(K[L]=V[L].map(({style:F,...$})=>g.jsx(UA,{timeout:A,onEnter:()=>j.current[$.id].offsetHeight,nodeRef:{current:j.current[$.id]},children:U=>g.jsx(gE,{ref:H=>{j.current[$.id]=H},data:$,onHide:H=>pE(H,C),autoClose:m,...O("notification",{style:{...zA({state:U,position:L,transitionDuration:A,maxHeight:w}),...F}})})},$.id)),K),{});return g.jsxs(mi,{withinPortal:R,...T,children:[g.jsx(re,{...O("root"),"data-position":"top-center",ref:t,...p,children:g.jsx(ho,{children:W["top-center"]})}),g.jsx(re,{...O("root"),"data-position":"top-left",...p,children:g.jsx(ho,{children:W["top-left"]})}),g.jsx(re,{...O("root",{className:Kd.classNames.fullWidth}),"data-position":"top-right",...p,children:g.jsx(ho,{children:W["top-right"]})}),g.jsx(re,{...O("root",{className:Kd.classNames.fullWidth}),"data-position":"bottom-right",...p,children:g.jsx(ho,{children:W["bottom-right"]})}),g.jsx(re,{...O("root"),"data-position":"bottom-left",...p,children:g.jsx(ho,{children:W["bottom-left"]})}),g.jsx(re,{...O("root"),"data-position":"bottom-center",...p,children:g.jsx(ho,{children:W["bottom-center"]})})]})});Hs.classes=vE;Hs.displayName="@mantine/notifications/Notifications";Hs.show=Ds.show;Hs.hide=Ds.hide;Hs.update=Ds.update;Hs.clean=Ds.clean;Hs.cleanQueue=Ds.cleanQueue;Hs.updateState=Ds.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}var vo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vo||(vo={}));const F_="popstate";function WA(e){e===void 0&&(e={});function t(o,a){let{pathname:c="/",search:l="",hash:u=""}=vi(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),rv("",{pathname:c,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){let c=o.document.querySelector("base"),l="";if(c&&c.getAttribute("href")){let u=o.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof a=="string"?a:of(a))}function n(o,a){ow(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return GA(t,r,n,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ow(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qA(){return Math.random().toString(36).substr(2,8)}function z_(e,t){return{usr:e.state,key:e.key,idx:t}}function rv(e,t,r,n){return r===void 0&&(r=null),Zc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vi(t):t,{state:r,key:t&&t.key||n||qA()})}function of(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function GA(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,c=o.history,l=vo.Pop,u=null,d=m();d==null&&(d=0,c.replaceState(Zc({},c.state,{idx:d}),""));function m(){return(c.state||{idx:null}).idx}function y(){l=vo.Pop;let C=m(),T=C==null?null:C-d;d=C,u&&u({action:l,location:x.location,delta:T})}function v(C,T){l=vo.Push;let R=rv(x.location,C,T);r&&r(R,C),d=m()+1;let p=z_(R,d),h=x.createHref(R);try{c.pushState(p,"",h)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;o.location.assign(h)}a&&u&&u({action:l,location:x.location,delta:1})}function w(C,T){l=vo.Replace;let R=rv(x.location,C,T);r&&r(R,C),d=m();let p=z_(R,d),h=x.createHref(R);c.replaceState(p,"",h),a&&u&&u({action:l,location:x.location,delta:0})}function S(C){let T=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof C=="string"?C:of(C);return R=R.replace(/ $/,"%20"),Ut(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let x={get action(){return l},get location(){return e(o,c)},listen(C){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,y),u=C,()=>{o.removeEventListener(F_,y),u=null}},createHref(C){return t(o,C)},createURL:S,encodeLocation(C){let T=S(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:w,go(C){return c.go(C)}};return x}var B_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(B_||(B_={}));function KA(e,t,r){return r===void 0&&(r="/"),XA(e,t,r)}function XA(e,t,r,n){let o=typeof t=="string"?vi(t):t,a=iw(o.pathname||"/",r);if(a==null)return null;let c=yE(e);YA(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let d=c$(a);l=o$(c[u],d)}return l}function yE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,c,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};u.relativePath.startsWith("/")&&(Ut(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=yo([n,u.relativePath]),m=r.concat(u);a.children&&a.children.length>0&&(Ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yE(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:n$(d,a.index),routesMeta:m})};return e.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,c);else for(let u of wE(a.path))o(a,c,u)}),t}function wE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let c=wE(n.join("/")),l=[];return l.push(...c.map(u=>u===""?a:[a,u].join("/"))),o&&l.push(...c),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function YA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JA=/^:[\w-]+$/,QA=3,ZA=2,e$=1,t$=10,r$=-2,U_=e=>e==="*";function n$(e,t){let r=e.split("/"),n=r.length;return r.some(U_)&&(n+=r$),t&&(n+=ZA),r.filter(o=>!U_(o)).reduce((o,a)=>o+(JA.test(a)?QA:a===""?e$:t$),n)}function s$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function o$(e,t,r){let{routesMeta:n}=e,o={},a="/",c=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",y=i$({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),v=u.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:yo([a,y.pathname]),pathnameBase:f$(yo([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=yo([a,y.pathnameBase]))}return c}function i$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=a$(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((d,m,y)=>{let{paramName:v,isOptional:w}=m;if(v==="*"){let x=l[y]||"";c=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const S=l[y];return w&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:c,pattern:e}}function a$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ow(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function c$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ow(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function iw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function l$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?vi(e):e;return{pathname:r?r.startsWith("/")?r:u$(r,t):t,search:p$(n),hash:h$(o)}}function u$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Zm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function SE(e,t){let r=d$(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bE(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=vi(e):(o=Zc({},e),Ut(!o.pathname||!o.pathname.includes("?"),Zm("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),Zm("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),Zm("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,l;if(c==null)l=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}l=y>=0?t[y]:"/"}let u=l$(o,l),d=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const yo=e=>e.join("/").replace(/\/\/+/g,"/"),f$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _E=["post","put","patch","delete"];new Set(_E);const g$=["get",..._E];new Set(g$);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}const aw=P.createContext(null),v$=P.createContext(null),yi=P.createContext(null),up=P.createContext(null),wi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),xE=P.createContext(null);function y$(e,t){let{relative:r}=t===void 0?{}:t;gl()||Ut(!1);let{basename:n,navigator:o}=P.useContext(yi),{hash:a,pathname:c,search:l}=RE(e,{relative:r}),u=c;return n!=="/"&&(u=c==="/"?n:yo([n,c])),o.createHref({pathname:u,search:l,hash:a})}function gl(){return P.useContext(up)!=null}function dp(){return gl()||Ut(!1),P.useContext(up).location}function CE(e){P.useContext(yi).static||P.useLayoutEffect(e)}function Ws(){let{isDataRoute:e}=P.useContext(wi);return e?j$():w$()}function w$(){gl()||Ut(!1);let e=P.useContext(aw),{basename:t,future:r,navigator:n}=P.useContext(yi),{matches:o}=P.useContext(wi),{pathname:a}=dp(),c=JSON.stringify(SE(o,r.v7_relativeSplatPath)),l=P.useRef(!1);return CE(()=>{l.current=!0}),P.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let y=bE(d,JSON.parse(c),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:yo([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,c,a,e])}function RE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=P.useContext(yi),{matches:o}=P.useContext(wi),{pathname:a}=dp(),c=JSON.stringify(SE(o,n.v7_relativeSplatPath));return P.useMemo(()=>bE(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function S$(e,t){return b$(e,t)}function b$(e,t,r,n){gl()||Ut(!1);let{navigator:o}=P.useContext(yi),{matches:a}=P.useContext(wi),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let d=dp(),m;if(t){var y;let C=typeof t=="string"?vi(t):t;u==="/"||(y=C.pathname)!=null&&y.startsWith(u)||Ut(!1),m=C}else m=d;let v=m.pathname||"/",w=v;if(u!=="/"){let C=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=KA(e,{pathname:w}),x=E$(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:yo([u,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:yo([u,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return t&&x?P.createElement(up.Provider,{value:{location:el({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:vo.Pop}},x):x}function _$(){let e=D$(),t=m$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:o},r):null,null)}const x$=P.createElement(_$,null);class C$ extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?P.createElement(wi.Provider,{value:this.props.routeContext},P.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R$(e){let{routeContext:t,match:r,children:n}=e,o=P.useContext(aw);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(wi.Provider,{value:t},n)}function E$(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let m=c.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);m>=0||Ut(!1),c=c.slice(0,Math.min(c.length,m+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let y=c[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:v,errors:w}=r,S=y.route.loader&&v[y.route.id]===void 0&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){u=!0,d>=0?c=c.slice(0,d+1):c=[c[0]];break}}}return c.reduceRight((m,y,v)=>{let w,S=!1,x=null,C=null;r&&(w=l&&y.route.id?l[y.route.id]:void 0,x=y.route.errorElement||x$,u&&(d<0&&v===0?(I$("route-fallback"),S=!0,C=null):d===v&&(S=!0,C=y.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,v+1)),R=()=>{let p;return w?p=x:S?p=C:y.route.Component?p=P.createElement(y.route.Component,null):y.route.element?p=y.route.element:p=m,P.createElement(R$,{match:y,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:p})};return r&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?P.createElement(C$,{location:r.location,revalidation:r.revalidation,component:x,error:w,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var EE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EE||{}),TE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(TE||{});function T$(e){let t=P.useContext(aw);return t||Ut(!1),t}function k$(e){let t=P.useContext(v$);return t||Ut(!1),t}function P$(e){let t=P.useContext(wi);return t||Ut(!1),t}function kE(e){let t=P$(),r=t.matches[t.matches.length-1];return r.route.id||Ut(!1),r.route.id}function D$(){var e;let t=P.useContext(xE),r=k$(),n=kE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function j$(){let{router:e}=T$(EE.UseNavigateStable),t=kE(TE.UseNavigateStable),r=P.useRef(!1);return CE(()=>{r.current=!0}),P.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,el({fromRouteId:t},a)))},[e,t])}const V_={};function I$(e,t,r){V_[e]||(V_[e]=!0)}const H_={};function M$(e,t){H_[t]||(H_[t]=!0,console.warn(t))}const W_=(e,t,r)=>M$(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function N$(e,t){e!=null&&e.v7_startTransition||W_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||W_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ac(e){Ut(!1)}function L$(e){let{basename:t="/",children:r=null,location:n,navigationType:o=vo.Pop,navigator:a,static:c=!1,future:l}=e;gl()&&Ut(!1);let u=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:a,static:c,future:el({v7_relativeSplatPath:!1},l)}),[u,l,a,c]);typeof n=="string"&&(n=vi(n));let{pathname:m="/",search:y="",hash:v="",state:w=null,key:S="default"}=n,x=P.useMemo(()=>{let C=iw(m,u);return C==null?null:{location:{pathname:C,search:y,hash:v,state:w,key:S},navigationType:o}},[u,m,y,v,w,S,o]);return x==null?null:P.createElement(yi.Provider,{value:d},P.createElement(up.Provider,{children:r,value:x}))}function O$(e){let{children:t,location:r}=e;return S$(nv(t),r)}new Promise(()=>{});function nv(e,t){t===void 0&&(t=[]);let r=[];return P.Children.forEach(e,(n,o)=>{if(!P.isValidElement(n))return;let a=[...t,o];if(n.type===P.Fragment){r.push.apply(r,nv(n.props.children,a));return}n.type!==Ac&&Ut(!1),!n.props.index||!n.props.children||Ut(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=nv(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(this,arguments)}function A$(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function $$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F$(e,t){return e.button===0&&(!t||t==="_self")&&!$$(e)}const z$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B$="6";try{window.__reactRouterVersion=B$}catch{}const U$="startTransition",q_=Ix[U$];function V$(e){let{basename:t,children:r,future:n,window:o}=e,a=P.useRef();a.current==null&&(a.current=WA({window:o,v5Compat:!0}));let c=a.current,[l,u]=P.useState({action:c.action,location:c.location}),{v7_startTransition:d}=n||{},m=P.useCallback(y=>{d&&q_?q_(()=>u(y)):u(y)},[u,d]);return P.useLayoutEffect(()=>c.listen(m),[c,m]),P.useEffect(()=>N$(n),[n]),P.createElement(L$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G_=P.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:c,state:l,target:u,to:d,preventScrollReset:m,viewTransition:y}=t,v=A$(t,z$),{basename:w}=P.useContext(yi),S,x=!1;if(typeof d=="string"&&W$.test(d)&&(S=d,H$))try{let p=new URL(window.location.href),h=d.startsWith("//")?new URL(p.protocol+d):new URL(d),b=iw(h.pathname,w);h.origin===p.origin&&b!=null?d=b+h.search+h.hash:x=!0}catch{}let C=y$(d,{relative:o}),T=q$(d,{replace:c,state:l,target:u,preventScrollReset:m,relative:o,viewTransition:y});function R(p){n&&n(p),p.defaultPrevented||T(p)}return P.createElement("a",sv({},v,{href:S||C,onClick:x||a?n:R,ref:r,target:u}))});var K_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(K_||(K_={}));var X_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(X_||(X_={}));function q$(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:c,viewTransition:l}=t===void 0?{}:t,u=Ws(),d=dp(),m=RE(e,{relative:c});return P.useCallback(y=>{if(F$(y,r)){y.preventDefault();let v=n!==void 0?n:of(d)===of(m);u(e,{replace:v,state:o,preventScrollReset:a,relative:c,viewTransition:l})}},[d,u,m,n,o,r,e,a,c,l])}const PE=P.createContext(void 0),DE=P.createContext(null),Si=()=>{const e=P.useContext(DE);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},hs=Object.create(null);hs.open="0";hs.close="1";hs.ping="2";hs.pong="3";hs.message="4";hs.upgrade="5";hs.noop="6";const Zu=Object.create(null);Object.keys(hs).forEach(e=>{Zu[hs[e]]=e});const ov={type:"error",data:"parser error"},jE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",IE=typeof ArrayBuffer=="function",ME=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,cw=({type:e,data:t},r,n)=>jE&&t instanceof Blob?r?n(t):Y_(t,n):IE&&(t instanceof ArrayBuffer||ME(t))?r?n(t):Y_(new Blob([t]),n):n(hs[e]+(t||"")),Y_=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function J_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let eg;function G$(e,t){if(jE&&e.data instanceof Blob)return e.data.arrayBuffer().then(J_).then(t);if(IE&&(e.data instanceof ArrayBuffer||ME(e.data)))return t(J_(e.data));cw(e,!1,r=>{eg||(eg=new TextEncoder),t(eg.encode(r))})}const Q_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$c=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Q_.length;e++)$c[Q_.charCodeAt(e)]=e;const K$=e=>{let t=e.length*.75,r=e.length,n,o=0,a,c,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),m=new Uint8Array(d);for(n=0;n<r;n+=4)a=$c[e.charCodeAt(n)],c=$c[e.charCodeAt(n+1)],l=$c[e.charCodeAt(n+2)],u=$c[e.charCodeAt(n+3)],m[o++]=a<<2|c>>4,m[o++]=(c&15)<<4|l>>2,m[o++]=(l&3)<<6|u&63;return d},X$=typeof ArrayBuffer=="function",lw=(e,t)=>{if(typeof e!="string")return{type:"message",data:NE(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Y$(e.substring(1),t)}:Zu[r]?e.length>1?{type:Zu[r],data:e.substring(1)}:{type:Zu[r]}:ov},Y$=(e,t)=>{if(X$){const r=K$(e);return NE(r,t)}else return{base64:!0,data:e}},NE=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},LE="",J$=(e,t)=>{const r=e.length,n=new Array(r);let o=0;e.forEach((a,c)=>{cw(a,!1,l=>{n[c]=l,++o===r&&t(n.join(LE))})})},Q$=(e,t)=>{const r=e.split(LE),n=[];for(let o=0;o<r.length;o++){const a=lw(r[o],t);if(n.push(a),a.type==="error")break}return n};function Z$(){return new TransformStream({transform(e,t){G$(e,r=>{const n=r.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const a=new DataView(o.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{o=new Uint8Array(9);const a=new DataView(o.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let tg;function $u(e){return e.reduce((t,r)=>t+r.length,0)}function Fu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)r[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function e5(e,t){tg||(tg=new TextDecoder);const r=[];let n=0,o=-1,a=!1;return new TransformStream({transform(c,l){for(r.push(c);;){if(n===0){if($u(r)<1)break;const u=Fu(r,1);a=(u[0]&128)===128,o=u[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if($u(r)<2)break;const u=Fu(r,2);o=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if($u(r)<8)break;const u=Fu(r,8),d=new DataView(u.buffer,u.byteOffset,u.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(ov);break}o=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if($u(r)<o)break;const u=Fu(r,o);l.enqueue(lw(a?u:tg.decode(u),t)),n=0}if(o===0||o>e){l.enqueue(ov);break}}}})}const OE=4;function zt(e){if(e)return t5(e)}function t5(e){for(var t in zt.prototype)e[t]=zt.prototype[t];return e}zt.prototype.on=zt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};zt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};zt.prototype.off=zt.prototype.removeListener=zt.prototype.removeAllListeners=zt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};zt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this};zt.prototype.emitReserved=zt.prototype.emit;zt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};zt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),dn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),r5="arraybuffer";function AE(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const n5=dn.setTimeout,s5=dn.clearTimeout;function pp(e,t){t.useNativeTimers?(e.setTimeoutFn=n5.bind(dn),e.clearTimeoutFn=s5.bind(dn)):(e.setTimeoutFn=dn.setTimeout.bind(dn),e.clearTimeoutFn=dn.clearTimeout.bind(dn))}const o5=1.33;function i5(e){return typeof e=="string"?a5(e):Math.ceil((e.byteLength||e.size)*o5)}function a5(e){let t=0,r=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function $E(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function c5(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function l5(e){let t={},r=e.split("&");for(let n=0,o=r.length;n<o;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class u5 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let uw=class extends zt{constructor(t){super(),this.writable=!1,pp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new u5(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=lw(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=c5(t);return r.length?"?"+r:""}};class d5 extends uw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Q$(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,J$(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=$E()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let FE=!1;try{FE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const f5=FE;function p5(){}class h5 extends d5{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(o,a)=>{this.onError("xhr post error",o,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let aa=class ed extends zt{constructor(t,r,n){super(),this.createRequest=t,pp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=AE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var o;n.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=ed.requestsCount++,ed.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=p5,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ed.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};aa.requestsCount=0;aa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z_);else if(typeof addEventListener=="function"){const e="onpagehide"in dn?"pagehide":"unload";addEventListener(e,Z_,!1)}}function Z_(){for(let e in aa.requests)aa.requests.hasOwnProperty(e)&&aa.requests[e].abort()}const m5=function(){const e=zE({xdomain:!1});return e&&e.responseType!==null}();class g5 extends h5{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=m5&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new aa(zE,this.uri(),t)}}function zE(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||f5))return new XMLHttpRequest}catch{}if(!t)try{return new dn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const BE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class v5 extends uw{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=BE?{}:AE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;cw(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}o&&fp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=$E()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const rg=dn.WebSocket||dn.MozWebSocket;class y5 extends v5{createSocket(t,r,n){return BE?new rg(t,r,n):r?new rg(t,r):new rg(t)}doWrite(t,r){this.ws.send(r)}}class w5 extends uw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=e5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),o=Z$();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const a=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),a())}).catch(l=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;this._writer.write(n).then(()=>{o&&fp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const S5={websocket:y5,webtransport:w5,polling:g5},b5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function iv(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let o=b5.exec(e||""),a={},c=14;for(;c--;)a[_5[c]]=o[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=x5(a,a.path),a.queryKey=C5(a,a.query),a}function x5(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function C5(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,a){o&&(r[o]=a)}),r}const av=typeof addEventListener=="function"&&typeof removeEventListener=="function",td=[];av&&addEventListener("offline",()=>{td.forEach(e=>e())},!1);class wo extends zt{constructor(t,r){if(super(),this.binaryType=r5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=iv(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=iv(r.host).host);pp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const o=n.prototype.name;this.transports.push(o),this._transportsByName[o]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=l5(this.opts.query)),av&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},td.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=OE,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&wo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",wo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const o=this.writeBuffer[n].data;if(o&&(r+=i5(o)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,fp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,o){if(typeof r=="function"&&(o=r,r=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(wo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),av&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=td.indexOf(this._offlineEventListener);n!==-1&&td.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}wo.protocol=OE;class R5 extends wo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;wo.priorWebsocketSuccess=!1;const o=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;wo.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))};function a(){n||(n=!0,m(),r.close(),r=null)}const c=y=>{const v=new Error("probe error: "+y);v.transport=r.name,a(),this.emitReserved("upgradeError",v)};function l(){c("transport closed")}function u(){c("socket closed")}function d(y){r&&y.name!==r.name&&a()}const m=()=>{r.removeListener("open",o),r.removeListener("error",c),r.removeListener("close",l),this.off("close",u),this.off("upgrading",d)};r.once("open",o),r.once("error",c),r.once("close",l),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let E5=class extends R5{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>S5[o]).filter(o=>!!o)),super(t,n)}};function T5(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=iv(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const k5=typeof ArrayBuffer=="function",P5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,UE=Object.prototype.toString,D5=typeof Blob=="function"||typeof Blob<"u"&&UE.call(Blob)==="[object BlobConstructor]",j5=typeof File=="function"||typeof File<"u"&&UE.call(File)==="[object FileConstructor]";function dw(e){return k5&&(e instanceof ArrayBuffer||P5(e))||D5&&e instanceof Blob||j5&&e instanceof File}function rd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(rd(e[r]))return!0;return!1}if(dw(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return rd(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&rd(e[r]))return!0;return!1}function I5(e){const t=[],r=e.data,n=e;return n.data=cv(r,t),n.attachments=t.length,{packet:n,buffers:t}}function cv(e,t){if(!e)return e;if(dw(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=cv(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=cv(e[n],t));return r}return e}function M5(e,t){return e.data=lv(e.data,t),delete e.attachments,e}function lv(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=lv(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=lv(e[r],t));return e}const N5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],L5=5;var at;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(at||(at={}));class O5{constructor(t){this.replacer=t}encode(t){return(t.type===at.EVENT||t.type===at.ACK)&&rd(t)?this.encodeAsBinary({type:t.type===at.EVENT?at.BINARY_EVENT:at.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===at.BINARY_EVENT||t.type===at.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=I5(t),n=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(n),o}}function e1(e){return Object.prototype.toString.call(e)==="[object Object]"}class fw extends zt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===at.BINARY_EVENT;n||r.type===at.BINARY_ACK?(r.type=n?at.EVENT:at.ACK,this.reconstructor=new A5(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(dw(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(at[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===at.BINARY_EVENT||n.type===at.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(fw.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case at.CONNECT:return e1(r);case at.DISCONNECT:return r===void 0;case at.CONNECT_ERROR:return typeof r=="string"||e1(r);case at.EVENT:case at.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&N5.indexOf(r[0])===-1);case at.ACK:case at.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class A5{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=M5(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fw,Encoder:O5,get PacketType(){return at},protocol:L5},Symbol.toStringTag,{value:"Module"}));function Hn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const F5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class VE extends zt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Hn(t,"open",this.onopen.bind(this)),Hn(t,"packet",this.onpacket.bind(this)),Hn(t,"error",this.onerror.bind(this)),Hn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,o,a;if(F5.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:at.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,y=r.pop();this._registerAckCallback(m,y),c.id=m}const l=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},o),c=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,o)=>{const a=(c,l)=>c?o(c):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...a)=>n!==this._queue[0]?void 0:(o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:at.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case at.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case at.EVENT:case at.BINARY_EVENT:this.onevent(t);break;case at.ACK:case at.BINARY_ACK:this.onack(t);break;case at.DISCONNECT:this.ondisconnect();break;case at.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...o){n||(n=!0,r.packet({type:at.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:at.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Da(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Da.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Da.prototype.reset=function(){this.attempts=0};Da.prototype.setMin=function(e){this.ms=e};Da.prototype.setMax=function(e){this.max=e};Da.prototype.setJitter=function(e){this.jitter=e};class uv extends zt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,pp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Da({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||$5;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new E5(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=Hn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},c=Hn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{o(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Hn(t,"ping",this.onping.bind(this)),Hn(t,"data",this.ondata.bind(this)),Hn(t,"error",this.onerror.bind(this)),Hn(t,"close",this.onclose.bind(this)),Hn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){fp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new VE(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const _c={};function nd(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=T5(e,t.path||"/socket.io"),n=r.source,o=r.id,a=r.path,c=_c[o]&&a in _c[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let u;return l?u=new uv(n,t):(_c[o]||(_c[o]=new uv(n,t)),u=_c[o]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(nd,{Manager:uv,Socket:VE,io:nd,connect:nd});const Ke="https://hitscord-backend.online",z5="https://hitscord-backend.ru/mediasoup",Rr=10,pw={canChangeRole:"  ",canWorkChannels:"  ",canDeleteUsers:"  ",canMuteOther:"  ",canDeleteOthersMessages:"   ",canIgnoreMaxCount:"  ",canCreateRoles:"  ",canCreateLessons:"  ",canCheckAttendance:"  "},et=nd(z5);et.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var kn={},zu={exports:{}},ng,t1;function B5(){if(t1)return ng;t1=1;var e=1e3,t=e*60,r=t*60,n=r*24,o=n*7,a=n*365.25;ng=function(m,y){y=y||{};var v=typeof m;if(v==="string"&&m.length>0)return c(m);if(v==="number"&&isFinite(m))return y.long?u(m):l(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var v=parseFloat(y[1]),w=(y[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return v*a;case"weeks":case"week":case"w":return v*o;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*t;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function l(m){var y=Math.abs(m);return y>=n?Math.round(m/n)+"d":y>=r?Math.round(m/r)+"h":y>=t?Math.round(m/t)+"m":y>=e?Math.round(m/e)+"s":m+"ms"}function u(m){var y=Math.abs(m);return y>=n?d(m,y,n,"day"):y>=r?d(m,y,r,"hour"):y>=t?d(m,y,t,"minute"):y>=e?d(m,y,e,"second"):m+" ms"}function d(m,y,v,w){var S=y>=v*1.5;return Math.round(m/v)+" "+w+(S?"s":"")}return ng}var sg,r1;function U5(){if(r1)return sg;r1=1;function e(t){n.debug=n,n.default=n,n.coerce=d,n.disable=c,n.enable=a,n.enabled=l,n.humanize=B5(),n.destroy=m,Object.keys(t).forEach(y=>{n[y]=t[y]}),n.names=[],n.skips=[],n.formatters={};function r(y){let v=0;for(let w=0;w<y.length;w++)v=(v<<5)-v+y.charCodeAt(w),v|=0;return n.colors[Math.abs(v)%n.colors.length]}n.selectColor=r;function n(y){let v,w=null,S,x;function C(...T){if(!C.enabled)return;const R=C,p=Number(new Date),h=p-(v||p);R.diff=h,R.prev=v,R.curr=p,v=p,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let b=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(D,j)=>{if(D==="%%")return"%";b++;const N=n.formatters[j];if(typeof N=="function"){const M=T[b];D=N.call(R,M),T.splice(b,1),b--}return D}),n.formatArgs.call(R,T),(R.log||n.log).apply(R,T)}return C.namespace=y,C.useColors=n.useColors(),C.color=n.selectColor(y),C.extend=o,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(S!==n.namespaces&&(S=n.namespaces,x=n.enabled(y)),x),set:T=>{w=T}}),typeof n.init=="function"&&n.init(C),C}function o(y,v){const w=n(this.namespace+(typeof v>"u"?":":v)+y);return w.log=this.log,w}function a(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let v;const w=(typeof y=="string"?y:"").split(/[\s,]+/),S=w.length;for(v=0;v<S;v++)w[v]&&(y=w[v].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function c(){const y=[...n.names.map(u),...n.skips.map(u).map(v=>"-"+v)].join(",");return n.enable(""),y}function l(y){if(y[y.length-1]==="*")return!0;let v,w;for(v=0,w=n.skips.length;v<w;v++)if(n.skips[v].test(y))return!1;for(v=0,w=n.names.length;v<w;v++)if(n.names[v].test(y))return!0;return!1}function u(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function d(y){return y instanceof Error?y.stack||y.message:y}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return sg=e,sg}var n1;function hp(){return n1||(n1=1,function(e,t){var r={};t.formatArgs=o,t.save=a,t.load=c,t.useColors=n,t.storage=l(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;d.splice(1,0,m,"color: inherit");let y=0,v=0;d[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(y++,w==="%c"&&(v=y))}),d.splice(v,0,m)}t.log=console.debug||console.log||(()=>{});function a(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function c(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=r.DEBUG),d}function l(){try{return localStorage}catch{}}e.exports=U5()(t);const{formatters:u}=e.exports;u.j=function(d){try{return JSON.stringify(d)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}(zu,zu.exports)),zu.exports}var un={},Fc={exports:{}},V5=Fc.exports,s1;function H5(){return s1||(s1=1,function(e,t){(function(r,n){var o="1.0.39",a="",c="?",l="function",u="undefined",d="object",m="string",y="major",v="model",w="name",S="type",x="vendor",C="version",T="architecture",R="console",p="mobile",h="tablet",b="smarttv",E="wearable",D="embedded",j=500,N="Amazon",M="Apple",A="ASUS",O="BlackBerry",V="Browser",W="Chrome",K="Edge",L="Firefox",F="Google",$="Huawei",U="LG",H="Microsoft",z="Motorola",G="Opera",se="Samsung",de="Sharp",J="Sony",oe="Xiaomi",ue="Zebra",ve="Facebook",we="Chromium OS",Ne="Mac OS",ae=" Browser",Ee=function(Te,Fe){var be={};for(var Ze in Te)Fe[Ze]&&Fe[Ze].length%2===0?be[Ze]=Fe[Ze].concat(Te[Ze]):be[Ze]=Te[Ze];return be},rt=function(Te){for(var Fe={},be=0;be<Te.length;be++)Fe[Te[be].toUpperCase()]=Te[be];return Fe},Ve=function(Te,Fe){return typeof Te===m?Be(Fe).indexOf(Be(Te))!==-1:!1},Be=function(Te){return Te.toLowerCase()},lt=function(Te){return typeof Te===m?Te.replace(/[^\d\.]/g,a).split(".")[0]:n},pe=function(Te,Fe){if(typeof Te===m)return Te=Te.replace(/^\s\s*/,a),typeof Fe===u?Te:Te.substring(0,j)},Se=function(Te,Fe){for(var be=0,Ze,dt,nt,it,Oe,Ct;be<Fe.length&&!Oe;){var vs=Fe[be],xi=Fe[be+1];for(Ze=dt=0;Ze<vs.length&&!Oe&&vs[Ze];)if(Oe=vs[Ze++].exec(Te),Oe)for(nt=0;nt<xi.length;nt++)Ct=Oe[++dt],it=xi[nt],typeof it===d&&it.length>0?it.length===2?typeof it[1]==l?this[it[0]]=it[1].call(this,Ct):this[it[0]]=it[1]:it.length===3?typeof it[1]===l&&!(it[1].exec&&it[1].test)?this[it[0]]=Ct?it[1].call(this,Ct,it[2]):n:this[it[0]]=Ct?Ct.replace(it[1],it[2]):n:it.length===4&&(this[it[0]]=Ct?it[3].call(this,Ct.replace(it[1],it[2])):n):this[it]=Ct||n;be+=2}},ke=function(Te,Fe){for(var be in Fe)if(typeof Fe[be]===d&&Fe[be].length>0){for(var Ze=0;Ze<Fe[be].length;Ze++)if(Ve(Fe[be][Ze],Te))return be===c?n:be}else if(Ve(Fe[be],Te))return be===c?n:be;return Fe.hasOwnProperty("*")?Fe["*"]:Te},$e={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},We={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},He={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,C],[/opios[\/ ]+([\w\.]+)/i],[C,[w,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[C,[w,G+" GX"]],[/\bopr\/([\w\.]+)/i],[C,[w,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[w,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,C],[/quark(?:pc)?\/([-\w\.]+)/i],[C,[w,"Quark"]],[/\bddg\/([\w\.]+)/i],[C,[w,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[w,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[w,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[w,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+V],C],[/\bfocus\/([\w\.]+)/i],[C,[w,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[w,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[w,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[w,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[C,[w,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360"+ae]],[/\b(qq)\/([\w\.]+)/i],[[w,/(.+)/,"$1Browser"],C],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1"+ae],C],[/samsungbrowser\/([\w\.]+)/i],[C,[w,se+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[w,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[w,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[w,C],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,ve],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[w,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[w,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[w,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[w,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,W+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[w,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[C,ke,$e]],[/(webkit|khtml)\/([\w\.]+)/i],[w,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],C],[/(wolvic)\/([\w\.]+)/i],[w,C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[w,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[w,[C,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[w,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,Be]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,a,Be]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,Be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[v,[x,se],[S,h]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[v,[x,se],[S,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[v,[x,M],[S,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[v,[x,M],[S,h]],[/(macintosh);/i],[v,[x,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[v,[x,de],[S,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[v,[x,$],[S,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[v,[x,$],[S,p]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[v,/_/g," "],[x,oe],[S,p]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[v,/_/g," "],[x,oe],[S,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[v,[x,"OPPO"],[S,p]],[/\b(opd2\d{3}a?) bui/i],[v,[x,"OPPO"],[S,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[v,[x,"Vivo"],[S,p]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[v,[x,"Realme"],[S,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[v,[x,z],[S,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[v,[x,z],[S,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[v,[x,U],[S,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[v,[x,U],[S,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[v,[x,"Lenovo"],[S,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[v,/_/g," "],[x,"Nokia"],[S,p]],[/(pixel c)\b/i],[v,[x,F],[S,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[v,[x,F],[S,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[v,[x,J],[S,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[v,"Xperia Tablet"],[x,J],[S,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[v,[x,"OnePlus"],[S,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[v,[x,N],[S,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[v,/(.+)/g,"Fire Phone $1"],[x,N],[S,p]],[/(playbook);[-\w\),; ]+(rim)/i],[v,x,[S,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[v,[x,O],[S,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[v,[x,A],[S,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[v,[x,A],[S,p]],[/(nexus 9)/i],[v,[x,"HTC"],[S,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[v,/_/g," "],[S,p]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[v,[x,"TCL"],[S,h]],[/(itel) ((\w+))/i],[[x,Be],v,[S,ke,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[v,[x,"Acer"],[S,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[v,[x,"Meizu"],[S,p]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[v,[x,"Ulefone"],[S,p]],[/droid.+; (a(?:015|06[35]|142p?))/i],[v,[x,"Nothing"],[S,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,v,[S,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,v,[S,h]],[/(surface duo)/i],[v,[x,H],[S,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[v,[x,"Fairphone"],[S,p]],[/(u304aa)/i],[v,[x,"AT&T"],[S,p]],[/\bsie-(\w*)/i],[v,[x,"Siemens"],[S,p]],[/\b(rct\w+) b/i],[v,[x,"RCA"],[S,h]],[/\b(venue[\d ]{2,7}) b/i],[v,[x,"Dell"],[S,h]],[/\b(q(?:mv|ta)\w+) b/i],[v,[x,"Verizon"],[S,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[v,[x,"Barnes & Noble"],[S,h]],[/\b(tm\d{3}\w+) b/i],[v,[x,"NuVision"],[S,h]],[/\b(k88) b/i],[v,[x,"ZTE"],[S,h]],[/\b(nx\d{3}j) b/i],[v,[x,"ZTE"],[S,p]],[/\b(gen\d{3}) b.+49h/i],[v,[x,"Swiss"],[S,p]],[/\b(zur\d{3}) b/i],[v,[x,"Swiss"],[S,h]],[/\b((zeki)?tb.*\b) b/i],[v,[x,"Zeki"],[S,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],v,[S,h]],[/\b(ns-?\w{0,9}) b/i],[v,[x,"Insignia"],[S,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[v,[x,"NextBook"],[S,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],v,[S,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],v,[S,p]],[/\b(ph-1) /i],[v,[x,"Essential"],[S,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[v,[x,"Envizen"],[S,h]],[/\b(trio[-\w\. ]+) b/i],[v,[x,"MachSpeed"],[S,h]],[/\btu_(1491) b/i],[v,[x,"Rotor"],[S,h]],[/(shield[\w ]+) b/i],[v,[x,"Nvidia"],[S,h]],[/(sprint) (\w+)/i],[x,v,[S,p]],[/(kin\.[onetw]{3})/i],[[v,/\./g," "],[x,H],[S,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[v,[x,ue],[S,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[v,[x,ue],[S,p]],[/smart-tv.+(samsung)/i],[x,[S,b]],[/hbbtv.+maple;(\d+)/i],[[v,/^/,"SmartTV"],[x,se],[S,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,U],[S,b]],[/(apple) ?tv/i],[x,[v,M+" TV"],[S,b]],[/crkey/i],[[v,W+"cast"],[x,F],[S,b]],[/droid.+aft(\w+)( bui|\))/i],[v,[x,N],[S,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[v,[x,de],[S,b]],[/(bravia[\w ]+)( bui|\))/i],[v,[x,J],[S,b]],[/(mitv-\w{5}) bui/i],[v,[x,oe],[S,b]],[/Hbbtv.*(technisat) (.*);/i],[x,v,[S,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,pe],[v,pe],[S,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,v,[S,R]],[/droid.+; (shield) bui/i],[v,[x,"Nvidia"],[S,R]],[/(playstation [345portablevi]+)/i],[v,[x,J],[S,R]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[v,[x,H],[S,R]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[v,[x,se],[S,E]],[/((pebble))app/i],[x,v,[S,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[v,[x,M],[S,E]],[/droid.+; (glass) \d/i],[v,[x,F],[S,E]],[/droid.+; (wt63?0{2,3})\)/i],[v,[x,ue],[S,E]],[/(quest( \d| pro)?)/i],[v,[x,ve],[S,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[S,D]],[/(aeobc)\b/i],[v,[x,N],[S,D]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[v,[S,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[v,[S,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,p]],[/(android[-\w\. ]{0,9});.+buil/i],[v,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[w,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[w,[C,ke,We]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,ke,We],[w,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,Ne],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,C],[/\(bb(10);/i],[C,[w,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[w,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[w,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[w,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,we],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,C],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,C]]},Ye=function(Te,Fe){if(typeof Te===d&&(Fe=Te,Te=n),!(this instanceof Ye))return new Ye(Te,Fe).getResult();var be=typeof r!==u&&r.navigator?r.navigator:n,Ze=Te||(be&&be.userAgent?be.userAgent:a),dt=be&&be.userAgentData?be.userAgentData:n,nt=Fe?Ee(He,Fe):He,it=be&&be.userAgent==Ze;return this.getBrowser=function(){var Oe={};return Oe[w]=n,Oe[C]=n,Se.call(Oe,Ze,nt.browser),Oe[y]=lt(Oe[C]),it&&be&&be.brave&&typeof be.brave.isBrave==l&&(Oe[w]="Brave"),Oe},this.getCPU=function(){var Oe={};return Oe[T]=n,Se.call(Oe,Ze,nt.cpu),Oe},this.getDevice=function(){var Oe={};return Oe[x]=n,Oe[v]=n,Oe[S]=n,Se.call(Oe,Ze,nt.device),it&&!Oe[S]&&dt&&dt.mobile&&(Oe[S]=p),it&&Oe[v]=="Macintosh"&&be&&typeof be.standalone!==u&&be.maxTouchPoints&&be.maxTouchPoints>2&&(Oe[v]="iPad",Oe[S]=h),Oe},this.getEngine=function(){var Oe={};return Oe[w]=n,Oe[C]=n,Se.call(Oe,Ze,nt.engine),Oe},this.getOS=function(){var Oe={};return Oe[w]=n,Oe[C]=n,Se.call(Oe,Ze,nt.os),it&&!Oe[w]&&dt&&dt.platform&&dt.platform!="Unknown"&&(Oe[w]=dt.platform.replace(/chrome os/i,we).replace(/macos/i,Ne)),Oe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ze},this.setUA=function(Oe){return Ze=typeof Oe===m&&Oe.length>j?pe(Oe,j):Oe,this},this.setUA(Ze),this};Ye.VERSION=o,Ye.BROWSER=rt([w,C,y]),Ye.CPU=rt([T]),Ye.DEVICE=rt([v,x,S,R,p,b,h,E,D]),Ye.ENGINE=Ye.OS=rt([w,C]),e.exports&&(t=e.exports=Ye),t.UAParser=Ye;var me=typeof r!==u&&(r.jQuery||r.Zepto);if(me&&!me.ua){var Le=new Ye;me.ua=Le.getResult(),me.ua.get=function(){return Le.getUA()},me.ua.set=function(Te){Le.setUA(Te);var Fe=Le.getResult();for(var be in Fe)me.ua[be]=Fe[be]}}})(typeof window=="object"?window:V5)}(Fc,Fc.exports)),Fc.exports}var Vo={},o1;function Vt(){if(o1)return Vo;o1=1;var e=Vo&&Vo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Logger=void 0;const t=e(hp()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Vo.Logger=n,Vo}var xc={},Bu={exports:{}},i1;function W5(){if(i1)return Bu.exports;i1=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(b,E,D){return Function.prototype.apply.call(b,E,D)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:r=function(b){return Object.getOwnPropertyNames(b)};function n(h){console&&console.warn&&console.warn(h)}var o=Number.isNaN||function(b){return b!==b};function a(){a.init.call(this)}Bu.exports=a,Bu.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(h){if(typeof h!="number"||h<0||o(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");c=h}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||o(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function u(h){return h._maxListeners===void 0?a.defaultMaxListeners:h._maxListeners}a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(b){for(var E=[],D=1;D<arguments.length;D++)E.push(arguments[D]);var j=b==="error",N=this._events;if(N!==void 0)j=j&&N.error===void 0;else if(!j)return!1;if(j){var M;if(E.length>0&&(M=E[0]),M instanceof Error)throw M;var A=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw A.context=M,A}var O=N[b];if(O===void 0)return!1;if(typeof O=="function")t(O,this,E);else for(var V=O.length,W=S(O,V),D=0;D<V;++D)t(W[D],this,E);return!0};function d(h,b,E,D){var j,N,M;if(l(E),N=h._events,N===void 0?(N=h._events=Object.create(null),h._eventsCount=0):(N.newListener!==void 0&&(h.emit("newListener",b,E.listener?E.listener:E),N=h._events),M=N[b]),M===void 0)M=N[b]=E,++h._eventsCount;else if(typeof M=="function"?M=N[b]=D?[E,M]:[M,E]:D?M.unshift(E):M.push(E),j=u(h),j>0&&M.length>j&&!M.warned){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=h,A.type=b,A.count=M.length,n(A)}return h}a.prototype.addListener=function(b,E){return d(this,b,E,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(b,E){return d(this,b,E,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(h,b,E){var D={fired:!1,wrapFn:void 0,target:h,type:b,listener:E},j=m.bind(D);return j.listener=E,D.wrapFn=j,j}a.prototype.once=function(b,E){return l(E),this.on(b,y(this,b,E)),this},a.prototype.prependOnceListener=function(b,E){return l(E),this.prependListener(b,y(this,b,E)),this},a.prototype.removeListener=function(b,E){var D,j,N,M,A;if(l(E),j=this._events,j===void 0)return this;if(D=j[b],D===void 0)return this;if(D===E||D.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete j[b],j.removeListener&&this.emit("removeListener",b,D.listener||E));else if(typeof D!="function"){for(N=-1,M=D.length-1;M>=0;M--)if(D[M]===E||D[M].listener===E){A=D[M].listener,N=M;break}if(N<0)return this;N===0?D.shift():x(D,N),D.length===1&&(j[b]=D[0]),j.removeListener!==void 0&&this.emit("removeListener",b,A||E)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(b){var E,D,j;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[b]),this;if(arguments.length===0){var N=Object.keys(D),M;for(j=0;j<N.length;++j)M=N[j],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=D[b],typeof E=="function")this.removeListener(b,E);else if(E!==void 0)for(j=E.length-1;j>=0;j--)this.removeListener(b,E[j]);return this};function v(h,b,E){var D=h._events;if(D===void 0)return[];var j=D[b];return j===void 0?[]:typeof j=="function"?E?[j.listener||j]:[j]:E?C(j):S(j,j.length)}a.prototype.listeners=function(b){return v(this,b,!0)},a.prototype.rawListeners=function(b){return v(this,b,!1)},a.listenerCount=function(h,b){return typeof h.listenerCount=="function"?h.listenerCount(b):w.call(h,b)},a.prototype.listenerCount=w;function w(h){var b=this._events;if(b!==void 0){var E=b[h];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function S(h,b){for(var E=new Array(b),D=0;D<b;++D)E[D]=h[D];return E}function x(h,b){for(;b+1<h.length;b++)h[b]=h[b+1];h.pop()}function C(h){for(var b=new Array(h.length),E=0;E<b.length;++E)b[E]=h[E].listener||h[E];return b}function T(h,b){return new Promise(function(E,D){function j(M){h.removeListener(b,N),D(M)}function N(){typeof h.removeListener=="function"&&h.removeListener("error",j),E([].slice.call(arguments))}p(h,b,N,{once:!0}),b!=="error"&&R(h,j,{once:!0})})}function R(h,b,E){typeof h.on=="function"&&p(h,"error",b,E)}function p(h,b,E,D){if(typeof h.on=="function")D.once?h.once(b,E):h.on(b,E);else if(typeof h.addEventListener=="function")h.addEventListener(b,function j(N){D.once&&h.removeEventListener(b,j),E(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h)}return Bu.exports}var a1;function bi(){if(a1)return xc;a1=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.EnhancedEventEmitter=void 0;const e=W5(),t=Vt(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(l){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,l);try{super.emit("listenererror",a,l)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return xc.EnhancedEventEmitter=n,xc}var Ho={},c1;function Tr(){if(c1)return Ho;c1=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.InvalidStateError=Ho.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}Ho.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return Ho.InvalidStateError=t,Ho}var ea={},l1;function lr(){if(l1)return ea;l1=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.clone=e,ea.generateRandomNumber=t,ea.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const o=Reflect.ownKeys(n);for(const a of o){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return ea}var Ot={},Tt={},Wo={},u1;function q5(){if(u1)return Wo;u1=1;var e=Wo&&Wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.Logger=void 0;const t=e(hp()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Wo.Logger=n,Wo}var d1;function G5(){if(d1)return Tt;d1=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.generateProfileLevelIdStringForAnswer=Tt.isSameProfile=Tt.parseSdpProfileLevelId=Tt.levelToString=Tt.profileToString=Tt.profileLevelIdToString=Tt.parseProfileLevelId=Tt.ProfileLevelId=Tt.Level=Tt.Profile=void 0;const e=q5(),t=new e.Logger;var r;(function(h){h[h.ConstrainedBaseline=1]="ConstrainedBaseline",h[h.Baseline=2]="Baseline",h[h.Main=3]="Main",h[h.ConstrainedHigh=4]="ConstrainedHigh",h[h.High=5]="High",h[h.PredictiveHigh444=6]="PredictiveHigh444"})(r||(Tt.Profile=r={}));var n;(function(h){h[h.L1_b=0]="L1_b",h[h.L1=10]="L1",h[h.L1_1=11]="L1_1",h[h.L1_2=12]="L1_2",h[h.L1_3=13]="L1_3",h[h.L2=20]="L2",h[h.L2_1=21]="L2_1",h[h.L2_2=22]="L2_2",h[h.L3=30]="L3",h[h.L3_1=31]="L3_1",h[h.L3_2=32]="L3_2",h[h.L4=40]="L4",h[h.L4_1=41]="L4_1",h[h.L4_2=42]="L4_2",h[h.L5=50]="L5",h[h.L5_1=51]="L5_1",h[h.L5_2=52]="L5_2"})(n||(Tt.Level=n={}));class o{constructor(b,E){this.profile=b,this.level=E}}Tt.ProfileLevelId=o;const a=new o(r.ConstrainedBaseline,n.L3_1);class c{constructor(b){this.mask=~C("x",b),this.masked_value=C("1",b)}isMatch(b){return this.masked_value===(b&this.mask)}}class l{constructor(b,E,D){this.profile_idc=b,this.profile_iop=E,this.profile=D}}const u=[new l(66,new c("x1xx0000"),r.ConstrainedBaseline),new l(77,new c("1xxx0000"),r.ConstrainedBaseline),new l(88,new c("11xx0000"),r.ConstrainedBaseline),new l(66,new c("x0xx0000"),r.Baseline),new l(88,new c("10xx0000"),r.Baseline),new l(77,new c("0x0x0000"),r.Main),new l(100,new c("00000000"),r.High),new l(100,new c("00001100"),r.ConstrainedHigh),new l(244,new c("00000000"),r.PredictiveHigh444)];function d(h){if(typeof h!="string"||h.length!==6)return;const E=parseInt(h,16);if(E===0)return;const D=E&255,j=E>>8&255,N=E>>16&255;let M;switch(D){case n.L1_1:{M=(j&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{M=D;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${h}, level_idc:${D}]`);return}}for(const A of u)if(N===A.profile_idc&&A.profile_iop.isMatch(j))return new o(A.profile,M);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${h}, profile_idc:${N}, profile_iop:${j}]`)}Tt.parseProfileLevelId=d;function m(h){if(h.level==n.L1_b)switch(h.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${h.profile}`);return}}let b;switch(h.profile){case r.ConstrainedBaseline:{b="42e0";break}case r.Baseline:{b="4200";break}case r.Main:{b="4d00";break}case r.ConstrainedHigh:{b="640c";break}case r.High:{b="6400";break}case r.PredictiveHigh444:{b="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${h.profile}`);return}}let E=h.level.toString(16);return E.length===1&&(E=`0${E}`),`${b}${E}`}Tt.profileLevelIdToString=m;function y(h){switch(h){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${h}`);return}}}Tt.profileToString=y;function v(h){switch(h){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${h}`);return}}}Tt.levelToString=v;function w(h={}){const b=h["profile-level-id"];return b?d(b):a}Tt.parseSdpProfileLevelId=w;function S(h={},b={}){const E=w(h),D=w(b);return!!(E&&D&&E.profile===D.profile)}Tt.isSameProfile=S;function x(h={},b={}){if(!h["profile-level-id"]&&!b["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const E=w(h),D=w(b);if(!E)throw new TypeError("invalid local_profile_level_id");if(!D)throw new TypeError("invalid remote_profile_level_id");if(E.profile!==D.profile)throw new TypeError("H264 Profile mismatch");const j=p(h)&&p(b),N=E.level,M=D.level,A=R(N,M),O=j?N:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${E.profile}, level:${O}]`),m(new o(E.profile,O))}Tt.generateProfileLevelIdStringForAnswer=x;function C(h,b){return+(b[0]===h)<<7|+(b[1]===h)<<6|+(b[2]===h)<<5|+(b[3]===h)<<4|+(b[4]===h)<<3|+(b[5]===h)<<2|+(b[6]===h)<<1|+(b[7]===h)<<0}function T(h,b){return h===n.L1_b?b!==n.L1&&b!==n.L1_b:b===n.L1_b?h!==n.L1:h<b}function R(h,b){return T(h,b)?h:b}function p(h={}){const b=h["level-asymmetry-allowed"];return b===!0||b===1||b==="1"}return Tt}var f1;function Ur(){if(f1)return Ot;f1=1;var e=Ot&&Ot.__createBinding||(Object.create?function(L,F,$,U){U===void 0&&(U=$);var H=Object.getOwnPropertyDescriptor(F,$);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[$]}}),Object.defineProperty(L,U,H)}:function(L,F,$,U){U===void 0&&(U=$),L[U]=F[$]}),t=Ot&&Ot.__setModuleDefault||(Object.create?function(L,F){Object.defineProperty(L,"default",{enumerable:!0,value:F})}:function(L,F){L.default=F}),r=Ot&&Ot.__importStar||function(L){if(L&&L.__esModule)return L;var F={};if(L!=null)for(var $ in L)$!=="default"&&Object.prototype.hasOwnProperty.call(L,$)&&e(F,L,$);return t(F,L),F};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.validateRtpCapabilities=u,Ot.validateRtpParameters=d,Ot.validateSctpStreamParameters=m,Ot.validateSctpCapabilities=y,Ot.getExtendedRtpCapabilities=v,Ot.getRecvRtpCapabilities=w,Ot.getSendingRtpParameters=S,Ot.getSendingRemoteRtpParameters=x,Ot.reduceCodecs=C,Ot.generateProbatorRtpParameters=T,Ot.canSend=R,Ot.canReceive=p;const n=r(G5()),o=r(lr()),a="probator",c=1234,l=127;function u(L){if(typeof L!="object")throw new TypeError("caps is not an object");if(L.codecs&&!Array.isArray(L.codecs))throw new TypeError("caps.codecs is not an array");L.codecs||(L.codecs=[]);for(const F of L.codecs)h(F);if(L.headerExtensions&&!Array.isArray(L.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");L.headerExtensions||(L.headerExtensions=[]);for(const F of L.headerExtensions)E(F)}function d(L){if(typeof L!="object")throw new TypeError("params is not an object");if(L.mid&&typeof L.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(L.codecs))throw new TypeError("missing params.codecs");for(const F of L.codecs)D(F);if(L.headerExtensions&&!Array.isArray(L.headerExtensions))throw new TypeError("params.headerExtensions is not an array");L.headerExtensions||(L.headerExtensions=[]);for(const F of L.headerExtensions)j(F);if(L.encodings&&!Array.isArray(L.encodings))throw new TypeError("params.encodings is not an array");L.encodings||(L.encodings=[]);for(const F of L.encodings)N(F);if(L.rtcp&&typeof L.rtcp!="object")throw new TypeError("params.rtcp is not an object");L.rtcp||(L.rtcp={}),M(L.rtcp)}function m(L){if(typeof L!="object")throw new TypeError("params is not an object");if(typeof L.streamId!="number")throw new TypeError("missing params.streamId");let F=!1;if(typeof L.ordered=="boolean"?F=!0:L.ordered=!0,L.maxPacketLifeTime&&typeof L.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(L.maxRetransmits&&typeof L.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(L.maxPacketLifeTime&&L.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(F&&L.ordered&&(L.maxPacketLifeTime||L.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!F&&(L.maxPacketLifeTime||L.maxRetransmits)&&(L.ordered=!1),L.label&&typeof L.label!="string")throw new TypeError("invalid params.label");if(L.protocol&&typeof L.protocol!="string")throw new TypeError("invalid params.protocol")}function y(L){if(typeof L!="object")throw new TypeError("caps is not an object");if(!L.numStreams||typeof L.numStreams!="object")throw new TypeError("missing caps.numStreams");A(L.numStreams)}function v(L,F){const $={codecs:[],headerExtensions:[]};for(const U of F.codecs??[]){if(O(U))continue;const H=(L.codecs??[]).find(G=>V(G,U,{strict:!0,modify:!0}));if(!H)continue;const z={mimeType:H.mimeType,kind:H.kind,clockRate:H.clockRate,channels:H.channels,localPayloadType:H.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:U.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:H.parameters,remoteParameters:U.parameters,rtcpFeedback:K(H,U)};$.codecs.push(z)}for(const U of $.codecs){const H=L.codecs.find(G=>O(G)&&G.parameters.apt===U.localPayloadType),z=F.codecs.find(G=>O(G)&&G.parameters.apt===U.remotePayloadType);H&&z&&(U.localRtxPayloadType=H.preferredPayloadType,U.remoteRtxPayloadType=z.preferredPayloadType)}for(const U of F.headerExtensions){const H=L.headerExtensions.find(G=>W(G,U));if(!H)continue;const z={kind:U.kind,uri:U.uri,sendId:H.preferredId,recvId:U.preferredId,encrypt:H.preferredEncrypt,direction:"sendrecv"};switch(U.direction){case"sendrecv":{z.direction="sendrecv";break}case"recvonly":{z.direction="sendonly";break}case"sendonly":{z.direction="recvonly";break}case"inactive":{z.direction="inactive";break}}$.headerExtensions.push(z)}return $}function w(L){const F={codecs:[],headerExtensions:[]};for(const $ of L.codecs){const U={mimeType:$.mimeType,kind:$.kind,preferredPayloadType:$.remotePayloadType,clockRate:$.clockRate,channels:$.channels,parameters:$.localParameters,rtcpFeedback:$.rtcpFeedback};if(F.codecs.push(U),!$.remoteRtxPayloadType)continue;const H={mimeType:`${$.kind}/rtx`,kind:$.kind,preferredPayloadType:$.remoteRtxPayloadType,clockRate:$.clockRate,parameters:{apt:$.remotePayloadType},rtcpFeedback:[]};F.codecs.push(H)}for(const $ of L.headerExtensions){if($.direction!=="sendrecv"&&$.direction!=="recvonly")continue;const U={kind:$.kind,uri:$.uri,preferredId:$.recvId,preferredEncrypt:$.encrypt,direction:$.direction};F.headerExtensions.push(U)}return F}function S(L,F){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const U of F.codecs){if(U.kind!==L)continue;const H={mimeType:U.mimeType,payloadType:U.localPayloadType,clockRate:U.clockRate,channels:U.channels,parameters:U.localParameters,rtcpFeedback:U.rtcpFeedback};if($.codecs.push(H),U.localRtxPayloadType){const z={mimeType:`${U.kind}/rtx`,payloadType:U.localRtxPayloadType,clockRate:U.clockRate,parameters:{apt:U.localPayloadType},rtcpFeedback:[]};$.codecs.push(z)}}for(const U of F.headerExtensions){if(U.kind&&U.kind!==L||U.direction!=="sendrecv"&&U.direction!=="sendonly")continue;const H={uri:U.uri,id:U.sendId,encrypt:U.encrypt,parameters:{}};$.headerExtensions.push(H)}return $}function x(L,F){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const U of F.codecs){if(U.kind!==L)continue;const H={mimeType:U.mimeType,payloadType:U.localPayloadType,clockRate:U.clockRate,channels:U.channels,parameters:U.remoteParameters,rtcpFeedback:U.rtcpFeedback};if($.codecs.push(H),U.localRtxPayloadType){const z={mimeType:`${U.kind}/rtx`,payloadType:U.localRtxPayloadType,clockRate:U.clockRate,parameters:{apt:U.localPayloadType},rtcpFeedback:[]};$.codecs.push(z)}}for(const U of F.headerExtensions){if(U.kind&&U.kind!==L||U.direction!=="sendrecv"&&U.direction!=="sendonly")continue;const H={uri:U.uri,id:U.sendId,encrypt:U.encrypt,parameters:{}};$.headerExtensions.push(H)}if($.headerExtensions.some(U=>U.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const U of $.codecs)U.rtcpFeedback=(U.rtcpFeedback??[]).filter(H=>H.type!=="goog-remb");else if($.headerExtensions.some(U=>U.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const U of $.codecs)U.rtcpFeedback=(U.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc");else for(const U of $.codecs)U.rtcpFeedback=(U.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc"&&H.type!=="goog-remb");return $}function C(L,F){const $=[];if(!F)$.push(L[0]),O(L[1])&&$.push(L[1]);else{for(let U=0;U<L.length;++U)if(V(L[U],F,{strict:!0})){$.push(L[U]),O(L[U+1])&&$.push(L[U+1]);break}if($.length===0)throw new TypeError("no matching codec found")}return $}function T(L){L=o.clone(L),d(L);const F={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return F.codecs.push(L.codecs[0]),F.codecs[0].payloadType=l,F.headerExtensions=L.headerExtensions,F}function R(L,F){return F.codecs.some($=>$.kind===L)}function p(L,F){if(d(L),L.codecs.length===0)return!1;const $=L.codecs[0];return F.codecs.some(U=>U.remotePayloadType===$.payloadType)}function h(L){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof L!="object")throw new TypeError("codec is not an object");if(!L.mimeType||typeof L.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=F.exec(L.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(L.kind=$[1].toLowerCase(),L.preferredPayloadType&&typeof L.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof L.clockRate!="number")throw new TypeError("missing codec.clockRate");L.kind==="audio"?typeof L.channels!="number"&&(L.channels=1):delete L.channels,(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const U of Object.keys(L.parameters)){let H=L.parameters[U];if(H===void 0&&(L.parameters[U]="",H=""),typeof H!="string"&&typeof H!="number")throw new TypeError(`invalid codec parameter [key:${U}s, value:${H}]`);if(U==="apt"&&typeof H!="number")throw new TypeError("invalid codec apt parameter")}(!L.rtcpFeedback||!Array.isArray(L.rtcpFeedback))&&(L.rtcpFeedback=[]);for(const U of L.rtcpFeedback)b(U)}function b(L){if(typeof L!="object")throw new TypeError("fb is not an object");if(!L.type||typeof L.type!="string")throw new TypeError("missing fb.type");(!L.parameter||typeof L.parameter!="string")&&(L.parameter="")}function E(L){if(typeof L!="object")throw new TypeError("ext is not an object");if(L.kind!=="audio"&&L.kind!=="video")throw new TypeError("invalid ext.kind");if(!L.uri||typeof L.uri!="string")throw new TypeError("missing ext.uri");if(typeof L.preferredId!="number")throw new TypeError("missing ext.preferredId");if(L.preferredEncrypt&&typeof L.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(L.preferredEncrypt||(L.preferredEncrypt=!1),L.direction&&typeof L.direction!="string")throw new TypeError("invalid ext.direction");L.direction||(L.direction="sendrecv")}function D(L){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof L!="object")throw new TypeError("codec is not an object");if(!L.mimeType||typeof L.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=F.exec(L.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(typeof L.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof L.clockRate!="number")throw new TypeError("missing codec.clockRate");$[1].toLowerCase()==="audio"?typeof L.channels!="number"&&(L.channels=1):delete L.channels,(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const H of Object.keys(L.parameters)){let z=L.parameters[H];if(z===void 0&&(L.parameters[H]="",z=""),typeof z!="string"&&typeof z!="number")throw new TypeError(`invalid codec parameter [key:${H}s, value:${z}]`);if(H==="apt"&&typeof z!="number")throw new TypeError("invalid codec apt parameter")}(!L.rtcpFeedback||!Array.isArray(L.rtcpFeedback))&&(L.rtcpFeedback=[]);for(const H of L.rtcpFeedback)b(H)}function j(L){if(typeof L!="object")throw new TypeError("ext is not an object");if(!L.uri||typeof L.uri!="string")throw new TypeError("missing ext.uri");if(typeof L.id!="number")throw new TypeError("missing ext.id");if(L.encrypt&&typeof L.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");L.encrypt||(L.encrypt=!1),(!L.parameters||typeof L.parameters!="object")&&(L.parameters={});for(const F of Object.keys(L.parameters)){let $=L.parameters[F];if($===void 0&&(L.parameters[F]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError("invalid header extension parameter")}}function N(L){if(typeof L!="object")throw new TypeError("encoding is not an object");if(L.ssrc&&typeof L.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(L.rid&&typeof L.rid!="string")throw new TypeError("invalid encoding.rid");if(L.rtx&&typeof L.rtx!="object")throw new TypeError("invalid encoding.rtx");if(L.rtx&&typeof L.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!L.dtx||typeof L.dtx!="boolean")&&(L.dtx=!1),L.scalabilityMode&&typeof L.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function M(L){if(typeof L!="object")throw new TypeError("rtcp is not an object");if(L.cname&&typeof L.cname!="string")throw new TypeError("invalid rtcp.cname");(!L.reducedSize||typeof L.reducedSize!="boolean")&&(L.reducedSize=!0)}function A(L){if(typeof L!="object")throw new TypeError("numStreams is not an object");if(typeof L.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof L.MIS!="number")throw new TypeError("missing numStreams.MIS")}function O(L){return L?/.+\/rtx$/i.test(L.mimeType):!1}function V(L,F,{strict:$=!1,modify:U=!1}={}){const H=L.mimeType.toLowerCase(),z=F.mimeType.toLowerCase();if(H!==z||L.clockRate!==F.clockRate||L.channels!==F.channels)return!1;switch(H){case"video/h264":{if($){const G=L.parameters["packetization-mode"]||0,se=F.parameters["packetization-mode"]||0;if(G!==se||!n.isSameProfile(L.parameters,F.parameters))return!1;let de;try{de=n.generateProfileLevelIdStringForAnswer(L.parameters,F.parameters)}catch{return!1}U&&(de?(L.parameters["profile-level-id"]=de,F.parameters["profile-level-id"]=de):(delete L.parameters["profile-level-id"],delete F.parameters["profile-level-id"]))}break}case"video/vp9":{if($){const G=L.parameters["profile-id"]||0,se=F.parameters["profile-id"]||0;if(G!==se)return!1}break}}return!0}function W(L,F){return!(L.kind&&F.kind&&L.kind!==F.kind||L.uri!==F.uri)}function K(L,F){const $=[];for(const U of L.rtcpFeedback??[]){const H=(F.rtcpFeedback??[]).find(z=>z.type===U.type&&(z.parameter===U.parameter||!z.parameter&&!U.parameter));H&&$.push(H)}return $}return Ot}var Kr={},Es={},Cc={},p1;function K5(){if(p1)return Cc;p1=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Logger=void 0;const e=hp(),t="awaitqueue";let r=class{constructor(o){o?(this._debug=(0,e.default)(`${t}:${o}`),this._warn=(0,e.default)(`${t}:WARN:${o}`),this._error=(0,e.default)(`${t}:ERROR:${o}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Cc.Logger=r,Cc}var h1;function X5(){if(h1)return Es;h1=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.AwaitQueue=Es.AwaitQueueRemovedTaskError=Es.AwaitQueueStoppedError=void 0;const e=K5(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Es.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}Es.AwaitQueueRemovedTaskError=n;class o{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,l){if(l=l??c.name,t.debug(`push() [name:${l}]`),typeof c!="function")throw new TypeError("given task is not a function");if(l)try{Object.defineProperty(c,"name",{value:l})}catch{}return new Promise((u,d)=>{const m={id:this.nextTaskId++,task:c,name:l,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:y=>{if(m.completed)return;m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`resolving task [name:${m.name}]`),u(y);const[v]=this.pendingTasks.values();v&&!v.executedAt&&this.execute(v)},reject:y=>{if(!m.completed&&(m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`rejecting task [name:${m.name}]: %s`,String(y)),d(y),!this.stopping)){const[v]=this.pendingTasks.values();v&&!v.executedAt&&this.execute(v)}}};this.pendingTasks.set(m.id,m),this.pendingTasks.size===1&&this.execute(m)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const l=Array.from(this.pendingTasks.values())[c];if(!l){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}l.reject(new n)}dump(){const c=Date.now();let l=0;return Array.from(this.pendingTasks.values()).map(u=>({idx:l++,task:u.task,name:u.name,enqueuedTime:u.executedAt?u.executedAt-u.enqueuedAt:c-u.enqueuedAt,executionTime:u.executedAt?c-u.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const l=await c.task();c.resolve(l)}catch(l){c.reject(l)}}}return Es.AwaitQueue=o,Es}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var og,m1;function Y5(){if(m1)return og;m1=1;let e;return og=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ED):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),og}var Rc={},g1;function HE(){if(g1)return Rc;g1=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.Producer=void 0;const e=Vt(),t=bi(),r=Tr(),n=new e.Logger("Producer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,rtpSender:u,track:d,rtpParameters:m,stopTracks:y,disableTrackOnPause:v,zeroRtpOnPause:w,appData:S}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._rtpSender=u,this._track=d,this._kind=d.kind,this._rtpParameters=m,this._paused=v?!d.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=y,this._disableTrackOnPause=v,this._zeroRtpOnPause=w,this._appData=S??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@pause",c,l)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@resume",c,l)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((l,u)=>{this.safeEmit("@replacetrack",c,l,u)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((l,u)=>{this.safeEmit("@setmaxspatiallayer",c,l,u)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((l,u)=>{this.safeEmit("@setrtpencodingparameters",c,l,u)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Rc.Producer=o,Rc}var Ec={},v1;function WE(){if(v1)return Ec;v1=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.Consumer=void 0;const e=Vt(),t=bi(),r=Tr(),n=new e.Logger("Consumer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,producerId:u,rtpReceiver:d,track:m,rtpParameters:y,appData:v}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._producerId=u,this._rtpReceiver=d,this._track=m,this._rtpParameters=y,this._paused=!m.enabled,this._appData=v??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Ec.Consumer=o,Ec}var Tc={},y1;function qE(){if(y1)return Tc;y1=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.DataProducer=void 0;const e=Vt(),t=bi(),r=Tr(),n=new e.Logger("DataProducer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:l,sctpStreamParameters:u,appData:d}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=l,this._sctpStreamParameters=u,this._appData=d??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:l}=c;l||(l=new Error("unknown DataChannel error")),l.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",l.sctpCauseCode,l.message):n.error('DataChannel "error" event: %o',l),this.safeEmit("error",l)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Tc.DataProducer=o,Tc}var kc={},w1;function GE(){if(w1)return kc;w1=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.DataConsumer=void 0;const e=Vt(),t=bi(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:l,sctpStreamParameters:u,appData:d}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=l,this._sctpStreamParameters=u,this._appData=d??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return kc.DataConsumer=n,kc}var S1;function KE(){if(S1)return Kr;S1=1;var e=Kr&&Kr.__createBinding||(Object.create?function(R,p,h,b){b===void 0&&(b=h);var E=Object.getOwnPropertyDescriptor(p,h);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(R,b,E)}:function(R,p,h,b){b===void 0&&(b=h),R[b]=p[h]}),t=Kr&&Kr.__setModuleDefault||(Object.create?function(R,p){Object.defineProperty(R,"default",{enumerable:!0,value:p})}:function(R,p){R.default=p}),r=Kr&&Kr.__importStar||function(R){if(R&&R.__esModule)return R;var p={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&e(p,R,h);return t(p,R),p},n=Kr&&Kr.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Transport=void 0;const o=X5(),a=n(Y5()),c=Vt(),l=bi(),u=Tr(),d=r(lr()),m=r(Ur()),y=HE(),v=WE(),w=qE(),S=GE(),x=new c.Logger("Transport");class C{constructor(p){this.consumerOptions=p,this.promise=new Promise((h,b)=>{this.resolve=h,this.reject=b})}}let T=class extends l.EnhancedEventEmitter{constructor({direction:p,id:h,iceParameters:b,iceCandidates:E,dtlsParameters:D,sctpParameters:j,iceServers:N,iceTransportPolicy:M,additionalSettings:A,proprietaryConstraints:O,appData:V,handlerFactory:W,extendedRtpCapabilities:K,canProduceByKind:L}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new o.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new l.EnhancedEventEmitter,x.debug("constructor() [id:%s, direction:%s]",h,p),this._id=h,this._direction=p,this._extendedRtpCapabilities=K,this._canProduceByKind=L,this._maxSctpMessageSize=j?j.maxMessageSize:null;const F=d.clone(A)??{};delete F.iceServers,delete F.iceTransportPolicy,delete F.bundlePolicy,delete F.rtcpMuxPolicy,delete F.sdpSemantics,this._handler=W(),this._handler.run({direction:p,iceParameters:b,iceCandidates:E,dtlsParameters:D,sctpParameters:j,iceServers:N,iceTransportPolicy:M,additionalSettings:F,proprietaryConstraints:O,extendedRtpCapabilities:K}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(p){this._appData=p}get observer(){return this._observer}close(){if(!this._closed){x.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const p of this._producers.values())p.transportClosed();this._producers.clear();for(const p of this._consumers.values())p.transportClosed();this._consumers.clear();for(const p of this._dataProducers.values())p.transportClosed();this._dataProducers.clear();for(const p of this._dataConsumers.values())p.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new u.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:p}){if(x.debug("restartIce()"),this._closed)throw new u.InvalidStateError("closed");if(!p)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(p),"transport.restartIce()")}async updateIceServers({iceServers:p}={}){if(x.debug("updateIceServers()"),this._closed)throw new u.InvalidStateError("closed");if(!Array.isArray(p))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(p),"transport.updateIceServers()")}async produce({track:p,encodings:h,codecOptions:b,codec:E,stopTracks:D=!0,disableTrackOnPause:j=!0,zeroRtpOnPause:N=!1,onRtpSender:M,appData:A={}}={}){if(x.debug("produce() [track:%o]",p),this._closed)throw new u.InvalidStateError("closed");if(p){if(this._direction!=="send")throw new u.UnsupportedError("not a sending Transport");if(this._canProduceByKind[p.kind]){if(p.readyState==="ended")throw new u.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError(`cannot produce ${p.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let O;if(h&&!Array.isArray(h))throw TypeError("encodings must be an array");h&&h.length===0?O=void 0:h&&(O=h.map(L=>{const F={active:!0};return L.active===!1&&(F.active=!1),typeof L.dtx=="boolean"&&(F.dtx=L.dtx),typeof L.scalabilityMode=="string"&&(F.scalabilityMode=L.scalabilityMode),typeof L.scaleResolutionDownBy=="number"&&(F.scaleResolutionDownBy=L.scaleResolutionDownBy),typeof L.maxBitrate=="number"&&(F.maxBitrate=L.maxBitrate),typeof L.maxFramerate=="number"&&(F.maxFramerate=L.maxFramerate),typeof L.adaptivePtime=="boolean"&&(F.adaptivePtime=L.adaptivePtime),typeof L.priority=="string"&&(F.priority=L.priority),typeof L.networkPriority=="string"&&(F.networkPriority=L.networkPriority),F}));const{localId:V,rtpParameters:W,rtpSender:K}=await this._handler.send({track:p,encodings:O,codecOptions:b,codec:E,onRtpSender:M});try{m.validateRtpParameters(W);const{id:L}=await new Promise(($,U)=>{this.safeEmit("produce",{kind:p.kind,rtpParameters:W,appData:A},$,U)}),F=new y.Producer({id:L,localId:V,rtpSender:K,track:p,rtpParameters:W,stopTracks:D,disableTrackOnPause:j,zeroRtpOnPause:N,appData:A});return this._producers.set(F.id,F),this.handleProducer(F),this._observer.safeEmit("newproducer",F),F}catch(L){throw this._handler.stopSending(V).catch(()=>{}),L}},"transport.produce()").catch(O=>{if(D)try{p.stop()}catch{}throw O})}async consume({id:p,producerId:h,kind:b,rtpParameters:E,streamId:D,onRtpReceiver:j,appData:N={}}){if(x.debug("consume()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="recv")throw new u.UnsupportedError("not a receiving Transport");if(typeof p!="string")throw new TypeError("missing id");if(typeof h!="string")throw new TypeError("missing producerId");if(b!=="audio"&&b!=="video")throw new TypeError(`invalid kind '${b}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(N&&typeof N!="object")throw new TypeError("if given, appData must be an object");const M=d.clone(E);if(!m.canReceive(M,this._extendedRtpCapabilities))throw new u.UnsupportedError("cannot consume this Producer");const O=new C({id:p,producerId:h,kind:b,rtpParameters:M,streamId:D,onRtpReceiver:j,appData:N});return this._pendingConsumerTasks.push(O),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),O.promise}async produceData({ordered:p=!0,maxPacketLifeTime:h,maxRetransmits:b,label:E="",protocol:D="",appData:j={}}={}){if(x.debug("produceData()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="send")throw new u.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError("SCTP not enabled by remote Transport");return(h||b)&&(p=!1),this._awaitQueue.push(async()=>{const{dataChannel:N,sctpStreamParameters:M}=await this._handler.sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:b,label:E,protocol:D});m.validateSctpStreamParameters(M);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:M,label:E,protocol:D,appData:j},V,W)}),O=new w.DataProducer({id:A,dataChannel:N,sctpStreamParameters:M,appData:j});return this._dataProducers.set(O.id,O),this.handleDataProducer(O),this._observer.safeEmit("newdataproducer",O),O},"transport.produceData()")}async consumeData({id:p,dataProducerId:h,sctpStreamParameters:b,label:E="",protocol:D="",appData:j={}}){if(x.debug("consumeData()"),this._closed)throw new u.InvalidStateError("closed");if(this._direction!=="recv")throw new u.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof p!="string")throw new TypeError("missing id");if(typeof h!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new u.UnsupportedError("SCTP not enabled by remote Transport");const N=d.clone(b);return m.validateSctpStreamParameters(N),this._awaitQueue.push(async()=>{const{dataChannel:M}=await this._handler.receiveDataChannel({sctpStreamParameters:N,label:E,protocol:D}),A=new S.DataConsumer({id:p,dataProducerId:h,dataChannel:M,sctpStreamParameters:N,appData:j});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){x.debug("createPendingConsumers() | there is no Consumer to be created");return}const p=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let h;const b=[];for(const E of p){const{id:D,kind:j,rtpParameters:N,streamId:M,onRtpReceiver:A}=E.consumerOptions;b.push({trackId:D,kind:j,rtpParameters:N,streamId:M,onRtpReceiver:A})}try{const E=await this._handler.receive(b);for(let D=0;D<E.length;++D){const j=p[D],N=E[D],{id:M,producerId:A,kind:O,rtpParameters:V,appData:W}=j.consumerOptions,{localId:K,rtpReceiver:L,track:F}=N,$=new v.Consumer({id:M,localId:K,producerId:A,rtpReceiver:L,track:F,rtpParameters:V,appData:W});this._consumers.set($.id,$),this.handleConsumer($),!this._probatorConsumerCreated&&!h&&O==="video"&&(h=$),this._observer.safeEmit("newconsumer",$),j.resolve($)}}catch(E){for(const D of p)D.reject(E)}if(h)try{const E=m.generateProbatorRtpParameters(h.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:E}]),x.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(E){x.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",E)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){x.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const p=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const h=p.map(b=>b.localId);await this._handler.pauseReceiving(h)}catch(h){x.error("pausePendingConsumers() | failed to pause Consumers:",h)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){x.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const p=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const h=p.map(b=>b.localId);await this._handler.resumeReceiving(h)}catch(h){x.error("resumePendingConsumers() | failed to resume Consumers:",h)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){x.debug("closePendingConsumers() | there is no Consumer to be closed");return}const p=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(p.map(h=>h.localId))}catch(h){x.error("closePendingConsumers() | failed to close Consumers:",h)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const p=this._handler;p.on("@connect",({dtlsParameters:h},b,E)=>{if(this._closed){E(new u.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:h},b,E)}),p.on("@icegatheringstatechange",h=>{h!==this._iceGatheringState&&(x.debug("ICE gathering state changed to %s",h),this._iceGatheringState=h,this._closed||this.safeEmit("icegatheringstatechange",h))}),p.on("@connectionstatechange",h=>{h!==this._connectionState&&(x.debug("connection state changed to %s",h),this._connectionState=h,this._closed||this.safeEmit("connectionstatechange",h))})}handleProducer(p){p.on("@close",()=>{this._producers.delete(p.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(p.localId),"producer @close event").catch(h=>x.warn("producer.close() failed:%o",h))}),p.on("@pause",(h,b)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(p.localId),"producer @pause event").then(h).catch(b)}),p.on("@resume",(h,b)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(p.localId),"producer @resume event").then(h).catch(b)}),p.on("@replacetrack",(h,b,E)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(p.localId,h),"producer @replacetrack event").then(b).catch(E)}),p.on("@setmaxspatiallayer",(h,b,E)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(p.localId,h),"producer @setmaxspatiallayer event").then(b).catch(E)}),p.on("@setrtpencodingparameters",(h,b,E)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(p.localId,h),"producer @setrtpencodingparameters event").then(b).catch(E)}),p.on("@getstats",(h,b)=>{if(this._closed)return b(new u.InvalidStateError("closed"));this._handler.getSenderStats(p.localId).then(h).catch(b)})}handleConsumer(p){p.on("@close",()=>{this._consumers.delete(p.id),this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.delete(p.id),!this._closed&&(this._pendingCloseConsumers.set(p.id,p),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),p.on("@pause",()=>{this._pendingResumeConsumers.has(p.id)&&this._pendingResumeConsumers.delete(p.id),this._pendingPauseConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),p.on("@resume",()=>{this._pendingPauseConsumers.has(p.id)&&this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),p.on("@getstats",(h,b)=>{if(this._closed)return b(new u.InvalidStateError("closed"));this._handler.getReceiverStats(p.localId).then(h).catch(b)})}handleDataProducer(p){p.on("@close",()=>{this._dataProducers.delete(p.id)})}handleDataConsumer(p){p.on("@close",()=>{this._dataConsumers.delete(p.id)})}};return Kr.Transport=T,Kr}var Pn={},as={},ig={},ag={exports:{}},b1;function XE(){if(b1)return ag.exports;b1=1;var e=ag.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),ag.exports}var _1;function J5(){return _1||(_1=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},r=function(l,u,d,m){if(m&&!d)u[m]=t(l[1]);else for(var y=0;y<d.length;y+=1)l[y+1]!=null&&(u[d[y]]=t(l[y+1]))},n=function(l,u,d){var m=l.name&&l.names;l.push&&!u[l.push]?u[l.push]=[]:m&&!u[l.name]&&(u[l.name]={});var y=l.push?{}:m?u[l.name]:u;r(d.match(l.reg),y,l.names,l.name),l.push&&u[l.push].push(y)},o=XE(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var u={},d=[],m=u;return l.split(/(\r\n|\r|\n)/).filter(a).forEach(function(y){var v=y[0],w=y.slice(2);v==="m"&&(d.push({rtp:[],fmtp:[]}),m=d[d.length-1]);for(var S=0;S<(o[v]||[]).length;S+=1){var x=o[v][S];if(x.reg.test(w))return n(x,m,w)}}),u.media=d,u};var c=function(l,u){var d=u.split(/=(.+)/,2);return d.length===2?l[d[0]]=t(d[1]):d.length===1&&u.length>1&&(l[d[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var u=[],d=l.split(" ").map(t),m=0;m<d.length;m+=3)u.push({component:d[m],ip:d[m+1],port:d[m+2]});return u},e.parseImageAttributes=function(l){return l.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(u){return u.split(",").map(function(d){var m,y=!1;return d[0]!=="~"?m=t(d):(m=t(d.substring(1,d.length)),y=!0),{scid:m,paused:y}})})}}(ig)),ig}var cg,x1;function Q5(){if(x1)return cg;x1=1;var e=XE(),t=/%[sdv%]/g,r=function(c){var l=1,u=arguments,d=u.length;return c.replace(t,function(m){if(l>=d)return m;var y=u[l];switch(l+=1,m){case"%%":return"%";case"%s":return String(y);case"%d":return Number(y);case"%v":return""}})},n=function(c,l,u){var d=l.format instanceof Function?l.format(l.push?u:u[l.name]):l.format,m=[c+"="+d];if(l.names)for(var y=0;y<l.names.length;y+=1){var v=l.names[y];l.name?m.push(u[l.name][v]):m.push(u[l.names[y]])}else m.push(u[l.name]);return r.apply(null,m)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return cg=function(c,l){l=l||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(y){y.payloads==null&&(y.payloads="")});var u=l.outerOrder||o,d=l.innerOrder||a,m=[];return u.forEach(function(y){e[y].forEach(function(v){v.name in c&&c[v.name]!=null?m.push(n(y,v,c)):v.push in c&&c[v.push]!=null&&c[v.push].forEach(function(w){m.push(n(y,v,w))})})}),c.media.forEach(function(y){m.push(n("m",e.m[0],y)),d.forEach(function(v){e[v].forEach(function(w){w.name in y&&y[w.name]!=null?m.push(n(v,w,y)):w.push in y&&y[w.push]!=null&&y[w.push].forEach(function(S){m.push(n(v,w,S))})})})}),m.join(`\r
`)+`\r
`},cg}var C1;function Vr(){if(C1)return as;C1=1;var e=J5(),t=Q5();return as.write=t,as.parse=e.parse,as.parseParams=e.parseParams,as.parseFmtpConfig=e.parseFmtpConfig,as.parsePayloads=e.parsePayloads,as.parseRemoteCandidates=e.parseRemoteCandidates,as.parseImageAttributes=e.parseImageAttributes,as.parseSimulcastStreamList=e.parseSimulcastStreamList,as}var Xr={},R1;function Zn(){if(R1)return Xr;R1=1;var e=Xr&&Xr.__createBinding||(Object.create?function(u,d,m,y){y===void 0&&(y=m);var v=Object.getOwnPropertyDescriptor(d,m);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(u,y,v)}:function(u,d,m,y){y===void 0&&(y=m),u[y]=d[m]}),t=Xr&&Xr.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),r=Xr&&Xr.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var m in u)m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)&&e(d,u,m);return t(d,u),d};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.extractRtpCapabilities=o,Xr.extractDtlsParameters=a,Xr.getCname=c,Xr.applyCodecParameters=l;const n=r(Vr());function o({sdpObject:u}){const d=new Map,m=[];let y=!1,v=!1;for(const S of u.media){const x=S.type;switch(x){case"audio":{if(y)continue;y=!0;break}case"video":{if(v)continue;v=!0;break}default:continue}for(const C of S.rtp){const T={kind:x,mimeType:`${x}/${C.codec}`,preferredPayloadType:C.payload,clockRate:C.rate,channels:C.encoding,parameters:{},rtcpFeedback:[]};d.set(T.preferredPayloadType,T)}for(const C of S.fmtp||[]){const T=n.parseParams(C.config),R=d.get(C.payload);R&&(T!=null&&T.hasOwnProperty("profile-level-id")&&(T["profile-level-id"]=String(T["profile-level-id"])),R.parameters=T)}for(const C of S.rtcpFb||[]){const T={type:C.type,parameter:C.subtype};if(T.parameter||delete T.parameter,C.payload!=="*"){const R=d.get(C.payload);if(!R)continue;R.rtcpFeedback.push(T)}else for(const R of d.values())R.kind===x&&!/.+\/rtx$/i.test(R.mimeType)&&R.rtcpFeedback.push(T)}for(const C of S.ext||[]){if(C["encrypt-uri"])continue;const T={kind:x,uri:C.uri,preferredId:C.value};m.push(T)}}return{codecs:Array.from(d.values()),headerExtensions:m}}function a({sdpObject:u}){let d=u.setup,m=u.fingerprint;if(!d||!m){const w=(u.media||[]).find(S=>S.port!==0);w&&(d??(d=w.setup),m??(m=w.fingerprint))}if(d){if(!m)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let y;switch(d){case"active":{y="client";break}case"passive":{y="server";break}case"actpass":{y="auto";break}}return{role:y,fingerprints:[{algorithm:m.type,value:m.hash}]}}function c({offerMediaObject:u}){const d=(u.ssrcs||[]).find(m=>m.attribute==="cname");return d?d.value:""}function l({offerRtpParameters:u,answerMediaObject:d}){for(const m of u.codecs){const y=m.mimeType.toLowerCase();if(y!=="audio/opus"||!(d.rtp||[]).find(x=>x.payload===m.payloadType))continue;d.fmtp=d.fmtp||[];let w=d.fmtp.find(x=>x.payload===m.payloadType);w||(w={payload:m.payloadType,config:""},d.fmtp.push(w));const S=n.parseParams(w.config);switch(y){case"audio/opus":{const x=m.parameters["sprop-stereo"];x!==void 0&&(S.stereo=x?1:0);break}}w.config="";for(const x of Object.keys(S))w.config&&(w.config+=";"),w.config+=`${x}=${S[x]}`}}return Xr}var Pc={},E1;function _i(){if(E1)return Pc;E1=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.getRtpEncodings=e,Pc.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const l=c.id;n.add(l)}if(n.size===0)throw new Error("no a=ssrc lines found");const o=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[l,u]=c.ssrcs.split(/\s+/);l=Number(l),u=Number(u),n.has(l)&&(n.delete(l),n.delete(u),o.set(l,u))}for(const c of n)o.set(c,null);const a=[];for(const[c,l]of o){const u={ssrc:c};l&&(u.rtx={ssrc:l}),a.push(u)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const o=(r.ssrcs||[]).find(w=>w.attribute==="msid");if(!o)throw new Error("a=ssrc line with msid information not found");const[a,c]=o.value.split(" "),l=Number(o.id);let u;(r.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const S=w.ssrcs.split(/\s+/);return Number(S[0])===l?(u=Number(S[1]),!0):!1});const d=r.ssrcs.find(w=>w.attribute==="cname");if(!d)throw new Error("a=ssrc line with cname information not found");const m=d.value,y=[],v=[];for(let w=0;w<n;++w)y.push(l+w),u&&v.push(u+w);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const w of y)r.ssrcs.push({id:w,attribute:"cname",value:m}),r.ssrcs.push({id:w,attribute:"msid",value:`${a} ${c}`});for(let w=0;w<v.length;++w){const S=y[w],x=v[w];r.ssrcs.push({id:x,attribute:"cname",value:m}),r.ssrcs.push({id:x,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${S} ${x}`})}}return Pc}var Uu={},T1;function mp(){if(T1)return Uu;T1=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(o=>o.type==="nack"&&!o.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return Uu}var Dc={},k1;function rn(){if(k1)return Dc;k1=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.HandlerInterface=void 0;const e=bi();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Dc.HandlerInterface=t,Dc}var Dn={},br={},P1;function Z5(){if(P1)return br;P1=1;var e=br&&br.__createBinding||(Object.create?function(d,m,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(m,y);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(d,v,w)}:function(d,m,y,v){v===void 0&&(v=y),d[v]=m[y]}),t=br&&br.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),r=br&&br.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&e(m,d,y);return t(m,d),m};Object.defineProperty(br,"__esModule",{value:!0}),br.OfferMediaSection=br.AnswerMediaSection=br.MediaSection=void 0;const n=r(Vr()),o=r(lr());let a=class{constructor({iceParameters:m,iceCandidates:y,dtlsParameters:v,planB:w=!1}){if(this._mediaObject={},this._planB=w,m&&this.setIceParameters(m),y){this._mediaObject.candidates=[];for(const S of y){const x={};x.component=1,x.foundation=S.foundation,x.ip=S.address??S.ip,x.port=S.port,x.priority=S.priority,x.transport=S.protocol,x.type=S.type,S.tcpType&&(x.tcptype=S.tcpType),this._mediaObject.candidates.push(x)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}v&&this.setDtlsRole(v.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(m){this._mediaObject.iceUfrag=m.usernameFragment,this._mediaObject.icePwd=m.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};br.MediaSection=a;class c extends a{constructor({iceParameters:m,iceCandidates:y,dtlsParameters:v,sctpParameters:w,plainRtpParameters:S,planB:x=!1,offerMediaObject:C,offerRtpParameters:T,answerRtpParameters:R,codecOptions:p,extmapAllowMixed:h=!1}){switch(super({iceParameters:m,iceCandidates:y,dtlsParameters:v,planB:x}),this._mediaObject.mid=String(C.mid),this._mediaObject.type=C.type,this._mediaObject.protocol=C.protocol,S?(this._mediaObject.connection={ip:S.ip,version:S.ipVersion},this._mediaObject.port=S.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),C.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const b of R.codecs){const E={payload:b.payloadType,codec:u(b),rate:b.clockRate};b.channels>1&&(E.encoding=b.channels),this._mediaObject.rtp.push(E);const D=o.clone(b.parameters)??{};let j=o.clone(b.rtcpFeedback)??[];if(p){const{opusStereo:M,opusFec:A,opusDtx:O,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:K,opusNack:L,videoGoogleStartBitrate:F,videoGoogleMaxBitrate:$,videoGoogleMinBitrate:U}=p,H=T.codecs.find(z=>z.payloadType===b.payloadType);switch(b.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{M!==void 0&&(H.parameters["sprop-stereo"]=M?1:0,D.stereo=M?1:0),A!==void 0&&(H.parameters.useinbandfec=A?1:0,D.useinbandfec=A?1:0),O!==void 0&&(H.parameters.usedtx=O?1:0,D.usedtx=O?1:0),V!==void 0&&(D.maxplaybackrate=V),W!==void 0&&(D.maxaveragebitrate=W),K!==void 0&&(H.parameters.ptime=K,D.ptime=K),L||(H.rtcpFeedback=H.rtcpFeedback.filter(z=>z.type!=="nack"||z.parameter),j=j.filter(z=>z.type!=="nack"||z.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{F!==void 0&&(D["x-google-start-bitrate"]=F),$!==void 0&&(D["x-google-max-bitrate"]=$),U!==void 0&&(D["x-google-min-bitrate"]=U);break}}}const N={payload:b.payloadType,config:""};for(const M of Object.keys(D))N.config&&(N.config+=";"),N.config+=`${M}=${D[M]}`;N.config&&this._mediaObject.fmtp.push(N);for(const M of j)this._mediaObject.rtcpFb.push({payload:b.payloadType,type:M.type,subtype:M.parameter})}this._mediaObject.payloads=R.codecs.map(b=>b.payloadType).join(" "),this._mediaObject.ext=[];for(const b of R.headerExtensions)(C.ext??[]).some(D=>D.uri===b.uri)&&this._mediaObject.ext.push({uri:b.uri,value:b.id});if(h&&C.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),C.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:C.simulcast.list1},this._mediaObject.rids=[];for(const b of C.rids??[])b.direction==="send"&&this._mediaObject.rids.push({id:b.id,direction:"recv"})}else if(C.simulcast_03){this._mediaObject.simulcast_03={value:C.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const b of C.rids??[])b.direction==="send"&&this._mediaObject.rids.push({id:b.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof C.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize):C.sctpmap&&(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize});break}}}setDtlsRole(m){switch(m){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(m){var S,x;if(!((S=this._mediaObject.simulcast)!=null&&S.list1))return;const y={};for(const C of m)C.rid&&(y[C.rid]=C);const v=this._mediaObject.simulcast.list1,w=n.parseSimulcastStreamList(v);for(const C of w)for(const T of C)T.paused=!((x=y[T.scid])!=null&&x.active);this._mediaObject.simulcast.list1=w.map(C=>C.map(T=>`${T.paused?"~":""}${T.scid}`).join(",")).join(";")}}br.AnswerMediaSection=c;class l extends a{constructor({iceParameters:m,iceCandidates:y,dtlsParameters:v,sctpParameters:w,plainRtpParameters:S,planB:x=!1,mid:C,kind:T,offerRtpParameters:R,streamId:p,trackId:h,oldDataChannelSpec:b=!1}){var E;switch(super({iceParameters:m,iceCandidates:y,dtlsParameters:v,planB:x}),this._mediaObject.mid=String(C),this._mediaObject.type=T,S?(this._mediaObject.connection={ip:S.ip,version:S.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=S.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},w?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),T){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${p??"-"} ${h}`);for(const M of R.codecs){const A={payload:M.payloadType,codec:u(M),rate:M.clockRate};M.channels>1&&(A.encoding=M.channels),this._mediaObject.rtp.push(A);const O={payload:M.payloadType,config:""};for(const V of Object.keys(M.parameters))O.config&&(O.config+=";"),O.config+=`${V}=${M.parameters[V]}`;O.config&&this._mediaObject.fmtp.push(O);for(const V of M.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:M.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=R.codecs.map(M=>M.payloadType).join(" "),this._mediaObject.ext=[];for(const M of R.headerExtensions)this._mediaObject.ext.push({uri:M.uri,value:M.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const D=R.encodings[0],j=D.ssrc,N=(E=D.rtx)==null?void 0:E.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],R.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:R.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${p??"-"} ${h}`}),N&&(R.rtcp.cname&&this._mediaObject.ssrcs.push({id:N,attribute:"cname",value:R.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:N,attribute:"msid",value:`${p??"-"} ${h}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${j} ${N}`}));break}case"application":{b?(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize);break}}}setDtlsRole(m){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:m,streamId:y,trackId:v}){var T;const w=m.encodings[0],S=w.ssrc,x=(T=w.rtx)==null?void 0:T.ssrc,C=this._mediaObject.payloads.split(" ");for(const R of m.codecs){if(C.includes(String(R.payloadType)))continue;const p={payload:R.payloadType,codec:u(R),rate:R.clockRate};R.channels>1&&(p.encoding=R.channels),this._mediaObject.rtp.push(p);const h={payload:R.payloadType,config:""};for(const b of Object.keys(R.parameters))h.config&&(h.config+=";"),h.config+=`${b}=${R.parameters[b]}`;h.config&&this._mediaObject.fmtp.push(h);for(const b of R.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:R.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads+=` ${m.codecs.filter(R=>!this._mediaObject.payloads.includes(R.payloadType)).map(R=>R.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),m.rtcp.cname&&this._mediaObject.ssrcs.push({id:S,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:S,attribute:"msid",value:`${y??"-"} ${v}`}),x&&(m.rtcp.cname&&this._mediaObject.ssrcs.push({id:x,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:x,attribute:"msid",value:`${y??"-"} ${v}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${S} ${x}`}))}planBStopReceiving({offerRtpParameters:m}){var S;const y=m.encodings[0],v=y.ssrc,w=(S=y.rtx)==null?void 0:S.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(x=>x.id!==v&&x.id!==w),w&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(x=>x.ssrcs!==`${v} ${w}`))}}br.OfferMediaSection=l;function u(d){const y=new RegExp("^(audio|video)/(.+)","i").exec(d.mimeType);if(!y)throw new TypeError("invalid codec.mimeType");return y[2]}return br}var D1;function es(){if(D1)return Dn;D1=1;var e=Dn&&Dn.__createBinding||(Object.create?function(u,d,m,y){y===void 0&&(y=m);var v=Object.getOwnPropertyDescriptor(d,m);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(u,y,v)}:function(u,d,m,y){y===void 0&&(y=m),u[y]=d[m]}),t=Dn&&Dn.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),r=Dn&&Dn.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var m in u)m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)&&e(d,u,m);return t(d,u),d};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.RemoteSdp=void 0;const n=r(Vr()),o=Vt(),a=Z5(),c=new o.Logger("RemoteSdp");let l=class{constructor({iceParameters:d,iceCandidates:m,dtlsParameters:y,sctpParameters:v,plainRtpParameters:w,planB:S=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=d,this._iceCandidates=m,this._dtlsParameters=y,this._sctpParameters=v,this._plainRtpParameters=w,this._planB=S,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},d!=null&&d.iceLite&&(this._sdpObject.icelite="ice-lite"),y){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const x=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:y.fingerprints[x-1].algorithm,hash:y.fingerprints[x-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}w&&(this._sdpObject.origin.address=w.ip,this._sdpObject.origin.ipVer=w.ipVersion)}updateIceParameters(d){c.debug("updateIceParameters() [iceParameters:%o]",d),this._iceParameters=d,this._sdpObject.icelite=d.iceLite?"ice-lite":void 0;for(const m of this._mediaSections)m.setIceParameters(d)}updateDtlsRole(d){c.debug("updateDtlsRole() [role:%s]",d),this._dtlsParameters.role=d;for(const m of this._mediaSections)m.setDtlsRole(d)}getNextMediaSectionIdx(){for(let d=0;d<this._mediaSections.length;++d){const m=this._mediaSections[d];if(m.closed)return{idx:d,reuseMid:m.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:d,reuseMid:m,offerRtpParameters:y,answerRtpParameters:v,codecOptions:w,extmapAllowMixed:S=!1}){const x=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:d,offerRtpParameters:y,answerRtpParameters:v,codecOptions:w,extmapAllowMixed:S});m?this._replaceMediaSection(x,m):this._midToIndex.has(x.mid)?this._replaceMediaSection(x):this._addMediaSection(x)}receive({mid:d,kind:m,offerRtpParameters:y,streamId:v,trackId:w}){const S=this._midToIndex.get(d);let x;if(S!==void 0&&(x=this._mediaSections[S]),x)x.planBReceive({offerRtpParameters:y,streamId:v,trackId:w}),this._replaceMediaSection(x);else{x=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:d,kind:m,offerRtpParameters:y,streamId:v,trackId:w});const C=this._mediaSections.find(T=>T.closed);C?this._replaceMediaSection(x,C.mid):this._addMediaSection(x)}}pauseMediaSection(d){this._findMediaSection(d).pause()}resumeSendingMediaSection(d){this._findMediaSection(d).resume()}resumeReceivingMediaSection(d){this._findMediaSection(d).resume()}disableMediaSection(d){this._findMediaSection(d).disable()}closeMediaSection(d){const m=this._findMediaSection(d);return d===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",d),this.disableMediaSection(d),!1):(m.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(d,m){const y=this._findMediaSection(d);y.muxSimulcastStreams(m),this._replaceMediaSection(y)}planBStopReceiving({mid:d,offerRtpParameters:m}){const y=this._findMediaSection(d);y.planBStopReceiving({offerRtpParameters:m}),this._replaceMediaSection(y)}sendSctpAssociation({offerMediaObject:d}){const m=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:d});this._addMediaSection(m)}receiveSctpAssociation({oldDataChannelSpec:d=!1}={}){const m=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:d});this._addMediaSection(m)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(d){this._firstMid||(this._firstMid=d.mid),this._mediaSections.push(d),this._midToIndex.set(d.mid,this._mediaSections.length-1),this._sdpObject.media.push(d.getObject()),this._regenerateBundleMids()}_replaceMediaSection(d,m){if(typeof m=="string"){const y=this._midToIndex.get(m);if(y===void 0)throw new Error(`no media section found for reuseMid '${m}'`);const v=this._mediaSections[y];this._mediaSections[y]=d,this._midToIndex.delete(v.mid),this._midToIndex.set(d.mid,y),this._sdpObject.media[y]=d.getObject(),this._regenerateBundleMids()}else{const y=this._midToIndex.get(d.mid);if(y===void 0)throw new Error(`no media section found with mid '${d.mid}'`);this._mediaSections[y]=d,this._sdpObject.media[y]=d.getObject()}}_findMediaSection(d){const m=this._midToIndex.get(d);if(m===void 0)throw new Error(`no media section found with mid '${d}'`);return this._mediaSections[m]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(d=>!d.closed).map(d=>d.mid).join(" "))}};return Dn.RemoteSdp=l,Dn}var Vu={},j1;function ko(){if(j1)return Vu;j1=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return Vu}var I1;function e6(){if(I1)return Pn;I1=1;var e=Pn&&Pn.__createBinding||(Object.create?function(R,p,h,b){b===void 0&&(b=h);var E=Object.getOwnPropertyDescriptor(p,h);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(R,b,E)}:function(R,p,h,b){b===void 0&&(b=h),R[b]=p[h]}),t=Pn&&Pn.__setModuleDefault||(Object.create?function(R,p){Object.defineProperty(R,"default",{enumerable:!0,value:p})}:function(R,p){R.default=p}),r=Pn&&Pn.__importStar||function(R){if(R&&R.__esModule)return R;var p={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&e(p,R,h);return t(p,R),p};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.Chrome111=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(_i()),d=r(mp()),m=Tr(),y=rn(),v=es(),w=ko(),S=new o.Logger("Chrome111"),x="Chrome111",C={OS:1024,MIS:1024};let T=class YE extends y.HandlerInterface{static createFactory(){return()=>new YE}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const b=n.parse(h.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D,iceServers:j,iceTransportPolicy:N,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),S.debug("run()"),this._direction=p,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:N??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),S.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:b,codec:E,onRtpSender:D}){if(this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1){let F=1;for(const $ of h){const U=$.scalabilityMode?(0,w.parse)($.scalabilityMode).temporalLayers:3;U>F&&(F=U)}h.forEach(($,U)=>{$.rid=`r${U}`,$.scalabilityMode=`L1T${F}`})}const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const N=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);N.codecs=c.reduceCodecs(N.codecs,E);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});D&&D(A.sender);const O=await this._pc.createOffer();let V=n.parse(O.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const W=A.mid;j.mid=W,V=n.parse(this._pc.localDescription.sdp);const K=V.media[M.idx];if(j.rtcp.cname=l.getCname({offerMediaObject:K}),!h)j.encodings=u.getRtpEncodings({offerMediaObject:K});else if(h.length===1){const F=u.getRtpEncodings({offerMediaObject:K});Object.assign(F[0],h[0]),j.encodings=F}else j.encodings=h;this._remoteSdp.send({offerMediaObject:K,reuseMid:M.reuseMid,offerRtpParameters:j,answerRtpParameters:N,codecOptions:b,extmapAllowMixed:!0});const L={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",p),this._closed)return;const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const E=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const b=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const b=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):S.debug("replaceTrack() [localId:%s, no track]",p);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{M<=h?N.active=!0:N.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{E.encodings[M]={...N,...h}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:b,label:E,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:b,protocol:D};S.debug("sendDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:N,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],b=new Map;for(const N of p){const{trackId:M,kind:A,rtpParameters:O,streamId:V}=N;S.debug("receive() [trackId:%s, kind:%s]",M,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:M})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const N of p){const{trackId:M,onRtpReceiver:A}=N;if(A){const O=b.get(M),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const N of p){const{trackId:M,rtpParameters:A}=N,O=b.get(M),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const N of p){const{trackId:M}=N,A=b.get(M),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const E of p){S.debug("stopReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of p)this._mapMidTransceiver.delete(E)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("pauseReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("resumeReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N}=p,M={negotiated:!0,id:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N,protocol:b};S.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:h});b.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((E,D)=>{this.safeEmit("@connect",{dtlsParameters:b},E,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Pn.Chrome111=T,Pn}var jn={},M1;function t6(){if(M1)return jn;M1=1;var e=jn&&jn.__createBinding||(Object.create?function(R,p,h,b){b===void 0&&(b=h);var E=Object.getOwnPropertyDescriptor(p,h);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(R,b,E)}:function(R,p,h,b){b===void 0&&(b=h),R[b]=p[h]}),t=jn&&jn.__setModuleDefault||(Object.create?function(R,p){Object.defineProperty(R,"default",{enumerable:!0,value:p})}:function(R,p){R.default=p}),r=jn&&jn.__importStar||function(R){if(R&&R.__esModule)return R;var p={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&e(p,R,h);return t(p,R),p};Object.defineProperty(jn,"__esModule",{value:!0}),jn.Chrome74=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(_i()),d=r(mp()),m=Tr(),y=rn(),v=es(),w=ko(),S=new o.Logger("Chrome74"),x="Chrome74",C={OS:1024,MIS:1024};let T=class JE extends y.HandlerInterface{static createFactory(){return()=>new JE}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const b=n.parse(h.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D,iceServers:j,iceTransportPolicy:N,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:O}){S.debug("run()"),this._direction=p,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:N??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),S.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:b,codec:E}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1&&h.forEach(($,U)=>{$.rid=`r${U}`});const D=a.clone(this._sendingRtpParametersByKind[p.kind]);D.codecs=c.reduceCodecs(D.codecs,E);const j=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const N=this._remoteSdp.getNextMediaSectionIdx(),M=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});let A=await this._pc.createOffer(),O=n.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O});let W=!1;const K=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length===1&&K.spatialLayers>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(S.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,O=n.parse(A.sdp),V=O.media[N.idx],u.addLegacySimulcast({offerMediaObject:V,numStreams:K.spatialLayers}),A={type:"offer",sdp:n.write(O)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const L=M.mid;if(D.mid=L,O=n.parse(this._pc.localDescription.sdp),V=O.media[N.idx],D.rtcp.cname=l.getCname({offerMediaObject:V}),!h)D.encodings=u.getRtpEncodings({offerMediaObject:V});else if(h.length===1){let $=u.getRtpEncodings({offerMediaObject:V});Object.assign($[0],h[0]),W&&($=[$[0]]),D.encodings=$}else D.encodings=h;if(D.encodings.length>1&&(D.codecs[0].mimeType.toLowerCase()==="video/vp8"||D.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of D.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${K.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:N.reuseMid,offerRtpParameters:D,answerRtpParameters:j,codecOptions:b,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),this._mapMidTransceiver.set(L,M),{localId:L,rtpParameters:D,rtpSender:M.sender}}async stopSending(p){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",p),this._closed)return;const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const E=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const b=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const b=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):S.debug("replaceTrack() [localId:%s, no track]",p);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{M<=h?N.active=!0:N.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{E.encodings[M]={...N,...h}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:b,label:E,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:b,protocol:D};S.debug("sendDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:N,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],b=new Map;for(const N of p){const{trackId:M,kind:A,rtpParameters:O,streamId:V}=N;S.debug("receive() [trackId:%s, kind:%s]",M,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:M})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const N of p){const{trackId:M,rtpParameters:A}=N,O=b.get(M),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const N of p){const{trackId:M}=N,A=b.get(M),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const E of p){S.debug("stopReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of p)this._mapMidTransceiver.delete(E)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("pauseReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("resumeReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N}=p,M={negotiated:!0,id:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N,protocol:b};S.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:h});b.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((E,D)=>{this.safeEmit("@connect",{dtlsParameters:b},E,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return jn.Chrome74=T,jn}var In={},N1;function r6(){if(N1)return In;N1=1;var e=In&&In.__createBinding||(Object.create?function(C,T,R,p){p===void 0&&(p=R);var h=Object.getOwnPropertyDescriptor(T,R);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[R]}}),Object.defineProperty(C,p,h)}:function(C,T,R,p){p===void 0&&(p=R),C[p]=T[R]}),t=In&&In.__setModuleDefault||(Object.create?function(C,T){Object.defineProperty(C,"default",{enumerable:!0,value:T})}:function(C,T){C.default=T}),r=In&&In.__importStar||function(C){if(C&&C.__esModule)return C;var T={};if(C!=null)for(var R in C)R!=="default"&&Object.prototype.hasOwnProperty.call(C,R)&&e(T,C,R);return t(T,C),T};Object.defineProperty(In,"__esModule",{value:!0}),In.Chrome70=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(_i()),d=rn(),m=es(),y=ko(),v=new o.Logger("Chrome70"),w="Chrome70",S={OS:1024,MIS:1024};let x=class QE extends d.HandlerInterface{static createFactory(){return()=>new QE}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{T.addTransceiver("audio"),T.addTransceiver("video");const R=await T.createOffer();try{T.close()}catch{}const p=n.parse(R.sdp);return l.extractRtpCapabilities({sdpObject:p})}catch(R){try{T.close()}catch{}throw R}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:T,iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b,iceServers:E,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:N,extendedRtpCapabilities:M}){v.debug("run()"),this._direction=T,this._remoteSdp=new m.RemoteSdp({iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",M),video:c.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",M),video:c.getSendingRemoteRtpParameters("video",M)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){v.debug("updateIceServers()");const R=this._pc.getConfiguration();R.iceServers=T,this._pc.setConfiguration(R)}async restartIce(T){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const R=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R);const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:R,codecOptions:p,codec:h}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",T.kind,T.id);const b=a.clone(this._sendingRtpParametersByKind[T.kind]);b.codecs=c.reduceCodecs(b.codecs,h);const E=a.clone(this._sendingRemoteRtpParametersByKind[T.kind]);E.codecs=c.reduceCodecs(E.codecs,h);const D=this._remoteSdp.getNextMediaSectionIdx(),j=this._pc.addTransceiver(T,{direction:"sendonly",streams:[this._sendStream]});let N=await this._pc.createOffer(),M=n.parse(N.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),R&&R.length>1&&(v.debug("send() | enabling legacy simulcast"),M=n.parse(N.sdp),A=M.media[D.idx],u.addLegacySimulcast({offerMediaObject:A,numStreams:R.length}),N={type:"offer",sdp:n.write(M)});let O=!1;const V=(0,y.parse)((R??[{}])[0].scalabilityMode);if(R&&R.length===1&&V.spatialLayers>1&&b.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(v.debug("send() | enabling legacy simulcast for VP9 SVC"),O=!0,M=n.parse(N.sdp),A=M.media[D.idx],u.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),N={type:"offer",sdp:n.write(M)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),R){v.debug("send() | applying given encodings");const L=j.sender.getParameters();for(let F=0;F<(L.encodings??[]).length;++F){const $=L.encodings[F],U=R[F];if(!U)break;L.encodings[F]=Object.assign($,U)}await j.sender.setParameters(L)}const W=j.mid;if(b.mid=W,M=n.parse(this._pc.localDescription.sdp),A=M.media[D.idx],b.rtcp.cname=l.getCname({offerMediaObject:A}),b.encodings=u.getRtpEncodings({offerMediaObject:A}),R)for(let L=0;L<b.encodings.length;++L)R[L]&&Object.assign(b.encodings[L],R[L]);if(O&&(b.encodings=[b.encodings[0]]),b.encodings.length>1&&(b.codecs[0].mimeType.toLowerCase()==="video/vp8"||b.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const L of b.encodings)L.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:D.reuseMid,offerRtpParameters:b,answerRtpParameters:E,codecOptions:p});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(W,j),{localId:W,rtpParameters:b,rtpSender:j.sender}}async stopSending(T){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",T);const R=this._mapMidTransceiver.get(T);if(!R)throw new Error("associated RTCRtpTransceiver not found");if(R.sender.replaceTrack(null),this._pc.removeTrack(R.sender),this._remoteSdp.closeMediaSection(R.mid))try{R.stop()}catch{}const h=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(T)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,R){this.assertSendDirection(),R?v.debug("replaceTrack() [localId:%s, track.id:%s]",T,R.id):v.debug("replaceTrack() [localId:%s, no track]",T);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(R)}async setMaxSpatialLayer(T,R){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",T,R);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const h=p.sender.getParameters();h.encodings.forEach((D,j)=>{j<=R?D.active=!0:D.active=!1}),await p.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(T,h.encodings);const b=await this._pc.createOffer();v.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(T,R){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",T,R);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const h=p.sender.getParameters();h.encodings.forEach((D,j)=>{h.encodings[j]={...D,...R}}),await p.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(T,h.encodings);const b=await this._pc.createOffer();v.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(T){this.assertSendDirection();const R=this._mapMidTransceiver.get(T);if(!R)throw new Error("associated RTCRtpTransceiver not found");return R.sender.getStats()}async sendDataChannel({ordered:T,maxPacketLifeTime:R,maxRetransmits:p,label:h,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:R,maxRetransmitTime:R,maxRetransmits:p,protocol:b};v.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),M=n.parse(N.sdp),A=M.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const R=[],p=new Map;for(const D of T){const{trackId:j,kind:N,rtpParameters:M,streamId:A}=D;v.debug("receive() [trackId:%s, kind:%s]",j,N);const O=M.mid??String(this._mapMidTransceiver.size);p.set(j,O),this._remoteSdp.receive({mid:O,kind:N,offerRtpParameters:M,streamId:A??M.rtcp.cname,trackId:j})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let b=await this._pc.createAnswer();const E=n.parse(b.sdp);for(const D of T){const{trackId:j,rtpParameters:N}=D,M=p.get(j),A=E.media.find(O=>String(O.mid)===M);l.applyCodecParameters({offerRtpParameters:N,answerMediaObject:A})}b={type:"answer",sdp:n.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const D of T){const{trackId:j}=D,N=p.get(j),M=this._pc.getTransceivers().find(A=>A.mid===N);if(!M)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(N,M),R.push({localId:N,track:M.receiver.track,rtpReceiver:M.receiver})}return R}async stopReceiving(T){this.assertRecvDirection();for(const h of T){v.debug("stopReceiving() [localId:%s]",h);const b=this._mapMidTransceiver.get(h);if(!b)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(b.mid)}const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const h of T)this._mapMidTransceiver.delete(h)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){this.assertRecvDirection();const R=this._mapMidTransceiver.get(T);if(!R)throw new Error("associated RTCRtpTransceiver not found");return R.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:T,label:R,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:b,maxPacketLifeTime:E,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:D,protocol:p};v.debug("receiveDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(R,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const M={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:T,localSdpObject:R}){R||(R=n.parse(this._pc.localDescription.sdp));const p=l.extractDtlsParameters({sdpObject:R});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,b)=>{this.safeEmit("@connect",{dtlsParameters:p},h,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return In.Chrome70=x,In}var Mn={},jc={},L1;function gp(){if(L1)return jc;L1=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.getRtpEncodings=e,jc.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const o=new Set;for(const l of r.ssrcs||[]){if(l.attribute!=="msid")continue;if(l.value.split(" ")[1]===n.id){const d=l.id;o.add(d)}}if(o.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const l of r.ssrcGroups||[]){if(l.semantics!=="FID")continue;let[u,d]=l.ssrcs.split(/\s+/);u=Number(u),d=Number(d),o.has(u)&&(o.delete(u),o.delete(d),a.set(u,d))}for(const l of o)a.set(l,null);const c=[];for(const[l,u]of a){const d={ssrc:l};u&&(d.rtx={ssrc:u}),c.push(d)}return c}function t({offerMediaObject:r,track:n,numStreams:o}){if(o<=1)throw new TypeError("numStreams must be greater than 1");let a,c,l;if(!(r.ssrcs||[]).find(w=>w.attribute!=="msid"?!1:w.value.split(" ")[1]===n.id?(a=w.id,l=w.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const S=w.ssrcs.split(/\s+/);return Number(S[0])===a?(c=Number(S[1]),!0):!1});const d=r.ssrcs.find(w=>w.attribute==="cname"&&w.id===a);if(!d)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const m=d.value,y=[],v=[];for(let w=0;w<o;++w)y.push(a+w),c&&v.push(c+w);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const w of y)r.ssrcs.push({id:w,attribute:"cname",value:m}),r.ssrcs.push({id:w,attribute:"msid",value:`${l} ${n.id}`});for(let w=0;w<v.length;++w){const S=y[w],x=v[w];r.ssrcs.push({id:x,attribute:"cname",value:m}),r.ssrcs.push({id:x,attribute:"msid",value:`${l} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${S} ${x}`})}}return jc}var O1;function n6(){if(O1)return Mn;O1=1;var e=Mn&&Mn.__createBinding||(Object.create?function(x,C,T,R){R===void 0&&(R=T);var p=Object.getOwnPropertyDescriptor(C,T);(!p||("get"in p?!C.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return C[T]}}),Object.defineProperty(x,R,p)}:function(x,C,T,R){R===void 0&&(R=T),x[R]=C[T]}),t=Mn&&Mn.__setModuleDefault||(Object.create?function(x,C){Object.defineProperty(x,"default",{enumerable:!0,value:C})}:function(x,C){x.default=C}),r=Mn&&Mn.__importStar||function(x){if(x&&x.__esModule)return x;var C={};if(x!=null)for(var T in x)T!=="default"&&Object.prototype.hasOwnProperty.call(x,T)&&e(C,x,T);return t(C,x),C};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Chrome67=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(gp()),d=rn(),m=es(),y=new o.Logger("Chrome67"),v="Chrome67",w={OS:1024,MIS:1024};let S=class ZE extends d.HandlerInterface{static createFactory(){return()=>new ZE}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return v}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const R=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:R})}catch(T){try{C.close()}catch{}throw T}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:C,iceParameters:T,iceCandidates:R,dtlsParameters:p,sctpParameters:h,iceServers:b,iceTransportPolicy:E,additionalSettings:D,proprietaryConstraints:j,extendedRtpCapabilities:N}){y.debug("run()"),this._direction=C,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:R,dtlsParameters:p,sctpParameters:h,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:b??[],iceTransportPolicy:E??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...D},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=C,this._pc.setConfiguration(T)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const R={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",R),await this._pc.setRemoteDescription(R)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const R=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",R),await this._pc.setLocalDescription(R)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:T,codecOptions:R,codec:p}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),p&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let h=await this._pc.createOffer(),b=n.parse(h.sdp),E;const D=a.clone(this._sendingRtpParametersByKind[C.kind]);D.codecs=c.reduceCodecs(D.codecs);const j=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),C.kind==="video"&&T&&T.length>1&&(y.debug("send() | enabling simulcast"),b=n.parse(h.sdp),E=b.media.find(O=>O.type==="video"),u.addLegacySimulcast({offerMediaObject:E,track:C,numStreams:T.length}),h={type:"offer",sdp:n.write(b)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),b=n.parse(this._pc.localDescription.sdp),E=b.media.find(O=>O.type===C.kind),D.rtcp.cname=l.getCname({offerMediaObject:E}),D.encodings=u.getRtpEncodings({offerMediaObject:E,track:C}),T)for(let O=0;O<D.encodings.length;++O)T[O]&&Object.assign(D.encodings[O],T[O]);if(D.encodings.length>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of D.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:E,offerRtpParameters:D,answerRtpParameters:j,codecOptions:R});const N={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const M=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===C);return this._mapSendLocalIdRtpSender.set(M,A),{localId:M,rtpParameters:D,rtpSender:A}}async stopSending(C){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",C);const T=this._mapSendLocalIdRtpSender.get(C);if(!T)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(T),T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(C);const R=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",R);try{await this._pc.setLocalDescription(R)}catch(h){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",h.toString());return}throw h}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,T){this.assertSendDirection(),T?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,T.id):y.debug("replaceTrack() [localId:%s, no track]",C);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.track;await R.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(C,T){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,T);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.getParameters();p.encodings.forEach((h,b)=>{b<=T?h.active=!0:h.active=!1}),await R.setParameters(p)}async setRtpEncodingParameters(C,T){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,T);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.getParameters();p.encodings.forEach((h,b)=>{p.encodings[b]={...h,...T}}),await R.setParameters(p)}async getSenderStats(C){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(C);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:T,maxRetransmits:R,label:p,protocol:h}){this.assertSendDirection();const b={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:T,maxRetransmitTime:T,maxRetransmits:R,protocol:h};y.debug("sendDataChannel() [options:%o]",b);const E=this._pc.createDataChannel(p,b);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),N=n.parse(j.sdp),M=N.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:M});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const D={streamId:b.id,ordered:b.ordered,maxPacketLifeTime:b.maxPacketLifeTime,maxRetransmits:b.maxRetransmits};return{dataChannel:E,sctpStreamParameters:D}}async receive(C){this.assertRecvDirection();const T=[];for(const b of C){const{trackId:E,kind:D,rtpParameters:j,streamId:N}=b;y.debug("receive() [trackId:%s, kind:%s]",E,D);const M=D;this._remoteSdp.receive({mid:M,kind:D,offerRtpParameters:j,streamId:N??j.rtcp.cname,trackId:E})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);let p=await this._pc.createAnswer();const h=n.parse(p.sdp);for(const b of C){const{kind:E,rtpParameters:D}=b,j=E,N=h.media.find(M=>String(M.mid)===j);l.applyCodecParameters({offerRtpParameters:D,answerMediaObject:N})}p={type:"answer",sdp:n.write(h)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const b of C){const{kind:E,trackId:D,rtpParameters:j}=b,N=D,M=E,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===N);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(N,{mid:M,rtpParameters:j,rtpReceiver:A}),T.push({localId:N,track:A.track,rtpReceiver:A})}return T}async stopReceiving(C){this.assertRecvDirection();for(const p of C){y.debug("stopReceiving() [localId:%s]",p);const{mid:h,rtpParameters:b}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:h,offerRtpParameters:b})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const R=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",R),await this._pc.setLocalDescription(R)}async pauseReceiving(C){}async resumeReceiving(C){}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(C)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:T,protocol:R}){this.assertRecvDirection();const{streamId:p,ordered:h,maxPacketLifeTime:b,maxRetransmits:E}=C,D={negotiated:!0,id:p,ordered:h,maxPacketLifeTime:b,maxRetransmitTime:b,maxRetransmits:E,protocol:R};y.debug("receiveDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(T,D);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const M=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(M.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setLocalDescription(M),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:C,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const R=l.extractDtlsParameters({sdpObject:T});R.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((p,h)=>{this.safeEmit("@connect",{dtlsParameters:R},p,h)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Mn.Chrome67=S,Mn}var Nn={},A1;function s6(){if(A1)return Nn;A1=1;var e=Nn&&Nn.__createBinding||(Object.create?function(C,T,R,p){p===void 0&&(p=R);var h=Object.getOwnPropertyDescriptor(T,R);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[R]}}),Object.defineProperty(C,p,h)}:function(C,T,R,p){p===void 0&&(p=R),C[p]=T[R]}),t=Nn&&Nn.__setModuleDefault||(Object.create?function(C,T){Object.defineProperty(C,"default",{enumerable:!0,value:T})}:function(C,T){C.default=T}),r=Nn&&Nn.__importStar||function(C){if(C&&C.__esModule)return C;var T={};if(C!=null)for(var R in C)R!=="default"&&Object.prototype.hasOwnProperty.call(C,R)&&e(T,C,R);return t(T,C),T};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Chrome55=void 0;const n=r(Vr()),o=Vt(),a=Tr(),c=r(lr()),l=r(Ur()),u=r(Zn()),d=r(gp()),m=rn(),y=es(),v=new o.Logger("Chrome55"),w="Chrome55",S={OS:1024,MIS:1024};let x=class eT extends m.HandlerInterface{static createFactory(){return()=>new eT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const R=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(R.sdp);return u.extractRtpCapabilities({sdpObject:p})}catch(R){try{T.close()}catch{}throw R}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:T,iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b,iceServers:E,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:N,extendedRtpCapabilities:M}){v.debug("run()"),this._direction=T,this._remoteSdp=new y.RemoteSdp({iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",M),video:l.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",M),video:l.getSendingRemoteRtpParameters("video",M)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){v.debug("updateIceServers()");const R=this._pc.getConfiguration();R.iceServers=T,this._pc.setConfiguration(R)}async restartIce(T){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const R=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R);const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:R,codecOptions:p,codec:h}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),h&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let b=await this._pc.createOffer(),E=n.parse(b.sdp),D;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const N=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(N.codecs=l.reduceCodecs(N.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),T.kind==="video"&&R&&R.length>1&&(v.debug("send() | enabling simulcast"),E=n.parse(b.sdp),D=E.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:D,track:T,numStreams:R.length}),b={type:"offer",sdp:n.write(E)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b),E=n.parse(this._pc.localDescription.sdp),D=E.media.find(O=>O.type===T.kind),j.rtcp.cname=u.getCname({offerMediaObject:D}),j.encodings=d.getRtpEncodings({offerMediaObject:D,track:T}),R)for(let O=0;O<j.encodings.length;++O)R[O]&&Object.assign(j.encodings[O],R[O]);if(j.encodings.length>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:D,offerRtpParameters:j,answerRtpParameters:N,codecOptions:p});const M={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",T);const R=this._mapSendLocalIdTrack.get(T);if(!R)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(R),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(b){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",b.toString());return}throw b}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,R){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,R){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(T,R){throw new a.UnsupportedError("not supported")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:R,maxRetransmits:p,label:h,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:R,maxRetransmitTime:R,maxRetransmits:p,protocol:b};v.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),M=n.parse(N.sdp),A=M.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const R=[];for(const E of T){const{trackId:D,kind:j,rtpParameters:N,streamId:M}=E;v.debug("receive() [trackId:%s, kind:%s]",D,j);const A=j;this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:N,streamId:M??N.rtcp.cname,trackId:D})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let h=await this._pc.createAnswer();const b=n.parse(h.sdp);for(const E of T){const{kind:D,rtpParameters:j}=E,N=D,M=b.media.find(A=>String(A.mid)===N);u.applyCodecParameters({offerRtpParameters:j,answerMediaObject:M})}h={type:"answer",sdp:n.write(b)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const E of T){const{kind:D,trackId:j,rtpParameters:N}=E,M=D,A=j,O=E.streamId??N.rtcp.cname,W=this._pc.getRemoteStreams().find(K=>K.id===O).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:M,rtpParameters:N}),R.push({localId:A,track:W})}return R}async stopReceiving(T){this.assertRecvDirection();for(const h of T){v.debug("stopReceiving() [localId:%s]",h);const{mid:b,rtpParameters:E}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:b,offerRtpParameters:E})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:R,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:b,maxPacketLifeTime:E,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:D,protocol:p};v.debug("receiveDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(R,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:T,localSdpObject:R}){R||(R=n.parse(this._pc.localDescription.sdp));const p=u.extractDtlsParameters({sdpObject:R});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,b)=>{this.safeEmit("@connect",{dtlsParameters:p},h,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Nn.Chrome55=x,Nn}var Ln={},$1;function o6(){if($1)return Ln;$1=1;var e=Ln&&Ln.__createBinding||(Object.create?function(T,R,p,h){h===void 0&&(h=p);var b=Object.getOwnPropertyDescriptor(R,p);(!b||("get"in b?!R.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return R[p]}}),Object.defineProperty(T,h,b)}:function(T,R,p,h){h===void 0&&(h=p),T[h]=R[p]}),t=Ln&&Ln.__setModuleDefault||(Object.create?function(T,R){Object.defineProperty(T,"default",{enumerable:!0,value:R})}:function(T,R){T.default=R}),r=Ln&&Ln.__importStar||function(T){if(T&&T.__esModule)return T;var R={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(R,T,p);return t(R,T),R};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.Firefox120=void 0;const n=r(Vr()),o=Vt(),a=Tr(),c=r(lr()),l=r(Ur()),u=r(Zn()),d=r(_i()),m=rn(),y=es(),v=ko(),w=new o.Logger("Firefox120"),S="Firefox120",x={OS:16,MIS:2048};let C=class tT extends m.HandlerInterface{static createFactory(){return()=>new tT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const b=p.captureStream().getVideoTracks()[0];try{R.addTransceiver("audio",{direction:"sendrecv"}),R.addTransceiver(b,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const E=await R.createOffer();try{p.remove()}catch{}try{b.stop()}catch{}try{R.close()}catch{}const D=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:D})}catch(E){try{p.remove()}catch{}try{b.stop()}catch{}try{R.close()}catch{}throw E}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:x}}run({direction:R,iceParameters:p,iceCandidates:h,dtlsParameters:b,sctpParameters:E,iceServers:D,iceTransportPolicy:j,additionalSettings:N,proprietaryConstraints:M,extendedRtpCapabilities:A}){this.assertNotClosed(),w.debug("run()"),this._direction=R,this._remoteSdp=new y.RemoteSdp({iceParameters:p,iceCandidates:h,dtlsParameters:b,sctpParameters:E}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...N},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(R){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:R,encodings:p,codecOptions:h,codec:b,onRtpSender:E}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&p.length>1&&p.forEach((L,F)=>{L.rid=`r${F}`});const D=c.clone(this._sendingRtpParametersByKind[R.kind]);D.codecs=l.reduceCodecs(D.codecs,b);const j=c.clone(this._sendingRemoteRtpParametersByKind[R.kind]);j.codecs=l.reduceCodecs(j.codecs,b);const N=this._pc.addTransceiver(R,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});E&&E(N.sender);const M=await this._pc.createOffer();let A=n.parse(M.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const O=(0,v.parse)((p??[{}])[0].scalabilityMode);w.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const V=N.mid;D.mid=V,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(D.rtcp.cname=u.getCname({offerMediaObject:W}),!p)D.encodings=d.getRtpEncodings({offerMediaObject:W});else if(p.length===1){const L=d.getRtpEncodings({offerMediaObject:W});Object.assign(L[0],p[0]),D.encodings=L}else D.encodings=p;if(D.encodings.length>1&&(D.codecs[0].mimeType.toLowerCase()==="video/vp8"||D.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const L of D.encodings)L.scalabilityMode?L.scalabilityMode=`L1T${O.temporalLayers}`:L.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:D,answerRtpParameters:j,codecOptions:h,extmapAllowMixed:!0});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(V,N),{localId:V,rtpParameters:D,rtpSender:N.sender}}async stopSending(R){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",R),this._closed)return;const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(R)}async pauseSending(R){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",R);const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(R);const h=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async resumeSending(R){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",R);const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(R);const h=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async replaceTrack(R,p){this.assertNotClosed(),this.assertSendDirection(),p?w.debug("replaceTrack() [localId:%s, track.id:%s]",R,p.id):w.debug("replaceTrack() [localId:%s, no track]",R);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(p)}async setMaxSpatialLayer(R,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,p);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated transceiver not found");const b=h.sender.getParameters();b.encodings.forEach((j,N)=>{N<=p?j.active=!0:j.active=!1}),await h.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(R,b.encodings);const E=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(R,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,p);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated RTCRtpTransceiver not found");const b=h.sender.getParameters();b.encodings.forEach((j,N)=>{b.encodings[N]={...j,...p}}),await h.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(R,b.encodings);const E=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(R){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:p,maxRetransmits:h,label:b,protocol:E}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:p,maxRetransmits:h,protocol:E};w.debug("sendDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(b,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),A=n.parse(M.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const V={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const N={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:j,sctpStreamParameters:N}}async receive(R){this.assertNotClosed(),this.assertRecvDirection();const p=[],h=new Map;for(const j of R){const{trackId:N,kind:M,rtpParameters:A,streamId:O}=j;w.debug("receive() [trackId:%s, kind:%s]",N,M);const V=A.mid??String(this._mapMidTransceiver.size);h.set(N,V),this._remoteSdp.receive({mid:V,kind:M,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:N})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);for(const j of R){const{trackId:N,onRtpReceiver:M}=j;if(M){const A=h.get(N),O=this._pc.getTransceivers().find(V=>V.mid===A);if(!O)throw new Error("transceiver not found");M(O.receiver)}}let E=await this._pc.createAnswer();const D=n.parse(E.sdp);for(const j of R){const{trackId:N,rtpParameters:M}=j,A=h.get(N),O=D.media.find(V=>String(V.mid)===A);u.applyCodecParameters({offerRtpParameters:M,answerMediaObject:O}),E={type:"answer",sdp:n.write(D)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",E),await this._pc.setLocalDescription(E);for(const j of R){const{trackId:N}=j,M=h.get(N),A=this._pc.getTransceivers().find(O=>O.mid===M);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(M,A),p.push({localId:M,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(R){if(this.assertRecvDirection(),this._closed)return;for(const b of R){w.debug("stopReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(E.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const b of R)this._mapMidTransceiver.delete(b)}async pauseReceiving(R){this.assertNotClosed(),this.assertRecvDirection();for(const b of R){w.debug("pauseReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="inactive",this._remoteSdp.pauseMediaSection(b)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async resumeReceiving(R){this.assertNotClosed(),this.assertRecvDirection();for(const b of R){w.debug("resumeReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(b)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async getReceiverStats(R){this.assertRecvDirection();const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:p,protocol:h}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:b,ordered:E,maxPacketLifeTime:D,maxRetransmits:j}=R,N={negotiated:!0,id:b,ordered:E,maxPacketLifeTime:D,maxRetransmits:j,protocol:h};w.debug("receiveDataChannel() [options:%o]",N);const M=this._pc.createDataChannel(p,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:R,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const h=u.extractDtlsParameters({sdpObject:p});h.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((b,E)=>{this.safeEmit("@connect",{dtlsParameters:h},b,E)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ln.Firefox120=C,Ln}var On={},F1;function i6(){if(F1)return On;F1=1;var e=On&&On.__createBinding||(Object.create?function(T,R,p,h){h===void 0&&(h=p);var b=Object.getOwnPropertyDescriptor(R,p);(!b||("get"in b?!R.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return R[p]}}),Object.defineProperty(T,h,b)}:function(T,R,p,h){h===void 0&&(h=p),T[h]=R[p]}),t=On&&On.__setModuleDefault||(Object.create?function(T,R){Object.defineProperty(T,"default",{enumerable:!0,value:R})}:function(T,R){T.default=R}),r=On&&On.__importStar||function(T){if(T&&T.__esModule)return T;var R={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(R,T,p);return t(R,T),R};Object.defineProperty(On,"__esModule",{value:!0}),On.Firefox60=void 0;const n=r(Vr()),o=Vt(),a=Tr(),c=r(lr()),l=r(Ur()),u=r(Zn()),d=r(_i()),m=rn(),y=es(),v=ko(),w=new o.Logger("Firefox60"),S="Firefox60",x={OS:16,MIS:2048};let C=class rT extends m.HandlerInterface{static createFactory(){return()=>new rT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const b=p.captureStream().getVideoTracks()[0];try{R.addTransceiver("audio",{direction:"sendrecv"});const E=R.addTransceiver(b,{direction:"sendrecv"}),D=E.sender.getParameters(),j=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];D.encodings=j,await E.sender.setParameters(D);const N=await R.createOffer();try{p.remove()}catch{}try{b.stop()}catch{}try{R.close()}catch{}const M=n.parse(N.sdp);return u.extractRtpCapabilities({sdpObject:M})}catch(E){try{p.remove()}catch{}try{b.stop()}catch{}try{R.close()}catch{}throw E}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:x}}run({direction:R,iceParameters:p,iceCandidates:h,dtlsParameters:b,sctpParameters:E,iceServers:D,iceTransportPolicy:j,additionalSettings:N,proprietaryConstraints:M,extendedRtpCapabilities:A}){this.assertNotClosed(),w.debug("run()"),this._direction=R,this._remoteSdp=new y.RemoteSdp({iceParameters:p,iceCandidates:h,dtlsParameters:b,sctpParameters:E}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...N},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(R){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:R,encodings:p,codecOptions:h,codec:b}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&(p=c.clone(p),p.forEach((K,L)=>{K.rid=`r${L}`}),p.reverse());const E=c.clone(this._sendingRtpParametersByKind[R.kind]);E.codecs=l.reduceCodecs(E.codecs,b);const D=c.clone(this._sendingRemoteRtpParametersByKind[R.kind]);D.codecs=l.reduceCodecs(D.codecs,b);const j=this._pc.addTransceiver(R,{direction:"sendonly",streams:[this._sendStream]});if(p){const K=j.sender.getParameters();K.encodings=p,await j.sender.setParameters(K)}const N=await this._pc.createOffer();let M=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:M});const A=(0,v.parse)((p??[{}])[0].scalabilityMode);w.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=j.mid;E.mid=O,M=n.parse(this._pc.localDescription.sdp);const V=M.media[M.media.length-1];if(E.rtcp.cname=u.getCname({offerMediaObject:V}),!p)E.encodings=d.getRtpEncodings({offerMediaObject:V});else if(p.length===1){const K=d.getRtpEncodings({offerMediaObject:V});Object.assign(K[0],p[0]),E.encodings=K}else E.encodings=p.reverse();if(E.encodings.length>1&&(E.codecs[0].mimeType.toLowerCase()==="video/vp8"||E.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const K of E.encodings)K.scalabilityMode?K.scalabilityMode=`L1T${A.temporalLayers}`:K.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:E,answerRtpParameters:D,codecOptions:h,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(O,j),{localId:O,rtpParameters:E,rtpSender:j.sender}}async stopSending(R){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",R),this._closed)return;const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.delete(R)}async pauseSending(R){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",R);const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(R);const h=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async resumeSending(R){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",R);const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(R);const h=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}async replaceTrack(R,p){this.assertNotClosed(),this.assertSendDirection(),p?w.debug("replaceTrack() [localId:%s, track.id:%s]",R,p.id):w.debug("replaceTrack() [localId:%s, no track]",R);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(p)}async setMaxSpatialLayer(R,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,p);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated transceiver not found");const b=h.sender.getParameters();p=b.encodings.length-1-p,b.encodings.forEach((j,N)=>{N>=p?j.active=!0:j.active=!1}),await h.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(R,b.encodings);const E=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(R,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,p);const h=this._mapMidTransceiver.get(R);if(!h)throw new Error("associated RTCRtpTransceiver not found");const b=h.sender.getParameters();b.encodings.forEach((j,N)=>{b.encodings[N]={...j,...p}}),await h.sender.setParameters(b),this._remoteSdp.muxMediaSectionSimulcast(R,b.encodings);const E=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(R){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:p,maxRetransmits:h,label:b,protocol:E}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:p,maxRetransmits:h,protocol:E};w.debug("sendDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(b,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),A=n.parse(M.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const V={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const N={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:j,sctpStreamParameters:N}}async receive(R){this.assertNotClosed(),this.assertRecvDirection();const p=[],h=new Map;for(const j of R){const{trackId:N,kind:M,rtpParameters:A,streamId:O}=j;w.debug("receive() [trackId:%s, kind:%s]",N,M);const V=A.mid??String(this._mapMidTransceiver.size);h.set(N,V),this._remoteSdp.receive({mid:V,kind:M,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:N})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);let E=await this._pc.createAnswer();const D=n.parse(E.sdp);for(const j of R){const{trackId:N,rtpParameters:M}=j,A=h.get(N),O=D.media.find(V=>String(V.mid)===A);u.applyCodecParameters({offerRtpParameters:M,answerMediaObject:O}),E={type:"answer",sdp:n.write(D)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",E),await this._pc.setLocalDescription(E);for(const j of R){const{trackId:N}=j,M=h.get(N),A=this._pc.getTransceivers().find(O=>O.mid===M);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(M,A),p.push({localId:M,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(R){if(this.assertRecvDirection(),this._closed)return;for(const b of R){w.debug("stopReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(E.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const b of R)this._mapMidTransceiver.delete(b)}async pauseReceiving(R){this.assertNotClosed(),this.assertRecvDirection();for(const b of R){w.debug("pauseReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="inactive",this._remoteSdp.pauseMediaSection(b)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async resumeReceiving(R){this.assertNotClosed(),this.assertRecvDirection();for(const b of R){w.debug("resumeReceiving() [localId:%s]",b);const E=this._mapMidTransceiver.get(b);if(!E)throw new Error("associated RTCRtpTransceiver not found");E.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(b)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async getReceiverStats(R){this.assertRecvDirection();const p=this._mapMidTransceiver.get(R);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:p,protocol:h}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:b,ordered:E,maxPacketLifeTime:D,maxRetransmits:j}=R,N={negotiated:!0,id:b,ordered:E,maxPacketLifeTime:D,maxRetransmits:j,protocol:h};w.debug("receiveDataChannel() [options:%o]",N);const M=this._pc.createDataChannel(p,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:R,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const h=u.extractDtlsParameters({sdpObject:p});h.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((b,E)=>{this.safeEmit("@connect",{dtlsParameters:h},b,E)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return On.Firefox60=C,On}var An={},z1;function a6(){if(z1)return An;z1=1;var e=An&&An.__createBinding||(Object.create?function(R,p,h,b){b===void 0&&(b=h);var E=Object.getOwnPropertyDescriptor(p,h);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(R,b,E)}:function(R,p,h,b){b===void 0&&(b=h),R[b]=p[h]}),t=An&&An.__setModuleDefault||(Object.create?function(R,p){Object.defineProperty(R,"default",{enumerable:!0,value:p})}:function(R,p){R.default=p}),r=An&&An.__importStar||function(R){if(R&&R.__esModule)return R;var p={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&e(p,R,h);return t(p,R),p};Object.defineProperty(An,"__esModule",{value:!0}),An.Safari12=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(_i()),d=r(mp()),m=Tr(),y=rn(),v=es(),w=ko(),S=new o.Logger("Safari12"),x="Safari12",C={OS:1024,MIS:1024};let T=class nT extends y.HandlerInterface{static createFactory(){return()=>new nT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const b=n.parse(h.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D,iceServers:j,iceTransportPolicy:N,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),S.debug("run()"),this._direction=p,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:N??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),S.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:b,codec:E,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",p.kind,p.id);const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const N=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);N.codecs=c.reduceCodecs(N.codecs,E);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream]});D&&D(A.sender);let O=await this._pc.createOffer(),V=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const K=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length>1&&(S.debug("send() | enabling legacy simulcast"),V=n.parse(O.sdp),W=V.media[M.idx],u.addLegacySimulcast({offerMediaObject:W,numStreams:h.length}),O={type:"offer",sdp:n.write(V)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const L=A.mid;if(j.mid=L,V=n.parse(this._pc.localDescription.sdp),W=V.media[M.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),j.encodings=u.getRtpEncodings({offerMediaObject:W}),h)for(let $=0;$<j.encodings.length;++$)h[$]&&Object.assign(j.encodings[$],h[$]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of j.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${K.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:M.reuseMid,offerRtpParameters:j,answerRtpParameters:N,codecOptions:b});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),this._mapMidTransceiver.set(L,A),{localId:L,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;S.debug("stopSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const E=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const b=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(p);const b=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):S.debug("replaceTrack() [localId:%s, no track]",p);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{M<=h?N.active=!0:N.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{E.encodings[M]={...N,...h}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:b,label:E,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:b,protocol:D};S.debug("sendDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:N,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],b=new Map;for(const N of p){const{trackId:M,kind:A,rtpParameters:O,streamId:V}=N;S.debug("receive() [trackId:%s, kind:%s]",M,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:M})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const N of p){const{trackId:M,onRtpReceiver:A}=N;if(A){const O=b.get(M),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const N of p){const{trackId:M,rtpParameters:A}=N,O=b.get(M),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const N of p){const{trackId:M}=N,A=b.get(M),O=this._pc.getTransceivers().find(V=>V.mid===A);if(!O)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver})}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const E of p){S.debug("stopReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of p)this._mapMidTransceiver.delete(E)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("pauseReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("resumeReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N}=p,M={negotiated:!0,id:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N,protocol:b};S.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:h});b.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((E,D)=>{this.safeEmit("@connect",{dtlsParameters:b},E,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return An.Safari12=T,An}var $n={},B1;function c6(){if(B1)return $n;B1=1;var e=$n&&$n.__createBinding||(Object.create?function(x,C,T,R){R===void 0&&(R=T);var p=Object.getOwnPropertyDescriptor(C,T);(!p||("get"in p?!C.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return C[T]}}),Object.defineProperty(x,R,p)}:function(x,C,T,R){R===void 0&&(R=T),x[R]=C[T]}),t=$n&&$n.__setModuleDefault||(Object.create?function(x,C){Object.defineProperty(x,"default",{enumerable:!0,value:C})}:function(x,C){x.default=C}),r=$n&&$n.__importStar||function(x){if(x&&x.__esModule)return x;var C={};if(x!=null)for(var T in x)T!=="default"&&Object.prototype.hasOwnProperty.call(x,T)&&e(C,x,T);return t(C,x),C};Object.defineProperty($n,"__esModule",{value:!0}),$n.Safari11=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(gp()),d=rn(),m=es(),y=new o.Logger("Safari11"),v="Safari11",w={OS:1024,MIS:1024};let S=class sT extends d.HandlerInterface{static createFactory(){return()=>new sT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return v}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const R=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:R})}catch(T){try{C.close()}catch{}throw T}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:C,iceParameters:T,iceCandidates:R,dtlsParameters:p,sctpParameters:h,iceServers:b,iceTransportPolicy:E,additionalSettings:D,proprietaryConstraints:j,extendedRtpCapabilities:N}){y.debug("run()"),this._direction=C,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:R,dtlsParameters:p,sctpParameters:h,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:b??[],iceTransportPolicy:E??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...D},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=C,this._pc.setConfiguration(T)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const R={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",R),await this._pc.setRemoteDescription(R)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const R=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",R),await this._pc.setLocalDescription(R)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:T,codecOptions:R,codec:p}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),p&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let h=await this._pc.createOffer(),b=n.parse(h.sdp),E;const D=a.clone(this._sendingRtpParametersByKind[C.kind]);D.codecs=c.reduceCodecs(D.codecs);const j=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:b}),C.kind==="video"&&T&&T.length>1&&(y.debug("send() | enabling simulcast"),b=n.parse(h.sdp),E=b.media.find(O=>O.type==="video"),u.addLegacySimulcast({offerMediaObject:E,track:C,numStreams:T.length}),h={type:"offer",sdp:n.write(b)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),b=n.parse(this._pc.localDescription.sdp),E=b.media.find(O=>O.type===C.kind),D.rtcp.cname=l.getCname({offerMediaObject:E}),D.encodings=u.getRtpEncodings({offerMediaObject:E,track:C}),T)for(let O=0;O<D.encodings.length;++O)T[O]&&Object.assign(D.encodings[O],T[O]);if(D.encodings.length>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of D.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:E,offerRtpParameters:D,answerRtpParameters:j,codecOptions:R});const N={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const M=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===C);return this._mapSendLocalIdRtpSender.set(M,A),{localId:M,rtpParameters:D,rtpSender:A}}async stopSending(C){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(C);if(!T)throw new Error("associated RTCRtpSender not found");T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(C);const R=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",R);try{await this._pc.setLocalDescription(R)}catch(h){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",h.toString());return}throw h}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,T){this.assertSendDirection(),T?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,T.id):y.debug("replaceTrack() [localId:%s, no track]",C);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.track;await R.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(C,T){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,T);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.getParameters();p.encodings.forEach((h,b)=>{b<=T?h.active=!0:h.active=!1}),await R.setParameters(p)}async setRtpEncodingParameters(C,T){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,T);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");const p=R.getParameters();p.encodings.forEach((h,b)=>{p.encodings[b]={...h,...T}}),await R.setParameters(p)}async getSenderStats(C){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(C);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:T,maxRetransmits:R,label:p,protocol:h}){this.assertSendDirection();const b={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:T,maxRetransmits:R,protocol:h};y.debug("sendDataChannel() [options:%o]",b);const E=this._pc.createDataChannel(p,b);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),N=n.parse(j.sdp),M=N.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:M});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const D={streamId:b.id,ordered:b.ordered,maxPacketLifeTime:b.maxPacketLifeTime,maxRetransmits:b.maxRetransmits};return{dataChannel:E,sctpStreamParameters:D}}async receive(C){this.assertRecvDirection();const T=[];for(const b of C){const{trackId:E,kind:D,rtpParameters:j,streamId:N}=b;y.debug("receive() [trackId:%s, kind:%s]",E,D);const M=D;this._remoteSdp.receive({mid:M,kind:D,offerRtpParameters:j,streamId:N??j.rtcp.cname,trackId:E})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);let p=await this._pc.createAnswer();const h=n.parse(p.sdp);for(const b of C){const{kind:E,rtpParameters:D}=b,j=E,N=h.media.find(M=>String(M.mid)===j);l.applyCodecParameters({offerRtpParameters:D,answerMediaObject:N})}p={type:"answer",sdp:n.write(h)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const b of C){const{kind:E,trackId:D,rtpParameters:j}=b,N=E,M=D,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===M);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(M,{mid:N,rtpParameters:j,rtpReceiver:A}),T.push({localId:M,track:A.track,rtpReceiver:A})}return T}async stopReceiving(C){this.assertRecvDirection();for(const p of C){y.debug("stopReceiving() [localId:%s]",p);const{mid:h,rtpParameters:b}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:h,offerRtpParameters:b})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const R=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",R),await this._pc.setLocalDescription(R)}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(C)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async pauseReceiving(C){}async resumeReceiving(C){}async receiveDataChannel({sctpStreamParameters:C,label:T,protocol:R}){this.assertRecvDirection();const{streamId:p,ordered:h,maxPacketLifeTime:b,maxRetransmits:E}=C,D={negotiated:!0,id:p,ordered:h,maxPacketLifeTime:b,maxRetransmits:E,protocol:R};y.debug("receiveDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(T,D);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const M=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(M.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setLocalDescription(M),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:C,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const R=l.extractDtlsParameters({sdpObject:T});R.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((p,h)=>{this.safeEmit("@connect",{dtlsParameters:R},p,h)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return $n.Safari11=S,$n}var Fn={},zn={},U1;function l6(){if(U1)return zn;U1=1;var e=zn&&zn.__createBinding||(Object.create?function(c,l,u,d){d===void 0&&(d=u);var m=Object.getOwnPropertyDescriptor(l,u);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(c,d,m)}:function(c,l,u,d){d===void 0&&(d=u),c[d]=l[u]}),t=zn&&zn.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=zn&&zn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var u in c)u!=="default"&&Object.prototype.hasOwnProperty.call(c,u)&&e(l,c,u);return t(l,c),l};Object.defineProperty(zn,"__esModule",{value:!0}),zn.getCapabilities=o,zn.mangleRtpParameters=a;const n=r(lr());function o(){const c=RTCRtpReceiver.getCapabilities(),l=n.clone(c);for(const u of l.codecs??[]){if(u.channels=u.numChannels,delete u.numChannels,u.mimeType=u.mimeType??`${u.kind}/${u.name}`,u.parameters){const d=u.parameters;d.apt&&(d.apt=Number(d.apt)),d["packetization-mode"]&&(d["packetization-mode"]=Number(d["packetization-mode"]))}for(const d of u.rtcpFeedback??[])d.parameter||(d.parameter="")}return l}function a(c){const l=n.clone(c);l.mid&&(l.muxId=l.mid,delete l.mid);for(const u of l.codecs)u.channels&&(u.numChannels=u.channels,delete u.channels),u.mimeType&&!u.name&&(u.name=u.mimeType.split("/")[1]),delete u.mimeType;return l}return zn}var V1;function u6(){if(V1)return Fn;V1=1;var e=Fn&&Fn.__createBinding||(Object.create?function(v,w,S,x){x===void 0&&(x=S);var C=Object.getOwnPropertyDescriptor(w,S);(!C||("get"in C?!w.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(v,x,C)}:function(v,w,S,x){x===void 0&&(x=S),v[x]=w[S]}),t=Fn&&Fn.__setModuleDefault||(Object.create?function(v,w){Object.defineProperty(v,"default",{enumerable:!0,value:w})}:function(v,w){v.default=w}),r=Fn&&Fn.__importStar||function(v){if(v&&v.__esModule)return v;var w={};if(v!=null)for(var S in v)S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)&&e(w,v,S);return t(w,v),w};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Edge11=void 0;const n=Vt(),o=Tr(),a=r(lr()),c=r(Ur()),l=r(l6()),u=rn(),d=new n.Logger("Edge11"),m="Edge11";let y=class oT extends u.HandlerInterface{static createFactory(){return()=>new oT}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return m}close(){d.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const w of this._rtpSenders.values())try{w.stop()}catch{}for(const w of this._rtpReceivers.values())try{w.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return d.debug("getNativeRtpCapabilities()"),l.getCapabilities()}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:w,iceParameters:S,iceCandidates:x,dtlsParameters:C,sctpParameters:T,iceServers:R,iceTransportPolicy:p,additionalSettings:h,proprietaryConstraints:b,extendedRtpCapabilities:E}){d.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",E),video:c.getSendingRtpParameters("video",E)},this._remoteIceParameters=S,this._remoteIceCandidates=x,this._remoteDtlsParameters=C,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:R,iceTransportPolicy:p}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(w){throw new o.UnsupportedError("not supported")}async restartIce(w){if(d.debug("restartIce()"),this._remoteIceParameters=w,!!this._transportReady){d.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,w,"controlling");for(const S of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(S);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:w,encodings:S,codecOptions:x,codec:C}){d.debug("send() [kind:%s, track.id:%s]",w.kind,w.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),d.debug("send() | calling new RTCRtpSender()");const T=new RTCRtpSender(w,this._dtlsTransport),R=a.clone(this._sendingRtpParametersByKind[w.kind]);R.codecs=c.reduceCodecs(R.codecs,C);const p=R.codecs.some(E=>/.+\/rtx$/i.test(E.mimeType));S||(S=[{}]);for(const E of S)E.ssrc=a.generateRandomNumber(),p&&(E.rtx={ssrc:a.generateRandomNumber()});R.encodings=S,R.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const h=l.mangleRtpParameters(R);d.debug("send() | calling rtpSender.send() [params:%o]",h),await T.send(h);const b=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(b,T),{localId:b,rtpParameters:R,rtpSender:T}}async stopSending(w){d.debug("stopSending() [localId:%s]",w);const S=this._rtpSenders.get(w);if(!S)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(w);try{d.debug("stopSending() | calling rtpSender.stop()"),S.stop()}catch(x){throw d.warn("stopSending() | rtpSender.stop() failed:%o",x),x}}async pauseSending(w){}async resumeSending(w){}async replaceTrack(w,S){S?d.debug("replaceTrack() [localId:%s, track.id:%s]",w,S.id):d.debug("replaceTrack() [localId:%s, no track]",w);const x=this._rtpSenders.get(w);if(!x)throw new Error("RTCRtpSender not found");x.setTrack(S)}async setMaxSpatialLayer(w,S){d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",w,S);const x=this._rtpSenders.get(w);if(!x)throw new Error("RTCRtpSender not found");const C=x.getParameters();C.encodings.forEach((T,R)=>{R<=S?T.active=!0:T.active=!1}),await x.setParameters(C)}async setRtpEncodingParameters(w,S){d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",w,S);const x=this._rtpSenders.get(w);if(!x)throw new Error("RTCRtpSender not found");const C=x.getParameters();C.encodings.forEach((T,R)=>{C.encodings[R]={...T,...S}}),await x.setParameters(C)}async getSenderStats(w){const S=this._rtpSenders.get(w);if(!S)throw new Error("RTCRtpSender not found");return S.getStats()}async sendDataChannel(w){throw new o.UnsupportedError("not implemented")}async receive(w){const S=[];for(const x of w){const{trackId:C,kind:T}=x;d.debug("receive() [trackId:%s, kind:%s]",C,T)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const x of w){const{trackId:C,kind:T,rtpParameters:R}=x;d.debug("receive() | calling new RTCRtpReceiver()");const p=new RTCRtpReceiver(this._dtlsTransport,T);p.addEventListener("error",E=>{d.error('rtpReceiver "error" event [event:%o]',E)});const h=l.mangleRtpParameters(R);d.debug("receive() | calling rtpReceiver.receive() [params:%o]",h),await p.receive(h);const b=C;this._rtpReceivers.set(b,p),S.push({localId:b,track:p.track,rtpReceiver:p})}return S}async stopReceiving(w){for(const S of w){d.debug("stopReceiving() [localId:%s]",S);const x=this._rtpReceivers.get(S);if(!x)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(S);try{d.debug("stopReceiving() | calling rtpReceiver.stop()"),x.stop()}catch(C){d.warn("stopReceiving() | rtpReceiver.stop() failed:%o",C)}}}async pauseReceiving(w){}async resumeReceiving(w){}async getReceiverStats(w){const S=this._rtpReceivers.get(w);if(!S)throw new Error("RTCRtpReceiver not found");return S.getStats()}async receiveDataChannel(w){throw new o.UnsupportedError("not implemented")}setIceGatherer({iceServers:w,iceTransportPolicy:S}){const x=new RTCIceGatherer({iceServers:w??[],gatherPolicy:S??"all"});x.addEventListener("error",C=>{d.error('iceGatherer "error" event [event:%o]',C)});try{x.gather()}catch(C){d.debug("setIceGatherer() | iceGatherer.gather() failed: %s",C.toString())}this._iceGatherer=x}setIceTransport(){const w=new RTCIceTransport(this._iceGatherer);w.addEventListener("statechange",()=>{switch(w.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),w.addEventListener("icestatechange",()=>{switch(w.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),w.addEventListener("candidatepairchange",S=>{d.debug('iceTransport "candidatepairchange" event [pair:%o]',S.pair)}),this._iceTransport=w}setDtlsTransport(){const w=new RTCDtlsTransport(this._iceTransport);w.addEventListener("statechange",()=>{d.debug('dtlsTransport "statechange" event [state:%s]',w.state)}),w.addEventListener("dtlsstatechange",()=>{d.debug('dtlsTransport "dtlsstatechange" event [state:%s]',w.state),w.state==="closed"&&this.emit("@connectionstatechange","closed")}),w.addEventListener("error",S=>{d.error('dtlsTransport "error" event [event:%o]',S)}),this._dtlsTransport=w}async setupTransport({localDtlsRole:w}){d.debug("setupTransport()");const S=this._dtlsTransport.getLocalParameters();S.role=w,await new Promise((x,C)=>{this.safeEmit("@connect",{dtlsParameters:S},x,C)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const x of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(x);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(x=>x.algorithm==="sha-256"||x.algorithm==="sha-384"||x.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return Fn.Edge11=y,Fn}var Bn={},H1;function d6(){if(H1)return Bn;H1=1;var e=Bn&&Bn.__createBinding||(Object.create?function(R,p,h,b){b===void 0&&(b=h);var E=Object.getOwnPropertyDescriptor(p,h);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(R,b,E)}:function(R,p,h,b){b===void 0&&(b=h),R[b]=p[h]}),t=Bn&&Bn.__setModuleDefault||(Object.create?function(R,p){Object.defineProperty(R,"default",{enumerable:!0,value:p})}:function(R,p){R.default=p}),r=Bn&&Bn.__importStar||function(R){if(R&&R.__esModule)return R;var p={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&e(p,R,h);return t(p,R),p};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.ReactNativeUnifiedPlan=void 0;const n=r(Vr()),o=Vt(),a=r(lr()),c=r(Ur()),l=r(Zn()),u=r(_i()),d=r(mp()),m=Tr(),y=rn(),v=es(),w=ko(),S=new o.Logger("ReactNativeUnifiedPlan"),x="ReactNativeUnifiedPlan",C={OS:1024,MIS:1024};let T=class iT extends y.HandlerInterface{static createFactory(){return()=>new iT}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return x}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const b=n.parse(h.sdp),E=l.extractRtpCapabilities({sdpObject:b});return d.addNackSuppportForOpus(E),E}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D,iceServers:j,iceTransportPolicy:N,additionalSettings:M,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),S.debug("run()"),this._direction=p,this._remoteSdp=new v.RemoteSdp({iceParameters:h,iceCandidates:b,dtlsParameters:E,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},E.role&&E.role!=="auto"&&(this._forcedLocalDtlsRole=E.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:N??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),S.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const b={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:b,codec:E,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1&&h.forEach((U,H)=>{U.rid=`r${H}`});const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,E);const N=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);N.codecs=c.reduceCodecs(N.codecs,E);const M=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});D&&D(A.sender);let O=await this._pc.createOffer(),V=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let K=!1;const L=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length===1&&L.spatialLayers>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(S.debug("send() | enabling legacy simulcast for VP9 SVC"),K=!0,V=n.parse(O.sdp),W=V.media[M.idx],u.addLegacySimulcast({offerMediaObject:W,numStreams:L.spatialLayers}),O={type:"offer",sdp:n.write(V)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);let F=A.mid??void 0;if(F||S.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),j.mid=F,V=n.parse(this._pc.localDescription.sdp),W=V.media[M.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),!h)j.encodings=u.getRtpEncodings({offerMediaObject:W});else if(h.length===1){let U=u.getRtpEncodings({offerMediaObject:W});Object.assign(U[0],h[0]),K&&(U=[U[0]]),j.encodings=U}else j.encodings=h;if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const U of j.encodings)U.scalabilityMode?U.scalabilityMode=`L1T${L.temporalLayers}`:U.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:M.reuseMid,offerRtpParameters:j,answerRtpParameters:N,codecOptions:b,extmapAllowMixed:!0});const $={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",$),await this._pc.setRemoteDescription($),F||(F=A.mid,j.mid=F),this._mapMidTransceiver.set(F,A),{localId:F,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;S.debug("stopSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const E=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const D={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const b=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const b=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const E={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):S.debug("replaceTrack() [localId:%s, no track]",p);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");await b.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{M<=h?N.active=!0:N.active=!1}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const b=this._mapMidTransceiver.get(p);if(!b)throw new Error("associated RTCRtpTransceiver not found");const E=b.sender.getParameters();E.encodings.forEach((N,M)=>{E.encodings[M]={...N,...h}}),await b.sender.setParameters(E),this._remoteSdp.muxMediaSectionSimulcast(p,E.encodings);const D=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:b,label:E,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:b,protocol:D};S.debug("sendDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(E,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const M={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:N,sctpStreamParameters:M}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],b=new Map;for(const N of p){const{trackId:M,kind:A,rtpParameters:O,streamId:V}=N;S.debug("receive() [trackId:%s, kind:%s]",M,A);const W=O.mid??String(this._mapMidTransceiver.size);b.set(M,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:M})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);for(const N of p){const{trackId:M,onRtpReceiver:A}=N;if(A){const O=b.get(M),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const N of p){const{trackId:M,rtpParameters:A}=N,O=b.get(M),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const N of p){const{trackId:M}=N,A=b.get(M),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const E of p){S.debug("stopReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const E of p)this._mapMidTransceiver.delete(E)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("pauseReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const E of p){S.debug("resumeReceiving() [localId:%s]",E);const D=this._mapMidTransceiver.get(E);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(E)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const b=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:b}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N}=p,M={negotiated:!0,id:E,ordered:D,maxPacketLifeTime:j,maxRetransmits:N,protocol:b};S.debug("receiveDataChannel() [options:%o]",M);const A=this._pc.createDataChannel(h,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const b=l.extractDtlsParameters({sdpObject:h});b.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((E,D)=>{this.safeEmit("@connect",{dtlsParameters:b},E,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Bn.ReactNativeUnifiedPlan=T,Bn}var Un={},W1;function f6(){if(W1)return Un;W1=1;var e=Un&&Un.__createBinding||(Object.create?function(C,T,R,p){p===void 0&&(p=R);var h=Object.getOwnPropertyDescriptor(T,R);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[R]}}),Object.defineProperty(C,p,h)}:function(C,T,R,p){p===void 0&&(p=R),C[p]=T[R]}),t=Un&&Un.__setModuleDefault||(Object.create?function(C,T){Object.defineProperty(C,"default",{enumerable:!0,value:T})}:function(C,T){C.default=T}),r=Un&&Un.__importStar||function(C){if(C&&C.__esModule)return C;var T={};if(C!=null)for(var R in C)R!=="default"&&Object.prototype.hasOwnProperty.call(C,R)&&e(T,C,R);return t(T,C),T};Object.defineProperty(Un,"__esModule",{value:!0}),Un.ReactNative=void 0;const n=r(Vr()),o=Vt(),a=Tr(),c=r(lr()),l=r(Ur()),u=r(Zn()),d=r(gp()),m=rn(),y=es(),v=new o.Logger("ReactNative"),w="ReactNative",S={OS:1024,MIS:1024};let x=class aT extends m.HandlerInterface{static createFactory(){return()=>new aT}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const R=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(R.sdp);return u.extractRtpCapabilities({sdpObject:p})}catch(R){try{T.close()}catch{}throw R}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:T,iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b,iceServers:E,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:N,extendedRtpCapabilities:M}){v.debug("run()"),this._direction=T,this._remoteSdp=new y.RemoteSdp({iceParameters:R,iceCandidates:p,dtlsParameters:h,sctpParameters:b,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",M),video:l.getSendingRtpParameters("video",M)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",M),video:l.getSendingRemoteRtpParameters("video",M)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){v.debug("updateIceServers()");const R=this._pc.getConfiguration();R.iceServers=T,this._pc.setConfiguration(R)}async restartIce(T){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const R=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R);const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:R,codecOptions:p,codec:h}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),h&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let b=await this._pc.createOffer(),E=n.parse(b.sdp),D;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const N=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(N.codecs=l.reduceCodecs(N.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),T.kind==="video"&&R&&R.length>1&&(v.debug("send() | enabling simulcast"),E=n.parse(b.sdp),D=E.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:D,track:T,numStreams:R.length}),b={type:"offer",sdp:n.write(E)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b),E=n.parse(this._pc.localDescription.sdp),D=E.media.find(O=>O.type===T.kind),j.rtcp.cname=u.getCname({offerMediaObject:D}),j.encodings=d.getRtpEncodings({offerMediaObject:D,track:T}),R)for(let O=0;O<j.encodings.length;++O)R[O]&&Object.assign(j.encodings[O],R[O]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:D,offerRtpParameters:j,answerRtpParameters:N,codecOptions:p});const M={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",T);const R=this._mapSendLocalIdTrack.get(T);if(!R)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(R),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(b){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",b.toString());return}throw b}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,R){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,R){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(T,R){throw new a.UnsupportedError("not implemented")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:R,maxRetransmits:p,label:h,protocol:b}){this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:R,maxRetransmitTime:R,maxRetransmits:p,protocol:b};v.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),M=n.parse(N.sdp),A=M.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const R=[],p=new Map;for(const D of T){const{trackId:j,kind:N,rtpParameters:M}=D;v.debug("receive() [trackId:%s, kind:%s]",j,N);const A=N;let O=D.streamId??M.rtcp.cname;v.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),O+=`-hack-${c.generateRandomNumber()}`,p.set(j,O),this._remoteSdp.receive({mid:A,kind:N,offerRtpParameters:M,streamId:O,trackId:j})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let b=await this._pc.createAnswer();const E=n.parse(b.sdp);for(const D of T){const{kind:j,rtpParameters:N}=D,M=j,A=E.media.find(O=>String(O.mid)===M);u.applyCodecParameters({offerRtpParameters:N,answerMediaObject:A})}b={type:"answer",sdp:n.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b);for(const D of T){const{kind:j,trackId:N,rtpParameters:M}=D,A=N,O=j,V=p.get(N),K=this._pc.getRemoteStreams().find(L=>L.id===V).getTrackById(A);if(!K)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:O,rtpParameters:M}),R.push({localId:A,track:K})}return R}async stopReceiving(T){this.assertRecvDirection();for(const h of T){v.debug("stopReceiving() [localId:%s]",h);const{mid:b,rtpParameters:E}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:b,offerRtpParameters:E})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const p=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:R,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:b,maxPacketLifeTime:E,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:b,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:D,protocol:p};v.debug("receiveDataChannel() [options:%o]",j);const N=this._pc.createDataChannel(R,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const M={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:T,localSdpObject:R}){R||(R=n.parse(this._pc.localDescription.sdp));const p=u.extractDtlsParameters({sdpObject:R});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,b)=>{this.safeEmit("@connect",{dtlsParameters:p},h,b)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Un.ReactNative=x,Un}var q1;function cT(){if(q1)return un;q1=1;var e=un&&un.__createBinding||(Object.create?function(N,M,A,O){O===void 0&&(O=A);var V=Object.getOwnPropertyDescriptor(M,A);(!V||("get"in V?!M.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return M[A]}}),Object.defineProperty(N,O,V)}:function(N,M,A,O){O===void 0&&(O=A),N[O]=M[A]}),t=un&&un.__setModuleDefault||(Object.create?function(N,M){Object.defineProperty(N,"default",{enumerable:!0,value:M})}:function(N,M){N.default=M}),r=un&&un.__importStar||function(N){if(N&&N.__esModule)return N;var M={};if(N!=null)for(var A in N)A!=="default"&&Object.prototype.hasOwnProperty.call(N,A)&&e(M,N,A);return t(M,N),M};Object.defineProperty(un,"__esModule",{value:!0}),un.Device=void 0,un.detectDevice=D;const n=H5(),o=Vt(),a=bi(),c=Tr(),l=r(lr()),u=r(Ur()),d=KE(),m=e6(),y=t6(),v=r6(),w=n6(),S=s6(),x=o6(),C=i6(),T=a6(),R=c6(),p=u6(),h=d6(),b=f6(),E=new o.Logger("Device");function D(N){var M,A,O,V;if(!N&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(E.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){E.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(E.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(E.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(N||typeof navigator=="object"&&typeof navigator.userAgent=="string"){N??(N=navigator.userAgent);const W=new n.UAParser(N);E.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",N,W.getResult());const K=W.getBrowser(),L=(M=K.name)==null?void 0:M.toLowerCase(),F=parseInt(K.major??"0"),U=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),H=W.getOS(),z=(O=H.name)==null?void 0:O.toLowerCase(),G=parseFloat(H.version??"0"),de=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),J=z==="ios"||de==="ipad",oe=L&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(L),ue=L&&["firefox","mobile firefox","mobile focus"].includes(L),ve=L&&["safari","mobile safari"].includes(L),we=L&&["edge"].includes(L);if((oe||we)&&!J&&F>=111)return"Chrome111";if(oe&&!J&&F>=74||we&&!J&&F>=88)return"Chrome74";if(oe&&!J&&F>=70)return"Chrome70";if(oe&&!J&&F>=67)return"Chrome67";if(oe&&!J&&F>=55)return"Chrome55";if(ue&&!J&&F>=120)return"Firefox120";if(ue&&!J&&F>=60)return"Firefox60";if(ue&&J&&G>=14.3)return"Safari12";if(ve&&F>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(ve&&F>=11)return"Safari11";if(we&&!J&&F>=11&&F<=18)return"Edge11";if(U==="webkit"&&J&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(U==="blink"){const Ne=N.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Ne){const ae=Number(Ne[1]);return ae>=111?"Chrome111":ae>=74?"Chrome74":ae>=70?"Chrome70":ae>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{E.warn("detectDevice() | browser not supported [name:%s, version:%s]",L,F);return}}else{E.warn("detectDevice() | unknown device");return}}let j=class{constructor({handlerName:M,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,E.debug("constructor()"),M&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(M)E.debug("constructor() | handler given: %s",M);else if(M=D(),M)E.debug("constructor() | detected handler: %s",M);else throw new c.UnsupportedError("device not supported");switch(M){case"Chrome111":{this._handlerFactory=m.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=y.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=v.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=w.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=S.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=x.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=C.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=T.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=R.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=p.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=h.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=b.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${M}"`)}}const O=this._handlerFactory();this._handlerName=O.name,O.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:M}){E.debug("load() [routerRtpCapabilities:%o]",M);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const O=l.clone(M);u.validateRtpCapabilities(O),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();E.debug("load() | got native RTP capabilities:%o",V);const W=l.clone(V);u.validateRtpCapabilities(W),this._extendedRtpCapabilities=u.getExtendedRtpCapabilities(W,O),E.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=u.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=u.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=u.getRecvRtpCapabilities(this._extendedRtpCapabilities),u.validateRtpCapabilities(this._recvRtpCapabilities),E.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),E.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),u.validateSctpCapabilities(this._sctpCapabilities),E.debug("load() succeeded"),this._loaded=!0,A.close()}catch(O){throw A&&A.close(),O}}canProduce(M){if(this._loaded){if(M!=="audio"&&M!=="video")throw new TypeError(`invalid kind "${M}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[M]}createSendTransport({id:M,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:U}){return E.debug("createSendTransport()"),this.createTransport({direction:"send",id:M,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:U})}createRecvTransport({id:M,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:U}){return E.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:M,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:L,additionalSettings:F,proprietaryConstraints:$,appData:U})}createTransport({direction:M,id:A,iceParameters:O,iceCandidates:V,dtlsParameters:W,sctpParameters:K,iceServers:L,iceTransportPolicy:F,additionalSettings:$,proprietaryConstraints:U,appData:H}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof O!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(K&&typeof K!="object")throw new TypeError("wrong sctpParameters");if(H&&typeof H!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const z=new d.Transport({direction:M,id:A,iceParameters:O,iceCandidates:V,dtlsParameters:W,sctpParameters:K,iceServers:L,iceTransportPolicy:F,additionalSettings:$,proprietaryConstraints:U,appData:H,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",z),z}};return un.Device=j,un}var qo={},lg={},G1;function p6(){return G1||(G1=1,Object.defineProperty(lg,"__esModule",{value:!0})),lg}var ug={},K1;function h6(){return K1||(K1=1,Object.defineProperty(ug,"__esModule",{value:!0})),ug}var X1;function m6(){return X1||(X1=1,function(e){var t=qo&&qo.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(o,a);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,l)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=qo&&qo.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(cT(),e),r(KE(),e),r(HE(),e),r(WE(),e),r(qE(),e),r(GE(),e),r(p6(),e),r(h6(),e),r(rn(),e),r(Tr(),e)}(qo)),qo}var Y1;function g6(){return Y1||(Y1=1,function(e){var t=kn&&kn.__createBinding||(Object.create?function(d,m,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(m,y);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(d,v,w)}:function(d,m,y,v){v===void 0&&(v=y),d[v]=m[y]}),r=kn&&kn.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),n=kn&&kn.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&t(m,d,y);return r(m,d),m},o=kn&&kn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=o(hp());e.debug=a.default;const c=cT();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=n(m6());e.types=l,e.version="3.7.17";var u=ko();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return u.parse}})}(kn)),kn}var v6=g6();const y6=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],w6=async(e,t,r,n,o)=>new Promise((a,c)=>{et.emit("joinRoom",{roomName:e,userName:t,userId:r,serverId:n,accessToken:o},l=>{l.error?c(l.error):a(l.rtpCapabilities)})}),S6=async e=>{const t=new v6.Device;return await t.load({routerRtpCapabilities:e}),t},b6=async(e,t,r,n)=>new Promise((o,a)=>{et.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const l=e.createSendTransport(c);l.on("connect",({dtlsParameters:d},m)=>{et.emit("transport-connect",{dtlsParameters:d}),m()}),l.on("produce",(d,m)=>{const y=localStorage.getItem("accessToken");et.emit("transport-produce",{kind:d.kind,rtpParameters:d.rtpParameters,appData:d.appData,accessToken:y},({id:v})=>{m({id:v}),_6(et,e,n)})});const u=await l.produce({track:t});r(u),o(l),u.on("trackended",()=>{r(null)})})}),_6=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(o=>lT(o,t,r))})},lT=async(e,t,r)=>{et.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const o=t.createRecvTransport(n);o.on("connect",({dtlsParameters:a},c)=>{et.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),x6(o,e,n.id,t,r)})},x6=async(e,t,r,n,o)=>{et.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const{source:c,...l}=a,u=await e.consume({...l,appData:{source:c}});console.log(u.appData.source),o(u),et.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},ot=QD,ge=tj,C6=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:o}=Si();return async(c,l,u,d,m)=>{try{if(!et.connected)throw new Error("Socket is not connected");const y=await y6(),v=await w6(c,l,u,d,m),w=await S6(v);r(w);const S=await b6(w,y,t,o);n(S),e(!0),console.log("Connected successfully")}catch(y){console.error("Error connecting:",y),e(!1)}}},vl=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:o,setIsStreaming:a,setAudioProducer:c,setVideoAudioProducer:l}=Si();return async(d,m)=>{o(!1),await new Promise(y=>{et.once("leaveConfirmed",y),et.emit("leaveRoom",{accessToken:d,voiceChannelId:m})}),e(!1),t(null),n([]),a(!1),c(null),r(null),l(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:c,...l},u)=>P.createElement("svg",{ref:u,...E6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:uT("lucide",o),...l},[...c.map(([d,m])=>P.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=P.forwardRef(({className:n,...o},a)=>P.createElement(T6,{ref:a,iconNode:t,className:uT(`lucide-${R6(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dT=Ue("ArrowDown",k6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],D6=Ue("ArrowLeftFromLine",P6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hw=Ue("ArrowLeft",j6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],M6=Ue("Ban",I6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],L6=Ue("BookUser",N6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fT=Ue("Calendar",O6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mw=Ue("Check",A6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vp=Ue("ChevronDown",$6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z6=Ue("ChevronLeft",F6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ca=Ue("ChevronRight",B6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V6=Ue("CircleCheck",U6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],W6=Ue("CirclePlus",H6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],G6=Ue("CircleX",q6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gw=Ue("Copy",K6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],dv=Ue("DoorOpen",X6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],J6=Ue("File",Y6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Z6=Ue("Hash",Q6);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],t8=Ue("House",e8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],n8=Ue("ListChecks",r8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],pT=Ue("LogOut",s8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],i8=Ue("Mail",o8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],c8=Ue("Menu",a8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],u8=Ue("MessageCircle",l8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]],f8=Ue("MessageSquareWarning",d8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],h8=Ue("MessagesSquare",p8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],hT=Ue("MicOff",m8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],v8=Ue("Mic",g8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],w8=Ue("MonitorUp",y8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],b8=Ue("MonitorX",S8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],mT=Ue("Paperclip",_8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],C8=Ue("Pen",x8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yp=Ue("Pencil",R8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],T8=Ue("PhoneMissed",E8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],li=Ue("Plus",k8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wp=Ue("Save",P8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],j8=Ue("Search",D8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gT=Ue("Send",I8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yl=Ue("Settings",M8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L8=Ue("Tag",N8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vw=Ue("Trash2",O8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],$8=Ue("Unplug",A8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],z8=Ue("Upload",F8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],U8=Ue("UserCheck",B8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],H8=Ue("UserPen",V8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],q8=Ue("UserMinus",W8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K8=Ue("UserPlus",G8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],vT=Ue("UserRoundCog",X8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],J8=Ue("UserRoundPen",Y8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yT=Ue("User",Q8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],eF=Ue("UsersRound",Z8);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],wT=Ue("Users",tF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fv=Ue("Video",rF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ST=Ue("Volume2",nF);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],la=Ue("X",sF);function Xt(){return{showSuccess:n=>{Ds.show({message:n,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:g.jsx(V6,{})})},showError:n=>{Ds.show({title:"",message:n,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:g.jsx(G6,{})})},showMessage:n=>{Ds.show({title:"",message:n,position:"top-right",color:"yellow",radius:"md",autoClose:5e3,icon:g.jsx(f8,{})})}}}const oF=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n,videoAudioProducer:o,setVideoAudioProducer:a}=Si(),c=P.useRef(null),l=P.useRef(null),u=async()=>{const m=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),y=m.getVideoTracks()[0],v=await r.produce({track:y,appData:{source:"screen-video"}});t(v),c.current=v.id,v.on("trackended",d);const w=m.getAudioTracks()[0];if(w){const S=await r.produce({track:w,appData:{source:"screen-audio"}});a(S),l.current=S.id,S.on("trackended",d)}n(!0)},d=async()=>{const m=localStorage.getItem("accessToken");e?(e.close(),et.emit("stopProducer",{producerId:e.id,accessToken:m})):et.emit("stopProducer",{producerId:c.current,accessToken:m}),o?(o.close(),et.emit("stopProducer",{producerId:o.id,accessToken:m})):et.emit("stopProducer",{producerId:l.current,accessToken:m}),c.current=null,l.current=null,t(null),a(null),n(!1)};return{startScreenSharing:u,stopScreenSharing:d}};var Ft=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(Ft||{}),bT=(e=>(e[e.NotMuted=0]="NotMuted",e[e.SelfMuted=1]="SelfMuted",e[e.Muted=2]="Muted",e))(bT||{}),Sp=(e=>(e[e.Classic=0]="Classic",e[e.Vote=1]="Vote",e))(Sp||{});function sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iF=typeof Symbol=="function"&&Symbol.observable||"@@observable",J1=iF,dg=()=>Math.random().toString(36).substring(7).split("").join("."),aF={INIT:`@@redux/INIT${dg()}`,REPLACE:`@@redux/REPLACE${dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dg()}`},af=aF;function yw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _T(e,t,r){if(typeof e!="function")throw new Error(sr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(sr(1));return r(_T)(e,t)}let n=e,o=t,a=new Map,c=a,l=0,u=!1;function d(){c===a&&(c=new Map,a.forEach((C,T)=>{c.set(T,C)}))}function m(){if(u)throw new Error(sr(3));return o}function y(C){if(typeof C!="function")throw new Error(sr(4));if(u)throw new Error(sr(5));let T=!0;d();const R=l++;return c.set(R,C),function(){if(T){if(u)throw new Error(sr(6));T=!1,d(),c.delete(R),a=null}}}function v(C){if(!yw(C))throw new Error(sr(7));if(typeof C.type>"u")throw new Error(sr(8));if(typeof C.type!="string")throw new Error(sr(17));if(u)throw new Error(sr(9));try{u=!0,o=n(o,C)}finally{u=!1}return(a=c).forEach(R=>{R()}),C}function w(C){if(typeof C!="function")throw new Error(sr(10));n=C,v({type:af.REPLACE})}function S(){const C=y;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(sr(11));function R(){const h=T;h.next&&h.next(m())}return R(),{unsubscribe:C(R)}},[J1](){return this}}}return v({type:af.INIT}),{dispatch:v,subscribe:y,getState:m,replaceReducer:w,[J1]:S}}function cF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:af.INIT})>"u")throw new Error(sr(12));if(typeof r(void 0,{type:af.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function lF(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let o;try{cF(r)}catch(a){o=a}return function(c={},l){if(o)throw o;let u=!1;const d={};for(let m=0;m<n.length;m++){const y=n[m],v=r[y],w=c[y],S=v(w,l);if(typeof S>"u")throw l&&l.type,new Error(sr(14));d[y]=S,u=u||S!==w}return u=u||n.length!==Object.keys(c).length,u?d:c}}function cf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function uF(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(sr(15))};const c={getState:o.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(c));return a=cf(...l)(o.dispatch),{...o,dispatch:a}}}function dF(e){return yw(e)&&"type"in e&&typeof e.type=="string"}var xT=Symbol.for("immer-nothing"),Q1=Symbol.for("immer-draftable"),Zr=Symbol.for("immer-state");function Wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ga=Object.getPrototypeOf;function ui(e){return!!e&&!!e[Zr]}function Os(e){var t;return e?CT(e)||Array.isArray(e)||!!e[Q1]||!!((t=e.constructor)!=null&&t[Q1])||_p(e)||xp(e):!1}var fF=Object.prototype.constructor.toString();function CT(e){if(!e||typeof e!="object")return!1;const t=ga(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===fF}function lf(e,t){bp(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function bp(e){const t=e[Zr];return t?t.type_:Array.isArray(e)?1:_p(e)?2:xp(e)?3:0}function pv(e,t){return bp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RT(e,t,r){const n=bp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function pF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _p(e){return e instanceof Map}function xp(e){return e instanceof Set}function Xo(e){return e.copy_||e.base_}function hv(e,t){if(_p(e))return new Map(e);if(xp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=CT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Zr];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const c=o[a],l=n[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(ga(e),n)}else{const n=ga(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function ww(e,t=!1){return Cp(e)||ui(e)||!Os(e)||(bp(e)>1&&(e.set=e.add=e.clear=e.delete=hF),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>ww(n,!0))),e}function hF(){Wn(2)}function Cp(e){return Object.isFrozen(e)}var mF={};function di(e){const t=mF[e];return t||Wn(0,e),t}var tl;function ET(){return tl}function gF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z1(e,t){t&&(di("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mv(e){gv(e),e.drafts_.forEach(vF),e.drafts_=null}function gv(e){e===tl&&(tl=e.parent_)}function ex(e){return tl=gF(tl,e)}function vF(e){const t=e[Zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Zr].modified_&&(mv(t),Wn(4)),Os(e)&&(e=uf(t,e),t.parent_||df(t,e)),t.patches_&&di("Patches").generateReplacementPatches_(r[Zr].base_,e,t.patches_,t.inversePatches_)):e=uf(t,r,[]),mv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xT?e:void 0}function uf(e,t,r){if(Cp(t))return t;const n=t[Zr];if(!n)return lf(t,(o,a)=>rx(e,n,t,o,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return df(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let a=o,c=!1;n.type_===3&&(a=new Set(o),o.clear(),c=!0),lf(a,(l,u)=>rx(e,n,o,l,u,r,c)),df(e,o,!1),r&&e.patches_&&di("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function rx(e,t,r,n,o,a,c){if(ui(o)){const l=a&&t&&t.type_!==3&&!pv(t.assigned_,n)?a.concat(n):void 0,u=uf(e,o,l);if(RT(r,n,u),ui(u))e.canAutoFreeze_=!1;else return}else c&&r.add(o);if(Os(o)&&!Cp(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;uf(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&df(e,o)}}function df(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ww(t,r)}function yF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ET(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=Sw;r&&(o=[n],a=rl);const{revoke:c,proxy:l}=Proxy.revocable(o,a);return n.draft_=l,n.revoke_=c,l}var Sw={get(e,t){if(t===Zr)return e;const r=Xo(e);if(!pv(r,t))return wF(e,r,t);const n=r[t];return e.finalized_||!Os(n)?n:n===fg(e.base_,t)?(pg(e),e.copy_[t]=yv(n,e)):n},has(e,t){return t in Xo(e)},ownKeys(e){return Reflect.ownKeys(Xo(e))},set(e,t,r){const n=TT(Xo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=fg(Xo(e),t),a=o==null?void 0:o[Zr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(pF(r,o)&&(r!==void 0||pv(e.base_,t)))return!0;pg(e),vv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,pg(e),vv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Wn(11)},getPrototypeOf(e){return ga(e.base_)},setPrototypeOf(){Wn(12)}},rl={};lf(Sw,(e,t)=>{rl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rl.deleteProperty=function(e,t){return rl.set.call(this,e,t,void 0)};rl.set=function(e,t,r){return Sw.set.call(this,e[0],t,r,e[0])};function fg(e,t){const r=e[Zr];return(r?Xo(r):e)[t]}function wF(e,t,r){var o;const n=TT(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function TT(e,t){if(!(t in e))return;let r=ga(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ga(r)}}function vv(e){e.modified_||(e.modified_=!0,e.parent_&&vv(e.parent_))}function pg(e){e.copy_||(e.copy_=hv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(u=a,...d){return c.produce(u,m=>r.call(this,m,...d))}}typeof r!="function"&&Wn(6),n!==void 0&&typeof n!="function"&&Wn(7);let o;if(Os(t)){const a=ex(this),c=yv(t,void 0);let l=!0;try{o=r(c),l=!1}finally{l?mv(a):gv(a)}return Z1(a,n),tx(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===xT&&(o=void 0),this.autoFreeze_&&ww(o,!0),n){const a=[],c=[];di("Patches").generateReplacementPatches_(t,o,a,c),n(a,c)}return o}else Wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,u=>t(u,...l));let n,o;return[this.produce(t,r,(c,l)=>{n=c,o=l}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Os(e)||Wn(8),ui(e)&&(e=bF(e));const t=ex(this),r=yv(e,void 0);return r[Zr].isManual_=!0,gv(t),r}finishDraft(e,t){const r=e&&e[Zr];(!r||!r.isManual_)&&Wn(9);const{scope_:n}=r;return Z1(n,t),tx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=di("Patches").applyPatches_;return ui(e)?n(e,t):this.produce(e,o=>n(o,t))}};function yv(e,t){const r=_p(e)?di("MapSet").proxyMap_(e,t):xp(e)?di("MapSet").proxySet_(e,t):yF(e,t);return(t?t.scope_:ET()).drafts_.push(r),r}function bF(e){return ui(e)||Wn(10,e),kT(e)}function kT(e){if(!Os(e)||Cp(e))return e;const t=e[Zr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=hv(e,!0);return lf(r,(n,o)=>{RT(r,n,kT(o))}),t&&(t.finalized_=!1),r}var en=new SF,PT=en.produce;en.produceWithPatches.bind(en);en.setAutoFreeze.bind(en);en.setUseStrictShallowCopy.bind(en);en.applyPatches.bind(en);en.createDraft.bind(en);en.finishDraft.bind(en);function DT(e){return({dispatch:r,getState:n})=>o=>a=>typeof a=="function"?a(r,n,e):o(a)}var _F=DT(),xF=DT,CF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cf:cf.apply(null,arguments)},RF=e=>e&&typeof e.match=="function";function Uc(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(js(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dF(n)&&n.type===e,r}var jT=class zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zc.prototype)}static get[Symbol.species](){return zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zc(...t[0].concat(this)):new zc(...t.concat(this))}};function nx(e){return Os(e)?PT(e,()=>{}):e}function sx(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function EF(e){return typeof e=="boolean"}var TF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let c=new jT;return r&&(EF(r)?c.push(_F):c.push(xF(r.extraArgument))),c},kF="RTK_autoBatch",ox=e=>t=>{setTimeout(t,e)},PF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,a=!1,c=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ox(10):e.type==="callback"?e.queueNotification:ox(e.timeout),d=()=>{c=!1,a&&(a=!1,l.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const y=()=>o&&m(),v=n.subscribe(y);return l.add(m),()=>{v(),l.delete(m)}},dispatch(m){var y;try{return o=!((y=m==null?void 0:m.meta)!=null&&y[kF]),a=!o,a&&(c||(c=!0,u(d))),n.dispatch(m)}finally{o=!0}}})},DF=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new jT(e);return n&&o.push(PF(typeof n=="object"?n:void 0)),o};function jF(e){const t=TF(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(yw(r))l=lF(r);else throw new Error(js(1));let u;typeof n=="function"?u=n(t):u=t();let d=cf;o&&(d=CF({trace:!1,...typeof o=="object"&&o}));const m=uF(...u),y=DF(m);let v=typeof c=="function"?c(y):y();const w=d(...v);return _T(l,a,w)}function IT(e){const t={},r=[];let n;const o={addCase(a,c){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(js(28));if(l in t)throw new Error(js(29));return t[l]=c,o},addMatcher(a,c){return r.push({matcher:a,reducer:c}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function IF(e){return typeof e=="function"}function MF(e,t){let[r,n,o]=IT(t),a;if(IF(e))a=()=>nx(e());else{const l=nx(e);a=()=>l}function c(l=a(),u){let d=[r[u.type],...n.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[o]),d.reduce((m,y)=>{if(y)if(ui(m)){const w=y(m,u);return w===void 0?m:w}else{if(Os(m))return PT(m,v=>y(v,u));{const v=y(m,u);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},l)}return c.getInitialState=a,c}var NF=(e,t)=>RF(e)?e.match(t):e(t);function xr(...e){return t=>e.some(r=>NF(r,t))}var LF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OF=(e=21)=>{let t="",r=e;for(;r--;)t+=LF[Math.random()*64|0];return t},AF=["name","message","stack","code"],hg=class{constructor(e,t){ym(this,"_type");this.payload=e,this.meta=t}},ix=class{constructor(e,t){ym(this,"_type");this.payload=e,this.meta=t}},$F=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of AF)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},ax="External signal was aborted",Me=(()=>{function e(t,r,n){const o=Uc(t+"/fulfilled",(u,d,m,y)=>({payload:u,meta:{...y||{},arg:m,requestId:d,requestStatus:"fulfilled"}})),a=Uc(t+"/pending",(u,d,m)=>({payload:void 0,meta:{...m||{},arg:d,requestId:u,requestStatus:"pending"}})),c=Uc(t+"/rejected",(u,d,m,y,v)=>({payload:y,error:(n&&n.serializeError||$F)(u||"Rejected"),meta:{...v||{},arg:m,requestId:d,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function l(u,{signal:d}={}){return(m,y,v)=>{const w=n!=null&&n.idGenerator?n.idGenerator(u):OF(),S=new AbortController;let x,C;function T(p){C=p,S.abort()}d&&(d.aborted?T(ax):d.addEventListener("abort",()=>T(ax),{once:!0}));const R=async function(){var b,E;let p;try{let D=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,u,{getState:y,extra:v});if(zF(D)&&(D=await D),D===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const j=new Promise((N,M)=>{x=()=>{M({name:"AbortError",message:C||"Aborted"})},S.signal.addEventListener("abort",x)});m(a(w,u,(E=n==null?void 0:n.getPendingMeta)==null?void 0:E.call(n,{requestId:w,arg:u},{getState:y,extra:v}))),p=await Promise.race([j,Promise.resolve(r(u,{dispatch:m,getState:y,extra:v,requestId:w,signal:S.signal,abort:T,rejectWithValue:(N,M)=>new hg(N,M),fulfillWithValue:(N,M)=>new ix(N,M)})).then(N=>{if(N instanceof hg)throw N;return N instanceof ix?o(N.payload,w,u,N.meta):o(N,w,u)})])}catch(D){p=D instanceof hg?c(null,w,u,D.payload,D.meta):c(D,w,u)}finally{x&&S.signal.removeEventListener("abort",x)}return n&&!n.dispatchConditionRejection&&c.match(p)&&p.meta.condition||m(p),p}();return Object.assign(R,{abort:T,requestId:w,arg:u,unwrap(){return R.then(FF)}})}}return Object.assign(l,{pending:a,rejected:c,fulfilled:o,settled:xr(c,o),typePrefix:t})}return e.withTypes=()=>e,e})();function FF(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zF(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var BF=Symbol.for("rtk-slice-createasyncthunk");function UF(e,t){return`${e}/${t}`}function VF({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[BF];return function(o){const{name:a,reducerPath:c=a}=o;if(!a)throw new Error(js(11));const l=(typeof o.reducers=="function"?o.reducers(WF()):o.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(p,h){const b=typeof p=="string"?p:p.type;if(!b)throw new Error(js(12));if(b in d.sliceCaseReducersByType)throw new Error(js(13));return d.sliceCaseReducersByType[b]=h,m},addMatcher(p,h){return d.sliceMatchers.push({matcher:p,reducer:h}),m},exposeAction(p,h){return d.actionCreators[p]=h,m},exposeCaseReducer(p,h){return d.sliceCaseReducersByName[p]=h,m}};u.forEach(p=>{const h=l[p],b={reducerName:p,type:UF(a,p),createNotation:typeof o.reducers=="function"};GF(h)?XF(b,h,m,t):qF(b,h,m)});function y(){const[p={},h=[],b=void 0]=typeof o.extraReducers=="function"?IT(o.extraReducers):[o.extraReducers],E={...p,...d.sliceCaseReducersByType};return MF(o.initialState,D=>{for(let j in E)D.addCase(j,E[j]);for(let j of d.sliceMatchers)D.addMatcher(j.matcher,j.reducer);for(let j of h)D.addMatcher(j.matcher,j.reducer);b&&D.addDefaultCase(b)})}const v=p=>p,w=new Map;let S;function x(p,h){return S||(S=y()),S(p,h)}function C(){return S||(S=y()),S.getInitialState()}function T(p,h=!1){function b(D){let j=D[p];return typeof j>"u"&&h&&(j=C()),j}function E(D=v){const j=sx(w,h,()=>new WeakMap);return sx(j,D,()=>{const N={};for(const[M,A]of Object.entries(o.selectors??{}))N[M]=HF(A,D,C,h);return N})}return{reducerPath:p,getSelectors:E,get selectors(){return E(b)},selectSlice:b}}const R={name:a,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...T(c),injectInto(p,{reducerPath:h,...b}={}){const E=h??c;return p.inject({reducerPath:E,reducer:x},b),{...R,...T(E,!0)}}};return R}}function HF(e,t,r,n){function o(a,...c){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...c)}return o.unwrapped=e,o}var ja=VF();function WF(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function qF({type:e,reducerName:t,createNotation:r},n,o){let a,c;if("reducer"in n){if(r&&!KF(n))throw new Error(js(17));a=n.reducer,c=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Uc(e,c):Uc(e))}function GF(e){return e._reducerDefinitionType==="asyncThunk"}function KF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function XF({type:e,reducerName:t},r,n,o){if(!o)throw new Error(js(18));const{payloadCreator:a,fulfilled:c,pending:l,rejected:u,settled:d,options:m}=r,y=o(e,a,m);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),l&&n.addCase(y.pending,l),u&&n.addCase(y.rejected,u),d&&n.addMatcher(y.settled,d),n.exposeCaseReducer(t,{fulfilled:c||Hu,pending:l||Hu,rejected:u||Hu,settled:d||Hu})}function Hu(){}function js(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const MT=async(e,t,r,n=0)=>{try{const o=await fetch(`${Ke}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();if(!o.ok)throw new Error(a.message||`Error: ${o.status}`);return a}catch(o){throw console.error("Error get messages:",o),o}},YF=async(e,t,r,n,o)=>{try{const a=await fetch(`${Ke}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n,maxCount:o})});if(!a.ok){const c=await a.json();throw new Error(c.message||`Error: ${a.status}`)}}catch(a){throw console.error("Error create channel:",a),a}},JF=async(e,t)=>{try{const r=await fetch(`${Ke}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},QF=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/channel/name/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change channel name:",n),n}},ZF=async e=>{try{const t=await fetch(`${Ke}/api/channel/voice/mute/self`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error self mute:",t),t}},e9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/channel/settings/change/text`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change text channel settings:",r),r}},t9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/channel/settings/change/voice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change voice channel settings:",r),r}},r9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/channel/settings?channelId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get channel settings:",r),r}},n9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/channel/settings/maxcount`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({voiceChannelId:t,maxCount:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change voice channel max count:",n),n}},s9=async(e,t,r,n)=>{try{const o=await fetch(`${Ke}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Error: ${o.status}`)}}catch(o){throw console.error("Error create message:",o),o}},o9=async(e,t)=>{try{const r=await fetch(`${Ke}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},i9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},a9=async e=>{try{const t=await fetch(`${Ke}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},c9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},l9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},u9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},d9=async(e,t,r,n)=>{try{const o=await fetch(`${Ke}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Error: ${o.status}`)}}catch(o){throw console.error("Error create server:",o),o}},f9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},p9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},h9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},m9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},g9=async(e,t,r,n)=>{try{const o=await fetch(`${Ke}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,banReason:n})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Error: ${o.status}`)}}catch(o){throw console.error("Error delete user from server:",o),o}},v9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/server/unsubscribe/creator`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,newCreatorId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unsubscribe creator from server:",n),n}},y9=async(e,t,r,n)=>{try{const o=await fetch(`${Ke}/api/server/banned/list?serverId=${t}&Page=${r}&Size=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();if(!o.ok)throw new Error(a.message||`Error: ${o.status}`);return a}catch(o){throw console.error("Error get banned users:",o),o}},w9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/server/banned/unban`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t,serverId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unban user:",n),n}},Is=Me("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await a9(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),_r=Me("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await c9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),sd=Me("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await l9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),mg=Me("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await u9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),od=Me("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:o})=>{try{await d9(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),id=Me("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await f9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Vc=Me("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await p9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ad=Me("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:o})=>{try{return await MT(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),cd=Me("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:o})=>{try{return await MT(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),gg=Me("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:o})=>{try{await s9(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),vg=Me("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await o9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),yg=Me("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await i9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),ld=Me("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n,maxCount:o},{rejectWithValue:a})=>{try{await YF(e,t,r,n,o)}catch(c){return a(c instanceof Error?c.message:" ")}}),Hc=Me("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await JF(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ud=Me("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await h9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),dd=Me("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await m9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),fd=Me("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r,banReason:n},{rejectWithValue:o})=>{try{await g9(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),pd=Me("testServerSlice/changeChannelName",async({accessToken:e,id:t,name:r},{rejectWithValue:n})=>{try{await QF(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),S9=Me("testServerSlice/creatorUnsubscribeFromServer",async({accessToken:e,serverId:t,newCreatorId:r},{rejectWithValue:n})=>{try{await v9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),hd=Me("testServerSlice/selfMute",async({accessToken:e},{rejectWithValue:t})=>{try{await ZF(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),md=Me("testServerSlice/changeTextChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await e9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),gd=Me("testServerSlice/getChannelSettings",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{return await r9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),vd=Me("testServerSlice/changeVoiceChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await t9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Wc=Me("testServerSlice/getBannedUsers",async({accessToken:e,serverId:t,page:r,size:n},{rejectWithValue:o})=>{try{return await y9(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),yd=Me("testServerSlice/unbanUser",async({accessToken:e,userId:t,serverId:r},{rejectWithValue:n})=>{try{await w9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),wd=Me("testServerSlice/changeVoiceChannelMaxCount",async({accessToken:e,voiceChannelId:t,maxCount:r},{rejectWithValue:n})=>{try{await n9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}});var Xe=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(Xe||{});const b9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/roles/list?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error get roles:",r),r}},_9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/roles/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error create role:",r),r}},x9=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/roles/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,roleId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete role:",n),n}},C9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/roles/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role:",r),r}},R9=async(e,t)=>{try{const r=await fetch(`${Ke}/api/roles/settings`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role settings:",r),r}},ua=Me("rolesSlice/getRoles",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await b9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Sd=Me("rolesSlice/createRole",async({accessToken:e,role:t},{rejectWithValue:r,dispatch:n})=>{try{const o=await _9(e,t);return n(ua({accessToken:e,serverId:t.serverId})),o}catch(o){return r(o instanceof Error?o.message:" ")}}),bd=Me("rolesSlice/deleteRole",async({accessToken:e,serverId:t,roleId:r},{rejectWithValue:n})=>{try{await x9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),_d=Me("rolesSlice/updateRole",async({accessToken:e,updatedRole:t},{rejectWithValue:r})=>{try{await C9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),xd=Me("rolesSlice/updateRoleSettings",async({accessToken:e,updatedRoleSettings:t},{rejectWithValue:r})=>{try{await R9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}});var mt=(e=>(e[e.CanChangeRole=0]="CanChangeRole",e[e.CanWorkChannels=1]="CanWorkChannels",e[e.CanDeleteUsers=2]="CanDeleteUsers",e[e.CanMuteOther=3]="CanMuteOther",e[e.CanDeleteOthersMessages=4]="CanDeleteOthersMessages",e[e.CanIgnoreMaxCount=5]="CanIgnoreMaxCount",e[e.CanCreateRole=6]="CanCreateRole",e[e.CanCreateLessons=7]="CanCreateLessons",e[e.CanCheckAttendance=8]="CanCheckAttendance",e))(mt||{}),ms=(e=>(e[e.Creator=0]="Creator",e[e.Admin=1]="Admin",e[e.Custom=2]="Custom",e[e.Uncertain=3]="Uncertain",e))(ms||{});const E9={rolesList:[],rolesLoading:Xe.IDLE,role:null,error:""},NT=ja({name:"roles",initialState:E9,reducers:{setEditedRole:(e,t)=>{e.role=t.payload}},extraReducers:e=>{e.addCase(ua.pending,t=>{t.rolesLoading=Xe.PENDING,t.error=""}).addCase(ua.fulfilled,(t,r)=>{t.rolesList=r.payload.roles,t.rolesLoading=Xe.FULFILLED,t.error=""}).addCase(ua.rejected,(t,r)=>{t.rolesLoading=Xe.REJECTED,t.error=r.payload}).addCase(bd.fulfilled,(t,{meta:r})=>{const{roleId:n}=r.arg;t.rolesList=t.rolesList.filter(o=>o.role.id!==n),t.error=""}).addCase(Sd.fulfilled,(t,r)=>{const n={role:r.payload,settings:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1,canCreateLessons:!1,canCheckAttendance:!1}};t.rolesList.push(n),t.error=""}).addCase(xd.fulfilled,(t,{meta:r})=>{const{updatedRoleSettings:n}=r.arg,{roleId:o,setting:a,add:c}=n,l=t.rolesList.findIndex(u=>u.role.id===o);if(l!==-1){const u={...t.rolesList[l].settings};switch(a){case mt.CanChangeRole:u.canChangeRole=c;break;case mt.CanWorkChannels:u.canWorkChannels=c;break;case mt.CanDeleteUsers:u.canDeleteUsers=c;break;case mt.CanMuteOther:u.canMuteOther=c;break;case mt.CanDeleteOthersMessages:u.canDeleteOthersMessages=c;break;case mt.CanIgnoreMaxCount:u.canIgnoreMaxCount=c;break;case mt.CanCreateRole:u.canCreateRoles=c;break;case mt.CanCreateLessons:u.canCreateLessons=c;break;case mt.CanCheckAttendance:u.canCheckAttendance=c;break;default:console.warn("Unknown setting:",a);break}t.rolesList[l].settings=u}if(t.role&&t.role.role.id===o){const u={...t.role.settings};switch(a){case mt.CanChangeRole:u.canChangeRole=c;break;case mt.CanWorkChannels:u.canWorkChannels=c;break;case mt.CanDeleteUsers:u.canDeleteUsers=c;break;case mt.CanMuteOther:u.canMuteOther=c;break;case mt.CanDeleteOthersMessages:u.canDeleteOthersMessages=c;break;case mt.CanIgnoreMaxCount:u.canIgnoreMaxCount=c;break;case mt.CanCreateRole:u.canCreateRoles=c;break;case mt.CanCreateLessons:u.canCreateLessons=c;break;case mt.CanCheckAttendance:u.canCheckAttendance=c;break;default:console.warn("Unknown setting:",a);break}t.role.settings=u}t.error=""}).addCase(_d.fulfilled,(t,{meta:r})=>{const{updatedRole:n}=r.arg,o=t.rolesList.findIndex(a=>a.role.id===n.roleId);o!==-1&&(t.rolesList[o]={...t.rolesList[o],role:{...t.rolesList[o].role,name:n.name,color:n.color}}),t.role&&t.role.role.id===n.roleId&&(t.role={...t.role,role:{...t.role.role,name:n.name,color:n.color}}),t.error=""}).addMatcher(xr(Sd.pending,bd.pending,_d.pending,xd.pending),t=>{t.error=""}).addMatcher(xr(Sd.rejected,bd.rejected,_d.rejected,xd.rejected),(t,r)=>{t.error=r.payload})}}),{setEditedRole:ff}=NT.actions,T9=NT.reducer,k9={serversList:[],serverData:{serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",userRoleType:ms.Uncertain,users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:Xe.IDLE,roleSettings:{canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null},bannedUsers:[],pageBannedUsers:1,totalPagesBannedUsers:1,isLoading:!1,numberOfStarterMessage:0,remainingMessagesCount:Rr,messageIsLoading:Xe.IDLE,error:""},LT=ja({name:"testServer",initialState:k9,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",userRoleType:ms.Uncertain,users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},e.roleSettings={canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null}},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)},editChannelName:(e,t)=>{const{channelId:r,newName:n}=t.payload,o=e.serverData.channels.textChannels.find(c=>c.channelId===r);if(o){o.channelName=n;return}const a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);if(a){a.channelName=n;return}},addUserOnVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,o=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);o&&(o.users.some(a=>a.userId===n)||o.users.push({userId:n,muteStatus:bT.NotMuted,isMuted:!1}))},removeUserFromVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,o=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);o&&(o.users=o.users.filter(a=>a.userId!==n))},toggleUserMuteStatus:(e,t)=>{const{channelId:r,userId:n,isMuted:o}=t.payload,a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);a&&(a.users=a.users.map(c=>c.userId===n?{...c,isMuted:o}:c))}},extraReducers:e=>{e.addCase(Is.pending,t=>{t.isLoading=!0,t.error=""}).addCase(Is.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(Is.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(_r.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",userRoleType:ms.Uncertain,users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},t.error=""}).addCase(_r.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let o=t.currentChannelId;n.find(c=>c.channelId===o)||(o=n.length>0?n[0].channelId:null,t.currentChannelId=o,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(_r.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(sd.pending,t=>{t.error=""}).addCase(sd.fulfilled,t=>{t.error=""}).addCase(sd.rejected,(t,r)=>{t.error=r.payload}).addCase(mg.pending,t=>{t.error=""}).addCase(mg.fulfilled,t=>{t.error=""}).addCase(mg.rejected,(t,r)=>{t.error=r.payload}).addCase(od.pending,t=>{t.error=""}).addCase(od.fulfilled,t=>{t.error=""}).addCase(od.rejected,(t,r)=>{t.error=r.payload}).addCase(id.pending,t=>{t.error=""}).addCase(id.fulfilled,t=>{t.error=""}).addCase(id.rejected,(t,r)=>{t.error=r.payload}).addCase(ad.pending,t=>{t.messagesStatus=Xe.PENDING,t.isLoading=!0,t.error=""}).addCase(ad.fulfilled,(t,r)=>{t.messages=r.payload.messages,t.hasNewMessage=!1,t.messagesStatus=Xe.FULFILLED,t.isLoading=!1,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=Rr),t.error=""}).addCase(ad.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=Xe.REJECTED,t.error=r.payload}).addCase(cd.pending,t=>{t.messageIsLoading=Xe.PENDING,t.error=""}).addCase(cd.fulfilled,(t,r)=>{t.messages=[...r.payload.messages,...t.messages],t.messageIsLoading=Xe.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=t.numberOfStarterMessage+Rr),t.error=""}).addCase(cd.rejected,(t,r)=>{t.messageIsLoading=Xe.REJECTED,t.error=r.payload}).addCase(gg.pending,t=>{t.error=""}).addCase(gg.fulfilled,t=>{t.error=""}).addCase(gg.rejected,(t,r)=>{t.error=r.payload}).addCase(vg.pending,t=>{t.error=""}).addCase(vg.fulfilled,t=>{t.error=""}).addCase(vg.rejected,(t,r)=>{t.error=r.payload}).addCase(yg.pending,t=>{t.error=""}).addCase(yg.fulfilled,t=>{t.error=""}).addCase(yg.rejected,(t,r)=>{t.error=r.payload}).addCase(ld.pending,t=>{t.error=""}).addCase(ld.fulfilled,t=>{t.error=""}).addCase(ld.rejected,(t,r)=>{t.error=r.payload}).addCase(Hc.pending,t=>{t.error=""}).addCase(Hc.fulfilled,t=>{t.error=""}).addCase(Hc.rejected,(t,r)=>{t.error=r.payload}).addCase(Vc.pending,t=>{t.error=""}).addCase(Vc.fulfilled,t=>{t.error=""}).addCase(Vc.rejected,(t,r)=>{t.error=r.payload}).addCase(ud.pending,t=>{t.error=""}).addCase(ud.fulfilled,t=>{t.error=""}).addCase(ud.rejected,(t,r)=>{t.error=r.payload}).addCase(dd.pending,t=>{t.error=""}).addCase(dd.fulfilled,t=>{t.error=""}).addCase(dd.rejected,(t,r)=>{t.error=r.payload}).addCase(fd.pending,t=>{t.error=""}).addCase(fd.fulfilled,t=>{t.error=""}).addCase(fd.rejected,(t,r)=>{t.error=r.payload}).addCase(pd.pending,t=>{t.error=""}).addCase(pd.fulfilled,t=>{t.error=""}).addCase(pd.rejected,(t,r)=>{t.error=r.payload}).addCase(hd.pending,t=>{t.error=""}).addCase(hd.fulfilled,t=>{t.error=""}).addCase(hd.rejected,(t,r)=>{t.error=r.payload}).addCase(yd.fulfilled,(t,{meta:r})=>{const{userId:n}=r.arg;t.bannedUsers.length>0&&(t.bannedUsers=t.bannedUsers.filter(o=>o.userId!==n))}).addCase(Wc.fulfilled,(t,r)=>{console.log(r.payload),t.bannedUsers=r.payload.bannedList,t.pageBannedUsers=r.payload.page,t.totalPagesBannedUsers=r.payload.total,t.error=""}).addCase(wd.fulfilled,(t,{meta:r})=>{const{voiceChannelId:n,maxCount:o}=r.arg,a=t.serverData.channels.voiceChannels.findIndex(c=>c.channelId===n);a!==-1&&(t.serverData.channels.voiceChannels[a]={...t.serverData.channels.voiceChannels[a],maxCount:o}),t.error=""}).addMatcher(xr(gd.fulfilled),(t,r)=>{t.roleSettings=r.payload,t.error=""}).addMatcher(xr(gd.pending,md.pending,vd.pending,Wc.pending,yd.pending,wd.pending),t=>{t.error=""}).addMatcher(xr(md.fulfilled,vd.fulfilled),t=>{t.error=""}).addMatcher(xr(gd.rejected,md.rejected,vd.rejected,Wc.rejected,yd.rejected,wd.rejected),(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:P9,setCurrentChannelId:D9,setCurrentVoiceChannelId:da,addMessage:OT,deleteMessageWs:AT,editMessageWs:$T,addUserWs:j9,deleteUserWs:I9,clearServerData:bw,clearHasNewMessage:cx,setNewServerName:M9,setNewUserName:N9,removeUser:L9,removeServer:O9,editChannelName:A9,addUserOnVoiceChannel:$9,removeUserFromVoiceChannel:F9,toggleUserMuteStatus:z9}=LT.actions,B9=LT.reducer,U9=e=>{const[t,r]=P.useState(!1),[n,o]=P.useState(!1),[a,c]=P.useState(!1),[l,u]=P.useState([]),[d,m]=P.useState([]),[y,v]=P.useState(null),[w,S]=P.useState(null),[x,C]=P.useState(null),[T,R]=P.useState(null),[p,h]=P.useState(null),[b,E]=P.useState(null),D=ot(),{currentVoiceChannelId:j}=ge(O=>O.testServerStore),{accessToken:N}=ge(O=>O.userStore),M=O=>{u(V=>[...V,O])},A=()=>{w&&(n?w.resume():w.pause(),D(hd({accessToken:N})),o(!n))};return P.useEffect(()=>{if(!et)return;et.on("producerClosed",({producerId:V})=>{u(W=>W.filter(K=>K.producerId!==V))}),et.on("producer-closed",({remoteProducerId:V})=>{u(W=>W.filter(K=>K.producerId!==V))}),et.on("new-producer",({producerId:V})=>{y&&lT(V,y,M)}),et.on("updateUsersList",({rooms:V})=>{console.log(V),m(V)});const O=()=>{et.emit("leaveRoom",{accessToken:N,voiceChannelId:j})};return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O),et.off("producerClosed"),et.off("producer-closed"),et.off("new-producer"),et.off("updateUsersList")}},[y]),g.jsx(DE.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:o,setIsStreaming:c,audioProducer:w,setAudioProducer:S,videoProducer:x,setVideoProducer:C,device:y,setDevice:v,producerTransport:p,setProducerTransport:h,consumers:l,users:d,addConsumer:M,setConsumers:u,toggleMute:A,selectedUserId:b,setSelectedUserId:E,videoAudioProducer:T,setVideoAudioProducer:R},children:e.children})},V9=e=>{const{consumers:t}=Si(),r=P.useRef(new Map),[n,o]=P.useState({});P.useEffect(()=>{t.forEach(({producerId:l,track:u,kind:d,appData:m})=>{const y=m==null?void 0:m.source;if(console.log(d,y,m.source,r.current.has(l)),d==="audio"&&y!=="screen-audio"&&!r.current.has(l)){const v=document.createElement("audio");v.srcObject=new MediaStream([u]),v.autoplay=!0,v.volume=n[l]??1,r.current.set(l,v),document.body.appendChild(v)}});const c=t.map(l=>l.producerId);return r.current.forEach((l,u)=>{c.includes(u)||(l.pause(),l.remove(),r.current.delete(u))}),()=>{r.current.forEach(l=>{l.pause(),l.remove()}),r.current.clear()}},[t,n]);const a=(c,l)=>{o(u=>({...u,[c]:l/100}))};return g.jsx(PE.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},H9=()=>{const e=P.useContext(PE);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function W9(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const q9=typeof window<"u"?P.useLayoutEffect:P.useEffect;function nr(e,t){q9(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function G9(e,t){e&&W9(e),nr(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),nr(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),nr(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),nr(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),nr(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),nr(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),nr(`mantine-form:${e}:clear-errors`,t.clearErrors),nr(`mantine-form:${e}:reset`,t.reset),nr(`mantine-form:${e}:validate`,t.validate),nr(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),nr(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),nr(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),nr(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),nr(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),nr(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),nr(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),nr(`mantine-form:${e}:reset-touched`,t.resetTouched)}function K9(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function wv(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function X9(e){const[t,r]=P.useState(wv(e)),n=P.useRef(t),o=P.useCallback(u=>{r(d=>{const m=wv(typeof u=="function"?u(d):u);return n.current=m,m})},[]),a=P.useCallback(()=>o({}),[]),c=P.useCallback(u=>{n.current[u]!==void 0&&o(d=>{const m={...d};return delete m[u],m})},[t]),l=P.useCallback((u,d)=>{d==null||d===!1?c(u):n.current[u]!==d&&o(m=>({...m,[u]:d}))},[t]);return{errorsState:t,setErrors:o,clearErrors:a,setFieldError:l,clearFieldError:c}}function Sv(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function lx(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function ux(e,t,r,n){if(t===void 0)return r;const o=`${String(e)}`;let a=r;n===-1&&(a=Sv(`${o}.${t}`,a));const c={...a},l=new Set;return Object.entries(a).filter(([u])=>{if(!u.startsWith(`${o}.`))return!1;const d=lx(u,o);return Number.isNaN(d)?!1:d>=t}).forEach(([u,d])=>{const m=lx(u,o),y=u.replace(`${o}.${m}`,`${o}.${m+n}`);c[y]=d,l.add(y),l.has(u)||delete c[u]}),c}function Y9(e,{from:t,to:r},n){const o=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(l=>{let u,d;if(l.startsWith(o)&&(u=l,d=l.replace(o,a)),l.startsWith(a)&&(u=l.replace(a,o),d=l),u&&d){const m=c[u],y=c[d];return y===void 0?delete c[u]:c[u]=y,m===void 0?delete c[d]:c[d]=m,!1}return!0}),c}function dx(e,t,r){typeof r.value=="object"&&(r.value=na(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function na(e){if(typeof e!="object")return e;var t=0,r,n,o,a=Object.prototype.toString.call(e);if(a==="[object Object]"?o=Object.create(e.__proto__||null):a==="[object Array]"?o=Array(e.length):a==="[object Set]"?(o=new Set,e.forEach(function(c){o.add(na(c))})):a==="[object Map]"?(o=new Map,e.forEach(function(c,l){o.set(na(l),na(c))})):a==="[object Date]"?o=new Date(+e):a==="[object RegExp]"?o=new RegExp(e.source,e.flags):a==="[object DataView]"?o=new e.constructor(na(e.buffer)):a==="[object ArrayBuffer]"?o=e.slice(0):a.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)dx(o,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(o,r=n[t])&&o[r]===e[r]||dx(o,r,Object.getOwnPropertyDescriptor(e,r))}return o||e}function FT(e){return typeof e!="string"?[]:e.split(".")}function or(e,t){const r=FT(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let o=1;o<r.length&&n!=null;o+=1)n=n[r[o]];return n}function wl(e,t,r){const n=FT(e);if(n.length===0)return r;const o=na(r);if(n.length===1)return o[n[0]]=t,o;let a=o[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return o;a=a[n[c]]}return a[n[n.length-1]]=t,o}function J9(e,{from:t,to:r},n){const o=or(e,n);if(!Array.isArray(o))return n;const a=[...o],c=o[t];return a.splice(t,1),a.splice(r,0,c),wl(e,a,n)}function Q9(e,t,r,n){const o=or(e,n);if(!Array.isArray(o))return n;const a=[...o];return a.splice(typeof r=="number"?r:a.length,0,t),wl(e,a,n)}function Z9(e,t,r){const n=or(e,r);return Array.isArray(n)?wl(e,n.filter((o,a)=>a!==t),r):r}function e7(e,t,r,n){const o=or(e,n);if(!Array.isArray(o)||o.length<=r)return n;const a=[...o];return a[r]=t,wl(e,a,n)}function t7({$values:e,$errors:t,$status:r}){const n=P.useCallback((l,u)=>{r.clearFieldDirty(l),t.setErrors(d=>Y9(l,u,d)),e.setValues({values:J9(l,u,e.refValues.current),updateState:!0})},[]),o=P.useCallback((l,u)=>{r.clearFieldDirty(l),t.setErrors(d=>ux(l,u,d,-1)),e.setValues({values:Z9(l,u,e.refValues.current),updateState:!0})},[]),a=P.useCallback((l,u,d)=>{r.clearFieldDirty(l),t.setErrors(m=>ux(l,d,m,1)),e.setValues({values:Q9(l,u,d,e.refValues.current),updateState:!0})},[]),c=P.useCallback((l,u,d)=>{r.clearFieldDirty(l),e.setValues({values:e7(l,d,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:o,insertListItem:a,replaceListItem:c}}var wg,fx;function r7(){return fx||(fx=1,wg=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var c=a[o];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),wg}var n7=r7();const Wu=Pv(n7);function Ic(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(o=>o.startsWith(`${t}.`));return e[t]||n.some(o=>e[o])||!1}return r.some(n=>e[n])}function s7({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[o,a]=P.useState(t),[c,l]=P.useState(e),u=P.useRef(t),d=P.useRef(e),m=P.useCallback(E=>{const D=typeof E=="function"?E(u.current):E;u.current=D,r==="controlled"&&a(D)},[]),y=P.useCallback((E,D=!1)=>{const j=typeof E=="function"?E(d.current):E;d.current=j,(r==="controlled"||D)&&l(j)},[]),v=P.useCallback(()=>m({}),[]),w=P.useCallback(E=>{const D=E?{...n.refValues.current,...E}:n.refValues.current;n.setValuesSnapshot(D),y({})},[]),S=P.useCallback((E,D)=>{m(j=>Ic(j,E)===D?j:{...j,[E]:D})},[]),x=P.useCallback((E,D,j)=>{y(N=>Ic(N,E)===D?N:{...N,[E]:D},j)},[]),C=P.useCallback((E,D)=>{const j=Ic(d.current,E),N=!Wu(or(E,n.getValuesSnapshot()),D),M=Sv(E,d.current);M[E]=N,y(M,j!==N)},[]),T=P.useCallback(E=>Ic(u.current,E),[]),R=P.useCallback(E=>y(D=>{if(typeof E!="string")return D;const j=Sv(E,D);return delete j[E],Wu(j,D)?D:j}),[]),p=P.useCallback(E=>{if(E){const j=or(E,d.current);if(typeof j=="boolean")return j;const N=or(E,n.refValues.current),M=or(E,n.valuesSnapshot.current);return!Wu(N,M)}return Object.keys(d.current).length>0?Ic(d.current):!Wu(n.refValues.current,n.valuesSnapshot.current)},[]),h=P.useCallback(()=>d.current,[]),b=P.useCallback(()=>u.current,[]);return{touchedState:o,dirtyState:c,touchedRef:u,dirtyRef:d,setTouched:m,setDirty:y,resetDirty:w,resetTouched:v,isTouched:T,setFieldTouched:S,setFieldDirty:x,setTouchedState:a,setDirtyState:l,clearFieldDirty:R,isDirty:p,getDirty:h,getTouched:b,setCalculatedFieldDirty:C}}function o7({initialValues:e,onValuesChange:t,mode:r}){const n=P.useRef(!1),[o,a]=P.useState(e||{}),c=P.useRef(o),l=P.useRef(o),u=P.useCallback(({values:x,subscribers:C,updateState:T=!0,mergeWithPreviousValues:R=!0})=>{const p=c.current,h=x instanceof Function?x(c.current):x,b=R?{...p,...h}:h;c.current=b,T&&a(b),t==null||t(b,p),C==null||C.filter(Boolean).forEach(E=>E({updatedValues:b,previousValues:p}))},[t]),d=P.useCallback(x=>{var R;const C=or(x.path,c.current),T=x.value instanceof Function?x.value(C):x.value;if(C!==T){const p=c.current,h=wl(x.path,T,c.current);u({values:h,updateState:x.updateState}),(R=x.subscribers)==null||R.filter(Boolean).forEach(b=>b({path:x.path,updatedValues:h,previousValues:p}))}},[u]),m=P.useCallback(x=>{l.current=x},[]),y=P.useCallback((x,C)=>{n.current||(n.current=!0,u({values:x,updateState:r==="controlled"}),m(x),C())},[u]),v=P.useCallback(()=>{u({values:l.current,updateState:!0,mergeWithPreviousValues:!1})},[u]),w=P.useCallback(()=>c.current,[]),S=P.useCallback(()=>l.current,[]);return{initialized:n,stateValues:o,refValues:c,valuesSnapshot:l,setValues:u,setFieldValue:d,resetValues:v,setValuesSnapshot:m,initialize:y,getValues:w,getValuesSnapshot:S}}function i7({$status:e}){const t=P.useRef({}),r=P.useCallback((o,a)=>{P.useEffect(()=>(t.current[o]=t.current[o]||[],t.current[o].push(a),()=>{t.current[o]=t.current[o].filter(c=>c!==a)}),[a])},[]),n=P.useCallback(o=>t.current[o]?t.current[o].map(a=>c=>a({previousValue:or(o,c.previousValues),value:or(o,c.updatedValues),touched:e.isTouched(o),dirty:e.isDirty(o)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function px(e,t){return e?`${e}-${t.toString()}`:t.toString()}const qu=Symbol("root-rule");function hx(e){const t=wv(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function bv(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((o,a)=>{const c=e[a],l=`${r===""?"":`${r}.`}${a}`,u=or(l,t);let d=!1;return typeof c=="function"&&(o[l]=c(u,t,l)),typeof c=="object"&&Array.isArray(u)&&(d=!0,u.forEach((m,y)=>bv(c,t,`${l}.${y}`,o)),qu in c&&(o[l]=c[qu](u,t,l))),typeof c=="object"&&typeof u=="object"&&u!==null&&(d||bv(c,t,l,o),qu in c&&(o[l]=c[qu](u,t,l))),o},n)}function _v(e,t){return hx(typeof e=="function"?e(t):bv(e,t))}function Gu(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=_v(t,r),o=Object.keys(n.errors).find(a=>e.split(".").every((c,l)=>c===a.split(".")[l]));return{hasError:!!o,error:o?n.errors[o]:null}}const a7="__MANTINE_FORM_INDEX__";function mx(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${a7}`)):!1:!1}function xo({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:o={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:l=!1,validateInputOnBlur:u=!1,onValuesChange:d,transformValues:m=x=>x,enhanceGetInputProps:y,validate:v,onSubmitPreventDefault:w="always",touchTrigger:S="change"}={}){const x=X9(n),C=o7({initialValues:r,onValuesChange:d,mode:t}),T=s7({initialDirty:o,initialTouched:a,$values:C,mode:t}),R=t7({$values:C,$errors:x,$status:T}),p=i7({$status:T}),[h,b]=P.useState(0),[E,D]=P.useState({}),[j,N]=P.useState(!1),M=P.useCallback(()=>{C.resetValues(),x.clearErrors(),T.resetDirty(),T.resetTouched(),t==="uncontrolled"&&b(J=>J+1)},[]),A=P.useCallback(J=>{c&&x.clearErrors(),t==="uncontrolled"&&b(oe=>oe+1),Object.keys(p.subscribers.current).forEach(oe=>{const ue=or(oe,C.refValues.current),ve=or(oe,J);ue!==ve&&p.getFieldSubscribers(oe).forEach(we=>we({previousValues:J,updatedValues:C.refValues.current}))})},[c]),O=P.useCallback(J=>{const oe=C.refValues.current;C.initialize(J,()=>t==="uncontrolled"&&b(ue=>ue+1)),A(oe)},[A]),V=P.useCallback((J,oe,ue)=>{const ve=mx(J,l),we=oe instanceof Function?oe(or(J,C.refValues.current)):oe;T.setCalculatedFieldDirty(J,we),S==="change"&&T.setFieldTouched(J,!0),!ve&&c&&x.clearFieldError(J),C.setFieldValue({path:J,value:oe,updateState:t==="controlled",subscribers:[...p.getFieldSubscribers(J),ve?Ne=>{const ae=Gu(J,v,Ne.updatedValues);ae.hasError?x.setFieldError(J,ae.error):x.clearFieldError(J)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>D(Ne=>({...Ne,[J]:(Ne[J]||0)+1})):null]})},[d,v]),W=P.useCallback(J=>{const oe=C.refValues.current;C.setValues({values:J,updateState:t==="controlled"}),A(oe)},[d,A]),K=P.useCallback(()=>{const J=_v(v,C.refValues.current);return x.setErrors(J.errors),J},[v]),L=P.useCallback(J=>{const oe=Gu(J,v,C.refValues.current);return oe.hasError?x.setFieldError(J,oe.error):x.clearFieldError(J),oe},[v]),F=(J,{type:oe="input",withError:ue=!0,withFocus:ve=!0,...we}={})=>{const ae={onChange:K9(Ee=>V(J,Ee,{forceUpdate:!1})),"data-path":px(e,J)};return ue&&(ae.error=x.errorsState[J]),oe==="checkbox"?ae[t==="controlled"?"checked":"defaultChecked"]=or(J,C.refValues.current):ae[t==="controlled"?"value":"defaultValue"]=or(J,C.refValues.current),ve&&(ae.onFocus=()=>T.setFieldTouched(J,!0),ae.onBlur=()=>{if(mx(J,u)){const Ee=Gu(J,v,C.refValues.current);Ee.hasError?x.setFieldError(J,Ee.error):x.clearFieldError(J)}}),Object.assign(ae,y==null?void 0:y({inputProps:ae,field:J,options:{type:oe,withError:ue,withFocus:ve,...we},form:de}))},$=(J,oe)=>ue=>{w==="always"&&(ue==null||ue.preventDefault());const ve=K();if(ve.hasErrors)w==="validation-failed"&&(ue==null||ue.preventDefault()),oe==null||oe(ve.errors,C.refValues.current,ue);else{const we=J==null?void 0:J(m(C.refValues.current),ue);we instanceof Promise&&(N(!0),we.finally(()=>N(!1)))}},U=J=>m(J||C.refValues.current),H=P.useCallback(J=>{J.preventDefault(),M()},[]),z=P.useCallback(J=>J?!Gu(J,v,C.refValues.current).hasError:!_v(v,C.refValues.current).hasErrors,[v]),G=J=>`${h}-${J}-${E[J]||0}`,se=P.useCallback(J=>document.querySelector(`[data-path="${px(e,J)}"]`),[]),de={watch:p.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:O,setValues:W,setFieldValue:V,submitting:j,setSubmitting:N,errors:x.errorsState,setErrors:x.setErrors,setFieldError:x.setFieldError,clearFieldError:x.clearFieldError,clearErrors:x.clearErrors,resetDirty:T.resetDirty,setTouched:T.setTouched,setDirty:T.setDirty,isTouched:T.isTouched,resetTouched:T.resetTouched,isDirty:T.isDirty,getTouched:T.getTouched,getDirty:T.getDirty,reorderListItem:R.reorderListItem,insertListItem:R.insertListItem,removeListItem:R.removeListItem,replaceListItem:R.replaceListItem,reset:M,validate:K,validateField:L,getInputProps:F,onSubmit:$,onReset:H,isValid:z,getTransformedValues:U,key:G,getInputNode:se};return G9(e,de),de}var oi=(e=>(e.NOTIFIABLE="notifiable",e.FRIENDSHIP="friendship",e.NONFRIEND="nonfriend",e))(oi||{});const c7=async e=>{try{const t=await fetch(`${Ke}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},l7=async e=>{try{const t=await fetch(`${Ke}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},u7=async e=>{try{const t=await fetch(`${Ke}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},d7=async e=>{try{const t=await fetch(`${Ke}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},f7=async e=>{try{const t=await fetch(`${Ke}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},p7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/auth/settings/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change settings:",r),r}},h7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/auth/profile/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error change user profile:",r),r}},m7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/friendship/application/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userTag:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create application:",r),r}},g7=async e=>{try{const t=await fetch(`${Ke}/api/friendship/application/list/from`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},v7=async e=>{try{const t=await fetch(`${Ke}/api/friendship/application/list/to`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},y7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/friendship/application/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete application:",r),r}},w7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/friendship/application/decline`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error decline application:",r),r}},S7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/friendship/application/approve`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error approve application:",r),r}},b7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/friendship/delete?UserId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete friendship:",r),r}},_7=async e=>{try{const t=await fetch(`${Ke}/api/friendship/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get friendship list:",t),t}},x7=e=>e instanceof Error?e.message:String(e),Cd=Me("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await c7(e)}catch(r){return t(x7(r))}}),Rd=Me("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await l7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Ed=Me("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const o=await u7(e);return console.log(o),o}catch(o){if(console.log(o),o.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(kd({refreshToken:c})).unwrap()}return t(o instanceof Error?o.message:" ")}}),Td=Me("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await d7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),kd=Me("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await f7(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),qc=Me("userSlice/createApplication",async({accessToken:e,userTag:t},{rejectWithValue:r})=>{try{await m7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Pd=Me("userSlice/getApplicationsFrom",async({accessToken:e},{rejectWithValue:t})=>{try{return await g7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Dd=Me("userSlice/getApplicationsTo",async({accessToken:e},{rejectWithValue:t})=>{try{return await v7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),jd=Me("userSlice/approveApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await S7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Id=Me("userSlice/declineApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await w7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Md=Me("userSlice/deleteApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await y7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Nd=Me("userSlice/getFriendshipList",async({accessToken:e},{rejectWithValue:t})=>{try{return await _7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Ld=Me("userSlice/deleteFriendship",async({accessToken:e,userId:t},{rejectWithValue:r})=>{try{await b7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),fa=Me("userSlice/changeSettings",async({accessToken:e,type:t},{rejectWithValue:r})=>{try{await p7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Od=Me("userSlice/changeUserProfile",async({accessToken:e,newProfile:t},{rejectWithValue:r})=>{try{return await h7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Sg=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},C7={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:"",notifiable:!1,friendshipApplication:!1,nonFriendMessage:!1,icon:null},roomName:"11",accessToken:Sg("accessToken"),refreshToken:Sg("refreshToken"),isLoggedIn:!!Sg("accessToken"),applicationFrom:[],applicationTo:[],friendshipList:[],error:"",isLoading:!1},R7=ja({name:"user",initialState:C7,reducers:{},extraReducers:e=>{e.addCase(Cd.pending,t=>{t.error=""}).addCase(Cd.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Cd.rejected,(t,r)=>{t.error=r.payload}).addCase(Rd.pending,t=>{t.error=""}).addCase(Rd.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Rd.rejected,(t,r)=>{t.error=r.payload}).addCase(Ed.pending,t=>{t.error=""}).addCase(Ed.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Ed.rejected,(t,r)=>{t.error=r.payload}).addCase(Td.pending,t=>{t.error=""}).addCase(Td.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Td.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(kd.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(kd.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(kd.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(qc.pending,t=>{t.error=""}).addCase(qc.fulfilled,t=>{t.error=""}).addCase(qc.rejected,(t,r)=>{t.error=r.payload}).addCase(Pd.fulfilled,(t,r)=>{t.applicationFrom=r.payload.applications,t.error=""}).addCase(Dd.fulfilled,(t,r)=>{t.applicationTo=r.payload.applications,t.error=""}).addCase(Md.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationFrom=t.applicationFrom.filter(o=>o.id!==n),t.error=""}).addCase(Id.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(o=>o.id!==n),t.error=""}).addCase(jd.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(o=>o.id!==n),t.error=""}).addCase(Nd.fulfilled,(t,r)=>{t.friendshipList=r.payload.users,t.error=""}).addCase(Ld.fulfilled,(t,{meta:r})=>{const n=r.arg.userId;t.friendshipList=t.friendshipList.filter(o=>o.userId!==n),t.error=""}).addCase(fa.fulfilled,(t,{meta:r})=>{const{type:n}=r.arg;switch(n){case oi.FRIENDSHIP:t.user.friendshipApplication=!t.user.friendshipApplication;break;case oi.NONFRIEND:t.user.nonFriendMessage=!t.user.nonFriendMessage;break;case oi.NOTIFIABLE:t.user.notifiable=!t.user.notifiable;break}}).addCase(Od.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addMatcher(xr(Pd.pending,Dd.pending,jd.pending,Id.pending,Md.pending,Nd.pending,Ld.pending,fa.pending,Od.pending),t=>{t.error=""}).addMatcher(xr(Pd.rejected,Dd.rejected,jd.rejected,Id.rejected,Md.rejected,Nd.rejected,Ld.rejected,fa.rejected,Od.rejected),(t,r)=>{t.error=r.payload})}}),E7=R7.reducer,T7=()=>{const{accessToken:e}=ge(c=>c.userStore),t=ot(),r=Ws(),n=xo({initialValues:{mail:"",password:""},validate:{mail:c=>{const l=c.trim().length;return l<6?"Email    6 ":l>50?"Email    50 ":/^\S+@\S+$/.test(c)?null:"  email"},password:c=>c.trim().length>5?null:"  (    6 )"}}),o=async c=>{(await t(Rd(c))).meta.requestStatus==="fulfilled"&&r("/main")},a=()=>{r("/")};return P.useEffect(()=>{e&&r("/main")},[e,r]),g.jsx(mn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:g.jsxs(Qr,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[g.jsxs(Ce,{justify:"space-between",align:"center",mb:"md",children:[g.jsx(je,{fw:500,children:"   "}),g.jsx(ct,{variant:"subtle",onClick:a,children:g.jsx(hw,{size:24})})]}),g.jsx("form",{onSubmit:n.onSubmit(o),children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),maxLength:50,required:!0}),g.jsx(ap,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),g.jsx(Ce,{justify:"center",mt:"md",children:g.jsx(Ie,{type:"submit",children:""})})]})})]})})},k7=()=>{const{accessToken:e}=ge(r=>r.userStore),t=Ws();return P.useEffect(()=>{e&&t("/main")},[e,t]),g.jsxs(mn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[g.jsx(Ar,{order:3,children:"   Hitscord!"}),g.jsxs(Ce,{gap:"20px",children:[g.jsx(G_,{to:"/login",children:g.jsx(Ie,{variant:"filled",radius:"md",children:""})}),g.jsx(G_,{to:"/register",children:g.jsx(Ie,{variant:"filled",radius:"md",children:""})})]})]})};function zT(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${o} ${a}:${c}`}const pf=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null,messageType:Sp.Classic}),hf=e=>({chatId:e.ChatId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,replyToMessage:e.ReplyToMessage||null,files:e.Files||null}),P7=e=>({serverId:e.ServerId,userId:e.UserId,userName:e.UserName,userTag:e.UserTag,roleId:e.RoleId,roleName:e.RoleName,roleType:e.RoleType,icon:e.Icon,mail:e.Mail,notifiable:e.Notifiable,friendshipApplication:e.FriendshipApplication,nonFriendMessage:e.NonFriendMessage}),_w=e=>e.map(t=>{const r=t.users.reduce((n,o)=>(n[o.socketId]||(n[o.socketId]={userName:o.userName,userId:o.userId,producerIds:[]}),n[o.socketId].producerIds.push(o.producerId),n),{});return{roomName:t.roomName,users:r}}),BT=e=>{const[t,r,n]=e.split("-").map(o=>o.padStart(2,"0"));return`${n}.${r}.${t}`},D7={isUserStreamView:!1,isOpenHome:!0},UT=ja({name:"app",initialState:D7,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:VT,setUserStreamView:So,setOpenHome:Ia}=UT.actions,j7=UT.reducer,I7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/chat/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userTag:t})}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error create chat:",r),r}},M7=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/chat/name`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({chatId:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change chat name:",n),n}},N7=async e=>{try{const t=await fetch(`${Ke}/api/chat/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get chats:",t),t}},L7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/chat/info?id=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error get chat info:",r),r}},HT=async(e,t,r,n)=>{try{const o=await fetch(`${Ke}/api/chat/messages?chatId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();if(!o.ok)throw{message:a.message||"Unknown error",status:o.status};return a}catch(o){throw console.error("Error get chat messages:",o),o}},O7=async(e,t,r)=>{try{const n=await fetch(`${Ke}/api/chat/add`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({chatId:t,userTag:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error add user in chat:",n),n}},A7=async(e,t)=>{try{const r=await fetch(`${Ke}/api/chat/goout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error goout from chat:",r),r}},bg=Me("chatsSlice/createChat",async({accessToken:e,userTag:t},{rejectWithValue:r})=>{try{return await I7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),_g=Me("chatsSlice/changeChatName",async({accessToken:e,chatId:t,name:r},{rejectWithValue:n})=>{try{await M7(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),xg=Me("chatsSlice/getChats",async({accessToken:e},{rejectWithValue:t})=>{try{return await N7(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Cg=Me("chatsSlice/getChatInfo",async({accessToken:e,chatId:t},{rejectWithValue:r})=>{try{return await L7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Rg=Me("chatsSlice/getChatMessages",async({accessToken:e,chatId:t,number:r,fromStart:n},{rejectWithValue:o})=>{try{return await HT(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),Eg=Me("chatsSlice/getMoreChatMessages",async({accessToken:e,chatId:t,number:r,fromStart:n},{rejectWithValue:o})=>{try{return await HT(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),Tg=Me("chatsSlice/addUserInChat",async({accessToken:e,chatId:t,userTag:r},{rejectWithValue:n})=>{try{await O7(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),kg=Me("chatsSlice/goOutFromChat",async({accessToken:e,id:t},{rejectWithValue:r})=>{try{await A7(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),$7={chatsList:[],chatsLoading:Xe.IDLE,error:"",chat:{chatId:"",chatName:"",users:[]},activeChat:null,chatLoading:Xe.IDLE,messages:[],messagesStatus:Xe.IDLE,messageIsLoading:Xe.IDLE,numberOfStarterMessage:0,remainingMessagesCount:Rr},F7=ja({name:"chats",initialState:$7,reducers:{setActiveChat:(e,t)=>{e.activeChat=t.payload,e.error=""},addChatMessage:(e,t)=>{const{chatId:r}=t.payload;r===e.activeChat&&e.messages.push(t.payload)},deleteChatMessageWS:(e,t)=>{e.activeChat===t.payload.chatId&&(e.messages=e.messages.filter(r=>r.id!==t.payload.messageId))},editChatMessageWS:(e,t)=>{if(e.activeChat===t.payload.chatId){const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)}}},extraReducers:e=>{e.addCase(bg.pending,t=>{t.error=""}).addCase(bg.fulfilled,(t,r)=>{t.chatsList=[...t.chatsList,r.payload],t.error=""}).addCase(bg.rejected,(t,r)=>{t.error=r.payload}).addCase(_g.pending,t=>{t.error=""}).addCase(_g.fulfilled,(t,{meta:r})=>{const{chatId:n,name:o}=r.arg;t.chatsList=t.chatsList.map(a=>a.chatId===n?{...a,name:o}:a),t.chat.chatId===n&&(t.chat.chatName=o),t.error=""}).addCase(_g.rejected,(t,r)=>{t.error=r.payload}).addCase(xg.pending,t=>{t.error="",t.chatsList=[],t.chatsLoading=Xe.PENDING}).addCase(xg.fulfilled,(t,r)=>{t.chatsList=r.payload.chatsList,t.chatsLoading=Xe.FULFILLED,t.error=""}).addCase(xg.rejected,(t,r)=>{t.chatsLoading=Xe.REJECTED,t.error=r.payload}).addCase(Cg.pending,t=>{t.error="",t.chatLoading=Xe.PENDING}).addCase(Cg.fulfilled,(t,r)=>{t.chat=r.payload,t.chatLoading=Xe.FULFILLED,t.error=""}).addCase(Cg.rejected,(t,r)=>{t.chatLoading=Xe.REJECTED,t.error=r.payload}).addCase(Rg.pending,t=>{t.messagesStatus=Xe.PENDING,t.error=""}).addCase(Rg.fulfilled,(t,r)=>{t.messages=r.payload.messages,t.messagesStatus=Xe.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=Rr),t.error=""}).addCase(Rg.rejected,(t,r)=>{t.messagesStatus=Xe.REJECTED,t.error=r.payload}).addCase(Eg.pending,t=>{t.messageIsLoading=Xe.PENDING,t.error=""}).addCase(Eg.fulfilled,(t,r)=>{t.messages=[...r.payload.messages,...t.messages],t.messageIsLoading=Xe.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=t.numberOfStarterMessage+Rr),t.error=""}).addCase(Eg.rejected,(t,r)=>{t.messageIsLoading=Xe.REJECTED,t.error=r.payload}).addCase(kg.fulfilled,(t,{meta:r})=>{const n=r.arg.id;t.chatsList=t.chatsList.filter(o=>o.chatId!==n),t.error=""}).addMatcher(xr(Tg.pending,kg.pending),t=>{t.error=""}).addMatcher(xr(Tg.fulfilled),t=>{t.error=""}).addMatcher(xr(Tg.rejected,kg.rejected),(t,r)=>{t.error=r.payload})}}),{setActiveChat:Pg,addChatMessage:WT,deleteChatMessageWS:qT,editChatMessageWS:GT}=F7.actions,z7=({accessToken:e,dispatch:t,serverId:r,showMessage:n})=>{const o=P.useRef(null),{showError:a}=Xt();P.useEffect(()=>{if(e){const v=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return v.onopen=()=>{setInterval(()=>{v.readyState===WebSocket.OPEN&&v.send(JSON.stringify({type:"ping"}))},5*60*1e3)},v.onmessage=w=>{const S=JSON.parse(w.data);if(console.log(S),S.MessageType==="New message"){const x=pf(S.Payload);x.id&&x.text&&t(OT(x))}if(S.MessageType==="New message in chat"){const x=hf(S.Payload);x.id&&x.text&&t(WT(x))}if(S.MessageType==="Deleted message"&&t(AT({channelId:S.Payload.ChannelId,messageId:S.Payload.MessageId})),S.MessageType==="Deleted message in chat"&&t(qT({chatId:S.Payload.ChatId,messageId:S.Payload.MessageId})),S.MessageType==="Updated message"){const x=pf(S.Payload);t($T(x))}if(S.MessageType==="Updated message in chat"){const x=hf(S.Payload);t(GT(x))}if(S.MessageType==="User notified"&&n&&n(S.Payload.Text),S.MessageType==="ErrorWithMessage"){const x=`${S.Payload.Object}: ${S.Payload.Message}`;a(x)}},v.onerror=w=>{console.error("WebSocket error:",w)},o.current=v,()=>{console.log("Closing WebSocket connection"),v.close()}}},[e,r,t]);const c=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"New message",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[]),l=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"New message chat",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[o]),u=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"Update message",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[]),d=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"Update message chat",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[o]),m=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"Delete message",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[]),y=P.useCallback(v=>{var w;if(o.current&&o.current.readyState===WebSocket.OPEN){const S={Type:"Delete message chat",Content:v};o.current.send(JSON.stringify(S))}else console.error("WebSocket is not open. Ready state:",(w=o.current)==null?void 0:w.readyState)},[o]);return{sendMessage:c,editMessage:u,deleteMessage:m,sendChatMessage:l,editChatMessage:d,deleteChatMessage:y}},B7=({accessToken:e,dispatch:t,serverId:r,userId:n})=>{const o=vl(),a=P.useRef(null),{currentVoiceChannelId:c}=ge(m=>m.testServerStore),l=P.useRef(null),u=P.useRef(void 0),d=P.useRef(c);P.useEffect(()=>{l.current=r},[r]),P.useEffect(()=>{u.current=n},[n]),P.useEffect(()=>{d.current=c},[c]),P.useEffect(()=>{if(!e)return;const m=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return a.current=m,m.onmessage=y=>{const v=JSON.parse(y.data),w=l.current,S=u.current,x=d.current;if(console.log(v),v.MessageType==="New user on server"){const C=P7(v.Payload),{ServerId:T}=v.Payload;w===T&&t(j9(C))}if(v.MessageType==="User unsubscribe"){const{UserId:C,ServerId:T}=v.Payload;w===T&&t(I9({UserId:C,ServerId:T}))}if(v.MessageType==="Role changed"){const{ServerId:C}=v.Payload;e&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}if((v.MessageType==="New channel"||v.MessageType==="Channel deleted")&&e&&w&&(v.Payload.ChannelType===1&&v.Payload.ChannelId===x&&o(e,x),w===v.Payload.ServerId&&t(_r({accessToken:e,serverId:w}))),v.MessageType==="New server name"&&w===v.Payload.ServerId&&t(M9({name:v.Payload.Name})),v.MessageType==="New users name on server"&&w===v.Payload.ServerId&&t(N9({userId:v.Payload.UserId,name:v.Payload.Name})),v.MessageType==="User unsubscribe"&&w===v.Payload.ServerId&&t(L9({userId:v.Payload.UserId})),v.MessageType==="You removed from server"&&(v.Payload.IsNeedRemoveFromVC&&o(e,x),t(Ia(!0)),t(O9({serverId:v.Payload.ServerId}))),v.MessageType==="Change channel name"&&v.Payload.ServerId===w&&t(A9({channelId:v.Payload.ChannelId,newName:v.Payload.Name})),v.MessageType==="New user in voice channel"&&v.Payload.ServerId===w&&t($9({channelId:v.Payload.ChannelId,userId:v.Payload.UserId})),v.MessageType==="User remove from voice channel"&&v.Payload.ServerId===w&&t(F9({channelId:v.Payload.ChannelId,userId:v.Payload.UserId})),v.MessageType==="User change his mute status"&&v.Payload.ServerId===w&&t(z9({channelId:v.Payload.ChannelId,userId:v.Payload.UserId,isMuted:v.Payload.MuteStatus===1})),v.MessageType==="Text channel settings edited"){const{ServerId:C,RoleId:T}=v.Payload;S===T&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}if(v.MessageType==="Voice channel settings edited"){const{ServerId:C,RoleId:T}=v.Payload;S===T&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}if(v.MessageType==="New role"){const{ServerId:C}=v.Payload;w&&w===C&&t(_r({accessToken:e,serverId:w}))}if(v.MessageType==="Updated role settings"){const{ServerId:C,Id:T}=v.Payload.Role;S===T&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}if(v.MessageType==="Voice channel settings edited"){const{ServerId:C,RoleId:T}=v.Payload;S===T&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}if(v.MessageType==="Text channel settings edited"){const{ServerId:C,RoleId:T}=v.Payload;S===T&&w&&w===C&&t(_r({accessToken:e,serverId:w}))}},m.onerror=console.error,()=>{m.close()}},[e,t])},U7=e=>(e=e.replace(/@([a-zA-Z]+#\d+)/g,"//{usertag:$1}//"),e=e.replace(/@([a-zA-Z0-9_-]+)/g,(t,r)=>/\d/.test(r)?t:`//{roletag:${r}}//`),e),KT=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:o,authorId:a,editMessage:c,deleteMessage:l})=>{var h;const{accessToken:u}=ge(b=>b.userStore),m=(h=ge(b=>b.testServerStore.serverData.users).find(b=>b.userId===a))==null?void 0:h.userName,[y,v]=P.useState(!1),[w,S]=P.useState(!1),[x,C]=P.useState(t),T=()=>{x.trim()&&(c({Token:u,MessageId:n,Text:x.trim()}),S(!1))},R=()=>{l({Token:u,MessageId:n})},p=b=>(b=b.replace(/\/\/\{usertag:([a-zA-Z--0-9_#]+)\}\/\//g,'<span style="background-color: rgba(74, 144, 226, 0.3); color: #ffffff; font-weight: 500;">@$1</span>'),b=b.replace(/\/\/\{roletag:([a-zA-Z--0-9_-]+)\}\/\//g,'<span style="background-color:  rgba(74, 144, 226, 0.3); color: #ffffff; font-weight: 500;">@$1</span>'),b);return g.jsxs(mn,{direction:"column",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[g.jsxs(Ce,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[g.jsx(vr,{size:"md",color:"blue",children:m?m[0]:"?"}),g.jsxs(re,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#454950",color:"white",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:w?"100%":"auto"},children:[g.jsx(je,{fw:500,style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:m}),w?g.jsx(ll,{value:x,onChange:b=>C(b.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):g.jsx(je,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:p(t)}}),g.jsx(Ce,{justify:"space-between",children:g.jsxs(je,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[zT(r),o&&g.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&g.jsx(Ce,{justify:"flex-end",gap:"xs",p:4,style:{opacity:y||w?1:0,transition:"opacity 0.3s ease"},mr:44,children:w?g.jsxs(g.Fragment,{children:[g.jsx(ct,{variant:"subtle",onClick:T,children:g.jsx(mw,{size:12})}),g.jsx(ct,{variant:"subtle",onClick:()=>S(!1),children:g.jsx(la,{size:12})})]}):g.jsxs(g.Fragment,{children:[g.jsx(ct,{variant:"subtle",onClick:()=>S(!0),children:g.jsx(C8,{size:12})}),g.jsx(ct,{variant:"subtle",onClick:R,children:g.jsx(vw,{size:12})})]})})]})},V7=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:o})=>{const a=ot(),c=P.useRef(null),{user:l,accessToken:u}=ge(ae=>ae.userStore),{currentServerId:d,currentChannelId:m,messages:y,hasNewMessage:v,isLoading:w,messagesStatus:S,serverData:x,remainingMessagesCount:C,numberOfStarterMessage:T,messageIsLoading:R}=ge(ae=>ae.testServerStore),p=x.users,h=x.roles,b=x.channels.textChannels.find(ae=>ae.channelId===m),E=b==null?void 0:b.canWrite,[D,j]=P.useState(""),[N,M]=P.useState(!0),[A,O]=P.useState(!1),[V,W]=P.useState(!1),[K,L]=P.useState([]),[F,$]=P.useState(0),[U,H]=P.useState(null),z=P.useRef(null),G=P.useRef(null),se=P.useRef(null),de=(ae,Ee)=>{const rt=ae.slice(0,Ee),Ve=rt.match(/@([\w#-]*)$/);if(Ve){const Be=Ve[1];return{type:"user",id:"",display:"",tag:"",startIndex:rt.lastIndexOf("@"),searchText:Be}}return null},J=ae=>{const Ee=ae.searchText.toLowerCase(),rt=p.filter(Be=>`${Be.userName}#${Be.userTag}`.toLowerCase().includes(Ee)).slice(0,5).map(Be=>({type:"user",id:Be.userId,display:Be.userName,tag:`${Be.userTag}`,startIndex:ae.startIndex,searchText:ae.searchText})),Ve=h.filter(Be=>Be.name.toLowerCase().includes(Ee)||Be.tag.toLowerCase().includes(Ee)).slice(0,5).map(Be=>({type:"role",id:Be.id,display:Be.name,tag:Be.tag,startIndex:ae.startIndex,searchText:ae.searchText}));return[...rt,...Ve]},oe=()=>{D.trim()&&d&&m&&(console.log(U7(D.trim())),r({Token:u,ChannelId:m,Classic:{Text:D.trim(),NestedChannel:!1},MessageType:Sp.Classic}),j(""),W(!1),H(null))},ue=ae=>{const Ee=ae.target.value,rt=ae.target.selectionStart||0;j(Ee);const Ve=de(Ee,rt);if(Ve){const Be=J(Ve);L(Be),H(Ve),W(Be.length>0),$(0)}else W(!1),H(null)},ve=ae=>{if(!U||!z.current)return;console.log("insertMention",ae);const Ee=D.slice(0,U.startIndex),rt=D.slice(z.current.selectionStart||0),Ve=ae.type==="user"?`@${ae.tag} `:`@${ae.tag} `,Be=Ee+Ve+rt;j(Be),W(!1),H(null),setTimeout(()=>{const lt=Ee.length+Ve.length;z.current.setSelectionRange(lt,lt),z.current.focus()},0)},we=ae=>{if(!V){ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),oe());return}switch(ae.key){case"ArrowDown":ae.preventDefault(),$(Ee=>Ee<K.length-1?Ee+1:0);break;case"ArrowUp":ae.preventDefault(),$(Ee=>Ee>0?Ee-1:K.length-1);break;case"Tab":case"Enter":ae.preventDefault(),K[F]&&ve(K[F]);break;case"Escape":ae.preventDefault(),W(!1),H(null);break}},Ne=()=>{if(c.current){const{scrollTop:ae,scrollHeight:Ee,clientHeight:rt}=c.current,Ve=ae+rt>=Ee-1;M(Ve),Ve&&O(!1)}};return P.useEffect(()=>{N?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(cx())):O(!0)},[y,N]),P.useEffect(()=>{S===Xe.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[S]),P.useEffect(()=>{if(G.current&&V){const ae=G.current.children[F];ae&&ae.scrollIntoView({block:"nearest"})}},[F,V]),P.useEffect(()=>{if(!se.current)return;const ae=new IntersectionObserver(([Ee])=>{Ee.isIntersecting&&(console.log("moreMessages"),C>0&&a(cd({accessToken:u,channelId:m,numberOfMessages:C>Rr?Rr:C,fromStart:T})))},{root:c.current,threshold:.1});return ae.observe(se.current),()=>{ae.disconnect()}},[y]),g.jsxs(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[g.jsxs(Ce,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[g.jsx(ct,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:g.jsx(c8,{size:20})}),g.jsx(jt,{leftSection:g.jsx(j8,{size:16}),placeholder:"..."}),g.jsx(ct,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:g.jsx(wT,{size:20})})]}),g.jsx(Cr,{my:"md"}),g.jsx(It,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:Ne,children:g.jsxs(xe,{gap:"sm",children:[w&&y.length<1&&Array.from({length:5}).map((ae,Ee)=>g.jsxs(Ce,{align:"flex-start",gap:"xs",children:[g.jsx(ni,{height:40,width:40,circle:!0}),g.jsxs(re,{style:{flex:1},children:[g.jsx(ni,{height:12,width:"60%",radius:"md"}),g.jsx(ni,{height:10,width:"40%",mt:8,radius:"md"})]})]},Ee)),R===Xe.PENDING&&g.jsx(Fs,{}),y.map((ae,Ee)=>g.jsx("div",{ref:Ee===0?se:null,children:g.jsx(KT,{messageId:ae.id,content:ae.text,isOwnMessage:l.id===ae.authorId,time:ae.createdAt,modifiedAt:ae.modifiedAt,authorId:ae.authorId,editMessage:n,deleteMessage:o})},ae.id))]})}),!N&&A&&g.jsx(re,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:g.jsx(Fy,{size:14,disabled:!v,withBorder:!0,children:g.jsx(ct,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),O(!1),a(cx()))},children:g.jsx(dT,{size:20})})})}),g.jsxs(re,{pos:"relative",children:[V&&K.length>0&&g.jsx(al,{ref:G,shadow:"md",p:"xs",pos:"absolute",bottom:"100%",left:0,right:0,mb:"xs",mah:200,bg:"#43474f",style:{overflow:"auto",zIndex:1e3},children:g.jsx(xe,{gap:"xs",children:K.map((ae,Ee)=>g.jsxs(Ce,{p:"xs",style:{cursor:"pointer",borderRadius:"4px",backgroundColor:Ee===F?"var(--mantine-color-blue-light)":"transparent"},onClick:()=>ve(ae),onMouseEnter:()=>$(Ee),children:[g.jsx(vr,{size:"sm",color:"blue",children:ae.display.charAt(0).toUpperCase()}),g.jsxs(re,{children:[g.jsx(je,{size:"sm",fw:500,children:ae.display}),g.jsxs(je,{size:"xs",c:"dimmed",children:["@",ae.tag,"  ",ae.type]})]})]},ae.id))})}),g.jsxs(Ce,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[E&&g.jsx(ct,{size:"xl",variant:"transparent",children:g.jsx(mT,{size:20})}),g.jsx(ll,{ref:z,w:"100%",placeholder:"...",value:D,onChange:ue,onKeyDown:we,autosize:!0,disabled:!E,minRows:1,maxRows:3}),E&&g.jsx(ct,{size:"xl",variant:"transparent",onClick:oe,children:g.jsx(gT,{size:20})})]})]})]})},H7=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>g.jsxs(re,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[g.jsx(vr,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),g.jsx(je,{c:"white",size:"xs",children:t}),r&&g.jsx(Ie,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:g.jsx(fv,{})})]},e),W7=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>g.jsxs(re,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[g.jsx(vr,{radius:"xl",size:"lg",color:"blue",children:t[0]}),g.jsx(je,{c:"white",children:t}),r&&g.jsx(Ie,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),q7=({users:e,onOpenStream:t})=>{const r=ot(),{currentVoiceChannelId:n}=ge(c=>c.testServerStore),a=_w(e).find(c=>c.roomName===n);return g.jsxs(It,{style:{flex:1,maxHeight:"100%"},children:[g.jsx(Ce,{justify:"flex-end",children:g.jsx(ct,{variant:"transparent",onClick:()=>r(VT()),children:g.jsx(D6,{})})}),g.jsx(Jy,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:l,producerIds:u}])=>{const d=u.length>1;return g.jsx(W7,{socketId:c,userName:l,isStreaming:d,onOpenStream:t},c)})})]})},G7=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=Si(),o=P.useRef(null),a=P.useRef(null),{currentVoiceChannelId:c}=ge(S=>S.testServerStore),u=_w(t).find(S=>S.roomName===c),d=P.useRef(null),m=()=>{d.current&&d.current.scrollBy({left:-100,behavior:"smooth"})},y=()=>{d.current&&d.current.scrollBy({left:100,behavior:"smooth"})},v=S=>{n(S)},w=()=>{n(null),o.current&&(a.current=null,o.current.srcObject=null)};return P.useEffect(()=>{if(!et||!u)return;const S=({producerId:x})=>{e.some(T=>{var R;return T.kind==="video"&&T.producerId===x&&((R=u.users[r])==null?void 0:R.producerIds.includes(x))})&&w()};return et.on("producerClosed",S),()=>{et.off("producerClosed",S)}},[et,e,u,r]),P.useEffect(()=>{var R;if(!r||!u)return;const S=((R=u.users[r])==null?void 0:R.producerIds)??[],x=e.find(p=>p.kind==="video"&&S.includes(p.producerId)),C=e.find(p=>{var h;return p.kind==="audio"&&((h=p.appData)==null?void 0:h.source)==="screen-audio"&&S.includes(p.producerId)}),T=[];if(x!=null&&x.track&&T.push(x.track),C!=null&&C.track&&T.push(C.track),T.length>0){const p=new MediaStream(T);a.current=p,o.current&&(o.current.srcObject=p,o.current.play().catch(h=>console.error("  /:",h)))}},[r,e,u]),g.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?g.jsxs(re,{style:{position:"relative",flex:1},children:[g.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),g.jsxs(Ie,{variant:"filled",color:"red",onClick:w,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[g.jsx(la,{size:20})," "]}),g.jsxs(re,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[g.jsx(Ie,{variant:"subtle",color:"gray",onClick:m,style:{zIndex:1},children:g.jsx(z6,{size:20})}),g.jsx(It,{viewportRef:d,style:{width:"100%"},children:g.jsx(mn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:u&&Object.entries(u.users).map(([S,{userName:x,producerIds:C}])=>{const T=C.length>1;return g.jsx(H7,{socketId:S,userName:x,isStreaming:T,handleUserClick:v},S)})})}),g.jsx(Ie,{variant:"subtle",color:"gray",onClick:y,style:{zIndex:1},children:g.jsx(ca,{size:20})})]})]}):g.jsx(q7,{users:t,onOpenStream:v})})},K7=({userName:e,userTag:t,roleName:r,userId:n})=>{var w;const o=ot(),{showSuccess:a}=Xt(),{roles:c}=ge(S=>S.testServerStore.serverData),{applicationFrom:l}=ge(S=>S.userStore),{accessToken:u,user:d}=ge(S=>S.userStore),m=l.find(S=>S.user.userId===n),y=((w=c.find(S=>S.name===r))==null?void 0:w.color)??"green",v=async()=>{(await o(qc({accessToken:u,userTag:t}))).meta.requestStatus==="fulfilled"&&a("   ")};return g.jsxs(xe,{gap:"xs",justify:"center",align:"center",w:"100%",children:[g.jsx(vr,{size:"md",color:"blue",children:e[0]}),g.jsx(je,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:e}),g.jsx(fn,{color:y,radius:"sm",variant:"light",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:r}),g.jsxs(Ce,{children:[g.jsx(je,{c:"dimmed",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t}),g.jsx(IR,{value:t,timeout:2e3,children:({copied:S,copy:x})=>g.jsx(ps,{label:S?"":"",withArrow:!0,position:"right",children:g.jsx(ct,{color:S?"teal":"gray",variant:"subtle",onClick:x,children:S?g.jsx(mw,{size:16}):g.jsx(gw,{size:16})})})})]}),d.id!==n&&g.jsx(Ie,{variant:"light",radius:"md",onClick:v,disabled:!!m,children:m?" ":"  "})]})},X7=({userId:e,userName:t,userTag:r,roleName:n,roleType:o})=>{var d;const[a,c]=P.useState(!1),{roles:l}=ge(m=>m.testServerStore.serverData),u=((d=l.find(m=>m.name===n))==null?void 0:d.color)??"green";return g.jsxs(ar,{opened:a,onChange:c,position:"left",radius:"md",children:[g.jsx(ar.Target,{children:g.jsxs(mn,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden",cursor:"pointer"},onClick:()=>c(m=>!m),children:[g.jsx(vr,{size:"md",color:"blue",children:t}),g.jsx(ps,{label:t,position:"top-start",withArrow:!0,children:g.jsx(je,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:t})}),g.jsx(ps,{label:n,position:"top-end",withArrow:!0,children:g.jsx(fn,{variant:"light",color:u,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:n})})]})}),g.jsx(ar.Dropdown,{bg:"#43474f",children:g.jsx(K7,{userId:e,userName:t,userTag:r,roleName:n,roleType:o})})]})},Y7=()=>{const{serverData:e}=ge(t=>t.testServerStore);return g.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:g.jsxs(xe,{gap:"md",h:"100%",children:[g.jsx(je,{c:"white",children:""}),g.jsx(Cr,{color:"gray"}),g.jsx(It.Autosize,{mah:"100%",maw:"100%",children:g.jsx(xe,{gap:"xs",children:e.users.map(t=>g.jsx(X7,{userId:t.userId,userName:t.userName,userTag:t.userTag,roleName:t.roleName,roleType:t.roleType},t.userId))})})]})})},J7=({onClose:e,opened:t})=>{const{serverData:r}=ge(n=>n.testServerStore);return g.jsx(Sn,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:g.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:g.jsxs(xe,{gap:"md",h:"100%",children:[g.jsx(je,{c:"white",children:""}),g.jsx(Cr,{color:"gray"}),g.jsx(It.Autosize,{mah:"100%",maw:"100%",children:g.jsx(xe,{gap:"xs",children:r.users.map(n=>g.jsxs(Ce,{wrap:"nowrap",children:[g.jsx(vr,{size:"md",color:"blue",children:n.userName}),g.jsx(je,{c:"white",children:n.userName}),g.jsx(fn,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})},Q7=()=>{const{chat:e}=ge(t=>t.chatsStore);return g.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:g.jsxs(xe,{gap:"md",h:"100%",children:[g.jsx(je,{c:"white",children:""}),g.jsx(Cr,{color:"gray"}),g.jsx(It.Autosize,{mah:"100%",maw:"100%",children:g.jsx(xe,{gap:"xs",children:e.users.map(t=>g.jsx(Qr,{radius:"md",children:g.jsxs(Ce,{children:[g.jsx(vr,{size:"md",color:"blue",children:t.userName?t.userName[0]:"?"}),g.jsx(je,{children:t.userName})]})},t.userId))})})]})})},Z7=()=>{const{user:e}=ge(t=>t.userStore);return g.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:g.jsxs(xe,{gap:"md",align:"center",children:[g.jsx(vr,{size:80,radius:"xl",src:void 0,alt:e.name}),g.jsx(ps,{label:e.name,withArrow:!0,children:g.jsx(Ar,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),g.jsx(ps,{label:e.tag,withArrow:!0,children:g.jsxs(je,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),g.jsx(ps,{label:e.mail,withArrow:!0,children:g.jsxs(je,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),g.jsxs(je,{c:"gray",children:[" : ",BT(e.accontCreateDate)]})]})})},ez=({activeLink:e,setActiveLink:t})=>{const r=ot();return g.jsxs(xe,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[g.jsx(Nr,{label:"",leftSection:g.jsx(h8,{size:16}),rightSection:g.jsx(ca,{size:12}),active:e==="chats",onClick:()=>{t("chats"),r(Pg(null))}}),g.jsx(Nr,{label:"",leftSection:g.jsx(L6,{size:16}),rightSection:g.jsx(ca,{size:12}),active:e==="friends",onClick:()=>{t("friends"),r(Pg(null))}}),g.jsx(Nr,{label:"",leftSection:g.jsx(yl,{size:16}),rightSection:g.jsx(ca,{size:12}),active:e==="settings",onClick:()=>{t("settings"),r(Pg(null))}})]})};function XT(e,t){return function(){return e.apply(t,arguments)}}const{toString:tz}=Object.prototype,{getPrototypeOf:xw}=Object,Rp=(e=>t=>{const r=tz.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ts=e=>(e=e.toLowerCase(),t=>Rp(t)===e),Ep=e=>t=>typeof t===e,{isArray:Ma}=Array,nl=Ep("undefined");function rz(e){return e!==null&&!nl(e)&&e.constructor!==null&&!nl(e.constructor)&&Yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const YT=ts("ArrayBuffer");function nz(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YT(e.buffer),t}const sz=Ep("string"),Yr=Ep("function"),JT=Ep("number"),Tp=e=>e!==null&&typeof e=="object",oz=e=>e===!0||e===!1,Ad=e=>{if(Rp(e)!=="object")return!1;const t=xw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iz=ts("Date"),az=ts("File"),cz=ts("Blob"),lz=ts("FileList"),uz=e=>Tp(e)&&Yr(e.pipe),dz=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yr(e.append)&&((t=Rp(e))==="formdata"||t==="object"&&Yr(e.toString)&&e.toString()==="[object FormData]"))},fz=ts("URLSearchParams"),[pz,hz,mz,gz]=["ReadableStream","Request","Response","Headers"].map(ts),vz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Ma(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let l;for(n=0;n<c;n++)l=a[n],t.call(null,e[l],l,e)}}function QT(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZT=e=>!nl(e)&&e!==ti;function xv(){const{caseless:e}=ZT(this)&&this||{},t={},r=(n,o)=>{const a=e&&QT(t,o)||o;Ad(t[a])&&Ad(n)?t[a]=xv(t[a],n):Ad(n)?t[a]=xv({},n):Ma(n)?t[a]=n.slice():t[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Sl(arguments[n],r);return t}const yz=(e,t,r,{allOwnKeys:n}={})=>(Sl(t,(o,a)=>{r&&Yr(o)?e[a]=XT(o,r):e[a]=o},{allOwnKeys:n}),e),wz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sz=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},bz=(e,t,r,n)=>{let o,a,c;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!n||n(c,e,t))&&!l[c]&&(t[c]=e[c],l[c]=!0);e=r!==!1&&xw(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_z=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},xz=e=>{if(!e)return null;if(Ma(e))return e;let t=e.length;if(!JT(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xw(Uint8Array)),Rz=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},Ez=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Tz=ts("HTMLFormElement"),kz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),gx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Pz=ts("RegExp"),ek=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sl(r,(o,a)=>{let c;(c=t(o,a,e))!==!1&&(n[a]=c||o)}),Object.defineProperties(e,n)},Dz=e=>{ek(e,(t,r)=>{if(Yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Yr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jz=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Ma(e)?n(e):n(String(e).split(t)),r},Iz=()=>{},Mz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Nz(e){return!!(e&&Yr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Lz=e=>{const t=new Array(10),r=(n,o)=>{if(Tp(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const a=Ma(n)?[]:{};return Sl(n,(c,l)=>{const u=r(c,o+1);!nl(u)&&(a[l]=u)}),t[o]=void 0,a}}return n};return r(e,0)},Oz=ts("AsyncFunction"),Az=e=>e&&(Tp(e)||Yr(e))&&Yr(e.then)&&Yr(e.catch),tk=((e,t)=>e?setImmediate:t?((r,n)=>(ti.addEventListener("message",({source:o,data:a})=>{o===ti&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),ti.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yr(ti.postMessage)),$z=typeof queueMicrotask<"u"?queueMicrotask.bind(ti):typeof process<"u"&&process.nextTick||tk,te={isArray:Ma,isArrayBuffer:YT,isBuffer:rz,isFormData:dz,isArrayBufferView:nz,isString:sz,isNumber:JT,isBoolean:oz,isObject:Tp,isPlainObject:Ad,isReadableStream:pz,isRequest:hz,isResponse:mz,isHeaders:gz,isUndefined:nl,isDate:iz,isFile:az,isBlob:cz,isRegExp:Pz,isFunction:Yr,isStream:uz,isURLSearchParams:fz,isTypedArray:Cz,isFileList:lz,forEach:Sl,merge:xv,extend:yz,trim:vz,stripBOM:wz,inherits:Sz,toFlatObject:bz,kindOf:Rp,kindOfTest:ts,endsWith:_z,toArray:xz,forEachEntry:Rz,matchAll:Ez,isHTMLForm:Tz,hasOwnProperty:gx,hasOwnProp:gx,reduceDescriptors:ek,freezeMethods:Dz,toObjectSet:jz,toCamelCase:kz,noop:Iz,toFiniteNumber:Mz,findKey:QT,global:ti,isContextDefined:ZT,isSpecCompliantForm:Nz,toJSONObject:Lz,isAsyncFn:Oz,isThenable:Az,setImmediate:tk,asap:$z};function tt(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}te.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const rk=tt.prototype,nk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nk[e]={value:e}});Object.defineProperties(tt,nk);Object.defineProperty(rk,"isAxiosError",{value:!0});tt.from=(e,t,r,n,o,a)=>{const c=Object.create(rk);return te.toFlatObject(e,c,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),tt.call(c,e.message,t,r,n,o),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const Fz=null;function Cv(e){return te.isPlainObject(e)||te.isArray(e)}function sk(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function vx(e,t,r){return e?e.concat(t).map(function(o,a){return o=sk(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function zz(e){return te.isArray(e)&&!e.some(Cv)}const Bz=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function kp(e,t,r){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!te.isUndefined(C[x])});const n=r.metaTokens,o=r.visitor||m,a=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(o))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(te.isDate(S))return S.toISOString();if(!u&&te.isBlob(S))throw new tt("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(S)||te.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,x,C){let T=S;if(S&&!C&&typeof S=="object"){if(te.endsWith(x,"{}"))x=n?x:x.slice(0,-2),S=JSON.stringify(S);else if(te.isArray(S)&&zz(S)||(te.isFileList(S)||te.endsWith(x,"[]"))&&(T=te.toArray(S)))return x=sk(x),T.forEach(function(p,h){!(te.isUndefined(p)||p===null)&&t.append(c===!0?vx([x],h,a):c===null?x:x+"[]",d(p))}),!1}return Cv(S)?!0:(t.append(vx(C,x,a),d(S)),!1)}const y=[],v=Object.assign(Bz,{defaultVisitor:m,convertValue:d,isVisitable:Cv});function w(S,x){if(!te.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+x.join("."));y.push(S),te.forEach(S,function(T,R){(!(te.isUndefined(T)||T===null)&&o.call(t,T,te.isString(R)?R.trim():R,x,v))===!0&&w(T,x?x.concat(R):[R])}),y.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return w(e),t}function yx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cw(e,t){this._pairs=[],e&&kp(e,this,t)}const ok=Cw.prototype;ok.append=function(t,r){this._pairs.push([t,r])};ok.toString=function(t){const r=t?function(n){return t.call(this,n,yx)}:yx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function Uz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ik(e,t,r){if(!t)return e;const n=r&&r.encode||Uz;te.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=te.isURLSearchParams(t)?t.toString():new Cw(t,r).toString(n),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class wx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ak={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vz=typeof URLSearchParams<"u"?URLSearchParams:Cw,Hz=typeof FormData<"u"?FormData:null,Wz=typeof Blob<"u"?Blob:null,qz={isBrowser:!0,classes:{URLSearchParams:Vz,FormData:Hz,Blob:Wz},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",Rv=typeof navigator=="object"&&navigator||void 0,Gz=Rw&&(!Rv||["ReactNative","NativeScript","NS"].indexOf(Rv.product)<0),Kz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xz=Rw&&window.location.href||"http://localhost",Yz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:Gz,hasStandardBrowserWebWorkerEnv:Kz,navigator:Rv,origin:Xz},Symbol.toStringTag,{value:"Module"})),mr={...Yz,...qz};function Jz(e,t){return kp(e,new mr.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return mr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Qz(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zz(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function ck(e){function t(r,n,o,a){let c=r[a++];if(c==="__proto__")return!0;const l=Number.isFinite(+c),u=a>=r.length;return c=!c&&te.isArray(o)?o.length:c,u?(te.hasOwnProp(o,c)?o[c]=[o[c],n]:o[c]=n,!l):((!o[c]||!te.isObject(o[c]))&&(o[c]=[]),t(r,n,o[c],a)&&te.isArray(o[c])&&(o[c]=Zz(o[c])),!l)}if(te.isFormData(e)&&te.isFunction(e.entries)){const r={};return te.forEachEntry(e,(n,o)=>{t(Qz(n),o,r,0)}),r}return null}function eB(e,t,r){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const bl={transitional:ak,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=te.isObject(t);if(a&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return o?JSON.stringify(ck(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Jz(t,this.formSerializer).toString();if((l=te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return kp(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),eB(t)):t}],transformResponse:[function(t){const r=this.transitional||bl.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(n&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(c)throw l.name==="SyntaxError"?tt.from(l,tt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mr.classes.FormData,Blob:mr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{bl.headers[e]={}});const tB=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rB=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),n=c.substring(o+1).trim(),!(!r||t[r]&&tB[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Sx=Symbol("internals");function Mc(e){return e&&String(e).trim().toLowerCase()}function $d(e){return e===!1||e==null?e:te.isArray(e)?e.map($d):String(e)}function nB(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const sB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dg(e,t,r,n,o){if(te.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!te.isString(t)){if(te.isString(n))return t.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(t)}}function oB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function iB(e,t){const r=te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,c){return this[n].call(this,t,o,a,c)},configurable:!0})})}let $r=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(l,u,d){const m=Mc(u);if(!m)throw new Error("header name must be a non-empty string");const y=te.findKey(o,m);(!y||o[y]===void 0||d===!0||d===void 0&&o[y]!==!1)&&(o[y||u]=$d(l))}const c=(l,u)=>te.forEach(l,(d,m)=>a(d,m,u));if(te.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(te.isString(t)&&(t=t.trim())&&!sB(t))c(rB(t),r);else if(te.isHeaders(t))for(const[l,u]of t.entries())a(u,l,n);else t!=null&&a(r,t,n);return this}get(t,r){if(t=Mc(t),t){const n=te.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return nB(o);if(te.isFunction(r))return r.call(this,o,n);if(te.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Mc(t),t){const n=te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Dg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(c){if(c=Mc(c),c){const l=te.findKey(n,c);l&&(!r||Dg(n,n[l],l,r))&&(delete n[l],o=!0)}}return te.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||Dg(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return te.forEach(this,(o,a)=>{const c=te.findKey(n,a);if(c){r[c]=$d(o),delete r[a];return}const l=t?oB(a):String(a).trim();l!==a&&delete r[a],r[l]=$d(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return te.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Sx]=this[Sx]={accessors:{}}).accessors,o=this.prototype;function a(c){const l=Mc(c);n[l]||(iB(o,c),n[l]=!0)}return te.isArray(t)?t.forEach(a):a(t),this}};$r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors($r.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});te.freezeMethods($r);function jg(e,t){const r=this||bl,n=t||r,o=$r.from(n.headers);let a=n.data;return te.forEach(e,function(l){a=l.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function lk(e){return!!(e&&e.__CANCEL__)}function Na(e,t,r){tt.call(this,e??"canceled",tt.ERR_CANCELED,t,r),this.name="CanceledError"}te.inherits(Na,tt,{__CANCEL__:!0});function uk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new tt("Request failed with status code "+r.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function aB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cB(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,c;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),m=n[a];c||(c=d),r[o]=u,n[o]=d;let y=a,v=0;for(;y!==o;)v+=r[y++],y=y%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),d-c<t)return;const w=m&&d-m;return w?Math.round(v*1e3/w):void 0}}function lB(e,t){let r=0,n=1e3/t,o,a;const c=(d,m=Date.now())=>{r=m,o=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const m=Date.now(),y=m-r;y>=n?c(d,m):(o=d,a||(a=setTimeout(()=>{a=null,c(o)},n-y)))},()=>o&&c(o)]}const mf=(e,t,r=3)=>{let n=0;const o=cB(50,250);return lB(a=>{const c=a.loaded,l=a.lengthComputable?a.total:void 0,u=c-n,d=o(u),m=c<=l;n=c;const y={loaded:c,total:l,progress:l?c/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&m?(l-c)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(y)},r)},bx=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_x=e=>(...t)=>te.asap(()=>e(...t)),uB=mr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,mr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(mr.origin),mr.navigator&&/(msie|trident)/i.test(mr.navigator.userAgent)):()=>!0,dB=mr.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const c=[e+"="+encodeURIComponent(t)];te.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),te.isString(n)&&c.push("path="+n),te.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dk(e,t,r){let n=!fB(t);return e&&n||r==!1?pB(e,t):t}const xx=e=>e instanceof $r?{...e}:e;function fi(e,t){t=t||{};const r={};function n(d,m,y,v){return te.isPlainObject(d)&&te.isPlainObject(m)?te.merge.call({caseless:v},d,m):te.isPlainObject(m)?te.merge({},m):te.isArray(m)?m.slice():m}function o(d,m,y,v){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d,y,v)}else return n(d,m,y,v)}function a(d,m){if(!te.isUndefined(m))return n(void 0,m)}function c(d,m){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function l(d,m,y){if(y in t)return n(d,m);if(y in e)return n(void 0,d)}const u={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l,headers:(d,m,y)=>o(xx(d),xx(m),y,!0)};return te.forEach(Object.keys(Object.assign({},e,t)),function(m){const y=u[m]||o,v=y(e[m],t[m],m);te.isUndefined(v)&&y!==l||(r[m]=v)}),r}const fk=e=>{const t=fi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:l}=t;t.headers=c=$r.from(c),t.url=ik(dk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&c.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(te.isFormData(r)){if(mr.hasStandardBrowserEnv||mr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((u=c.getContentType())!==!1){const[d,...m]=u?u.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([d||"multipart/form-data",...m].join("; "))}}if(mr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(t)),n||n!==!1&&uB(t.url))){const d=o&&a&&dB.read(a);d&&c.set(o,d)}return t},hB=typeof XMLHttpRequest<"u",mB=hB&&function(e){return new Promise(function(r,n){const o=fk(e);let a=o.data;const c=$r.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=o,m,y,v,w,S;function x(){w&&w(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function T(){if(!C)return;const p=$r.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:p,config:e,request:C};uk(function(D){r(D),x()},function(D){n(D),x()},b),C=null}"onloadend"in C?C.onloadend=T:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(T)},C.onabort=function(){C&&(n(new tt("Request aborted",tt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){n(new tt("Network Error",tt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let h=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const b=o.transitional||ak;o.timeoutErrorMessage&&(h=o.timeoutErrorMessage),n(new tt(h,b.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,e,C)),C=null},a===void 0&&c.setContentType(null),"setRequestHeader"in C&&te.forEach(c.toJSON(),function(h,b){C.setRequestHeader(b,h)}),te.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),l&&l!=="json"&&(C.responseType=o.responseType),d&&([v,S]=mf(d,!0),C.addEventListener("progress",v)),u&&C.upload&&([y,w]=mf(u),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(m=p=>{C&&(n(!p||p.type?new Na(null,e,C):p),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const R=aB(o.url);if(R&&mr.protocols.indexOf(R)===-1){n(new tt("Unsupported protocol "+R+":",tt.ERR_BAD_REQUEST,e));return}C.send(a||null)})},gB=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(d){if(!o){o=!0,l();const m=d instanceof Error?d:this.reason;n.abort(m instanceof tt?m:new Na(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,a(new tt(`timeout ${t} of ms exceeded`,tt.ETIMEDOUT))},t);const l=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>te.asap(l),u}},vB=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},yB=async function*(e,t){for await(const r of wB(e))yield*vB(r,t)},wB=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Cx=(e,t,r,n)=>{const o=yB(e,t);let a=0,c,l=u=>{c||(c=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:m}=await o.next();if(d){l(),u.close();return}let y=m.byteLength;if(r){let v=a+=y;r(v)}u.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},Pp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pk=Pp&&typeof ReadableStream=="function",SB=Pp&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),hk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bB=pk&&hk(()=>{let e=!1;const t=new Request(mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Rx=64*1024,Ev=pk&&hk(()=>te.isReadableStream(new Response("").body)),gf={stream:Ev&&(e=>e.body)};Pp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!gf[t]&&(gf[t]=te.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new tt(`Response type '${t}' is not supported`,tt.ERR_NOT_SUPPORT,n)})})})(new Response);const _B=async e=>{if(e==null)return 0;if(te.isBlob(e))return e.size;if(te.isSpecCompliantForm(e))return(await new Request(mr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(te.isArrayBufferView(e)||te.isArrayBuffer(e))return e.byteLength;if(te.isURLSearchParams(e)&&(e=e+""),te.isString(e))return(await SB(e)).byteLength},xB=async(e,t)=>{const r=te.toFiniteNumber(e.getContentLength());return r??_B(t)},CB=Pp&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:c,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:m,withCredentials:y="same-origin",fetchOptions:v}=fk(e);d=d?(d+"").toLowerCase():"text";let w=gB([o,a&&a.toAbortSignal()],c),S;const x=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(u&&bB&&r!=="get"&&r!=="head"&&(C=await xB(m,n))!==0){let b=new Request(t,{method:"POST",body:n,duplex:"half"}),E;if(te.isFormData(n)&&(E=b.headers.get("content-type"))&&m.setContentType(E),b.body){const[D,j]=bx(C,mf(_x(u)));n=Cx(b.body,Rx,D,j)}}te.isString(y)||(y=y?"include":"omit");const T="credentials"in Request.prototype;S=new Request(t,{...v,signal:w,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:T?y:void 0});let R=await fetch(S);const p=Ev&&(d==="stream"||d==="response");if(Ev&&(l||p&&x)){const b={};["status","statusText","headers"].forEach(N=>{b[N]=R[N]});const E=te.toFiniteNumber(R.headers.get("content-length")),[D,j]=l&&bx(E,mf(_x(l),!0))||[];R=new Response(Cx(R.body,Rx,D,()=>{j&&j(),x&&x()}),b)}d=d||"text";let h=await gf[te.findKey(gf,d)||"text"](R,e);return!p&&x&&x(),await new Promise((b,E)=>{uk(b,E,{data:h,headers:$r.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:S})})}catch(T){throw x&&x(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,e,S),{cause:T.cause||T}):tt.from(T,T&&T.code,e,S)}}),Tv={http:Fz,xhr:mB,fetch:CB};te.forEach(Tv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ex=e=>`- ${e}`,RB=e=>te.isFunction(e)||e===null||e===!1,mk={getAdapter:e=>{e=te.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){r=e[a];let c;if(n=r,!RB(r)&&(n=Tv[(c=String(r)).toLowerCase()],n===void 0))throw new tt(`Unknown adapter '${c}'`);if(n)break;o[c||"#"+a]=n}if(!n){const a=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(Ex).join(`
`):" "+Ex(a[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:Tv};function Ig(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Na(null,e)}function Tx(e){return Ig(e),e.headers=$r.from(e.headers),e.data=jg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mk.getAdapter(e.adapter||bl.adapter)(e).then(function(n){return Ig(e),n.data=jg.call(e,e.transformResponse,n),n.headers=$r.from(n.headers),n},function(n){return lk(n)||(Ig(e),n&&n.response&&(n.response.data=jg.call(e,e.transformResponse,n.response),n.response.headers=$r.from(n.response.headers))),Promise.reject(n)})}const gk="1.8.3",Dp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const kx={};Dp.transitional=function(t,r,n){function o(a,c){return"[Axios v"+gk+"] Transitional option '"+a+"'"+c+(n?". "+n:"")}return(a,c,l)=>{if(t===!1)throw new tt(o(c," has been removed"+(r?" in "+r:"")),tt.ERR_DEPRECATED);return r&&!kx[c]&&(kx[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,c,l):!0}};Dp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function EB(e,t,r){if(typeof e!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],c=t[a];if(c){const l=e[a],u=l===void 0||c(l,a,e);if(u!==!0)throw new tt("option "+a+" must be "+u,tt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new tt("Unknown option "+a,tt.ERR_BAD_OPTION)}}const Fd={assertOptions:EB,validators:Dp},cs=Fd.validators;let ii=class{constructor(t){this.defaults=t,this.interceptors={request:new wx,response:new wx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=fi(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Fd.assertOptions(n,{silentJSONParsing:cs.transitional(cs.boolean),forcedJSONParsing:cs.transitional(cs.boolean),clarifyTimeoutError:cs.transitional(cs.boolean)},!1),o!=null&&(te.isFunction(o)?r.paramsSerializer={serialize:o}:Fd.assertOptions(o,{encode:cs.function,serialize:cs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fd.assertOptions(r,{baseUrl:cs.spelling("baseURL"),withXsrfToken:cs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&te.merge(a.common,a[r.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),r.headers=$r.concat(c,a);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let m,y=0,v;if(!u){const S=[Tx.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,d),v=S.length,m=Promise.resolve(r);y<v;)m=m.then(S[y++],S[y++]);return m}v=l.length;let w=r;for(y=0;y<v;){const S=l[y++],x=l[y++];try{w=S(w)}catch(C){x.call(this,C);break}}try{m=Tx.call(this,w)}catch(S){return Promise.reject(S)}for(y=0,v=d.length;y<v;)m=m.then(d[y++],d[y++]);return m}getUri(t){t=fi(this.defaults,t);const r=dk(t.baseURL,t.url,t.allowAbsoluteUrls);return ik(r,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){ii.prototype[t]=function(r,n){return this.request(fi(n||{},{method:t,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(t){function r(n){return function(a,c,l){return this.request(fi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}ii.prototype[t]=r(),ii.prototype[t+"Form"]=r(!0)});let TB=class vk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(l=>{n.subscribe(l),a=l}).then(o);return c.cancel=function(){n.unsubscribe(a)},c},t(function(a,c,l){n.reason||(n.reason=new Na(a,c,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new vk(function(o){t=o}),cancel:t}}};function kB(e){return function(r){return e.apply(null,r)}}function PB(e){return te.isObject(e)&&e.isAxiosError===!0}const kv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kv).forEach(([e,t])=>{kv[t]=e});function yk(e){const t=new ii(e),r=XT(ii.prototype.request,t);return te.extend(r,ii.prototype,t,{allOwnKeys:!0}),te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return yk(fi(e,o))},r}const At=yk(bl);At.Axios=ii;At.CanceledError=Na;At.CancelToken=TB;At.isCancel=lk;At.VERSION=gk;At.toFormData=kp;At.AxiosError=tt;At.Cancel=At.CanceledError;At.all=function(t){return Promise.all(t)};At.spread=kB;At.isAxiosError=PB;At.mergeConfig=fi;At.AxiosHeaders=$r;At.formToJSON=e=>ck(te.isHTMLForm(e)?new FormData(e):e);At.getAdapter=mk.getAdapter;At.HttpStatusCode=kv;At.default=At;const{Axios:HU,AxiosError:Po,CanceledError:WU,isCancel:qU,CancelToken:GU,VERSION:KU,all:XU,Cancel:YU,isAxiosError:JU,spread:QU,toFormData:ZU,AxiosHeaders:eV,HttpStatusCode:tV,formToJSON:rV,getAdapter:nV,mergeConfig:sV}=At,qs=At.create({baseURL:"https://hitscord-backend.online/api",headers:{"Content-Type":"application/json"}});qs.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const DB=async e=>{const{data:t}=await qs.post("/chat/create",{userTag:e});return t},jB=async(e,t)=>{await qs.put("/chat/name",{chatId:e,name:t})},IB=async()=>{const{data:e}=await qs.get("/chat/list");return e},MB=async e=>{const{data:t}=await qs.get("/chat/info",{params:{id:e}});return t},wk=async(e,t,r)=>{const{data:n}=await qs.get("/chat/messages",{params:{chatId:e,number:t,fromStart:r}});return n},NB=async(e,t)=>{await qs.put("/chat/add",{chatId:e,userTag:t})},LB=async e=>{await qs.delete("/chat/goout",{data:{id:e}})},zd=Me("chatsSlice/createChat",async({userTag:e},{rejectWithValue:t})=>{var r,n;try{return await DB(e)}catch(o){return o instanceof Po?t(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Bd=Me("chatsSlice/changeChatName",async({chatId:e,name:t},{rejectWithValue:r})=>{var n,o;try{await jB(e,t)}catch(a){return a instanceof Po?r(((o=(n=a.response)==null?void 0:n.data)==null?void 0:o.message)||" "):r(" ")}}),Ud=Me("chatsSlice/getChats",async(e,{rejectWithValue:t})=>{var r,n;try{return await IB()}catch(o){return o instanceof Po?t(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Vd=Me("chatsSlice/getChatInfo",async({chatId:e},{rejectWithValue:t})=>{var r,n;try{return await MB(e)}catch(o){return o instanceof Po?t(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),Hd=Me("chatsSlice/getChatMessages",async({chatId:e,number:t,fromStart:r},{rejectWithValue:n})=>{var o,a;try{return await wk(e,t,r)}catch(c){return c instanceof Po?n(((a=(o=c.response)==null?void 0:o.data)==null?void 0:a.message)||" "):n(" ")}}),Wd=Me("chatsSlice/getMoreChatMessages",async({chatId:e,number:t,fromStart:r},{rejectWithValue:n})=>{var o,a;try{return await wk(e,t,r)}catch(c){return c instanceof Po?n(((a=(o=c.response)==null?void 0:o.data)==null?void 0:a.message)||" "):n(" ")}}),qd=Me("chatsSlice/addUserInChat",async({chatId:e,userTag:t},{rejectWithValue:r})=>{var n,o;try{await NB(e,t)}catch(a){return a instanceof Po?r(((o=(n=a.response)==null?void 0:n.data)==null?void 0:o.message)||" "):r(" ")}}),Gd=Me("chatsSlice/goOutFromChat",async({id:e},{rejectWithValue:t})=>{var r,n;try{await LB(e)}catch(o){return o instanceof Po?t(((n=(r=o.response)==null?void 0:r.data)==null?void 0:n.message)||" "):t(" ")}}),OB={chatsList:[],chatsLoading:Xe.IDLE,error:"",chat:{chatId:"",chatName:"",users:[]},activeChat:null,chatLoading:Xe.IDLE,messages:[],messagesStatus:Xe.IDLE,messageIsLoading:Xe.IDLE,numberOfStarterMessage:0,remainingMessagesCount:Rr},Sk=ja({name:"chats",initialState:OB,reducers:{setActiveChat:(e,t)=>{e.activeChat=t.payload,e.error=""},addChatMessage:(e,t)=>{const{chatId:r}=t.payload;r===e.activeChat&&e.messages.push(t.payload)},deleteChatMessageWS:(e,t)=>{e.activeChat===t.payload.chatId&&(e.messages=e.messages.filter(r=>r.id!==t.payload.messageId))},editChatMessageWS:(e,t)=>{if(e.activeChat===t.payload.chatId){const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)}}},extraReducers:e=>{e.addCase(zd.pending,t=>{t.error=""}).addCase(zd.fulfilled,(t,r)=>{t.chatsList=[...t.chatsList,r.payload],t.error=""}).addCase(zd.rejected,(t,r)=>{t.error=r.payload}).addCase(Bd.pending,t=>{t.error=""}).addCase(Bd.fulfilled,(t,{meta:r})=>{const{chatId:n,name:o}=r.arg;t.chatsList=t.chatsList.map(a=>a.chatId===n?{...a,name:o}:a),t.chat.chatId===n&&(t.chat.chatName=o),t.error=""}).addCase(Bd.rejected,(t,r)=>{t.error=r.payload}).addCase(Ud.pending,t=>{t.error="",t.chatsList=[],t.chatsLoading=Xe.PENDING}).addCase(Ud.fulfilled,(t,r)=>{t.chatsList=r.payload.chatsList,t.chatsLoading=Xe.FULFILLED,t.error=""}).addCase(Ud.rejected,(t,r)=>{t.chatsLoading=Xe.REJECTED,t.chat={chatId:"",chatName:"",users:[]},t.error=r.payload}).addCase(Vd.pending,t=>{t.error="",t.chat={chatId:"",chatName:"",users:[]},t.numberOfStarterMessage=0,t.remainingMessagesCount=Rr,t.messages=[],t.chatLoading=Xe.PENDING}).addCase(Vd.fulfilled,(t,r)=>{t.chat=r.payload,t.chatLoading=Xe.FULFILLED,t.error=""}).addCase(Vd.rejected,(t,r)=>{t.chatLoading=Xe.REJECTED,t.error=r.payload}).addCase(Hd.pending,t=>{t.messagesStatus=Xe.PENDING,t.error=""}).addCase(Hd.fulfilled,(t,r)=>{t.messages=r.payload.messages,t.messagesStatus=Xe.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=Rr),t.error=""}).addCase(Hd.rejected,(t,r)=>{t.messagesStatus=Xe.REJECTED,t.error=r.payload}).addCase(Wd.pending,t=>{t.messageIsLoading=Xe.PENDING,t.error=""}).addCase(Wd.fulfilled,(t,r)=>{t.messages=[...r.payload.messages,...t.messages],t.messageIsLoading=Xe.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=t.numberOfStarterMessage+Rr),t.error=""}).addCase(Wd.rejected,(t,r)=>{t.messageIsLoading=Xe.REJECTED,t.error=r.payload}).addCase(Gd.fulfilled,(t,{meta:r})=>{const n=r.arg.id;t.chatsList=t.chatsList.filter(o=>o.chatId!==n),t.error=""}).addMatcher(xr(qd.pending,Gd.pending),t=>{t.error=""}).addMatcher(xr(qd.fulfilled),t=>{t.error=""}).addMatcher(xr(qd.rejected,Gd.rejected),(t,r)=>{t.error=r.payload})}}),{setActiveChat:Ew,addChatMessage:oV,deleteChatMessageWS:iV,editChatMessageWS:aV}=Sk.actions,AB=Sk.reducer,$B=({opened:e,close:t})=>{const r=ot(),{showSuccess:n}=Xt(),{activeChat:o}=ge(u=>u.chatsStore),[a,c]=P.useState(""),l=async()=>{o&&(await r(qd({chatId:o,userTag:a.trim()}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:" usertag",placeholder:"usertag#000000",value:a,onChange:u=>c(u.currentTarget.value)}),g.jsx(Ce,{justify:"flex-end",children:g.jsx(Ie,{onClick:l,children:""})})]})})},FB=()=>{const[e,{open:t,close:r}]=Dt(!1);return g.jsxs(g.Fragment,{children:[g.jsx(Ie,{leftSection:g.jsx(K8,{}),variant:"subtle",onClick:t,children:" "}),g.jsx($B,{opened:e,close:r})]})},zB=({opened:e,close:t,currentChat:r,setCurrentChat:n})=>{const o=ot(),{showSuccess:a}=Xt(),[c,l]=P.useState(""),u=async()=>{r&&(await o(Bd({chatId:r.chatId,name:c.trim()}))).meta.requestStatus==="fulfilled"&&(a("  "),t(),n(null))};return P.useEffect(()=>{r&&l(r.chatName)},[r]),g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:"  ",placeholder:"",value:c,onChange:d=>l(d.currentTarget.value)}),g.jsx(Ce,{justify:"flex-end",children:g.jsx(Ie,{onClick:u,children:""})})]})})},BB=()=>{const{chat:e}=ge(l=>l.chatsStore),[t,{open:r,close:n}]=Dt(!1),[o,a]=P.useState(null),c=()=>{a(e),r()};return g.jsxs(g.Fragment,{children:[g.jsx(ct,{variant:"subtle","aria-label":"Edit",onClick:c,children:g.jsx(yp,{size:20})}),g.jsx(zB,{opened:t,close:n,currentChat:o,setCurrentChat:a})]})},UB=e=>{const t=ot(),{messages:r,remainingMessagesCount:n,numberOfStarterMessage:o,messagesStatus:a,activeChat:c,chat:l}=ge(d=>d.chatsStore),u=P.useRef(null);return P.useEffect(()=>{c&&t(Vd({chatId:c}))},[c]),P.useEffect(()=>{l.chatId&&t(Hd({chatId:l.chatId,number:Rr,fromStart:o}))},[l]),P.useEffect(()=>{if(!u.current&&l.chatId)return;const d=new IntersectionObserver(([m])=>{m.isIntersecting&&n>0&&t(Wd({chatId:l.chatId,number:Math.min(n,Rr),fromStart:o}))},{root:e.current,threshold:.1});return u.current&&d.observe(u.current),()=>{d.disconnect()}},[r,l]),{messages:r,messagesStatus:a,firstMessageElementRef:u,chat:l}},bk=P.createContext(null),VB=e=>{const t=ot(),{showMessage:r,showError:n}=Xt(),{accessToken:o}=ge(w=>w.userStore),{currentServerId:a}=ge(w=>w.testServerStore),c=P.useRef(null);P.useEffect(()=>{if(o){const w=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${o}`);return w.onopen=()=>{setInterval(()=>{w.readyState===WebSocket.OPEN&&w.send(JSON.stringify({type:"ping"}))},5*60*1e3)},w.onmessage=S=>{const x=JSON.parse(S.data);if(console.log(x),x.MessageType==="New message"){const C=pf(x.Payload);C.id&&C.text&&t(OT(C))}if(x.MessageType==="New message in chat"){const C=hf(x.Payload);C.id&&C.text&&t(WT(C))}if(x.MessageType==="Deleted message"&&t(AT({channelId:x.Payload.ChannelId,messageId:x.Payload.MessageId})),x.MessageType==="Deleted message in chat"&&t(qT({chatId:x.Payload.ChatId,messageId:x.Payload.MessageId})),x.MessageType==="Updated message"){const C=pf(x.Payload);t($T(C))}if(x.MessageType==="Updated message in chat"){const C=hf(x.Payload);t(GT(C))}if(x.MessageType==="User notified"&&r&&r(x.Payload.Text),x.MessageType==="ErrorWithMessage"){const C=`${x.Payload.Object}: ${x.Payload.Message}`;n(C)}},w.onerror=S=>{console.error("WebSocket error:",S)},c.current=w,()=>{console.log("Closing WebSocket connection"),w.close()}}},[o,a,t]);const l=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"New message",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[]),u=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"New message chat",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[c]),d=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"Update message",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[]),m=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"Update message chat",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[c]),y=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"Delete message",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[]),v=P.useCallback(w=>{var S;if(c.current&&c.current.readyState===WebSocket.OPEN){const x={Type:"Delete message chat",Content:w};c.current.send(JSON.stringify(x))}else console.error("WebSocket is not open. Ready state:",(S=c.current)==null?void 0:S.readyState)},[c]);return g.jsx(bk.Provider,{value:{sendMessage:l,sendChatMessage:u,editMessage:d,editChatMessage:m,deleteMessage:y,deleteChatMessage:v},children:e.children})},_k=()=>{const e=P.useContext(bk);if(!e)throw new Error("useWebSocket must be used within WebSocketProvider");return e},HB=({scrollRef:e})=>{const{user:t}=ge(l=>l.userStore),{editChatMessage:r,deleteChatMessage:n}=_k(),{messages:o,messagesStatus:a,firstMessageElementRef:c}=UB(e);return g.jsxs(xe,{gap:"sm",children:[a===Xe.PENDING&&g.jsx(Fs,{}),o.map((l,u)=>g.jsx("div",{ref:u===0?c:null,children:g.jsx(KT,{messageId:l.id,content:l.text,isOwnMessage:t.id===l.authorId,time:l.createdAt,modifiedAt:l.modifiedAt,authorId:l.authorId,editMessage:r,deleteMessage:n})},l.id))]})},WB=({chatId:e})=>{const t=ot(),r=async()=>{if(!e)return;(await t(Gd({id:e}))).meta.requestStatus==="fulfilled"&&t(Ew(null))};return g.jsx(Ie,{leftSection:g.jsx(pT,{}),variant:"subtle",color:"red",onClick:r,children:" "})},qB=async(e,t)=>{const r=new FormData;r.append("ChannelId",e),r.append("File",t);const{data:n}=await qs.post("/files/message",r,{headers:{"Content-Type":"multipart/form-data"}});return n},GB=()=>{const{sendChatMessage:e}=_k(),{accessToken:t}=ge(w=>w.userStore),{chat:r}=ge(w=>w.chatsStore),[n,o]=P.useState(""),[a,c]=P.useState([]),[l,u]=P.useState(!1),d=()=>{n.trim()&&r.chatId&&(e({Token:t,ChannelId:r.chatId,Classic:{Text:n.trim(),Files:a.map(w=>w.id),NestedChannel:!1},MessageType:Sp.Classic}),o(""),c([]))},m=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),d())},y=async w=>{if(!w.target.files||!(r!=null&&r.chatId))return;u(!0);const S=[];for(const x of Array.from(w.target.files))try{const C=await qB(r.chatId,x);S.push({id:C.fileId,name:C.fileName})}catch(C){console.error("  ",C)}c(x=>[...x,...S]),u(!1),w.target.value=""},v=w=>{c(S=>S.filter(x=>x.id!==w))};return g.jsxs(g.Fragment,{children:[a.length>0&&g.jsx(re,{style:{position:"absolute",bottom:"100%",left:0,right:0,padding:"6px",backgroundColor:"#1E1F22",borderTopLeftRadius:8,borderTopRightRadius:8},children:g.jsx(It,{scrollbarSize:4,type:"auto",children:g.jsx(Ce,{wrap:"nowrap",children:a.map(w=>g.jsx(Qr,{shadow:"sm",padding:"xs",radius:"md",withBorder:!0,style:{minWidth:140},children:g.jsxs(Ce,{gap:"xs",justify:"space-between",align:"center",wrap:"nowrap",children:[g.jsx(J6,{size:16}),g.jsx(je,{size:"xs",truncate:!0,children:w.name}),g.jsx(ct,{size:"sm",variant:"subtle",color:"red",onClick:()=>v(w.id),children:g.jsx(la,{size:14})})]})},w.id))})})}),g.jsxs(Ce,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[g.jsxs(ct,{component:"label",size:"xl",variant:"transparent",disabled:l,children:[g.jsx(mT,{size:20}),g.jsx("input",{type:"file",hidden:!0,multiple:!0,onChange:y})]}),g.jsx(ll,{w:"100%",placeholder:"...",value:n,onChange:w=>o(w.currentTarget.value),onKeyDown:m,autosize:!0,minRows:1,maxRows:3}),g.jsx(ct,{size:"xl",variant:"transparent",onClick:d,children:g.jsx(gT,{size:20})})]})]})},KB=({messagesStatus:e,dependencies:t=[]})=>{const r=P.useRef(null),[n,o]=P.useState(!0),[a,c]=P.useState(!1),l=P.useCallback(()=>{if(!r.current)return;const{scrollTop:d,scrollHeight:m,clientHeight:y}=r.current,v=d+y>=m-1;o(v),v&&c(!1)},[r]),u=P.useCallback((d="smooth")=>{r.current&&(r.current.scrollTo({top:r.current.scrollHeight,behavior:d}),c(!1))},[r]);return P.useEffect(()=>{n?r.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"smooth"}):c(!0)},[...t,n,u]),P.useEffect(()=>{e===Xe.FULFILLED&&r.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"instant"})},[e]),{scrollRef:r,isAtBottom:n,showButton:a,handleScroll:l,scrollToBottom:u}},XB=()=>{const e=ot(),{messages:t,chat:r,messagesStatus:n}=ge(m=>m.chatsStore),{scrollRef:o,isAtBottom:a,showButton:c,handleScroll:l,scrollToBottom:u}=KB({messagesStatus:n,dependencies:[t]}),d=()=>{e(Ew(null))};return g.jsxs(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[g.jsxs(Ce,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[g.jsxs(Ce,{align:"center",children:[g.jsx(ct,{variant:"subtle","aria-label":"Back",onClick:d,children:g.jsx(hw,{size:20})}),g.jsxs(xe,{gap:0,children:[g.jsxs(Ce,{children:[g.jsx(Ar,{order:4,children:r.chatName}),g.jsx(BB,{})]}),g.jsxs(je,{size:"xs",c:"dimmed",children:[r.users.length," "]})]})]}),g.jsxs(Ce,{children:[g.jsx(FB,{}),g.jsx(WB,{chatId:r.chatId})]})]}),g.jsx(Cr,{my:"md"}),g.jsx(It,{viewportRef:o,style:{flex:1,padding:10},onScrollPositionChange:l,children:g.jsx(HB,{scrollRef:o})}),!a&&c&&g.jsx(re,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:g.jsx(ct,{size:"lg",variant:"filled",onClick:()=>u(),children:g.jsx(dT,{size:20})})}),g.jsx(re,{pos:"relative",children:g.jsx(GB,{})})]})},YB=({opened:e,onClose:t})=>{const r=ot(),{showSuccess:n}=Xt(),[o,a]=P.useState(""),c=async()=>{(await r(zd({userTag:o}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:" usertag",placeholder:"usertag#000000",value:o,onChange:l=>a(l.currentTarget.value)}),g.jsx(Ce,{justify:"flex-end",children:g.jsx(Ie,{onClick:c,children:""})})]})})},JB=({onCreateChatClick:e})=>{const t=ot(),{chatsList:r,chatsLoading:n}=ge(a=>a.chatsStore),o=a=>{t(Ew(a))};return P.useEffect(()=>{t(Ud())},[]),g.jsxs(xe,{w:"100%",gap:"md",p:"md",children:[g.jsxs(Ce,{justify:"space-between",children:[g.jsx(Ar,{order:1,children:""}),g.jsx(Ie,{leftSection:g.jsx(li,{}),onClick:e,children:" "})]}),g.jsx(It,{style:{flex:1,maxHeight:"100%"},children:g.jsxs(xe,{gap:"xs",children:[r.map(a=>g.jsx(Qr,{bg:"#1a1b1e",padding:"xs",radius:"md",c:"#fff",p:"md",children:g.jsxs(xe,{children:[g.jsxs(Ce,{wrap:"nowrap",children:[g.jsx(u8,{size:24,style:{flexShrink:0}}),g.jsx(Ar,{order:3,children:a.chatName})]}),g.jsx(Ie,{variant:"light",radius:"md",onClick:()=>o(a.chatId),children:" "})]})},a.chatId)),n===Xe.PENDING&&g.jsx(Fs,{})]})})]})},QB=()=>{const[e,{open:t,close:r}]=Dt(!1),{activeChat:n}=ge(o=>o.chatsStore);return g.jsx(g.Fragment,{children:n?g.jsx(XB,{}):g.jsxs(g.Fragment,{children:[g.jsx(JB,{onCreateChatClick:t}),g.jsx(YB,{opened:e,onClose:r})]})})},ZB=({opened:e,close:t})=>{const r=ot(),{showSuccess:n}=Xt(),{accessToken:o}=ge(u=>u.userStore),[a,c]=P.useState(""),l=async()=>{(await r(qc({accessToken:o,userTag:a.trim()}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:" usertag",placeholder:"usertag#000000",value:a,onChange:u=>c(u.currentTarget.value)}),g.jsx(Ce,{justify:"flex-end",children:g.jsx(Ie,{onClick:l,children:""})})]})})};var ai=(e=>(e.APPLICATION_FROM="APPLICATION_FROM",e.APPLICATION_TO="APPLICATION_TO",e.FRIEND="FRIEND",e))(ai||{});const Mg=({applicationId:e,type:t,userName:r,userTag:n,userId:o})=>{const a=ot(),{accessToken:c}=ge(y=>y.userStore),l=()=>{e&&a(Md({accessToken:c,applicationId:e}))},u=()=>{e&&a(jd({accessToken:c,applicationId:e}))},d=()=>{e&&a(Id({accessToken:c,applicationId:e}))},m=()=>{a(Ld({accessToken:c,userId:o}))};return g.jsx(Qr,{bg:"#2c2e33",padding:"xs",radius:"md",withBorder:!0,children:g.jsxs(Ce,{justify:"space-between",children:[g.jsxs(Ce,{children:[g.jsx(vr,{size:"md",color:"blue",children:r[0]}),g.jsxs(xe,{gap:"xs",children:[g.jsx(je,{c:"white",children:r}),g.jsx(je,{c:"dimmed",children:n})]})]}),g.jsxs(Ce,{children:[t===ai.APPLICATION_TO&&g.jsxs(g.Fragment,{children:[g.jsx(Ie,{leftSection:g.jsx(mw,{}),variant:"light",color:"green",radius:"md",onClick:u,children:""}),g.jsx(Ie,{leftSection:g.jsx(la,{}),variant:"light",color:"red",radius:"md",onClick:d,children:""})]}),t===ai.APPLICATION_FROM&&g.jsx(Ie,{leftSection:g.jsx(la,{}),variant:"light",color:"red",radius:"md",onClick:l,children:""}),t===ai.FRIEND&&g.jsx(Ie,{leftSection:g.jsx(la,{}),variant:"light",color:"red",radius:"md",onClick:m,children:"  "})]})]})})},eU=()=>{const e=ot(),[t,r]=P.useState(!1),{user:n,accessToken:o}=ge(m=>m.userStore),{showSuccess:a}=Xt(),[c,l]=P.useState(!1),u=xo({mode:"uncontrolled",initialValues:{email:n.mail,name:n.name,notifiable:n.notifiable,friendshipApplication:n.friendshipApplication,nonFriendMessage:n.nonFriendMessage},validate:{email:m=>{const y=m.trim().length;return y<6?"Email    6 ":y>50?"Email    50 ":/^\S+@\S+$/.test(m)?null:"  email"},name:m=>{const y=m.trim().length;return y<6?"    6 ":y>50?"    50 ":null}}}),d=async()=>{if(u.validate(),u.isValid()){const m=u.getValues();let y=!1;l(!0),m.friendshipApplication!==n.friendshipApplication&&(y=(await e(fa({accessToken:o,type:oi.FRIENDSHIP}))).meta.requestStatus==="fulfilled"),m.nonFriendMessage!==n.nonFriendMessage&&(y=(await e(fa({accessToken:o,type:oi.NONFRIEND}))).meta.requestStatus==="fulfilled"),m.notifiable!==n.notifiable&&(y=(await e(fa({accessToken:o,type:oi.NOTIFIABLE}))).meta.requestStatus==="fulfilled"),y&&a("  "),(m.email!==n.mail||m.name!==n.name)&&(await e(Od({accessToken:o,newProfile:{name:m.name,mail:m.email}}))).meta.requestStatus==="fulfilled"&&a("  "),l(!1),r(!1)}};return g.jsxs(xe,{p:"xl",gap:"md",w:"100%",children:[g.jsxs(Qr,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[g.jsx(Ar,{order:2,children:"  "}),g.jsx(je,{c:"dimmed",children:"    "}),g.jsxs(Ce,{mt:"md",children:[!n.icon&&g.jsx(vr,{src:null,alt:"no image here",size:"xl"}),g.jsxs(xe,{children:[g.jsxs(Ce,{children:[g.jsx(Ar,{order:4,children:n.name}),g.jsx(fn,{variant:"default",children:n.tag})]}),g.jsxs(Ce,{children:[g.jsx(fT,{}),g.jsxs(je,{c:"dimmed",children:[" : ",BT(n.accontCreateDate)]})]}),g.jsx(Ie,{variant:"light",radius:"md",leftSection:g.jsx(z8,{}),children:" "})]})]}),g.jsx(Cr,{mt:"md"}),g.jsx(It.Autosize,{w:"100%",h:"100%s",children:g.jsxs(xe,{mt:"md",children:[g.jsx(jt,{leftSection:g.jsx(yT,{}),radius:"md",label:"",placeholder:" ",description:" 5  50 ",...u.getInputProps("name"),maxLength:50,disabled:!t},u.key("name")),g.jsx(jt,{leftSection:g.jsx(i8,{}),radius:"md",label:" ",placeholder:"  ",...u.getInputProps("email"),maxLength:50,disabled:!t},u.key("email")),g.jsx(jt,{leftSection:g.jsx(L8,{}),radius:"md",label:" ",placeholder:"  ",value:n.tag,disabled:!0})]})})]}),g.jsxs(Qr,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[g.jsx(Ar,{order:2,children:" "}),g.jsx(je,{c:"dimmed",children:" ,       "}),g.jsxs(It.Autosize,{w:"100%",h:"100%s",children:[g.jsxs(Ce,{justify:"space-between",mt:"lg",children:[g.jsxs(xe,{gap:0,children:[g.jsx(je,{children:""}),g.jsx(je,{c:"dimmed",children:"    "})]}),g.jsx(si,{disabled:!t,defaultChecked:!0,size:"lg",...u.getInputProps("notifiable",{type:"checkbox"})},u.key("notifiable"))]}),g.jsx(Cr,{mt:"lg"}),g.jsxs(Ce,{justify:"space-between",mt:"lg",children:[g.jsxs(xe,{gap:0,children:[g.jsx(je,{children:"  "}),g.jsx(je,{c:"dimmed",children:"      "})]}),g.jsx(si,{disabled:!t,defaultChecked:!0,size:"lg",...u.getInputProps("friendshipApplication",{type:"checkbox"})},u.key("friendshipApplication"))]}),g.jsx(Cr,{mt:"lg"}),g.jsxs(Ce,{justify:"space-between",mt:"lg",children:[g.jsxs(xe,{gap:0,children:[g.jsx(je,{children:"  "}),g.jsx(je,{c:"dimmed",children:"    ,     "})]}),g.jsx(si,{disabled:!t,defaultChecked:!0,size:"lg",...u.getInputProps("nonFriendMessage",{type:"checkbox"})},u.key("nonFriendMessage"))]})]})]}),g.jsx(Ce,{justify:"flex-end",children:t?g.jsxs(g.Fragment,{children:[g.jsx(Ie,{variant:"outline",leftSection:g.jsx(M6,{}),radius:"md",size:"md",onClick:()=>{r(!1),u.setValues({email:n.mail,name:n.name,notifiable:n.notifiable,friendshipApplication:n.friendshipApplication,nonFriendMessage:n.nonFriendMessage})},disabled:c,loading:c,children:""}),g.jsx(Ie,{leftSection:g.jsx(wp,{}),radius:"md",size:"md",onClick:d,disabled:c,loading:c,children:" "})]}):g.jsx(Ie,{leftSection:g.jsx(yp,{}),radius:"md",size:"md",onClick:()=>r(!0),children:" "})})]})},tU=({activeLink:e})=>{const[t,{open:r,close:n}]=Dt(!1),[o,a]=P.useState("friends"),{applicationFrom:c,applicationTo:l,friendshipList:u}=ge(d=>d.userStore);return g.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:g.jsxs(mn,{w:"100%",h:"100%",justify:"center",children:[e==="chats"&&g.jsx(QB,{}),e==="settings"&&g.jsx(eU,{}),e==="friends"&&g.jsxs(g.Fragment,{children:[g.jsxs(xe,{gap:"xs",w:"100%",h:"100%",p:10,children:[g.jsxs(Ce,{justify:"space-between",mb:"md",children:[g.jsx(Ar,{order:1,children:""}),g.jsx(Ie,{leftSection:g.jsx(li,{}),onClick:r,children:" "})]}),g.jsxs(qt,{value:o,onChange:a,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},w:"100%",children:[g.jsxs(qt.List,{children:[g.jsx(qt.Tab,{value:"friends",children:" "}),g.jsx(qt.Tab,{value:"applicationFrom",children:" "}),g.jsx(qt.Tab,{value:"applicationTo",children:" "})]}),g.jsx(qt.Panel,{value:"friends",children:g.jsxs(xe,{p:"xs",gap:"xs",children:[u.length<1&&g.jsx(je,{children:"    "}),u.map(d=>g.jsx(Mg,{type:ai.FRIEND,userName:d.userName,userTag:d.userTag,userId:d.userId},d.userId))]})}),g.jsx(qt.Panel,{value:"applicationFrom",children:g.jsxs(xe,{p:"xs",gap:"xs",children:[c.length<1&&g.jsx(je,{children:" "}),c.map(d=>g.jsx(Mg,{applicationId:d.id,type:ai.APPLICATION_FROM,userName:d.user.userName,userTag:d.user.userTag,createdAt:d.createdAt,userId:d.user.userId},d.id))]})}),g.jsx(qt.Panel,{value:"applicationTo",children:g.jsxs(xe,{p:"xs",gap:"xs",children:[l.length<1&&g.jsx(je,{children:" "}),l.map(d=>g.jsx(Mg,{applicationId:d.id,type:ai.APPLICATION_TO,userName:d.user.userName,userTag:d.user.userTag,createdAt:d.createdAt,userId:d.user.userId},d.id))]})})]})]}),g.jsx(ZB,{opened:t,close:n})]})]})})},rU=()=>{const e=ot(),{accessToken:t}=ge(a=>a.userStore),{activeChat:r}=ge(a=>a.chatsStore),[n,o]=P.useState("chats");return P.useEffect(()=>{e(Pd({accessToken:t})),e(Dd({accessToken:t})),e(Nd({accessToken:t}))},[]),g.jsxs(g.Fragment,{children:[g.jsx(ez,{activeLink:n,setActiveLink:o}),g.jsx(tU,{activeLink:n}),r&&g.jsx(Q7,{}),!r&&n!=="settings"&&g.jsx(Z7,{})]})},nU=({opened:e,onClose:t})=>{const[r,n]=P.useState("create"),{user:o,accessToken:a}=ge(y=>y.userStore),c=ot(),l=xo({initialValues:{name:""},validate:{name:y=>{const v=y.trim().length;return v<6?"     6 ":v>50?"     50 ":null}}}),u=xo({initialValues:{serverId:""},validate:{serverId:y=>y.trim().length===0?" ID ":null}}),d=async y=>{(await c(sd({accessToken:a,name:y.name}))).meta.requestStatus==="fulfilled"&&(c(Is({accessToken:a})),l.reset(),t())},m=async y=>{(await c(id({accessToken:a,serverId:y.serverId.trim(),userName:o.name}))).meta.requestStatus==="fulfilled"&&(c(Is({accessToken:a})),l.reset(),t())};return g.jsx(bt,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:g.jsxs(qt,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[g.jsxs(qt.List,{children:[g.jsx(qt.Tab,{value:"create",children:" "}),g.jsx(qt.Tab,{value:"connect",children:"  "})]}),g.jsx(qt.Panel,{value:"create",children:g.jsxs("form",{onSubmit:l.onSubmit(d),children:[g.jsx(jt,{label:" ",placeholder:"  ",description:" 6  50 ",maxLength:50,...l.getInputProps("name")}),g.jsxs(Ce,{justify:"flex-end",mt:"md",children:[g.jsx(Ie,{variant:"outline",onClick:t,children:""}),g.jsx(Ie,{type:"submit",children:""})]})]})}),g.jsx(qt.Panel,{value:"connect",children:g.jsxs("form",{onSubmit:u.onSubmit(m),children:[g.jsx(jt,{label:"ID ",placeholder:" ID ",...u.getInputProps("serverId")}),g.jsxs(Ce,{justify:"flex-end",mt:"md",children:[g.jsx(Ie,{variant:"outline",onClick:t,children:""}),g.jsx(Ie,{type:"submit",children:""})]})]})})]})})},sU=({serverId:e,serverName:t})=>{const r=ot(),{user:n}=ge(a=>a.userStore),o=()=>{r(P9(e)),r(So(!1)),r(Ia(!1)),et.emit("setServer",{serverId:e,userName:n.name,userId:n.id})};return g.jsx(ct,{size:"xl",radius:"xl",variant:"transparent",onClick:o,children:g.jsx(vr,{size:"md",color:"blue",children:t})})},oU=()=>{const[e,{open:t,close:r}]=Dt(!1),n=ot(),o=Ws(),{serversList:a}=ge(u=>u.testServerStore),{accessToken:c}=ge(u=>u.userStore),l=async()=>{(await n(Td({accessToken:c}))).meta.requestStatus==="fulfilled"&&o("/")};return P.useEffect(()=>{c&&n(Is({accessToken:c}))},[c,n]),g.jsxs(mn,{w:"100%",h:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[g.jsxs(mn,{direction:"column",align:"center",h:"calc(100% - 40px)",children:[g.jsx(ct,{size:"lg",variant:"transparent",onClick:()=>n(Ia(!0)),children:g.jsx(t8,{size:24,color:"#fff"})}),g.jsx(Cr,{my:"sm"}),g.jsx(It.Autosize,{mah:"100%",children:g.jsx(xe,{gap:"sm",align:"center",children:a.map(u=>g.jsx(sU,{serverId:u.serverId,serverName:u.serverName},u.serverId))})}),g.jsx(Cr,{my:"sm"}),g.jsx(ct,{size:"lg",variant:"transparent",onClick:t,children:g.jsx(W6,{size:24,color:"#fff"})})]}),g.jsx(ct,{size:"lg",variant:"transparent",onClick:l,children:g.jsx(pT,{size:24,color:"#fff"})}),g.jsx(nU,{opened:e,onClose:r})]})},iU=({opened:e,onClose:t})=>{const r=ot(),{accessToken:n}=ge(u=>u.userStore),{currentServerId:o}=ge(u=>u.testServerStore),{showSuccess:a}=Xt(),c=xo({initialValues:{newName:""},validate:{newName:u=>{const d=u.trim().length;return d<6?"    6 ":d>50?"    50 ":null}}}),l=async u=>{o&&(await r(dd({accessToken:n,serverId:o,name:u.newName}))).meta.requestStatus==="fulfilled"&&(a("  "),c.setValues({newName:""}),t())};return g.jsx(bt,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:g.jsxs("form",{onSubmit:c.onSubmit(l),children:[" ",g.jsxs(xe,{gap:"xs",children:[g.jsx(jt,{label:" ",placeholder:"  ",description:" 6  50 ",...c.getInputProps("newName"),maxLength:50}),g.jsx(Ce,{justify:"flex-end",mt:"md",children:g.jsx(Ie,{variant:"filled",type:"submit",children:""})})]})]})})},xk=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=Si(),o=vl(),{startScreenSharing:a,stopScreenSharing:c}=oF(),l=ot(),{user:u,accessToken:d}=ge(w=>w.userStore),{currentVoiceChannelId:m}=ge(w=>w.testServerStore),y=()=>{n?c():a()},v=()=>{o(d,m),l(So(!1)),l(da(null))};return g.jsxs(xe,{mt:"auto",children:[e&&g.jsxs(Ce,{gap:"xs",justify:"space-between",children:[g.jsx(ct,{variant:"transparent",onClick:y,c:"#ffffff",children:n?g.jsx(b8,{}):g.jsx(w8,{})}),g.jsx(ct,{variant:"transparent",onClick:t,c:"#ffffff",children:r?g.jsx(hT,{}):g.jsx(v8,{})}),g.jsx(ct,{variant:"transparent",onClick:v,c:"#ffffff",children:g.jsx(T8,{})})]}),g.jsx(Cr,{}),g.jsx(je,{truncate:!0,children:u.name})]})},aU=({opened:e,onClose:t})=>{const r=ot(),{showSuccess:n}=Xt(),{accessToken:o}=ge(v=>v.userStore),{currentServerId:a}=ge(v=>v.testServerStore),{role:c}=ge(v=>v.rolesStore),[l,u]=P.useState(""),[d,m]=P.useState(""),y=async()=>{l.trim().length>1&&d.trim().length>1&&o&&a&&c&&(await r(_d({accessToken:o,updatedRole:{serverId:a,roleId:c.role.id,name:l.trim(),color:d.trim()}}))).meta.requestStatus==="fulfilled"&&(n("  "),r(ff(null)),t())};return P.useEffect(()=>{c&&(u(c.role.name),m(c.role.color))},[c]),g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:g.jsxs(xe,{children:[g.jsx(jt,{label:" ",placeholder:"  ",value:l,onChange:v=>u(v.currentTarget.value),disabled:(c==null?void 0:c.role.type)!==ms.Custom}),g.jsx(Ff,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:d,onChange:m}),g.jsx(Ie,{leftSection:g.jsx(wp,{}),variant:"light",radius:"md",onClick:y,children:""})]})})},cU=({opened:e,onClose:t})=>{const r=ot(),{showSuccess:n}=Xt(),{currentServerId:o}=ge(v=>v.testServerStore),{accessToken:a}=ge(v=>v.userStore),{role:c}=ge(v=>v.rolesStore),[l,u]=P.useState(!1),d=xo({mode:"uncontrolled"}),m=async()=>{if(a&&o&&c){const v=d.getValues();let w=!1;u(!0);const S={[mt.CanChangeRole]:"canChangeRole",[mt.CanWorkChannels]:"canWorkChannels",[mt.CanDeleteUsers]:"canDeleteUsers",[mt.CanMuteOther]:"canMuteOther",[mt.CanDeleteOthersMessages]:"canDeleteOthersMessages",[mt.CanIgnoreMaxCount]:"canIgnoreMaxCount",[mt.CanCreateRole]:"canCreateRoles",[mt.CanCreateLessons]:"canCreateLessons",[mt.CanCheckAttendance]:"canCheckAttendance"};for(const[x,C]of Object.entries(S)){const T=v[C],R=c.settings[C];T!==R&&(await r(xd({accessToken:a,updatedRoleSettings:{serverId:o,roleId:c.role.id,setting:Number(x),add:T}}))).meta.requestStatus==="fulfilled"&&(w=!0)}w&&n("  "),u(!1)}},y=()=>{r(ff(null)),t()};return P.useEffect(()=>{c&&d.setValues({...c.settings})},[c]),g.jsx(bt,{opened:e,onClose:y,centered:!0,size:"auto",children:g.jsxs(xe,{children:[g.jsx(Ar,{order:5,children:" "}),g.jsx(It.Autosize,{maw:"100%",mah:500,children:g.jsx(xe,{children:c&&Object.entries(c.settings).map(([v])=>g.jsxs(xt.Fragment,{children:[g.jsx(je,{children:pw[v]||v}),g.jsx(si,{size:"lg",...d.getInputProps(v,{type:"checkbox"})},d.key(v))]},v))})}),g.jsx(Ie,{disabled:l,loading:l,leftSection:g.jsx(wp,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},lU=({opened:e,onClose:t})=>{const r=ot(),{showSuccess:n}=Xt(),{accessToken:o}=ge(y=>y.userStore),{currentServerId:a}=ge(y=>y.testServerStore),[c,l]=P.useState(""),[u,d]=P.useState("#ffffff"),m=async()=>{c.trim().length>1&&u.trim().length>1&&o&&a&&(await r(Sd({accessToken:o,role:{serverId:a,name:c.trim(),color:u}}))).meta.requestStatus==="fulfilled"&&(n("  "),l(""),d("#ffffff"),t())};return g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:g.jsxs(xe,{children:[g.jsx(jt,{label:" ",placeholder:"  ",value:c,onChange:y=>l(y.currentTarget.value)}),g.jsx(Ff,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:u,onChange:d}),g.jsx(Ie,{leftSection:g.jsx(wp,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},uU=({role:e,editRole:t,editSettings:r})=>{const n=ot(),{showSuccess:o}=Xt(),{accessToken:a}=ge(m=>m.userStore),{currentServerId:c,serverData:l}=ge(m=>m.testServerStore),u=l.permissions.canChangeRole,d=async()=>{a&&c&&(await n(bd({accessToken:a,serverId:c,roleId:e.role.id}))).meta.requestStatus==="fulfilled"&&o("  ")};return g.jsx(Qr,{p:"md",radius:"md",children:g.jsxs(xe,{children:[g.jsxs(Ce,{justify:"space-between",children:[g.jsxs(Ce,{children:[g.jsx(Ra,{color:e.role.color}),g.jsxs(xe,{gap:"0",children:[g.jsx(Ar,{order:3,children:e.role.name}),g.jsxs(je,{c:"dimmed",children:["#",e.role.tag]})]})]}),g.jsxs(Ce,{children:[g.jsx(Ie,{variant:"light",radius:"md",leftSection:g.jsx(vT,{}),onClick:()=>r(e),disabled:e.role.type!==ms.Custom||!u,children:""}),g.jsx(Ie,{variant:"light",radius:"md",leftSection:g.jsx(yp,{}),onClick:()=>t(e),disabled:!u,children:""}),g.jsx(Ie,{variant:"light",radius:"md",leftSection:g.jsx(vw,{}),onClick:d,disabled:e.role.type!==ms.Custom||!u,children:""})]})]}),g.jsx(Ce,{children:Object.entries(e.settings).filter(([m,y])=>y===!0).map(([m])=>g.jsx(dl,{radius:"sm",children:pw[m]||m},m))})]})})},dU=({opened:e,onClose:t})=>{const r=ot(),[n,{open:o,close:a}]=Dt(!1),[c,{open:l,close:u}]=Dt(!1),[d,{open:m,close:y}]=Dt(!1),{accessToken:v}=ge(T=>T.userStore),{currentServerId:w,serverData:S}=ge(T=>T.testServerStore),{rolesList:x}=ge(T=>T.rolesStore),C=S.permissions.canCreateRoles;return P.useEffect(()=>{v&&w&&C&&r(ua({accessToken:v,serverId:w}))},[v,w,C]),g.jsxs(g.Fragment,{children:[g.jsx(bt,{opened:e,onClose:t,centered:!0,size:"auto",children:g.jsxs(xe,{children:[g.jsxs(Ce,{justify:"space-between",children:[g.jsx(Ar,{order:3,children:" "}),C&&g.jsx(Ie,{leftSection:g.jsx(li,{}),variant:"light",radius:"md",onClick:()=>o(),disabled:!S.permissions.canCreateRoles,children:" "})]}),g.jsx(It.Autosize,{mah:"700px",maw:"100%",children:g.jsx(xe,{children:x.map(T=>g.jsx(uU,{role:T,editRole:R=>{r(ff(R)),m()},editSettings:R=>{r(ff(R)),l()}},T.role.id))})})]})}),g.jsx(lU,{opened:n,onClose:a}),g.jsx(cU,{opened:c,onClose:u}),g.jsx(aU,{opened:d,onClose:y})]})},fU=({opened:e,onClose:t})=>{const{permissions:r}=ge(n=>n.testServerStore.serverData);return g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:g.jsx(xe,{gap:"xs",children:Object.entries(r).filter(([n,o])=>o===!0).map(([n])=>g.jsx(dl,{radius:"sm",children:pw[n]||n},n))})})},Ck=({opened:e,onClose:t})=>{const r=ot(),{serverData:n,currentServerId:o,error:a,bannedUsers:c,pageBannedUsers:l,totalPagesBannedUsers:u}=ge(z=>z.testServerStore),{rolesList:d,rolesLoading:m}=ge(z=>z.rolesStore),{accessToken:y,user:v}=ge(z=>z.userStore),[w,S]=P.useState("roles"),[x,C]=P.useState(""),[T,R]=P.useState(""),[p,h]=P.useState(!1),[b,E]=P.useState(n.serverName),{showSuccess:D}=Xt(),[j,N]=P.useState(""),[M,A]=P.useState(""),O=n.isCreator,V=n.permissions.canDeleteUsers,W=n.permissions.canChangeRole,K=n.permissions.canCreateRoles,L=async()=>{if(!x||!T)return;h(!0),(await r(od({accessToken:y,serverId:n.serverId,userId:x,role:T}))).meta.requestStatus==="fulfilled"&&(h(!1),D("  "),r(_r({accessToken:y,serverId:n.serverId})),t())},F=async()=>{b.length<6||o&&(h(!0),(await r(ud({accessToken:y,serverId:o,name:b}))).meta.requestStatus==="fulfilled"&&(h(!1),D("  "),t()))},$=async()=>{o&&j&&(h(!0),(await r(fd({accessToken:y,serverId:o,userId:j,banReason:M.trim()!==""?M:void 0}))).meta.requestStatus==="fulfilled"&&(h(!1),D("  "),N(null),A(""),t()))},U=async z=>{o&&(h(!0),(await r(yd({accessToken:y,serverId:o,userId:z}))).meta.requestStatus==="fulfilled"&&(h(!1),D("  "),t()))},H=()=>{l<u&&o&&r(Wc({accessToken:y,serverId:o,page:l+1,size:5}))};return P.useEffect(()=>{V&&y&&o&&e&&r(Wc({accessToken:y,serverId:o,page:1,size:5}))},[V,o,e]),P.useEffect(()=>{K&&m===Xe.IDLE&&o&&(console.log(K),r(ua({accessToken:y,serverId:o})))},[m,o]),P.useEffect(()=>{a&&h(!1)},[a]),g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:g.jsxs(Ce,{align:"flex-start",gap:"md",children:[g.jsxs(xe,{gap:"xs",style:{width:200},children:[W&&g.jsx(Nr,{label:"",leftSection:g.jsx(li,{size:16}),active:w==="roles",onClick:()=>S("roles")}),O&&g.jsx(Nr,{label:" ",leftSection:g.jsx(li,{size:16}),active:w==="name",onClick:()=>S("name")}),(O||V)&&g.jsx(Nr,{label:" ",leftSection:g.jsx(q8,{size:16}),active:w==="deleteUser",onClick:()=>S("deleteUser")}),V&&g.jsx(Nr,{label:" ",leftSection:g.jsx(U8,{size:16}),active:w==="unbanUser",onClick:()=>S("unbanUser")})]}),g.jsxs(It,{children:[w==="roles"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:"  "}),g.jsx(Ps,{label:" ",placeholder:" ",data:n.users.filter(z=>z.userId!==v.id).filter(z=>z.roleType!==ms.Creator).filter(z=>Number(z.roleType)>=Number(n.userRoleType)).map(z=>({value:z.userId,label:z.userName})),value:x,onChange:C}),g.jsx(Ps,{label:" ",placeholder:" ",data:d.filter(z=>Number(z.role.type)>=Number(n.userRoleType)).map(z=>({value:z.role.id,label:z.role.name})),value:T,onChange:R}),g.jsx(Ie,{onClick:L,loading:p,children:" "})]}),w==="name"&&O&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:"  "}),g.jsx(jt,{label:"  ",value:b,onChange:z=>E(z.target.value),placeholder:n.serverName,description:" 6  50 ",maxLength:50}),g.jsx(Ie,{onClick:F,loading:p,children:" "})]}),w==="deleteUser"&&(O||V)&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:"   "}),g.jsx(Ps,{label:" ",placeholder:" ",data:n.users.filter(z=>z.userId!==v.id).filter(z=>z.roleType!==ms.Creator).filter(z=>Number(z.roleType)>=Number(n.userRoleType)).map(z=>({value:z.userId,label:z.userName})),value:j,onChange:N}),g.jsx(jt,{label:"   ()",placeholder:" ",value:M,onChange:z=>A(z.currentTarget.value)}),g.jsx(Ie,{onClick:$,loading:p,children:""})]}),w==="unbanUser"&&V&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:" "}),c.length<1&&g.jsx(je,{children:"  "}),c&&c.map(z=>g.jsx(Qr,{withBorder:!0,children:g.jsx(Ce,{gap:"md",children:g.jsxs(mo,{children:[g.jsx(mo.Col,{span:2,children:g.jsxs(Ce,{children:[g.jsx(vr,{radius:"xl",size:"lg",color:"blue",children:z.userName[0]}),g.jsxs(xe,{gap:0,children:[g.jsx(je,{children:z.userName}),g.jsx(je,{c:"dimmed",children:z.userTag})]})]})}),g.jsx(mo.Col,{span:8,children:z.banReason&&g.jsx(fn,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:z.banReason})}),g.jsx(mo.Col,{span:1,children:g.jsxs(Ce,{children:[g.jsx(fT,{}),g.jsx(je,{children:zT(z.banTime)})]})}),g.jsx(mo.Col,{span:1,children:g.jsx(Ie,{variant:"light",onClick:()=>U(z.userId),loading:p,disabled:p,children:""})})]})})},z.userId)),g.jsx(mn,{w:"100%",justify:"center",children:c.length>0&&g.jsx(Qn,{total:u,value:l,onChange:H})})]})]})]})})},pU=({opened:e,onClose:t})=>{const r=Ws(),n=ot(),o=vl(),{showSuccess:a,showError:c}=Xt(),{serverData:l,currentVoiceChannelId:u}=ge(S=>S.testServerStore),{accessToken:d,user:m}=ge(S=>S.userStore),[y,v]=P.useState(""),w=async()=>{if(!y){c("  ");return}o(d,u),n(So(!1)),n(da(null)),(await n(S9({accessToken:d,serverId:l.serverId,newCreatorId:y}))).meta.requestStatus==="fulfilled"&&(a("  "),n(Is({accessToken:d})),n(Ia(!0)),n(bw()),v(""),r("/main"))};return g.jsx(bt,{opened:e,onClose:t,title:"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:g.jsxs(xe,{gap:"xs",children:[g.jsx(Ps,{label:"  ",placeholder:" ",data:l.users.filter(S=>S.userId!==m.id).map(S=>({value:S.userId,label:S.userName})),value:y,onChange:v}),g.jsx(Ce,{justify:"flex-end",mt:"md",children:g.jsx(Ie,{variant:"filled",onClick:w,children:""})})]})})},Px=e=>e.toLowerCase()==="true",hU=e=>{switch(e){case Ft.TEXT_CHANNEL:return[{value:"0",label:""},{value:"2",label:""},{value:"3",label:" "}];case Ft.VOICE_CHANNEL:return[{value:"0",label:""},{value:"1",label:""}];default:return[]}},Rk=({opened:e,onClose:t,channelId:r,channelName:n,channelType:o})=>{const a=ot(),{accessToken:c}=ge(F=>F.userStore),{serverData:l,roleSettings:u,error:d}=ge(F=>F.testServerStore),[m,y]=P.useState("name"),[v,w]=P.useState(n),[S,x]=P.useState(!1),{showSuccess:C}=Xt(),[T,R]=P.useState(null),[p,h]=P.useState(null),[b,E]=P.useState(1),[D,j]=P.useState(""),N=u.canSee,M=u.canJoin,A=u.canWrite,O=u.canWriteSub,V=async()=>{x(!0),(await a(pd({accessToken:c,id:r,name:v}))).meta.requestStatus==="fulfilled"&&(x(!1),C("   "),t())},W=async()=>{x(!0),(await a(Hc({accessToken:c,channelId:r}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t())},K=async()=>{x(!0),o===Ft.TEXT_CHANNEL&&T&&p&&D&&(await a(md({accessToken:c,settings:{channelId:r,add:Px(T),type:Number(p),roleId:D}}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t()),o===Ft.VOICE_CHANNEL&&T&&p&&D&&(await a(vd({accessToken:c,settings:{channelId:r,add:Px(T),type:Number(p),roleId:D}}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t()),x(!1)},L=async()=>{x(!0),(await a(wd({accessToken:c,voiceChannelId:r,maxCount:Number(b)}))).meta.requestStatus==="fulfilled"&&(x(!1),C("  "),t())};return P.useEffect(()=>{const F=l.channels.voiceChannels.find($=>$.channelId===r);F&&E(F==null?void 0:F.maxCount)},[l]),P.useEffect(()=>{c&&e&&a(gd({accessToken:c,channelId:r}))},[c,e]),P.useEffect(()=>{d!==""&&x(!1)},[d]),g.jsx(bt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:g.jsxs(Ce,{align:"flex-start",gap:"md",children:[g.jsxs(xe,{gap:"xs",style:{width:200},children:[g.jsx(Nr,{label:"",leftSection:g.jsx(yp,{size:16}),active:m==="name",onClick:()=>y("name")}),g.jsx(Nr,{label:"",leftSection:g.jsx(vw,{size:16}),active:m==="delete",onClick:()=>y("delete")}),g.jsx(Nr,{label:"",leftSection:g.jsx(vT,{size:16}),active:m==="watchSettings",onClick:()=>y("watchSettings")}),g.jsx(Nr,{label:"",leftSection:g.jsx(J8,{size:16}),active:m==="settings",onClick:()=>y("settings")}),o===Ft.VOICE_CHANNEL&&g.jsx(Nr,{label:"  ",leftSection:g.jsx(eF,{size:16}),active:m==="count",onClick:()=>y("count")})]}),g.jsxs(It,{children:[m==="name"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:"  "}),g.jsx(jt,{label:"  ",value:v,onChange:F=>w(F.target.value),placeholder:n,disabled:S}),g.jsx(Ie,{onClick:V,disabled:S,loading:S,children:" "})]}),m==="delete"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:" "}),g.jsx(Ie,{color:"red",onClick:W,loading:S,children:" "})]}),m==="watchSettings"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:" "}),N&&g.jsxs(g.Fragment,{children:[g.jsxs(je,{children:[""," ",o===Ft.TEXT_CHANNEL?"":"",":"]}),g.jsx(xe,{gap:"xs",children:N.map(F=>g.jsx(fn,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),M&&g.jsxs(g.Fragment,{children:[g.jsx(je,{children:" :"}),g.jsx(xe,{gap:"xs",children:M.map(F=>g.jsx(fn,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),A&&g.jsxs(g.Fragment,{children:[g.jsx(je,{children:" :"}),g.jsx(xe,{gap:"xs",children:A.map(F=>g.jsx(fn,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]}),O&&g.jsxs(g.Fragment,{children:[g.jsx(je,{children:"  :"}),g.jsx(xe,{gap:"xs",children:O.map(F=>g.jsx(fn,{color:F.color,size:"lg",variant:"light",radius:"md",children:F.name},F.id))})]})]}),m==="settings"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:"   "}),g.jsxs(Ce,{align:"center",children:[g.jsx(Ps,{label:"",placeholder:" ",data:[{value:"true",label:""},{value:"false",label:""}],value:T,onChange:R,disabled:S}),g.jsx(Ps,{label:"",placeholder:" ",data:hU(o),value:p,onChange:h,disabled:S}),g.jsx(Ps,{label:" ",placeholder:" ",data:l.roles.filter(F=>F.type!==ms.Creator).map(F=>({value:F.id,label:F.name})),value:D,onChange:j,disabled:S})]}),g.jsx(Ie,{onClick:K,disabled:S,loading:S,children:" "})]}),m==="count"&&g.jsxs(xe,{gap:"md",children:[g.jsx(je,{size:"lg",w:500,children:" -  "}),g.jsx(Ce,{align:"center",children:g.jsx(rp,{label:" ",placeholder:"  2  999",value:b,onChange:E,min:2,max:999})}),g.jsx(Ie,{onClick:L,loading:S,children:" "})]})]})]})})},mU=({channelId:e,currentChannelId:t,channelName:r,canWorkChannels:n,handleOpenChannel:o})=>{const{hasNewMessage:a}=ge(v=>v.testServerStore),[c,l]=P.useState(""),[u,{open:d,close:m}]=Dt(!1),y=()=>{d()};return g.jsxs(g.Fragment,{children:[g.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>l(e),onMouseLeave:()=>l(""),children:[g.jsx(Ie,{leftSection:a&&e===t?g.jsx(fn,{circle:!0,children:"1"}):g.jsx(Z6,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:Dx.buttonRoot(c===e,t===e)},fullWidth:!0,onClick:o,children:r}),n&&c===e&&g.jsx(Ie,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:Dx.buttonSettings(t===e)},onClick:y,children:g.jsx(yl,{size:16})})]},e),g.jsx(Rk,{opened:u,onClose:m,channelId:e,channelName:r,channelType:Ft.TEXT_CHANNEL})]})},Ek=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:o})=>{const a=ot(),{accessToken:c}=ge(v=>v.userStore),{error:l}=ge(v=>v.testServerStore),{showError:u}=Xt(),d=xo({initialValues:{name:r.initialData,maxCount:r.initialData},validate:{name:v=>v.trim().length<3?"     3 ":null,maxCount:v=>Number(v)<1&&o===Ft.VOICE_CHANNEL?"-     1":Number(v)>999&&o===Ft.VOICE_CHANNEL?"-     999":null}});P.useEffect(()=>{r.isEdit?d.setValues({name:r.initialData}):d.reset()},[r]);const m=async v=>{(await a(ld({accessToken:c,serverId:n,name:v.name,channelType:o===Ft.TEXT_CHANNEL?Ft.TEXT_CHANNEL:Ft.VOICE_CHANNEL,maxCount:o===Ft.VOICE_CHANNEL?Number(v.maxCount):void 0}))).meta.requestStatus==="fulfilled"&&a(_r({accessToken:c,serverId:n})),t()},y=async()=>{(await a(Hc({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(_r({accessToken:c,serverId:n})),t()};return P.useEffect(()=>{l&&u(l)},[l]),g.jsx(bt,{opened:e,onClose:t,title:r.isEdit?` ${o===Ft.TEXT_CHANNEL?"":""} `:` ${o===Ft.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?g.jsxs(g.Fragment,{children:[g.jsxs(je,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),g.jsxs(Ce,{justify:"flex-end",mt:"md",children:[g.jsx(Ie,{variant:"filled",color:"red",onClick:y,children:""}),g.jsx(Ie,{variant:"outline",onClick:t,children:""})]})]}):g.jsxs("form",{onSubmit:d.onSubmit(m),children:[g.jsx(jt,{label:" ",placeholder:"  ",...d.getInputProps("name")}),o===Ft.VOICE_CHANNEL&&g.jsx(rp,{label:" ",placeholder:"  2  999",...d.getInputProps("maxCount"),min:2,max:999}),g.jsxs(Ce,{justify:"flex-end",mt:"md",children:[g.jsx(Ie,{variant:"outline",onClick:t,children:""}),g.jsx(Ie,{type:"submit",children:""})]})]})})},Tk=({onClose:e})=>{const t=ot(),[r,{toggle:n}]=Dt(!0),[o,{open:a,close:c}]=Dt(!1),[l,u]=P.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:d,currentServerId:m,currentChannelId:y}=ge(x=>x.testServerStore),v=d.permissions.canWorkChannels,w=x=>{t(D9(x)),t(So(!1)),e()},S=(x,C)=>{u({isEdit:!0,initialData:x,channelId:C}),a()};return P.useEffect(()=>{console.log(y)},[y]),g.jsxs(g.Fragment,{children:[g.jsxs(xe,{align:"flex-start",gap:"xs",children:[g.jsxs(Ce,{justify:"space-between",w:"100%",wrap:"nowrap",children:[g.jsx(Ie,{leftSection:r?g.jsx(vp,{}):g.jsx(ca,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),v&&g.jsx(ct,{variant:"transparent",onClick:()=>{u({isEdit:!1,initialData:"",channelId:""}),a()},children:g.jsx(li,{color:"#ffffff"})})]}),g.jsx(Rf,{in:r,w:"100%",children:g.jsx(xe,{gap:"xs",children:d.channels.textChannels.map(({channelId:x,channelName:C})=>g.jsx(mU,{channelId:x,currentChannelId:y,channelName:C,canWorkChannels:v,handleOpenChannel:()=>w(x),handleEditChannel:()=>S(C,x)},x))})})]}),m&&g.jsx(Ek,{opened:o,onClose:c,isEdit:l,serverId:m,channelType:Ft.TEXT_CHANNEL})]})},Dx={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},gU=({channelId:e,channelName:t,currentCount:r,maxCount:n,canWorkChannels:o,handleConnect:a})=>{const[c,{open:l,close:u}]=Dt(!1),[d,m]=P.useState(""),y=()=>{l()};return g.jsxs(g.Fragment,{children:[g.jsxs(re,{style:{display:"flex",alignItems:"center",maxWidth:230},onMouseEnter:()=>m(e),onMouseLeave:()=>m(""),children:[g.jsx(Ie,{leftSection:g.jsx(ST,{}),rightSection:`${r}/${n}`,variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"},label:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},fullWidth:!0,onClick:a,children:t}),o&&d===e&&g.jsx(Ie,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:SU.buttonSettings},onClick:y,children:g.jsx(yl,{size:16})})]}),g.jsx(Rk,{opened:c,onClose:u,channelId:e,channelName:t,channelType:Ft.VOICE_CHANNEL})]})},vU=({opened:e,toggle:t,canWorkChannels:r,handleAddChannel:n})=>g.jsxs(Ce,{justify:"space-between",w:"100%",wrap:"nowrap",children:[g.jsx(Ie,{leftSection:e?g.jsx(vp,{}):g.jsx(ca,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&g.jsx(ct,{variant:"transparent",onClick:n,children:g.jsx(li,{color:"#ffffff"})})]}),yU=({socketId:e,isSpeaking:t,userName:r,producerIds:n,userVolume:o,handleVolumeChange:a,handleOpenStream:c,handleKickUser:l,channelId:u,userId:d})=>{var T,R,p;const m=ge(h=>h.testServerStore.serverData.userRoleType),y=ge(h=>h.testServerStore.serverData.permissions.canWorkChannels),{voiceChannels:v}=ge(h=>h.testServerStore.serverData.channels),w=(T=v.find(h=>h.channelId===u))==null?void 0:T.users,{user:S}=ge(h=>h.userStore),x=(R=ge(h=>h.testServerStore.serverData.users.find(b=>b.userId===d)))==null?void 0:R.roleType,C=(p=w==null?void 0:w.find(h=>h.userId===d))==null?void 0:p.isMuted;return g.jsxs(pt,{shadow:"md",width:200,closeOnItemClick:!0,children:[g.jsx(pt.Target,{children:g.jsxs(Ce,{style:{cursor:"pointer",overflow:"hidden",width:"100%"},wrap:"nowrap",children:[g.jsx(yT,{color:t?"#43b581":void 0,style:{flexShrink:0}}),C&&g.jsx(hT,{size:20,style:{flexShrink:0}}),g.jsx(je,{style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:r}),n.length>1&&g.jsx(fv,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),g.jsxs(pt.Dropdown,{children:[d!==S.id&&g.jsx(pt.Item,{leftSection:g.jsx(ST,{}),children:g.jsx(Qy,{label:"",value:o,onChange:h=>a(e,h),min:1,max:100})}),n.length>1&&g.jsx(pt.Item,{leftSection:g.jsx(fv,{}),onClick:()=>c(e),children:" "}),y&&Number(m)<=Number(x)&&d!==S.id&&g.jsx(pt.Item,{leftSection:g.jsx($8,{}),onClick:()=>l(e),children:" "})]})]},e)},wU=()=>{const[e,t]=P.useState([]);return P.useEffect(()=>{if(et)return et.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{et.off("active-speakers")}},[]),e},kk=()=>{const e=C6(),t=vl(),{isConnected:r,consumers:n,users:o,setSelectedUserId:a}=Si(),{user:c,accessToken:l}=ge(F=>F.userStore),{serverData:u,currentVoiceChannelId:d,currentServerId:m}=ge(F=>F.testServerStore),y=ot(),[v,{toggle:w}]=Dt(!0),[S,{open:x,close:C}]=Dt(!1),T=wU(),{setVolume:R,userVolumes:p}=H9(),h=_w(o),b=u.permissions.canWorkChannels,E=u.permissions.canIgnoreMaxCount,[D,j]=P.useState({isEdit:!1,initialData:"",channelId:""}),N=async(F,$)=>{const U=h.filter(H=>H.roomName===F).flatMap(H=>Object.values(H.users)).length;!E&&U>=$||(r?F===d?y(VT()):(d&&await t(l,d),y(So(!1)),y(da(F)),e(F,c.name,c.id,u.serverId,l)):(y(da(F)),e(F,c.name,c.id,u.serverId,l)))},M=(F,$)=>{if(!d)return;const U=h.find(G=>G.roomName===d);if(!U)return;const H=U.users[F];if(!H)return;const z=H.producerIds.find(G=>!!n.find(de=>de.producerId===G&&de.kind==="audio"));z&&R(z,$)},A=()=>{j({isEdit:!1,initialData:"",channelId:""}),x()},O=F=>{console.log(F),et.emit("kickUser",{targetSocketId:F},$=>{$.success?console.log("  :",$.message):console.error("  :",$.message)})},V=F=>{const $=F.find(U=>n.some(H=>H.producerId===U&&H.kind==="audio"));return(p[$||""]||1)*100},W=(F,$)=>F.some(H=>T.some(z=>z.producerId===H))&&$===d,K=F=>{a(F),y(So(!0))},L=(F,$)=>{!$||$===void 0?(console.log(F,$,et),et.emit("muteUserById",{userId:F})):et.emit("unmuteUserById",{userId:F})};return P.useEffect(()=>{if(et)return et.on("kickedUser",()=>{t(l,d),y(So(!1)),y(da(null))}),()=>{et.off("producerClosed")}},[t,y]),g.jsxs(g.Fragment,{children:[g.jsxs(xe,{align:"flex-start",gap:"xs",children:[g.jsx(vU,{opened:v,toggle:w,canWorkChannels:b,handleAddChannel:A}),g.jsx(Rf,{in:v,w:"100%",children:g.jsx(xe,{gap:"xs",children:u.channels.voiceChannels.map(({channelId:F,channelName:$,maxCount:U})=>g.jsxs(xt.Fragment,{children:[g.jsx(gU,{channelId:F,channelName:$,maxCount:U,currentCount:h.filter(H=>H.roomName===F).flatMap(H=>Object.values(H.users)).length,canWorkChannels:b,handleConnect:()=>N(F,U)}),g.jsx(xe,{gap:"xs",children:h.filter(H=>H.roomName===F).flatMap(H=>Object.entries(H.users).map(([z,{producerIds:G,userName:se,userId:de}])=>{const J=W(G,F),oe=V(G);return g.jsx(yU,{socketId:z,isSpeaking:J,userName:se,producerIds:G,userVolume:oe,handleOpenStream:K,handleVolumeChange:M,handleKickUser:O,channelId:F,userId:de,handleMuteUser:L},z)}))})]},F))})})]}),m&&g.jsx(Ek,{opened:S,onClose:C,isEdit:D,serverId:m,channelType:Ft.VOICE_CHANNEL})]})},SU={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},bU=({onClose:e})=>{const t=Ws(),r=ot(),n=vl(),[o,{open:a,close:c}]=Dt(!1),[l,{open:u,close:d}]=Dt(!1),[m,{open:y,close:v}]=Dt(!1),[w,{open:S,close:x}]=Dt(!1),[C,{open:T,close:R}]=Dt(!1),{serverData:p,isLoading:h,currentVoiceChannelId:b}=ge(V=>V.testServerStore),{accessToken:E}=ge(V=>V.userStore),D=p.permissions.canChangeRole,j=p.permissions.canDeleteUsers,N=p.permissions.canCreateRoles,M=p.isCreator,A=V=>{navigator.clipboard.writeText(V)},O=async()=>{n(E,b),r(So(!1)),r(da(null)),(await r(Vc({accessToken:E,serverId:p.serverId}))).meta.requestStatus==="fulfilled"&&(r(Is({accessToken:E})),r(Ia(!0)),r(bw()),t("/main"))};return g.jsxs(g.Fragment,{children:[g.jsxs(xe,{gap:"xs",bg:"#1A1B1E",p:10,w:250,h:"100%",visibleFrom:"sm",children:[g.jsxs(pt,{shadow:"md",width:200,children:[g.jsx(pt.Target,{children:g.jsxs(Ce,{justify:"space-between",style:{cursor:"pointer"},children:[h?g.jsx(ni,{height:10,width:"40%",radius:"md"}):g.jsx(je,{children:p.serverName}),g.jsx(vp,{})]})}),g.jsxs(pt.Dropdown,{children:[(D||M||j)&&g.jsx(pt.Item,{leftSection:g.jsx(yl,{size:16}),onClick:a,children:" "}),(D||N)&&g.jsx(pt.Item,{onClick:()=>S(),leftSection:g.jsx(wT,{size:16}),children:" "}),g.jsx(pt.Item,{onClick:()=>T(),leftSection:g.jsx(n8,{size:16}),children:" "}),g.jsx(pt.Item,{onClick:u,leftSection:g.jsx(H8,{size:16}),children:"   "}),g.jsx(pt.Item,{onClick:()=>A(p.serverId),leftSection:g.jsx(gw,{size:16}),children:" ID "}),!M&&g.jsx(pt.Item,{onClick:O,leftSection:g.jsx(dv,{size:16}),children:"  "}),M&&g.jsx(pt.Item,{onClick:()=>y(),leftSection:g.jsx(dv,{size:16}),children:"  "})]})]}),g.jsx(Cr,{}),g.jsxs(It.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[g.jsx(Tk,{onClose:e}),g.jsx(kk,{})]}),g.jsx(xk,{})]}),g.jsx(Ck,{opened:o,onClose:c}),g.jsx(iU,{opened:l,onClose:d}),g.jsx(pU,{opened:m,onClose:v}),g.jsx(dU,{opened:w,onClose:x}),g.jsx(fU,{opened:C,onClose:R})]})},_U=({onClose:e,opened:t})=>{const r=Ws(),n=ot(),[o,{open:a,close:c}]=Dt(!1),{serverData:l,isLoading:u}=ge(w=>w.testServerStore),{accessToken:d}=ge(w=>w.userStore),m=l.isCreator,y=w=>{navigator.clipboard.writeText(w)},v=async()=>{(await n(Vc({accessToken:d,serverId:l.serverId}))).meta.requestStatus==="fulfilled"&&(n(Is({accessToken:d})),n(Ia(!0)),n(bw()),r("/main"))};return g.jsxs(g.Fragment,{children:[g.jsxs(Sn,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[g.jsxs(pt,{shadow:"md",width:200,children:[g.jsx(pt.Target,{children:g.jsxs(Ce,{justify:"space-between",style:{cursor:"pointer"},children:[u?g.jsx(ni,{height:10,width:"40%",radius:"md"}):g.jsx(je,{children:l.serverName}),g.jsx(vp,{})]})}),g.jsxs(pt.Dropdown,{children:[m&&g.jsx(pt.Item,{leftSection:g.jsx(yl,{size:16}),onClick:a,children:" "}),g.jsx(pt.Item,{onClick:()=>y(l.serverId),leftSection:g.jsx(gw,{size:16}),children:" ID "}),!m&&g.jsx(pt.Item,{onClick:v,leftSection:g.jsx(dv,{size:16}),children:"  "})]})]}),g.jsx(Cr,{}),g.jsx(Tk,{onClose:e}),g.jsx(kk,{}),g.jsx(xk,{})]}),g.jsx(Ck,{opened:o,onClose:c})]})},xU=()=>{const e=Ws(),t=ot(),{showMessage:r}=Xt(),{isUserStreamView:n,isOpenHome:o}=ge(h=>h.appStore),{accessToken:a,isLoggedIn:c}=ge(h=>h.userStore),{currentServerId:l,currentChannelId:u,numberOfStarterMessage:d,serverData:m}=ge(h=>h.testServerStore),[y,{open:v,close:w}]=Dt(!1),[S,{open:x,close:C}]=Dt(!1),{sendMessage:T,editMessage:R,deleteMessage:p}=z7({accessToken:a,dispatch:t,serverId:l,showMessage:r});return B7({accessToken:a,dispatch:t,serverId:l,userId:m.userRoleId}),P.useEffect(()=>{c||e("/")},[c,e]),P.useEffect(()=>{a&&t(Ed({accessToken:a}))},[a,t]),P.useEffect(()=>{l&&a&&t(_r({accessToken:a,serverId:l}))},[a,l,t]),P.useEffect(()=>{u&&a&&t(ad({accessToken:a,channelId:u,numberOfMessages:Rr,fromStart:d}))},[a,u,l,t]),g.jsxs(re,{style:{display:"flex",height:"100dvh"},children:[g.jsx(oU,{}),o?g.jsx(rU,{}):g.jsxs(g.Fragment,{children:[g.jsx(bU,{onClose:w}),n?g.jsx(G7,{}):g.jsx(V7,{openSidebar:v,openDetailsPanel:x,sendMessage:T,editMessage:R,deleteMessage:p}),g.jsx(Y7,{}),g.jsx(_U,{onClose:w,opened:y}),g.jsx(J7,{onClose:C,opened:S})]})]})},CU=()=>{const e=ot(),t=Ws(),{accessToken:r}=ge(c=>c.userStore),n=xo({initialValues:{mail:"",accountName:"",password:""},validate:{mail:c=>{const l=c.trim().length;return l<6?"Email    6 ":l>50?"Email    50 ":/^\S+@\S+$/.test(c)?null:"  email"},accountName:c=>{const l=c.trim().length;return l<6?"    6 ":l>50?"    50 ":null},password:c=>c.trim().length>5?null:"  (    6 )"}}),o=async c=>{(await e(Cd({mail:c.mail,password:c.password,accountName:c.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")},a=()=>{t("/")};return P.useEffect(()=>{r&&t("/main")},[r,t]),g.jsx(mn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:g.jsxs(Qr,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[g.jsxs(Ce,{justify:"space-between",align:"center",mb:"md",children:[g.jsx(je,{fw:500,children:"   "}),g.jsx(ct,{variant:"subtle",onClick:a,children:g.jsx(hw,{size:24})})]}),g.jsx("form",{onSubmit:n.onSubmit(o),children:g.jsxs(xe,{gap:"md",children:[g.jsx(jt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),maxLength:50,required:!0}),g.jsx(jt,{label:"",placeholder:" ",description:" 6  50 ",...n.getInputProps("accountName"),maxLength:50,required:!0}),g.jsx(ap,{label:"",placeholder:" ",description:" 6 ",...n.getInputProps("password"),required:!0}),g.jsx(Ce,{justify:"center",mt:"md",children:g.jsx(Ie,{type:"submit",children:""})})]})})]})})},RU=({children:e})=>{const t=ge(c=>c.testServerStore.error),r=ge(c=>c.userStore.error),n=ge(c=>c.chatsStore.error),o=ge(c=>c.rolesStore.error),{showError:a}=Xt();return P.useEffect(()=>{t!==""&&a(t)},[t]),P.useEffect(()=>{r!==""&&a(r)},[r]),P.useEffect(()=>{n!==""&&a(n)},[n]),P.useEffect(()=>{o!==""&&a(o)},[o]),g.jsx(g.Fragment,{children:e})},EU=()=>g.jsx(U9,{children:g.jsx(V9,{children:g.jsx(VB,{children:g.jsx(V$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:g.jsxs(sC,{defaultColorScheme:"dark",children:[g.jsx(Hs,{}),g.jsx(RU,{children:g.jsxs(O$,{children:[g.jsx(Ac,{path:"/",element:g.jsx(k7,{})}),g.jsx(Ac,{path:"/main",element:g.jsx(xU,{})}),g.jsx(Ac,{path:"/login",element:g.jsx(T7,{})}),g.jsx(Ac,{path:"/register",element:g.jsx(CU,{})})]})})]})})})})}),TU=jF({reducer:{userStore:E7,appStore:j7,testServerStore:B9,chatsStore:AB,rolesStore:T9}});ND.createRoot(document.getElementById("root")).render(g.jsx(XD,{store:TU,children:g.jsx(EU,{})}));
