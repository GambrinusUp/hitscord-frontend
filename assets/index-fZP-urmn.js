var KC=Object.defineProperty;var YC=(e,t,r)=>t in e?KC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ep=(e,t,r)=>YC(e,typeof t!="symbol"?t+"":t,r);function XC(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},da={},rp={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function ZC(){if(By)return Pe;By=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function C(U,X,ce){this.props=U,this.context=X,this.refs=E,this.updater=ce||S}C.prototype.isReactComponent={},C.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function R(){}R.prototype=C.prototype;function _(U,X,ce){this.props=U,this.context=X,this.refs=E,this.updater=ce||S}var f=_.prototype=new R;f.constructor=_,b(f,C.prototype),f.isPureReactComponent=!0;var d=Array.isArray,g=Object.prototype.hasOwnProperty,x={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function M(U,X,ce){var pe,ee={},le=null,ue=null;if(X!=null)for(pe in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(le=""+X.key),X)g.call(X,pe)&&!P.hasOwnProperty(pe)&&(ee[pe]=X[pe]);var Se=arguments.length-2;if(Se===1)ee.children=ce;else if(1<Se){for(var me=Array(Se),ke=0;ke<Se;ke++)me[ke]=arguments[ke+2];ee.children=me}if(U&&U.defaultProps)for(pe in Se=U.defaultProps,Se)ee[pe]===void 0&&(ee[pe]=Se[pe]);return{$$typeof:e,type:U,key:le,ref:ue,props:ee,_owner:x.current}}function j(U,X){return{$$typeof:e,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function A(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return X[ce]})}var N=/\/+/g;function V(U,X){return typeof U=="object"&&U!==null&&U.key!=null?A(""+U.key):X.toString(36)}function W(U,X,ce,pe,ee){var le=typeof U;(le==="undefined"||le==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(le){case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case e:case t:ue=!0}}if(ue)return ue=U,ee=ee(ue),U=pe===""?"."+V(ue,0):pe,d(ee)?(ce="",U!=null&&(ce=U.replace(N,"$&/")+"/"),W(ee,X,ce,"",function(ke){return ke})):ee!=null&&(I(ee)&&(ee=j(ee,ce+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+U)),X.push(ee)),1;if(ue=0,pe=pe===""?".":pe+":",d(U))for(var Se=0;Se<U.length;Se++){le=U[Se];var me=pe+V(le,Se);ue+=W(le,X,ce,me,ee)}else if(me=w(U),typeof me=="function")for(U=me.call(U),Se=0;!(le=U.next()).done;)le=le.value,me=pe+V(le,Se++),ue+=W(le,X,ce,me,ee);else if(le==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function J(U,X,ce){if(U==null)return U;var pe=[],ee=0;return W(U,pe,"","",function(le){return X.call(ce,le,ee++)}),pe}function O(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},F={transition:null},z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};function G(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:J,forEach:function(U,X,ce){J(U,function(){X.apply(this,arguments)},ce)},count:function(U){var X=0;return J(U,function(){X++}),X},toArray:function(U){return J(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pe.Component=C,Pe.Fragment=r,Pe.Profiler=i,Pe.PureComponent=_,Pe.StrictMode=s,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Pe.act=G,Pe.cloneElement=function(U,X,ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var pe=b({},U.props),ee=U.key,le=U.ref,ue=U._owner;if(X!=null){if(X.ref!==void 0&&(le=X.ref,ue=x.current),X.key!==void 0&&(ee=""+X.key),U.type&&U.type.defaultProps)var Se=U.type.defaultProps;for(me in X)g.call(X,me)&&!P.hasOwnProperty(me)&&(pe[me]=X[me]===void 0&&Se!==void 0?Se[me]:X[me])}var me=arguments.length-2;if(me===1)pe.children=ce;else if(1<me){Se=Array(me);for(var ke=0;ke<me;ke++)Se[ke]=arguments[ke+2];pe.children=Se}return{$$typeof:e,type:U.type,key:ee,ref:le,props:pe,_owner:ue}},Pe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Pe.createElement=M,Pe.createFactory=function(U){var X=M.bind(null,U);return X.type=U,X},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(U){return{$$typeof:u,render:U}},Pe.isValidElement=I,Pe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:O}},Pe.memo=function(U,X){return{$$typeof:h,type:U,compare:X===void 0?null:X}},Pe.startTransition=function(U){var X=F.transition;F.transition={};try{U()}finally{F.transition=X}},Pe.unstable_act=G,Pe.useCallback=function(U,X){return B.current.useCallback(U,X)},Pe.useContext=function(U){return B.current.useContext(U)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(U){return B.current.useDeferredValue(U)},Pe.useEffect=function(U,X){return B.current.useEffect(U,X)},Pe.useId=function(){return B.current.useId()},Pe.useImperativeHandle=function(U,X,ce){return B.current.useImperativeHandle(U,X,ce)},Pe.useInsertionEffect=function(U,X){return B.current.useInsertionEffect(U,X)},Pe.useLayoutEffect=function(U,X){return B.current.useLayoutEffect(U,X)},Pe.useMemo=function(U,X){return B.current.useMemo(U,X)},Pe.useReducer=function(U,X,ce){return B.current.useReducer(U,X,ce)},Pe.useRef=function(U){return B.current.useRef(U)},Pe.useState=function(U){return B.current.useState(U)},Pe.useSyncExternalStore=function(U,X,ce){return B.current.useSyncExternalStore(U,X,ce)},Pe.useTransition=function(){return B.current.useTransition()},Pe.version="18.3.1",Pe}var Uy;function lu(){return Uy||(Uy=1,rp.exports=ZC()),rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function JC(){if(Vy)return da;Vy=1;var e=lu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,p,h){var y,v={},w=null,S=null;h!==void 0&&(w=""+h),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(y in p)s.call(p,y)&&!a.hasOwnProperty(y)&&(v[y]=p[y]);if(u&&u.defaultProps)for(y in p=u.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:t,type:u,key:w,ref:S,props:v,_owner:i.current}}return da.Fragment=r,da.jsx=c,da.jsxs=c,da}var Hy;function eR(){return Hy||(Hy=1,tp.exports=JC()),tp.exports}var k=eR(),ll={},np={exports:{}},ur={},sp={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function tR(){return Wy||(Wy=1,function(e){function t(F,z){var G=F.length;F.push(z);e:for(;0<G;){var U=G-1>>>1,X=F[U];if(0<i(X,z))F[U]=z,F[G]=X,G=U;else break e}}function r(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var z=F[0],G=F.pop();if(G!==z){F[0]=G;e:for(var U=0,X=F.length,ce=X>>>1;U<ce;){var pe=2*(U+1)-1,ee=F[pe],le=pe+1,ue=F[le];if(0>i(ee,G))le<X&&0>i(ue,ee)?(F[U]=ue,F[le]=G,U=le):(F[U]=ee,F[pe]=G,U=pe);else if(le<X&&0>i(ue,G))F[U]=ue,F[le]=G,U=le;else break e}}return z}function i(F,z){var G=F.sortIndex-z.sortIndex;return G!==0?G:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var p=[],h=[],y=1,v=null,w=3,S=!1,b=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(F){for(var z=r(h);z!==null;){if(z.callback===null)s(h);else if(z.startTime<=F)s(h),z.sortIndex=z.expirationTime,t(p,z);else break;z=r(h)}}function d(F){if(E=!1,f(F),!b)if(r(p)!==null)b=!0,O(g);else{var z=r(h);z!==null&&B(d,z.startTime-F)}}function g(F,z){b=!1,E&&(E=!1,R(M),M=-1),S=!0;var G=w;try{for(f(z),v=r(p);v!==null&&(!(v.expirationTime>z)||F&&!A());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var X=U(v.expirationTime<=z);z=e.unstable_now(),typeof X=="function"?v.callback=X:v===r(p)&&s(p),f(z)}else s(p);v=r(p)}if(v!==null)var ce=!0;else{var pe=r(h);pe!==null&&B(d,pe.startTime-z),ce=!1}return ce}finally{v=null,w=G,S=!1}}var x=!1,P=null,M=-1,j=5,I=-1;function A(){return!(e.unstable_now()-I<j)}function N(){if(P!==null){var F=e.unstable_now();I=F;var z=!0;try{z=P(!0,F)}finally{z?V():(x=!1,P=null)}}else x=!1}var V;if(typeof _=="function")V=function(){_(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=N,V=function(){J.postMessage(null)}}else V=function(){C(N,0)};function O(F){P=F,x||(x=!0,V())}function B(F,z){M=C(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,O(g))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var G=w;w=z;try{return F()}finally{w=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=w;w=F;try{return z()}finally{w=G}},e.unstable_scheduleCallback=function(F,z,G){var U=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,F={id:y++,callback:z,priorityLevel:F,startTime:G,expirationTime:X,sortIndex:-1},G>U?(F.sortIndex=G,t(h,F),r(p)===null&&F===r(h)&&(E?(R(M),M=-1):E=!0,B(d,G-U))):(F.sortIndex=X,t(p,F),b||S||(b=!0,O(g))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var z=w;return function(){var G=w;w=z;try{return F.apply(this,arguments)}finally{w=G}}}}(op)),op}var qy;function rR(){return qy||(qy=1,sp.exports=tR()),sp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function nR(){if(Gy)return ur;Gy=1;var e=lu(),t=rR();function r(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(i[n]=o,n=0;n<o.length;n++)s.add(o[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return p.call(v,n)?!0:p.call(y,n)?!1:h.test(n)?v[n]=!0:(y[n]=!0,!1)}function S(n,o,l,m){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,o,l,m){if(o===null||typeof o>"u"||S(n,o,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(n,o,l,m,T,D,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=T,this.mustUseProperty=l,this.propertyName=n,this.type=o,this.sanitizeURL=D,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];C[o]=new E(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function _(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(R,_);C[o]=new E(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(R,_);C[o]=new E(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(R,_);C[o]=new E(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function f(n,o,l,m){var T=C.hasOwnProperty(o)?C[o]:null;(T!==null?T.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,T,m)&&(l=null),m||T===null?w(o)&&(l===null?n.removeAttribute(o):n.setAttribute(o,""+l)):T.mustUseProperty?n[T.propertyName]=l===null?T.type===3?!1:"":l:(o=T.attributeName,m=T.attributeNamespace,l===null?n.removeAttribute(o):(T=T.type,l=T===3||T===4&&l===!0?"":""+l,m?n.setAttributeNS(m,o,l):n.setAttribute(o,l))))}var d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),x=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var G=Object.assign,U;function X(n){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+n}var ce=!1;function pe(n,o){if(!n||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var m=Z}Reflect.construct(n,[],o)}else{try{o.call()}catch(Z){m=Z}n.call(o.prototype)}else{try{throw Error()}catch(Z){m=Z}n()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var T=Z.stack.split(`
`),D=m.stack.split(`
`),$=T.length-1,H=D.length-1;1<=$&&0<=H&&T[$]!==D[H];)H--;for(;1<=$&&0<=H;$--,H--)if(T[$]!==D[H]){if($!==1||H!==1)do if($--,H--,0>H||T[$]!==D[H]){var q=`
`+T[$].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=$&&0<=H);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?X(n):""}function ee(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=pe(n.type,!1),n;case 11:return n=pe(n.type.render,!1),n;case 1:return n=pe(n.type,!0),n;default:return""}}function le(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case x:return"Portal";case j:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Consumer";case I:return(n._context.displayName||"Context")+".Provider";case N:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return o=n.displayName||null,o!==null?o:le(n.type)||"Memo";case O:o=n._payload,n=n._init;try{return le(n(o))}catch{}}return null}function ue(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Se(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function me(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(n){var o=me(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),m=""+n[o];if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,D=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return T.call(this)},set:function($){m=""+$,D.call(this,$)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Le(n){n._valueTracker||(n._valueTracker=ke(n))}function bt(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),m="";return n&&(m=me(n)?n.checked?"true":"false":n.value),n=m,n!==l?(o.setValue(n),!0):!1}function vt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function He(n,o){var l=o.checked;return G({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function nt(n,o){var l=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;l=Se(o.value!=null?o.value:l),n._wrapperState={initialChecked:m,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qe(n,o){o=o.checked,o!=null&&f(n,"checked",o,!1)}function We(n,o){Qe(n,o);var l=Se(o.value),m=o.type;if(l!=null)m==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?ut(n,o.type,l):o.hasOwnProperty("defaultValue")&&ut(n,o.type,Se(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function xt(n,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,l||o===n.value||(n.value=o),n.defaultValue=o}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ut(n,o,l){(o!=="number"||vt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Be=Array.isArray;function Ne(n,o,l,m){if(n=n.options,o){o={};for(var T=0;T<l.length;T++)o["$"+l[T]]=!0;for(l=0;l<n.length;l++)T=o.hasOwnProperty("$"+n[l].value),n[l].selected!==T&&(n[l].selected=T),T&&m&&(n[l].defaultSelected=!0)}else{for(l=""+Se(l),o=null,T=0;T<n.length;T++){if(n[T].value===l){n[T].selected=!0,m&&(n[T].defaultSelected=!0);return}o!==null||n[T].disabled||(o=n[T])}o!==null&&(o.selected=!0)}}function st(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Tt(n,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(Be(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}n._wrapperState={initialValue:Se(l)}}function ot(n,o){var l=Se(o.value),m=Se(o.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),o.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),m!=null&&(n.defaultValue=""+m)}function Lt(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Re(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Re(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ve,Ie=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,m,T){MSApp.execUnsafeLocalFunction(function(){return n(o,l,m,T)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ve.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function pt(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var $e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys($e).forEach(function(n){je.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),$e[o]=$e[n]})});function we(n,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||$e.hasOwnProperty(n)&&$e[n]?(""+o).trim():o+"px"}function it(n,o){n=n.style;for(var l in o)if(o.hasOwnProperty(l)){var m=l.indexOf("--")===0,T=we(l,o[l],m);l==="float"&&(l="cssFloat"),m?n.setProperty(l,T):n[l]=T}}var Fn=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(n,o){if(o){if(Fn[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function fd(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=null;function hd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var md=null,To=null,ko=null;function sg(n){if(n=Xi(n)){if(typeof md!="function")throw Error(r(280));var o=n.stateNode;o&&(o=Cc(o),md(n.stateNode,n.type,o))}}function og(n){To?ko?ko.push(n):ko=[n]:To=n}function ig(){if(To){var n=To,o=ko;if(ko=To=null,sg(n),o)for(n=0;n<o.length;n++)sg(o[n])}}function ag(n,o){return n(o)}function cg(){}var gd=!1;function lg(n,o,l){if(gd)return n(o,l);gd=!0;try{return ag(n,o,l)}finally{gd=!1,(To!==null||ko!==null)&&(cg(),ig())}}function Pi(n,o){var l=n.stateNode;if(l===null)return null;var m=Cc(l);if(m===null)return null;l=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var vd=!1;if(u)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){vd=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{vd=!1}function ex(n,o,l,m,T,D,$,H,q){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(l,Z)}catch(se){this.onError(se)}}var Mi=!1,rc=null,nc=!1,yd=null,tx={onError:function(n){Mi=!0,rc=n}};function rx(n,o,l,m,T,D,$,H,q){Mi=!1,rc=null,ex.apply(tx,arguments)}function nx(n,o,l,m,T,D,$,H,q){if(rx.apply(this,arguments),Mi){if(Mi){var Z=rc;Mi=!1,rc=null}else throw Error(r(198));nc||(nc=!0,yd=Z)}}function Us(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function ug(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function dg(n){if(Us(n)!==n)throw Error(r(188))}function sx(n){var o=n.alternate;if(!o){if(o=Us(n),o===null)throw Error(r(188));return o!==n?null:n}for(var l=n,m=o;;){var T=l.return;if(T===null)break;var D=T.alternate;if(D===null){if(m=T.return,m!==null){l=m;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===l)return dg(T),n;if(D===m)return dg(T),o;D=D.sibling}throw Error(r(188))}if(l.return!==m.return)l=T,m=D;else{for(var $=!1,H=T.child;H;){if(H===l){$=!0,l=T,m=D;break}if(H===m){$=!0,m=T,l=D;break}H=H.sibling}if(!$){for(H=D.child;H;){if(H===l){$=!0,l=D,m=T;break}if(H===m){$=!0,m=D,l=T;break}H=H.sibling}if(!$)throw Error(r(189))}}if(l.alternate!==m)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:o}function fg(n){return n=sx(n),n!==null?pg(n):null}function pg(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=pg(n);if(o!==null)return o;n=n.sibling}return null}var hg=t.unstable_scheduleCallback,mg=t.unstable_cancelCallback,ox=t.unstable_shouldYield,ix=t.unstable_requestPaint,ht=t.unstable_now,ax=t.unstable_getCurrentPriorityLevel,wd=t.unstable_ImmediatePriority,gg=t.unstable_UserBlockingPriority,sc=t.unstable_NormalPriority,cx=t.unstable_LowPriority,vg=t.unstable_IdlePriority,oc=null,Cn=null;function lx(n){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(oc,n,void 0,(n.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:fx,ux=Math.log,dx=Math.LN2;function fx(n){return n>>>=0,n===0?32:31-(ux(n)/dx|0)|0}var ic=64,ac=4194304;function Li(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cc(n,o){var l=n.pendingLanes;if(l===0)return 0;var m=0,T=n.suspendedLanes,D=n.pingedLanes,$=l&268435455;if($!==0){var H=$&~T;H!==0?m=Li(H):(D&=$,D!==0&&(m=Li(D)))}else $=l&~T,$!==0?m=Li($):D!==0&&(m=Li(D));if(m===0)return 0;if(o!==0&&o!==m&&(o&T)===0&&(T=m&-m,D=o&-o,T>=D||T===16&&(D&4194240)!==0))return o;if((m&4)!==0&&(m|=l&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=m;0<o;)l=31-Ur(o),T=1<<l,m|=n[l],o&=~T;return m}function px(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hx(n,o){for(var l=n.suspendedLanes,m=n.pingedLanes,T=n.expirationTimes,D=n.pendingLanes;0<D;){var $=31-Ur(D),H=1<<$,q=T[$];q===-1?((H&l)===0||(H&m)!==0)&&(T[$]=px(H,o)):q<=o&&(n.expiredLanes|=H),D&=~H}}function Sd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yg(){var n=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),n}function _d(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function Ii(n,o,l){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Ur(o),n[o]=l}function mx(n,o){var l=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<l;){var T=31-Ur(l),D=1<<T;o[T]=0,m[T]=-1,n[T]=-1,l&=~D}}function bd(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var m=31-Ur(l),T=1<<m;T&o|n[m]&o&&(n[m]|=o),l&=~T}}var Ue=0;function wg(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Sg,xd,_g,bg,xg,Cd=!1,lc=[],us=null,ds=null,fs=null,ji=new Map,Oi=new Map,ps=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cg(n,o){switch(n){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":ji.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(o.pointerId)}}function Ni(n,o,l,m,T,D){return n===null||n.nativeEvent!==D?(n={blockedOn:o,domEventName:l,eventSystemFlags:m,nativeEvent:D,targetContainers:[T]},o!==null&&(o=Xi(o),o!==null&&xd(o)),n):(n.eventSystemFlags|=m,o=n.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),n)}function vx(n,o,l,m,T){switch(o){case"focusin":return us=Ni(us,n,o,l,m,T),!0;case"dragenter":return ds=Ni(ds,n,o,l,m,T),!0;case"mouseover":return fs=Ni(fs,n,o,l,m,T),!0;case"pointerover":var D=T.pointerId;return ji.set(D,Ni(ji.get(D)||null,n,o,l,m,T)),!0;case"gotpointercapture":return D=T.pointerId,Oi.set(D,Ni(Oi.get(D)||null,n,o,l,m,T)),!0}return!1}function Rg(n){var o=Vs(n.target);if(o!==null){var l=Us(o);if(l!==null){if(o=l.tag,o===13){if(o=ug(l),o!==null){n.blockedOn=o,xg(n.priority,function(){_g(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uc(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=Ed(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var m=new l.constructor(l.type,l);pd=m,l.target.dispatchEvent(m),pd=null}else return o=Xi(l),o!==null&&xd(o),n.blockedOn=l,!1;o.shift()}return!0}function Eg(n,o,l){uc(n)&&l.delete(o)}function yx(){Cd=!1,us!==null&&uc(us)&&(us=null),ds!==null&&uc(ds)&&(ds=null),fs!==null&&uc(fs)&&(fs=null),ji.forEach(Eg),Oi.forEach(Eg)}function Ai(n,o){n.blockedOn===o&&(n.blockedOn=null,Cd||(Cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yx)))}function $i(n){function o(T){return Ai(T,n)}if(0<lc.length){Ai(lc[0],n);for(var l=1;l<lc.length;l++){var m=lc[l];m.blockedOn===n&&(m.blockedOn=null)}}for(us!==null&&Ai(us,n),ds!==null&&Ai(ds,n),fs!==null&&Ai(fs,n),ji.forEach(o),Oi.forEach(o),l=0;l<ps.length;l++)m=ps[l],m.blockedOn===n&&(m.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)Rg(l),l.blockedOn===null&&ps.shift()}var Po=d.ReactCurrentBatchConfig,dc=!0;function wx(n,o,l,m){var T=Ue,D=Po.transition;Po.transition=null;try{Ue=1,Rd(n,o,l,m)}finally{Ue=T,Po.transition=D}}function Sx(n,o,l,m){var T=Ue,D=Po.transition;Po.transition=null;try{Ue=4,Rd(n,o,l,m)}finally{Ue=T,Po.transition=D}}function Rd(n,o,l,m){if(dc){var T=Ed(n,o,l,m);if(T===null)Vd(n,o,m,fc,l),Cg(n,m);else if(vx(T,n,o,l,m))m.stopPropagation();else if(Cg(n,m),o&4&&-1<gx.indexOf(n)){for(;T!==null;){var D=Xi(T);if(D!==null&&Sg(D),D=Ed(n,o,l,m),D===null&&Vd(n,o,m,fc,l),D===T)break;T=D}T!==null&&m.stopPropagation()}else Vd(n,o,m,null,l)}}var fc=null;function Ed(n,o,l,m){if(fc=null,n=hd(m),n=Vs(n),n!==null)if(o=Us(n),o===null)n=null;else if(l=o.tag,l===13){if(n=ug(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return fc=n,null}function Tg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ax()){case wd:return 1;case gg:return 4;case sc:case cx:return 16;case vg:return 536870912;default:return 16}default:return 16}}var hs=null,Td=null,pc=null;function kg(){if(pc)return pc;var n,o=Td,l=o.length,m,T="value"in hs?hs.value:hs.textContent,D=T.length;for(n=0;n<l&&o[n]===T[n];n++);var $=l-n;for(m=1;m<=$&&o[l-m]===T[D-m];m++);return pc=T.slice(n,1<m?1-m:void 0)}function hc(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function mc(){return!0}function Pg(){return!1}function gr(n){function o(l,m,T,D,$){this._reactName=l,this._targetInst=T,this.type=m,this.nativeEvent=D,this.target=$,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(l=n[H],this[H]=l?l(D):D[H]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?mc:Pg,this.isPropagationStopped=Pg,this}return G(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),o}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=gr(Do),Fi=G({},Do,{view:0,detail:0}),_x=gr(Fi),Pd,Dd,zi,gc=G({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zi&&(zi&&n.type==="mousemove"?(Pd=n.screenX-zi.screenX,Dd=n.screenY-zi.screenY):Dd=Pd=0,zi=n),Pd)},movementY:function(n){return"movementY"in n?n.movementY:Dd}}),Dg=gr(gc),bx=G({},gc,{dataTransfer:0}),xx=gr(bx),Cx=G({},Fi,{relatedTarget:0}),Md=gr(Cx),Rx=G({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=gr(Rx),Tx=G({},Do,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kx=gr(Tx),Px=G({},Do,{data:0}),Mg=gr(Px),Dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Lx[n])?!!o[n]:!1}function Ld(){return Ix}var jx=G({},Fi,{key:function(n){if(n.key){var o=Dx[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=hc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(n){return n.type==="keypress"?hc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ox=gr(jx),Nx=G({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=gr(Nx),Ax=G({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),$x=gr(Ax),Fx=G({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),zx=gr(Fx),Bx=G({},gc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=gr(Bx),Vx=[9,13,27,32],Id=u&&"CompositionEvent"in window,Bi=null;u&&"documentMode"in document&&(Bi=document.documentMode);var Hx=u&&"TextEvent"in window&&!Bi,Ig=u&&(!Id||Bi&&8<Bi&&11>=Bi),jg=" ",Og=!1;function Ng(n,o){switch(n){case"keyup":return Vx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mo=!1;function Wx(n,o){switch(n){case"compositionend":return Ag(o);case"keypress":return o.which!==32?null:(Og=!0,jg);case"textInput":return n=o.data,n===jg&&Og?null:n;default:return null}}function qx(n,o){if(Mo)return n==="compositionend"||!Id&&Ng(n,o)?(n=kg(),pc=Td=hs=null,Mo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ig&&o.locale!=="ko"?null:o.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Gx[n.type]:o==="textarea"}function Fg(n,o,l,m){og(m),o=_c(o,"onChange"),0<o.length&&(l=new kd("onChange","change",null,l,m),n.push({event:l,listeners:o}))}var Ui=null,Vi=null;function Kx(n){nv(n,0)}function vc(n){var o=No(n);if(bt(o))return n}function Yx(n,o){if(n==="change")return o}var zg=!1;if(u){var jd;if(u){var Od="oninput"in document;if(!Od){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Od=typeof Bg.oninput=="function"}jd=Od}else jd=!1;zg=jd&&(!document.documentMode||9<document.documentMode)}function Ug(){Ui&&(Ui.detachEvent("onpropertychange",Vg),Vi=Ui=null)}function Vg(n){if(n.propertyName==="value"&&vc(Vi)){var o=[];Fg(o,Vi,n,hd(n)),lg(Kx,o)}}function Xx(n,o,l){n==="focusin"?(Ug(),Ui=o,Vi=l,Ui.attachEvent("onpropertychange",Vg)):n==="focusout"&&Ug()}function Qx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vc(Vi)}function Zx(n,o){if(n==="click")return vc(o)}function Jx(n,o){if(n==="input"||n==="change")return vc(o)}function eC(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Vr=typeof Object.is=="function"?Object.is:eC;function Hi(n,o){if(Vr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),m=Object.keys(o);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var T=l[m];if(!p.call(o,T)||!Vr(n[T],o[T]))return!1}return!0}function Hg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wg(n,o){var l=Hg(n);n=0;for(var m;l;){if(l.nodeType===3){if(m=n+l.textContent.length,n<=o&&m>=o)return{node:l,offset:o-n};n=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hg(l)}}function qg(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?qg(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Gg(){for(var n=window,o=vt();o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=vt(n.document)}return o}function Nd(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function tC(n){var o=Gg(),l=n.focusedElem,m=n.selectionRange;if(o!==l&&l&&l.ownerDocument&&qg(l.ownerDocument.documentElement,l)){if(m!==null&&Nd(l)){if(o=m.start,n=m.end,n===void 0&&(n=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(n,l.value.length);else if(n=(o=l.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var T=l.textContent.length,D=Math.min(m.start,T);m=m.end===void 0?D:Math.min(m.end,T),!n.extend&&D>m&&(T=m,m=D,D=T),T=Wg(l,D);var $=Wg(l,m);T&&$&&(n.rangeCount!==1||n.anchorNode!==T.node||n.anchorOffset!==T.offset||n.focusNode!==$.node||n.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(T.node,T.offset),n.removeAllRanges(),D>m?(n.addRange(o),n.extend($.node,$.offset)):(o.setEnd($.node,$.offset),n.addRange(o)))}}for(o=[],n=l;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)n=o[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rC=u&&"documentMode"in document&&11>=document.documentMode,Lo=null,Ad=null,Wi=null,$d=!1;function Kg(n,o,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$d||Lo==null||Lo!==vt(m)||(m=Lo,"selectionStart"in m&&Nd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wi&&Hi(Wi,m)||(Wi=m,m=_c(Ad,"onSelect"),0<m.length&&(o=new kd("onSelect","select",null,o,l),n.push({event:o,listeners:m}),o.target=Lo)))}function yc(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var Io={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Fd={},Yg={};u&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function wc(n){if(Fd[n])return Fd[n];if(!Io[n])return n;var o=Io[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in Yg)return Fd[n]=o[l];return n}var Xg=wc("animationend"),Qg=wc("animationiteration"),Zg=wc("animationstart"),Jg=wc("transitionend"),ev=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(n,o){ev.set(n,o),a(o,[n])}for(var zd=0;zd<tv.length;zd++){var Bd=tv[zd],nC=Bd.toLowerCase(),sC=Bd[0].toUpperCase()+Bd.slice(1);ms(nC,"on"+sC)}ms(Xg,"onAnimationEnd"),ms(Qg,"onAnimationIteration"),ms(Zg,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Jg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function rv(n,o,l){var m=n.type||"unknown-event";n.currentTarget=l,nx(m,o,void 0,n),n.currentTarget=null}function nv(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var m=n[l],T=m.event;m=m.listeners;e:{var D=void 0;if(o)for(var $=m.length-1;0<=$;$--){var H=m[$],q=H.instance,Z=H.currentTarget;if(H=H.listener,q!==D&&T.isPropagationStopped())break e;rv(T,H,Z),D=q}else for($=0;$<m.length;$++){if(H=m[$],q=H.instance,Z=H.currentTarget,H=H.listener,q!==D&&T.isPropagationStopped())break e;rv(T,H,Z),D=q}}}if(nc)throw n=yd,nc=!1,yd=null,n}function Ze(n,o){var l=o[Yd];l===void 0&&(l=o[Yd]=new Set);var m=n+"__bubble";l.has(m)||(sv(o,n,2,!1),l.add(m))}function Ud(n,o,l){var m=0;o&&(m|=4),sv(l,n,m,o)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Gi(n){if(!n[Sc]){n[Sc]=!0,s.forEach(function(l){l!=="selectionchange"&&(oC.has(l)||Ud(l,!1,n),Ud(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Sc]||(o[Sc]=!0,Ud("selectionchange",!1,o))}}function sv(n,o,l,m){switch(Tg(o)){case 1:var T=wx;break;case 4:T=Sx;break;default:T=Rd}l=T.bind(null,o,l,n),T=void 0,!vd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),m?T!==void 0?n.addEventListener(o,l,{capture:!0,passive:T}):n.addEventListener(o,l,!0):T!==void 0?n.addEventListener(o,l,{passive:T}):n.addEventListener(o,l,!1)}function Vd(n,o,l,m,T){var D=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var $=m.tag;if($===3||$===4){var H=m.stateNode.containerInfo;if(H===T||H.nodeType===8&&H.parentNode===T)break;if($===4)for($=m.return;$!==null;){var q=$.tag;if((q===3||q===4)&&(q=$.stateNode.containerInfo,q===T||q.nodeType===8&&q.parentNode===T))return;$=$.return}for(;H!==null;){if($=Vs(H),$===null)return;if(q=$.tag,q===5||q===6){m=D=$;continue e}H=H.parentNode}}m=m.return}lg(function(){var Z=D,se=hd(l),oe=[];e:{var re=ev.get(n);if(re!==void 0){var de=kd,ge=n;switch(n){case"keypress":if(hc(l)===0)break e;case"keydown":case"keyup":de=Ox;break;case"focusin":ge="focus",de=Md;break;case"focusout":ge="blur",de=Md;break;case"beforeblur":case"afterblur":de=Md;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=$x;break;case Xg:case Qg:case Zg:de=Ex;break;case Jg:de=zx;break;case"scroll":de=_x;break;case"wheel":de=Ux;break;case"copy":case"cut":case"paste":de=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Lg}var ye=(o&4)!==0,mt=!ye&&n==="scroll",Y=ye?re!==null?re+"Capture":null:re;ye=[];for(var K=Z,Q;K!==null;){Q=K;var ae=Q.stateNode;if(Q.tag===5&&ae!==null&&(Q=ae,Y!==null&&(ae=Pi(K,Y),ae!=null&&ye.push(Ki(K,ae,Q)))),mt)break;K=K.return}0<ye.length&&(re=new de(re,ge,null,l,se),oe.push({event:re,listeners:ye}))}}if((o&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",re&&l!==pd&&(ge=l.relatedTarget||l.fromElement)&&(Vs(ge)||ge[zn]))break e;if((de||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=Z,ge=ge?Vs(ge):null,ge!==null&&(mt=Us(ge),ge!==mt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=Z),de!==ge)){if(ye=Dg,ae="onMouseLeave",Y="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Lg,ae="onPointerLeave",Y="onPointerEnter",K="pointer"),mt=de==null?re:No(de),Q=ge==null?re:No(ge),re=new ye(ae,K+"leave",de,l,se),re.target=mt,re.relatedTarget=Q,ae=null,Vs(se)===Z&&(ye=new ye(Y,K+"enter",ge,l,se),ye.target=Q,ye.relatedTarget=mt,ae=ye),mt=ae,de&&ge)t:{for(ye=de,Y=ge,K=0,Q=ye;Q;Q=jo(Q))K++;for(Q=0,ae=Y;ae;ae=jo(ae))Q++;for(;0<K-Q;)ye=jo(ye),K--;for(;0<Q-K;)Y=jo(Y),Q--;for(;K--;){if(ye===Y||Y!==null&&ye===Y.alternate)break t;ye=jo(ye),Y=jo(Y)}ye=null}else ye=null;de!==null&&ov(oe,re,de,ye,!1),ge!==null&&mt!==null&&ov(oe,mt,ge,ye,!0)}}e:{if(re=Z?No(Z):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var _e=Yx;else if($g(re))if(zg)_e=Jx;else{_e=Qx;var be=Xx}else(de=re.nodeName)&&de.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=Zx);if(_e&&(_e=_e(n,Z))){Fg(oe,_e,l,se);break e}be&&be(n,re,Z),n==="focusout"&&(be=re._wrapperState)&&be.controlled&&re.type==="number"&&ut(re,"number",re.value)}switch(be=Z?No(Z):window,n){case"focusin":($g(be)||be.contentEditable==="true")&&(Lo=be,Ad=Z,Wi=null);break;case"focusout":Wi=Ad=Lo=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,Kg(oe,l,se);break;case"selectionchange":if(rC)break;case"keydown":case"keyup":Kg(oe,l,se)}var xe;if(Id)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Mo?Ng(n,l)&&(Ce="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ig&&l.locale!=="ko"&&(Mo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Mo&&(xe=kg()):(hs=se,Td="value"in hs?hs.value:hs.textContent,Mo=!0)),be=_c(Z,Ce),0<be.length&&(Ce=new Mg(Ce,n,null,l,se),oe.push({event:Ce,listeners:be}),xe?Ce.data=xe:(xe=Ag(l),xe!==null&&(Ce.data=xe)))),(xe=Hx?Wx(n,l):qx(n,l))&&(Z=_c(Z,"onBeforeInput"),0<Z.length&&(se=new Mg("onBeforeInput","beforeinput",null,l,se),oe.push({event:se,listeners:Z}),se.data=xe))}nv(oe,o)})}function Ki(n,o,l){return{instance:n,listener:o,currentTarget:l}}function _c(n,o){for(var l=o+"Capture",m=[];n!==null;){var T=n,D=T.stateNode;T.tag===5&&D!==null&&(T=D,D=Pi(n,l),D!=null&&m.unshift(Ki(n,D,T)),D=Pi(n,o),D!=null&&m.push(Ki(n,D,T))),n=n.return}return m}function jo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ov(n,o,l,m,T){for(var D=o._reactName,$=[];l!==null&&l!==m;){var H=l,q=H.alternate,Z=H.stateNode;if(q!==null&&q===m)break;H.tag===5&&Z!==null&&(H=Z,T?(q=Pi(l,D),q!=null&&$.unshift(Ki(l,q,H))):T||(q=Pi(l,D),q!=null&&$.push(Ki(l,q,H)))),l=l.return}$.length!==0&&n.push({event:o,listeners:$})}var iC=/\r\n?/g,aC=/\u0000|\uFFFD/g;function iv(n){return(typeof n=="string"?n:""+n).replace(iC,`
`).replace(aC,"")}function bc(n,o,l){if(o=iv(o),iv(n)!==o&&l)throw Error(r(425))}function xc(){}var Hd=null,Wd=null;function qd(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(n){return av.resolve(null).then(n).catch(uC)}:Gd;function uC(n){setTimeout(function(){throw n})}function Kd(n,o){var l=o,m=0;do{var T=l.nextSibling;if(n.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(m===0){n.removeChild(T),$i(o);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=T}while(l);$i(o)}function gs(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function cv(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return n;o--}else l==="/$"&&o++}n=n.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Oo,Yi="__reactProps$"+Oo,zn="__reactContainer$"+Oo,Yd="__reactEvents$"+Oo,dC="__reactListeners$"+Oo,fC="__reactHandles$"+Oo;function Vs(n){var o=n[Rn];if(o)return o;for(var l=n.parentNode;l;){if(o=l[zn]||l[Rn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=cv(n);n!==null;){if(l=n[Rn])return l;n=cv(n)}return o}n=l,l=n.parentNode}return null}function Xi(n){return n=n[Rn]||n[zn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function No(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Cc(n){return n[Yi]||null}var Xd=[],Ao=-1;function vs(n){return{current:n}}function Je(n){0>Ao||(n.current=Xd[Ao],Xd[Ao]=null,Ao--)}function Ye(n,o){Ao++,Xd[Ao]=n.current,n.current=o}var ys={},Bt=vs(ys),or=vs(!1),Hs=ys;function $o(n,o){var l=n.type.contextTypes;if(!l)return ys;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var T={},D;for(D in l)T[D]=o[D];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=T),T}function ir(n){return n=n.childContextTypes,n!=null}function Rc(){Je(or),Je(Bt)}function lv(n,o,l){if(Bt.current!==ys)throw Error(r(168));Ye(Bt,o),Ye(or,l)}function uv(n,o,l){var m=n.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var T in m)if(!(T in o))throw Error(r(108,ue(n)||"Unknown",T));return G({},l,m)}function Ec(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ys,Hs=Bt.current,Ye(Bt,n),Ye(or,or.current),!0}function dv(n,o,l){var m=n.stateNode;if(!m)throw Error(r(169));l?(n=uv(n,o,Hs),m.__reactInternalMemoizedMergedChildContext=n,Je(or),Je(Bt),Ye(Bt,n)):Je(or),Ye(or,l)}var Bn=null,Tc=!1,Qd=!1;function fv(n){Bn===null?Bn=[n]:Bn.push(n)}function pC(n){Tc=!0,fv(n)}function ws(){if(!Qd&&Bn!==null){Qd=!0;var n=0,o=Ue;try{var l=Bn;for(Ue=1;n<l.length;n++){var m=l[n];do m=m(!0);while(m!==null)}Bn=null,Tc=!1}catch(T){throw Bn!==null&&(Bn=Bn.slice(n+1)),hg(wd,ws),T}finally{Ue=o,Qd=!1}}return null}var Fo=[],zo=0,kc=null,Pc=0,Tr=[],kr=0,Ws=null,Un=1,Vn="";function qs(n,o){Fo[zo++]=Pc,Fo[zo++]=kc,kc=n,Pc=o}function pv(n,o,l){Tr[kr++]=Un,Tr[kr++]=Vn,Tr[kr++]=Ws,Ws=n;var m=Un;n=Vn;var T=32-Ur(m)-1;m&=~(1<<T),l+=1;var D=32-Ur(o)+T;if(30<D){var $=T-T%5;D=(m&(1<<$)-1).toString(32),m>>=$,T-=$,Un=1<<32-Ur(o)+T|l<<T|m,Vn=D+n}else Un=1<<D|l<<T|m,Vn=n}function Zd(n){n.return!==null&&(qs(n,1),pv(n,1,0))}function Jd(n){for(;n===kc;)kc=Fo[--zo],Fo[zo]=null,Pc=Fo[--zo],Fo[zo]=null;for(;n===Ws;)Ws=Tr[--kr],Tr[kr]=null,Vn=Tr[--kr],Tr[kr]=null,Un=Tr[--kr],Tr[kr]=null}var vr=null,yr=null,tt=!1,Hr=null;function hv(n,o){var l=Lr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=n,o=n.deletions,o===null?(n.deletions=[l],n.flags|=16):o.push(l)}function mv(n,o){switch(n.tag){case 5:var l=n.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,vr=n,yr=gs(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,vr=n,yr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ws!==null?{id:Un,overflow:Vn}:null,n.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Lr(18,null,null,0),l.stateNode=o,l.return=n,n.child=l,vr=n,yr=null,!0):!1;default:return!1}}function ef(n){return(n.mode&1)!==0&&(n.flags&128)===0}function tf(n){if(tt){var o=yr;if(o){var l=o;if(!mv(n,o)){if(ef(n))throw Error(r(418));o=gs(l.nextSibling);var m=vr;o&&mv(n,o)?hv(m,l):(n.flags=n.flags&-4097|2,tt=!1,vr=n)}}else{if(ef(n))throw Error(r(418));n.flags=n.flags&-4097|2,tt=!1,vr=n}}}function gv(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vr=n}function Dc(n){if(n!==vr)return!1;if(!tt)return gv(n),tt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!qd(n.type,n.memoizedProps)),o&&(o=yr)){if(ef(n))throw vv(),Error(r(418));for(;o;)hv(n,o),o=gs(o.nextSibling)}if(gv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(o===0){yr=gs(n.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}n=n.nextSibling}yr=null}}else yr=vr?gs(n.stateNode.nextSibling):null;return!0}function vv(){for(var n=yr;n;)n=gs(n.nextSibling)}function Bo(){yr=vr=null,tt=!1}function rf(n){Hr===null?Hr=[n]:Hr.push(n)}var hC=d.ReactCurrentBatchConfig;function Qi(n,o,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var m=l.stateNode}if(!m)throw Error(r(147,n));var T=m,D=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===D?o.ref:(o=function($){var H=T.refs;$===null?delete H[D]:H[D]=$},o._stringRef=D,o)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Mc(n,o){throw n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function yv(n){var o=n._init;return o(n._payload)}function wv(n){function o(Y,K){if(n){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function l(Y,K){if(!n)return null;for(;K!==null;)o(Y,K),K=K.sibling;return null}function m(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function T(Y,K){return Y=Ts(Y,K),Y.index=0,Y.sibling=null,Y}function D(Y,K,Q){return Y.index=Q,n?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=2,K):Q):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function $(Y){return n&&Y.alternate===null&&(Y.flags|=2),Y}function H(Y,K,Q,ae){return K===null||K.tag!==6?(K=Kf(Q,Y.mode,ae),K.return=Y,K):(K=T(K,Q),K.return=Y,K)}function q(Y,K,Q,ae){var _e=Q.type;return _e===P?se(Y,K,Q.props.children,ae,Q.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&yv(_e)===K.type)?(ae=T(K,Q.props),ae.ref=Qi(Y,K,Q),ae.return=Y,ae):(ae=tl(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Qi(Y,K,Q),ae.return=Y,ae)}function Z(Y,K,Q,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Yf(Q,Y.mode,ae),K.return=Y,K):(K=T(K,Q.children||[]),K.return=Y,K)}function se(Y,K,Q,ae,_e){return K===null||K.tag!==7?(K=eo(Q,Y.mode,ae,_e),K.return=Y,K):(K=T(K,Q),K.return=Y,K)}function oe(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Kf(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return Q=tl(K.type,K.key,K.props,null,Y.mode,Q),Q.ref=Qi(Y,null,K),Q.return=Y,Q;case x:return K=Yf(K,Y.mode,Q),K.return=Y,K;case O:var ae=K._init;return oe(Y,ae(K._payload),Q)}if(Be(K)||z(K))return K=eo(K,Y.mode,Q,null),K.return=Y,K;Mc(Y,K)}return null}function re(Y,K,Q,ae){var _e=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return _e!==null?null:H(Y,K,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:return Q.key===_e?q(Y,K,Q,ae):null;case x:return Q.key===_e?Z(Y,K,Q,ae):null;case O:return _e=Q._init,re(Y,K,_e(Q._payload),ae)}if(Be(Q)||z(Q))return _e!==null?null:se(Y,K,Q,ae,null);Mc(Y,Q)}return null}function de(Y,K,Q,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Y=Y.get(Q)||null,H(K,Y,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return Y=Y.get(ae.key===null?Q:ae.key)||null,q(K,Y,ae,_e);case x:return Y=Y.get(ae.key===null?Q:ae.key)||null,Z(K,Y,ae,_e);case O:var be=ae._init;return de(Y,K,Q,be(ae._payload),_e)}if(Be(ae)||z(ae))return Y=Y.get(Q)||null,se(K,Y,ae,_e,null);Mc(K,ae)}return null}function ge(Y,K,Q,ae){for(var _e=null,be=null,xe=K,Ce=K=0,Dt=null;xe!==null&&Ce<Q.length;Ce++){xe.index>Ce?(Dt=xe,xe=null):Dt=xe.sibling;var Fe=re(Y,xe,Q[Ce],ae);if(Fe===null){xe===null&&(xe=Dt);break}n&&xe&&Fe.alternate===null&&o(Y,xe),K=D(Fe,K,Ce),be===null?_e=Fe:be.sibling=Fe,be=Fe,xe=Dt}if(Ce===Q.length)return l(Y,xe),tt&&qs(Y,Ce),_e;if(xe===null){for(;Ce<Q.length;Ce++)xe=oe(Y,Q[Ce],ae),xe!==null&&(K=D(xe,K,Ce),be===null?_e=xe:be.sibling=xe,be=xe);return tt&&qs(Y,Ce),_e}for(xe=m(Y,xe);Ce<Q.length;Ce++)Dt=de(xe,Y,Ce,Q[Ce],ae),Dt!==null&&(n&&Dt.alternate!==null&&xe.delete(Dt.key===null?Ce:Dt.key),K=D(Dt,K,Ce),be===null?_e=Dt:be.sibling=Dt,be=Dt);return n&&xe.forEach(function(ks){return o(Y,ks)}),tt&&qs(Y,Ce),_e}function ye(Y,K,Q,ae){var _e=z(Q);if(typeof _e!="function")throw Error(r(150));if(Q=_e.call(Q),Q==null)throw Error(r(151));for(var be=_e=null,xe=K,Ce=K=0,Dt=null,Fe=Q.next();xe!==null&&!Fe.done;Ce++,Fe=Q.next()){xe.index>Ce?(Dt=xe,xe=null):Dt=xe.sibling;var ks=re(Y,xe,Fe.value,ae);if(ks===null){xe===null&&(xe=Dt);break}n&&xe&&ks.alternate===null&&o(Y,xe),K=D(ks,K,Ce),be===null?_e=ks:be.sibling=ks,be=ks,xe=Dt}if(Fe.done)return l(Y,xe),tt&&qs(Y,Ce),_e;if(xe===null){for(;!Fe.done;Ce++,Fe=Q.next())Fe=oe(Y,Fe.value,ae),Fe!==null&&(K=D(Fe,K,Ce),be===null?_e=Fe:be.sibling=Fe,be=Fe);return tt&&qs(Y,Ce),_e}for(xe=m(Y,xe);!Fe.done;Ce++,Fe=Q.next())Fe=de(xe,Y,Ce,Fe.value,ae),Fe!==null&&(n&&Fe.alternate!==null&&xe.delete(Fe.key===null?Ce:Fe.key),K=D(Fe,K,Ce),be===null?_e=Fe:be.sibling=Fe,be=Fe);return n&&xe.forEach(function(GC){return o(Y,GC)}),tt&&qs(Y,Ce),_e}function mt(Y,K,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===P&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:e:{for(var _e=Q.key,be=K;be!==null;){if(be.key===_e){if(_e=Q.type,_e===P){if(be.tag===7){l(Y,be.sibling),K=T(be,Q.props.children),K.return=Y,Y=K;break e}}else if(be.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&yv(_e)===be.type){l(Y,be.sibling),K=T(be,Q.props),K.ref=Qi(Y,be,Q),K.return=Y,Y=K;break e}l(Y,be);break}else o(Y,be);be=be.sibling}Q.type===P?(K=eo(Q.props.children,Y.mode,ae,Q.key),K.return=Y,Y=K):(ae=tl(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Qi(Y,K,Q),ae.return=Y,Y=ae)}return $(Y);case x:e:{for(be=Q.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){l(Y,K.sibling),K=T(K,Q.children||[]),K.return=Y,Y=K;break e}else{l(Y,K);break}else o(Y,K);K=K.sibling}K=Yf(Q,Y.mode,ae),K.return=Y,Y=K}return $(Y);case O:return be=Q._init,mt(Y,K,be(Q._payload),ae)}if(Be(Q))return ge(Y,K,Q,ae);if(z(Q))return ye(Y,K,Q,ae);Mc(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,K!==null&&K.tag===6?(l(Y,K.sibling),K=T(K,Q),K.return=Y,Y=K):(l(Y,K),K=Kf(Q,Y.mode,ae),K.return=Y,Y=K),$(Y)):l(Y,K)}return mt}var Uo=wv(!0),Sv=wv(!1),Lc=vs(null),Ic=null,Vo=null,nf=null;function sf(){nf=Vo=Ic=null}function of(n){var o=Lc.current;Je(Lc),n._currentValue=o}function af(n,o,l){for(;n!==null;){var m=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),n===l)break;n=n.return}}function Ho(n,o){Ic=n,nf=Vo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(ar=!0),n.firstContext=null)}function Pr(n){var o=n._currentValue;if(nf!==n)if(n={context:n,memoizedValue:o,next:null},Vo===null){if(Ic===null)throw Error(r(308));Vo=n,Ic.dependencies={lanes:0,firstContext:n}}else Vo=Vo.next=n;return o}var Gs=null;function cf(n){Gs===null?Gs=[n]:Gs.push(n)}function _v(n,o,l,m){var T=o.interleaved;return T===null?(l.next=l,cf(o)):(l.next=T.next,T.next=l),o.interleaved=l,Hn(n,m)}function Hn(n,o){n.lanes|=o;var l=n.alternate;for(l!==null&&(l.lanes|=o),l=n,n=n.return;n!==null;)n.childLanes|=o,l=n.alternate,l!==null&&(l.childLanes|=o),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Ss=!1;function lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bv(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function _s(n,o,l){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Ae&2)!==0){var T=m.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),m.pending=o,Hn(n,l)}return T=m.interleaved,T===null?(o.next=o,cf(m)):(o.next=T.next,T.next=o),m.interleaved=o,Hn(n,l)}function jc(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var m=o.lanes;m&=n.pendingLanes,l|=m,o.lanes=l,bd(n,l)}}function xv(n,o){var l=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var T=null,D=null;if(l=l.firstBaseUpdate,l!==null){do{var $={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};D===null?T=D=$:D=D.next=$,l=l.next}while(l!==null);D===null?T=D=o:D=D.next=o}else T=D=o;l={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:m.shared,effects:m.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}function Oc(n,o,l,m){var T=n.updateQueue;Ss=!1;var D=T.firstBaseUpdate,$=T.lastBaseUpdate,H=T.shared.pending;if(H!==null){T.shared.pending=null;var q=H,Z=q.next;q.next=null,$===null?D=Z:$.next=Z,$=q;var se=n.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==$&&(H===null?se.firstBaseUpdate=Z:H.next=Z,se.lastBaseUpdate=q))}if(D!==null){var oe=T.baseState;$=0,se=Z=q=null,H=D;do{var re=H.lane,de=H.eventTime;if((m&re)===re){se!==null&&(se=se.next={eventTime:de,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ge=n,ye=H;switch(re=o,de=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){oe=ge.call(de,oe,re);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,re=typeof ge=="function"?ge.call(de,oe,re):ge,re==null)break e;oe=G({},oe,re);break e;case 2:Ss=!0}}H.callback!==null&&H.lane!==0&&(n.flags|=64,re=T.effects,re===null?T.effects=[H]:re.push(H))}else de={eventTime:de,lane:re,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(Z=se=de,q=oe):se=se.next=de,$|=re;if(H=H.next,H===null){if(H=T.shared.pending,H===null)break;re=H,H=re.next,re.next=null,T.lastBaseUpdate=re,T.shared.pending=null}}while(!0);if(se===null&&(q=oe),T.baseState=q,T.firstBaseUpdate=Z,T.lastBaseUpdate=se,o=T.shared.interleaved,o!==null){T=o;do $|=T.lane,T=T.next;while(T!==o)}else D===null&&(T.shared.lanes=0);Xs|=$,n.lanes=$,n.memoizedState=oe}}function Cv(n,o,l){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var m=n[o],T=m.callback;if(T!==null){if(m.callback=null,m=l,typeof T!="function")throw Error(r(191,T));T.call(m)}}}var Zi={},En=vs(Zi),Ji=vs(Zi),ea=vs(Zi);function Ks(n){if(n===Zi)throw Error(r(174));return n}function uf(n,o){switch(Ye(ea,o),Ye(Ji,n),Ye(En,Zi),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ee(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Ee(o,n)}Je(En),Ye(En,o)}function Wo(){Je(En),Je(Ji),Je(ea)}function Rv(n){Ks(ea.current);var o=Ks(En.current),l=Ee(o,n.type);o!==l&&(Ye(Ji,n),Ye(En,l))}function df(n){Ji.current===n&&(Je(En),Je(Ji))}var at=vs(0);function Nc(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ff=[];function pf(){for(var n=0;n<ff.length;n++)ff[n]._workInProgressVersionPrimary=null;ff.length=0}var Ac=d.ReactCurrentDispatcher,hf=d.ReactCurrentBatchConfig,Ys=0,ct=null,Ct=null,kt=null,$c=!1,ta=!1,ra=0,mC=0;function Ut(){throw Error(r(321))}function mf(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!Vr(n[l],o[l]))return!1;return!0}function gf(n,o,l,m,T,D){if(Ys=D,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=n===null||n.memoizedState===null?wC:SC,n=l(m,T),ta){D=0;do{if(ta=!1,ra=0,25<=D)throw Error(r(301));D+=1,kt=Ct=null,o.updateQueue=null,Ac.current=_C,n=l(m,T)}while(ta)}if(Ac.current=Bc,o=Ct!==null&&Ct.next!==null,Ys=0,kt=Ct=ct=null,$c=!1,o)throw Error(r(300));return n}function vf(){var n=ra!==0;return ra=0,n}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ct.memoizedState=kt=n:kt=kt.next=n,kt}function Dr(){if(Ct===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var o=kt===null?ct.memoizedState:kt.next;if(o!==null)kt=o,Ct=n;else{if(n===null)throw Error(r(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},kt===null?ct.memoizedState=kt=n:kt=kt.next=n}return kt}function na(n,o){return typeof o=="function"?o(n):o}function yf(n){var o=Dr(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var m=Ct,T=m.baseQueue,D=l.pending;if(D!==null){if(T!==null){var $=T.next;T.next=D.next,D.next=$}m.baseQueue=T=D,l.pending=null}if(T!==null){D=T.next,m=m.baseState;var H=$=null,q=null,Z=D;do{var se=Z.lane;if((Ys&se)===se)q!==null&&(q=q.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:n(m,Z.action);else{var oe={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};q===null?(H=q=oe,$=m):q=q.next=oe,ct.lanes|=se,Xs|=se}Z=Z.next}while(Z!==null&&Z!==D);q===null?$=m:q.next=H,Vr(m,o.memoizedState)||(ar=!0),o.memoizedState=m,o.baseState=$,o.baseQueue=q,l.lastRenderedState=m}if(n=l.interleaved,n!==null){T=n;do D=T.lane,ct.lanes|=D,Xs|=D,T=T.next;while(T!==n)}else T===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function wf(n){var o=Dr(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var m=l.dispatch,T=l.pending,D=o.memoizedState;if(T!==null){l.pending=null;var $=T=T.next;do D=n(D,$.action),$=$.next;while($!==T);Vr(D,o.memoizedState)||(ar=!0),o.memoizedState=D,o.baseQueue===null&&(o.baseState=D),l.lastRenderedState=D}return[D,m]}function Ev(){}function Tv(n,o){var l=ct,m=Dr(),T=o(),D=!Vr(m.memoizedState,T);if(D&&(m.memoizedState=T,ar=!0),m=m.queue,Sf(Dv.bind(null,l,m,n),[n]),m.getSnapshot!==o||D||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,sa(9,Pv.bind(null,l,m,T,o),void 0,null),Pt===null)throw Error(r(349));(Ys&30)!==0||kv(l,o,T)}return T}function kv(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function Pv(n,o,l,m){o.value=l,o.getSnapshot=m,Mv(o)&&Lv(n)}function Dv(n,o,l){return l(function(){Mv(o)&&Lv(n)})}function Mv(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!Vr(n,l)}catch{return!0}}function Lv(n){var o=Hn(n,1);o!==null&&Kr(o,n,1,-1)}function Iv(n){var o=Tn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:n},o.queue=n,n=n.dispatch=yC.bind(null,ct,n),[o.memoizedState,n]}function sa(n,o,l,m){return n={tag:n,create:o,destroy:l,deps:m,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=n.next=n):(l=o.lastEffect,l===null?o.lastEffect=n.next=n:(m=l.next,l.next=n,n.next=m,o.lastEffect=n)),n}function jv(){return Dr().memoizedState}function Fc(n,o,l,m){var T=Tn();ct.flags|=n,T.memoizedState=sa(1|o,l,void 0,m===void 0?null:m)}function zc(n,o,l,m){var T=Dr();m=m===void 0?null:m;var D=void 0;if(Ct!==null){var $=Ct.memoizedState;if(D=$.destroy,m!==null&&mf(m,$.deps)){T.memoizedState=sa(o,l,D,m);return}}ct.flags|=n,T.memoizedState=sa(1|o,l,D,m)}function Ov(n,o){return Fc(8390656,8,n,o)}function Sf(n,o){return zc(2048,8,n,o)}function Nv(n,o){return zc(4,2,n,o)}function Av(n,o){return zc(4,4,n,o)}function $v(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Fv(n,o,l){return l=l!=null?l.concat([n]):null,zc(4,4,$v.bind(null,o,n),l)}function _f(){}function zv(n,o){var l=Dr();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&mf(o,m[1])?m[0]:(l.memoizedState=[n,o],n)}function Bv(n,o){var l=Dr();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&mf(o,m[1])?m[0]:(n=n(),l.memoizedState=[n,o],n)}function Uv(n,o,l){return(Ys&21)===0?(n.baseState&&(n.baseState=!1,ar=!0),n.memoizedState=l):(Vr(l,o)||(l=yg(),ct.lanes|=l,Xs|=l,n.baseState=!0),o)}function gC(n,o){var l=Ue;Ue=l!==0&&4>l?l:4,n(!0);var m=hf.transition;hf.transition={};try{n(!1),o()}finally{Ue=l,hf.transition=m}}function Vv(){return Dr().memoizedState}function vC(n,o,l){var m=Rs(n);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},Hv(n))Wv(o,l);else if(l=_v(n,o,l,m),l!==null){var T=Xt();Kr(l,n,m,T),qv(l,o,m)}}function yC(n,o,l){var m=Rs(n),T={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hv(n))Wv(o,T);else{var D=n.alternate;if(n.lanes===0&&(D===null||D.lanes===0)&&(D=o.lastRenderedReducer,D!==null))try{var $=o.lastRenderedState,H=D($,l);if(T.hasEagerState=!0,T.eagerState=H,Vr(H,$)){var q=o.interleaved;q===null?(T.next=T,cf(o)):(T.next=q.next,q.next=T),o.interleaved=T;return}}catch{}finally{}l=_v(n,o,T,m),l!==null&&(T=Xt(),Kr(l,n,m,T),qv(l,o,m))}}function Hv(n){var o=n.alternate;return n===ct||o!==null&&o===ct}function Wv(n,o){ta=$c=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function qv(n,o,l){if((l&4194240)!==0){var m=o.lanes;m&=n.pendingLanes,l|=m,o.lanes=l,bd(n,l)}}var Bc={readContext:Pr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},wC={readContext:Pr,useCallback:function(n,o){return Tn().memoizedState=[n,o===void 0?null:o],n},useContext:Pr,useEffect:Ov,useImperativeHandle:function(n,o,l){return l=l!=null?l.concat([n]):null,Fc(4194308,4,$v.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Fc(4194308,4,n,o)},useInsertionEffect:function(n,o){return Fc(4,2,n,o)},useMemo:function(n,o){var l=Tn();return o=o===void 0?null:o,n=n(),l.memoizedState=[n,o],n},useReducer:function(n,o,l){var m=Tn();return o=l!==void 0?l(o):o,m.memoizedState=m.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},m.queue=n,n=n.dispatch=vC.bind(null,ct,n),[m.memoizedState,n]},useRef:function(n){var o=Tn();return n={current:n},o.memoizedState=n},useState:Iv,useDebugValue:_f,useDeferredValue:function(n){return Tn().memoizedState=n},useTransition:function(){var n=Iv(!1),o=n[0];return n=gC.bind(null,n[1]),Tn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,l){var m=ct,T=Tn();if(tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Pt===null)throw Error(r(349));(Ys&30)!==0||kv(m,o,l)}T.memoizedState=l;var D={value:l,getSnapshot:o};return T.queue=D,Ov(Dv.bind(null,m,D,n),[n]),m.flags|=2048,sa(9,Pv.bind(null,m,D,l,o),void 0,null),l},useId:function(){var n=Tn(),o=Pt.identifierPrefix;if(tt){var l=Vn,m=Un;l=(m&~(1<<32-Ur(m)-1)).toString(32)+l,o=":"+o+"R"+l,l=ra++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=mC++,o=":"+o+"r"+l.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},SC={readContext:Pr,useCallback:zv,useContext:Pr,useEffect:Sf,useImperativeHandle:Fv,useInsertionEffect:Nv,useLayoutEffect:Av,useMemo:Bv,useReducer:yf,useRef:jv,useState:function(){return yf(na)},useDebugValue:_f,useDeferredValue:function(n){var o=Dr();return Uv(o,Ct.memoizedState,n)},useTransition:function(){var n=yf(na)[0],o=Dr().memoizedState;return[n,o]},useMutableSource:Ev,useSyncExternalStore:Tv,useId:Vv,unstable_isNewReconciler:!1},_C={readContext:Pr,useCallback:zv,useContext:Pr,useEffect:Sf,useImperativeHandle:Fv,useInsertionEffect:Nv,useLayoutEffect:Av,useMemo:Bv,useReducer:wf,useRef:jv,useState:function(){return wf(na)},useDebugValue:_f,useDeferredValue:function(n){var o=Dr();return Ct===null?o.memoizedState=n:Uv(o,Ct.memoizedState,n)},useTransition:function(){var n=wf(na)[0],o=Dr().memoizedState;return[n,o]},useMutableSource:Ev,useSyncExternalStore:Tv,useId:Vv,unstable_isNewReconciler:!1};function Wr(n,o){if(n&&n.defaultProps){o=G({},o),n=n.defaultProps;for(var l in n)o[l]===void 0&&(o[l]=n[l]);return o}return o}function bf(n,o,l,m){o=n.memoizedState,l=l(m,o),l=l==null?o:G({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Uc={isMounted:function(n){return(n=n._reactInternals)?Us(n)===n:!1},enqueueSetState:function(n,o,l){n=n._reactInternals;var m=Xt(),T=Rs(n),D=Wn(m,T);D.payload=o,l!=null&&(D.callback=l),o=_s(n,D,T),o!==null&&(Kr(o,n,T,m),jc(o,n,T))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var m=Xt(),T=Rs(n),D=Wn(m,T);D.tag=1,D.payload=o,l!=null&&(D.callback=l),o=_s(n,D,T),o!==null&&(Kr(o,n,T,m),jc(o,n,T))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=Xt(),m=Rs(n),T=Wn(l,m);T.tag=2,o!=null&&(T.callback=o),o=_s(n,T,m),o!==null&&(Kr(o,n,m,l),jc(o,n,m))}};function Gv(n,o,l,m,T,D,$){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,D,$):o.prototype&&o.prototype.isPureReactComponent?!Hi(l,m)||!Hi(T,D):!0}function Kv(n,o,l){var m=!1,T=ys,D=o.contextType;return typeof D=="object"&&D!==null?D=Pr(D):(T=ir(o)?Hs:Bt.current,m=o.contextTypes,D=(m=m!=null)?$o(n,T):ys),o=new o(l,D),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Uc,n.stateNode=o,o._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=T,n.__reactInternalMemoizedMaskedChildContext=D),o}function Yv(n,o,l,m){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,m),o.state!==n&&Uc.enqueueReplaceState(o,o.state,null)}function xf(n,o,l,m){var T=n.stateNode;T.props=l,T.state=n.memoizedState,T.refs={},lf(n);var D=o.contextType;typeof D=="object"&&D!==null?T.context=Pr(D):(D=ir(o)?Hs:Bt.current,T.context=$o(n,D)),T.state=n.memoizedState,D=o.getDerivedStateFromProps,typeof D=="function"&&(bf(n,o,D,l),T.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(o=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),o!==T.state&&Uc.enqueueReplaceState(T,T.state,null),Oc(n,l,T,m),T.state=n.memoizedState),typeof T.componentDidMount=="function"&&(n.flags|=4194308)}function qo(n,o){try{var l="",m=o;do l+=ee(m),m=m.return;while(m);var T=l}catch(D){T=`
Error generating stack: `+D.message+`
`+D.stack}return{value:n,source:o,stack:T,digest:null}}function Cf(n,o,l){return{value:n,source:null,stack:l??null,digest:o??null}}function Rf(n,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var bC=typeof WeakMap=="function"?WeakMap:Map;function Xv(n,o,l){l=Wn(-1,l),l.tag=3,l.payload={element:null};var m=o.value;return l.callback=function(){Yc||(Yc=!0,zf=m),Rf(n,o)},l}function Qv(n,o,l){l=Wn(-1,l),l.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var T=o.value;l.payload=function(){return m(T)},l.callback=function(){Rf(n,o)}}var D=n.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){Rf(n,o),typeof m!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),l}function Zv(n,o,l){var m=n.pingCache;if(m===null){m=n.pingCache=new bC;var T=new Set;m.set(o,T)}else T=m.get(o),T===void 0&&(T=new Set,m.set(o,T));T.has(l)||(T.add(l),n=NC.bind(null,n,o,l),o.then(n,n))}function Jv(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function ey(n,o,l,m,T){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Wn(-1,1),o.tag=2,_s(l,o,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=T,n)}var xC=d.ReactCurrentOwner,ar=!1;function Yt(n,o,l,m){o.child=n===null?Sv(o,null,l,m):Uo(o,n.child,l,m)}function ty(n,o,l,m,T){l=l.render;var D=o.ref;return Ho(o,T),m=gf(n,o,l,m,D,T),l=vf(),n!==null&&!ar?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~T,qn(n,o,T)):(tt&&l&&Zd(o),o.flags|=1,Yt(n,o,m,T),o.child)}function ry(n,o,l,m,T){if(n===null){var D=l.type;return typeof D=="function"&&!Gf(D)&&D.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=D,ny(n,o,D,m,T)):(n=tl(l.type,null,m,o,o.mode,T),n.ref=o.ref,n.return=o,o.child=n)}if(D=n.child,(n.lanes&T)===0){var $=D.memoizedProps;if(l=l.compare,l=l!==null?l:Hi,l($,m)&&n.ref===o.ref)return qn(n,o,T)}return o.flags|=1,n=Ts(D,m),n.ref=o.ref,n.return=o,o.child=n}function ny(n,o,l,m,T){if(n!==null){var D=n.memoizedProps;if(Hi(D,m)&&n.ref===o.ref)if(ar=!1,o.pendingProps=m=D,(n.lanes&T)!==0)(n.flags&131072)!==0&&(ar=!0);else return o.lanes=n.lanes,qn(n,o,T)}return Ef(n,o,l,m,T)}function sy(n,o,l){var m=o.pendingProps,T=m.children,D=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ko,wr),wr|=l;else{if((l&1073741824)===0)return n=D!==null?D.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Ye(Ko,wr),wr|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=D!==null?D.baseLanes:l,Ye(Ko,wr),wr|=m}else D!==null?(m=D.baseLanes|l,o.memoizedState=null):m=l,Ye(Ko,wr),wr|=m;return Yt(n,o,T,l),o.child}function oy(n,o){var l=o.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Ef(n,o,l,m,T){var D=ir(l)?Hs:Bt.current;return D=$o(o,D),Ho(o,T),l=gf(n,o,l,m,D,T),m=vf(),n!==null&&!ar?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~T,qn(n,o,T)):(tt&&m&&Zd(o),o.flags|=1,Yt(n,o,l,T),o.child)}function iy(n,o,l,m,T){if(ir(l)){var D=!0;Ec(o)}else D=!1;if(Ho(o,T),o.stateNode===null)Hc(n,o),Kv(o,l,m),xf(o,l,m,T),m=!0;else if(n===null){var $=o.stateNode,H=o.memoizedProps;$.props=H;var q=$.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=Pr(Z):(Z=ir(l)?Hs:Bt.current,Z=$o(o,Z));var se=l.getDerivedStateFromProps,oe=typeof se=="function"||typeof $.getSnapshotBeforeUpdate=="function";oe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==m||q!==Z)&&Yv(o,$,m,Z),Ss=!1;var re=o.memoizedState;$.state=re,Oc(o,m,$,T),q=o.memoizedState,H!==m||re!==q||or.current||Ss?(typeof se=="function"&&(bf(o,l,se,m),q=o.memoizedState),(H=Ss||Gv(o,l,H,m,re,q,Z))?(oe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=q),$.props=m,$.state=q,$.context=Z,m=H):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{$=o.stateNode,bv(n,o),H=o.memoizedProps,Z=o.type===o.elementType?H:Wr(o.type,H),$.props=Z,oe=o.pendingProps,re=$.context,q=l.contextType,typeof q=="object"&&q!==null?q=Pr(q):(q=ir(l)?Hs:Bt.current,q=$o(o,q));var de=l.getDerivedStateFromProps;(se=typeof de=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==oe||re!==q)&&Yv(o,$,m,q),Ss=!1,re=o.memoizedState,$.state=re,Oc(o,m,$,T);var ge=o.memoizedState;H!==oe||re!==ge||or.current||Ss?(typeof de=="function"&&(bf(o,l,de,m),ge=o.memoizedState),(Z=Ss||Gv(o,l,Z,m,re,ge,q)||!1)?(se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(m,ge,q),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(m,ge,q)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===n.memoizedProps&&re===n.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&re===n.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ge),$.props=m,$.state=ge,$.context=q,m=Z):(typeof $.componentDidUpdate!="function"||H===n.memoizedProps&&re===n.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&re===n.memoizedState||(o.flags|=1024),m=!1)}return Tf(n,o,l,m,D,T)}function Tf(n,o,l,m,T,D){oy(n,o);var $=(o.flags&128)!==0;if(!m&&!$)return T&&dv(o,l,!1),qn(n,o,D);m=o.stateNode,xC.current=o;var H=$&&typeof l.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,n!==null&&$?(o.child=Uo(o,n.child,null,D),o.child=Uo(o,null,H,D)):Yt(n,o,H,D),o.memoizedState=m.state,T&&dv(o,l,!0),o.child}function ay(n){var o=n.stateNode;o.pendingContext?lv(n,o.pendingContext,o.pendingContext!==o.context):o.context&&lv(n,o.context,!1),uf(n,o.containerInfo)}function cy(n,o,l,m,T){return Bo(),rf(T),o.flags|=256,Yt(n,o,l,m),o.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Pf(n){return{baseLanes:n,cachePool:null,transitions:null}}function ly(n,o,l){var m=o.pendingProps,T=at.current,D=!1,$=(o.flags&128)!==0,H;if((H=$)||(H=n!==null&&n.memoizedState===null?!1:(T&2)!==0),H?(D=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(T|=1),Ye(at,T&1),n===null)return tf(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=m.children,n=m.fallback,D?(m=o.mode,D=o.child,$={mode:"hidden",children:$},(m&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=$):D=rl($,m,0,null),n=eo(n,m,l,null),D.return=o,n.return=o,D.sibling=n,o.child=D,o.child.memoizedState=Pf(l),o.memoizedState=kf,n):Df(o,$));if(T=n.memoizedState,T!==null&&(H=T.dehydrated,H!==null))return CC(n,o,$,m,H,T,l);if(D){D=m.fallback,$=o.mode,T=n.child,H=T.sibling;var q={mode:"hidden",children:m.children};return($&1)===0&&o.child!==T?(m=o.child,m.childLanes=0,m.pendingProps=q,o.deletions=null):(m=Ts(T,q),m.subtreeFlags=T.subtreeFlags&14680064),H!==null?D=Ts(H,D):(D=eo(D,$,l,null),D.flags|=2),D.return=o,m.return=o,m.sibling=D,o.child=m,m=D,D=o.child,$=n.child.memoizedState,$=$===null?Pf(l):{baseLanes:$.baseLanes|l,cachePool:null,transitions:$.transitions},D.memoizedState=$,D.childLanes=n.childLanes&~l,o.memoizedState=kf,m}return D=n.child,n=D.sibling,m=Ts(D,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=l),m.return=o,m.sibling=null,n!==null&&(l=o.deletions,l===null?(o.deletions=[n],o.flags|=16):l.push(n)),o.child=m,o.memoizedState=null,m}function Df(n,o){return o=rl({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Vc(n,o,l,m){return m!==null&&rf(m),Uo(o,n.child,null,l),n=Df(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function CC(n,o,l,m,T,D,$){if(l)return o.flags&256?(o.flags&=-257,m=Cf(Error(r(422))),Vc(n,o,$,m)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(D=m.fallback,T=o.mode,m=rl({mode:"visible",children:m.children},T,0,null),D=eo(D,T,$,null),D.flags|=2,m.return=o,D.return=o,m.sibling=D,o.child=m,(o.mode&1)!==0&&Uo(o,n.child,null,$),o.child.memoizedState=Pf($),o.memoizedState=kf,D);if((o.mode&1)===0)return Vc(n,o,$,null);if(T.data==="$!"){if(m=T.nextSibling&&T.nextSibling.dataset,m)var H=m.dgst;return m=H,D=Error(r(419)),m=Cf(D,m,void 0),Vc(n,o,$,m)}if(H=($&n.childLanes)!==0,ar||H){if(m=Pt,m!==null){switch($&-$){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(m.suspendedLanes|$))!==0?0:T,T!==0&&T!==D.retryLane&&(D.retryLane=T,Hn(n,T),Kr(m,n,T,-1))}return qf(),m=Cf(Error(r(421))),Vc(n,o,$,m)}return T.data==="$?"?(o.flags|=128,o.child=n.child,o=AC.bind(null,n),T._reactRetry=o,null):(n=D.treeContext,yr=gs(T.nextSibling),vr=o,tt=!0,Hr=null,n!==null&&(Tr[kr++]=Un,Tr[kr++]=Vn,Tr[kr++]=Ws,Un=n.id,Vn=n.overflow,Ws=o),o=Df(o,m.children),o.flags|=4096,o)}function uy(n,o,l){n.lanes|=o;var m=n.alternate;m!==null&&(m.lanes|=o),af(n.return,o,l)}function Mf(n,o,l,m,T){var D=n.memoizedState;D===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:T}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=l,D.tailMode=T)}function dy(n,o,l){var m=o.pendingProps,T=m.revealOrder,D=m.tail;if(Yt(n,o,m.children,l),m=at.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uy(n,l,o);else if(n.tag===19)uy(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(Ye(at,m),(o.mode&1)===0)o.memoizedState=null;else switch(T){case"forwards":for(l=o.child,T=null;l!==null;)n=l.alternate,n!==null&&Nc(n)===null&&(T=l),l=l.sibling;l=T,l===null?(T=o.child,o.child=null):(T=l.sibling,l.sibling=null),Mf(o,!1,T,l,D);break;case"backwards":for(l=null,T=o.child,o.child=null;T!==null;){if(n=T.alternate,n!==null&&Nc(n)===null){o.child=T;break}n=T.sibling,T.sibling=l,l=T,T=n}Mf(o,!0,l,null,D);break;case"together":Mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Hc(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function qn(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),Xs|=o.lanes,(l&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,l=Ts(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=Ts(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function RC(n,o,l){switch(o.tag){case 3:ay(o),Bo();break;case 5:Rv(o);break;case 1:ir(o.type)&&Ec(o);break;case 4:uf(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,T=o.memoizedProps.value;Ye(Lc,m._currentValue),m._currentValue=T;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Ye(at,at.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?ly(n,o,l):(Ye(at,at.current&1),n=qn(n,o,l),n!==null?n.sibling:null);Ye(at,at.current&1);break;case 19:if(m=(l&o.childLanes)!==0,(n.flags&128)!==0){if(m)return dy(n,o,l);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ye(at,at.current),m)break;return null;case 22:case 23:return o.lanes=0,sy(n,o,l)}return qn(n,o,l)}var fy,Lf,py,hy;fy=function(n,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lf=function(){},py=function(n,o,l,m){var T=n.memoizedProps;if(T!==m){n=o.stateNode,Ks(En.current);var D=null;switch(l){case"input":T=He(n,T),m=He(n,m),D=[];break;case"select":T=G({},T,{value:void 0}),m=G({},m,{value:void 0}),D=[];break;case"textarea":T=st(n,T),m=st(n,m),D=[];break;default:typeof T.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=xc)}Eo(l,m);var $;l=null;for(Z in T)if(!m.hasOwnProperty(Z)&&T.hasOwnProperty(Z)&&T[Z]!=null)if(Z==="style"){var H=T[Z];for($ in H)H.hasOwnProperty($)&&(l||(l={}),l[$]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?D||(D=[]):(D=D||[]).push(Z,null));for(Z in m){var q=m[Z];if(H=T!=null?T[Z]:void 0,m.hasOwnProperty(Z)&&q!==H&&(q!=null||H!=null))if(Z==="style")if(H){for($ in H)!H.hasOwnProperty($)||q&&q.hasOwnProperty($)||(l||(l={}),l[$]="");for($ in q)q.hasOwnProperty($)&&H[$]!==q[$]&&(l||(l={}),l[$]=q[$])}else l||(D||(D=[]),D.push(Z,l)),l=q;else Z==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,H=H?H.__html:void 0,q!=null&&H!==q&&(D=D||[]).push(Z,q)):Z==="children"?typeof q!="string"&&typeof q!="number"||(D=D||[]).push(Z,""+q):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(q!=null&&Z==="onScroll"&&Ze("scroll",n),D||H===q||(D=[])):(D=D||[]).push(Z,q))}l&&(D=D||[]).push("style",l);var Z=D;(o.updateQueue=Z)&&(o.flags|=4)}},hy=function(n,o,l,m){l!==m&&(o.flags|=4)};function oa(n,o){if(!tt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Vt(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,m=0;if(o)for(var T=n.child;T!==null;)l|=T.lanes|T.childLanes,m|=T.subtreeFlags&14680064,m|=T.flags&14680064,T.return=n,T=T.sibling;else for(T=n.child;T!==null;)l|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=n,T=T.sibling;return n.subtreeFlags|=m,n.childLanes=l,o}function EC(n,o,l){var m=o.pendingProps;switch(Jd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return ir(o.type)&&Rc(),Vt(o),null;case 3:return m=o.stateNode,Wo(),Je(or),Je(Bt),pf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Dc(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hr!==null&&(Vf(Hr),Hr=null))),Lf(n,o),Vt(o),null;case 5:df(o);var T=Ks(ea.current);if(l=o.type,n!==null&&o.stateNode!=null)py(n,o,l,m,T),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Vt(o),null}if(n=Ks(En.current),Dc(o)){m=o.stateNode,l=o.type;var D=o.memoizedProps;switch(m[Rn]=o,m[Yi]=D,n=(o.mode&1)!==0,l){case"dialog":Ze("cancel",m),Ze("close",m);break;case"iframe":case"object":case"embed":Ze("load",m);break;case"video":case"audio":for(T=0;T<qi.length;T++)Ze(qi[T],m);break;case"source":Ze("error",m);break;case"img":case"image":case"link":Ze("error",m),Ze("load",m);break;case"details":Ze("toggle",m);break;case"input":nt(m,D),Ze("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!D.multiple},Ze("invalid",m);break;case"textarea":Tt(m,D),Ze("invalid",m)}Eo(l,D),T=null;for(var $ in D)if(D.hasOwnProperty($)){var H=D[$];$==="children"?typeof H=="string"?m.textContent!==H&&(D.suppressHydrationWarning!==!0&&bc(m.textContent,H,n),T=["children",H]):typeof H=="number"&&m.textContent!==""+H&&(D.suppressHydrationWarning!==!0&&bc(m.textContent,H,n),T=["children",""+H]):i.hasOwnProperty($)&&H!=null&&$==="onScroll"&&Ze("scroll",m)}switch(l){case"input":Le(m),xt(m,D,!0);break;case"textarea":Le(m),Lt(m);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(m.onclick=xc)}m=T,o.updateQueue=m,m!==null&&(o.flags|=4)}else{$=T.nodeType===9?T:T.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Re(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=$.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=$.createElement(l,{is:m.is}):(n=$.createElement(l),l==="select"&&($=n,m.multiple?$.multiple=!0:m.size&&($.size=m.size))):n=$.createElementNS(n,l),n[Rn]=o,n[Yi]=m,fy(n,o,!1,!1),o.stateNode=n;e:{switch($=fd(l,m),l){case"dialog":Ze("cancel",n),Ze("close",n),T=m;break;case"iframe":case"object":case"embed":Ze("load",n),T=m;break;case"video":case"audio":for(T=0;T<qi.length;T++)Ze(qi[T],n);T=m;break;case"source":Ze("error",n),T=m;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),T=m;break;case"details":Ze("toggle",n),T=m;break;case"input":nt(n,m),T=He(n,m),Ze("invalid",n);break;case"option":T=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},T=G({},m,{value:void 0}),Ze("invalid",n);break;case"textarea":Tt(n,m),T=st(n,m),Ze("invalid",n);break;default:T=m}Eo(l,T),H=T;for(D in H)if(H.hasOwnProperty(D)){var q=H[D];D==="style"?it(n,q):D==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ie(n,q)):D==="children"?typeof q=="string"?(l!=="textarea"||q!=="")&&pt(n,q):typeof q=="number"&&pt(n,""+q):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?q!=null&&D==="onScroll"&&Ze("scroll",n):q!=null&&f(n,D,q,$))}switch(l){case"input":Le(n),xt(n,m,!1);break;case"textarea":Le(n),Lt(n);break;case"option":m.value!=null&&n.setAttribute("value",""+Se(m.value));break;case"select":n.multiple=!!m.multiple,D=m.value,D!=null?Ne(n,!!m.multiple,D,!1):m.defaultValue!=null&&Ne(n,!!m.multiple,m.defaultValue,!0);break;default:typeof T.onClick=="function"&&(n.onclick=xc)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vt(o),null;case 6:if(n&&o.stateNode!=null)hy(n,o,n.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(l=Ks(ea.current),Ks(En.current),Dc(o)){if(m=o.stateNode,l=o.memoizedProps,m[Rn]=o,(D=m.nodeValue!==l)&&(n=vr,n!==null))switch(n.tag){case 3:bc(m.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bc(m.nodeValue,l,(n.mode&1)!==0)}D&&(o.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Rn]=o,o.stateNode=m}return Vt(o),null;case 13:if(Je(at),m=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&yr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)vv(),Bo(),o.flags|=98560,D=!1;else if(D=Dc(o),m!==null&&m.dehydrated!==null){if(n===null){if(!D)throw Error(r(318));if(D=o.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Rn]=o}else Bo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),D=!1}else Hr!==null&&(Vf(Hr),Hr=null),D=!0;if(!D)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(at.current&1)!==0?Rt===0&&(Rt=3):qf())),o.updateQueue!==null&&(o.flags|=4),Vt(o),null);case 4:return Wo(),Lf(n,o),n===null&&Gi(o.stateNode.containerInfo),Vt(o),null;case 10:return of(o.type._context),Vt(o),null;case 17:return ir(o.type)&&Rc(),Vt(o),null;case 19:if(Je(at),D=o.memoizedState,D===null)return Vt(o),null;if(m=(o.flags&128)!==0,$=D.rendering,$===null)if(m)oa(D,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if($=Nc(n),$!==null){for(o.flags|=128,oa(D,!1),m=$.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=l,l=o.child;l!==null;)D=l,n=m,D.flags&=14680066,$=D.alternate,$===null?(D.childLanes=0,D.lanes=n,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=$.childLanes,D.lanes=$.lanes,D.child=$.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=$.memoizedProps,D.memoizedState=$.memoizedState,D.updateQueue=$.updateQueue,D.type=$.type,n=$.dependencies,D.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ye(at,at.current&1|2),o.child}n=n.sibling}D.tail!==null&&ht()>Yo&&(o.flags|=128,m=!0,oa(D,!1),o.lanes=4194304)}else{if(!m)if(n=Nc($),n!==null){if(o.flags|=128,m=!0,l=n.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),oa(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!tt)return Vt(o),null}else 2*ht()-D.renderingStartTime>Yo&&l!==1073741824&&(o.flags|=128,m=!0,oa(D,!1),o.lanes=4194304);D.isBackwards?($.sibling=o.child,o.child=$):(l=D.last,l!==null?l.sibling=$:o.child=$,D.last=$)}return D.tail!==null?(o=D.tail,D.rendering=o,D.tail=o.sibling,D.renderingStartTime=ht(),o.sibling=null,l=at.current,Ye(at,m?l&1|2:l&1),o):(Vt(o),null);case 22:case 23:return Wf(),m=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(wr&1073741824)!==0&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function TC(n,o){switch(Jd(o),o.tag){case 1:return ir(o.type)&&Rc(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Wo(),Je(or),Je(Bt),pf(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return df(o),null;case 13:if(Je(at),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Bo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Je(at),null;case 4:return Wo(),null;case 10:return of(o.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var Wc=!1,Ht=!1,kC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Go(n,o){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){dt(n,o,m)}else l.current=null}function If(n,o,l){try{l()}catch(m){dt(n,o,m)}}var my=!1;function PC(n,o){if(Hd=dc,n=Gg(),Nd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var T=m.anchorOffset,D=m.focusNode;m=m.focusOffset;try{l.nodeType,D.nodeType}catch{l=null;break e}var $=0,H=-1,q=-1,Z=0,se=0,oe=n,re=null;t:for(;;){for(var de;oe!==l||T!==0&&oe.nodeType!==3||(H=$+T),oe!==D||m!==0&&oe.nodeType!==3||(q=$+m),oe.nodeType===3&&($+=oe.nodeValue.length),(de=oe.firstChild)!==null;)re=oe,oe=de;for(;;){if(oe===n)break t;if(re===l&&++Z===T&&(H=$),re===D&&++se===m&&(q=$),(de=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=de}l=H===-1||q===-1?null:{start:H,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wd={focusedElem:n,selectionRange:l},dc=!1,he=o;he!==null;)if(o=he,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,he=n;else for(;he!==null;){o=he;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,mt=ge.memoizedState,Y=o.stateNode,K=Y.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Wr(o.type,ye),mt);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ae){dt(o,o.return,ae)}if(n=o.sibling,n!==null){n.return=o.return,he=n;break}he=o.return}return ge=my,my=!1,ge}function ia(n,o,l){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var T=m=m.next;do{if((T.tag&n)===n){var D=T.destroy;T.destroy=void 0,D!==void 0&&If(o,l,D)}T=T.next}while(T!==m)}}function qc(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&n)===n){var m=l.create;l.destroy=m()}l=l.next}while(l!==o)}}function jf(n){var o=n.ref;if(o!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof o=="function"?o(n):o.current=n}}function gy(n){var o=n.alternate;o!==null&&(n.alternate=null,gy(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Rn],delete o[Yi],delete o[Yd],delete o[dC],delete o[fC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function vy(n){return n.tag===5||n.tag===3||n.tag===4}function yy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Of(n,o,l){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(n,o):l.insertBefore(n,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(n,l)):(o=l,o.appendChild(n)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=xc));else if(m!==4&&(n=n.child,n!==null))for(Of(n,o,l),n=n.sibling;n!==null;)Of(n,o,l),n=n.sibling}function Nf(n,o,l){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Nf(n,o,l),n=n.sibling;n!==null;)Nf(n,o,l),n=n.sibling}var It=null,qr=!1;function bs(n,o,l){for(l=l.child;l!==null;)wy(n,o,l),l=l.sibling}function wy(n,o,l){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(oc,l)}catch{}switch(l.tag){case 5:Ht||Go(l,o);case 6:var m=It,T=qr;It=null,bs(n,o,l),It=m,qr=T,It!==null&&(qr?(n=It,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):It.removeChild(l.stateNode));break;case 18:It!==null&&(qr?(n=It,l=l.stateNode,n.nodeType===8?Kd(n.parentNode,l):n.nodeType===1&&Kd(n,l),$i(n)):Kd(It,l.stateNode));break;case 4:m=It,T=qr,It=l.stateNode.containerInfo,qr=!0,bs(n,o,l),It=m,qr=T;break;case 0:case 11:case 14:case 15:if(!Ht&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){T=m=m.next;do{var D=T,$=D.destroy;D=D.tag,$!==void 0&&((D&2)!==0||(D&4)!==0)&&If(l,o,$),T=T.next}while(T!==m)}bs(n,o,l);break;case 1:if(!Ht&&(Go(l,o),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(H){dt(l,o,H)}bs(n,o,l);break;case 21:bs(n,o,l);break;case 22:l.mode&1?(Ht=(m=Ht)||l.memoizedState!==null,bs(n,o,l),Ht=m):bs(n,o,l);break;default:bs(n,o,l)}}function Sy(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new kC),o.forEach(function(m){var T=$C.bind(null,n,m);l.has(m)||(l.add(m),m.then(T,T))})}}function Gr(n,o){var l=o.deletions;if(l!==null)for(var m=0;m<l.length;m++){var T=l[m];try{var D=n,$=o,H=$;e:for(;H!==null;){switch(H.tag){case 5:It=H.stateNode,qr=!1;break e;case 3:It=H.stateNode.containerInfo,qr=!0;break e;case 4:It=H.stateNode.containerInfo,qr=!0;break e}H=H.return}if(It===null)throw Error(r(160));wy(D,$,T),It=null,qr=!1;var q=T.alternate;q!==null&&(q.return=null),T.return=null}catch(Z){dt(T,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)_y(o,n),o=o.sibling}function _y(n,o){var l=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gr(o,n),kn(n),m&4){try{ia(3,n,n.return),qc(3,n)}catch(ye){dt(n,n.return,ye)}try{ia(5,n,n.return)}catch(ye){dt(n,n.return,ye)}}break;case 1:Gr(o,n),kn(n),m&512&&l!==null&&Go(l,l.return);break;case 5:if(Gr(o,n),kn(n),m&512&&l!==null&&Go(l,l.return),n.flags&32){var T=n.stateNode;try{pt(T,"")}catch(ye){dt(n,n.return,ye)}}if(m&4&&(T=n.stateNode,T!=null)){var D=n.memoizedProps,$=l!==null?l.memoizedProps:D,H=n.type,q=n.updateQueue;if(n.updateQueue=null,q!==null)try{H==="input"&&D.type==="radio"&&D.name!=null&&Qe(T,D),fd(H,$);var Z=fd(H,D);for($=0;$<q.length;$+=2){var se=q[$],oe=q[$+1];se==="style"?it(T,oe):se==="dangerouslySetInnerHTML"?Ie(T,oe):se==="children"?pt(T,oe):f(T,se,oe,Z)}switch(H){case"input":We(T,D);break;case"textarea":ot(T,D);break;case"select":var re=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!D.multiple;var de=D.value;de!=null?Ne(T,!!D.multiple,de,!1):re!==!!D.multiple&&(D.defaultValue!=null?Ne(T,!!D.multiple,D.defaultValue,!0):Ne(T,!!D.multiple,D.multiple?[]:"",!1))}T[Yi]=D}catch(ye){dt(n,n.return,ye)}}break;case 6:if(Gr(o,n),kn(n),m&4){if(n.stateNode===null)throw Error(r(162));T=n.stateNode,D=n.memoizedProps;try{T.nodeValue=D}catch(ye){dt(n,n.return,ye)}}break;case 3:if(Gr(o,n),kn(n),m&4&&l!==null&&l.memoizedState.isDehydrated)try{$i(o.containerInfo)}catch(ye){dt(n,n.return,ye)}break;case 4:Gr(o,n),kn(n);break;case 13:Gr(o,n),kn(n),T=n.child,T.flags&8192&&(D=T.memoizedState!==null,T.stateNode.isHidden=D,!D||T.alternate!==null&&T.alternate.memoizedState!==null||(Ff=ht())),m&4&&Sy(n);break;case 22:if(se=l!==null&&l.memoizedState!==null,n.mode&1?(Ht=(Z=Ht)||se,Gr(o,n),Ht=Z):Gr(o,n),kn(n),m&8192){if(Z=n.memoizedState!==null,(n.stateNode.isHidden=Z)&&!se&&(n.mode&1)!==0)for(he=n,se=n.child;se!==null;){for(oe=he=se;he!==null;){switch(re=he,de=re.child,re.tag){case 0:case 11:case 14:case 15:ia(4,re,re.return);break;case 1:Go(re,re.return);var ge=re.stateNode;if(typeof ge.componentWillUnmount=="function"){m=re,l=re.return;try{o=m,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ye){dt(m,l,ye)}}break;case 5:Go(re,re.return);break;case 22:if(re.memoizedState!==null){Cy(oe);continue}}de!==null?(de.return=re,he=de):Cy(oe)}se=se.sibling}e:for(se=null,oe=n;;){if(oe.tag===5){if(se===null){se=oe;try{T=oe.stateNode,Z?(D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(H=oe.stateNode,q=oe.memoizedProps.style,$=q!=null&&q.hasOwnProperty("display")?q.display:null,H.style.display=we("display",$))}catch(ye){dt(n,n.return,ye)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(ye){dt(n,n.return,ye)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Gr(o,n),kn(n),m&4&&Sy(n);break;case 21:break;default:Gr(o,n),kn(n)}}function kn(n){var o=n.flags;if(o&2){try{e:{for(var l=n.return;l!==null;){if(vy(l)){var m=l;break e}l=l.return}throw Error(r(160))}switch(m.tag){case 5:var T=m.stateNode;m.flags&32&&(pt(T,""),m.flags&=-33);var D=yy(n);Nf(n,D,T);break;case 3:case 4:var $=m.stateNode.containerInfo,H=yy(n);Of(n,H,$);break;default:throw Error(r(161))}}catch(q){dt(n,n.return,q)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function DC(n,o,l){he=n,by(n)}function by(n,o,l){for(var m=(n.mode&1)!==0;he!==null;){var T=he,D=T.child;if(T.tag===22&&m){var $=T.memoizedState!==null||Wc;if(!$){var H=T.alternate,q=H!==null&&H.memoizedState!==null||Ht;H=Wc;var Z=Ht;if(Wc=$,(Ht=q)&&!Z)for(he=T;he!==null;)$=he,q=$.child,$.tag===22&&$.memoizedState!==null?Ry(T):q!==null?(q.return=$,he=q):Ry(T);for(;D!==null;)he=D,by(D),D=D.sibling;he=T,Wc=H,Ht=Z}xy(n)}else(T.subtreeFlags&8772)!==0&&D!==null?(D.return=T,he=D):xy(n)}}function xy(n){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ht||qc(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Ht)if(l===null)m.componentDidMount();else{var T=o.elementType===o.type?l.memoizedProps:Wr(o.type,l.memoizedProps);m.componentDidUpdate(T,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var D=o.updateQueue;D!==null&&Cv(o,D,m);break;case 3:var $=o.updateQueue;if($!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Cv(o,$,l)}break;case 5:var H=o.stateNode;if(l===null&&o.flags&4){l=H;var q=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&l.focus();break;case"img":q.src&&(l.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&$i(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ht||o.flags&512&&jf(o)}catch(re){dt(o,o.return,re)}}if(o===n){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Cy(n){for(;he!==null;){var o=he;if(o===n){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Ry(n){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{qc(4,o)}catch(q){dt(o,l,q)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var T=o.return;try{m.componentDidMount()}catch(q){dt(o,T,q)}}var D=o.return;try{jf(o)}catch(q){dt(o,D,q)}break;case 5:var $=o.return;try{jf(o)}catch(q){dt(o,$,q)}}}catch(q){dt(o,o.return,q)}if(o===n){he=null;break}var H=o.sibling;if(H!==null){H.return=o.return,he=H;break}he=o.return}}var MC=Math.ceil,Gc=d.ReactCurrentDispatcher,Af=d.ReactCurrentOwner,Mr=d.ReactCurrentBatchConfig,Ae=0,Pt=null,yt=null,jt=0,wr=0,Ko=vs(0),Rt=0,aa=null,Xs=0,Kc=0,$f=0,ca=null,cr=null,Ff=0,Yo=1/0,Gn=null,Yc=!1,zf=null,xs=null,Xc=!1,Cs=null,Qc=0,la=0,Bf=null,Zc=-1,Jc=0;function Xt(){return(Ae&6)!==0?ht():Zc!==-1?Zc:Zc=ht()}function Rs(n){return(n.mode&1)===0?1:(Ae&2)!==0&&jt!==0?jt&-jt:hC.transition!==null?(Jc===0&&(Jc=yg()),Jc):(n=Ue,n!==0||(n=window.event,n=n===void 0?16:Tg(n.type)),n)}function Kr(n,o,l,m){if(50<la)throw la=0,Bf=null,Error(r(185));Ii(n,l,m),((Ae&2)===0||n!==Pt)&&(n===Pt&&((Ae&2)===0&&(Kc|=l),Rt===4&&Es(n,jt)),lr(n,m),l===1&&Ae===0&&(o.mode&1)===0&&(Yo=ht()+500,Tc&&ws()))}function lr(n,o){var l=n.callbackNode;hx(n,o);var m=cc(n,n===Pt?jt:0);if(m===0)l!==null&&mg(l),n.callbackNode=null,n.callbackPriority=0;else if(o=m&-m,n.callbackPriority!==o){if(l!=null&&mg(l),o===1)n.tag===0?pC(Ty.bind(null,n)):fv(Ty.bind(null,n)),lC(function(){(Ae&6)===0&&ws()}),l=null;else{switch(wg(m)){case 1:l=wd;break;case 4:l=gg;break;case 16:l=sc;break;case 536870912:l=vg;break;default:l=sc}l=Oy(l,Ey.bind(null,n))}n.callbackPriority=o,n.callbackNode=l}}function Ey(n,o){if(Zc=-1,Jc=0,(Ae&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Xo()&&n.callbackNode!==l)return null;var m=cc(n,n===Pt?jt:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||o)o=el(n,m);else{o=m;var T=Ae;Ae|=2;var D=Py();(Pt!==n||jt!==o)&&(Gn=null,Yo=ht()+500,Zs(n,o));do try{jC();break}catch(H){ky(n,H)}while(!0);sf(),Gc.current=D,Ae=T,yt!==null?o=0:(Pt=null,jt=0,o=Rt)}if(o!==0){if(o===2&&(T=Sd(n),T!==0&&(m=T,o=Uf(n,T))),o===1)throw l=aa,Zs(n,0),Es(n,m),lr(n,ht()),l;if(o===6)Es(n,m);else{if(T=n.current.alternate,(m&30)===0&&!LC(T)&&(o=el(n,m),o===2&&(D=Sd(n),D!==0&&(m=D,o=Uf(n,D))),o===1))throw l=aa,Zs(n,0),Es(n,m),lr(n,ht()),l;switch(n.finishedWork=T,n.finishedLanes=m,o){case 0:case 1:throw Error(r(345));case 2:Js(n,cr,Gn);break;case 3:if(Es(n,m),(m&130023424)===m&&(o=Ff+500-ht(),10<o)){if(cc(n,0)!==0)break;if(T=n.suspendedLanes,(T&m)!==m){Xt(),n.pingedLanes|=n.suspendedLanes&T;break}n.timeoutHandle=Gd(Js.bind(null,n,cr,Gn),o);break}Js(n,cr,Gn);break;case 4:if(Es(n,m),(m&4194240)===m)break;for(o=n.eventTimes,T=-1;0<m;){var $=31-Ur(m);D=1<<$,$=o[$],$>T&&(T=$),m&=~D}if(m=T,m=ht()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*MC(m/1960))-m,10<m){n.timeoutHandle=Gd(Js.bind(null,n,cr,Gn),m);break}Js(n,cr,Gn);break;case 5:Js(n,cr,Gn);break;default:throw Error(r(329))}}}return lr(n,ht()),n.callbackNode===l?Ey.bind(null,n):null}function Uf(n,o){var l=ca;return n.current.memoizedState.isDehydrated&&(Zs(n,o).flags|=256),n=el(n,o),n!==2&&(o=cr,cr=l,o!==null&&Vf(o)),n}function Vf(n){cr===null?cr=n:cr.push.apply(cr,n)}function LC(n){for(var o=n;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var T=l[m],D=T.getSnapshot;T=T.value;try{if(!Vr(D(),T))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Es(n,o){for(o&=~$f,o&=~Kc,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var l=31-Ur(o),m=1<<l;n[l]=-1,o&=~m}}function Ty(n){if((Ae&6)!==0)throw Error(r(327));Xo();var o=cc(n,0);if((o&1)===0)return lr(n,ht()),null;var l=el(n,o);if(n.tag!==0&&l===2){var m=Sd(n);m!==0&&(o=m,l=Uf(n,m))}if(l===1)throw l=aa,Zs(n,0),Es(n,o),lr(n,ht()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Js(n,cr,Gn),lr(n,ht()),null}function Hf(n,o){var l=Ae;Ae|=1;try{return n(o)}finally{Ae=l,Ae===0&&(Yo=ht()+500,Tc&&ws())}}function Qs(n){Cs!==null&&Cs.tag===0&&(Ae&6)===0&&Xo();var o=Ae;Ae|=1;var l=Mr.transition,m=Ue;try{if(Mr.transition=null,Ue=1,n)return n()}finally{Ue=m,Mr.transition=l,Ae=o,(Ae&6)===0&&ws()}}function Wf(){wr=Ko.current,Je(Ko)}function Zs(n,o){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,cC(l)),yt!==null)for(l=yt.return;l!==null;){var m=l;switch(Jd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Rc();break;case 3:Wo(),Je(or),Je(Bt),pf();break;case 5:df(m);break;case 4:Wo();break;case 13:Je(at);break;case 19:Je(at);break;case 10:of(m.type._context);break;case 22:case 23:Wf()}l=l.return}if(Pt=n,yt=n=Ts(n.current,null),jt=wr=o,Rt=0,aa=null,$f=Kc=Xs=0,cr=ca=null,Gs!==null){for(o=0;o<Gs.length;o++)if(l=Gs[o],m=l.interleaved,m!==null){l.interleaved=null;var T=m.next,D=l.pending;if(D!==null){var $=D.next;D.next=T,m.next=$}l.pending=m}Gs=null}return n}function ky(n,o){do{var l=yt;try{if(sf(),Ac.current=Bc,$c){for(var m=ct.memoizedState;m!==null;){var T=m.queue;T!==null&&(T.pending=null),m=m.next}$c=!1}if(Ys=0,kt=Ct=ct=null,ta=!1,ra=0,Af.current=null,l===null||l.return===null){Rt=1,aa=o,yt=null;break}e:{var D=n,$=l.return,H=l,q=o;if(o=jt,H.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var Z=q,se=H,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=Jv($);if(de!==null){de.flags&=-257,ey(de,$,H,D,o),de.mode&1&&Zv(D,Z,o),o=de,q=Z;var ge=o.updateQueue;if(ge===null){var ye=new Set;ye.add(q),o.updateQueue=ye}else ge.add(q);break e}else{if((o&1)===0){Zv(D,Z,o),qf();break e}q=Error(r(426))}}else if(tt&&H.mode&1){var mt=Jv($);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),ey(mt,$,H,D,o),rf(qo(q,H));break e}}D=q=qo(q,H),Rt!==4&&(Rt=2),ca===null?ca=[D]:ca.push(D),D=$;do{switch(D.tag){case 3:D.flags|=65536,o&=-o,D.lanes|=o;var Y=Xv(D,q,o);xv(D,Y);break e;case 1:H=q;var K=D.type,Q=D.stateNode;if((D.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(xs===null||!xs.has(Q)))){D.flags|=65536,o&=-o,D.lanes|=o;var ae=Qv(D,H,o);xv(D,ae);break e}}D=D.return}while(D!==null)}My(l)}catch(_e){o=_e,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Py(){var n=Gc.current;return Gc.current=Bc,n===null?Bc:n}function qf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Pt===null||(Xs&268435455)===0&&(Kc&268435455)===0||Es(Pt,jt)}function el(n,o){var l=Ae;Ae|=2;var m=Py();(Pt!==n||jt!==o)&&(Gn=null,Zs(n,o));do try{IC();break}catch(T){ky(n,T)}while(!0);if(sf(),Ae=l,Gc.current=m,yt!==null)throw Error(r(261));return Pt=null,jt=0,Rt}function IC(){for(;yt!==null;)Dy(yt)}function jC(){for(;yt!==null&&!ox();)Dy(yt)}function Dy(n){var o=jy(n.alternate,n,wr);n.memoizedProps=n.pendingProps,o===null?My(n):yt=o,Af.current=null}function My(n){var o=n;do{var l=o.alternate;if(n=o.return,(o.flags&32768)===0){if(l=EC(l,o,wr),l!==null){yt=l;return}}else{if(l=TC(l,o),l!==null){l.flags&=32767,yt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Rt=6,yt=null;return}}if(o=o.sibling,o!==null){yt=o;return}yt=o=n}while(o!==null);Rt===0&&(Rt=5)}function Js(n,o,l){var m=Ue,T=Mr.transition;try{Mr.transition=null,Ue=1,OC(n,o,l,m)}finally{Mr.transition=T,Ue=m}return null}function OC(n,o,l,m){do Xo();while(Cs!==null);if((Ae&6)!==0)throw Error(r(327));l=n.finishedWork;var T=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var D=l.lanes|l.childLanes;if(mx(n,D),n===Pt&&(yt=Pt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xc||(Xc=!0,Oy(sc,function(){return Xo(),null})),D=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||D){D=Mr.transition,Mr.transition=null;var $=Ue;Ue=1;var H=Ae;Ae|=4,Af.current=null,PC(n,l),_y(l,n),tC(Wd),dc=!!Hd,Wd=Hd=null,n.current=l,DC(l),ix(),Ae=H,Ue=$,Mr.transition=D}else n.current=l;if(Xc&&(Xc=!1,Cs=n,Qc=T),D=n.pendingLanes,D===0&&(xs=null),lx(l.stateNode),lr(n,ht()),o!==null)for(m=n.onRecoverableError,l=0;l<o.length;l++)T=o[l],m(T.value,{componentStack:T.stack,digest:T.digest});if(Yc)throw Yc=!1,n=zf,zf=null,n;return(Qc&1)!==0&&n.tag!==0&&Xo(),D=n.pendingLanes,(D&1)!==0?n===Bf?la++:(la=0,Bf=n):la=0,ws(),null}function Xo(){if(Cs!==null){var n=wg(Qc),o=Mr.transition,l=Ue;try{if(Mr.transition=null,Ue=16>n?16:n,Cs===null)var m=!1;else{if(n=Cs,Cs=null,Qc=0,(Ae&6)!==0)throw Error(r(331));var T=Ae;for(Ae|=4,he=n.current;he!==null;){var D=he,$=D.child;if((he.flags&16)!==0){var H=D.deletions;if(H!==null){for(var q=0;q<H.length;q++){var Z=H[q];for(he=Z;he!==null;){var se=he;switch(se.tag){case 0:case 11:case 15:ia(8,se,D)}var oe=se.child;if(oe!==null)oe.return=se,he=oe;else for(;he!==null;){se=he;var re=se.sibling,de=se.return;if(gy(se),se===Z){he=null;break}if(re!==null){re.return=de,he=re;break}he=de}}}var ge=D.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var mt=ye.sibling;ye.sibling=null,ye=mt}while(ye!==null)}}he=D}}if((D.subtreeFlags&2064)!==0&&$!==null)$.return=D,he=$;else e:for(;he!==null;){if(D=he,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:ia(9,D,D.return)}var Y=D.sibling;if(Y!==null){Y.return=D.return,he=Y;break e}he=D.return}}var K=n.current;for(he=K;he!==null;){$=he;var Q=$.child;if(($.subtreeFlags&2064)!==0&&Q!==null)Q.return=$,he=Q;else e:for($=K;he!==null;){if(H=he,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:qc(9,H)}}catch(_e){dt(H,H.return,_e)}if(H===$){he=null;break e}var ae=H.sibling;if(ae!==null){ae.return=H.return,he=ae;break e}he=H.return}}if(Ae=T,ws(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(oc,n)}catch{}m=!0}return m}finally{Ue=l,Mr.transition=o}}return!1}function Ly(n,o,l){o=qo(l,o),o=Xv(n,o,1),n=_s(n,o,1),o=Xt(),n!==null&&(Ii(n,1,o),lr(n,o))}function dt(n,o,l){if(n.tag===3)Ly(n,n,l);else for(;o!==null;){if(o.tag===3){Ly(o,n,l);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xs===null||!xs.has(m))){n=qo(l,n),n=Qv(o,n,1),o=_s(o,n,1),n=Xt(),o!==null&&(Ii(o,1,n),lr(o,n));break}}o=o.return}}function NC(n,o,l){var m=n.pingCache;m!==null&&m.delete(o),o=Xt(),n.pingedLanes|=n.suspendedLanes&l,Pt===n&&(jt&l)===l&&(Rt===4||Rt===3&&(jt&130023424)===jt&&500>ht()-Ff?Zs(n,0):$f|=l),lr(n,o)}function Iy(n,o){o===0&&((n.mode&1)===0?o=1:(o=ac,ac<<=1,(ac&130023424)===0&&(ac=4194304)));var l=Xt();n=Hn(n,o),n!==null&&(Ii(n,o,l),lr(n,l))}function AC(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Iy(n,l)}function $C(n,o){var l=0;switch(n.tag){case 13:var m=n.stateNode,T=n.memoizedState;T!==null&&(l=T.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(o),Iy(n,l)}var jy;jy=function(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps||or.current)ar=!0;else{if((n.lanes&l)===0&&(o.flags&128)===0)return ar=!1,RC(n,o,l);ar=(n.flags&131072)!==0}else ar=!1,tt&&(o.flags&1048576)!==0&&pv(o,Pc,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Hc(n,o),n=o.pendingProps;var T=$o(o,Bt.current);Ho(o,l),T=gf(null,o,m,n,T,l);var D=vf();return o.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ir(m)?(D=!0,Ec(o)):D=!1,o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,lf(o),T.updater=Uc,o.stateNode=T,T._reactInternals=o,xf(o,m,n,l),o=Tf(null,o,m,!0,D,l)):(o.tag=0,tt&&D&&Zd(o),Yt(null,o,T,l),o=o.child),o;case 16:m=o.elementType;e:{switch(Hc(n,o),n=o.pendingProps,T=m._init,m=T(m._payload),o.type=m,T=o.tag=zC(m),n=Wr(m,n),T){case 0:o=Ef(null,o,m,n,l);break e;case 1:o=iy(null,o,m,n,l);break e;case 11:o=ty(null,o,m,n,l);break e;case 14:o=ry(null,o,m,Wr(m.type,n),l);break e}throw Error(r(306,m,""))}return o;case 0:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:Wr(m,T),Ef(n,o,m,T,l);case 1:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:Wr(m,T),iy(n,o,m,T,l);case 3:e:{if(ay(o),n===null)throw Error(r(387));m=o.pendingProps,D=o.memoizedState,T=D.element,bv(n,o),Oc(o,m,null,l);var $=o.memoizedState;if(m=$.element,D.isDehydrated)if(D={element:m,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=D,o.memoizedState=D,o.flags&256){T=qo(Error(r(423)),o),o=cy(n,o,m,l,T);break e}else if(m!==T){T=qo(Error(r(424)),o),o=cy(n,o,m,l,T);break e}else for(yr=gs(o.stateNode.containerInfo.firstChild),vr=o,tt=!0,Hr=null,l=Sv(o,null,m,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bo(),m===T){o=qn(n,o,l);break e}Yt(n,o,m,l)}o=o.child}return o;case 5:return Rv(o),n===null&&tf(o),m=o.type,T=o.pendingProps,D=n!==null?n.memoizedProps:null,$=T.children,qd(m,T)?$=null:D!==null&&qd(m,D)&&(o.flags|=32),oy(n,o),Yt(n,o,$,l),o.child;case 6:return n===null&&tf(o),null;case 13:return ly(n,o,l);case 4:return uf(o,o.stateNode.containerInfo),m=o.pendingProps,n===null?o.child=Uo(o,null,m,l):Yt(n,o,m,l),o.child;case 11:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:Wr(m,T),ty(n,o,m,T,l);case 7:return Yt(n,o,o.pendingProps,l),o.child;case 8:return Yt(n,o,o.pendingProps.children,l),o.child;case 12:return Yt(n,o,o.pendingProps.children,l),o.child;case 10:e:{if(m=o.type._context,T=o.pendingProps,D=o.memoizedProps,$=T.value,Ye(Lc,m._currentValue),m._currentValue=$,D!==null)if(Vr(D.value,$)){if(D.children===T.children&&!or.current){o=qn(n,o,l);break e}}else for(D=o.child,D!==null&&(D.return=o);D!==null;){var H=D.dependencies;if(H!==null){$=D.child;for(var q=H.firstContext;q!==null;){if(q.context===m){if(D.tag===1){q=Wn(-1,l&-l),q.tag=2;var Z=D.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?q.next=q:(q.next=se.next,se.next=q),Z.pending=q}}D.lanes|=l,q=D.alternate,q!==null&&(q.lanes|=l),af(D.return,l,o),H.lanes|=l;break}q=q.next}}else if(D.tag===10)$=D.type===o.type?null:D.child;else if(D.tag===18){if($=D.return,$===null)throw Error(r(341));$.lanes|=l,H=$.alternate,H!==null&&(H.lanes|=l),af($,l,o),$=D.sibling}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===o){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}Yt(n,o,T.children,l),o=o.child}return o;case 9:return T=o.type,m=o.pendingProps.children,Ho(o,l),T=Pr(T),m=m(T),o.flags|=1,Yt(n,o,m,l),o.child;case 14:return m=o.type,T=Wr(m,o.pendingProps),T=Wr(m.type,T),ry(n,o,m,T,l);case 15:return ny(n,o,o.type,o.pendingProps,l);case 17:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:Wr(m,T),Hc(n,o),o.tag=1,ir(m)?(n=!0,Ec(o)):n=!1,Ho(o,l),Kv(o,m,T),xf(o,m,T,l),Tf(null,o,m,!0,n,l);case 19:return dy(n,o,l);case 22:return sy(n,o,l)}throw Error(r(156,o.tag))};function Oy(n,o){return hg(n,o)}function FC(n,o,l,m){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(n,o,l,m){return new FC(n,o,l,m)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zC(n){if(typeof n=="function")return Gf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N)return 11;if(n===J)return 14}return 2}function Ts(n,o){var l=n.alternate;return l===null?(l=Lr(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function tl(n,o,l,m,T,D){var $=2;if(m=n,typeof n=="function")Gf(n)&&($=1);else if(typeof n=="string")$=5;else e:switch(n){case P:return eo(l.children,T,D,o);case M:$=8,T|=8;break;case j:return n=Lr(12,l,o,T|2),n.elementType=j,n.lanes=D,n;case V:return n=Lr(13,l,o,T),n.elementType=V,n.lanes=D,n;case W:return n=Lr(19,l,o,T),n.elementType=W,n.lanes=D,n;case B:return rl(l,T,D,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:$=10;break e;case A:$=9;break e;case N:$=11;break e;case J:$=14;break e;case O:$=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return o=Lr($,l,o,T),o.elementType=n,o.type=m,o.lanes=D,o}function eo(n,o,l,m){return n=Lr(7,n,m,o),n.lanes=l,n}function rl(n,o,l,m){return n=Lr(22,n,m,o),n.elementType=B,n.lanes=l,n.stateNode={isHidden:!1},n}function Kf(n,o,l){return n=Lr(6,n,null,o),n.lanes=l,n}function Yf(n,o,l){return o=Lr(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function BC(n,o,l,m,T){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=m,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Xf(n,o,l,m,T,D,$,H,q){return n=new BC(n,o,l,H,q),o===1?(o=1,D===!0&&(o|=8)):o=0,D=Lr(3,null,null,o),n.current=D,D.stateNode=n,D.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(D),n}function UC(n,o,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:m==null?null:""+m,children:n,containerInfo:o,implementation:l}}function Ny(n){if(!n)return ys;n=n._reactInternals;e:{if(Us(n)!==n||n.tag!==1)throw Error(r(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ir(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(ir(l))return uv(n,l,o)}return o}function Ay(n,o,l,m,T,D,$,H,q){return n=Xf(l,m,!0,n,T,D,$,H,q),n.context=Ny(null),l=n.current,m=Xt(),T=Rs(l),D=Wn(m,T),D.callback=o??null,_s(l,D,T),n.current.lanes=T,Ii(n,T,m),lr(n,m),n}function nl(n,o,l,m){var T=o.current,D=Xt(),$=Rs(T);return l=Ny(l),o.context===null?o.context=l:o.pendingContext=l,o=Wn(D,$),o.payload={element:n},m=m===void 0?null:m,m!==null&&(o.callback=m),n=_s(T,o,$),n!==null&&(Kr(n,T,$,D),jc(n,T,$)),$}function sl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $y(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Qf(n,o){$y(n,o),(n=n.alternate)&&$y(n,o)}function VC(){return null}var Fy=typeof reportError=="function"?reportError:function(n){console.error(n)};function Zf(n){this._internalRoot=n}ol.prototype.render=Zf.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));nl(n,o,null,null)},ol.prototype.unmount=Zf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Qs(function(){nl(null,n,null,null)}),o[zn]=null}};function ol(n){this._internalRoot=n}ol.prototype.unstable_scheduleHydration=function(n){if(n){var o=bg();n={blockedOn:null,target:n,priority:o};for(var l=0;l<ps.length&&o!==0&&o<ps[l].priority;l++);ps.splice(l,0,n),l===0&&Rg(n)}};function Jf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function il(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zy(){}function HC(n,o,l,m,T){if(T){if(typeof m=="function"){var D=m;m=function(){var Z=sl($);D.call(Z)}}var $=Ay(o,m,n,0,null,!1,!1,"",zy);return n._reactRootContainer=$,n[zn]=$.current,Gi(n.nodeType===8?n.parentNode:n),Qs(),$}for(;T=n.lastChild;)n.removeChild(T);if(typeof m=="function"){var H=m;m=function(){var Z=sl(q);H.call(Z)}}var q=Xf(n,0,!1,null,null,!1,!1,"",zy);return n._reactRootContainer=q,n[zn]=q.current,Gi(n.nodeType===8?n.parentNode:n),Qs(function(){nl(o,q,l,m)}),q}function al(n,o,l,m,T){var D=l._reactRootContainer;if(D){var $=D;if(typeof T=="function"){var H=T;T=function(){var q=sl($);H.call(q)}}nl(o,$,n,T)}else $=HC(l,o,n,T,m);return sl($)}Sg=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var l=Li(o.pendingLanes);l!==0&&(bd(o,l|1),lr(o,ht()),(Ae&6)===0&&(Yo=ht()+500,ws()))}break;case 13:Qs(function(){var m=Hn(n,1);if(m!==null){var T=Xt();Kr(m,n,1,T)}}),Qf(n,1)}},xd=function(n){if(n.tag===13){var o=Hn(n,134217728);if(o!==null){var l=Xt();Kr(o,n,134217728,l)}Qf(n,134217728)}},_g=function(n){if(n.tag===13){var o=Rs(n),l=Hn(n,o);if(l!==null){var m=Xt();Kr(l,n,o,m)}Qf(n,o)}},bg=function(){return Ue},xg=function(n,o){var l=Ue;try{return Ue=n,o()}finally{Ue=l}},md=function(n,o,l){switch(o){case"input":if(We(n,l),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var m=l[o];if(m!==n&&m.form===n.form){var T=Cc(m);if(!T)throw Error(r(90));bt(m),We(m,T)}}}break;case"textarea":ot(n,l);break;case"select":o=l.value,o!=null&&Ne(n,!!l.multiple,o,!1)}},ag=Hf,cg=Qs;var WC={usingClientEntryPoint:!1,Events:[Xi,No,Cc,og,ig,Hf]},ua={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qC={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fg(n),n===null?null:n.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||VC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{oc=cl.inject(qC),Cn=cl}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC,ur.createPortal=function(n,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(o))throw Error(r(200));return UC(n,o,null,l)},ur.createRoot=function(n,o){if(!Jf(n))throw Error(r(299));var l=!1,m="",T=Fy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=Xf(n,1,!1,null,null,l,!1,m,T),n[zn]=o.current,Gi(n.nodeType===8?n.parentNode:n),new Zf(o)},ur.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=fg(o),n=n===null?null:n.stateNode,n},ur.flushSync=function(n){return Qs(n)},ur.hydrate=function(n,o,l){if(!il(o))throw Error(r(200));return al(null,n,o,!0,l)},ur.hydrateRoot=function(n,o,l){if(!Jf(n))throw Error(r(405));var m=l!=null&&l.hydratedSources||null,T=!1,D="",$=Fy;if(l!=null&&(l.unstable_strictMode===!0&&(T=!0),l.identifierPrefix!==void 0&&(D=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),o=Ay(o,null,n,1,l??null,T,!1,D,$),n[zn]=o.current,Gi(n),m)for(n=0;n<m.length;n++)l=m[n],T=l._getVersion,T=T(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,T]:o.mutableSourceEagerHydrationData.push(l,T);return new ol(o)},ur.render=function(n,o,l){if(!il(o))throw Error(r(200));return al(null,n,o,!1,l)},ur.unmountComponentAtNode=function(n){if(!il(n))throw Error(r(40));return n._reactRootContainer?(Qs(function(){al(null,null,n,!1,function(){n._reactRootContainer=null,n[zn]=null})}),!0):!1},ur.unstable_batchedUpdates=Hf,ur.unstable_renderSubtreeIntoContainer=function(n,o,l,m){if(!il(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return al(n,o,l,!1,m)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var Ky;function T_(){if(Ky)return np.exports;Ky=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),np.exports=nR(),np.exports}var Yy;function sR(){if(Yy)return ll;Yy=1;var e=T_();return ll.createRoot=e.createRoot,ll.hydrateRoot=e.hydrateRoot,ll}var oR=sR(),L=lu();const $t=Mh(L),k_=XC({__proto__:null,default:$t},[L]);var ip={exports:{}},ap={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function iR(){if(Xy)return ap;Xy=1;var e=lu();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,u=e.useDebugValue;return ap.useSyncExternalStoreWithSelector=function(p,h,y,v,w){var S=i(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=c(function(){function C(g){if(!R){if(R=!0,_=g,g=v(g),w!==void 0&&b.hasValue){var x=b.value;if(w(x,g))return f=x}return f=g}if(x=f,r(_,g))return x;var P=v(g);return w!==void 0&&w(x,P)?(_=g,x):(_=g,f=P)}var R=!1,_,f,d=y===void 0?null:y;return[function(){return C(h())},d===null?void 0:function(){return C(d())}]},[h,y,v,w]);var E=s(p,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=E},[E]),u(E),E},ap}var Qy;function aR(){return Qy||(Qy=1,ip.exports=iR()),ip.exports}var cR=aR();function lR(e){e()}function uR(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lR(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Zy={notify(){},get:()=>[]};function dR(e,t){let r,s=Zy,i=0,a=!1;function c(E){y();const C=s.subscribe(E);let R=!1;return()=>{R||(R=!0,C(),v())}}function u(){s.notify()}function p(){b.onStateChange&&b.onStateChange()}function h(){return a}function y(){i++,r||(r=e.subscribe(p),s=uR())}function v(){i--,r&&i===0&&(r(),r=void 0,s.clear(),s=Zy)}function w(){a||(a=!0,y())}function S(){a&&(a=!1,v())}const b={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:p,isSubscribed:h,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>s};return b}var fR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pR=fR(),hR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mR=hR(),gR=()=>pR||mR?L.useLayoutEffect:L.useEffect,vR=gR(),cp=Symbol.for("react-redux-context"),lp=typeof globalThis<"u"?globalThis:{};function yR(){if(!L.createContext)return{};const e=lp[cp]??(lp[cp]=new Map);let t=e.get(L.createContext);return t||(t=L.createContext(null),e.set(L.createContext,t)),t}var Os=yR();function wR(e){const{children:t,context:r,serverState:s,store:i}=e,a=L.useMemo(()=>{const p=dR(i);return{store:i,subscription:p,getServerState:s?()=>s:void 0}},[i,s]),c=L.useMemo(()=>i.getState(),[i]);vR(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,c]);const u=r||Os;return L.createElement(u.Provider,{value:a},t)}var SR=wR;function Lh(e=Os){return function(){return L.useContext(e)}}var P_=Lh();function D_(e=Os){const t=e===Os?P_:Lh(e),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var _R=D_();function bR(e=Os){const t=e===Os?_R:D_(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var xR=bR(),CR=(e,t)=>e===t;function RR(e=Os){const t=e===Os?P_:Lh(e),r=(s,i={})=>{const{equalityFn:a=CR}=typeof i=="function"?{equalityFn:i}:i,c=t(),{store:u,subscription:p,getServerState:h}=c;L.useRef(!0);const y=L.useCallback({[s.name](w){return s(w)}}[s.name],[s]),v=cR.useSyncExternalStoreWithSelector(p.addNestedSub,u.getState,h||u.getState,y,a);return L.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var ER=RR(),Mn=function(){return Mn=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Mn.apply(this,arguments)};function M_(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r}function TR(e,t,r){if(r||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Tl="right-scroll-bar-position",kl="width-before-scroll-bar",kR="with-scroll-bars-hidden",PR="--removed-body-scroll-bar-size";function up(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DR(e,t){var r=L.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=t,r.facade}var MR=typeof window<"u"?L.useLayoutEffect:L.useEffect,Jy=new WeakMap;function LR(e,t){var r=DR(null,function(s){return e.forEach(function(i){return up(i,s)})});return MR(function(){var s=Jy.get(r);if(s){var i=new Set(s),a=new Set(e),c=r.current;i.forEach(function(u){a.has(u)||up(u,null)}),a.forEach(function(u){i.has(u)||up(u,c)})}Jy.set(r,e)},[e]),r}function IR(e){return e}function jR(e,t){t===void 0&&(t=IR);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,s);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(s=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){s=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(a),c=r}var p=function(){var y=c;c=[],y.forEach(a)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(y){c.push(y),h()},filter:function(y){return c=c.filter(y),r}}}};return i}function OR(e){e===void 0&&(e={});var t=jR(null);return t.options=Mn({async:!0,ssr:!1},e),t}var L_=function(e){var t=e.sideCar,r=M_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return L.createElement(s,Mn({},r))};L_.isSideCarExport=!0;function NR(e,t){return e.useMedium(t),L_}var I_=OR(),dp=function(){},uu=L.forwardRef(function(e,t){var r=L.useRef(null),s=L.useState({onScrollCapture:dp,onWheelCapture:dp,onTouchMoveCapture:dp}),i=s[0],a=s[1],c=e.forwardProps,u=e.children,p=e.className,h=e.removeScrollBar,y=e.enabled,v=e.shards,w=e.sideCar,S=e.noIsolation,b=e.inert,E=e.allowPinchZoom,C=e.as,R=C===void 0?"div":C,_=e.gapMode,f=M_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),d=w,g=LR([r,t]),x=Mn(Mn({},f),i);return L.createElement(L.Fragment,null,y&&L.createElement(d,{sideCar:I_,removeScrollBar:h,shards:v,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!E,lockRef:r,gapMode:_}),c?L.cloneElement(L.Children.only(u),Mn(Mn({},x),{ref:g})):L.createElement(R,Mn({},x,{className:p,ref:g}),u))});uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uu.classNames={fullWidth:kl,zeroRight:Tl};var AR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $R(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AR();return t&&e.setAttribute("nonce",t),e}function FR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BR=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$R())&&(FR(t,r),zR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UR=function(){var e=BR();return function(t,r){L.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},j_=function(){var e=UR(),t=function(r){var s=r.styles,i=r.dynamic;return e(s,i),null};return t},VR={left:0,top:0,right:0,gap:0},fp=function(e){return parseInt(e||"",10)||0},HR=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[fp(r),fp(s),fp(i)]},WR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VR;var t=HR(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},qR=j_(),ii="data-scroll-locked",GR=function(e,t,r,s){var i=e.left,a=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(ii,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tl,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(kl,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ii,`] {
    `).concat(PR,": ").concat(u,`px;
  }
`)},ew=function(){var e=parseInt(document.body.getAttribute(ii)||"0",10);return isFinite(e)?e:0},KR=function(){L.useEffect(function(){return document.body.setAttribute(ii,(ew()+1).toString()),function(){var e=ew()-1;e<=0?document.body.removeAttribute(ii):document.body.setAttribute(ii,e.toString())}},[])},YR=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;KR();var a=L.useMemo(function(){return WR(i)},[i]);return L.createElement(qR,{styles:GR(a,!t,i,r?"":"!important")})},Qp=!1;if(typeof window<"u")try{var ul=Object.defineProperty({},"passive",{get:function(){return Qp=!0,!0}});window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Qp=!1}var Qo=Qp?{passive:!1}:!1,XR=function(e){return e.tagName==="TEXTAREA"},O_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!XR(e)&&r[t]==="visible")},QR=function(e){return O_(e,"overflowY")},ZR=function(e){return O_(e,"overflowX")},tw=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=N_(e,s);if(i){var a=A_(e,s),c=a[1],u=a[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},JR=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},eE=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},N_=function(e,t){return e==="v"?QR(t):ZR(t)},A_=function(e,t){return e==="v"?JR(t):eE(t)},tE=function(e,t){return e==="h"&&t==="rtl"?-1:1},rE=function(e,t,r,s,i){var a=tE(e,window.getComputedStyle(t).direction),c=a*s,u=r.target,p=t.contains(u),h=!1,y=c>0,v=0,w=0;do{var S=A_(e,u),b=S[0],E=S[1],C=S[2],R=E-C-a*b;(b||R)&&N_(e,u)&&(v+=R,w+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(h=!0),h},dl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rw=function(e){return[e.deltaX,e.deltaY]},nw=function(e){return e&&"current"in e?e.current:e},nE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oE=0,Zo=[];function iE(e){var t=L.useRef([]),r=L.useRef([0,0]),s=L.useRef(),i=L.useState(oE++)[0],a=L.useState(j_)[0],c=L.useRef(e);L.useEffect(function(){c.current=e},[e]),L.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var E=TR([e.lockRef.current],(e.shards||[]).map(nw),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=L.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var R=dl(E),_=r.current,f="deltaX"in E?E.deltaX:_[0]-R[0],d="deltaY"in E?E.deltaY:_[1]-R[1],g,x=E.target,P=Math.abs(f)>Math.abs(d)?"h":"v";if("touches"in E&&P==="h"&&x.type==="range")return!1;var M=tw(P,x);if(!M)return!0;if(M?g=P:(g=P==="v"?"h":"v",M=tw(P,x)),!M)return!1;if(!s.current&&"changedTouches"in E&&(f||d)&&(s.current=g),!g)return!0;var j=s.current||g;return rE(j,C,E,j==="h"?f:d)},[]),p=L.useCallback(function(E){var C=E;if(!(!Zo.length||Zo[Zo.length-1]!==a)){var R="deltaY"in C?rw(C):dl(C),_=t.current.filter(function(g){return g.name===C.type&&(g.target===C.target||C.target===g.shadowParent)&&nE(g.delta,R)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var f=(c.current.shards||[]).map(nw).filter(Boolean).filter(function(g){return g.contains(C.target)}),d=f.length>0?u(C,f[0]):!c.current.noIsolation;d&&C.cancelable&&C.preventDefault()}}},[]),h=L.useCallback(function(E,C,R,_){var f={name:E,delta:C,target:R,should:_,shadowParent:aE(R)};t.current.push(f),setTimeout(function(){t.current=t.current.filter(function(d){return d!==f})},1)},[]),y=L.useCallback(function(E){r.current=dl(E),s.current=void 0},[]),v=L.useCallback(function(E){h(E.type,rw(E),E.target,u(E,e.lockRef.current))},[]),w=L.useCallback(function(E){h(E.type,dl(E),E.target,u(E,e.lockRef.current))},[]);L.useEffect(function(){return Zo.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Qo),document.addEventListener("touchmove",p,Qo),document.addEventListener("touchstart",y,Qo),function(){Zo=Zo.filter(function(E){return E!==a}),document.removeEventListener("wheel",p,Qo),document.removeEventListener("touchmove",p,Qo),document.removeEventListener("touchstart",y,Qo)}},[]);var S=e.removeScrollBar,b=e.inert;return L.createElement(L.Fragment,null,b?L.createElement(a,{styles:sE(i)}):null,S?L.createElement(YR,{gapMode:e.gapMode}):null)}function aE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cE=NR(I_,iE);var ql=L.forwardRef(function(e,t){return L.createElement(uu,Mn({},e,{ref:t,sideCar:cE}))});ql.classNames=uu.classNames;function dr(e){return Object.keys(e)}function pp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Ih(e,t){const r={...e},s=t;return pp(e)&&pp(t)&&Object.keys(t).forEach(i=>{pp(s[i])&&i in e?r[i]=Ih(r[i],s[i]):r[i]=s[i]}),r}function lE(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function uE(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Na(e){const t=uE(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function hp(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function $_(e,{shouldScale:t=!1}={}){function r(s){if(s===0||s==="0")return`0${e}`;if(typeof s=="number"){const i=`${s/16}${e}`;return t?hp(i):i}if(typeof s=="string"){if(s===""||s.startsWith("calc(")||s.startsWith("clamp(")||s.includes("rgba("))return s;if(s.includes(","))return s.split(",").map(a=>r(a)).join(",");if(s.includes(" "))return s.split(" ").map(a=>r(a)).join(" ");if(s.includes(e))return t?hp(s):s;const i=s.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?hp(a):a}}return s}return r}const te=$_("rem",{shouldScale:!0}),sw=$_("em");function gi(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function F_(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(s=>t.test(s))}return!1}function vi(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==L.Fragment:!1}function wn(e){const t=L.createContext(null);return[({children:i,value:a})=>k.jsx(t.Provider,{value:a,children:i}),()=>{const i=L.useContext(t);if(i===null)throw new Error(e);return i}]}function du(e=null){const t=L.createContext(e);return[({children:i,value:a})=>k.jsx(t.Provider,{value:a,children:i}),()=>L.useContext(t)]}function ow(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function Gl(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function dE(e,t,r){for(let s=e-1;s>=0;s-=1)if(!t[s].disabled)return s;if(r){for(let s=t.length-1;s>-1;s-=1)if(!t[s].disabled)return s}return e}function fE(e,t,r){for(let s=e+1;s<t.length;s+=1)if(!t[s].disabled)return s;if(r){for(let s=0;s<t.length;s+=1)if(!t[s].disabled)return s}return e}function pE(e,t,r){return Gl(e,r)===Gl(t,r)}function z_({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:s=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:c}){return u=>{var b;r==null||r(u);const p=Array.from(((b=Gl(u.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(E=>pE(u.currentTarget,E,e)),h=p.findIndex(E=>u.currentTarget===E),y=fE(h,p,s),v=dE(h,p,s),w=a==="rtl"?v:y,S=a==="rtl"?y:v;switch(u.key){case"ArrowRight":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),p[w].focus(),i&&p[w].click());break}case"ArrowLeft":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),p[S].focus(),i&&p[S].click());break}case"ArrowUp":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),p[v].focus(),i&&p[v].click());break}case"ArrowDown":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),p[y].focus(),i&&p[y].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!p[0].disabled&&p[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const E=p.length-1;!p[E].disabled&&p[E].focus();break}}}}const hE={app:100,modal:200,popover:300,overlay:400,max:9999};function Nr(e){return hE[e]}const mE=()=>{};function gE(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||mE:r=>{var s;r.key==="Escape"&&(e(r),(s=t.onTrigger)==null||s.call(t))}}function Ve(e,t="size",r=!0){if(e!==void 0)return F_(e)?r?te(e):e:`var(--${t}-${e})`}function Jt(e){return Ve(e,"mantine-spacing")}function Ft(e){return e===void 0?"var(--mantine-radius-default)":Ve(e,"mantine-radius")}function tr(e){return Ve(e,"mantine-font-size")}function vE(e){return Ve(e,"mantine-line-height",!1)}function jh(e){if(e)return Ve(e,"mantine-shadow",!1)}function Ln(e,t){return r=>{e==null||e(r),t==null||t(r)}}function yE(e,t){return e in t?Na(t[e]):Na(e)}function wE(e,t){const r=e.map(s=>({value:s,px:yE(s,t)}));return r.sort((s,i)=>s.px-i.px),r}function ai(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function SE(e,t,r){var s;return r?Array.from(((s=Gl(r,t))==null?void 0:s.querySelectorAll(e))||[]).findIndex(i=>i===r):null}function _E(){const[e,t]=L.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ia(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function B_(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function co(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}const bE=()=>{};function fu(e,t){const r=typeof t=="number"?t:t.delay,s=typeof t=="number"?!1:t.flushOnUnmount,i=co(e),a=L.useRef(0),c=Object.assign(L.useCallback((...u)=>{window.clearTimeout(a.current);const p=()=>{a.current!==0&&(a.current=0,i(...u))};c.flush=p,a.current=window.setTimeout(p,r)},[i,r]),{flush:bE});return L.useEffect(()=>()=>{window.clearTimeout(a.current),s&&c.flush()},[c,s]),c}const iw=["mousedown","touchstart"];function xE(e,t,r){const s=L.useRef(null);return L.useEffect(()=>{const i=a=>{const{target:c}=a??{};if(Array.isArray(r)){const u=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(h=>!!h&&!a.composedPath().includes(h))&&!u&&e()}else s.current&&!s.current.contains(c)&&e()};return(t||iw).forEach(a=>document.addEventListener(a,i)),()=>{(t||iw).forEach(a=>document.removeEventListener(a,i))}},[s,e,r]),s}function CE(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function RE(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function EE(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[s,i]=L.useState(r?t:RE(e)),a=L.useRef(null);return L.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),CE(a.current,c=>i(c.matches))},[e]),s}const Wa=typeof document<"u"?L.useLayoutEffect:L.useEffect;function Qn(e,t){const r=L.useRef(!1);L.useEffect(()=>()=>{r.current=!1},[]),L.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function U_({opened:e,shouldReturnFocus:t=!0}){const r=L.useRef(null),s=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return Qn(()=>{let i=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(i=window.setTimeout(s,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),s}const TE=/input|select|textarea|button|object/,V_="a, input, select, textarea, button, object, [tabindex]";function kE(e){return e.style.display==="none"}function PE(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(kE(r))return!1;r=r.parentNode}return!0}function H_(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Zp(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(H_(e));return(TE.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&PE(e)}function W_(e){const t=H_(e);return(Number.isNaN(t)||t>=0)&&Zp(e)}function DE(e){return Array.from(e.querySelectorAll(V_)).filter(W_)}function ME(e,t){const r=DE(e);if(!r.length){t.preventDefault();return}const s=r[t.shiftKey?0:r.length-1],i=e.getRootNode();let a=s===i.activeElement||e===i.activeElement;const c=i.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(y=>y.getAttribute("type")==="radio"&&y.getAttribute("name")===c.getAttribute("name")).includes(s)),!a)return;t.preventDefault();const p=r[t.shiftKey?r.length-1:0];p&&p.focus()}function LE(e=!0){const t=L.useRef(null),r=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const c=Array.from(i.querySelectorAll(V_));a=c.find(W_)||c.find(Zp)||null,!a&&Zp(i)&&(a=i)}a&&a.focus({preventScroll:!0})},s=L.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&r(i)}),t.current=i):t.current=null)},[e]);return L.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const i=a=>{a.key==="Tab"&&t.current&&ME(t.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),s}const IE=e=>(e+1)%1e6;function jE(){const[,e]=L.useReducer(IE,0);return e}const OE=$t.useId||(()=>{});function NE(){const e=OE();return e?`mantine-${e.replace(/:/g,"")}`:""}function go(e){const t=NE(),[r,s]=L.useState(t);return Wa(()=>{s(B_())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function AE(e,t,r){L.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Jp(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function q_(...e){const t=new Map;return r=>{if(e.forEach(s=>{const i=Jp(s,r);i&&t.set(s,i)}),t.size>0)return()=>{e.forEach(s=>{const i=t.get(s);i?i():Jp(s,null)}),t.clear()}}}function rr(...e){return L.useCallback(q_(...e),e)}function $E(e,t,r="ltr"){const s=L.useRef(null),i=L.useRef(!1),a=L.useRef(!1),c=L.useRef(0),[u,p]=L.useState(!1);return L.useEffect(()=>{i.current=!0},[]),L.useEffect(()=>{const h=s.current,y=({x:f,y:d})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(i.current&&h){h.style.userSelect="none";const g=h.getBoundingClientRect();if(g.width&&g.height){const x=Ia((f-g.left)/g.width,0,1);e({x:r==="ltr"?x:1-x,y:Ia((d-g.top)/g.height,0,1)})}}})},v=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.addEventListener("touchmove",_),document.addEventListener("touchend",b)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",b)},S=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),p(!0),v())},b=()=>{a.current&&i.current&&(a.current=!1,p(!1),w(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},E=f=>{S(),f.preventDefault(),C(f)},C=f=>y({x:f.clientX,y:f.clientY}),R=f=>{f.cancelable&&f.preventDefault(),S(),_(f)},_=f=>{f.cancelable&&f.preventDefault(),y({x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY})};return h==null||h.addEventListener("mousedown",E),h==null||h.addEventListener("touchstart",R,{passive:!1}),()=>{h&&(h.removeEventListener("mousedown",E),h.removeEventListener("touchstart",R))}},[r,e]),{ref:s,active:u}}function Zn({value:e,defaultValue:t,finalValue:r,onChange:s=()=>{}}){const[i,a]=L.useState(t!==void 0?t:r),c=(u,...p)=>{a(u),s==null||s(u,...p)};return e!==void 0?[e,s,!0]:[i,c,!1]}function pu(e,t){return EE("(prefers-reduced-motion: reduce)",e,t)}function Jn(e=!1,t){const{onOpen:r,onClose:s}={},[i,a]=L.useState(e),c=L.useCallback(()=>{a(h=>h||(r==null||r(),!0))},[r]),u=L.useCallback(()=>{a(h=>h&&(s==null||s(),!1))},[s]),p=L.useCallback(()=>{i?u():c()},[u,c,i]);return[i,{open:c,close:u,toggle:p}]}function FE(e){const t=L.useRef(void 0);return L.useEffect(()=>{t.current=e},[e]),t.current}var zE={};function BE(){return typeof process<"u"&&zE?"production":"development"}function aw(e,t){return t.length===0?e:t.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r)}function G_(e){var r;const t=$t.version;return typeof $t.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function K_(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=K_(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function qt(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=K_(e))&&(s&&(s+=" "),s+=t);return s}const UE={};function VE(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([s,i])=>{t[s]?t[s]=qt(t[s],i):t[s]=i})}),t}function hu({theme:e,classNames:t,props:r,stylesCtx:s}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,s):c||UE);return VE(a)}function Kl({theme:e,styles:t,props:r,stylesCtx:s}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,s)}:{...a,...c},{})}const Y_=L.createContext(null);function $s(){const e=L.useContext(Y_);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function HE(){return $s().cssVariablesResolver}function WE(){return $s().classNamesPrefix}function Oh(){return $s().getStyleNonce}function qE(){return $s().withStaticClasses}function GE(){return $s().headless}function KE(){var e;return(e=$s().stylesTransform)==null?void 0:e.sx}function YE(){var e;return(e=$s().stylesTransform)==null?void 0:e.styles}function X_(){return $s().env||"default"}function XE(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function QE(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),s=r>>16&255,i=r>>8&255,a=r&255;return{r:s,g:i,b:a,a:1}}function ZE(e){const[t,r,s,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:s,a:i||1}}function JE(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const s=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,u=(1-Math.abs(2*a-1))*i,p=s/60,h=u*(1-Math.abs(p%2-1)),y=a-u/2;let v,w,S;return p>=0&&p<1?(v=u,w=h,S=0):p>=1&&p<2?(v=h,w=u,S=0):p>=2&&p<3?(v=0,w=u,S=h):p>=3&&p<4?(v=0,w=h,S=u):p>=4&&p<5?(v=h,w=0,S=u):(v=u,w=0,S=h),{r:Math.round((v+y)*255),g:Math.round((w+y)*255),b:Math.round((S+y)*255),a:c||1}}function Nh(e){return XE(e)?QE(e):e.startsWith("rgb")?ZE(e):e.startsWith("hsl")?JE(e):{r:0,g:0,b:0,a:1}}function fl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:s,b:i,a}=Nh(e),c=1-t,u=p=>Math.round(p*c);return`rgba(${u(r)}, ${u(s)}, ${u(i)}, ${a})`}function Aa(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function mp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function eT(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function tT(e){if(e.startsWith("oklch("))return(eT(e)||0)/100;const{r:t,g:r,b:s}=Nh(e),i=t/255,a=r/255,c=s/255,u=mp(i),p=mp(a),h=mp(c);return .2126*u+.7152*p+.0722*h}function fa(e,t=.179){return e.startsWith("var(")?!1:tT(e)>t}function yi({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:fa(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:fa(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:fa(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[s,i]=e.split("."),a=i?Number(i):void 0,c=s in t.colors;if(c){const u=a!==void 0?t.colors[s][a]:t.colors[s][Aa(t,r||"light")];return{color:s,value:u,shade:a,isThemeColor:c,isLight:fa(u,t.luminanceThreshold),variable:i?`--mantine-color-${s}-${a}`:`--mantine-color-${s}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:fa(e,t.luminanceThreshold),shade:a,variable:void 0}}function Or(e,t){const r=yi({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function eh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},s=Or(r.from,t),i=Or(r.to,t);return`linear-gradient(${r.deg}deg, ${s} 0%, ${i} 100%)`}function Dn(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:s,b:i}=Nh(e);return`rgba(${r}, ${s}, ${i}, ${t})`}const Jo=Dn,rT=({color:e,theme:t,variant:r,gradient:s,autoContrast:i})=>{const a=yi({color:e,theme:t}),c=typeof i=="boolean"?i:t.autoContrast;if(r==="filled"){const u=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:u,border:`${te(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:u,border:`${te(1)} solid transparent`}:{background:e,hover:fl(e,.1),color:u,border:`${te(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:Dn(u,.1),hover:Dn(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:Dn(e,.1),hover:Dn(e,.12),color:e,border:`${te(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Dn(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Dn(e,.05),color:e,border:`${te(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:"transparent",hover:Dn(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:"transparent",hover:Dn(e,.12),color:e,border:`${te(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${te(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:fl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fl(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fl(t.white,.01),color:e,border:`${te(1)} solid transparent`}:r==="gradient"?{background:eh(s,t),hover:eh(s,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${te(1)} solid var(--mantine-color-default-border)`}:{}},nT={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},cw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Ah={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:nT,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:rT,autoContrast:!1,luminanceThreshold:.3,fontFamily:cw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:cw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:te(34),lineHeight:"1.3"},h2:{fontSize:te(26),lineHeight:"1.35"},h3:{fontSize:te(22),lineHeight:"1.4"},h4:{fontSize:te(18),lineHeight:"1.45"},h5:{fontSize:te(16),lineHeight:"1.5"},h6:{fontSize:te(14),lineHeight:"1.5"}}},fontSizes:{xs:te(12),sm:te(14),md:te(16),lg:te(18),xl:te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:te(2),sm:te(4),md:te(8),lg:te(16),xl:te(32)},spacing:{xs:te(10),sm:te(12),md:te(16),lg:te(20),xl:te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), 0 ${te(1)} ${te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(10)} ${te(15)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(7)} ${te(7)} ${te(-5)}`,md:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(20)} ${te(25)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(10)} ${te(10)} ${te(-5)}`,lg:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(28)} ${te(23)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(12)} ${te(12)} ${te(-7)}`,xl:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(36)} ${te(28)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(17)} ${te(17)} ${te(-7)}`},other:{},components:{}};function lw(e){return e==="auto"||e==="dark"||e==="light"}function sT({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const s=window.localStorage.getItem(e);return lw(s)?s:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(s){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",s)}},subscribe:r=>{t=s=>{s.storageArea===window.localStorage&&s.key===e&&lw(s.newValue)&&r(s.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const oT="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",uw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function gp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function dw(e){if(!(e.primaryColor in e.colors))throw new Error(oT);if(typeof e.primaryShade=="object"&&(!gp(e.primaryShade.dark)||!gp(e.primaryShade.light)))throw new Error(uw);if(typeof e.primaryShade=="number"&&!gp(e.primaryShade))throw new Error(uw)}function iT(e,t){var s;if(!t)return dw(e),e;const r=Ih(e,t);return t.fontFamily&&!((s=t.headings)!=null&&s.fontFamily)&&(r.headings.fontFamily=t.fontFamily),dw(r),r}const $h=L.createContext(null),aT=()=>L.useContext($h)||Ah;function pr(){const e=L.useContext($h);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Q_({theme:e,children:t,inherit:r=!0}){const s=aT(),i=L.useMemo(()=>iT(r?s:Ah,e),[e,s,r]);return k.jsx($h.Provider,{value:i,children:t})}Q_.displayName="@mantine/core/MantineThemeProvider";function cT(){const e=pr(),t=Oh(),r=dr(e.breakpoints).reduce((s,i)=>{const a=e.breakpoints[i].includes("px"),c=Na(e.breakpoints[i]),u=a?`${c-.1}px`:sw(c-.1),p=a?`${c}px`:sw(c);return`${s}@media (max-width: ${u}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${p}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return k.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function vp(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function pa(e,t){return(Array.isArray(e)?e:[e]).reduce((s,i)=>`${i}{${s}}`,t)}function lT(e,t){const r=vp(e.variables),s=r?pa(t,r):"",i=vp(e.dark),a=vp(e.light),c=i?pa(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",u=a?pa(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${s}${c}${u}`}function Fh({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&yi({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function fw(e,t){return Fh({color:e.colors[e.primaryColor][Aa(e,t)],theme:e,autoContrast:null})}function pl({theme:e,color:t,colorScheme:r,name:s=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(r==="light"){const u=Aa(e,"light"),p={[`--mantine-color-${s}-text`]:`var(--mantine-color-${s}-filled)`,[`--mantine-color-${s}-filled`]:`var(--mantine-color-${s}-${u})`,[`--mantine-color-${s}-filled-hover`]:`var(--mantine-color-${s}-${u===9?8:u+1})`,[`--mantine-color-${s}-light`]:Jo(e.colors[t][u],.1),[`--mantine-color-${s}-light-hover`]:Jo(e.colors[t][u],.12),[`--mantine-color-${s}-light-color`]:`var(--mantine-color-${s}-${u})`,[`--mantine-color-${s}-outline`]:`var(--mantine-color-${s}-${u})`,[`--mantine-color-${s}-outline-hover`]:Jo(e.colors[t][u],.05)};return i?{[`--mantine-color-${s}-0`]:e.colors[t][0],[`--mantine-color-${s}-1`]:e.colors[t][1],[`--mantine-color-${s}-2`]:e.colors[t][2],[`--mantine-color-${s}-3`]:e.colors[t][3],[`--mantine-color-${s}-4`]:e.colors[t][4],[`--mantine-color-${s}-5`]:e.colors[t][5],[`--mantine-color-${s}-6`]:e.colors[t][6],[`--mantine-color-${s}-7`]:e.colors[t][7],[`--mantine-color-${s}-8`]:e.colors[t][8],[`--mantine-color-${s}-9`]:e.colors[t][9],...p}:p}const a=Aa(e,"dark"),c={[`--mantine-color-${s}-text`]:`var(--mantine-color-${s}-4)`,[`--mantine-color-${s}-filled`]:`var(--mantine-color-${s}-${a})`,[`--mantine-color-${s}-filled-hover`]:`var(--mantine-color-${s}-${a===9?8:a+1})`,[`--mantine-color-${s}-light`]:Jo(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${s}-light-hover`]:Jo(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${s}-light-color`]:`var(--mantine-color-${s}-${Math.max(a-5,0)})`,[`--mantine-color-${s}-outline`]:`var(--mantine-color-${s}-${Math.max(a-4,0)})`,[`--mantine-color-${s}-outline-hover`]:Jo(e.colors[t][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${s}-0`]:e.colors[t][0],[`--mantine-color-${s}-1`]:e.colors[t][1],[`--mantine-color-${s}-2`]:e.colors[t][2],[`--mantine-color-${s}-3`]:e.colors[t][3],[`--mantine-color-${s}-4`]:e.colors[t][4],[`--mantine-color-${s}-5`]:e.colors[t][5],[`--mantine-color-${s}-6`]:e.colors[t][6],[`--mantine-color-${s}-7`]:e.colors[t][7],[`--mantine-color-${s}-8`]:e.colors[t][8],[`--mantine-color-${s}-9`]:e.colors[t][9],...c}:c}function uT(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ei(e,t,r){dr(t).forEach(s=>Object.assign(e,{[`--mantine-${r}-${s}`]:t[s]}))}const Z_=e=>{const t=Aa(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:te(e.defaultRadius),s={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":fw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":fw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ei(s.variables,e.breakpoints,"breakpoint"),ei(s.variables,e.spacing,"spacing"),ei(s.variables,e.fontSizes,"font-size"),ei(s.variables,e.lineHeights,"line-height"),ei(s.variables,e.shadows,"shadow"),ei(s.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{s.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),dr(e.colors).forEach(a=>{const c=e.colors[a];if(uT(c)){Object.assign(s.light,pl({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(s.dark,pl({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((u,p)=>{s.variables[`--mantine-color-${a}-${p}`]=u}),Object.assign(s.light,pl({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(s.dark,pl({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return dr(i).forEach(a=>{s.variables[`--mantine-${a}-font-size`]=i[a].fontSize,s.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,s.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||e.headings.fontWeight}),s};function dT({theme:e,generator:t}){const r=Z_(e),s=t==null?void 0:t(e);return s?Ih(r,s):r}const yp=Z_(Ah);function fT(e){const t={variables:{},light:{},dark:{}};return dr(e.variables).forEach(r=>{yp.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),dr(e.light).forEach(r=>{yp.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),dr(e.dark).forEach(r=>{yp.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function pT(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function J_({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=pr(),s=Oh(),i=HE(),a=dT({theme:r,generator:i}),c=e===":root"&&t,u=c?fT(a):a,p=lT(u,e);return p?k.jsx("style",{"data-mantine-styles":!0,nonce:s==null?void 0:s(),dangerouslySetInnerHTML:{__html:`${p}${c?"":pT(e)}`}}):null}J_.displayName="@mantine/CssVariables";function hT(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function ti(e,t){var i,a;const r=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),s=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",s)}function mT({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:s}){const i=L.useRef(null),[a,c]=L.useState(()=>e.get(t)),u=s||a,p=L.useCallback(y=>{s||(ti(y,r),c(y),e.set(y))},[e.set,u,s]),h=L.useCallback(()=>{c(t),ti(t,r),e.clear()},[e.clear,t]);return L.useEffect(()=>(e.subscribe(p),e.unsubscribe),[e.subscribe,e.unsubscribe]),Wa(()=>{ti(e.get(t),r)},[]),L.useEffect(()=>{var v;if(s)return ti(s,r),()=>{};s===void 0&&ti(a,r),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const y=w=>{a==="auto"&&ti(w.matches?"dark":"light",r)};return(v=i.current)==null||v.addEventListener("change",y),()=>{var w;return(w=i.current)==null?void 0:w.removeEventListener("change",y)}},[a,s]),{colorScheme:u,setColorScheme:p,clearColorScheme:h}}function gT({respectReducedMotion:e,getRootElement:t}){Wa(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}hT();function eb({theme:e,children:t,getStyleNonce:r,withStaticClasses:s=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:u=":root",classNamesPrefix:p="mantine",colorSchemeManager:h=sT(),defaultColorScheme:y="light",getRootElement:v=()=>document.documentElement,cssVariablesResolver:w,forceColorScheme:S,stylesTransform:b,env:E}){const{colorScheme:C,setColorScheme:R,clearColorScheme:_}=mT({defaultColorScheme:y,forceColorScheme:S,manager:h,getRootElement:v});return gT({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:v}),k.jsx(Y_.Provider,{value:{colorScheme:C,setColorScheme:R,clearColorScheme:_,getRootElement:v,classNamesPrefix:p,getStyleNonce:r,cssVariablesResolver:w,cssVariablesSelector:u,withStaticClasses:s,stylesTransform:b,env:E},children:k.jsxs(Q_,{theme:e,children:[c&&k.jsx(J_,{cssVariablesSelector:u,deduplicateCssVariables:a}),i&&k.jsx(cT,{}),t]})})}eb.displayName="@mantine/core/MantineProvider";function qa({classNames:e,styles:t,props:r,stylesCtx:s}){const i=pr();return{resolvedClassNames:hu({theme:i,classNames:e,props:r,stylesCtx:s||void 0}),resolvedStyles:Kl({theme:i,styles:t,props:r,stylesCtx:s||void 0})}}const vT={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function yT({theme:e,options:t,unstyled:r}){return qt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||vT[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function wT({selector:e,stylesCtx:t,options:r,props:s,theme:i}){return hu({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||s,stylesCtx:t})[e]}function pw({selector:e,stylesCtx:t,theme:r,classNames:s,props:i}){return hu({theme:r,classNames:s,props:i,stylesCtx:t})[e]}function ST({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function _T({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function bT({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:s}){return s===!1?[]:e.map(i=>`${t}-${i}-${r}`)}function xT({themeName:e,theme:t,selector:r,props:s,stylesCtx:i}){return e.map(a=>{var c,u;return(u=hu({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:s,stylesCtx:i}))==null?void 0:u[r]})}function CT({options:e,classes:t,selector:r,unstyled:s}){return e!=null&&e.variant&&!s?t[`${r}--${e.variant}`]:void 0}function RT({theme:e,options:t,themeName:r,selector:s,classNamesPrefix:i,classNames:a,classes:c,unstyled:u,className:p,rootSelector:h,props:y,stylesCtx:v,withStaticClasses:w,headless:S,transformedStyles:b}){return qt(yT({theme:e,options:t,unstyled:u||S}),xT({theme:e,themeName:r,selector:s,props:y,stylesCtx:v}),CT({options:t,classes:c,selector:s,unstyled:u}),pw({selector:s,stylesCtx:v,theme:e,classNames:a,props:y}),pw({selector:s,stylesCtx:v,theme:e,classNames:b,props:y}),wT({selector:s,stylesCtx:v,options:t,props:y,theme:e}),ST({rootSelector:h,selector:s,className:p}),_T({selector:s,classes:c,unstyled:u||S}),w&&!S&&bT({themeName:r,classNamesPrefix:i,selector:s,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function ET({theme:e,themeName:t,props:r,stylesCtx:s,selector:i}){return t.map(a=>{var c;return Kl({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:s})[i]}).reduce((a,c)=>({...a,...c}),{})}function th({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,s)=>({...r,...th({style:s,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function TT(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(s=>{t[s]={...t[s],...gi(r[s])}}),t),{})}function kT({vars:e,varsResolver:t,theme:r,props:s,stylesCtx:i,selector:a,themeName:c,headless:u}){var p;return(p=TT([u?{}:t==null?void 0:t(r,s,i),...c.map(h=>{var y,v,w;return(w=(v=(y=r.components)==null?void 0:y[h])==null?void 0:v.vars)==null?void 0:w.call(v,r,s,i)}),e==null?void 0:e(r,s,i)]))==null?void 0:p[a]}function PT({theme:e,themeName:t,selector:r,options:s,props:i,stylesCtx:a,rootSelector:c,styles:u,style:p,vars:h,varsResolver:y,headless:v,withStylesTransform:w}){return{...!w&&ET({theme:e,themeName:t,props:i,stylesCtx:a,selector:r}),...!w&&Kl({theme:e,styles:u,props:i,stylesCtx:a})[r],...!w&&Kl({theme:e,styles:s==null?void 0:s.styles,props:(s==null?void 0:s.props)||i,stylesCtx:a})[r],...kT({theme:e,props:i,stylesCtx:a,vars:h,varsResolver:y,selector:r,themeName:t,headless:v}),...c===r?th({style:p,theme:e}):null,...th({style:s==null?void 0:s.style,theme:e})}}function DT({props:e,stylesCtx:t,themeName:r}){var c;const s=pr(),i=(c=YE())==null?void 0:c();return{getTransformedStyles:u=>i?[...u.map(h=>i(h,{props:e,theme:s,ctx:t})),...r.map(h=>{var y;return i((y=s.components[h])==null?void 0:y.styles,{props:e,theme:s,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Te({name:e,classes:t,props:r,stylesCtx:s,className:i,style:a,rootSelector:c="root",unstyled:u,classNames:p,styles:h,vars:y,varsResolver:v}){const w=pr(),S=WE(),b=qE(),E=GE(),C=(Array.isArray(e)?e:[e]).filter(f=>f),{withStylesTransform:R,getTransformedStyles:_}=DT({props:r,stylesCtx:s,themeName:C});return(f,d)=>({className:RT({theme:w,options:d,themeName:C,selector:f,classNamesPrefix:S,classNames:p,classes:t,unstyled:u,className:i,rootSelector:c,props:r,stylesCtx:s,withStaticClasses:b,headless:E,transformedStyles:_([d==null?void 0:d.styles,h])}),style:PT({theme:w,themeName:C,selector:f,options:d,props:r,stylesCtx:s,rootSelector:c,styles:h,style:a,vars:y,varsResolver:v,headless:E,withStylesTransform:R})})}function tb(e,t){return typeof e=="boolean"?e:t.autoContrast}function ie(e,t,r){var c;const s=pr(),i=(c=s.components[e])==null?void 0:c.defaultProps,a=typeof i=="function"?i(s):i;return{...t,...a,...gi(r)}}function wp(e){return dr(e).reduce((t,r)=>e[r]!==void 0?`${t}${lE(r)}:${e[r]};`:t,"").trim()}function MT({selector:e,styles:t,media:r,container:s}){const i=t?wp(t):"",a=Array.isArray(r)?r.map(u=>`@media${u.query}{${e}{${wp(u.styles)}}}`):[],c=Array.isArray(s)?s.map(u=>`@container ${u.query}{${e}{${wp(u.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${a.join("")}${c.join("")}`.trim()}function mu(e){const t=Oh();return k.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:MT(e)}})}function gu(e){const{m:t,mx:r,my:s,mt:i,mb:a,ml:c,mr:u,me:p,ms:h,p:y,px:v,py:w,pt:S,pb:b,pl:E,pr:C,pe:R,ps:_,bd:f,bg:d,c:g,opacity:x,ff:P,fz:M,fw:j,lts:I,ta:A,lh:N,fs:V,tt:W,td:J,w:O,miw:B,maw:F,h:z,mih:G,mah:U,bgsz:X,bgp:ce,bgr:pe,bga:ee,pos:le,top:ue,left:Se,bottom:me,right:ke,inset:Le,display:bt,flex:vt,hiddenFrom:He,visibleFrom:nt,lightHidden:Qe,darkHidden:We,sx:xt,...ut}=e;return{styleProps:gi({m:t,mx:r,my:s,mt:i,mb:a,ml:c,mr:u,me:p,ms:h,p:y,px:v,py:w,pt:S,pb:b,pl:E,pr:C,pe:R,ps:_,bd:f,bg:d,c:g,opacity:x,ff:P,fz:M,fw:j,lts:I,ta:A,lh:N,fs:V,tt:W,td:J,w:O,miw:B,maw:F,h:z,mih:G,mah:U,bgsz:X,bgp:ce,bgr:pe,bga:ee,pos:le,top:ue,left:Se,bottom:me,right:ke,inset:Le,display:bt,flex:vt,hiddenFrom:He,visibleFrom:nt,lightHidden:Qe,darkHidden:We,sx:xt}),rest:ut}}const LT={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function zh(e,t){const r=yi({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function IT(e,t){const r=yi({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:zh(e,t)}function jT(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const[r,s,...i]=e.split(" ").filter(c=>c.trim()!=="");let a=`${te(r)}`;return s&&(a+=` ${s}`),i.length>0&&(a+=` ${zh(i.join(" "),t)}`),a.trim()}return e}const hw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function OT(e){return typeof e=="string"&&e in hw?hw[e]:e}const NT=["h1","h2","h3","h4","h5","h6"];function AT(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&NT.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?te(e):e}function $T(e){return e}const FT=["h1","h2","h3","h4","h5","h6"];function zT(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&FT.includes(e)?`var(--mantine-${e}-line-height)`:e}function BT(e){return typeof e=="number"?te(e):e}function UT(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return te(e);const s=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${s}) * -1)`:`var(${s})`}return e}const Sp={color:zh,textColor:IT,fontSize:AT,spacing:UT,identity:$T,size:BT,lineHeight:zT,fontFamily:OT,border:jT};function mw(e){return e.replace("(min-width: ","").replace("em)","")}function VT({media:e,...t}){const s=Object.keys(e).sort((i,a)=>Number(mw(i))-Number(mw(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:s}}function HT(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function WT(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function qT(e){return typeof e=="object"&&e!==null?dr(e).filter(t=>t!=="base"):[]}function GT(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function rb({styleProps:e,data:t,theme:r}){return VT(dr(e).reduce((s,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return s;const a=t[i],c=Array.isArray(a.property)?a.property:[a.property],u=WT(e[i]);if(!HT(e[i]))return c.forEach(h=>{s.inlineStyles[h]=Sp[a.type](u,r)}),s;s.hasResponsiveStyles=!0;const p=qT(e[i]);return c.forEach(h=>{u&&(s.styles[h]=Sp[a.type](u,r)),p.forEach(y=>{const v=`(min-width: ${r.breakpoints[y]})`;s.media[v]={...s.media[v],[h]:Sp[a.type](GT(e[i],y),r)}})}),s},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Bh(){return`__m__-${L.useId().replace(/:/g,"")}`}function nb(e,t){return Array.isArray(e)?[...e].reduce((r,s)=>({...r,...nb(s,t)}),{}):typeof e=="function"?e(t):e??{}}function sb(e){return e.startsWith("data-")?e:`data-${e}`}function KT(e){return Object.keys(e).reduce((t,r)=>{const s=e[r];return s===void 0||s===""||s===!1||s===null||(t[sb(r)]=e[r]),t},{})}function ob(e){return e?typeof e=="string"?{[sb(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...ob(r)}),{}):KT(e):null}function rh(e,t){return Array.isArray(e)?[...e].reduce((r,s)=>({...r,...rh(s,t)}),{}):typeof e=="function"?e(t):e??{}}function YT({theme:e,style:t,vars:r,styleProps:s}){const i=rh(t,e),a=rh(r,e);return{...i,...a,...s}}const ib=L.forwardRef(({component:e,style:t,__vars:r,className:s,variant:i,mod:a,size:c,hiddenFrom:u,visibleFrom:p,lightHidden:h,darkHidden:y,renderRoot:v,__size:w,...S},b)=>{var M;const E=pr(),C=e||"div",{styleProps:R,rest:_}=gu(S),f=KE(),d=(M=f==null?void 0:f())==null?void 0:M(R.sx),g=Bh(),x=rb({styleProps:R,theme:E,data:LT}),P={ref:b,style:YT({theme:E,style:t,vars:r,styleProps:x.inlineStyles}),className:qt(s,d,{[g]:x.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":y,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${p}`]:p}),"data-variant":i,"data-size":F_(c)?void 0:c||void 0,size:w,...ob(a),..._};return k.jsxs(k.Fragment,{children:[x.hasResponsiveStyles&&k.jsx(mu,{selector:`.${g}`,styles:x.styles,media:x.media}),typeof v=="function"?v(P):k.jsx(C,{...P})]})});ib.displayName="@mantine/core/Box";const ne=ib;function ab(e){return e}function XT(e){const t=e;return r=>{const s=L.forwardRef((i,a)=>k.jsx(t,{...r,...i,ref:a}));return s.extend=t.extend,s.displayName=`WithProps(${t.displayName})`,s}}function fe(e){const t=L.forwardRef(e);return t.extend=ab,t.withProps=r=>{const s=L.forwardRef((i,a)=>k.jsx(t,{...r,...i,ref:a}));return s.extend=t.extend,s.displayName=`WithProps(${t.displayName})`,s},t}function Kt(e){const t=L.forwardRef(e);return t.withProps=r=>{const s=L.forwardRef((i,a)=>k.jsx(t,{...r,...i,ref:a}));return s.extend=t.extend,s.displayName=`WithProps(${t.displayName})`,s},t.extend=ab,t}const QT=L.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function vo(){return L.useContext(QT)}var vu=T_();const Ta=Mh(vu);function ZT(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function _p(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const ha=typeof window<"u"&&window.requestAnimationFrame;function JT({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:s}){const i=L.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[u,p]=L.useState(s?{}:c),h=b=>{vu.flushSync(()=>p(b))},y=b=>{h(E=>({...E,...b}))};function v(b){const E=e||ZT(b);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}Qn(()=>{typeof ha=="function"&&ha(s?()=>{y({willChange:"height",display:"block",overflow:"hidden"}),ha(()=>{const b=_p(i);y({...v(b),height:b})})}:()=>{const b=_p(i);y({...v(b),willChange:"height",height:b}),ha(()=>y({height:a,overflow:"hidden"}))})},[s]);const w=b=>{if(!(b.target!==i.current||b.propertyName!=="height"))if(s){const E=_p(i);E===u.height?h({}):y({height:E}),r()}else u.height===a&&(h(c),r())};function S({style:b={},refKey:E="ref",...C}={}){const R=C[E];return{"aria-hidden":!s,...C,[E]:q_(i,R),onTransitionEnd:w,style:{boxSizing:"border-box",...b,...u}}}return S}const ek={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},yu=fe((e,t)=>{const{children:r,in:s,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:u,animateOpacity:p,...h}=ie("Collapse",ek,e),y=pr(),v=pu(),S=(y.respectReducedMotion?v:!1)?0:i,b=JT({opened:s,transitionDuration:S,transitionTimingFunction:a,onTransitionEnd:u});return S===0?s?k.jsx(ne,{...h,children:r}):null:k.jsx(ne,{...b({style:{opacity:s||!p?1:0,transition:p?`opacity ${S}ms ${a}`:"none",...nb(c,y)},ref:t,...h}),children:r})});yu.displayName="@mantine/core/Collapse";function wu(){return typeof window<"u"}function wi(e){return cb(e)?(e.nodeName||"").toLowerCase():"#document"}function br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $n(e){var t;return(t=(cb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cb(e){return wu()?e instanceof Node||e instanceof br(e).Node:!1}function er(e){return wu()?e instanceof Element||e instanceof br(e).Element:!1}function On(e){return wu()?e instanceof HTMLElement||e instanceof br(e).HTMLElement:!1}function gw(e){return!wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof br(e).ShadowRoot}function Ga(e){const{overflow:t,overflowX:r,overflowY:s,display:i}=mn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(i)}function tk(e){return["table","td","th"].includes(wi(e))}function Su(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uh(e){const t=Vh(),r=er(e)?mn(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function rk(e){let t=Ns(e);for(;On(t)&&!ui(t);){if(Uh(t))return t;if(Su(t))return null;t=Ns(t)}return null}function Vh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ui(e){return["html","body","#document"].includes(wi(e))}function mn(e){return br(e).getComputedStyle(e)}function _u(e){return er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ns(e){if(wi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gw(e)&&e.host||$n(e);return gw(t)?t.host:t}function lb(e){const t=Ns(e);return ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:On(t)&&Ga(t)?t:lb(t)}function $a(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=lb(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),c=br(i);if(a){const u=nh(c);return t.concat(c,c.visualViewport||[],Ga(i)?i:[],u&&r?$a(u):[])}return t.concat(i,$a(i,[],r))}function nh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const gn=Math.min,Wt=Math.max,Yl=Math.round,hl=Math.floor,In=e=>({x:e,y:e}),nk={left:"right",right:"left",bottom:"top",top:"bottom"},sk={start:"end",end:"start"};function sh(e,t,r){return Wt(e,gn(t,r))}function es(e,t){return typeof e=="function"?e(t):e}function vn(e){return e.split("-")[0]}function Si(e){return e.split("-")[1]}function Hh(e){return e==="x"?"y":"x"}function Wh(e){return e==="y"?"height":"width"}function ts(e){return["top","bottom"].includes(vn(e))?"y":"x"}function qh(e){return Hh(ts(e))}function ok(e,t,r){r===void 0&&(r=!1);const s=Si(e),i=qh(e),a=Wh(i);let c=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Xl(c)),[c,Xl(c)]}function ik(e){const t=Xl(e);return[oh(e),t,oh(t)]}function oh(e){return e.replace(/start|end/g,t=>sk[t])}function ak(e,t,r){const s=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:s:t?s:i;case"left":case"right":return t?a:c;default:return[]}}function ck(e,t,r,s){const i=Si(e);let a=ak(vn(e),r==="start",s);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(oh)))),a}function Xl(e){return e.replace(/left|right|bottom|top/g,t=>nk[t])}function lk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Gh(e){return typeof e!="number"?lk(e):{top:e,right:e,bottom:e,left:e}}function di(e){const{x:t,y:r,width:s,height:i}=e;return{width:s,height:i,top:r,left:t,right:t+s,bottom:r+i,x:t,y:r}}function vw(e,t,r){let{reference:s,floating:i}=e;const a=ts(t),c=qh(t),u=Wh(c),p=vn(t),h=a==="y",y=s.x+s.width/2-i.width/2,v=s.y+s.height/2-i.height/2,w=s[u]/2-i[u]/2;let S;switch(p){case"top":S={x:y,y:s.y-i.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:v};break;case"left":S={x:s.x-i.width,y:v};break;default:S={x:s.x,y:s.y}}switch(Si(t)){case"start":S[c]-=w*(r&&h?-1:1);break;case"end":S[c]+=w*(r&&h?-1:1);break}return S}const uk=async(e,t,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,u=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:v}=vw(h,s,p),w=s,S={},b=0;for(let E=0;E<u.length;E++){const{name:C,fn:R}=u[E],{x:_,y:f,data:d,reset:g}=await R({x:y,y:v,initialPlacement:s,placement:w,strategy:i,middlewareData:S,rects:h,platform:c,elements:{reference:e,floating:t}});y=_??y,v=f??v,S={...S,[C]:{...S[C],...d}},g&&b<=50&&(b++,typeof g=="object"&&(g.placement&&(w=g.placement),g.rects&&(h=g.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):g.rects),{x:y,y:v}=vw(h,w,p)),E=-1)}return{x:y,y:v,placement:w,strategy:i,middlewareData:S}};async function Kh(e,t){var r;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:c,elements:u,strategy:p}=e,{boundary:h="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:S=0}=es(t,e),b=Gh(S),C=u[w?v==="floating"?"reference":"floating":v],R=di(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:y,strategy:p})),_=v==="floating"?{x:s,y:i,width:c.floating.width,height:c.floating.height}:c.reference,f=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),d=await(a.isElement==null?void 0:a.isElement(f))?await(a.getScale==null?void 0:a.getScale(f))||{x:1,y:1}:{x:1,y:1},g=di(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:f,strategy:p}):_);return{top:(R.top-g.top+b.top)/d.y,bottom:(g.bottom-R.bottom+b.bottom)/d.y,left:(R.left-g.left+b.left)/d.x,right:(g.right-R.right+b.right)/d.x}}const dk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:i,rects:a,platform:c,elements:u,middlewareData:p}=t,{element:h,padding:y=0}=es(e,t)||{};if(h==null)return{};const v=Gh(y),w={x:r,y:s},S=qh(i),b=Wh(S),E=await c.getDimensions(h),C=S==="y",R=C?"top":"left",_=C?"bottom":"right",f=C?"clientHeight":"clientWidth",d=a.reference[b]+a.reference[S]-w[S]-a.floating[b],g=w[S]-a.reference[S],x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let P=x?x[f]:0;(!P||!await(c.isElement==null?void 0:c.isElement(x)))&&(P=u.floating[f]||a.floating[b]);const M=d/2-g/2,j=P/2-E[b]/2-1,I=gn(v[R],j),A=gn(v[_],j),N=I,V=P-E[b]-A,W=P/2-E[b]/2+M,J=sh(N,W,V),O=!p.arrow&&Si(i)!=null&&W!==J&&a.reference[b]/2-(W<N?I:A)-E[b]/2<0,B=O?W<N?W-N:W-V:0;return{[S]:w[S]+B,data:{[S]:J,centerOffset:W-J-B,...O&&{alignmentOffset:B}},reset:O}}}),fk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:i,middlewareData:a,rects:c,initialPlacement:u,platform:p,elements:h}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...C}=es(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const R=vn(i),_=ts(u),f=vn(u)===u,d=await(p.isRTL==null?void 0:p.isRTL(h.floating)),g=w||(f||!E?[Xl(u)]:ik(u)),x=b!=="none";!w&&x&&g.push(...ck(u,E,b,d));const P=[u,...g],M=await Kh(t,C),j=[];let I=((s=a.flip)==null?void 0:s.overflows)||[];if(y&&j.push(M[R]),v){const W=ok(i,c,d);j.push(M[W[0]],M[W[1]])}if(I=[...I,{placement:i,overflows:j}],!j.every(W=>W<=0)){var A,N;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,J=P[W];if(J)return{data:{index:W,overflows:I},reset:{placement:J}};let O=(N=I.filter(B=>B.overflows[0]<=0).sort((B,F)=>B.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(S){case"bestFit":{var V;const B=(V=I.filter(F=>{if(x){const z=ts(F.placement);return z===_||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,G)=>z+G,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:V[0];B&&(O=B);break}case"initialPlacement":O=u;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function ub(e){const t=gn(...e.map(a=>a.left)),r=gn(...e.map(a=>a.top)),s=Wt(...e.map(a=>a.right)),i=Wt(...e.map(a=>a.bottom));return{x:t,y:r,width:s-t,height:i-r}}function pk(e){const t=e.slice().sort((i,a)=>i.y-a.y),r=[];let s=null;for(let i=0;i<t.length;i++){const a=t[i];!s||a.y-s.y>s.height/2?r.push([a]):r[r.length-1].push(a),s=a}return r.map(i=>di(ub(i)))}const hk=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:s,rects:i,platform:a,strategy:c}=t,{padding:u=2,x:p,y:h}=es(e,t),y=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(s.reference))||[]),v=pk(y),w=di(ub(y)),S=Gh(u);function b(){if(v.length===2&&v[0].left>v[1].right&&p!=null&&h!=null)return v.find(C=>p>C.left-S.left&&p<C.right+S.right&&h>C.top-S.top&&h<C.bottom+S.bottom)||w;if(v.length>=2){if(ts(r)==="y"){const I=v[0],A=v[v.length-1],N=vn(r)==="top",V=I.top,W=A.bottom,J=N?I.left:A.left,O=N?I.right:A.right,B=O-J,F=W-V;return{top:V,bottom:W,left:J,right:O,width:B,height:F,x:J,y:V}}const C=vn(r)==="left",R=Wt(...v.map(I=>I.right)),_=gn(...v.map(I=>I.left)),f=v.filter(I=>C?I.left===_:I.right===R),d=f[0].top,g=f[f.length-1].bottom,x=_,P=R,M=P-x,j=g-d;return{top:d,bottom:g,left:x,right:P,width:M,height:j,x,y:d}}return w}const E=await a.getElementRects({reference:{getBoundingClientRect:b},floating:s.floating,strategy:c});return i.reference.x!==E.reference.x||i.reference.y!==E.reference.y||i.reference.width!==E.reference.width||i.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}};async function mk(e,t){const{placement:r,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),c=vn(r),u=Si(r),p=ts(r)==="y",h=["left","top"].includes(c)?-1:1,y=a&&p?-1:1,v=es(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof b=="number"&&(S=u==="end"?b*-1:b),p?{x:S*y,y:w*h}:{x:w*h,y:S*y}}const gk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:i,y:a,placement:c,middlewareData:u}=t,p=await mk(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:c}}}}},vk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:R,y:_}=C;return{x:R,y:_}}},...p}=es(e,t),h={x:r,y:s},y=await Kh(t,p),v=ts(vn(i)),w=Hh(v);let S=h[w],b=h[v];if(a){const C=w==="y"?"top":"left",R=w==="y"?"bottom":"right",_=S+y[C],f=S-y[R];S=sh(_,S,f)}if(c){const C=v==="y"?"top":"left",R=v==="y"?"bottom":"right",_=b+y[C],f=b-y[R];b=sh(_,b,f)}const E=u.fn({...t,[w]:S,[v]:b});return{...E,data:{x:E.x-r,y:E.y-s,enabled:{[w]:a,[v]:c}}}}}},yk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:i,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:p=!0,crossAxis:h=!0}=es(e,t),y={x:r,y:s},v=ts(i),w=Hh(v);let S=y[w],b=y[v];const E=es(u,t),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const f=w==="y"?"height":"width",d=a.reference[w]-a.floating[f]+C.mainAxis,g=a.reference[w]+a.reference[f]-C.mainAxis;S<d?S=d:S>g&&(S=g)}if(h){var R,_;const f=w==="y"?"width":"height",d=["top","left"].includes(vn(i)),g=a.reference[v]-a.floating[f]+(d&&((R=c.offset)==null?void 0:R[v])||0)+(d?0:C.crossAxis),x=a.reference[v]+a.reference[f]+(d?0:((_=c.offset)==null?void 0:_[v])||0)-(d?C.crossAxis:0);b<g?b=g:b>x&&(b=x)}return{[w]:S,[v]:b}}}},wk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:i,rects:a,platform:c,elements:u}=t,{apply:p=()=>{},...h}=es(e,t),y=await Kh(t,h),v=vn(i),w=Si(i),S=ts(i)==="y",{width:b,height:E}=a.floating;let C,R;v==="top"||v==="bottom"?(C=v,R=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(R=v,C=w==="end"?"top":"bottom");const _=E-y.top-y.bottom,f=b-y.left-y.right,d=gn(E-y[C],_),g=gn(b-y[R],f),x=!t.middlewareData.shift;let P=d,M=g;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=f),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=_),x&&!w){const I=Wt(y.left,0),A=Wt(y.right,0),N=Wt(y.top,0),V=Wt(y.bottom,0);S?M=b-2*(I!==0||A!==0?I+A:Wt(y.left,y.right)):P=E-2*(N!==0||V!==0?N+V:Wt(y.top,y.bottom))}await p({...t,availableWidth:M,availableHeight:P});const j=await c.getDimensions(u.floating);return b!==j.width||E!==j.height?{reset:{rects:!0}}:{}}}};function db(e){const t=mn(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=On(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:s,u=Yl(r)!==a||Yl(s)!==c;return u&&(r=a,s=c),{width:r,height:s,$:u}}function Yh(e){return er(e)?e:e.contextElement}function ci(e){const t=Yh(e);if(!On(t))return In(1);const r=t.getBoundingClientRect(),{width:s,height:i,$:a}=db(t);let c=(a?Yl(r.width):r.width)/s,u=(a?Yl(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const Sk=In(0);function fb(e){const t=br(e);return!Vh()||!t.visualViewport?Sk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _k(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==br(e)?!1:t}function po(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=Yh(e);let c=In(1);t&&(s?er(s)&&(c=ci(s)):c=ci(e));const u=_k(a,r,s)?fb(a):In(0);let p=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,y=i.width/c.x,v=i.height/c.y;if(a){const w=br(a),S=s&&er(s)?br(s):s;let b=w,E=nh(b);for(;E&&s&&S!==b;){const C=ci(E),R=E.getBoundingClientRect(),_=mn(E),f=R.left+(E.clientLeft+parseFloat(_.paddingLeft))*C.x,d=R.top+(E.clientTop+parseFloat(_.paddingTop))*C.y;p*=C.x,h*=C.y,y*=C.x,v*=C.y,p+=f,h+=d,b=br(E),E=nh(b)}}return di({width:y,height:v,x:p,y:h})}function Xh(e,t){const r=_u(e).scrollLeft;return t?t.left+r:po($n(e)).left+r}function pb(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(r?0:Xh(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function bk(e){let{elements:t,rect:r,offsetParent:s,strategy:i}=e;const a=i==="fixed",c=$n(s),u=t?Su(t.floating):!1;if(s===c||u&&a)return r;let p={scrollLeft:0,scrollTop:0},h=In(1);const y=In(0),v=On(s);if((v||!v&&!a)&&((wi(s)!=="body"||Ga(c))&&(p=_u(s)),On(s))){const S=po(s);h=ci(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const w=c&&!v&&!a?pb(c,p,!0):In(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-p.scrollLeft*h.x+y.x+w.x,y:r.y*h.y-p.scrollTop*h.y+y.y+w.y}}function xk(e){return Array.from(e.getClientRects())}function Ck(e){const t=$n(e),r=_u(e),s=e.ownerDocument.body,i=Wt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Wt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-r.scrollLeft+Xh(e);const u=-r.scrollTop;return mn(s).direction==="rtl"&&(c+=Wt(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:c,y:u}}function Rk(e,t){const r=br(e),s=$n(e),i=r.visualViewport;let a=s.clientWidth,c=s.clientHeight,u=0,p=0;if(i){a=i.width,c=i.height;const h=Vh();(!h||h&&t==="fixed")&&(u=i.offsetLeft,p=i.offsetTop)}return{width:a,height:c,x:u,y:p}}function Ek(e,t){const r=po(e,!0,t==="fixed"),s=r.top+e.clientTop,i=r.left+e.clientLeft,a=On(e)?ci(e):In(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,p=i*a.x,h=s*a.y;return{width:c,height:u,x:p,y:h}}function yw(e,t,r){let s;if(t==="viewport")s=Rk(e,r);else if(t==="document")s=Ck($n(e));else if(er(t))s=Ek(t,r);else{const i=fb(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return di(s)}function hb(e,t){const r=Ns(e);return r===t||!er(r)||ui(r)?!1:mn(r).position==="fixed"||hb(r,t)}function Tk(e,t){const r=t.get(e);if(r)return r;let s=$a(e,[],!1).filter(u=>er(u)&&wi(u)!=="body"),i=null;const a=mn(e).position==="fixed";let c=a?Ns(e):e;for(;er(c)&&!ui(c);){const u=mn(c),p=Uh(c);!p&&u.position==="fixed"&&(i=null),(a?!p&&!i:!p&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ga(c)&&!p&&hb(e,c))?s=s.filter(y=>y!==c):i=u,c=Ns(c)}return t.set(e,s),s}function kk(e){let{element:t,boundary:r,rootBoundary:s,strategy:i}=e;const c=[...r==="clippingAncestors"?Su(t)?[]:Tk(t,this._c):[].concat(r),s],u=c[0],p=c.reduce((h,y)=>{const v=yw(t,y,i);return h.top=Wt(v.top,h.top),h.right=gn(v.right,h.right),h.bottom=gn(v.bottom,h.bottom),h.left=Wt(v.left,h.left),h},yw(t,u,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Pk(e){const{width:t,height:r}=db(e);return{width:t,height:r}}function Dk(e,t,r){const s=On(t),i=$n(t),a=r==="fixed",c=po(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const p=In(0);if(s||!s&&!a)if((wi(t)!=="body"||Ga(i))&&(u=_u(t)),s){const w=po(t,!0,a,t);p.x=w.x+t.clientLeft,p.y=w.y+t.clientTop}else i&&(p.x=Xh(i));const h=i&&!s&&!a?pb(i,u):In(0),y=c.left+u.scrollLeft-p.x-h.x,v=c.top+u.scrollTop-p.y-h.y;return{x:y,y:v,width:c.width,height:c.height}}function bp(e){return mn(e).position==="static"}function ww(e,t){if(!On(e)||mn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $n(e)===r&&(r=r.ownerDocument.body),r}function mb(e,t){const r=br(e);if(Su(e))return r;if(!On(e)){let i=Ns(e);for(;i&&!ui(i);){if(er(i)&&!bp(i))return i;i=Ns(i)}return r}let s=ww(e,t);for(;s&&tk(s)&&bp(s);)s=ww(s,t);return s&&ui(s)&&bp(s)&&!Uh(s)?r:s||rk(e)||r}const Mk=async function(e){const t=this.getOffsetParent||mb,r=this.getDimensions,s=await r(e.floating);return{reference:Dk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Lk(e){return mn(e).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:bk,getDocumentElement:$n,getClippingRect:kk,getOffsetParent:mb,getElementRects:Mk,getClientRects:xk,getDimensions:Pk,getScale:ci,isElement:er,isRTL:Lk};function gb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jk(e,t){let r=null,s;const i=$n(e);function a(){var u;clearTimeout(s),(u=r)==null||u.disconnect(),r=null}function c(u,p){u===void 0&&(u=!1),p===void 0&&(p=1),a();const h=e.getBoundingClientRect(),{left:y,top:v,width:w,height:S}=h;if(u||t(),!w||!S)return;const b=hl(v),E=hl(i.clientWidth-(y+w)),C=hl(i.clientHeight-(v+S)),R=hl(y),f={rootMargin:-b+"px "+-E+"px "+-C+"px "+-R+"px",threshold:Wt(0,gn(1,p))||1};let d=!0;function g(x){const P=x[0].intersectionRatio;if(P!==p){if(!d)return c();P?c(!1,P):s=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!gb(h,e.getBoundingClientRect())&&c(),d=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch{r=new IntersectionObserver(g,f)}r.observe(e)}return c(!0),a}function Ok(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,h=Yh(e),y=i||a?[...h?$a(h):[],...$a(t)]:[];y.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),a&&R.addEventListener("resize",r)});const v=h&&u?jk(h,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(R=>{let[_]=R;_&&_.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var f;(f=S)==null||f.observe(t)})),r()}),h&&!p&&S.observe(h),S.observe(t));let b,E=p?po(e):null;p&&C();function C(){const R=po(e);E&&!gb(E,R)&&r(),E=R,b=requestAnimationFrame(C)}return r(),()=>{var R;y.forEach(_=>{i&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),v==null||v(),(R=S)==null||R.disconnect(),S=null,p&&cancelAnimationFrame(b)}}const Nk=gk,Ak=vk,$k=fk,Fk=wk,Sw=dk,zk=hk,Bk=yk,Uk=(e,t,r)=>{const s=new Map,i={platform:Ik,...r},a={...i.platform,_c:s};return uk(e,t,{...i,platform:a})};var Pl=typeof document<"u"?L.useLayoutEffect:L.useEffect;function Ql(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Ql(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Ql(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function vb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _w(e,t){const r=vb(e);return Math.round(t*r)/r}function xp(e){const t=L.useRef(e);return Pl(()=>{t.current=e}),t}function Vk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:p,open:h}=e,[y,v]=L.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=L.useState(s);Ql(w,s)||S(s);const[b,E]=L.useState(null),[C,R]=L.useState(null),_=L.useCallback(F=>{F!==x.current&&(x.current=F,E(F))},[]),f=L.useCallback(F=>{F!==P.current&&(P.current=F,R(F))},[]),d=a||b,g=c||C,x=L.useRef(null),P=L.useRef(null),M=L.useRef(y),j=p!=null,I=xp(p),A=xp(i),N=xp(h),V=L.useCallback(()=>{if(!x.current||!P.current)return;const F={placement:t,strategy:r,middleware:w};A.current&&(F.platform=A.current),Uk(x.current,P.current,F).then(z=>{const G={...z,isPositioned:N.current!==!1};W.current&&!Ql(M.current,G)&&(M.current=G,vu.flushSync(()=>{v(G)}))})},[w,t,r,A,N]);Pl(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,v(F=>({...F,isPositioned:!1})))},[h]);const W=L.useRef(!1);Pl(()=>(W.current=!0,()=>{W.current=!1}),[]),Pl(()=>{if(d&&(x.current=d),g&&(P.current=g),d&&g){if(I.current)return I.current(d,g,V);V()}},[d,g,V,I,j]);const J=L.useMemo(()=>({reference:x,floating:P,setReference:_,setFloating:f}),[_,f]),O=L.useMemo(()=>({reference:d,floating:g}),[d,g]),B=L.useMemo(()=>{const F={position:r,left:0,top:0};if(!O.floating)return F;const z=_w(O.floating,y.x),G=_w(O.floating,y.y);return u?{...F,transform:"translate("+z+"px, "+G+"px)",...vb(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:G}},[r,u,O.floating,y.x,y.y]);return L.useMemo(()=>({...y,update:V,refs:J,elements:O,floatingStyles:B}),[y,V,J,O,B])}const Hk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:i}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Sw({element:s.current,padding:i}).fn(r):{}:s?Sw({element:s,padding:i}).fn(r):{}}}},Wk=(e,t)=>({...Nk(e),options:[e,t]}),qk=(e,t)=>({...Ak(e),options:[e,t]}),bw=(e,t)=>({...Bk(e),options:[e,t]}),xw=(e,t)=>({...$k(e),options:[e,t]}),Gk=(e,t)=>({...Fk(e),options:[e,t]}),Cw=(e,t)=>({...zk(e),options:[e,t]}),Kk=(e,t)=>({...Hk(e),options:[e,t]});function Yk(e){return L.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const yb={...k_},Xk=yb.useInsertionEffect,Qk=Xk||(e=>e());function Zk(e){const t=L.useRef(()=>{});return Qk(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}var ih=typeof document<"u"?L.useLayoutEffect:L.useEffect;let Rw=!1,Jk=0;const Ew=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Jk++;function eP(){const[e,t]=L.useState(()=>Rw?Ew():void 0);return ih(()=>{e==null&&t(Ew())},[]),L.useEffect(()=>{Rw=!0},[]),e}const tP=yb.useId,rP=tP||eP;function nP(){const e=new Map;return{emit(t,r){var s;(s=e.get(t))==null||s.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var s;e.set(t,((s=e.get(t))==null?void 0:s.filter(i=>i!==r))||[])}}}const sP=L.createContext(null),oP=L.createContext(null),iP=()=>{var e;return((e=L.useContext(sP))==null?void 0:e.id)||null},aP=()=>L.useContext(oP);function cP(e){const{open:t=!1,onOpenChange:r,elements:s}=e,i=rP(),a=L.useRef({}),[c]=L.useState(()=>nP()),u=iP()!=null,[p,h]=L.useState(s.reference),y=Zk((S,b,E)=>{a.current.openEvent=S?b:void 0,c.emit("openchange",{open:S,event:b,reason:E,nested:u}),r==null||r(S,b,E)}),v=L.useMemo(()=>({setPositionReference:h}),[]),w=L.useMemo(()=>({reference:p||s.reference||null,floating:s.floating||null,domReference:s.reference}),[p,s.reference,s.floating]);return L.useMemo(()=>({dataRef:a,open:t,onOpenChange:y,elements:w,events:c,floatingId:i,refs:v}),[t,y,w,c,i,v])}function lP(e){e===void 0&&(e={});const{nodeId:t}=e,r=cP({...e,elements:{reference:null,floating:null,...e.elements}}),s=e.rootContext||r,i=s.elements,[a,c]=L.useState(null),[u,p]=L.useState(null),y=(i==null?void 0:i.domReference)||a,v=L.useRef(null),w=aP();ih(()=>{y&&(v.current=y)},[y]);const S=Vk({...e,elements:{...i,...u&&{reference:u}}}),b=L.useCallback(f=>{const d=er(f)?{getBoundingClientRect:()=>f.getBoundingClientRect(),contextElement:f}:f;p(d),S.refs.setReference(d)},[S.refs]),E=L.useCallback(f=>{(er(f)||f===null)&&(v.current=f,c(f)),(er(S.refs.reference.current)||S.refs.reference.current===null||f!==null&&!er(f))&&S.refs.setReference(f)},[S.refs]),C=L.useMemo(()=>({...S.refs,setReference:E,setPositionReference:b,domReference:v}),[S.refs,E,b]),R=L.useMemo(()=>({...S.elements,domReference:y}),[S.elements,y]),_=L.useMemo(()=>({...S,...s,refs:C,elements:R,nodeId:t}),[S,C,R,t,s]);return ih(()=>{s.dataRef.current.floatingContext=_;const f=w==null?void 0:w.nodesRef.current.find(d=>d.id===t);f&&(f.context=_)}),L.useMemo(()=>({...S,context:_,refs:C,elements:R}),[S,C,R,_])}const[uP,Ar]=wn("ScrollArea.Root component was not found in tree");function fi(e,t){const r=co(t);Wa(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,r])}const dP=L.forwardRef((e,t)=>{const{style:r,...s}=e,i=Ar(),[a,c]=L.useState(0),[u,p]=L.useState(0),h=!!(a&&u);return fi(i.scrollbarX,()=>{var v;const y=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(y),p(y)}),fi(i.scrollbarY,()=>{var v;const y=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(y),c(y)}),h?k.jsx("div",{...s,ref:t,style:{...r,width:a,height:u}}):null}),fP=L.forwardRef((e,t)=>{const r=Ar(),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?k.jsx(dP,{...e,ref:t}):null}),pP={scrollHideDelay:1e3,type:"hover"},wb=L.forwardRef((e,t)=>{const r=ie("ScrollAreaRoot",pP,e),{type:s,scrollHideDelay:i,scrollbars:a,...c}=r,[u,p]=L.useState(null),[h,y]=L.useState(null),[v,w]=L.useState(null),[S,b]=L.useState(null),[E,C]=L.useState(null),[R,_]=L.useState(0),[f,d]=L.useState(0),[g,x]=L.useState(!1),[P,M]=L.useState(!1),j=rr(t,I=>p(I));return k.jsx(uP,{value:{type:s,scrollHideDelay:i,scrollArea:u,viewport:h,onViewportChange:y,content:v,onContentChange:w,scrollbarX:S,onScrollbarXChange:b,scrollbarXEnabled:g,onScrollbarXEnabledChange:x,scrollbarY:E,onScrollbarYChange:C,scrollbarYEnabled:P,onScrollbarYEnabledChange:M,onCornerWidthChange:_,onCornerHeightChange:d},children:k.jsx(ne,{...c,ref:j,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${R}px`,"--sa-corner-height":a!=="xy"?"0px":`${f}px`}})})});wb.displayName="@mantine/core/ScrollAreaRoot";function Sb(e,t){const r=e/t;return Number.isNaN(r)?0:r}function bu(e){const t=Sb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function _b(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function hP(e,[t,r]){return Math.min(r,Math.max(t,e))}function Tw(e,t,r="ltr"){const s=bu(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,u=a-s,p=r==="ltr"?[0,c]:[c*-1,0],h=hP(e,p);return _b([0,c],[0,u])(h)}function mP(e,t,r,s="ltr"){const i=bu(r),a=i/2,c=t||a,u=i-c,p=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,y=r.content-r.viewport,v=s==="ltr"?[0,y]:[y*-1,0];return _b([p,h],v)(e)}function bb(e,t){return e>0&&e<t}function Zl(e){return e?parseInt(e,10):0}function uo(e,t,{checkForDefaultPrevented:r=!0}={}){return s=>{e==null||e(s),(r===!1||!s.defaultPrevented)&&(t==null||t(s))}}const[gP,xb]=wn("ScrollAreaScrollbar was not found in tree"),Cb=L.forwardRef((e,t)=>{const{sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:p,onWheelScroll:h,onResize:y,...v}=e,w=Ar(),[S,b]=L.useState(null),E=rr(t,M=>b(M)),C=L.useRef(null),R=L.useRef(""),{viewport:_}=w,f=r.content-r.viewport,d=co(h),g=co(u),x=fu(y,10),P=M=>{if(C.current){const j=M.clientX-C.current.left,I=M.clientY-C.current.top;p({x:j,y:I})}};return L.useEffect(()=>{const M=j=>{const I=j.target;(S==null?void 0:S.contains(I))&&d(j,f)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[_,S,f,d]),L.useEffect(g,[r,g]),fi(S,x),fi(w.content,x),k.jsx(gP,{value:{scrollbar:S,hasThumb:s,onThumbChange:co(i),onThumbPointerUp:co(a),onThumbPositionChange:g,onThumbPointerDown:co(c)},children:k.jsx("div",{...v,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...v.style},onPointerDown:uo(e.onPointerDown,M=>{M.preventDefault(),M.button===0&&(M.target.setPointerCapture(M.pointerId),C.current=S.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",P(M))}),onPointerMove:uo(e.onPointerMove,P),onPointerUp:uo(e.onPointerUp,M=>{const j=M.target;j.hasPointerCapture(M.pointerId)&&(M.preventDefault(),j.releasePointerCapture(M.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=R.current,C.current=null}})})}),Rb=L.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,style:i,...a}=e,c=Ar(),[u,p]=L.useState(),h=L.useRef(null),y=rr(t,h,c.onScrollbarXChange);return L.useEffect(()=>{h.current&&p(getComputedStyle(h.current))},[h]),k.jsx(Cb,{"data-orientation":"horizontal",...a,ref:y,sizes:r,style:{...i,"--sa-thumb-width":`${bu(r)}px`},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,w)=>{if(c.viewport){const S=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(S),bb(S,w)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Zl(u.paddingLeft),paddingEnd:Zl(u.paddingRight)}})}})});Rb.displayName="@mantine/core/ScrollAreaScrollbarX";const Eb=L.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,style:i,...a}=e,c=Ar(),[u,p]=L.useState(),h=L.useRef(null),y=rr(t,h,c.onScrollbarYChange);return L.useEffect(()=>{h.current&&p(window.getComputedStyle(h.current))},[]),k.jsx(Cb,{...a,"data-orientation":"vertical",ref:y,sizes:r,style:{"--sa-thumb-height":`${bu(r)}px`,...i},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,w)=>{if(c.viewport){const S=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(S),bb(S,w)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Zl(u.paddingTop),paddingEnd:Zl(u.paddingBottom)}})}})});Eb.displayName="@mantine/core/ScrollAreaScrollbarY";const xu=L.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,{dir:i}=vo(),a=Ar(),c=L.useRef(null),u=L.useRef(0),[p,h]=L.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),y=Sb(p.viewport,p.content),v={...s,sizes:p,onSizesChange:h,hasThumb:y>0&&y<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:S=>{u.current=S}},w=(S,b)=>mP(S,u.current,p,b);return r==="horizontal"?k.jsx(Rb,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollLeft,b=Tw(S,p,i);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollLeft=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollLeft=w(S,i))}}):r==="vertical"?k.jsx(Eb,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollTop,b=Tw(S,p);p.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollTop=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollTop=w(S))}}):null});xu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Qh=L.forwardRef((e,t)=>{const r=Ar(),{forceMount:s,...i}=e,[a,c]=L.useState(!1),u=e.orientation==="horizontal",p=fu(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,y=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?h:y)}},10);return fi(r.viewport,p),fi(r.content,p),s||a?k.jsx(xu,{"data-state":a?"visible":"hidden",...i,ref:t}):null});Qh.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Tb=L.forwardRef((e,t)=>{const{forceMount:r,...s}=e,i=Ar(),[a,c]=L.useState(!1);return L.useEffect(()=>{const{scrollArea:u}=i;let p=0;if(u){const h=()=>{window.clearTimeout(p),c(!0)},y=()=>{p=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(p),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),r||a?k.jsx(Qh,{"data-state":a?"visible":"hidden",...s,ref:t}):null});Tb.displayName="@mantine/core/ScrollAreaScrollbarHover";const vP=L.forwardRef((e,t)=>{const{forceMount:r,...s}=e,i=Ar(),a=e.orientation==="horizontal",[c,u]=L.useState("hidden"),p=fu(()=>u("idle"),100);return L.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay]),L.useEffect(()=>{const{viewport:h}=i,y=a?"scrollLeft":"scrollTop";if(h){let v=h[y];const w=()=>{const S=h[y];v!==S&&(u("scrolling"),p()),v=S};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,a,p]),r||c!=="hidden"?k.jsx(xu,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:uo(e.onPointerEnter,()=>u("interacting")),onPointerLeave:uo(e.onPointerLeave,()=>u("idle"))}):null}),ah=L.forwardRef((e,t)=>{const{forceMount:r,...s}=e,i=Ar(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,u=e.orientation==="horizontal";return L.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),i.type==="hover"?k.jsx(Tb,{...s,ref:t,forceMount:r}):i.type==="scroll"?k.jsx(vP,{...s,ref:t,forceMount:r}):i.type==="auto"?k.jsx(Qh,{...s,ref:t,forceMount:r}):i.type==="always"?k.jsx(xu,{...s,ref:t}):null});ah.displayName="@mantine/core/ScrollAreaScrollbar";function yP(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,u=r.top!==a.top;(c||u)&&t(),r=a,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)}const kb=L.forwardRef((e,t)=>{const{style:r,...s}=e,i=Ar(),a=xb(),{onThumbPositionChange:c}=a,u=rr(t,y=>a.onThumbChange(y)),p=L.useRef(void 0),h=fu(()=>{p.current&&(p.current(),p.current=void 0)},100);return L.useEffect(()=>{const{viewport:y}=i;if(y){const v=()=>{if(h(),!p.current){const w=yP(y,c);p.current=w,c()}};return c(),y.addEventListener("scroll",v),()=>y.removeEventListener("scroll",v)}},[i.viewport,h,c]),k.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:uo(e.onPointerDownCapture,y=>{const w=y.target.getBoundingClientRect(),S=y.clientX-w.left,b=y.clientY-w.top;a.onThumbPointerDown({x:S,y:b})}),onPointerUp:uo(e.onPointerUp,a.onThumbPointerUp)})});kb.displayName="@mantine/core/ScrollAreaThumb";const ch=L.forwardRef((e,t)=>{const{forceMount:r,...s}=e,i=xb();return r||i.hasThumb?k.jsx(kb,{ref:t,...s}):null});ch.displayName="@mantine/core/ScrollAreaThumb";const Pb=L.forwardRef(({children:e,style:t,...r},s)=>{const i=Ar(),a=rr(s,i.onViewportChange);return k.jsx(ne,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:k.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});Pb.displayName="@mantine/core/ScrollAreaViewport";var Zh={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Db={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},wP=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":te(t),"--scrollarea-over-scroll-behavior":r}}),$r=fe((e,t)=>{const r=ie("ScrollArea",Db,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,scrollbarSize:p,vars:h,type:y,scrollHideDelay:v,viewportProps:w,viewportRef:S,onScrollPositionChange:b,children:E,offsetScrollbars:C,scrollbars:R,onBottomReached:_,onTopReached:f,overscrollBehavior:d,...g}=r,[x,P]=L.useState(!1),[M,j]=L.useState(!1),[I,A]=L.useState(!1),N=Te({name:"ScrollArea",props:r,classes:Zh,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:h,varsResolver:wP}),V=L.useRef(null),W=Yk([S,V]);return L.useEffect(()=>{if(!V.current||C!=="present")return;const J=V.current,O=new ResizeObserver(()=>{const{scrollHeight:B,clientHeight:F,scrollWidth:z,clientWidth:G}=J;j(B>F),A(z>G)});return O.observe(J),()=>O.disconnect()},[V,C]),k.jsxs(wb,{type:y==="never"?"always":y,scrollHideDelay:v,ref:t,scrollbars:R,...N("root"),...g,children:[k.jsx(Pb,{...w,...N("viewport",{style:w==null?void 0:w.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":R||void 0,"data-horizontal-hidden":C==="present"&&!I?"true":void 0,"data-vertical-hidden":C==="present"&&!M?"true":void 0,onScroll:J=>{var z;(z=w==null?void 0:w.onScroll)==null||z.call(w,J),b==null||b({x:J.currentTarget.scrollLeft,y:J.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:B,clientHeight:F}=J.currentTarget;O-(B-F)>=0&&(_==null||_()),O===0&&(f==null||f())},children:E}),(R==="xy"||R==="x")&&k.jsx(ah,{...N("scrollbar"),orientation:"horizontal","data-hidden":y==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:k.jsx(ch,{...N("thumb")})}),(R==="xy"||R==="y")&&k.jsx(ah,{...N("scrollbar"),orientation:"vertical","data-hidden":y==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:k.jsx(ch,{...N("thumb")})}),k.jsx(fP,{...N("corner"),"data-hovered":x||void 0,"data-hidden":y==="never"||void 0})]})});$r.displayName="@mantine/core/ScrollArea";const Jh=fe((e,t)=>{const{children:r,classNames:s,styles:i,scrollbarSize:a,scrollHideDelay:c,type:u,dir:p,offsetScrollbars:h,viewportRef:y,onScrollPositionChange:v,unstyled:w,variant:S,viewportProps:b,scrollbars:E,style:C,vars:R,onBottomReached:_,onTopReached:f,...d}=ie("ScrollAreaAutosize",Db,e);return k.jsx(ne,{...d,ref:t,style:[{display:"flex",overflow:"auto"},C],children:k.jsx(ne,{style:{display:"flex",flexDirection:"column",flex:1},children:k.jsx($r,{classNames:s,styles:i,scrollHideDelay:c,scrollbarSize:a,type:u,dir:p,offsetScrollbars:h,viewportRef:y,onScrollPositionChange:v,unstyled:w,variant:S,viewportProps:b,vars:R,scrollbars:E,onBottomReached:_,onTopReached:f,children:r})})})});$r.classes=Zh;Jh.displayName="@mantine/core/ScrollAreaAutosize";Jh.classes=Zh;$r.Autosize=Jh;var Mb={root:"m_87cf2631"};const SP={__staticSelector:"UnstyledButton"},Fs=Kt((e,t)=>{const r=ie("UnstyledButton",SP,e),{className:s,component:i="button",__staticSelector:a,unstyled:c,classNames:u,styles:p,style:h,...y}=r,v=Te({name:a,props:r,classes:Mb,className:s,style:h,classNames:u,styles:p,unstyled:c});return k.jsx(ne,{...v("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...y})});Fs.classes=Mb;Fs.displayName="@mantine/core/UnstyledButton";var Lb={root:"m_515a97f8"};const _P={},em=fe((e,t)=>{const r=ie("VisuallyHidden",_P,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,...h}=r,y=Te({name:"VisuallyHidden",classes:Lb,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u});return k.jsx(ne,{component:"span",ref:t,...y("root"),...h})});em.classes=Lb;em.displayName="@mantine/core/VisuallyHidden";var Ib={root:"m_1b7284a3"};const bP={},xP=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Ft(t),"--paper-shadow":jh(r)}}),Cu=Kt((e,t)=>{const r=ie("Paper",bP,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,withBorder:p,vars:h,radius:y,shadow:v,variant:w,mod:S,...b}=r,E=Te({name:"Paper",props:r,classes:Ib,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:h,varsResolver:xP});return k.jsx(ne,{ref:t,mod:[{"data-with-border":p},S],...E("root"),variant:w,...b})});Cu.classes=Ib;Cu.displayName="@mantine/core/Paper";function CP(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,s]=t.split("-"),i=r==="right"?"left":"right";return s===void 0?i:`${i}-${s}`}return t}function kw(e,t,r,s){return e==="center"||s==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function Pw(e,t,r,s,i){return e==="center"||s==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:r}:e==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const RP={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function EP({position:e,arrowSize:t,arrowOffset:r,arrowRadius:s,arrowPosition:i,arrowX:a,arrowY:c,dir:u}){const[p,h="center"]=e.split("-"),y={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[RP[p]]:s},v=-t/2;return p==="left"?{...y,...kw(h,c,r,i),right:v,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:p==="right"?{...y,...kw(h,c,r,i),left:v,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:p==="top"?{...y,...Pw(h,a,r,i,u),bottom:v,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:p==="bottom"?{...y,...Pw(h,a,r,i,u),top:v,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const jb=L.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:s,arrowPosition:i,visible:a,arrowX:c,arrowY:u,style:p,...h},y)=>{const{dir:v}=vo();return a?k.jsx("div",{...h,ref:y,style:{...p,...EP({position:e,arrowSize:t,arrowOffset:r,arrowRadius:s,arrowPosition:i,dir:v,arrowX:c,arrowY:u})}}):null});jb.displayName="@mantine/core/FloatingArrow";var Ob={root:"m_9814e45f"};const TP={zIndex:Nr("modal")},kP=(e,{gradient:t,color:r,backgroundOpacity:s,blur:i,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||s!==void 0)&&Dn(r||"#000",s??.6)||void 0,"--overlay-filter":i?`blur(${te(i)})`:void 0,"--overlay-radius":a===void 0?void 0:Ft(a),"--overlay-z-index":c==null?void 0:c.toString()}}),Ru=Kt((e,t)=>{const r=ie("Overlay",TP,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,fixed:h,center:y,children:v,radius:w,zIndex:S,gradient:b,blur:E,color:C,backgroundOpacity:R,mod:_,...f}=r,d=Te({name:"Overlay",props:r,classes:Ob,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:kP});return k.jsx(ne,{ref:t,...d("root"),mod:[{center:y,fixed:h},_],...f,children:v})});Ru.classes=Ob;Ru.displayName="@mantine/core/Overlay";function Cp(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function PP({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Cp(r):e;if(t){const s=document.querySelector("[data-mantine-shared-portal-node]");if(s)return s;const i=Cp(r);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return Cp(r)}const DP={},Nb=fe((e,t)=>{const{children:r,target:s,reuseTargetNode:i,...a}=ie("Portal",DP,e),[c,u]=L.useState(!1),p=L.useRef(null);return Wa(()=>(u(!0),p.current=PP({target:s,reuseTargetNode:i,...a}),Jp(t,p.current),!s&&!i&&p.current&&document.body.appendChild(p.current),()=>{!s&&!i&&p.current&&document.body.removeChild(p.current)}),[s]),!c||!p.current?null:vu.createPortal(k.jsx(k.Fragment,{children:r}),p.current)});Nb.displayName="@mantine/core/Portal";const Ka=fe(({withinPortal:e=!0,children:t,...r},s)=>X_()==="test"||!e?k.jsx(k.Fragment,{children:t}):k.jsx(Nb,{ref:s,...r,children:t}));Ka.displayName="@mantine/core/OptionalPortal";const ma=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),ml={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ma("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ma("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ma("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ma("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ma("top"),common:{transformOrigin:"top right"}}},Dw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function MP({transition:e,state:t,duration:r,timingFunction:s}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:s};return typeof e=="string"?e in ml?{transitionProperty:ml[e].transitionProperty,...i,...ml[e].common,...ml[e][Dw[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Dw[t]]}}function LP({duration:e,exitDuration:t,timingFunction:r,mounted:s,onEnter:i,onExit:a,onEntered:c,onExited:u,enterDelay:p,exitDelay:h}){const y=pr(),v=pu(),w=y.respectReducedMotion?v:!1,[S,b]=L.useState(w?0:e),[E,C]=L.useState(s?"entered":"exited"),R=L.useRef(-1),_=L.useRef(-1),f=L.useRef(-1),d=x=>{const P=x?i:a,M=x?c:u;window.clearTimeout(R.current);const j=w?0:x?e:t;b(j),j===0?(typeof P=="function"&&P(),typeof M=="function"&&M(),C(x?"entered":"exited")):f.current=requestAnimationFrame(()=>{Ta.flushSync(()=>{C(x?"pre-entering":"pre-exiting")}),f.current=requestAnimationFrame(()=>{typeof P=="function"&&P(),C(x?"entering":"exiting"),R.current=window.setTimeout(()=>{typeof M=="function"&&M(),C(x?"entered":"exited")},j)})})},g=x=>{if(window.clearTimeout(_.current),typeof(x?p:h)!="number"){d(x);return}_.current=window.setTimeout(()=>{d(x)},x?p:h)};return Qn(()=>{g(s)},[s]),L.useEffect(()=>()=>{window.clearTimeout(R.current),cancelAnimationFrame(f.current)},[]),{transitionDuration:S,transitionStatus:E,transitionTimingFunction:r||"ease"}}function zs({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:s=r,mounted:i,children:a,timingFunction:c="ease",onExit:u,onEntered:p,onEnter:h,onExited:y,enterDelay:v,exitDelay:w}){const S=X_(),{transitionDuration:b,transitionStatus:E,transitionTimingFunction:C}=LP({mounted:i,exitDuration:s,duration:r,timingFunction:c,onExit:u,onEntered:p,onEnter:h,onExited:y,enterDelay:v,exitDelay:w});return b===0||S==="test"?i?k.jsx(k.Fragment,{children:a({})}):e?a({display:"none"}):null:E==="exited"?e?a({display:"none"}):null:k.jsx(k.Fragment,{children:a(MP({transition:t,duration:b,state:E,timingFunction:C}))})}zs.displayName="@mantine/core/Transition";const[IP,Ab]=wn("Popover component was not found in the tree");function Eu({children:e,active:t=!0,refProp:r="ref",innerRef:s}){const i=LE(t),a=rr(i,s);return vi(e)?L.cloneElement(e,{[r]:a}):e}function $b(e){return k.jsx(em,{tabIndex:-1,"data-autofocus":!0,...e})}Eu.displayName="@mantine/core/FocusTrap";$b.displayName="@mantine/core/FocusTrapInitialFocus";Eu.InitialFocus=$b;var Fb={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const jP={},tm=fe((e,t)=>{var C,R,_,f;const r=ie("PopoverDropdown",jP,e),{className:s,style:i,vars:a,children:c,onKeyDownCapture:u,variant:p,classNames:h,styles:y,...v}=r,w=Ab(),S=U_({opened:w.opened,shouldReturnFocus:w.returnFocus}),b=w.withRoles?{"aria-labelledby":w.getTargetId(),id:w.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=rr(t,w.floating);return w.disabled?null:k.jsx(Ka,{...w.portalProps,withinPortal:w.withinPortal,children:k.jsx(zs,{mounted:w.opened,...w.transitionProps,transition:((C=w.transitionProps)==null?void 0:C.transition)||"fade",duration:((R=w.transitionProps)==null?void 0:R.duration)??150,keepMounted:w.keepMounted,exitDuration:typeof((_=w.transitionProps)==null?void 0:_.exitDuration)=="number"?w.transitionProps.exitDuration:(f=w.transitionProps)==null?void 0:f.duration,children:d=>k.jsx(Eu,{active:w.trapFocus&&w.opened,innerRef:E,children:k.jsxs(ne,{...b,...v,variant:p,onKeyDownCapture:gE(()=>{var g,x;(g=w.onClose)==null||g.call(w),(x=w.onDismiss)==null||x.call(w)},{active:w.closeOnEscape,onTrigger:S,onKeyDown:u}),"data-position":w.placement,"data-fixed":w.floatingStrategy==="fixed"||void 0,...w.getStyles("dropdown",{className:s,props:r,classNames:h,styles:y,style:[{...d,zIndex:w.zIndex,top:w.y??0,left:w.x??0,width:w.width==="target"?void 0:te(w.width)},w.resolvedStyles.dropdown,y==null?void 0:y.dropdown,i]}),children:[c,k.jsx(jb,{ref:w.arrowRef,arrowX:w.arrowX,arrowY:w.arrowY,visible:w.withArrow,position:w.placement,arrowSize:w.arrowSize,arrowRadius:w.arrowRadius,arrowOffset:w.arrowOffset,arrowPosition:w.arrowPosition,...w.getStyles("arrow",{props:r,classNames:h,styles:y})})]})})})})});tm.classes=Fb;tm.displayName="@mantine/core/PopoverDropdown";const OP={refProp:"ref",popupType:"dialog"},zb=fe((e,t)=>{const{children:r,refProp:s,popupType:i,...a}=ie("PopoverTarget",OP,e);if(!vi(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,u=Ab(),p=rr(u.reference,G_(r),t),h=u.withRoles?{"aria-haspopup":i,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return L.cloneElement(r,{...c,...h,...u.targetProps,className:qt(u.targetProps.className,c.className,r.props.className),[s]:p,...u.controlled?null:{onClick:u.onToggle}})});zb.displayName="@mantine/core/PopoverTarget";function NP({opened:e,floating:t,position:r,positionDependencies:s}){const[i,a]=L.useState(0);L.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Ok(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,r]),Qn(()=>{t.update()},s),Qn(()=>{a(c=>c+1)},[e])}function AP(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function $P(e,t){const r=AP(e.middlewares),s=[Wk(e.offset)];return r.shift&&s.push(qk(typeof r.shift=="boolean"?{limiter:bw(),padding:5}:{limiter:bw(),padding:5,...r.shift})),r.flip&&s.push(typeof r.flip=="boolean"?xw():xw(r.flip)),r.inline&&s.push(typeof r.inline=="boolean"?Cw():Cw(r.inline)),s.push(Kk({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&s.push(Gk({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:c,...u}){var y;const h=((y=t().refs.floating.current)==null?void 0:y.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:c,...u}):Object.assign(h,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(h,{width:`${i.reference.width}px`})}})),s}function FP(e){const[t,r]=Zn({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),s=L.useRef(t),i=()=>{t&&r(!1)},a=()=>r(!t),c=lP({strategy:e.strategy,placement:e.position,middleware:$P(e,()=>c)});return NP({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Qn(()=>{var u;(u=e.onPositionChange)==null||u.call(e,c.placement)},[c.placement]),Qn(()=>{var u,p;t!==s.current&&(t?(p=e.onOpen)==null||p.call(e):(u=e.onClose)==null||u.call(e)),s.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:a}}const zP={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Nr("popover"),__staticSelector:"Popover",width:"max-content"},BP=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Ft(t),"--popover-shadow":jh(r)}});function Sn(e){var Lt,Re,Ee,ve,Ie,pt;const t=ie("Popover",zP,e),{children:r,position:s,offset:i,onPositionChange:a,positionDependencies:c,opened:u,transitionProps:p,onExitTransitionEnd:h,onEnterTransitionEnd:y,width:v,middlewares:w,withArrow:S,arrowSize:b,arrowOffset:E,arrowRadius:C,arrowPosition:R,unstyled:_,classNames:f,styles:d,closeOnClickOutside:g,withinPortal:x,portalProps:P,closeOnEscape:M,clickOutsideEvents:j,trapFocus:I,onClose:A,onDismiss:N,onOpen:V,onChange:W,zIndex:J,radius:O,shadow:B,id:F,defaultOpened:z,__staticSelector:G,withRoles:U,disabled:X,returnFocus:ce,variant:pe,keepMounted:ee,vars:le,floatingStrategy:ue,withOverlay:Se,overlayProps:me,...ke}=t,Le=Te({name:G,props:t,classes:Fb,classNames:f,styles:d,unstyled:_,rootSelector:"dropdown",vars:le,varsResolver:BP}),{resolvedStyles:bt}=qa({classNames:f,styles:d,props:t}),vt=L.useRef(null),[He,nt]=L.useState(null),[Qe,We]=L.useState(null),{dir:xt}=vo(),ut=go(F),Be=FP({middlewares:w,width:v,position:CP(xt,s),offset:typeof i=="number"?i+(S?b/2:0):i,arrowRef:vt,arrowOffset:E,onPositionChange:a,positionDependencies:c,opened:u,defaultOpened:z,onChange:W,onOpen:V,onClose:A,onDismiss:N,strategy:ue});xE(()=>{g&&(Be.onClose(),N==null||N())},j,[He,Qe]);const Ne=L.useCallback($e=>{nt($e),Be.floating.refs.setReference($e)},[Be.floating.refs.setReference]),st=L.useCallback($e=>{We($e),Be.floating.refs.setFloating($e)},[Be.floating.refs.setFloating]),Tt=L.useCallback(()=>{var $e;($e=p==null?void 0:p.onExited)==null||$e.call(p),h==null||h()},[p==null?void 0:p.onExited,h]),ot=L.useCallback(()=>{var $e;($e=p==null?void 0:p.onEntered)==null||$e.call(p),y==null||y()},[p==null?void 0:p.onEntered,y]);return k.jsxs(IP,{value:{returnFocus:ce,disabled:X,controlled:Be.controlled,reference:Ne,floating:st,x:Be.floating.x,y:Be.floating.y,arrowX:(Ee=(Re=(Lt=Be.floating)==null?void 0:Lt.middlewareData)==null?void 0:Re.arrow)==null?void 0:Ee.x,arrowY:(pt=(Ie=(ve=Be.floating)==null?void 0:ve.middlewareData)==null?void 0:Ie.arrow)==null?void 0:pt.y,opened:Be.opened,arrowRef:vt,transitionProps:{...p,onExited:Tt,onEntered:ot},width:v,withArrow:S,arrowSize:b,arrowOffset:E,arrowRadius:C,arrowPosition:R,placement:Be.floating.placement,trapFocus:I,withinPortal:x,portalProps:P,zIndex:J,radius:O,shadow:B,closeOnEscape:M,onDismiss:N,onClose:Be.onClose,onToggle:Be.onToggle,getTargetId:()=>`${ut}-target`,getDropdownId:()=>`${ut}-dropdown`,withRoles:U,targetProps:ke,__staticSelector:G,classNames:f,styles:d,unstyled:_,variant:pe,keepMounted:ee,getStyles:Le,resolvedStyles:bt,floatingStrategy:ue},children:[r,Se&&k.jsx(zs,{transition:"fade",mounted:Be.opened,duration:(p==null?void 0:p.duration)||250,exitDuration:(p==null?void 0:p.exitDuration)||250,children:$e=>k.jsx(Ka,{withinPortal:x,children:k.jsx(Ru,{...me,...Le("overlay",{className:me==null?void 0:me.className,style:[$e,me==null?void 0:me.style]})})})})]})}Sn.Target=zb;Sn.Dropdown=tm;Sn.displayName="@mantine/core/Popover";Sn.extend=e=>e;var hn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Bb=L.forwardRef(({className:e,...t},r)=>k.jsxs(ne,{component:"span",className:qt(hn.barsLoader,e),...t,ref:r,children:[k.jsx("span",{className:hn.bar}),k.jsx("span",{className:hn.bar}),k.jsx("span",{className:hn.bar})]}));Bb.displayName="@mantine/core/Bars";const Ub=L.forwardRef(({className:e,...t},r)=>k.jsxs(ne,{component:"span",className:qt(hn.dotsLoader,e),...t,ref:r,children:[k.jsx("span",{className:hn.dot}),k.jsx("span",{className:hn.dot}),k.jsx("span",{className:hn.dot})]}));Ub.displayName="@mantine/core/Dots";const Vb=L.forwardRef(({className:e,...t},r)=>k.jsx(ne,{component:"span",className:qt(hn.ovalLoader,e),...t,ref:r}));Vb.displayName="@mantine/core/Oval";const Hb={bars:Bb,oval:Vb,dots:Ub},UP={loaders:Hb,type:"oval"},VP=(e,{size:t,color:r})=>({root:{"--loader-size":Ve(t,"loader-size"),"--loader-color":r?Or(r,e):void 0}}),_i=fe((e,t)=>{const r=ie("Loader",UP,e),{size:s,color:i,type:a,vars:c,className:u,style:p,classNames:h,styles:y,unstyled:v,loaders:w,variant:S,children:b,...E}=r,C=Te({name:"Loader",props:r,classes:hn,className:u,style:p,classNames:h,styles:y,unstyled:v,vars:c,varsResolver:VP});return b?k.jsx(ne,{...C("root"),ref:t,...E,children:b}):k.jsx(ne,{...C("root"),ref:t,component:w[a],variant:S,size:s,...E})});_i.defaultLoaders=Hb;_i.classes=hn;_i.displayName="@mantine/core/Loader";var bi={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Mw={orientation:"horizontal"},HP=(e,{borderWidth:t})=>({group:{"--ai-border-width":te(t)}}),rm=fe((e,t)=>{const r=ie("ActionIconGroup",Mw,e),{className:s,style:i,classNames:a,styles:c,unstyled:u,orientation:p,vars:h,borderWidth:y,variant:v,mod:w,...S}=ie("ActionIconGroup",Mw,e),b=Te({name:"ActionIconGroup",props:r,classes:bi,className:s,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:HP,rootSelector:"group"});return k.jsx(ne,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":p},w],role:"group",...S})});rm.classes=bi;rm.displayName="@mantine/core/ActionIconGroup";const Lw={},WP=(e,{radius:t,color:r,gradient:s,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:s,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Ve(c,"section-height"),"--section-padding-x":Ve(c,"section-padding-x"),"--section-fz":tr(c),"--section-radius":t===void 0?void 0:Ft(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},nm=fe((e,t)=>{const r=ie("ActionIconGroupSection",Lw,e),{className:s,style:i,classNames:a,styles:c,unstyled:u,vars:p,variant:h,gradient:y,radius:v,autoContrast:w,...S}=ie("ActionIconGroupSection",Lw,e),b=Te({name:"ActionIconGroupSection",props:r,classes:bi,className:s,style:i,classNames:a,styles:c,unstyled:u,vars:p,varsResolver:WP,rootSelector:"groupSection"});return k.jsx(ne,{...b("groupSection"),ref:t,variant:h,...S})});nm.classes=bi;nm.displayName="@mantine/core/ActionIconGroupSection";const qP={},GP=(e,{size:t,radius:r,variant:s,gradient:i,color:a,autoContrast:c})=>{const u=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:s||"filled",autoContrast:c});return{root:{"--ai-size":Ve(t,"ai-size"),"--ai-radius":r===void 0?void 0:Ft(r),"--ai-bg":a||s?u.background:void 0,"--ai-hover":a||s?u.hover:void 0,"--ai-hover-color":a||s?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":a||s?u.border:void 0}}},rt=Kt((e,t)=>{const r=ie("ActionIcon",qP,e),{className:s,unstyled:i,variant:a,classNames:c,styles:u,style:p,loading:h,loaderProps:y,size:v,color:w,radius:S,__staticSelector:b,gradient:E,vars:C,children:R,disabled:_,"data-disabled":f,autoContrast:d,mod:g,...x}=r,P=Te({name:["ActionIcon",b],props:r,className:s,style:p,classes:bi,classNames:c,styles:u,unstyled:i,vars:C,varsResolver:GP});return k.jsxs(Fs,{...P("root",{active:!_&&!h&&!f}),...x,unstyled:i,variant:a,size:v,disabled:_||h,ref:t,mod:[{loading:h,disabled:_||f},g],children:[k.jsx(zs,{mounted:!!h,transition:"slide-down",duration:150,children:M=>k.jsx(ne,{component:"span",...P("loader",{style:M}),"aria-hidden":!0,children:k.jsx(_i,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...y})})}),k.jsx(ne,{component:"span",mod:{loading:h},...P("icon"),children:R})]})});rt.classes=bi;rt.displayName="@mantine/core/ActionIcon";rt.Group=rm;rt.GroupSection=nm;const Wb=L.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},s)=>k.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:s,...r,children:k.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Wb.displayName="@mantine/core/CloseIcon";var qb={root:"m_86a44da5","root--subtle":"m_220c80f2"};const KP={variant:"subtle"},YP=(e,{size:t,radius:r,iconSize:s})=>({root:{"--cb-size":Ve(t,"cb-size"),"--cb-radius":r===void 0?void 0:Ft(r),"--cb-icon-size":te(s)}}),Ya=Kt((e,t)=>{const r=ie("CloseButton",KP,e),{iconSize:s,children:i,vars:a,radius:c,className:u,classNames:p,style:h,styles:y,unstyled:v,"data-disabled":w,disabled:S,variant:b,icon:E,mod:C,__staticSelector:R,..._}=r,f=Te({name:R||"CloseButton",props:r,className:u,style:h,classes:qb,classNames:p,styles:y,unstyled:v,vars:a,varsResolver:YP});return k.jsxs(Fs,{ref:t,..._,unstyled:v,variant:b,disabled:S,mod:[{disabled:S||w},C],...f("root",{variant:b,active:!S&&!w}),children:[E||k.jsx(Wb,{}),i]})});Ya.classes=qb;Ya.displayName="@mantine/core/CloseButton";function XP(e){return L.Children.toArray(e).filter(Boolean)}var Gb={root:"m_4081bf90"};const QP={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},ZP=(e,{grow:t,preventGrowOverflow:r,gap:s,align:i,justify:a,wrap:c},{childWidth:u})=>({root:{"--group-child-width":t&&r?u:void 0,"--group-gap":Jt(s),"--group-align":i,"--group-justify":a,"--group-wrap":c}}),et=fe((e,t)=>{const r=ie("Group",QP,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,children:p,gap:h,align:y,justify:v,wrap:w,grow:S,preventGrowOverflow:b,vars:E,variant:C,__size:R,mod:_,...f}=r,d=XP(p),g=d.length,x=Jt(h??"md"),M={childWidth:`calc(${100/g}% - (${x} - ${x} / ${g}))`},j=Te({name:"Group",props:r,stylesCtx:M,className:i,style:a,classes:Gb,classNames:s,styles:c,unstyled:u,vars:E,varsResolver:ZP});return k.jsx(ne,{...j("root"),ref:t,variant:C,mod:[{grow:S},_],size:R,...f,children:d})});et.classes=Gb;et.displayName="@mantine/core/Group";const[JP,ss]=wn("ModalBase component was not found in tree");function eD({opened:e,transitionDuration:t}){const[r,s]=L.useState(e),i=L.useRef(-1),c=pu()?0:t;return L.useEffect(()=>(e?(s(!0),window.clearTimeout(i.current)):c===0?s(!1):i.current=window.setTimeout(()=>s(!1),c),()=>window.clearTimeout(i.current)),[e,c]),r}function tD({id:e,transitionProps:t,opened:r,trapFocus:s,closeOnEscape:i,onClose:a,returnFocus:c}){const u=go(e),[p,h]=L.useState(!1),[y,v]=L.useState(!1),w=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=eD({opened:r,transitionDuration:w});return AE("keydown",b=>{var E;b.key==="Escape"&&i&&r&&((E=b.target)==null?void 0:E.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),U_({opened:r,shouldReturnFocus:s&&c}),{_id:u,titleMounted:p,bodyMounted:y,shouldLockScroll:S,setTitleMounted:h,setBodyMounted:v}}const sm=L.forwardRef(({keepMounted:e,opened:t,onClose:r,id:s,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:u,closeOnEscape:p,returnFocus:h,closeOnClickOutside:y,withinPortal:v,portalProps:w,lockScroll:S,children:b,zIndex:E,shadow:C,padding:R,__vars:_,unstyled:f,removeScrollProps:d,...g},x)=>{const{_id:P,titleMounted:M,bodyMounted:j,shouldLockScroll:I,setTitleMounted:A,setBodyMounted:N}=tD({id:s,transitionProps:i,opened:t,trapFocus:u,closeOnEscape:p,onClose:r,returnFocus:h}),{key:V,...W}=d||{};return k.jsx(Ka,{...w,withinPortal:v,children:k.jsx(JP,{value:{opened:t,onClose:r,closeOnClickOutside:y,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${P}-title`,getBodyId:()=>`${P}-body`,titleMounted:M,bodyMounted:j,setTitleMounted:A,setBodyMounted:N,trapFocus:u,closeOnEscape:p,zIndex:E,unstyled:f},children:k.jsx(ql,{enabled:I&&S,...W,children:k.jsx(ne,{ref:x,...g,__vars:{..._,"--mb-z-index":(E||Nr("modal")).toString(),"--mb-shadow":jh(C),"--mb-padding":Jt(R)},children:b})},V)})})});sm.displayName="@mantine/core/ModalBase";function rD(){const e=ss();return L.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var pi={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const om=L.forwardRef(({className:e,...t},r)=>{const s=rD(),i=ss();return k.jsx(ne,{ref:r,...t,id:s,className:qt({[pi.body]:!i.unstyled},e)})});om.displayName="@mantine/core/ModalBaseBody";const im=L.forwardRef(({className:e,onClick:t,...r},s)=>{const i=ss();return k.jsx(Ya,{ref:s,...r,onClick:a=>{i.onClose(),t==null||t(a)},className:qt({[pi.close]:!i.unstyled},e),unstyled:i.unstyled})});im.displayName="@mantine/core/ModalBaseCloseButton";const am=L.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:s,style:i,...a},c)=>{const u=ss();return k.jsx(zs,{mounted:u.opened,transition:"pop",...u.transitionProps,onExited:()=>{var p,h,y;(p=u.onExitTransitionEnd)==null||p.call(u),(y=(h=u.transitionProps)==null?void 0:h.onExited)==null||y.call(h)},onEntered:()=>{var p,h,y;(p=u.onEnterTransitionEnd)==null||p.call(u),(y=(h=u.transitionProps)==null?void 0:h.onEntered)==null||y.call(h)},...e,children:p=>k.jsx("div",{...r,className:qt({[pi.inner]:!u.unstyled},r.className),children:k.jsx(Eu,{active:u.opened&&u.trapFocus,innerRef:c,children:k.jsx(Cu,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":u.bodyMounted?u.getBodyId():void 0,"aria-labelledby":u.titleMounted?u.getTitleId():void 0,style:[i,p],className:qt({[pi.content]:!u.unstyled},t),unstyled:u.unstyled,children:a.children})})})})});am.displayName="@mantine/core/ModalBaseContent";const cm=L.forwardRef(({className:e,...t},r)=>{const s=ss();return k.jsx(ne,{component:"header",ref:r,className:qt({[pi.header]:!s.unstyled},e),...t})});cm.displayName="@mantine/core/ModalBaseHeader";const nD={duration:200,timingFunction:"ease",transition:"fade"};function sD(e){const t=ss();return{...nD,...t.transitionProps,...e}}const lm=L.forwardRef(({onClick:e,transitionProps:t,style:r,visible:s,...i},a)=>{const c=ss(),u=sD(t);return k.jsx(zs,{mounted:s!==void 0?s:c.opened,...u,transition:"fade",children:p=>k.jsx(Ru,{ref:a,fixed:!0,style:[r,p],zIndex:c.zIndex,unstyled:c.unstyled,onClick:h=>{e==null||e(h),c.closeOnClickOutside&&c.onClose()},...i})})});lm.displayName="@mantine/core/ModalBaseOverlay";function oD(){const e=ss();return L.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const um=L.forwardRef(({className:e,...t},r)=>{const s=oD(),i=ss();return k.jsx(ne,{component:"h2",ref:r,className:qt({[pi.title]:!i.unstyled},e),...t,id:s})});um.displayName="@mantine/core/ModalBaseTitle";function Kb({children:e}){return k.jsx(k.Fragment,{children:e})}const[iD,aD]=du({size:"sm"}),cD={},Yb=fe((e,t)=>{const r=ie("InputClearButton",cD,e),{size:s,variant:i,vars:a,classNames:c,styles:u,...p}=r,h=aD(),{resolvedClassNames:y,resolvedStyles:v}=qa({classNames:c,styles:u,props:r});return k.jsx(Ya,{variant:i||"transparent",ref:t,size:s||(h==null?void 0:h.size)||"sm",classNames:y,styles:v,__staticSelector:"InputClearButton",...p})});Yb.displayName="@mantine/core/InputClearButton";const[lD,Tu]=du({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Fr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Iw={},uD=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${tr(t)} - ${te(2)})`}}),ku=fe((e,t)=>{const r=ie("InputDescription",Iw,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,size:h,__staticSelector:y,__inheritStyles:v=!0,variant:w,...S}=ie("InputDescription",Iw,r),b=Tu(),E=Te({name:["InputWrapper",y],props:r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,rootSelector:"description",vars:p,varsResolver:uD}),C=v&&(b==null?void 0:b.getStyles)||E;return k.jsx(ne,{component:"p",ref:t,variant:w,size:h,...C("description",b!=null&&b.getStyles?{className:i,style:a}:void 0),...S})});ku.classes=Fr;ku.displayName="@mantine/core/InputDescription";const dD={},fD=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${tr(t)} - ${te(2)})`}}),Pu=fe((e,t)=>{const r=ie("InputError",dD,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,size:h,__staticSelector:y,__inheritStyles:v=!0,variant:w,...S}=r,b=Te({name:["InputWrapper",y],props:r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,rootSelector:"error",vars:p,varsResolver:fD}),E=Tu(),C=v&&(E==null?void 0:E.getStyles)||b;return k.jsx(ne,{component:"p",ref:t,variant:w,size:h,...C("error",E!=null&&E.getStyles?{className:i,style:a}:void 0),...S})});Pu.classes=Fr;Pu.displayName="@mantine/core/InputError";const jw={labelElement:"label"},pD=(e,{size:t})=>({label:{"--input-label-size":tr(t),"--input-asterisk-color":void 0}}),Du=fe((e,t)=>{const r=ie("InputLabel",jw,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,labelElement:h,size:y,required:v,htmlFor:w,onMouseDown:S,children:b,__staticSelector:E,variant:C,mod:R,..._}=ie("InputLabel",jw,r),f=Te({name:["InputWrapper",E],props:r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,rootSelector:"label",vars:p,varsResolver:pD}),d=Tu(),g=(d==null?void 0:d.getStyles)||f;return k.jsxs(ne,{...g("label",d!=null&&d.getStyles?{className:i,style:a}:void 0),component:h,variant:C,size:y,ref:t,htmlFor:h==="label"?w:void 0,mod:[{required:v},R],onMouseDown:x=>{S==null||S(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[b,v&&k.jsx("span",{...g("required"),"aria-hidden":!0,children:" *"})]})});Du.classes=Fr;Du.displayName="@mantine/core/InputLabel";const Ow={},dm=fe((e,t)=>{const r=ie("InputPlaceholder",Ow,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,__staticSelector:h,variant:y,error:v,mod:w,...S}=ie("InputPlaceholder",Ow,r),b=Te({name:["InputPlaceholder",h],props:r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,rootSelector:"placeholder"});return k.jsx(ne,{...b("placeholder"),mod:[{error:!!v},w],component:"span",variant:y,ref:t,...S})});dm.classes=Fr;dm.displayName="@mantine/core/InputPlaceholder";function hD(e,{hasDescription:t,hasError:r}){const s=e.findIndex(p=>p==="input"),i=e.slice(0,s),a=e.slice(s+1),c=t&&i.includes("description")||r&&i.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const mD={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},gD=(e,{size:t})=>({label:{"--input-label-size":tr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${tr(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${tr(t)} - ${te(2)})`}}),fm=fe((e,t)=>{const r=ie("InputWrapper",mD,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,size:h,variant:y,__staticSelector:v,inputContainer:w,inputWrapperOrder:S,label:b,error:E,description:C,labelProps:R,descriptionProps:_,errorProps:f,labelElement:d,children:g,withAsterisk:x,id:P,required:M,__stylesApiProps:j,mod:I,...A}=r,N=Te({name:["InputWrapper",v],props:j||r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:gD}),V={size:h,variant:y,__staticSelector:v},W=go(P),J=typeof x=="boolean"?x:M,O=(f==null?void 0:f.id)||`${W}-error`,B=(_==null?void 0:_.id)||`${W}-description`,F=W,z=!!E&&typeof E!="boolean",G=!!C,U=`${z?O:""} ${G?B:""}`,X=U.trim().length>0?U.trim():void 0,ce=(R==null?void 0:R.id)||`${W}-label`,pe=b&&k.jsx(Du,{labelElement:d,id:ce,htmlFor:F,required:J,...V,...R,children:b},"label"),ee=G&&k.jsx(ku,{..._,...V,size:(_==null?void 0:_.size)||V.size,id:(_==null?void 0:_.id)||B,children:C},"description"),le=k.jsx(L.Fragment,{children:w(g)},"input"),ue=z&&L.createElement(Pu,{...f,...V,size:(f==null?void 0:f.size)||V.size,key:"error",id:(f==null?void 0:f.id)||O},E),Se=S.map(me=>{switch(me){case"label":return pe;case"input":return le;case"description":return ee;case"error":return ue;default:return null}});return k.jsx(lD,{value:{getStyles:N,describedBy:X,inputId:F,labelId:ce,...hD(S,{hasDescription:G,hasError:z})},children:k.jsx(ne,{ref:t,variant:y,size:h,mod:[{error:!!E},I],...N("root"),...A,children:Se})})});fm.classes=Fr;fm.displayName="@mantine/core/InputWrapper";const vD={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},yD=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ve(t.size,"input-height"),"--input-fz":tr(t.size),"--input-radius":t.radius===void 0?void 0:Ft(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ve(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Gt=Kt((e,t)=>{const r=ie("Input",vD,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,required:p,__staticSelector:h,__stylesApiProps:y,size:v,wrapperProps:w,error:S,disabled:b,leftSection:E,leftSectionProps:C,leftSectionWidth:R,rightSection:_,rightSectionProps:f,rightSectionWidth:d,rightSectionPointerEvents:g,leftSectionPointerEvents:x,variant:P,vars:M,pointer:j,multiline:I,radius:A,id:N,withAria:V,withErrorStyles:W,mod:J,inputSize:O,__clearSection:B,__clearable:F,__defaultRightSection:z,...G}=r,{styleProps:U,rest:X}=gu(G),ce=Tu(),pe={offsetBottom:ce==null?void 0:ce.offsetBottom,offsetTop:ce==null?void 0:ce.offsetTop},ee=Te({name:["Input",h],props:y||r,classes:Fr,className:i,style:a,classNames:s,styles:c,unstyled:u,stylesCtx:pe,rootSelector:"wrapper",vars:M,varsResolver:yD}),le=V?{required:p,disabled:b,"aria-invalid":!!S,"aria-describedby":ce==null?void 0:ce.describedBy,id:(ce==null?void 0:ce.inputId)||N}:{},ue=_||F&&B||z;return k.jsx(iD,{value:{size:v||"sm"},children:k.jsxs(ne,{...ee("wrapper"),...U,...w,mod:[{error:!!S&&W,pointer:j,disabled:b,multiline:I,"data-with-right-section":!!ue,"data-with-left-section":!!E},J],variant:P,size:v,children:[E&&k.jsx("div",{...C,"data-position":"left",...ee("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:E}),k.jsx(ne,{component:"input",...X,...le,ref:t,required:p,mod:{disabled:b,error:!!S&&W},variant:P,__size:O,...ee("input")}),ue&&k.jsx("div",{...f,"data-position":"right",...ee("section",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),children:ue})]})})});Gt.classes=Fr;Gt.Wrapper=fm;Gt.Label=Du;Gt.Error=Pu;Gt.Description=ku;Gt.Placeholder=dm;Gt.ClearButton=Yb;Gt.displayName="@mantine/core/Input";function wD(e,t,r){const s=ie(e,t,r),{label:i,description:a,error:c,required:u,classNames:p,styles:h,className:y,unstyled:v,__staticSelector:w,__stylesApiProps:S,errorProps:b,labelProps:E,descriptionProps:C,wrapperProps:R,id:_,size:f,style:d,inputContainer:g,inputWrapperOrder:x,withAsterisk:P,variant:M,vars:j,mod:I,...A}=s,{styleProps:N,rest:V}=gu(A),W={label:i,description:a,error:c,required:u,classNames:p,className:y,__staticSelector:w,__stylesApiProps:S||s,errorProps:b,labelProps:E,descriptionProps:C,unstyled:v,styles:h,size:f,style:d,inputContainer:g,inputWrapperOrder:x,withAsterisk:P,variant:M,id:_,mod:I,...R};return{...V,classNames:p,styles:h,unstyled:v,wrapperProps:{...W,...N},inputProps:{required:u,classNames:p,styles:h,unstyled:v,size:f,__staticSelector:w,__stylesApiProps:S||s,error:c,variant:M,id:_}}}const SD={__staticSelector:"InputBase",withAria:!0},os=Kt((e,t)=>{const{inputProps:r,wrapperProps:s,...i}=wD("InputBase",SD,e);return k.jsx(Gt.Wrapper,{...s,children:k.jsx(Gt,{...r,...i,ref:t})})});os.classes={...Gt.classes,...Gt.Wrapper.classes};os.displayName="@mantine/core/InputBase";const _D={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Xb={root:"m_8bffd616"};const bD={},Nn=Kt((e,t)=>{const r=ie("Flex",bD,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,gap:h,rowGap:y,columnGap:v,align:w,justify:S,wrap:b,direction:E,...C}=r,R=Te({name:"Flex",classes:Xb,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p}),_=pr(),f=Bh(),d=rb({styleProps:{gap:h,rowGap:y,columnGap:v,align:w,justify:S,wrap:b,direction:E},theme:_,data:_D});return k.jsxs(k.Fragment,{children:[d.hasResponsiveStyles&&k.jsx(mu,{selector:`.${f}`,styles:d.styles,media:d.media}),k.jsx(ne,{ref:t,...R("root",{className:f,style:gi(d.inlineStyles)}),...C})]})});Nn.classes=Xb;Nn.displayName="@mantine/core/Flex";function Qb({style:e,size:t=16,...r}){return k.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:te(t),height:te(t),display:"block"},...r,children:k.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}Qb.displayName="@mantine/core/AccordionChevron";var Zb={root:"m_b6d8b162"};function xD(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const CD={inherit:!1},RD=(e,{variant:t,lineClamp:r,gradient:s,size:i,color:a})=>({root:{"--text-fz":tr(i),"--text-lh":vE(i),"--text-gradient":t==="gradient"?eh(s,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?Or(a,e):void 0}}),Xe=Kt((e,t)=>{const r=ie("Text",CD,e),{lineClamp:s,truncate:i,inline:a,inherit:c,gradient:u,span:p,__staticSelector:h,vars:y,className:v,style:w,classNames:S,styles:b,unstyled:E,variant:C,mod:R,size:_,...f}=r,d=Te({name:["Text",h],props:r,classes:Zb,className:v,style:w,classNames:S,styles:b,unstyled:E,vars:y,varsResolver:RD});return k.jsx(ne,{...d("root",{focusable:!0}),ref:t,component:p?"span":"p",variant:C,mod:[{"data-truncate":xD(i),"data-line-clamp":typeof s=="number","data-inline":a,"data-inherit":c},R],size:_,...f})});Xe.classes=Zb;Xe.displayName="@mantine/core/Text";function Jb(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Jb(t))}:e}function ED(e){return e?e.map(t=>Jb(t)):[]}function e0(e){return e.reduce((t,r)=>"group"in r?{...t,...e0(r.items)}:(t[r.value]=r,t),{})}var fr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const TD={error:null},kD=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ve(t,"combobox-chevron-size"),"--combobox-chevron-color":r?Or(r,e):void 0}}),pm=fe((e,t)=>{const r=ie("ComboboxChevron",TD,e),{size:s,error:i,style:a,className:c,classNames:u,styles:p,unstyled:h,vars:y,mod:v,...w}=r,S=Te({name:"ComboboxChevron",classes:fr,props:r,style:a,className:c,classNames:u,styles:p,unstyled:h,vars:y,varsResolver:kD,rootSelector:"chevron"});return k.jsx(ne,{component:"svg",...w,...S("chevron"),size:s,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},v],ref:t,children:k.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});pm.classes=fr;pm.displayName="@mantine/core/ComboboxChevron";const[PD,zr]=wn("Combobox component was not found in tree"),t0=L.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:s,...i},a)=>k.jsx(Gt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{s(),r==null||r(c)}}));t0.displayName="@mantine/core/ComboboxClearButton";const DD={},hm=fe((e,t)=>{const{classNames:r,styles:s,className:i,style:a,hidden:c,...u}=ie("ComboboxDropdown",DD,e),p=zr();return k.jsx(Sn.Dropdown,{...u,ref:t,role:"presentation","data-hidden":c||void 0,...p.getStyles("dropdown",{className:i,style:a,classNames:r,styles:s})})});hm.classes=fr;hm.displayName="@mantine/core/ComboboxDropdown";const MD={refProp:"ref"},r0=fe((e,t)=>{const{children:r,refProp:s}=ie("ComboboxDropdownTarget",MD,e);if(zr(),!vi(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return k.jsx(Sn.Target,{ref:t,refProp:s,children:r})});r0.displayName="@mantine/core/ComboboxDropdownTarget";const LD={},mm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,...u}=ie("ComboboxEmpty",LD,e),p=zr();return k.jsx(ne,{ref:t,...p.getStyles("empty",{className:s,classNames:r,styles:a,style:i}),...u})});mm.classes=fr;mm.displayName="@mantine/core/ComboboxEmpty";function gm({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:s,targetType:i,autoComplete:a}){const c=zr(),[u,p]=L.useState(null),h=v=>{if(e==null||e(v),!c.readOnly&&t){if(v.nativeEvent.isComposing)return;if(v.nativeEvent.code==="ArrowDown"&&(v.preventDefault(),c.store.dropdownOpened?p(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),p(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="ArrowUp"&&(v.preventDefault(),c.store.dropdownOpened?p(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),p(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="Enter"||v.nativeEvent.code==="NumpadEnter"){if(v.nativeEvent.keyCode===229)return;const w=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&w!==-1?(v.preventDefault(),c.store.clickSelectedOption()):i==="button"&&(v.preventDefault(),c.store.openDropdown("keyboard"))}v.key==="Escape"&&c.store.closeDropdown("keyboard"),v.nativeEvent.code==="Space"&&i==="button"&&(v.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":s&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&u||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:h}}const ID={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},n0=fe((e,t)=>{const{children:r,refProp:s,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:p,...h}=ie("ComboboxEventsTarget",ID,e);if(!vi(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=zr(),v=gm({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:p});return L.cloneElement(r,{...v,...h,[s]:rr(t,y.store.targetRef,G_(r))})});n0.displayName="@mantine/core/ComboboxEventsTarget";const jD={},vm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,...u}=ie("ComboboxFooter",jD,e),p=zr();return k.jsx(ne,{ref:t,...p.getStyles("footer",{className:s,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});vm.classes=fr;vm.displayName="@mantine/core/ComboboxFooter";const OD={},ym=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,children:u,label:p,...h}=ie("ComboboxGroup",OD,e),y=zr();return k.jsxs(ne,{ref:t,...y.getStyles("group",{className:s,classNames:r,style:i,styles:a}),...h,children:[p&&k.jsx("div",{...y.getStyles("groupLabel",{classNames:r,styles:a}),children:p}),u]})});ym.classes=fr;ym.displayName="@mantine/core/ComboboxGroup";const ND={},wm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,...u}=ie("ComboboxHeader",ND,e),p=zr();return k.jsx(ne,{ref:t,...p.getStyles("header",{className:s,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});wm.classes=fr;wm.displayName="@mantine/core/ComboboxHeader";function s0({value:e,valuesDivider:t=",",...r}){return k.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}s0.displayName="@mantine/core/ComboboxHiddenInput";const AD={},Sm=fe((e,t)=>{const r=ie("ComboboxOption",AD,e),{classNames:s,className:i,style:a,styles:c,vars:u,onClick:p,id:h,active:y,onMouseDown:v,onMouseOver:w,disabled:S,selected:b,mod:E,...C}=r,R=zr(),_=L.useId(),f=h||_;return k.jsx(ne,{...R.getStyles("option",{className:i,classNames:s,styles:c,style:a}),...C,ref:t,id:f,mod:["combobox-option",{"combobox-active":y,"combobox-disabled":S,"combobox-selected":b},E],role:"option",onClick:d=>{var g;S?d.preventDefault():((g=R.onOptionSubmit)==null||g.call(R,r.value,r),p==null||p(d))},onMouseDown:d=>{d.preventDefault(),v==null||v(d)},onMouseOver:d=>{R.resetSelectionOnOptionHover&&R.store.resetSelectedOption(),w==null||w(d)}})});Sm.classes=fr;Sm.displayName="@mantine/core/ComboboxOption";const $D={},_m=fe((e,t)=>{const r=ie("ComboboxOptions",$D,e),{classNames:s,className:i,style:a,styles:c,id:u,onMouseDown:p,labelledBy:h,...y}=r,v=zr(),w=go(u);return L.useEffect(()=>{v.store.setListId(w)},[w]),k.jsx(ne,{ref:t,...v.getStyles("options",{className:i,style:a,classNames:s,styles:c}),...y,id:w,role:"listbox","aria-labelledby":h,onMouseDown:S=>{S.preventDefault(),p==null||p(S)}})});_m.classes=fr;_m.displayName="@mantine/core/ComboboxOptions";const FD={withAriaAttributes:!0,withKeyboardNavigation:!0},bm=fe((e,t)=>{const r=ie("ComboboxSearch",FD,e),{classNames:s,styles:i,unstyled:a,vars:c,withAriaAttributes:u,onKeyDown:p,withKeyboardNavigation:h,size:y,...v}=r,w=zr(),S=w.getStyles("search"),b=gm({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:p,autoComplete:"off"});return k.jsx(Gt,{ref:rr(t,w.store.searchRef),classNames:[{input:S.className},s],styles:[{input:S.style},i],size:y||w.size,...b,...v,__staticSelector:"Combobox"})});bm.classes=fr;bm.displayName="@mantine/core/ComboboxSearch";const zD={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},o0=fe((e,t)=>{const{children:r,refProp:s,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:p,...h}=ie("ComboboxTarget",zD,e);if(!vi(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=zr(),v=gm({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:p}),w=L.cloneElement(r,{...v,...h});return k.jsx(Sn.Target,{ref:rr(t,y.store.targetRef),children:w})});o0.displayName="@mantine/core/ComboboxTarget";function BD(e,t,r){for(let s=e-1;s>=0;s-=1)if(!t[s].hasAttribute("data-combobox-disabled"))return s;if(r){for(let s=t.length-1;s>-1;s-=1)if(!t[s].hasAttribute("data-combobox-disabled"))return s}return e}function UD(e,t,r){for(let s=e+1;s<t.length;s+=1)if(!t[s].hasAttribute("data-combobox-disabled"))return s;if(r){for(let s=0;s<t.length;s+=1)if(!t[s].hasAttribute("data-combobox-disabled"))return s}return e}function VD(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function i0({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:s,onDropdownOpen:i,loop:a=!0,scrollBehavior:c="instant"}={}){const[u,p]=Zn({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=L.useRef(null),y=L.useRef(-1),v=L.useRef(null),w=L.useRef(null),S=L.useRef(-1),b=L.useRef(-1),E=L.useRef(-1),C=L.useCallback((O="unknown")=>{u||(p(!0),i==null||i(O))},[p,i,u]),R=L.useCallback((O="unknown")=>{u&&(p(!1),s==null||s(O))},[p,s,u]),_=L.useCallback((O="unknown")=>{u?R(O):C(O)},[R,C,u]),f=L.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),d=L.useCallback(O=>{const B=document.getElementById(h.current),F=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=O>=F.length?0:O<0?F.length-1:O;return y.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(f(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:c}),F[z].id):null},[c,f]),g=L.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-active]`);if(O){const B=document.querySelectorAll(`#${h.current} [data-combobox-option]`),F=Array.from(B).findIndex(z=>z===O);return d(F)}return d(0)},[d]),x=L.useCallback(()=>d(UD(y.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[d,a]),P=L.useCallback(()=>d(BD(y.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[d,a]),M=L.useCallback(()=>d(VD(document.querySelectorAll(`#${h.current} [data-combobox-option]`))),[d]),j=L.useCallback((O="selected",B)=>{E.current=window.setTimeout(()=>{var G;const F=document.querySelectorAll(`#${h.current} [data-combobox-option]`),z=Array.from(F).findIndex(U=>U.hasAttribute(`data-combobox-${O}`));y.current=z,B!=null&&B.scrollIntoView&&((G=F[z])==null||G.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),I=L.useCallback(()=>{y.current=-1,f()},[f]),A=L.useCallback(()=>{const O=document.querySelectorAll(`#${h.current} [data-combobox-option]`),B=O==null?void 0:O[y.current];B==null||B.click()},[]),N=L.useCallback(O=>{h.current=O},[]),V=L.useCallback(()=>{S.current=window.setTimeout(()=>v.current.focus(),0)},[]),W=L.useCallback(()=>{b.current=window.setTimeout(()=>w.current.focus(),0)},[]),J=L.useCallback(()=>y.current,[]);return L.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(b.current),window.clearTimeout(E.current)},[]),{dropdownOpened:u,openDropdown:C,closeDropdown:R,toggleDropdown:_,selectedOptionIndex:y.current,getSelectedOptionIndex:J,selectOption:d,selectFirstOption:M,selectActiveOption:g,selectNextOption:x,selectPreviousOption:P,resetSelectedOption:I,updateSelectedOptionIndex:j,listId:h.current,setListId:N,clickSelectedOption:A,searchRef:v,focusSearchInput:V,targetRef:w,focusTarget:W}}const HD={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},WD=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":tr(t),"--combobox-option-padding":Ve(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:te(r),"--combobox-option-fz":tr(t),"--combobox-option-padding":Ve(t,"combobox-option-padding")}});function Ge(e){const t=ie("Combobox",HD,e),{classNames:r,styles:s,unstyled:i,children:a,store:c,vars:u,onOptionSubmit:p,onClose:h,size:y,dropdownPadding:v,resetSelectionOnOptionHover:w,__staticSelector:S,readOnly:b,...E}=t,C=i0(),R=c||C,_=Te({name:S||"Combobox",classes:fr,props:t,classNames:r,styles:s,unstyled:i,vars:u,varsResolver:WD}),f=()=>{h==null||h(),R.closeDropdown()};return k.jsx(PD,{value:{getStyles:_,store:R,onOptionSubmit:p,size:y,resetSelectionOnOptionHover:w,readOnly:b},children:k.jsx(Sn,{opened:R.dropdownOpened,...E,onChange:d=>!d&&f(),withRoles:!1,unstyled:i,children:a})})}const qD=e=>e;Ge.extend=qD;Ge.classes=fr;Ge.displayName="@mantine/core/Combobox";Ge.Target=o0;Ge.Dropdown=hm;Ge.Options=_m;Ge.Option=Sm;Ge.Search=bm;Ge.Empty=mm;Ge.Chevron=pm;Ge.Footer=vm;Ge.Header=wm;Ge.EventsTarget=n0;Ge.DropdownTarget=r0;Ge.Group=ym;Ge.ClearButton=t0;Ge.HiddenInput=s0;function GD({size:e,style:t,...r}){const s=e!==void 0?{width:te(e),height:te(e),...t}:t;return k.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:s,"aria-hidden":!0,...r,children:k.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Fa(e){return"group"in e}function a0({options:e,search:t,limit:r}){const s=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(i.length===r)return i;Fa(c)&&i.push({group:c.group,items:a0({options:c.items,search:t,limit:r-i.length})}),Fa(c)||c.label.toLowerCase().includes(s)&&i.push(c)}return i}function KD(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function c0(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Fa(r))c0(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function YD(e,t){return Array.isArray(e)?e.includes(t):e===t}function l0({data:e,withCheckIcon:t,value:r,checkIconPosition:s,unstyled:i,renderOption:a}){if(!Fa(e)){const u=YD(r,e.value),p=t&&u&&k.jsx(GD,{className:fr.optionsDropdownCheckIcon}),h=k.jsxs(k.Fragment,{children:[s==="left"&&p,k.jsx("span",{children:e.label}),s==="right"&&p]});return k.jsx(Ge.Option,{value:e.value,disabled:e.disabled,className:qt({[fr.optionsDropdownOption]:!i}),"data-reverse":s==="right"||void 0,"data-checked":u||void 0,"aria-selected":u,active:u,children:typeof a=="function"?a({option:e,checked:u}):h})}const c=e.items.map(u=>k.jsx(l0,{data:u,value:r,unstyled:i,withCheckIcon:t,checkIconPosition:s,renderOption:a},u.value));return k.jsx(Ge.Group,{label:e.group,children:c})}function XD({data:e,hidden:t,hiddenWhenEmpty:r,filter:s,search:i,limit:a,maxDropdownHeight:c,withScrollArea:u=!0,filterOptions:p=!0,withCheckIcon:h=!1,value:y,checkIconPosition:v,nothingFoundMessage:w,unstyled:S,labelId:b,renderOption:E,scrollAreaProps:C,"aria-label":R}){c0(e);const f=typeof i=="string"?(s||a0)({options:e,search:p?i:"",limit:a??1/0}):e,d=KD(f),g=f.map(x=>k.jsx(l0,{data:x,withCheckIcon:h,value:y,checkIconPosition:v,unstyled:S,renderOption:E},Fa(x)?x.group:x.value));return k.jsx(Ge.Dropdown,{hidden:t||r&&d,"data-composed":!0,children:k.jsxs(Ge.Options,{labelledBy:b,"aria-label":R,children:[u?k.jsx($r.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:g}):g,d&&w&&k.jsx(Ge.Empty,{children:w})]})})}const u0=L.createContext(null),QD=u0.Provider;function ZD(){return{withinGroup:!!L.useContext(u0)}}var Mu={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const JD={},e2=(e,{spacing:t})=>({group:{"--ag-spacing":Jt(t)}}),xm=fe((e,t)=>{const r=ie("AvatarGroup",JD,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,spacing:h,...y}=r,v=Te({name:"AvatarGroup",classes:Mu,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:e2,rootSelector:"group"});return k.jsx(QD,{value:!0,children:k.jsx(ne,{ref:t,...v("group"),...y})})});xm.classes=Mu;xm.displayName="@mantine/core/AvatarGroup";function t2(e){return k.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function r2(e){let t=0;for(let r=0;r<e.length;r+=1){const s=e.charCodeAt(r);t=(t<<5)-t+s,t|=0}return t}const n2=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function s2(e,t=n2){const r=r2(e),s=Math.abs(r)%t.length;return t[s]}function o2(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(s=>s[0]).slice(0,t).join("").toUpperCase()}const i2={},a2=(e,{size:t,radius:r,variant:s,gradient:i,color:a,autoContrast:c,name:u,allowedInitialsColors:p})=>{const h=a==="initials"&&typeof u=="string"?s2(u,p):a,y=e.variantColorResolver({color:h||"gray",theme:e,gradient:i,variant:s||"light",autoContrast:c});return{root:{"--avatar-size":Ve(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Ft(r),"--avatar-bg":h||s?y.background:void 0,"--avatar-color":h||s?y.color:void 0,"--avatar-bd":h||s?y.border:void 0}}},_n=Kt((e,t)=>{const r=ie("Avatar",i2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,src:h,alt:y,radius:v,color:w,gradient:S,imageProps:b,children:E,autoContrast:C,mod:R,name:_,allowedInitialsColors:f,...d}=r,g=ZD(),[x,P]=L.useState(!h),M=Te({name:"Avatar",props:r,classes:Mu,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:a2});return L.useEffect(()=>P(!h),[h]),k.jsx(ne,{...M("root"),mod:[{"within-group":g.withinGroup},R],ref:t,...d,children:x?k.jsx("span",{...M("placeholder"),title:y,children:E||typeof _=="string"&&o2(_)||k.jsx(t2,{})}):k.jsx("img",{...b,...M("image"),src:h,alt:y,onError:j=>{var I;P(!0),(I=b==null?void 0:b.onError)==null||I.call(b,j)}})})});_n.classes=Mu;_n.displayName="@mantine/core/Avatar";_n.Group=xm;var d0={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const c2={},l2=(e,{radius:t,color:r,gradient:s,variant:i,size:a,autoContrast:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:s,variant:i||"filled",autoContrast:c});return{root:{"--badge-height":Ve(a,"badge-height"),"--badge-padding-x":Ve(a,"badge-padding-x"),"--badge-fz":Ve(a,"badge-fz"),"--badge-radius":t===void 0?void 0:Ft(t),"--badge-bg":r||i?u.background:void 0,"--badge-color":r||i?u.color:void 0,"--badge-bd":r||i?u.border:void 0,"--badge-dot-color":i==="dot"?Or(r,e):void 0}}},Xa=Kt((e,t)=>{const r=ie("Badge",c2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,radius:h,color:y,gradient:v,leftSection:w,rightSection:S,children:b,variant:E,fullWidth:C,autoContrast:R,circle:_,mod:f,...d}=r,g=Te({name:"Badge",props:r,classes:d0,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:l2});return k.jsxs(ne,{variant:E,mod:[{block:C,circle:_,"with-right-section":!!S,"with-left-section":!!w},f],...g("root",{variant:E}),ref:t,...d,children:[w&&k.jsx("span",{...g("section"),"data-position":"left",children:w}),k.jsx("span",{...g("label"),children:b}),S&&k.jsx("span",{...g("section"),"data-position":"right",children:S})]})});Xa.classes=d0;Xa.displayName="@mantine/core/Badge";var xi={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Nw={orientation:"horizontal"},u2=(e,{borderWidth:t})=>({group:{"--button-border-width":te(t)}}),Cm=fe((e,t)=>{const r=ie("ButtonGroup",Nw,e),{className:s,style:i,classNames:a,styles:c,unstyled:u,orientation:p,vars:h,borderWidth:y,variant:v,mod:w,...S}=ie("ButtonGroup",Nw,e),b=Te({name:"ButtonGroup",props:r,classes:xi,className:s,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:u2,rootSelector:"group"});return k.jsx(ne,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":p},w],role:"group",...S})});Cm.classes=xi;Cm.displayName="@mantine/core/ButtonGroup";const Aw={},d2=(e,{radius:t,color:r,gradient:s,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:s,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Ve(c,"section-height"),"--section-padding-x":Ve(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?tr(c.replace("compact-","")):tr(c),"--section-radius":t===void 0?void 0:Ft(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},Rm=fe((e,t)=>{const r=ie("ButtonGroupSection",Aw,e),{className:s,style:i,classNames:a,styles:c,unstyled:u,vars:p,variant:h,gradient:y,radius:v,autoContrast:w,...S}=ie("ButtonGroupSection",Aw,e),b=Te({name:"ButtonGroupSection",props:r,classes:xi,className:s,style:i,classNames:a,styles:c,unstyled:u,vars:p,varsResolver:d2,rootSelector:"groupSection"});return k.jsx(ne,{...b("groupSection"),ref:t,variant:h,...S})});Rm.classes=xi;Rm.displayName="@mantine/core/ButtonGroupSection";const f2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},p2={},h2=(e,{radius:t,color:r,gradient:s,variant:i,size:a,justify:c,autoContrast:u})=>{const p=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:s,variant:i||"filled",autoContrast:u});return{root:{"--button-justify":c,"--button-height":Ve(a,"button-height"),"--button-padding-x":Ve(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?tr(a.replace("compact-","")):tr(a),"--button-radius":t===void 0?void 0:Ft(t),"--button-bg":r||i?p.background:void 0,"--button-hover":r||i?p.hover:void 0,"--button-color":p.color,"--button-bd":r||i?p.border:void 0,"--button-hover-color":r||i?p.hoverColor:void 0}}},Ke=Kt((e,t)=>{const r=ie("Button",p2,e),{style:s,vars:i,className:a,color:c,disabled:u,children:p,leftSection:h,rightSection:y,fullWidth:v,variant:w,radius:S,loading:b,loaderProps:E,gradient:C,classNames:R,styles:_,unstyled:f,"data-disabled":d,autoContrast:g,mod:x,...P}=r,M=Te({name:"Button",props:r,classes:xi,className:a,style:s,classNames:R,styles:_,unstyled:f,vars:i,varsResolver:h2}),j=!!h,I=!!y;return k.jsxs(Fs,{ref:t,...M("root",{active:!u&&!b&&!d}),unstyled:f,variant:w,disabled:u||b,mod:[{disabled:u||d,loading:b,block:v,"with-left-section":j,"with-right-section":I},x],...P,children:[k.jsx(zs,{mounted:!!b,transition:f2,duration:150,children:A=>k.jsx(ne,{component:"span",...M("loader",{style:A}),"aria-hidden":!0,children:k.jsx(_i,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),k.jsxs("span",{...M("inner"),children:[h&&k.jsx(ne,{component:"span",...M("section"),mod:{position:"left"},children:h}),k.jsx(ne,{component:"span",mod:{loading:b},...M("label"),children:p}),y&&k.jsx(ne,{component:"span",...M("section"),mod:{position:"right"},children:y})]})]})});Ke.classes=xi;Ke.displayName="@mantine/core/Button";Ke.Group=Cm;Ke.GroupSection=Rm;const[m2,g2]=wn("Card component was not found in tree");var Em={root:"m_e615b15f",section:"m_599a2148"};const v2={},Lu=Kt((e,t)=>{const r=ie("CardSection",v2,e),{classNames:s,className:i,style:a,styles:c,vars:u,withBorder:p,inheritPadding:h,mod:y,...v}=r,w=g2();return k.jsx(ne,{ref:t,mod:[{"with-border":p,"inherit-padding":h},y],...w.getStyles("section",{className:i,style:a,styles:c,classNames:s}),...v})});Lu.classes=Em;Lu.displayName="@mantine/core/CardSection";const y2={},w2=(e,{padding:t})=>({root:{"--card-padding":Jt(t)}}),Qa=Kt((e,t)=>{const r=ie("Card",y2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,children:h,padding:y,...v}=r,w=Te({name:"Card",props:r,classes:Em,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:w2}),S=L.Children.toArray(h),b=S.map((E,C)=>typeof E=="object"&&E&&"type"in E&&E.type===Lu?L.cloneElement(E,{"data-first-section":C===0||void 0,"data-last-section":C===S.length-1||void 0}):E);return k.jsx(m2,{value:{getStyles:w},children:k.jsx(Cu,{ref:t,unstyled:u,...w("root"),...v,children:b})})});Qa.classes=Em;Qa.displayName="@mantine/core/Card";Qa.Section=Lu;var f0={root:"m_3eebeb36",label:"m_9e365f20"};const S2={orientation:"horizontal"},_2=(e,{color:t,variant:r,size:s})=>({root:{"--divider-color":t?Or(t,e):void 0,"--divider-border-style":r,"--divider-size":Ve(s,"divider-size")}}),yn=fe((e,t)=>{const r=ie("Divider",S2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,color:h,orientation:y,label:v,labelPosition:w,mod:S,...b}=r,E=Te({name:"Divider",classes:f0,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:_2});return k.jsx(ne,{ref:t,mod:[{orientation:y,"with-label":!!v},S],...E("root"),...b,role:"separator",children:v&&k.jsx(ne,{component:"span",mod:{position:w},...E("label"),children:v})})});yn.classes=f0;yn.displayName="@mantine/core/Divider";const[b2,Ci]=wn("Drawer component was not found in tree");var is={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const x2={},Iu=fe((e,t)=>{const r=ie("DrawerBody",x2,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ci();return k.jsx(om,{ref:t,...h.getStyles("body",{classNames:s,style:a,styles:c,className:i}),...p})});Iu.classes=is;Iu.displayName="@mantine/core/DrawerBody";const C2={},ju=fe((e,t)=>{const r=ie("DrawerCloseButton",C2,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ci();return k.jsx(im,{ref:t,...h.getStyles("close",{classNames:s,style:a,styles:c,className:i}),...p})});ju.classes=is;ju.displayName="@mantine/core/DrawerCloseButton";const R2={},Ou=fe((e,t)=>{const r=ie("DrawerContent",R2,e),{classNames:s,className:i,style:a,styles:c,vars:u,children:p,radius:h,__hidden:y,...v}=r,w=Ci(),S=w.scrollAreaComponent||Kb;return k.jsx(am,{...w.getStyles("content",{className:i,style:a,styles:c,classNames:s}),innerProps:w.getStyles("inner",{className:i,style:a,styles:c,classNames:s}),ref:t,...v,radius:h||w.radius||0,"data-hidden":y||void 0,children:k.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:p})})});Ou.classes=is;Ou.displayName="@mantine/core/DrawerContent";const E2={},Nu=fe((e,t)=>{const r=ie("DrawerHeader",E2,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ci();return k.jsx(cm,{ref:t,...h.getStyles("header",{classNames:s,style:a,styles:c,className:i}),...p})});Nu.classes=is;Nu.displayName="@mantine/core/DrawerHeader";const T2={},Au=fe((e,t)=>{const r=ie("DrawerOverlay",T2,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ci();return k.jsx(lm,{ref:t,...h.getStyles("overlay",{classNames:s,style:a,styles:c,className:i}),...p})});Au.classes=is;Au.displayName="@mantine/core/DrawerOverlay";function k2(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function P2(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const D2={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},M2={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},L2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Nr("modal"),position:"left"},I2=(e,{position:t,size:r,offset:s})=>({root:{"--drawer-size":Ve(r,"drawer-size"),"--drawer-flex":P2(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":k2(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":te(s)}}),$u=fe((e,t)=>{const r=ie("DrawerRoot",L2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,scrollAreaComponent:h,position:y,transitionProps:v,radius:w,...S}=r,{dir:b}=vo(),E=Te({name:"Drawer",classes:is,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:I2}),C=(b==="rtl"?M2:D2)[y];return k.jsx(b2,{value:{scrollAreaComponent:h,getStyles:E,radius:w},children:k.jsx(sm,{ref:t,...E("root"),transitionProps:{transition:C,...v},unstyled:u,...S})})});$u.classes=is;$u.displayName="@mantine/core/DrawerRoot";const[j2,O2]=du();function p0({children:e}){const[t,r]=L.useState([]),[s,i]=L.useState(Nr("modal"));return k.jsx(j2,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${s} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:s},children:e})}p0.displayName="@mantine/core/DrawerStack";const N2={},Fu=fe((e,t)=>{const r=ie("DrawerTitle",N2,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ci();return k.jsx(um,{ref:t,...h.getStyles("title",{classNames:s,style:a,styles:c,className:i}),...p})});Fu.classes=is;Fu.displayName="@mantine/core/DrawerTitle";const A2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Nr("modal"),withOverlay:!0,withCloseButton:!0},Br=fe((e,t)=>{const{title:r,withOverlay:s,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,opened:p,stackId:h,zIndex:y,...v}=ie("Drawer",A2,e),w=O2(),S=!!r||a,b=w&&h?{closeOnEscape:w.currentId===h,trapFocus:w.currentId===h,zIndex:w.getZIndex(h)}:{},E=s===!1?!1:h&&w?w.currentId===h:p;return L.useEffect(()=>{w&&h&&(p?w.addModal(h,y||Nr("modal")):w.removeModal(h))},[p,h,y]),k.jsxs($u,{ref:t,opened:p,zIndex:w&&h?w.getZIndex(h):y,...v,...b,children:[s&&k.jsx(Au,{visible:E,transitionProps:w&&h?{duration:0}:void 0,...i}),k.jsxs(Ou,{__hidden:w&&h&&p?h!==w.currentId:!1,children:[S&&k.jsxs(Nu,{children:[r&&k.jsx(Fu,{children:r}),a&&k.jsx(ju,{...c})]}),k.jsx(Iu,{children:u})]})]})});Br.classes=is;Br.displayName="@mantine/core/Drawer";Br.Root=$u;Br.Overlay=Au;Br.Content=Ou;Br.Body=Iu;Br.Header=Nu;Br.Title=Fu;Br.CloseButton=ju;Br.Stack=p0;function $2({open:e,close:t,openDelay:r,closeDelay:s}){const i=L.useRef(-1),a=L.useRef(-1),c=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},u=()=>{c(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)},p=()=>{c(),s===0||s===void 0?t():a.current=window.setTimeout(t,s)};return L.useEffect(()=>c,[]),{openDropdown:u,closeDropdown:p}}function F2(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},s=te(t),[i,a]=e.split("-");return i==="top"&&(r["--indicator-top"]=s,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=s,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=s,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=s,r["--indicator-translate-x"]="50%"),r}var h0={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const z2={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},B2=(e,{color:t,position:r,offset:s,size:i,radius:a,zIndex:c,autoContrast:u})=>({root:{"--indicator-color":t?Or(t,e):void 0,"--indicator-text-color":tb(u,e)?Fh({color:t,theme:e,autoContrast:u}):void 0,"--indicator-size":te(i),"--indicator-radius":a===void 0?void 0:Ft(a),"--indicator-z-index":c==null?void 0:c.toString(),...F2(r,s)}}),Tm=fe((e,t)=>{const r=ie("Indicator",z2,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,children:h,position:y,offset:v,inline:w,label:S,radius:b,color:E,withBorder:C,disabled:R,processing:_,zIndex:f,autoContrast:d,mod:g,...x}=r,P=Te({name:"Indicator",classes:h0,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:B2});return k.jsxs(ne,{ref:t,...P("root"),mod:[{inline:w},g],...x,children:[!R&&k.jsx(ne,{mod:{"with-label":!!S,"with-border":C,processing:_},...P("indicator"),children:S}),h]})});Tm.classes=h0;Tm.displayName="@mantine/core/Indicator";function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jl.apply(null,arguments)}function km(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var U2=L.useLayoutEffect,V2=function(t){var r=$t.useRef(t);return U2(function(){r.current=t}),r},$w=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},H2=function(t,r){var s=$t.useRef();return $t.useCallback(function(i){t.current=i,s.current&&$w(s.current,null),s.current=r,r&&$w(r,i)},[r])},Fw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},W2=function(t){Object.keys(Fw).forEach(function(r){t.style.setProperty(r,Fw[r],"important")})},zw=W2,Qt=null,Bw=function(t,r){var s=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?s+r.borderSize:s-r.paddingSize};function q2(e,t,r,s){r===void 0&&(r=1),s===void 0&&(s=1/0),Qt||(Qt=document.createElement("textarea"),Qt.setAttribute("tabindex","-1"),Qt.setAttribute("aria-hidden","true"),zw(Qt)),Qt.parentNode===null&&document.body.appendChild(Qt);var i=e.paddingSize,a=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(w){var S=w;Qt.style[S]=c[S]}),zw(Qt),Qt.value=t;var p=Bw(Qt,e);Qt.value=t,p=Bw(Qt,e),Qt.value="x";var h=Qt.scrollHeight-i,y=h*r;u==="border-box"&&(y=y+i+a),p=Math.max(y,p);var v=h*s;return u==="border-box"&&(v=v+i+a),p=Math.min(v,p),[p,h]}var Uw=function(){},G2=function(t,r){return t.reduce(function(s,i){return s[i]=r[i],s},{})},K2=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Y2=!!document.documentElement.currentStyle,X2=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var s=G2(K2,r),i=s.boxSizing;if(i==="")return null;Y2&&i==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var a=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),c=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:a,borderSize:c}},Q2=X2;function m0(e,t,r){var s=V2(r);L.useLayoutEffect(function(){var i=function(c){return s.current(c)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Z2=function(t){m0(window,"resize",t)},J2=function(t){m0(document.fonts,"loadingdone",t)},eM=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],tM=function(t,r){var s=t.cacheMeasurements,i=t.maxRows,a=t.minRows,c=t.onChange,u=c===void 0?Uw:c,p=t.onHeightChange,h=p===void 0?Uw:p,y=km(t,eM),v=y.value!==void 0,w=L.useRef(null),S=H2(w,r),b=L.useRef(0),E=L.useRef(),C=function(){var f=w.current,d=s&&E.current?E.current:Q2(f);if(d){E.current=d;var g=q2(d,f.value||f.placeholder||"x",a,i),x=g[0],P=g[1];b.current!==x&&(b.current=x,f.style.setProperty("height",x+"px","important"),h(x,{rowHeight:P}))}},R=function(f){v||C(),u(f)};return L.useLayoutEffect(C),Z2(C),J2(C),L.createElement("textarea",Jl({},y,{onChange:R,ref:S}))},rM=L.forwardRef(tM);const nM={},zu=fe((e,t)=>{const{autosize:r,maxRows:s,minRows:i,__staticSelector:a,resize:c,...u}=ie("Textarea",nM,e),p=r&&BE()!=="test",h=p?{maxRows:s,minRows:i}:{};return k.jsx(os,{component:p?rM:"textarea",ref:t,...u,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&s===void 0||void 0,__vars:{"--input-resize":c},...h})});zu.classes=os.classes;zu.displayName="@mantine/core/Textarea";const[sM,Za]=wn("Menu component was not found in the tree");var Ri={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const oM={},Pm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,...u}=ie("MenuDivider",oM,e),p=Za();return k.jsx(ne,{ref:t,...p.getStyles("divider",{className:s,style:i,styles:a,classNames:r}),...u})});Pm.classes=Ri;Pm.displayName="@mantine/core/MenuDivider";const iM={},Dm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,onMouseEnter:u,onMouseLeave:p,onKeyDown:h,children:y,...v}=ie("MenuDropdown",iM,e),w=L.useRef(null),S=Za(),b=Ln(h,R=>{var _,f;(R.key==="ArrowUp"||R.key==="ArrowDown")&&(R.preventDefault(),(f=(_=w.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||f.focus())}),E=Ln(u,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),C=Ln(p,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return k.jsxs(Sn.Dropdown,{...v,onMouseEnter:E,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:rr(t,w),...S.getStyles("dropdown",{className:s,style:i,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[S.withInitialFocusPlaceholder&&k.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),y]})});Dm.classes=Ri;Dm.displayName="@mantine/core/MenuDropdown";const aM={},Mm=Kt((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,color:u,closeMenuOnClick:p,leftSection:h,rightSection:y,children:v,disabled:w,"data-disabled":S,...b}=ie("MenuItem",aM,e),E=Za(),C=pr(),{dir:R}=vo(),_=L.useRef(null),f=E.getItemIndex(_.current),d=b,g=Ln(d.onMouseLeave,()=>E.setHovered(-1)),x=Ln(d.onMouseEnter,()=>E.setHovered(E.getItemIndex(_.current))),P=Ln(d.onClick,()=>{S||(typeof p=="boolean"?p&&E.closeDropdownImmediately():E.closeOnItemClick&&E.closeDropdownImmediately())}),M=Ln(d.onFocus,()=>E.setHovered(E.getItemIndex(_.current))),j=u?C.variantColorResolver({color:u,theme:C,variant:"light"}):void 0,I=u?yi({color:u,theme:C}):null;return k.jsxs(Fs,{...b,unstyled:E.unstyled,tabIndex:E.menuItemTabIndex,onFocus:M,...E.getStyles("item",{className:s,style:i,styles:a,classNames:r}),ref:rr(_,t),role:"menuitem",disabled:w,"data-menu-item":!0,"data-disabled":w||S||void 0,"data-hovered":E.hovered===f?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:g,onClick:P,onKeyDown:z_({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:E.loop,dir:R,orientation:"vertical",onKeyDown:d.onKeyDown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:j==null?void 0:j.color,"--menu-item-hover":j==null?void 0:j.hover},children:[h&&k.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:h}),v&&k.jsx("div",{...E.getStyles("itemLabel",{styles:a,classNames:r}),children:v}),y&&k.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:y})]})});Mm.classes=Ri;Mm.displayName="@mantine/core/MenuItem";const cM={},Lm=fe((e,t)=>{const{classNames:r,className:s,style:i,styles:a,vars:c,...u}=ie("MenuLabel",cM,e),p=Za();return k.jsx(ne,{ref:t,...p.getStyles("label",{className:s,style:i,styles:a,classNames:r}),...u})});Lm.classes=Ri;Lm.displayName="@mantine/core/MenuLabel";const lM={refProp:"ref"},g0=L.forwardRef((e,t)=>{const{children:r,refProp:s,...i}=ie("MenuTarget",lM,e);if(!vi(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=Za(),c=r.props,u=Ln(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),p=Ln(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),h=Ln(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return k.jsx(Sn.Target,{refProp:s,popupType:"menu",ref:t,...i,children:L.cloneElement(r,{onClick:u,onMouseEnter:p,onMouseLeave:h,"data-expanded":a.opened?!0:void 0})})});g0.displayName="@mantine/core/MenuTarget";const uM={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function qe(e){const t=ie("Menu",uM,e),{children:r,onOpen:s,onClose:i,opened:a,defaultOpened:c,trapFocus:u,onChange:p,closeOnItemClick:h,loop:y,closeOnEscape:v,trigger:w,openDelay:S,closeDelay:b,classNames:E,styles:C,unstyled:R,variant:_,vars:f,menuItemTabIndex:d,keepMounted:g,withInitialFocusPlaceholder:x,...P}=t,M=Te({name:"Menu",classes:Ri,props:t,classNames:E,styles:C,unstyled:R}),[j,{setHovered:I,resetHovered:A}]=_E(),[N,V]=Zn({value:a,defaultValue:c,finalValue:!1,onChange:p}),[W,J]=L.useState(!1),O=()=>{V(!1),J(!1),N&&(i==null||i())},B=()=>{V(!0),!N&&(s==null||s())},F=()=>{N?O():B()},{openDropdown:z,closeDropdown:G}=$2({open:B,close:O,closeDelay:b,openDelay:S}),U=pe=>SE("[data-menu-item]","[data-menu-dropdown]",pe),{resolvedClassNames:X,resolvedStyles:ce}=qa({classNames:E,styles:C,props:t});return Qn(()=>{A()},[N]),k.jsx(sM,{value:{getStyles:M,opened:N,toggleDropdown:F,getItemIndex:U,hovered:j,setHovered:I,openedViaClick:W,setOpenedViaClick:J,closeOnItemClick:h,closeDropdown:w==="click"?O:G,openDropdown:w==="click"?B:z,closeDropdownImmediately:O,loop:y,trigger:w,unstyled:R,menuItemTabIndex:d,withInitialFocusPlaceholder:x},children:k.jsx(Sn,{...P,opened:N,onChange:F,defaultOpened:c,trapFocus:g?!1:u,closeOnEscape:v,__staticSelector:"Menu",classNames:X,styles:ce,unstyled:R,variant:_,keepMounted:g,children:r})})}qe.extend=e=>e;qe.withProps=XT(qe);qe.classes=Ri;qe.displayName="@mantine/core/Menu";qe.Item=Mm;qe.Label=Lm;qe.Dropdown=Dm;qe.Target=g0;qe.Divider=Pm;const[dM,Ei]=wn("Modal component was not found in tree");var as={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const fM={},Bu=fe((e,t)=>{const r=ie("ModalBody",fM,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ei();return k.jsx(om,{ref:t,...h.getStyles("body",{classNames:s,style:a,styles:c,className:i}),...p})});Bu.classes=as;Bu.displayName="@mantine/core/ModalBody";const pM={},Uu=fe((e,t)=>{const r=ie("ModalCloseButton",pM,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ei();return k.jsx(im,{ref:t,...h.getStyles("close",{classNames:s,style:a,styles:c,className:i}),...p})});Uu.classes=as;Uu.displayName="@mantine/core/ModalCloseButton";const hM={},Vu=fe((e,t)=>{const r=ie("ModalContent",hM,e),{classNames:s,className:i,style:a,styles:c,vars:u,children:p,__hidden:h,...y}=r,v=Ei(),w=v.scrollAreaComponent||Kb;return k.jsx(am,{...v.getStyles("content",{className:i,style:a,styles:c,classNames:s}),innerProps:v.getStyles("inner",{className:i,style:a,styles:c,classNames:s}),"data-full-screen":v.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...y,children:k.jsx(w,{style:{maxHeight:v.fullScreen?"100dvh":`calc(100dvh - (${te(v.yOffset)} * 2))`},children:p})})});Vu.classes=as;Vu.displayName="@mantine/core/ModalContent";const mM={},Hu=fe((e,t)=>{const r=ie("ModalHeader",mM,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ei();return k.jsx(cm,{ref:t,...h.getStyles("header",{classNames:s,style:a,styles:c,className:i}),...p})});Hu.classes=as;Hu.displayName="@mantine/core/ModalHeader";const gM={},Wu=fe((e,t)=>{const r=ie("ModalOverlay",gM,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ei();return k.jsx(lm,{ref:t,...h.getStyles("overlay",{classNames:s,style:a,styles:c,className:i}),...p})});Wu.classes=as;Wu.displayName="@mantine/core/ModalOverlay";const vM={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Nr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},yM=(e,{radius:t,size:r,yOffset:s,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Ft(t),"--modal-size":Ve(r,"modal-size"),"--modal-y-offset":te(s),"--modal-x-offset":te(i)}}),qu=fe((e,t)=>{const r=ie("ModalRoot",vM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,yOffset:h,scrollAreaComponent:y,radius:v,fullScreen:w,centered:S,xOffset:b,__staticSelector:E,...C}=r,R=Te({name:E,classes:as,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:yM});return k.jsx(dM,{value:{yOffset:h,scrollAreaComponent:y,getStyles:R,fullScreen:w},children:k.jsx(sm,{ref:t,...R("root"),"data-full-screen":w||void 0,"data-centered":S||void 0,unstyled:u,...C})})});qu.classes=as;qu.displayName="@mantine/core/ModalRoot";const[wM,SM]=du();function v0({children:e}){const[t,r]=L.useState([]),[s,i]=L.useState(Nr("modal"));return k.jsx(wM,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${s} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:s},children:e})}v0.displayName="@mantine/core/ModalStack";const _M={},Gu=fe((e,t)=>{const r=ie("ModalTitle",_M,e),{classNames:s,className:i,style:a,styles:c,vars:u,...p}=r,h=Ei();return k.jsx(um,{ref:t,...h.getStyles("title",{classNames:s,style:a,styles:c,className:i}),...p})});Gu.classes=as;Gu.displayName="@mantine/core/ModalTitle";const bM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Nr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Rr=fe((e,t)=>{const{title:r,withOverlay:s,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,radius:p,opened:h,stackId:y,zIndex:v,...w}=ie("Modal",bM,e),S=SM(),b=!!r||a,E=S&&y?{closeOnEscape:S.currentId===y,trapFocus:S.currentId===y,zIndex:S.getZIndex(y)}:{},C=s===!1?!1:y&&S?S.currentId===y:h;return L.useEffect(()=>{S&&y&&(h?S.addModal(y,v||Nr("modal")):S.removeModal(y))},[h,y,v]),k.jsxs(qu,{ref:t,radius:p,opened:h,zIndex:S&&y?S.getZIndex(y):v,...w,...E,children:[s&&k.jsx(Wu,{visible:C,transitionProps:S&&y?{duration:0}:void 0,...i}),k.jsxs(Vu,{radius:p,__hidden:S&&y&&h?y!==S.currentId:!1,children:[b&&k.jsxs(Hu,{children:[r&&k.jsx(Gu,{children:r}),a&&k.jsx(Uu,{...c})]}),k.jsx(Bu,{children:u})]})]})});Rr.classes=as;Rr.displayName="@mantine/core/Modal";Rr.Root=qu;Rr.Overlay=Wu;Rr.Content=Vu;Rr.Body=Bu;Rr.Header=Hu;Rr.Title=Gu;Rr.CloseButton=Uu;Rr.Stack=v0;var y0={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const xM={},CM=(e,{variant:t,color:r,childrenOffset:s,autoContrast:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":Jt(s)}}},Im=Kt((e,t)=>{const r=ie("NavLink",xM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,opened:h,defaultOpened:y,onChange:v,children:w,onClick:S,active:b,disabled:E,leftSection:C,rightSection:R,label:_,description:f,disableRightSectionRotation:d,noWrap:g,childrenOffset:x,onKeyDown:P,autoContrast:M,mod:j,...I}=r,A=Te({name:"NavLink",props:r,classes:y0,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:CM}),[N,V]=Zn({value:h,defaultValue:y,finalValue:!1,onChange:v}),W=!!w,J=O=>{S==null||S(O),W&&(O.preventDefault(),V(!N))};return k.jsxs(k.Fragment,{children:[k.jsxs(Fs,{...A("root"),component:"a",ref:t,onClick:J,onKeyDown:O=>{P==null||P(O),O.nativeEvent.code==="Space"&&W&&(O.preventDefault(),V(!N))},unstyled:u,mod:[{disabled:E,active:b,expanded:N},j],...I,children:[C&&k.jsx(ne,{component:"span",...A("section"),mod:{position:"left"},children:C}),k.jsxs(ne,{...A("body"),mod:{"no-wrap":g},children:[k.jsx(ne,{component:"span",...A("label"),children:_}),k.jsx(ne,{component:"span",mod:{active:b},...A("description"),children:f})]}),(W||R)&&k.jsx(ne,{...A("section"),component:"span",mod:{rotate:N&&!d,position:"right"},children:W?R||k.jsx(Qb,{...A("chevron")}):R})]}),W&&k.jsx(yu,{in:N,...A("collapse"),children:k.jsx("div",{...A("children"),children:w})})]})});Im.classes=y0;Im.displayName="@mantine/core/NavLink";var w0={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const RM={withCloseButton:!0},EM=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Ft(t),"--notification-color":r?Or(r,e):void 0}}),jm=fe((e,t)=>{const r=ie("Notification",RM,e),{className:s,color:i,radius:a,loading:c,withCloseButton:u,withBorder:p,title:h,icon:y,children:v,onClose:w,closeButtonProps:S,classNames:b,style:E,styles:C,unstyled:R,variant:_,vars:f,mod:d,loaderProps:g,...x}=r,P=Te({name:"Notification",classes:w0,props:r,className:s,style:E,classNames:b,styles:C,unstyled:R,vars:f,varsResolver:EM});return k.jsxs(ne,{...P("root"),mod:[{"data-with-icon":!!y||c,"data-with-border":p},d],ref:t,variant:_,...x,role:"alert",children:[y&&!c&&k.jsx("div",{...P("icon"),children:y}),c&&k.jsx(_i,{size:28,color:i,...g,...P("loader")}),k.jsxs("div",{...P("body"),children:[h&&k.jsx("div",{...P("title"),children:h}),k.jsx(ne,{...P("description"),mod:{"data-with-title":!!h},children:v})]}),u&&k.jsx(Ya,{iconSize:16,color:"gray",...S,unstyled:R,onClick:w,...P("closeButton")})]})});jm.classes=w0;jm.displayName="@mantine/core/Notification";const TM=({reveal:e})=>k.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:k.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var lh={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const kM={visibilityToggleIcon:TM},PM=(e,{size:t})=>({root:{"--psi-icon-size":Ve(t,"psi-icon-size"),"--psi-button-size":Ve(t,"psi-button-size")}}),Ku=fe((e,t)=>{const r=ie("PasswordInput",kM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,required:h,error:y,leftSection:v,disabled:w,id:S,variant:b,inputContainer:E,description:C,label:R,size:_,errorProps:f,descriptionProps:d,labelProps:g,withAsterisk:x,inputWrapperOrder:P,wrapperProps:M,radius:j,rightSection:I,rightSectionWidth:A,rightSectionPointerEvents:N,leftSectionWidth:V,visible:W,defaultVisible:J,onVisibilityChange:O,visibilityToggleIcon:B,visibilityToggleButtonProps:F,rightSectionProps:z,leftSectionProps:G,leftSectionPointerEvents:U,withErrorStyles:X,mod:ce,...pe}=r,ee=go(S),[le,ue]=Zn({value:W,defaultValue:J,finalValue:!1,onChange:O}),Se=()=>ue(!le),me=Te({name:"PasswordInput",classes:lh,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:PM}),{resolvedClassNames:ke,resolvedStyles:Le}=qa({classNames:s,styles:c,props:r}),{styleProps:bt,rest:vt}=gu(pe),He=B,nt=k.jsx(rt,{...me("visibilityToggle"),disabled:w,radius:j,"aria-hidden":!F,tabIndex:-1,...F,variant:(F==null?void 0:F.variant)??"subtle",color:"gray",unstyled:u,onTouchEnd:Qe=>{var We;Qe.preventDefault(),(We=F==null?void 0:F.onTouchEnd)==null||We.call(F,Qe),Se()},onMouseDown:Qe=>{var We;Qe.preventDefault(),(We=F==null?void 0:F.onMouseDown)==null||We.call(F,Qe),Se()},onKeyDown:Qe=>{var We;(We=F==null?void 0:F.onKeyDown)==null||We.call(F,Qe),Qe.key===" "&&(Qe.preventDefault(),Se())},children:k.jsx(He,{reveal:le})});return k.jsx(Gt.Wrapper,{required:h,id:ee,label:R,error:y,description:C,size:_,classNames:ke,styles:Le,__staticSelector:"PasswordInput",errorProps:f,descriptionProps:d,unstyled:u,withAsterisk:x,inputWrapperOrder:P,inputContainer:E,variant:b,labelProps:{...g,htmlFor:ee},mod:ce,...me("root"),...bt,...M,children:k.jsx(Gt,{component:"div",error:y,leftSection:v,size:_,classNames:{...ke,input:qt(lh.input,ke.input)},styles:Le,radius:j,disabled:w,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:I??nt,variant:b,unstyled:u,leftSectionWidth:V,rightSectionPointerEvents:N||"all",rightSectionProps:z,leftSectionProps:G,leftSectionPointerEvents:U,withAria:!1,withErrorStyles:X,children:k.jsx("input",{required:h,"data-invalid":!!y||void 0,"data-with-left-section":!!v||void 0,...me("innerInput"),disabled:w,id:ee,ref:t,...vt,autoComplete:vt.autoComplete||"off",type:le?"text":"password"})})})});Ku.classes={...os.classes,...lh};Ku.displayName="@mantine/core/PasswordInput";const DM={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},eu=fe((e,t)=>{const r=ie("Select",DM,e),{classNames:s,styles:i,unstyled:a,vars:c,dropdownOpened:u,defaultDropdownOpened:p,onDropdownClose:h,onDropdownOpen:y,onFocus:v,onBlur:w,onClick:S,onChange:b,data:E,value:C,defaultValue:R,selectFirstOptionOnChange:_,onOptionSubmit:f,comboboxProps:d,readOnly:g,disabled:x,filter:P,limit:M,withScrollArea:j,maxDropdownHeight:I,size:A,searchable:N,rightSection:V,checkIconPosition:W,withCheckIcon:J,nothingFoundMessage:O,name:B,form:F,searchValue:z,defaultSearchValue:G,onSearchChange:U,allowDeselect:X,error:ce,rightSectionPointerEvents:pe,id:ee,clearable:le,clearButtonProps:ue,hiddenInputProps:Se,renderOption:me,onClear:ke,autoComplete:Le,scrollAreaProps:bt,__defaultRightSection:vt,__clearSection:He,__clearable:nt,chevronColor:Qe,...We}=r,xt=L.useMemo(()=>ED(E),[E]),ut=L.useMemo(()=>e0(xt),[xt]),Be=go(ee),[Ne,st,Tt]=Zn({value:C,defaultValue:R,finalValue:null,onChange:b}),ot=typeof Ne=="string"?ut[Ne]:void 0,Lt=FE(ot),[Re,Ee]=Zn({value:z,defaultValue:G,finalValue:ot?ot.label:"",onChange:U}),ve=i0({opened:u,defaultOpened:p,onDropdownOpen:()=>{y==null||y(),ve.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h==null||h(),ve.resetSelectedOption()}}),{resolvedClassNames:Ie,resolvedStyles:pt}=qa({props:r,styles:i,classNames:s});L.useEffect(()=>{_&&ve.selectFirstOption()},[_,Ne]),L.useEffect(()=>{C===null&&Ee(""),typeof C=="string"&&ot&&((Lt==null?void 0:Lt.value)!==ot.value||(Lt==null?void 0:Lt.label)!==ot.label)&&Ee(ot.label)},[C,ot]);const $e=k.jsx(Ge.ClearButton,{...ue,onClear:()=>{st(null,null),Ee(""),ke==null||ke()}}),je=le&&!!Ne&&!x&&!g;return k.jsxs(k.Fragment,{children:[k.jsxs(Ge,{store:ve,__staticSelector:"Select",classNames:Ie,styles:pt,unstyled:a,readOnly:g,onOptionSubmit:we=>{f==null||f(we);const it=X&&ut[we].value===Ne?null:ut[we],Fn=it?it.value:null;Fn!==Ne&&st(Fn,it),!Tt&&Ee(typeof Fn=="string"&&(it==null?void 0:it.label)||""),ve.closeDropdown()},size:A,...d,children:[k.jsx(Ge.Target,{targetType:N?"input":"button",autoComplete:Le,children:k.jsx(os,{id:Be,ref:t,__defaultRightSection:k.jsx(Ge.Chevron,{size:A,error:ce,unstyled:a,color:Qe}),__clearSection:$e,__clearable:je,rightSection:V,rightSectionPointerEvents:pe||(je?"all":"none"),...We,size:A,__staticSelector:"Select",disabled:x,readOnly:g||!N,value:Re,onChange:we=>{Ee(we.currentTarget.value),ve.openDropdown(),_&&ve.selectFirstOption()},onFocus:we=>{N&&ve.openDropdown(),v==null||v(we)},onBlur:we=>{var it;N&&ve.closeDropdown(),Ee(Ne!=null&&((it=ut[Ne])==null?void 0:it.label)||""),w==null||w(we)},onClick:we=>{N?ve.openDropdown():ve.toggleDropdown(),S==null||S(we)},classNames:Ie,styles:pt,unstyled:a,pointer:!N,error:ce})}),k.jsx(XD,{data:xt,hidden:g||x,filter:P,search:Re,limit:M,hiddenWhenEmpty:!O,withScrollArea:j,maxDropdownHeight:I,filterOptions:N&&(ot==null?void 0:ot.label)!==Re,value:Ne,checkIconPosition:W,withCheckIcon:J,nothingFoundMessage:O,unstyled:a,labelId:We.label?`${Be}-label`:void 0,"aria-label":We.label?void 0:We["aria-label"],renderOption:me,scrollAreaProps:bt})]}),k.jsx(Ge.HiddenInput,{value:Ne,name:B,form:F,disabled:x,...Se})]})});eu.classes={...os.classes,...Ge.classes};eu.displayName="@mantine/core/Select";function MM({spacing:e,verticalSpacing:t,cols:r,selector:s}){var y;const i=pr(),a=t===void 0?e:t,c=gi({"--sg-spacing-x":Jt(ai(e)),"--sg-spacing-y":Jt(ai(a)),"--sg-cols":(y=ai(r))==null?void 0:y.toString()}),u=dr(i.breakpoints).reduce((v,w)=>(v[w]||(v[w]={}),typeof e=="object"&&e[w]!==void 0&&(v[w]["--sg-spacing-x"]=Jt(e[w])),typeof a=="object"&&a[w]!==void 0&&(v[w]["--sg-spacing-y"]=Jt(a[w])),typeof r=="object"&&r[w]!==void 0&&(v[w]["--sg-cols"]=r[w]),v),{}),h=wE(dr(u),i.breakpoints).filter(v=>dr(u[v.value]).length>0).map(v=>({query:`(min-width: ${i.breakpoints[v.value]})`,styles:u[v.value]}));return k.jsx(mu,{styles:c,media:h,selector:s})}function Rp(e){return typeof e=="object"&&e!==null?dr(e):[]}function LM(e){return e.sort((t,r)=>Na(t)-Na(r))}function IM({spacing:e,verticalSpacing:t,cols:r}){const s=Array.from(new Set([...Rp(e),...Rp(t),...Rp(r)]));return LM(s)}function jM({spacing:e,verticalSpacing:t,cols:r,selector:s}){var h;const i=t===void 0?e:t,a=gi({"--sg-spacing-x":Jt(ai(e)),"--sg-spacing-y":Jt(ai(i)),"--sg-cols":(h=ai(r))==null?void 0:h.toString()}),c=IM({spacing:e,verticalSpacing:t,cols:r}),u=c.reduce((y,v)=>(y[v]||(y[v]={}),typeof e=="object"&&e[v]!==void 0&&(y[v]["--sg-spacing-x"]=Jt(e[v])),typeof i=="object"&&i[v]!==void 0&&(y[v]["--sg-spacing-y"]=Jt(i[v])),typeof r=="object"&&r[v]!==void 0&&(y[v]["--sg-cols"]=r[v]),y),{}),p=c.map(y=>({query:`simple-grid (min-width: ${y})`,styles:u[y]}));return k.jsx(mu,{styles:a,container:p,selector:s})}var S0={container:"m_925c2d2c",root:"m_2415a157"};const OM={cols:1,spacing:"md",type:"media"},Om=fe((e,t)=>{const r=ie("SimpleGrid",OM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,cols:h,verticalSpacing:y,spacing:v,type:w,...S}=r,b=Te({name:"SimpleGrid",classes:S0,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p}),E=Bh();return w==="container"?k.jsxs(k.Fragment,{children:[k.jsx(jM,{...r,selector:`.${E}`}),k.jsx("div",{...b("container"),children:k.jsx(ne,{ref:t,...b("root",{className:E}),...S})})]}):k.jsxs(k.Fragment,{children:[k.jsx(MM,{...r,selector:`.${E}`}),k.jsx(ne,{ref:t,...b("root",{className:E}),...S})]})});Om.classes=S0;Om.displayName="@mantine/core/SimpleGrid";var _0={root:"m_18320242","skeleton-fade":"m_299c329c"};const NM={visible:!0,animate:!0},AM=(e,{width:t,height:r,radius:s,circle:i})=>({root:{"--skeleton-height":te(r),"--skeleton-width":te(i?r:t),"--skeleton-radius":i?"1000px":s===void 0?void 0:Ft(s)}}),fo=fe((e,t)=>{const r=ie("Skeleton",NM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,width:h,height:y,circle:v,visible:w,radius:S,animate:b,mod:E,...C}=r,R=Te({name:"Skeleton",classes:_0,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:AM});return k.jsx(ne,{ref:t,...R("root"),mod:[{visible:w,animate:b},E],...C})});fo.classes=_0;fo.displayName="@mantine/core/Skeleton";const[$M,Yu]=wn("SliderProvider was not found in tree"),b0=L.forwardRef(({size:e,disabled:t,variant:r,color:s,thumbSize:i,radius:a,...c},u)=>{const{getStyles:p}=Yu();return k.jsx(ne,{tabIndex:-1,variant:r,size:e,ref:u,...p("root"),...c})});b0.displayName="@mantine/core/SliderRoot";const x0=L.forwardRef(({max:e,min:t,value:r,position:s,label:i,dragging:a,onMouseDown:c,onKeyDownCapture:u,labelTransitionProps:p,labelAlwaysOn:h,thumbLabel:y,onFocus:v,onBlur:w,showLabelOnHover:S,isHovered:b,children:E=null,disabled:C},R)=>{const{getStyles:_}=Yu(),[f,d]=L.useState(!1),g=h||a||f||S&&b;return k.jsxs(ne,{tabIndex:0,role:"slider","aria-label":y,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:R,__vars:{"--slider-thumb-offset":`${s}%`},..._("thumb",{focusable:!0}),mod:{dragging:a,disabled:C},onFocus:x=>{d(!0),typeof v=="function"&&v(x)},onBlur:x=>{d(!1),typeof w=="function"&&w(x)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:u,onClick:x=>x.stopPropagation(),children:[E,k.jsx(zs,{mounted:i!=null&&!!g,transition:"fade",duration:0,...p,children:x=>k.jsx("div",{..._("label",{style:x}),children:i})})]})});x0.displayName="@mantine/core/SliderThumb";function C0({value:e,min:t,max:r}){const s=(e-t)/(r-t)*100;return Math.min(Math.max(s,0),100)}function FM({mark:e,offset:t,value:r,inverted:s=!1}){return s?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function R0({marks:e,min:t,max:r,disabled:s,value:i,offset:a,inverted:c}){const{getStyles:u}=Yu();if(!e)return null;const p=e.map((h,y)=>L.createElement(ne,{...u("markWrapper"),__vars:{"--mark-offset":`${C0({value:h.value,min:t,max:r})}%`},key:y},k.jsx(ne,{...u("mark"),mod:{filled:FM({mark:h,value:i,offset:a,inverted:c}),disabled:s}}),h.label&&k.jsx("div",{...u("markLabel"),children:h.label})));return k.jsx("div",{children:p})}R0.displayName="@mantine/core/SliderMarks";function E0({filled:e,children:t,offset:r,disabled:s,marksOffset:i,inverted:a,containerProps:c,...u}){const{getStyles:p}=Yu();return k.jsx(ne,{...p("trackContainer"),mod:{disabled:s},...c,children:k.jsxs(ne,{...p("track"),mod:{inverted:a,disabled:s},children:[k.jsx(ne,{mod:{inverted:a,disabled:s},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...p("bar")}),t,k.jsx(R0,{...u,offset:i,disabled:s,inverted:a})]})})}E0.displayName="@mantine/core/SliderTrack";function zM({value:e,containerWidth:t,min:r,max:s,step:i,precision:a}){const u=(t?Math.min(Math.max(e,0),t)/t:e)*(s-r),p=(u!==0?Math.round(u/i)*i:0)+r,h=Math.max(p,r);return a!==void 0?Number(h.toFixed(a)):h}function gl(e,t){return parseFloat(e.toFixed(t))}function BM(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Ep(e,t){const s=[...t].sort((i,a)=>i.value-a.value).find(i=>i.value>e);return s?s.value:e}function Tp(e,t){const s=[...t].sort((i,a)=>a.value-i.value).find(i=>i.value<e);return s?s.value:e}function Vw(e){const t=[...e].sort((r,s)=>r.value-s.value);return t.length>0?t[0].value:0}function Hw(e){const t=[...e].sort((r,s)=>r.value-s.value);return t.length>0?t[t.length-1].value:100}var T0={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const UM={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},VM=(e,{size:t,color:r,thumbSize:s,radius:i})=>({root:{"--slider-size":Ve(t,"slider-size"),"--slider-color":r?Or(r,e):void 0,"--slider-radius":i===void 0?void 0:Ft(i),"--slider-thumb-size":s!==void 0?te(s):"calc(var(--slider-size) * 2)"}}),Nm=fe((e,t)=>{const r=ie("Slider",UM,e),{classNames:s,styles:i,value:a,onChange:c,onChangeEnd:u,size:p,min:h,max:y,step:v,precision:w,defaultValue:S,name:b,marks:E,label:C,labelTransitionProps:R,labelAlwaysOn:_,thumbLabel:f,showLabelOnHover:d,thumbChildren:g,disabled:x,unstyled:P,scale:M,inverted:j,className:I,style:A,vars:N,hiddenInputProps:V,restrictToMarks:W,thumbProps:J,...O}=r,B=Te({name:"Slider",props:r,classes:T0,classNames:s,className:I,styles:i,style:A,vars:N,varsResolver:VM,unstyled:P}),{dir:F}=vo(),[z,G]=L.useState(!1),[U,X]=Zn({value:typeof a=="number"?Ia(a,h,y):a,defaultValue:typeof S=="number"?Ia(S,h,y):S,finalValue:Ia(0,h,y),onChange:c}),ce=L.useRef(U),pe=L.useRef(null),ee=L.useRef(null),le=C0({value:U,min:h,max:y}),ue=M(U),Se=typeof C=="function"?C(ue):C,me=w??BM(v),ke=L.useCallback(({x:He})=>{if(!x){const nt=zM({value:He,min:h,max:y,step:v,precision:me});X(W&&(E!=null&&E.length)?aw(nt,E.map(Qe=>Qe.value)):nt),ce.current=nt}},[x,h,y,v,me,X,E,W]),{ref:Le,active:bt}=$E(ke,{onScrubEnd:()=>!x&&(u==null?void 0:u(W&&(E!=null&&E.length)?aw(ce.current,E.map(He=>He.value)):ce.current))},F),vt=He=>{var nt,Qe,We,xt,ut,Be;if(!x)switch(He.key){case"ArrowUp":{if(He.preventDefault(),(nt=ee.current)==null||nt.focus(),W&&E){const st=Ep(U,E);X(st),u==null||u(st);break}const Ne=gl(Math.min(Math.max(U+v,h),y),me);X(Ne),u==null||u(Ne);break}case"ArrowRight":{if(He.preventDefault(),(Qe=ee.current)==null||Qe.focus(),W&&E){const st=F==="rtl"?Tp(U,E):Ep(U,E);X(st),u==null||u(st);break}const Ne=gl(Math.min(Math.max(F==="rtl"?U-v:U+v,h),y),me);X(Ne),u==null||u(Ne);break}case"ArrowDown":{if(He.preventDefault(),(We=ee.current)==null||We.focus(),W&&E){const st=Tp(U,E);X(st),u==null||u(st);break}const Ne=gl(Math.min(Math.max(U-v,h),y),me);X(Ne),u==null||u(Ne);break}case"ArrowLeft":{if(He.preventDefault(),(xt=ee.current)==null||xt.focus(),W&&E){const st=F==="rtl"?Ep(U,E):Tp(U,E);X(st),u==null||u(st);break}const Ne=gl(Math.min(Math.max(F==="rtl"?U+v:U-v,h),y),me);X(Ne),u==null||u(Ne);break}case"Home":{if(He.preventDefault(),(ut=ee.current)==null||ut.focus(),W&&E){X(Vw(E)),u==null||u(Vw(E));break}X(h),u==null||u(h);break}case"End":{if(He.preventDefault(),(Be=ee.current)==null||Be.focus(),W&&E){X(Hw(E)),u==null||u(Hw(E));break}X(y),u==null||u(y);break}}};return k.jsx($M,{value:{getStyles:B},children:k.jsxs(b0,{...O,ref:rr(t,pe),onKeyDownCapture:vt,onMouseDownCapture:()=>{var He;return(He=pe.current)==null?void 0:He.focus()},size:p,disabled:x,children:[k.jsx(E0,{inverted:j,offset:0,filled:le,marks:E,min:h,max:y,value:ue,disabled:x,containerProps:{ref:Le,onMouseEnter:d?()=>G(!0):void 0,onMouseLeave:d?()=>G(!1):void 0},children:k.jsx(x0,{max:y,min:h,value:ue,position:le,dragging:bt,label:Se,ref:ee,labelTransitionProps:R,labelAlwaysOn:_,thumbLabel:f,showLabelOnHover:d,isHovered:z,disabled:x,...J,children:g})}),k.jsx("input",{type:"hidden",name:b,value:ue,...V})]})})});Nm.classes=T0;Nm.displayName="@mantine/core/Slider";var k0={root:"m_6d731127"};const HM={gap:"md",align:"stretch",justify:"flex-start"},WM=(e,{gap:t,align:r,justify:s})=>({root:{"--stack-gap":Jt(t),"--stack-align":r,"--stack-justify":s}}),ft=fe((e,t)=>{const r=ie("Stack",HM,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,align:h,justify:y,gap:v,variant:w,...S}=r,b=Te({name:"Stack",props:r,classes:k0,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:WM});return k.jsx(ne,{ref:t,...b("root"),variant:w,...S})});ft.classes=k0;ft.displayName="@mantine/core/Stack";const[qM,Am]=wn("Tabs component was not found in the tree");var Ja={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const GM={},$m=fe((e,t)=>{const r=ie("TabsList",GM,e),{children:s,className:i,grow:a,justify:c,classNames:u,styles:p,style:h,mod:y,...v}=r,w=Am();return k.jsx(ne,{...v,...w.getStyles("list",{className:i,style:h,classNames:u,styles:p,props:r,variant:w.variant}),ref:t,role:"tablist",variant:w.variant,mod:[{grow:a,orientation:w.orientation,placement:w.orientation==="vertical"&&w.placement,inverted:w.inverted},y],"aria-orientation":w.orientation,__vars:{"--tabs-justify":c},children:s})});$m.classes=Ja;$m.displayName="@mantine/core/TabsList";const KM={},Fm=fe((e,t)=>{const r=ie("TabsPanel",KM,e),{children:s,className:i,value:a,classNames:c,styles:u,style:p,mod:h,keepMounted:y,...v}=r,w=Am(),S=w.value===a,b=w.keepMounted||y||S?s:null;return k.jsx(ne,{...v,...w.getStyles("panel",{className:i,classNames:c,styles:u,style:[p,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:w.orientation},h],role:"tabpanel",id:w.getPanelId(a),"aria-labelledby":w.getTabId(a),children:b})});Fm.classes=Ja;Fm.displayName="@mantine/core/TabsPanel";const YM={},zm=fe((e,t)=>{const r=ie("TabsTab",YM,e),{className:s,children:i,rightSection:a,leftSection:c,value:u,onClick:p,onKeyDown:h,disabled:y,color:v,style:w,classNames:S,styles:b,vars:E,mod:C,tabIndex:R,..._}=r,f=pr(),{dir:d}=vo(),g=Am(),x=u===g.value,P=j=>{g.onChange(g.allowTabDeactivation&&u===g.value?null:u),p==null||p(j)},M={classNames:S,styles:b,props:r};return k.jsxs(Fs,{..._,...g.getStyles("tab",{className:s,style:w,variant:g.variant,...M}),disabled:y,unstyled:g.unstyled,variant:g.variant,mod:[{active:x,disabled:y,orientation:g.orientation,inverted:g.inverted,placement:g.orientation==="vertical"&&g.placement},C],ref:t,role:"tab",id:g.getTabId(u),"aria-selected":x,tabIndex:R!==void 0?R:x||g.value===null?0:-1,"aria-controls":g.getPanelId(u),onClick:P,__vars:{"--tabs-color":v?Or(v,f):void 0},onKeyDown:z_({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:g.activateTabWithKeyboard,loop:g.loop,orientation:g.orientation||"horizontal",dir:d,onKeyDown:h}),children:[c&&k.jsx("span",{...g.getStyles("tabSection",M),"data-position":"left",children:c}),i&&k.jsx("span",{...g.getStyles("tabLabel",M),children:i}),a&&k.jsx("span",{...g.getStyles("tabSection",M),"data-position":"right",children:a})]})});zm.classes=Ja;zm.displayName="@mantine/core/TabsTab";const Ww="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",XM={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},QM=(e,{radius:t,color:r,autoContrast:s})=>({root:{"--tabs-radius":Ft(t),"--tabs-color":Or(r,e),"--tabs-text-color":tb(s,e)?Fh({color:r,theme:e,autoContrast:s}):void 0}}),fn=fe((e,t)=>{const r=ie("Tabs",XM,e),{defaultValue:s,value:i,onChange:a,orientation:c,children:u,loop:p,id:h,activateTabWithKeyboard:y,allowTabDeactivation:v,variant:w,color:S,radius:b,inverted:E,placement:C,keepMounted:R,classNames:_,styles:f,unstyled:d,className:g,style:x,vars:P,autoContrast:M,mod:j,...I}=r,A=go(h),[N,V]=Zn({value:i,defaultValue:s,finalValue:null,onChange:a}),W=Te({name:"Tabs",props:r,classes:Ja,className:g,style:x,classNames:_,styles:f,unstyled:d,vars:P,varsResolver:QM});return k.jsx(qM,{value:{placement:C,value:N,orientation:c,id:A,loop:p,activateTabWithKeyboard:y,getTabId:ow(`${A}-tab`,Ww),getPanelId:ow(`${A}-panel`,Ww),onChange:V,allowTabDeactivation:v,variant:w,color:S,radius:b,inverted:E,keepMounted:R,unstyled:d,getStyles:W},children:k.jsx(ne,{ref:t,id:A,variant:w,mod:[{orientation:c,inverted:c==="horizontal"&&E,placement:c==="vertical"&&C},j],...W("root"),...I,children:u})})});fn.classes=Ja;fn.displayName="@mantine/core/Tabs";fn.Tab=zm;fn.Panel=Fm;fn.List=$m;const ZM={},rs=fe((e,t)=>{const r=ie("TextInput",ZM,e);return k.jsx(os,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});rs.classes=os.classes;rs.displayName="@mantine/core/TextInput";const JM=["h1","h2","h3","h4","h5","h6"],eL=["xs","sm","md","lg","xl"];function tL(e,t){const r=t!==void 0?t:`h${e}`;return JM.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:eL.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var P0={root:"m_8a5d1357"};const rL={order:1},nL=(e,{order:t,size:r,lineClamp:s,textWrap:i})=>{const a=tL(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof s=="number"?s.toString():void 0,"--title-text-wrap":i}}},Xu=fe((e,t)=>{const r=ie("Title",rL,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,order:p,vars:h,size:y,variant:v,lineClamp:w,textWrap:S,mod:b,...E}=r,C=Te({name:"Title",props:r,classes:P0,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:h,varsResolver:nL});return[1,2,3,4,5,6].includes(p)?k.jsx(ne,{...C("root"),component:`h${p}`,variant:v,ref:t,mod:[{order:p,"data-line-clamp":typeof w=="number"},b],size:y,...E}):null});Xu.classes=P0;Xu.displayName="@mantine/core/Title";function sL(e){let t=e,r=!1;const s=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),s.forEach(a=>a(t))},initialize(i){r||(t=i,r=!0)},subscribe(i){return s.add(i),()=>s.delete(i)}}}function oL(e){return L.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function iL(e,t,r){const s=[],i=[],a={};for(const c of e){const u=c.position||t;a[u]=a[u]||0,a[u]+=1,a[u]<=r?i.push(c):s.push(c)}return{notifications:i,queue:s}}const aL=()=>sL({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),yo=aL(),cL=(e=yo)=>oL(e);function Ti(e,t){const r=e.getState(),s=t([...r.notifications,...r.queue]),i=iL(s,r.defaultPosition,r.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function lL(e,t=yo){const r=e.id||B_();return Ti(t,s=>e.id&&s.some(i=>i.id===e.id)?s:[...s,{...e,id:r}]),r}function D0(e,t=yo){return Ti(t,r=>r.filter(s=>{var i;return s.id===e?((i=s.onClose)==null||i.call(s,s),!1):!0})),e}function uL(e,t=yo){return Ti(t,r=>r.map(s=>s.id===e.id?{...s,...e}:s)),e.id}function dL(e=yo){Ti(e,()=>[])}function fL(e=yo){Ti(e,t=>t.slice(0,e.getState().limit))}const As={show:lL,hide:D0,update:uL,clean:dL,cleanQueue:fL,updateState:Ti};function uh(e,t){return uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},uh(e,t)}function M0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,uh(e,t)}const qw={disabled:!1},tu=$t.createContext(null);var pL=function(t){return t.scrollTop},ka="unmounted",oo="exited",io="entering",si="entered",dh="exiting",cs=function(e){M0(t,e);function t(s,i){var a;a=e.call(this,s,i)||this;var c=i,u=c&&!c.isMounting?s.enter:s.appear,p;return a.appearStatus=null,s.in?u?(p=oo,a.appearStatus=io):p=si:s.unmountOnExit||s.mountOnEnter?p=ka:p=oo,a.state={status:p},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var c=i.in;return c&&a.status===ka?{status:oo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==io&&c!==si&&(a=io):(c===io||c===si)&&(a=dh)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,c,u;return a=c=u=i,i!=null&&typeof i!="number"&&(a=i.exit,c=i.enter,u=i.appear!==void 0?i.appear:c),{exit:a,enter:c,appear:u}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===io){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Ta.findDOMNode(this);c&&pL(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oo&&this.setState({status:ka})},r.performEnter=function(i){var a=this,c=this.props.enter,u=this.context?this.context.isMounting:i,p=this.props.nodeRef?[u]:[Ta.findDOMNode(this),u],h=p[0],y=p[1],v=this.getTimeouts(),w=u?v.appear:v.enter;if(!i&&!c||qw.disabled){this.safeSetState({status:si},function(){a.props.onEntered(h)});return}this.props.onEnter(h,y),this.safeSetState({status:io},function(){a.props.onEntering(h,y),a.onTransitionEnd(w,function(){a.safeSetState({status:si},function(){a.props.onEntered(h,y)})})})},r.performExit=function(){var i=this,a=this.props.exit,c=this.getTimeouts(),u=this.props.nodeRef?void 0:Ta.findDOMNode(this);if(!a||qw.disabled){this.safeSetState({status:oo},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:dh},function(){i.props.onExiting(u),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:oo},function(){i.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,c=!0;return this.nextCallback=function(u){c&&(c=!1,a.nextCallback=null,i(u))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Ta.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!c||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=p[0],y=p[1];this.props.addEndListener(h,y)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===ka)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=km(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $t.createElement(tu.Provider,{value:null},typeof c=="function"?c(i,u):$t.cloneElement($t.Children.only(c),u))},t}($t.Component);cs.contextType=tu;cs.propTypes={};function ri(){}cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ri,onEntering:ri,onEntered:ri,onExit:ri,onExiting:ri,onExited:ri};cs.UNMOUNTED=ka;cs.EXITED=oo;cs.ENTERING=io;cs.ENTERED=si;cs.EXITING=dh;function hL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bm(e,t){var r=function(a){return t&&L.isValidElement(a)?t(a):a},s=Object.create(null);return e&&L.Children.map(e,function(i){return i}).forEach(function(i){s[i.key]=r(i)}),s}function mL(e,t){e=e||{},t=t||{};function r(y){return y in t?t[y]:e[y]}var s=Object.create(null),i=[];for(var a in e)a in t?i.length&&(s[a]=i,i=[]):i.push(a);var c,u={};for(var p in t){if(s[p])for(c=0;c<s[p].length;c++){var h=s[p][c];u[s[p][c]]=r(h)}u[p]=r(p)}for(c=0;c<i.length;c++)u[i[c]]=r(i[c]);return u}function lo(e,t,r){return r[t]!=null?r[t]:e.props[t]}function gL(e,t){return Bm(e.children,function(r){return L.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:lo(r,"appear",e),enter:lo(r,"enter",e),exit:lo(r,"exit",e)})})}function vL(e,t,r){var s=Bm(e.children),i=mL(t,s);return Object.keys(i).forEach(function(a){var c=i[a];if(L.isValidElement(c)){var u=a in t,p=a in s,h=t[a],y=L.isValidElement(h)&&!h.props.in;p&&(!u||y)?i[a]=L.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:lo(c,"exit",e),enter:lo(c,"enter",e)}):!p&&u&&!y?i[a]=L.cloneElement(c,{in:!1}):p&&u&&L.isValidElement(h)&&(i[a]=L.cloneElement(c,{onExited:r.bind(null,c),in:h.props.in,exit:lo(c,"exit",e),enter:lo(c,"enter",e)}))}}),i}var yL=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},wL={component:"div",childFactory:function(t){return t}},Ps=function(e){M0(t,e);function t(s,i){var a;a=e.call(this,s,i)||this;var c=a.handleExited.bind(hL(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,u=a.handleExited,p=a.firstRender;return{children:p?gL(i,u):vL(i,c,u),firstRender:!1}},r.handleExited=function(i,a){var c=Bm(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(u){var p=Jl({},u.children);return delete p[i.key],{children:p}}))},r.render=function(){var i=this.props,a=i.component,c=i.childFactory,u=km(i,["component","childFactory"]),p=this.state.contextValue,h=yL(this.state.children).map(c);return delete u.appear,delete u.enter,delete u.exit,a===null?$t.createElement(tu.Provider,{value:p},h):$t.createElement(tu.Provider,{value:p},$t.createElement(a,u,h))},t}($t.Component);Ps.propTypes={};Ps.defaultProps=wL;const L0=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function SL(e,t){return e.reduce((r,s)=>(r[s.position||t].push(s),r),L0.reduce((r,s)=>(r[s]=[],r),{}))}const Gw={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},_L={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function bL({state:e,maxHeight:t,position:r,transitionDuration:s}){const[i,a]=r.split("-"),c=a==="center"?`${i}-center`:a,u={opacity:0,maxHeight:t,transform:Gw[c],transitionDuration:`${s}ms, ${s}ms, ${s}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},p={opacity:1,transform:_L[c]},h={opacity:0,maxHeight:0,transform:Gw[c]};return{...u,...{entering:p,entered:p,exiting:h,exited:h}[e]}}function xL(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const I0=L.forwardRef(({data:e,onHide:t,autoClose:r,...s},i)=>{const{autoClose:a,message:c,...u}=e,p=xL(r,e.autoClose),h=L.useRef(-1),y=()=>window.clearTimeout(h.current),v=()=>{t(e.id),y()},w=()=>{typeof p=="number"&&(h.current=window.setTimeout(v,p))};return L.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),L.useEffect(()=>(w(),y),[p]),k.jsx(jm,{...s,...u,onClose:v,ref:i,onMouseEnter:y,onMouseLeave:w,children:c})});I0.displayName="@mantine/notifications/NotificationContainer";var j0={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const CL=cs,RL={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Nr("overlay"),store:yo,withinPortal:!0},EL=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":te(r)}}),ls=fe((e,t)=>{const r=ie("Notifications",RL,e),{classNames:s,className:i,style:a,styles:c,unstyled:u,vars:p,position:h,autoClose:y,transitionDuration:v,containerWidth:w,notificationMaxHeight:S,limit:b,zIndex:E,store:C,portalProps:R,withinPortal:_,...f}=r,d=pr(),g=cL(C),x=jE(),P=pu(),M=L.useRef({}),j=L.useRef(0),A=(d.respectReducedMotion?P:!1)?1:v,N=Te({name:"Notifications",classes:j0,props:r,className:i,style:a,classNames:s,styles:c,unstyled:u,vars:p,varsResolver:EL});L.useEffect(()=>{C==null||C.updateState(J=>({...J,limit:b||5,defaultPosition:h}))},[b,h]),Qn(()=>{g.notifications.length>j.current&&setTimeout(()=>x(),0),j.current=g.notifications.length},[g.notifications]);const V=SL(g.notifications,h),W=L0.reduce((J,O)=>(J[O]=V[O].map(({style:B,...F})=>k.jsx(CL,{timeout:A,onEnter:()=>M.current[F.id].offsetHeight,nodeRef:{current:M.current[F.id]},children:z=>k.jsx(I0,{ref:G=>{M.current[F.id]=G},data:F,onHide:G=>D0(G,C),autoClose:y,...N("notification",{style:{...bL({state:z,position:O,transitionDuration:A,maxHeight:S}),...B}})})},F.id)),J),{});return k.jsxs(Ka,{withinPortal:_,...R,children:[k.jsx(ne,{...N("root"),"data-position":"top-center",ref:t,...f,children:k.jsx(Ps,{children:W["top-center"]})}),k.jsx(ne,{...N("root"),"data-position":"top-left",...f,children:k.jsx(Ps,{children:W["top-left"]})}),k.jsx(ne,{...N("root",{className:ql.classNames.fullWidth}),"data-position":"top-right",...f,children:k.jsx(Ps,{children:W["top-right"]})}),k.jsx(ne,{...N("root",{className:ql.classNames.fullWidth}),"data-position":"bottom-right",...f,children:k.jsx(Ps,{children:W["bottom-right"]})}),k.jsx(ne,{...N("root"),"data-position":"bottom-left",...f,children:k.jsx(Ps,{children:W["bottom-left"]})}),k.jsx(ne,{...N("root"),"data-position":"bottom-center",...f,children:k.jsx(Ps,{children:W["bottom-center"]})})]})});ls.classes=j0;ls.displayName="@mantine/notifications/Notifications";ls.show=As.show;ls.hide=As.hide;ls.update=As.update;ls.clean=As.clean;ls.cleanQueue=As.cleanQueue;ls.updateState=As.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},za.apply(this,arguments)}var Ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ms||(Ms={}));const Kw="popstate";function TL(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:u="",hash:p=""}=wo(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),fh("",{pathname:c,search:u,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let p=i.location.href,h=p.indexOf("#");u=h===-1?p:p.slice(0,h)}return u+"#"+(typeof a=="string"?a:ru(a))}function s(i,a){Um(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return PL(t,r,s,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Um(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kL(){return Math.random().toString(36).substr(2,8)}function Yw(e,t){return{usr:e.state,key:e.key,idx:t}}function fh(e,t,r,s){return r===void 0&&(r=null),za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wo(t):t,{state:r,key:t&&t.key||s||kL()})}function ru(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function wo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function PL(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,c=i.history,u=Ms.Pop,p=null,h=y();h==null&&(h=0,c.replaceState(za({},c.state,{idx:h}),""));function y(){return(c.state||{idx:null}).idx}function v(){u=Ms.Pop;let C=y(),R=C==null?null:C-h;h=C,p&&p({action:u,location:E.location,delta:R})}function w(C,R){u=Ms.Push;let _=fh(E.location,C,R);r&&r(_,C),h=y()+1;let f=Yw(_,h),d=E.createHref(_);try{c.pushState(f,"",d)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;i.location.assign(d)}a&&p&&p({action:u,location:E.location,delta:1})}function S(C,R){u=Ms.Replace;let _=fh(E.location,C,R);r&&r(_,C),h=y();let f=Yw(_,h),d=E.createHref(_);c.replaceState(f,"",d),a&&p&&p({action:u,location:E.location,delta:0})}function b(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:ru(C);return _=_.replace(/ $/,"%20"),St(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let E={get action(){return u},get location(){return e(i,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Kw,v),p=C,()=>{i.removeEventListener(Kw,v),p=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let R=b(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:S,go(C){return c.go(C)}};return E}var Xw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xw||(Xw={}));function DL(e,t,r){return r===void 0&&(r="/"),ML(e,t,r)}function ML(e,t,r,s){let i=typeof t=="string"?wo(t):t,a=Vm(i.pathname||"/",r);if(a==null)return null;let c=O0(e);LL(c);let u=null;for(let p=0;u==null&&p<c.length;++p){let h=HL(a);u=BL(c[p],h)}return u}function O0(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,c,u)=>{let p={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(St(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let h=Ls([s,p.relativePath]),y=r.concat(p);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),O0(a.children,t,y,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:FL(h,a.index),routesMeta:y})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let p of N0(a.path))i(a,c,p)}),t}function N0(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let c=N0(s.join("/")),u=[];return u.push(...c.map(p=>p===""?a:[a,p].join("/"))),i&&u.push(...c),u.map(p=>e.startsWith("/")&&p===""?"/":p)}function LL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zL(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const IL=/^:[\w-]+$/,jL=3,OL=2,NL=1,AL=10,$L=-2,Qw=e=>e==="*";function FL(e,t){let r=e.split("/"),s=r.length;return r.some(Qw)&&(s+=$L),t&&(s+=OL),r.filter(i=>!Qw(i)).reduce((i,a)=>i+(IL.test(a)?jL:a===""?NL:AL),s)}function zL(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function BL(e,t,r){let{routesMeta:s}=e,i={},a="/",c=[];for(let u=0;u<s.length;++u){let p=s[u],h=u===s.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=UL({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),w=p.route;if(!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Ls([a,v.pathname]),pathnameBase:KL(Ls([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Ls([a,v.pathnameBase]))}return c}function UL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=VL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((h,y,v)=>{let{paramName:w,isOptional:S}=y;if(w==="*"){let E=u[v]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[v];return S&&!b?h[w]=void 0:h[w]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function VL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Um(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,p)=>(s.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function HL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Um(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function WL(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?wo(e):e;return{pathname:r?r.startsWith("/")?r:qL(r,t):t,search:YL(s),hash:XL(i)}}function qL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kp(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function A0(e,t){let r=GL(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function $0(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=wo(e):(i=za({},e),St(!i.pathname||!i.pathname.includes("?"),kp("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),kp("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),kp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=r;else{let v=t.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}u=v>=0?t[v]:"/"}let p=WL(i,u),h=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}const Ls=e=>e.join("/").replace(/\/\/+/g,"/"),KL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F0=["post","put","patch","delete"];new Set(F0);const ZL=["get",...F0];new Set(ZL);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ba.apply(this,arguments)}const Hm=L.createContext(null),JL=L.createContext(null),So=L.createContext(null),Qu=L.createContext(null),_o=L.createContext({outlet:null,matches:[],isDataRoute:!1}),z0=L.createContext(null);function eI(e,t){let{relative:r}=t===void 0?{}:t;ec()||St(!1);let{basename:s,navigator:i}=L.useContext(So),{hash:a,pathname:c,search:u}=U0(e,{relative:r}),p=c;return s!=="/"&&(p=c==="/"?s:Ls([s,c])),i.createHref({pathname:p,search:u,hash:a})}function ec(){return L.useContext(Qu)!=null}function Zu(){return ec()||St(!1),L.useContext(Qu).location}function B0(e){L.useContext(So).static||L.useLayoutEffect(e)}function bo(){let{isDataRoute:e}=L.useContext(_o);return e?pI():tI()}function tI(){ec()||St(!1);let e=L.useContext(Hm),{basename:t,future:r,navigator:s}=L.useContext(So),{matches:i}=L.useContext(_o),{pathname:a}=Zu(),c=JSON.stringify(A0(i,r.v7_relativeSplatPath)),u=L.useRef(!1);return B0(()=>{u.current=!0}),L.useCallback(function(h,y){if(y===void 0&&(y={}),!u.current)return;if(typeof h=="number"){s.go(h);return}let v=$0(h,JSON.parse(c),a,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ls([t,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[t,s,c,a,e])}function U0(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=L.useContext(So),{matches:i}=L.useContext(_o),{pathname:a}=Zu(),c=JSON.stringify(A0(i,s.v7_relativeSplatPath));return L.useMemo(()=>$0(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function rI(e,t){return nI(e,t)}function nI(e,t,r,s){ec()||St(!1);let{navigator:i}=L.useContext(So),{matches:a}=L.useContext(_o),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let h=Zu(),y;if(t){var v;let C=typeof t=="string"?wo(t):t;p==="/"||(v=C.pathname)!=null&&v.startsWith(p)||St(!1),y=C}else y=h;let w=y.pathname||"/",S=w;if(p!=="/"){let C=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=DL(e,{pathname:S}),E=cI(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ls([p,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Ls([p,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,s);return t&&E?L.createElement(Qu.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ms.Pop}},E):E}function sI(){let e=fI(),t=QL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:i},r):null,null)}const oI=L.createElement(sI,null);class iI extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?L.createElement(_o.Provider,{value:this.props.routeContext},L.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aI(e){let{routeContext:t,match:r,children:s}=e,i=L.useContext(Hm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(_o.Provider,{value:t},s)}function cI(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let y=c.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);y>=0||St(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,h=-1;if(r&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=y),v.route.id){let{loaderData:w,errors:S}=r,b=v.route.loader&&w[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||b){p=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((y,v,w)=>{let S,b=!1,E=null,C=null;r&&(S=u&&v.route.id?u[v.route.id]:void 0,E=v.route.errorElement||oI,p&&(h<0&&w===0?(hI("route-fallback"),b=!0,C=null):h===w&&(b=!0,C=v.route.hydrateFallbackElement||null)));let R=t.concat(c.slice(0,w+1)),_=()=>{let f;return S?f=E:b?f=C:v.route.Component?f=L.createElement(v.route.Component,null):v.route.element?f=v.route.element:f=y,L.createElement(aI,{match:v,routeContext:{outlet:y,matches:R,isDataRoute:r!=null},children:f})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?L.createElement(iI,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var V0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V0||{}),H0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(H0||{});function lI(e){let t=L.useContext(Hm);return t||St(!1),t}function uI(e){let t=L.useContext(JL);return t||St(!1),t}function dI(e){let t=L.useContext(_o);return t||St(!1),t}function W0(e){let t=dI(),r=t.matches[t.matches.length-1];return r.route.id||St(!1),r.route.id}function fI(){var e;let t=L.useContext(z0),r=uI(),s=W0();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function pI(){let{router:e}=lI(V0.UseNavigateStable),t=W0(H0.UseNavigateStable),r=L.useRef(!1);return B0(()=>{r.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ba({fromRouteId:t},a)))},[e,t])}const Zw={};function hI(e,t,r){Zw[e]||(Zw[e]=!0)}const Jw={};function mI(e,t){Jw[t]||(Jw[t]=!0,console.warn(t))}const eS=(e,t,r)=>mI(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function gI(e,t){e!=null&&e.v7_startTransition||eS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||eS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Pa(e){St(!1)}function vI(e){let{basename:t="/",children:r=null,location:s,navigationType:i=Ms.Pop,navigator:a,static:c=!1,future:u}=e;ec()&&St(!1);let p=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:p,navigator:a,static:c,future:Ba({v7_relativeSplatPath:!1},u)}),[p,u,a,c]);typeof s=="string"&&(s=wo(s));let{pathname:y="/",search:v="",hash:w="",state:S=null,key:b="default"}=s,E=L.useMemo(()=>{let C=Vm(y,p);return C==null?null:{location:{pathname:C,search:v,hash:w,state:S,key:b},navigationType:i}},[p,y,v,w,S,b,i]);return E==null?null:L.createElement(So.Provider,{value:h},L.createElement(Qu.Provider,{children:r,value:E}))}function yI(e){let{children:t,location:r}=e;return rI(ph(t),r)}new Promise(()=>{});function ph(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(s,i)=>{if(!L.isValidElement(s))return;let a=[...t,i];if(s.type===L.Fragment){r.push.apply(r,ph(s.props.children,a));return}s.type!==Pa&&St(!1),!s.props.index||!s.props.children||St(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=ph(s.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hh.apply(this,arguments)}function wI(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function SI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _I(e,t){return e.button===0&&(!t||t==="_self")&&!SI(e)}const bI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xI="6";try{window.__reactRouterVersion=xI}catch{}const CI="startTransition",tS=k_[CI];function RI(e){let{basename:t,children:r,future:s,window:i}=e,a=L.useRef();a.current==null&&(a.current=TL({window:i,v5Compat:!0}));let c=a.current,[u,p]=L.useState({action:c.action,location:c.location}),{v7_startTransition:h}=s||{},y=L.useCallback(v=>{h&&tS?tS(()=>p(v)):p(v)},[p,h]);return L.useLayoutEffect(()=>c.listen(y),[c,y]),L.useEffect(()=>gI(s),[s]),L.createElement(vI,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:s})}const EI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rS=L.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:a,replace:c,state:u,target:p,to:h,preventScrollReset:y,viewTransition:v}=t,w=wI(t,bI),{basename:S}=L.useContext(So),b,E=!1;if(typeof h=="string"&&TI.test(h)&&(b=h,EI))try{let f=new URL(window.location.href),d=h.startsWith("//")?new URL(f.protocol+h):new URL(h),g=Vm(d.pathname,S);d.origin===f.origin&&g!=null?h=g+d.search+d.hash:E=!0}catch{}let C=eI(h,{relative:i}),R=kI(h,{replace:c,state:u,target:p,preventScrollReset:y,relative:i,viewTransition:v});function _(f){s&&s(f),f.defaultPrevented||R(f)}return L.createElement("a",hh({},w,{href:b||C,onClick:E||a?s:_,ref:r,target:p}))});var nS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nS||(nS={}));var sS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function kI(e,t){let{target:r,replace:s,state:i,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,p=bo(),h=Zu(),y=U0(e,{relative:c});return L.useCallback(v=>{if(_I(v,r)){v.preventDefault();let w=s!==void 0?s:ru(h)===ru(y);p(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[h,p,y,s,i,r,e,a,c,u])}const q0=L.createContext(void 0),G0=L.createContext(null),xo=()=>{const e=L.useContext(G0);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},An=Object.create(null);An.open="0";An.close="1";An.ping="2";An.pong="3";An.message="4";An.upgrade="5";An.noop="6";const Dl=Object.create(null);Object.keys(An).forEach(e=>{Dl[An[e]]=e});const mh={type:"error",data:"parser error"},K0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Y0=typeof ArrayBuffer=="function",X0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Wm=({type:e,data:t},r,s)=>K0&&t instanceof Blob?r?s(t):oS(t,s):Y0&&(t instanceof ArrayBuffer||X0(t))?r?s(t):oS(new Blob([t]),s):s(An[e]+(t||"")),oS=(e,t)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];t("b"+(s||""))},r.readAsDataURL(e)};function iS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Pp;function PI(e,t){if(K0&&e.data instanceof Blob)return e.data.arrayBuffer().then(iS).then(t);if(Y0&&(e.data instanceof ArrayBuffer||X0(e.data)))return t(iS(e.data));Wm(e,!1,r=>{Pp||(Pp=new TextEncoder),t(Pp.encode(r))})}const aS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Da=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<aS.length;e++)Da[aS.charCodeAt(e)]=e;const DI=e=>{let t=e.length*.75,r=e.length,s,i=0,a,c,u,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),y=new Uint8Array(h);for(s=0;s<r;s+=4)a=Da[e.charCodeAt(s)],c=Da[e.charCodeAt(s+1)],u=Da[e.charCodeAt(s+2)],p=Da[e.charCodeAt(s+3)],y[i++]=a<<2|c>>4,y[i++]=(c&15)<<4|u>>2,y[i++]=(u&3)<<6|p&63;return h},MI=typeof ArrayBuffer=="function",qm=(e,t)=>{if(typeof e!="string")return{type:"message",data:Q0(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:LI(e.substring(1),t)}:Dl[r]?e.length>1?{type:Dl[r],data:e.substring(1)}:{type:Dl[r]}:mh},LI=(e,t)=>{if(MI){const r=DI(e);return Q0(r,t)}else return{base64:!0,data:e}},Q0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Z0="",II=(e,t)=>{const r=e.length,s=new Array(r);let i=0;e.forEach((a,c)=>{Wm(a,!1,u=>{s[c]=u,++i===r&&t(s.join(Z0))})})},jI=(e,t)=>{const r=e.split(Z0),s=[];for(let i=0;i<r.length;i++){const a=qm(r[i],t);if(s.push(a),a.type==="error")break}return s};function OI(){return new TransformStream({transform(e,t){PI(e,r=>{const s=r.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Dp;function vl(e){return e.reduce((t,r)=>t+r.length,0)}function yl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)r[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function NI(e,t){Dp||(Dp=new TextDecoder);const r=[];let s=0,i=-1,a=!1;return new TransformStream({transform(c,u){for(r.push(c);;){if(s===0){if(vl(r)<1)break;const p=yl(r,1);a=(p[0]&128)===128,i=p[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(vl(r)<2)break;const p=yl(r,2);i=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(vl(r)<8)break;const p=yl(r,8),h=new DataView(p.buffer,p.byteOffset,p.length),y=h.getUint32(0);if(y>Math.pow(2,21)-1){u.enqueue(mh);break}i=y*Math.pow(2,32)+h.getUint32(4),s=3}else{if(vl(r)<i)break;const p=yl(r,i);u.enqueue(qm(a?p:Dp.decode(p),t)),s=0}if(i===0||i>e){u.enqueue(mh);break}}}})}const J0=4;function wt(e){if(e)return AI(e)}function AI(e){for(var t in wt.prototype)e[t]=wt.prototype[t];return e}wt.prototype.on=wt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};wt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};wt.prototype.off=wt.prototype.removeListener=wt.prototype.removeAllListeners=wt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,i=0;i<r.length;i++)if(s=r[i],s===t||s.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};wt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,i=r.length;s<i;++s)r[s].apply(this,t)}return this};wt.prototype.emitReserved=wt.prototype.emit;wt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};wt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ju=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),$I="arraybuffer";function e1(e,...t){return t.reduce((r,s)=>(e.hasOwnProperty(s)&&(r[s]=e[s]),r),{})}const FI=jr.setTimeout,zI=jr.clearTimeout;function ed(e,t){t.useNativeTimers?(e.setTimeoutFn=FI.bind(jr),e.clearTimeoutFn=zI.bind(jr)):(e.setTimeoutFn=jr.setTimeout.bind(jr),e.clearTimeoutFn=jr.clearTimeout.bind(jr))}const BI=1.33;function UI(e){return typeof e=="string"?VI(e):Math.ceil((e.byteLength||e.size)*BI)}function VI(e){let t=0,r=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}function t1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function HI(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function WI(e){let t={},r=e.split("&");for(let s=0,i=r.length;s<i;s++){let a=r[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class qI extends Error{constructor(t,r,s){super(t),this.description=r,this.context=s,this.type="TransportError"}}let Gm=class extends wt{constructor(t){super(),this.writable=!1,ed(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,s){return super.emitReserved("error",new qI(t,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=qm(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=HI(t);return r.length?"?"+r:""}};class GI extends Gm{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};jI(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,II(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=t1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let r1=!1;try{r1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const KI=r1;function YI(){}class XI extends GI{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,r){const s=this.request({method:"POST",data:t});s.on("success",r),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=t}}class jn extends wt{constructor(t,r,s){super(),this.createRequest=t,ed(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const r=e1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=jn.requestsCount++,jn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=YI,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete jn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}jn.requestsCount=0;jn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cS);else if(typeof addEventListener=="function"){const e="onpagehide"in jr?"pagehide":"unload";addEventListener(e,cS,!1)}}function cS(){for(let e in jn.requests)jn.requests.hasOwnProperty(e)&&jn.requests[e].abort()}const QI=function(){const e=n1({xdomain:!1});return e&&e.responseType!==null}();class ZI extends XI{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=QI&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new jn(n1,this.uri(),t)}}function n1(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||KI))return new XMLHttpRequest}catch{}if(!t)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const s1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JI extends Gm{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,s=s1?{}:e1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;Wm(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&Ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=t1()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Mp=jr.WebSocket||jr.MozWebSocket;class ej extends JI{createSocket(t,r,s){return s1?new Mp(t,r,s):r?new Mp(t,r):new Mp(t)}doWrite(t,r){this.ws.send(r)}}class tj extends Gm{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=NI(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(r).getReader(),i=OI();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:u,value:p})=>{u||(this.onPacket(p),a())}).catch(u=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;this._writer.write(s).then(()=>{i&&Ju(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const rj={websocket:ej,webtransport:tj,polling:ZI},nj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let i=nj.exec(e||""),a={},c=14;for(;c--;)a[sj[c]]=i[c]||"";return r!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=oj(a,a.path),a.queryKey=ij(a,a.query),a}function oj(e,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function ij(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(r[i]=a)}),r}const vh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ml=[];vh&&addEventListener("offline",()=>{Ml.forEach(e=>e())},!1);class Is extends wt{constructor(t,r){if(super(),this.binaryType=$I,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const s=gh(t);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=gh(r.host).host);ed(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=WI(this.opts.query)),vh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ml.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=J0,r.transport=t,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Is.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Is.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(r+=UI(i)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ju(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,s){return this._sendPacket("message",t,r,s),this}send(t,r,s){return this._sendPacket("message",t,r,s),this}_sendPacket(t,r,s,i){if(typeof r=="function"&&(i=r,r=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:t,data:r,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Is.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),vh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ml.indexOf(this._offlineEventListener);s!==-1&&Ml.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Is.protocol=J0;class aj extends Is{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),s=!1;Is.priorWebsocketSuccess=!1;const i=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!s)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Is.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function a(){s||(s=!0,y(),r.close(),r=null)}const c=v=>{const w=new Error("probe error: "+v);w.transport=r.name,a(),this.emitReserved("upgradeError",w)};function u(){c("transport closed")}function p(){c("socket closed")}function h(v){r&&v.name!==r.name&&a()}const y=()=>{r.removeListener("open",i),r.removeListener("error",c),r.removeListener("close",u),this.off("close",p),this.off("upgrading",h)};r.once("open",i),r.once("error",c),r.once("close",u),this.once("close",p),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&r.push(t[s]);return r}}let cj=class extends aj{constructor(t,r={}){const s=typeof t=="object"?t:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>rj[i]).filter(i=>!!i)),super(t,s)}};function lj(e,t="",r){let s=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),s=gh(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(r&&r.port===s.port?"":":"+s.port),s}const uj=typeof ArrayBuffer=="function",dj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,o1=Object.prototype.toString,fj=typeof Blob=="function"||typeof Blob<"u"&&o1.call(Blob)==="[object BlobConstructor]",pj=typeof File=="function"||typeof File<"u"&&o1.call(File)==="[object FileConstructor]";function Km(e){return uj&&(e instanceof ArrayBuffer||dj(e))||fj&&e instanceof Blob||pj&&e instanceof File}function Ll(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,s=e.length;r<s;r++)if(Ll(e[r]))return!0;return!1}if(Km(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ll(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ll(e[r]))return!0;return!1}function hj(e){const t=[],r=e.data,s=e;return s.data=yh(r,t),s.attachments=t.length,{packet:s,buffers:t}}function yh(e,t){if(!e)return e;if(Km(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=yh(e[s],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=yh(e[s],t));return r}return e}function mj(e,t){return e.data=wh(e.data,t),delete e.attachments,e}function wh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=wh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=wh(e[r],t));return e}const gj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vj=5;var Oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Oe||(Oe={}));class yj{constructor(t){this.replacer=t}encode(t){return(t.type===Oe.EVENT||t.type===Oe.ACK)&&Ll(t)?this.encodeAsBinary({type:t.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Oe.BINARY_EVENT||t.type===Oe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=hj(t),s=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(s),i}}function lS(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ym extends wt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const s=r.type===Oe.BINARY_EVENT;s||r.type===Oe.BINARY_ACK?(r.type=s?Oe.EVENT:Oe.ACK,this.reconstructor=new wj(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Km(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const s={type:Number(t.charAt(0))};if(Oe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Oe.BINARY_EVENT||s.type===Oe.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););s.nsp=t.substring(a,r)}else s.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}s.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Ym.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Oe.CONNECT:return lS(r);case Oe.DISCONNECT:return r===void 0;case Oe.CONNECT_ERROR:return typeof r=="string"||lS(r);case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&gj.indexOf(r[0])===-1);case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wj{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=mj(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Sj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ym,Encoder:yj,get PacketType(){return Oe},protocol:vj},Symbol.toStringTag,{value:"Module"}));function dn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const _j=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i1 extends wt{constructor(t,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[dn(t,"open",this.onopen.bind(this)),dn(t,"packet",this.onpacket.bind(this)),dn(t,"error",this.onerror.bind(this)),dn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var s,i,a;if(_j.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Oe.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const y=this.ids++,v=r.pop();this._registerAckCallback(y,v),c.id=y}const u=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,p=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!u||(p?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(a),r.apply(this,u)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((s,i)=>{const a=(c,u)=>c?i(c):s(u);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Oe.EVENT:case Oe.BINARY_EVENT:this.onevent(t);break;case Oe.ACK:case Oe.BINARY_ACK:this.onack(t);break;case Oe.DISCONNECT:this.ondisconnect();break;case Oe.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let s=!1;return function(...i){s||(s=!0,r.packet({type:Oe.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,t.data)}}}function ki(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ki.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};ki.prototype.reset=function(){this.attempts=0};ki.prototype.setMin=function(e){this.ms=e};ki.prototype.setMax=function(e){this.max=e};ki.prototype.setJitter=function(e){this.jitter=e};class Sh extends wt{constructor(t,r){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ed(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ki({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||Sj;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new cj(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=dn(r,"open",function(){s.onopen(),t&&t()}),a=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=dn(r,"error",a);if(this._timeout!==!1){const u=this._timeout,p=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},u);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(dn(t,"ping",this.onping.bind(this)),dn(t,"data",this.ondata.bind(this)),dn(t,"error",this.onerror.bind(this)),dn(t,"close",this.onclose.bind(this)),dn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ju(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new i1(this,t,r),this.nsps[t]=s),s}_destroy(t){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let s=0;s<r.length;s++)this.engine.write(r[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ga={};function Il(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=lj(e,t.path||"/socket.io"),s=r.source,i=r.id,a=r.path,c=ga[i]&&a in ga[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let p;return u?p=new Sh(s,t):(ga[i]||(ga[i]=new Sh(s,t)),p=ga[i]),r.query&&!t.query&&(t.query=r.queryKey),p.socket(r.path,t)}Object.assign(Il,{Manager:Sh,Socket:i1,io:Il,connect:Il});const Mt="https://hitscord-backend.online",bj="https://hitscord-backend.ru/mediasoup",De=Il(bj);De.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var Yr={},wl={exports:{}},Lp,uS;function xj(){if(uS)return Lp;uS=1;var e=1e3,t=e*60,r=t*60,s=r*24,i=s*7,a=s*365.25;Lp=function(y,v){v=v||{};var w=typeof y;if(w==="string"&&y.length>0)return c(y);if(w==="number"&&isFinite(y))return v.long?p(y):u(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(v){var w=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*s;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function u(y){var v=Math.abs(y);return v>=s?Math.round(y/s)+"d":v>=r?Math.round(y/r)+"h":v>=t?Math.round(y/t)+"m":v>=e?Math.round(y/e)+"s":y+"ms"}function p(y){var v=Math.abs(y);return v>=s?h(y,v,s,"day"):v>=r?h(y,v,r,"hour"):v>=t?h(y,v,t,"minute"):v>=e?h(y,v,e,"second"):y+" ms"}function h(y,v,w,S){var b=v>=w*1.5;return Math.round(y/w)+" "+S+(b?"s":"")}return Lp}var Ip,dS;function Cj(){if(dS)return Ip;dS=1;function e(t){s.debug=s,s.default=s,s.coerce=h,s.disable=c,s.enable=a,s.enabled=u,s.humanize=xj(),s.destroy=y,Object.keys(t).forEach(v=>{s[v]=t[v]}),s.names=[],s.skips=[],s.formatters={};function r(v){let w=0;for(let S=0;S<v.length;S++)w=(w<<5)-w+v.charCodeAt(S),w|=0;return s.colors[Math.abs(w)%s.colors.length]}s.selectColor=r;function s(v){let w,S=null,b,E;function C(...R){if(!C.enabled)return;const _=C,f=Number(new Date),d=f-(w||f);_.diff=d,_.prev=w,_.curr=f,w=f,R[0]=s.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let g=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(P,M)=>{if(P==="%%")return"%";g++;const j=s.formatters[M];if(typeof j=="function"){const I=R[g];P=j.call(_,I),R.splice(g,1),g--}return P}),s.formatArgs.call(_,R),(_.log||s.log).apply(_,R)}return C.namespace=v,C.useColors=s.useColors(),C.color=s.selectColor(v),C.extend=i,C.destroy=s.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(b!==s.namespaces&&(b=s.namespaces,E=s.enabled(v)),E),set:R=>{S=R}}),typeof s.init=="function"&&s.init(C),C}function i(v,w){const S=s(this.namespace+(typeof w>"u"?":":w)+v);return S.log=this.log,S}function a(v){s.save(v),s.namespaces=v,s.names=[],s.skips=[];let w;const S=(typeof v=="string"?v:"").split(/[\s,]+/),b=S.length;for(w=0;w<b;w++)S[w]&&(v=S[w].replace(/\*/g,".*?"),v[0]==="-"?s.skips.push(new RegExp("^"+v.slice(1)+"$")):s.names.push(new RegExp("^"+v+"$")))}function c(){const v=[...s.names.map(p),...s.skips.map(p).map(w=>"-"+w)].join(",");return s.enable(""),v}function u(v){if(v[v.length-1]==="*")return!0;let w,S;for(w=0,S=s.skips.length;w<S;w++)if(s.skips[w].test(v))return!1;for(w=0,S=s.names.length;w<S;w++)if(s.names[w].test(v))return!0;return!1}function p(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function h(v){return v instanceof Error?v.stack||v.message:v}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}return Ip=e,Ip}var fS;function td(){return fS||(fS=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=c,t.useColors=s,t.storage=u(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;h.splice(1,0,y,"color: inherit");let v=0,w=0;h[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(v++,S==="%c"&&(w=v))}),h.splice(w,0,y)}t.log=console.debug||console.log||(()=>{});function a(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function c(){let h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function u(){try{return localStorage}catch{}}e.exports=Cj()(t);const{formatters:p}=e.exports;p.j=function(h){try{return JSON.stringify(h)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}}(wl,wl.exports)),wl.exports}var Ir={},Ma={exports:{}},Rj=Ma.exports,pS;function Ej(){return pS||(pS=1,function(e,t){(function(r,s){var i="1.0.39",a="",c="?",u="function",p="undefined",h="object",y="string",v="major",w="model",S="name",b="type",E="vendor",C="version",R="architecture",_="console",f="mobile",d="tablet",g="smarttv",x="wearable",P="embedded",M=500,j="Amazon",I="Apple",A="ASUS",N="BlackBerry",V="Browser",W="Chrome",J="Edge",O="Firefox",B="Google",F="Huawei",z="LG",G="Microsoft",U="Motorola",X="Opera",ce="Samsung",pe="Sharp",ee="Sony",le="Xiaomi",ue="Zebra",Se="Facebook",me="Chromium OS",ke="Mac OS",Le=" Browser",bt=function(Re,Ee){var ve={};for(var Ie in Re)Ee[Ie]&&Ee[Ie].length%2===0?ve[Ie]=Ee[Ie].concat(Re[Ie]):ve[Ie]=Re[Ie];return ve},vt=function(Re){for(var Ee={},ve=0;ve<Re.length;ve++)Ee[Re[ve].toUpperCase()]=Re[ve];return Ee},He=function(Re,Ee){return typeof Re===y?nt(Ee).indexOf(nt(Re))!==-1:!1},nt=function(Re){return Re.toLowerCase()},Qe=function(Re){return typeof Re===y?Re.replace(/[^\d\.]/g,a).split(".")[0]:s},We=function(Re,Ee){if(typeof Re===y)return Re=Re.replace(/^\s\s*/,a),typeof Ee===p?Re:Re.substring(0,M)},xt=function(Re,Ee){for(var ve=0,Ie,pt,$e,je,we,it;ve<Ee.length&&!we;){var Fn=Ee[ve],Eo=Ee[ve+1];for(Ie=pt=0;Ie<Fn.length&&!we&&Fn[Ie];)if(we=Fn[Ie++].exec(Re),we)for($e=0;$e<Eo.length;$e++)it=we[++pt],je=Eo[$e],typeof je===h&&je.length>0?je.length===2?typeof je[1]==u?this[je[0]]=je[1].call(this,it):this[je[0]]=je[1]:je.length===3?typeof je[1]===u&&!(je[1].exec&&je[1].test)?this[je[0]]=it?je[1].call(this,it,je[2]):s:this[je[0]]=it?it.replace(je[1],je[2]):s:je.length===4&&(this[je[0]]=it?je[3].call(this,it.replace(je[1],je[2])):s):this[je]=it||s;ve+=2}},ut=function(Re,Ee){for(var ve in Ee)if(typeof Ee[ve]===h&&Ee[ve].length>0){for(var Ie=0;Ie<Ee[ve].length;Ie++)if(He(Ee[ve][Ie],Re))return ve===c?s:ve}else if(He(Ee[ve],Re))return ve===c?s:ve;return Ee.hasOwnProperty("*")?Ee["*"]:Re},Be={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},st={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,C],[/opios[\/ ]+([\w\.]+)/i],[C,[S,X+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[C,[S,X+" GX"]],[/\bopr\/([\w\.]+)/i],[C,[S,X]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,C],[/quark(?:pc)?\/([-\w\.]+)/i],[C,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[C,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[S,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[S,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+V],C],[/\bfocus\/([\w\.]+)/i],[C,[S,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[S,X+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[S,X+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[S,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[C,[S,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+Le]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],C],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+Le],C],[/samsungbrowser\/([\w\.]+)/i],[C,[S,ce+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,C],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,Se],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[S,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[C,ut,Be]],[/(webkit|khtml)\/([\w\.]+)/i],[S,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],C],[/(wolvic)\/([\w\.]+)/i],[S,C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[S,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[C,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[R,"amd64"]],[/(ia32(?=;))/i],[[R,nt]],[/((?:i[346]|x)86)[;\)]/i],[[R,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[R,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[R,"armhf"]],[/windows (ce|mobile); ppc;/i],[[R,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[R,/ower/,a,nt]],[/(sun4\w)[;\)]/i],[[R,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[R,nt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[E,ce],[b,d]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[E,ce],[b,f]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[E,I],[b,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[E,I],[b,d]],[/(macintosh);/i],[w,[E,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[E,pe],[b,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[E,F],[b,d]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[E,F],[b,f]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[w,/_/g," "],[E,le],[b,f]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[E,le],[b,d]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[E,"OPPO"],[b,f]],[/\b(opd2\d{3}a?) bui/i],[w,[E,"OPPO"],[b,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[E,"Vivo"],[b,f]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[E,"Realme"],[b,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[E,U],[b,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[E,U],[b,d]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[E,z],[b,d]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[E,z],[b,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[E,"Lenovo"],[b,d]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[E,"Nokia"],[b,f]],[/(pixel c)\b/i],[w,[E,B],[b,d]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[E,B],[b,f]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[E,ee],[b,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[E,ee],[b,d]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[E,"OnePlus"],[b,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[E,j],[b,d]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[E,j],[b,f]],[/(playbook);[-\w\),; ]+(rim)/i],[w,E,[b,d]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[E,N],[b,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[E,A],[b,d]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[E,A],[b,f]],[/(nexus 9)/i],[w,[E,"HTC"],[b,d]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[w,/_/g," "],[b,f]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[w,[E,"TCL"],[b,d]],[/(itel) ((\w+))/i],[[E,nt],w,[b,ut,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[E,"Acer"],[b,d]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[E,"Meizu"],[b,f]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[E,"Ulefone"],[b,f]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[E,"Nothing"],[b,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,w,[b,f]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,w,[b,d]],[/(surface duo)/i],[w,[E,G],[b,d]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[E,"Fairphone"],[b,f]],[/(u304aa)/i],[w,[E,"AT&T"],[b,f]],[/\bsie-(\w*)/i],[w,[E,"Siemens"],[b,f]],[/\b(rct\w+) b/i],[w,[E,"RCA"],[b,d]],[/\b(venue[\d ]{2,7}) b/i],[w,[E,"Dell"],[b,d]],[/\b(q(?:mv|ta)\w+) b/i],[w,[E,"Verizon"],[b,d]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[E,"Barnes & Noble"],[b,d]],[/\b(tm\d{3}\w+) b/i],[w,[E,"NuVision"],[b,d]],[/\b(k88) b/i],[w,[E,"ZTE"],[b,d]],[/\b(nx\d{3}j) b/i],[w,[E,"ZTE"],[b,f]],[/\b(gen\d{3}) b.+49h/i],[w,[E,"Swiss"],[b,f]],[/\b(zur\d{3}) b/i],[w,[E,"Swiss"],[b,d]],[/\b((zeki)?tb.*\b) b/i],[w,[E,"Zeki"],[b,d]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],w,[b,d]],[/\b(ns-?\w{0,9}) b/i],[w,[E,"Insignia"],[b,d]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[E,"NextBook"],[b,d]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],w,[b,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],w,[b,f]],[/\b(ph-1) /i],[w,[E,"Essential"],[b,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[E,"Envizen"],[b,d]],[/\b(trio[-\w\. ]+) b/i],[w,[E,"MachSpeed"],[b,d]],[/\btu_(1491) b/i],[w,[E,"Rotor"],[b,d]],[/(shield[\w ]+) b/i],[w,[E,"Nvidia"],[b,d]],[/(sprint) (\w+)/i],[E,w,[b,f]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[E,G],[b,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[E,ue],[b,d]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[E,ue],[b,f]],[/smart-tv.+(samsung)/i],[E,[b,g]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[E,ce],[b,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,z],[b,g]],[/(apple) ?tv/i],[E,[w,I+" TV"],[b,g]],[/crkey/i],[[w,W+"cast"],[E,B],[b,g]],[/droid.+aft(\w+)( bui|\))/i],[w,[E,j],[b,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[E,pe],[b,g]],[/(bravia[\w ]+)( bui|\))/i],[w,[E,ee],[b,g]],[/(mitv-\w{5}) bui/i],[w,[E,le],[b,g]],[/Hbbtv.*(technisat) (.*);/i],[E,w,[b,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,We],[w,We],[b,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,w,[b,_]],[/droid.+; (shield) bui/i],[w,[E,"Nvidia"],[b,_]],[/(playstation [345portablevi]+)/i],[w,[E,ee],[b,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[E,G],[b,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[w,[E,ce],[b,x]],[/((pebble))app/i],[E,w,[b,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[E,I],[b,x]],[/droid.+; (glass) \d/i],[w,[E,B],[b,x]],[/droid.+; (wt63?0{2,3})\)/i],[w,[E,ue],[b,x]],[/(quest( \d| pro)?)/i],[w,[E,Se],[b,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[b,P]],[/(aeobc)\b/i],[w,[E,j],[b,P]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[b,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[b,d]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,d]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,f]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[S,J+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[C,ut,Ne]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,ut,Ne],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,ke],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,C],[/\(bb(10);/i],[C,[S,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[S,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,me],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,C],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,C]]},Tt=function(Re,Ee){if(typeof Re===h&&(Ee=Re,Re=s),!(this instanceof Tt))return new Tt(Re,Ee).getResult();var ve=typeof r!==p&&r.navigator?r.navigator:s,Ie=Re||(ve&&ve.userAgent?ve.userAgent:a),pt=ve&&ve.userAgentData?ve.userAgentData:s,$e=Ee?bt(st,Ee):st,je=ve&&ve.userAgent==Ie;return this.getBrowser=function(){var we={};return we[S]=s,we[C]=s,xt.call(we,Ie,$e.browser),we[v]=Qe(we[C]),je&&ve&&ve.brave&&typeof ve.brave.isBrave==u&&(we[S]="Brave"),we},this.getCPU=function(){var we={};return we[R]=s,xt.call(we,Ie,$e.cpu),we},this.getDevice=function(){var we={};return we[E]=s,we[w]=s,we[b]=s,xt.call(we,Ie,$e.device),je&&!we[b]&&pt&&pt.mobile&&(we[b]=f),je&&we[w]=="Macintosh"&&ve&&typeof ve.standalone!==p&&ve.maxTouchPoints&&ve.maxTouchPoints>2&&(we[w]="iPad",we[b]=d),we},this.getEngine=function(){var we={};return we[S]=s,we[C]=s,xt.call(we,Ie,$e.engine),we},this.getOS=function(){var we={};return we[S]=s,we[C]=s,xt.call(we,Ie,$e.os),je&&!we[S]&&pt&&pt.platform&&pt.platform!="Unknown"&&(we[S]=pt.platform.replace(/chrome os/i,me).replace(/macos/i,ke)),we},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ie},this.setUA=function(we){return Ie=typeof we===y&&we.length>M?We(we,M):we,this},this.setUA(Ie),this};Tt.VERSION=i,Tt.BROWSER=vt([S,C,v]),Tt.CPU=vt([R]),Tt.DEVICE=vt([w,E,b,_,f,g,d,x,P]),Tt.ENGINE=Tt.OS=vt([S,C]),e.exports&&(t=e.exports=Tt),t.UAParser=Tt;var ot=typeof r!==p&&(r.jQuery||r.Zepto);if(ot&&!ot.ua){var Lt=new Tt;ot.ua=Lt.getResult(),ot.ua.get=function(){return Lt.getUA()},ot.ua.set=function(Re){Lt.setUA(Re);var Ee=Lt.getResult();for(var ve in Ee)ot.ua[ve]=Ee[ve]}}})(typeof window=="object"?window:Rj)}(Ma,Ma.exports)),Ma.exports}var to={},hS;function _t(){if(hS)return to;hS=1;var e=to&&to.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(to,"__esModule",{value:!0}),to.Logger=void 0;const t=e(td()),r="mediasoup-client";class s{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return to.Logger=s,to}var va={},Sl={exports:{}},mS;function Tj(){if(mS)return Sl.exports;mS=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(g,x,P){return Function.prototype.apply.call(g,x,P)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:r=function(g){return Object.getOwnPropertyNames(g)};function s(d){console&&console.warn&&console.warn(d)}var i=Number.isNaN||function(g){return g!==g};function a(){a.init.call(this)}Sl.exports=a,Sl.exports.once=R,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(d){if(typeof d!="number"||d<0||i(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");c=d}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||i(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function p(d){return d._maxListeners===void 0?a.defaultMaxListeners:d._maxListeners}a.prototype.getMaxListeners=function(){return p(this)},a.prototype.emit=function(g){for(var x=[],P=1;P<arguments.length;P++)x.push(arguments[P]);var M=g==="error",j=this._events;if(j!==void 0)M=M&&j.error===void 0;else if(!M)return!1;if(M){var I;if(x.length>0&&(I=x[0]),I instanceof Error)throw I;var A=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw A.context=I,A}var N=j[g];if(N===void 0)return!1;if(typeof N=="function")t(N,this,x);else for(var V=N.length,W=b(N,V),P=0;P<V;++P)t(W[P],this,x);return!0};function h(d,g,x,P){var M,j,I;if(u(x),j=d._events,j===void 0?(j=d._events=Object.create(null),d._eventsCount=0):(j.newListener!==void 0&&(d.emit("newListener",g,x.listener?x.listener:x),j=d._events),I=j[g]),I===void 0)I=j[g]=x,++d._eventsCount;else if(typeof I=="function"?I=j[g]=P?[x,I]:[I,x]:P?I.unshift(x):I.push(x),M=p(d),M>0&&I.length>M&&!I.warned){I.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=d,A.type=g,A.count=I.length,s(A)}return d}a.prototype.addListener=function(g,x){return h(this,g,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(g,x){return h(this,g,x,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(d,g,x){var P={fired:!1,wrapFn:void 0,target:d,type:g,listener:x},M=y.bind(P);return M.listener=x,P.wrapFn=M,M}a.prototype.once=function(g,x){return u(x),this.on(g,v(this,g,x)),this},a.prototype.prependOnceListener=function(g,x){return u(x),this.prependListener(g,v(this,g,x)),this},a.prototype.removeListener=function(g,x){var P,M,j,I,A;if(u(x),M=this._events,M===void 0)return this;if(P=M[g],P===void 0)return this;if(P===x||P.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete M[g],M.removeListener&&this.emit("removeListener",g,P.listener||x));else if(typeof P!="function"){for(j=-1,I=P.length-1;I>=0;I--)if(P[I]===x||P[I].listener===x){A=P[I].listener,j=I;break}if(j<0)return this;j===0?P.shift():E(P,j),P.length===1&&(M[g]=P[0]),M.removeListener!==void 0&&this.emit("removeListener",g,A||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(g){var x,P,M;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[g]),this;if(arguments.length===0){var j=Object.keys(P),I;for(M=0;M<j.length;++M)I=j[M],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=P[g],typeof x=="function")this.removeListener(g,x);else if(x!==void 0)for(M=x.length-1;M>=0;M--)this.removeListener(g,x[M]);return this};function w(d,g,x){var P=d._events;if(P===void 0)return[];var M=P[g];return M===void 0?[]:typeof M=="function"?x?[M.listener||M]:[M]:x?C(M):b(M,M.length)}a.prototype.listeners=function(g){return w(this,g,!0)},a.prototype.rawListeners=function(g){return w(this,g,!1)},a.listenerCount=function(d,g){return typeof d.listenerCount=="function"?d.listenerCount(g):S.call(d,g)},a.prototype.listenerCount=S;function S(d){var g=this._events;if(g!==void 0){var x=g[d];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(d,g){for(var x=new Array(g),P=0;P<g;++P)x[P]=d[P];return x}function E(d,g){for(;g+1<d.length;g++)d[g]=d[g+1];d.pop()}function C(d){for(var g=new Array(d.length),x=0;x<g.length;++x)g[x]=d[x].listener||d[x];return g}function R(d,g){return new Promise(function(x,P){function M(I){d.removeListener(g,j),P(I)}function j(){typeof d.removeListener=="function"&&d.removeListener("error",M),x([].slice.call(arguments))}f(d,g,j,{once:!0}),g!=="error"&&_(d,M,{once:!0})})}function _(d,g,x){typeof d.on=="function"&&f(d,"error",g,x)}function f(d,g,x,P){if(typeof d.on=="function")P.once?d.once(g,x):d.on(g,x);else if(typeof d.addEventListener=="function")d.addEventListener(g,function M(j){P.once&&d.removeEventListener(g,M),x(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d)}return Sl.exports}var gS;function Co(){if(gS)return va;gS=1,Object.defineProperty(va,"__esModule",{value:!0}),va.EnhancedEventEmitter=void 0;const e=Tj(),t=_t(),r=new t.Logger("EnhancedEventEmitter");class s extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(u){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,u);try{super.emit("listenererror",a,u)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return va.EnhancedEventEmitter=s,va}var ro={},vS;function nr(){if(vS)return ro;vS=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.InvalidStateError=ro.UnsupportedError=void 0;class e extends Error{constructor(s){super(s),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(s).stack}}ro.UnsupportedError=e;class t extends Error{constructor(s){super(s),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(s).stack}}return ro.InvalidStateError=t,ro}var ni={},yS;function zt(){if(yS)return ni;yS=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.clone=e,ni.generateRandomNumber=t,ni.deepFreeze=r;function e(s){if(s!==void 0)return Number.isNaN(s)?NaN:typeof structuredClone=="function"?structuredClone(s):JSON.parse(JSON.stringify(s))}function t(){return Math.round(Math.random()*1e7)}function r(s){const i=Reflect.ownKeys(s);for(const a of i){const c=s[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(s)}return ni}var gt={},lt={},no={},wS;function kj(){if(wS)return no;wS=1;var e=no&&no.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(no,"__esModule",{value:!0}),no.Logger=void 0;const t=e(td()),r="h264-profile-level-id";class s{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return no.Logger=s,no}var SS;function Pj(){if(SS)return lt;SS=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.generateProfileLevelIdStringForAnswer=lt.isSameProfile=lt.parseSdpProfileLevelId=lt.levelToString=lt.profileToString=lt.profileLevelIdToString=lt.parseProfileLevelId=lt.ProfileLevelId=lt.Level=lt.Profile=void 0;const e=kj(),t=new e.Logger;var r;(function(d){d[d.ConstrainedBaseline=1]="ConstrainedBaseline",d[d.Baseline=2]="Baseline",d[d.Main=3]="Main",d[d.ConstrainedHigh=4]="ConstrainedHigh",d[d.High=5]="High",d[d.PredictiveHigh444=6]="PredictiveHigh444"})(r||(lt.Profile=r={}));var s;(function(d){d[d.L1_b=0]="L1_b",d[d.L1=10]="L1",d[d.L1_1=11]="L1_1",d[d.L1_2=12]="L1_2",d[d.L1_3=13]="L1_3",d[d.L2=20]="L2",d[d.L2_1=21]="L2_1",d[d.L2_2=22]="L2_2",d[d.L3=30]="L3",d[d.L3_1=31]="L3_1",d[d.L3_2=32]="L3_2",d[d.L4=40]="L4",d[d.L4_1=41]="L4_1",d[d.L4_2=42]="L4_2",d[d.L5=50]="L5",d[d.L5_1=51]="L5_1",d[d.L5_2=52]="L5_2"})(s||(lt.Level=s={}));class i{constructor(g,x){this.profile=g,this.level=x}}lt.ProfileLevelId=i;const a=new i(r.ConstrainedBaseline,s.L3_1);class c{constructor(g){this.mask=~C("x",g),this.masked_value=C("1",g)}isMatch(g){return this.masked_value===(g&this.mask)}}class u{constructor(g,x,P){this.profile_idc=g,this.profile_iop=x,this.profile=P}}const p=[new u(66,new c("x1xx0000"),r.ConstrainedBaseline),new u(77,new c("1xxx0000"),r.ConstrainedBaseline),new u(88,new c("11xx0000"),r.ConstrainedBaseline),new u(66,new c("x0xx0000"),r.Baseline),new u(88,new c("10xx0000"),r.Baseline),new u(77,new c("0x0x0000"),r.Main),new u(100,new c("00000000"),r.High),new u(100,new c("00001100"),r.ConstrainedHigh),new u(244,new c("00000000"),r.PredictiveHigh444)];function h(d){if(typeof d!="string"||d.length!==6)return;const x=parseInt(d,16);if(x===0)return;const P=x&255,M=x>>8&255,j=x>>16&255;let I;switch(P){case s.L1_1:{I=(M&16)!==0?s.L1_b:s.L1_1;break}case s.L1:case s.L1_2:case s.L1_3:case s.L2:case s.L2_1:case s.L2_2:case s.L3:case s.L3_1:case s.L3_2:case s.L4:case s.L4_1:case s.L4_2:case s.L5:case s.L5_1:case s.L5_2:{I=P;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${d}, level_idc:${P}]`);return}}for(const A of p)if(j===A.profile_idc&&A.profile_iop.isMatch(M))return new i(A.profile,I);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${d}, profile_idc:${j}, profile_iop:${M}]`)}lt.parseProfileLevelId=h;function y(d){if(d.level==s.L1_b)switch(d.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${d.profile}`);return}}let g;switch(d.profile){case r.ConstrainedBaseline:{g="42e0";break}case r.Baseline:{g="4200";break}case r.Main:{g="4d00";break}case r.ConstrainedHigh:{g="640c";break}case r.High:{g="6400";break}case r.PredictiveHigh444:{g="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${d.profile}`);return}}let x=d.level.toString(16);return x.length===1&&(x=`0${x}`),`${g}${x}`}lt.profileLevelIdToString=y;function v(d){switch(d){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${d}`);return}}}lt.profileToString=v;function w(d){switch(d){case s.L1_b:return"1b";case s.L1:return"1";case s.L1_1:return"1.1";case s.L1_2:return"1.2";case s.L1_3:return"1.3";case s.L2:return"2";case s.L2_1:return"2.1";case s.L2_2:return"2.2";case s.L3:return"3";case s.L3_1:return"3.1";case s.L3_2:return"3.2";case s.L4:return"4";case s.L4_1:return"4.1";case s.L4_2:return"4.2";case s.L5:return"5";case s.L5_1:return"5.1";case s.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${d}`);return}}}lt.levelToString=w;function S(d={}){const g=d["profile-level-id"];return g?h(g):a}lt.parseSdpProfileLevelId=S;function b(d={},g={}){const x=S(d),P=S(g);return!!(x&&P&&x.profile===P.profile)}lt.isSameProfile=b;function E(d={},g={}){if(!d["profile-level-id"]&&!g["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const x=S(d),P=S(g);if(!x)throw new TypeError("invalid local_profile_level_id");if(!P)throw new TypeError("invalid remote_profile_level_id");if(x.profile!==P.profile)throw new TypeError("H264 Profile mismatch");const M=f(d)&&f(g),j=x.level,I=P.level,A=_(j,I),N=M?j:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${x.profile}, level:${N}]`),y(new i(x.profile,N))}lt.generateProfileLevelIdStringForAnswer=E;function C(d,g){return+(g[0]===d)<<7|+(g[1]===d)<<6|+(g[2]===d)<<5|+(g[3]===d)<<4|+(g[4]===d)<<3|+(g[5]===d)<<2|+(g[6]===d)<<1|+(g[7]===d)<<0}function R(d,g){return d===s.L1_b?g!==s.L1&&g!==s.L1_b:g===s.L1_b?d!==s.L1:d<g}function _(d,g){return R(d,g)?d:g}function f(d={}){const g=d["level-asymmetry-allowed"];return g===!0||g===1||g==="1"}return lt}var _S;function hr(){if(_S)return gt;_S=1;var e=gt&&gt.__createBinding||(Object.create?function(O,B,F,z){z===void 0&&(z=F);var G=Object.getOwnPropertyDescriptor(B,F);(!G||("get"in G?!B.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(O,z,G)}:function(O,B,F,z){z===void 0&&(z=F),O[z]=B[F]}),t=gt&&gt.__setModuleDefault||(Object.create?function(O,B){Object.defineProperty(O,"default",{enumerable:!0,value:B})}:function(O,B){O.default=B}),r=gt&&gt.__importStar||function(O){if(O&&O.__esModule)return O;var B={};if(O!=null)for(var F in O)F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)&&e(B,O,F);return t(B,O),B};Object.defineProperty(gt,"__esModule",{value:!0}),gt.validateRtpCapabilities=p,gt.validateRtpParameters=h,gt.validateSctpStreamParameters=y,gt.validateSctpCapabilities=v,gt.getExtendedRtpCapabilities=w,gt.getRecvRtpCapabilities=S,gt.getSendingRtpParameters=b,gt.getSendingRemoteRtpParameters=E,gt.reduceCodecs=C,gt.generateProbatorRtpParameters=R,gt.canSend=_,gt.canReceive=f;const s=r(Pj()),i=r(zt()),a="probator",c=1234,u=127;function p(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(O.codecs&&!Array.isArray(O.codecs))throw new TypeError("caps.codecs is not an array");O.codecs||(O.codecs=[]);for(const B of O.codecs)d(B);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const B of O.headerExtensions)x(B)}function h(O){if(typeof O!="object")throw new TypeError("params is not an object");if(O.mid&&typeof O.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(O.codecs))throw new TypeError("missing params.codecs");for(const B of O.codecs)P(B);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("params.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const B of O.headerExtensions)M(B);if(O.encodings&&!Array.isArray(O.encodings))throw new TypeError("params.encodings is not an array");O.encodings||(O.encodings=[]);for(const B of O.encodings)j(B);if(O.rtcp&&typeof O.rtcp!="object")throw new TypeError("params.rtcp is not an object");O.rtcp||(O.rtcp={}),I(O.rtcp)}function y(O){if(typeof O!="object")throw new TypeError("params is not an object");if(typeof O.streamId!="number")throw new TypeError("missing params.streamId");let B=!1;if(typeof O.ordered=="boolean"?B=!0:O.ordered=!0,O.maxPacketLifeTime&&typeof O.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(O.maxRetransmits&&typeof O.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(O.maxPacketLifeTime&&O.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(B&&O.ordered&&(O.maxPacketLifeTime||O.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!B&&(O.maxPacketLifeTime||O.maxRetransmits)&&(O.ordered=!1),O.label&&typeof O.label!="string")throw new TypeError("invalid params.label");if(O.protocol&&typeof O.protocol!="string")throw new TypeError("invalid params.protocol")}function v(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(!O.numStreams||typeof O.numStreams!="object")throw new TypeError("missing caps.numStreams");A(O.numStreams)}function w(O,B){const F={codecs:[],headerExtensions:[]};for(const z of B.codecs??[]){if(N(z))continue;const G=(O.codecs??[]).find(X=>V(X,z,{strict:!0,modify:!0}));if(!G)continue;const U={mimeType:G.mimeType,kind:G.kind,clockRate:G.clockRate,channels:G.channels,localPayloadType:G.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:z.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:G.parameters,remoteParameters:z.parameters,rtcpFeedback:J(G,z)};F.codecs.push(U)}for(const z of F.codecs){const G=O.codecs.find(X=>N(X)&&X.parameters.apt===z.localPayloadType),U=B.codecs.find(X=>N(X)&&X.parameters.apt===z.remotePayloadType);G&&U&&(z.localRtxPayloadType=G.preferredPayloadType,z.remoteRtxPayloadType=U.preferredPayloadType)}for(const z of B.headerExtensions){const G=O.headerExtensions.find(X=>W(X,z));if(!G)continue;const U={kind:z.kind,uri:z.uri,sendId:G.preferredId,recvId:z.preferredId,encrypt:G.preferredEncrypt,direction:"sendrecv"};switch(z.direction){case"sendrecv":{U.direction="sendrecv";break}case"recvonly":{U.direction="sendonly";break}case"sendonly":{U.direction="recvonly";break}case"inactive":{U.direction="inactive";break}}F.headerExtensions.push(U)}return F}function S(O){const B={codecs:[],headerExtensions:[]};for(const F of O.codecs){const z={mimeType:F.mimeType,kind:F.kind,preferredPayloadType:F.remotePayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if(B.codecs.push(z),!F.remoteRtxPayloadType)continue;const G={mimeType:`${F.kind}/rtx`,kind:F.kind,preferredPayloadType:F.remoteRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.remotePayloadType},rtcpFeedback:[]};B.codecs.push(G)}for(const F of O.headerExtensions){if(F.direction!=="sendrecv"&&F.direction!=="recvonly")continue;const z={kind:F.kind,uri:F.uri,preferredId:F.recvId,preferredEncrypt:F.encrypt,direction:F.direction};B.headerExtensions.push(z)}return B}function b(O,B){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of B.codecs){if(z.kind!==O)continue;const G={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.localParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(G),z.localRtxPayloadType){const U={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(U)}}for(const z of B.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const G={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(G)}return F}function E(O,B){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of B.codecs){if(z.kind!==O)continue;const G={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.remoteParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(G),z.localRtxPayloadType){const U={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(U)}}for(const z of B.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const G={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(G)}if(F.headerExtensions.some(z=>z.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(G=>G.type!=="goog-remb");else if(F.headerExtensions.some(z=>z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(G=>G.type!=="transport-cc");else for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(G=>G.type!=="transport-cc"&&G.type!=="goog-remb");return F}function C(O,B){const F=[];if(!B)F.push(O[0]),N(O[1])&&F.push(O[1]);else{for(let z=0;z<O.length;++z)if(V(O[z],B,{strict:!0})){F.push(O[z]),N(O[z+1])&&F.push(O[z+1]);break}if(F.length===0)throw new TypeError("no matching codec found")}return F}function R(O){O=i.clone(O),h(O);const B={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return B.codecs.push(O.codecs[0]),B.codecs[0].payloadType=u,B.headerExtensions=O.headerExtensions,B}function _(O,B){return B.codecs.some(F=>F.kind===O)}function f(O,B){if(h(O),O.codecs.length===0)return!1;const F=O.codecs[0];return B.codecs.some(z=>z.remotePayloadType===F.payloadType)}function d(O){const B=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=B.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(O.kind=F[1].toLowerCase(),O.preferredPayloadType&&typeof O.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");O.kind==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const z of Object.keys(O.parameters)){let G=O.parameters[z];if(G===void 0&&(O.parameters[z]="",G=""),typeof G!="string"&&typeof G!="number")throw new TypeError(`invalid codec parameter [key:${z}s, value:${G}]`);if(z==="apt"&&typeof G!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const z of O.rtcpFeedback)g(z)}function g(O){if(typeof O!="object")throw new TypeError("fb is not an object");if(!O.type||typeof O.type!="string")throw new TypeError("missing fb.type");(!O.parameter||typeof O.parameter!="string")&&(O.parameter="")}function x(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(O.kind!=="audio"&&O.kind!=="video")throw new TypeError("invalid ext.kind");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.preferredId!="number")throw new TypeError("missing ext.preferredId");if(O.preferredEncrypt&&typeof O.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(O.preferredEncrypt||(O.preferredEncrypt=!1),O.direction&&typeof O.direction!="string")throw new TypeError("invalid ext.direction");O.direction||(O.direction="sendrecv")}function P(O){const B=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=B.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(typeof O.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");F[1].toLowerCase()==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const G of Object.keys(O.parameters)){let U=O.parameters[G];if(U===void 0&&(O.parameters[G]="",U=""),typeof U!="string"&&typeof U!="number")throw new TypeError(`invalid codec parameter [key:${G}s, value:${U}]`);if(G==="apt"&&typeof U!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const G of O.rtcpFeedback)g(G)}function M(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.id!="number")throw new TypeError("missing ext.id");if(O.encrypt&&typeof O.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");O.encrypt||(O.encrypt=!1),(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const B of Object.keys(O.parameters)){let F=O.parameters[B];if(F===void 0&&(O.parameters[B]="",F=""),typeof F!="string"&&typeof F!="number")throw new TypeError("invalid header extension parameter")}}function j(O){if(typeof O!="object")throw new TypeError("encoding is not an object");if(O.ssrc&&typeof O.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(O.rid&&typeof O.rid!="string")throw new TypeError("invalid encoding.rid");if(O.rtx&&typeof O.rtx!="object")throw new TypeError("invalid encoding.rtx");if(O.rtx&&typeof O.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!O.dtx||typeof O.dtx!="boolean")&&(O.dtx=!1),O.scalabilityMode&&typeof O.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function I(O){if(typeof O!="object")throw new TypeError("rtcp is not an object");if(O.cname&&typeof O.cname!="string")throw new TypeError("invalid rtcp.cname");(!O.reducedSize||typeof O.reducedSize!="boolean")&&(O.reducedSize=!0)}function A(O){if(typeof O!="object")throw new TypeError("numStreams is not an object");if(typeof O.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof O.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(O){return O?/.+\/rtx$/i.test(O.mimeType):!1}function V(O,B,{strict:F=!1,modify:z=!1}={}){const G=O.mimeType.toLowerCase(),U=B.mimeType.toLowerCase();if(G!==U||O.clockRate!==B.clockRate||O.channels!==B.channels)return!1;switch(G){case"video/h264":{if(F){const X=O.parameters["packetization-mode"]||0,ce=B.parameters["packetization-mode"]||0;if(X!==ce||!s.isSameProfile(O.parameters,B.parameters))return!1;let pe;try{pe=s.generateProfileLevelIdStringForAnswer(O.parameters,B.parameters)}catch{return!1}z&&(pe?(O.parameters["profile-level-id"]=pe,B.parameters["profile-level-id"]=pe):(delete O.parameters["profile-level-id"],delete B.parameters["profile-level-id"]))}break}case"video/vp9":{if(F){const X=O.parameters["profile-id"]||0,ce=B.parameters["profile-id"]||0;if(X!==ce)return!1}break}}return!0}function W(O,B){return!(O.kind&&B.kind&&O.kind!==B.kind||O.uri!==B.uri)}function J(O,B){const F=[];for(const z of O.rtcpFeedback??[]){const G=(B.rtcpFeedback??[]).find(U=>U.type===z.type&&(U.parameter===z.parameter||!U.parameter&&!z.parameter));G&&F.push(G)}return F}return gt}var Sr={},Kn={},ya={},bS;function Dj(){if(bS)return ya;bS=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.Logger=void 0;const e=td(),t="awaitqueue";let r=class{constructor(i){i?(this._debug=(0,e.default)(`${t}:${i}`),this._warn=(0,e.default)(`${t}:WARN:${i}`),this._error=(0,e.default)(`${t}:ERROR:${i}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return ya.Logger=r,ya}var xS;function Mj(){if(xS)return Kn;xS=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.AwaitQueue=Kn.AwaitQueueRemovedTaskError=Kn.AwaitQueueStoppedError=void 0;const e=Dj(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Kn.AwaitQueueStoppedError=r;class s extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s)}}Kn.AwaitQueueRemovedTaskError=s;class i{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,u){if(u=u??c.name,t.debug(`push() [name:${u}]`),typeof c!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(c,"name",{value:u})}catch{}return new Promise((p,h)=>{const y={id:this.nextTaskId++,task:c,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:v=>{if(y.completed)return;y.completed=!0,this.pendingTasks.delete(y.id),t.debug(`resolving task [name:${y.name}]`),p(v);const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)},reject:v=>{if(!y.completed&&(y.completed=!0,this.pendingTasks.delete(y.id),t.debug(`rejecting task [name:${y.name}]: %s`,String(v)),h(v),!this.stopping)){const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)}}};this.pendingTasks.set(y.id,y),this.pendingTasks.size===1&&this.execute(y)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const u=Array.from(this.pendingTasks.values())[c];if(!u){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}u.reject(new s)}dump(){const c=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(p=>({idx:u++,task:p.task,name:p.name,enqueuedTime:p.executedAt?p.executedAt-p.enqueuedAt:c-p.enqueuedAt,executionTime:p.executedAt?c-p.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const u=await c.task();c.resolve(u)}catch(u){c.reject(u)}}}return Kn.AwaitQueue=i,Kn}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var jp,CS;function Lj(){if(CS)return jp;CS=1;let e;return jp=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:QC):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),jp}var wa={},RS;function a1(){if(RS)return wa;RS=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.Producer=void 0;const e=_t(),t=Co(),r=nr(),s=new e.Logger("Producer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,rtpSender:p,track:h,rtpParameters:y,stopTracks:v,disableTrackOnPause:w,zeroRtpOnPause:S,appData:b}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,s.debug("constructor()"),this._id=c,this._localId=u,this._rtpSender=p,this._track=h,this._kind=h.kind,this._rtpParameters=y,this._paused=w?!h.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=v,this._disableTrackOnPause=w,this._zeroRtpOnPause=S,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(s.debug("pause()"),this._closed){s.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@pause",c,u)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(s.debug("resume()"),this._closed){s.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@resume",c,u)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(s.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){s.debug("replaceTrack() | same track, ignored");return}await new Promise((u,p)=>{this.safeEmit("@replacetrack",c,u,p)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((u,p)=>{this.safeEmit("@setmaxspatiallayer",c,u,p)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((u,p)=>{this.safeEmit("@setrtpencodingparameters",c,u,p)})}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return wa.Producer=i,wa}var Sa={},ES;function c1(){if(ES)return Sa;ES=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.Consumer=void 0;const e=_t(),t=Co(),r=nr(),s=new e.Logger("Consumer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,producerId:p,rtpReceiver:h,track:y,rtpParameters:v,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,s.debug("constructor()"),this._id=c,this._localId=u,this._producerId=p,this._rtpReceiver=h,this._track=y,this._rtpParameters=v,this._paused=!y.enabled,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(s.debug("pause()"),this._closed){s.error("pause() | Consumer closed");return}if(this._paused){s.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(s.debug("resume()"),this._closed){s.error("resume() | Consumer closed");return}if(!this._paused){s.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Sa.Consumer=i,Sa}var _a={},TS;function l1(){if(TS)return _a;TS=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.DataProducer=void 0;const e=_t(),t=Co(),r=nr(),s=new e.Logger("DataProducer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:u,sctpStreamParameters:p,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,s.debug("constructor()"),this._id=c,this._dataChannel=u,this._sctpStreamParameters=p,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(s.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:u}=c;u||(u=new Error("unknown DataChannel error")),u.errorDetail==="sctp-failure"?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",u.sctpCauseCode,u.message):s.error('DataChannel "error" event: %o',u),this.safeEmit("error",u)}),this._dataChannel.addEventListener("close",()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||s.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return _a.DataProducer=i,_a}var ba={},kS;function u1(){if(kS)return ba;kS=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.DataConsumer=void 0;const e=_t(),t=Co(),r=new e.Logger("DataConsumer");let s=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:u,sctpStreamParameters:p,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=u,this._sctpStreamParameters=p,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return ba.DataConsumer=s,ba}var PS;function d1(){if(PS)return Sr;PS=1;var e=Sr&&Sr.__createBinding||(Object.create?function(_,f,d,g){g===void 0&&(g=d);var x=Object.getOwnPropertyDescriptor(f,d);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(_,g,x)}:function(_,f,d,g){g===void 0&&(g=d),_[g]=f[d]}),t=Sr&&Sr.__setModuleDefault||(Object.create?function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}:function(_,f){_.default=f}),r=Sr&&Sr.__importStar||function(_){if(_&&_.__esModule)return _;var f={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&e(f,_,d);return t(f,_),f},s=Sr&&Sr.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Transport=void 0;const i=Mj(),a=s(Lj()),c=_t(),u=Co(),p=nr(),h=r(zt()),y=r(hr()),v=a1(),w=c1(),S=l1(),b=u1(),E=new c.Logger("Transport");class C{constructor(f){this.consumerOptions=f,this.promise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}}let R=class extends u.EnhancedEventEmitter{constructor({direction:f,id:d,iceParameters:g,iceCandidates:x,dtlsParameters:P,sctpParameters:M,iceServers:j,iceTransportPolicy:I,additionalSettings:A,proprietaryConstraints:N,appData:V,handlerFactory:W,extendedRtpCapabilities:J,canProduceByKind:O}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new u.EnhancedEventEmitter,E.debug("constructor() [id:%s, direction:%s]",d,f),this._id=d,this._direction=f,this._extendedRtpCapabilities=J,this._canProduceByKind=O,this._maxSctpMessageSize=M?M.maxMessageSize:null;const B=h.clone(A)??{};delete B.iceServers,delete B.iceTransportPolicy,delete B.bundlePolicy,delete B.rtcpMuxPolicy,delete B.sdpSemantics,this._handler=W(),this._handler.run({direction:f,iceParameters:g,iceCandidates:x,dtlsParameters:P,sctpParameters:M,iceServers:j,iceTransportPolicy:I,additionalSettings:B,proprietaryConstraints:N,extendedRtpCapabilities:J}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(f){this._appData=f}get observer(){return this._observer}close(){if(!this._closed){E.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const f of this._producers.values())f.transportClosed();this._producers.clear();for(const f of this._consumers.values())f.transportClosed();this._consumers.clear();for(const f of this._dataProducers.values())f.transportClosed();this._dataProducers.clear();for(const f of this._dataConsumers.values())f.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new p.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:f}){if(E.debug("restartIce()"),this._closed)throw new p.InvalidStateError("closed");if(!f)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(f),"transport.restartIce()")}async updateIceServers({iceServers:f}={}){if(E.debug("updateIceServers()"),this._closed)throw new p.InvalidStateError("closed");if(!Array.isArray(f))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(f),"transport.updateIceServers()")}async produce({track:f,encodings:d,codecOptions:g,codec:x,stopTracks:P=!0,disableTrackOnPause:M=!0,zeroRtpOnPause:j=!1,onRtpSender:I,appData:A={}}={}){if(E.debug("produce() [track:%o]",f),this._closed)throw new p.InvalidStateError("closed");if(f){if(this._direction!=="send")throw new p.UnsupportedError("not a sending Transport");if(this._canProduceByKind[f.kind]){if(f.readyState==="ended")throw new p.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError(`cannot produce ${f.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(d&&!Array.isArray(d))throw TypeError("encodings must be an array");d&&d.length===0?N=void 0:d&&(N=d.map(O=>{const B={active:!0};return O.active===!1&&(B.active=!1),typeof O.dtx=="boolean"&&(B.dtx=O.dtx),typeof O.scalabilityMode=="string"&&(B.scalabilityMode=O.scalabilityMode),typeof O.scaleResolutionDownBy=="number"&&(B.scaleResolutionDownBy=O.scaleResolutionDownBy),typeof O.maxBitrate=="number"&&(B.maxBitrate=O.maxBitrate),typeof O.maxFramerate=="number"&&(B.maxFramerate=O.maxFramerate),typeof O.adaptivePtime=="boolean"&&(B.adaptivePtime=O.adaptivePtime),typeof O.priority=="string"&&(B.priority=O.priority),typeof O.networkPriority=="string"&&(B.networkPriority=O.networkPriority),B}));const{localId:V,rtpParameters:W,rtpSender:J}=await this._handler.send({track:f,encodings:N,codecOptions:g,codec:x,onRtpSender:I});try{y.validateRtpParameters(W);const{id:O}=await new Promise((F,z)=>{this.safeEmit("produce",{kind:f.kind,rtpParameters:W,appData:A},F,z)}),B=new v.Producer({id:O,localId:V,rtpSender:J,track:f,rtpParameters:W,stopTracks:P,disableTrackOnPause:M,zeroRtpOnPause:j,appData:A});return this._producers.set(B.id,B),this.handleProducer(B),this._observer.safeEmit("newproducer",B),B}catch(O){throw this._handler.stopSending(V).catch(()=>{}),O}},"transport.produce()").catch(N=>{if(P)try{f.stop()}catch{}throw N})}async consume({id:f,producerId:d,kind:g,rtpParameters:x,streamId:P,onRtpReceiver:M,appData:j={}}){if(E.debug("consume()"),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="recv")throw new p.UnsupportedError("not a receiving Transport");if(typeof f!="string")throw new TypeError("missing id");if(typeof d!="string")throw new TypeError("missing producerId");if(g!=="audio"&&g!=="video")throw new TypeError(`invalid kind '${g}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object");const I=h.clone(x);if(!y.canReceive(I,this._extendedRtpCapabilities))throw new p.UnsupportedError("cannot consume this Producer");const N=new C({id:f,producerId:d,kind:g,rtpParameters:I,streamId:P,onRtpReceiver:M,appData:j});return this._pendingConsumerTasks.push(N),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),N.promise}async produceData({ordered:f=!0,maxPacketLifeTime:d,maxRetransmits:g,label:x="",protocol:P="",appData:M={}}={}){if(E.debug("produceData()"),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="send")throw new p.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError("SCTP not enabled by remote Transport");return(d||g)&&(f=!1),this._awaitQueue.push(async()=>{const{dataChannel:j,sctpStreamParameters:I}=await this._handler.sendDataChannel({ordered:f,maxPacketLifeTime:d,maxRetransmits:g,label:x,protocol:P});y.validateSctpStreamParameters(I);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:I,label:x,protocol:P,appData:M},V,W)}),N=new S.DataProducer({id:A,dataChannel:j,sctpStreamParameters:I,appData:M});return this._dataProducers.set(N.id,N),this.handleDataProducer(N),this._observer.safeEmit("newdataproducer",N),N},"transport.produceData()")}async consumeData({id:f,dataProducerId:d,sctpStreamParameters:g,label:x="",protocol:P="",appData:M={}}){if(E.debug("consumeData()"),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="recv")throw new p.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof f!="string")throw new TypeError("missing id");if(typeof d!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError("SCTP not enabled by remote Transport");const j=h.clone(g);return y.validateSctpStreamParameters(j),this._awaitQueue.push(async()=>{const{dataChannel:I}=await this._handler.receiveDataChannel({sctpStreamParameters:j,label:x,protocol:P}),A=new b.DataConsumer({id:f,dataProducerId:d,dataChannel:I,sctpStreamParameters:j,appData:M});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){E.debug("createPendingConsumers() | there is no Consumer to be created");return}const f=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let d;const g=[];for(const x of f){const{id:P,kind:M,rtpParameters:j,streamId:I,onRtpReceiver:A}=x.consumerOptions;g.push({trackId:P,kind:M,rtpParameters:j,streamId:I,onRtpReceiver:A})}try{const x=await this._handler.receive(g);for(let P=0;P<x.length;++P){const M=f[P],j=x[P],{id:I,producerId:A,kind:N,rtpParameters:V,appData:W}=M.consumerOptions,{localId:J,rtpReceiver:O,track:B}=j,F=new w.Consumer({id:I,localId:J,producerId:A,rtpReceiver:O,track:B,rtpParameters:V,appData:W});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!d&&N==="video"&&(d=F),this._observer.safeEmit("newconsumer",F),M.resolve(F)}}catch(x){for(const P of f)P.reject(x)}if(d)try{const x=y.generateProbatorRtpParameters(d.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:x}]),E.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(x){E.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",x)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){E.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const f=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const d=f.map(g=>g.localId);await this._handler.pauseReceiving(d)}catch(d){E.error("pausePendingConsumers() | failed to pause Consumers:",d)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){E.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const f=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const d=f.map(g=>g.localId);await this._handler.resumeReceiving(d)}catch(d){E.error("resumePendingConsumers() | failed to resume Consumers:",d)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){E.debug("closePendingConsumers() | there is no Consumer to be closed");return}const f=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(f.map(d=>d.localId))}catch(d){E.error("closePendingConsumers() | failed to close Consumers:",d)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const f=this._handler;f.on("@connect",({dtlsParameters:d},g,x)=>{if(this._closed){x(new p.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:d},g,x)}),f.on("@icegatheringstatechange",d=>{d!==this._iceGatheringState&&(E.debug("ICE gathering state changed to %s",d),this._iceGatheringState=d,this._closed||this.safeEmit("icegatheringstatechange",d))}),f.on("@connectionstatechange",d=>{d!==this._connectionState&&(E.debug("connection state changed to %s",d),this._connectionState=d,this._closed||this.safeEmit("connectionstatechange",d))})}handleProducer(f){f.on("@close",()=>{this._producers.delete(f.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(f.localId),"producer @close event").catch(d=>E.warn("producer.close() failed:%o",d))}),f.on("@pause",(d,g)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(f.localId),"producer @pause event").then(d).catch(g)}),f.on("@resume",(d,g)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(f.localId),"producer @resume event").then(d).catch(g)}),f.on("@replacetrack",(d,g,x)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(f.localId,d),"producer @replacetrack event").then(g).catch(x)}),f.on("@setmaxspatiallayer",(d,g,x)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(f.localId,d),"producer @setmaxspatiallayer event").then(g).catch(x)}),f.on("@setrtpencodingparameters",(d,g,x)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(f.localId,d),"producer @setrtpencodingparameters event").then(g).catch(x)}),f.on("@getstats",(d,g)=>{if(this._closed)return g(new p.InvalidStateError("closed"));this._handler.getSenderStats(f.localId).then(d).catch(g)})}handleConsumer(f){f.on("@close",()=>{this._consumers.delete(f.id),this._pendingPauseConsumers.delete(f.id),this._pendingResumeConsumers.delete(f.id),!this._closed&&(this._pendingCloseConsumers.set(f.id,f),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),f.on("@pause",()=>{this._pendingResumeConsumers.has(f.id)&&this._pendingResumeConsumers.delete(f.id),this._pendingPauseConsumers.set(f.id,f),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),f.on("@resume",()=>{this._pendingPauseConsumers.has(f.id)&&this._pendingPauseConsumers.delete(f.id),this._pendingResumeConsumers.set(f.id,f),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),f.on("@getstats",(d,g)=>{if(this._closed)return g(new p.InvalidStateError("closed"));this._handler.getReceiverStats(f.localId).then(d).catch(g)})}handleDataProducer(f){f.on("@close",()=>{this._dataProducers.delete(f.id)})}handleDataConsumer(f){f.on("@close",()=>{this._dataConsumers.delete(f.id)})}};return Sr.Transport=R,Sr}var Xr={},Pn={},Op={},Np={exports:{}},DS;function f1(){if(DS)return Np.exports;DS=1;var e=Np.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format="%s")})}),Np.exports}var MS;function Ij(){return MS||(MS=1,function(e){var t=function(u){return String(Number(u))===u?Number(u):u},r=function(u,p,h,y){if(y&&!h)p[y]=t(u[1]);else for(var v=0;v<h.length;v+=1)u[v+1]!=null&&(p[h[v]]=t(u[v+1]))},s=function(u,p,h){var y=u.name&&u.names;u.push&&!p[u.push]?p[u.push]=[]:y&&!p[u.name]&&(p[u.name]={});var v=u.push?{}:y?p[u.name]:p;r(h.match(u.reg),v,u.names,u.name),u.push&&p[u.push].push(v)},i=f1(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(u){var p={},h=[],y=p;return u.split(/(\r\n|\r|\n)/).filter(a).forEach(function(v){var w=v[0],S=v.slice(2);w==="m"&&(h.push({rtp:[],fmtp:[]}),y=h[h.length-1]);for(var b=0;b<(i[w]||[]).length;b+=1){var E=i[w][b];if(E.reg.test(S))return s(E,y,S)}}),p.media=h,p};var c=function(u,p){var h=p.split(/=(.+)/,2);return h.length===2?u[h[0]]=t(h[1]):h.length===1&&p.length>1&&(u[h[0]]=void 0),u};e.parseParams=function(u){return u.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(u){return u.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(u){for(var p=[],h=u.split(" ").map(t),y=0;y<h.length;y+=3)p.push({component:h[y],ip:h[y+1],port:h[y+2]});return p},e.parseImageAttributes=function(u){return u.split(" ").map(function(p){return p.substring(1,p.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(u){return u.split(";").map(function(p){return p.split(",").map(function(h){var y,v=!1;return h[0]!=="~"?y=t(h):(y=t(h.substring(1,h.length)),v=!0),{scid:y,paused:v}})})}}(Op)),Op}var Ap,LS;function jj(){if(LS)return Ap;LS=1;var e=f1(),t=/%[sdv%]/g,r=function(c){var u=1,p=arguments,h=p.length;return c.replace(t,function(y){if(u>=h)return y;var v=p[u];switch(u+=1,y){case"%%":return"%";case"%s":return String(v);case"%d":return Number(v);case"%v":return""}})},s=function(c,u,p){var h=u.format instanceof Function?u.format(u.push?p:p[u.name]):u.format,y=[c+"="+h];if(u.names)for(var v=0;v<u.names.length;v+=1){var w=u.names[v];u.name?y.push(p[u.name][w]):y.push(p[u.names[v]])}else y.push(p[u.name]);return r.apply(null,y)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return Ap=function(c,u){u=u||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(v){v.payloads==null&&(v.payloads="")});var p=u.outerOrder||i,h=u.innerOrder||a,y=[];return p.forEach(function(v){e[v].forEach(function(w){w.name in c&&c[w.name]!=null?y.push(s(v,w,c)):w.push in c&&c[w.push]!=null&&c[w.push].forEach(function(S){y.push(s(v,w,S))})})}),c.media.forEach(function(v){y.push(s("m",e.m[0],v)),h.forEach(function(w){e[w].forEach(function(S){S.name in v&&v[S.name]!=null?y.push(s(w,S,v)):S.push in v&&v[S.push]!=null&&v[S.push].forEach(function(b){y.push(s(w,S,b))})})})}),y.join(`\r
`)+`\r
`},Ap}var IS;function mr(){if(IS)return Pn;IS=1;var e=Ij(),t=jj();return Pn.write=t,Pn.parse=e.parse,Pn.parseParams=e.parseParams,Pn.parseFmtpConfig=e.parseFmtpConfig,Pn.parsePayloads=e.parsePayloads,Pn.parseRemoteCandidates=e.parseRemoteCandidates,Pn.parseImageAttributes=e.parseImageAttributes,Pn.parseSimulcastStreamList=e.parseSimulcastStreamList,Pn}var _r={},jS;function bn(){if(jS)return _r;jS=1;var e=_r&&_r.__createBinding||(Object.create?function(p,h,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(h,y);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(p,v,w)}:function(p,h,y,v){v===void 0&&(v=y),p[v]=h[y]}),t=_r&&_r.__setModuleDefault||(Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h}),r=_r&&_r.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&e(h,p,y);return t(h,p),h};Object.defineProperty(_r,"__esModule",{value:!0}),_r.extractRtpCapabilities=i,_r.extractDtlsParameters=a,_r.getCname=c,_r.applyCodecParameters=u;const s=r(mr());function i({sdpObject:p}){const h=new Map,y=[];let v=!1,w=!1;for(const b of p.media){const E=b.type;switch(E){case"audio":{if(v)continue;v=!0;break}case"video":{if(w)continue;w=!0;break}default:continue}for(const C of b.rtp){const R={kind:E,mimeType:`${E}/${C.codec}`,preferredPayloadType:C.payload,clockRate:C.rate,channels:C.encoding,parameters:{},rtcpFeedback:[]};h.set(R.preferredPayloadType,R)}for(const C of b.fmtp||[]){const R=s.parseParams(C.config),_=h.get(C.payload);_&&(R!=null&&R.hasOwnProperty("profile-level-id")&&(R["profile-level-id"]=String(R["profile-level-id"])),_.parameters=R)}for(const C of b.rtcpFb||[]){const R={type:C.type,parameter:C.subtype};if(R.parameter||delete R.parameter,C.payload!=="*"){const _=h.get(C.payload);if(!_)continue;_.rtcpFeedback.push(R)}else for(const _ of h.values())_.kind===E&&!/.+\/rtx$/i.test(_.mimeType)&&_.rtcpFeedback.push(R)}for(const C of b.ext||[]){if(C["encrypt-uri"])continue;const R={kind:E,uri:C.uri,preferredId:C.value};y.push(R)}}return{codecs:Array.from(h.values()),headerExtensions:y}}function a({sdpObject:p}){let h=p.setup,y=p.fingerprint;if(!h||!y){const S=(p.media||[]).find(b=>b.port!==0);S&&(h??(h=S.setup),y??(y=S.fingerprint))}if(h){if(!y)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let v;switch(h){case"active":{v="client";break}case"passive":{v="server";break}case"actpass":{v="auto";break}}return{role:v,fingerprints:[{algorithm:y.type,value:y.hash}]}}function c({offerMediaObject:p}){const h=(p.ssrcs||[]).find(y=>y.attribute==="cname");return h?h.value:""}function u({offerRtpParameters:p,answerMediaObject:h}){for(const y of p.codecs){const v=y.mimeType.toLowerCase();if(v!=="audio/opus"||!(h.rtp||[]).find(E=>E.payload===y.payloadType))continue;h.fmtp=h.fmtp||[];let S=h.fmtp.find(E=>E.payload===y.payloadType);S||(S={payload:y.payloadType,config:""},h.fmtp.push(S));const b=s.parseParams(S.config);switch(v){case"audio/opus":{const E=y.parameters["sprop-stereo"];E!==void 0&&(b.stereo=E?1:0);break}}S.config="";for(const E of Object.keys(b))S.config&&(S.config+=";"),S.config+=`${E}=${b[E]}`}}return _r}var xa={},OS;function Ro(){if(OS)return xa;OS=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.getRtpEncodings=e,xa.addLegacySimulcast=t;function e({offerMediaObject:r}){const s=new Set;for(const c of r.ssrcs||[]){const u=c.id;s.add(u)}if(s.size===0)throw new Error("no a=ssrc lines found");const i=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[u,p]=c.ssrcs.split(/\s+/);u=Number(u),p=Number(p),s.has(u)&&(s.delete(u),s.delete(p),i.set(u,p))}for(const c of s)i.set(c,null);const a=[];for(const[c,u]of i){const p={ssrc:c};u&&(p.rtx={ssrc:u}),a.push(p)}return a}function t({offerMediaObject:r,numStreams:s}){if(s<=1)throw new TypeError("numStreams must be greater than 1");const i=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!i)throw new Error("a=ssrc line with msid information not found");const[a,c]=i.value.split(" "),u=Number(i.id);let p;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===u?(p=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const y=h.value,v=[],w=[];for(let S=0;S<s;++S)v.push(u+S),p&&w.push(p+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:y}),r.ssrcs.push({id:S,attribute:"msid",value:`${a} ${c}`});for(let S=0;S<w.length;++S){const b=v[S],E=w[S];r.ssrcs.push({id:E,attribute:"cname",value:y}),r.ssrcs.push({id:E,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return xa}var _l={},NS;function rd(){if(NS)return _l;NS=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.addNackSuppportForOpus=e;function e(t){var r;for(const s of t.codecs??[])(s.mimeType.toLowerCase()==="audio/opus"||s.mimeType.toLowerCase()==="audio/multiopus")&&!((r=s.rtcpFeedback)!=null&&r.some(i=>i.type==="nack"&&!i.parameter))&&(s.rtcpFeedback||(s.rtcpFeedback=[]),s.rtcpFeedback.push({type:"nack"}))}return _l}var Ca={},AS;function Er(){if(AS)return Ca;AS=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.HandlerInterface=void 0;const e=Co();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Ca.HandlerInterface=t,Ca}var Qr={},Zt={},$S;function Oj(){if($S)return Zt;$S=1;var e=Zt&&Zt.__createBinding||(Object.create?function(h,y,v,w){w===void 0&&(w=v);var S=Object.getOwnPropertyDescriptor(y,v);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(h,w,S)}:function(h,y,v,w){w===void 0&&(w=v),h[w]=y[v]}),t=Zt&&Zt.__setModuleDefault||(Object.create?function(h,y){Object.defineProperty(h,"default",{enumerable:!0,value:y})}:function(h,y){h.default=y}),r=Zt&&Zt.__importStar||function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&e(y,h,v);return t(y,h),y};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.OfferMediaSection=Zt.AnswerMediaSection=Zt.MediaSection=void 0;const s=r(mr()),i=r(zt());let a=class{constructor({iceParameters:y,iceCandidates:v,dtlsParameters:w,planB:S=!1}){if(this._mediaObject={},this._planB=S,y&&this.setIceParameters(y),v){this._mediaObject.candidates=[];for(const b of v){const E={};E.component=1,E.foundation=b.foundation,E.ip=b.address??b.ip,E.port=b.port,E.priority=b.priority,E.transport=b.protocol,E.type=b.type,b.tcpType&&(E.tcptype=b.tcpType),this._mediaObject.candidates.push(E)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}w&&this.setDtlsRole(w.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(y){this._mediaObject.iceUfrag=y.usernameFragment,this._mediaObject.icePwd=y.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};Zt.MediaSection=a;class c extends a{constructor({iceParameters:y,iceCandidates:v,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:E=!1,offerMediaObject:C,offerRtpParameters:R,answerRtpParameters:_,codecOptions:f,extmapAllowMixed:d=!1}){switch(super({iceParameters:y,iceCandidates:v,dtlsParameters:w,planB:E}),this._mediaObject.mid=String(C.mid),this._mediaObject.type=C.type,this._mediaObject.protocol=C.protocol,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),C.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const g of _.codecs){const x={payload:g.payloadType,codec:p(g),rate:g.clockRate};g.channels>1&&(x.encoding=g.channels),this._mediaObject.rtp.push(x);const P=i.clone(g.parameters)??{};let M=i.clone(g.rtcpFeedback)??[];if(f){const{opusStereo:I,opusFec:A,opusDtx:N,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:J,opusNack:O,videoGoogleStartBitrate:B,videoGoogleMaxBitrate:F,videoGoogleMinBitrate:z}=f,G=R.codecs.find(U=>U.payloadType===g.payloadType);switch(g.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{I!==void 0&&(G.parameters["sprop-stereo"]=I?1:0,P.stereo=I?1:0),A!==void 0&&(G.parameters.useinbandfec=A?1:0,P.useinbandfec=A?1:0),N!==void 0&&(G.parameters.usedtx=N?1:0,P.usedtx=N?1:0),V!==void 0&&(P.maxplaybackrate=V),W!==void 0&&(P.maxaveragebitrate=W),J!==void 0&&(G.parameters.ptime=J,P.ptime=J),O||(G.rtcpFeedback=G.rtcpFeedback.filter(U=>U.type!=="nack"||U.parameter),M=M.filter(U=>U.type!=="nack"||U.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{B!==void 0&&(P["x-google-start-bitrate"]=B),F!==void 0&&(P["x-google-max-bitrate"]=F),z!==void 0&&(P["x-google-min-bitrate"]=z);break}}}const j={payload:g.payloadType,config:""};for(const I of Object.keys(P))j.config&&(j.config+=";"),j.config+=`${I}=${P[I]}`;j.config&&this._mediaObject.fmtp.push(j);for(const I of M)this._mediaObject.rtcpFb.push({payload:g.payloadType,type:I.type,subtype:I.parameter})}this._mediaObject.payloads=_.codecs.map(g=>g.payloadType).join(" "),this._mediaObject.ext=[];for(const g of _.headerExtensions)(C.ext??[]).some(P=>P.uri===g.uri)&&this._mediaObject.ext.push({uri:g.uri,value:g.id});if(d&&C.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),C.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:C.simulcast.list1},this._mediaObject.rids=[];for(const g of C.rids??[])g.direction==="send"&&this._mediaObject.rids.push({id:g.id,direction:"recv"})}else if(C.simulcast_03){this._mediaObject.simulcast_03={value:C.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const g of C.rids??[])g.direction==="send"&&this._mediaObject.rids.push({id:g.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof C.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):C.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(y){switch(y){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(y){var b,E;if(!((b=this._mediaObject.simulcast)!=null&&b.list1))return;const v={};for(const C of y)C.rid&&(v[C.rid]=C);const w=this._mediaObject.simulcast.list1,S=s.parseSimulcastStreamList(w);for(const C of S)for(const R of C)R.paused=!((E=v[R.scid])!=null&&E.active);this._mediaObject.simulcast.list1=S.map(C=>C.map(R=>`${R.paused?"~":""}${R.scid}`).join(",")).join(";")}}Zt.AnswerMediaSection=c;class u extends a{constructor({iceParameters:y,iceCandidates:v,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:E=!1,mid:C,kind:R,offerRtpParameters:_,streamId:f,trackId:d,oldDataChannelSpec:g=!1}){var x;switch(super({iceParameters:y,iceCandidates:v,dtlsParameters:w,planB:E}),this._mediaObject.mid=String(C),this._mediaObject.type=R,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),R){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${f??"-"} ${d}`);for(const I of _.codecs){const A={payload:I.payloadType,codec:p(I),rate:I.clockRate};I.channels>1&&(A.encoding=I.channels),this._mediaObject.rtp.push(A);const N={payload:I.payloadType,config:""};for(const V of Object.keys(I.parameters))N.config&&(N.config+=";"),N.config+=`${V}=${I.parameters[V]}`;N.config&&this._mediaObject.fmtp.push(N);for(const V of I.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:I.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=_.codecs.map(I=>I.payloadType).join(" "),this._mediaObject.ext=[];for(const I of _.headerExtensions)this._mediaObject.ext.push({uri:I.uri,value:I.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const P=_.encodings[0],M=P.ssrc,j=(x=P.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],_.rtcp.cname&&this._mediaObject.ssrcs.push({id:M,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:M,attribute:"msid",value:`${f??"-"} ${d}`}),j&&(_.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${f??"-"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${M} ${j}`}));break}case"application":{g?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(y){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:y,streamId:v,trackId:w}){var R;const S=y.encodings[0],b=S.ssrc,E=(R=S.rtx)==null?void 0:R.ssrc,C=this._mediaObject.payloads.split(" ");for(const _ of y.codecs){if(C.includes(String(_.payloadType)))continue;const f={payload:_.payloadType,codec:p(_),rate:_.clockRate};_.channels>1&&(f.encoding=_.channels),this._mediaObject.rtp.push(f);const d={payload:_.payloadType,config:""};for(const g of Object.keys(_.parameters))d.config&&(d.config+=";"),d.config+=`${g}=${_.parameters[g]}`;d.config&&this._mediaObject.fmtp.push(d);for(const g of _.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:_.payloadType,type:g.type,subtype:g.parameter})}this._mediaObject.payloads+=` ${y.codecs.filter(_=>!this._mediaObject.payloads.includes(_.payloadType)).map(_=>_.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),y.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:y.rtcp.cname}),this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${v??"-"} ${w}`}),E&&(y.rtcp.cname&&this._mediaObject.ssrcs.push({id:E,attribute:"cname",value:y.rtcp.cname}),this._mediaObject.ssrcs.push({id:E,attribute:"msid",value:`${v??"-"} ${w}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`}))}planBStopReceiving({offerRtpParameters:y}){var b;const v=y.encodings[0],w=v.ssrc,S=(b=v.rtx)==null?void 0:b.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(E=>E.id!==w&&E.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(E=>E.ssrcs!==`${w} ${S}`))}}Zt.OfferMediaSection=u;function p(h){const v=new RegExp("^(audio|video)/(.+)","i").exec(h.mimeType);if(!v)throw new TypeError("invalid codec.mimeType");return v[2]}return Zt}var FS;function xn(){if(FS)return Qr;FS=1;var e=Qr&&Qr.__createBinding||(Object.create?function(p,h,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(h,y);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(p,v,w)}:function(p,h,y,v){v===void 0&&(v=y),p[v]=h[y]}),t=Qr&&Qr.__setModuleDefault||(Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h}),r=Qr&&Qr.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&e(h,p,y);return t(h,p),h};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.RemoteSdp=void 0;const s=r(mr()),i=_t(),a=Oj(),c=new i.Logger("RemoteSdp");let u=class{constructor({iceParameters:h,iceCandidates:y,dtlsParameters:v,sctpParameters:w,plainRtpParameters:S,planB:b=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=h,this._iceCandidates=y,this._dtlsParameters=v,this._sctpParameters=w,this._plainRtpParameters=S,this._planB=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},h!=null&&h.iceLite&&(this._sdpObject.icelite="ice-lite"),v){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const E=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:v.fingerprints[E-1].algorithm,hash:v.fingerprints[E-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(h){c.debug("updateIceParameters() [iceParameters:%o]",h),this._iceParameters=h,this._sdpObject.icelite=h.iceLite?"ice-lite":void 0;for(const y of this._mediaSections)y.setIceParameters(h)}updateDtlsRole(h){c.debug("updateDtlsRole() [role:%s]",h),this._dtlsParameters.role=h;for(const y of this._mediaSections)y.setDtlsRole(h)}getNextMediaSectionIdx(){for(let h=0;h<this._mediaSections.length;++h){const y=this._mediaSections[h];if(y.closed)return{idx:h,reuseMid:y.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:h,reuseMid:y,offerRtpParameters:v,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b=!1}){const E=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:h,offerRtpParameters:v,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b});y?this._replaceMediaSection(E,y):this._midToIndex.has(E.mid)?this._replaceMediaSection(E):this._addMediaSection(E)}receive({mid:h,kind:y,offerRtpParameters:v,streamId:w,trackId:S}){const b=this._midToIndex.get(h);let E;if(b!==void 0&&(E=this._mediaSections[b]),E)E.planBReceive({offerRtpParameters:v,streamId:w,trackId:S}),this._replaceMediaSection(E);else{E=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:h,kind:y,offerRtpParameters:v,streamId:w,trackId:S});const C=this._mediaSections.find(R=>R.closed);C?this._replaceMediaSection(E,C.mid):this._addMediaSection(E)}}pauseMediaSection(h){this._findMediaSection(h).pause()}resumeSendingMediaSection(h){this._findMediaSection(h).resume()}resumeReceivingMediaSection(h){this._findMediaSection(h).resume()}disableMediaSection(h){this._findMediaSection(h).disable()}closeMediaSection(h){const y=this._findMediaSection(h);return h===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",h),this.disableMediaSection(h),!1):(y.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(h,y){const v=this._findMediaSection(h);v.muxSimulcastStreams(y),this._replaceMediaSection(v)}planBStopReceiving({mid:h,offerRtpParameters:y}){const v=this._findMediaSection(h);v.planBStopReceiving({offerRtpParameters:y}),this._replaceMediaSection(v)}sendSctpAssociation({offerMediaObject:h}){const y=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:h});this._addMediaSection(y)}receiveSctpAssociation({oldDataChannelSpec:h=!1}={}){const y=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:h});this._addMediaSection(y)}getSdp(){return this._sdpObject.origin.sessionVersion++,s.write(this._sdpObject)}_addMediaSection(h){this._firstMid||(this._firstMid=h.mid),this._mediaSections.push(h),this._midToIndex.set(h.mid,this._mediaSections.length-1),this._sdpObject.media.push(h.getObject()),this._regenerateBundleMids()}_replaceMediaSection(h,y){if(typeof y=="string"){const v=this._midToIndex.get(y);if(v===void 0)throw new Error(`no media section found for reuseMid '${y}'`);const w=this._mediaSections[v];this._mediaSections[v]=h,this._midToIndex.delete(w.mid),this._midToIndex.set(h.mid,v),this._sdpObject.media[v]=h.getObject(),this._regenerateBundleMids()}else{const v=this._midToIndex.get(h.mid);if(v===void 0)throw new Error(`no media section found with mid '${h.mid}'`);this._mediaSections[v]=h,this._sdpObject.media[v]=h.getObject()}}_findMediaSection(h){const y=this._midToIndex.get(h);if(y===void 0)throw new Error(`no media section found with mid '${h}'`);return this._mediaSections[y]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(h=>!h.closed).map(h=>h.mid).join(" "))}};return Qr.RemoteSdp=u,Qr}var bl={},zS;function Bs(){if(zS)return bl;zS=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const s=e.exec(r??"");return s?{spatialLayers:Number(s[1]),temporalLayers:Number(s[2])}:{spatialLayers:1,temporalLayers:1}}return bl}var BS;function Nj(){if(BS)return Xr;BS=1;var e=Xr&&Xr.__createBinding||(Object.create?function(_,f,d,g){g===void 0&&(g=d);var x=Object.getOwnPropertyDescriptor(f,d);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(_,g,x)}:function(_,f,d,g){g===void 0&&(g=d),_[g]=f[d]}),t=Xr&&Xr.__setModuleDefault||(Object.create?function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}:function(_,f){_.default=f}),r=Xr&&Xr.__importStar||function(_){if(_&&_.__esModule)return _;var f={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&e(f,_,d);return t(f,_),f};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Chrome111=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(Ro()),h=r(rd()),y=nr(),v=Er(),w=xn(),S=Bs(),b=new i.Logger("Chrome111"),E="Chrome111",C={OS:1024,MIS:1024};let R=class p1 extends v.HandlerInterface{static createFactory(){return()=>new p1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const d=await f.createOffer();try{f.close()}catch{}const g=s.parse(d.sdp),x=u.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(d){try{f.close()}catch{}throw d}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:M,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(f){this.assertNotClosed(),b.debug("updateIceServers()");const d=this._pc.getConfiguration();d.iceServers=f,this._pc.setConfiguration(d)}async restartIce(f){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const d=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:d,codecOptions:g,codec:x,onRtpSender:P}){if(this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),d&&d.length>1){let B=1;for(const F of d){const z=F.scalabilityMode?(0,S.parse)(F.scalabilityMode).temporalLayers:3;z>B&&(B=z)}d.forEach((F,z)=>{F.rid=`r${z}`,F.scalabilityMode=`L1T${B}`})}const M=a.clone(this._sendingRtpParametersByKind[f.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:d});P&&P(A.sender);const N=await this._pc.createOffer();let V=s.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const W=A.mid;M.mid=W,V=s.parse(this._pc.localDescription.sdp);const J=V.media[I.idx];if(M.rtcp.cname=u.getCname({offerMediaObject:J}),!d)M.encodings=p.getRtpEncodings({offerMediaObject:J});else if(d.length===1){const B=p.getRtpEncodings({offerMediaObject:J});Object.assign(B[0],d[0]),M.encodings=B}else M.encodings=d;this._remoteSdp.send({offerMediaObject:J,reuseMid:I.reuseMid,offerRtpParameters:M,answerRtpParameters:j,codecOptions:g,extmapAllowMixed:!0});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:M,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",f),this._closed)return;const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");if(d.sender.replaceTrack(null),this._pc.removeTrack(d.sender),this._remoteSdp.closeMediaSection(d.mid))try{d.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(f);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,d){this.assertNotClosed(),this.assertSendDirection(),d?b.debug("replaceTrack() [localId:%s, track.id:%s]",f,d.id):b.debug("replaceTrack() [localId:%s, no track]",f);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(d)}async setMaxSpatialLayer(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{I<=d?j.active=!0:j.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...d}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:d,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:d,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=s.parse(A.sdp),V=N.media.find(J=>J.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const d=[],g=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=g.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let P=await this._pc.createAnswer();const M=s.parse(P.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=g.get(I),V=M.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}P={type:"answer",sdp:s.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const j of f){const{trackId:I}=j,A=g.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),d.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return d}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:d,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j,protocol:g};b.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(d,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=s.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:d}){d||(d=s.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:d});g.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new y.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Xr.Chrome111=R,Xr}var Zr={},US;function Aj(){if(US)return Zr;US=1;var e=Zr&&Zr.__createBinding||(Object.create?function(_,f,d,g){g===void 0&&(g=d);var x=Object.getOwnPropertyDescriptor(f,d);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(_,g,x)}:function(_,f,d,g){g===void 0&&(g=d),_[g]=f[d]}),t=Zr&&Zr.__setModuleDefault||(Object.create?function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}:function(_,f){_.default=f}),r=Zr&&Zr.__importStar||function(_){if(_&&_.__esModule)return _;var f={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&e(f,_,d);return t(f,_),f};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Chrome74=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(Ro()),h=r(rd()),y=nr(),v=Er(),w=xn(),S=Bs(),b=new i.Logger("Chrome74"),E="Chrome74",C={OS:1024,MIS:1024};let R=class h1 extends v.HandlerInterface{static createFactory(){return()=>new h1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const d=await f.createOffer();try{f.close()}catch{}const g=s.parse(d.sdp),x=u.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(d){try{f.close()}catch{}throw d}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:M,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){b.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(f){this.assertNotClosed(),b.debug("updateIceServers()");const d=this._pc.getConfiguration();d.iceServers=f,this._pc.setConfiguration(d)}async restartIce(f){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const d=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:d,codecOptions:g,codec:x}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),d&&d.length>1&&d.forEach((F,z)=>{F.rid=`r${z}`});const P=a.clone(this._sendingRtpParametersByKind[f.kind]);P.codecs=c.reduceCodecs(P.codecs,x);const M=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),I=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:d});let A=await this._pc.createOffer(),N=s.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let W=!1;const J=(0,S.parse)((d??[{}])[0].scalabilityMode);d&&d.length===1&&J.spatialLayers>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,N=s.parse(A.sdp),V=N.media[j.idx],p.addLegacySimulcast({offerMediaObject:V,numStreams:J.spatialLayers}),A={type:"offer",sdp:s.write(N)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const O=I.mid;if(P.mid=O,N=s.parse(this._pc.localDescription.sdp),V=N.media[j.idx],P.rtcp.cname=u.getCname({offerMediaObject:V}),!d)P.encodings=p.getRtpEncodings({offerMediaObject:V});else if(d.length===1){let F=p.getRtpEncodings({offerMediaObject:V});Object.assign(F[0],d[0]),W&&(F=[F[0]]),P.encodings=F}else P.encodings=d;if(P.encodings.length>1&&(P.codecs[0].mimeType.toLowerCase()==="video/vp8"||P.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of P.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${J.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:j.reuseMid,offerRtpParameters:P,answerRtpParameters:M,codecOptions:g,extmapAllowMixed:!0});const B={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._mapMidTransceiver.set(O,I),{localId:O,rtpParameters:P,rtpSender:I.sender}}async stopSending(f){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",f),this._closed)return;const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");if(d.sender.replaceTrack(null),this._pc.removeTrack(d.sender),this._remoteSdp.closeMediaSection(d.mid))try{d.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(f);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,d){this.assertNotClosed(),this.assertSendDirection(),d?b.debug("replaceTrack() [localId:%s, track.id:%s]",f,d.id):b.debug("replaceTrack() [localId:%s, no track]",f);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(d)}async setMaxSpatialLayer(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{I<=d?j.active=!0:j.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...d}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:d,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:d,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=s.parse(A.sdp),V=N.media.find(J=>J.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const d=[],g=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let P=await this._pc.createAnswer();const M=s.parse(P.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=g.get(I),V=M.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}P={type:"answer",sdp:s.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const j of f){const{trackId:I}=j,A=g.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),d.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return d}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:d,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j,protocol:g};b.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(d,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=s.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:d}){d||(d=s.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:d});g.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new y.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Zr.Chrome74=R,Zr}var Jr={},VS;function $j(){if(VS)return Jr;VS=1;var e=Jr&&Jr.__createBinding||(Object.create?function(C,R,_,f){f===void 0&&(f=_);var d=Object.getOwnPropertyDescriptor(R,_);(!d||("get"in d?!R.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return R[_]}}),Object.defineProperty(C,f,d)}:function(C,R,_,f){f===void 0&&(f=_),C[f]=R[_]}),t=Jr&&Jr.__setModuleDefault||(Object.create?function(C,R){Object.defineProperty(C,"default",{enumerable:!0,value:R})}:function(C,R){C.default=R}),r=Jr&&Jr.__importStar||function(C){if(C&&C.__esModule)return C;var R={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(R,C,_);return t(R,C),R};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Chrome70=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(Ro()),h=Er(),y=xn(),v=Bs(),w=new i.Logger("Chrome70"),S="Chrome70",b={OS:1024,MIS:1024};let E=class m1 extends h.HandlerInterface{static createFactory(){return()=>new m1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{R.addTransceiver("audio"),R.addTransceiver("video");const _=await R.createOffer();try{R.close()}catch{}const f=s.parse(_.sdp);return u.extractRtpCapabilities({sdpObject:f})}catch(_){try{R.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:R,iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:M,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=R,this._remoteSdp=new y.RemoteSdp({iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",I),video:c.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",I),video:c.getSendingRemoteRtpParameters("video",I)},d.role&&d.role!=="auto"&&(this._forcedLocalDtlsRole=d.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=R,this._pc.setConfiguration(_)}async restartIce(R){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:_,codecOptions:f,codec:d}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",R.kind,R.id);const g=a.clone(this._sendingRtpParametersByKind[R.kind]);g.codecs=c.reduceCodecs(g.codecs,d);const x=a.clone(this._sendingRemoteRtpParametersByKind[R.kind]);x.codecs=c.reduceCodecs(x.codecs,d);const P=this._remoteSdp.getNextMediaSectionIdx(),M=this._pc.addTransceiver(R,{direction:"sendonly",streams:[this._sendStream]});let j=await this._pc.createOffer(),I=s.parse(j.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),_&&_.length>1&&(w.debug("send() | enabling legacy simulcast"),I=s.parse(j.sdp),A=I.media[P.idx],p.addLegacySimulcast({offerMediaObject:A,numStreams:_.length}),j={type:"offer",sdp:s.write(I)});let N=!1;const V=(0,v.parse)((_??[{}])[0].scalabilityMode);if(_&&_.length===1&&V.spatialLayers>1&&g.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),N=!0,I=s.parse(j.sdp),A=I.media[P.idx],p.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),j={type:"offer",sdp:s.write(I)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),_){w.debug("send() | applying given encodings");const O=M.sender.getParameters();for(let B=0;B<(O.encodings??[]).length;++B){const F=O.encodings[B],z=_[B];if(!z)break;O.encodings[B]=Object.assign(F,z)}await M.sender.setParameters(O)}const W=M.mid;if(g.mid=W,I=s.parse(this._pc.localDescription.sdp),A=I.media[P.idx],g.rtcp.cname=u.getCname({offerMediaObject:A}),g.encodings=p.getRtpEncodings({offerMediaObject:A}),_)for(let O=0;O<g.encodings.length;++O)_[O]&&Object.assign(g.encodings[O],_[O]);if(N&&(g.encodings=[g.encodings[0]]),g.encodings.length>1&&(g.codecs[0].mimeType.toLowerCase()==="video/vp8"||g.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of g.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:P.reuseMid,offerRtpParameters:g,answerRtpParameters:x,codecOptions:f});const J={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",J),await this._pc.setRemoteDescription(J),this._mapMidTransceiver.set(W,M),{localId:W,rtpParameters:g,rtpSender:M.sender}}async stopSending(R){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",R);const _=this._mapMidTransceiver.get(R);if(!_)throw new Error("associated RTCRtpTransceiver not found");if(_.sender.replaceTrack(null),this._pc.removeTrack(_.sender),this._remoteSdp.closeMediaSection(_.mid))try{_.stop()}catch{}const d=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(R)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,_){this.assertSendDirection(),_?w.debug("replaceTrack() [localId:%s, track.id:%s]",R,_.id):w.debug("replaceTrack() [localId:%s, no track]",R);const f=this._mapMidTransceiver.get(R);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(_)}async setMaxSpatialLayer(R,_){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,_);const f=this._mapMidTransceiver.get(R);if(!f)throw new Error("associated RTCRtpTransceiver not found");const d=f.sender.getParameters();d.encodings.forEach((P,M)=>{M<=_?P.active=!0:P.active=!1}),await f.sender.setParameters(d),this._remoteSdp.muxMediaSectionSimulcast(R,d.encodings);const g=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async setRtpEncodingParameters(R,_){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,_);const f=this._mapMidTransceiver.get(R);if(!f)throw new Error("associated RTCRtpTransceiver not found");const d=f.sender.getParameters();d.encodings.forEach((P,M)=>{d.encodings[M]={...P,..._}}),await f.sender.setParameters(d),this._remoteSdp.muxMediaSectionSimulcast(R,d.encodings);const g=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async getSenderStats(R){this.assertSendDirection();const _=this._mapMidTransceiver.get(R);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.sender.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:_,maxRetransmits:f,label:d,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:f,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(d,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=s.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:M}}async receive(R){this.assertRecvDirection();const _=[],f=new Map;for(const P of R){const{trackId:M,kind:j,rtpParameters:I,streamId:A}=P;w.debug("receive() [trackId:%s, kind:%s]",M,j);const N=I.mid??String(this._mapMidTransceiver.size);f.set(M,N),this._remoteSdp.receive({mid:N,kind:j,offerRtpParameters:I,streamId:A??I.rtcp.cname,trackId:M})}const d={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);let g=await this._pc.createAnswer();const x=s.parse(g.sdp);for(const P of R){const{trackId:M,rtpParameters:j}=P,I=f.get(M),A=x.media.find(N=>String(N.mid)===I);u.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}g={type:"answer",sdp:s.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const P of R){const{trackId:M}=P,j=f.get(M),I=this._pc.getTransceivers().find(A=>A.mid===j);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(j,I),_.push({localId:j,track:I.receiver.track,rtpReceiver:I.receiver})}return _}async stopReceiving(R){this.assertRecvDirection();for(const d of R){w.debug("stopReceiving() [localId:%s]",d);const g=this._mapMidTransceiver.get(d);if(!g)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(g.mid)}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const d of R)this._mapMidTransceiver.delete(d)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){this.assertRecvDirection();const _=this._mapMidTransceiver.get(R);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:_,protocol:f}){this.assertRecvDirection();const{streamId:d,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=R,M={negotiated:!0,id:d,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:f};w.debug("receiveDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=s.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:_}){_||(_=s.parse(this._pc.localDescription.sdp));const f=u.extractDtlsParameters({sdpObject:_});f.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((d,g)=>{this.safeEmit("@connect",{dtlsParameters:f},d,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Jr.Chrome70=E,Jr}var en={},Ra={},HS;function nd(){if(HS)return Ra;HS=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.getRtpEncodings=e,Ra.addLegacySimulcast=t;function e({offerMediaObject:r,track:s}){const i=new Set;for(const u of r.ssrcs||[]){if(u.attribute!=="msid")continue;if(u.value.split(" ")[1]===s.id){const h=u.id;i.add(h)}}if(i.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${s.id}]`);const a=new Map;for(const u of r.ssrcGroups||[]){if(u.semantics!=="FID")continue;let[p,h]=u.ssrcs.split(/\s+/);p=Number(p),h=Number(h),i.has(p)&&(i.delete(p),i.delete(h),a.set(p,h))}for(const u of i)a.set(u,null);const c=[];for(const[u,p]of a){const h={ssrc:u};p&&(h.rtx={ssrc:p}),c.push(h)}return c}function t({offerMediaObject:r,track:s,numStreams:i}){if(i<=1)throw new TypeError("numStreams must be greater than 1");let a,c,u;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===s.id?(a=S.id,u=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${s.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===a?(c=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===a);if(!h)throw new Error(`a=ssrc line with cname information not found [track.id:${s.id}]`);const y=h.value,v=[],w=[];for(let S=0;S<i;++S)v.push(a+S),c&&w.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const S of v)r.ssrcs.push({id:S,attribute:"cname",value:y}),r.ssrcs.push({id:S,attribute:"msid",value:`${u} ${s.id}`});for(let S=0;S<w.length;++S){const b=v[S],E=w[S];r.ssrcs.push({id:E,attribute:"cname",value:y}),r.ssrcs.push({id:E,attribute:"msid",value:`${u} ${s.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return Ra}var WS;function Fj(){if(WS)return en;WS=1;var e=en&&en.__createBinding||(Object.create?function(E,C,R,_){_===void 0&&(_=R);var f=Object.getOwnPropertyDescriptor(C,R);(!f||("get"in f?!C.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return C[R]}}),Object.defineProperty(E,_,f)}:function(E,C,R,_){_===void 0&&(_=R),E[_]=C[R]}),t=en&&en.__setModuleDefault||(Object.create?function(E,C){Object.defineProperty(E,"default",{enumerable:!0,value:C})}:function(E,C){E.default=C}),r=en&&en.__importStar||function(E){if(E&&E.__esModule)return E;var C={};if(E!=null)for(var R in E)R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)&&e(C,E,R);return t(C,E),C};Object.defineProperty(en,"__esModule",{value:!0}),en.Chrome67=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(nd()),h=Er(),y=xn(),v=new i.Logger("Chrome67"),w="Chrome67",S={OS:1024,MIS:1024};let b=class g1 extends h.HandlerInterface{static createFactory(){return()=>new g1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const R=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=s.parse(R.sdp);return u.extractRtpCapabilities({sdpObject:_})}catch(R){try{C.close()}catch{}throw R}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:R,iceCandidates:_,dtlsParameters:f,sctpParameters:d,iceServers:g,iceTransportPolicy:x,additionalSettings:P,proprietaryConstraints:M,extendedRtpCapabilities:j}){v.debug("run()"),this._direction=C,this._remoteSdp=new y.RemoteSdp({iceParameters:R,iceCandidates:_,dtlsParameters:f,sctpParameters:d,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:g??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...P},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){v.debug("updateIceServers()");const R=this._pc.getConfiguration();R.iceServers=C,this._pc.setConfiguration(R)}async restartIce(C){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const R=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R);const _={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const _=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:R,codecOptions:_,codec:f}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),f&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let d=await this._pc.createOffer(),g=s.parse(d.sdp),x;const P=a.clone(this._sendingRtpParametersByKind[C.kind]);P.codecs=c.reduceCodecs(P.codecs);const M=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(M.codecs=c.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),C.kind==="video"&&R&&R.length>1&&(v.debug("send() | enabling simulcast"),g=s.parse(d.sdp),x=g.media.find(N=>N.type==="video"),p.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:R.length}),d={type:"offer",sdp:s.write(g)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),g=s.parse(this._pc.localDescription.sdp),x=g.media.find(N=>N.type===C.kind),P.rtcp.cname=u.getCname({offerMediaObject:x}),P.encodings=p.getRtpEncodings({offerMediaObject:x,track:C}),R)for(let N=0;N<P.encodings.length;++N)R[N]&&Object.assign(P.encodings[N],R[N]);if(P.encodings.length>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of P.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:P,answerRtpParameters:M,codecOptions:_});const j={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const I=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(I,A),{localId:I,rtpParameters:P,rtpSender:A}}async stopSending(C){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",C);const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(R),R.track&&this._sendStream.removeTrack(R.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(d){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",d.toString());return}throw d}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,R){this.assertSendDirection(),R?v.debug("replaceTrack() [localId:%s, track.id:%s]",C,R.id):v.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.track;await _.replaceTrack(R),f&&this._sendStream.removeTrack(f),R&&this._sendStream.addTrack(R)}async setMaxSpatialLayer(C,R){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,R);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.getParameters();f.encodings.forEach((d,g)=>{g<=R?d.active=!0:d.active=!1}),await _.setParameters(f)}async setRtpEncodingParameters(C,R){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,R);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.getParameters();f.encodings.forEach((d,g)=>{f.encodings[g]={...d,...R}}),await _.setParameters(f)}async getSenderStats(C){this.assertSendDirection();const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");return R.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:R,maxRetransmits:_,label:f,protocol:d}){this.assertSendDirection();const g={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:R,maxRetransmitTime:R,maxRetransmits:_,protocol:d};v.debug("sendDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(f,g);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),j=s.parse(M.sdp),I=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const P={streamId:g.id,ordered:g.ordered,maxPacketLifeTime:g.maxPacketLifeTime,maxRetransmits:g.maxRetransmits};return{dataChannel:x,sctpStreamParameters:P}}async receive(C){this.assertRecvDirection();const R=[];for(const g of C){const{trackId:x,kind:P,rtpParameters:M,streamId:j}=g;v.debug("receive() [trackId:%s, kind:%s]",x,P);const I=P;this._remoteSdp.receive({mid:I,kind:P,offerRtpParameters:M,streamId:j??M.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let f=await this._pc.createAnswer();const d=s.parse(f.sdp);for(const g of C){const{kind:x,rtpParameters:P}=g,M=x,j=d.media.find(I=>String(I.mid)===M);u.applyCodecParameters({offerRtpParameters:P,answerMediaObject:j})}f={type:"answer",sdp:s.write(d)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const g of C){const{kind:x,trackId:P,rtpParameters:M}=g,j=P,I=x,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===j);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(j,{mid:I,rtpParameters:M,rtpReceiver:A}),R.push({localId:j,track:A.track,rtpReceiver:A})}return R}async stopReceiving(C){this.assertRecvDirection();for(const f of C){v.debug("stopReceiving() [localId:%s]",f);const{mid:d,rtpParameters:g}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:d,offerRtpParameters:g})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const _=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async pauseReceiving(C){}async resumeReceiving(C){}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:R}=this._mapRecvLocalIdInfo.get(C)??{};if(!R)throw new Error("associated RTCRtpReceiver not found");return R.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:R,protocol:_}){this.assertRecvDirection();const{streamId:f,ordered:d,maxPacketLifeTime:g,maxRetransmits:x}=C,P={negotiated:!0,id:f,ordered:d,maxPacketLifeTime:g,maxRetransmitTime:g,maxRetransmits:x,protocol:_};v.debug("receiveDataChannel() [options:%o]",P);const M=this._pc.createDataChannel(R,P);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const I=await this._pc.createAnswer();if(!this._transportReady){const A=s.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:C,localSdpObject:R}){R||(R=s.parse(this._pc.localDescription.sdp));const _=u.extractDtlsParameters({sdpObject:R});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((f,d)=>{this.safeEmit("@connect",{dtlsParameters:_},f,d)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return en.Chrome67=b,en}var tn={},qS;function zj(){if(qS)return tn;qS=1;var e=tn&&tn.__createBinding||(Object.create?function(C,R,_,f){f===void 0&&(f=_);var d=Object.getOwnPropertyDescriptor(R,_);(!d||("get"in d?!R.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return R[_]}}),Object.defineProperty(C,f,d)}:function(C,R,_,f){f===void 0&&(f=_),C[f]=R[_]}),t=tn&&tn.__setModuleDefault||(Object.create?function(C,R){Object.defineProperty(C,"default",{enumerable:!0,value:R})}:function(C,R){C.default=R}),r=tn&&tn.__importStar||function(C){if(C&&C.__esModule)return C;var R={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(R,C,_);return t(R,C),R};Object.defineProperty(tn,"__esModule",{value:!0}),tn.Chrome55=void 0;const s=r(mr()),i=_t(),a=nr(),c=r(zt()),u=r(hr()),p=r(bn()),h=r(nd()),y=Er(),v=xn(),w=new i.Logger("Chrome55"),S="Chrome55",b={OS:1024,MIS:1024};let E=class v1 extends y.HandlerInterface{static createFactory(){return()=>new v1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const f=s.parse(_.sdp);return p.extractRtpCapabilities({sdpObject:f})}catch(_){try{R.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:R,iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:M,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=R,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},d.role&&d.role!=="auto"&&(this._forcedLocalDtlsRole=d.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...M},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=R,this._pc.setConfiguration(_)}async restartIce(R){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:_,codecOptions:f,codec:d}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),d&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addStream(this._sendStream);let g=await this._pc.createOffer(),x=s.parse(g.sdp),P;const M=c.clone(this._sendingRtpParametersByKind[R.kind]);M.codecs=u.reduceCodecs(M.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),R.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=s.parse(g.sdp),P=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:P,track:R,numStreams:_.length}),g={type:"offer",sdp:s.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),x=s.parse(this._pc.localDescription.sdp),P=x.media.find(N=>N.type===R.kind),M.rtcp.cname=p.getCname({offerMediaObject:P}),M.encodings=h.getRtpEncodings({offerMediaObject:P,track:R}),_)for(let N=0;N<M.encodings.length;++N)_[N]&&Object.assign(M.encodings[N],_[N]);if(M.encodings.length>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of M.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:P,offerRtpParameters:M,answerRtpParameters:j,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,R),{localId:A,rtpParameters:M}}async stopSending(R){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",R);const _=this._mapSendLocalIdTrack.get(R);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(R),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f);try{await this._pc.setLocalDescription(f)}catch(g){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const d={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(R,_){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(R,_){throw new a.UnsupportedError("not supported")}async getSenderStats(R){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:R,maxPacketLifeTime:_,maxRetransmits:f,label:d,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:f,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(d,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=s.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:M}}async receive(R){this.assertRecvDirection();const _=[];for(const x of R){const{trackId:P,kind:M,rtpParameters:j,streamId:I}=x;w.debug("receive() [trackId:%s, kind:%s]",P,M);const A=M;this._remoteSdp.receive({mid:A,kind:M,offerRtpParameters:j,streamId:I??j.rtcp.cname,trackId:P})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let d=await this._pc.createAnswer();const g=s.parse(d.sdp);for(const x of R){const{kind:P,rtpParameters:M}=x,j=P,I=g.media.find(A=>String(A.mid)===j);p.applyCodecParameters({offerRtpParameters:M,answerMediaObject:I})}d={type:"answer",sdp:s.write(g)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const x of R){const{kind:P,trackId:M,rtpParameters:j}=x,I=P,A=M,N=x.streamId??j.rtcp.cname,W=this._pc.getRemoteStreams().find(J=>J.id===N).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:I,rtpParameters:j}),_.push({localId:A,track:W})}return _}async stopReceiving(R){this.assertRecvDirection();for(const d of R){w.debug("stopReceiving() [localId:%s]",d);const{mid:g,rtpParameters:x}=this._mapRecvLocalIdInfo.get(d)??{};this._mapRecvLocalIdInfo.delete(d),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:R,label:_,protocol:f}){this.assertRecvDirection();const{streamId:d,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=R,M={negotiated:!0,id:d,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:f};w.debug("receiveDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=s.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:_}){_||(_=s.parse(this._pc.localDescription.sdp));const f=p.extractDtlsParameters({sdpObject:_});f.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((d,g)=>{this.safeEmit("@connect",{dtlsParameters:f},d,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return tn.Chrome55=E,tn}var rn={},GS;function Bj(){if(GS)return rn;GS=1;var e=rn&&rn.__createBinding||(Object.create?function(R,_,f,d){d===void 0&&(d=f);var g=Object.getOwnPropertyDescriptor(_,f);(!g||("get"in g?!_.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return _[f]}}),Object.defineProperty(R,d,g)}:function(R,_,f,d){d===void 0&&(d=f),R[d]=_[f]}),t=rn&&rn.__setModuleDefault||(Object.create?function(R,_){Object.defineProperty(R,"default",{enumerable:!0,value:_})}:function(R,_){R.default=_}),r=rn&&rn.__importStar||function(R){if(R&&R.__esModule)return R;var _={};if(R!=null)for(var f in R)f!=="default"&&Object.prototype.hasOwnProperty.call(R,f)&&e(_,R,f);return t(_,R),_};Object.defineProperty(rn,"__esModule",{value:!0}),rn.Firefox120=void 0;const s=r(mr()),i=_t(),a=nr(),c=r(zt()),u=r(hr()),p=r(bn()),h=r(Ro()),y=Er(),v=xn(),w=Bs(),S=new i.Logger("Firefox120"),b="Firefox120",E={OS:16,MIS:2048};let C=class y1 extends y.HandlerInterface{static createFactory(){return()=>new y1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),f=document.createElement("canvas");f.getContext("2d");const g=f.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"}),_.addTransceiver(g,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const x=await _.createOffer();try{f.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}const P=s.parse(x.sdp);return p.extractRtpCapabilities({sdpObject:P})}catch(x){try{f.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:_,iceParameters:f,iceCandidates:d,dtlsParameters:g,sctpParameters:x,iceServers:P,iceTransportPolicy:M,additionalSettings:j,proprietaryConstraints:I,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new v.RemoteSdp({iceParameters:f,iceCandidates:d,dtlsParameters:g,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const d={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:f,codecOptions:d,codec:g,onRtpSender:x}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),f&&f.length>1&&f.forEach((O,B)=>{O.rid=`r${B}`});const P=c.clone(this._sendingRtpParametersByKind[_.kind]);P.codecs=u.reduceCodecs(P.codecs,g);const M=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);M.codecs=u.reduceCodecs(M.codecs,g);const j=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});x&&x(j.sender);const I=await this._pc.createOffer();let A=s.parse(I.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const N=(0,w.parse)((f??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const V=j.mid;P.mid=V,A=s.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(P.rtcp.cname=p.getCname({offerMediaObject:W}),!f)P.encodings=h.getRtpEncodings({offerMediaObject:W});else if(f.length===1){const O=h.getRtpEncodings({offerMediaObject:W});Object.assign(O[0],f[0]),P.encodings=O}else P.encodings=f;if(P.encodings.length>1&&(P.codecs[0].mimeType.toLowerCase()==="video/vp8"||P.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of P.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${N.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:P,answerRtpParameters:M,codecOptions:d,extmapAllowMixed:!0});const J={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",J),await this._pc.setRemoteDescription(J),this._mapMidTransceiver.set(V,j),{localId:V,rtpParameters:P,rtpSender:j.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.disableMediaSection(f.mid);const d=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(_);const d=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const d=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async replaceTrack(_,f){this.assertNotClosed(),this.assertSendDirection(),f?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,f.id):S.debug("replaceTrack() [localId:%s, no track]",_);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated RTCRtpTransceiver not found");await d.sender.replaceTrack(f)}async setMaxSpatialLayer(_,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,f);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated transceiver not found");const g=d.sender.getParameters();g.encodings.forEach((M,j)=>{j<=f?M.active=!0:M.active=!1}),await d.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(_,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,f);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated RTCRtpTransceiver not found");const g=d.sender.getParameters();g.encodings.forEach((M,j)=>{g.encodings[j]={...M,...f}}),await d.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:f,maxRetransmits:d,label:g,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:f,maxRetransmits:d,protocol:x};S.debug("sendDataChannel() [options:%o]",P);const M=this._pc.createDataChannel(g,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),A=s.parse(I.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:M,sctpStreamParameters:j}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const f=[],d=new Map;for(const M of _){const{trackId:j,kind:I,rtpParameters:A,streamId:N}=M;S.debug("receive() [trackId:%s, kind:%s]",j,I);const V=A.mid??String(this._mapMidTransceiver.size);d.set(j,V),this._remoteSdp.receive({mid:V,kind:I,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);for(const M of _){const{trackId:j,onRtpReceiver:I}=M;if(I){const A=d.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("transceiver not found");I(N.receiver)}}let x=await this._pc.createAnswer();const P=s.parse(x.sdp);for(const M of _){const{trackId:j,rtpParameters:I}=M,A=d.get(j),N=P.media.find(V=>String(V.mid)===A);p.applyCodecParameters({offerRtpParameters:I,answerMediaObject:N}),x={type:"answer",sdp:s.write(P)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:P}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const M of _){const{trackId:j}=M,I=d.get(j),A=this._pc.getTransceivers().find(N=>N.mid===I);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,A),f.push({localId:I,track:A.receiver.track,rtpReceiver:A.receiver})}return f}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const g of _){S.debug("stopReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const g of _)this._mapMidTransceiver.delete(g)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("pauseReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(g)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("resumeReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(g)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}async getReceiverStats(_){this.assertRecvDirection();const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:f,protocol:d}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:M}=_,j={negotiated:!0,id:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:M,protocol:d};S.debug("receiveDataChannel() [options:%o]",j);const I=this._pc.createDataChannel(f,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=s.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:f}){f||(f=s.parse(this._pc.localDescription.sdp));const d=p.extractDtlsParameters({sdpObject:f});d.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((g,x)=>{this.safeEmit("@connect",{dtlsParameters:d},g,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return rn.Firefox120=C,rn}var nn={},KS;function Uj(){if(KS)return nn;KS=1;var e=nn&&nn.__createBinding||(Object.create?function(R,_,f,d){d===void 0&&(d=f);var g=Object.getOwnPropertyDescriptor(_,f);(!g||("get"in g?!_.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return _[f]}}),Object.defineProperty(R,d,g)}:function(R,_,f,d){d===void 0&&(d=f),R[d]=_[f]}),t=nn&&nn.__setModuleDefault||(Object.create?function(R,_){Object.defineProperty(R,"default",{enumerable:!0,value:_})}:function(R,_){R.default=_}),r=nn&&nn.__importStar||function(R){if(R&&R.__esModule)return R;var _={};if(R!=null)for(var f in R)f!=="default"&&Object.prototype.hasOwnProperty.call(R,f)&&e(_,R,f);return t(_,R),_};Object.defineProperty(nn,"__esModule",{value:!0}),nn.Firefox60=void 0;const s=r(mr()),i=_t(),a=nr(),c=r(zt()),u=r(hr()),p=r(bn()),h=r(Ro()),y=Er(),v=xn(),w=Bs(),S=new i.Logger("Firefox60"),b="Firefox60",E={OS:16,MIS:2048};let C=class w1 extends y.HandlerInterface{static createFactory(){return()=>new w1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),f=document.createElement("canvas");f.getContext("2d");const g=f.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"});const x=_.addTransceiver(g,{direction:"sendrecv"}),P=x.sender.getParameters(),M=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];P.encodings=M,await x.sender.setParameters(P);const j=await _.createOffer();try{f.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}const I=s.parse(j.sdp);return p.extractRtpCapabilities({sdpObject:I})}catch(x){try{f.remove()}catch{}try{g.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:_,iceParameters:f,iceCandidates:d,dtlsParameters:g,sctpParameters:x,iceServers:P,iceTransportPolicy:M,additionalSettings:j,proprietaryConstraints:I,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new v.RemoteSdp({iceParameters:f,iceCandidates:d,dtlsParameters:g,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const d={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:f,codecOptions:d,codec:g}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),f&&(f=c.clone(f),f.forEach((J,O)=>{J.rid=`r${O}`}),f.reverse());const x=c.clone(this._sendingRtpParametersByKind[_.kind]);x.codecs=u.reduceCodecs(x.codecs,g);const P=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);P.codecs=u.reduceCodecs(P.codecs,g);const M=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});if(f){const J=M.sender.getParameters();J.encodings=f,await M.sender.setParameters(J)}const j=await this._pc.createOffer();let I=s.parse(j.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:I});const A=(0,w.parse)((f??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j);const N=M.mid;x.mid=N,I=s.parse(this._pc.localDescription.sdp);const V=I.media[I.media.length-1];if(x.rtcp.cname=p.getCname({offerMediaObject:V}),!f)x.encodings=h.getRtpEncodings({offerMediaObject:V});else if(f.length===1){const J=h.getRtpEncodings({offerMediaObject:V});Object.assign(J[0],f[0]),x.encodings=J}else x.encodings=f.reverse();if(x.encodings.length>1&&(x.codecs[0].mimeType.toLowerCase()==="video/vp8"||x.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const J of x.encodings)J.scalabilityMode?J.scalabilityMode=`L1T${A.temporalLayers}`:J.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:x,answerRtpParameters:P,codecOptions:d,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(N,M),{localId:N,rtpParameters:x,rtpSender:M.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.disableMediaSection(f.mid);const d=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(_);const d=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const d=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}async replaceTrack(_,f){this.assertNotClosed(),this.assertSendDirection(),f?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,f.id):S.debug("replaceTrack() [localId:%s, no track]",_);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated RTCRtpTransceiver not found");await d.sender.replaceTrack(f)}async setMaxSpatialLayer(_,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,f);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated transceiver not found");const g=d.sender.getParameters();f=g.encodings.length-1-f,g.encodings.forEach((M,j)=>{j>=f?M.active=!0:M.active=!1}),await d.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(_,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,f);const d=this._mapMidTransceiver.get(_);if(!d)throw new Error("associated RTCRtpTransceiver not found");const g=d.sender.getParameters();g.encodings.forEach((M,j)=>{g.encodings[j]={...M,...f}}),await d.sender.setParameters(g),this._remoteSdp.muxMediaSectionSimulcast(_,g.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:f,maxRetransmits:d,label:g,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:f,maxRetransmits:d,protocol:x};S.debug("sendDataChannel() [options:%o]",P);const M=this._pc.createDataChannel(g,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),A=s.parse(I.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:M,sctpStreamParameters:j}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const f=[],d=new Map;for(const M of _){const{trackId:j,kind:I,rtpParameters:A,streamId:N}=M;S.debug("receive() [trackId:%s, kind:%s]",j,I);const V=A.mid??String(this._mapMidTransceiver.size);d.set(j,V),this._remoteSdp.receive({mid:V,kind:I,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const g={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",g),await this._pc.setRemoteDescription(g);let x=await this._pc.createAnswer();const P=s.parse(x.sdp);for(const M of _){const{trackId:j,rtpParameters:I}=M,A=d.get(j),N=P.media.find(V=>String(V.mid)===A);p.applyCodecParameters({offerRtpParameters:I,answerMediaObject:N}),x={type:"answer",sdp:s.write(P)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:P}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const M of _){const{trackId:j}=M,I=d.get(j),A=this._pc.getTransceivers().find(N=>N.mid===I);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,A),f.push({localId:I,track:A.receiver.track,rtpReceiver:A.receiver})}return f}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const g of _){S.debug("stopReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const g of _)this._mapMidTransceiver.delete(g)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("pauseReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(g)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const g of _){S.debug("resumeReceiving() [localId:%s]",g);const x=this._mapMidTransceiver.get(g);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(g)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d)}async getReceiverStats(_){this.assertRecvDirection();const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:f,protocol:d}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:M}=_,j={negotiated:!0,id:g,ordered:x,maxPacketLifeTime:P,maxRetransmits:M,protocol:d};S.debug("receiveDataChannel() [options:%o]",j);const I=this._pc.createDataChannel(f,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=s.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:f}){f||(f=s.parse(this._pc.localDescription.sdp));const d=p.extractDtlsParameters({sdpObject:f});d.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((g,x)=>{this.safeEmit("@connect",{dtlsParameters:d},g,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return nn.Firefox60=C,nn}var sn={},YS;function Vj(){if(YS)return sn;YS=1;var e=sn&&sn.__createBinding||(Object.create?function(_,f,d,g){g===void 0&&(g=d);var x=Object.getOwnPropertyDescriptor(f,d);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(_,g,x)}:function(_,f,d,g){g===void 0&&(g=d),_[g]=f[d]}),t=sn&&sn.__setModuleDefault||(Object.create?function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}:function(_,f){_.default=f}),r=sn&&sn.__importStar||function(_){if(_&&_.__esModule)return _;var f={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&e(f,_,d);return t(f,_),f};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Safari12=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(Ro()),h=r(rd()),y=nr(),v=Er(),w=xn(),S=Bs(),b=new i.Logger("Safari12"),E="Safari12",C={OS:1024,MIS:1024};let R=class S1 extends v.HandlerInterface{static createFactory(){return()=>new S1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{f.addTransceiver("audio"),f.addTransceiver("video");const d=await f.createOffer();try{f.close()}catch{}const g=s.parse(d.sdp),x=u.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(d){try{f.close()}catch{}throw d}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:M,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(f){this.assertNotClosed(),b.debug("updateIceServers()");const d=this._pc.getConfiguration();d.iceServers=f,this._pc.setConfiguration(d)}async restartIce(f){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const d=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:d,codecOptions:g,codec:x,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",f.kind,f.id);const M=a.clone(this._sendingRtpParametersByKind[f.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream]});P&&P(A.sender);let N=await this._pc.createOffer(),V=s.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const J=(0,S.parse)((d??[{}])[0].scalabilityMode);d&&d.length>1&&(b.debug("send() | enabling legacy simulcast"),V=s.parse(N.sdp),W=V.media[I.idx],p.addLegacySimulcast({offerMediaObject:W,numStreams:d.length}),N={type:"offer",sdp:s.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=A.mid;if(M.mid=O,V=s.parse(this._pc.localDescription.sdp),W=V.media[I.idx],M.rtcp.cname=u.getCname({offerMediaObject:W}),M.encodings=p.getRtpEncodings({offerMediaObject:W}),d)for(let F=0;F<M.encodings.length;++F)d[F]&&Object.assign(M.encodings[F],d[F]);if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of M.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${J.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:I.reuseMid,offerRtpParameters:M,answerRtpParameters:j,codecOptions:g});const B={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._mapMidTransceiver.set(O,A),{localId:O,rtpParameters:M,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");if(d.sender.replaceTrack(null),this._pc.removeTrack(d.sender),this._remoteSdp.closeMediaSection(d.mid))try{d.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(f);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(f);const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,d){this.assertNotClosed(),this.assertSendDirection(),d?b.debug("replaceTrack() [localId:%s, track.id:%s]",f,d.id):b.debug("replaceTrack() [localId:%s, no track]",f);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(d)}async setMaxSpatialLayer(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{I<=d?j.active=!0:j.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...d}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:d,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:d,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=s.parse(A.sdp),V=N.media.find(J=>J.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const d=[],g=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=g.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let P=await this._pc.createAnswer();const M=s.parse(P.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=g.get(I),V=M.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}P={type:"answer",sdp:s.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const j of f){const{trackId:I}=j,A=g.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,N),d.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver})}return d}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:d,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j,protocol:g};b.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(d,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=s.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:d}){d||(d=s.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:d});g.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new y.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return sn.Safari12=R,sn}var on={},XS;function Hj(){if(XS)return on;XS=1;var e=on&&on.__createBinding||(Object.create?function(E,C,R,_){_===void 0&&(_=R);var f=Object.getOwnPropertyDescriptor(C,R);(!f||("get"in f?!C.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return C[R]}}),Object.defineProperty(E,_,f)}:function(E,C,R,_){_===void 0&&(_=R),E[_]=C[R]}),t=on&&on.__setModuleDefault||(Object.create?function(E,C){Object.defineProperty(E,"default",{enumerable:!0,value:C})}:function(E,C){E.default=C}),r=on&&on.__importStar||function(E){if(E&&E.__esModule)return E;var C={};if(E!=null)for(var R in E)R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)&&e(C,E,R);return t(C,E),C};Object.defineProperty(on,"__esModule",{value:!0}),on.Safari11=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(nd()),h=Er(),y=xn(),v=new i.Logger("Safari11"),w="Safari11",S={OS:1024,MIS:1024};let b=class _1 extends h.HandlerInterface{static createFactory(){return()=>new _1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const R=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=s.parse(R.sdp);return u.extractRtpCapabilities({sdpObject:_})}catch(R){try{C.close()}catch{}throw R}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:R,iceCandidates:_,dtlsParameters:f,sctpParameters:d,iceServers:g,iceTransportPolicy:x,additionalSettings:P,proprietaryConstraints:M,extendedRtpCapabilities:j}){v.debug("run()"),this._direction=C,this._remoteSdp=new y.RemoteSdp({iceParameters:R,iceCandidates:_,dtlsParameters:f,sctpParameters:d,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:g??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...P},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){v.debug("updateIceServers()");const R=this._pc.getConfiguration();R.iceServers=C,this._pc.setConfiguration(R)}async restartIce(C){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const R=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R);const _={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const _=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:R,codecOptions:_,codec:f}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),f&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let d=await this._pc.createOffer(),g=s.parse(d.sdp),x;const P=a.clone(this._sendingRtpParametersByKind[C.kind]);P.codecs=c.reduceCodecs(P.codecs);const M=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(M.codecs=c.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:g}),C.kind==="video"&&R&&R.length>1&&(v.debug("send() | enabling simulcast"),g=s.parse(d.sdp),x=g.media.find(N=>N.type==="video"),p.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:R.length}),d={type:"offer",sdp:s.write(g)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),g=s.parse(this._pc.localDescription.sdp),x=g.media.find(N=>N.type===C.kind),P.rtcp.cname=u.getCname({offerMediaObject:x}),P.encodings=p.getRtpEncodings({offerMediaObject:x,track:C}),R)for(let N=0;N<P.encodings.length;++N)R[N]&&Object.assign(P.encodings[N],R[N]);if(P.encodings.length>1&&P.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of P.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:P,answerRtpParameters:M,codecOptions:_});const j={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const I=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(I,A),{localId:I,rtpParameters:P,rtpSender:A}}async stopSending(C){this.assertSendDirection();const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");R.track&&this._sendStream.removeTrack(R.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(d){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",d.toString());return}throw d}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,R){this.assertSendDirection(),R?v.debug("replaceTrack() [localId:%s, track.id:%s]",C,R.id):v.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.track;await _.replaceTrack(R),f&&this._sendStream.removeTrack(f),R&&this._sendStream.addTrack(R)}async setMaxSpatialLayer(C,R){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,R);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.getParameters();f.encodings.forEach((d,g)=>{g<=R?d.active=!0:d.active=!1}),await _.setParameters(f)}async setRtpEncodingParameters(C,R){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,R);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const f=_.getParameters();f.encodings.forEach((d,g)=>{f.encodings[g]={...d,...R}}),await _.setParameters(f)}async getSenderStats(C){this.assertSendDirection();const R=this._mapSendLocalIdRtpSender.get(C);if(!R)throw new Error("associated RTCRtpSender not found");return R.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:R,maxRetransmits:_,label:f,protocol:d}){this.assertSendDirection();const g={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:R,maxRetransmits:_,protocol:d};v.debug("sendDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(f,g);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),j=s.parse(M.sdp),I=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const P={streamId:g.id,ordered:g.ordered,maxPacketLifeTime:g.maxPacketLifeTime,maxRetransmits:g.maxRetransmits};return{dataChannel:x,sctpStreamParameters:P}}async receive(C){this.assertRecvDirection();const R=[];for(const g of C){const{trackId:x,kind:P,rtpParameters:M,streamId:j}=g;v.debug("receive() [trackId:%s, kind:%s]",x,P);const I=P;this._remoteSdp.receive({mid:I,kind:P,offerRtpParameters:M,streamId:j??M.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let f=await this._pc.createAnswer();const d=s.parse(f.sdp);for(const g of C){const{kind:x,rtpParameters:P}=g,M=x,j=d.media.find(I=>String(I.mid)===M);u.applyCodecParameters({offerRtpParameters:P,answerMediaObject:j})}f={type:"answer",sdp:s.write(d)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const g of C){const{kind:x,trackId:P,rtpParameters:M}=g,j=x,I=P,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===I);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(I,{mid:j,rtpParameters:M,rtpReceiver:A}),R.push({localId:I,track:A.track,rtpReceiver:A})}return R}async stopReceiving(C){this.assertRecvDirection();for(const f of C){v.debug("stopReceiving() [localId:%s]",f);const{mid:d,rtpParameters:g}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:d,offerRtpParameters:g})}const R={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",R),await this._pc.setRemoteDescription(R);const _=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:R}=this._mapRecvLocalIdInfo.get(C)??{};if(!R)throw new Error("associated RTCRtpReceiver not found");return R.getStats()}async pauseReceiving(C){}async resumeReceiving(C){}async receiveDataChannel({sctpStreamParameters:C,label:R,protocol:_}){this.assertRecvDirection();const{streamId:f,ordered:d,maxPacketLifeTime:g,maxRetransmits:x}=C,P={negotiated:!0,id:f,ordered:d,maxPacketLifeTime:g,maxRetransmits:x,protocol:_};v.debug("receiveDataChannel() [options:%o]",P);const M=this._pc.createDataChannel(R,P);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const I=await this._pc.createAnswer();if(!this._transportReady){const A=s.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:C,localSdpObject:R}){R||(R=s.parse(this._pc.localDescription.sdp));const _=u.extractDtlsParameters({sdpObject:R});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((f,d)=>{this.safeEmit("@connect",{dtlsParameters:_},f,d)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return on.Safari11=b,on}var an={},cn={},QS;function Wj(){if(QS)return cn;QS=1;var e=cn&&cn.__createBinding||(Object.create?function(c,u,p,h){h===void 0&&(h=p);var y=Object.getOwnPropertyDescriptor(u,p);(!y||("get"in y?!u.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(c,h,y)}:function(c,u,p,h){h===void 0&&(h=p),c[h]=u[p]}),t=cn&&cn.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=cn&&cn.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&e(u,c,p);return t(u,c),u};Object.defineProperty(cn,"__esModule",{value:!0}),cn.getCapabilities=i,cn.mangleRtpParameters=a;const s=r(zt());function i(){const c=RTCRtpReceiver.getCapabilities(),u=s.clone(c);for(const p of u.codecs??[]){if(p.channels=p.numChannels,delete p.numChannels,p.mimeType=p.mimeType??`${p.kind}/${p.name}`,p.parameters){const h=p.parameters;h.apt&&(h.apt=Number(h.apt)),h["packetization-mode"]&&(h["packetization-mode"]=Number(h["packetization-mode"]))}for(const h of p.rtcpFeedback??[])h.parameter||(h.parameter="")}return u}function a(c){const u=s.clone(c);u.mid&&(u.muxId=u.mid,delete u.mid);for(const p of u.codecs)p.channels&&(p.numChannels=p.channels,delete p.channels),p.mimeType&&!p.name&&(p.name=p.mimeType.split("/")[1]),delete p.mimeType;return u}return cn}var ZS;function qj(){if(ZS)return an;ZS=1;var e=an&&an.__createBinding||(Object.create?function(w,S,b,E){E===void 0&&(E=b);var C=Object.getOwnPropertyDescriptor(S,b);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[b]}}),Object.defineProperty(w,E,C)}:function(w,S,b,E){E===void 0&&(E=b),w[E]=S[b]}),t=an&&an.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=an&&an.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&e(S,w,b);return t(S,w),S};Object.defineProperty(an,"__esModule",{value:!0}),an.Edge11=void 0;const s=_t(),i=nr(),a=r(zt()),c=r(hr()),u=r(Wj()),p=Er(),h=new s.Logger("Edge11"),y="Edge11";let v=class b1 extends p.HandlerInterface{static createFactory(){return()=>new b1}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return y}close(){h.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return h.debug("getNativeRtpCapabilities()"),u.getCapabilities()}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:b,iceCandidates:E,dtlsParameters:C,sctpParameters:R,iceServers:_,iceTransportPolicy:f,additionalSettings:d,proprietaryConstraints:g,extendedRtpCapabilities:x}){h.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",x),video:c.getSendingRtpParameters("video",x)},this._remoteIceParameters=b,this._remoteIceCandidates=E,this._remoteDtlsParameters=C,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:_,iceTransportPolicy:f}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new i.UnsupportedError("not supported")}async restartIce(S){if(h.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){h.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const b of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(b);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:b,codecOptions:E,codec:C}){h.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),h.debug("send() | calling new RTCRtpSender()");const R=new RTCRtpSender(S,this._dtlsTransport),_=a.clone(this._sendingRtpParametersByKind[S.kind]);_.codecs=c.reduceCodecs(_.codecs,C);const f=_.codecs.some(x=>/.+\/rtx$/i.test(x.mimeType));b||(b=[{}]);for(const x of b)x.ssrc=a.generateRandomNumber(),f&&(x.rtx={ssrc:a.generateRandomNumber()});_.encodings=b,_.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const d=u.mangleRtpParameters(_);h.debug("send() | calling rtpSender.send() [params:%o]",d),await R.send(d);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(g,R),{localId:g,rtpParameters:_,rtpSender:R}}async stopSending(S){h.debug("stopSending() [localId:%s]",S);const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{h.debug("stopSending() | calling rtpSender.stop()"),b.stop()}catch(E){throw h.warn("stopSending() | rtpSender.stop() failed:%o",E),E}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,b){b?h.debug("replaceTrack() [localId:%s, track.id:%s]",S,b.id):h.debug("replaceTrack() [localId:%s, no track]",S);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");E.setTrack(b)}async setMaxSpatialLayer(S,b){h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,b);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");const C=E.getParameters();C.encodings.forEach((R,_)=>{_<=b?R.active=!0:R.active=!1}),await E.setParameters(C)}async setRtpEncodingParameters(S,b){h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,b);const E=this._rtpSenders.get(S);if(!E)throw new Error("RTCRtpSender not found");const C=E.getParameters();C.encodings.forEach((R,_)=>{C.encodings[_]={...R,...b}}),await E.setParameters(C)}async getSenderStats(S){const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");return b.getStats()}async sendDataChannel(S){throw new i.UnsupportedError("not implemented")}async receive(S){const b=[];for(const E of S){const{trackId:C,kind:R}=E;h.debug("receive() [trackId:%s, kind:%s]",C,R)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const E of S){const{trackId:C,kind:R,rtpParameters:_}=E;h.debug("receive() | calling new RTCRtpReceiver()");const f=new RTCRtpReceiver(this._dtlsTransport,R);f.addEventListener("error",x=>{h.error('rtpReceiver "error" event [event:%o]',x)});const d=u.mangleRtpParameters(_);h.debug("receive() | calling rtpReceiver.receive() [params:%o]",d),await f.receive(d);const g=C;this._rtpReceivers.set(g,f),b.push({localId:g,track:f.track,rtpReceiver:f})}return b}async stopReceiving(S){for(const b of S){h.debug("stopReceiving() [localId:%s]",b);const E=this._rtpReceivers.get(b);if(!E)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(b);try{h.debug("stopReceiving() | calling rtpReceiver.stop()"),E.stop()}catch(C){h.warn("stopReceiving() | rtpReceiver.stop() failed:%o",C)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const b=this._rtpReceivers.get(S);if(!b)throw new Error("RTCRtpReceiver not found");return b.getStats()}async receiveDataChannel(S){throw new i.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:b}){const E=new RTCIceGatherer({iceServers:S??[],gatherPolicy:b??"all"});E.addEventListener("error",C=>{h.error('iceGatherer "error" event [event:%o]',C)});try{E.gather()}catch(C){h.debug("setIceGatherer() | iceGatherer.gather() failed: %s",C.toString())}this._iceGatherer=E}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",b=>{h.debug('iceTransport "candidatepairchange" event [pair:%o]',b.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{h.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{h.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",b=>{h.error('dtlsTransport "error" event [event:%o]',b)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){h.debug("setupTransport()");const b=this._dtlsTransport.getLocalParameters();b.role=S,await new Promise((E,C)=>{this.safeEmit("@connect",{dtlsParameters:b},E,C)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const E of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(E);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(E=>E.algorithm==="sha-256"||E.algorithm==="sha-384"||E.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return an.Edge11=v,an}var ln={},JS;function Gj(){if(JS)return ln;JS=1;var e=ln&&ln.__createBinding||(Object.create?function(_,f,d,g){g===void 0&&(g=d);var x=Object.getOwnPropertyDescriptor(f,d);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(_,g,x)}:function(_,f,d,g){g===void 0&&(g=d),_[g]=f[d]}),t=ln&&ln.__setModuleDefault||(Object.create?function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}:function(_,f){_.default=f}),r=ln&&ln.__importStar||function(_){if(_&&_.__esModule)return _;var f={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&e(f,_,d);return t(f,_),f};Object.defineProperty(ln,"__esModule",{value:!0}),ln.ReactNativeUnifiedPlan=void 0;const s=r(mr()),i=_t(),a=r(zt()),c=r(hr()),u=r(bn()),p=r(Ro()),h=r(rd()),y=nr(),v=Er(),w=xn(),S=Bs(),b=new i.Logger("ReactNativeUnifiedPlan"),E="ReactNativeUnifiedPlan",C={OS:1024,MIS:1024};let R=class x1 extends v.HandlerInterface{static createFactory(){return()=>new x1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const d=await f.createOffer();try{f.close()}catch{}const g=s.parse(d.sdp),x=u.extractRtpCapabilities({sdpObject:g});return h.addNackSuppportForOpus(x),x}catch(d){try{f.close()}catch{}throw d}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P,iceServers:M,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:d,iceCandidates:g,dtlsParameters:x,sctpParameters:P}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(f){this.assertNotClosed(),b.debug("updateIceServers()");const d=this._pc.getConfiguration();d.iceServers=f,this._pc.setConfiguration(d)}async restartIce(f){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const d=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const g={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g)}else{const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:d,codecOptions:g,codec:x,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),d&&d.length>1&&d.forEach((z,G)=>{z.rid=`r${G}`});const M=a.clone(this._sendingRtpParametersByKind[f.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:d});P&&P(A.sender);let N=await this._pc.createOffer(),V=s.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let J=!1;const O=(0,S.parse)((d??[{}])[0].scalabilityMode);d&&d.length===1&&O.spatialLayers>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),J=!0,V=s.parse(N.sdp),W=V.media[I.idx],p.addLegacySimulcast({offerMediaObject:W,numStreams:O.spatialLayers}),N={type:"offer",sdp:s.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);let B=A.mid??void 0;if(B||b.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),M.mid=B,V=s.parse(this._pc.localDescription.sdp),W=V.media[I.idx],M.rtcp.cname=u.getCname({offerMediaObject:W}),!d)M.encodings=p.getRtpEncodings({offerMediaObject:W});else if(d.length===1){let z=p.getRtpEncodings({offerMediaObject:W});Object.assign(z[0],d[0]),J&&(z=[z[0]]),M.encodings=z}else M.encodings=d;if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const z of M.encodings)z.scalabilityMode?z.scalabilityMode=`L1T${O.temporalLayers}`:z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:I.reuseMid,offerRtpParameters:M,answerRtpParameters:j,codecOptions:g,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),B||(B=A.mid,M.mid=B),this._mapMidTransceiver.set(B,A),{localId:B,rtpParameters:M,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");if(d.sender.replaceTrack(null),this._pc.removeTrack(d.sender),this._remoteSdp.closeMediaSection(d.mid))try{d.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const P={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(f);const g=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",f);const d=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="sendonly";const g=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,d){this.assertNotClosed(),this.assertSendDirection(),d?b.debug("replaceTrack() [localId:%s, track.id:%s]",f,d.id):b.debug("replaceTrack() [localId:%s, no track]",f);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");await g.sender.replaceTrack(d)}async setMaxSpatialLayer(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{I<=d?j.active=!0:j.active=!1}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(f,d){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,d);const g=this._mapMidTransceiver.get(f);if(!g)throw new Error("associated RTCRtpTransceiver not found");const x=g.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...d}}),await g.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const P=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",P),await this._pc.setLocalDescription(P);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:d,maxRetransmits:g,label:x,protocol:P}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:d,maxRetransmits:g,protocol:P};b.debug("sendDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=s.parse(A.sdp),V=N.media.find(J=>J.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const d=[],g=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);g.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=g.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let P=await this._pc.createAnswer();const M=s.parse(P.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=g.get(I),V=M.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}P={type:"answer",sdp:s.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",P),await this._pc.setLocalDescription(P);for(const j of f){const{trackId:I}=j,A=g.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),d.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return d}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){b.debug("stopReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(P.mid)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("pauseReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){b.debug("resumeReceiving() [localId:%s]",x);const P=this._mapMidTransceiver.get(x);if(!P)throw new Error("associated RTCRtpTransceiver not found");P.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const d={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const g=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const d=this._mapMidTransceiver.get(f);if(!d)throw new Error("associated RTCRtpTransceiver not found");return d.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:d,protocol:g}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:P,maxPacketLifeTime:M,maxRetransmits:j,protocol:g};b.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(d,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=s.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:d}){d||(d=s.parse(this._pc.localDescription.sdp));const g=u.extractDtlsParameters({sdpObject:d});g.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,P)=>{this.safeEmit("@connect",{dtlsParameters:g},x,P)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new y.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ln.ReactNativeUnifiedPlan=R,ln}var un={},e_;function Kj(){if(e_)return un;e_=1;var e=un&&un.__createBinding||(Object.create?function(C,R,_,f){f===void 0&&(f=_);var d=Object.getOwnPropertyDescriptor(R,_);(!d||("get"in d?!R.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return R[_]}}),Object.defineProperty(C,f,d)}:function(C,R,_,f){f===void 0&&(f=_),C[f]=R[_]}),t=un&&un.__setModuleDefault||(Object.create?function(C,R){Object.defineProperty(C,"default",{enumerable:!0,value:R})}:function(C,R){C.default=R}),r=un&&un.__importStar||function(C){if(C&&C.__esModule)return C;var R={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(R,C,_);return t(R,C),R};Object.defineProperty(un,"__esModule",{value:!0}),un.ReactNative=void 0;const s=r(mr()),i=_t(),a=nr(),c=r(zt()),u=r(hr()),p=r(bn()),h=r(nd()),y=Er(),v=xn(),w=new i.Logger("ReactNative"),S="ReactNative",b={OS:1024,MIS:1024};let E=class C1 extends y.HandlerInterface{static createFactory(){return()=>new C1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const f=s.parse(_.sdp);return p.extractRtpCapabilities({sdpObject:f})}catch(_){try{R.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:R,iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g,iceServers:x,iceTransportPolicy:P,additionalSettings:M,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=R,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:f,dtlsParameters:d,sctpParameters:g,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},d.role&&d.role!=="auto"&&(this._forcedLocalDtlsRole=d.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...M},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=R,this._pc.setConfiguration(_)}async restartIce(R){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:_,codecOptions:f,codec:d}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),d&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addStream(this._sendStream);let g=await this._pc.createOffer(),x=s.parse(g.sdp),P;const M=c.clone(this._sendingRtpParametersByKind[R.kind]);M.codecs=u.reduceCodecs(M.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),R.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=s.parse(g.sdp),P=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:P,track:R,numStreams:_.length}),g={type:"offer",sdp:s.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),x=s.parse(this._pc.localDescription.sdp),P=x.media.find(N=>N.type===R.kind),M.rtcp.cname=p.getCname({offerMediaObject:P}),M.encodings=h.getRtpEncodings({offerMediaObject:P,track:R}),_)for(let N=0;N<M.encodings.length;++N)_[N]&&Object.assign(M.encodings[N],_[N]);if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of M.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:P,offerRtpParameters:M,answerRtpParameters:j,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,R),{localId:A,rtpParameters:M}}async stopSending(R){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",R);const _=this._mapSendLocalIdTrack.get(R);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(R),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f);try{await this._pc.setLocalDescription(f)}catch(g){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",g.toString());return}throw g}if(this._pc.signalingState==="stable")return;const d={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(R,_){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(R,_){throw new a.UnsupportedError("not implemented")}async getSenderStats(R){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:R,maxPacketLifeTime:_,maxRetransmits:f,label:d,protocol:g}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:f,protocol:g};w.debug("sendDataChannel() [options:%o]",x);const P=this._pc.createDataChannel(d,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=s.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:P,sctpStreamParameters:M}}async receive(R){this.assertRecvDirection();const _=[],f=new Map;for(const P of R){const{trackId:M,kind:j,rtpParameters:I}=P;w.debug("receive() [trackId:%s, kind:%s]",M,j);const A=j;let N=P.streamId??I.rtcp.cname;w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),N+=`-hack-${c.generateRandomNumber()}`,f.set(M,N),this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:I,streamId:N,trackId:M})}const d={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);let g=await this._pc.createAnswer();const x=s.parse(g.sdp);for(const P of R){const{kind:M,rtpParameters:j}=P,I=M,A=x.media.find(N=>String(N.mid)===I);p.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}g={type:"answer",sdp:s.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),await this._pc.setLocalDescription(g);for(const P of R){const{kind:M,trackId:j,rtpParameters:I}=P,A=j,N=M,V=f.get(j),J=this._pc.getRemoteStreams().find(O=>O.id===V).getTrackById(A);if(!J)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:I}),_.push({localId:A,track:J})}return _}async stopReceiving(R){this.assertRecvDirection();for(const d of R){w.debug("stopReceiving() [localId:%s]",d);const{mid:g,rtpParameters:x}=this._mapRecvLocalIdInfo.get(d)??{};this._mapRecvLocalIdInfo.delete(d),this._remoteSdp.planBStopReceiving({mid:g,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:R,label:_,protocol:f}){this.assertRecvDirection();const{streamId:d,ordered:g,maxPacketLifeTime:x,maxRetransmits:P}=R,M={negotiated:!0,id:d,ordered:g,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:P,protocol:f};w.debug("receiveDataChannel() [options:%o]",M);const j=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=s.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:_}){_||(_=s.parse(this._pc.localDescription.sdp));const f=p.extractDtlsParameters({sdpObject:_});f.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((d,g)=>{this.safeEmit("@connect",{dtlsParameters:f},d,g)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return un.ReactNative=E,un}var t_;function R1(){if(t_)return Ir;t_=1;var e=Ir&&Ir.__createBinding||(Object.create?function(j,I,A,N){N===void 0&&(N=A);var V=Object.getOwnPropertyDescriptor(I,A);(!V||("get"in V?!I.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return I[A]}}),Object.defineProperty(j,N,V)}:function(j,I,A,N){N===void 0&&(N=A),j[N]=I[A]}),t=Ir&&Ir.__setModuleDefault||(Object.create?function(j,I){Object.defineProperty(j,"default",{enumerable:!0,value:I})}:function(j,I){j.default=I}),r=Ir&&Ir.__importStar||function(j){if(j&&j.__esModule)return j;var I={};if(j!=null)for(var A in j)A!=="default"&&Object.prototype.hasOwnProperty.call(j,A)&&e(I,j,A);return t(I,j),I};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Device=void 0,Ir.detectDevice=P;const s=Ej(),i=_t(),a=Co(),c=nr(),u=r(zt()),p=r(hr()),h=d1(),y=Nj(),v=Aj(),w=$j(),S=Fj(),b=zj(),E=Bj(),C=Uj(),R=Vj(),_=Hj(),f=qj(),d=Gj(),g=Kj(),x=new i.Logger("Device");function P(j){var I,A,N,V;if(!j&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(x.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){x.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(x.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(x.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(j||typeof navigator=="object"&&typeof navigator.userAgent=="string"){j??(j=navigator.userAgent);const W=new s.UAParser(j);x.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",j,W.getResult());const J=W.getBrowser(),O=(I=J.name)==null?void 0:I.toLowerCase(),B=parseInt(J.major??"0"),z=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),G=W.getOS(),U=(N=G.name)==null?void 0:N.toLowerCase(),X=parseFloat(G.version??"0"),pe=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),ee=U==="ios"||pe==="ipad",le=O&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(O),ue=O&&["firefox","mobile firefox","mobile focus"].includes(O),Se=O&&["safari","mobile safari"].includes(O),me=O&&["edge"].includes(O);if((le||me)&&!ee&&B>=111)return"Chrome111";if(le&&!ee&&B>=74||me&&!ee&&B>=88)return"Chrome74";if(le&&!ee&&B>=70)return"Chrome70";if(le&&!ee&&B>=67)return"Chrome67";if(le&&!ee&&B>=55)return"Chrome55";if(ue&&!ee&&B>=120)return"Firefox120";if(ue&&!ee&&B>=60)return"Firefox60";if(ue&&ee&&X>=14.3)return"Safari12";if(Se&&B>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(Se&&B>=11)return"Safari11";if(me&&!ee&&B>=11&&B<=18)return"Edge11";if(z==="webkit"&&ee&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(z==="blink"){const ke=j.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(ke){const Le=Number(ke[1]);return Le>=111?"Chrome111":Le>=74?"Chrome74":Le>=70?"Chrome70":Le>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{x.warn("detectDevice() | browser not supported [name:%s, version:%s]",O,B);return}}else{x.warn("detectDevice() | unknown device");return}}let M=class{constructor({handlerName:I,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,x.debug("constructor()"),I&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(I)x.debug("constructor() | handler given: %s",I);else if(I=P(),I)x.debug("constructor() | detected handler: %s",I);else throw new c.UnsupportedError("device not supported");switch(I){case"Chrome111":{this._handlerFactory=y.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=v.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=w.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=b.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=E.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=C.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=R.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=_.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=f.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=d.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=g.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${I}"`)}}const N=this._handlerFactory();this._handlerName=N.name,N.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:I}){x.debug("load() [routerRtpCapabilities:%o]",I);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const N=u.clone(I);p.validateRtpCapabilities(N),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();x.debug("load() | got native RTP capabilities:%o",V);const W=u.clone(V);p.validateRtpCapabilities(W),this._extendedRtpCapabilities=p.getExtendedRtpCapabilities(W,N),x.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=p.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=p.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=p.getRecvRtpCapabilities(this._extendedRtpCapabilities),p.validateRtpCapabilities(this._recvRtpCapabilities),x.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),x.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),p.validateSctpCapabilities(this._sctpCapabilities),x.debug("load() succeeded"),this._loaded=!0,A.close()}catch(N){throw A&&A.close(),N}}canProduce(I){if(this._loaded){if(I!=="audio"&&I!=="video")throw new TypeError(`invalid kind "${I}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[I]}createSendTransport({id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:J,iceTransportPolicy:O,additionalSettings:B,proprietaryConstraints:F,appData:z}){return x.debug("createSendTransport()"),this.createTransport({direction:"send",id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:J,iceTransportPolicy:O,additionalSettings:B,proprietaryConstraints:F,appData:z})}createRecvTransport({id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:J,iceTransportPolicy:O,additionalSettings:B,proprietaryConstraints:F,appData:z}){return x.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:J,iceTransportPolicy:O,additionalSettings:B,proprietaryConstraints:F,appData:z})}createTransport({direction:I,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:J,iceServers:O,iceTransportPolicy:B,additionalSettings:F,proprietaryConstraints:z,appData:G}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(J&&typeof J!="object")throw new TypeError("wrong sctpParameters");if(G&&typeof G!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const U=new h.Transport({direction:I,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:J,iceServers:O,iceTransportPolicy:B,additionalSettings:F,proprietaryConstraints:z,appData:G,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",U),U}};return Ir.Device=M,Ir}var so={},$p={},r_;function Yj(){return r_||(r_=1,Object.defineProperty($p,"__esModule",{value:!0})),$p}var Fp={},n_;function Xj(){return n_||(n_=1,Object.defineProperty(Fp,"__esModule",{value:!0})),Fp}var s_;function Qj(){return s_||(s_=1,function(e){var t=so&&so.__createBinding||(Object.create?function(s,i,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(s,c,u)}:function(s,i,a,c){c===void 0&&(c=a),s[c]=i[a]}),r=so&&so.__exportStar||function(s,i){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,s,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(R1(),e),r(d1(),e),r(a1(),e),r(c1(),e),r(l1(),e),r(u1(),e),r(Yj(),e),r(Xj(),e),r(Er(),e),r(nr(),e)}(so)),so}var o_;function Zj(){return o_||(o_=1,function(e){var t=Yr&&Yr.__createBinding||(Object.create?function(h,y,v,w){w===void 0&&(w=v);var S=Object.getOwnPropertyDescriptor(y,v);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(h,w,S)}:function(h,y,v,w){w===void 0&&(w=v),h[w]=y[v]}),r=Yr&&Yr.__setModuleDefault||(Object.create?function(h,y){Object.defineProperty(h,"default",{enumerable:!0,value:y})}:function(h,y){h.default=y}),s=Yr&&Yr.__importStar||function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&t(y,h,v);return r(y,h),y},i=Yr&&Yr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=i(td());e.debug=a.default;const c=R1();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const u=s(Qj());e.types=u,e.version="3.7.17";var p=Bs();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return p.parse}})}(Yr)),Yr}var Jj=Zj();const eO=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],tO=async(e,t,r,s)=>new Promise((i,a)=>{De.emit("joinRoom",{roomName:e,userName:t,serverId:r,accessToken:s},c=>{c.error?a(c.error):i(c.rtpCapabilities)})}),rO=async e=>{const t=new Jj.Device;return await t.load({routerRtpCapabilities:e}),t},nO=async(e,t,r,s)=>new Promise((i,a)=>{De.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const u=e.createSendTransport(c);u.on("connect",({dtlsParameters:h},y)=>{De.emit("transport-connect",{dtlsParameters:h}),y()}),u.on("produce",(h,y)=>{const v=localStorage.getItem("accessToken");De.emit("transport-produce",{kind:h.kind,rtpParameters:h.rtpParameters,accessToken:v},({id:w})=>{y({id:w}),sO(De,e,s)})});const p=await u.produce({track:t});r(p),i(u),p.on("trackended",()=>{r(null)})})}),sO=(e,t,r)=>{e.emit("getProducers",s=>{s.forEach(i=>E1(i,t,r))})},E1=async(e,t,r)=>{De.emit("createWebRtcTransport",{consumer:!0},async({params:s})=>{if(s.error)return;const i=t.createRecvTransport(s);i.on("connect",({dtlsParameters:a},c)=>{De.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:s.id}),c()}),oO(i,e,s.id,t,r)})},oO=async(e,t,r,s,i)=>{De.emit("consume",{rtpCapabilities:s.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const c=await e.consume(a);i(c),De.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},sr=xR,Me=ER,iO=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:s,addConsumer:i}=xo();return async(c,u,p,h)=>{try{if(!De.connected)throw new Error("Socket is not connected");const y=await eO(),v=await tO(c,u,p,h),w=await rO(v);r(w);const S=await nO(w,y,t,i);s(S),e(!0),console.log("Connected successfully")}catch(y){console.error("Error connecting:",y),e(!1)}}},sd=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:s,setIsMuted:i,setIsStreaming:a,setAudioProducer:c}=xo();return(p,h)=>{De.emit("leaveRoom",{accessToken:p,voiceChannelId:h}),e(!1),t(null),s([]),i(!1),a(!1),c(null),r(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T1=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:c,...u},p)=>L.createElement("svg",{ref:p,...cO,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:T1("lucide",i),...u},[...c.map(([h,y])=>L.createElement(h,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=L.forwardRef(({className:s,...i},a)=>L.createElement(lO,{ref:a,iconNode:t,className:T1(`lucide-${aO(e)}`,s),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dO=ze("ArrowDown",uO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],pO=ze("ArrowLeftFromLine",fO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mO=ze("Check",hO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],od=ze("ChevronDown",gO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yO=ze("ChevronLeft",vO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xm=ze("ChevronRight",wO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_O=ze("CircleCheck",SO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xO=ze("CirclePlus",bO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],RO=ze("CircleX",CO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],k1=ze("Copy",EO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],P1=ze("DoorOpen",TO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],PO=ze("Hash",kO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],MO=ze("House",DO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],IO=ze("LogOut",LO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],OO=ze("Menu",jO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],AO=ze("MicOff",NO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],FO=ze("Mic",$O);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],BO=ze("MonitorUp",zO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],VO=ze("MonitorX",UO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],WO=ze("Paperclip",HO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GO=ze("Pen",qO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],YO=ze("PhoneMissed",KO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qm=ze("Plus",XO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ZO=ze("Search",QO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eN=ze("Send",JO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],id=ze("Settings",tN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nN=ze("Trash2",rN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oN=ze("User",sN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],aN=ze("Users",iN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],jl=ze("Video",cN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],D1=ze("Volume2",lN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],M1=ze("X",uN);function Zm(){return{showSuccess:r=>{As.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:k.jsx(_O,{})})},showError:r=>{As.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:k.jsx(RO,{})})}}}const dN=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:s}=xo(),i=L.useRef(null),a=async()=>{const p=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],h=await r.produce({track:p});t(h),i.current=h.id,h.on("trackended",c),s(!0)},c=async()=>{const u=localStorage.getItem("accessToken");e?(e.close(),De.emit("stopProducer",{producerId:e.id,accessToken:u})):De.emit("stopProducer",{producerId:i.current,accessToken:u}),i.current=null,t(null),s(!1)};return{startScreenSharing:a,stopScreenSharing:c}},fN=e=>{const[t,r]=L.useState(!1),[s,i]=L.useState(!1),[a,c]=L.useState(!1),[u,p]=L.useState([]),[h,y]=L.useState([]),[v,w]=L.useState(null),[S,b]=L.useState(null),[E,C]=L.useState(null),[R,_]=L.useState(null),[f,d]=L.useState(null),{currentVoiceChannelId:g}=Me(j=>j.testServerStore),{accessToken:x}=Me(j=>j.userStore),P=j=>{p(I=>[...I,j])},M=()=>{S&&(s?S.resume():S.pause(),i(!s))};return L.useEffect(()=>{if(!De)return;De.on("producerClosed",({producerId:I})=>{p(A=>A.filter(N=>N.producerId!==I))}),De.on("producer-closed",({remoteProducerId:I})=>{p(A=>A.filter(N=>N.producerId!==I))}),De.on("new-producer",({producerId:I})=>{v&&E1(I,v,P)}),De.on("updateUsersList",({rooms:I})=>{y(I)});const j=()=>{De.emit("leaveRoom",{accessToken:x,voiceChannelId:g})};return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j),De.off("producerClosed"),De.off("producer-closed"),De.off("new-producer"),De.off("updateUsersList")}},[v]),k.jsx(G0.Provider,{value:{isConnected:t,isMuted:s,isStreaming:a,setIsConnected:r,setIsMuted:i,setIsStreaming:c,audioProducer:S,setAudioProducer:b,videoProducer:E,setVideoProducer:C,device:v,setDevice:w,producerTransport:R,setProducerTransport:_,consumers:u,users:h,addConsumer:P,setConsumers:p,toggleMute:M,selectedUserId:f,setSelectedUserId:d},children:e.children})},pN=e=>{const{consumers:t}=xo(),r=L.useRef(new Map),[s,i]=L.useState({});L.useEffect(()=>{t.forEach(({producerId:u,track:p,kind:h})=>{if(h==="audio"&&!r.current.has(u)){const y=document.createElement("audio");y.srcObject=new MediaStream([p]),y.autoplay=!0,y.volume=s[u]??1,r.current.set(u,y),document.body.appendChild(y)}});const c=t.map(u=>u.producerId);return r.current.forEach((u,p)=>{c.includes(p)||(u.pause(),u.remove(),r.current.delete(p))}),()=>{r.current.forEach(u=>{u.pause(),u.remove()}),r.current.clear()}},[t,s]);const a=(c,u)=>{i(p=>({...p,[c]:u/100}))};return k.jsx(q0.Provider,{value:{setVolume:a,userVolumes:s},children:e.children})},hN=()=>{const e=L.useContext(q0);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function mN(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const gN=typeof window<"u"?L.useLayoutEffect:L.useEffect;function Ot(e,t){gN(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function vN(e,t){e&&mN(e),Ot(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),Ot(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),Ot(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),Ot(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),Ot(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),Ot(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),Ot(`mantine-form:${e}:clear-errors`,t.clearErrors),Ot(`mantine-form:${e}:reset`,t.reset),Ot(`mantine-form:${e}:validate`,t.validate),Ot(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),Ot(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),Ot(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),Ot(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),Ot(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),Ot(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),Ot(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),Ot(`mantine-form:${e}:reset-touched`,t.resetTouched)}function yN(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function _h(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const s=e[r];return s!=null&&s!==!1&&(t[r]=s),t},{})}function wN(e){const[t,r]=L.useState(_h(e)),s=L.useRef(t),i=L.useCallback(p=>{r(h=>{const y=_h(typeof p=="function"?p(h):p);return s.current=y,y})},[]),a=L.useCallback(()=>i({}),[]),c=L.useCallback(p=>{s.current[p]!==void 0&&i(h=>{const y={...h};return delete y[p],y})},[t]),u=L.useCallback((p,h)=>{h==null||h===!1?c(p):s.current[p]!==h&&i(y=>({...y,[p]:h}))},[t]);return{errorsState:t,setErrors:i,clearErrors:a,setFieldError:u,clearFieldError:c}}function bh(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(s=>{s.includes(`${String(e)}.`)&&delete r[s]}),r}function i_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function a_(e,t,r,s){if(t===void 0)return r;const i=`${String(e)}`;let a=r;s===-1&&(a=bh(`${i}.${t}`,a));const c={...a},u=new Set;return Object.entries(a).filter(([p])=>{if(!p.startsWith(`${i}.`))return!1;const h=i_(p,i);return Number.isNaN(h)?!1:h>=t}).forEach(([p,h])=>{const y=i_(p,i),v=p.replace(`${i}.${y}`,`${i}.${y+s}`);c[v]=h,u.add(v),u.has(p)||delete c[p]}),c}function SN(e,{from:t,to:r},s){const i=`${e}.${t}`,a=`${e}.${r}`,c={...s};return Object.keys(s).every(u=>{let p,h;if(u.startsWith(i)&&(p=u,h=u.replace(i,a)),u.startsWith(a)&&(p=u.replace(a,i),h=u),p&&h){const y=c[p],v=c[h];return v===void 0?delete c[p]:c[p]=v,y===void 0?delete c[h]:c[h]=y,!1}return!0}),c}function c_(e,t,r){typeof r.value=="object"&&(r.value=oi(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function oi(e){if(typeof e!="object")return e;var t=0,r,s,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(c){i.add(oi(c))})):a==="[object Map]"?(i=new Map,e.forEach(function(c,u){i.set(oi(u),oi(c))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(oi(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(s=Object.getOwnPropertySymbols(e);t<s.length;t++)c_(i,s[t],Object.getOwnPropertyDescriptor(e,s[t]));for(t=0,s=Object.getOwnPropertyNames(e);t<s.length;t++)Object.hasOwnProperty.call(i,r=s[t])&&i[r]===e[r]||c_(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}function L1(e){return typeof e!="string"?[]:e.split(".")}function At(e,t){const r=L1(e);if(r.length===0||typeof t!="object"||t===null)return;let s=t[r[0]];for(let i=1;i<r.length&&s!=null;i+=1)s=s[r[i]];return s}function tc(e,t,r){const s=L1(e);if(s.length===0)return r;const i=oi(r);if(s.length===1)return i[s[0]]=t,i;let a=i[s[0]];for(let c=1;c<s.length-1;c+=1){if(a===void 0)return i;a=a[s[c]]}return a[s[s.length-1]]=t,i}function _N(e,{from:t,to:r},s){const i=At(e,s);if(!Array.isArray(i))return s;const a=[...i],c=i[t];return a.splice(t,1),a.splice(r,0,c),tc(e,a,s)}function bN(e,t,r,s){const i=At(e,s);if(!Array.isArray(i))return s;const a=[...i];return a.splice(typeof r=="number"?r:a.length,0,t),tc(e,a,s)}function xN(e,t,r){const s=At(e,r);return Array.isArray(s)?tc(e,s.filter((i,a)=>a!==t),r):r}function CN(e,t,r,s){const i=At(e,s);if(!Array.isArray(i)||i.length<=r)return s;const a=[...i];return a[r]=t,tc(e,a,s)}function RN({$values:e,$errors:t,$status:r}){const s=L.useCallback((u,p)=>{r.clearFieldDirty(u),t.setErrors(h=>SN(u,p,h)),e.setValues({values:_N(u,p,e.refValues.current),updateState:!0})},[]),i=L.useCallback((u,p)=>{r.clearFieldDirty(u),t.setErrors(h=>a_(u,p,h,-1)),e.setValues({values:xN(u,p,e.refValues.current),updateState:!0})},[]),a=L.useCallback((u,p,h)=>{r.clearFieldDirty(u),t.setErrors(y=>a_(u,h,y,1)),e.setValues({values:bN(u,p,h,e.refValues.current),updateState:!0})},[]),c=L.useCallback((u,p,h)=>{r.clearFieldDirty(u),e.setValues({values:CN(u,h,p,e.refValues.current),updateState:!0})},[]);return{reorderListItem:s,removeListItem:i,insertListItem:a,replaceListItem:c}}var zp,l_;function EN(){return l_||(l_=1,zp=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,i,a;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(i=s;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(r).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=s;i--!==0;){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),zp}var TN=EN();const xl=Mh(TN);function Ea(e,t){const r=Object.keys(e);if(typeof t=="string"){const s=r.filter(i=>i.startsWith(`${t}.`));return e[t]||s.some(i=>e[i])||!1}return r.some(s=>e[s])}function kN({initialDirty:e,initialTouched:t,mode:r,$values:s}){const[i,a]=L.useState(t),[c,u]=L.useState(e),p=L.useRef(t),h=L.useRef(e),y=L.useCallback(x=>{const P=typeof x=="function"?x(p.current):x;p.current=P,r==="controlled"&&a(P)},[]),v=L.useCallback((x,P=!1)=>{const M=typeof x=="function"?x(h.current):x;h.current=M,(r==="controlled"||P)&&u(M)},[]),w=L.useCallback(()=>y({}),[]),S=L.useCallback(x=>{const P=x?{...s.refValues.current,...x}:s.refValues.current;s.setValuesSnapshot(P),v({})},[]),b=L.useCallback((x,P)=>{y(M=>Ea(M,x)===P?M:{...M,[x]:P})},[]),E=L.useCallback((x,P,M)=>{v(j=>Ea(j,x)===P?j:{...j,[x]:P},M)},[]),C=L.useCallback((x,P)=>{const M=Ea(h.current,x),j=!xl(At(x,s.getValuesSnapshot()),P),I=bh(x,h.current);I[x]=j,v(I,M!==j)},[]),R=L.useCallback(x=>Ea(p.current,x),[]),_=L.useCallback(x=>v(P=>{if(typeof x!="string")return P;const M=bh(x,P);return delete M[x],xl(M,P)?P:M}),[]),f=L.useCallback(x=>{if(x){const M=At(x,h.current);if(typeof M=="boolean")return M;const j=At(x,s.refValues.current),I=At(x,s.valuesSnapshot.current);return!xl(j,I)}return Object.keys(h.current).length>0?Ea(h.current):!xl(s.refValues.current,s.valuesSnapshot.current)},[]),d=L.useCallback(()=>h.current,[]),g=L.useCallback(()=>p.current,[]);return{touchedState:i,dirtyState:c,touchedRef:p,dirtyRef:h,setTouched:y,setDirty:v,resetDirty:S,resetTouched:w,isTouched:R,setFieldTouched:b,setFieldDirty:E,setTouchedState:a,setDirtyState:u,clearFieldDirty:_,isDirty:f,getDirty:d,getTouched:g,setCalculatedFieldDirty:C}}function PN({initialValues:e,onValuesChange:t,mode:r}){const s=L.useRef(!1),[i,a]=L.useState(e||{}),c=L.useRef(i),u=L.useRef(i),p=L.useCallback(({values:E,subscribers:C,updateState:R=!0,mergeWithPreviousValues:_=!0})=>{const f=c.current,d=E instanceof Function?E(c.current):E,g=_?{...f,...d}:d;c.current=g,R&&a(g),t==null||t(g,f),C==null||C.filter(Boolean).forEach(x=>x({updatedValues:g,previousValues:f}))},[t]),h=L.useCallback(E=>{var _;const C=At(E.path,c.current),R=E.value instanceof Function?E.value(C):E.value;if(C!==R){const f=c.current,d=tc(E.path,R,c.current);p({values:d,updateState:E.updateState}),(_=E.subscribers)==null||_.filter(Boolean).forEach(g=>g({path:E.path,updatedValues:d,previousValues:f}))}},[p]),y=L.useCallback(E=>{u.current=E},[]),v=L.useCallback((E,C)=>{s.current||(s.current=!0,p({values:E,updateState:r==="controlled"}),y(E),C())},[p]),w=L.useCallback(()=>{p({values:u.current,updateState:!0,mergeWithPreviousValues:!1})},[p]),S=L.useCallback(()=>c.current,[]),b=L.useCallback(()=>u.current,[]);return{initialized:s,stateValues:i,refValues:c,valuesSnapshot:u,setValues:p,setFieldValue:h,resetValues:w,setValuesSnapshot:y,initialize:v,getValues:S,getValuesSnapshot:b}}function DN({$status:e}){const t=L.useRef({}),r=L.useCallback((i,a)=>{L.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(a),()=>{t.current[i]=t.current[i].filter(c=>c!==a)}),[a])},[]),s=L.useCallback(i=>t.current[i]?t.current[i].map(a=>c=>a({previousValue:At(i,c.previousValues),value:At(i,c.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:s}}function u_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const Cl=Symbol("root-rule");function d_(e){const t=_h(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function xh(e,t,r="",s={}){return typeof e!="object"||e===null?s:Object.keys(e).reduce((i,a)=>{const c=e[a],u=`${r===""?"":`${r}.`}${a}`,p=At(u,t);let h=!1;return typeof c=="function"&&(i[u]=c(p,t,u)),typeof c=="object"&&Array.isArray(p)&&(h=!0,p.forEach((y,v)=>xh(c,t,`${u}.${v}`,i)),Cl in c&&(i[u]=c[Cl](p,t,u))),typeof c=="object"&&typeof p=="object"&&p!==null&&(h||xh(c,t,u,i),Cl in c&&(i[u]=c[Cl](p,t,u))),i},s)}function Ch(e,t){return d_(typeof e=="function"?e(t):xh(e,t))}function Rl(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const s=Ch(t,r),i=Object.keys(s.errors).find(a=>e.split(".").every((c,u)=>c===a.split(".")[u]));return{hasError:!!i,error:i?s.errors[i]:null}}const MN="__MANTINE_FORM_INDEX__";function f_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${MN}`)):!1:!1}function Ua({name:e,mode:t="controlled",initialValues:r,initialErrors:s={},initialDirty:i={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:u=!1,validateInputOnBlur:p=!1,onValuesChange:h,transformValues:y=E=>E,enhanceGetInputProps:v,validate:w,onSubmitPreventDefault:S="always",touchTrigger:b="change"}={}){const E=wN(s),C=PN({initialValues:r,onValuesChange:h,mode:t}),R=kN({initialDirty:i,initialTouched:a,$values:C,mode:t}),_=RN({$values:C,$errors:E,$status:R}),f=DN({$status:R}),[d,g]=L.useState(0),[x,P]=L.useState({}),[M,j]=L.useState(!1),I=L.useCallback(()=>{C.resetValues(),E.clearErrors(),R.resetDirty(),R.resetTouched(),t==="uncontrolled"&&g(ee=>ee+1)},[]),A=L.useCallback(ee=>{c&&E.clearErrors(),t==="uncontrolled"&&g(le=>le+1),Object.keys(f.subscribers.current).forEach(le=>{const ue=At(le,C.refValues.current),Se=At(le,ee);ue!==Se&&f.getFieldSubscribers(le).forEach(me=>me({previousValues:ee,updatedValues:C.refValues.current}))})},[c]),N=L.useCallback(ee=>{const le=C.refValues.current;C.initialize(ee,()=>t==="uncontrolled"&&g(ue=>ue+1)),A(le)},[A]),V=L.useCallback((ee,le,ue)=>{const Se=f_(ee,u),me=le instanceof Function?le(At(ee,C.refValues.current)):le;R.setCalculatedFieldDirty(ee,me),b==="change"&&R.setFieldTouched(ee,!0),!Se&&c&&E.clearFieldError(ee),C.setFieldValue({path:ee,value:le,updateState:t==="controlled",subscribers:[...f.getFieldSubscribers(ee),Se?ke=>{const Le=Rl(ee,w,ke.updatedValues);Le.hasError?E.setFieldError(ee,Le.error):E.clearFieldError(ee)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>P(ke=>({...ke,[ee]:(ke[ee]||0)+1})):null]})},[h,w]),W=L.useCallback(ee=>{const le=C.refValues.current;C.setValues({values:ee,updateState:t==="controlled"}),A(le)},[h,A]),J=L.useCallback(()=>{const ee=Ch(w,C.refValues.current);return E.setErrors(ee.errors),ee},[w]),O=L.useCallback(ee=>{const le=Rl(ee,w,C.refValues.current);return le.hasError?E.setFieldError(ee,le.error):E.clearFieldError(ee),le},[w]),B=(ee,{type:le="input",withError:ue=!0,withFocus:Se=!0,...me}={})=>{const Le={onChange:yN(bt=>V(ee,bt,{forceUpdate:!1})),"data-path":u_(e,ee)};return ue&&(Le.error=E.errorsState[ee]),le==="checkbox"?Le[t==="controlled"?"checked":"defaultChecked"]=At(ee,C.refValues.current):Le[t==="controlled"?"value":"defaultValue"]=At(ee,C.refValues.current),Se&&(Le.onFocus=()=>R.setFieldTouched(ee,!0),Le.onBlur=()=>{if(f_(ee,p)){const bt=Rl(ee,w,C.refValues.current);bt.hasError?E.setFieldError(ee,bt.error):E.clearFieldError(ee)}}),Object.assign(Le,v==null?void 0:v({inputProps:Le,field:ee,options:{type:le,withError:ue,withFocus:Se,...me},form:pe}))},F=(ee,le)=>ue=>{S==="always"&&(ue==null||ue.preventDefault());const Se=J();if(Se.hasErrors)S==="validation-failed"&&(ue==null||ue.preventDefault()),le==null||le(Se.errors,C.refValues.current,ue);else{const me=ee==null?void 0:ee(y(C.refValues.current),ue);me instanceof Promise&&(j(!0),me.finally(()=>j(!1)))}},z=ee=>y(ee||C.refValues.current),G=L.useCallback(ee=>{ee.preventDefault(),I()},[]),U=L.useCallback(ee=>ee?!Rl(ee,w,C.refValues.current).hasError:!Ch(w,C.refValues.current).hasErrors,[w]),X=ee=>`${d}-${ee}-${x[ee]||0}`,ce=L.useCallback(ee=>document.querySelector(`[data-path="${u_(e,ee)}"]`),[]),pe={watch:f.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:N,setValues:W,setFieldValue:V,submitting:M,setSubmitting:j,errors:E.errorsState,setErrors:E.setErrors,setFieldError:E.setFieldError,clearFieldError:E.clearFieldError,clearErrors:E.clearErrors,resetDirty:R.resetDirty,setTouched:R.setTouched,setDirty:R.setDirty,isTouched:R.isTouched,resetTouched:R.resetTouched,isDirty:R.isDirty,getTouched:R.getTouched,getDirty:R.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:I,validate:J,validateField:O,getInputProps:B,onSubmit:F,onReset:G,isValid:U,getTransformedValues:z,key:X,getInputNode:ce};return vN(e,pe),pe}function Nt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LN=typeof Symbol=="function"&&Symbol.observable||"@@observable",p_=LN,Bp=()=>Math.random().toString(36).substring(7).split("").join("."),IN={INIT:`@@redux/INIT${Bp()}`,REPLACE:`@@redux/REPLACE${Bp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bp()}`},nu=IN;function Jm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function I1(e,t,r){if(typeof e!="function")throw new Error(Nt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nt(1));return r(I1)(e,t)}let s=e,i=t,a=new Map,c=a,u=0,p=!1;function h(){c===a&&(c=new Map,a.forEach((C,R)=>{c.set(R,C)}))}function y(){if(p)throw new Error(Nt(3));return i}function v(C){if(typeof C!="function")throw new Error(Nt(4));if(p)throw new Error(Nt(5));let R=!0;h();const _=u++;return c.set(_,C),function(){if(R){if(p)throw new Error(Nt(6));R=!1,h(),c.delete(_),a=null}}}function w(C){if(!Jm(C))throw new Error(Nt(7));if(typeof C.type>"u")throw new Error(Nt(8));if(typeof C.type!="string")throw new Error(Nt(17));if(p)throw new Error(Nt(9));try{p=!0,i=s(i,C)}finally{p=!1}return(a=c).forEach(_=>{_()}),C}function S(C){if(typeof C!="function")throw new Error(Nt(10));s=C,w({type:nu.REPLACE})}function b(){const C=v;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Nt(11));function _(){const d=R;d.next&&d.next(y())}return _(),{unsubscribe:C(_)}},[p_](){return this}}}return w({type:nu.INIT}),{dispatch:w,subscribe:v,getState:y,replaceReducer:S,[p_]:b}}function jN(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:nu.INIT})>"u")throw new Error(Nt(12));if(typeof r(void 0,{type:nu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function ON(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const s=Object.keys(r);let i;try{jN(r)}catch(a){i=a}return function(c={},u){if(i)throw i;let p=!1;const h={};for(let y=0;y<s.length;y++){const v=s[y],w=r[v],S=c[v],b=w(S,u);if(typeof b>"u")throw u&&u.type,new Error(Nt(14));h[v]=b,p=p||b!==S}return p=p||s.length!==Object.keys(c).length,p?h:c}}function su(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function NN(...e){return t=>(r,s)=>{const i=t(r,s);let a=()=>{throw new Error(Nt(15))};const c={getState:i.getState,dispatch:(p,...h)=>a(p,...h)},u=e.map(p=>p(c));return a=su(...u)(i.dispatch),{...i,dispatch:a}}}function AN(e){return Jm(e)&&"type"in e&&typeof e.type=="string"}var j1=Symbol.for("immer-nothing"),h_=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function pn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hi=Object.getPrototypeOf;function ho(e){return!!e&&!!e[xr]}function ns(e){var t;return e?O1(e)||Array.isArray(e)||!!e[h_]||!!((t=e.constructor)!=null&&t[h_])||cd(e)||ld(e):!1}var $N=Object.prototype.constructor.toString();function O1(e){if(!e||typeof e!="object")return!1;const t=hi(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===$N}function ou(e,t){ad(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function ad(e){const t=e[xr];return t?t.type_:Array.isArray(e)?1:cd(e)?2:ld(e)?3:0}function Rh(e,t){return ad(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function N1(e,t,r){const s=ad(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function FN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cd(e){return e instanceof Map}function ld(e){return e instanceof Set}function ao(e){return e.copy_||e.base_}function Eh(e,t){if(cd(e))return new Map(e);if(ld(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=O1(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[xr];let i=Reflect.ownKeys(s);for(let a=0;a<i.length;a++){const c=i[a],u=s[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(s[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(hi(e),s)}else{const s=hi(e);if(s!==null&&r)return{...e};const i=Object.create(s);return Object.assign(i,e)}}function eg(e,t=!1){return ud(e)||ho(e)||!ns(e)||(ad(e)>1&&(e.set=e.add=e.clear=e.delete=zN),Object.freeze(e),t&&Object.entries(e).forEach(([r,s])=>eg(s,!0))),e}function zN(){pn(2)}function ud(e){return Object.isFrozen(e)}var BN={};function mo(e){const t=BN[e];return t||pn(0,e),t}var Va;function A1(){return Va}function UN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function m_(e,t){t&&(mo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Th(e){kh(e),e.drafts_.forEach(VN),e.drafts_=null}function kh(e){e===Va&&(Va=e.parent_)}function g_(e){return Va=UN(Va,e)}function VN(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function v_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xr].modified_&&(Th(t),pn(4)),ns(e)&&(e=iu(t,e),t.parent_||au(t,e)),t.patches_&&mo("Patches").generateReplacementPatches_(r[xr].base_,e,t.patches_,t.inversePatches_)):e=iu(t,r,[]),Th(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j1?e:void 0}function iu(e,t,r){if(ud(t))return t;const s=t[xr];if(!s)return ou(t,(i,a)=>y_(e,s,t,i,a,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return au(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let a=i,c=!1;s.type_===3&&(a=new Set(i),i.clear(),c=!0),ou(a,(u,p)=>y_(e,s,i,u,p,r,c)),au(e,i,!1),r&&e.patches_&&mo("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function y_(e,t,r,s,i,a,c){if(ho(i)){const u=a&&t&&t.type_!==3&&!Rh(t.assigned_,s)?a.concat(s):void 0,p=iu(e,i,u);if(N1(r,s,p),ho(p))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ns(i)&&!ud(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;iu(e,i),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&au(e,i)}}function au(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&eg(t,r)}function HN(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:A1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=s,a=tg;r&&(i=[s],a=Ha);const{revoke:c,proxy:u}=Proxy.revocable(i,a);return s.draft_=u,s.revoke_=c,u}var tg={get(e,t){if(t===xr)return e;const r=ao(e);if(!Rh(r,t))return WN(e,r,t);const s=r[t];return e.finalized_||!ns(s)?s:s===Up(e.base_,t)?(Vp(e),e.copy_[t]=Dh(s,e)):s},has(e,t){return t in ao(e)},ownKeys(e){return Reflect.ownKeys(ao(e))},set(e,t,r){const s=$1(ao(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const i=Up(ao(e),t),a=i==null?void 0:i[xr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(FN(r,i)&&(r!==void 0||Rh(e.base_,t)))return!0;Vp(e),Ph(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Up(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Vp(e),Ph(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ao(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){pn(11)},getPrototypeOf(e){return hi(e.base_)},setPrototypeOf(){pn(12)}},Ha={};ou(tg,(e,t)=>{Ha[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ha.deleteProperty=function(e,t){return Ha.set.call(this,e,t,void 0)};Ha.set=function(e,t,r){return tg.set.call(this,e[0],t,r,e[0])};function Up(e,t){const r=e[xr];return(r?ao(r):e)[t]}function WN(e,t,r){var i;const s=$1(t,r);return s?"value"in s?s.value:(i=s.get)==null?void 0:i.call(e.draft_):void 0}function $1(e,t){if(!(t in e))return;let r=hi(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=hi(r)}}function Ph(e){e.modified_||(e.modified_=!0,e.parent_&&Ph(e.parent_))}function Vp(e){e.copy_||(e.copy_=Eh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var qN=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(p=a,...h){return c.produce(p,y=>r.call(this,y,...h))}}typeof r!="function"&&pn(6),s!==void 0&&typeof s!="function"&&pn(7);let i;if(ns(t)){const a=g_(this),c=Dh(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Th(a):kh(a)}return m_(a,s),v_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===j1&&(i=void 0),this.autoFreeze_&&eg(i,!0),s){const a=[],c=[];mo("Patches").generateReplacementPatches_(t,i,a,c),s(a,c)}return i}else pn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,p=>t(p,...u));let s,i;return[this.produce(t,r,(c,u)=>{s=c,i=u}),s,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ns(e)||pn(8),ho(e)&&(e=GN(e));const t=g_(this),r=Dh(e,void 0);return r[xr].isManual_=!0,kh(t),r}finishDraft(e,t){const r=e&&e[xr];(!r||!r.isManual_)&&pn(9);const{scope_:s}=r;return m_(s,t),v_(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const s=mo("Patches").applyPatches_;return ho(e)?s(e,t):this.produce(e,i=>s(i,t))}};function Dh(e,t){const r=cd(e)?mo("MapSet").proxyMap_(e,t):ld(e)?mo("MapSet").proxySet_(e,t):HN(e,t);return(t?t.scope_:A1()).drafts_.push(r),r}function GN(e){return ho(e)||pn(10,e),F1(e)}function F1(e){if(!ns(e)||ud(e))return e;const t=e[xr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Eh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Eh(e,!0);return ou(r,(s,i)=>{N1(r,s,F1(i))}),t&&(t.finalized_=!1),r}var Cr=new qN,z1=Cr.produce;Cr.produceWithPatches.bind(Cr);Cr.setAutoFreeze.bind(Cr);Cr.setUseStrictShallowCopy.bind(Cr);Cr.applyPatches.bind(Cr);Cr.createDraft.bind(Cr);Cr.finishDraft.bind(Cr);function B1(e){return({dispatch:r,getState:s})=>i=>a=>typeof a=="function"?a(r,s,e):i(a)}var KN=B1(),YN=B1,XN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?su:su.apply(null,arguments)},QN=e=>e&&typeof e.match=="function";function ja(e,t){function r(...s){if(t){let i=t(...s);if(!i)throw new Error(Yn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>AN(s)&&s.type===e,r}var U1=class La extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,La.prototype)}static get[Symbol.species](){return La}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new La(...t[0].concat(this)):new La(...t.concat(this))}};function w_(e){return ns(e)?z1(e,()=>{}):e}function S_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ZN(e){return typeof e=="boolean"}var JN=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new U1;return r&&(ZN(r)?c.push(KN):c.push(YN(r.extraArgument))),c},e3="RTK_autoBatch",__=e=>t=>{setTimeout(t,e)},t3=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let i=!0,a=!1,c=!1;const u=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:__(10):e.type==="callback"?e.queueNotification:__(e.timeout),h=()=>{c=!1,a&&(a=!1,u.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const v=()=>i&&y(),w=s.subscribe(v);return u.add(y),()=>{w(),u.delete(y)}},dispatch(y){var v;try{return i=!((v=y==null?void 0:y.meta)!=null&&v[e3]),a=!i,a&&(c||(c=!0,p(h))),s.dispatch(y)}finally{i=!0}}})},r3=e=>function(r){const{autoBatch:s=!0}=r??{};let i=new U1(e);return s&&i.push(t3(typeof s=="object"?s:void 0)),i};function n3(e){const t=JN(),{reducer:r=void 0,middleware:s,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Jm(r))u=ON(r);else throw new Error(Yn(1));let p;typeof s=="function"?p=s(t):p=t();let h=su;i&&(h=XN({trace:!1,...typeof i=="object"&&i}));const y=NN(...p),v=r3(y);let w=typeof c=="function"?c(v):v();const S=h(...w);return I1(u,a,S)}function V1(e){const t={},r=[];let s;const i={addCase(a,c){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Yn(28));if(u in t)throw new Error(Yn(29));return t[u]=c,i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return s=a,i}};return e(i),[t,r,s]}function s3(e){return typeof e=="function"}function o3(e,t){let[r,s,i]=V1(t),a;if(s3(e))a=()=>w_(e());else{const u=w_(e);a=()=>u}function c(u=a(),p){let h=[r[p.type],...s.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return h.filter(y=>!!y).length===0&&(h=[i]),h.reduce((y,v)=>{if(v)if(ho(y)){const S=v(y,p);return S===void 0?y:S}else{if(ns(y))return z1(y,w=>v(w,p));{const w=v(y,p);if(w===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return y},u)}return c.getInitialState=a,c}var i3=(e,t)=>QN(e)?e.match(t):e(t);function a3(...e){return t=>e.some(r=>i3(r,t))}var c3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",l3=(e=21)=>{let t="",r=e;for(;r--;)t+=c3[Math.random()*64|0];return t},u3=["name","message","stack","code"],Hp=class{constructor(e,t){ep(this,"_type");this.payload=e,this.meta=t}},b_=class{constructor(e,t){ep(this,"_type");this.payload=e,this.meta=t}},d3=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of u3)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},x_="External signal was aborted",Et=(()=>{function e(t,r,s){const i=ja(t+"/fulfilled",(p,h,y,v)=>({payload:p,meta:{...v||{},arg:y,requestId:h,requestStatus:"fulfilled"}})),a=ja(t+"/pending",(p,h,y)=>({payload:void 0,meta:{...y||{},arg:h,requestId:p,requestStatus:"pending"}})),c=ja(t+"/rejected",(p,h,y,v,w)=>({payload:v,error:(s&&s.serializeError||d3)(p||"Rejected"),meta:{...w||{},arg:y,requestId:h,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function u(p,{signal:h}={}){return(y,v,w)=>{const S=s!=null&&s.idGenerator?s.idGenerator(p):l3(),b=new AbortController;let E,C;function R(f){C=f,b.abort()}h&&(h.aborted?R(x_):h.addEventListener("abort",()=>R(x_),{once:!0}));const _=async function(){var g,x;let f;try{let P=(g=s==null?void 0:s.condition)==null?void 0:g.call(s,p,{getState:v,extra:w});if(p3(P)&&(P=await P),P===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((j,I)=>{E=()=>{I({name:"AbortError",message:C||"Aborted"})},b.signal.addEventListener("abort",E)});y(a(S,p,(x=s==null?void 0:s.getPendingMeta)==null?void 0:x.call(s,{requestId:S,arg:p},{getState:v,extra:w}))),f=await Promise.race([M,Promise.resolve(r(p,{dispatch:y,getState:v,extra:w,requestId:S,signal:b.signal,abort:R,rejectWithValue:(j,I)=>new Hp(j,I),fulfillWithValue:(j,I)=>new b_(j,I)})).then(j=>{if(j instanceof Hp)throw j;return j instanceof b_?i(j.payload,S,p,j.meta):i(j,S,p)})])}catch(P){f=P instanceof Hp?c(null,S,p,P.payload,P.meta):c(P,S,p)}finally{E&&b.signal.removeEventListener("abort",E)}return s&&!s.dispatchConditionRejection&&c.match(f)&&f.meta.condition||y(f),f}();return Object.assign(_,{abort:R,requestId:S,arg:p,unwrap(){return _.then(f3)}})}}return Object.assign(u,{pending:a,rejected:c,fulfilled:i,settled:a3(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function f3(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function p3(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var h3=Symbol.for("rtk-slice-createasyncthunk");function m3(e,t){return`${e}/${t}`}function g3({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[h3];return function(i){const{name:a,reducerPath:c=a}=i;if(!a)throw new Error(Yn(11));const u=(typeof i.reducers=="function"?i.reducers(y3()):i.reducers)||{},p=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(f,d){const g=typeof f=="string"?f:f.type;if(!g)throw new Error(Yn(12));if(g in h.sliceCaseReducersByType)throw new Error(Yn(13));return h.sliceCaseReducersByType[g]=d,y},addMatcher(f,d){return h.sliceMatchers.push({matcher:f,reducer:d}),y},exposeAction(f,d){return h.actionCreators[f]=d,y},exposeCaseReducer(f,d){return h.sliceCaseReducersByName[f]=d,y}};p.forEach(f=>{const d=u[f],g={reducerName:f,type:m3(a,f),createNotation:typeof i.reducers=="function"};S3(d)?b3(g,d,y,t):w3(g,d,y)});function v(){const[f={},d=[],g=void 0]=typeof i.extraReducers=="function"?V1(i.extraReducers):[i.extraReducers],x={...f,...h.sliceCaseReducersByType};return o3(i.initialState,P=>{for(let M in x)P.addCase(M,x[M]);for(let M of h.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of d)P.addMatcher(M.matcher,M.reducer);g&&P.addDefaultCase(g)})}const w=f=>f,S=new Map;let b;function E(f,d){return b||(b=v()),b(f,d)}function C(){return b||(b=v()),b.getInitialState()}function R(f,d=!1){function g(P){let M=P[f];return typeof M>"u"&&d&&(M=C()),M}function x(P=w){const M=S_(S,d,()=>new WeakMap);return S_(M,P,()=>{const j={};for(const[I,A]of Object.entries(i.selectors??{}))j[I]=v3(A,P,C,d);return j})}return{reducerPath:f,getSelectors:x,get selectors(){return x(g)},selectSlice:g}}const _={name:a,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...R(c),injectInto(f,{reducerPath:d,...g}={}){const x=d??c;return f.inject({reducerPath:x,reducer:E},g),{..._,...R(x,!0)}}};return _}}function v3(e,t,r,s){function i(a,...c){let u=t(a);return typeof u>"u"&&s&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var rg=g3();function y3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function w3({type:e,reducerName:t,createNotation:r},s,i){let a,c;if("reducer"in s){if(r&&!_3(s))throw new Error(Yn(17));a=s.reducer,c=s.prepare}else a=s;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?ja(e,c):ja(e))}function S3(e){return e._reducerDefinitionType==="asyncThunk"}function _3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function b3({type:e,reducerName:t},r,s,i){if(!i)throw new Error(Yn(18));const{payloadCreator:a,fulfilled:c,pending:u,rejected:p,settled:h,options:y}=r,v=i(e,a,y);s.exposeAction(t,v),c&&s.addCase(v.fulfilled,c),u&&s.addCase(v.pending,u),p&&s.addCase(v.rejected,p),h&&s.addMatcher(v.settled,h),s.exposeCaseReducer(t,{fulfilled:c||El,pending:u||El,rejected:p||El,settled:h||El})}function El(){}function Yn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const x3=async e=>{try{const t=await fetch(`${Mt}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},C3=async e=>{try{const t=await fetch(`${Mt}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},R3=async e=>{try{const t=await fetch(`${Mt}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},E3=async e=>{try{const t=await fetch(`${Mt}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},T3=async e=>{try{const t=await fetch(`${Mt}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},k3=e=>e instanceof Error?e.message:String(e),Ol=Et("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await x3(e)}catch(r){return t(k3(r))}}),Nl=Et("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await C3(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Al=Et("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:s})=>{try{const i=await R3(e);return console.log(i),i}catch(i){if(console.log(i),i.status===401){const a=s(),{refreshToken:c}=a.userStore;c&&await r(Fl({refreshToken:c})).unwrap()}return t(i instanceof Error?i.message:" ")}}),$l=Et("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await E3(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Fl=Et("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await T3(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),Wp=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},P3={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:Wp("accessToken"),refreshToken:Wp("refreshToken"),isLoggedIn:!!Wp("accessToken"),error:"",isLoading:!1},D3=rg({name:"user",initialState:P3,reducers:{},extraReducers:e=>{e.addCase(Ol.pending,t=>{t.error=""}).addCase(Ol.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Ol.rejected,(t,r)=>{t.error=r.payload}).addCase(Nl.pending,t=>{t.error=""}).addCase(Nl.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Nl.rejected,(t,r)=>{t.error=r.payload}).addCase(Al.pending,t=>{t.error=""}).addCase(Al.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Al.rejected,(t,r)=>{t.error=r.payload}).addCase($l.pending,t=>{t.error=""}).addCase($l.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase($l.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Fl.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(Fl.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(Fl.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1})}}),M3=D3.reducer,L3=()=>{const{accessToken:e}=Me(a=>a.userStore),t=sr(),r=bo(),s=Ua({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await t(Nl(a))).meta.requestStatus==="fulfilled"&&r("/main")};return L.useEffect(()=>{e&&r("/main")},[e,r]),k.jsx(Nn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:k.jsxs(Qa,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[k.jsx(Xe,{fw:500,mb:"md",children:"   "}),k.jsx("form",{onSubmit:s.onSubmit(i),children:k.jsxs(ft,{gap:"md",children:[k.jsx(rs,{label:"Email",placeholder:" email",...s.getInputProps("mail"),required:!0}),k.jsx(Ku,{label:"",placeholder:" ",...s.getInputProps("password"),required:!0}),k.jsx(et,{justify:"center",mt:"md",children:k.jsx(Ke,{type:"submit",children:""})})]})})]})})},I3=()=>k.jsxs(Nn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[k.jsx(Xu,{order:3,children:"   Hitscord!"}),k.jsxs(et,{gap:"20px",children:[k.jsx(rS,{to:"/login",children:k.jsx(Ke,{variant:"filled",radius:"md",children:""})}),k.jsx(rS,{to:"/register",children:k.jsx(Ke,{variant:"filled",radius:"md",children:""})})]})]});function j3(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${s}.${i} ${a}:${c}`}const C_=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),O3=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName}),ng=e=>e.map(t=>{const r=t.users.reduce((s,i)=>(s[i.socketId]||(s[i.socketId]={userName:i.userName,producerIds:[]}),s[i.socketId].producerIds.push(i.producerId),s),{});return{roomName:t.roomName,users:r}});var Ds=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(Ds||{});const H1=async(e,t,r,s=0)=>{try{const i=await fetch(`${Mt}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${s}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await i.json();if(!i.ok)throw new Error(a.message||`Error: ${i.status}`);return a.messages}catch(i){throw console.error("Error get messages:",i),i}},N3=async(e,t,r,s)=>{try{const i=await fetch(`${Mt}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:s})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},A3=async(e,t)=>{try{const r=await fetch(`${Mt}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const s=await r.json();throw new Error(s.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},$3=async(e,t,r,s)=>{try{const i=await fetch(`${Mt}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:s})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create message:",i),i}},F3=async(e,t)=>{try{const r=await fetch(`${Mt}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const s=await r.json();throw new Error(s.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},z3=async(e,t,r)=>{try{const s=await fetch(`${Mt}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error edit message:",s),s}},B3=async e=>{try{const t=await fetch(`${Mt}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},U3=async(e,t)=>{try{const r=await fetch(`${Mt}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),s=await r.json();if(!r.ok)throw new Error(s.message||`Error: ${r.status}`);return s}catch(r){throw console.error("Error get server data:",r),r}},V3=async(e,t)=>{try{const r=await fetch(`${Mt}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const s=await r.json();throw new Error(s.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},H3=async(e,t)=>{try{const r=await fetch(`${Mt}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const s=await r.json();throw new Error(s.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},W3=async(e,t,r,s)=>{try{const i=await fetch(`${Mt}/user/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:s})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create server:",i),i}},q3=async(e,t,r)=>{try{const s=await fetch(`${Mt}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error subscribe to server:",s),s}},G3=async(e,t)=>{try{const r=await fetch(`${Mt}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const s=await r.json();throw new Error(s.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},js=Et("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await B3(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),Xn=Et("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await U3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}}),zl=Et("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await V3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}}),qp=Et("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await H3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}}),Bl=Et("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:s},{rejectWithValue:i})=>{try{await W3(e,t,r,s)}catch(a){return i(a instanceof Error?a.message:" ")}}),Ul=Et("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:s})=>{try{await q3(e,t,r)}catch(i){return s(i instanceof Error?i.message:" ")}}),Oa=Et("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await G3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}}),Vl=Et("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:s},{rejectWithValue:i})=>{try{return await H1(e,t,r,s)}catch(a){return i(a instanceof Error?a.message:" ")}}),Gp=Et("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:s},{rejectWithValue:i})=>{try{return await H1(e,t,r,s)}catch(a){return i(a instanceof Error?a.message:" ")}}),Kp=Et("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:s},{rejectWithValue:i})=>{try{await $3(e,t,r,s)}catch(a){return i(a instanceof Error?a.message:" ")}}),Yp=Et("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await F3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}}),Xp=Et("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:s})=>{try{await z3(e,t,r)}catch(i){return s(i instanceof Error?i.message:" ")}}),Hl=Et("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:s},{rejectWithValue:i})=>{try{await N3(e,t,r,s)}catch(a){return i(a instanceof Error?a.message:" ")}}),Wl=Et("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await A3(e,t)}catch(s){return r(s instanceof Error?s.message:" ")}});var li=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(li||{});const K3={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:li.IDLE,isLoading:!1,error:""},W1=rg({name:"testServer",initialState:K3,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1}},clearHasNewMessage:e=>{e.hasNewMessage=!1}},extraReducers:e=>{e.addCase(js.pending,t=>{t.isLoading=!0,t.error=""}).addCase(js.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(js.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Xn.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},t.error=""}).addCase(Xn.fulfilled,(t,r)=>{t.serverData=r.payload;const s=r.payload.channels.textChannels;let i=t.currentChannelId;s.find(c=>c.channelId===i)||(i=s.length>0?s[0].channelId:null,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(Xn.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(zl.pending,t=>{t.error=""}).addCase(zl.fulfilled,t=>{t.error=""}).addCase(zl.rejected,(t,r)=>{t.error=r.payload}).addCase(qp.pending,t=>{t.error=""}).addCase(qp.fulfilled,t=>{t.error=""}).addCase(qp.rejected,(t,r)=>{t.error=r.payload}).addCase(Bl.pending,t=>{t.error=""}).addCase(Bl.fulfilled,t=>{t.error=""}).addCase(Bl.rejected,(t,r)=>{t.error=r.payload}).addCase(Ul.pending,t=>{t.error=""}).addCase(Ul.fulfilled,t=>{t.error=""}).addCase(Ul.rejected,(t,r)=>{t.error=r.payload}).addCase(Vl.pending,t=>{t.messagesStatus=li.PENDING,t.isLoading=!0,t.error=""}).addCase(Vl.fulfilled,(t,r)=>{t.messages=r.payload,t.hasNewMessage=!1,t.messagesStatus=li.FULFILLED,t.isLoading=!1,t.error=""}).addCase(Vl.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=li.REJECTED,t.error=r.payload}).addCase(Gp.pending,t=>{t.isLoading=!0,t.error=""}).addCase(Gp.fulfilled,(t,r)=>{t.messages=[...r.payload,...t.messages],t.isLoading=!1,t.error=""}).addCase(Gp.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Kp.pending,t=>{t.error=""}).addCase(Kp.fulfilled,t=>{t.error=""}).addCase(Kp.rejected,(t,r)=>{t.error=r.payload}).addCase(Yp.pending,t=>{t.error=""}).addCase(Yp.fulfilled,t=>{t.error=""}).addCase(Yp.rejected,(t,r)=>{t.error=r.payload}).addCase(Xp.pending,t=>{t.error=""}).addCase(Xp.fulfilled,t=>{t.error=""}).addCase(Xp.rejected,(t,r)=>{t.error=r.payload}).addCase(Hl.pending,t=>{t.error=""}).addCase(Hl.fulfilled,t=>{t.error=""}).addCase(Hl.rejected,(t,r)=>{t.error=r.payload}).addCase(Wl.pending,t=>{t.error=""}).addCase(Wl.fulfilled,t=>{t.error=""}).addCase(Wl.rejected,(t,r)=>{t.error=r.payload}).addCase(Oa.pending,t=>{t.error=""}).addCase(Oa.fulfilled,t=>{t.error=""}).addCase(Oa.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:Y3,setCurrentChannelId:X3,setCurrentVoiceChannelId:cu,addMessage:Q3,deleteMessageWs:Z3,editMessageWs:J3,addUserWs:e4,deleteUserWs:t4,clearServerData:q1,clearHasNewMessage:R_}=W1.actions,r4=W1.reducer,n4=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:s})=>{const i=sd(),a=L.useRef(null);L.useEffect(()=>{if(e){const h=new WebSocket(`wss://hitscord-backend.online/sockets/ws?accessToken=${e}`);return h.onmessage=y=>{const v=JSON.parse(y.data);if(console.log(v),v.MessageType==="New message"){const w=C_(v.Payload);w.id&&w.text&&t(Q3(w))}if(v.MessageType==="Deleted message"&&t(Z3({channelId:v.Payload.ChannelId,messageId:v.Payload.MessageId})),v.MessageType==="Updated message"){const w=C_(v.Payload);t(J3(w))}if(v.MessageType==="New user on server"){const w=O3(v.Payload),{ServerId:S}=v.Payload;r===S&&t(e4(w))}if(v.MessageType==="User unsubscribe"){const{UserId:w,ServerId:S}=v.Payload;r===S&&t(t4({UserId:w,ServerId:S}))}if(v.MessageType==="Role changed"){const{ServerId:w}=v.Payload;e&&r&&r===w&&t(Xn({accessToken:e,serverId:r}))}(v.MessageType==="New channel"||v.MessageType==="Channel deleted")&&e&&r&&(v.Payload.ChannelType===1&&v.Payload.ChannelId===s&&i(e,s),r===v.Payload.ServerId&&t(Xn({accessToken:e,serverId:r})))},h.onerror=y=>{console.error("WebSocket error:",y)},a.current=h,()=>{console.log("Closing WebSocket connection"),h.close()}}},[e,r,s,t]);const c=L.useCallback(h=>{var y;if(a.current&&a.current.readyState===WebSocket.OPEN){const v={Type:"New message",Content:h};a.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(y=a.current)==null?void 0:y.readyState)},[]),u=L.useCallback(h=>{var y;if(a.current&&a.current.readyState===WebSocket.OPEN){const v={Type:"Update message",Content:h};a.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(y=a.current)==null?void 0:y.readyState)},[]),p=L.useCallback(h=>{var y;if(a.current&&a.current.readyState===WebSocket.OPEN){const v={Type:"Delete message",Content:h};a.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(y=a.current)==null?void 0:y.readyState)},[]);return{sendMessage:c,editMessage:u,deleteMessage:p}},s4=({isOwnMessage:e,content:t,time:r,messageId:s,modifiedAt:i,authorId:a,editMessage:c,deleteMessage:u})=>{var f;const{accessToken:p}=Me(d=>d.userStore),y=(f=Me(d=>d.testServerStore.serverData.users).find(d=>d.userId===a))==null?void 0:f.userName,[v,w]=L.useState(!1),[S,b]=L.useState(!1),[E,C]=L.useState(t),R=()=>{E.trim()&&(c({Token:p,MessageId:s,Text:E.trim()}),b(!1))},_=()=>{u({Token:p,MessageId:s})};return k.jsxs(Nn,{direction:"column",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[k.jsxs(et,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[k.jsx(_n,{size:"md",color:"blue",children:y?y[0]:"?"}),k.jsxs(ne,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:S?"100%":"auto"},children:[S?k.jsx(zu,{value:E,onChange:d=>C(d.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):k.jsx(Xe,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t}),k.jsx(et,{justify:"space-between",children:k.jsxs(Xe,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[j3(r),i&&k.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&k.jsx(et,{justify:"flex-end",gap:"xs",p:4,style:{opacity:v||S?1:0,transition:"opacity 0.3s ease"},mr:44,children:S?k.jsxs(k.Fragment,{children:[k.jsx(rt,{variant:"subtle",onClick:R,children:k.jsx(mO,{size:12})}),k.jsx(rt,{variant:"subtle",onClick:()=>b(!1),children:k.jsx(M1,{size:12})})]}):k.jsxs(k.Fragment,{children:[k.jsx(rt,{variant:"subtle",onClick:()=>b(!0),children:k.jsx(GO,{size:12})}),k.jsx(rt,{variant:"subtle",onClick:_,children:k.jsx(nN,{size:12})})]})})]})},o4=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:s,deleteMessage:i})=>{const a=sr(),c=L.useRef(null),{user:u,accessToken:p}=Me(M=>M.userStore),{currentServerId:h,currentChannelId:y,messages:v,hasNewMessage:w,isLoading:S,messagesStatus:b}=Me(M=>M.testServerStore),[E,C]=L.useState(""),[R,_]=L.useState(!0),[f,d]=L.useState(!1),g=()=>{E.trim()&&h&&y&&(r({Token:p,ChannelId:y,Text:E.trim(),NestedChannel:!1}),C(""))},x=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),g())},P=()=>{if(c.current){const{scrollTop:M,scrollHeight:j,clientHeight:I}=c.current,A=M+I>=j-1;_(A),A&&d(!1)}};return L.useEffect(()=>{R?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(R_())):d(!0)},[v,R]),L.useEffect(()=>{b===li.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[b]),k.jsxs(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[k.jsxs(et,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[k.jsx(rt,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:k.jsx(OO,{size:20})}),k.jsx(rs,{leftSection:k.jsx(ZO,{size:16}),placeholder:"..."}),k.jsx(rt,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:k.jsx(aN,{size:20})})]}),k.jsx(yn,{my:"md"}),k.jsx($r,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:P,children:k.jsxs(ft,{gap:"sm",children:[S&&v.length<1&&Array.from({length:5}).map((M,j)=>k.jsxs(et,{align:"flex-start",gap:"xs",children:[k.jsx(fo,{height:40,width:40,circle:!0}),k.jsxs(ne,{style:{flex:1},children:[k.jsx(fo,{height:12,width:"60%",radius:"md"}),k.jsx(fo,{height:10,width:"40%",mt:8,radius:"md"})]})]},j)),v.map(M=>k.jsx(s4,{messageId:M.id,content:M.text,isOwnMessage:u.id===M.authorId,time:M.createdAt,modifiedAt:M.modifiedAt,authorId:M.authorId,editMessage:s,deleteMessage:i},M.id))]})}),!R&&f&&k.jsx(ne,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:k.jsx(Tm,{size:14,disabled:!w,withBorder:!0,children:k.jsx(rt,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),d(!1),a(R_()))},children:k.jsx(dO,{size:20})})})}),k.jsxs(et,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[k.jsx(rt,{size:"xl",variant:"transparent",children:k.jsx(WO,{size:20})}),k.jsx(zu,{w:"100%",placeholder:"...",value:E,onChange:M=>C(M.target.value),onKeyDownCapture:x,autosize:!0,minRows:1,maxRows:3}),k.jsx(rt,{size:"xl",variant:"transparent",onClick:g,children:k.jsx(eN,{size:20})})]})]})},i4=({socketId:e,userName:t,isStreaming:r,handleUserClick:s})=>k.jsxs(ne,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[k.jsx(_n,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),k.jsx(Xe,{c:"white",size:"xs",children:t}),r&&k.jsx(Ke,{size:"xs",variant:"outline",onClick:()=>s(e),style:{flexShrink:0},children:k.jsx(jl,{})})]},e),a4=({socketId:e,userName:t,isStreaming:r,onOpenStream:s})=>k.jsxs(ne,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[k.jsx(_n,{radius:"xl",size:"lg",color:"blue",children:t[0]}),k.jsx(Xe,{c:"white",children:t}),r&&k.jsx(Ke,{size:"xs",variant:"outline",onClick:()=>s(e),children:" "})]},e),c4={isUserStreamView:!1,isOpenHome:!0},G1=rg({name:"app",initialState:c4,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:K1,setUserStreamView:mi,setOpenHome:dd}=G1.actions,l4=G1.reducer,u4=({users:e,onOpenStream:t})=>{const r=sr(),{currentVoiceChannelId:s}=Me(c=>c.testServerStore),a=ng(e).find(c=>c.roomName===s);return k.jsxs($r,{style:{flex:1,maxHeight:"100%"},children:[k.jsx(et,{justify:"flex-end",children:k.jsx(rt,{variant:"transparent",onClick:()=>r(K1()),children:k.jsx(pO,{})})}),k.jsx(Om,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:u,producerIds:p}])=>{const h=p.length>1;return k.jsx(a4,{socketId:c,userName:u,isStreaming:h,onOpenStream:t},c)})})]})},d4=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:s}=xo(),i=L.useRef(null),a=L.useRef(null),{currentVoiceChannelId:c}=Me(b=>b.testServerStore),p=ng(t).find(b=>b.roomName===c),h=L.useRef(null),y=()=>{h.current&&h.current.scrollBy({left:-100,behavior:"smooth"})},v=()=>{h.current&&h.current.scrollBy({left:100,behavior:"smooth"})},w=b=>{s(b)},S=()=>{s(null),i.current&&(a.current=null,i.current.srcObject=null)};return L.useEffect(()=>{if(!De||!p)return;const b=({producerId:E})=>{e.some(R=>{var _;return R.kind==="video"&&R.producerId===E&&((_=p.users[r])==null?void 0:_.producerIds.includes(E))})&&S()};return De.on("producerClosed",b),()=>{De.off("producerClosed",b)}},[De,e,p,r]),L.useEffect(()=>{var E;if(!r||!p)return;const b=e.find(C=>{var R;return C.kind==="video"&&((R=p.users[r])==null?void 0:R.producerIds.includes(C.producerId))});if(b){const C=b.track;if(!a.current||((E=a.current.getVideoTracks()[0])==null?void 0:E.id)!==C.id){const R=new MediaStream([C]);a.current=R,i.current&&(i.current.srcObject=R,i.current.play().catch(_=>console.error("  :",_)))}}},[r,e,p]),k.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?k.jsxs(ne,{style:{position:"relative",flex:1},children:[k.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),k.jsxs(Ke,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[k.jsx(M1,{size:20})," "]}),k.jsxs(ne,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[k.jsx(Ke,{variant:"subtle",color:"gray",onClick:y,style:{zIndex:1},children:k.jsx(yO,{size:20})}),k.jsx($r,{viewportRef:h,style:{width:"100%"},children:k.jsx(Nn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:p&&Object.entries(p.users).map(([b,{userName:E,producerIds:C}])=>{const R=C.length>1;return k.jsx(i4,{socketId:b,userName:E,isStreaming:R,handleUserClick:w},b)})})}),k.jsx(Ke,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:k.jsx(Xm,{size:20})})]})]}):k.jsx(u4,{users:t,onOpenStream:w})})},f4=()=>{const{serverData:e}=Me(t=>t.testServerStore);return k.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:k.jsxs(ft,{gap:"md",h:"100%",children:[k.jsx(Xe,{c:"white",children:""}),k.jsx(yn,{color:"gray"}),k.jsx($r.Autosize,{mah:"100%",maw:"100%",children:k.jsx(ft,{gap:"xs",children:e.users.map(t=>k.jsxs(et,{wrap:"nowrap",children:[k.jsx(_n,{size:"md",color:"blue",children:t.userName}),k.jsx(Xe,{c:"white",children:t.userName}),k.jsx(Xa,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:t.roleName})]},t.userId))})})]})})},p4=({onClose:e,opened:t})=>{const{serverData:r}=Me(s=>s.testServerStore);return k.jsx(Br,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:k.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:k.jsxs(ft,{gap:"md",h:"100%",children:[k.jsx(Xe,{c:"white",children:""}),k.jsx(yn,{color:"gray"}),k.jsx($r.Autosize,{mah:"100%",maw:"100%",children:k.jsx(ft,{gap:"xs",children:r.users.map(s=>k.jsxs(et,{wrap:"nowrap",children:[k.jsx(_n,{size:"md",color:"blue",children:s.userName}),k.jsx(Xe,{c:"white",children:s.userName}),k.jsx(Xa,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:s.roleName})]},s.userId))})})]})})})},h4=()=>k.jsx(ne,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:k.jsx(Nn,{w:"100%",h:"100%",justify:"center",align:"center",children:k.jsx(Xe,{c:"gray",children:" ,   "})})}),m4=()=>{const{user:e}=Me(t=>t.userStore);return k.jsx(ne,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:k.jsxs(ft,{gap:"md",align:"center",style:{whiteSpace:"nowrap"},children:[k.jsx(_n,{size:80,radius:"xl",src:void 0,alt:e.name}),k.jsx(Xu,{order:3,children:e.name}),k.jsxs(Xe,{c:"gray",children:["ID: ",e.tag]}),k.jsxs(Xe,{c:"gray",children:["E-mail: ",e.mail]}),k.jsxs(Xe,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},g4=[{id:"1",name:"",lastMessage:" (",date:"14.12.2024"}],v4=({name:e,lastMessage:t,date:r,isActive:s,onClick:i})=>k.jsxs(ne,{p:"sm",bg:s?"#2E2E33":"transparent",style:a=>({borderRadius:a.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:i,children:[k.jsx(_n,{radius:"xl",size:40}),k.jsxs(ne,{style:{flex:1},children:[k.jsx(Xe,{fw:"bold",children:e}),k.jsx(Xe,{size:"sm",c:"gray",truncate:!0,children:t}),k.jsx(Xe,{size:"xs",c:"gray",children:r})]})]}),y4=()=>{const[e,t]=L.useState(null);return k.jsxs(ft,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[k.jsx(Xe,{children:""}),k.jsx(yn,{}),k.jsx(ft,{gap:"xs",children:g4.map(r=>k.jsx(v4,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},w4=()=>k.jsxs(k.Fragment,{children:[k.jsx(y4,{}),k.jsx(h4,{}),k.jsx(m4,{})]}),S4=({opened:e,onClose:t})=>{const[r,s]=L.useState("create"),{user:i,accessToken:a}=Me(v=>v.userStore),c=sr(),u=Ua({initialValues:{name:""},validate:{name:v=>v.trim().length<3?"     3 ":null}}),p=Ua({initialValues:{serverId:""},validate:{serverId:v=>v.trim().length===0?" ID ":null}}),h=async v=>{(await c(zl({accessToken:a,name:v.name}))).meta.requestStatus==="fulfilled"&&(c(js({accessToken:a})),u.reset(),t())},y=async v=>{(await c(Ul({accessToken:a,serverId:v.serverId,userName:i.name}))).meta.requestStatus==="fulfilled"&&(c(js({accessToken:a})),u.reset(),t())};return k.jsx(Rr,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:k.jsxs(fn,{value:r,onChange:s,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[k.jsxs(fn.List,{children:[k.jsx(fn.Tab,{value:"create",children:" "}),k.jsx(fn.Tab,{value:"connect",children:"  "})]}),k.jsxs(fn.Panel,{value:"create",children:[" ",k.jsxs("form",{onSubmit:u.onSubmit(h),children:[k.jsx(rs,{label:" ",placeholder:"  ",...u.getInputProps("name")}),k.jsxs(et,{justify:"flex-end",mt:"md",children:[k.jsx(Ke,{variant:"outline",onClick:t,children:""}),k.jsx(Ke,{type:"submit",children:""})]})]})]}),k.jsx(fn.Panel,{value:"connect",children:k.jsxs("form",{onSubmit:p.onSubmit(y),children:[k.jsx(rs,{label:"ID ",placeholder:" ID ",...p.getInputProps("serverId")}),k.jsxs(et,{justify:"flex-end",mt:"md",children:[k.jsx(Ke,{variant:"outline",onClick:t,children:""}),k.jsx(Ke,{type:"submit",children:""})]})]})})]})})},_4=({serverId:e,serverName:t})=>{const r=sr(),{user:s}=Me(a=>a.userStore),i=()=>{r(Y3(e)),r(mi(!1)),r(dd(!1)),De.emit("setServer",{serverId:e,user:s.name})};return k.jsx(rt,{size:"xl",radius:"xl",variant:"transparent",onClick:i,children:k.jsx(_n,{size:"md",color:"blue",children:t})})},b4=()=>{const[e,{open:t,close:r}]=Jn(!1),s=sr(),i=bo(),{serversList:a}=Me(p=>p.testServerStore),{accessToken:c}=Me(p=>p.userStore),u=async()=>{(await s($l({accessToken:c}))).meta.requestStatus==="fulfilled"&&i("/")};return L.useEffect(()=>{c&&s(js({accessToken:c}))},[c,s]),k.jsxs(Nn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[k.jsxs(Nn,{direction:"column",align:"center",children:[k.jsx(rt,{size:"lg",variant:"transparent",onClick:()=>s(dd(!0)),children:k.jsx(MO,{size:24,color:"#fff"})}),k.jsx(yn,{my:"sm"}),k.jsx(ft,{gap:"sm",align:"center",children:a.map(p=>k.jsx(_4,{serverId:p.serverId,serverName:p.serverName},p.serverId))}),k.jsx(yn,{my:"sm"}),k.jsx(rt,{size:"lg",variant:"transparent",onClick:t,children:k.jsx(xO,{size:24,color:"#fff"})})]}),k.jsx(rt,{size:"lg",variant:"transparent",onClick:u,children:k.jsx(IO,{size:24,color:"#fff"})}),k.jsx(S4,{opened:e,onClose:r})]})},Y1=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:s}=xo(),i=sd(),{startScreenSharing:a,stopScreenSharing:c}=dN(),u=sr(),{user:p,accessToken:h}=Me(S=>S.userStore),{currentVoiceChannelId:y}=Me(S=>S.testServerStore),v=()=>{s?c():a()},w=()=>{i(h,y),u(mi(!1)),u(cu(null))};return k.jsxs(ft,{mt:"auto",children:[e&&k.jsxs(et,{gap:"xs",justify:"space-between",children:[k.jsx(rt,{variant:"transparent",onClick:v,c:"#ffffff",children:s?k.jsx(VO,{}):k.jsx(BO,{})}),k.jsx(rt,{variant:"transparent",onClick:t,c:"#ffffff",children:r?k.jsx(AO,{}):k.jsx(FO,{})}),k.jsx(rt,{variant:"transparent",onClick:w,c:"#ffffff",children:k.jsx(YO,{})})]}),k.jsx(yn,{}),k.jsx(Xe,{truncate:!0,children:p.name})]})},X1=({opened:e,onClose:t})=>{const r=sr(),{serverData:s,error:i}=Me(R=>R.testServerStore),{accessToken:a,user:c}=Me(R=>R.userStore),[u,p]=L.useState("roles"),[h,y]=L.useState(""),[v,w]=L.useState(""),[S,b]=L.useState(!1),{showSuccess:E}=Zm(),C=async()=>{if(!h||!v)return;b(!0),(await r(Bl({accessToken:a,serverId:s.serverId,userId:h,role:v}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),r(Xn({accessToken:a,serverId:s.serverId})),t())};return L.useEffect(()=>{i&&b(!1)},[i]),k.jsx(Rr,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:k.jsxs(et,{align:"flex-start",gap:"md",children:[k.jsx(ft,{gap:"xs",style:{width:200},children:k.jsx(Im,{label:"",leftSection:k.jsx(Qm,{size:16}),active:u==="roles",onClick:()=>p("roles")})}),k.jsx($r,{children:u==="roles"&&k.jsxs(ft,{gap:"md",children:[k.jsx(Xe,{size:"lg",w:500,children:"  "}),k.jsx(eu,{label:" ",placeholder:" ",data:s.users.filter(R=>R.userId!==c.id).map(R=>({value:R.userId,label:R.userName})),value:h,onChange:y}),k.jsx(eu,{label:" ",placeholder:" ",data:s.roles.map(R=>({value:R.id,label:R.name})),value:v,onChange:w}),k.jsx(Ke,{onClick:C,loading:S,children:" "})]})})]})})},x4=({channelId:e,currentChannelId:t,channelName:r,isAdmin:s,handleEditChannel:i,handleOpenChannel:a})=>{const{hasNewMessage:c}=Me(h=>h.testServerStore),[u,p]=L.useState("");return k.jsxs(ne,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>p(e),onMouseLeave:()=>p(""),children:[k.jsx(Ke,{leftSection:c&&e===t?k.jsx(Xa,{circle:!0,children:"1"}):k.jsx(PO,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:E_.buttonRoot(u===e,t===e)},fullWidth:!0,onClick:a,children:r}),s&&u===e&&k.jsx(Ke,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:E_.buttonSettings(t===e)},onClick:i,children:k.jsx(id,{size:16})})]},e)},Q1=({opened:e,onClose:t,isEdit:r,serverId:s,channelType:i})=>{const a=sr(),{accessToken:c}=Me(w=>w.userStore),{error:u}=Me(w=>w.testServerStore),{showError:p}=Zm(),h=Ua({initialValues:{name:r.initialData},validate:{name:w=>w.trim().length<3?"     3 ":null}});L.useEffect(()=>{r.isEdit?h.setValues({name:r.initialData}):h.reset()},[r]);const y=async w=>{(await a(Hl({accessToken:c,serverId:s,name:w.name,channelType:i===Ds.TEXT_CHANNEL?Ds.TEXT_CHANNEL:Ds.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&a(Xn({accessToken:c,serverId:s})),t()},v=async()=>{(await a(Wl({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(Xn({accessToken:c,serverId:s})),t()};return L.useEffect(()=>{u&&p(u)},[u]),k.jsx(Rr,{opened:e,onClose:t,title:r.isEdit?` ${i===Ds.TEXT_CHANNEL?"":""} `:` ${i===Ds.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?k.jsxs(k.Fragment,{children:[k.jsxs(Xe,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),k.jsxs(et,{justify:"flex-end",mt:"md",children:[k.jsx(Ke,{variant:"filled",color:"red",onClick:v,children:""}),k.jsx(Ke,{variant:"outline",onClick:t,children:""})]})]}):k.jsxs("form",{onSubmit:h.onSubmit(y),children:[k.jsx(rs,{label:" ",placeholder:"  ",...h.getInputProps("name")}),k.jsxs(et,{justify:"flex-end",mt:"md",children:[k.jsx(Ke,{variant:"outline",onClick:t,children:""}),k.jsx(Ke,{type:"submit",children:""})]})]})})},Z1=({onClose:e})=>{const t=sr(),[r,{toggle:s}]=Jn(!0),[i,{open:a,close:c}]=Jn(!1),[u,p]=L.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:h,currentServerId:y,currentChannelId:v}=Me(E=>E.testServerStore),w=h.isCreator,S=E=>{t(X3(E)),t(mi(!1)),e()},b=(E,C)=>{p({isEdit:!0,initialData:E,channelId:C}),a()};return L.useEffect(()=>{console.log(v)},[v]),k.jsxs(k.Fragment,{children:[k.jsxs(ft,{align:"flex-start",gap:"xs",children:[k.jsxs(et,{justify:"space-between",w:"100%",wrap:"nowrap",children:[k.jsx(Ke,{leftSection:r?k.jsx(od,{}):k.jsx(Xm,{}),variant:"transparent",onClick:s,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),w&&k.jsx(rt,{variant:"transparent",onClick:()=>{p({isEdit:!1,initialData:"",channelId:""}),a()},children:k.jsx(Qm,{color:"#ffffff"})})]}),k.jsx(yu,{in:r,w:"100%",children:k.jsx(ft,{gap:"xs",children:h.channels.textChannels.map(({channelId:E,channelName:C})=>k.jsx(x4,{channelId:E,currentChannelId:v,channelName:C,isAdmin:w,handleOpenChannel:()=>S(E),handleEditChannel:()=>b(C,E)},E))})})]}),y&&k.jsx(Q1,{opened:i,onClose:c,isEdit:u,serverId:y,channelType:Ds.TEXT_CHANNEL})]})},E_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},C4=({channelId:e,channelName:t,isAdmin:r,handleConnect:s,handleEditChannel:i})=>{const[a,c]=L.useState("");return k.jsxs(ne,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>c(e),onMouseLeave:()=>c(""),children:[k.jsx(Ke,{leftSection:k.jsx(D1,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:s,children:t}),r&&a===e&&k.jsx(Ke,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:k4.buttonSettings},onClick:i,children:k.jsx(id,{size:16})})]})},R4=({opened:e,toggle:t,isAdmin:r,handleAddChannel:s})=>k.jsxs(et,{justify:"space-between",w:"100%",wrap:"nowrap",children:[k.jsx(Ke,{leftSection:e?k.jsx(od,{}):k.jsx(Xm,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&k.jsx(rt,{variant:"transparent",onClick:s,children:k.jsx(Qm,{color:"#ffffff"})})]}),E4=({socketId:e,isSpeaking:t,userName:r,producerIds:s,isAdmin:i,userVolume:a,handleVolumeChange:c,handleOpenStream:u,handleKickUser:p})=>k.jsxs(qe,{shadow:"md",width:200,closeOnItemClick:!0,children:[k.jsx(qe.Target,{children:k.jsxs(et,{style:{cursor:"pointer"},wrap:"nowrap",children:[k.jsx(oN,{color:t?"#43b581":void 0,style:{flexShrink:0}}),k.jsx(Xe,{truncate:"end",children:r}),s.length>1&&k.jsx(jl,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),k.jsxs(qe.Dropdown,{children:[k.jsx(qe.Item,{leftSection:k.jsx(D1,{}),children:k.jsx(Nm,{label:"",value:a,onChange:h=>c(e,h),min:1,max:100})}),s.length>1&&k.jsx(qe.Item,{leftSection:k.jsx(jl,{}),onClick:()=>u(e),children:" "}),i&&k.jsx(qe.Item,{leftSection:k.jsx(jl,{}),onClick:()=>p(e),children:" "})]})]},e),T4=()=>{const[e,t]=L.useState([]);return L.useEffect(()=>{if(De)return De.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{De.off("active-speakers")}},[]),e},J1=()=>{const e=iO(),t=sd(),{isConnected:r,consumers:s,users:i,setSelectedUserId:a}=xo(),{user:c,accessToken:u}=Me(O=>O.userStore),{serverData:p,currentVoiceChannelId:h,currentServerId:y}=Me(O=>O.testServerStore),v=sr(),[w,{toggle:S}]=Jn(!0),[b,{open:E,close:C}]=Jn(!1),R=T4(),{setVolume:_,userVolumes:f}=hN(),d=ng(i),g=p.isCreator,[x,P]=L.useState({isEdit:!1,initialData:"",channelId:""}),M=O=>{r?O===h&&v(K1()):(v(cu(O)),e(O,c.name,p.serverId,u))},j=(O,B)=>{if(!h)return;const F=d.find(U=>U.roomName===h);if(!F)return;const z=F.users[O];if(!z)return;const G=z.producerIds.find(U=>!!s.find(ce=>ce.producerId===U&&ce.kind==="audio"));G&&_(G,B)},I=()=>{P({isEdit:!1,initialData:"",channelId:""}),E()},A=O=>{console.log(O),De.emit("kickUser",{targetSocketId:O},B=>{B.success?console.log("  :",B.message):console.error("  :",B.message)})},N=O=>{const B=O.find(F=>s.some(z=>z.producerId===F&&z.kind==="audio"));return(f[B||""]||1)*100},V=(O,B)=>O.some(z=>R.some(G=>G.producerId===z))&&B===h,W=O=>{a(O),v(mi(!0))},J=(O,B)=>{P({isEdit:!0,initialData:O,channelId:B}),E()};return L.useEffect(()=>{if(De)return De.on("kickedUser",()=>{t(u,h),v(mi(!1)),v(cu(null))}),()=>{De.off("producerClosed")}},[t,v]),k.jsxs(k.Fragment,{children:[k.jsxs(ft,{align:"flex-start",gap:"xs",children:[k.jsx(R4,{opened:w,toggle:S,isAdmin:g,handleAddChannel:I}),k.jsx(yu,{in:w,w:"100%",children:k.jsx(ft,{gap:"xs",children:p.channels.voiceChannels.map(({channelId:O,channelName:B})=>k.jsxs($t.Fragment,{children:[k.jsx(C4,{channelId:O,channelName:B,isAdmin:g,handleConnect:()=>M(O),handleEditChannel:()=>J(B,O)}),k.jsx(ft,{gap:"xs",children:d.filter(F=>F.roomName===O).flatMap(F=>Object.entries(F.users).map(([z,{producerIds:G,userName:U}])=>{const X=V(G,O),ce=N(G);return k.jsx(E4,{socketId:z,isSpeaking:X,userName:U,producerIds:G,isAdmin:g,userVolume:ce,handleOpenStream:W,handleVolumeChange:j,handleKickUser:A},z)}))})]},O))})})]}),y&&k.jsx(Q1,{opened:b,onClose:C,isEdit:x,serverId:y,channelType:Ds.VOICE_CHANNEL})]})},k4={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},P4=({onClose:e})=>{const t=bo(),r=sr(),s=sd(),[i,{open:a,close:c}]=Jn(!1),{serverData:u,isLoading:p,currentVoiceChannelId:h}=Me(b=>b.testServerStore),{accessToken:y}=Me(b=>b.userStore),v=u.isCreator,w=b=>{navigator.clipboard.writeText(b)},S=async()=>{s(y,h),r(mi(!1)),r(cu(null)),(await r(Oa({accessToken:y,serverId:u.serverId}))).meta.requestStatus==="fulfilled"&&(r(js({accessToken:y})),r(dd(!0)),r(q1()),t("/main"))};return k.jsxs(k.Fragment,{children:[k.jsxs(ft,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[k.jsxs(qe,{shadow:"md",width:200,children:[k.jsx(qe.Target,{children:k.jsxs(et,{justify:"space-between",style:{cursor:"pointer"},children:[p?k.jsx(fo,{height:10,width:"40%",radius:"md"}):k.jsx(Xe,{children:u.serverName}),k.jsx(od,{})]})}),k.jsxs(qe.Dropdown,{children:[v&&k.jsx(qe.Item,{leftSection:k.jsx(id,{size:16}),onClick:a,children:" "}),k.jsx(qe.Item,{onClick:()=>w(u.serverId),leftSection:k.jsx(k1,{size:16}),children:" ID "}),!v&&k.jsx(qe.Item,{onClick:S,leftSection:k.jsx(P1,{size:16}),children:"  "})]})]}),k.jsx(yn,{}),k.jsxs($r.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[k.jsx(Z1,{onClose:e}),k.jsx(J1,{})]}),k.jsx(Y1,{})]}),k.jsx(X1,{opened:i,onClose:c})]})},D4=({onClose:e,opened:t})=>{const r=bo(),s=sr(),[i,{open:a,close:c}]=Jn(!1),{serverData:u,isLoading:p}=Me(S=>S.testServerStore),{accessToken:h}=Me(S=>S.userStore),y=u.isCreator,v=S=>{navigator.clipboard.writeText(S)},w=async()=>{(await s(Oa({accessToken:h,serverId:u.serverId}))).meta.requestStatus==="fulfilled"&&(s(js({accessToken:h})),s(dd(!0)),s(q1()),r("/main"))};return k.jsxs(k.Fragment,{children:[k.jsxs(Br,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[k.jsxs(qe,{shadow:"md",width:200,children:[k.jsx(qe.Target,{children:k.jsxs(et,{justify:"space-between",style:{cursor:"pointer"},children:[p?k.jsx(fo,{height:10,width:"40%",radius:"md"}):k.jsx(Xe,{children:u.serverName}),k.jsx(od,{})]})}),k.jsxs(qe.Dropdown,{children:[y&&k.jsx(qe.Item,{leftSection:k.jsx(id,{size:16}),onClick:a,children:" "}),k.jsx(qe.Item,{onClick:()=>v(u.serverId),leftSection:k.jsx(k1,{size:16}),children:" ID "}),!y&&k.jsx(qe.Item,{onClick:w,leftSection:k.jsx(P1,{size:16}),children:"  "})]})]}),k.jsx(yn,{}),k.jsx(Z1,{onClose:e}),k.jsx(J1,{}),k.jsx(Y1,{})]}),k.jsx(X1,{opened:i,onClose:c})]})},M4=()=>{const e=bo(),t=sr(),{isUserStreamView:r,isOpenHome:s}=Me(_=>_.appStore),{accessToken:i,isLoggedIn:a}=Me(_=>_.userStore),{currentServerId:c,currentChannelId:u,currentVoiceChannelId:p}=Me(_=>_.testServerStore),[h,{open:y,close:v}]=Jn(!1),[w,{open:S,close:b}]=Jn(!1),{sendMessage:E,editMessage:C,deleteMessage:R}=n4({accessToken:i,dispatch:t,serverId:c,currentVoiceChannelId:p});return L.useEffect(()=>{a||e("/")},[a,e]),L.useEffect(()=>{i&&t(Al({accessToken:i}))},[i,t]),L.useEffect(()=>{c&&i&&t(Xn({accessToken:i,serverId:c}))},[i,c,t]),L.useEffect(()=>{u&&i&&t(Vl({accessToken:i,channelId:u,numberOfMessages:50,fromStart:0}))},[i,u,c,t]),k.jsxs(ne,{style:{display:"flex",height:"100dvh"},children:[k.jsx(b4,{}),s?k.jsx(w4,{}):k.jsxs(k.Fragment,{children:[k.jsx(P4,{onClose:v}),r?k.jsx(d4,{}):k.jsx(o4,{openSidebar:y,openDetailsPanel:S,sendMessage:E,editMessage:C,deleteMessage:R}),k.jsx(f4,{}),k.jsx(D4,{onClose:v,opened:h}),k.jsx(p4,{onClose:b,opened:w})]})]})},L4=()=>{const e=sr(),t=bo(),{accessToken:r}=Me(a=>a.userStore),s=Ua({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await e(Ol({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return L.useEffect(()=>{r&&t("/main")},[r,t]),k.jsx(Nn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:k.jsxs(Qa,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[k.jsx(Xe,{fw:500,mb:"md",children:"  "}),k.jsx("form",{onSubmit:s.onSubmit(i),children:k.jsxs(ft,{gap:"md",children:[k.jsx(rs,{label:"Email",placeholder:" email",...s.getInputProps("mail"),required:!0}),k.jsx(rs,{label:"",placeholder:" ",...s.getInputProps("accountName"),required:!0}),k.jsx(Ku,{label:"",placeholder:" ",...s.getInputProps("password"),required:!0}),k.jsx(et,{justify:"center",mt:"md",children:k.jsx(Ke,{type:"submit",children:""})})]})})]})})},I4=({children:e})=>{const t=Me(i=>i.testServerStore.error),r=Me(i=>i.userStore.error),{showError:s}=Zm();return L.useEffect(()=>{t!==""&&s(t)},[t]),L.useEffect(()=>{r!==""&&s(r)},[r]),k.jsx(k.Fragment,{children:e})},j4=()=>k.jsx(fN,{children:k.jsx(pN,{children:k.jsx(RI,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:k.jsxs(eb,{children:[k.jsx(ls,{}),k.jsx(I4,{children:k.jsxs(yI,{children:[k.jsx(Pa,{path:"/",element:k.jsx(I3,{})}),k.jsx(Pa,{path:"/main",element:k.jsx(M4,{})}),k.jsx(Pa,{path:"/login",element:k.jsx(L3,{})}),k.jsx(Pa,{path:"/register",element:k.jsx(L4,{})})]})})]})})})}),O4=n3({reducer:{userStore:M3,appStore:l4,testServerStore:r4}});oR.createRoot(document.getElementById("root")).render(k.jsx(SR,{store:O4,children:k.jsx(j4,{})}));
