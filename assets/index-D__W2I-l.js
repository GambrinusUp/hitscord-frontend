var SR=Object.defineProperty;var _R=(e,t,r)=>t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mf=(e,t,r)=>_R(e,typeof t!="symbol"?t+"":t,r);function bR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O_={exports:{}},eu={},N_={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),xR=Symbol.for("react.portal"),CR=Symbol.for("react.fragment"),RR=Symbol.for("react.strict_mode"),ER=Symbol.for("react.profiler"),TR=Symbol.for("react.provider"),PR=Symbol.for("react.context"),kR=Symbol.for("react.forward_ref"),DR=Symbol.for("react.suspense"),LR=Symbol.for("react.memo"),jR=Symbol.for("react.lazy"),iy=Symbol.iterator;function MR(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A_=Object.assign,F_={};function Mo(e,t,r){this.props=e,this.context=t,this.refs=F_,this.updater=r||$_}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z_(){}z_.prototype=Mo.prototype;function vm(e,t,r){this.props=e,this.context=t,this.refs=F_,this.updater=r||$_}var ym=vm.prototype=new z_;ym.constructor=vm;A_(ym,Mo.prototype);ym.isPureReactComponent=!0;var oy=Array.isArray,B_=Object.prototype.hasOwnProperty,wm={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function V_(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)B_.call(t,n)&&!U_.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:mc,type:e,key:i,ref:o,props:s,_owner:wm.current}}function IR(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function OR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ay=/\/+/g;function If(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OR(""+e.key):t.toString(36)}function Ll(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mc:case xR:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+If(o,0):n,oy(s)?(r="",e!=null&&(r=e.replace(ay,"$&/")+"/"),Ll(s,t,r,"",function(l){return l})):s!=null&&(Sm(s)&&(s=IR(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ay,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",oy(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+If(i,a);o+=Ll(i,t,r,c,s)}else if(c=MR(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+If(i,a++),o+=Ll(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(e,t,r){if(e==null)return e;var n=[],s=0;return Ll(e,n,"","",function(i){return t.call(r,i,s++)}),n}function NR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},jl={transition:null},$R={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:jl,ReactCurrentOwner:wm};function H_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Vc,forEach:function(e,t,r){Vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Mo;ae.Fragment=CR;ae.Profiler=ER;ae.PureComponent=vm;ae.StrictMode=RR;ae.Suspense=DR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$R;ae.act=H_;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=A_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)B_.call(t,c)&&!U_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:mc,type:e.type,key:s,ref:i,props:n,_owner:o}};ae.createContext=function(e){return e={$$typeof:PR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TR,_context:e},e.Consumer=e};ae.createElement=V_;ae.createFactory=function(e){var t=V_.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:kR,render:e}};ae.isValidElement=Sm;ae.lazy=function(e){return{$$typeof:jR,_payload:{_status:-1,_result:e},_init:NR}};ae.memo=function(e,t){return{$$typeof:LR,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};ae.unstable_act=H_;ae.useCallback=function(e,t){return zt.current.useCallback(e,t)};ae.useContext=function(e){return zt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return zt.current.useEffect(e,t)};ae.useId=function(){return zt.current.useId()};ae.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return zt.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};ae.useRef=function(e){return zt.current.useRef(e)};ae.useState=function(e){return zt.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return zt.current.useTransition()};ae.version="18.3.1";N_.exports=ae;var w=N_.exports;const rr=gm(w),pd=bR({__proto__:null,default:rr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=w,FR=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),BR=Object.prototype.hasOwnProperty,UR=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function W_(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)BR.call(t,n)&&!VR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:FR,type:e,key:i,ref:o,props:s,_owner:UR.current}}eu.Fragment=zR;eu.jsx=W_;eu.jsxs=W_;O_.exports=eu;var h=O_.exports,q_={exports:{}},dr={},K_={exports:{}},G_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,j){var O=T.length;T.push(j);e:for(;0<O;){var M=O-1>>>1,U=T[M];if(0<s(U,j))T[M]=j,T[O]=U,O=M;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var j=T[0],O=T.pop();if(O!==j){T[0]=O;e:for(var M=0,U=T.length,J=U>>>1;M<J;){var me=2*(M+1)-1,Ee=T[me],Te=me+1,de=T[Te];if(0>s(Ee,O))Te<U&&0>s(de,Ee)?(T[M]=de,T[Te]=O,M=Te):(T[M]=Ee,T[me]=O,M=me);else if(Te<U&&0>s(de,O))T[M]=de,T[Te]=O,M=Te;else break e}}return j}function s(T,j){var O=T.sortIndex-j.sortIndex;return O!==0?O:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],d=1,u=null,f=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(T){for(var j=r(l);j!==null;){if(j.callback===null)n(l);else if(j.startTime<=T)n(l),j.sortIndex=j.expirationTime,t(c,j);else break;j=r(l)}}function b(T){if(g=!1,S(T),!m)if(r(c)!==null)m=!0,I(C);else{var j=r(l);j!==null&&V(b,j.startTime-T)}}function C(T,j){m=!1,g&&(g=!1,y(R),R=-1),p=!0;var O=f;try{for(S(j),u=r(c);u!==null&&(!(u.expirationTime>j)||T&&!$());){var M=u.callback;if(typeof M=="function"){u.callback=null,f=u.priorityLevel;var U=M(u.expirationTime<=j);j=e.unstable_now(),typeof U=="function"?u.callback=U:u===r(c)&&n(c),S(j)}else n(c);u=r(c)}if(u!==null)var J=!0;else{var me=r(l);me!==null&&V(b,me.startTime-j),J=!1}return J}finally{u=null,f=O,p=!1}}var x=!1,E=null,R=-1,P=5,L=-1;function $(){return!(e.unstable_now()-L<P)}function B(){if(E!==null){var T=e.unstable_now();L=T;var j=!0;try{j=E(!0,T)}finally{j?q():(x=!1,E=null)}}else x=!1}var q;if(typeof _=="function")q=function(){_(B)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,W=A.port2;A.port1.onmessage=B,q=function(){W.postMessage(null)}}else q=function(){v(B,0)};function I(T){E=T,x||(x=!0,q())}function V(T,j){R=v(function(){T(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,I(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var O=f;f=j;try{return T()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=f;f=T;try{return j()}finally{f=O}},e.unstable_scheduleCallback=function(T,j,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,T){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,T={id:d++,callback:j,priorityLevel:T,startTime:O,expirationTime:U,sortIndex:-1},O>M?(T.sortIndex=O,t(l,T),r(c)===null&&T===r(l)&&(g?(y(R),R=-1):g=!0,V(b,O-M))):(T.sortIndex=U,t(c,T),m||p||(m=!0,I(C))),T},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(T){var j=f;return function(){var O=f;f=j;try{return T.apply(this,arguments)}finally{f=O}}}})(G_);K_.exports=G_;var HR=K_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=w,ar=HR;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Ba={};function ui(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(Ba[e]=t,e=0;e<t.length;e++)Y_.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,qR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},ly={};function KR(e){return Vp.call(ly,e)?!0:Vp.call(cy,e)?!1:qR.test(e)?ly[e]=!0:(cy[e]=!0,!1)}function GR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YR(e,t,r,n){if(t===null||typeof t>"u"||GR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function bm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,bm);_t[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,bm);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,bm);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xm(e,t,r,n){var s=_t.hasOwnProperty(t)?_t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YR(t,r,s,n)&&(r=null),n||s===null?KR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=WR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),qp=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),J_=Symbol.for("react.offscreen"),dy=Symbol.iterator;function ra(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Of;function Sa(e){if(Of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Of=t&&t[1]||""}return`
`+Of+e}var Nf=!1;function $f(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sa(e):""}function XR(e){switch(e.tag){case 5:return Sa(e.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return e=$f(e.type,!1),e;case 11:return e=$f(e.type.render,!1),e;case 1:return e=$f(e.type,!0),e;default:return""}}function Kp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Xi:return"Portal";case Hp:return"Profiler";case Cm:return"StrictMode";case Wp:return"Suspense";case qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q_:return(e.displayName||"Context")+".Consumer";case X_:return(e._context.displayName||"Context")+".Provider";case Rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Em:return t=e.displayName||null,t!==null?t:Kp(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return Kp(e(t))}catch{}}return null}function QR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(t);case 8:return t===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JR(e){var t=Z_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wc(e){e._valueTracker||(e._valueTracker=JR(e))}function eb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Z_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gp(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tb(e,t){t=t.checked,t!=null&&xm(e,"checked",t,!1)}function Yp(e,t){tb(e,t);var r=Ts(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xp(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xp(e,t,r){(t!=="number"||hd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _a=Array.isArray;function lo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function py(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(_a(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function rb(e,t){var r=Ts(t.value),n=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qc,sb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ua(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZR=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){ZR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function ib(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function ob(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ib(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var eE=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zp(e,t){if(t){if(eE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function eh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Tm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rh=null,uo=null,fo=null;function my(e){if(e=yc(e)){if(typeof rh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=iu(t),rh(e.stateNode,e.type,t))}}function ab(e){uo?fo?fo.push(e):fo=[e]:uo=e}function cb(){if(uo){var e=uo,t=fo;if(fo=uo=null,my(e),t)for(e=0;e<t.length;e++)my(t[e])}}function lb(e,t){return e(t)}function db(){}var Af=!1;function ub(e,t,r){if(Af)return e(t,r);Af=!0;try{return lb(e,t,r)}finally{Af=!1,(uo!==null||fo!==null)&&(db(),cb())}}function Va(e,t){var r=e.stateNode;if(r===null)return null;var n=iu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var nh=!1;if(An)try{var na={};Object.defineProperty(na,"passive",{get:function(){nh=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{nh=!1}function tE(e,t,r,n,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(d){this.onError(d)}}var Da=!1,md=null,gd=!1,sh=null,rE={onError:function(e){Da=!0,md=e}};function nE(e,t,r,n,s,i,o,a,c){Da=!1,md=null,tE.apply(rE,arguments)}function sE(e,t,r,n,s,i,o,a,c){if(nE.apply(this,arguments),Da){if(Da){var l=md;Da=!1,md=null}else throw Error(F(198));gd||(gd=!0,sh=l)}}function fi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gy(e){if(fi(e)!==e)throw Error(F(188))}function iE(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return gy(s),e;if(i===n)return gy(s),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function pb(e){return e=iE(e),e!==null?hb(e):null}function hb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hb(e);if(t!==null)return t;e=e.sibling}return null}var mb=ar.unstable_scheduleCallback,vy=ar.unstable_cancelCallback,oE=ar.unstable_shouldYield,aE=ar.unstable_requestPaint,Xe=ar.unstable_now,cE=ar.unstable_getCurrentPriorityLevel,Pm=ar.unstable_ImmediatePriority,gb=ar.unstable_UserBlockingPriority,vd=ar.unstable_NormalPriority,lE=ar.unstable_LowPriority,vb=ar.unstable_IdlePriority,tu=null,mn=null;function dE(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(tu,e,void 0,(e.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:pE,uE=Math.log,fE=Math.LN2;function pE(e){return e>>>=0,e===0?32:31-(uE(e)/fE|0)|0}var Kc=64,Gc=4194304;function ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ba(a):(i&=o,i!==0&&(n=ba(i)))}else o=r&~s,o!==0?n=ba(o):i!==0&&(n=ba(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zr(t),s=1<<r,n|=e[r],t&=~s;return n}function hE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zr(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=hE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function ih(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yb(){var e=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),e}function Ff(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zr(t),e[t]=r}function gE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-zr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function km(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var xe=0;function wb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sb,Dm,_b,bb,xb,oh=!1,Yc=[],ms=null,gs=null,vs=null,Ha=new Map,Wa=new Map,ls=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function sa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yc(t),t!==null&&Dm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yE(e,t,r,n,s){switch(t){case"focusin":return ms=sa(ms,e,t,r,n,s),!0;case"dragenter":return gs=sa(gs,e,t,r,n,s),!0;case"mouseover":return vs=sa(vs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ha.set(i,sa(Ha.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Wa.set(i,sa(Wa.get(i)||null,e,t,r,n,s)),!0}return!1}function Cb(e){var t=Ys(e.target);if(t!==null){var r=fi(t);if(r!==null){if(t=r.tag,t===13){if(t=fb(r),t!==null){e.blockedOn=t,xb(e.priority,function(){_b(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ah(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);th=n,r.target.dispatchEvent(n),th=null}else return t=yc(r),t!==null&&Dm(t),e.blockedOn=r,!1;t.shift()}return!0}function wy(e,t,r){Ml(e)&&r.delete(t)}function wE(){oh=!1,ms!==null&&Ml(ms)&&(ms=null),gs!==null&&Ml(gs)&&(gs=null),vs!==null&&Ml(vs)&&(vs=null),Ha.forEach(wy),Wa.forEach(wy)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,oh||(oh=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,wE)))}function qa(e){function t(s){return ia(s,e)}if(0<Yc.length){ia(Yc[0],e);for(var r=1;r<Yc.length;r++){var n=Yc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ms!==null&&ia(ms,e),gs!==null&&ia(gs,e),vs!==null&&ia(vs,e),Ha.forEach(t),Wa.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)Cb(r),r.blockedOn===null&&ls.shift()}var po=Kn.ReactCurrentBatchConfig,wd=!0;function SE(e,t,r,n){var s=xe,i=po.transition;po.transition=null;try{xe=1,Lm(e,t,r,n)}finally{xe=s,po.transition=i}}function _E(e,t,r,n){var s=xe,i=po.transition;po.transition=null;try{xe=4,Lm(e,t,r,n)}finally{xe=s,po.transition=i}}function Lm(e,t,r,n){if(wd){var s=ah(e,t,r,n);if(s===null)Yf(e,t,n,Sd,r),yy(e,n);else if(yE(s,e,t,r,n))n.stopPropagation();else if(yy(e,n),t&4&&-1<vE.indexOf(e)){for(;s!==null;){var i=yc(s);if(i!==null&&Sb(i),i=ah(e,t,r,n),i===null&&Yf(e,t,n,Sd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yf(e,t,n,null,r)}}var Sd=null;function ah(e,t,r,n){if(Sd=null,e=Tm(n),e=Ys(e),e!==null)if(t=fi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sd=e,null}function Rb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cE()){case Pm:return 1;case gb:return 4;case vd:case lE:return 16;case vb:return 536870912;default:return 16}default:return 16}}var fs=null,jm=null,Il=null;function Eb(){if(Il)return Il;var e,t=jm,r=t.length,n,s="value"in fs?fs.value:fs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Il=s.slice(e,1<n?1-n:void 0)}function Ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function Sy(){return!1}function ur(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:Sy,this.isPropagationStopped=Sy,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=ur(Io),vc=He({},Io,{view:0,detail:0}),bE=ur(vc),zf,Bf,oa,ru=He({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?(zf=e.screenX-oa.screenX,Bf=e.screenY-oa.screenY):Bf=zf=0,oa=e),zf)},movementY:function(e){return"movementY"in e?e.movementY:Bf}}),_y=ur(ru),xE=He({},ru,{dataTransfer:0}),CE=ur(xE),RE=He({},vc,{relatedTarget:0}),Uf=ur(RE),EE=He({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=ur(EE),PE=He({},Io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kE=ur(PE),DE=He({},Io,{data:0}),by=ur(DE),LE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ME={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ME[e])?!!t[e]:!1}function Im(){return IE}var OE=He({},vc,{key:function(e){if(e.key){var t=LE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NE=ur(OE),$E=He({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=ur($E),AE=He({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),FE=ur(AE),zE=He({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),BE=ur(zE),UE=He({},ru,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VE=ur(UE),HE=[9,13,27,32],Om=An&&"CompositionEvent"in window,La=null;An&&"documentMode"in document&&(La=document.documentMode);var WE=An&&"TextEvent"in window&&!La,Tb=An&&(!Om||La&&8<La&&11>=La),Cy=" ",Ry=!1;function Pb(e,t){switch(e){case"keyup":return HE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function qE(e,t){switch(e){case"compositionend":return kb(t);case"keypress":return t.which!==32?null:(Ry=!0,Cy);case"textInput":return e=t.data,e===Cy&&Ry?null:e;default:return null}}function KE(e,t){if(Ji)return e==="compositionend"||!Om&&Pb(e,t)?(e=Eb(),Il=jm=fs=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tb&&t.locale!=="ko"?null:t.data;default:return null}}var GE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GE[e.type]:t==="textarea"}function Db(e,t,r,n){ab(n),t=_d(t,"onChange"),0<t.length&&(r=new Mm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ja=null,Ka=null;function YE(e){Bb(e,0)}function nu(e){var t=to(e);if(eb(t))return e}function XE(e,t){if(e==="change")return t}var Lb=!1;if(An){var Vf;if(An){var Hf="oninput"in document;if(!Hf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Hf=typeof Ty.oninput=="function"}Vf=Hf}else Vf=!1;Lb=Vf&&(!document.documentMode||9<document.documentMode)}function Py(){ja&&(ja.detachEvent("onpropertychange",jb),Ka=ja=null)}function jb(e){if(e.propertyName==="value"&&nu(Ka)){var t=[];Db(t,Ka,e,Tm(e)),ub(YE,t)}}function QE(e,t,r){e==="focusin"?(Py(),ja=t,Ka=r,ja.attachEvent("onpropertychange",jb)):e==="focusout"&&Py()}function JE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(Ka)}function ZE(e,t){if(e==="click")return nu(t)}function eT(e,t){if(e==="input"||e==="change")return nu(t)}function tT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:tT;function Ga(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vp.call(t,s)||!Vr(e[s],t[s]))return!1}return!0}function ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dy(e,t){var r=ky(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ky(r)}}function Mb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ib(){for(var e=window,t=hd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hd(e.document)}return t}function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rT(e){var t=Ib(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Mb(r.ownerDocument.documentElement,r)){if(n!==null&&Nm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Dy(r,i);var o=Dy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nT=An&&"documentMode"in document&&11>=document.documentMode,Zi=null,ch=null,Ma=null,lh=!1;function Ly(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lh||Zi==null||Zi!==hd(n)||(n=Zi,"selectionStart"in n&&Nm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ma&&Ga(Ma,n)||(Ma=n,n=_d(ch,"onSelect"),0<n.length&&(t=new Mm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zi)))}function Qc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var eo={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Wf={},Ob={};An&&(Ob=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function su(e){if(Wf[e])return Wf[e];if(!eo[e])return e;var t=eo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ob)return Wf[e]=t[r];return e}var Nb=su("animationend"),$b=su("animationiteration"),Ab=su("animationstart"),Fb=su("transitionend"),zb=new Map,jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(e,t){zb.set(e,t),ui(t,[e])}for(var qf=0;qf<jy.length;qf++){var Kf=jy[qf],sT=Kf.toLowerCase(),iT=Kf[0].toUpperCase()+Kf.slice(1);Os(sT,"on"+iT)}Os(Nb,"onAnimationEnd");Os($b,"onAnimationIteration");Os(Ab,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(Fb,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function My(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sE(n,t,void 0,e),e.currentTarget=null}function Bb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;My(s,a,l),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;My(s,a,l),i=c}}}if(gd)throw e=sh,gd=!1,sh=null,e}function Ie(e,t){var r=t[hh];r===void 0&&(r=t[hh]=new Set);var n=e+"__bubble";r.has(n)||(Ub(t,e,2,!1),r.add(n))}function Gf(e,t,r){var n=0;t&&(n|=4),Ub(r,e,n,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Ya(e){if(!e[Jc]){e[Jc]=!0,Y_.forEach(function(r){r!=="selectionchange"&&(oT.has(r)||Gf(r,!1,e),Gf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jc]||(t[Jc]=!0,Gf("selectionchange",!1,t))}}function Ub(e,t,r,n){switch(Rb(t)){case 1:var s=SE;break;case 4:s=_E;break;default:s=Lm}r=s.bind(null,t,r,e),s=void 0,!nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ub(function(){var l=i,d=Tm(r),u=[];e:{var f=zb.get(e);if(f!==void 0){var p=Mm,m=e;switch(e){case"keypress":if(Ol(r)===0)break e;case"keydown":case"keyup":p=NE;break;case"focusin":m="focus",p=Uf;break;case"focusout":m="blur",p=Uf;break;case"beforeblur":case"afterblur":p=Uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FE;break;case Nb:case $b:case Ab:p=TE;break;case Fb:p=BE;break;case"scroll":p=bE;break;case"wheel":p=VE;break;case"copy":case"cut":case"paste":p=kE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xy}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var _=l,S;_!==null;){S=_;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,y!==null&&(b=Va(_,y),b!=null&&g.push(Xa(_,b,S)))),v)break;_=_.return}0<g.length&&(f=new p(f,m,null,r,d),u.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==th&&(m=r.relatedTarget||r.fromElement)&&(Ys(m)||m[Fn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=l,m=m?Ys(m):null,m!==null&&(v=fi(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(g=_y,b="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=xy,b="onPointerLeave",y="onPointerEnter",_="pointer"),v=p==null?f:to(p),S=m==null?f:to(m),f=new g(b,_+"leave",p,r,d),f.target=v,f.relatedTarget=S,b=null,Ys(d)===l&&(g=new g(y,_+"enter",m,r,d),g.target=S,g.relatedTarget=v,b=g),v=b,p&&m)t:{for(g=p,y=m,_=0,S=g;S;S=xi(S))_++;for(S=0,b=y;b;b=xi(b))S++;for(;0<_-S;)g=xi(g),_--;for(;0<S-_;)y=xi(y),S--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=xi(g),y=xi(y)}g=null}else g=null;p!==null&&Iy(u,f,p,g,!1),m!==null&&v!==null&&Iy(u,v,m,g,!0)}}e:{if(f=l?to(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=XE;else if(Ey(f))if(Lb)C=eT;else{C=JE;var x=QE}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=ZE);if(C&&(C=C(e,l))){Db(u,C,r,d);break e}x&&x(e,f,l),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Xp(f,"number",f.value)}switch(x=l?to(l):window,e){case"focusin":(Ey(x)||x.contentEditable==="true")&&(Zi=x,ch=l,Ma=null);break;case"focusout":Ma=ch=Zi=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,Ly(u,r,d);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":Ly(u,r,d)}var E;if(Om)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ji?Pb(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Tb&&r.locale!=="ko"&&(Ji||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ji&&(E=Eb()):(fs=d,jm="value"in fs?fs.value:fs.textContent,Ji=!0)),x=_d(l,R),0<x.length&&(R=new by(R,e,null,r,d),u.push({event:R,listeners:x}),E?R.data=E:(E=kb(r),E!==null&&(R.data=E)))),(E=WE?qE(e,r):KE(e,r))&&(l=_d(l,"onBeforeInput"),0<l.length&&(d=new by("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:l}),d.data=E))}Bb(u,t)})}function Xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _d(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Va(e,r),i!=null&&n.unshift(Xa(e,i,s)),i=Va(e,t),i!=null&&n.push(Xa(e,i,s))),e=e.return}return n}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,s?(c=Va(r,i),c!=null&&o.unshift(Xa(r,c,a))):s||(c=Va(r,i),c!=null&&o.push(Xa(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var aT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(aT,`
`).replace(cT,"")}function Zc(e,t,r){if(t=Oy(t),Oy(e)!==t&&r)throw Error(F(425))}function bd(){}var dh=null,uh=null;function fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(uT)}:ph;function uT(e){setTimeout(function(){throw e})}function Xf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),qa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qa(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),fn="__reactFiber$"+Oo,Qa="__reactProps$"+Oo,Fn="__reactContainer$"+Oo,hh="__reactEvents$"+Oo,fT="__reactListeners$"+Oo,pT="__reactHandles$"+Oo;function Ys(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$y(e);e!==null;){if(r=e[fn])return r;e=$y(e)}return t}e=r,r=e.parentNode}return null}function yc(e){return e=e[fn]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function iu(e){return e[Qa]||null}var mh=[],ro=-1;function Ns(e){return{current:e}}function Oe(e){0>ro||(e.current=mh[ro],mh[ro]=null,ro--)}function Me(e,t){ro++,mh[ro]=e.current,e.current=t}var Ps={},Dt=Ns(Ps),qt=Ns(!1),ni=Ps;function bo(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(e){return e=e.childContextTypes,e!=null}function xd(){Oe(qt),Oe(Dt)}function Ay(e,t,r){if(Dt.current!==Ps)throw Error(F(168));Me(Dt,t),Me(qt,r)}function Vb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,QR(e)||"Unknown",s));return He({},r,n)}function Cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,ni=Dt.current,Me(Dt,e),Me(qt,qt.current),!0}function Fy(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Vb(e,t,ni),n.__reactInternalMemoizedMergedChildContext=e,Oe(qt),Oe(Dt),Me(Dt,e)):Oe(qt),Me(qt,r)}var jn=null,ou=!1,Qf=!1;function Hb(e){jn===null?jn=[e]:jn.push(e)}function hT(e){ou=!0,Hb(e)}function $s(){if(!Qf&&jn!==null){Qf=!0;var e=0,t=xe;try{var r=jn;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jn=null,ou=!1}catch(s){throw jn!==null&&(jn=jn.slice(e+1)),mb(Pm,$s),s}finally{xe=t,Qf=!1}}return null}var no=[],so=0,Rd=null,Ed=0,gr=[],vr=0,si=null,Mn=1,In="";function Vs(e,t){no[so++]=Ed,no[so++]=Rd,Rd=e,Ed=t}function Wb(e,t,r){gr[vr++]=Mn,gr[vr++]=In,gr[vr++]=si,si=e;var n=Mn;e=In;var s=32-zr(n)-1;n&=~(1<<s),r+=1;var i=32-zr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Mn=1<<32-zr(t)+s|r<<s|n,In=i+e}else Mn=1<<i|r<<s|n,In=e}function $m(e){e.return!==null&&(Vs(e,1),Wb(e,1,0))}function Am(e){for(;e===Rd;)Rd=no[--so],no[so]=null,Ed=no[--so],no[so]=null;for(;e===si;)si=gr[--vr],gr[vr]=null,In=gr[--vr],gr[vr]=null,Mn=gr[--vr],gr[vr]=null}var ir=null,nr=null,Ae=!1,Nr=null;function qb(e,t){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,nr=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=si!==null?{id:Mn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ir=e,nr=null,!0):!1;default:return!1}}function gh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vh(e){if(Ae){var t=nr;if(t){var r=t;if(!zy(e,t)){if(gh(e))throw Error(F(418));t=ys(r.nextSibling);var n=ir;t&&zy(e,t)?qb(n,r):(e.flags=e.flags&-4097|2,Ae=!1,ir=e)}}else{if(gh(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ae=!1,ir=e}}}function By(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function el(e){if(e!==ir)return!1;if(!Ae)return By(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fh(e.type,e.memoizedProps)),t&&(t=nr)){if(gh(e))throw Kb(),Error(F(418));for(;t;)qb(e,t),t=ys(t.nextSibling)}if(By(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nr=ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=ir?ys(e.stateNode.nextSibling):null;return!0}function Kb(){for(var e=nr;e;)e=ys(e.nextSibling)}function xo(){nr=ir=null,Ae=!1}function Fm(e){Nr===null?Nr=[e]:Nr.push(e)}var mT=Kn.ReactCurrentBatchConfig;function aa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function tl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uy(e){var t=e._init;return t(e._payload)}function Gb(e){function t(y,_){if(e){var S=y.deletions;S===null?(y.deletions=[_],y.flags|=16):S.push(_)}}function r(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(y,_){return y=bs(y,_),y.index=0,y.sibling=null,y}function i(y,_,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<_?(y.flags|=2,_):S):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,_,S,b){return _===null||_.tag!==6?(_=sp(S,y.mode,b),_.return=y,_):(_=s(_,S),_.return=y,_)}function c(y,_,S,b){var C=S.type;return C===Qi?d(y,_,S.props.children,b,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===os&&Uy(C)===_.type)?(b=s(_,S.props),b.ref=aa(y,_,S),b.return=y,b):(b=Ul(S.type,S.key,S.props,null,y.mode,b),b.ref=aa(y,_,S),b.return=y,b)}function l(y,_,S,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=ip(S,y.mode,b),_.return=y,_):(_=s(_,S.children||[]),_.return=y,_)}function d(y,_,S,b,C){return _===null||_.tag!==7?(_=ei(S,y.mode,b,C),_.return=y,_):(_=s(_,S),_.return=y,_)}function u(y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=sp(""+_,y.mode,S),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:return S=Ul(_.type,_.key,_.props,null,y.mode,S),S.ref=aa(y,null,_),S.return=y,S;case Xi:return _=ip(_,y.mode,S),_.return=y,_;case os:var b=_._init;return u(y,b(_._payload),S)}if(_a(_)||ra(_))return _=ei(_,y.mode,S,null),_.return=y,_;tl(y,_)}return null}function f(y,_,S,b){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(y,_,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return S.key===C?c(y,_,S,b):null;case Xi:return S.key===C?l(y,_,S,b):null;case os:return C=S._init,f(y,_,C(S._payload),b)}if(_a(S)||ra(S))return C!==null?null:d(y,_,S,b,null);tl(y,S)}return null}function p(y,_,S,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(S)||null,a(_,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hc:return y=y.get(b.key===null?S:b.key)||null,c(_,y,b,C);case Xi:return y=y.get(b.key===null?S:b.key)||null,l(_,y,b,C);case os:var x=b._init;return p(y,_,S,x(b._payload),C)}if(_a(b)||ra(b))return y=y.get(S)||null,d(_,y,b,C,null);tl(_,b)}return null}function m(y,_,S,b){for(var C=null,x=null,E=_,R=_=0,P=null;E!==null&&R<S.length;R++){E.index>R?(P=E,E=null):P=E.sibling;var L=f(y,E,S[R],b);if(L===null){E===null&&(E=P);break}e&&E&&L.alternate===null&&t(y,E),_=i(L,_,R),x===null?C=L:x.sibling=L,x=L,E=P}if(R===S.length)return r(y,E),Ae&&Vs(y,R),C;if(E===null){for(;R<S.length;R++)E=u(y,S[R],b),E!==null&&(_=i(E,_,R),x===null?C=E:x.sibling=E,x=E);return Ae&&Vs(y,R),C}for(E=n(y,E);R<S.length;R++)P=p(E,y,R,S[R],b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?R:P.key),_=i(P,_,R),x===null?C=P:x.sibling=P,x=P);return e&&E.forEach(function($){return t(y,$)}),Ae&&Vs(y,R),C}function g(y,_,S,b){var C=ra(S);if(typeof C!="function")throw Error(F(150));if(S=C.call(S),S==null)throw Error(F(151));for(var x=C=null,E=_,R=_=0,P=null,L=S.next();E!==null&&!L.done;R++,L=S.next()){E.index>R?(P=E,E=null):P=E.sibling;var $=f(y,E,L.value,b);if($===null){E===null&&(E=P);break}e&&E&&$.alternate===null&&t(y,E),_=i($,_,R),x===null?C=$:x.sibling=$,x=$,E=P}if(L.done)return r(y,E),Ae&&Vs(y,R),C;if(E===null){for(;!L.done;R++,L=S.next())L=u(y,L.value,b),L!==null&&(_=i(L,_,R),x===null?C=L:x.sibling=L,x=L);return Ae&&Vs(y,R),C}for(E=n(y,E);!L.done;R++,L=S.next())L=p(E,y,R,L.value,b),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?R:L.key),_=i(L,_,R),x===null?C=L:x.sibling=L,x=L);return e&&E.forEach(function(B){return t(y,B)}),Ae&&Vs(y,R),C}function v(y,_,S,b){if(typeof S=="object"&&S!==null&&S.type===Qi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:e:{for(var C=S.key,x=_;x!==null;){if(x.key===C){if(C=S.type,C===Qi){if(x.tag===7){r(y,x.sibling),_=s(x,S.props.children),_.return=y,y=_;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===os&&Uy(C)===x.type){r(y,x.sibling),_=s(x,S.props),_.ref=aa(y,x,S),_.return=y,y=_;break e}r(y,x);break}else t(y,x);x=x.sibling}S.type===Qi?(_=ei(S.props.children,y.mode,b,S.key),_.return=y,y=_):(b=Ul(S.type,S.key,S.props,null,y.mode,b),b.ref=aa(y,_,S),b.return=y,y=b)}return o(y);case Xi:e:{for(x=S.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(y,_.sibling),_=s(_,S.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else t(y,_);_=_.sibling}_=ip(S,y.mode,b),_.return=y,y=_}return o(y);case os:return x=S._init,v(y,_,x(S._payload),b)}if(_a(S))return m(y,_,S,b);if(ra(S))return g(y,_,S,b);tl(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(y,_.sibling),_=s(_,S),_.return=y,y=_):(r(y,_),_=sp(S,y.mode,b),_.return=y,y=_),o(y)):r(y,_)}return v}var Co=Gb(!0),Yb=Gb(!1),Td=Ns(null),Pd=null,io=null,zm=null;function Bm(){zm=io=Pd=null}function Um(e){var t=Td.current;Oe(Td),e._currentValue=t}function yh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ho(e,t){Pd=e,zm=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(zm!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Pd===null)throw Error(F(308));io=e,Pd.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var Xs=null;function Vm(e){Xs===null?Xs=[e]:Xs.push(e)}function Xb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Vm(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var as=!1;function Hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zn(e,r)}return s=n.interleaved,s===null?(t.next=t,Vm(n)):(t.next=s.next,s.next=t),n.interleaved=t,zn(e,r)}function Nl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}function Vy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kd(e,t,r,n){var s=e.updateQueue;as=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;o=0,d=l=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(f=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){u=m.call(p,u,f);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,u,f):m,f==null)break e;u=He({},u,f);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=p,c=u):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=u),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=u}}function Hy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var wc={},gn=Ns(wc),Ja=Ns(wc),Za=Ns(wc);function Qs(e){if(e===wc)throw Error(F(174));return e}function Wm(e,t){switch(Me(Za,t),Me(Ja,e),Me(gn,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jp(t,e)}Oe(gn),Me(gn,t)}function Ro(){Oe(gn),Oe(Ja),Oe(Za)}function Jb(e){Qs(Za.current);var t=Qs(gn.current),r=Jp(t,e.type);t!==r&&(Me(Ja,e),Me(gn,r))}function qm(e){Ja.current===e&&(Oe(gn),Oe(Ja))}var Be=Ns(0);function Dd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jf=[];function Km(){for(var e=0;e<Jf.length;e++)Jf[e]._workInProgressVersionPrimary=null;Jf.length=0}var $l=Kn.ReactCurrentDispatcher,Zf=Kn.ReactCurrentBatchConfig,ii=0,Ue=null,lt=null,pt=null,Ld=!1,Ia=!1,ec=0,gT=0;function Rt(){throw Error(F(321))}function Gm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vr(e[r],t[r]))return!1;return!0}function Ym(e,t,r,n,s,i){if(ii=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?ST:_T,e=r(n,s),Ia){i=0;do{if(Ia=!1,ec=0,25<=i)throw Error(F(301));i+=1,pt=lt=null,t.updateQueue=null,$l.current=bT,e=r(n,s)}while(Ia)}if($l.current=jd,t=lt!==null&&lt.next!==null,ii=0,pt=lt=Ue=null,Ld=!1,t)throw Error(F(300));return e}function Xm(){var e=ec!==0;return ec=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ue.memoizedState=pt=e:pt=pt.next=e,pt}function xr(){if(lt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=pt===null?Ue.memoizedState:pt.next;if(t!==null)pt=t,lt=e;else{if(e===null)throw Error(F(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},pt===null?Ue.memoizedState=pt=e:pt=pt.next=e}return pt}function tc(e,t){return typeof t=="function"?t(e):t}function ep(e){var t=xr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=lt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,l=i;do{var d=l.lane;if((ii&d)===d)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var u={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=u,o=n):c=c.next=u,Ue.lanes|=d,oi|=d}l=l.next}while(l!==null&&l!==i);c===null?o=n:c.next=a,Vr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ue.lanes|=i,oi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tp(e){var t=xr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Zb(){}function e0(e,t){var r=Ue,n=xr(),s=t(),i=!Vr(n.memoizedState,s);if(i&&(n.memoizedState=s,Wt=!0),n=n.queue,Qm(n0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,rc(9,r0.bind(null,r,n,s,t),void 0,null),ht===null)throw Error(F(349));ii&30||t0(r,t,s)}return s}function t0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function r0(e,t,r,n){t.value=r,t.getSnapshot=n,s0(t)&&i0(e)}function n0(e,t,r){return r(function(){s0(t)&&i0(e)})}function s0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vr(e,r)}catch{return!0}}function i0(e){var t=zn(e,1);t!==null&&Br(t,e,1,-1)}function Wy(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:e},t.queue=e,e=e.dispatch=wT.bind(null,Ue,e),[t.memoizedState,e]}function rc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function o0(){return xr().memoizedState}function Al(e,t,r,n){var s=dn();Ue.flags|=e,s.memoizedState=rc(1|t,r,void 0,n===void 0?null:n)}function au(e,t,r,n){var s=xr();n=n===void 0?null:n;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,n!==null&&Gm(n,o.deps)){s.memoizedState=rc(t,r,i,n);return}}Ue.flags|=e,s.memoizedState=rc(1|t,r,i,n)}function qy(e,t){return Al(8390656,8,e,t)}function Qm(e,t){return au(2048,8,e,t)}function a0(e,t){return au(4,2,e,t)}function c0(e,t){return au(4,4,e,t)}function l0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d0(e,t,r){return r=r!=null?r.concat([e]):null,au(4,4,l0.bind(null,t,e),r)}function Jm(){}function u0(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f0(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p0(e,t,r){return ii&21?(Vr(r,t)||(r=yb(),Ue.lanes|=r,oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function vT(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=Zf.transition;Zf.transition={};try{e(!1),t()}finally{xe=r,Zf.transition=n}}function h0(){return xr().memoizedState}function yT(e,t,r){var n=_s(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},m0(e))g0(t,r);else if(r=Xb(e,t,r,n),r!==null){var s=At();Br(r,e,n,s),v0(r,t,n)}}function wT(e,t,r){var n=_s(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(m0(e))g0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Vr(a,o)){var c=t.interleaved;c===null?(s.next=s,Vm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Xb(e,t,s,n),r!==null&&(s=At(),Br(r,e,n,s),v0(r,t,n))}}function m0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function g0(e,t){Ia=Ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}var jd={readContext:br,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},ST={readContext:br,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:qy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Al(4194308,4,l0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yT.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Wy,useDebugValue:Jm,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Wy(!1),t=e[0];return e=vT.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,s=dn();if(Ae){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),ht===null)throw Error(F(349));ii&30||t0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qy(n0.bind(null,n,i,e),[e]),n.flags|=2048,rc(9,r0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dn(),t=ht.identifierPrefix;if(Ae){var r=In,n=Mn;r=(n&~(1<<32-zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ec++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_T={readContext:br,useCallback:u0,useContext:br,useEffect:Qm,useImperativeHandle:d0,useInsertionEffect:a0,useLayoutEffect:c0,useMemo:f0,useReducer:ep,useRef:o0,useState:function(){return ep(tc)},useDebugValue:Jm,useDeferredValue:function(e){var t=xr();return p0(t,lt.memoizedState,e)},useTransition:function(){var e=ep(tc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:Zb,useSyncExternalStore:e0,useId:h0,unstable_isNewReconciler:!1},bT={readContext:br,useCallback:u0,useContext:br,useEffect:Qm,useImperativeHandle:d0,useInsertionEffect:a0,useLayoutEffect:c0,useMemo:f0,useReducer:tp,useRef:o0,useState:function(){return tp(tc)},useDebugValue:Jm,useDeferredValue:function(e){var t=xr();return lt===null?t.memoizedState=e:p0(t,lt.memoizedState,e)},useTransition:function(){var e=tp(tc)[0],t=xr().memoizedState;return[e,t]},useMutableSource:Zb,useSyncExternalStore:e0,useId:h0,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cu={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=At(),s=_s(e),i=On(n,s);i.payload=t,r!=null&&(i.callback=r),t=ws(e,i,s),t!==null&&(Br(t,e,s,n),Nl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=At(),s=_s(e),i=On(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ws(e,i,s),t!==null&&(Br(t,e,s,n),Nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=At(),n=_s(e),s=On(r,n);s.tag=2,t!=null&&(s.callback=t),t=ws(e,s,n),t!==null&&(Br(t,e,n,r),Nl(t,e,n))}};function Ky(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ga(r,n)||!Ga(s,i):!0}function y0(e,t,r){var n=!1,s=Ps,i=t.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=Kt(t)?ni:Dt.current,n=t.contextTypes,i=(n=n!=null)?bo(e,s):Ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function Sh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=Kt(t)?ni:Dt.current,s.context=bo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cu.enqueueReplaceState(s,s.state,null),kd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Eo(e,t){try{var r="",n=t;do r+=XR(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function rp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _h(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xT=typeof WeakMap=="function"?WeakMap:Map;function w0(e,t,r){r=On(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Id||(Id=!0,Lh=n),_h(e,t)},r}function S0(e,t,r){r=On(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_h(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){_h(e,t),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$T.bind(null,e,t,r),t.then(e,e))}function Xy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=On(-1,1),t.tag=2,ws(r,t,1))),r.lanes|=1),e)}var CT=Kn.ReactCurrentOwner,Wt=!1;function Ot(e,t,r,n){t.child=e===null?Yb(t,null,r,n):Co(t,e.child,r,n)}function Jy(e,t,r,n,s){r=r.render;var i=t.ref;return ho(t,s),n=Ym(e,t,r,n,i,s),r=Xm(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ae&&r&&$m(t),t.flags|=1,Ot(e,t,n,s),t.child)}function Zy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!og(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_0(e,t,i,n,s)):(e=Ul(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ga,r(o,n)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=bs(i,n),e.ref=t.ref,e.return=t,t.child=e}function _0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ga(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return bh(e,t,r,n,s)}function b0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ao,tr),tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(ao,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Me(ao,tr),tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Me(ao,tr),tr|=n;return Ot(e,t,s,r),t.child}function x0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bh(e,t,r,n,s){var i=Kt(r)?ni:Dt.current;return i=bo(t,i),ho(t,s),r=Ym(e,t,r,n,i,s),n=Xm(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ae&&n&&$m(t),t.flags|=1,Ot(e,t,r,s),t.child)}function ew(e,t,r,n,s){if(Kt(r)){var i=!0;Cd(t)}else i=!1;if(ho(t,s),t.stateNode===null)Fl(e,t),y0(t,r,n),Sh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=br(l):(l=Kt(r)?ni:Dt.current,l=bo(t,l));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&Gy(t,o,n,l),as=!1;var f=t.memoizedState;o.state=f,kd(t,n,o,s),c=t.memoizedState,a!==n||f!==c||qt.current||as?(typeof d=="function"&&(wh(t,r,d,n),c=t.memoizedState),(a=as||Ky(t,r,a,n,f,c,l))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Qb(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Mr(t.type,a),o.props=l,u=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Kt(r)?ni:Dt.current,c=bo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==c)&&Gy(t,o,n,c),as=!1,f=t.memoizedState,o.state=f,kd(t,n,o,s);var m=t.memoizedState;a!==u||f!==m||qt.current||as?(typeof p=="function"&&(wh(t,r,p,n),m=t.memoizedState),(l=as||Ky(t,r,l,n,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return xh(e,t,r,n,i,s)}function xh(e,t,r,n,s,i){x0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fy(t,r,!1),Bn(e,t,i);n=t.stateNode,CT.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Co(t,e.child,null,i),t.child=Co(t,null,a,i)):Ot(e,t,a,i),t.memoizedState=n.state,s&&Fy(t,r,!0),t.child}function C0(e){var t=e.stateNode;t.pendingContext?Ay(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ay(e,t.context,!1),Wm(e,t.containerInfo)}function tw(e,t,r,n,s){return xo(),Fm(s),t.flags|=256,Ot(e,t,r,n),t.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function R0(e,t,r){var n=t.pendingProps,s=Be.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Me(Be,s&1),e===null)return vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uu(o,n,0,null),e=ei(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rh(r),t.memoizedState=Ch,e):Zm(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return RT(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=bs(a,i):(i=ei(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Rh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ch,n}return i=e.child,e=i.sibling,n=bs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zm(e,t){return t=uu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rl(e,t,r,n){return n!==null&&Fm(n),Co(t,e.child,null,r),e=Zm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=rp(Error(F(422))),rl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=uu({mode:"visible",children:n.children},s,0,null),i=ei(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Co(t,e.child,null,o),t.child.memoizedState=Rh(o),t.memoizedState=Ch,i);if(!(t.mode&1))return rl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(F(419)),n=rp(i,n,void 0),rl(e,t,o,n)}if(a=(o&e.childLanes)!==0,Wt||a){if(n=ht,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(e,s),Br(n,e,s,-1))}return ig(),n=rp(Error(F(421))),rl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=AT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nr=ys(s.nextSibling),ir=t,Ae=!0,Nr=null,e!==null&&(gr[vr++]=Mn,gr[vr++]=In,gr[vr++]=si,Mn=e.id,In=e.overflow,si=t),t=Zm(t,n.children),t.flags|=4096,t)}function rw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yh(e.return,t,r)}function np(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function E0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ot(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rw(e,r,t);else if(e.tag===19)rw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Me(Be,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Dd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),np(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}np(t,!0,r,null,i);break;case"together":np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=bs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ET(e,t,r){switch(t.tag){case 3:C0(t),xo();break;case 5:Jb(t);break;case 1:Kt(t.type)&&Cd(t);break;case 4:Wm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Me(Td,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Me(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?R0(e,t,r):(Me(Be,Be.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);Me(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,b0(e,t,r)}return Bn(e,t,r)}var T0,Eh,P0,k0;T0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eh=function(){};P0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qs(gn.current);var i=null;switch(r){case"input":s=Gp(e,s),n=Gp(e,n),i=[];break;case"select":s=He({},s,{value:void 0}),n=He({},n,{value:void 0}),i=[];break;case"textarea":s=Qp(e,s),n=Qp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bd)}Zp(r,n);var o;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ba.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(a=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ie("scroll",e),i||a===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};k0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ca(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function TT(e,t,r){var n=t.pendingProps;switch(Am(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Kt(t.type)&&xd(),Et(t),null;case 3:return n=t.stateNode,Ro(),Oe(qt),Oe(Dt),Km(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(el(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nr!==null&&(Ih(Nr),Nr=null))),Eh(e,t),Et(t),null;case 5:qm(t);var s=Qs(Za.current);if(r=t.type,e!==null&&t.stateNode!=null)P0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Et(t),null}if(e=Qs(gn.current),el(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[Qa]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<xa.length;s++)Ie(xa[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":uy(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":py(n,i),Ie("invalid",n)}Zp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zc(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zc(n.textContent,a,e),s=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Wc(n),fy(n,i,!0);break;case"textarea":Wc(n),hy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[Qa]=n,T0(e,t,!1,!1),t.stateNode=e;e:{switch(o=eh(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),s=n;break;case"iframe":case"object":case"embed":Ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<xa.length;s++)Ie(xa[s],e);s=n;break;case"source":Ie("error",e),s=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=n;break;case"details":Ie("toggle",e),s=n;break;case"input":uy(e,n),s=Gp(e,n),Ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=He({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":py(e,n),s=Qp(e,n),Ie("invalid",e);break;default:s=n}Zp(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?ob(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ua(e,c):typeof c=="number"&&Ua(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ba.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&xm(e,i,c,o))}switch(r){case"input":Wc(e),fy(e,n,!1);break;case"textarea":Wc(e),hy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ts(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?lo(e,!!n.multiple,i,!1):n.defaultValue!=null&&lo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)k0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Qs(Za.current),Qs(gn.current),el(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=ir,e!==null))switch(e.tag){case 3:Zc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Et(t),null;case 13:if(Oe(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&nr!==null&&t.mode&1&&!(t.flags&128))Kb(),xo(),t.flags|=98560,i=!1;else if(i=el(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[fn]=t}else xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Nr!==null&&(Ih(Nr),Nr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?dt===0&&(dt=3):ig())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Ro(),Eh(e,t),e===null&&Ya(t.stateNode.containerInfo),Et(t),null;case 10:return Um(t.type._context),Et(t),null;case 17:return Kt(t.type)&&xd(),Et(t),null;case 19:if(Oe(Be),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ca(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dd(e),o!==null){for(t.flags|=128,ca(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me(Be,Be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>To&&(t.flags|=128,n=!0,ca(i,!1),t.lanes=4194304)}else{if(!n)if(e=Dd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return Et(t),null}else 2*Xe()-i.renderingStartTime>To&&r!==1073741824&&(t.flags|=128,n=!0,ca(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Be.current,Me(Be,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return sg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function PT(e,t){switch(Am(t),t.tag){case 1:return Kt(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ro(),Oe(qt),Oe(Dt),Km(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qm(t),null;case 13:if(Oe(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Be),null;case 4:return Ro(),null;case 10:return Um(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var nl=!1,Tt=!1,kT=typeof WeakSet=="function"?WeakSet:Set,H=null;function oo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ge(e,t,n)}else r.current=null}function Th(e,t,r){try{r()}catch(n){Ge(e,t,n)}}var nw=!1;function DT(e,t){if(dh=wd,e=Ib(),Nm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,d=0,u=e,f=null;t:for(;;){for(var p;u!==r||s!==0&&u.nodeType!==3||(a=o+s),u!==i||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===r&&++l===s&&(a=o),f===i&&++d===n&&(c=o),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(uh={focusedElem:e,selectionRange:r},wd=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Mr(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return m=nw,nw=!1,m}function Oa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Th(t,r,i)}s=s.next}while(s!==n)}}function lu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D0(e){var t=e.alternate;t!==null&&(e.alternate=null,D0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Qa],delete t[hh],delete t[fT],delete t[pT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L0(e){return e.tag===5||e.tag===3||e.tag===4}function sw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bd));else if(n!==4&&(e=e.child,e!==null))for(kh(e,t,r),e=e.sibling;e!==null;)kh(e,t,r),e=e.sibling}function Dh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dh(e,t,r),e=e.sibling;e!==null;)Dh(e,t,r),e=e.sibling}var wt=null,Ir=!1;function es(e,t,r){for(r=r.child;r!==null;)j0(e,t,r),r=r.sibling}function j0(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(tu,r)}catch{}switch(r.tag){case 5:Tt||oo(r,t);case 6:var n=wt,s=Ir;wt=null,es(e,t,r),wt=n,Ir=s,wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?Xf(e.parentNode,r):e.nodeType===1&&Xf(e,r),qa(e)):Xf(wt,r.stateNode));break;case 4:n=wt,s=Ir,wt=r.stateNode.containerInfo,Ir=!0,es(e,t,r),wt=n,Ir=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Th(r,t,o),s=s.next}while(s!==n)}es(e,t,r);break;case 1:if(!Tt&&(oo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ge(r,t,a)}es(e,t,r);break;case 21:es(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,es(e,t,r),Tt=n):es(e,t,r);break;default:es(e,t,r)}}function iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kT),t.forEach(function(n){var s=FT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Ir=!1;break e;case 3:wt=a.stateNode.containerInfo,Ir=!0;break e;case 4:wt=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(wt===null)throw Error(F(160));j0(i,o,s),wt=null,Ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Ge(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M0(t,e),t=t.sibling}function M0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),Zr(e),n&4){try{Oa(3,e,e.return),lu(3,e)}catch(g){Ge(e,e.return,g)}try{Oa(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:jr(t,e),Zr(e),n&512&&r!==null&&oo(r,r.return);break;case 5:if(jr(t,e),Zr(e),n&512&&r!==null&&oo(r,r.return),e.flags&32){var s=e.stateNode;try{Ua(s,"")}catch(g){Ge(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tb(s,i),eh(a,o);var l=eh(a,i);for(o=0;o<c.length;o+=2){var d=c[o],u=c[o+1];d==="style"?ob(s,u):d==="dangerouslySetInnerHTML"?sb(s,u):d==="children"?Ua(s,u):xm(s,d,u,l)}switch(a){case"input":Yp(s,i);break;case"textarea":rb(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?lo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?lo(s,!!i.multiple,i.defaultValue,!0):lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qa]=i}catch(g){Ge(e,e.return,g)}}break;case 6:if(jr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Ge(e,e.return,g)}}break;case 3:if(jr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:jr(t,e),Zr(e);break;case 13:jr(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rg=Xe())),n&4&&iw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(l=Tt)||d,jr(t,e),Tt=l):jr(t,e),Zr(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(u=H=d;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oa(4,f,f.return);break;case 1:oo(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ge(n,r,g)}}break;case 5:oo(f,f.return);break;case 22:if(f.memoizedState!==null){aw(u);continue}}p!==null?(p.return=f,H=p):aw(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ib("display",o))}catch(g){Ge(e,e.return,g)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:jr(t,e),Zr(e),n&4&&iw(e);break;case 21:break;default:jr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L0(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ua(s,""),n.flags&=-33);var i=sw(e);Dh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=sw(e);kh(e,a,o);break;default:throw Error(F(161))}}catch(c){Ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LT(e,t,r){H=e,I0(e)}function I0(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||nl;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Tt;a=nl;var l=Tt;if(nl=o,(Tt=c)&&!l)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?cw(s):c!==null?(c.return=o,H=c):cw(s);for(;i!==null;)H=i,I0(i),i=i.sibling;H=s,nl=a,Tt=l}ow(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):ow(e)}}function ow(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||lu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hy(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&qa(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Tt||t.flags&512&&Ph(t)}catch(f){Ge(t,t.return,f)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function aw(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function cw(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lu(4,t)}catch(c){Ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ge(t,s,c)}}var i=t.return;try{Ph(t)}catch(c){Ge(t,i,c)}break;case 5:var o=t.return;try{Ph(t)}catch(c){Ge(t,o,c)}}}catch(c){Ge(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var jT=Math.ceil,Md=Kn.ReactCurrentDispatcher,eg=Kn.ReactCurrentOwner,Sr=Kn.ReactCurrentBatchConfig,ve=0,ht=null,nt=null,St=0,tr=0,ao=Ns(0),dt=0,nc=null,oi=0,du=0,tg=0,Na=null,Ht=null,rg=0,To=1/0,Ln=null,Id=!1,Lh=null,Ss=null,sl=!1,ps=null,Od=0,$a=0,jh=null,zl=-1,Bl=0;function At(){return ve&6?Xe():zl!==-1?zl:zl=Xe()}function _s(e){return e.mode&1?ve&2&&St!==0?St&-St:mT.transition!==null?(Bl===0&&(Bl=yb()),Bl):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Rb(e.type)),e):1}function Br(e,t,r,n){if(50<$a)throw $a=0,jh=null,Error(F(185));gc(e,r,n),(!(ve&2)||e!==ht)&&(e===ht&&(!(ve&2)&&(du|=r),dt===4&&ds(e,St)),Gt(e,n),r===1&&ve===0&&!(t.mode&1)&&(To=Xe()+500,ou&&$s()))}function Gt(e,t){var r=e.callbackNode;mE(e,t);var n=yd(e,e===ht?St:0);if(n===0)r!==null&&vy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vy(r),t===1)e.tag===0?hT(lw.bind(null,e)):Hb(lw.bind(null,e)),dT(function(){!(ve&6)&&$s()}),r=null;else{switch(wb(n)){case 1:r=Pm;break;case 4:r=gb;break;case 16:r=vd;break;case 536870912:r=vb;break;default:r=vd}r=U0(r,O0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O0(e,t){if(zl=-1,Bl=0,ve&6)throw Error(F(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var n=yd(e,e===ht?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nd(e,n);else{t=n;var s=ve;ve|=2;var i=$0();(ht!==e||St!==t)&&(Ln=null,To=Xe()+500,Zs(e,t));do try{OT();break}catch(a){N0(e,a)}while(!0);Bm(),Md.current=i,ve=s,nt!==null?t=0:(ht=null,St=0,t=dt)}if(t!==0){if(t===2&&(s=ih(e),s!==0&&(n=s,t=Mh(e,s))),t===1)throw r=nc,Zs(e,0),ds(e,n),Gt(e,Xe()),r;if(t===6)ds(e,n);else{if(s=e.current.alternate,!(n&30)&&!MT(s)&&(t=Nd(e,n),t===2&&(i=ih(e),i!==0&&(n=i,t=Mh(e,i))),t===1))throw r=nc,Zs(e,0),ds(e,n),Gt(e,Xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Hs(e,Ht,Ln);break;case 3:if(ds(e,n),(n&130023424)===n&&(t=rg+500-Xe(),10<t)){if(yd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ph(Hs.bind(null,e,Ht,Ln),t);break}Hs(e,Ht,Ln);break;case 4:if(ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-zr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jT(n/1960))-n,10<n){e.timeoutHandle=ph(Hs.bind(null,e,Ht,Ln),n);break}Hs(e,Ht,Ln);break;case 5:Hs(e,Ht,Ln);break;default:throw Error(F(329))}}}return Gt(e,Xe()),e.callbackNode===r?O0.bind(null,e):null}function Mh(e,t){var r=Na;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&Ih(t)),e}function Ih(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function MT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Vr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ds(e,t){for(t&=~tg,t&=~du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zr(t),n=1<<r;e[r]=-1,t&=~n}}function lw(e){if(ve&6)throw Error(F(327));mo();var t=yd(e,0);if(!(t&1))return Gt(e,Xe()),null;var r=Nd(e,t);if(e.tag!==0&&r===2){var n=ih(e);n!==0&&(t=n,r=Mh(e,n))}if(r===1)throw r=nc,Zs(e,0),ds(e,t),Gt(e,Xe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,Ht,Ln),Gt(e,Xe()),null}function ng(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(To=Xe()+500,ou&&$s())}}function ai(e){ps!==null&&ps.tag===0&&!(ve&6)&&mo();var t=ve;ve|=1;var r=Sr.transition,n=xe;try{if(Sr.transition=null,xe=1,e)return e()}finally{xe=n,Sr.transition=r,ve=t,!(ve&6)&&$s()}}function sg(){tr=ao.current,Oe(ao)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lT(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(Am(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xd();break;case 3:Ro(),Oe(qt),Oe(Dt),Km();break;case 5:qm(n);break;case 4:Ro();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:Um(n.type._context);break;case 22:case 23:sg()}r=r.return}if(ht=e,nt=e=bs(e.current,null),St=tr=t,dt=0,nc=null,tg=du=oi=0,Ht=Na=null,Xs!==null){for(t=0;t<Xs.length;t++)if(r=Xs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xs=null}return e}function N0(e,t){do{var r=nt;try{if(Bm(),$l.current=jd,Ld){for(var n=Ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ld=!1}if(ii=0,pt=lt=Ue=null,Ia=!1,ec=0,eg.current=null,r===null||r.return===null){dt=1,nc=t,nt=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=St,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xy(o);if(p!==null){p.flags&=-257,Qy(p,o,a,i,t),p.mode&1&&Yy(i,l,t),t=p,c=l;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){Yy(i,l,t),ig();break e}c=Error(F(426))}}else if(Ae&&a.mode&1){var v=Xy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Qy(v,o,a,i,t),Fm(Eo(c,a));break e}}i=c=Eo(c,a),dt!==4&&(dt=2),Na===null?Na=[i]:Na.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=w0(i,c,t);Vy(i,y);break e;case 1:a=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ss===null||!Ss.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=S0(i,a,t);Vy(i,b);break e}}i=i.return}while(i!==null)}F0(r)}catch(C){t=C,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function $0(){var e=Md.current;return Md.current=jd,e===null?jd:e}function ig(){(dt===0||dt===3||dt===2)&&(dt=4),ht===null||!(oi&268435455)&&!(du&268435455)||ds(ht,St)}function Nd(e,t){var r=ve;ve|=2;var n=$0();(ht!==e||St!==t)&&(Ln=null,Zs(e,t));do try{IT();break}catch(s){N0(e,s)}while(!0);if(Bm(),ve=r,Md.current=n,nt!==null)throw Error(F(261));return ht=null,St=0,dt}function IT(){for(;nt!==null;)A0(nt)}function OT(){for(;nt!==null&&!oE();)A0(nt)}function A0(e){var t=B0(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?F0(e):nt=t,eg.current=null}function F0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PT(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,nt=null;return}}else if(r=TT(r,t,tr),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);dt===0&&(dt=5)}function Hs(e,t,r){var n=xe,s=Sr.transition;try{Sr.transition=null,xe=1,NT(e,t,r,n)}finally{Sr.transition=s,xe=n}return null}function NT(e,t,r,n){do mo();while(ps!==null);if(ve&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(gE(e,i),e===ht&&(nt=ht=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sl||(sl=!0,U0(vd,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=xe;xe=1;var a=ve;ve|=4,eg.current=null,DT(e,r),M0(r,e),rT(uh),wd=!!dh,uh=dh=null,e.current=r,LT(r),aE(),ve=a,xe=o,Sr.transition=i}else e.current=r;if(sl&&(sl=!1,ps=e,Od=s),i=e.pendingLanes,i===0&&(Ss=null),dE(r.stateNode),Gt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Id)throw Id=!1,e=Lh,Lh=null,e;return Od&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===jh?$a++:($a=0,jh=e):$a=0,$s(),null}function mo(){if(ps!==null){var e=wb(Od),t=Sr.transition,r=xe;try{if(Sr.transition=null,xe=16>e?16:e,ps===null)var n=!1;else{if(e=ps,ps=null,Od=0,ve&6)throw Error(F(331));var s=ve;for(ve|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(H=l;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Oa(8,d,i)}var u=d.child;if(u!==null)u.return=d,H=u;else for(;H!==null;){d=H;var f=d.sibling,p=d.return;if(D0(d),d===l){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,H=y;break e}H=i.return}}var _=e.current;for(H=_;H!==null;){o=H;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,H=S;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(C){Ge(a,a.return,C)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(ve=s,$s(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(tu,e)}catch{}n=!0}return n}finally{xe=r,Sr.transition=t}}return!1}function dw(e,t,r){t=Eo(r,t),t=w0(e,t,1),e=ws(e,t,1),t=At(),e!==null&&(gc(e,1,t),Gt(e,t))}function Ge(e,t,r){if(e.tag===3)dw(e,e,r);else for(;t!==null;){if(t.tag===3){dw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ss===null||!Ss.has(n))){e=Eo(r,e),e=S0(t,e,1),t=ws(t,e,1),e=At(),t!==null&&(gc(t,1,e),Gt(t,e));break}}t=t.return}}function $T(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(St&r)===r&&(dt===4||dt===3&&(St&130023424)===St&&500>Xe()-rg?Zs(e,0):tg|=r),Gt(e,t)}function z0(e,t){t===0&&(e.mode&1?(t=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):t=1);var r=At();e=zn(e,t),e!==null&&(gc(e,t,r),Gt(e,r))}function AT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),z0(e,r)}function FT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),z0(e,r)}var B0;B0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,ET(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Ae&&t.flags&1048576&&Wb(t,Ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var s=bo(t,Dt.current);ho(t,r),s=Ym(null,t,n,e,s,r);var i=Xm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,Cd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hm(t),s.updater=cu,t.stateNode=s,s._reactInternals=t,Sh(t,n,e,r),t=xh(null,t,n,!0,i,r)):(t.tag=0,Ae&&i&&$m(t),Ot(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=BT(n),e=Mr(n,e),s){case 0:t=bh(null,t,n,e,r);break e;case 1:t=ew(null,t,n,e,r);break e;case 11:t=Jy(null,t,n,e,r);break e;case 14:t=Zy(null,t,n,Mr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),bh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),ew(e,t,n,s,r);case 3:e:{if(C0(t),e===null)throw Error(F(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Qb(e,t),kd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Eo(Error(F(423)),t),t=tw(e,t,n,r,s);break e}else if(n!==s){s=Eo(Error(F(424)),t),t=tw(e,t,n,r,s);break e}else for(nr=ys(t.stateNode.containerInfo.firstChild),ir=t,Ae=!0,Nr=null,r=Yb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xo(),n===s){t=Bn(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return Jb(t),e===null&&vh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fh(n,s)?o=null:i!==null&&fh(n,i)&&(t.flags|=32),x0(e,t),Ot(e,t,o,r),t.child;case 6:return e===null&&vh(t),null;case 13:return R0(e,t,r);case 4:return Wm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Co(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Jy(e,t,n,s,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Me(Td,n._currentValue),n._currentValue=o,i!==null)if(Vr(i.value,o)){if(i.children===s.children&&!qt.current){t=Bn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=On(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),yh(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),yh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ho(t,r),s=br(s),n=n(s),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),Zy(e,t,n,s,r);case 15:return _0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Fl(e,t),t.tag=1,Kt(n)?(e=!0,Cd(t)):e=!1,ho(t,r),y0(t,n,s),Sh(t,n,s,r),xh(null,t,n,!0,e,r);case 19:return E0(e,t,r);case 22:return b0(e,t,r)}throw Error(F(156,t.tag))};function U0(e,t){return mb(e,t)}function zT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,r,n){return new zT(e,t,r,n)}function og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BT(e){if(typeof e=="function")return og(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rm)return 11;if(e===Em)return 14}return 2}function bs(e,t){var r=e.alternate;return r===null?(r=wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ul(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")og(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qi:return ei(r.children,s,i,t);case Cm:o=8,s|=8;break;case Hp:return e=wr(12,r,t,s|2),e.elementType=Hp,e.lanes=i,e;case Wp:return e=wr(13,r,t,s),e.elementType=Wp,e.lanes=i,e;case qp:return e=wr(19,r,t,s),e.elementType=qp,e.lanes=i,e;case J_:return uu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X_:o=10;break e;case Q_:o=9;break e;case Rm:o=11;break e;case Em:o=14;break e;case os:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=wr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ei(e,t,r,n){return e=wr(7,e,n,t),e.lanes=r,e}function uu(e,t,r,n){return e=wr(22,e,n,t),e.elementType=J_,e.lanes=r,e.stateNode={isHidden:!1},e}function sp(e,t,r){return e=wr(6,e,null,t),e.lanes=r,e}function ip(e,t,r){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ag(e,t,r,n,s,i,o,a,c){return e=new UT(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(i),e}function VT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V0(e){if(!e)return Ps;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Kt(r))return Vb(e,r,t)}return t}function H0(e,t,r,n,s,i,o,a,c){return e=ag(r,n,!0,e,s,i,o,a,c),e.context=V0(null),r=e.current,n=At(),s=_s(r),i=On(n,s),i.callback=t??null,ws(r,i,s),e.current.lanes=s,gc(e,s,n),Gt(e,n),e}function fu(e,t,r,n){var s=t.current,i=At(),o=_s(s);return r=V0(r),t.context===null?t.context=r:t.pendingContext=r,t=On(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ws(s,t,o),e!==null&&(Br(e,s,o,i),Nl(e,s,o)),o}function $d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cg(e,t){uw(e,t),(e=e.alternate)&&uw(e,t)}function HT(){return null}var W0=typeof reportError=="function"?reportError:function(e){console.error(e)};function lg(e){this._internalRoot=e}pu.prototype.render=lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));fu(e,t,null,null)};pu.prototype.unmount=lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){fu(null,e,null,null)}),t[Fn]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=bb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&Cb(e)}};function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fw(){}function WT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=$d(o);i.call(l)}}var o=H0(t,n,e,0,null,!1,!1,"",fw);return e._reactRootContainer=o,e[Fn]=o.current,Ya(e.nodeType===8?e.parentNode:e),ai(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var l=$d(c);a.call(l)}}var c=ag(e,0,!1,null,null,!1,!1,"",fw);return e._reactRootContainer=c,e[Fn]=c.current,Ya(e.nodeType===8?e.parentNode:e),ai(function(){fu(t,c,r,n)}),c}function mu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=$d(o);a.call(c)}}fu(t,o,e,s)}else o=WT(r,t,e,s,n);return $d(o)}Sb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ba(t.pendingLanes);r!==0&&(km(t,r|1),Gt(t,Xe()),!(ve&6)&&(To=Xe()+500,$s()))}break;case 13:ai(function(){var n=zn(e,1);if(n!==null){var s=At();Br(n,e,1,s)}}),cg(e,1)}};Dm=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=At();Br(t,e,134217728,r)}cg(e,134217728)}};_b=function(e){if(e.tag===13){var t=_s(e),r=zn(e,t);if(r!==null){var n=At();Br(r,e,t,n)}cg(e,t)}};bb=function(){return xe};xb=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};rh=function(e,t,r){switch(t){case"input":if(Yp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=iu(n);if(!s)throw Error(F(90));eb(n),Yp(n,s)}}}break;case"textarea":rb(e,r);break;case"select":t=r.value,t!=null&&lo(e,!!r.multiple,t,!1)}};lb=ng;db=ai;var qT={usingClientEntryPoint:!1,Events:[yc,to,iu,ab,cb,ng]},la={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pb(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{tu=il.inject(KT),mn=il}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT;dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dg(t))throw Error(F(200));return VT(e,t,null,r)};dr.createRoot=function(e,t){if(!dg(e))throw Error(F(299));var r=!1,n="",s=W0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ag(e,1,!1,null,null,r,!1,n,s),e[Fn]=t.current,Ya(e.nodeType===8?e.parentNode:e),new lg(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=pb(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return ai(e)};dr.hydrate=function(e,t,r){if(!hu(t))throw Error(F(200));return mu(null,e,t,!0,r)};dr.hydrateRoot=function(e,t,r){if(!dg(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=W0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=H0(t,null,e,1,r??null,s,!1,i,o),e[Fn]=t.current,Ya(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pu(t)};dr.render=function(e,t,r){if(!hu(t))throw Error(F(200));return mu(null,e,t,!1,r)};dr.unmountComponentAtNode=function(e){if(!hu(e))throw Error(F(40));return e._reactRootContainer?(ai(function(){mu(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};dr.unstable_batchedUpdates=ng;dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hu(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return mu(e,t,r,!1,n)};dr.version="18.3.1-next-f1338f8080-20240426";function q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q0)}catch(e){console.error(e)}}q0(),q_.exports=dr;var Sc=q_.exports;const Ca=gm(Sc);var K0,pw=Sc;K0=pw.createRoot,pw.hydrateRoot;var G0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=w;function GT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YT=typeof Object.is=="function"?Object.is:GT,XT=_c.useSyncExternalStore,QT=_c.useRef,JT=_c.useEffect,ZT=_c.useMemo,eP=_c.useDebugValue;Y0.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=QT(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ZT(function(){function c(p){if(!l){if(l=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return u=m}return u=p}if(m=u,YT(d,p))return m;var g=n(p);return s!==void 0&&s(m,g)?m:(d=p,u=g)}var l=!1,d,u,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var a=XT(e,i[0],i[1]);return JT(function(){o.hasValue=!0,o.value=a},[a]),eP(a),a};G0.exports=Y0;var tP=G0.exports,sr="default"in pd?rr:pd,hw=Symbol.for("react-redux-context"),mw=typeof globalThis<"u"?globalThis:{};function rP(){if(!sr.createContext)return{};const e=mw[hw]??(mw[hw]=new Map);let t=e.get(sr.createContext);return t||(t=sr.createContext(null),e.set(sr.createContext,t)),t}var ks=rP(),nP=()=>{throw new Error("uSES not initialized!")};function ug(e=ks){return function(){return sr.useContext(e)}}var X0=ug(),Q0=nP,sP=e=>{Q0=e},iP=(e,t)=>e===t;function oP(e=ks){const t=e===ks?X0:ug(e),r=(n,s={})=>{const{equalityFn:i=iP,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:c,getServerState:l,stabilityCheck:d,identityFunctionCheck:u}=t();sr.useRef(!0);const f=sr.useCallback({[n.name](m){return n(m)}}[n.name],[n,d,o.stabilityCheck]),p=Q0(c.addNestedSub,a.getState,l||a.getState,f,i);return sr.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var aP=oP();function cP(e){e()}function lP(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cP(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var gw={notify(){},get:()=>[]};function dP(e,t){let r,n=gw,s=0,i=!1;function o(g){d();const v=n.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),u())}}function a(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function l(){return i}function d(){s++,r||(r=e.subscribe(c),n=lP())}function u(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=gw)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,u())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return m}var uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fP=typeof navigator<"u"&&navigator.product==="ReactNative",pP=uP||fP?sr.useLayoutEffect:sr.useEffect;function hP({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=sr.useMemo(()=>{const l=dP(e);return{store:e,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,n,s,i]),a=sr.useMemo(()=>e.getState(),[e]);pP(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=t||ks;return sr.createElement(c.Provider,{value:o},r)}var mP=hP;function J0(e=ks){const t=e===ks?X0:ug(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var gP=J0();function vP(e=ks){const t=e===ks?gP:J0(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var yP=vP();sP(tP.useSyncExternalStoreWithSelector);var pn=function(){return pn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pn.apply(this,arguments)};function Z0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function wP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Vl="right-scroll-bar-position",Hl="width-before-scroll-bar",SP="with-scroll-bars-hidden",_P="--removed-body-scroll-bar-size";function op(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bP(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var xP=typeof window<"u"?w.useLayoutEffect:w.useEffect,vw=new WeakMap;function CP(e,t){var r=bP(null,function(n){return e.forEach(function(s){return op(s,n)})});return xP(function(){var n=vw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||op(a,null)}),i.forEach(function(a){s.has(a)||op(a,o)})}vw.set(r,e)},[e]),r}function RP(e){return e}function EP(e,t){t===void 0&&(t=RP);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(d){o.push(d),l()},filter:function(d){return o=o.filter(d),r}}}};return s}function TP(e){e===void 0&&(e={});var t=EP(null);return t.options=pn({async:!0,ssr:!1},e),t}var e1=function(e){var t=e.sideCar,r=Z0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,pn({},r))};e1.isSideCarExport=!0;function PP(e,t){return e.useMedium(t),e1}var t1=TP(),ap=function(){},gu=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:ap,onWheelCapture:ap,onTouchMoveCapture:ap}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,d=e.enabled,u=e.shards,f=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,_=e.gapMode,S=Z0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,C=CP([r,t]),x=pn(pn({},S),s);return w.createElement(w.Fragment,null,d&&w.createElement(b,{sideCar:t1,removeScrollBar:l,shards:u,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:_}),o?w.cloneElement(w.Children.only(a),pn(pn({},x),{ref:C})):w.createElement(y,pn({},x,{className:c,ref:C}),a))});gu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gu.classNames={fullWidth:Hl,zeroRight:Vl};var kP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kP();return t&&e.setAttribute("nonce",t),e}function LP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MP=function(){var e=0,t=null;return{add:function(r){e==0&&(t=DP())&&(LP(t,r),jP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IP=function(){var e=MP();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},r1=function(){var e=IP(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},OP={left:0,top:0,right:0,gap:0},cp=function(e){return parseInt(e||"",10)||0},NP=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[cp(r),cp(n),cp(s)]},$P=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OP;var t=NP(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},AP=r1(),go="data-scroll-locked",FP=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Hl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(go,`] {
    `).concat(_P,": ").concat(a,`px;
  }
`)},yw=function(){var e=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(e)?e:0},zP=function(){w.useEffect(function(){return document.body.setAttribute(go,(yw()+1).toString()),function(){var e=yw()-1;e<=0?document.body.removeAttribute(go):document.body.setAttribute(go,e.toString())}},[])},BP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;zP();var i=w.useMemo(function(){return $P(s)},[s]);return w.createElement(AP,{styles:FP(i,!t,s,r?"":"!important")})},Oh=!1;if(typeof window<"u")try{var ol=Object.defineProperty({},"passive",{get:function(){return Oh=!0,!0}});window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Oh=!1}var Ci=Oh?{passive:!1}:!1,UP=function(e){return e.tagName==="TEXTAREA"},n1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!UP(e)&&r[t]==="visible")},VP=function(e){return n1(e,"overflowY")},HP=function(e){return n1(e,"overflowX")},ww=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=s1(e,n);if(s){var i=i1(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},s1=function(e,t){return e==="v"?VP(t):HP(t)},i1=function(e,t){return e==="v"?WP(t):qP(t)},KP=function(e,t){return e==="h"&&t==="rtl"?-1:1},GP=function(e,t,r,n,s){var i=KP(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),l=!1,d=o>0,u=0,f=0;do{var p=i1(e,a),m=p[0],g=p[1],v=p[2],y=g-v-i*m;(m||y)&&s1(e,a)&&(u+=y,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(l=!0),l},al=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sw=function(e){return[e.deltaX,e.deltaY]},_w=function(e){return e&&"current"in e?e.current:e},YP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},XP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QP=0,Ri=[];function JP(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(QP++)[0],i=w.useState(r1)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=wP([e.lockRef.current],(e.shards||[]).map(_w),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=w.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=al(g),_=r.current,S="deltaX"in g?g.deltaX:_[0]-y[0],b="deltaY"in g?g.deltaY:_[1]-y[1],C,x=g.target,E=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in g&&E==="h"&&x.type==="range")return!1;var R=ww(E,x);if(!R)return!0;if(R?C=E:(C=E==="v"?"h":"v",R=ww(E,x)),!R)return!1;if(!n.current&&"changedTouches"in g&&(S||b)&&(n.current=C),!C)return!0;var P=n.current||C;return GP(P,v,g,P==="h"?S:b,!0)},[]),c=w.useCallback(function(g){var v=g;if(!(!Ri.length||Ri[Ri.length-1]!==i)){var y="deltaY"in v?Sw(v):al(v),_=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&YP(C.delta,y)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(_w).filter(Boolean).filter(function(C){return C.contains(v.target)}),b=S.length>0?a(v,S[0]):!o.current.noIsolation;b&&v.cancelable&&v.preventDefault()}}},[]),l=w.useCallback(function(g,v,y,_){var S={name:g,delta:v,target:y,should:_,shadowParent:ZP(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(b){return b!==S})},1)},[]),d=w.useCallback(function(g){r.current=al(g),n.current=void 0},[]),u=w.useCallback(function(g){l(g.type,Sw(g),g.target,a(g,e.lockRef.current))},[]),f=w.useCallback(function(g){l(g.type,al(g),g.target,a(g,e.lockRef.current))},[]);w.useEffect(function(){return Ri.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ci),document.addEventListener("touchmove",c,Ci),document.addEventListener("touchstart",d,Ci),function(){Ri=Ri.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ci),document.removeEventListener("touchmove",c,Ci),document.removeEventListener("touchstart",d,Ci)}},[]);var p=e.removeScrollBar,m=e.inert;return w.createElement(w.Fragment,null,m?w.createElement(i,{styles:XP(s)}):null,p?w.createElement(BP,{gapMode:e.gapMode}):null)}function ZP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ek=PP(t1,JP);var o1=w.forwardRef(function(e,t){return w.createElement(gu,pn({},e,{ref:t,sideCar:ek}))});o1.classNames=gu.classNames;function Yt(e){return Object.keys(e)}function lp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function fg(e,t){const r={...e},n=t;return lp(e)&&lp(t)&&Object.keys(t).forEach(s=>{lp(n[s])&&s in e?r[s]=fg(r[s],n[s]):r[s]=n[s]}),r}function tk(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function rk(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function sc(e){const t=rk(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function dp(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function a1(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const s=`${n/16}${e}`;return t?dp(s):s}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(i=>r(i)).join(",");if(n.includes(" "))return n.split(" ").map(i=>r(i)).join(" ");if(n.includes(e))return t?dp(n):n;const s=n.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?dp(i):i}}return n}return r}const D=a1("rem",{shouldScale:!0}),bw=a1("em");function No(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function c1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function $o(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==w.Fragment:!1}function Kr(e){const t=w.createContext(null);return[({children:s,value:i})=>h.jsx(t.Provider,{value:i,children:s}),()=>{const s=w.useContext(t);if(s===null)throw new Error(e);return s}]}function nk(e=null){const t=w.createContext(e);return[({children:s,value:i})=>h.jsx(t.Provider,{value:i,children:s}),()=>w.useContext(t)]}function xw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function Ad(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function sk(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function ik(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function ok(e,t,r){return Ad(e,r)===Ad(t,r)}function l1({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:s=!1,dir:i="rtl",orientation:o}){return a=>{var m;r==null||r(a);const c=Array.from(((m=Ad(a.currentTarget,e))==null?void 0:m.querySelectorAll(t))||[]).filter(g=>ok(a.currentTarget,g,e)),l=c.findIndex(g=>a.currentTarget===g),d=ik(l,c,n),u=sk(l,c,n),f=i==="rtl"?u:d,p=i==="rtl"?d:u;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[f].focus(),s&&c[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),s&&c[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[u].focus(),s&&c[u].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[d].focus(),s&&c[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=c.length-1;!c[g].disabled&&c[g].focus();break}}}}const ak={app:100,modal:200,popover:300,overlay:400,max:9999};function As(e){return ak[e]}const ck=()=>{};function lk(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ck:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Ve(e,t="size",r=!0){if(e!==void 0)return c1(e)?r?D(e):e:`var(--${t}-${e})`}function Nt(e){return Ve(e,"mantine-spacing")}function Qt(e){return e===void 0?"var(--mantine-radius-default)":Ve(e,"mantine-radius")}function _r(e){return Ve(e,"mantine-font-size")}function dk(e){return Ve(e,"mantine-line-height",!1)}function pg(e){if(e)return Ve(e,"mantine-shadow",!1)}function hn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function uk(e,t){return e in t?sc(t[e]):sc(e)}function fk(e,t){const r=e.map(n=>({value:n,px:uk(n,t)}));return r.sort((n,s)=>n.px-s.px),r}function vo(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function pk(e,t,r){var n;return r?Array.from(((n=Ad(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(s=>s===r):null}function hk(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Aa(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function hg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Gs(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function vu(e,t){const r=Gs(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback((...s)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...s),t)},[r,t])}const Cw=["mousedown","touchstart"];function mk(e,t,r){const n=w.useRef();return w.useEffect(()=>{const s=i=>{const{target:o}=i??{};if(Array.isArray(r)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(l=>!!l&&!i.composedPath().includes(l))&&!a&&e()}else n.current&&!n.current.contains(o)&&e()};return(t||Cw).forEach(i=>document.addEventListener(i,s)),()=>{(t||Cw).forEach(i=>document.removeEventListener(i,s))}},[n,e,r]),n}function gk(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function vk(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function yk(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,s]=w.useState(r?t:vk(e)),i=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),s(i.current.matches),gk(i.current,o=>s(o.matches))},[e]),n}const bc=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Un(e,t){const r=w.useRef(!1);w.useEffect(()=>()=>{r.current=!1},[]),w.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function d1({opened:e,shouldReturnFocus:t=!0}){const r=w.useRef(),n=()=>{var s;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((s=r.current)==null||s.focus({preventScroll:!0}))};return Un(()=>{let s=-1;const i=o=>{o.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?r.current=document.activeElement:t&&(s=window.setTimeout(n,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),n}function wk(e,t="body > :not(script)"){const r=hg(),n=Array.from(document.querySelectorAll(t)).map(s=>{var c;if((c=s==null?void 0:s.shadowRoot)!=null&&c.contains(e)||s.contains(e))return;const i=s.getAttribute("aria-hidden"),o=s.getAttribute("data-hidden"),a=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",r),i===null||i==="false"?s.setAttribute("aria-hidden","true"):!o&&!a&&s.setAttribute("data-hidden",i),{node:s,ariaHidden:o||null}});return()=>{n.forEach(s=>{!s||r!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const Sk=/input|select|textarea|button|object/,u1="a, input, select, textarea, button, object, [tabindex]";function _k(e){return e.style.display==="none"}function bk(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(_k(r))return!1;r=r.parentNode}return!0}function f1(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Nh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(f1(e));return(Sk.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&bk(e)}function p1(e){const t=f1(e);return(Number.isNaN(t)||t>=0)&&Nh(e)}function xk(e){return Array.from(e.querySelectorAll(u1)).filter(p1)}function Ck(e,t){const r=xk(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let i=n===s.activeElement||e===s.activeElement;const o=s.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(i=r.filter(d=>d.getAttribute("type")==="radio"&&d.getAttribute("name")===o.getAttribute("name")).includes(n)),!i)return;t.preventDefault();const c=r[t.shiftKey?r.length-1:0];c&&c.focus()}function Rk(e=!0){const t=w.useRef(),r=w.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(u1));o=a.find(p1)||a.find(Nh)||null,!o&&Nh(i)&&(o=i)}o&&o.focus({preventScroll:!0})},s=w.useCallback(i=>{if(e){if(i===null){r.current&&(r.current(),r.current=null);return}r.current=wk(i),t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)}},[e]);return w.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&Ck(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current()}},[e]),s}const Ek=e=>(e+1)%1e6;function Tk(){const[,e]=w.useReducer(Ek,0);return e}const Pk=rr.useId||(()=>{});function kk(){const e=Pk();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ao(e){const t=kk(),[r,n]=w.useState(t);return bc(()=>{n(hg())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function Dk(e,t,r){w.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function h1(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function m1(...e){return t=>{e.forEach(r=>h1(r,t))}}function Ut(...e){return w.useCallback(m1(...e),e)}function Lk(e,t,r="ltr"){const n=w.useRef(null),s=w.useRef(!1),i=w.useRef(!1),o=w.useRef(0),[a,c]=w.useState(!1);return w.useEffect(()=>{s.current=!0},[]),w.useEffect(()=>{var _,S;const l=({x:b,y:C})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(s.current&&n.current){n.current.style.userSelect="none";const x=n.current.getBoundingClientRect();if(x.width&&x.height){const E=Aa((b-x.left)/x.width,0,1);e({x:r==="ltr"?E:1-E,y:Aa((C-x.top)/x.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",y),document.addEventListener("touchend",p)},u=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",p)},f=()=>{!i.current&&s.current&&(i.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),d())},p=()=>{i.current&&s.current&&(i.current=!1,c(!1),u(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=b=>{f(),b.preventDefault(),g(b)},g=b=>l({x:b.clientX,y:b.clientY}),v=b=>{b.cancelable&&b.preventDefault(),f(),y(b)},y=b=>{b.cancelable&&b.preventDefault(),l({x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY})};return(_=n.current)==null||_.addEventListener("mousedown",m),(S=n.current)==null||S.addEventListener("touchstart",v,{passive:!1}),()=>{n.current&&(n.current.removeEventListener("mousedown",m),n.current.removeEventListener("touchstart",v))}},[r,e]),{ref:n,active:a}}function Ds({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[s,i]=w.useState(t!==void 0?t:r),o=(a,...c)=>{i(a),n==null||n(a,...c)};return e!==void 0?[e,n,!0]:[s,o,!1]}function yu(e,t){return yk("(prefers-reduced-motion: reduce)",e,t)}function Ls(e=!1,t){const{onOpen:r,onClose:n}={},[s,i]=w.useState(e),o=w.useCallback(()=>{i(l=>l||(r==null||r(),!0))},[r]),a=w.useCallback(()=>{i(l=>l&&(n==null||n(),!1))},[n]),c=w.useCallback(()=>{s?a():o()},[a,o,s]);return[s,{open:o,close:a,toggle:c}]}function jk(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}var Mk={};function Ik(){return typeof process<"u"&&Mk?"production":"development"}function g1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=g1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=g1(e))&&(n&&(n+=" "),n+=t);return n}const Ok={};function Nk(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,s])=>{t[n]?t[n]=Ft(t[n],s):t[n]=s})}),t}function wu({theme:e,classNames:t,props:r,stylesCtx:n}){const i=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,r,n):o||Ok);return Nk(i)}function Fd({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((i,o)=>typeof o=="function"?{...i,...o(e,r,n)}:{...i,...o},{})}const v1=w.createContext(null);function pi(){const e=w.useContext(v1);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function $k(){return pi().cssVariablesResolver}function Ak(){return pi().classNamesPrefix}function mg(){return pi().getStyleNonce}function Fk(){return pi().withStaticClasses}function zk(){return pi().headless}function Bk(){var e;return(e=pi().stylesTransform)==null?void 0:e.sx}function Uk(){var e;return(e=pi().stylesTransform)==null?void 0:e.styles}function Vk(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function Hk(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const r=parseInt(t,16),n=r>>16&255,s=r>>8&255,i=r&255;return{r:n,g:s,b:i,a:1}}function Wk(e){const[t,r,n,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:s||1}}function qk(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),s=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*i-1))*s,c=n/60,l=a*(1-Math.abs(c%2-1)),d=i-a/2;let u,f,p;return c>=0&&c<1?(u=a,f=l,p=0):c>=1&&c<2?(u=l,f=a,p=0):c>=2&&c<3?(u=0,f=a,p=l):c>=3&&c<4?(u=0,f=l,p=a):c>=4&&c<5?(u=l,f=0,p=a):(u=a,f=0,p=l),{r:Math.round((u+d)*255),g:Math.round((f+d)*255),b:Math.round((p+d)*255),a:o||1}}function gg(e){return Vk(e)?Hk(e):e.startsWith("rgb")?Wk(e):e.startsWith("hsl")?qk(e):{r:0,g:0,b:0,a:1}}function cl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:s,a:i}=gg(e),o=1-t,a=c=>Math.round(c*o);return`rgba(${a(r)}, ${a(n)}, ${a(s)}, ${i})`}function ic(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function up(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function Kk(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function Gk(e){if(e.startsWith("oklch("))return(Kk(e)||0)/100;const{r:t,g:r,b:n}=gg(e),s=t/255,i=r/255,o=n/255,a=up(s),c=up(i),l=up(o);return .2126*a+.7152*c+.0722*l}function da(e,t=.179){return e.startsWith("var(")?!1:Gk(e)>t}function Fo({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:da(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:da(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:da(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,s]=e.split("."),i=s?Number(s):void 0,o=n in t.colors;if(o){const a=i!==void 0?t.colors[n][i]:t.colors[n][ic(t,r||"light")];return{color:n,value:a,shade:i,isThemeColor:o,isLight:da(a,t.luminanceThreshold),variable:s?`--mantine-color-${n}-${i}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:da(e,t.luminanceThreshold),shade:i,variable:void 0}}function Sn(e,t){const r=Fo({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function $h(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},n=Sn(r.from,t),s=Sn(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${s} 100%)`}function un(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:s}=gg(e);return`rgba(${r}, ${n}, ${s}, ${t})`}const Ei=un,Yk=({color:e,theme:t,variant:r,gradient:n,autoContrast:s})=>{const i=Fo({color:e,theme:t}),o=typeof s=="boolean"?s:t.autoContrast;if(r==="filled"){const a=o&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${D(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${D(1)} solid transparent`}:{background:e,hover:cl(e,.1),color:a,border:`${D(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:un(a,.1),hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}}return{background:un(e,.1),hover:un(e,.12),color:e,border:`${D(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${D(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:un(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${D(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:un(e,.05),color:e,border:`${D(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}}return{background:"transparent",hover:un(e,.12),color:e,border:`${D(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${D(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:cl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${D(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:cl(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${D(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:cl(t.white,.01),color:e,border:`${D(1)} solid transparent`}:r==="gradient"?{background:$h(n,t),hover:$h(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${D(1)} solid var(--mantine-color-default-border)`}:{}},Xk={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Rw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",vg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Xk,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Yk,autoContrast:!1,luminanceThreshold:.3,fontFamily:Rw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Rw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:D(34),lineHeight:"1.3"},h2:{fontSize:D(26),lineHeight:"1.35"},h3:{fontSize:D(22),lineHeight:"1.4"},h4:{fontSize:D(18),lineHeight:"1.45"},h5:{fontSize:D(16),lineHeight:"1.5"},h6:{fontSize:D(14),lineHeight:"1.5"}}},fontSizes:{xs:D(12),sm:D(14),md:D(16),lg:D(18),xl:D(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:D(2),sm:D(4),md:D(8),lg:D(16),xl:D(32)},spacing:{xs:D(10),sm:D(12),md:D(16),lg:D(20),xl:D(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), 0 ${D(1)} ${D(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(10)} ${D(15)} ${D(-5)}, rgba(0, 0, 0, 0.04) 0 ${D(7)} ${D(7)} ${D(-5)}`,md:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(20)} ${D(25)} ${D(-5)}, rgba(0, 0, 0, 0.04) 0 ${D(10)} ${D(10)} ${D(-5)}`,lg:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(28)} ${D(23)} ${D(-7)}, rgba(0, 0, 0, 0.04) 0 ${D(12)} ${D(12)} ${D(-7)}`,xl:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(36)} ${D(28)} ${D(-7)}, rgba(0, 0, 0, 0.04) 0 ${D(17)} ${D(17)} ${D(-7)}`},other:{},components:{}};function Ew(e){return e==="auto"||e==="dark"||e==="light"}function Qk({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return Ew(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&Ew(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Jk="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Tw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function fp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Pw(e){if(!(e.primaryColor in e.colors))throw new Error(Jk);if(typeof e.primaryShade=="object"&&(!fp(e.primaryShade.dark)||!fp(e.primaryShade.light)))throw new Error(Tw);if(typeof e.primaryShade=="number"&&!fp(e.primaryShade))throw new Error(Tw)}function Zk(e,t){var n;if(!t)return Pw(e),e;const r=fg(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Pw(r),r}const yg=w.createContext(null),eD=()=>w.useContext(yg)||vg;function Jt(){const e=w.useContext(yg);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function y1({theme:e,children:t,inherit:r=!0}){const n=eD(),s=w.useMemo(()=>Zk(r?n:vg,e),[e,n,r]);return h.jsx(yg.Provider,{value:s,children:t})}y1.displayName="@mantine/core/MantineThemeProvider";function tD(){const e=Jt(),t=mg(),r=Yt(e.breakpoints).reduce((n,s)=>{const i=e.breakpoints[s].includes("px"),o=sc(e.breakpoints[s]),a=i?`${o-.1}px`:bw(o-.1),c=i?`${o}px`:bw(o);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return h.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function pp(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function ua(e,t){return(Array.isArray(e)?e:[e]).reduce((n,s)=>`${s}{${n}}`,t)}function rD(e,t){const r=pp(e.variables),n=r?ua(t,r):"",s=pp(e.dark),i=pp(e.light),o=s?ua(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",a=i?ua(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${n}${o}${a}`}function w1({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Fo({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function kw(e,t){return w1({color:e.colors[e.primaryColor][ic(e,t)],theme:e,autoContrast:null})}function ll({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const a=ic(e,"light"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:Ei(e.colors[t][a],.1),[`--mantine-color-${n}-light-hover`]:Ei(e.colors[t][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:Ei(e.colors[t][a],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}const i=ic(e,"dark"),o={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${i})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${i===9?8:i+1})`,[`--mantine-color-${n}-light`]:Ei(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${n}-light-hover`]:Ei(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(i-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(i-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Ei(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...o}:o}function nD(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ti(e,t,r){Yt(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const S1=e=>{const t=ic(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:D(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":kw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":kw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ti(n.variables,e.breakpoints,"breakpoint"),Ti(n.variables,e.spacing,"spacing"),Ti(n.variables,e.fontSizes,"font-size"),Ti(n.variables,e.lineHeights,"line-height"),Ti(n.variables,e.shadows,"shadow"),Ti(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,o)=>{n.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Yt(e.colors).forEach(i=>{const o=e.colors[i];if(nD(o)){Object.assign(n.light,ll({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,ll({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,c)=>{n.variables[`--mantine-color-${i}-${c}`]=a}),Object.assign(n.light,ll({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,ll({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return Yt(s).forEach(i=>{n.variables[`--mantine-${i}-font-size`]=s[i].fontSize,n.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,n.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),n};function sD({theme:e,generator:t}){const r=S1(e),n=t==null?void 0:t(e);return n?fg(r,n):r}const hp=S1(vg);function iD(e){const t={variables:{},light:{},dark:{}};return Yt(e.variables).forEach(r=>{hp.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Yt(e.light).forEach(r=>{hp.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Yt(e.dark).forEach(r=>{hp.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function oD(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function _1({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=Jt(),n=mg(),s=$k(),i=sD({theme:r,generator:s}),o=e===":root"&&t,a=o?iD(i):i,c=rD(a,e);return c?h.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${c}${o?"":oD(e)}`}}):null}_1.displayName="@mantine/CssVariables";function aD(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Pi(e,t){var n;const r=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=t())==null||n.setAttribute("data-mantine-color-scheme",r)}function cD({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const s=w.useRef(),[i,o]=w.useState(()=>e.get(t)),a=n||i,c=w.useCallback(d=>{n||(Pi(d,r),o(d),e.set(d))},[e.set,a,n]),l=w.useCallback(()=>{o(t),Pi(t,r),e.clear()},[e.clear,t]);return w.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),bc(()=>{Pi(e.get(t),r)},[]),w.useEffect(()=>{var u;if(n)return Pi(n,r),()=>{};n===void 0&&Pi(i,r),s.current=window.matchMedia("(prefers-color-scheme: dark)");const d=f=>{i==="auto"&&Pi(f.matches?"dark":"light",r)};return(u=s.current)==null||u.addEventListener("change",d),()=>{var f;return(f=s.current)==null?void 0:f.removeEventListener("change",d)}},[i,n]),{colorScheme:a,setColorScheme:c,clearColorScheme:l}}function lD({respectReducedMotion:e,getRootElement:t}){bc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}aD();function b1({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:l=Qk(),defaultColorScheme:d="light",getRootElement:u=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:p,stylesTransform:m}){const{colorScheme:g,setColorScheme:v,clearColorScheme:y}=cD({defaultColorScheme:d,forceColorScheme:p,manager:l,getRootElement:u});return lD({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:u}),h.jsx(v1.Provider,{value:{colorScheme:g,setColorScheme:v,clearColorScheme:y,getRootElement:u,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:n,stylesTransform:m},children:h.jsxs(y1,{theme:e,children:[o&&h.jsx(_1,{cssVariablesSelector:a,deduplicateCssVariables:i}),s&&h.jsx(tD,{}),t]})})}b1.displayName="@mantine/core/MantineProvider";function x1({classNames:e,styles:t,props:r,stylesCtx:n}){const s=Jt();return{resolvedClassNames:wu({theme:s,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:Fd({theme:s,styles:t,props:r,stylesCtx:n||void 0})}}const dD={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function uD({theme:e,options:t,unstyled:r}){return Ft((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||dD[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function fD({selector:e,stylesCtx:t,options:r,props:n,theme:s}){return wu({theme:s,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function Dw({selector:e,stylesCtx:t,theme:r,classNames:n,props:s}){return wu({theme:r,classNames:n,props:s,stylesCtx:t})[e]}function pD({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function hD({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function mD({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function gD({themeName:e,theme:t,selector:r,props:n,stylesCtx:s}){return e.map(i=>{var o,a;return(a=wu({theme:t,classNames:(o=t.components[i])==null?void 0:o.classNames,props:n,stylesCtx:s}))==null?void 0:a[r]})}function vD({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function yD({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:s,classNames:i,classes:o,unstyled:a,className:c,rootSelector:l,props:d,stylesCtx:u,withStaticClasses:f,headless:p,transformedStyles:m}){return Ft(uD({theme:e,options:t,unstyled:a||p}),gD({theme:e,themeName:r,selector:n,props:d,stylesCtx:u}),vD({options:t,classes:o,selector:n,unstyled:a}),Dw({selector:n,stylesCtx:u,theme:e,classNames:i,props:d}),Dw({selector:n,stylesCtx:u,theme:e,classNames:m,props:d}),fD({selector:n,stylesCtx:u,options:t,props:d,theme:e}),pD({rootSelector:l,selector:n,className:c}),hD({selector:n,classes:o,unstyled:a||p}),f&&!p&&mD({themeName:r,classNamesPrefix:s,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function wD({theme:e,themeName:t,props:r,stylesCtx:n,selector:s}){return t.map(i=>{var o;return Fd({theme:e,styles:(o=e.components[i])==null?void 0:o.styles,props:r,stylesCtx:n})[s]}).reduce((i,o)=>({...i,...o}),{})}function Ah({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Ah({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function SD(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...No(r[n])}}),t),{})}function _D({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:s,selector:i,themeName:o,headless:a}){var c;return(c=SD([a?{}:t==null?void 0:t(r,n,s),...o.map(l=>{var d,u,f;return(f=(u=(d=r.components)==null?void 0:d[l])==null?void 0:u.vars)==null?void 0:f.call(u,r,n,s)}),e==null?void 0:e(r,n,s)]))==null?void 0:c[i]}function bD({theme:e,themeName:t,selector:r,options:n,props:s,stylesCtx:i,rootSelector:o,styles:a,style:c,vars:l,varsResolver:d,headless:u,withStylesTransform:f}){return{...!f&&wD({theme:e,themeName:t,props:s,stylesCtx:i,selector:r}),...!f&&Fd({theme:e,styles:a,props:s,stylesCtx:i})[r],...!f&&Fd({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||s,stylesCtx:i})[r],..._D({theme:e,props:s,stylesCtx:i,vars:l,varsResolver:d,selector:r,themeName:t,headless:u}),...o===r?Ah({style:c,theme:e}):null,...Ah({style:n==null?void 0:n.style,theme:e})}}function xD({props:e,stylesCtx:t,themeName:r}){var o;const n=Jt(),s=(o=Uk())==null?void 0:o();return{getTransformedStyles:a=>s?[...a.map(l=>s(l,{props:e,theme:n,ctx:t})),...r.map(l=>{var d;return s((d=n.components[l])==null?void 0:d.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function ie({name:e,classes:t,props:r,stylesCtx:n,className:s,style:i,rootSelector:o="root",unstyled:a,classNames:c,styles:l,vars:d,varsResolver:u}){const f=Jt(),p=Ak(),m=Fk(),g=zk(),v=(Array.isArray(e)?e:[e]).filter(S=>S),{withStylesTransform:y,getTransformedStyles:_}=xD({props:r,stylesCtx:n,themeName:v});return(S,b)=>({className:yD({theme:f,options:b,themeName:v,selector:S,classNamesPrefix:p,classNames:c,classes:t,unstyled:a,className:s,rootSelector:o,props:r,stylesCtx:n,withStaticClasses:m,headless:g,transformedStyles:_([b==null?void 0:b.styles,l])}),style:bD({theme:f,themeName:v,selector:S,options:b,props:r,stylesCtx:n,rootSelector:o,styles:l,style:i,vars:d,varsResolver:u,headless:g,withStylesTransform:y})})}function CD(e,t){return typeof e=="boolean"?e:t.autoContrast}function z(e,t,r){var o;const n=Jt(),s=(o=n.components[e])==null?void 0:o.defaultProps,i=typeof s=="function"?s(n):s;return{...t,...i,...No(r)}}function mp(e){return Yt(e).reduce((t,r)=>e[r]!==void 0?`${t}${tk(r)}:${e[r]};`:t,"").trim()}function RD({selector:e,styles:t,media:r,container:n}){const s=t?mp(t):"",i=Array.isArray(r)?r.map(a=>`@media${a.query}{${e}{${mp(a.styles)}}}`):[],o=Array.isArray(n)?n.map(a=>`@container ${a.query}{${e}{${mp(a.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${o.join("")}`.trim()}function Su(e){const t=mg();return h.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:RD(e)}})}function wg(e){const{m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:d,px:u,py:f,pt:p,pb:m,pl:g,pr:v,pe:y,ps:_,bd:S,bg:b,c:C,opacity:x,ff:E,fz:R,fw:P,lts:L,ta:$,lh:B,fs:q,tt:A,td:W,w:I,miw:V,maw:T,h:j,mih:O,mah:M,bgsz:U,bgp:J,bgr:me,bga:Ee,pos:Te,top:de,left:mt,bottom:fr,right:pr,inset:Xr,display:Ze,flex:et,hiddenFrom:je,visibleFrom:at,lightHidden:Lr,darkHidden:qe,sx:Ct,...ze}=e;return{styleProps:No({m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:d,px:u,py:f,pt:p,pb:m,pl:g,pr:v,pe:y,ps:_,bd:S,bg:b,c:C,opacity:x,ff:E,fz:R,fw:P,lts:L,ta:$,lh:B,fs:q,tt:A,td:W,w:I,miw:V,maw:T,h:j,mih:O,mah:M,bgsz:U,bgp:J,bgr:me,bga:Ee,pos:Te,top:de,left:mt,bottom:fr,right:pr,inset:Xr,display:Ze,flex:et,hiddenFrom:je,visibleFrom:at,lightHidden:Lr,darkHidden:qe,sx:Ct}),rest:ze}}const ED={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Sg(e,t){const r=Fo({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function TD(e,t){const r=Fo({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:Sg(e,t)}function PD(e,t){if(typeof e=="number")return D(e);if(typeof e=="string"){const[r,n,...s]=e.split(" ").filter(o=>o.trim()!=="");let i=`${D(r)}`;return n&&(i+=` ${n}`),s.length>0&&(i+=` ${Sg(s.join(" "),t)}`),i.trim()}return e}const Lw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function kD(e){return typeof e=="string"&&e in Lw?Lw[e]:e}const DD=["h1","h2","h3","h4","h5","h6"];function LD(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&DD.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?D(e):e}function jD(e){return e}const MD=["h1","h2","h3","h4","h5","h6"];function ID(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&MD.includes(e)?`var(--mantine-${e}-line-height)`:e}function OD(e){return typeof e=="number"?D(e):e}function ND(e,t){if(typeof e=="number")return D(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return D(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const gp={color:Sg,textColor:TD,fontSize:LD,spacing:ND,identity:jD,size:OD,lineHeight:ID,fontFamily:kD,border:PD};function jw(e){return e.replace("(min-width: ","").replace("em)","")}function $D({media:e,...t}){const n=Object.keys(e).sort((s,i)=>Number(jw(s))-Number(jw(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:n}}function AD(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function FD(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function zD(e){return typeof e=="object"&&e!==null?Yt(e).filter(t=>t!=="base"):[]}function BD(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function C1({styleProps:e,data:t,theme:r}){return $D(Yt(e).reduce((n,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return n;const i=t[s],o=Array.isArray(i.property)?i.property:[i.property],a=FD(e[s]);if(!AD(e[s]))return o.forEach(l=>{n.inlineStyles[l]=gp[i.type](a,r)}),n;n.hasResponsiveStyles=!0;const c=zD(e[s]);return o.forEach(l=>{a&&(n.styles[l]=gp[i.type](a,r)),c.forEach(d=>{const u=`(min-width: ${r.breakpoints[d]})`;n.media[u]={...n.media[u],[l]:gp[i.type](BD(e[s],d),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function _g(){return`__m__-${w.useId().replace(/:/g,"")}`}function R1(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...R1(n,t)}),{}):typeof e=="function"?e(t):e??{}}function E1(e){return e.startsWith("data-")?e:`data-${e}`}function UD(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[E1(r)]=e[r]),t},{})}function T1(e){return e?typeof e=="string"?{[E1(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...T1(r)}),{}):UD(e):null}function Fh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Fh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function VD({theme:e,style:t,vars:r,styleProps:n}){const s=Fh(t,e),i=Fh(r,e);return{...s,...i,...n}}const P1=w.forwardRef(({component:e,style:t,__vars:r,className:n,variant:s,mod:i,size:o,hiddenFrom:a,visibleFrom:c,lightHidden:l,darkHidden:d,renderRoot:u,__size:f,...p},m)=>{var R;const g=Jt(),v=e||"div",{styleProps:y,rest:_}=wg(p),S=Bk(),b=(R=S==null?void 0:S())==null?void 0:R(y.sx),C=_g(),x=C1({styleProps:y,theme:g,data:ED}),E={ref:m,style:VD({theme:g,style:t,vars:r,styleProps:x.inlineStyles}),className:Ft(n,b,{[C]:x.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":d,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":s,"data-size":c1(o)?void 0:o||void 0,size:f,...T1(i),..._};return h.jsxs(h.Fragment,{children:[x.hasResponsiveStyles&&h.jsx(Su,{selector:`.${C}`,styles:x.styles,media:x.media}),typeof u=="function"?u(E):h.jsx(v,{...E})]})});P1.displayName="@mantine/core/Box";const N=P1;function k1(e){return e}function K(e){const t=w.forwardRef(e);return t.extend=k1,t.withProps=r=>{const n=w.forwardRef((s,i)=>h.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Lt(e){const t=w.forwardRef(e);return t.withProps=r=>{const n=w.forwardRef((s,i)=>h.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=k1,t}const HD=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function hi(){return w.useContext(HD)}function WD(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function vp(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const fa=typeof window<"u"&&window.requestAnimationFrame;function qD({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const s=w.useRef(null),i=0,o={display:"none",height:0,overflow:"hidden"},[a,c]=w.useState(n?{}:o),l=m=>{Sc.flushSync(()=>c(m))},d=m=>{l(g=>({...g,...m}))};function u(m){const g=e||WD(m);return{transition:`height ${g}ms ${t}, opacity ${g}ms ${t}`}}Un(()=>{typeof fa=="function"&&fa(n?()=>{d({willChange:"height",display:"block",overflow:"hidden"}),fa(()=>{const m=vp(s);d({...u(m),height:m})})}:()=>{const m=vp(s);d({...u(m),willChange:"height",height:m}),fa(()=>d({height:i,overflow:"hidden"}))})},[n]);const f=m=>{if(!(m.target!==s.current||m.propertyName!=="height"))if(n){const g=vp(s);g===a.height?l({}):d({height:g}),r()}else a.height===i&&(l(o),r())};function p({style:m={},refKey:g="ref",...v}={}){const y=v[g];return{"aria-hidden":!n,...v,[g]:m1(s,y),onTransitionEnd:f,style:{boxSizing:"border-box",...m,...a}}}return p}const KD={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},_u=K((e,t)=>{const{children:r,in:n,transitionDuration:s,transitionTimingFunction:i,style:o,onTransitionEnd:a,animateOpacity:c,...l}=z("Collapse",KD,e),d=Jt(),u=yu(),p=(d.respectReducedMotion?u:!1)?0:s,m=qD({opened:n,transitionDuration:p,transitionTimingFunction:i,onTransitionEnd:a});return p===0?n?h.jsx(N,{...l,children:r}):null:h.jsx(N,{...m({style:{opacity:n||!c?1:0,transition:c?`opacity ${p}ms ${i}`:"none",...R1(o,d)},ref:t,...l}),children:r})});_u.displayName="@mantine/core/Collapse";const[GD,Tr]=Kr("ScrollArea.Root component was not found in tree");function Po(e,t){const r=Gs(t);bc(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const YD=w.forwardRef((e,t)=>{const{style:r,...n}=e,s=Tr(),[i,o]=w.useState(0),[a,c]=w.useState(0),l=!!(i&&a);return Po(s.scrollbarX,()=>{var u;const d=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Po(s.scrollbarY,()=>{var u;const d=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),l?h.jsx("div",{...n,ref:t,style:{...r,width:i,height:a}}):null}),XD=w.forwardRef((e,t)=>{const r=Tr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?h.jsx(YD,{...e,ref:t}):null}),QD={scrollHideDelay:1e3,type:"hover"},D1=w.forwardRef((e,t)=>{const r=z("ScrollAreaRoot",QD,e),{type:n,scrollHideDelay:s,scrollbars:i,...o}=r,[a,c]=w.useState(null),[l,d]=w.useState(null),[u,f]=w.useState(null),[p,m]=w.useState(null),[g,v]=w.useState(null),[y,_]=w.useState(0),[S,b]=w.useState(0),[C,x]=w.useState(!1),[E,R]=w.useState(!1),P=Ut(t,L=>c(L));return h.jsx(GD,{value:{type:n,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:d,content:u,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:x,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:b},children:h.jsx(N,{...o,ref:P,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${y}px`,"--sa-corner-height":i!=="xy"?"0px":`${S}px`}})})});D1.displayName="@mantine/core/ScrollAreaRoot";function L1(e,t){const r=e/t;return Number.isNaN(r)?0:r}function bu(e){const t=L1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function j1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function JD(e,[t,r]){return Math.min(r,Math.max(t,e))}function Mw(e,t,r="ltr"){const n=bu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,c=r==="ltr"?[0,o]:[o*-1,0],l=JD(e,c);return j1([0,o],[0,a])(l)}function ZD(e,t,r,n="ltr"){const s=bu(r),i=s/2,o=t||i,a=s-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,u=n==="ltr"?[0,d]:[d*-1,0];return j1([c,l],u)(e)}function M1(e,t){return e>0&&e<t}function zd(e){return e?parseInt(e,10):0}function ti(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[eL,I1]=Kr("ScrollAreaScrollbar was not found in tree"),O1=w.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:l,onResize:d,...u}=e,f=Tr(),[p,m]=w.useState(null),g=Ut(t,R=>m(R)),v=w.useRef(null),y=w.useRef(""),{viewport:_}=f,S=r.content-r.viewport,b=Gs(l),C=Gs(a),x=vu(d,10),E=R=>{if(v.current){const P=R.clientX-v.current.left,L=R.clientY-v.current.top;c({x:P,y:L})}};return w.useEffect(()=>{const R=P=>{const L=P.target;(p==null?void 0:p.contains(L))&&b(P,S)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,p,S,b]),w.useEffect(C,[r,C]),Po(p,x),Po(f.content,x),h.jsx(eL,{value:{scrollbar:p,hasThumb:n,onThumbChange:Gs(s),onThumbPointerUp:Gs(i),onThumbPositionChange:C,onThumbPointerDown:Gs(o)},children:h.jsx("div",{...u,ref:g,"data-mantine-scrollbar":!0,style:{position:"absolute",...u.style},onPointerDown:ti(e.onPointerDown,R=>{R.preventDefault(),R.button===0&&(R.target.setPointerCapture(R.pointerId),v.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(R))}),onPointerMove:ti(e.onPointerMove,E),onPointerUp:ti(e.onPointerUp,R=>{R.preventDefault();const P=R.target;P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,v.current=null})})})}),N1=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Tr(),[a,c]=w.useState(),l=w.useRef(null),d=Ut(t,l,o.onScrollbarXChange);return w.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),h.jsx(O1,{"data-orientation":"horizontal",...i,ref:d,sizes:r,style:{...s,"--sa-thumb-width":`${bu(r)}px`},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),M1(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:zd(a.paddingLeft),paddingEnd:zd(a.paddingRight)}})}})});N1.displayName="@mantine/core/ScrollAreaScrollbarX";const $1=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Tr(),[a,c]=w.useState(),l=w.useRef(null),d=Ut(t,l,o.onScrollbarYChange);return w.useEffect(()=>{l.current&&c(window.getComputedStyle(l.current))},[]),h.jsx(O1,{...i,"data-orientation":"vertical",ref:d,sizes:r,style:{"--sa-thumb-height":`${bu(r)}px`,...s},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),M1(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:zd(a.paddingTop),paddingEnd:zd(a.paddingBottom)}})}})});$1.displayName="@mantine/core/ScrollAreaScrollbarY";const xu=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:s}=hi(),i=Tr(),o=w.useRef(null),a=w.useRef(0),[c,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=L1(c.viewport,c.content),u={...n,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:p=>{o.current=p},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:p=>{a.current=p}},f=(p,m)=>ZD(p,a.current,c,m);return r==="horizontal"?h.jsx(N1,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=Mw(p,c,s);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,s))}}):r==="vertical"?h.jsx($1,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=Mw(p,c);c.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null});xu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const bg=w.forwardRef((e,t)=>{const r=Tr(),{forceMount:n,...s}=e,[i,o]=w.useState(!1),a=e.orientation==="horizontal",c=vu(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?l:d)}},10);return Po(r.viewport,c),Po(r.content,c),n||i?h.jsx(xu,{"data-state":i?"visible":"hidden",...s,ref:t}):null});bg.displayName="@mantine/core/ScrollAreaScrollbarAuto";const A1=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tr(),[i,o]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:a}=s;let c=0;if(a){const l=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),r||i?h.jsx(bg,{"data-state":i?"visible":"hidden",...n,ref:t}):null});A1.displayName="@mantine/core/ScrollAreaScrollbarHover";const tL=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tr(),i=e.orientation==="horizontal",[o,a]=w.useState("hidden"),c=vu(()=>a("idle"),100);return w.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay]),w.useEffect(()=>{const{viewport:l}=s,d=i?"scrollLeft":"scrollTop";if(l){let u=l[d];const f=()=>{const p=l[d];u!==p&&(a("scrolling"),c()),u=p};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,c]),r||o!=="hidden"?h.jsx(xu,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ti(e.onPointerEnter,()=>a("interacting")),onPointerLeave:ti(e.onPointerLeave,()=>a("idle"))}):null}),zh=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tr(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return w.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?h.jsx(A1,{...n,ref:t,forceMount:r}):s.type==="scroll"?h.jsx(tL,{...n,ref:t,forceMount:r}):s.type==="auto"?h.jsx(bg,{...n,ref:t,forceMount:r}):s.type==="always"?h.jsx(xu,{...n,ref:t}):null});zh.displayName="@mantine/core/ScrollAreaScrollbar";function rL(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)}const F1=w.forwardRef((e,t)=>{const{style:r,...n}=e,s=Tr(),i=I1(),{onThumbPositionChange:o}=i,a=Ut(t,d=>i.onThumbChange(d)),c=w.useRef(),l=vu(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:d}=s;if(d){const u=()=>{if(l(),!c.current){const f=rL(d,o);c.current=f,o()}};return o(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[s.viewport,l,o]),h.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:ti(e.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,m=d.clientY-f.top;i.onThumbPointerDown({x:p,y:m})}),onPointerUp:ti(e.onPointerUp,i.onThumbPointerUp)})});F1.displayName="@mantine/core/ScrollAreaThumb";const Bh=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=I1();return r||s.hasThumb?h.jsx(F1,{ref:t,...n}):null});Bh.displayName="@mantine/core/ScrollAreaThumb";const z1=w.forwardRef(({children:e,style:t,...r},n)=>{const s=Tr(),i=Ut(n,s.onViewportChange);return h.jsx(N,{...r,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:h.jsx("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange,children:e})})});z1.displayName="@mantine/core/ScrollAreaViewport";var xg={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const B1={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},nL=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":D(t)}}),Gn=K((e,t)=>{const r=z("ScrollArea",B1,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,scrollbarSize:c,vars:l,type:d,scrollHideDelay:u,viewportProps:f,viewportRef:p,onScrollPositionChange:m,children:g,offsetScrollbars:v,scrollbars:y,onBottomReached:_,onTopReached:S,...b}=r,[C,x]=w.useState(!1),E=ie({name:"ScrollArea",props:r,classes:xg,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:nL});return h.jsxs(D1,{type:d==="never"?"always":d,scrollHideDelay:u,ref:t,scrollbars:y,...E("root"),...b,children:[h.jsx(z1,{...f,...E("viewport",{style:f==null?void 0:f.style}),ref:p,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":y||void 0,onScroll:R=>{var B;(B=f==null?void 0:f.onScroll)==null||B.call(f,R),m==null||m({x:R.currentTarget.scrollLeft,y:R.currentTarget.scrollTop});const{scrollTop:P,scrollHeight:L,clientHeight:$}=R.currentTarget;P-(L-$)>=0&&(_==null||_()),P===0&&(S==null||S())},children:g}),(y==="xy"||y==="x")&&h.jsx(zh,{...E("scrollbar"),orientation:"horizontal","data-hidden":d==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:h.jsx(Bh,{...E("thumb")})}),(y==="xy"||y==="y")&&h.jsx(zh,{...E("scrollbar"),orientation:"vertical","data-hidden":d==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:h.jsx(Bh,{...E("thumb")})}),h.jsx(XD,{...E("corner"),"data-hovered":C||void 0,"data-hidden":d==="never"||void 0})]})});Gn.displayName="@mantine/core/ScrollArea";const Cg=K((e,t)=>{const{children:r,classNames:n,styles:s,scrollbarSize:i,scrollHideDelay:o,type:a,dir:c,offsetScrollbars:l,viewportRef:d,onScrollPositionChange:u,unstyled:f,variant:p,viewportProps:m,scrollbars:g,style:v,vars:y,onBottomReached:_,onTopReached:S,...b}=z("ScrollAreaAutosize",B1,e);return h.jsx(N,{...b,ref:t,style:[{display:"flex",overflow:"auto"},v],children:h.jsx(N,{style:{display:"flex",flexDirection:"column",flex:1},children:h.jsx(Gn,{classNames:n,styles:s,scrollHideDelay:o,scrollbarSize:i,type:a,dir:c,offsetScrollbars:l,viewportRef:d,onScrollPositionChange:u,unstyled:f,variant:p,viewportProps:m,vars:y,scrollbars:g,onBottomReached:_,onTopReached:S,children:r})})})});Gn.classes=xg;Cg.displayName="@mantine/core/ScrollAreaAutosize";Cg.classes=xg;Gn.Autosize=Cg;var U1={root:"m_87cf2631"};const sL={__staticSelector:"UnstyledButton"},Fs=Lt((e,t)=>{const r=z("UnstyledButton",sL,e),{className:n,component:s="button",__staticSelector:i,unstyled:o,classNames:a,styles:c,style:l,...d}=r,u=ie({name:i,props:r,classes:U1,className:n,style:l,classNames:a,styles:c,unstyled:o});return h.jsx(N,{...u("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...d})});Fs.classes=U1;Fs.displayName="@mantine/core/UnstyledButton";var V1={root:"m_515a97f8"};const iL={},Rg=K((e,t)=>{const r=z("VisuallyHidden",iL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,...l}=r,d=ie({name:"VisuallyHidden",classes:V1,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a});return h.jsx(N,{component:"span",ref:t,...d("root"),...l})});Rg.classes=V1;Rg.displayName="@mantine/core/VisuallyHidden";var H1={root:"m_1b7284a3"};const oL={},aL=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Qt(t),"--paper-shadow":pg(r)}}),Cu=Lt((e,t)=>{const r=z("Paper",oL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,withBorder:c,vars:l,radius:d,shadow:u,variant:f,mod:p,...m}=r,g=ie({name:"Paper",props:r,classes:H1,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:aL});return h.jsx(N,{ref:t,mod:[{"data-with-border":c},p],...g("root"),variant:f,...m})});Cu.classes=H1;Cu.displayName="@mantine/core/Paper";function Ru(){return typeof window<"u"}function zo(e){return W1(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xn(e){var t;return(t=(W1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W1(e){return Ru()?e instanceof Node||e instanceof or(e).Node:!1}function $t(e){return Ru()?e instanceof Element||e instanceof or(e).Element:!1}function _n(e){return Ru()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function Iw(e){return!Ru()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}function xc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function cL(e){return["table","td","th"].includes(zo(e))}function Eu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Eg(e){const t=Tg(),r=$t(e)?Hr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lL(e){let t=js(e);for(;_n(t)&&!ko(t);){if(Eg(t))return t;if(Eu(t))return null;t=js(t)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ko(e){return["html","body","#document"].includes(zo(e))}function Hr(e){return or(e).getComputedStyle(e)}function Tu(e){return $t(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function js(e){if(zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Iw(e)&&e.host||xn(e);return Iw(t)?t.host:t}function q1(e){const t=js(e);return ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:_n(t)&&xc(t)?t:q1(t)}function oc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=q1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=or(s);if(i){const a=Uh(o);return t.concat(o,o.visualViewport||[],xc(s)?s:[],a&&r?oc(a):[])}return t.concat(s,oc(s,[],r))}function Uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Wr=Math.min,Pt=Math.max,Bd=Math.round,dl=Math.floor,vn=e=>({x:e,y:e}),dL={left:"right",right:"left",bottom:"top",top:"bottom"},uL={start:"end",end:"start"};function Vh(e,t,r){return Pt(e,Wr(t,r))}function Vn(e,t){return typeof e=="function"?e(t):e}function qr(e){return e.split("-")[0]}function Bo(e){return e.split("-")[1]}function Pg(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}function Hn(e){return["top","bottom"].includes(qr(e))?"y":"x"}function Dg(e){return Pg(Hn(e))}function fL(e,t,r){r===void 0&&(r=!1);const n=Bo(e),s=Dg(e),i=kg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ud(o)),[o,Ud(o)]}function pL(e){const t=Ud(e);return[Hh(e),t,Hh(t)]}function Hh(e){return e.replace(/start|end/g,t=>uL[t])}function hL(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function mL(e,t,r,n){const s=Bo(e);let i=hL(qr(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Hh)))),i}function Ud(e){return e.replace(/left|right|bottom|top/g,t=>dL[t])}function gL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lg(e){return typeof e!="number"?gL(e):{top:e,right:e,bottom:e,left:e}}function Do(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ow(e,t,r){let{reference:n,floating:s}=e;const i=Hn(t),o=Dg(t),a=kg(o),c=qr(t),l=i==="y",d=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-s.width,y:u};break;default:p={x:n.x,y:n.y}}switch(Bo(t)){case"start":p[o]-=f*(r&&l?-1:1);break;case"end":p[o]+=f*(r&&l?-1:1);break}return p}const vL=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=Ow(l,n,c),f=n,p={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:_,y:S,data:b,reset:C}=await y({x:d,y:u,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});d=_??d,u=S??u,p={...p,[v]:{...p[v],...b}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:u}=Ow(l,f,c)),g=-1)}return{x:d,y:u,placement:f,strategy:s,middlewareData:p}};async function jg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=Vn(t,e),m=Lg(p),v=a[f?u==="floating"?"reference":"floating":u],y=Do(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),_=u==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Do(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:c}):_);return{top:(y.top-C.top+m.top)/b.y,bottom:(C.bottom-y.bottom+m.bottom)/b.y,left:(y.left-C.left+m.left)/b.x,right:(C.right-y.right+m.right)/b.x}}const yL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:d=0}=Vn(e,t)||{};if(l==null)return{};const u=Lg(d),f={x:r,y:n},p=Dg(s),m=kg(p),g=await o.getDimensions(l),v=p==="y",y=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",b=i.reference[m]+i.reference[p]-f[p]-i.floating[m],C=f[p]-i.reference[p],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=x?x[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(x)))&&(E=a.floating[S]||i.floating[m]);const R=b/2-C/2,P=E/2-g[m]/2-1,L=Wr(u[y],P),$=Wr(u[_],P),B=L,q=E-g[m]-$,A=E/2-g[m]/2+R,W=Vh(B,A,q),I=!c.arrow&&Bo(s)!=null&&A!==W&&i.reference[m]/2-(A<B?L:$)-g[m]/2<0,V=I?A<B?A-B:A-q:0;return{[p]:f[p]+V,data:{[p]:W,centerOffset:A-W-V,...I&&{alignmentOffset:V}},reset:I}}}),wL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Vn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=qr(s),_=Hn(a),S=qr(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=f||(S||!g?[Ud(a)]:pL(a)),x=m!=="none";!f&&x&&C.push(...mL(a,g,m,b));const E=[a,...C],R=await jg(t,v),P=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(R[y]),u){const A=fL(s,o,b);P.push(R[A[0]],R[A[1]])}if(L=[...L,{placement:s,overflows:P}],!P.every(A=>A<=0)){var $,B;const A=((($=i.flip)==null?void 0:$.index)||0)+1,W=E[A];if(W)return{data:{index:A,overflows:L},reset:{placement:W}};let I=(B=L.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:B.placement;if(!I)switch(p){case"bestFit":{var q;const V=(q=L.filter(T=>{if(x){const j=Hn(T.placement);return j===_||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,O)=>j+O,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:q[0];V&&(I=V);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function K1(e){const t=Wr(...e.map(i=>i.left)),r=Wr(...e.map(i=>i.top)),n=Pt(...e.map(i=>i.right)),s=Pt(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:s-r}}function SL(e){const t=e.slice().sort((s,i)=>s.y-i.y),r=[];let n=null;for(let s=0;s<t.length;s++){const i=t[s];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(s=>Do(K1(s)))}const _L=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:c,y:l}=Vn(e,t),d=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),u=SL(d),f=Do(K1(d)),p=Lg(a);function m(){if(u.length===2&&u[0].left>u[1].right&&c!=null&&l!=null)return u.find(v=>c>v.left-p.left&&c<v.right+p.right&&l>v.top-p.top&&l<v.bottom+p.bottom)||f;if(u.length>=2){if(Hn(r)==="y"){const L=u[0],$=u[u.length-1],B=qr(r)==="top",q=L.top,A=$.bottom,W=B?L.left:$.left,I=B?L.right:$.right,V=I-W,T=A-q;return{top:q,bottom:A,left:W,right:I,width:V,height:T,x:W,y:q}}const v=qr(r)==="left",y=Pt(...u.map(L=>L.right)),_=Wr(...u.map(L=>L.left)),S=u.filter(L=>v?L.left===_:L.right===y),b=S[0].top,C=S[S.length-1].bottom,x=_,E=y,R=E-x,P=C-b;return{top:b,bottom:C,left:x,right:E,width:R,height:P,x,y:b}}return f}const g=await i.getElementRects({reference:{getBoundingClientRect:m},floating:n.floating,strategy:o});return s.reference.x!==g.reference.x||s.reference.y!==g.reference.y||s.reference.width!==g.reference.width||s.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function bL(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=qr(r),a=Bo(r),c=Hn(r)==="y",l=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,u=Vn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),c?{x:p*d,y:f*l}:{x:f*l,y:p*d}}const xL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await bL(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},CL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...c}=Vn(e,t),l={x:r,y:n},d=await jg(t,c),u=Hn(qr(s)),f=Pg(u);let p=l[f],m=l[u];if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=p+d[v],S=p-d[y];p=Vh(_,p,S)}if(o){const v=u==="y"?"top":"left",y=u==="y"?"bottom":"right",_=m+d[v],S=m-d[y];m=Vh(_,m,S)}const g=a.fn({...t,[f]:p,[u]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[u]:o}}}}}},RL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Vn(e,t),d={x:r,y:n},u=Hn(s),f=Pg(u);let p=d[f],m=d[u];const g=Vn(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=f==="y"?"height":"width",b=i.reference[f]-i.floating[S]+v.mainAxis,C=i.reference[f]+i.reference[S]-v.mainAxis;p<b?p=b:p>C&&(p=C)}if(l){var y,_;const S=f==="y"?"width":"height",b=["top","left"].includes(qr(s)),C=i.reference[u]-i.floating[S]+(b&&((y=o.offset)==null?void 0:y[u])||0)+(b?0:v.crossAxis),x=i.reference[u]+i.reference[S]+(b?0:((_=o.offset)==null?void 0:_[u])||0)-(b?v.crossAxis:0);m<C?m=C:m>x&&(m=x)}return{[f]:p,[u]:m}}}},EL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...l}=Vn(e,t),d=await jg(t,l),u=qr(s),f=Bo(s),p=Hn(s)==="y",{width:m,height:g}=i.floating;let v,y;u==="top"||u==="bottom"?(v=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=u,v=f==="end"?"top":"bottom");const _=g-d.top-d.bottom,S=m-d.left-d.right,b=Wr(g-d[v],_),C=Wr(m-d[y],S),x=!t.middlewareData.shift;let E=b,R=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=_),x&&!f){const L=Pt(d.left,0),$=Pt(d.right,0),B=Pt(d.top,0),q=Pt(d.bottom,0);p?R=m-2*(L!==0||$!==0?L+$:Pt(d.left,d.right)):E=g-2*(B!==0||q!==0?B+q:Pt(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:E});const P=await o.getDimensions(a.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function G1(e){const t=Hr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=_n(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Bd(r)!==i||Bd(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Mg(e){return $t(e)?e:e.contextElement}function yo(e){const t=Mg(e);if(!_n(t))return vn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=G1(t);let o=(i?Bd(r.width):r.width)/n,a=(i?Bd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TL=vn(0);function Y1(e){const t=or(e);return!Tg()||!t.visualViewport?TL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==or(e)?!1:t}function ci(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Mg(e);let o=vn(1);t&&(n?$t(n)&&(o=yo(n)):o=yo(e));const a=PL(i,r,n)?Y1(i):vn(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const f=or(i),p=n&&$t(n)?or(n):n;let m=f,g=Uh(m);for(;g&&n&&p!==m;){const v=yo(g),y=g.getBoundingClientRect(),_=Hr(g),S=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,b=y.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,l*=v.y,d*=v.x,u*=v.y,c+=S,l+=b,m=or(g),g=Uh(m)}}return Do({width:d,height:u,x:c,y:l})}function Ig(e,t){const r=Tu(e).scrollLeft;return t?t.left+r:ci(xn(e)).left+r}function X1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Ig(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function kL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=xn(n),a=t?Eu(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},l=vn(1);const d=vn(0),u=_n(n);if((u||!u&&!i)&&((zo(n)!=="body"||xc(o))&&(c=Tu(n)),_n(n))){const p=ci(n);l=yo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=o&&!u&&!i?X1(o,c,!0):vn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+d.x+f.x,y:r.y*l.y-c.scrollTop*l.y+d.y+f.y}}function DL(e){return Array.from(e.getClientRects())}function LL(e){const t=xn(e),r=Tu(e),n=e.ownerDocument.body,s=Pt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Pt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ig(e);const a=-r.scrollTop;return Hr(n).direction==="rtl"&&(o+=Pt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function jL(e,t){const r=or(e),n=xn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Tg();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function ML(e,t){const r=ci(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=_n(e)?yo(e):vn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:o,height:a,x:c,y:l}}function Nw(e,t,r){let n;if(t==="viewport")n=jL(e,r);else if(t==="document")n=LL(xn(e));else if($t(t))n=ML(t,r);else{const s=Y1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Do(n)}function Q1(e,t){const r=js(e);return r===t||!$t(r)||ko(r)?!1:Hr(r).position==="fixed"||Q1(r,t)}function IL(e,t){const r=t.get(e);if(r)return r;let n=oc(e,[],!1).filter(a=>$t(a)&&zo(a)!=="body"),s=null;const i=Hr(e).position==="fixed";let o=i?js(e):e;for(;$t(o)&&!ko(o);){const a=Hr(o),c=Eg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xc(o)&&!c&&Q1(e,o))?n=n.filter(d=>d!==o):s=a,o=js(o)}return t.set(e,n),n}function OL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Eu(t)?[]:IL(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((l,d)=>{const u=Nw(t,d,s);return l.top=Pt(u.top,l.top),l.right=Wr(u.right,l.right),l.bottom=Wr(u.bottom,l.bottom),l.left=Pt(u.left,l.left),l},Nw(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NL(e){const{width:t,height:r}=G1(e);return{width:t,height:r}}function $L(e,t,r){const n=_n(t),s=xn(t),i=r==="fixed",o=ci(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=vn(0);if(n||!n&&!i)if((zo(t)!=="body"||xc(s))&&(a=Tu(t)),n){const f=ci(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=Ig(s));const l=s&&!n&&!i?X1(s,a):vn(0),d=o.left+a.scrollLeft-c.x-l.x,u=o.top+a.scrollTop-c.y-l.y;return{x:d,y:u,width:o.width,height:o.height}}function yp(e){return Hr(e).position==="static"}function $w(e,t){if(!_n(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xn(e)===r&&(r=r.ownerDocument.body),r}function J1(e,t){const r=or(e);if(Eu(e))return r;if(!_n(e)){let s=js(e);for(;s&&!ko(s);){if($t(s)&&!yp(s))return s;s=js(s)}return r}let n=$w(e,t);for(;n&&cL(n)&&yp(n);)n=$w(n,t);return n&&ko(n)&&yp(n)&&!Eg(n)?r:n||lL(e)||r}const AL=async function(e){const t=this.getOffsetParent||J1,r=this.getDimensions,n=await r(e.floating);return{reference:$L(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FL(e){return Hr(e).direction==="rtl"}const zL={convertOffsetParentRelativeRectToViewportRelativeRect:kL,getDocumentElement:xn,getClippingRect:OL,getOffsetParent:J1,getElementRects:AL,getClientRects:DL,getDimensions:NL,getScale:yo,isElement:$t,isRTL:FL};function BL(e,t){let r=null,n;const s=xn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:d,width:u,height:f}=e.getBoundingClientRect();if(a||t(),!u||!f)return;const p=dl(d),m=dl(s.clientWidth-(l+u)),g=dl(s.clientHeight-(d+f)),v=dl(l),_={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Pt(0,Wr(1,c))||1};let S=!0;function b(C){const x=C[0].intersectionRatio;if(x!==c){if(!S)return o();x?o(!1,x):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(b,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,_)}r.observe(e)}return o(!0),i}function UL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=Mg(e),d=s||i?[...l?oc(l):[],...oc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const u=l&&a?BL(l,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[_]=y;_&&_.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),l&&!c&&p.observe(l),p.observe(t));let m,g=c?ci(e):null;c&&v();function v(){const y=ci(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,m=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(_=>{s&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),u==null||u(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const VL=xL,HL=CL,WL=wL,qL=EL,Aw=yL,KL=_L,GL=RL,YL=(e,t,r)=>{const n=new Map,s={platform:zL,...r},i={...s.platform,_c:n};return vL(e,t,{...s,platform:i})};var Wl=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Vd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vd(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Vd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Z1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fw(e,t){const r=Z1(e);return Math.round(t*r)/r}function wp(e){const t=w.useRef(e);return Wl(()=>{t.current=e}),t}function XL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[d,u]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=w.useState(n);Vd(f,n)||p(n);const[m,g]=w.useState(null),[v,y]=w.useState(null),_=w.useCallback(T=>{T!==x.current&&(x.current=T,g(T))},[]),S=w.useCallback(T=>{T!==E.current&&(E.current=T,y(T))},[]),b=i||m,C=o||v,x=w.useRef(null),E=w.useRef(null),R=w.useRef(d),P=c!=null,L=wp(c),$=wp(s),B=wp(l),q=w.useCallback(()=>{if(!x.current||!E.current)return;const T={placement:t,strategy:r,middleware:f};$.current&&(T.platform=$.current),YL(x.current,E.current,T).then(j=>{const O={...j,isPositioned:B.current!==!1};A.current&&!Vd(R.current,O)&&(R.current=O,Sc.flushSync(()=>{u(O)}))})},[f,t,r,$,B]);Wl(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[l]);const A=w.useRef(!1);Wl(()=>(A.current=!0,()=>{A.current=!1}),[]),Wl(()=>{if(b&&(x.current=b),C&&(E.current=C),b&&C){if(L.current)return L.current(b,C,q);q()}},[b,C,q,L,P]);const W=w.useMemo(()=>({reference:x,floating:E,setReference:_,setFloating:S}),[_,S]),I=w.useMemo(()=>({reference:b,floating:C}),[b,C]),V=w.useMemo(()=>{const T={position:r,left:0,top:0};if(!I.floating)return T;const j=Fw(I.floating,d.x),O=Fw(I.floating,d.y);return a?{...T,transform:"translate("+j+"px, "+O+"px)",...Z1(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:O}},[r,a,I.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:q,refs:W,elements:I,floatingStyles:V}),[d,q,W,I,V])}const QL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Aw({element:n.current,padding:s}).fn(r):{}:n?Aw({element:n,padding:s}).fn(r):{}}}},JL=(e,t)=>({...VL(e),options:[e,t]}),ZL=(e,t)=>({...HL(e),options:[e,t]}),zw=(e,t)=>({...GL(e),options:[e,t]}),Bw=(e,t)=>({...WL(e),options:[e,t]}),e2=(e,t)=>({...qL(e),options:[e,t]}),Uw=(e,t)=>({...KL(e),options:[e,t]}),t2=(e,t)=>({...QL(e),options:[e,t]}),ex={...pd},r2=ex.useInsertionEffect,n2=r2||(e=>e());function s2(e){const t=w.useRef(()=>{});return n2(()=>{t.current=e}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var Wh=typeof document<"u"?w.useLayoutEffect:w.useEffect;let Vw=!1,i2=0;const Hw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+i2++;function o2(){const[e,t]=w.useState(()=>Vw?Hw():void 0);return Wh(()=>{e==null&&t(Hw())},[]),w.useEffect(()=>{Vw=!0},[]),e}const a2=ex.useId,c2=a2||o2;function l2(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const d2=w.createContext(null),u2=w.createContext(null),f2=()=>{var e;return((e=w.useContext(d2))==null?void 0:e.id)||null},p2=()=>w.useContext(u2);function h2(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=c2(),i=w.useRef({}),[o]=w.useState(()=>l2()),a=f2()!=null,[c,l]=w.useState(n.reference),d=s2((p,m,g)=>{i.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:g,nested:a}),r==null||r(p,m,g)}),u=w.useMemo(()=>({setPositionReference:l}),[]),f=w.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return w.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:f,events:o,floatingId:s,refs:u}),[t,d,f,o,s,u])}function m2(e){e===void 0&&(e={});const{nodeId:t}=e,r=h2({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,o]=w.useState(null),[a,c]=w.useState(null),d=(s==null?void 0:s.domReference)||i,u=w.useRef(null),f=p2();Wh(()=>{d&&(u.current=d)},[d]);const p=XL({...e,elements:{...s,...a&&{reference:a}}}),m=w.useCallback(S=>{const b=$t(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;c(b),p.refs.setReference(b)},[p.refs]),g=w.useCallback(S=>{($t(S)||S===null)&&(u.current=S,o(S)),($t(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!$t(S))&&p.refs.setReference(S)},[p.refs]),v=w.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:u}),[p.refs,g,m]),y=w.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),_=w.useMemo(()=>({...p,...n,refs:v,elements:y,nodeId:t}),[p,v,y,t,n]);return Wh(()=>{n.dataRef.current.floatingContext=_;const S=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);S&&(S.context=_)}),w.useMemo(()=>({...p,context:_,refs:v,elements:y}),[p,v,y,_])}function g2(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),s=r==="right"?"left":"right";return n===void 0?s:`${s}-${n}`}return t}function Ww(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function qw(e,t,r,n,s){return e==="center"||n==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const v2={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function y2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,arrowX:i,arrowY:o,dir:a}){const[c,l="center"]=e.split("-"),d={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[v2[c]]:n},u=-t/2;return c==="left"?{...d,...Ww(l,o,r,s),right:u,borderLeftColor:"transparent",borderBottomColor:"transparent"}:c==="right"?{...d,...Ww(l,o,r,s),left:u,borderRightColor:"transparent",borderTopColor:"transparent"}:c==="top"?{...d,...qw(l,i,r,s,a),bottom:u,borderTopColor:"transparent",borderLeftColor:"transparent"}:c==="bottom"?{...d,...qw(l,i,r,s,a),top:u,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const tx=w.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,visible:i,arrowX:o,arrowY:a,style:c,...l},d)=>{const{dir:u}=hi();return i?h.jsx("div",{...l,ref:d,style:{...c,...y2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,dir:u,arrowX:o,arrowY:a})}}):null});tx.displayName="@mantine/core/FloatingArrow";const[w2,rx]=Kr("Popover component was not found in the tree");function Pu({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const s=Rk(t),i=Ut(s,n);return $o(e)?w.cloneElement(e,{[r]:i}):e}function nx(e){return h.jsx(Rg,{tabIndex:-1,"data-autofocus":!0,...e})}Pu.displayName="@mantine/core/FocusTrap";nx.displayName="@mantine/core/FocusTrapInitialFocus";Pu.InitialFocus=nx;function S2(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const _2={},sx=w.forwardRef((e,t)=>{const{children:r,target:n,...s}=z("Portal",_2,e),[i,o]=w.useState(!1),a=w.useRef(null);return bc(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:S2(s),h1(t,a.current),!n&&a.current&&document.body.appendChild(a.current),()=>{!n&&a.current&&document.body.removeChild(a.current)}),[n]),!i||!a.current?null:Sc.createPortal(h.jsx(h.Fragment,{children:r}),a.current)});sx.displayName="@mantine/core/Portal";function ku({withinPortal:e=!0,children:t,...r}){return e?h.jsx(sx,{...r,children:t}):h.jsx(h.Fragment,{children:t})}ku.displayName="@mantine/core/OptionalPortal";const pa=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${D(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),ul={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${D(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${D(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${D(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${D(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${D(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...pa("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...pa("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...pa("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...pa("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...pa("top"),common:{transformOrigin:"top right"}}},Kw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function b2({transition:e,state:t,duration:r,timingFunction:n}){const s={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in ul?{transitionProperty:ul[e].transitionProperty,...s,...ul[e].common,...ul[e][Kw[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[Kw[t]]}}function x2({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:s,onExit:i,onEntered:o,onExited:a,enterDelay:c,exitDelay:l}){const d=Jt(),u=yu(),f=d.respectReducedMotion?u:!1,[p,m]=w.useState(f?0:e),[g,v]=w.useState(n?"entered":"exited"),y=w.useRef(-1),_=w.useRef(-1),S=w.useRef(-1),b=x=>{const E=x?s:i,R=x?o:a;window.clearTimeout(y.current);const P=f?0:x?e:t;m(P),P===0?(typeof E=="function"&&E(),typeof R=="function"&&R(),v(x?"entered":"exited")):S.current=requestAnimationFrame(()=>{Ca.flushSync(()=>{v(x?"pre-entering":"pre-exiting")}),S.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),v(x?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof R=="function"&&R(),v(x?"entered":"exited")},P)})})},C=x=>{if(window.clearTimeout(_.current),typeof(x?c:l)!="number"){b(x);return}_.current=window.setTimeout(()=>{b(x)},x?c:l)};return Un(()=>{C(n)},[n]),w.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(S.current)},[]),{transitionDuration:p,transitionStatus:g,transitionTimingFunction:r||"ease"}}function mi({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:s,children:i,timingFunction:o="ease",onExit:a,onEntered:c,onEnter:l,onExited:d,enterDelay:u,exitDelay:f}){const{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=x2({mounted:s,exitDuration:n,duration:r,timingFunction:o,onExit:a,onEntered:c,onEnter:l,onExited:d,enterDelay:u,exitDelay:f});return p===0?s?h.jsx(h.Fragment,{children:i({})}):e?i({display:"none"}):null:m==="exited"?e?i({display:"none"}):null:h.jsx(h.Fragment,{children:i(b2({transition:t,duration:p,state:m,timingFunction:g}))})}mi.displayName="@mantine/core/Transition";var ix={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const C2={},Og=K((e,t)=>{var v,y,_,S;const r=z("PopoverDropdown",C2,e),{className:n,style:s,vars:i,children:o,onKeyDownCapture:a,variant:c,classNames:l,styles:d,...u}=r,f=rx(),p=d1({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=Ut(t,f.floating);return f.disabled?null:h.jsx(ku,{...f.portalProps,withinPortal:f.withinPortal,children:h.jsx(mi,{mounted:f.opened,...f.transitionProps,transition:((v=f.transitionProps)==null?void 0:v.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((_=f.transitionProps)==null?void 0:_.exitDuration)=="number"?f.transitionProps.exitDuration:(S=f.transitionProps)==null?void 0:S.duration,children:b=>h.jsx(Pu,{active:f.trapFocus&&f.opened,innerRef:g,children:h.jsxs(N,{...m,...u,variant:c,onKeyDownCapture:lk(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:n,props:r,classNames:l,styles:d,style:[{...b,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:D(f.width)},s]}),children:[o,h.jsx(tx,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:r,classNames:l,styles:d})})]})})})})});Og.classes=ix;Og.displayName="@mantine/core/PopoverDropdown";const R2={refProp:"ref",popupType:"dialog"},ox=K((e,t)=>{const{children:r,refProp:n,popupType:s,...i}=z("PopoverTarget",R2,e);if(!$o(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,a=rx(),c=Ut(a.reference,r.ref,t),l=a.withRoles?{"aria-haspopup":s,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(r,{...o,...l,...a.targetProps,className:Ft(a.targetProps.className,o.className,r.props.className),[n]:c,...a.controlled?null:{onClick:a.onToggle}})});ox.displayName="@mantine/core/PopoverTarget";function E2({opened:e,floating:t,position:r,positionDependencies:n}){const[s,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return UL(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,r]),Un(()=>{t.update()},n),Un(()=>{i(o=>o+1)},[e])}function T2(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function P2(e,t){const r=T2(e.middlewares),n=[JL(e.offset)];return r.shift&&n.push(ZL(typeof r.shift=="boolean"?{limiter:zw(),padding:5}:{limiter:zw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?Bw():Bw(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Uw():Uw(r.inline)),n.push(t2({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(e2({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:i,availableHeight:o,...a}){var d;const l=((d=t().refs.floating.current)==null?void 0:d.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:i,availableHeight:o,...a}):Object.assign(l,{maxWidth:`${i}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(l,{width:`${s.reference.width}px`})}})),n}function k2(e){const[t,r]=Ds({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{t&&r(!1)},s=()=>r(!t),i=m2({strategy:e.strategy,placement:e.position,middleware:P2(e,()=>i)});return E2({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),Un(()=>{var o;(o=e.onPositionChange)==null||o.call(e,i.placement)},[i.placement]),Un(()=>{var o,a;t?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[t,e.onClose,e.onOpen]),{floating:i,controlled:typeof e.opened=="boolean",opened:t,onClose:n,onToggle:s}}const D2={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:As("popover"),__staticSelector:"Popover",width:"max-content"},L2=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Qt(t),"--popover-shadow":pg(r)}});function Gr(e){var qe,Ct,ze,gt,hr,Tn;const t=z("Popover",D2,e),{children:r,position:n,offset:s,onPositionChange:i,positionDependencies:o,opened:a,transitionProps:c,width:l,middlewares:d,withArrow:u,arrowSize:f,arrowOffset:p,arrowRadius:m,arrowPosition:g,unstyled:v,classNames:y,styles:_,closeOnClickOutside:S,withinPortal:b,portalProps:C,closeOnEscape:x,clickOutsideEvents:E,trapFocus:R,onClose:P,onOpen:L,onChange:$,zIndex:B,radius:q,shadow:A,id:W,defaultOpened:I,__staticSelector:V,withRoles:T,disabled:j,returnFocus:O,variant:M,keepMounted:U,vars:J,floatingStrategy:me,...Ee}=t,Te=ie({name:V,props:t,classes:ix,classNames:y,styles:_,unstyled:v,rootSelector:"dropdown",vars:J,varsResolver:L2}),de=w.useRef(null),[mt,fr]=w.useState(null),[pr,Xr]=w.useState(null),{dir:Ze}=hi(),et=Ao(W),je=k2({middlewares:d,width:l,position:g2(Ze,n),offset:typeof s=="number"?s+(u?f/2:0):s,arrowRef:de,arrowOffset:p,onPositionChange:i,positionDependencies:o,opened:a,defaultOpened:I,onChange:$,onOpen:L,onClose:P,strategy:me});mk(()=>S&&je.onClose(),E,[mt,pr]);const at=w.useCallback($e=>{fr($e),je.floating.refs.setReference($e)},[je.floating.refs.setReference]),Lr=w.useCallback($e=>{Xr($e),je.floating.refs.setFloating($e)},[je.floating.refs.setFloating]);return h.jsx(w2,{value:{returnFocus:O,disabled:j,controlled:je.controlled,reference:at,floating:Lr,x:je.floating.x,y:je.floating.y,arrowX:(ze=(Ct=(qe=je.floating)==null?void 0:qe.middlewareData)==null?void 0:Ct.arrow)==null?void 0:ze.x,arrowY:(Tn=(hr=(gt=je.floating)==null?void 0:gt.middlewareData)==null?void 0:hr.arrow)==null?void 0:Tn.y,opened:je.opened,arrowRef:de,transitionProps:c,width:l,withArrow:u,arrowSize:f,arrowOffset:p,arrowRadius:m,arrowPosition:g,placement:je.floating.placement,trapFocus:R,withinPortal:b,portalProps:C,zIndex:B,radius:q,shadow:A,closeOnEscape:x,onClose:je.onClose,onToggle:je.onToggle,getTargetId:()=>`${et}-target`,getDropdownId:()=>`${et}-dropdown`,withRoles:T,targetProps:Ee,__staticSelector:V,classNames:y,styles:_,unstyled:v,variant:M,keepMounted:U,getStyles:Te,floatingStrategy:me},children:r})}Gr.Target=ox;Gr.Dropdown=Og;Gr.displayName="@mantine/core/Popover";Gr.extend=e=>e;var Fr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const ax=w.forwardRef(({className:e,...t},r)=>h.jsxs(N,{component:"span",className:Ft(Fr.barsLoader,e),...t,ref:r,children:[h.jsx("span",{className:Fr.bar}),h.jsx("span",{className:Fr.bar}),h.jsx("span",{className:Fr.bar})]}));ax.displayName="@mantine/core/Bars";const cx=w.forwardRef(({className:e,...t},r)=>h.jsxs(N,{component:"span",className:Ft(Fr.dotsLoader,e),...t,ref:r,children:[h.jsx("span",{className:Fr.dot}),h.jsx("span",{className:Fr.dot}),h.jsx("span",{className:Fr.dot})]}));cx.displayName="@mantine/core/Dots";const lx=w.forwardRef(({className:e,...t},r)=>h.jsx(N,{component:"span",className:Ft(Fr.ovalLoader,e),...t,ref:r}));lx.displayName="@mantine/core/Oval";const dx={bars:ax,oval:lx,dots:cx},j2={loaders:dx,type:"oval"},M2=(e,{size:t,color:r})=>({root:{"--loader-size":Ve(t,"loader-size"),"--loader-color":r?Sn(r,e):void 0}}),Uo=K((e,t)=>{const r=z("Loader",j2,e),{size:n,color:s,type:i,vars:o,className:a,style:c,classNames:l,styles:d,unstyled:u,loaders:f,variant:p,children:m,...g}=r,v=ie({name:"Loader",props:r,classes:Fr,className:a,style:c,classNames:l,styles:d,unstyled:u,vars:o,varsResolver:M2});return m?h.jsx(N,{...v("root"),ref:t,...g,children:m}):h.jsx(N,{...v("root"),ref:t,component:f[i],variant:p,size:n,...g})});Uo.defaultLoaders=dx;Uo.classes=Fr;Uo.displayName="@mantine/core/Loader";var Du={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Gw={orientation:"horizontal"},I2=(e,{borderWidth:t})=>({group:{"--ai-border-width":D(t)}}),Ng=K((e,t)=>{const r=z("ActionIconGroup",Gw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:d,variant:u,mod:f,...p}=z("ActionIconGroup",Gw,e),m=ie({name:"ActionIconGroup",props:r,classes:Du,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:I2,rootSelector:"group"});return h.jsx(N,{...m("group"),ref:t,variant:u,mod:[{"data-orientation":c},f],role:"group",...p})});Ng.classes=Du;Ng.displayName="@mantine/core/ActionIconGroup";const O2={},N2=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:n||"filled",autoContrast:o});return{root:{"--ai-size":Ve(t,"ai-size"),"--ai-radius":r===void 0?void 0:Qt(r),"--ai-bg":i||n?a.background:void 0,"--ai-hover":i||n?a.hover:void 0,"--ai-hover-color":i||n?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||n?a.border:void 0}}},Qe=Lt((e,t)=>{const r=z("ActionIcon",O2,e),{className:n,unstyled:s,variant:i,classNames:o,styles:a,style:c,loading:l,loaderProps:d,size:u,color:f,radius:p,__staticSelector:m,gradient:g,vars:v,children:y,disabled:_,"data-disabled":S,autoContrast:b,mod:C,...x}=r,E=ie({name:["ActionIcon",m],props:r,className:n,style:c,classes:Du,classNames:o,styles:a,unstyled:s,vars:v,varsResolver:N2});return h.jsxs(Fs,{...E("root",{active:!_&&!l&&!S}),...x,unstyled:s,variant:i,size:u,disabled:_||l,ref:t,mod:[{loading:l,disabled:_||S},C],children:[h.jsx(mi,{mounted:!!l,transition:"slide-down",duration:150,children:R=>h.jsx(N,{component:"span",...E("loader",{style:R}),"aria-hidden":!0,children:h.jsx(Uo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),h.jsx(N,{component:"span",mod:{loading:l},...E("icon"),children:y})]})});Qe.classes=Du;Qe.displayName="@mantine/core/ActionIcon";Qe.Group=Ng;const ux=w.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>h.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:h.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));ux.displayName="@mantine/core/CloseIcon";var fx={root:"m_86a44da5","root--subtle":"m_220c80f2"};const $2={variant:"subtle"},A2=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Ve(t,"cb-size"),"--cb-radius":r===void 0?void 0:Qt(r),"--cb-icon-size":D(n)}}),Cc=Lt((e,t)=>{const r=z("CloseButton",$2,e),{iconSize:n,children:s,vars:i,radius:o,className:a,classNames:c,style:l,styles:d,unstyled:u,"data-disabled":f,disabled:p,variant:m,icon:g,mod:v,...y}=r,_=ie({name:"CloseButton",props:r,className:a,style:l,classes:fx,classNames:c,styles:d,unstyled:u,vars:i,varsResolver:A2});return h.jsxs(Fs,{ref:t,...y,unstyled:u,variant:m,disabled:p,mod:[{disabled:p||f},v],..._("root",{variant:m,active:!p&&!f}),children:[g||h.jsx(ux,{}),s]})});Cc.classes=fx;Cc.displayName="@mantine/core/CloseButton";function F2(e){return w.Children.toArray(e).filter(Boolean)}var px={root:"m_4081bf90"};const z2={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},B2=(e,{grow:t,preventGrowOverflow:r,gap:n,align:s,justify:i,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&r?a:void 0,"--group-gap":Nt(n),"--group-align":s,"--group-justify":i,"--group-wrap":o}}),Ne=K((e,t)=>{const r=z("Group",z2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,children:c,gap:l,align:d,justify:u,wrap:f,grow:p,preventGrowOverflow:m,vars:g,variant:v,__size:y,mod:_,...S}=r,b=F2(c),C=b.length,x=Nt(l??"md"),R={childWidth:`calc(${100/C}% - (${x} - ${x} / ${C}))`},P=ie({name:"Group",props:r,stylesCtx:R,className:s,style:i,classes:px,classNames:n,styles:o,unstyled:a,vars:g,varsResolver:B2});return h.jsx(N,{...P("root"),ref:t,variant:v,mod:[{grow:p},_],size:y,...S,children:b})});Ne.classes=px;Ne.displayName="@mantine/core/Group";var hx={root:"m_9814e45f"};const U2={zIndex:As("modal")},V2=(e,{gradient:t,color:r,backgroundOpacity:n,blur:s,radius:i,zIndex:o})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&un(r||"#000",n??.6)||void 0,"--overlay-filter":s?`blur(${D(s)})`:void 0,"--overlay-radius":i===void 0?void 0:Qt(i),"--overlay-z-index":o==null?void 0:o.toString()}}),$g=Lt((e,t)=>{const r=z("Overlay",U2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,fixed:l,center:d,children:u,radius:f,zIndex:p,gradient:m,blur:g,color:v,backgroundOpacity:y,mod:_,...S}=r,b=ie({name:"Overlay",props:r,classes:hx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:V2});return h.jsx(N,{ref:t,...b("root"),mod:[{center:d,fixed:l},_],...S,children:u})});$g.classes=hx;$g.displayName="@mantine/core/Overlay";const[H2,Yn]=Kr("ModalBase component was not found in tree");function W2({opened:e,transitionDuration:t}){const[r,n]=w.useState(e),s=w.useRef(),o=yu()?0:t;return w.useEffect(()=>(e?(n(!0),window.clearTimeout(s.current)):o===0?n(!1):s.current=window.setTimeout(()=>n(!1),o),()=>window.clearTimeout(s.current)),[e,o]),r}function q2({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:s,onClose:i,returnFocus:o}){const a=Ao(e),[c,l]=w.useState(!1),[d,u]=w.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,p=W2({opened:r,transitionDuration:f});return Dk("keydown",m=>{var g;m.key==="Escape"&&s&&r&&((g=m.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),d1({opened:r,shouldReturnFocus:n&&o}),{_id:a,titleMounted:c,bodyMounted:d,shouldLockScroll:p,setTitleMounted:l,setBodyMounted:u}}const Ag=w.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:s,trapFocus:i,closeOnEscape:o,returnFocus:a,closeOnClickOutside:c,withinPortal:l,portalProps:d,lockScroll:u,children:f,zIndex:p,shadow:m,padding:g,__vars:v,unstyled:y,removeScrollProps:_,...S},b)=>{const{_id:C,titleMounted:x,bodyMounted:E,shouldLockScroll:R,setTitleMounted:P,setBodyMounted:L}=q2({id:n,transitionProps:s,opened:t,trapFocus:i,closeOnEscape:o,onClose:r,returnFocus:a}),{key:$,...B}=_||{};return h.jsx(ku,{...d,withinPortal:l,children:h.jsx(H2,{value:{opened:t,onClose:r,closeOnClickOutside:c,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${C}-title`,getBodyId:()=>`${C}-body`,titleMounted:x,bodyMounted:E,setTitleMounted:P,setBodyMounted:L,trapFocus:i,closeOnEscape:o,zIndex:p,unstyled:y},children:h.jsx(o1,{enabled:R&&u,...B,children:h.jsx(N,{ref:b,...S,__vars:{...v,"--mb-z-index":(p||As("modal")).toString(),"--mb-shadow":pg(m),"--mb-padding":Nt(g)},children:f})},$)})})});Ag.displayName="@mantine/core/ModalBase";function K2(){const e=Yn();return w.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Lo={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Fg=w.forwardRef(({className:e,...t},r)=>{const n=K2(),s=Yn();return h.jsx(N,{ref:r,...t,id:n,className:Ft({[Lo.body]:!s.unstyled},e)})});Fg.displayName="@mantine/core/ModalBaseBody";const zg=w.forwardRef(({className:e,onClick:t,...r},n)=>{const s=Yn();return h.jsx(Cc,{ref:n,...r,onClick:i=>{s.onClose(),t==null||t(i)},className:Ft({[Lo.close]:!s.unstyled},e),unstyled:s.unstyled})});zg.displayName="@mantine/core/ModalBaseCloseButton";const Bg=w.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:s,...i},o)=>{const a=Yn();return h.jsx(mi,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:c=>h.jsx("div",{...r,className:Ft({[Lo.inner]:!a.unstyled},r.className),children:h.jsx(Pu,{active:a.opened&&a.trapFocus,innerRef:o,children:h.jsx(Cu,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[s,c],className:Ft({[Lo.content]:!a.unstyled},t),unstyled:a.unstyled,children:i.children})})})})});Bg.displayName="@mantine/core/ModalBaseContent";const Ug=w.forwardRef(({className:e,...t},r)=>{const n=Yn();return h.jsx(N,{component:"header",ref:r,className:Ft({[Lo.header]:!n.unstyled},e),...t})});Ug.displayName="@mantine/core/ModalBaseHeader";const G2={duration:200,timingFunction:"ease",transition:"fade"};function Y2(e){const t=Yn();return{...G2,...t.transitionProps,...e}}const Vg=w.forwardRef(({onClick:e,transitionProps:t,style:r,...n},s)=>{const i=Yn(),o=Y2(t);return h.jsx(mi,{mounted:i.opened,...o,transition:"fade",children:a=>h.jsx($g,{ref:s,fixed:!0,style:[r,a],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e==null||e(c),i.closeOnClickOutside&&i.onClose()},...n})})});Vg.displayName="@mantine/core/ModalBaseOverlay";function X2(){const e=Yn();return w.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Hg=w.forwardRef(({className:e,...t},r)=>{const n=X2(),s=Yn();return h.jsx(N,{component:"h2",ref:r,className:Ft({[Lo.title]:!s.unstyled},e),...t,id:n})});Hg.displayName="@mantine/core/ModalBaseTitle";function mx({children:e}){return h.jsx(h.Fragment,{children:e})}const[Q2,Lu]=nk({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Pr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Yw={},J2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${_r(t)} - ${D(2)})`}}),ju=K((e,t)=>{const r=z("InputDescription",Yw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:d,__inheritStyles:u=!0,variant:f,...p}=z("InputDescription",Yw,r),m=Lu(),g=ie({name:["InputWrapper",d],props:r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"description",vars:c,varsResolver:J2}),v=u&&(m==null?void 0:m.getStyles)||g;return h.jsx(N,{component:"p",ref:t,variant:f,size:l,...v("description",m!=null&&m.getStyles?{className:s,style:i}:void 0),...p})});ju.classes=Pr;ju.displayName="@mantine/core/InputDescription";const Z2={},ej=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${_r(t)} - ${D(2)})`}}),Mu=K((e,t)=>{const r=z("InputError",Z2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:d,__inheritStyles:u=!0,variant:f,...p}=r,m=ie({name:["InputWrapper",d],props:r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"error",vars:c,varsResolver:ej}),g=Lu(),v=u&&(g==null?void 0:g.getStyles)||m;return h.jsx(N,{component:"p",ref:t,variant:f,size:l,...v("error",g!=null&&g.getStyles?{className:s,style:i}:void 0),...p})});Mu.classes=Pr;Mu.displayName="@mantine/core/InputError";const Xw={labelElement:"label"},tj=(e,{size:t})=>({label:{"--input-label-size":_r(t),"--input-asterisk-color":void 0}}),Iu=K((e,t)=>{const r=z("InputLabel",Xw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,labelElement:l,size:d,required:u,htmlFor:f,onMouseDown:p,children:m,__staticSelector:g,variant:v,mod:y,..._}=z("InputLabel",Xw,r),S=ie({name:["InputWrapper",g],props:r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"label",vars:c,varsResolver:tj}),b=Lu(),C=(b==null?void 0:b.getStyles)||S;return h.jsxs(N,{...C("label",b!=null&&b.getStyles?{className:s,style:i}:void 0),component:l,variant:v,size:d,ref:t,htmlFor:l==="label"?f:void 0,mod:[{required:u},y],onMouseDown:x=>{p==null||p(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[m,u&&h.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});Iu.classes=Pr;Iu.displayName="@mantine/core/InputLabel";const Qw={},Wg=K((e,t)=>{const r=z("InputPlaceholder",Qw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,__staticSelector:l,variant:d,error:u,mod:f,...p}=z("InputPlaceholder",Qw,r),m=ie({name:["InputPlaceholder",l],props:r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"placeholder"});return h.jsx(N,{...m("placeholder"),mod:[{error:!!u},f],component:"span",variant:d,ref:t,...p})});Wg.classes=Pr;Wg.displayName="@mantine/core/InputPlaceholder";function rj(e,{hasDescription:t,hasError:r}){const n=e.findIndex(c=>c==="input"),s=e.slice(0,n),i=e.slice(n+1),o=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&i.includes("description")||r&&i.includes("error"),offsetTop:o}}const nj={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},sj=(e,{size:t})=>({label:{"--input-label-size":_r(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${_r(t)} - ${D(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${_r(t)} - ${D(2)})`}}),qg=K((e,t)=>{const r=z("InputWrapper",nj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,variant:d,__staticSelector:u,inputContainer:f,inputWrapperOrder:p,label:m,error:g,description:v,labelProps:y,descriptionProps:_,errorProps:S,labelElement:b,children:C,withAsterisk:x,id:E,required:R,__stylesApiProps:P,mod:L,...$}=r,B=ie({name:["InputWrapper",u],props:P||r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:sj}),q={size:l,variant:d,__staticSelector:u},A=Ao(E),W=typeof x=="boolean"?x:R,I=(S==null?void 0:S.id)||`${A}-error`,V=(_==null?void 0:_.id)||`${A}-description`,T=A,j=!!g&&typeof g!="boolean",O=!!v,M=`${j?I:""} ${O?V:""}`,U=M.trim().length>0?M.trim():void 0,J=(y==null?void 0:y.id)||`${A}-label`,me=m&&h.jsx(Iu,{labelElement:b,id:J,htmlFor:T,required:W,...q,...y,children:m},"label"),Ee=O&&h.jsx(ju,{..._,...q,size:(_==null?void 0:_.size)||q.size,id:(_==null?void 0:_.id)||V,children:v},"description"),Te=h.jsx(w.Fragment,{children:f(C)},"input"),de=j&&w.createElement(Mu,{...S,...q,size:(S==null?void 0:S.size)||q.size,key:"error",id:(S==null?void 0:S.id)||I},g),mt=p.map(fr=>{switch(fr){case"label":return me;case"input":return Te;case"description":return Ee;case"error":return de;default:return null}});return h.jsx(Q2,{value:{getStyles:B,describedBy:U,inputId:T,labelId:J,...rj(p,{hasDescription:O,hasError:j})},children:h.jsx(N,{ref:t,variant:d,size:l,mod:[{error:!!g},L],...B("root"),...$,children:mt})})});qg.classes=Pr;qg.displayName="@mantine/core/InputWrapper";const ij={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},oj=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ve(t.size,"input-height"),"--input-fz":_r(t.size),"--input-radius":t.radius===void 0?void 0:Qt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?D(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?D(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ve(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Cr=Lt((e,t)=>{const r=z("Input",ij,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,required:c,__staticSelector:l,__stylesApiProps:d,size:u,wrapperProps:f,error:p,disabled:m,leftSection:g,leftSectionProps:v,leftSectionWidth:y,rightSection:_,rightSectionProps:S,rightSectionWidth:b,rightSectionPointerEvents:C,leftSectionPointerEvents:x,variant:E,vars:R,pointer:P,multiline:L,radius:$,id:B,withAria:q,withErrorStyles:A,mod:W,inputSize:I,...V}=r,{styleProps:T,rest:j}=wg(V),O=Lu(),M={offsetBottom:O==null?void 0:O.offsetBottom,offsetTop:O==null?void 0:O.offsetTop},U=ie({name:["Input",l],props:d||r,classes:Pr,className:s,style:i,classNames:n,styles:o,unstyled:a,stylesCtx:M,rootSelector:"wrapper",vars:R,varsResolver:oj}),J=q?{required:c,disabled:m,"aria-invalid":!!p,"aria-describedby":O==null?void 0:O.describedBy,id:(O==null?void 0:O.inputId)||B}:{};return h.jsxs(N,{...U("wrapper"),...T,...f,mod:[{error:!!p&&A,pointer:P,disabled:m,multiline:L,"data-with-right-section":!!_,"data-with-left-section":!!g},W],variant:E,size:u,children:[g&&h.jsx("div",{...v,"data-position":"left",...U("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),children:g}),h.jsx(N,{component:"input",...j,...J,ref:t,required:c,mod:{disabled:m,error:!!p&&A},variant:E,__size:I,...U("input")}),_&&h.jsx("div",{...S,"data-position":"right",...U("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),children:_})]})});Cr.classes=Pr;Cr.Wrapper=qg;Cr.Label=Iu;Cr.Error=Mu;Cr.Description=ju;Cr.Placeholder=Wg;Cr.displayName="@mantine/core/Input";function aj(e,t,r){const n=z(e,t,r),{label:s,description:i,error:o,required:a,classNames:c,styles:l,className:d,unstyled:u,__staticSelector:f,__stylesApiProps:p,errorProps:m,labelProps:g,descriptionProps:v,wrapperProps:y,id:_,size:S,style:b,inputContainer:C,inputWrapperOrder:x,withAsterisk:E,variant:R,vars:P,mod:L,...$}=n,{styleProps:B,rest:q}=wg($),A={label:s,description:i,error:o,required:a,classNames:c,className:d,__staticSelector:f,__stylesApiProps:p||n,errorProps:m,labelProps:g,descriptionProps:v,unstyled:u,styles:l,size:S,style:b,inputContainer:C,inputWrapperOrder:x,withAsterisk:E,variant:R,id:_,mod:L,...y};return{...q,classNames:c,styles:l,unstyled:u,wrapperProps:{...A,...B},inputProps:{required:a,classNames:c,styles:l,unstyled:u,size:S,__staticSelector:f,__stylesApiProps:p||n,error:o,variant:R,id:_}}}const cj={__staticSelector:"InputBase",withAria:!0},zs=Lt((e,t)=>{const{inputProps:r,wrapperProps:n,...s}=aj("InputBase",cj,e);return h.jsx(Cr.Wrapper,{...n,children:h.jsx(Cr,{...r,...s,ref:t})})});zs.classes={...Cr.classes,...Cr.Wrapper.classes};zs.displayName="@mantine/core/InputBase";const lj={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var gx={root:"m_8bffd616"};const dj={},Wn=Lt((e,t)=>{const r=z("Flex",dj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,gap:l,rowGap:d,columnGap:u,align:f,justify:p,wrap:m,direction:g,...v}=r,y=ie({name:"Flex",classes:gx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),_=Jt(),S=_g(),b=C1({styleProps:{gap:l,rowGap:d,columnGap:u,align:f,justify:p,wrap:m,direction:g},theme:_,data:lj});return h.jsxs(h.Fragment,{children:[b.hasResponsiveStyles&&h.jsx(Su,{selector:`.${S}`,styles:b.styles,media:b.media}),h.jsx(N,{ref:t,...y("root",{className:S,style:No(b.inlineStyles)}),...v})]})});Wn.classes=gx;Wn.displayName="@mantine/core/Flex";function vx({style:e,size:t=16,...r}){return h.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:D(t),height:D(t),display:"block"},...r,children:h.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}vx.displayName="@mantine/core/AccordionChevron";var yx={root:"m_b6d8b162"};function uj(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const fj={inherit:!1},pj=(e,{variant:t,lineClamp:r,gradient:n,size:s,color:i})=>({root:{"--text-fz":_r(s),"--text-lh":dk(s),"--text-gradient":t==="gradient"?$h(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":i?Sn(i,e):void 0}}),be=Lt((e,t)=>{const r=z("Text",fj,e),{lineClamp:n,truncate:s,inline:i,inherit:o,gradient:a,span:c,__staticSelector:l,vars:d,className:u,style:f,classNames:p,styles:m,unstyled:g,variant:v,mod:y,size:_,...S}=r,b=ie({name:["Text",l],props:r,classes:yx,className:u,style:f,classNames:p,styles:m,unstyled:g,vars:d,varsResolver:pj});return h.jsx(N,{...b("root",{focusable:!0}),ref:t,component:c?"span":"p",variant:v,mod:[{"data-truncate":uj(s),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":o},y],size:_,...S})});be.classes=yx;be.displayName="@mantine/core/Text";function wx(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>wx(t))}:e}function hj(e){return e?e.map(t=>wx(t)):[]}function Sx(e){return e.reduce((t,r)=>"group"in r?{...t,...Sx(r.items)}:(t[r.value]=r,t),{})}var Xt={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const mj={error:null},gj=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Ve(t,"combobox-chevron-size")}}),Kg=K((e,t)=>{const r=z("ComboboxChevron",mj,e),{size:n,error:s,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:d,mod:u,...f}=r,p=ie({name:"ComboboxChevron",classes:Xt,props:r,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:gj,rootSelector:"chevron"});return h.jsx(N,{component:"svg",...f,...p("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},u],ref:t,children:h.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Kg.classes=Xt;Kg.displayName="@mantine/core/ComboboxChevron";const[vj,kr]=Kr("Combobox component was not found in tree"),_x=w.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...s},i)=>h.jsx(Cc,{ref:i,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{n(),r==null||r(o)}}));_x.displayName="@mantine/core/ComboboxClearButton";const yj={},Gg=K((e,t)=>{const{classNames:r,styles:n,className:s,style:i,hidden:o,...a}=z("ComboboxDropdown",yj,e),c=kr();return h.jsx(Gr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:s,style:i,classNames:r,styles:n})})});Gg.classes=Xt;Gg.displayName="@mantine/core/ComboboxDropdown";const wj={refProp:"ref"},bx=K((e,t)=>{const{children:r,refProp:n}=z("ComboboxDropdownTarget",wj,e);if(kr(),!$o(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return h.jsx(Gr.Target,{ref:t,refProp:n,children:r})});bx.displayName="@mantine/core/ComboboxDropdownTarget";const Sj={},Yg=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=z("ComboboxEmpty",Sj,e),c=kr();return h.jsx(N,{ref:t,...c.getStyles("empty",{className:n,classNames:r,styles:i,style:s}),...a})});Yg.classes=Xt;Yg.displayName="@mantine/core/ComboboxEmpty";function Xg({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:s,autoComplete:i}){const o=kr(),[a,c]=w.useState(null),l=u=>{if(e==null||e(u),!o.readOnly&&t){if(u.nativeEvent.isComposing)return;if(u.nativeEvent.code==="ArrowDown"&&(u.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),u.nativeEvent.code==="ArrowUp"&&(u.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),u.nativeEvent.code==="Enter"||u.nativeEvent.code==="NumpadEnter"){if(u.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(u.preventDefault(),o.store.clickSelectedOption()):s==="button"&&(u.preventDefault(),o.store.openDropdown("keyboard"))}u.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),u.nativeEvent.code==="Space"&&s==="button"&&(u.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const _j={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},xx=K((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=z("ComboboxEventsTarget",_j,e);if(!$o(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=kr(),u=Xg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c});return w.cloneElement(r,{...u,...l,[n]:Ut(t,d.store.targetRef,r==null?void 0:r.ref)})});xx.displayName="@mantine/core/ComboboxEventsTarget";const bj={},Qg=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=z("ComboboxFooter",bj,e),c=kr();return h.jsx(N,{ref:t,...c.getStyles("footer",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Qg.classes=Xt;Qg.displayName="@mantine/core/ComboboxFooter";const xj={},Jg=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,children:a,label:c,...l}=z("ComboboxGroup",xj,e),d=kr();return h.jsxs(N,{ref:t,...d.getStyles("group",{className:n,classNames:r,style:s,styles:i}),...l,children:[c&&h.jsx("div",{...d.getStyles("groupLabel",{classNames:r,styles:i}),children:c}),a]})});Jg.classes=Xt;Jg.displayName="@mantine/core/ComboboxGroup";const Cj={},Zg=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=z("ComboboxHeader",Cj,e),c=kr();return h.jsx(N,{ref:t,...c.getStyles("header",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Zg.classes=Xt;Zg.displayName="@mantine/core/ComboboxHeader";function Cx({value:e,valuesDivider:t=",",...r}){return h.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}Cx.displayName="@mantine/core/ComboboxHiddenInput";const Rj={},ev=K((e,t)=>{const r=z("ComboboxOption",Rj,e),{classNames:n,className:s,style:i,styles:o,vars:a,onClick:c,id:l,active:d,onMouseDown:u,onMouseOver:f,disabled:p,selected:m,mod:g,...v}=r,y=kr(),_=w.useId(),S=l||_;return h.jsx(N,{...y.getStyles("option",{className:s,classNames:n,styles:o,style:i}),...v,ref:t,id:S,mod:["combobox-option",{"combobox-active":d,"combobox-disabled":p,"combobox-selected":m},g],role:"option",onClick:b=>{var C;p?b.preventDefault():((C=y.onOptionSubmit)==null||C.call(y,r.value,r),c==null||c(b))},onMouseDown:b=>{b.preventDefault(),u==null||u(b)},onMouseOver:b=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(b)}})});ev.classes=Xt;ev.displayName="@mantine/core/ComboboxOption";const Ej={},tv=K((e,t)=>{const r=z("ComboboxOptions",Ej,e),{classNames:n,className:s,style:i,styles:o,id:a,onMouseDown:c,labelledBy:l,...d}=r,u=kr(),f=Ao(a);return w.useEffect(()=>{u.store.setListId(f)},[f]),h.jsx(N,{ref:t,...u.getStyles("options",{className:s,style:i,classNames:n,styles:o}),...d,id:f,role:"listbox","aria-labelledby":l,onMouseDown:p=>{p.preventDefault(),c==null||c(p)}})});tv.classes=Xt;tv.displayName="@mantine/core/ComboboxOptions";const Tj={withAriaAttributes:!0,withKeyboardNavigation:!0},rv=K((e,t)=>{const r=z("ComboboxSearch",Tj,e),{classNames:n,styles:s,unstyled:i,vars:o,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:l,size:d,...u}=r,f=kr(),p=f.getStyles("search"),m=Xg({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return h.jsx(Cr,{ref:Ut(t,f.store.searchRef),classNames:[{input:p.className},n],styles:[{input:p.style},s],size:d||f.size,...m,...u,__staticSelector:"Combobox"})});rv.classes=Xt;rv.displayName="@mantine/core/ComboboxSearch";const Pj={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Rx=K((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=z("ComboboxTarget",Pj,e);if(!$o(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=kr(),u=Xg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c}),f=w.cloneElement(r,{...u,...l});return h.jsx(Gr.Target,{ref:Ut(t,d.store.targetRef),children:f})});Rx.displayName="@mantine/core/ComboboxTarget";function kj(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function Dj(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function Lj(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Ex({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:s,loop:i=!0,scrollBehavior:o="instant"}={}){const[a,c]=Ds({value:t,defaultValue:e,finalValue:!1,onChange:r}),l=w.useRef(null),d=w.useRef(-1),u=w.useRef(null),f=w.useRef(null),p=w.useRef(-1),m=w.useRef(-1),g=w.useRef(-1),v=w.useCallback((I="unknown")=>{a||(c(!0),s==null||s(I))},[c,s,a]),y=w.useCallback((I="unknown")=>{a&&(c(!1),n==null||n(I))},[c,n,a]),_=w.useCallback((I="unknown")=>{a?y(I):v(I)},[y,v,a]),S=w.useCallback(()=>{const I=document.querySelector(`#${l.current} [data-combobox-selected]`);I==null||I.removeAttribute("data-combobox-selected"),I==null||I.removeAttribute("aria-selected")},[]),b=w.useCallback(I=>{const V=document.getElementById(l.current),T=V==null?void 0:V.querySelectorAll("[data-combobox-option]");if(!T)return null;const j=I>=T.length?0:I<0?T.length-1:I;return d.current=j,T!=null&&T[j]&&!T[j].hasAttribute("data-combobox-disabled")?(S(),T[j].setAttribute("data-combobox-selected","true"),T[j].setAttribute("aria-selected","true"),T[j].scrollIntoView({block:"nearest",behavior:o}),T[j].id):null},[o,S]),C=w.useCallback(()=>{const I=document.querySelector(`#${l.current} [data-combobox-active]`);if(I){const V=document.querySelectorAll(`#${l.current} [data-combobox-option]`),T=Array.from(V).findIndex(j=>j===I);return b(T)}return b(0)},[b]),x=w.useCallback(()=>b(Dj(d.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),E=w.useCallback(()=>b(kj(d.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),R=w.useCallback(()=>b(Lj(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[b]),P=w.useCallback((I="selected",V)=>{g.current=window.setTimeout(()=>{var O;const T=document.querySelectorAll(`#${l.current} [data-combobox-option]`),j=Array.from(T).findIndex(M=>M.hasAttribute(`data-combobox-${I}`));d.current=j,V!=null&&V.scrollIntoView&&((O=T[j])==null||O.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),L=w.useCallback(()=>{d.current=-1,S()},[S]),$=w.useCallback(()=>{const I=document.querySelectorAll(`#${l.current} [data-combobox-option]`),V=I==null?void 0:I[d.current];V==null||V.click()},[]),B=w.useCallback(I=>{l.current=I},[]),q=w.useCallback(()=>{p.current=window.setTimeout(()=>u.current.focus(),0)},[]),A=w.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),W=w.useCallback(()=>d.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(m.current),window.clearTimeout(g.current)},[]),{dropdownOpened:a,openDropdown:v,closeDropdown:y,toggleDropdown:_,selectedOptionIndex:d.current,getSelectedOptionIndex:W,selectOption:b,selectFirstOption:R,selectActiveOption:C,selectNextOption:x,selectPreviousOption:E,resetSelectedOption:L,updateSelectedOptionIndex:P,listId:l.current,setListId:B,clickSelectedOption:$,searchRef:u,focusSearchInput:q,targetRef:f,focusTarget:A}}const jj={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Mj=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":_r(t),"--combobox-option-padding":Ve(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:D(r),"--combobox-option-fz":_r(t),"--combobox-option-padding":Ve(t,"combobox-option-padding")}});function Ce(e){const t=z("Combobox",jj,e),{classNames:r,styles:n,unstyled:s,children:i,store:o,vars:a,onOptionSubmit:c,onClose:l,size:d,dropdownPadding:u,resetSelectionOnOptionHover:f,__staticSelector:p,readOnly:m,...g}=t,v=Ex(),y=o||v,_=ie({name:p||"Combobox",classes:Xt,props:t,classNames:r,styles:n,unstyled:s,vars:a,varsResolver:Mj}),S=()=>{l==null||l(),y.closeDropdown()};return h.jsx(vj,{value:{getStyles:_,store:y,onOptionSubmit:c,size:d,resetSelectionOnOptionHover:f,readOnly:m},children:h.jsx(Gr,{opened:y.dropdownOpened,...g,onChange:b=>!b&&S(),withRoles:!1,unstyled:s,children:i})})}const Ij=e=>e;Ce.extend=Ij;Ce.classes=Xt;Ce.displayName="@mantine/core/Combobox";Ce.Target=Rx;Ce.Dropdown=Gg;Ce.Options=tv;Ce.Option=ev;Ce.Search=rv;Ce.Empty=Yg;Ce.Chevron=Kg;Ce.Footer=Qg;Ce.Header=Zg;Ce.EventsTarget=xx;Ce.DropdownTarget=bx;Ce.Group=Jg;Ce.ClearButton=_x;Ce.HiddenInput=Cx;function Oj({size:e,style:t,...r}){const n=e!==void 0?{width:D(e),height:D(e),...t}:t;return h.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:h.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function ac(e){return"group"in e}function Tx({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),s=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(s.length===r)return s;ac(o)&&s.push({group:o.group,items:Tx({options:o.items,search:t,limit:r-s.length})}),ac(o)||o.label.toLowerCase().includes(n)&&s.push(o)}return s}function Nj(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Px(e,t=new Set){if(Array.isArray(e))for(const r of e)if(ac(r))Px(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function $j(e,t){return Array.isArray(e)?e.includes(t):e===t}function kx({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:s,renderOption:i}){if(!ac(e)){const a=$j(r,e.value),c=t&&a&&h.jsx(Oj,{className:Xt.optionsDropdownCheckIcon}),l=h.jsxs(h.Fragment,{children:[n==="left"&&c,h.jsx("span",{children:e.label}),n==="right"&&c]});return h.jsx(Ce.Option,{value:e.value,disabled:e.disabled,className:Ft({[Xt.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):l})}const o=e.items.map(a=>h.jsx(kx,{data:a,value:r,unstyled:s,withCheckIcon:t,checkIconPosition:n,renderOption:i},a.value));return h.jsx(Ce.Group,{label:e.group,children:o})}function Aj({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:s,limit:i,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:l=!1,value:d,checkIconPosition:u,nothingFoundMessage:f,unstyled:p,labelId:m,renderOption:g,scrollAreaProps:v,"aria-label":y}){Px(e);const S=typeof s=="string"?(n||Tx)({options:e,search:c?s:"",limit:i??1/0}):e,b=Nj(S),C=S.map(x=>h.jsx(kx,{data:x,withCheckIcon:l,value:d,checkIconPosition:u,unstyled:p,renderOption:g},ac(x)?x.group:x.value));return h.jsx(Ce.Dropdown,{hidden:t||r&&b,children:h.jsxs(Ce.Options,{labelledBy:m,"aria-label":y,children:[a?h.jsx(Gn.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...v,children:C}):C,b&&f&&h.jsx(Ce.Empty,{children:f})]})})}const Dx=w.createContext(null),Fj=Dx.Provider;function zj(){return{withinGroup:!!w.useContext(Dx)}}var Ou={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const Bj={},Uj=(e,{spacing:t})=>({group:{"--ag-spacing":Nt(t)}}),nv=K((e,t)=>{const r=z("AvatarGroup",Bj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,spacing:l,...d}=r,u=ie({name:"AvatarGroup",classes:Ou,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:Uj,rootSelector:"group"});return h.jsx(Fj,{value:!0,children:h.jsx(N,{ref:t,...u("group"),...d})})});nv.classes=Ou;nv.displayName="@mantine/core/AvatarGroup";function Vj(e){return h.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Lx(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}function Hj(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const Wj=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function qj(e,t=Wj){const r=Hj(Lx(e)),n=Math.abs(r)%t.length;return t[n]}const Kj={},Gj=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o,name:a,allowedInitialsColors:c})=>{const l=i==="initials"&&typeof a=="string"?qj(a,c):i,d=e.variantColorResolver({color:l||"gray",theme:e,gradient:s,variant:n||"light",autoContrast:o});return{root:{"--avatar-size":Ve(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Qt(r),"--avatar-bg":l||n?d.background:void 0,"--avatar-color":l||n?d.color:void 0,"--avatar-bd":l||n?d.border:void 0}}},Rr=Lt((e,t)=>{const r=z("Avatar",Kj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,src:l,alt:d,radius:u,color:f,gradient:p,imageProps:m,children:g,autoContrast:v,mod:y,name:_,allowedInitialsColors:S,...b}=r,C=zj(),[x,E]=w.useState(!l),R=ie({name:"Avatar",props:r,classes:Ou,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:Gj});return w.useEffect(()=>E(!l),[l]),h.jsx(N,{...R("root"),mod:[{"within-group":C.withinGroup},y],ref:t,...b,children:x?h.jsx("span",{...R("placeholder"),title:d,children:g||typeof _=="string"&&Lx(_)||h.jsx(Vj,{})}):h.jsx("img",{...m,...R("image"),src:l,alt:d,onError:P=>{var L;E(!0),(L=m==null?void 0:m.onError)==null||L.call(m,P)}})})});Rr.classes=Ou;Rr.displayName="@mantine/core/Avatar";Rr.Group=nv;var jx={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Yj={},Xj=(e,{radius:t,color:r,gradient:n,variant:s,size:i,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:o});return{root:{"--badge-height":Ve(i,"badge-height"),"--badge-padding-x":Ve(i,"badge-padding-x"),"--badge-fz":Ve(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Qt(t),"--badge-bg":r||s?a.background:void 0,"--badge-color":r||s?a.color:void 0,"--badge-bd":r||s?a.border:void 0,"--badge-dot-color":s==="dot"?Sn(r,e):void 0}}},cc=Lt((e,t)=>{const r=z("Badge",Yj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,radius:l,color:d,gradient:u,leftSection:f,rightSection:p,children:m,variant:g,fullWidth:v,autoContrast:y,circle:_,mod:S,...b}=r,C=ie({name:"Badge",props:r,classes:jx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:Xj});return h.jsxs(N,{variant:g,mod:[{block:v,circle:_,"with-right-section":!!p,"with-left-section":!!f},S],...C("root",{variant:g}),ref:t,...b,children:[f&&h.jsx("span",{...C("section"),"data-position":"left",children:f}),h.jsx("span",{...C("label"),children:m}),p&&h.jsx("span",{...C("section"),"data-position":"right",children:p})]})});cc.classes=jx;cc.displayName="@mantine/core/Badge";var Nu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Jw={orientation:"horizontal"},Qj=(e,{borderWidth:t})=>({group:{"--button-border-width":D(t)}}),sv=K((e,t)=>{const r=z("ButtonGroup",Jw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:d,variant:u,mod:f,...p}=z("ButtonGroup",Jw,e),m=ie({name:"ButtonGroup",props:r,classes:Nu,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:Qj,rootSelector:"group"});return h.jsx(N,{...m("group"),ref:t,variant:u,mod:[{"data-orientation":c},f],role:"group",...p})});sv.classes=Nu;sv.displayName="@mantine/core/ButtonGroup";const Jj={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${D(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Zj={},eM=(e,{radius:t,color:r,gradient:n,variant:s,size:i,justify:o,autoContrast:a})=>{const c=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":Ve(i,"button-height"),"--button-padding-x":Ve(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?_r(i.replace("compact-","")):_r(i),"--button-radius":t===void 0?void 0:Qt(t),"--button-bg":r||s?c.background:void 0,"--button-hover":r||s?c.hover:void 0,"--button-color":c.color,"--button-bd":r||s?c.border:void 0,"--button-hover-color":r||s?c.hoverColor:void 0}}},ke=Lt((e,t)=>{const r=z("Button",Zj,e),{style:n,vars:s,className:i,color:o,disabled:a,children:c,leftSection:l,rightSection:d,fullWidth:u,variant:f,radius:p,loading:m,loaderProps:g,gradient:v,classNames:y,styles:_,unstyled:S,"data-disabled":b,autoContrast:C,mod:x,...E}=r,R=ie({name:"Button",props:r,classes:Nu,className:i,style:n,classNames:y,styles:_,unstyled:S,vars:s,varsResolver:eM}),P=!!l,L=!!d;return h.jsxs(Fs,{ref:t,...R("root",{active:!a&&!m&&!b}),unstyled:S,variant:f,disabled:a||m,mod:[{disabled:a||b,loading:m,block:u,"with-left-section":P,"with-right-section":L},x],...E,children:[h.jsx(mi,{mounted:!!m,transition:Jj,duration:150,children:$=>h.jsx(N,{component:"span",...R("loader",{style:$}),"aria-hidden":!0,children:h.jsx(Uo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})})}),h.jsxs("span",{...R("inner"),children:[l&&h.jsx(N,{component:"span",...R("section"),mod:{position:"left"},children:l}),h.jsx(N,{component:"span",mod:{loading:m},...R("label"),children:c}),d&&h.jsx(N,{component:"span",...R("section"),mod:{position:"right"},children:d})]})]})});ke.classes=Nu;ke.displayName="@mantine/core/Button";ke.Group=sv;const[tM,rM]=Kr("Card component was not found in tree");var iv={root:"m_e615b15f",section:"m_599a2148"};const nM={},$u=Lt((e,t)=>{const r=z("CardSection",nM,e),{classNames:n,className:s,style:i,styles:o,vars:a,withBorder:c,inheritPadding:l,mod:d,...u}=r,f=rM();return h.jsx(N,{ref:t,mod:[{"with-border":c,"inherit-padding":l},d],...f.getStyles("section",{className:s,style:i,styles:o,classNames:n}),...u})});$u.classes=iv;$u.displayName="@mantine/core/CardSection";const sM={},iM=(e,{padding:t})=>({root:{"--card-padding":Nt(t)}}),Rc=Lt((e,t)=>{const r=z("Card",sM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,children:l,padding:d,...u}=r,f=ie({name:"Card",props:r,classes:iv,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:iM}),p=w.Children.toArray(l),m=p.map((g,v)=>typeof g=="object"&&g&&"type"in g&&g.type===$u?w.cloneElement(g,{"data-first-section":v===0||void 0,"data-last-section":v===p.length-1||void 0}):g);return h.jsx(tM,{value:{getStyles:f},children:h.jsx(Cu,{ref:t,unstyled:a,...f("root"),...u,children:m})})});Rc.classes=iv;Rc.displayName="@mantine/core/Card";Rc.Section=$u;var Mx={root:"m_3eebeb36",label:"m_9e365f20"};const oM={orientation:"horizontal"},aM=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?Sn(t,e):void 0,"--divider-border-style":r,"--divider-size":Ve(n,"divider-size")}}),Er=K((e,t)=>{const r=z("Divider",oM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,color:l,orientation:d,label:u,labelPosition:f,mod:p,...m}=r,g=ie({name:"Divider",classes:Mx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:aM});return h.jsx(N,{ref:t,mod:[{orientation:d,"with-label":!!u},p],...g("root"),...m,role:"separator",children:u&&h.jsx(N,{component:"span",mod:{position:f},...g("label"),children:u})})});Er.classes=Mx;Er.displayName="@mantine/core/Divider";const[cM,Vo]=Kr("Drawer component was not found in tree");var Xn={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const lM={},Au=K((e,t)=>{const r=z("DrawerBody",lM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Fg,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});Au.classes=Xn;Au.displayName="@mantine/core/DrawerBody";const dM={},Fu=K((e,t)=>{const r=z("DrawerCloseButton",dM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(zg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Fu.classes=Xn;Fu.displayName="@mantine/core/DrawerCloseButton";const uM={},zu=K((e,t)=>{const r=z("DrawerContent",uM,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,radius:l,...d}=r,u=Vo(),f=u.scrollAreaComponent||mx;return h.jsx(Bg,{...u.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:u.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),ref:t,...d,radius:l||u.radius||0,children:h.jsx(f,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:c})})});zu.classes=Xn;zu.displayName="@mantine/core/DrawerContent";const fM={},Bu=K((e,t)=>{const r=z("DrawerHeader",fM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Ug,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Bu.classes=Xn;Bu.displayName="@mantine/core/DrawerHeader";const pM={},Uu=K((e,t)=>{const r=z("DrawerOverlay",pM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Vg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Uu.classes=Xn;Uu.displayName="@mantine/core/DrawerOverlay";function hM(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function mM(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const gM={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},vM={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},yM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:As("modal"),position:"left"},wM=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Ve(r,"drawer-size"),"--drawer-flex":mM(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":hM(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":D(n)}}),Vu=K((e,t)=>{const r=z("DrawerRoot",yM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,scrollAreaComponent:l,position:d,transitionProps:u,radius:f,...p}=r,{dir:m}=hi(),g=ie({name:"Drawer",classes:Xn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:wM}),v=(m==="rtl"?vM:gM)[d];return h.jsx(cM,{value:{scrollAreaComponent:l,getStyles:g,radius:f},children:h.jsx(Ag,{ref:t,...g("root"),transitionProps:{transition:v,...u},unstyled:a,...p})})});Vu.classes=Xn;Vu.displayName="@mantine/core/DrawerRoot";const SM={},Hu=K((e,t)=>{const r=z("DrawerTitle",SM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Hg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Hu.classes=Xn;Hu.displayName="@mantine/core/DrawerTitle";const _M={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:As("modal"),withOverlay:!0,withCloseButton:!0},Yr=K((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,...c}=z("Drawer",_M,e),l=!!r||i;return h.jsxs(Vu,{ref:t,...c,children:[n&&h.jsx(Uu,{...s}),h.jsxs(zu,{children:[l&&h.jsxs(Bu,{children:[r&&h.jsx(Hu,{children:r}),i&&h.jsx(Fu,{...o})]}),h.jsx(Au,{children:a})]})]})});Yr.classes=Xn;Yr.displayName="@mantine/core/Drawer";Yr.Root=Vu;Yr.Overlay=Uu;Yr.Content=zu;Yr.Body=Au;Yr.Header=Bu;Yr.Title=Hu;Yr.CloseButton=Fu;function bM({open:e,close:t,openDelay:r,closeDelay:n}){const s=w.useRef(-1),i=w.useRef(-1),o=()=>{window.clearTimeout(s.current),window.clearTimeout(i.current)},a=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)},c=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:c}}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}function ov(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}var xM=w.useLayoutEffect,CM=function(t){var r=w.useRef(t);return xM(function(){r.current=t}),r},Zw=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},RM=function(t,r){var n=w.useRef();return w.useCallback(function(s){t.current=s,n.current&&Zw(n.current,null),n.current=r,r&&Zw(r,s)},[r])},eS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},EM=function(t){Object.keys(eS).forEach(function(r){t.style.setProperty(r,eS[r],"important")})},tS=EM,It=null,rS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function TM(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),It||(It=document.createElement("textarea"),It.setAttribute("tabindex","-1"),It.setAttribute("aria-hidden","true"),tS(It)),It.parentNode===null&&document.body.appendChild(It);var s=e.paddingSize,i=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var p=f;It.style[p]=o[p]}),tS(It),It.value=t;var c=rS(It,e);It.value=t,c=rS(It,e),It.value="x";var l=It.scrollHeight-s,d=l*r;a==="border-box"&&(d=d+s+i),c=Math.max(d,c);var u=l*n;return a==="border-box"&&(u=u+s+i),c=Math.min(u,c),[c,l]}var nS=function(){},PM=function(t,r){return t.reduce(function(n,s){return n[s]=r[s],n},{})},kM=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],DM=!!document.documentElement.currentStyle,LM=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=PM(kM,r),s=n.boxSizing;if(s==="")return null;DM&&s==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var i=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),o=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:i,borderSize:o}},jM=LM;function Ix(e,t,r){var n=CM(r);w.useLayoutEffect(function(){var s=function(o){return n.current(o)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var MM=function(t){Ix(window,"resize",t)},IM=function(t){Ix(document.fonts,"loadingdone",t)},OM=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],NM=function(t,r){var n=t.cacheMeasurements,s=t.maxRows,i=t.minRows,o=t.onChange,a=o===void 0?nS:o,c=t.onHeightChange,l=c===void 0?nS:c,d=ov(t,OM),u=d.value!==void 0,f=w.useRef(null),p=RM(f,r),m=w.useRef(0),g=w.useRef(),v=function(){var S=f.current,b=n&&g.current?g.current:jM(S);if(b){g.current=b;var C=TM(b,S.value||S.placeholder||"x",i,s),x=C[0],E=C[1];m.current!==x&&(m.current=x,S.style.setProperty("height",x+"px","important"),l(x,{rowHeight:E}))}},y=function(S){u||v(),a(S)};return w.useLayoutEffect(v),MM(v),IM(v),w.createElement("textarea",Hd({},d,{onChange:y,ref:p}))},$M=w.forwardRef(NM);const AM={},Wu=K((e,t)=>{const{autosize:r,maxRows:n,minRows:s,__staticSelector:i,resize:o,...a}=z("Textarea",AM,e),c=r&&Ik()!=="test",l=c?{maxRows:n,minRows:s}:{};return h.jsx(zs,{component:c?$M:"textarea",ref:t,...a,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":o},...l})});Wu.classes=zs.classes;Wu.displayName="@mantine/core/Textarea";const[FM,Ec]=Kr("Menu component was not found in the tree");var Ho={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const zM={},av=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=z("MenuDivider",zM,e),c=Ec();return h.jsx(N,{ref:t,...c.getStyles("divider",{className:n,style:s,styles:i,classNames:r}),...a})});av.classes=Ho;av.displayName="@mantine/core/MenuDivider";const BM={},cv=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,onMouseEnter:a,onMouseLeave:c,onKeyDown:l,children:d,...u}=z("MenuDropdown",BM,e),f=w.useRef(null),p=Ec(),m=hn(l,y=>{var _,S;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(S=(_=f.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||S.focus())}),g=hn(a,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.openDropdown()),v=hn(c,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.closeDropdown());return h.jsxs(Gr.Dropdown,{...u,onMouseEnter:g,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Ut(t,f),...p.getStyles("dropdown",{className:n,style:s,styles:i,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[h.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),d]})});cv.classes=Ho;cv.displayName="@mantine/core/MenuDropdown";const UM={},lv=Lt((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,color:a,closeMenuOnClick:c,leftSection:l,rightSection:d,children:u,disabled:f,...p}=z("MenuItem",UM,e),m=Ec(),g=Jt(),{dir:v}=hi(),y=w.useRef(),_=m.getItemIndex(y.current),S=p,b=hn(S.onMouseLeave,()=>m.setHovered(-1)),C=hn(S.onMouseEnter,()=>m.setHovered(m.getItemIndex(y.current))),x=hn(S.onClick,()=>{typeof c=="boolean"?c&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately()}),E=hn(S.onFocus,()=>m.setHovered(m.getItemIndex(y.current))),R=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,P=a?Fo({color:a,theme:g}):null;return h.jsxs(Fs,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:E,...m.getStyles("item",{className:n,style:s,styles:i,classNames:r}),ref:Ut(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":m.hovered===_?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:C,onMouseLeave:b,onClick:x,onKeyDown:l1({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:v,orientation:"vertical",onKeyDown:S.onKeyDown}),__vars:{"--menu-item-color":P!=null&&P.isThemeColor&&(P==null?void 0:P.shade)===void 0?`var(--mantine-color-${P.color}-6)`:R==null?void 0:R.color,"--menu-item-hover":R==null?void 0:R.hover},children:[l&&h.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"left",children:l}),u&&h.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:r}),children:u}),d&&h.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"right",children:d})]})});lv.classes=Ho;lv.displayName="@mantine/core/MenuItem";const VM={},dv=K((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=z("MenuLabel",VM,e),c=Ec();return h.jsx(N,{ref:t,...c.getStyles("label",{className:n,style:s,styles:i,classNames:r}),...a})});dv.classes=Ho;dv.displayName="@mantine/core/MenuLabel";const HM={refProp:"ref"},Ox=w.forwardRef((e,t)=>{const{children:r,refProp:n,...s}=z("MenuTarget",HM,e);if(!$o(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Ec(),o=hn(r.props.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=hn(r.props.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=hn(r.props.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return h.jsx(Gr.Target,{refProp:n,popupType:"menu",ref:t,...s,children:w.cloneElement(r,{onClick:o,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});Ox.displayName="@mantine/core/MenuTarget";const WM={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function rt(e){const t=z("Menu",WM,e),{children:r,onOpen:n,onClose:s,opened:i,defaultOpened:o,trapFocus:a,onChange:c,closeOnItemClick:l,loop:d,closeOnEscape:u,trigger:f,openDelay:p,closeDelay:m,classNames:g,styles:v,unstyled:y,variant:_,vars:S,menuItemTabIndex:b,keepMounted:C,...x}=t,E=ie({name:"Menu",classes:Ho,props:t,classNames:g,styles:v,unstyled:y}),[R,{setHovered:P,resetHovered:L}]=hk(),[$,B]=Ds({value:i,defaultValue:o,finalValue:!1,onChange:c}),[q,A]=w.useState(!1),W=()=>{B(!1),A(!1),$&&(s==null||s())},I=()=>{B(!0),!$&&(n==null||n())},V=()=>{$?W():I()},{openDropdown:T,closeDropdown:j}=bM({open:I,close:W,closeDelay:m,openDelay:p}),O=J=>pk("[data-menu-item]","[data-menu-dropdown]",J),{resolvedClassNames:M,resolvedStyles:U}=x1({classNames:g,styles:v,props:t});return Un(()=>{L()},[$]),h.jsx(FM,{value:{getStyles:E,opened:$,toggleDropdown:V,getItemIndex:O,hovered:R,setHovered:P,openedViaClick:q,setOpenedViaClick:A,closeOnItemClick:l,closeDropdown:f==="click"?W:j,openDropdown:f==="click"?I:T,closeDropdownImmediately:W,loop:d,trigger:f,unstyled:y,menuItemTabIndex:b},children:h.jsx(Gr,{...x,opened:$,onChange:V,defaultOpened:o,trapFocus:C?!1:a,closeOnEscape:u,__staticSelector:"Menu",classNames:M,styles:U,unstyled:y,variant:_,keepMounted:C,children:r})})}rt.extend=e=>e;rt.classes=Ho;rt.displayName="@mantine/core/Menu";rt.Item=lv;rt.Label=dv;rt.Dropdown=cv;rt.Target=Ox;rt.Divider=av;const[qM,Wo]=Kr("Modal component was not found in tree");var Qn={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const KM={},qu=K((e,t)=>{const r=z("ModalBody",KM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Fg,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});qu.classes=Qn;qu.displayName="@mantine/core/ModalBody";const GM={},Ku=K((e,t)=>{const r=z("ModalCloseButton",GM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(zg,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Ku.classes=Qn;Ku.displayName="@mantine/core/ModalCloseButton";const YM={},Gu=K((e,t)=>{const r=z("ModalContent",YM,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,...l}=r,d=Wo(),u=d.scrollAreaComponent||mx;return h.jsx(Bg,{...d.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:d.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:h.jsx(u,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${D(d.yOffset)} * 2))`},children:c})})});Gu.classes=Qn;Gu.displayName="@mantine/core/ModalContent";const XM={},Yu=K((e,t)=>{const r=z("ModalHeader",XM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Ug,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Yu.classes=Qn;Yu.displayName="@mantine/core/ModalHeader";const QM={},Xu=K((e,t)=>{const r=z("ModalOverlay",QM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Vg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Xu.classes=Qn;Xu.displayName="@mantine/core/ModalOverlay";const JM={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:As("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},ZM=(e,{radius:t,size:r,yOffset:n,xOffset:s})=>({root:{"--modal-radius":t===void 0?void 0:Qt(t),"--modal-size":Ve(r,"modal-size"),"--modal-y-offset":D(n),"--modal-x-offset":D(s)}}),Qu=K((e,t)=>{const r=z("ModalRoot",JM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,yOffset:l,scrollAreaComponent:d,radius:u,fullScreen:f,centered:p,xOffset:m,__staticSelector:g,...v}=r,y=ie({name:g,classes:Qn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:ZM});return h.jsx(qM,{value:{yOffset:l,scrollAreaComponent:d,getStyles:y,fullScreen:f},children:h.jsx(Ag,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":p||void 0,unstyled:a,...v})})});Qu.classes=Qn;Qu.displayName="@mantine/core/ModalRoot";const eI={},Ju=K((e,t)=>{const r=z("ModalTitle",eI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Hg,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Ju.classes=Qn;Ju.displayName="@mantine/core/ModalTitle";const tI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:As("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Dr=K((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,radius:c,...l}=z("Modal",tI,e),d=!!r||i;return h.jsxs(Qu,{ref:t,radius:c,...l,children:[n&&h.jsx(Xu,{...s}),h.jsxs(Gu,{radius:c,children:[d&&h.jsxs(Yu,{children:[r&&h.jsx(Ju,{children:r}),i&&h.jsx(Ku,{...o})]}),h.jsx(qu,{children:a})]})]})});Dr.classes=Qn;Dr.displayName="@mantine/core/Modal";Dr.Root=Qu;Dr.Overlay=Xu;Dr.Content=Gu;Dr.Body=qu;Dr.Header=Yu;Dr.Title=Ju;Dr.CloseButton=Ku;var Nx={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const rI={},nI=(e,{variant:t,color:r,childrenOffset:n,autoContrast:s})=>{const i=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:s});return{root:{"--nl-bg":r||t?i.background:void 0,"--nl-hover":r||t?i.hover:void 0,"--nl-color":r||t?i.color:void 0},children:{"--nl-offset":Nt(n)}}},uv=Lt((e,t)=>{const r=z("NavLink",rI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,opened:l,defaultOpened:d,onChange:u,children:f,onClick:p,active:m,disabled:g,leftSection:v,rightSection:y,label:_,description:S,disableRightSectionRotation:b,noWrap:C,childrenOffset:x,onKeyDown:E,autoContrast:R,mod:P,...L}=r,$=ie({name:"NavLink",props:r,classes:Nx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:nI}),[B,q]=Ds({value:l,defaultValue:d,finalValue:!1,onChange:u}),A=!!f,W=I=>{p==null||p(I),A&&(I.preventDefault(),q(!B))};return h.jsxs(h.Fragment,{children:[h.jsxs(Fs,{...$("root"),component:"a",ref:t,onClick:W,onKeyDown:I=>{E==null||E(I),I.nativeEvent.code==="Space"&&A&&(I.preventDefault(),q(!B))},unstyled:a,mod:[{disabled:g,active:m,expanded:B},P],...L,children:[v&&h.jsx(N,{component:"span",...$("section"),mod:{position:"left"},children:v}),h.jsxs(N,{...$("body"),mod:{"no-wrap":C},children:[h.jsx(N,{component:"span",...$("label"),children:_}),h.jsx(N,{component:"span",mod:{active:m},...$("description"),children:S})]}),(A||y)&&h.jsx(N,{...$("section"),component:"span",mod:{rotate:B&&!b,position:"right"},children:A?y||h.jsx(vx,{...$("chevron")}):y})]}),h.jsx(_u,{in:B,...$("collapse"),children:h.jsx("div",{...$("children"),children:f})})]})});uv.classes=Nx;uv.displayName="@mantine/core/NavLink";var $x={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const sI={withCloseButton:!0},iI=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Qt(t),"--notification-color":r?Sn(r,e):void 0}}),fv=K((e,t)=>{const r=z("Notification",sI,e),{className:n,color:s,radius:i,loading:o,withCloseButton:a,withBorder:c,title:l,icon:d,children:u,onClose:f,closeButtonProps:p,classNames:m,style:g,styles:v,unstyled:y,variant:_,vars:S,mod:b,...C}=r,x=ie({name:"Notification",classes:$x,props:r,className:n,style:g,classNames:m,styles:v,unstyled:y,vars:S,varsResolver:iI});return h.jsxs(N,{...x("root"),mod:[{"data-with-icon":!!d||o,"data-with-border":c},b],ref:t,variant:_,...C,role:"alert",children:[d&&!o&&h.jsx("div",{...x("icon"),children:d}),o&&h.jsx(Uo,{size:28,color:s,...x("loader")}),h.jsxs("div",{...x("body"),children:[l&&h.jsx("div",{...x("title"),children:l}),h.jsx(N,{...x("description"),mod:{"data-with-title":!!l},children:u})]}),a&&h.jsx(Cc,{iconSize:16,color:"gray",...p,unstyled:y,onClick:f,...x("closeButton")})]})});fv.classes=$x;fv.displayName="@mantine/core/Notification";const oI={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Wd=K((e,t)=>{const r=z("Select",oI,e),{classNames:n,styles:s,unstyled:i,vars:o,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:l,onDropdownOpen:d,onFocus:u,onBlur:f,onClick:p,onChange:m,data:g,value:v,defaultValue:y,selectFirstOptionOnChange:_,onOptionSubmit:S,comboboxProps:b,readOnly:C,disabled:x,filter:E,limit:R,withScrollArea:P,maxDropdownHeight:L,size:$,searchable:B,rightSection:q,checkIconPosition:A,withCheckIcon:W,nothingFoundMessage:I,name:V,form:T,searchValue:j,defaultSearchValue:O,onSearchChange:M,allowDeselect:U,error:J,rightSectionPointerEvents:me,id:Ee,clearable:Te,clearButtonProps:de,hiddenInputProps:mt,renderOption:fr,onClear:pr,autoComplete:Xr,scrollAreaProps:Ze,...et}=r,je=w.useMemo(()=>hj(g),[g]),at=w.useMemo(()=>Sx(je),[je]),Lr=Ao(Ee),[qe,Ct,ze]=Ds({value:v,defaultValue:y,finalValue:null,onChange:m}),gt=typeof qe=="string"?at[qe]:void 0,hr=jk(gt),[Tn,$e]=Ds({value:j,defaultValue:O,finalValue:gt?gt.label:"",onChange:M}),ut=Ex({opened:a,defaultOpened:c,onDropdownOpen:()=>{d==null||d(),ut.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),ut.resetSelectedOption()}}),{resolvedClassNames:Bs,resolvedStyles:oe}=x1({props:r,styles:s,classNames:n});w.useEffect(()=>{_&&ut.selectFirstOption()},[_,qe]),w.useEffect(()=>{v===null&&$e(""),typeof v=="string"&&gt&&((hr==null?void 0:hr.value)!==gt.value||(hr==null?void 0:hr.label)!==gt.label)&&$e(gt.label)},[v,gt]);const he=Te&&!!qe&&!x&&!C&&h.jsx(Ce.ClearButton,{size:$,...de,onClear:()=>{Ct(null,null),$e(""),pr==null||pr()}});return h.jsxs(h.Fragment,{children:[h.jsxs(Ce,{store:ut,__staticSelector:"Select",classNames:Bs,styles:oe,unstyled:i,readOnly:C,onOptionSubmit:G=>{S==null||S(G);const ce=U&&at[G].value===qe?null:at[G],er=ce?ce.value:null;er!==qe&&Ct(er,ce),!ze&&$e(typeof er=="string"&&(ce==null?void 0:ce.label)||""),ut.closeDropdown()},size:$,...b,children:[h.jsx(Ce.Target,{targetType:B?"input":"button",autoComplete:Xr,children:h.jsx(zs,{id:Lr,ref:t,rightSection:q||he||h.jsx(Ce.Chevron,{size:$,error:J,unstyled:i}),rightSectionPointerEvents:me||(he?"all":"none"),...et,size:$,__staticSelector:"Select",disabled:x,readOnly:C||!B,value:Tn,onChange:G=>{$e(G.currentTarget.value),ut.openDropdown(),_&&ut.selectFirstOption()},onFocus:G=>{B&&ut.openDropdown(),u==null||u(G)},onBlur:G=>{var ce;B&&ut.closeDropdown(),$e(qe!=null&&((ce=at[qe])==null?void 0:ce.label)||""),f==null||f(G)},onClick:G=>{B?ut.openDropdown():ut.toggleDropdown(),p==null||p(G)},classNames:Bs,styles:oe,unstyled:i,pointer:!B,error:J})}),h.jsx(Aj,{data:je,hidden:C||x,filter:E,search:Tn,limit:R,hiddenWhenEmpty:!I,withScrollArea:P,maxDropdownHeight:L,filterOptions:B&&(gt==null?void 0:gt.label)!==Tn,value:qe,checkIconPosition:A,withCheckIcon:W,nothingFoundMessage:I,unstyled:i,labelId:et.label?`${Lr}-label`:void 0,"aria-label":et.label?void 0:et["aria-label"],renderOption:fr,scrollAreaProps:Ze})]}),h.jsx(Ce.HiddenInput,{value:qe,name:V,form:T,disabled:x,...mt})]})});Wd.classes={...zs.classes,...Ce.classes};Wd.displayName="@mantine/core/Select";function aI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var d;const s=Jt(),i=t===void 0?e:t,o=No({"--sg-spacing-x":Nt(vo(e)),"--sg-spacing-y":Nt(vo(i)),"--sg-cols":(d=vo(r))==null?void 0:d.toString()}),a=Yt(s.breakpoints).reduce((u,f)=>(u[f]||(u[f]={}),typeof e=="object"&&e[f]!==void 0&&(u[f]["--sg-spacing-x"]=Nt(e[f])),typeof i=="object"&&i[f]!==void 0&&(u[f]["--sg-spacing-y"]=Nt(i[f])),typeof r=="object"&&r[f]!==void 0&&(u[f]["--sg-cols"]=r[f]),u),{}),l=fk(Yt(a),s.breakpoints).filter(u=>Yt(a[u.value]).length>0).map(u=>({query:`(min-width: ${s.breakpoints[u.value]})`,styles:a[u.value]}));return h.jsx(Su,{styles:o,media:l,selector:n})}function Sp(e){return typeof e=="object"&&e!==null?Yt(e):[]}function cI(e){return e.sort((t,r)=>sc(t)-sc(r))}function lI({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...Sp(e),...Sp(t),...Sp(r)]));return cI(n)}function dI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var l;const s=t===void 0?e:t,i=No({"--sg-spacing-x":Nt(vo(e)),"--sg-spacing-y":Nt(vo(s)),"--sg-cols":(l=vo(r))==null?void 0:l.toString()}),o=lI({spacing:e,verticalSpacing:t,cols:r}),a=o.reduce((d,u)=>(d[u]||(d[u]={}),typeof e=="object"&&e[u]!==void 0&&(d[u]["--sg-spacing-x"]=Nt(e[u])),typeof s=="object"&&s[u]!==void 0&&(d[u]["--sg-spacing-y"]=Nt(s[u])),typeof r=="object"&&r[u]!==void 0&&(d[u]["--sg-cols"]=r[u]),d),{}),c=o.map(d=>({query:`simple-grid (min-width: ${d})`,styles:a[d]}));return h.jsx(Su,{styles:i,container:c,selector:n})}var Ax={container:"m_925c2d2c",root:"m_2415a157"};const uI={cols:1,spacing:"md",type:"media"},pv=K((e,t)=>{const r=z("SimpleGrid",uI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,cols:l,verticalSpacing:d,spacing:u,type:f,...p}=r,m=ie({name:"SimpleGrid",classes:Ax,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),g=_g();return f==="container"?h.jsxs(h.Fragment,{children:[h.jsx(dI,{...r,selector:`.${g}`}),h.jsx("div",{...m("container"),children:h.jsx(N,{ref:t,...m("root",{className:g}),...p})})]}):h.jsxs(h.Fragment,{children:[h.jsx(aI,{...r,selector:`.${g}`}),h.jsx(N,{ref:t,...m("root",{className:g}),...p})]})});pv.classes=Ax;pv.displayName="@mantine/core/SimpleGrid";var Fx={root:"m_18320242","skeleton-fade":"m_299c329c"};const fI={visible:!0,animate:!0},pI=(e,{width:t,height:r,radius:n,circle:s})=>({root:{"--skeleton-height":D(r),"--skeleton-width":D(s?r:t),"--skeleton-radius":s?"1000px":n===void 0?void 0:Qt(n)}}),Nn=K((e,t)=>{const r=z("Skeleton",fI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,width:l,height:d,circle:u,visible:f,radius:p,animate:m,mod:g,...v}=r,y=ie({name:"Skeleton",classes:Fx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:pI});return h.jsx(N,{ref:t,...y("root"),mod:[{visible:f,animate:m},g],...v})});Nn.classes=Fx;Nn.displayName="@mantine/core/Skeleton";const[hI,Zu]=Kr("SliderProvider was not found in tree"),zx=w.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:s,radius:i,...o},a)=>{const{getStyles:c}=Zu();return h.jsx(N,{tabIndex:-1,variant:r,size:e,ref:a,...c("root"),...o})});zx.displayName="@mantine/core/SliderRoot";const Bx=w.forwardRef(({max:e,min:t,value:r,position:n,label:s,dragging:i,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:c,labelAlwaysOn:l,thumbLabel:d,onFocus:u,onBlur:f,showLabelOnHover:p,isHovered:m,children:g=null,disabled:v},y)=>{const{getStyles:_}=Zu(),[S,b]=w.useState(!1),C=l||i||S||p&&m;return h.jsxs(N,{tabIndex:0,role:"slider","aria-label":d,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:y,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:i,disabled:v},onFocus:()=>{b(!0),typeof u=="function"&&u()},onBlur:()=>{b(!1),typeof f=="function"&&f()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:x=>x.stopPropagation(),children:[g,h.jsx(mi,{mounted:s!=null&&!!C,transition:"fade",duration:0,...c,children:x=>h.jsx("div",{..._("label",{style:x}),children:s})})]})});Bx.displayName="@mantine/core/SliderThumb";function Ux({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function mI({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function Vx({marks:e,min:t,max:r,disabled:n,value:s,offset:i,inverted:o}){const{getStyles:a}=Zu();if(!e)return null;const c=e.map((l,d)=>w.createElement(N,{...a("markWrapper"),__vars:{"--mark-offset":`${Ux({value:l.value,min:t,max:r})}%`},key:d},h.jsx(N,{...a("mark"),mod:{filled:mI({mark:l,value:s,offset:i,inverted:o}),disabled:n}}),l.label&&h.jsx("div",{...a("markLabel"),children:l.label})));return h.jsx("div",{children:c})}Vx.displayName="@mantine/core/SliderMarks";function Hx({filled:e,children:t,offset:r,disabled:n,marksOffset:s,inverted:i,containerProps:o,...a}){const{getStyles:c}=Zu();return h.jsx(N,{...c("trackContainer"),mod:{disabled:n},...o,children:h.jsxs(N,{...c("track"),mod:{inverted:i,disabled:n},children:[h.jsx(N,{mod:{inverted:i,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...c("bar")}),t,h.jsx(Vx,{...a,offset:s,disabled:n,inverted:i})]})})}Hx.displayName="@mantine/core/SliderTrack";function gI({value:e,containerWidth:t,min:r,max:n,step:s,precision:i}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),c=(a!==0?Math.round(a/s)*s:0)+r,l=Math.max(c,r);return i!==void 0?Number(l.toFixed(i)):l}function fl(e,t){return parseFloat(e.toFixed(t))}function vI(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var Wx={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const yI={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},wI=(e,{size:t,color:r,thumbSize:n,radius:s})=>({root:{"--slider-size":Ve(t,"slider-size"),"--slider-color":r?Sn(r,e):void 0,"--slider-radius":s===void 0?void 0:Qt(s),"--slider-thumb-size":n!==void 0?D(n):"calc(var(--slider-size) * 2)"}}),hv=K((e,t)=>{const r=z("Slider",yI,e),{classNames:n,styles:s,value:i,onChange:o,onChangeEnd:a,size:c,min:l,max:d,step:u,precision:f,defaultValue:p,name:m,marks:g,label:v,labelTransitionProps:y,labelAlwaysOn:_,thumbLabel:S,showLabelOnHover:b,thumbChildren:C,disabled:x,unstyled:E,scale:R,inverted:P,className:L,style:$,vars:B,hiddenInputProps:q,...A}=r,W=ie({name:"Slider",props:r,classes:Wx,classNames:n,className:L,styles:s,style:$,vars:B,varsResolver:wI,unstyled:E}),{dir:I}=hi(),[V,T]=w.useState(!1),[j,O]=Ds({value:typeof i=="number"?Aa(i,l,d):i,defaultValue:typeof p=="number"?Aa(p,l,d):p,finalValue:Aa(0,l,d),onChange:o}),M=w.useRef(j),U=w.useRef(),J=w.useRef(),me=Ux({value:j,min:l,max:d}),Ee=R(j),Te=typeof v=="function"?v(Ee):v,de=f??vI(u),mt=w.useCallback(({x:Ze})=>{if(!x){const et=gI({value:Ze,min:l,max:d,step:u,precision:de});O(et),M.current=et}},[x,l,d,u,de,O]),{ref:fr,active:pr}=Lk(mt,{onScrubEnd:()=>a==null?void 0:a(M.current)},I),Xr=Ze=>{var et,je,at,Lr,qe,Ct;if(!x)switch(Ze.key){case"ArrowUp":{Ze.preventDefault(),(et=J.current)==null||et.focus();const ze=fl(Math.min(Math.max(j+u,l),d),de);O(ze),a==null||a(ze);break}case"ArrowRight":{Ze.preventDefault(),(je=J.current)==null||je.focus();const ze=fl(Math.min(Math.max(I==="rtl"?j-u:j+u,l),d),de);O(ze),a==null||a(ze);break}case"ArrowDown":{Ze.preventDefault(),(at=J.current)==null||at.focus();const ze=fl(Math.min(Math.max(j-u,l),d),de);O(ze),a==null||a(ze);break}case"ArrowLeft":{Ze.preventDefault(),(Lr=J.current)==null||Lr.focus();const ze=fl(Math.min(Math.max(I==="rtl"?j+u:j-u,l),d),de);O(ze),a==null||a(ze);break}case"Home":{Ze.preventDefault(),(qe=J.current)==null||qe.focus(),O(l),a==null||a(l);break}case"End":{Ze.preventDefault(),(Ct=J.current)==null||Ct.focus(),O(d),a==null||a(d);break}}};return h.jsx(hI,{value:{getStyles:W},children:h.jsxs(zx,{...A,ref:Ut(t,U),onKeyDownCapture:Xr,onMouseDownCapture:()=>{var Ze;return(Ze=U.current)==null?void 0:Ze.focus()},size:c,disabled:x,children:[h.jsx(Hx,{inverted:P,offset:0,filled:me,marks:g,min:l,max:d,value:Ee,disabled:x,containerProps:{ref:fr,onMouseEnter:b?()=>T(!0):void 0,onMouseLeave:b?()=>T(!1):void 0},children:h.jsx(Bx,{max:d,min:l,value:Ee,position:me,dragging:pr,label:Te,ref:J,labelTransitionProps:y,labelAlwaysOn:_,thumbLabel:S,showLabelOnHover:b,isHovered:V,disabled:x,children:C})}),h.jsx("input",{type:"hidden",name:m,value:Ee,...q})]})})});hv.classes=Wx;hv.displayName="@mantine/core/Slider";var qx={root:"m_6d731127"};const SI={gap:"md",align:"stretch",justify:"flex-start"},_I=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":Nt(t),"--stack-align":r,"--stack-justify":n}}),Fe=K((e,t)=>{const r=z("Stack",SI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,align:l,justify:d,gap:u,variant:f,...p}=r,m=ie({name:"Stack",props:r,classes:qx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:_I});return h.jsx(N,{ref:t,...m("root"),variant:f,...p})});Fe.classes=qx;Fe.displayName="@mantine/core/Stack";const[bI,mv]=Kr("Tabs component was not found in the tree");var Tc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const xI={},gv=K((e,t)=>{const r=z("TabsList",xI,e),{children:n,className:s,grow:i,justify:o,classNames:a,styles:c,style:l,mod:d,...u}=r,f=mv();return h.jsx(N,{...u,...f.getStyles("list",{className:s,style:l,classNames:a,styles:c,props:r,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:i,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},d],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:n})});gv.classes=Tc;gv.displayName="@mantine/core/TabsList";const CI={},vv=K((e,t)=>{const r=z("TabsPanel",CI,e),{children:n,className:s,value:i,classNames:o,styles:a,style:c,mod:l,keepMounted:d,...u}=r,f=mv(),p=f.value===i,m=f.keepMounted||d||p?n:null;return h.jsx(N,{...u,...f.getStyles("panel",{className:s,classNames:o,styles:a,style:[c,p?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:f.orientation},l],role:"tabpanel",id:f.getPanelId(i),"aria-labelledby":f.getTabId(i),children:m})});vv.classes=Tc;vv.displayName="@mantine/core/TabsPanel";const RI={},yv=K((e,t)=>{const r=z("TabsTab",RI,e),{className:n,children:s,rightSection:i,leftSection:o,value:a,onClick:c,onKeyDown:l,disabled:d,color:u,style:f,classNames:p,styles:m,vars:g,mod:v,...y}=r,_=Jt(),{dir:S}=hi(),b=mv(),C=a===b.value,x=R=>{b.onChange(b.allowTabDeactivation&&a===b.value?null:a),c==null||c(R)},E={classNames:p,styles:m,props:r};return h.jsxs(Fs,{...y,...b.getStyles("tab",{className:n,style:f,variant:b.variant,...E}),disabled:d,unstyled:b.unstyled,variant:b.variant,mod:[{active:C,disabled:d,orientation:b.orientation,inverted:b.inverted,placement:b.orientation==="vertical"&&b.placement},v],ref:t,role:"tab",id:b.getTabId(a),"aria-selected":C,tabIndex:C||b.value===null?0:-1,"aria-controls":b.getPanelId(a),onClick:x,__vars:{"--tabs-color":u?Sn(u,_):void 0},onKeyDown:l1({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:b.activateTabWithKeyboard,loop:b.loop,orientation:b.orientation||"horizontal",dir:S,onKeyDown:l}),children:[o&&h.jsx("span",{...b.getStyles("tabSection",E),"data-position":"left",children:o}),s&&h.jsx("span",{...b.getStyles("tabLabel",E),children:s}),i&&h.jsx("span",{...b.getStyles("tabSection",E),"data-position":"right",children:i})]})});yv.classes=Tc;yv.displayName="@mantine/core/TabsTab";const sS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",EI={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},TI=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":Qt(t),"--tabs-color":Sn(r,e),"--tabs-text-color":CD(n,e)?w1({color:r,theme:e,autoContrast:n}):void 0}}),$r=K((e,t)=>{const r=z("Tabs",EI,e),{defaultValue:n,value:s,onChange:i,orientation:o,children:a,loop:c,id:l,activateTabWithKeyboard:d,allowTabDeactivation:u,variant:f,color:p,radius:m,inverted:g,placement:v,keepMounted:y,classNames:_,styles:S,unstyled:b,className:C,style:x,vars:E,autoContrast:R,mod:P,...L}=r,$=Ao(l),[B,q]=Ds({value:s,defaultValue:n,finalValue:null,onChange:i}),A=ie({name:"Tabs",props:r,classes:Tc,className:C,style:x,classNames:_,styles:S,unstyled:b,vars:E,varsResolver:TI});return h.jsx(bI,{value:{placement:v,value:B,orientation:o,id:$,loop:c,activateTabWithKeyboard:d,getTabId:xw(`${$}-tab`,sS),getPanelId:xw(`${$}-panel`,sS),onChange:q,allowTabDeactivation:u,variant:f,color:p,radius:m,inverted:g,keepMounted:y,unstyled:b,getStyles:A},children:h.jsx(N,{ref:t,id:$,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&g,placement:o==="vertical"&&v},P],...A("root"),...L,children:a})})});$r.classes=Tc;$r.displayName="@mantine/core/Tabs";$r.Tab=yv;$r.Panel=vv;$r.List=gv;const PI={},Ur=K((e,t)=>{const r=z("TextInput",PI,e);return h.jsx(zs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Ur.classes=zs.classes;Ur.displayName="@mantine/core/TextInput";const kI=["h1","h2","h3","h4","h5","h6"],DI=["xs","sm","md","lg","xl"];function LI(e,t){const r=t!==void 0?t:`h${e}`;return kI.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:DI.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:D(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Kx={root:"m_8a5d1357"};const jI={order:1},MI=(e,{order:t,size:r,lineClamp:n,textWrap:s})=>{const i=LI(t,r);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":s}}},ef=K((e,t)=>{const r=z("Title",jI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,order:c,vars:l,size:d,variant:u,lineClamp:f,textWrap:p,mod:m,...g}=r,v=ie({name:"Title",props:r,classes:Kx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:MI});return[1,2,3,4,5,6].includes(c)?h.jsx(N,{...v("root"),component:`h${c}`,variant:u,ref:t,mod:[{order:c,"data-line-clamp":typeof f=="number"},m],size:d,...g}):null});ef.classes=Kx;ef.displayName="@mantine/core/Title";function II(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),n.forEach(i=>i(t))},initialize(s){r||(t=s,r=!0)},subscribe(s){return n.add(s),()=>n.delete(s)}}}function OI(e){return w.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function NI(e,t,r){const n=[],s=[],i={};for(const o of e){const a=o.position||t;i[a]=i[a]||0,i[a]+=1,i[a]<=r?s.push(o):n.push(o)}return{notifications:s,queue:n}}const $I=()=>II({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),gi=$I(),AI=(e=gi)=>OI(e);function qo(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),s=NI(n,r.defaultPosition,r.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function FI(e,t=gi){const r=e.id||hg();return qo(t,n=>e.id&&n.some(s=>s.id===e.id)?n:[...n,{...e,id:r}]),r}function Gx(e,t=gi){return qo(t,r=>r.filter(n=>{var s;return n.id===e?((s=n.onClose)==null||s.call(n,n),!1):!0})),e}function zI(e,t=gi){return qo(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function BI(e=gi){qo(e,()=>[])}function UI(e=gi){qo(e,t=>t.slice(0,e.getState().limit))}const Ms={show:FI,hide:Gx,update:zI,clean:BI,cleanQueue:UI,updateState:qo};function qh(e,t){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qh(e,t)}function Yx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qh(e,t)}const iS={disabled:!1},qd=rr.createContext(null);var VI=function(t){return t.scrollTop},Ra="unmounted",Ws="exited",qs="entering",Yi="entered",Kh="exiting",Jn=function(e){Yx(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?a?(c=Ws,i.appearStatus=qs):c=Yi:n.unmountOnExit||n.mountOnEnter?c=Ra:c=Ws,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Ra?{status:Ws}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==qs&&o!==Yi&&(i=qs):(o===qs||o===Yi)&&(i=Kh)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===qs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ca.findDOMNode(this);o&&VI(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ws&&this.setState({status:Ra})},r.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[Ca.findDOMNode(this),a],l=c[0],d=c[1],u=this.getTimeouts(),f=a?u.appear:u.enter;if(!s&&!o||iS.disabled){this.safeSetState({status:Yi},function(){i.props.onEntered(l)});return}this.props.onEnter(l,d),this.safeSetState({status:qs},function(){i.props.onEntering(l,d),i.onTransitionEnd(f,function(){i.safeSetState({status:Yi},function(){i.props.onEntered(l,d)})})})},r.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ca.findDOMNode(this);if(!i||iS.disabled){this.safeSetState({status:Ws},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Kh},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Ws},function(){s.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ca.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],d=c[1];this.props.addEndListener(l,d)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===Ra)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ov(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rr.createElement(qd.Provider,{value:null},typeof o=="function"?o(s,a):rr.cloneElement(rr.Children.only(o),a))},t}(rr.Component);Jn.contextType=qd;Jn.propTypes={};function ki(){}Jn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ki,onEntering:ki,onEntered:ki,onExit:ki,onExiting:ki,onExited:ki};Jn.UNMOUNTED=Ra;Jn.EXITED=Ws;Jn.ENTERING=qs;Jn.ENTERED=Yi;Jn.EXITING=Kh;function HI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(e,t){var r=function(i){return t&&w.isValidElement(i)?t(i):i},n=Object.create(null);return e&&w.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function WI(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var o,a={};for(var c in t){if(n[c])for(o=0;o<n[c].length;o++){var l=n[c][o];a[n[c][o]]=r(l)}a[c]=r(c)}for(o=0;o<s.length;o++)a[s[o]]=r(s[o]);return a}function Js(e,t,r){return r[t]!=null?r[t]:e.props[t]}function qI(e,t){return wv(e.children,function(r){return w.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Js(r,"appear",e),enter:Js(r,"enter",e),exit:Js(r,"exit",e)})})}function KI(e,t,r){var n=wv(e.children),s=WI(t,n);return Object.keys(s).forEach(function(i){var o=s[i];if(w.isValidElement(o)){var a=i in t,c=i in n,l=t[i],d=w.isValidElement(l)&&!l.props.in;c&&(!a||d)?s[i]=w.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:Js(o,"exit",e),enter:Js(o,"enter",e)}):!c&&a&&!d?s[i]=w.cloneElement(o,{in:!1}):c&&a&&w.isValidElement(l)&&(s[i]=w.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:Js(o,"exit",e),enter:Js(o,"enter",e)}))}}),s}var GI=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},YI={component:"div",childFactory:function(t){return t}},cs=function(e){Yx(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=i.handleExited.bind(HI(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,c=i.firstRender;return{children:c?qI(s,a):KI(s,o,a),firstRender:!1}},r.handleExited=function(s,i){var o=wv(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var c=Hd({},a.children);return delete c[s.key],{children:c}}))},r.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=ov(s,["component","childFactory"]),c=this.state.contextValue,l=GI(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?rr.createElement(qd.Provider,{value:c},l):rr.createElement(qd.Provider,{value:c},rr.createElement(i,a,l))},t}(rr.Component);cs.propTypes={};cs.defaultProps=YI;const Xx=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function XI(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),Xx.reduce((r,n)=>(r[n]=[],r),{}))}const oS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},QI={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function JI({state:e,maxHeight:t,position:r,transitionDuration:n}){const[s,i]=r.split("-"),o=i==="center"?`${s}-center`:i,a={opacity:0,maxHeight:t,transform:oS[o],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:QI[o]},l={opacity:0,maxHeight:0,transform:oS[o]};return{...a,...{entering:c,entered:c,exiting:l,exited:l}[e]}}function ZI(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Qx=w.forwardRef(({data:e,onHide:t,autoClose:r,...n},s)=>{const{autoClose:i,message:o,...a}=e,c=ZI(r,e.autoClose),l=w.useRef(),d=()=>window.clearTimeout(l.current),u=()=>{t(e.id),d()},f=()=>{typeof c=="number"&&(l.current=window.setTimeout(u,c))};return w.useEffect(()=>{var p;(p=e.onOpen)==null||p.call(e,e)},[]),w.useEffect(()=>(f(),d),[c]),h.jsx(fv,{...n,...a,onClose:u,ref:s,onMouseEnter:d,onMouseLeave:f,children:o})});Qx.displayName="@mantine/notifications/NotificationContainer";var Jx={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const eO=Jn,tO={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:As("overlay"),store:gi,withinPortal:!0},rO=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":D(r)}}),Zn=K((e,t)=>{const r=z("Notifications",tO,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,position:l,autoClose:d,transitionDuration:u,containerWidth:f,notificationMaxHeight:p,limit:m,zIndex:g,store:v,portalProps:y,withinPortal:_,...S}=r,b=Jt(),C=AI(v),x=Tk(),E=yu(),R=w.useRef({}),P=w.useRef(0),$=(b.respectReducedMotion?E:!1)?1:u,B=ie({name:"Notifications",classes:Jx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:rO});w.useEffect(()=>{v==null||v.updateState(W=>({...W,limit:m||5,defaultPosition:l}))},[m,l]),Un(()=>{C.notifications.length>P.current&&setTimeout(()=>x(),0),P.current=C.notifications.length},[C.notifications]);const q=XI(C.notifications,l),A=Xx.reduce((W,I)=>(W[I]=q[I].map(({style:V,...T})=>h.jsx(eO,{timeout:$,onEnter:()=>R.current[T.id].offsetHeight,nodeRef:{current:R.current[T.id]},children:j=>h.jsx(Qx,{ref:O=>{R.current[T.id]=O},data:T,onHide:O=>Gx(O,v),autoClose:d,...B("notification",{style:{...JI({state:j,position:I,transitionDuration:$,maxHeight:p}),...V}})})},T.id)),W),{});return h.jsxs(ku,{withinPortal:_,...y,children:[h.jsx(N,{...B("root"),"data-position":"top-center",ref:t,...S,children:h.jsx(cs,{children:A["top-center"]})}),h.jsx(N,{...B("root"),"data-position":"top-left",...S,children:h.jsx(cs,{children:A["top-left"]})}),h.jsx(N,{...B("root"),"data-position":"top-right",...S,children:h.jsx(cs,{children:A["top-right"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-right",...S,children:h.jsx(cs,{children:A["bottom-right"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-left",...S,children:h.jsx(cs,{children:A["bottom-left"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-center",...S,children:h.jsx(cs,{children:A["bottom-center"]})})]})});Zn.classes=Jx;Zn.displayName="@mantine/notifications/Notifications";Zn.show=Ms.show;Zn.hide=Ms.hide;Zn.update=Ms.update;Zn.clean=Ms.clean;Zn.cleanQueue=Ms.cleanQueue;Zn.updateState=Ms.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const aS="popstate";function nO(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:c=""}=vi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Gh("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Kd(i))}function n(s,i){Sv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return iO(t,r,n,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sO(){return Math.random().toString(36).substr(2,8)}function cS(e,t){return{usr:e.state,key:e.key,idx:t}}function Gh(e,t,r,n){return r===void 0&&(r=null),lc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vi(t):t,{state:r,key:t&&t.key||n||sO()})}function Kd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function iO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=hs.Pop,c=null,l=d();l==null&&(l=0,o.replaceState(lc({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function u(){a=hs.Pop;let v=d(),y=v==null?null:v-l;l=v,c&&c({action:a,location:g.location,delta:y})}function f(v,y){a=hs.Push;let _=Gh(g.location,v,y);r&&r(_,v),l=d()+1;let S=cS(_,l),b=g.createHref(_);try{o.pushState(S,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:a,location:g.location,delta:1})}function p(v,y){a=hs.Replace;let _=Gh(g.location,v,y);r&&r(_,v),l=d();let S=cS(_,l),b=g.createHref(_);o.replaceState(S,"",b),i&&c&&c({action:a,location:g.location,delta:0})}function m(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:Kd(v);return _=_.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let g={get action(){return a},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(aS,u),c=v,()=>{s.removeEventListener(aS,u),c=null}},createHref(v){return t(s,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var lS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lS||(lS={}));function oO(e,t,r){return r===void 0&&(r="/"),aO(e,t,r,!1)}function aO(e,t,r,n){let s=typeof t=="string"?vi(t):t,i=_v(s.pathname||"/",r);if(i==null)return null;let o=Zx(e);cO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=wO(i);a=vO(o[c],l,n)}return a}function Zx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=xs([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Zx(i.children,t,d,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:mO(l,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of eC(i.path))s(i,o,c)}),t}function eC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=eC(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function cO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lO=/^:[\w-]+$/,dO=3,uO=2,fO=1,pO=10,hO=-2,dS=e=>e==="*";function mO(e,t){let r=e.split("/"),n=r.length;return r.some(dS)&&(n+=hO),t&&(n+=uO),r.filter(s=>!dS(s)).reduce((s,i)=>s+(lO.test(i)?dO:i===""?fO:pO),n)}function gO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function vO(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],l=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",u=uS({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},d),f=c.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=uS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:xs([i,u.pathname]),pathnameBase:xO(xs([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=xs([i,u.pathnameBase]))}return o}function uS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((l,d,u)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[u]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[u];return p&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function yO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function wO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _v(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function SO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?vi(e):e;return{pathname:r?r.startsWith("/")?r:_O(r,t):t,search:CO(n),hash:RO(s)}}function _O(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function _p(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tC(e,t){let r=bO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rC(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=vi(e):(s=lc({},e),it(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let u=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;s.pathname=f.join("/")}a=u>=0?t[u]:"/"}let c=SO(s,a),l=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}const xs=e=>e.join("/").replace(/\/\/+/g,"/"),xO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nC=["post","put","patch","delete"];new Set(nC);const TO=["get",...nC];new Set(TO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}const bv=w.createContext(null),PO=w.createContext(null),yi=w.createContext(null),tf=w.createContext(null),wi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),sC=w.createContext(null);function kO(e,t){let{relative:r}=t===void 0?{}:t;Pc()||it(!1);let{basename:n,navigator:s}=w.useContext(yi),{hash:i,pathname:o,search:a}=oC(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:xs([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Pc(){return w.useContext(tf)!=null}function rf(){return Pc()||it(!1),w.useContext(tf).location}function iC(e){w.useContext(yi).static||w.useLayoutEffect(e)}function Ko(){let{isDataRoute:e}=w.useContext(wi);return e?UO():DO()}function DO(){Pc()||it(!1);let e=w.useContext(bv),{basename:t,future:r,navigator:n}=w.useContext(yi),{matches:s}=w.useContext(wi),{pathname:i}=rf(),o=JSON.stringify(tC(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return iC(()=>{a.current=!0}),w.useCallback(function(l,d){if(d===void 0&&(d={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=rC(l,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:xs([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,o,i,e])}function oC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(yi),{matches:s}=w.useContext(wi),{pathname:i}=rf(),o=JSON.stringify(tC(s,n.v7_relativeSplatPath));return w.useMemo(()=>rC(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function LO(e,t){return jO(e,t)}function jO(e,t,r,n){Pc()||it(!1);let{navigator:s}=w.useContext(yi),{matches:i}=w.useContext(wi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=rf(),d;if(t){var u;let v=typeof t=="string"?vi(t):t;c==="/"||(u=v.pathname)!=null&&u.startsWith(c)||it(!1),d=v}else d=l;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=oO(e,{pathname:p}),g=$O(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:xs([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:xs([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?w.createElement(tf.Provider,{value:{location:dc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hs.Pop}},g):g}function MO(){let e=BO(),t=EO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const IO=w.createElement(MO,null);class OO extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(wi.Provider,{value:this.props.routeContext},w.createElement(sC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NO(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(bv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(wi.Provider,{value:t},n)}function $O(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:f,errors:p}=r,m=u.route.loader&&f[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,u,f)=>{let p,m=!1,g=null,v=null;r&&(p=a&&u.route.id?a[u.route.id]:void 0,g=u.route.errorElement||IO,c&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=u.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),_=()=>{let S;return p?S=g:m?S=v:u.route.Component?S=w.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=d,w.createElement(NO,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:S})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?w.createElement(OO,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var aC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aC||{}),Gd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gd||{});function AO(e){let t=w.useContext(bv);return t||it(!1),t}function FO(e){let t=w.useContext(PO);return t||it(!1),t}function zO(e){let t=w.useContext(wi);return t||it(!1),t}function cC(e){let t=zO(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function BO(){var e;let t=w.useContext(sC),r=FO(Gd.UseRouteError),n=cC(Gd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UO(){let{router:e}=AO(aC.UseNavigateStable),t=cC(Gd.UseNavigateStable),r=w.useRef(!1);return iC(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,dc({fromRouteId:t},i)))},[e,t])}const fS={};function VO(e,t){fS[t]||(fS[t]=!0,console.warn(t))}const pS=(e,t,r)=>VO(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function HO(e,t){e!=null&&e.v7_startTransition||pS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&pS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ea(e){it(!1)}function WO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=hs.Pop,navigator:i,static:o=!1,future:a}=e;Pc()&&it(!1);let c=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:c,navigator:i,static:o,future:dc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=vi(n));let{pathname:d="/",search:u="",hash:f="",state:p=null,key:m="default"}=n,g=w.useMemo(()=>{let v=_v(d,c);return v==null?null:{location:{pathname:v,search:u,hash:f,state:p,key:m},navigationType:s}},[c,d,u,f,p,m,s]);return g==null?null:w.createElement(yi.Provider,{value:l},w.createElement(tf.Provider,{children:r,value:g}))}function qO(e){let{children:t,location:r}=e;return LO(Yh(t),r)}new Promise(()=>{});function Yh(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Yh(n.props.children,i));return}n.type!==Ea&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function KO(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function GO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YO(e,t){return e.button===0&&(!t||t==="_self")&&!GO(e)}const XO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QO="6";try{window.__reactRouterVersion=QO}catch{}const JO="startTransition",hS=pd[JO];function ZO(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=nO({window:s,v5Compat:!0}));let o=i.current,[a,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},d=w.useCallback(u=>{l&&hS?hS(()=>c(u)):c(u)},[c,l]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>HO(n),[n]),w.createElement(WO,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const eN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mS=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:d,viewTransition:u}=t,f=KO(t,XO),{basename:p}=w.useContext(yi),m,g=!1;if(typeof l=="string"&&tN.test(l)&&(m=l,eN))try{let S=new URL(window.location.href),b=l.startsWith("//")?new URL(S.protocol+l):new URL(l),C=_v(b.pathname,p);b.origin===S.origin&&C!=null?l=C+b.search+b.hash:g=!0}catch{}let v=kO(l,{relative:s}),y=rN(l,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:u});function _(S){n&&n(S),S.defaultPrevented||y(S)}return w.createElement("a",Xh({},f,{href:m||v,onClick:g||i?n:_,ref:r,target:c}))});var gS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gS||(gS={}));var vS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vS||(vS={}));function rN(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ko(),l=rf(),d=oC(e,{relative:o});return w.useCallback(u=>{if(YO(u,r)){u.preventDefault();let f=n!==void 0?n:Kd(l)===Kd(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,d,n,s,r,e,i,o,a])}const bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";const ql=Object.create(null);Object.keys(bn).forEach(e=>{ql[bn[e]]=e});const Qh={type:"error",data:"parser error"},lC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",dC=typeof ArrayBuffer=="function",uC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,xv=({type:e,data:t},r,n)=>lC&&t instanceof Blob?r?n(t):yS(t,n):dC&&(t instanceof ArrayBuffer||uC(t))?r?n(t):yS(new Blob([t]),n):n(bn[e]+(t||"")),yS=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function wS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let bp;function nN(e,t){if(lC&&e.data instanceof Blob)return e.data.arrayBuffer().then(wS).then(t);if(dC&&(e.data instanceof ArrayBuffer||uC(e.data)))return t(wS(e.data));xv(e,!1,r=>{bp||(bp=new TextEncoder),t(bp.encode(r))})}const SS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<SS.length;e++)Ta[SS.charCodeAt(e)]=e;const sN=e=>{let t=e.length*.75,r=e.length,n,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),d=new Uint8Array(l);for(n=0;n<r;n+=4)i=Ta[e.charCodeAt(n)],o=Ta[e.charCodeAt(n+1)],a=Ta[e.charCodeAt(n+2)],c=Ta[e.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|c&63;return l},iN=typeof ArrayBuffer=="function",Cv=(e,t)=>{if(typeof e!="string")return{type:"message",data:fC(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:oN(e.substring(1),t)}:ql[r]?e.length>1?{type:ql[r],data:e.substring(1)}:{type:ql[r]}:Qh},oN=(e,t)=>{if(iN){const r=sN(e);return fC(r,t)}else return{base64:!0,data:e}},fC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},pC="",aN=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,o)=>{xv(i,!1,a=>{n[o]=a,++s===r&&t(n.join(pC))})})},cN=(e,t)=>{const r=e.split(pC),n=[];for(let s=0;s<r.length;s++){const i=Cv(r[s],t);if(n.push(i),i.type==="error")break}return n};function lN(){return new TransformStream({transform(e,t){nN(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let xp;function pl(e){return e.reduce((t,r)=>t+r.length,0)}function hl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function dN(e,t){xp||(xp=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(pl(r)<1)break;const c=hl(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(pl(r)<2)break;const c=hl(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(pl(r)<8)break;const c=hl(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Qh);break}s=d*Math.pow(2,32)+l.getUint32(4),n=3}else{if(pl(r)<s)break;const c=hl(r,s);a.enqueue(Cv(i?c:xp.decode(c),t)),n=0}if(s===0||s>e){a.enqueue(Qh);break}}}})}const hC=4;function st(e){if(e)return uN(e)}function uN(e){for(var t in st.prototype)e[t]=st.prototype[t];return e}st.prototype.on=st.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};st.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};st.prototype.off=st.prototype.removeListener=st.prototype.removeAllListeners=st.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};st.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};st.prototype.emitReserved=st.prototype.emit;st.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};st.prototype.hasListeners=function(e){return!!this.listeners(e).length};const nf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),yr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fN="arraybuffer";function mC(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const pN=yr.setTimeout,hN=yr.clearTimeout;function sf(e,t){t.useNativeTimers?(e.setTimeoutFn=pN.bind(yr),e.clearTimeoutFn=hN.bind(yr)):(e.setTimeoutFn=yr.setTimeout.bind(yr),e.clearTimeoutFn=yr.clearTimeout.bind(yr))}const mN=1.33;function gN(e){return typeof e=="string"?vN(e):Math.ceil((e.byteLength||e.size)*mN)}function vN(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function gC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yN(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function wN(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class SN extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Rv=class extends st{constructor(t){super(),this.writable=!1,sf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new SN(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Cv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=yN(t);return r.length?"?"+r:""}};class _N extends Rv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};cN(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,aN(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=gC()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let vC=!1;try{vC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const bN=vC;function xN(){}class CN extends _N{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class yn extends st{constructor(t,r,n){super(),this.createRequest=t,sf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=mC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=yn.requestsCount++,yn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xN,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yn.requestsCount=0;yn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_S);else if(typeof addEventListener=="function"){const e="onpagehide"in yr?"pagehide":"unload";addEventListener(e,_S,!1)}}function _S(){for(let e in yn.requests)yn.requests.hasOwnProperty(e)&&yn.requests[e].abort()}const RN=function(){const e=yC({xdomain:!1});return e&&e.responseType!==null}();class EN extends CN{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=RN&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new yn(yC,this.uri(),t)}}function yC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bN))return new XMLHttpRequest}catch{}if(!t)try{return new yr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class TN extends Rv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=wC?{}:mC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;xv(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&nf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=gC()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Cp=yr.WebSocket||yr.MozWebSocket;class PN extends TN{createSocket(t,r,n){return wC?new Cp(t,r,n):r?new Cp(t,r):new Cp(t)}doWrite(t,r){this.ws.send(r)}}class kN extends Rv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=dN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=lN();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&nf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const DN={websocket:PN,webtransport:kN,polling:EN},LN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=LN.exec(e||""),i={},o=14;for(;o--;)i[jN[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=MN(i,i.path),i.queryKey=IN(i,i.query),i}function MN(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function IN(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Zh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kl=[];Zh&&addEventListener("offline",()=>{Kl.forEach(e=>e())},!1);class Cs extends st{constructor(t,r){if(super(),this.binaryType=fN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Jh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Jh(r.host).host);sf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wN(this.opts.query)),Zh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=hC,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Cs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Cs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=gN(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,nf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Cs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Kl.indexOf(this._offlineEventListener);n!==-1&&Kl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Cs.protocol=hC;class ON extends Cs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Cs.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Cs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const o=u=>{const f=new Error("probe error: "+u);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function c(){o("socket closed")}function l(u){r&&u.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let NN=class extends ON{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>DN[s]).filter(s=>!!s)),super(t,n)}};function $N(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Jh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const AN=typeof ArrayBuffer=="function",FN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,SC=Object.prototype.toString,zN=typeof Blob=="function"||typeof Blob<"u"&&SC.call(Blob)==="[object BlobConstructor]",BN=typeof File=="function"||typeof File<"u"&&SC.call(File)==="[object FileConstructor]";function Ev(e){return AN&&(e instanceof ArrayBuffer||FN(e))||zN&&e instanceof Blob||BN&&e instanceof File}function Gl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Gl(e[r]))return!0;return!1}if(Ev(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Gl(e[r]))return!0;return!1}function UN(e){const t=[],r=e.data,n=e;return n.data=em(r,t),n.attachments=t.length,{packet:n,buffers:t}}function em(e,t){if(!e)return e;if(Ev(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=em(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=em(e[n],t));return r}return e}function VN(e,t){return e.data=tm(e.data,t),delete e.attachments,e}function tm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=tm(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=tm(e[r],t));return e}const HN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],WN=5;var fe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class qN{constructor(t){this.replacer=t}encode(t){return(t.type===fe.EVENT||t.type===fe.ACK)&&Gl(t)?this.encodeAsBinary({type:t.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=UN(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function bS(e){return Object.prototype.toString.call(e)==="[object Object]"}class Tv extends st{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===fe.BINARY_EVENT;n||r.type===fe.BINARY_ACK?(r.type=n?fe.EVENT:fe.ACK,this.reconstructor=new KN(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Ev(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===fe.BINARY_EVENT||n.type===fe.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Tv.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case fe.CONNECT:return bS(r);case fe.DISCONNECT:return r===void 0;case fe.CONNECT_ERROR:return typeof r=="string"||bS(r);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&HN.indexOf(r[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KN{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=VN(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const GN=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tv,Encoder:qN,get PacketType(){return fe},protocol:WN},Symbol.toStringTag,{value:"Module"}));function Or(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const YN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _C extends st{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Or(t,"open",this.onopen.bind(this)),Or(t,"packet",this.onpacket.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(YN.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,u=r.pop();this._registerAckCallback(d,u),o.id=d}const a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case fe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(t);break;case fe.ACK:case fe.BINARY_ACK:this.onack(t);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:fe.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Go(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Go.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Go.prototype.reset=function(){this.attempts=0};Go.prototype.setMin=function(e){this.ms=e};Go.prototype.setMax=function(e){this.max=e};Go.prototype.setJitter=function(e){this.jitter=e};class rm extends st{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,sf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Go({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||GN;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new NN(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Or(r,"open",function(){n.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Or(r,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Or(t,"ping",this.onping.bind(this)),Or(t,"data",this.ondata.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this)),Or(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){nf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new _C(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ha={};function Yl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=$N(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=ha[s]&&i in ha[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new rm(n,t):(ha[s]||(ha[s]=new rm(n,t)),c=ha[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Yl,{Manager:rm,Socket:_C,io:Yl,connect:Yl});const bt="https://hitscord-backend.online/api",XN="https://hitscord-backend.ru/mediasoup",pe=Yl(XN);pe.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var bC={},nm={exports:{}},Rp,xS;function QN(){if(xS)return Rp;xS=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;Rp=function(d,u){u=u||{};var f=typeof d;if(f==="string"&&d.length>0)return o(d);if(f==="number"&&isFinite(d))return u.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(u){var f=parseFloat(u[1]),p=(u[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(d){var u=Math.abs(d);return u>=n?Math.round(d/n)+"d":u>=r?Math.round(d/r)+"h":u>=t?Math.round(d/t)+"m":u>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var u=Math.abs(d);return u>=n?l(d,u,n,"day"):u>=r?l(d,u,r,"hour"):u>=t?l(d,u,t,"minute"):u>=e?l(d,u,e,"second"):d+" ms"}function l(d,u,f,p){var m=u>=f*1.5;return Math.round(d/f)+" "+p+(m?"s":"")}return Rp}function JN(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=s,r.enabled=o,r.humanize=QN(),r.destroy=l,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let u=0;for(let f=0;f<d.length;f++)u=(u<<5)-u+d.charCodeAt(f),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=t;function r(d){let u,f=null,p,m;function g(...v){if(!g.enabled)return;const y=g,_=Number(new Date),S=_-(u||_);y.diff=S,y.prev=u,y.curr=_,u=_,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let b=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(x,E)=>{if(x==="%%")return"%";b++;const R=r.formatters[E];if(typeof R=="function"){const P=v[b];x=R.call(y,P),v.splice(b,1),b--}return x}),r.formatArgs.call(y,v),(y.log||r.log).apply(y,v)}return g.namespace=d,g.useColors=r.useColors(),g.color=r.selectColor(d),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(d)),m),set:v=>{f=v}}),typeof r.init=="function"&&r.init(g),g}function n(d,u){const f=r(this.namespace+(typeof u>"u"?":":u)+d);return f.log=this.log,f}function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let u;const f=(typeof d=="string"?d:"").split(/[\s,]+/),p=f.length;for(u=0;u<p;u++)f[u]&&(d=f[u].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...r.names.map(a),...r.skips.map(a).map(u=>"-"+u)].join(",");return r.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let u,f;for(u=0,f=r.skips.length;u<f;u++)if(r.skips[u].test(d))return!1;for(u=0,f=r.names.length;u<f;u++)if(r.names[u].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var ZN=JN;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;l.splice(1,0,d,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(u++,p==="%c"&&(f=u))}),l.splice(f,0,d)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=ZN(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(nm,nm.exports);var of=nm.exports,Yo={},sm={exports:{}};(function(e,t){(function(r,n){var s="1.0.39",i="",o="?",a="function",c="undefined",l="object",d="string",u="major",f="model",p="name",m="type",g="vendor",v="version",y="architecture",_="console",S="mobile",b="tablet",C="smarttv",x="wearable",E="embedded",R=500,P="Amazon",L="Apple",$="ASUS",B="BlackBerry",q="Browser",A="Chrome",W="Edge",I="Firefox",V="Google",T="Huawei",j="LG",O="Microsoft",M="Motorola",U="Opera",J="Samsung",me="Sharp",Ee="Sony",Te="Xiaomi",de="Zebra",mt="Facebook",fr="Chromium OS",pr="Mac OS",Xr=" Browser",Ze=function(oe,he){var G={};for(var ce in oe)he[ce]&&he[ce].length%2===0?G[ce]=he[ce].concat(oe[ce]):G[ce]=oe[ce];return G},et=function(oe){for(var he={},G=0;G<oe.length;G++)he[oe[G].toUpperCase()]=oe[G];return he},je=function(oe,he){return typeof oe===d?at(he).indexOf(at(oe))!==-1:!1},at=function(oe){return oe.toLowerCase()},Lr=function(oe){return typeof oe===d?oe.replace(/[^\d\.]/g,i).split(".")[0]:n},qe=function(oe,he){if(typeof oe===d)return oe=oe.replace(/^\s\s*/,i),typeof he===c?oe:oe.substring(0,R)},Ct=function(oe,he){for(var G=0,ce,er,Qr,Se,re,Jr;G<he.length&&!re;){var jf=he[G],sy=he[G+1];for(ce=er=0;ce<jf.length&&!re&&jf[ce];)if(re=jf[ce++].exec(oe),re)for(Qr=0;Qr<sy.length;Qr++)Jr=re[++er],Se=sy[Qr],typeof Se===l&&Se.length>0?Se.length===2?typeof Se[1]==a?this[Se[0]]=Se[1].call(this,Jr):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===a&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=Jr?Se[1].call(this,Jr,Se[2]):n:this[Se[0]]=Jr?Jr.replace(Se[1],Se[2]):n:Se.length===4&&(this[Se[0]]=Jr?Se[3].call(this,Jr.replace(Se[1],Se[2])):n):this[Se]=Jr||n;G+=2}},ze=function(oe,he){for(var G in he)if(typeof he[G]===l&&he[G].length>0){for(var ce=0;ce<he[G].length;ce++)if(je(he[G][ce],oe))return G===o?n:G}else if(je(he[G],oe))return G===o?n:G;return he.hasOwnProperty("*")?he["*"]:oe},gt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},hr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Tn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,U+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[p,U+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[p,U]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+q]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+q],v],[/\bfocus\/([\w\.]+)/i],[v,[p,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI "+q]],[/fxios\/([-\w\.]+)/i],[v,[p,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+Xr]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Xr],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,J+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,mt],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,ze,gt]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/(wolvic)\/([\w\.]+)/i],[p,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,at]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,i,at]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,at]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,J],[m,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,J],[m,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,L],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,L],[m,b]],[/(macintosh);/i],[f,[g,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,me],[m,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,T],[m,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,T],[m,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[g,Te],[m,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,Te],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,S]],[/\b(opd2\d{3}a?) bui/i],[f,[g,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,M],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,M],[m,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,j],[m,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,j],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,S]],[/(pixel c)\b/i],[f,[g,V],[m,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,V],[m,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,Ee],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,Ee],[m,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,P],[m,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,P],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,B],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,$],[m,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,$],[m,S]],[/(nexus 9)/i],[f,[g,"HTC"],[m,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,b]],[/(itel) ((\w+))/i],[[g,at],f,[m,ze,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,b]],[/(surface duo)/i],[f,[g,O],[m,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,S]],[/(u304aa)/i],[f,[g,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,b]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,b]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,b]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,b]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,b]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,S]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,b]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,b]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,b]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,b]],[/(sprint) (\w+)/i],[g,f,[m,S]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,O],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,de],[m,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,de],[m,S]],[/smart-tv.+(samsung)/i],[g,[m,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,J],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,j],[m,C]],[/(apple) ?tv/i],[g,[f,L+" TV"],[m,C]],[/crkey/i],[[f,A+"cast"],[g,V],[m,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,P],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,me],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,Ee],[m,C]],[/(mitv-\w{5}) bui/i],[f,[g,Te],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,qe],[f,qe],[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,_]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,_]],[/(playstation [345portablevi]+)/i],[f,[g,Ee],[m,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,O],[m,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[g,J],[m,x]],[/((pebble))app/i],[g,f,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,L],[m,x]],[/droid.+; (glass) \d/i],[f,[g,V],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,de],[m,x]],[/(quest( \d| pro)?)/i],[f,[g,mt],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,E]],[/(aeobc)\b/i],[f,[g,P],[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,W+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,ze,hr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,ze,hr],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,pr],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,B]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,fr],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},$e=function(oe,he){if(typeof oe===l&&(he=oe,oe=n),!(this instanceof $e))return new $e(oe,he).getResult();var G=typeof r!==c&&r.navigator?r.navigator:n,ce=oe||(G&&G.userAgent?G.userAgent:i),er=G&&G.userAgentData?G.userAgentData:n,Qr=he?Ze(Tn,he):Tn,Se=G&&G.userAgent==ce;return this.getBrowser=function(){var re={};return re[p]=n,re[v]=n,Ct.call(re,ce,Qr.browser),re[u]=Lr(re[v]),Se&&G&&G.brave&&typeof G.brave.isBrave==a&&(re[p]="Brave"),re},this.getCPU=function(){var re={};return re[y]=n,Ct.call(re,ce,Qr.cpu),re},this.getDevice=function(){var re={};return re[g]=n,re[f]=n,re[m]=n,Ct.call(re,ce,Qr.device),Se&&!re[m]&&er&&er.mobile&&(re[m]=S),Se&&re[f]=="Macintosh"&&G&&typeof G.standalone!==c&&G.maxTouchPoints&&G.maxTouchPoints>2&&(re[f]="iPad",re[m]=b),re},this.getEngine=function(){var re={};return re[p]=n,re[v]=n,Ct.call(re,ce,Qr.engine),re},this.getOS=function(){var re={};return re[p]=n,re[v]=n,Ct.call(re,ce,Qr.os),Se&&!re[p]&&er&&er.platform&&er.platform!="Unknown"&&(re[p]=er.platform.replace(/chrome os/i,fr).replace(/macos/i,pr)),re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ce},this.setUA=function(re){return ce=typeof re===d&&re.length>R?qe(re,R):re,this},this.setUA(ce),this};$e.VERSION=s,$e.BROWSER=et([p,v,u]),$e.CPU=et([y]),$e.DEVICE=et([f,g,m,_,S,C,b,x,E]),$e.ENGINE=$e.OS=et([p,v]),e.exports&&(t=e.exports=$e),t.UAParser=$e;var ut=typeof r!==c&&(r.jQuery||r.Zepto);if(ut&&!ut.ua){var Bs=new $e;ut.ua=Bs.getResult(),ut.ua.get=function(){return Bs.getUA()},ut.ua.set=function(oe){Bs.setUA(oe);var he=Bs.getResult();for(var G in he)ut.ua[G]=he[G]}}})(typeof window=="object"?window:k)})(sm,sm.exports);var e$=sm.exports,We={},t$=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});We.Logger=void 0;const Di=t$(of),Li="mediasoup-client";let r$=class{constructor(t){t?(this._debug=(0,Di.default)(`${Li}:${t}`),this._warn=(0,Di.default)(`${Li}:WARN:${t}`),this._error=(0,Di.default)(`${Li}:ERROR:${t}`)):(this._debug=(0,Di.default)(Li),this._warn=(0,Di.default)(`${Li}:WARN`),this._error=(0,Di.default)(`${Li}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};We.Logger=r$;var Cn={},Pv={exports:{}},wo=typeof Reflect=="object"?Reflect:null,CS=wo&&typeof wo.apply=="function"?wo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Xl;wo&&typeof wo.ownKeys=="function"?Xl=wo.ownKeys:Object.getOwnPropertySymbols?Xl=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Xl=function(t){return Object.getOwnPropertyNames(t)};function n$(e){console&&console.warn&&console.warn(e)}var xC=Number.isNaN||function(t){return t!==t};function Re(){Re.init.call(this)}Pv.exports=Re;Pv.exports.once=a$;Re.EventEmitter=Re;Re.prototype._events=void 0;Re.prototype._eventsCount=0;Re.prototype._maxListeners=void 0;var RS=10;function af(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return RS},set:function(e){if(typeof e!="number"||e<0||xC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");RS=e}});Re.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Re.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||xC(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function CC(e){return e._maxListeners===void 0?Re.defaultMaxListeners:e._maxListeners}Re.prototype.getMaxListeners=function(){return CC(this)};Re.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")CS(c,this,r);else for(var l=c.length,d=kC(c,l),n=0;n<l;++n)CS(d[n],this,r);return!0};function RC(e,t,r,n){var s,i,o;if(af(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),o===void 0)o=i[t]=r,++e._eventsCount;else if(typeof o=="function"?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=CC(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,n$(a)}return e}Re.prototype.addListener=function(t,r){return RC(this,t,r,!1)};Re.prototype.on=Re.prototype.addListener;Re.prototype.prependListener=function(t,r){return RC(this,t,r,!0)};function s$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function EC(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=s$.bind(n);return s.listener=r,n.wrapFn=s,s}Re.prototype.once=function(t,r){return af(r),this.on(t,EC(this,t,r)),this};Re.prototype.prependOnceListener=function(t,r){return af(r),this.prependListener(t,EC(this,t,r)),this};Re.prototype.removeListener=function(t,r){var n,s,i,o,a;if(af(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():i$(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function TC(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?o$(s):kC(s,s.length)}Re.prototype.listeners=function(t){return TC(this,t,!0)};Re.prototype.rawListeners=function(t){return TC(this,t,!1)};Re.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):PC.call(e,t)};Re.prototype.listenerCount=PC;function PC(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Re.prototype.eventNames=function(){return this._eventsCount>0?Xl(this._events):[]};function kC(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function i$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function o$(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function a$(e,t){return new Promise(function(r,n){function s(o){e.removeListener(t,i),n(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}DC(e,t,i,{once:!0}),t!=="error"&&c$(e,s,{once:!0})})}function c$(e,t,r){typeof e.on=="function"&&DC(e,"error",t,r)}function DC(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var l$=Pv.exports;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.EnhancedEventEmitter=void 0;const d$=l$,u$=We,f$=new u$.Logger("EnhancedEventEmitter");class p$ extends d$.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...r){return super.emit(t,...r)}safeEmit(t,...r){try{return super.emit(t,...r)}catch(n){f$.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,n);try{super.emit("listenererror",t,n)}catch{}return!!super.listenerCount(t)}}on(t,r){return super.on(t,r),this}off(t,r){return super.off(t,r),this}addListener(t,r){return super.on(t,r),this}prependListener(t,r){return super.prependListener(t,r),this}once(t,r){return super.once(t,r),this}prependOnceListener(t,r){return super.prependOnceListener(t,r),this}removeListener(t,r){return super.off(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}Cn.EnhancedEventEmitter=p$;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.InvalidStateError=ot.UnsupportedError=void 0;class kv extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,kv):this.stack=new Error(t).stack}}ot.UnsupportedError=kv;class Dv extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Dv):this.stack=new Error(t).stack}}ot.InvalidStateError=Dv;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.clone=h$;Je.generateRandomNumber=m$;Je.deepFreeze=LC;function h$(e){if(e!==void 0)return Number.isNaN(e)?NaN:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}function m$(){return Math.round(Math.random()*1e7)}function LC(e){const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&LC(n)}return Object.freeze(e)}var Le={},Ke={},cf={},g$=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cf,"__esModule",{value:!0});cf.Logger=void 0;const ji=g$(of),Mi="h264-profile-level-id";let v$=class{constructor(t){t?(this._debug=(0,ji.default)(`${Mi}:${t}`),this._warn=(0,ji.default)(`${Mi}:WARN:${t}`),this._error=(0,ji.default)(`${Mi}:ERROR:${t}`)):(this._debug=(0,ji.default)(Mi),this._warn=(0,ji.default)(`${Mi}:WARN`),this._error=(0,ji.default)(`${Mi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};cf.Logger=v$;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.generateProfileLevelIdStringForAnswer=Ke.isSameProfile=Ke.parseSdpProfileLevelId=Ke.levelToString=Ke.profileToString=Ke.profileLevelIdToString=Ke.parseProfileLevelId=Ke.ProfileLevelId=Ke.Level=Ke.Profile=void 0;const y$=cf,Is=new y$.Logger;var Pe;(function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"})(Pe||(Ke.Profile=Pe={}));var ne;(function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"})(ne||(Ke.Level=ne={}));class lf{constructor(t,r){this.profile=t,this.level=r}}Ke.ProfileLevelId=lf;const w$=new lf(Pe.ConstrainedBaseline,ne.L3_1);class Pn{constructor(t){this.mask=~ES("x",t),this.masked_value=ES("1",t)}isMatch(t){return this.masked_value===(t&this.mask)}}class kn{constructor(t,r,n){this.profile_idc=t,this.profile_iop=r,this.profile=n}}const S$=[new kn(66,new Pn("x1xx0000"),Pe.ConstrainedBaseline),new kn(77,new Pn("1xxx0000"),Pe.ConstrainedBaseline),new kn(88,new Pn("11xx0000"),Pe.ConstrainedBaseline),new kn(66,new Pn("x0xx0000"),Pe.Baseline),new kn(88,new Pn("10xx0000"),Pe.Baseline),new kn(77,new Pn("0x0x0000"),Pe.Main),new kn(100,new Pn("00000000"),Pe.High),new kn(100,new Pn("00001100"),Pe.ConstrainedHigh),new kn(244,new Pn("00000000"),Pe.PredictiveHigh444)];function jC(e){if(typeof e!="string"||e.length!==6)return;const r=parseInt(e,16);if(r===0)return;const n=r&255,s=r>>8&255,i=r>>16&255;let o;switch(n){case ne.L1_1:{o=s&16?ne.L1_b:ne.L1_1;break}case ne.L1:case ne.L1_2:case ne.L1_3:case ne.L2:case ne.L2_1:case ne.L2_2:case ne.L3:case ne.L3_1:case ne.L3_2:case ne.L4:case ne.L4_1:case ne.L4_2:case ne.L5:case ne.L5_1:case ne.L5_2:{o=n;break}default:{Is.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${n}]`);return}}for(const a of S$)if(i===a.profile_idc&&a.profile_iop.isMatch(s))return new lf(a.profile,o);Is.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${i}, profile_iop:${s}]`)}Ke.parseProfileLevelId=jC;function MC(e){if(e.level==ne.L1_b)switch(e.profile){case Pe.ConstrainedBaseline:return"42f00b";case Pe.Baseline:return"42100b";case Pe.Main:return"4d100b";default:{Is.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`);return}}let t;switch(e.profile){case Pe.ConstrainedBaseline:{t="42e0";break}case Pe.Baseline:{t="4200";break}case Pe.Main:{t="4d00";break}case Pe.ConstrainedHigh:{t="640c";break}case Pe.High:{t="6400";break}case Pe.PredictiveHigh444:{t="f400";break}default:{Is.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`);return}}let r=e.level.toString(16);return r.length===1&&(r=`0${r}`),`${t}${r}`}Ke.profileLevelIdToString=MC;function _$(e){switch(e){case Pe.ConstrainedBaseline:return"ConstrainedBaseline";case Pe.Baseline:return"Baseline";case Pe.Main:return"Main";case Pe.ConstrainedHigh:return"ConstrainedHigh";case Pe.High:return"High";case Pe.PredictiveHigh444:return"PredictiveHigh444";default:{Is.warn(`profileToString() | unrecognized profile ${e}`);return}}}Ke.profileToString=_$;function b$(e){switch(e){case ne.L1_b:return"1b";case ne.L1:return"1";case ne.L1_1:return"1.1";case ne.L1_2:return"1.2";case ne.L1_3:return"1.3";case ne.L2:return"2";case ne.L2_1:return"2.1";case ne.L2_2:return"2.2";case ne.L3:return"3";case ne.L3_1:return"3.1";case ne.L3_2:return"3.2";case ne.L4:return"4";case ne.L4_1:return"4.1";case ne.L4_2:return"4.2";case ne.L5:return"5";case ne.L5_1:return"5.1";case ne.L5_2:return"5.2";default:{Is.warn(`levelToString() | unrecognized level ${e}`);return}}}Ke.levelToString=b$;function uc(e={}){const t=e["profile-level-id"];return t?jC(t):w$}Ke.parseSdpProfileLevelId=uc;function x$(e={},t={}){const r=uc(e),n=uc(t);return!!(r&&n&&r.profile===n.profile)}Ke.isSameProfile=x$;function C$(e={},t={}){if(!e["profile-level-id"]&&!t["profile-level-id"]){Is.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const r=uc(e),n=uc(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!n)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==n.profile)throw new TypeError("H264 Profile mismatch");const s=TS(e)&&TS(t),i=r.level,o=n.level,a=E$(i,o),c=s?i:a;return Is.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${c}]`),MC(new lf(r.profile,c))}Ke.generateProfileLevelIdStringForAnswer=C$;function ES(e,t){return+(t[0]===e)<<7|+(t[1]===e)<<6|+(t[2]===e)<<5|+(t[3]===e)<<4|+(t[4]===e)<<3|+(t[5]===e)<<2|+(t[6]===e)<<1|+(t[7]===e)<<0}function R$(e,t){return e===ne.L1_b?t!==ne.L1&&t!==ne.L1_b:t===ne.L1_b?e!==ne.L1:e<t}function E$(e,t){return R$(e,t)?e:t}function TS(e={}){const t=e["level-asymmetry-allowed"];return t===!0||t===1||t==="1"}var T$=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P$=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&T$(t,e,r);return P$(t,e),t};Object.defineProperty(Le,"__esModule",{value:!0});Le.validateRtpCapabilities=M$;Le.validateRtpParameters=Lv;Le.validateSctpStreamParameters=I$;Le.validateSctpCapabilities=O$;Le.getExtendedRtpCapabilities=N$;Le.getRecvRtpCapabilities=$$;Le.getSendingRtpParameters=A$;Le.getSendingRemoteRtpParameters=F$;Le.reduceCodecs=z$;Le.generateProbatorRtpParameters=B$;Le.canSend=U$;Le.canReceive=V$;const PS=IC(Ke),k$=IC(Je),D$="probator",L$=1234,j$=127;function M$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)H$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)W$(t)}function Lv(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)q$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)K$(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)G$(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),Y$(e.rtcp)}function I$(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}function O$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");X$(e.numStreams)}function N$(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(Fa(n))continue;const s=(e.codecs??[]).find(o=>NC(o,n,{strict:!0,modify:!0}));if(!s)continue;const i={mimeType:s.mimeType,kind:s.kind,clockRate:s.clockRate,channels:s.channels,localPayloadType:s.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:s.parameters,remoteParameters:n.parameters,rtcpFeedback:J$(s,n)};r.codecs.push(i)}for(const n of r.codecs){const s=e.codecs.find(o=>Fa(o)&&o.parameters.apt===n.localPayloadType),i=t.codecs.find(o=>Fa(o)&&o.parameters.apt===n.remotePayloadType);s&&i&&(n.localRtxPayloadType=s.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const s=e.headerExtensions.find(o=>Q$(o,n));if(!s)continue;const i={kind:n.kind,uri:n.uri,sendId:s.preferredId,recvId:n.preferredId,encrypt:s.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":{i.direction="sendrecv";break}case"recvonly":{i.direction="sendonly";break}case"sendonly":{i.direction="recvonly";break}case"inactive":{i.direction="inactive";break}}r.headerExtensions.push(i)}return r}function $$(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const n={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(n),!r.remoteRtxPayloadType)continue;const s={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(s)}for(const r of e.headerExtensions){if(r.direction!=="sendrecv"&&r.direction!=="recvonly")continue;const n={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(n)}return t}function A$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}return r}function F$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}if(r.headerExtensions.some(n=>n.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="goog-remb");else if(r.headerExtensions.some(n=>n.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc");else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc"&&s.type!=="goog-remb");return r}function z$(e,t){const r=[];if(!t)r.push(e[0]),Fa(e[1])&&r.push(e[1]);else{for(let n=0;n<e.length;++n)if(NC(e[n],t,{strict:!0})){r.push(e[n]),Fa(e[n+1])&&r.push(e[n+1]);break}if(r.length===0)throw new TypeError("no matching codec found")}return r}function B$(e){e=k$.clone(e),Lv(e);const t={mid:D$,codecs:[],headerExtensions:[],encodings:[{ssrc:L$}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=j$,t.headerExtensions=e.headerExtensions,t}function U$(e,t){return t.codecs.some(r=>r.kind===e)}function V$(e,t){if(Lv(e),e.codecs.length===0)return!1;const r=e.codecs[0];return t.codecs.some(n=>n.remotePayloadType===r.payloadType)}function H$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const n of Object.keys(e.parameters)){let s=e.parameters[n];if(s===void 0&&(e.parameters[n]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${n}s, value:${s}]`);if(n==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)OC(n)}function OC(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}function W$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function q$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");r[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const s of Object.keys(e.parameters)){let i=e.parameters[s];if(i===void 0&&(e.parameters[s]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${s}s, value:${i}]`);if(s==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const s of e.rtcpFeedback)OC(s)}function K$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(r===void 0&&(e.parameters[t]="",r=""),typeof r!="string"&&typeof r!="number")throw new TypeError("invalid header extension parameter")}}function G$(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function Y$(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}function X$(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}function Fa(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function NC(e,t,{strict:r=!1,modify:n=!1}={}){const s=e.mimeType.toLowerCase(),i=t.mimeType.toLowerCase();if(s!==i||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(s){case"video/h264":{if(r){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!PS.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=PS.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch{return!1}n&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(r){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function Q$(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function J$(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const s=(t.rtcpFeedback??[]).find(i=>i.type===n.type&&(i.parameter===n.parameter||!i.parameter&&!n.parameter));s&&r.push(s)}return r}var kc={},Rs={},df={};Object.defineProperty(df,"__esModule",{value:!0});df.Logger=void 0;const Ii=of,Oi="awaitqueue";class Z${constructor(t){t?(this._debug=(0,Ii.default)(`${Oi}:${t}`),this._warn=(0,Ii.default)(`${Oi}:WARN:${t}`),this._error=(0,Ii.default)(`${Oi}:ERROR:${t}`)):(this._debug=(0,Ii.default)(Oi),this._warn=(0,Ii.default)(`${Oi}:WARN`),this._error=(0,Ii.default)(`${Oi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}df.Logger=Z$;Object.defineProperty(Rs,"__esModule",{value:!0});Rs.AwaitQueue=Rs.AwaitQueueRemovedTaskError=Rs.AwaitQueueStoppedError=void 0;const e3=df,ts=new e3.Logger;class uf extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,uf)}}Rs.AwaitQueueStoppedError=uf;class ff extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ff)}}Rs.AwaitQueueRemovedTaskError=ff;class t3{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,r){if(r=r??t.name,ts.debug(`push() [name:${r}]`),typeof t!="function")throw new TypeError("given task is not a function");if(r)try{Object.defineProperty(t,"name",{value:r})}catch{}return new Promise((n,s)=>{const i={id:this.nextTaskId++,task:t,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),ts.debug(`resolving task [name:${i.name}]`),n(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),ts.debug(`rejecting task [name:${i.name}]: %s`,String(o)),s(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(i.id,i),this.pendingTasks.size===1&&this.execute(i)})}stop(){ts.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())ts.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new uf);this.stopping=!1}remove(t){ts.debug(`remove() [taskIdx:${t}]`);const r=Array.from(this.pendingTasks.values())[t];if(!r){ts.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}r.reject(new ff)}dump(){const t=Date.now();let r=0;return Array.from(this.pendingTasks.values()).map(n=>({idx:r++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt-n.enqueuedAt:t-n.enqueuedAt,executionTime:n.executedAt?t-n.executedAt:0}))}async execute(t){if(ts.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const r=await t.task();t.resolve(r)}catch(r){t.reject(r)}}}Rs.AwaitQueue=t3;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let kS;var r3=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:k):e=>(kS||(kS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.Producer=void 0;const n3=We,DS=Cn,Ni=ot,en=new n3.Logger("Producer");class s3 extends DS.EnhancedEventEmitter{constructor({id:t,localId:r,rtpSender:n,track:s,rtpParameters:i,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new DS.EnhancedEventEmitter,en.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=s,this._kind=s.kind,this._rtpParameters=i,this._paused=a?!s.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(en.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(en.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new Ni.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(en.debug("pause()"),this._closed){en.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@pause",t,r)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(en.debug("resume()"),this._closed){en.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@resume",t,r)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(en.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new Ni.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new Ni.InvalidStateError("track ended");if(t===this._track){en.debug("replaceTrack() | same track, ignored");return}await new Promise((r,n)=>{this.safeEmit("@replacetrack",t,r,n)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new Ni.InvalidStateError("closed");if(this._kind!=="video")throw new Ni.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((r,n)=>{this.safeEmit("@setmaxspatiallayer",t,r,n)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new Ni.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((r,n)=>{this.safeEmit("@setrtpencodingparameters",t,r,n)})}onTrackEnded(){en.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Dc.Producer=s3;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Consumer=void 0;const i3=We,LS=Cn,o3=ot,tn=new i3.Logger("Consumer");class a3 extends LS.EnhancedEventEmitter{constructor({id:t,localId:r,producerId:n,rtpReceiver:s,track:i,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new LS.EnhancedEventEmitter,tn.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=s,this._track=i,this._rtpParameters=o,this._paused=!i.enabled,this._appData=a??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(tn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(tn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new o3.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(tn.debug("pause()"),this._closed){tn.error("pause() | Consumer closed");return}if(this._paused){tn.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(tn.debug("resume()"),this._closed){tn.error("resume() | Consumer closed");return}if(!this._paused){tn.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){tn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Lc.Consumer=a3;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.DataProducer=void 0;const c3=We,jS=Cn,l3=ot,Dn=new c3.Logger("DataProducer");class d3 extends jS.EnhancedEventEmitter{constructor({id:t,dataChannel:r,sctpStreamParameters:n,appData:s}){super(),this._closed=!1,this._observer=new jS.EnhancedEventEmitter,Dn.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=s??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Dn.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Dn.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Dn.debug("send()"),this._closed)throw new l3.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Dn.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Dn.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Dn.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Dn.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Dn.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}jc.DataProducer=d3;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.DataConsumer=void 0;const u3=We,MS=Cn,Us=new u3.Logger("DataConsumer");class f3 extends MS.EnhancedEventEmitter{constructor({id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:s,appData:i}){super(),this._closed=!1,this._observer=new MS.EnhancedEventEmitter,Us.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=s,this._appData=i??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Us.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Us.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Us.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Us.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Us.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Us.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}Mc.DataConsumer=f3;var p3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$C=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p3(t,e,r);return h3(t,e),t},m3=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});kc.Transport=void 0;const g3=Rs,Ep=m3(r3),v3=We,IS=Cn,ct=ot,Tp=$C(Je),ma=$C(Le),y3=Dc,w3=Lc,S3=jc,_3=Mc,tt=new v3.Logger("Transport");class b3{constructor(t){this.consumerOptions=t,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}class x3 extends IS.EnhancedEventEmitter{constructor({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u,handlerFactory:f,extendedRtpCapabilities:p,canProduceByKind:m}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new g3.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new IS.EnhancedEventEmitter,tt.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=p,this._canProduceByKind=m,this._maxSctpMessageSize=o?o.maxMessageSize:null;const g=Tp.clone(l)??{};delete g.iceServers,delete g.iceTransportPolicy,delete g.bundlePolicy,delete g.rtcpMuxPolicy,delete g.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:g,proprietaryConstraints:d,extendedRtpCapabilities:p}),this._appData=u??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){tt.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new ct.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(tt.debug("restartIce()"),this._closed)throw new ct.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(tt.debug("updateIceServers()"),this._closed)throw new ct.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:r,codecOptions:n,codec:s,stopTracks:i=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,onRtpSender:c,appData:l={}}={}){if(tt.debug("produce() [track:%o]",t),this._closed)throw new ct.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new ct.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new ct.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(l&&typeof l!="object")throw new TypeError("if given, appData must be an object")}else throw new ct.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let d;if(r&&!Array.isArray(r))throw TypeError("encodings must be an array");r&&r.length===0?d=void 0:r&&(d=r.map(m=>{const g={active:!0};return m.active===!1&&(g.active=!1),typeof m.dtx=="boolean"&&(g.dtx=m.dtx),typeof m.scalabilityMode=="string"&&(g.scalabilityMode=m.scalabilityMode),typeof m.scaleResolutionDownBy=="number"&&(g.scaleResolutionDownBy=m.scaleResolutionDownBy),typeof m.maxBitrate=="number"&&(g.maxBitrate=m.maxBitrate),typeof m.maxFramerate=="number"&&(g.maxFramerate=m.maxFramerate),typeof m.adaptivePtime=="boolean"&&(g.adaptivePtime=m.adaptivePtime),typeof m.priority=="string"&&(g.priority=m.priority),typeof m.networkPriority=="string"&&(g.networkPriority=m.networkPriority),g}));const{localId:u,rtpParameters:f,rtpSender:p}=await this._handler.send({track:t,encodings:d,codecOptions:n,codec:s,onRtpSender:c});try{ma.validateRtpParameters(f);const{id:m}=await new Promise((v,y)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:f,appData:l},v,y)}),g=new y3.Producer({id:m,localId:u,rtpSender:p,track:t,rtpParameters:f,stopTracks:i,disableTrackOnPause:o,zeroRtpOnPause:a,appData:l});return this._producers.set(g.id,g),this.handleProducer(g),this._observer.safeEmit("newproducer",g),g}catch(m){throw this._handler.stopSending(u).catch(()=>{}),m}},"transport.produce()").catch(d=>{if(i)try{t.stop()}catch{}throw d})}async consume({id:t,producerId:r,kind:n,rtpParameters:s,streamId:i,onRtpReceiver:o,appData:a={}}){if(tt.debug("consume()"),this._closed)throw new ct.InvalidStateError("closed");if(this._direction!=="recv")throw new ct.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing producerId");if(n!=="audio"&&n!=="video")throw new TypeError(`invalid kind '${n}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object");const c=Tp.clone(s);if(!ma.canReceive(c,this._extendedRtpCapabilities))throw new ct.UnsupportedError("cannot consume this Producer");const d=new b3({id:t,producerId:r,kind:n,rtpParameters:c,streamId:i,onRtpReceiver:o,appData:a});return this._pendingConsumerTasks.push(d),(0,Ep.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),d.promise}async produceData({ordered:t=!0,maxPacketLifeTime:r,maxRetransmits:n,label:s="",protocol:i="",appData:o={}}={}){if(tt.debug("produceData()"),this._closed)throw new ct.InvalidStateError("closed");if(this._direction!=="send")throw new ct.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new ct.UnsupportedError("SCTP not enabled by remote Transport");return(r||n)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i});ma.validateSctpStreamParameters(c);const{id:l}=await new Promise((u,f)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:s,protocol:i,appData:o},u,f)}),d=new S3.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d},"transport.produceData()")}async consumeData({id:t,dataProducerId:r,sctpStreamParameters:n,label:s="",protocol:i="",appData:o={}}){if(tt.debug("consumeData()"),this._closed)throw new ct.InvalidStateError("closed");if(this._direction!=="recv")throw new ct.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new ct.UnsupportedError("SCTP not enabled by remote Transport");const a=Tp.clone(n);return ma.validateSctpStreamParameters(a),this._awaitQueue.push(async()=>{const{dataChannel:c}=await this._handler.receiveDataChannel({sctpStreamParameters:a,label:s,protocol:i}),l=new _3.DataConsumer({id:t,dataProducerId:r,dataChannel:c,sctpStreamParameters:a,appData:o});return this._dataConsumers.set(l.id,l),this.handleDataConsumer(l),this._observer.safeEmit("newdataconsumer",l),l},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){tt.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let r;const n=[];for(const s of t){const{id:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l}=s.consumerOptions;n.push({trackId:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l})}try{const s=await this._handler.receive(n);for(let i=0;i<s.length;++i){const o=t[i],a=s[i],{id:c,producerId:l,kind:d,rtpParameters:u,appData:f}=o.consumerOptions,{localId:p,rtpReceiver:m,track:g}=a,v=new w3.Consumer({id:c,localId:p,producerId:l,rtpReceiver:m,track:g,rtpParameters:u,appData:f});this._consumers.set(v.id,v),this.handleConsumer(v),!this._probatorConsumerCreated&&!r&&d==="video"&&(r=v),this._observer.safeEmit("newconsumer",v),o.resolve(v)}}catch(s){for(const i of t)i.reject(s)}if(r)try{const s=ma.generateProbatorRtpParameters(r.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:s}]),tt.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(s){tt.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",s)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){tt.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.pauseReceiving(r)}catch(r){tt.error("pausePendingConsumers() | failed to pause Consumers:",r)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){tt.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.resumeReceiving(r)}catch(r){tt.error("resumePendingConsumers() | failed to resume Consumers:",r)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){tt.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(r=>r.localId))}catch(r){tt.error("closePendingConsumers() | failed to close Consumers:",r)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:r},n,s)=>{if(this._closed){s(new ct.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:r},n,s)}),t.on("@icegatheringstatechange",r=>{r!==this._iceGatheringState&&(tt.debug("ICE gathering state changed to %s",r),this._iceGatheringState=r,this._closed||this.safeEmit("icegatheringstatechange",r))}),t.on("@connectionstatechange",r=>{r!==this._connectionState&&(tt.debug("connection state changed to %s",r),this._connectionState=r,this._closed||this.safeEmit("connectionstatechange",r))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(r=>tt.warn("producer.close() failed:%o",r))}),t.on("@pause",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(r).catch(n)}),t.on("@resume",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(r).catch(n)}),t.on("@replacetrack",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,r),"producer @replacetrack event").then(n).catch(s)}),t.on("@setmaxspatiallayer",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,r),"producer @setmaxspatiallayer event").then(n).catch(s)}),t.on("@setrtpencodingparameters",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,r),"producer @setrtpencodingparameters event").then(n).catch(s)}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new ct.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(r).catch(n)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,Ep.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,Ep.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new ct.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(r).catch(n)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}}kc.Transport=x3;var pf={},Ye={},AC={},FC={exports:{}},OS=FC.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(OS).forEach(function(e){var t=OS[e];t.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});var zC=FC.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},r=function(a,c,l,d){if(d&&!l)c[d]=t(a[1]);else for(var u=0;u<l.length;u+=1)a[u+1]!=null&&(c[l[u]]=t(a[u+1]))},n=function(a,c,l){var d=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:d&&!c[a.name]&&(c[a.name]={});var u=a.push?{}:d?c[a.name]:c;r(l.match(a.reg),u,a.names,a.name),a.push&&c[a.push].push(u)},s=zC,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],d=c;return a.split(/(\r\n|\r|\n)/).filter(i).forEach(function(u){var f=u[0],p=u.slice(2);f==="m"&&(l.push({rtp:[],fmtp:[]}),d=l[l.length-1]);for(var m=0;m<(s[f]||[]).length;m+=1){var g=s[f][m];if(g.reg.test(p))return n(g,d,p)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),d=0;d<l.length;d+=3)c.push({component:l[d],ip:l[d+1],port:l[d+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var d,u=!1;return l[0]!=="~"?d=t(l):(d=t(l.substring(1,l.length)),u=!0),{scid:d,paused:u}})})}})(AC);var Pp=zC,C3=/%[sdv%]/g,R3=function(e){var t=1,r=arguments,n=r.length;return e.replace(C3,function(s){if(t>=n)return s;var i=r[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},ga=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,s=[e+"="+n];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?s.push(r[t.name][o]):s.push(r[t.names[i]])}else s.push(r[t.name]);return R3.apply(null,s)},E3=["v","o","s","i","u","e","p","c","b","t","r","z","a"],T3=["i","c","b","a"],P3=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(i){i.payloads==null&&(i.payloads="")});var r=t.outerOrder||E3,n=t.innerOrder||T3,s=[];return r.forEach(function(i){Pp[i].forEach(function(o){o.name in e&&e[o.name]!=null?s.push(ga(i,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){s.push(ga(i,o,a))})})}),e.media.forEach(function(i){s.push(ga("m",Pp.m[0],i)),n.forEach(function(o){Pp[o].forEach(function(a){a.name in i&&i[a.name]!=null?s.push(ga(o,a,i)):a.push in i&&i[a.push]!=null&&i[a.push].forEach(function(c){s.push(ga(o,a,c))})})})}),s.join(`\r
`)+`\r
`},Si=AC,k3=P3;Ye.write=k3;Ye.parse=Si.parse;Ye.parseParams=Si.parseParams;Ye.parseFmtpConfig=Si.parseFmtpConfig;Ye.parsePayloads=Si.parsePayloads;Ye.parseRemoteCandidates=Si.parseRemoteCandidates;Ye.parseImageAttributes=Si.parseImageAttributes;Ye.parseSimulcastStreamList=Si.parseSimulcastStreamList;var jt={},D3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j3=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&D3(t,e,r);return L3(t,e),t};Object.defineProperty(jt,"__esModule",{value:!0});jt.extractRtpCapabilities=M3;jt.extractDtlsParameters=I3;jt.getCname=O3;jt.applyCodecParameters=N3;const BC=j3(Ye);function M3({sdpObject:e}){const t=new Map,r=[];let n=!1,s=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(n)continue;n=!0;break}case"video":{if(s)continue;s=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=BC.parseParams(c.config),d=t.get(c.payload);d&&(l!=null&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),d.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const d=t.get(c.payload);if(!d)continue;d.rtcpFeedback.push(l)}else for(const d of t.values())d.kind===a&&!/.+\/rtx$/i.test(d.mimeType)&&d.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};r.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:r}}function I3({sdpObject:e}){let t=e.setup,r=e.fingerprint;if(!t||!r){const i=(e.media||[]).find(o=>o.port!==0);i&&(t??(t=i.setup),r??(r=i.fingerprint))}if(t){if(!r)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let n;switch(t){case"active":{n="client";break}case"passive":{n="server";break}case"actpass":{n="auto";break}}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}}function O3({offerMediaObject:e}){const t=(e.ssrcs||[]).find(r=>r.attribute==="cname");return t?t.value:""}function N3({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const n=r.mimeType.toLowerCase();if(n!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let i=t.fmtp.find(a=>a.payload===r.payloadType);i||(i={payload:r.payloadType,config:""},t.fmtp.push(i));const o=BC.parseParams(i.config);switch(n){case"audio/opus":{const a=r.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}i.config="";for(const a of Object.keys(o))i.config&&(i.config+=";"),i.config+=`${a}=${o[a]}`}}var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getRtpEncodings=$3;Rn.addLegacySimulcast=A3;function $3({offerMediaObject:e}){const t=new Set;for(const s of e.ssrcs||[]){const i=s.id;t.add(i)}if(t.size===0)throw new Error("no a=ssrc lines found");const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[i,o]=s.ssrcs.split(/\s+/);i=Number(i),o=Number(o),t.has(i)&&(t.delete(i),t.delete(o),r.set(i,o))}for(const s of t)r.set(s,null);const n=[];for(const[s,i]of r){const o={ssrc:s};i&&(o.rtx={ssrc:i}),n.push(o)}return n}function A3({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const r=(e.ssrcs||[]).find(u=>u.attribute==="msid");if(!r)throw new Error("a=ssrc line with msid information not found");const[n,s]=r.value.split(" "),i=Number(r.id);let o;(e.ssrcGroups||[]).some(u=>{if(u.semantics!=="FID")return!1;const f=u.ssrcs.split(/\s+/);return Number(f[0])===i?(o=Number(f[1]),!0):!1});const a=e.ssrcs.find(u=>u.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],d=[];for(let u=0;u<t;++u)l.push(i+u),o&&d.push(o+u);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)e.ssrcs.push({id:u,attribute:"cname",value:c}),e.ssrcs.push({id:u,attribute:"msid",value:`${n} ${s}`});for(let u=0;u<d.length;++u){const f=l[u],p=d[u];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${n} ${s}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.addNackSuppportForOpus=F3;function F3(e){var t;for(const r of e.codecs??[])(r.mimeType.toLowerCase()==="audio/opus"||r.mimeType.toLowerCase()==="audio/multiopus")&&!((t=r.rtcpFeedback)!=null&&t.some(n=>n.type==="nack"&&!n.parameter))&&(r.rtcpFeedback||(r.rtcpFeedback=[]),r.rtcpFeedback.push({type:"nack"}))}var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.HandlerInterface=void 0;const z3=Cn;class B3 extends z3.EnhancedEventEmitter{constructor(){super()}}Mt.HandlerInterface=B3;var Zt={},Es={},U3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&U3(t,e,r);return V3(t,e),t};Object.defineProperty(Es,"__esModule",{value:!0});Es.OfferMediaSection=Es.AnswerMediaSection=Es.MediaSection=void 0;const H3=UC(Ye),NS=UC(Je);class jv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:s=!1}){if(this._mediaObject={},this._planB=s,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const i of r){const o={};o.component=1,o.foundation=i.foundation,o.ip=i.address??i.ip,o.port=i.port,o.priority=i.priority,o.transport=i.protocol,o.type=i.type,i.tcpType&&(o.tcptype=i.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}Es.MediaSection=jv;class W3 extends jv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:d,extmapAllowMixed:u=!1}){switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const f of l.codecs){const p={payload:f.payloadType,codec:im(f),rate:f.clockRate};f.channels>1&&(p.encoding=f.channels),this._mediaObject.rtp.push(p);const m=NS.clone(f.parameters)??{};let g=NS.clone(f.rtcpFeedback)??[];if(d){const{opusStereo:y,opusFec:_,opusDtx:S,opusMaxPlaybackRate:b,opusMaxAverageBitrate:C,opusPtime:x,opusNack:E,videoGoogleStartBitrate:R,videoGoogleMaxBitrate:P,videoGoogleMinBitrate:L}=d,$=c.codecs.find(B=>B.payloadType===f.payloadType);switch(f.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{y!==void 0&&($.parameters["sprop-stereo"]=y?1:0,m.stereo=y?1:0),_!==void 0&&($.parameters.useinbandfec=_?1:0,m.useinbandfec=_?1:0),S!==void 0&&($.parameters.usedtx=S?1:0,m.usedtx=S?1:0),b!==void 0&&(m.maxplaybackrate=b),C!==void 0&&(m.maxaveragebitrate=C),x!==void 0&&($.parameters.ptime=x,m.ptime=x),E||($.rtcpFeedback=$.rtcpFeedback.filter(B=>B.type!=="nack"||B.parameter),g=g.filter(B=>B.type!=="nack"||B.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{R!==void 0&&(m["x-google-start-bitrate"]=R),P!==void 0&&(m["x-google-max-bitrate"]=P),L!==void 0&&(m["x-google-min-bitrate"]=L);break}}}const v={payload:f.payloadType,config:""};for(const y of Object.keys(m))v.config&&(v.config+=";"),v.config+=`${y}=${m[y]}`;v.config&&this._mediaObject.fmtp.push(v);for(const y of g)this._mediaObject.rtcpFb.push({payload:f.payloadType,type:y.type,subtype:y.parameter})}this._mediaObject.payloads=l.codecs.map(f=>f.payloadType).join(" "),this._mediaObject.ext=[];for(const f of l.headerExtensions)(a.ext??[]).some(m=>m.uri===f.uri)&&this._mediaObject.ext.push({uri:f.uri,value:f.id});if(u&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var i,o;if(!((i=this._mediaObject.simulcast)!=null&&i.list1))return;const r={};for(const a of t)a.rid&&(r[a.rid]=a);const n=this._mediaObject.simulcast.list1,s=H3.parseSimulcastStreamList(n);for(const a of s)for(const c of a)c.paused=!((o=r[c.scid])!=null&&o.active);this._mediaObject.simulcast.list1=s.map(a=>a.map(c=>`${c.paused?"~":""}${c.scid}`).join(",")).join(";")}}Es.AnswerMediaSection=W3;class q3 extends jv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:d,trackId:u,oldDataChannelSpec:f=!1}){var p;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},s?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d??"-"} ${u}`);for(const y of l.codecs){const _={payload:y.payloadType,codec:im(y),rate:y.clockRate};y.channels>1&&(_.encoding=y.channels),this._mediaObject.rtp.push(_);const S={payload:y.payloadType,config:""};for(const b of Object.keys(y.parameters))S.config&&(S.config+=";"),S.config+=`${b}=${y.parameters[b]}`;S.config&&this._mediaObject.fmtp.push(S);for(const b of y.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:y.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads=l.codecs.map(y=>y.payloadType).join(" "),this._mediaObject.ext=[];for(const y of l.headerExtensions)this._mediaObject.ext.push({uri:y.uri,value:y.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const m=l.encodings[0],g=m.ssrc,v=(p=m.rtx)==null?void 0:p.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:g,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:g,attribute:"msid",value:`${d??"-"} ${u}`}),v&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:v,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:v,attribute:"msid",value:`${d??"-"} ${u}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${g} ${v}`}));break}case"application":{f?(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:r,trackId:n}){var c;const s=t.encodings[0],i=s.ssrc,o=(c=s.rtx)==null?void 0:c.ssrc,a=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(a.includes(String(l.payloadType)))continue;const d={payload:l.payloadType,codec:im(l),rate:l.clockRate};l.channels>1&&(d.encoding=l.channels),this._mediaObject.rtp.push(d);const u={payload:l.payloadType,config:""};for(const f of Object.keys(l.parameters))u.config&&(u.config+=";"),u.config+=`${f}=${l.parameters[f]}`;u.config&&this._mediaObject.fmtp.push(u);for(const f of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(l=>!this._mediaObject.payloads.includes(l.payloadType)).map(l=>l.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){var i;const r=t.encodings[0],n=r.ssrc,s=(i=r.rtx)==null?void 0:i.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==n&&o.id!==s),s&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${n} ${s}`))}}Es.OfferMediaSection=q3;function im(e){const r=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");return r[2]}var K3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Y3=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K3(t,e,r);return G3(t,e),t};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.RemoteSdp=void 0;const X3=Y3(Ye),Q3=We,ml=Es,kp=new Q3.Logger("RemoteSdp");class J3{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=s,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t!=null&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[a-1].algorithm,hash:n.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(t){kp.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const r of this._mediaSections)r.setIceParameters(t)}updateDtlsRole(t){kp.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const r of this._mediaSections)r.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const r=this._mediaSections[t];if(r.closed)return{idx:t,reuseMid:r.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o=!1}){const a=new ml.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o});r?this._replaceMediaSection(a,r):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:n,streamId:s,trackId:i}),this._replaceMediaSection(a);else{a=new ml.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const r=this._findMediaSection(t);return t===this._firstMid?(kp.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(r.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,r){const n=this._findMediaSection(t);n.muxSimulcastStreams(r),this._replaceMediaSection(n)}planBStopReceiving({mid:t,offerRtpParameters:r}){const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:t}){const r=new ml.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const r=new ml.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}getSdp(){return this._sdpObject.origin.sessionVersion++,X3.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,r){if(typeof r=="string"){const n=this._midToIndex.get(r);if(n===void 0)throw new Error(`no media section found for reuseMid '${r}'`);const s=this._mediaSections[n];this._mediaSections[n]=t,this._midToIndex.delete(s.mid),this._midToIndex.set(t.mid,n),this._sdpObject.media[n]=t.getObject(),this._regenerateBundleMids()}else{const n=this._midToIndex.get(t.mid);if(n===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[n]=t,this._sdpObject.media[n]=t.getObject()}}_findMediaSection(t){const r=this._midToIndex.get(t);if(r===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[r]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Zt.RemoteSdp=J3;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.parse=eA;const Z3=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function eA(e){const t=Z3.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}var tA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tA(t,e,r);return rA(t,e),t};Object.defineProperty(pf,"__esModule",{value:!0});pf.Chrome111=void 0;const rs=Qo(Ye),nA=We,$S=Qo(Je),$i=Qo(Le),gl=Qo(jt),AS=Qo(Rn),sA=Qo(Xo),iA=ot,oA=Mt,aA=Zt,cA=En,Z=new nA.Logger("Chrome111"),lA="Chrome111",FS={OS:1024,MIS:1024};class Mv extends oA.HandlerInterface{static createFactory(){return()=>new Mv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return lA}close(){if(Z.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Z.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=rs.parse(r.sdp),s=gl.extractRtpCapabilities({sdpObject:n});return sA.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Z.debug("getNativeSctpCapabilities()"),{numStreams:FS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Z.debug("run()"),this._direction=t,this._remoteSdp=new aA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:$i.getSendingRtpParameters("audio",d),video:$i.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:$i.getSendingRemoteRtpParameters("audio",d),video:$i.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Z.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Z.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Z.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Z.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){if(this.assertNotClosed(),this.assertSendDirection(),Z.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let g=1;for(const v of r){const y=v.scalabilityMode?(0,cA.parse)(v.scalabilityMode).temporalLayers:3;y>g&&(g=y)}r.forEach((v,y)=>{v.rid=`r${y}`,v.scalabilityMode=`L1T${g}`})}const o=$S.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=$i.reduceCodecs(o.codecs,s);const a=$S.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=$i.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);const d=await this._pc.createOffer();let u=rs.parse(d.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Z.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const f=l.mid;o.mid=f,u=rs.parse(this._pc.localDescription.sdp);const p=u.media[c.idx];if(o.rtcp.cname=gl.getCname({offerMediaObject:p}),!r)o.encodings=AS.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const g=AS.getRtpEncodings({offerMediaObject:p});Object.assign(g[0],r[0]),o.encodings=g}else o.encodings=r;this._remoteSdp.send({offerMediaObject:p,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return Z.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(f,l),{localId:f,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),Z.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Z.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Z.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Z.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Z.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Z.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Z.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%FS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=rs.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Z.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Z.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=rs.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);gl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:rs.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Z.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Z.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Z.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=rs.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=rs.parse(this._pc.localDescription.sdp));const n=gl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new iA.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}pf.Chrome111=Mv;var hf={},dA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dA(t,e,r);return uA(t,e),t};Object.defineProperty(hf,"__esModule",{value:!0});hf.Chrome74=void 0;const rn=Jo(Ye),fA=We,zS=Jo(Je),Ai=Jo(Le),vl=Jo(jt),Dp=Jo(Rn),pA=Jo(Xo),hA=ot,mA=Mt,gA=Zt,vA=En,X=new fA.Logger("Chrome74"),yA="Chrome74",BS={OS:1024,MIS:1024};class Iv extends mA.HandlerInterface{static createFactory(){return()=>new Iv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return yA}close(){if(X.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){X.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=rn.parse(r.sdp),s=vl.extractRtpCapabilities({sdpObject:n});return pA.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return X.debug("getNativeSctpCapabilities()"),{numStreams:BS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){X.debug("run()"),this._direction=t,this._remoteSdp=new gA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ai.getSendingRtpParameters("audio",d),video:Ai.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ai.getSendingRemoteRtpParameters("audio",d),video:Ai.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(X.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),X.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),X.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});X.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),X.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((v,y)=>{v.rid=`r${y}`});const i=zS.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Ai.reduceCodecs(i.codecs,s);const o=zS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Ai.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let l=await this._pc.createOffer(),d=rn.parse(l.sdp),u;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let f=!1;const p=(0,vA.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(X.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,d=rn.parse(l.sdp),u=d.media[a.idx],Dp.addLegacySimulcast({offerMediaObject:u,numStreams:p.spatialLayers}),l={type:"offer",sdp:rn.write(d)}),X.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const m=c.mid;if(i.mid=m,d=rn.parse(this._pc.localDescription.sdp),u=d.media[a.idx],i.rtcp.cname=vl.getCname({offerMediaObject:u}),!r)i.encodings=Dp.getRtpEncodings({offerMediaObject:u});else if(r.length===1){let v=Dp.getRtpEncodings({offerMediaObject:u});Object.assign(v[0],r[0]),f&&(v=[v[0]]),i.encodings=v}else i.encodings=r;if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of i.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${p.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:u,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return X.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,c),{localId:m,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),X.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();X.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();X.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();X.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?X.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):X.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};X.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%BS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=rn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),X.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;X.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=rn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);vl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:rn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),X.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){X.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};X.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=rn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=rn.parse(this._pc.localDescription.sdp));const n=vl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new hA.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}hf.Chrome74=Iv;var mf={},wA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ic=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wA(t,e,r);return SA(t,e),t};Object.defineProperty(mf,"__esModule",{value:!0});mf.Chrome70=void 0;const mr=Ic(Ye),_A=We,US=Ic(Je),Fi=Ic(Le),yl=Ic(jt),Lp=Ic(Rn),bA=Mt,xA=Zt,CA=En,se=new _A.Logger("Chrome70"),RA="Chrome70",VS={OS:1024,MIS:1024};class Ov extends bA.HandlerInterface{static createFactory(){return()=>new Ov}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return RA}close(){if(se.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){se.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=mr.parse(r.sdp);return yl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return se.debug("getNativeSctpCapabilities()"),{numStreams:VS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){se.debug("run()"),this._direction=t,this._remoteSdp=new xA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Fi.getSendingRtpParameters("audio",d),video:Fi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Fi.getSendingRemoteRtpParameters("audio",d),video:Fi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(se.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){se.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(se.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});se.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};se.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};se.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();se.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),se.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const i=US.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Fi.reduceCodecs(i.codecs,s);const o=US.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Fi.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),d=mr.parse(l.sdp),u;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),r&&r.length>1&&(se.debug("send() | enabling legacy simulcast"),d=mr.parse(l.sdp),u=d.media[a.idx],Lp.addLegacySimulcast({offerMediaObject:u,numStreams:r.length}),l={type:"offer",sdp:mr.write(d)});let f=!1;const p=(0,CA.parse)((r??[{}])[0].scalabilityMode);if(r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(se.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,d=mr.parse(l.sdp),u=d.media[a.idx],Lp.addLegacySimulcast({offerMediaObject:u,numStreams:p.spatialLayers}),l={type:"offer",sdp:mr.write(d)}),se.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),r){se.debug("send() | applying given encodings");const v=c.sender.getParameters();for(let y=0;y<(v.encodings??[]).length;++y){const _=v.encodings[y],S=r[y];if(!S)break;v.encodings[y]=Object.assign(_,S)}await c.sender.setParameters(v)}const m=c.mid;if(i.mid=m,d=mr.parse(this._pc.localDescription.sdp),u=d.media[a.idx],i.rtcp.cname=yl.getCname({offerMediaObject:u}),i.encodings=Lp.getRtpEncodings({offerMediaObject:u}),r)for(let v=0;v<i.encodings.length;++v)r[v]&&Object.assign(i.encodings[v],r[v]);if(f&&(i.encodings=[i.encodings[0]]),i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of i.encodings)v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:u,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return se.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,c),{localId:m,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),se.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();se.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};se.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?se.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):se.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),se.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();se.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};se.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),se.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();se.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};se.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};se.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%VS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=mr.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),se.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};se.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;se.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};se.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=mr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);yl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:mr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),se.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){se.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};se.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();se.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};se.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};se.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=mr.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}se.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=mr.parse(this._pc.localDescription.sdp));const n=yl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}mf.Chrome70=Ov;var gf={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.getRtpEncodings=EA;_i.addLegacySimulcast=TA;function EA({offerMediaObject:e,track:t}){const r=new Set;for(const i of e.ssrcs||[]){if(i.attribute!=="msid")continue;if(i.value.split(" ")[1]===t.id){const a=i.id;r.add(a)}}if(r.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,a]=i.ssrcs.split(/\s+/);o=Number(o),a=Number(a),r.has(o)&&(r.delete(o),r.delete(a),n.set(o,a))}for(const i of r)n.set(i,null);const s=[];for(const[i,o]of n){const a={ssrc:i};o&&(a.rtx={ssrc:o}),s.push(a)}return s}function TA({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError("numStreams must be greater than 1");let n,s,i;if(!(e.ssrcs||[]).find(u=>u.attribute!=="msid"?!1:u.value.split(" ")[1]===t.id?(n=u.id,i=u.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(u=>{if(u.semantics!=="FID")return!1;const f=u.ssrcs.split(/\s+/);return Number(f[0])===n?(s=Number(f[1]),!0):!1});const a=e.ssrcs.find(u=>u.attribute==="cname"&&u.id===n);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],d=[];for(let u=0;u<r;++u)l.push(n+u),s&&d.push(s+u);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)e.ssrcs.push({id:u,attribute:"cname",value:c}),e.ssrcs.push({id:u,attribute:"msid",value:`${i} ${t.id}`});for(let u=0;u<d.length;++u){const f=l[u],p=d[u];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${i} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var PA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Oc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PA(t,e,r);return kA(t,e),t};Object.defineProperty(gf,"__esModule",{value:!0});gf.Chrome67=void 0;const nn=Oc(Ye),DA=We,HS=Oc(Je),zi=Oc(Le),wl=Oc(jt),WS=Oc(_i),LA=Mt,jA=Zt,le=new DA.Logger("Chrome67"),MA="Chrome67",qS={OS:1024,MIS:1024};class Nv extends LA.HandlerInterface{static createFactory(){return()=>new Nv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return MA}close(){if(le.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){le.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=nn.parse(r.sdp);return wl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return le.debug("getNativeSctpCapabilities()"),{numStreams:qS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){le.debug("run()"),this._direction=t,this._remoteSdp=new jA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:zi.getSendingRtpParameters("audio",d),video:zi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:zi.getSendingRemoteRtpParameters("audio",d),video:zi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(le.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){le.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(le.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});le.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();le.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),le.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&le.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=nn.parse(i.sdp),a;const c=HS.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=zi.reduceCodecs(c.codecs);const l=HS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=zi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(le.debug("send() | enabling simulcast"),o=nn.parse(i.sdp),a=o.media.find(p=>p.type==="video"),WS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:nn.write(o)}),le.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=nn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=wl.getCname({offerMediaObject:a}),c.encodings=WS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(u,f),{localId:u,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection(),le.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();le.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){le.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?le.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):le.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),le.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),le.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};le.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%qS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=nn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),le.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;le.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=nn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);wl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:nn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),le.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=c,u=a,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===d);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l,rtpReceiver:f}),r.push({localId:d,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){le.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();le.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};le.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=nn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=nn.parse(this._pc.localDescription.sdp));const n=wl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}gf.Chrome67=Nv;var vf={},IA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IA(t,e,r);return OA(t,e),t};Object.defineProperty(vf,"__esModule",{value:!0});vf.Chrome55=void 0;const sn=Nc(Ye),NA=We,va=ot,KS=Nc(Je),Bi=Nc(Le),Sl=Nc(jt),GS=Nc(_i),$A=Mt,AA=Zt,ye=new NA.Logger("Chrome55"),FA="Chrome55",YS={OS:1024,MIS:1024};class $v extends $A.HandlerInterface{static createFactory(){return()=>new $v}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return FA}close(){if(ye.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ye.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=sn.parse(r.sdp);return Sl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ye.debug("getNativeSctpCapabilities()"),{numStreams:YS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ye.debug("run()"),this._direction=t,this._remoteSdp=new AA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Bi.getSendingRtpParameters("audio",d),video:Bi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Bi.getSendingRemoteRtpParameters("audio",d),video:Bi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ye.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ye.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ye.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ye.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ye.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ye.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=sn.parse(i.sdp),a;const c=KS.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Bi.reduceCodecs(c.codecs);const l=KS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Bi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ye.debug("send() | enabling simulcast"),o=sn.parse(i.sdp),a=o.media.find(f=>f.type==="video"),GS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:sn.write(o)}),ye.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=sn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=Sl.getCname({offerMediaObject:a}),c.encodings=GS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(u,t),{localId:u,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ye.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();ye.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ye.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new va.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new va.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,r){throw new va.UnsupportedError("not supported")}async getSenderStats(t){throw new va.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ye.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%YS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=sn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ye.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ye.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;ye.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=sn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);Sl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:sn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ye.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,u=c,f=o.streamId??l.rtcp.cname,m=this._pc.getRemoteStreams().find(g=>g.id===f).getTrackById(u);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l}),r.push({localId:u,track:m})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ye.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ye.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new va.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ye.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=sn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ye.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=sn.parse(this._pc.localDescription.sdp));const n=Sl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}vf.Chrome55=$v;var yf={},zA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$c=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zA(t,e,r);return BA(t,e),t};Object.defineProperty(yf,"__esModule",{value:!0});yf.Firefox120=void 0;const ns=$c(Ye),UA=We,XS=ot,QS=$c(Je),Ui=$c(Le),_l=$c(jt),JS=$c(Rn),VA=Mt,HA=Zt,WA=En,ee=new UA.Logger("Firefox120"),qA="Firefox120",ZS={OS:16,MIS:2048};class Av extends VA.HandlerInterface{static createFactory(){return()=>new Av}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return qA}close(){if(ee.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ee.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"}),t.addTransceiver(s,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const i=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const o=ns.parse(i.sdp);return _l.extractRtpCapabilities({sdpObject:o})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return ee.debug("getNativeSctpCapabilities()"),{numStreams:ZS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),ee.debug("run()"),this._direction=t,this._remoteSdp=new HA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ui.getSendingRtpParameters("audio",d),video:Ui.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ui.getSendingRemoteRtpParameters("audio",d),video:Ui.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ee.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new XS.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),ee.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ee.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),ee.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const o=QS.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Ui.reduceCodecs(o.codecs,s);const a=QS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Ui.reduceCodecs(a.codecs,s);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(c.sender);const l=await this._pc.createOffer();let d=ns.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d});const u=(0,WA.parse)((r??[{}])[0].scalabilityMode);ee.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;o.mid=f,d=ns.parse(this._pc.localDescription.sdp);const p=d.media[d.media.length-1];if(o.rtcp.cname=_l.getCname({offerMediaObject:p}),!r)o.encodings=JS.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const g=JS.getRtpEncodings({offerMediaObject:p});Object.assign(g[0],r[0]),o.encodings=g}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of o.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${u.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return ee.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ee.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();ee.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();ee.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();ee.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?ee.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ee.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ee.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%ZS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ns.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),ee.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;ee.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=ns.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);_l.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u}),i={type:"answer",sdp:ns.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),ee.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){ee.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ee.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ns.parse(u.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ns.parse(this._pc.localDescription.sdp));const n=_l.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new XS.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}yf.Firefox120=Av;var wf={},KA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ac=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KA(t,e,r);return GA(t,e),t};Object.defineProperty(wf,"__esModule",{value:!0});wf.Firefox60=void 0;const ss=Ac(Ye),YA=We,e_=ot,jp=Ac(Je),Vi=Ac(Le),bl=Ac(jt),t_=Ac(Rn),XA=Mt,QA=Zt,JA=En,te=new YA.Logger("Firefox60"),ZA="Firefox60",r_={OS:16,MIS:2048};class Fv extends XA.HandlerInterface{static createFactory(){return()=>new Fv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return ZA}close(){if(te.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){te.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const i=t.addTransceiver(s,{direction:"sendrecv"}),o=i.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await i.sender.setParameters(o);const c=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const l=ss.parse(c.sdp);return bl.extractRtpCapabilities({sdpObject:l})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return te.debug("getNativeSctpCapabilities()"),{numStreams:r_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),te.debug("run()"),this._direction=t,this._remoteSdp=new QA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Vi.getSendingRtpParameters("audio",d),video:Vi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Vi.getSendingRemoteRtpParameters("audio",d),video:Vi.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(te.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new e_.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),te.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});te.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),te.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=jp.clone(r),r.forEach((m,g)=>{m.rid=`r${g}`}),r.reverse());const i=jp.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Vi.reduceCodecs(i.codecs,s);const o=jp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Vi.reduceCodecs(o.codecs,s);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const m=a.sender.getParameters();m.encodings=r,await a.sender.setParameters(m)}const c=await this._pc.createOffer();let l=ss.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const d=(0,JA.parse)((r??[{}])[0].scalabilityMode);te.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const u=a.mid;i.mid=u,l=ss.parse(this._pc.localDescription.sdp);const f=l.media[l.media.length-1];if(i.rtcp.cname=bl.getCname({offerMediaObject:f}),!r)i.encodings=t_.getRtpEncodings({offerMediaObject:f});else if(r.length===1){const m=t_.getRtpEncodings({offerMediaObject:f});Object.assign(m[0],r[0]),i.encodings=m}else i.encodings=r.reverse();if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of i.encodings)m.scalabilityMode?m.scalabilityMode=`L1T${d.temporalLayers}`:m.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const p={type:"answer",sdp:this._remoteSdp.getSdp()};return te.debug("send() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._mapMidTransceiver.set(u,a),{localId:u,rtpParameters:i,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),te.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();te.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();te.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();te.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?te.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):te.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();r=s.encodings.length-1-r,s.encodings.forEach((a,c)=>{c>=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};te.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%r_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ss.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),te.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;te.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=ss.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);bl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u}),i={type:"answer",sdp:ss.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),te.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){te.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};te.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ss.parse(u.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ss.parse(this._pc.localDescription.sdp));const n=bl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new e_.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}wf.Firefox60=Fv;var Sf={},e4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e4(t,e,r);return t4(t,e),t};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.Safari12=void 0;const on=Zo(Ye),r4=We,n_=Zo(Je),Hi=Zo(Le),xl=Zo(jt),s_=Zo(Rn),n4=Zo(Xo),s4=ot,i4=Mt,o4=Zt,a4=En,Q=new r4.Logger("Safari12"),c4="Safari12",i_={OS:1024,MIS:1024};class zv extends i4.HandlerInterface{static createFactory(){return()=>new zv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return c4}close(){if(Q.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Q.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=on.parse(r.sdp),s=xl.extractRtpCapabilities({sdpObject:n});return n4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Q.debug("getNativeSctpCapabilities()"),{numStreams:i_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Q.debug("run()"),this._direction=t,this._remoteSdp=new o4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Hi.getSendingRtpParameters("audio",d),video:Hi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Hi.getSendingRemoteRtpParameters("audio",d),video:Hi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Q.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Q.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Q.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Q.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Q.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=n_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Hi.reduceCodecs(o.codecs,s);const a=n_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Hi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});i&&i(l.sender);let d=await this._pc.createOffer(),u=on.parse(d.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});const p=(0,a4.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(Q.debug("send() | enabling legacy simulcast"),u=on.parse(d.sdp),f=u.media[c.idx],s_.addLegacySimulcast({offerMediaObject:f,numStreams:r.length}),d={type:"offer",sdp:on.write(u)}),Q.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const m=l.mid;if(o.mid=m,u=on.parse(this._pc.localDescription.sdp),f=u.media[c.idx],o.rtcp.cname=xl.getCname({offerMediaObject:f}),o.encodings=s_.getRtpEncodings({offerMediaObject:f}),r)for(let v=0;v<o.encodings.length;++v)r[v]&&Object.assign(o.encodings[v],r[v]);if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of o.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${p.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return Q.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Q.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Q.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Q.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();Q.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Q.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Q.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Q.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%i_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=on.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Q.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Q.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=on.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);xl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:on.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Q.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Q.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Q.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=on.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=on.parse(this._pc.localDescription.sdp));const n=xl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new s4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Sf.Safari12=zv;var _f={},l4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&l4(t,e,r);return d4(t,e),t};Object.defineProperty(_f,"__esModule",{value:!0});_f.Safari11=void 0;const an=Fc(Ye),u4=We,o_=Fc(Je),Wi=Fc(Le),Cl=Fc(jt),a_=Fc(_i),f4=Mt,p4=Zt,ue=new u4.Logger("Safari11"),h4="Safari11",c_={OS:1024,MIS:1024};class Bv extends f4.HandlerInterface{static createFactory(){return()=>new Bv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return h4}close(){if(ue.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ue.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=an.parse(r.sdp);return Cl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ue.debug("getNativeSctpCapabilities()"),{numStreams:c_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ue.debug("run()"),this._direction=t,this._remoteSdp=new p4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Wi.getSendingRtpParameters("audio",d),video:Wi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Wi.getSendingRemoteRtpParameters("audio",d),video:Wi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ue.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ue.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ue.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ue.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ue.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ue.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=an.parse(i.sdp),a;const c=o_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Wi.reduceCodecs(c.codecs);const l=o_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Wi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ue.debug("send() | enabling simulcast"),o=an.parse(i.sdp),a=o.media.find(p=>p.type==="video"),a_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:an.write(o)}),ue.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=an.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=Cl.getCname({offerMediaObject:a}),c.encodings=a_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(u,f),{localId:u,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();ue.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ue.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?ue.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ue.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),ue.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),ue.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ue.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%c_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=an.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ue.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;ue.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=an.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);Cl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:an.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ue.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,u=c,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===u);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l,rtpReceiver:f}),r.push({localId:u,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ue.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ue.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=an.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=an.parse(this._pc.localDescription.sdp));const n=Cl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}_f.Safari11=Bv;var bf={},xf={},m4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v4=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m4(t,e,r);return g4(t,e),t};Object.defineProperty(xf,"__esModule",{value:!0});xf.getCapabilities=y4;xf.mangleRtpParameters=w4;const VC=v4(Je);function y4(){const e=RTCRtpReceiver.getCapabilities(),t=VC.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const n=r.parameters;n.apt&&(n.apt=Number(n.apt)),n["packetization-mode"]&&(n["packetization-mode"]=Number(n["packetization-mode"]))}for(const n of r.rtcpFeedback??[])n.parameter||(n.parameter="")}return t}function w4(e){const t=VC.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t}var S4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uv=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&S4(t,e,r);return _4(t,e),t};Object.defineProperty(bf,"__esModule",{value:!0});bf.Edge11=void 0;const b4=We,Mp=ot,Rl=Uv(Je),Ip=Uv(Le),Op=Uv(xf),x4=Mt,_e=new b4.Logger("Edge11"),C4="Edge11";class Vv extends x4.HandlerInterface{static createFactory(){return()=>new Vv}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return C4}close(){_e.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return _e.debug("getNativeRtpCapabilities()"),Op.getCapabilities()}async getNativeSctpCapabilities(){return _e.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){_e.debug("run()"),this._sendingRtpParametersByKind={audio:Ip.getSendingRtpParameters("audio",d),video:Ip.getSendingRtpParameters("video",d)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=s,this._cname=`CNAME-${Rl.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new Mp.UnsupportedError("not supported")}async restartIce(t){if(_e.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){_e.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){_e.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),_e.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(t,this._dtlsTransport),o=Rl.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Ip.reduceCodecs(o.codecs,s);const a=o.codecs.some(d=>/.+\/rtx$/i.test(d.mimeType));r||(r=[{}]);for(const d of r)d.ssrc=Rl.generateRandomNumber(),a&&(d.rtx={ssrc:Rl.generateRandomNumber()});o.encodings=r,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=Op.mangleRtpParameters(o);_e.debug("send() | calling rtpSender.send() [params:%o]",c),await i.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,i),{localId:l,rtpParameters:o,rtpSender:i}}async stopSending(t){_e.debug("stopSending() [localId:%s]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{_e.debug("stopSending() | calling rtpSender.stop()"),r.stop()}catch(n){throw _e.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){r?_e.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):_e.debug("replaceTrack() [localId:%s, no track]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(r)}async setMaxSpatialLayer(t,r){_e.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){_e.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");return r.getStats()}async sendDataChannel(t){throw new Mp.UnsupportedError("not implemented")}async receive(t){const r=[];for(const n of t){const{trackId:s,kind:i}=n;_e.debug("receive() [trackId:%s, kind:%s]",s,i)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const n of t){const{trackId:s,kind:i,rtpParameters:o}=n;_e.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,i);a.addEventListener("error",d=>{_e.error('rtpReceiver "error" event [event:%o]',d)});const c=Op.mangleRtpParameters(o);_e.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=s;this._rtpReceivers.set(l,a),r.push({localId:l,track:a.track,rtpReceiver:a})}return r}async stopReceiving(t){for(const r of t){_e.debug("stopReceiving() [localId:%s]",r);const n=this._rtpReceivers.get(r);if(!n)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{_e.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(s){_e.warn("stopReceiving() | rtpReceiver.stop() failed:%o",s)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const r=this._rtpReceivers.get(t);if(!r)throw new Error("RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel(t){throw new Mp.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:r}){const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",s=>{_e.error('iceGatherer "error" event [event:%o]',s)});try{n.gather()}catch(s){_e.debug("setIceGatherer() | iceGatherer.gather() failed: %s",s.toString())}this._iceGatherer=n}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("candidatepairchange",r=>{_e.debug('iceTransport "candidatepairchange" event [pair:%o]',r.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{_e.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{_e.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",r=>{_e.error('dtlsTransport "error" event [event:%o]',r)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){_e.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise((n,s)=>{this.safeEmit("@connect",{dtlsParameters:r},n,s)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(n=>n.algorithm==="sha-256"||n.algorithm==="sha-384"||n.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}bf.Edge11=Vv;var Cf={},R4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ea=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R4(t,e,r);return E4(t,e),t};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.ReactNativeUnifiedPlan=void 0;const cn=ea(Ye),T4=We,l_=ea(Je),qi=ea(Le),El=ea(jt),Np=ea(Rn),P4=ea(Xo),k4=ot,D4=Mt,L4=Zt,j4=En,Y=new T4.Logger("ReactNativeUnifiedPlan"),M4="ReactNativeUnifiedPlan",d_={OS:1024,MIS:1024};class Hv extends D4.HandlerInterface{static createFactory(){return()=>new Hv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return M4}close(){if(Y.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Y.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=cn.parse(r.sdp),s=El.extractRtpCapabilities({sdpObject:n});return P4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Y.debug("getNativeSctpCapabilities()"),{numStreams:d_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Y.debug("run()"),this._direction=t,this._remoteSdp=new L4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:qi.getSendingRtpParameters("audio",d),video:qi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:qi.getSendingRemoteRtpParameters("audio",d),video:qi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Y.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Y.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Y.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((y,_)=>{y.rid=`r${_}`});const o=l_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=qi.reduceCodecs(o.codecs,s);const a=l_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=qi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);let d=await this._pc.createOffer(),u=cn.parse(d.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let p=!1;const m=(0,j4.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&m.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Y.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,u=cn.parse(d.sdp),f=u.media[c.idx],Np.addLegacySimulcast({offerMediaObject:f,numStreams:m.spatialLayers}),d={type:"offer",sdp:cn.write(u)}),Y.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);let g=l.mid??void 0;if(g||Y.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),o.mid=g,u=cn.parse(this._pc.localDescription.sdp),f=u.media[c.idx],o.rtcp.cname=El.getCname({offerMediaObject:f}),!r)o.encodings=Np.getRtpEncodings({offerMediaObject:f});else if(r.length===1){let y=Np.getRtpEncodings({offerMediaObject:f});Object.assign(y[0],r[0]),p&&(y=[y[0]]),o.encodings=y}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const y of o.encodings)y.scalabilityMode?y.scalabilityMode=`L1T${m.temporalLayers}`:y.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const v={type:"answer",sdp:this._remoteSdp.getSdp()};return Y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),g||(g=l.mid,o.mid=g),this._mapMidTransceiver.set(g,l),{localId:g,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Y.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Y.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Y.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Y.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Y.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Y.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%d_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=cn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Y.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=cn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);El.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:cn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Y.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Y.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=cn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=cn.parse(this._pc.localDescription.sdp));const n=El.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new k4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Cf.ReactNativeUnifiedPlan=Hv;var Rf={},I4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I4(t,e,r);return O4(t,e),t};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.ReactNative=void 0;const ln=zc(Ye),N4=We,ya=ot,$p=zc(Je),Ki=zc(Le),Tl=zc(jt),u_=zc(_i),$4=Mt,A4=Zt,ge=new N4.Logger("ReactNative"),F4="ReactNative",f_={OS:1024,MIS:1024};class Wv extends $4.HandlerInterface{static createFactory(){return()=>new Wv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return F4}close(){if(ge.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ge.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=ln.parse(r.sdp);return Tl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ge.debug("getNativeSctpCapabilities()"),{numStreams:f_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ge.debug("run()"),this._direction=t,this._remoteSdp=new A4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ki.getSendingRtpParameters("audio",d),video:Ki.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ki.getSendingRemoteRtpParameters("audio",d),video:Ki.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ge.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ge.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ge.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ge.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ge.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ge.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ge.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ge.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ge.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=ln.parse(i.sdp),a;const c=$p.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ki.reduceCodecs(c.codecs);const l=$p.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ki.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ge.debug("send() | enabling simulcast"),o=ln.parse(i.sdp),a=o.media.find(f=>f.type==="video"),u_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:ln.write(o)}),ge.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=ln.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=Tl.getCname({offerMediaObject:a}),c.encodings=u_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};ge.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(u,t),{localId:u,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ge.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();ge.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ge.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ge.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new ya.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new ya.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,r){throw new ya.UnsupportedError("not implemented")}async getSenderStats(t){throw new ya.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ge.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%f_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ln.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ge.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ge.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d}=a;ge.debug("receive() [trackId:%s, kind:%s]",c,l);const u=l;let f=a.streamId??d.rtcp.cname;ge.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),f+=`-hack-${$p.generateRandomNumber()}`,n.set(c,f),this._remoteSdp.receive({mid:u,kind:l,offerRtpParameters:d,streamId:f,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ge.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=ln.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,d=c,u=o.media.find(f=>String(f.mid)===d);Tl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:ln.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ge.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:l,rtpParameters:d}=a,u=l,f=c,p=n.get(l),g=this._pc.getRemoteStreams().find(v=>v.id===p).getTrackById(u);if(!g)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(u,{mid:f,rtpParameters:d}),r.push({localId:u,track:g})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ge.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ge.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ge.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new ya.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ge.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};ge.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ln.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ge.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ln.parse(this._pc.localDescription.sdp));const n=Tl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Rf.ReactNative=Wv;var z4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z4(t,e,r);return B4(t,e),t};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.Device=void 0;Yo.detectDevice=WC;const U4=e$,V4=We,H4=Cn,Gi=ot,p_=HC(Je),is=HC(Le),W4=kc,q4=pf,K4=hf,G4=mf,Y4=gf,X4=vf,Q4=yf,J4=wf,Z4=Sf,e9=_f,t9=bf,r9=Cf,n9=Rf,ft=new V4.Logger("Device");function WC(e){var t,r,n,s;if(!e&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(ft.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){ft.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(ft.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(ft.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(e||typeof navigator=="object"&&typeof navigator.userAgent=="string"){e??(e=navigator.userAgent);const i=new U4.UAParser(e);ft.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",e,i.getResult());const o=i.getBrowser(),a=(t=o.name)==null?void 0:t.toLowerCase(),c=parseInt(o.major??"0"),d=(r=i.getEngine().name)==null?void 0:r.toLowerCase(),u=i.getOS(),f=(n=u.name)==null?void 0:n.toLowerCase(),p=parseFloat(u.version??"0"),g=(s=i.getDevice().model)==null?void 0:s.toLowerCase(),v=f==="ios"||g==="ipad",y=a&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(a),_=a&&["firefox","mobile firefox","mobile focus"].includes(a),S=a&&["safari","mobile safari"].includes(a),b=a&&["edge"].includes(a);if((y||b)&&!v&&c>=111)return"Chrome111";if(y&&!v&&c>=74||b&&!v&&c>=88)return"Chrome74";if(y&&!v&&c>=70)return"Chrome70";if(y&&!v&&c>=67)return"Chrome67";if(y&&!v&&c>=55)return"Chrome55";if(_&&!v&&c>=120)return"Firefox120";if(_&&!v&&c>=60)return"Firefox60";if(_&&v&&p>=14.3)return"Safari12";if(S&&c>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(S&&c>=11)return"Safari11";if(b&&!v&&c>=11&&c<=18)return"Edge11";if(d==="webkit"&&v&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(d==="blink"){const C=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(C){const x=Number(C[1]);return x>=111?"Chrome111":x>=74?"Chrome74":x>=70?"Chrome70":x>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{ft.warn("detectDevice() | browser not supported [name:%s, version:%s]",a,c);return}}else{ft.warn("detectDevice() | unknown device");return}}class s9{constructor({handlerName:t,handlerFactory:r}={}){if(this._loaded=!1,this._observer=new H4.EnhancedEventEmitter,ft.debug("constructor()"),t&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(t)ft.debug("constructor() | handler given: %s",t);else if(t=WC(),t)ft.debug("constructor() | detected handler: %s",t);else throw new Gi.UnsupportedError("device not supported");switch(t){case"Chrome111":{this._handlerFactory=q4.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=K4.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=G4.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=Y4.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=X4.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=Q4.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=J4.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=Z4.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=e9.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=t9.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=r9.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=n9.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${t}"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new Gi.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new Gi.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){ft.debug("load() [routerRtpCapabilities:%o]",t);let r;try{if(this._loaded)throw new Gi.InvalidStateError("already loaded");const n=p_.clone(t);is.validateRtpCapabilities(n),r=this._handlerFactory();const s=await r.getNativeRtpCapabilities();ft.debug("load() | got native RTP capabilities:%o",s);const i=p_.clone(s);is.validateRtpCapabilities(i),this._extendedRtpCapabilities=is.getExtendedRtpCapabilities(i,n),ft.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=is.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=is.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=is.getRecvRtpCapabilities(this._extendedRtpCapabilities),is.validateRtpCapabilities(this._recvRtpCapabilities),ft.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await r.getNativeSctpCapabilities(),ft.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),is.validateSctpCapabilities(this._sctpCapabilities),ft.debug("load() succeeded"),this._loaded=!0,r.close()}catch(n){throw r&&r.close(),n}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new Gi.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return ft.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createRecvTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return ft.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createTransport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u}){if(this._loaded){if(typeof r!="string")throw new TypeError("missing id");if(typeof n!="object")throw new TypeError("missing iceParameters");if(Array.isArray(s)){if(typeof i!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(u&&typeof u!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new Gi.InvalidStateError("not loaded");const f=new W4.Transport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}Yo.Device=s9;var qC={},KC={};Object.defineProperty(KC,"__esModule",{value:!0});var GC={};Object.defineProperty(GC,"__esModule",{value:!0});(function(e){var t=k&&k.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=k&&k.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Yo,e),r(kc,e),r(Dc,e),r(Lc,e),r(jc,e),r(Mc,e),r(KC,e),r(GC,e),r(Mt,e),r(ot,e)})(qC);(function(e){var t=k&&k.__createBinding||(Object.create?function(l,d,u,f){f===void 0&&(f=u);var p=Object.getOwnPropertyDescriptor(d,u);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[u]}}),Object.defineProperty(l,f,p)}:function(l,d,u,f){f===void 0&&(f=u),l[f]=d[u]}),r=k&&k.__setModuleDefault||(Object.create?function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}:function(l,d){l.default=d}),n=k&&k.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&t(d,l,u);return r(d,l),d},s=k&&k.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const i=s(of);e.debug=i.default;const o=Yo;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=n(qC);e.types=a,e.version="3.7.17";var c=En;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(bC);const i9=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],o9=async(e,t,r)=>new Promise((n,s)=>{pe.emit("joinRoom",{roomName:e,userName:t,serverId:r},i=>{i.error?s(i.error):n(i.rtpCapabilities)})}),a9=async e=>{const t=new bC.Device;return await t.load({routerRtpCapabilities:e}),t},c9=async(e,t,r,n)=>new Promise((s,i)=>{pe.emit("createWebRtcTransport",{consumer:!1},async({params:o})=>{if(o.error){i(o.error);return}const a=e.createSendTransport(o);a.on("connect",({dtlsParameters:l},d)=>{pe.emit("transport-connect",{dtlsParameters:l}),d()}),a.on("produce",(l,d)=>{pe.emit("transport-produce",{kind:l.kind,rtpParameters:l.rtpParameters},({id:u})=>{d({id:u}),l9(pe,e,n)})});const c=await a.produce({track:t});r(c),s(a),c.on("trackended",()=>{r(null)})})}),l9=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(s=>YC(s,t,r))})},YC=async(e,t,r)=>{pe.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const s=t.createRecvTransport(n);s.on("connect",({dtlsParameters:i},o)=>{pe.emit("transport-recv-connect",{dtlsParameters:i,serverConsumerTransportId:n.id}),o()}),d9(s,e,n.id,t,r)})},d9=async(e,t,r,n,s)=>{pe.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:i})=>{const o=await e.consume(i);s(o),pe.emit("consumer-resume",{serverConsumerId:i.serverConsumerId})})},XC=w.createContext(null),u9=e=>{const[t,r]=w.useState(!1),[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,c]=w.useState([]),[l,d]=w.useState([]),[u,f]=w.useState(null),[p,m]=w.useState(null),[g,v]=w.useState(null),[y,_]=w.useState(null),[S,b]=w.useState(null),C=E=>{c(R=>[...R,E])},x=()=>{p&&(n?p.resume():p.pause(),s(!n))};return w.useEffect(()=>{if(pe)return pe.on("producerClosed",({producerId:E})=>{c(R=>R.filter(P=>P.producerId!==E))}),pe.on("producer-closed",({remoteProducerId:E})=>{c(R=>R.filter(P=>P.producerId!==E))}),pe.on("new-producer",({producerId:E})=>{u&&YC(E,u,C)}),pe.on("updateUsersList",({rooms:E})=>{d(E)}),()=>{pe.off("producerClosed"),pe.off("producer-closed"),pe.off("new-producer"),pe.off("updateUsersList")}},[u]),h.jsx(XC.Provider,{value:{isConnected:t,isMuted:n,isStreaming:i,setIsConnected:r,setIsMuted:s,setIsStreaming:o,audioProducer:p,setAudioProducer:m,videoProducer:g,setVideoProducer:v,device:u,setDevice:f,producerTransport:y,setProducerTransport:_,consumers:a,users:l,addConsumer:C,setConsumers:c,toggleMute:x,selectedUserId:S,setSelectedUserId:b},children:e.children})};function f9(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const p9=typeof window<"u"?w.useLayoutEffect:w.useEffect;function vt(e,t){p9(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function h9(e,t){e&&f9(e),vt(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),vt(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),vt(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),vt(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),vt(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),vt(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),vt(`mantine-form:${e}:clear-errors`,t.clearErrors),vt(`mantine-form:${e}:reset`,t.reset),vt(`mantine-form:${e}:validate`,t.validate),vt(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),vt(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),vt(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),vt(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),vt(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),vt(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),vt(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),vt(`mantine-form:${e}:reset-touched`,t.resetTouched)}function m9(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function om(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function g9(e){const[t,r]=w.useState(om(e)),n=w.useRef(t),s=w.useCallback(c=>{r(l=>{const d=om(typeof c=="function"?c(l):c);return n.current=d,d})},[]),i=w.useCallback(()=>s({}),[]),o=w.useCallback(c=>{n.current[c]!==void 0&&s(l=>{const d={...l};return delete d[c],d})},[t]),a=w.useCallback((c,l)=>{l==null||l===!1?o(c):n.current[c]!==l&&s(d=>({...d,[c]:l}))},[t]);return{errorsState:t,setErrors:s,clearErrors:i,setFieldError:a,clearFieldError:o}}function am(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function h_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function m_(e,t,r,n){if(t===void 0)return r;const s=`${String(e)}`;let i=r;n===-1&&(i=am(`${s}.${t}`,i));const o={...i},a=new Set;return Object.entries(i).filter(([c])=>{if(!c.startsWith(`${s}.`))return!1;const l=h_(c,s);return Number.isNaN(l)?!1:l>=t}).forEach(([c,l])=>{const d=h_(c,s),u=c.replace(`${s}.${d}`,`${s}.${d+n}`);o[u]=l,a.add(u),a.has(c)||delete o[c]}),o}function v9(e,{from:t,to:r},n){const s=`${e}.${t}`,i=`${e}.${r}`,o={...n};return Object.keys(n).every(a=>{let c,l;if(a.startsWith(s)&&(c=a,l=a.replace(s,i)),a.startsWith(i)&&(c=a.replace(i,s),l=a),c&&l){const d=o[c],u=o[l];return u===void 0?delete o[c]:o[c]=u,d===void 0?delete o[l]:o[l]=d,!1}return!0}),o}function g_(e,t,r){typeof r.value=="object"&&(r.value=co(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function co(e){if(typeof e!="object")return e;var t=0,r,n,s,i=Object.prototype.toString.call(e);if(i==="[object Object]"?s=Object.create(e.__proto__||null):i==="[object Array]"?s=Array(e.length):i==="[object Set]"?(s=new Set,e.forEach(function(o){s.add(co(o))})):i==="[object Map]"?(s=new Map,e.forEach(function(o,a){s.set(co(a),co(o))})):i==="[object Date]"?s=new Date(+e):i==="[object RegExp]"?s=new RegExp(e.source,e.flags):i==="[object DataView]"?s=new e.constructor(co(e.buffer)):i==="[object ArrayBuffer]"?s=e.slice(0):i.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)g_(s,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(s,r=n[t])&&s[r]===e[r]||g_(s,r,Object.getOwnPropertyDescriptor(e,r))}return s||e}function QC(e){return typeof e!="string"?[]:e.split(".")}function kt(e,t){const r=QC(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function Ef(e,t,r){const n=QC(e);if(n.length===0)return r;const s=co(r);if(n.length===1)return s[n[0]]=t,s;let i=s[n[0]];for(let o=1;o<n.length-1;o+=1){if(i===void 0)return s;i=i[n[o]]}return i[n[n.length-1]]=t,s}function y9(e,{from:t,to:r},n){const s=kt(e,n);if(!Array.isArray(s))return n;const i=[...s],o=s[t];return i.splice(t,1),i.splice(r,0,o),Ef(e,i,n)}function w9(e,t,r,n){const s=kt(e,n);if(!Array.isArray(s))return n;const i=[...s];return i.splice(typeof r=="number"?r:i.length,0,t),Ef(e,i,n)}function S9(e,t,r){const n=kt(e,r);return Array.isArray(n)?Ef(e,n.filter((s,i)=>i!==t),r):r}function _9({$values:e,$errors:t,$status:r}){const n=w.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>v9(o,a,c)),e.setValues({values:y9(o,a,e.refValues.current),updateState:!0})},[]),s=w.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>m_(o,a,c,-1)),e.setValues({values:S9(o,a,e.refValues.current),updateState:!0})},[]),i=w.useCallback((o,a,c)=>{r.clearFieldDirty(o),t.setErrors(l=>m_(o,c,l,1)),e.setValues({values:w9(o,a,c,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:i}}var b9=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const Pl=gm(b9);function wa(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(s=>s.startsWith(`${t}.`));return e[t]||n.some(s=>e[s])||!1}return r.some(n=>e[n])}function x9({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[s,i]=w.useState(t),[o,a]=w.useState(e),c=w.useRef(t),l=w.useRef(e),d=w.useCallback(x=>{const E=typeof x=="function"?x(c.current):x;c.current=E,r==="controlled"&&i(E)},[]),u=w.useCallback((x,E=!1)=>{const R=typeof x=="function"?x(l.current):x;l.current=R,(r==="controlled"||E)&&a(R)},[]),f=w.useCallback(()=>d({}),[]),p=x=>{const E=x?{...x,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(E),u({})},m=w.useCallback((x,E)=>{d(R=>wa(R,x)===E?R:{...R,[x]:E})},[]),g=w.useCallback((x,E,R)=>{u(P=>wa(P,x)===E?P:{...P,[x]:E},R)},[]),v=w.useCallback((x,E)=>{const R=wa(l.current,x),P=!Pl(kt(x,n.getValuesSnapshot()),E),L=am(x,l.current);L[x]=P,u(L,R!==P)},[]),y=w.useCallback(x=>wa(c.current,x),[]),_=w.useCallback(x=>u(E=>{if(typeof x!="string")return E;const R=am(x,E);return delete R[x],Pl(R,E)?E:R}),[]),S=w.useCallback(x=>{if(x){const R=kt(x,l.current);if(typeof R=="boolean")return R;const P=kt(x,n.refValues.current),L=kt(x,n.valuesSnapshot.current);return!Pl(P,L)}return Object.keys(l.current).length>0?wa(l.current):!Pl(n.refValues.current,n.valuesSnapshot.current)},[]),b=w.useCallback(()=>l.current,[]),C=w.useCallback(()=>c.current,[]);return{touchedState:s,dirtyState:o,touchedRef:c,dirtyRef:l,setTouched:d,setDirty:u,resetDirty:p,resetTouched:f,isTouched:y,setFieldTouched:m,setFieldDirty:g,setTouchedState:i,setDirtyState:a,clearFieldDirty:_,isDirty:S,getDirty:b,getTouched:C,setCalculatedFieldDirty:v}}function C9({initialValues:e,onValuesChange:t,mode:r}){const n=w.useRef(!1),[s,i]=w.useState(e||{}),o=w.useRef(s),a=w.useRef(s),c=w.useCallback(({values:g,subscribers:v,updateState:y=!0,mergeWithPreviousValues:_=!0})=>{const S=o.current,b=g instanceof Function?g(o.current):g,C=_?{...S,...b}:b;o.current=C,y&&i(C),t==null||t(C,S),v==null||v.filter(Boolean).forEach(x=>x({updatedValues:C,previousValues:S}))},[t]),l=w.useCallback(g=>{var _;const v=kt(g.path,o.current),y=g.value instanceof Function?g.value(v):g.value;if(v!==y){const S=o.current,b=Ef(g.path,y,o.current);c({values:b,updateState:g.updateState}),(_=g.subscribers)==null||_.filter(Boolean).forEach(C=>C({path:g.path,updatedValues:b,previousValues:S}))}},[c]),d=w.useCallback(g=>{a.current=g},[]),u=w.useCallback((g,v)=>{n.current||(n.current=!0,c({values:g,updateState:r==="controlled"}),d(g),v())},[c]),f=w.useCallback(()=>{c({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[c]),p=w.useCallback(()=>o.current,[]),m=w.useCallback(()=>a.current,[]);return{initialized:n,stateValues:s,refValues:o,valuesSnapshot:a,setValues:c,setFieldValue:l,resetValues:f,setValuesSnapshot:d,initialize:u,getValues:p,getValuesSnapshot:m}}function R9({$status:e}){const t=w.useRef({}),r=w.useCallback((s,i)=>{w.useEffect(()=>(t.current[s]=t.current[s]||[],t.current[s].push(i),()=>{t.current[s]=t.current[s].filter(o=>o!==i)}),[i])},[]),n=w.useCallback(s=>t.current[s]?t.current[s].map(i=>o=>i({previousValue:kt(s,o.previousValues),value:kt(s,o.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function v_(e,t){return e?`${e}-${t.toString()}`:t.toString()}function y_(e){const t=om(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function cm(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((s,i)=>{const o=e[i],a=`${r===""?"":`${r}.`}${i}`,c=kt(a,t);let l=!1;return typeof o=="function"&&(s[a]=o(c,t,a)),typeof o=="object"&&Array.isArray(c)&&(l=!0,c.forEach((d,u)=>cm(o,t,`${a}.${u}`,s))),typeof o=="object"&&typeof c=="object"&&c!==null&&(l||cm(o,t,a,s)),s},n)}function lm(e,t){return y_(typeof e=="function"?e(t):cm(e,t))}function kl(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=lm(t,r),s=Object.keys(n.errors).find(i=>e.split(".").every((o,a)=>o===i.split(".")[a]));return{hasError:!!s,error:s?n.errors[s]:null}}const E9="__MANTINE_FORM_INDEX__";function w_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${E9}`)):!1:!1}function fc({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:c=!1,onValuesChange:l,transformValues:d=p=>p,enhanceGetInputProps:u,validate:f}={}){const p=g9(n),m=C9({initialValues:r,onValuesChange:l,mode:t}),g=x9({initialDirty:s,initialTouched:i,$values:m,mode:t}),v=_9({$values:m,$errors:p,$status:g}),y=R9({$status:g}),[_,S]=w.useState(0),[b,C]=w.useState({}),x=w.useCallback(()=>{m.resetValues(),p.clearErrors(),g.resetDirty(),g.resetTouched(),t==="uncontrolled"&&S(M=>M+1)},[]),E=w.useCallback(M=>{o&&p.clearErrors(),t==="uncontrolled"&&S(U=>U+1),Object.keys(y.subscribers.current).forEach(U=>{const J=kt(U,m.refValues.current),me=kt(U,M);J!==me&&y.getFieldSubscribers(U).forEach(Ee=>Ee({previousValues:M,updatedValues:m.refValues.current}))})},[o]),R=w.useCallback(M=>{const U=m.refValues.current;m.initialize(M,()=>t==="uncontrolled"&&S(J=>J+1)),E(U)},[E]),P=w.useCallback((M,U,J)=>{const me=w_(M,a),Ee=U instanceof Function?U(kt(M,m.refValues.current)):U;g.setCalculatedFieldDirty(M,Ee),g.setFieldTouched(M,!0),!me&&o&&p.clearFieldError(M),m.setFieldValue({path:M,value:U,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(M),me?Te=>{const de=kl(M,f,Te.updatedValues);de.hasError?p.setFieldError(M,de.error):p.clearFieldError(M)}:null,(J==null?void 0:J.forceUpdate)!==!1&&t!=="controlled"?()=>C(Te=>({...Te,[M]:(Te[M]||0)+1})):null]})},[l,f]),L=w.useCallback(M=>{const U=m.refValues.current;m.setValues({values:M,updateState:t==="controlled"}),E(U)},[l,E]),$=w.useCallback(()=>{const M=lm(f,m.refValues.current);return p.setErrors(M.errors),M},[f]),B=w.useCallback(M=>{const U=kl(M,f,m.refValues.current);return U.hasError?p.setFieldError(M,U.error):p.clearFieldError(M),U},[f]),q=(M,{type:U="input",withError:J=!0,withFocus:me=!0,...Ee}={})=>{const de={onChange:m9(mt=>P(M,mt,{forceUpdate:!1})),"data-path":v_(e,M)};return J&&(de.error=p.errorsState[M]),U==="checkbox"?de[t==="controlled"?"checked":"defaultChecked"]=kt(M,m.refValues.current):de[t==="controlled"?"value":"defaultValue"]=kt(M,m.refValues.current),me&&(de.onFocus=()=>g.setFieldTouched(M,!0),de.onBlur=()=>{if(w_(M,c)){const mt=kl(M,f,m.refValues.current);mt.hasError?p.setFieldError(M,mt.error):p.clearFieldError(M)}}),Object.assign(de,u==null?void 0:u({inputProps:de,field:M,options:{type:U,withError:J,withFocus:me,...Ee},form:O}))},A=(M,U)=>J=>{J==null||J.preventDefault();const me=$();me.hasErrors?U==null||U(me.errors,m.refValues.current,J):M==null||M(d(m.refValues.current),J)},W=M=>d(M||m.refValues.current),I=w.useCallback(M=>{M.preventDefault(),x()},[]),V=w.useCallback(M=>M?!kl(M,f,m.refValues.current).hasError:!lm(f,m.refValues.current).hasErrors,[f]),T=M=>`${_}-${M}-${b[M]||0}`,j=w.useCallback(M=>document.querySelector(`[data-path="${v_(e,M)}"]`),[]),O={watch:y.watch,initialized:m.initialized.current,values:m.stateValues,getValues:m.getValues,setInitialValues:m.setValuesSnapshot,initialize:R,setValues:L,setFieldValue:P,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:g.resetDirty,setTouched:g.setTouched,setDirty:g.setDirty,isTouched:g.isTouched,resetTouched:g.resetTouched,isDirty:g.isDirty,getTouched:g.getTouched,getDirty:g.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,reset:x,validate:$,validateField:B,getInputProps:q,onSubmit:A,onReset:I,isValid:V,getTransformedValues:W,key:T,getInputNode:j};return h9(e,O),O}const Vt=yP,De=aP;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>w.createElement("svg",{ref:c,...P9,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:JC("lucide",s),...a},[...o.map(([l,d])=>w.createElement(l,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(k9,{ref:i,iconNode:t,className:JC(`lucide-${T9(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=we("ArrowLeftFromLine",[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=we("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=we("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=we("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=we("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=we("MonitorUp",[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=we("MonitorX",[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=we("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=we("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=we("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bc(){return{showSuccess:r=>{Ms.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:h.jsx(M9,{})})},showError:r=>{Ms.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:h.jsx(O9,{})})}}}function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e6=typeof Symbol=="function"&&Symbol.observable||"@@observable",__=e6,Ap=()=>Math.random().toString(36).substring(7).split("").join("."),t6={INIT:`@@redux/INIT${Ap()}`,REPLACE:`@@redux/REPLACE${Ap()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ap()}`},Yd=t6;function Xv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eR(e,t,r){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(eR)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((v,y)=>{o.set(y,v)}))}function d(){if(c)throw new Error(yt(3));return s}function u(v){if(typeof v!="function")throw new Error(yt(4));if(c)throw new Error(yt(5));let y=!0;l();const _=a++;return o.set(_,v),function(){if(y){if(c)throw new Error(yt(6));y=!1,l(),o.delete(_),i=null}}}function f(v){if(!Xv(v))throw new Error(yt(7));if(typeof v.type>"u")throw new Error(yt(8));if(typeof v.type!="string")throw new Error(yt(17));if(c)throw new Error(yt(9));try{c=!0,s=n(s,v)}finally{c=!1}return(i=o).forEach(_=>{_()}),v}function p(v){if(typeof v!="function")throw new Error(yt(10));n=v,f({type:Yd.REPLACE})}function m(){const v=u;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(yt(11));function _(){const b=y;b.next&&b.next(d())}return _(),{unsubscribe:v(_)}},[__](){return this}}}return f({type:Yd.INIT}),{dispatch:f,subscribe:u,getState:d,replaceReducer:p,[__]:m}}function r6(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Yd.INIT})>"u")throw new Error(yt(12));if(typeof r(void 0,{type:Yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function n6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{r6(r)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let d=0;d<n.length;d++){const u=n[d],f=r[u],p=o[u],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(yt(14));l[u]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function Xd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function s6(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(yt(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=e.map(c=>c(o));return i=Xd(...a)(s.dispatch),{...s,dispatch:i}}}function i6(e){return Xv(e)&&"type"in e&&typeof e.type=="string"}var tR=Symbol.for("immer-nothing"),b_=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jo=Object.getPrototypeOf;function li(e){return!!e&&!!e[cr]}function qn(e){var t;return e?rR(e)||Array.isArray(e)||!!e[b_]||!!((t=e.constructor)!=null&&t[b_])||Pf(e)||kf(e):!1}var o6=Object.prototype.constructor.toString();function rR(e){if(!e||typeof e!="object")return!1;const t=jo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===o6}function Qd(e,t){Tf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Tf(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:Pf(e)?2:kf(e)?3:0}function dm(e,t){return Tf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nR(e,t,r){const n=Tf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function a6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pf(e){return e instanceof Map}function kf(e){return e instanceof Set}function Ks(e){return e.copy_||e.base_}function um(e,t){if(Pf(e))return new Map(e);if(kf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[cr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(jo(e),n)}else{const n=jo(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Qv(e,t=!1){return Df(e)||li(e)||!qn(e)||(Tf(e)>1&&(e.set=e.add=e.clear=e.delete=c6),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Qv(n,!0))),e}function c6(){Ar(2)}function Df(e){return Object.isFrozen(e)}var l6={};function di(e){const t=l6[e];return t||Ar(0,e),t}var pc;function sR(){return pc}function d6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x_(e,t){t&&(di("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fm(e){pm(e),e.drafts_.forEach(u6),e.drafts_=null}function pm(e){e===pc&&(pc=e.parent_)}function C_(e){return pc=d6(pc,e)}function u6(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function R_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[cr].modified_&&(fm(t),Ar(4)),qn(e)&&(e=Jd(t,e),t.parent_||Zd(t,e)),t.patches_&&di("Patches").generateReplacementPatches_(r[cr].base_,e,t.patches_,t.inversePatches_)):e=Jd(t,r,[]),fm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tR?e:void 0}function Jd(e,t,r){if(Df(t))return t;const n=t[cr];if(!n)return Qd(t,(s,i)=>E_(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Zd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Qd(i,(a,c)=>E_(e,n,s,a,c,r,o)),Zd(e,s,!1),r&&e.patches_&&di("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function E_(e,t,r,n,s,i,o){if(li(s)){const a=i&&t&&t.type_!==3&&!dm(t.assigned_,n)?i.concat(n):void 0,c=Jd(e,s,a);if(nR(r,n,c),li(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(qn(s)&&!Df(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Zd(e,s)}}function Zd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qv(t,r)}function f6(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Jv;r&&(s=[n],i=hc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var Jv={get(e,t){if(t===cr)return e;const r=Ks(e);if(!dm(r,t))return p6(e,r,t);const n=r[t];return e.finalized_||!qn(n)?n:n===Fp(e.base_,t)?(zp(e),e.copy_[t]=mm(n,e)):n},has(e,t){return t in Ks(e)},ownKeys(e){return Reflect.ownKeys(Ks(e))},set(e,t,r){const n=iR(Ks(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Fp(Ks(e),t),i=s==null?void 0:s[cr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(a6(r,s)&&(r!==void 0||dm(e.base_,t)))return!0;zp(e),hm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zp(e),hm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ks(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ar(11)},getPrototypeOf(e){return jo(e.base_)},setPrototypeOf(){Ar(12)}},hc={};Qd(Jv,(e,t)=>{hc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hc.deleteProperty=function(e,t){return hc.set.call(this,e,t,void 0)};hc.set=function(e,t,r){return Jv.set.call(this,e[0],t,r,e[0])};function Fp(e,t){const r=e[cr];return(r?Ks(r):e)[t]}function p6(e,t,r){var s;const n=iR(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function iR(e,t){if(!(t in e))return;let r=jo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jo(r)}}function hm(e){e.modified_||(e.modified_=!0,e.parent_&&hm(e.parent_))}function zp(e){e.copy_||(e.copy_=um(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var h6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...l){return o.produce(c,d=>r.call(this,d,...l))}}typeof r!="function"&&Ar(6),n!==void 0&&typeof n!="function"&&Ar(7);let s;if(qn(t)){const i=C_(this),o=mm(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?fm(i):pm(i)}return x_(i,n),R_(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===tR&&(s=void 0),this.autoFreeze_&&Qv(s,!0),n){const i=[],o=[];di("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Ar(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qn(e)||Ar(8),li(e)&&(e=m6(e));const t=C_(this),r=mm(e,void 0);return r[cr].isManual_=!0,pm(t),r}finishDraft(e,t){const r=e&&e[cr];(!r||!r.isManual_)&&Ar(9);const{scope_:n}=r;return x_(n,t),R_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=di("Patches").applyPatches_;return li(e)?n(e,t):this.produce(e,s=>n(s,t))}};function mm(e,t){const r=Pf(e)?di("MapSet").proxyMap_(e,t):kf(e)?di("MapSet").proxySet_(e,t):f6(e,t);return(t?t.scope_:sR()).drafts_.push(r),r}function m6(e){return li(e)||Ar(10,e),oR(e)}function oR(e){if(!qn(e)||Df(e))return e;const t=e[cr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=um(e,t.scope_.immer_.useStrictShallowCopy_)}else r=um(e,!0);return Qd(r,(n,s)=>{nR(r,n,oR(s))}),t&&(t.finalized_=!1),r}var lr=new h6,aR=lr.produce;lr.produceWithPatches.bind(lr);lr.setAutoFreeze.bind(lr);lr.setUseStrictShallowCopy.bind(lr);lr.applyPatches.bind(lr);lr.createDraft.bind(lr);lr.finishDraft.bind(lr);function cR(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var g6=cR(),v6=cR,y6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xd:Xd.apply(null,arguments)},w6=e=>e&&typeof e.match=="function";function za(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(wn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>i6(n)&&n.type===e,r}var lR=class Pa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pa.prototype)}static get[Symbol.species](){return Pa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pa(...t[0].concat(this)):new Pa(...t.concat(this))}};function T_(e){return qn(e)?aR(e,()=>{}):e}function P_(e,t,r){if(e.has(t)){let s=e.get(t);return r.update&&(s=r.update(s,t,e),e.set(t,s)),s}if(!r.insert)throw new Error(wn(10));const n=r.insert(t,e);return e.set(t,n),n}function S6(e){return typeof e=="boolean"}var _6=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new lR;return r&&(S6(r)?o.push(g6):o.push(v6(r.extraArgument))),o},b6="RTK_autoBatch",dR=e=>t=>{setTimeout(t,e)},x6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dR(10),C6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?x6:e.type==="callback"?e.queueNotification:dR(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const u=()=>s&&d(),f=n.subscribe(u);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var u;try{return s=!((u=d==null?void 0:d.meta)!=null&&u[b6]),i=!s,i&&(o||(o=!0,c(l))),n.dispatch(d)}finally{s=!0}}})},R6=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new lR(e);return n&&s.push(C6(typeof n=="object"?n:void 0)),s};function E6(e){const t=_6(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(Xv(r))a=n6(r);else throw new Error(wn(1));let c;typeof n=="function"?c=n(t):c=t();let l=Xd;s&&(l=y6({trace:!1,...typeof s=="object"&&s}));const d=s6(...c),u=R6(d);let f=typeof o=="function"?o(u):u();const p=l(...f);return eR(a,i,p)}function uR(e){const t={},r=[];let n;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(wn(28));if(a in t)throw new Error(wn(29));return t[a]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function T6(e){return typeof e=="function"}function P6(e,t){let[r,n,s]=uR(t),i;if(T6(e))i=()=>T_(e());else{const a=T_(e);i=()=>a}function o(a=i(),c){let l=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[s]),l.reduce((d,u)=>{if(u)if(li(d)){const p=u(d,c);return p===void 0?d:p}else{if(qn(d))return aR(d,f=>u(f,c));{const f=u(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return o.getInitialState=i,o}var k6=(e,t)=>w6(e)?e.match(t):e(t);function D6(...e){return t=>e.some(r=>k6(r,t))}var L6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",j6=(e=21)=>{let t="",r=e;for(;r--;)t+=L6[Math.random()*64|0];return t},M6=["name","message","stack","code"],Bp=class{constructor(e,t){Mf(this,"_type");this.payload=e,this.meta=t}},k_=class{constructor(e,t){Mf(this,"_type");this.payload=e,this.meta=t}},I6=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of M6)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},xt=(()=>{function e(t,r,n){const s=za(t+"/fulfilled",(c,l,d,u)=>({payload:c,meta:{...u||{},arg:d,requestId:l,requestStatus:"fulfilled"}})),i=za(t+"/pending",(c,l,d)=>({payload:void 0,meta:{...d||{},arg:l,requestId:c,requestStatus:"pending"}})),o=za(t+"/rejected",(c,l,d,u,f)=>({payload:u,error:(n&&n.serializeError||I6)(c||"Rejected"),meta:{...f||{},arg:d,requestId:l,rejectedWithValue:!!u,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,d,u)=>{const f=n!=null&&n.idGenerator?n.idGenerator(c):j6(),p=new AbortController;let m,g;function v(_){g=_,p.abort()}const y=async function(){var b,C;let _;try{let x=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,c,{getState:d,extra:u});if(N6(x)&&(x=await x),x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((R,P)=>{m=()=>{P({name:"AbortError",message:g||"Aborted"})},p.signal.addEventListener("abort",m)});l(i(f,c,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:f,arg:c},{getState:d,extra:u}))),_=await Promise.race([E,Promise.resolve(r(c,{dispatch:l,getState:d,extra:u,requestId:f,signal:p.signal,abort:v,rejectWithValue:(R,P)=>new Bp(R,P),fulfillWithValue:(R,P)=>new k_(R,P)})).then(R=>{if(R instanceof Bp)throw R;return R instanceof k_?s(R.payload,f,c,R.meta):s(R,f,c)})])}catch(x){_=x instanceof Bp?o(null,f,c,x.payload,x.meta):o(x,f,c)}finally{m&&p.signal.removeEventListener("abort",m)}return n&&!n.dispatchConditionRejection&&o.match(_)&&_.meta.condition||l(_),_}();return Object.assign(y,{abort:v,requestId:f,arg:c,unwrap(){return y.then(O6)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:D6(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function O6(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function N6(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var $6=Symbol.for("rtk-slice-createasyncthunk");function A6(e,t){return`${e}/${t}`}function F6({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$6];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(wn(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(B6()):s.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,b){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(wn(12));if(C in l.sliceCaseReducersByType)throw new Error(wn(13));return l.sliceCaseReducersByType[C]=b,d},addMatcher(S,b){return l.sliceMatchers.push({matcher:S,reducer:b}),d},exposeAction(S,b){return l.actionCreators[S]=b,d},exposeCaseReducer(S,b){return l.sliceCaseReducersByName[S]=b,d}};c.forEach(S=>{const b=a[S],C={reducerName:S,type:A6(i,S),createNotation:typeof s.reducers=="function"};V6(b)?W6(C,b,d,t):U6(C,b,d)});function u(){const[S={},b=[],C=void 0]=typeof s.extraReducers=="function"?uR(s.extraReducers):[s.extraReducers],x={...S,...l.sliceCaseReducersByType};return P6(s.initialState,E=>{for(let R in x)E.addCase(R,x[R]);for(let R of l.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of b)E.addMatcher(R.matcher,R.reducer);C&&E.addDefaultCase(C)})}const f=S=>S,p=new Map;let m;function g(S,b){return m||(m=u()),m(S,b)}function v(){return m||(m=u()),m.getInitialState()}function y(S,b=!1){function C(E){let R=E[S];return typeof R>"u"&&b&&(R=v()),R}function x(E=f){const R=P_(p,b,{insert:()=>new WeakMap});return P_(R,E,{insert:()=>{const P={};for(const[L,$]of Object.entries(s.selectors??{}))P[L]=z6($,E,v,b);return P}})}return{reducerPath:S,getSelectors:x,get selectors(){return x(C)},selectSlice:C}}const _={name:i,reducer:g,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(S,{reducerPath:b,...C}={}){const x=b??o;return S.inject({reducerPath:x,reducer:g},C),{..._,...y(x,!0)}}};return _}}function z6(e,t,r,n){function s(i,...o){let a=t(i);return typeof a>"u"&&n&&(a=r()),e(a,...o)}return s.unwrapped=e,s}var Uc=F6();function B6(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function U6({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!H6(n))throw new Error(wn(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?za(e,o):za(e))}function V6(e){return e._reducerDefinitionType==="asyncThunk"}function H6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function W6({type:e,reducerName:t},r,n,s){if(!s)throw new Error(wn(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:l,options:d}=r,u=s(e,i,d);n.exposeAction(t,u),o&&n.addCase(u.fulfilled,o),a&&n.addCase(u.pending,a),c&&n.addCase(u.rejected,c),l&&n.addMatcher(u.settled,l),n.exposeCaseReducer(t,{fulfilled:o||Dl,pending:a||Dl,rejected:c||Dl,settled:l||Dl})}function Dl(){}function wn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const q6=async e=>{try{const t=await fetch(`${bt}/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},K6=async e=>{try{const t=await fetch(`${bt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},G6=async e=>{try{const t=await fetch(`${bt}/auth/profile`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get profile user:",t),t}},Y6=async e=>{try{const t=await fetch(`${bt}/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},Lf={registerUser:q6,loginUser:K6,getProfile:G6,logout:Y6},X6=e=>e instanceof Error?e.message:String(e),Jl=xt("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await Lf.registerUser(e)}catch(r){return t(X6(r))}}),Zl=xt("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await Lf.loginUser(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),ed=xt("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t})=>{try{return await Lf.getProfile(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),td=xt("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await Lf.logout(e)}catch(r){return t(r instanceof Error?r.message:" ")}});function Q6(){const{accessToken:e,error:t}=De(a=>a.userStore),r=Vt(),n=Ko(),{showError:s}=Bc(),i=fc({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),o=async a=>{(await r(Zl(a))).meta.requestStatus==="fulfilled"&&n("/main")};return w.useEffect(()=>{e&&n("/main")},[e,n]),w.useEffect(()=>{t&&s(t)},[t]),h.jsx(h.Fragment,{children:h.jsx(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:h.jsxs(Rc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[h.jsx(be,{fw:500,mb:"md",children:"   "}),h.jsx("form",{onSubmit:i.onSubmit(o),children:h.jsxs(Fe,{gap:"md",children:[h.jsx(Ur,{label:"Email",placeholder:" email",...i.getInputProps("mail"),required:!0}),h.jsx(Ur,{label:"",placeholder:" ",...i.getInputProps("password"),required:!0}),h.jsx(Ne,{justify:"center",mt:"md",children:h.jsx(ke,{type:"submit",children:""})})]})})]})})})}function J6(){return h.jsx(h.Fragment,{children:h.jsxs(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[h.jsx(ef,{order:3,children:"   Hitscord!"}),h.jsxs(Ne,{gap:"20px",children:[h.jsx(mS,{to:"/login",children:h.jsx(ke,{variant:"filled",radius:"md",children:""})}),h.jsx(mS,{to:"/register",children:h.jsx(ke,{variant:"filled",radius:"md",children:""})})]})]})})}const Z6=()=>{const e=Vt(),t=Ko(),{showError:r}=Bc(),{accessToken:n,error:s}=De(a=>a.userStore),i=fc({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),o=async a=>{(await e(Jl({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return w.useEffect(()=>{n&&t("/main")},[n,t]),w.useEffect(()=>{s!==""&&r(s)},[s]),h.jsx(h.Fragment,{children:h.jsx(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:h.jsxs(Rc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[h.jsx(be,{fw:500,mb:"md",children:"  "}),h.jsx("form",{onSubmit:i.onSubmit(o),children:h.jsxs(Fe,{gap:"md",children:[h.jsx(Ur,{label:"Email",placeholder:" email",...i.getInputProps("mail"),required:!0}),h.jsx(Ur,{label:"",placeholder:" ",...i.getInputProps("accountName"),required:!0}),h.jsx(Ur,{label:"",placeholder:" ",...i.getInputProps("password"),required:!0}),h.jsx(Ne,{justify:"center",mt:"md",children:h.jsx(ke,{type:"submit",children:""})})]})})]})})})};function D_(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${s} ${i}:${o}`}const e5=async(e,t,r,n=0)=>{try{const s=await fetch(`${bt}/channel/gettextchannelmessages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),i=await s.json();if(!s.ok)throw new Error(i.message||`Error: ${s.status}`);return i.messages}catch(s){throw console.error("Error get messages:",s),s}},t5=async(e,t,r,n)=>{try{const s=await fetch(`${bt}/channel/createchannel`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create channel:",s),s}},r5=async(e,t)=>{try{const r=await fetch(`${bt}/channel/deletechannel`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},Zv={getChannelsMessages:e5,createChannel:t5,deleteChannel:r5},n5=async(e,t,r,n)=>{try{const s=await fetch(`${bt}/message/createmessage`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create message:",s),s}},s5=async(e,t)=>{try{const r=await fetch(`${bt}/message/deletemessage`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},i5=async(e,t,r)=>{try{const n=await fetch(`${bt}/message/updatemessage`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},ey={createMessage:n5,deleteMessage:s5,editMessage:i5},o5=async e=>{try{const t=await fetch(`${bt}/user/getservers`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},a5=async(e,t)=>{try{const r=await fetch(`${bt}/user/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},c5=async(e,t)=>{try{const r=await fetch(`${bt}/user/createServer`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},l5=async(e,t)=>{try{const r=await fetch(`${bt}/user/deleteserver`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},d5=async(e,t,r,n)=>{try{const s=await fetch(`${bt}/user/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create server:",s),s}},u5=async(e,t,r)=>{try{const n=await fetch(`${bt}/user/subscribetest`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},f5=async(e,t)=>{try{const r=await fetch(`${bt}/user/unsubscribetest`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},bi={getServers:o5,getServerData:a5,createServer:c5,deleteServer:l5,changeRole:d5,subscribeToServer:u5,unsubscribeFromServer:f5},ri=xt("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await bi.getServers(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),$n=xt("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await bi.getServerData(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),rd=xt("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await bi.createServer(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Up=xt("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await bi.deleteServer(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),nd=xt("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:s})=>{try{await bi.changeRole(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),sd=xt("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await bi.subscribeToServer(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),id=xt("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await bi.unsubscribeFromServer(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),od=xt("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:s})=>{try{return await Zv.getChannelsMessages(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),ad=xt("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:s})=>{try{await ey.createMessage(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),cd=xt("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await ey.deleteMessage(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ld=xt("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await ey.editMessage(e,t,r)}catch(s){return n(s instanceof Error?s.message:" ")}}),dd=xt("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:s})=>{try{await Zv.createChannel(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:" ")}}),ud=xt("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await Zv.deleteChannel(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),p5=({isOwnMessage:e,userName:t,content:r,time:n,messageId:s,modifiedAt:i})=>{const o=Vt(),{accessToken:a}=De(v=>v.userStore),[c,l]=w.useState(!1),[d,u]=w.useState(!1),[f,p]=w.useState(r),m=()=>{f.trim()&&(o(ld({accessToken:a,messageId:s,text:f.trim()})),u(!1))},g=()=>{o(cd({accessToken:a,messageId:s}))};return h.jsxs(Ne,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[h.jsx(Rr,{size:"md",color:"blue",children:t[0]}),h.jsxs(N,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column"},children:[d?h.jsx(Wu,{value:f,onChange:v=>p(v.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px"}}):h.jsx(be,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r}),h.jsxs(be,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:e?"flex-end":"flex-start"},children:[D_(n),i&&h.jsxs("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:["(: ",D_(i),")"]})]}),e&&c&&h.jsx(Ne,{justify:"flex-end",gap:"xs",p:4,style:{position:"absolute",top:"64px",right:"0px",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"4px",zIndex:10},children:d?h.jsxs(h.Fragment,{children:[h.jsx(Qe,{color:"green",onClick:m,children:h.jsx(L9,{size:16})}),h.jsx(Qe,{color:"red",onClick:()=>u(!1),children:h.jsx(ZC,{size:16})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Qe,{color:"blue",onClick:()=>u(!0),children:h.jsx(K9,{size:16})}),h.jsx(Qe,{color:"red",onClick:g,children:h.jsx(Q9,{size:16})})]})})]})]})},h5=({openSidebar:e,openDetailsPanel:t})=>{const r=Vt(),{user:n,accessToken:s}=De(p=>p.userStore),{currentServerId:i,currentChannelId:o,messages:a,isLoading:c}=De(p=>p.testServerStore),[l,d]=w.useState(""),u=()=>{l.trim()&&i&&o&&(r(ad({accessToken:s,channelId:o,text:l.trim(),nestedChannel:!1})),d(""))},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),u())};return h.jsxs(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[h.jsxs(Ne,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[h.jsx(Qe,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:h.jsx(B9,{size:20})}),h.jsx(Ur,{leftSection:h.jsx(Y9,{size:16}),placeholder:"..."}),h.jsx(Qe,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:h.jsx(Z9,{size:20})})]}),h.jsx(Er,{my:"md"}),h.jsx(Gn,{style:{flex:1},children:h.jsxs(Fe,{gap:"sm",children:[c&&a.length<1&&Array.from({length:5}).map((p,m)=>h.jsxs(Ne,{align:"flex-start",gap:"xs",children:[h.jsx(Nn,{height:40,width:40,circle:!0}),h.jsxs(N,{style:{flex:1},children:[h.jsx(Nn,{height:12,width:"60%",radius:"md"}),h.jsx(Nn,{height:10,width:"40%",mt:8,radius:"md"})]})]},m)),a.map(p=>h.jsx(p5,{messageId:p.id,userName:p.authorName,content:p.text,isOwnMessage:n.id===p.authorId,time:p.createdAt,modifiedAt:p.modifiedAt},p.id))]})}),h.jsxs(Ne,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[h.jsx(Qe,{size:"xl",variant:"transparent",children:h.jsx(q9,{size:20})}),h.jsx(Wu,{w:"100%",placeholder:"...",value:l,onChange:p=>d(p.target.value),onKeyDownCapture:f,autosize:!0,minRows:1,maxRows:3}),h.jsx(Qe,{size:"xl",variant:"transparent",onClick:u,children:h.jsx(X9,{size:20})})]})]})},ta=()=>{const e=w.useContext(XC);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},m5={isUserStreamView:!1,isOpenHome:!0},fR=Uc({name:"app",initialState:m5,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:pR,setUserStreamView:So,setOpenHome:ty}=fR.actions,g5=fR.reducer,ry=e=>e.map(t=>{const r=t.users.reduce((n,s)=>(n[s.socketId]||(n[s.socketId]={userName:s.userName,producerIds:[]}),n[s.socketId].producerIds.push(s.producerId),n),{});return{roomName:t.roomName,users:r}}),v5=({users:e,onOpenStream:t})=>{const r=Vt(),{currentVoiceChannelId:n}=De(o=>o.testServerStore),i=ry(e).find(o=>o.roomName===n);return h.jsxs(Gn,{style:{flex:1,maxHeight:"100%"},children:[h.jsx(Ne,{justify:"flex-end",children:h.jsx(Qe,{variant:"transparent",onClick:()=>r(pR()),children:h.jsx(D9,{})})}),h.jsx(pv,{cols:{base:2,lg:3},spacing:"sm",children:i&&Object.entries(i.users).map(([o,{userName:a,producerIds:c}])=>{const l=c.length>1;return h.jsxs(N,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[h.jsx(Rr,{radius:"xl",size:"lg",color:"blue",children:a[0]}),h.jsx(be,{c:"white",children:a}),l&&h.jsx(ke,{size:"xs",variant:"outline",onClick:()=>t(o),children:" "})]},o)})})]})},y5=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=ta(),s=w.useRef(null),i=w.useRef(null),{currentVoiceChannelId:o}=De(m=>m.testServerStore),c=ry(t).find(m=>m.roomName===o),l=w.useRef(null),d=()=>{l.current&&l.current.scrollBy({left:-100,behavior:"smooth"})},u=()=>{l.current&&l.current.scrollBy({left:100,behavior:"smooth"})},f=m=>{n(m)},p=()=>{n(null),s.current&&(i.current=null,s.current.srcObject=null)};return w.useEffect(()=>{if(!pe||!c)return;const m=({producerId:g})=>{e.some(y=>{var _;return y.kind==="video"&&y.producerId===g&&((_=c.users[r])==null?void 0:_.producerIds.includes(g))})&&p()};return pe.on("producerClosed",m),()=>{pe.off("producerClosed",m)}},[pe,e,c,r]),w.useEffect(()=>{var g;if(!r||!c)return;const m=e.find(v=>{var y;return v.kind==="video"&&((y=c.users[r])==null?void 0:y.producerIds.includes(v.producerId))});if(m){const v=m.track;if(!i.current||((g=i.current.getVideoTracks()[0])==null?void 0:g.id)!==v.id){const y=new MediaStream([v]);i.current=y,s.current&&(s.current.srcObject=y,s.current.play().catch(_=>console.error("  :",_)))}}},[r,e,c]),h.jsx(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?h.jsxs(N,{style:{position:"relative",flex:1},children:[h.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),h.jsxs(ke,{variant:"filled",color:"red",onClick:p,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[h.jsx(ZC,{size:20})," "]}),h.jsxs(N,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[h.jsx(ke,{variant:"subtle",color:"gray",onClick:d,style:{zIndex:1},children:h.jsx(j9,{size:20})}),h.jsx(Gn,{viewportRef:l,style:{width:"100%"},children:h.jsx(Wn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:c&&Object.entries(c.users).map(([m,{userName:g,producerIds:v}])=>{const y=v.length>1;return h.jsxs(N,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"100px",width:"100px"},children:[h.jsx(Rr,{radius:"xl",size:"sm",children:g[0]}),h.jsx(be,{c:"white",size:"xs",children:g}),y&&h.jsx(ke,{size:"xs",variant:"outline",onClick:()=>f(m),children:h.jsx(Ql,{})})]},m)})})}),h.jsx(ke,{variant:"subtle",color:"gray",onClick:u,style:{zIndex:1},children:h.jsx(Kv,{size:20})})]})]}):h.jsx(v5,{users:t,onOpenStream:f})})},w5=()=>{const{serverData:e,isLoading:t}=De(r=>r.testServerStore);return h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:200,lg:300},visibleFrom:"sm",children:h.jsxs(Fe,{gap:"md",children:[h.jsx(be,{c:"white",children:""}),h.jsx(Er,{color:"gray"}),h.jsx(Fe,{children:t?Array.from({length:5}).map((r,n)=>h.jsxs(Ne,{gap:"sm",align:"center",children:[h.jsx(Nn,{circle:!0,height:40,width:40}),h.jsx(Nn,{height:16,width:"30%"}),h.jsx(Nn,{height:16,width:"20%",style:{marginLeft:"auto"}})]},n)):e.users.map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Rr,{size:"md",color:"blue",children:r.userName}),h.jsx(be,{c:"white",children:r.userName}),h.jsx(cc,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:r.roleName})]},r.userId))})]})})},L_=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],S5=({onClose:e,opened:t})=>h.jsx(h.Fragment,{children:h.jsx(Yr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},children:h.jsxs(Fe,{gap:"md",children:[h.jsx(be,{c:"white",children:""}),h.jsx(Er,{color:"gray"}),h.jsx(be,{c:"gray",children:" "}),h.jsx(Fe,{children:L_.filter(r=>r.online).map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Rr,{size:"md",color:"blue",children:r.name[0]}),h.jsx(be,{c:"white",children:r.name}),h.jsx(cc,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:" "})]},r.id))}),h.jsx(Er,{color:"gray"}),h.jsx(be,{c:"gray",children:"  "}),h.jsx(Fe,{children:L_.filter(r=>!r.online).map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Rr,{size:"md",color:"blue",children:r.name[0]}),h.jsx(be,{c:"dimmed",children:r.name}),h.jsx(cc,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"  "})]},r.id))})]})})})}),_5=()=>h.jsx(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:h.jsx(Wn,{w:"100%",h:"100%",justify:"center",align:"center",children:h.jsx(be,{c:"gray",children:" ,   "})})}),b5=()=>{const{user:e}=De(t=>t.userStore);return h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:h.jsxs(Fe,{gap:"md",align:"center",style:{whiteSpace:"nowrap"},children:[h.jsx(Rr,{size:80,radius:"xl",src:void 0,alt:e.name}),h.jsx(ef,{order:3,children:e.name}),h.jsxs(be,{c:"gray",children:["ID: ",e.tag]}),h.jsxs(be,{c:"gray",children:["E-mail: ",e.mail]}),h.jsxs(be,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},x5=({name:e,lastMessage:t,date:r,isActive:n,onClick:s})=>h.jsxs(N,{p:"sm",bg:n?"#2E2E33":"transparent",style:i=>({borderRadius:i.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:s,children:[h.jsx(Rr,{radius:"xl",size:40}),h.jsxs(N,{style:{flex:1},children:[h.jsx(be,{fw:"bold",children:e}),h.jsx(be,{size:"sm",c:"gray",truncate:!0,children:t}),h.jsx(be,{size:"xs",c:"gray",children:r})]})]}),C5=[{id:"1",name:"",lastMessage:" (",date:"14.12.2024"}],R5=()=>{const[e,t]=w.useState(null);return h.jsxs(Fe,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[h.jsx(be,{children:""}),h.jsx(Er,{}),h.jsx(Fe,{gap:"xs",children:C5.map(r=>h.jsx(x5,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},E5=()=>h.jsxs(h.Fragment,{children:[h.jsx(R5,{}),h.jsx(_5,{}),h.jsx(b5,{})]}),T5=({opened:e,onClose:t})=>{const[r,n]=w.useState("create"),{showError:s}=Bc(),{error:i}=De(p=>p.testServerStore),{user:o,accessToken:a}=De(p=>p.userStore),c=Vt(),l=fc({initialValues:{name:""},validate:{name:p=>p.trim().length<3?"     3 ":null}}),d=fc({initialValues:{serverId:""},validate:{serverId:p=>p.trim().length===0?" ID ":null}}),u=async p=>{(await c(rd({accessToken:a,name:p.name}))).meta.requestStatus==="fulfilled"&&(c(ri({accessToken:a})),l.reset(),t())},f=async p=>{(await c(sd({accessToken:a,serverId:p.serverId,userName:o.name}))).meta.requestStatus==="fulfilled"&&(c(ri({accessToken:a})),l.reset(),t())};return w.useEffect(()=>{i!==""&&s(i)},[i]),h.jsx(Dr,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:h.jsxs($r,{value:r,onChange:n,children:[h.jsxs($r.List,{children:[h.jsx($r.Tab,{value:"create",children:" "}),h.jsx($r.Tab,{value:"connect",children:"  "})]}),h.jsxs($r.Panel,{value:"create",children:[" ",h.jsxs("form",{onSubmit:l.onSubmit(u),children:[h.jsx(Ur,{label:" ",placeholder:"  ",...l.getInputProps("name")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(ke,{variant:"outline",onClick:t,children:""}),h.jsx(ke,{type:"submit",children:""})]})]})]}),h.jsx($r.Panel,{value:"connect",children:h.jsxs("form",{onSubmit:d.onSubmit(f),children:[h.jsx(Ur,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(ke,{variant:"outline",onClick:t,children:""}),h.jsx(ke,{type:"submit",children:""})]})]})})]})})},P5={servers:{channel1:{name:"test",textChannels:{channel1:{name:"General",messages:[{id:"msg1",content:"Welcome to the General chat!",userId:"user1",userName:"Alice",timestamp:new Date().toISOString(),isOwnMessage:!1}]},channel2:{name:"Random",messages:[{id:"msg2",content:"Hello from Random chat!",userId:"user2",userName:"Bob",timestamp:new Date().toISOString(),isOwnMessage:!1}]}}}},currentServerId:"a062fcbd-05c6-4c85-9183-68a8d3466fa2",currentChannelId:"channel1"},hR=Uc({name:"server",initialState:P5,reducers:{addServer:(e,t)=>{const{serverId:r,name:n}=t.payload;e.servers[r]={name:n,textChannels:{}}},addTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n]={name:s,messages:[]})},editTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n].name=s)},deleteTextChannel:(e,t)=>{const{serverId:r,channelId:n}=t.payload,s=e.servers[r];e.currentChannelId===n&&(e.currentChannelId="channel1"),s&&delete s.textChannels[n]},setCurrentServer:(e,t)=>{e.currentServerId=t.payload,e.currentChannelId="channel1"},setCurrentChannel:(e,t)=>{e.currentChannelId=t.payload},addMessage:(e,t)=>{var o;const{serverId:r,channelId:n,message:s}=t.payload,i=(o=e.servers[r])==null?void 0:o.textChannels[n];i&&i.messages.push(s)}}}),{addServer:fF,addTextChannel:pF,editTextChannel:hF,setCurrentServer:k5,setCurrentChannel:mF,addMessage:gF,deleteTextChannel:vF}=hR.actions,D5=hR.reducer,L5={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],announcementChannels:[]}},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],isLoading:!1,error:""},mR=Uc({name:"testServer",initialState:L5,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&e.messages.push(t.payload)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],announcementChannels:[]}}}},extraReducers:e=>{e.addCase(ri.pending,t=>{t.isLoading=!0,t.error=""}).addCase(ri.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(ri.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase($n.pending,t=>{t.isLoading=!0,t.messages=[],t.currentChannelId=null,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],announcementChannels:[]}},t.error=""}).addCase($n.fulfilled,(t,r)=>{t.serverData=r.payload,t.currentChannelId=r.payload.channels.textChannels.length>0?r.payload.channels.textChannels[0].channelId:null,t.isLoading=!1,t.error=""}).addCase($n.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(rd.pending,t=>{t.error=""}).addCase(rd.fulfilled,t=>{t.error=""}).addCase(rd.rejected,(t,r)=>{t.error=r.payload}).addCase(Up.pending,t=>{t.error=""}).addCase(Up.fulfilled,t=>{t.error=""}).addCase(Up.rejected,(t,r)=>{t.error=r.payload}).addCase(nd.pending,t=>{t.error=""}).addCase(nd.fulfilled,t=>{t.error=""}).addCase(nd.rejected,(t,r)=>{t.error=r.payload}).addCase(sd.pending,t=>{t.error=""}).addCase(sd.fulfilled,t=>{t.error=""}).addCase(sd.rejected,(t,r)=>{t.error=r.payload}).addCase(od.pending,t=>{t.isLoading=!0,t.error=""}).addCase(od.fulfilled,(t,r)=>{t.messages=r.payload,t.isLoading=!1,t.error=""}).addCase(od.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ad.pending,t=>{t.error=""}).addCase(ad.fulfilled,t=>{t.error=""}).addCase(ad.rejected,(t,r)=>{t.error=r.payload}).addCase(cd.pending,t=>{t.error=""}).addCase(cd.fulfilled,t=>{t.error=""}).addCase(cd.rejected,(t,r)=>{t.error=r.payload}).addCase(ld.pending,t=>{t.error=""}).addCase(ld.fulfilled,t=>{t.error=""}).addCase(ld.rejected,(t,r)=>{t.error=r.payload}).addCase(dd.pending,t=>{t.error=""}).addCase(dd.fulfilled,t=>{t.error=""}).addCase(dd.rejected,(t,r)=>{t.error=r.payload}).addCase(ud.pending,t=>{t.error=""}).addCase(ud.fulfilled,t=>{t.error=""}).addCase(ud.rejected,(t,r)=>{t.error=r.payload}).addCase(id.pending,t=>{t.error=""}).addCase(id.fulfilled,t=>{t.error=""}).addCase(id.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:j5,setCurrentChannelId:M5,setCurrentVoiceChannelId:fd,addMessage:I5,deleteMessageWs:O5,editMessageWs:N5,addUserWs:$5,deleteUserWs:A5,clearServerData:F5}=mR.actions,z5=mR.reducer,B5=({serverId:e,serverName:t})=>{const r=Vt(),{user:n}=De(i=>i.userStore),s=()=>{r(k5(e)),r(j5(e)),r(So(!1)),r(ty(!1)),pe.emit("setServer",{serverId:e,user:n.name})};return h.jsx(Qe,{size:"xl",radius:"xl",variant:"transparent",onClick:s,children:h.jsx(Rr,{size:"md",color:"blue",children:t})})},U5=()=>{const[e,{open:t,close:r}]=Ls(!1),n=Vt(),s=Ko(),{serversList:i}=De(c=>c.testServerStore),{accessToken:o}=De(c=>c.userStore),a=async()=>{(await n(td({accessToken:o}))).meta.requestStatus==="fulfilled"&&s("/")};return w.useEffect(()=>{o&&n(ri({accessToken:o}))},[o,n]),h.jsxs(Wn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[h.jsxs(Wn,{direction:"column",align:"center",children:[h.jsx(Qe,{size:"lg",variant:"transparent",onClick:()=>n(ty(!0)),children:h.jsx(F9,{size:24,color:"#fff"})}),h.jsx(Er,{my:"sm"}),h.jsx(Fe,{gap:"sm",align:"center",children:i.map(c=>h.jsx(B5,{serverId:c.serverId,serverName:c.serverName},c.serverId))}),h.jsx(Er,{my:"sm"}),h.jsx(Qe,{size:"lg",variant:"transparent",onClick:t,children:h.jsx(I9,{size:24,color:"#fff"})})]}),h.jsx(Qe,{size:"lg",variant:"transparent",onClick:a,children:h.jsx(z9,{size:24,color:"#fff"})}),h.jsx(T5,{opened:e,onClose:r})]})};var us=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(us||{});const gR=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:s})=>{const i=Vt(),{accessToken:o}=De(f=>f.userStore),{error:a}=De(f=>f.testServerStore),{showError:c}=Bc(),l=fc({initialValues:{name:r.initialData},validate:{name:f=>f.trim().length<3?"     3 ":null}});w.useEffect(()=>{r.isEdit?l.setValues({name:r.initialData}):l.reset()},[r]);const d=async f=>{(await i(dd({accessToken:o,serverId:n,name:f.name,channelType:s===us.TEXT_CHANNEL?us.TEXT_CHANNEL:us.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&i($n({accessToken:o,serverId:n})),t()},u=async()=>{(await i(ud({accessToken:o,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&i($n({accessToken:o,serverId:n})),t()};return w.useEffect(()=>{a&&c(a)},[a]),h.jsx(Dr,{opened:e,onClose:t,title:r.isEdit?` ${s===us.TEXT_CHANNEL?"":""} `:` ${s===us.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?h.jsxs(h.Fragment,{children:[h.jsxs(be,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(ke,{variant:"filled",color:"red",onClick:u,children:""}),h.jsx(ke,{variant:"outline",onClick:t,children:""})]})]}):h.jsxs("form",{onSubmit:l.onSubmit(d),children:[h.jsx(Ur,{label:" ",placeholder:"  ",...l.getInputProps("name")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(ke,{variant:"outline",onClick:t,children:""}),h.jsx(ke,{type:"submit",children:""})]})]})})},j_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})};function vR({onClose:e}){const t=Vt(),[r,{toggle:n}]=Ls(!0),[s,{open:i,close:o}]=Ls(!1),[a,c]=w.useState(""),[l,d]=w.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:u,currentServerId:f,currentChannelId:p}=De(g=>g.testServerStore),m=u.userRole==="Admin";return h.jsxs(h.Fragment,{children:[h.jsxs(Fe,{align:"flex-start",gap:"xs",children:[h.jsxs(Ne,{justify:"space-between",w:"100%",wrap:"nowrap",children:[h.jsx(ke,{leftSection:r?h.jsx(qv,{}):h.jsx(Kv,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),m&&h.jsx(Qe,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),i()},children:h.jsx(Gv,{color:"#ffffff"})})]}),h.jsx(_u,{in:r,w:"100%",children:h.jsx(Fe,{gap:"xs",children:u.channels.textChannels.map(({channelId:g,channelName:v})=>h.jsxs(N,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>c(g),onMouseLeave:()=>c(""),children:[h.jsx(ke,{leftSection:h.jsx(A9,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:j_.buttonRoot(a===g,p===g)},fullWidth:!0,onClick:()=>{t(M5(g)),t(So(!1)),e()},children:v}),m&&a===g&&h.jsx(ke,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:j_.buttonSettings(p===g)},onClick:()=>{d({isEdit:!0,initialData:v,channelId:g}),i()},children:h.jsx(Yv,{size:16})})]},g))})})]}),f&&h.jsx(gR,{opened:s,onClose:o,isEdit:l,serverId:f,channelType:us.TEXT_CHANNEL})]})}const V5=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:s}=ta();return async(o,a,c)=>{try{if(!pe.connected)throw new Error("Socket is not connected");const l=await i9(),d=await o9(o,a,c),u=await a9(d);r(u);const f=await c9(u,l,t,s);n(f),e(!0),console.log("Connected successfully")}catch(l){console.error("Error connecting:",l),e(!1)}}},ny=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:s,setIsStreaming:i,setAudioProducer:o}=ta();return()=>{pe.emit("leaveRoom"),e(!1),t(null),n([]),s(!1),i(!1),o(null),r(null)}},H5={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},W5=()=>{const[e,t]=w.useState([]);return w.useEffect(()=>{if(pe)return pe.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{pe.off("active-speakers")}},[]),e};function yR(){const e=V5(),t=ny(),{isConnected:r,consumers:n,users:s,setSelectedUserId:i}=ta(),{user:o}=De(A=>A.userStore),{serverData:a,currentVoiceChannelId:c,currentServerId:l}=De(A=>A.testServerStore),d=Vt(),[u,{toggle:f}]=Ls(!0),[p,{open:m,close:g}]=Ls(!1),[v,y]=w.useState({}),_=W5(),S=ry(s),b=w.useRef(new Map),C=a.userRole==="Admin",[x,E]=w.useState(""),[R,P]=w.useState({isEdit:!1,initialData:"",channelId:""}),L=A=>{r?A===c?d(pR()):(t(),d(So(!1)),d(fd(A)),e(A,o.name,a.serverId)):(d(fd(A)),e(A,o.name,a.serverId))},$=(A,W)=>{if(!c)return;const I=S.find(j=>j.roomName===c);if(!I)return;const V=I.users[A];if(!V)return;const T=V.producerIds.find(j=>!!n.find(M=>M.producerId===j&&M.kind==="audio"));T&&y(j=>({...j,[T]:W/100}))},B=()=>{P({isEdit:!1,initialData:"",channelId:""}),m()},q=A=>{console.log(A),pe.emit("kickUser",{targetSocketId:A},W=>{W.success?console.log("  :",W.message):console.error("  :",W.message)})};return w.useEffect(()=>{n.forEach(W=>{if(W.kind==="audio"){const{producerId:I,track:V}=W;if(!b.current.has(I)){const T=document.createElement("audio");T.srcObject=new MediaStream([V]),T.autoplay=!0,T.volume=v[I]??1,b.current.set(I,T),document.body.appendChild(T)}}});const A=n.map(W=>W.producerId);return b.current.forEach((W,I)=>{A.includes(I)||(W.pause(),W.remove(),b.current.delete(I))}),()=>{b.current.forEach(W=>{W.pause(),W.remove()}),b.current.clear()}},[n,v]),w.useEffect(()=>{if(pe)return pe.on("kickedUser",()=>{t(),d(So(!1)),d(fd(null))}),()=>{pe.off("producerClosed")}},[t,d]),h.jsxs(h.Fragment,{children:[h.jsxs(Fe,{align:"flex-start",gap:"xs",children:[h.jsxs(Ne,{justify:"space-between",w:"100%",wrap:"nowrap",children:[h.jsx(ke,{leftSection:u?h.jsx(qv,{}):h.jsx(Kv,{}),variant:"transparent",onClick:f,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),C&&h.jsx(Qe,{variant:"transparent",onClick:B,children:h.jsx(Gv,{color:"#ffffff"})})]}),h.jsx(_u,{in:u,w:"100%",children:h.jsx(Fe,{gap:"xs",children:a.channels.voiceChannels.map(({channelId:A,channelName:W})=>h.jsxs(rr.Fragment,{children:[h.jsxs(N,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>E(A),onMouseLeave:()=>E(""),children:[h.jsx(ke,{leftSection:h.jsx(S_,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:()=>L(A),children:W}),C&&x===A&&h.jsx(ke,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:H5.buttonSettings},onClick:()=>{P({isEdit:!0,initialData:W,channelId:A}),m()},children:h.jsx(Yv,{size:16})})]}),h.jsx(Fe,{gap:"xs",children:S.filter(I=>I.roomName===A).flatMap(I=>Object.entries(I.users).map(([V,{producerIds:T,userName:j}])=>{const O=T.some(M=>_.some(U=>U.producerId===M))&&A===c;return h.jsxs(rt,{shadow:"md",width:200,closeOnItemClick:!0,children:[h.jsx(rt.Target,{children:h.jsxs(Ne,{style:{cursor:"pointer"},wrap:"nowrap",children:[h.jsx(J9,{color:O?"#43b581":void 0}),h.jsx(be,{truncate:!0,children:j}),T.length>1&&h.jsx(Ql,{color:"#43b581",style:{marginLeft:"auto"}})]})}),h.jsxs(rt.Dropdown,{children:[h.jsx(rt.Item,{leftSection:h.jsx(S_,{}),children:h.jsx(hv,{label:"",value:(v[T.find(M=>n.some(U=>U.producerId===M&&U.kind==="audio"))||""]||1)*100,onChange:M=>$(V,M),min:1,max:100})}),T.length>1&&h.jsx(rt.Item,{leftSection:h.jsx(Ql,{}),onClick:()=>{i(V),d(So(!0))},children:" "}),C&&h.jsx(rt.Item,{leftSection:h.jsx(Ql,{}),onClick:()=>{q(V)},children:" "})]})]},V)}))})]},A))})})]}),l&&h.jsx(gR,{opened:p,onClose:g,isEdit:R,serverId:l,channelType:us.VOICE_CHANNEL})]})}const q5=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=ta(),s=w.useRef(null),i=async()=>{const c=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],l=await r.produce({track:c});t(l),s.current=l.id,l.on("trackended",o),n(!0)},o=async()=>{e?(e.close(),pe.emit("stopProducer",{producerId:e.id})):pe.emit("stopProducer",{producerId:s.current}),s.current=null,t(null),n(!1)};return{startScreenSharing:i,stopScreenSharing:o}},wR=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=ta(),s=ny(),{startScreenSharing:i,stopScreenSharing:o}=q5(),a=Vt(),{user:c}=De(u=>u.userStore),l=()=>{n?o():i()},d=()=>{s(),a(So(!1)),a(fd(null))};return h.jsxs(Fe,{mt:"auto",children:[e&&h.jsxs(Ne,{gap:"xs",justify:"space-between",children:[h.jsx(Qe,{variant:"transparent",onClick:l,c:"#ffffff",children:n?h.jsx(W9,{}):h.jsx(H9,{})}),h.jsx(Qe,{variant:"transparent",onClick:t,c:"#ffffff",children:r?h.jsx(U9,{}):h.jsx(V9,{})}),h.jsx(Qe,{variant:"transparent",onClick:d,c:"#ffffff",children:h.jsx(G9,{})})]}),h.jsx(Er,{}),h.jsx(be,{truncate:!0,children:c.name})]})},K5=({onClose:e,opened:t})=>h.jsx(h.Fragment,{children:h.jsx(Yr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:h.jsxs(Fe,{gap:"xs",bg:"#1A1B1E",p:10,h:"100%",children:[h.jsx(be,{children:" #1"}),h.jsx(Er,{}),h.jsx(vR,{onClose:e}),h.jsx(yR,{}),h.jsx(wR,{})]})})}),G5=({opened:e,onClose:t})=>{const r=Vt(),{serverData:n,error:s}=De(_=>_.testServerStore),{accessToken:i,user:o}=De(_=>_.userStore),[a,c]=w.useState("roles"),[l,d]=w.useState(""),[u,f]=w.useState(""),[p,m]=w.useState(!1),{showSuccess:g,showError:v}=Bc(),y=async()=>{if(!l||!u)return;m(!0),(await r(nd({accessToken:i,serverId:n.serverId,userId:l,role:u}))).meta.requestStatus==="fulfilled"&&(m(!1),g("  "),r($n({accessToken:i,serverId:n.serverId})))};return w.useEffect(()=>{s&&(m(!1),v(s))},[s]),h.jsx(Dr,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:h.jsxs(Ne,{align:"flex-start",gap:"md",children:[h.jsx(Fe,{gap:"xs",style:{width:200},children:h.jsx(uv,{label:"",leftSection:h.jsx(Gv,{size:16}),active:a==="roles",onClick:()=>c("roles")})}),h.jsx(Gn,{children:a==="roles"&&h.jsxs(Fe,{gap:"md",children:[h.jsx(be,{size:"lg",w:500,children:"  "}),h.jsx(Wd,{label:" ",placeholder:" ",data:n.users.filter(_=>_.userId!==o.id).map(_=>({value:_.userId,label:_.userName})),value:l,onChange:d}),h.jsx(Wd,{label:" ",placeholder:" ",data:n.roles.map(_=>({value:_.id,label:_.name})),value:u,onChange:f}),h.jsx(ke,{onClick:y,loading:p,children:" "})]})})]})})},Y5=({onClose:e})=>{const t=Ko(),r=Vt(),[n,{open:s,close:i}]=Ls(!1),{serverData:o,isLoading:a}=De(f=>f.testServerStore),{accessToken:c}=De(f=>f.userStore),l=o.userRole==="Admin",d=f=>{navigator.clipboard.writeText(f)},u=async()=>{(await r(id({accessToken:c,serverId:o.serverId}))).meta.requestStatus==="fulfilled"&&(r(ri({accessToken:c})),r(ty(!0)),r(F5()),t("/main"))};return h.jsxs(h.Fragment,{children:[h.jsxs(Fe,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[h.jsxs(rt,{shadow:"md",width:200,children:[h.jsx(rt.Target,{children:h.jsxs(Ne,{justify:"space-between",style:{cursor:"pointer"},children:[a?h.jsx(h.Fragment,{children:h.jsx(Nn,{height:10,width:"40%",radius:"md"})}):h.jsx(be,{children:o.serverName}),h.jsx(qv,{})]})}),h.jsxs(rt.Dropdown,{children:[l&&h.jsx(rt.Item,{leftSection:h.jsx(Yv,{size:16}),onClick:s,children:" "}),h.jsx(rt.Item,{onClick:()=>d(o.serverId),leftSection:h.jsx(N9,{size:16}),children:" ID "}),!l&&h.jsx(rt.Item,{onClick:u,leftSection:h.jsx($9,{size:16}),children:"  "})]})]}),h.jsx(Er,{}),h.jsx(vR,{onClose:e}),h.jsx(yR,{}),h.jsx(wR,{})]}),h.jsx(G5,{opened:n,onClose:i})]})},M_=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,authorName:e.AuthorName,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),X5=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.Role.Name}),Q5=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:n})=>{const s=ny();w.useEffect(()=>{if(e){const i=new WebSocket(`wss://hitscord-backend.online/ws?accessToken=${e}`);return i.onmessage=o=>{const a=JSON.parse(o.data);if(console.log(a),a.MessageType==="New message"){const c=M_(a.Payload);c.id&&c.text&&t(I5(c))}if(a.MessageType==="Deleted message"&&t(O5({channelId:a.Payload.ChannelId,messageId:a.Payload.MessageId})),a.MessageType==="Updated message"){const c=M_(a.Payload);t(N5(c))}if(a.MessageType==="New user on server"){const c=X5(a.Payload),{ServerId:l}=a.Payload;r===l&&t($5(c))}if(a.MessageType==="User unsubscribe"){const{UserId:c,ServerId:l}=a.Payload;r===l&&t(A5({UserId:c,ServerId:l}))}if(a.MessageType==="Role changed"){const{ServerId:c}=a.Payload;e&&r&&r===c&&t($n({accessToken:e,serverId:r}))}(a.MessageType==="New channel"||a.MessageType==="Channel deleted")&&e&&r&&(a.Payload.ChannelType===1&&a.Payload.ChannelId===n&&s(),r===a.Payload.ServerId&&t($n({accessToken:e,serverId:r})))},i.onerror=o=>{console.error("WebSocket error:",o)},()=>{console.log("Closing WebSocket connection"),i.close()}}},[e,r,n,t])},J5=()=>{const e=Ko(),t=Vt(),{isUserStreamView:r,isOpenHome:n}=De(g=>g.appStore),{accessToken:s,isLoggedIn:i}=De(g=>g.userStore),{currentServerId:o,currentChannelId:a,currentVoiceChannelId:c}=De(g=>g.testServerStore),[l,{open:d,close:u}]=Ls(!1),[f,{open:p,close:m}]=Ls(!1);return Q5({accessToken:s,dispatch:t,serverId:o,currentVoiceChannelId:c}),w.useEffect(()=>{i||e("/")},[i,e]),w.useEffect(()=>{s&&t(ed({accessToken:s}))},[s,t]),w.useEffect(()=>{o&&s&&t($n({accessToken:s,serverId:o}))},[s,o,t]),w.useEffect(()=>{a&&s&&t(od({accessToken:s,channelId:a,numberOfMessages:100,fromStart:0}))},[s,a,t]),h.jsxs(N,{style:{display:"flex",height:"100dvh"},children:[h.jsx(U5,{}),n?h.jsx(E5,{}):h.jsxs(h.Fragment,{children:[h.jsx(Y5,{onClose:u}),r?h.jsx(y5,{}):h.jsx(h5,{openSidebar:d,openDetailsPanel:p}),h.jsx(w5,{}),h.jsx(K5,{onClose:u,opened:l}),h.jsx(S5,{onClose:m,opened:f})]})]})};function Z5(){return h.jsx(u9,{children:h.jsx(ZO,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsxs(b1,{children:[h.jsx(Zn,{}),h.jsxs(qO,{children:[h.jsx(Ea,{path:"/",element:h.jsx(J6,{})}),h.jsx(Ea,{path:"/main",element:h.jsx(J5,{})}),h.jsx(Ea,{path:"/login",element:h.jsx(Q6,{})}),h.jsx(Ea,{path:"/register",element:h.jsx(Z6,{})})]})]})})})}const eF={isConnected:!1,users:[],activeUsers:[]},tF=Uc({name:"mediasoup",initialState:eF,reducers:{setConnected(e,t){e.isConnected=t.payload},setUsers(e,t){e.users=t.payload},setActiveUsers(e,t){e.activeUsers=[...t.payload]}}}),rF=tF.reducer,I_=()=>{try{const e=localStorage.getItem("accessToken");return e||""}catch(e){return console.error("Could not load token",e),""}},nF={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:I_(),refreshToken:"",isLoggedIn:!!I_(),error:"",isLoading:!1},sF=Uc({name:"user",initialState:nF,reducers:{},extraReducers:e=>{e.addCase(Jl.pending,t=>{t.error=""}).addCase(Jl.fulfilled,(t,r)=>{t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),t.isLoggedIn=!0}).addCase(Jl.rejected,(t,r)=>{t.error=r.payload}).addCase(Zl.pending,t=>{t.error=""}).addCase(Zl.fulfilled,(t,r)=>{t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),t.isLoggedIn=!0}).addCase(Zl.rejected,(t,r)=>{t.error=r.payload}).addCase(ed.pending,t=>{t.error=""}).addCase(ed.fulfilled,(t,r)=>{t.user=r.payload}).addCase(ed.rejected,(t,r)=>{t.error=r.payload}).addCase(td.pending,t=>{t.error=""}).addCase(td.fulfilled,t=>{t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),t.isLoggedIn=!1}).addCase(td.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),t.isLoggedIn=!1})}}),iF=sF.reducer,oF=E6({reducer:{userStore:iF,appStore:g5,serverStore:D5,testServerStore:z5,mediaStore:rF}});K0(document.getElementById("root")).render(h.jsx(mP,{store:oF,children:h.jsx(Z5,{})}));
