var DR=Object.defineProperty;var MR=(e,t,r)=>t in e?DR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hp=(e,t,r)=>MR(e,typeof t!="symbol"?t+"":t,r);function LR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var IR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mp={exports:{}},ya={},gp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function jR(){if(pw)return De;pw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,R={};function C(B,Y,ae){this.props=B,this.context=Y,this.refs=R,this.updater=ae||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=C.prototype;function b(B,Y,ae){this.props=B,this.context=Y,this.refs=R,this.updater=ae||S}var f=b.prototype=new E;f.constructor=b,_(f,C.prototype),f.isPureReactComponent=!0;var p=Array.isArray,m=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(B,Y,ae){var de,ee={},oe=null,ue=null;if(Y!=null)for(de in Y.ref!==void 0&&(ue=Y.ref),Y.key!==void 0&&(oe=""+Y.key),Y)m.call(Y,de)&&!k.hasOwnProperty(de)&&(ee[de]=Y[de]);var me=arguments.length-2;if(me===1)ee.children=ae;else if(1<me){for(var he=Array(me),Ce=0;Ce<me;Ce++)he[Ce]=arguments[Ce+2];ee.children=he}if(B&&B.defaultProps)for(de in me=B.defaultProps,me)ee[de]===void 0&&(ee[de]=me[de]);return{$$typeof:e,type:B,key:oe,ref:ue,props:ee,_owner:x.current}}function j(B,Y){return{$$typeof:e,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function A(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return Y[ae]})}var N=/\/+/g;function V(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?A(""+B.key):Y.toString(36)}function W(B,Y,ae,de,ee){var oe=typeof B;(oe==="undefined"||oe==="boolean")&&(B=null);var ue=!1;if(B===null)ue=!0;else switch(oe){case"string":case"number":ue=!0;break;case"object":switch(B.$$typeof){case e:case t:ue=!0}}if(ue)return ue=B,ee=ee(ue),B=de===""?"."+V(ue,0):de,p(ee)?(ae="",B!=null&&(ae=B.replace(N,"$&/")+"/"),W(ee,Y,ae,"",function(Ce){return Ce})):ee!=null&&(I(ee)&&(ee=j(ee,ae+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+B)),Y.push(ee)),1;if(ue=0,de=de===""?".":de+":",p(B))for(var me=0;me<B.length;me++){oe=B[me];var he=de+V(oe,me);ue+=W(oe,Y,ae,he,ee)}else if(he=w(B),typeof he=="function")for(B=he.call(B),me=0;!(oe=B.next()).done;)oe=oe.value,he=de+V(oe,me++),ue+=W(oe,Y,ae,he,ee);else if(oe==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ue}function X(B,Y,ae){if(B==null)return B;var de=[],ee=0;return W(B,de,"","",function(oe){return Y.call(ae,oe,ee++)}),de}function O(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},F={transition:null},z={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};function q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:X,forEach:function(B,Y,ae){X(B,function(){Y.apply(this,arguments)},ae)},count:function(B){var Y=0;return X(B,function(){Y++}),Y},toArray:function(B){return X(B,function(Y){return Y})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=C,De.Fragment=r,De.Profiler=i,De.PureComponent=b,De.StrictMode=n,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,De.act=q,De.cloneElement=function(B,Y,ae){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var de=_({},B.props),ee=B.key,oe=B.ref,ue=B._owner;if(Y!=null){if(Y.ref!==void 0&&(oe=Y.ref,ue=x.current),Y.key!==void 0&&(ee=""+Y.key),B.type&&B.type.defaultProps)var me=B.type.defaultProps;for(he in Y)m.call(Y,he)&&!k.hasOwnProperty(he)&&(de[he]=Y[he]===void 0&&me!==void 0?me[he]:Y[he])}var he=arguments.length-2;if(he===1)de.children=ae;else if(1<he){me=Array(he);for(var Ce=0;Ce<he;Ce++)me[Ce]=arguments[Ce+2];de.children=me}return{$$typeof:e,type:B.type,key:ee,ref:oe,props:de,_owner:ue}},De.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=L,De.createFactory=function(B){var Y=L.bind(null,B);return Y.type=B,Y},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:u,render:B}},De.isValidElement=I,De.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:O}},De.memo=function(B,Y){return{$$typeof:h,type:B,compare:Y===void 0?null:Y}},De.startTransition=function(B){var Y=F.transition;F.transition={};try{B()}finally{F.transition=Y}},De.unstable_act=q,De.useCallback=function(B,Y){return U.current.useCallback(B,Y)},De.useContext=function(B){return U.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return U.current.useDeferredValue(B)},De.useEffect=function(B,Y){return U.current.useEffect(B,Y)},De.useId=function(){return U.current.useId()},De.useImperativeHandle=function(B,Y,ae){return U.current.useImperativeHandle(B,Y,ae)},De.useInsertionEffect=function(B,Y){return U.current.useInsertionEffect(B,Y)},De.useLayoutEffect=function(B,Y){return U.current.useLayoutEffect(B,Y)},De.useMemo=function(B,Y){return U.current.useMemo(B,Y)},De.useReducer=function(B,Y,ae){return U.current.useReducer(B,Y,ae)},De.useRef=function(B){return U.current.useRef(B)},De.useState=function(B){return U.current.useState(B)},De.useSyncExternalStore=function(B,Y,ae){return U.current.useSyncExternalStore(B,Y,ae)},De.useTransition=function(){return U.current.useTransition()},De.version="18.3.1",De}var hw;function Su(){return hw||(hw=1,gp.exports=jR()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function OR(){if(mw)return ya;mw=1;var e=Su(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var v,y={},w=null,S=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(v in d)n.call(d,v)&&!a.hasOwnProperty(v)&&(y[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)y[v]===void 0&&(y[v]=d[v]);return{$$typeof:t,type:u,key:w,ref:S,props:y,_owner:i.current}}return ya.Fragment=r,ya.jsx=c,ya.jsxs=c,ya}var gw;function NR(){return gw||(gw=1,mp.exports=OR()),mp.exports}var P=NR(),gl={},vp={exports:{}},dr={},yp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function AR(){return vw||(vw=1,function(e){function t(F,z){var q=F.length;F.push(z);e:for(;0<q;){var B=q-1>>>1,Y=F[B];if(0<i(Y,z))F[B]=z,F[q]=Y,q=B;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],q=F.pop();if(q!==z){F[0]=q;e:for(var B=0,Y=F.length,ae=Y>>>1;B<ae;){var de=2*(B+1)-1,ee=F[de],oe=de+1,ue=F[oe];if(0>i(ee,q))oe<Y&&0>i(ue,ee)?(F[B]=ue,F[oe]=q,B=oe):(F[B]=ee,F[de]=q,B=de);else if(oe<Y&&0>i(ue,q))F[B]=ue,F[oe]=q,B=oe;else break e}}return z}function i(F,z){var q=F.sortIndex-z.sortIndex;return q!==0?q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],v=1,y=null,w=3,S=!1,_=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(F){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=F)n(h),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(h)}}function p(F){if(R=!1,f(F),!_)if(r(d)!==null)_=!0,O(m);else{var z=r(h);z!==null&&U(p,z.startTime-F)}}function m(F,z){_=!1,R&&(R=!1,E(L),L=-1),S=!0;var q=w;try{for(f(z),y=r(d);y!==null&&(!(y.expirationTime>z)||F&&!A());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var Y=B(y.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?y.callback=Y:y===r(d)&&n(d),f(z)}else n(d);y=r(d)}if(y!==null)var ae=!0;else{var de=r(h);de!==null&&U(p,de.startTime-z),ae=!1}return ae}finally{y=null,w=q,S=!1}}var x=!1,k=null,L=-1,j=5,I=-1;function A(){return!(e.unstable_now()-I<j)}function N(){if(k!==null){var F=e.unstable_now();I=F;var z=!0;try{z=k(!0,F)}finally{z?V():(x=!1,k=null)}}else x=!1}var V;if(typeof b=="function")V=function(){b(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=N,V=function(){X.postMessage(null)}}else V=function(){C(N,0)};function O(F){k=F,x||(x=!0,V())}function U(F,z){L=C(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){_||S||(_=!0,O(m))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var q=w;w=z;try{return F()}finally{w=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=w;w=F;try{return z()}finally{w=q}},e.unstable_scheduleCallback=function(F,z,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,F={id:v++,callback:z,priorityLevel:F,startTime:q,expirationTime:Y,sortIndex:-1},q>B?(F.sortIndex=q,t(h,F),r(d)===null&&F===r(h)&&(R?(E(L),L=-1):R=!0,U(p,q-B))):(F.sortIndex=Y,t(d,F),_||S||(_=!0,O(m))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var z=w;return function(){var q=w;w=z;try{return F.apply(this,arguments)}finally{w=q}}}}(wp)),wp}var yw;function $R(){return yw||(yw=1,yp.exports=AR()),yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function FR(){if(ww)return dr;ww=1;var e=Su(),t=$R();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(s){return d.call(y,s)?!0:d.call(v,s)?!1:h.test(s)?y[s]=!0:(v[s]=!0,!1)}function S(s,o,l,g){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,o,l,g){if(o===null||typeof o>"u"||S(s,o,l,g))return!0;if(g)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,l,g,T,D,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=T,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=D,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,b);C[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,b);C[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,b);C[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function f(s,o,l,g){var T=C.hasOwnProperty(o)?C[o]:null;(T!==null?T.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,l,T,g)&&(l=null),g||T===null?w(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):T.mustUseProperty?s[T.propertyName]=l===null?T.type===3?!1:"":l:(o=T.attributeName,g=T.attributeNamespace,l===null?s.removeAttribute(o):(T=T.type,l=T===3||T===4&&l===!0?"":""+l,g?s.setAttributeNS(g,o,l):s.setAttribute(o,l))))}var p=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,B;function Y(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ae=!1;function de(s,o){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var g=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){g=J}s.call(o.prototype)}else{try{throw Error()}catch(J){g=J}s()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var T=J.stack.split(`
`),D=g.stack.split(`
`),$=T.length-1,H=D.length-1;1<=$&&0<=H&&T[$]!==D[H];)H--;for(;1<=$&&0<=H;$--,H--)if(T[$]!==D[H]){if($!==1||H!==1)do if($--,H--,0>H||T[$]!==D[H]){var G=`
`+T[$].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=$&&0<=H);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Y(s):""}function ee(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case x:return"Portal";case j:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return o=s.displayName||null,o!==null?o:oe(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return oe(s(o))}catch{}}return null}function ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function he(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ce(s){var o=he(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,D=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return T.call(this)},set:function($){g=""+$,D.call(this,$)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ke(s){s._valueTracker||(s._valueTracker=Ce(s))}function mt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),g="";return s&&(g=he(s)?s.checked?"true":"false":s.value),s=g,s!==l?(o.setValue(s),!0):!1}function ot(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Be(s,o){var l=o.checked;return q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Qe(s,o){var l=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;l=me(o.value!=null?o.value:l),s._wrapperState={initialChecked:g,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ze(s,o){o=o.checked,o!=null&&f(s,"checked",o,!1)}function qe(s,o){Ze(s,o);var l=me(o.value),g=o.type;if(l!=null)g==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?pt(s,o.type,l):o.hasOwnProperty("defaultValue")&&pt(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ct(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function pt(s,o,l){(o!=="number"||ot(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ue=Array.isArray;function Ne(s,o,l,g){if(s=s.options,o){o={};for(var T=0;T<l.length;T++)o["$"+l[T]]=!0;for(l=0;l<s.length;l++)T=o.hasOwnProperty("$"+s[l].value),s[l].selected!==T&&(s[l].selected=T),T&&g&&(s[l].defaultSelected=!0)}else{for(l=""+me(l),o=null,T=0;T<s.length;T++){if(s[T].value===l){s[T].selected=!0,g&&(s[T].defaultSelected=!0);return}o!==null||s[T].disabled||(o=s[T])}o!==null&&(o.selected=!0)}}function it(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function kt(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(Ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:me(l)}}function at(s,o){var l=me(o.value),g=me(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),g!=null&&(s.defaultValue=""+g)}function jt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Te(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Te(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Ie=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,g,T){MSApp.execUnsafeLocalFunction(function(){return s(o,l,g,T)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function gt(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var $e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys($e).forEach(function(s){je.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),$e[o]=$e[s]})});function Se(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||$e.hasOwnProperty(s)&&$e[s]?(""+o).trim():o+"px"}function ct(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var g=l.indexOf("--")===0,T=Se(l,o[l],g);l==="float"&&(l="cssFloat"),g?s.setProperty(l,T):s[l]=T}}var Un=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(s,o){if(o){if(Un[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Ed(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function Pd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kd=null,Oo=null,No=null;function Dg(s){if(s=na(s)){if(typeof kd!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Mc(o),kd(s.stateNode,s.type,o))}}function Mg(s){Oo?No?No.push(s):No=[s]:Oo=s}function Lg(){if(Oo){var s=Oo,o=No;if(No=Oo=null,Dg(s),o)for(s=0;s<o.length;s++)Dg(o[s])}}function Ig(s,o){return s(o)}function jg(){}var Dd=!1;function Og(s,o,l){if(Dd)return s(o,l);Dd=!0;try{return Ig(s,o,l)}finally{Dd=!1,(Oo!==null||No!==null)&&(jg(),Lg())}}function Ni(s,o){var l=s.stateNode;if(l===null)return null;var g=Mc(l);if(g===null)return null;l=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Md=!1;if(u)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Md=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Md=!1}function Nx(s,o,l,g,T,D,$,H,G){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(se){this.onError(se)}}var $i=!1,lc=null,uc=!1,Ld=null,Ax={onError:function(s){$i=!0,lc=s}};function $x(s,o,l,g,T,D,$,H,G){$i=!1,lc=null,Nx.apply(Ax,arguments)}function Fx(s,o,l,g,T,D,$,H,G){if($x.apply(this,arguments),$i){if($i){var J=lc;$i=!1,lc=null}else throw Error(r(198));uc||(uc=!0,Ld=J)}}function Xs(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ng(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ag(s){if(Xs(s)!==s)throw Error(r(188))}function zx(s){var o=s.alternate;if(!o){if(o=Xs(s),o===null)throw Error(r(188));return o!==s?null:s}for(var l=s,g=o;;){var T=l.return;if(T===null)break;var D=T.alternate;if(D===null){if(g=T.return,g!==null){l=g;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===l)return Ag(T),s;if(D===g)return Ag(T),o;D=D.sibling}throw Error(r(188))}if(l.return!==g.return)l=T,g=D;else{for(var $=!1,H=T.child;H;){if(H===l){$=!0,l=T,g=D;break}if(H===g){$=!0,g=T,l=D;break}H=H.sibling}if(!$){for(H=D.child;H;){if(H===l){$=!0,l=D,g=T;break}if(H===g){$=!0,g=D,l=T;break}H=H.sibling}if(!$)throw Error(r(189))}}if(l.alternate!==g)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:o}function $g(s){return s=zx(s),s!==null?Fg(s):null}function Fg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Fg(s);if(o!==null)return o;s=s.sibling}return null}var zg=t.unstable_scheduleCallback,Bg=t.unstable_cancelCallback,Bx=t.unstable_shouldYield,Ux=t.unstable_requestPaint,vt=t.unstable_now,Vx=t.unstable_getCurrentPriorityLevel,Id=t.unstable_ImmediatePriority,Ug=t.unstable_UserBlockingPriority,dc=t.unstable_NormalPriority,Hx=t.unstable_LowPriority,Vg=t.unstable_IdlePriority,fc=null,En=null;function Wx(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(fc,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Kx,qx=Math.log,Gx=Math.LN2;function Kx(s){return s>>>=0,s===0?32:31-(qx(s)/Gx|0)|0}var pc=64,hc=4194304;function Fi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function mc(s,o){var l=s.pendingLanes;if(l===0)return 0;var g=0,T=s.suspendedLanes,D=s.pingedLanes,$=l&268435455;if($!==0){var H=$&~T;H!==0?g=Fi(H):(D&=$,D!==0&&(g=Fi(D)))}else $=l&~T,$!==0?g=Fi($):D!==0&&(g=Fi(D));if(g===0)return 0;if(o!==0&&o!==g&&(o&T)===0&&(T=g&-g,D=o&-o,T>=D||T===16&&(D&4194240)!==0))return o;if((g&4)!==0&&(g|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)l=31-Hr(o),T=1<<l,g|=s[l],o&=~T;return g}function Yx(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xx(s,o){for(var l=s.suspendedLanes,g=s.pingedLanes,T=s.expirationTimes,D=s.pendingLanes;0<D;){var $=31-Hr(D),H=1<<$,G=T[$];G===-1?((H&l)===0||(H&g)!==0)&&(T[$]=Yx(H,o)):G<=o&&(s.expiredLanes|=H),D&=~H}}function jd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hg(){var s=pc;return pc<<=1,(pc&4194240)===0&&(pc=64),s}function Od(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function zi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Hr(o),s[o]=l}function Qx(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<l;){var T=31-Hr(l),D=1<<T;o[T]=0,g[T]=-1,s[T]=-1,l&=~D}}function Nd(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var g=31-Hr(l),T=1<<g;T&o|s[g]&o&&(s[g]|=o),l&=~T}}var Ve=0;function Wg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qg,Ad,Gg,Kg,Yg,$d=!1,gc=[],gs=null,vs=null,ys=null,Bi=new Map,Ui=new Map,ws=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(s,o){switch(s){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(o.pointerId)}}function Vi(s,o,l,g,T,D){return s===null||s.nativeEvent!==D?(s={blockedOn:o,domEventName:l,eventSystemFlags:g,nativeEvent:D,targetContainers:[T]},o!==null&&(o=na(o),o!==null&&Ad(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),s)}function Jx(s,o,l,g,T){switch(o){case"focusin":return gs=Vi(gs,s,o,l,g,T),!0;case"dragenter":return vs=Vi(vs,s,o,l,g,T),!0;case"mouseover":return ys=Vi(ys,s,o,l,g,T),!0;case"pointerover":var D=T.pointerId;return Bi.set(D,Vi(Bi.get(D)||null,s,o,l,g,T)),!0;case"gotpointercapture":return D=T.pointerId,Ui.set(D,Vi(Ui.get(D)||null,s,o,l,g,T)),!0}return!1}function Qg(s){var o=Qs(s.target);if(o!==null){var l=Xs(o);if(l!==null){if(o=l.tag,o===13){if(o=Ng(l),o!==null){s.blockedOn=o,Yg(s.priority,function(){Gg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=zd(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var g=new l.constructor(l.type,l);Td=g,l.target.dispatchEvent(g),Td=null}else return o=na(l),o!==null&&Ad(o),s.blockedOn=l,!1;o.shift()}return!0}function Zg(s,o,l){vc(s)&&l.delete(o)}function eC(){$d=!1,gs!==null&&vc(gs)&&(gs=null),vs!==null&&vc(vs)&&(vs=null),ys!==null&&vc(ys)&&(ys=null),Bi.forEach(Zg),Ui.forEach(Zg)}function Hi(s,o){s.blockedOn===o&&(s.blockedOn=null,$d||($d=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eC)))}function Wi(s){function o(T){return Hi(T,s)}if(0<gc.length){Hi(gc[0],s);for(var l=1;l<gc.length;l++){var g=gc[l];g.blockedOn===s&&(g.blockedOn=null)}}for(gs!==null&&Hi(gs,s),vs!==null&&Hi(vs,s),ys!==null&&Hi(ys,s),Bi.forEach(o),Ui.forEach(o),l=0;l<ws.length;l++)g=ws[l],g.blockedOn===s&&(g.blockedOn=null);for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)Qg(l),l.blockedOn===null&&ws.shift()}var Ao=p.ReactCurrentBatchConfig,yc=!0;function tC(s,o,l,g){var T=Ve,D=Ao.transition;Ao.transition=null;try{Ve=1,Fd(s,o,l,g)}finally{Ve=T,Ao.transition=D}}function rC(s,o,l,g){var T=Ve,D=Ao.transition;Ao.transition=null;try{Ve=4,Fd(s,o,l,g)}finally{Ve=T,Ao.transition=D}}function Fd(s,o,l,g){if(yc){var T=zd(s,o,l,g);if(T===null)nf(s,o,g,wc,l),Xg(s,g);else if(Jx(T,s,o,l,g))g.stopPropagation();else if(Xg(s,g),o&4&&-1<Zx.indexOf(s)){for(;T!==null;){var D=na(T);if(D!==null&&qg(D),D=zd(s,o,l,g),D===null&&nf(s,o,g,wc,l),D===T)break;T=D}T!==null&&g.stopPropagation()}else nf(s,o,g,null,l)}}var wc=null;function zd(s,o,l,g){if(wc=null,s=Pd(g),s=Qs(s),s!==null)if(o=Xs(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ng(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return wc=s,null}function Jg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vx()){case Id:return 1;case Ug:return 4;case dc:case Hx:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var Ss=null,Bd=null,Sc=null;function ev(){if(Sc)return Sc;var s,o=Bd,l=o.length,g,T="value"in Ss?Ss.value:Ss.textContent,D=T.length;for(s=0;s<l&&o[s]===T[s];s++);var $=l-s;for(g=1;g<=$&&o[l-g]===T[D-g];g++);return Sc=T.slice(s,1<g?1-g:void 0)}function _c(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function bc(){return!0}function tv(){return!1}function wr(s){function o(l,g,T,D,$){this._reactName=l,this._targetInst=T,this.type=g,this.nativeEvent=D,this.target=$,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(l=s[H],this[H]=l?l(D):D[H]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?bc:tv,this.isPropagationStopped=tv,this}return q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),o}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=wr($o),qi=q({},$o,{view:0,detail:0}),nC=wr(qi),Vd,Hd,Gi,xc=q({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(Vd=s.screenX-Gi.screenX,Hd=s.screenY-Gi.screenY):Hd=Vd=0,Gi=s),Vd)},movementY:function(s){return"movementY"in s?s.movementY:Hd}}),rv=wr(xc),sC=q({},xc,{dataTransfer:0}),oC=wr(sC),iC=q({},qi,{relatedTarget:0}),Wd=wr(iC),aC=q({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=wr(aC),lC=q({},$o,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uC=wr(lC),dC=q({},$o,{data:0}),nv=wr(dC),fC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=hC[s])?!!o[s]:!1}function qd(){return mC}var gC=q({},qi,{key:function(s){if(s.key){var o=fC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=_c(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(s){return s.type==="keypress"?_c(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_c(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vC=wr(gC),yC=q({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=wr(yC),wC=q({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),SC=wr(wC),_C=q({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),bC=wr(_C),xC=q({},xc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),CC=wr(xC),RC=[9,13,27,32],Gd=u&&"CompositionEvent"in window,Ki=null;u&&"documentMode"in document&&(Ki=document.documentMode);var EC=u&&"TextEvent"in window&&!Ki,ov=u&&(!Gd||Ki&&8<Ki&&11>=Ki),iv=" ",av=!1;function cv(s,o){switch(s){case"keyup":return RC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function TC(s,o){switch(s){case"compositionend":return lv(o);case"keypress":return o.which!==32?null:(av=!0,iv);case"textInput":return s=o.data,s===iv&&av?null:s;default:return null}}function PC(s,o){if(Fo)return s==="compositionend"||!Gd&&cv(s,o)?(s=ev(),Sc=Bd=Ss=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ov&&o.locale!=="ko"?null:o.data;default:return null}}var kC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!kC[s.type]:o==="textarea"}function dv(s,o,l,g){Mg(g),o=Pc(o,"onChange"),0<o.length&&(l=new Ud("onChange","change",null,l,g),s.push({event:l,listeners:o}))}var Yi=null,Xi=null;function DC(s){kv(s,0)}function Cc(s){var o=Ho(s);if(mt(o))return s}function MC(s,o){if(s==="change")return o}var fv=!1;if(u){var Kd;if(u){var Yd="oninput"in document;if(!Yd){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Yd=typeof pv.oninput=="function"}Kd=Yd}else Kd=!1;fv=Kd&&(!document.documentMode||9<document.documentMode)}function hv(){Yi&&(Yi.detachEvent("onpropertychange",mv),Xi=Yi=null)}function mv(s){if(s.propertyName==="value"&&Cc(Xi)){var o=[];dv(o,Xi,s,Pd(s)),Og(DC,o)}}function LC(s,o,l){s==="focusin"?(hv(),Yi=o,Xi=l,Yi.attachEvent("onpropertychange",mv)):s==="focusout"&&hv()}function IC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cc(Xi)}function jC(s,o){if(s==="click")return Cc(o)}function OC(s,o){if(s==="input"||s==="change")return Cc(o)}function NC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Wr=typeof Object.is=="function"?Object.is:NC;function Qi(s,o){if(Wr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),g=Object.keys(o);if(l.length!==g.length)return!1;for(g=0;g<l.length;g++){var T=l[g];if(!d.call(o,T)||!Wr(s[T],o[T]))return!1}return!0}function gv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vv(s,o){var l=gv(s);s=0;for(var g;l;){if(l.nodeType===3){if(g=s+l.textContent.length,s<=o&&g>=o)return{node:l,offset:o-s};s=g}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gv(l)}}function yv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?yv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var s=window,o=ot();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=ot(s.document)}return o}function Xd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function AC(s){var o=wv(),l=s.focusedElem,g=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&yv(l.ownerDocument.documentElement,l)){if(g!==null&&Xd(l)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var T=l.textContent.length,D=Math.min(g.start,T);g=g.end===void 0?D:Math.min(g.end,T),!s.extend&&D>g&&(T=g,g=D,D=T),T=vv(l,D);var $=vv(l,g);T&&$&&(s.rangeCount!==1||s.anchorNode!==T.node||s.anchorOffset!==T.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(T.node,T.offset),s.removeAllRanges(),D>g?(s.addRange(o),s.extend($.node,$.offset)):(o.setEnd($.node,$.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $C=u&&"documentMode"in document&&11>=document.documentMode,zo=null,Qd=null,Zi=null,Zd=!1;function Sv(s,o,l){var g=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zd||zo==null||zo!==ot(g)||(g=zo,"selectionStart"in g&&Xd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zi&&Qi(Zi,g)||(Zi=g,g=Pc(Qd,"onSelect"),0<g.length&&(o=new Ud("onSelect","select",null,o,l),s.push({event:o,listeners:g}),o.target=zo)))}function Rc(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Bo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Jd={},_v={};u&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Ec(s){if(Jd[s])return Jd[s];if(!Bo[s])return s;var o=Bo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in _v)return Jd[s]=o[l];return s}var bv=Ec("animationend"),xv=Ec("animationiteration"),Cv=Ec("animationstart"),Rv=Ec("transitionend"),Ev=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,o){Ev.set(s,o),a(o,[s])}for(var ef=0;ef<Tv.length;ef++){var tf=Tv[ef],FC=tf.toLowerCase(),zC=tf[0].toUpperCase()+tf.slice(1);_s(FC,"on"+zC)}_s(bv,"onAnimationEnd"),_s(xv,"onAnimationIteration"),_s(Cv,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Rv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Pv(s,o,l){var g=s.type||"unknown-event";s.currentTarget=l,Fx(g,o,void 0,s),s.currentTarget=null}function kv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var g=s[l],T=g.event;g=g.listeners;e:{var D=void 0;if(o)for(var $=g.length-1;0<=$;$--){var H=g[$],G=H.instance,J=H.currentTarget;if(H=H.listener,G!==D&&T.isPropagationStopped())break e;Pv(T,H,J),D=G}else for($=0;$<g.length;$++){if(H=g[$],G=H.instance,J=H.currentTarget,H=H.listener,G!==D&&T.isPropagationStopped())break e;Pv(T,H,J),D=G}}}if(uc)throw s=Ld,uc=!1,Ld=null,s}function Je(s,o){var l=o[uf];l===void 0&&(l=o[uf]=new Set);var g=s+"__bubble";l.has(g)||(Dv(o,s,2,!1),l.add(g))}function rf(s,o,l){var g=0;o&&(g|=4),Dv(l,s,g,o)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function ea(s){if(!s[Tc]){s[Tc]=!0,n.forEach(function(l){l!=="selectionchange"&&(BC.has(l)||rf(l,!1,s),rf(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Tc]||(o[Tc]=!0,rf("selectionchange",!1,o))}}function Dv(s,o,l,g){switch(Jg(o)){case 1:var T=tC;break;case 4:T=rC;break;default:T=Fd}l=T.bind(null,o,l,s),T=void 0,!Md||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),g?T!==void 0?s.addEventListener(o,l,{capture:!0,passive:T}):s.addEventListener(o,l,!0):T!==void 0?s.addEventListener(o,l,{passive:T}):s.addEventListener(o,l,!1)}function nf(s,o,l,g,T){var D=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var H=g.stateNode.containerInfo;if(H===T||H.nodeType===8&&H.parentNode===T)break;if($===4)for($=g.return;$!==null;){var G=$.tag;if((G===3||G===4)&&(G=$.stateNode.containerInfo,G===T||G.nodeType===8&&G.parentNode===T))return;$=$.return}for(;H!==null;){if($=Qs(H),$===null)return;if(G=$.tag,G===5||G===6){g=D=$;continue e}H=H.parentNode}}g=g.return}Og(function(){var J=D,se=Pd(l),ce=[];e:{var ne=Ev.get(s);if(ne!==void 0){var pe=Ud,ve=s;switch(s){case"keypress":if(_c(l)===0)break e;case"keydown":case"keyup":pe=vC;break;case"focusin":ve="focus",pe=Wd;break;case"focusout":ve="blur",pe=Wd;break;case"beforeblur":case"afterblur":pe=Wd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=oC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=SC;break;case bv:case xv:case Cv:pe=cC;break;case Rv:pe=bC;break;case"scroll":pe=nC;break;case"wheel":pe=CC;break;case"copy":case"cut":case"paste":pe=uC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=sv}var we=(o&4)!==0,yt=!we&&s==="scroll",Q=we?ne!==null?ne+"Capture":null:ne;we=[];for(var K=J,Z;K!==null;){Z=K;var le=Z.stateNode;if(Z.tag===5&&le!==null&&(Z=le,Q!==null&&(le=Ni(K,Q),le!=null&&we.push(ta(K,le,Z)))),yt)break;K=K.return}0<we.length&&(ne=new pe(ne,ve,null,l,se),ce.push({event:ne,listeners:we}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ne&&l!==Td&&(ve=l.relatedTarget||l.fromElement)&&(Qs(ve)||ve[Vn]))break e;if((pe||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=J,ve=ve?Qs(ve):null,ve!==null&&(yt=Xs(ve),ve!==yt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=J),pe!==ve)){if(we=rv,le="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(we=sv,le="onPointerLeave",Q="onPointerEnter",K="pointer"),yt=pe==null?ne:Ho(pe),Z=ve==null?ne:Ho(ve),ne=new we(le,K+"leave",pe,l,se),ne.target=yt,ne.relatedTarget=Z,le=null,Qs(se)===J&&(we=new we(Q,K+"enter",ve,l,se),we.target=Z,we.relatedTarget=yt,le=we),yt=le,pe&&ve)t:{for(we=pe,Q=ve,K=0,Z=we;Z;Z=Uo(Z))K++;for(Z=0,le=Q;le;le=Uo(le))Z++;for(;0<K-Z;)we=Uo(we),K--;for(;0<Z-K;)Q=Uo(Q),Z--;for(;K--;){if(we===Q||Q!==null&&we===Q.alternate)break t;we=Uo(we),Q=Uo(Q)}we=null}else we=null;pe!==null&&Mv(ce,ne,pe,we,!1),ve!==null&&yt!==null&&Mv(ce,yt,ve,we,!0)}}e:{if(ne=J?Ho(J):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var _e=MC;else if(uv(ne))if(fv)_e=OC;else{_e=IC;var be=LC}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(_e=jC);if(_e&&(_e=_e(s,J))){dv(ce,_e,l,se);break e}be&&be(s,ne,J),s==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&pt(ne,"number",ne.value)}switch(be=J?Ho(J):window,s){case"focusin":(uv(be)||be.contentEditable==="true")&&(zo=be,Qd=J,Zi=null);break;case"focusout":Zi=Qd=zo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Sv(ce,l,se);break;case"selectionchange":if($C)break;case"keydown":case"keyup":Sv(ce,l,se)}var xe;if(Gd)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Fo?cv(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ov&&l.locale!=="ko"&&(Fo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Fo&&(xe=ev()):(Ss=se,Bd="value"in Ss?Ss.value:Ss.textContent,Fo=!0)),be=Pc(J,Re),0<be.length&&(Re=new nv(Re,s,null,l,se),ce.push({event:Re,listeners:be}),xe?Re.data=xe:(xe=lv(l),xe!==null&&(Re.data=xe)))),(xe=EC?TC(s,l):PC(s,l))&&(J=Pc(J,"onBeforeInput"),0<J.length&&(se=new nv("onBeforeInput","beforeinput",null,l,se),ce.push({event:se,listeners:J}),se.data=xe))}kv(ce,o)})}function ta(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Pc(s,o){for(var l=o+"Capture",g=[];s!==null;){var T=s,D=T.stateNode;T.tag===5&&D!==null&&(T=D,D=Ni(s,l),D!=null&&g.unshift(ta(s,D,T)),D=Ni(s,o),D!=null&&g.push(ta(s,D,T))),s=s.return}return g}function Uo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Mv(s,o,l,g,T){for(var D=o._reactName,$=[];l!==null&&l!==g;){var H=l,G=H.alternate,J=H.stateNode;if(G!==null&&G===g)break;H.tag===5&&J!==null&&(H=J,T?(G=Ni(l,D),G!=null&&$.unshift(ta(l,G,H))):T||(G=Ni(l,D),G!=null&&$.push(ta(l,G,H)))),l=l.return}$.length!==0&&s.push({event:o,listeners:$})}var UC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function Lv(s){return(typeof s=="string"?s:""+s).replace(UC,`
`).replace(VC,"")}function kc(s,o,l){if(o=Lv(o),Lv(s)!==o&&l)throw Error(r(425))}function Dc(){}var sf=null,of=null;function af(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(s){return Iv.resolve(null).then(s).catch(qC)}:cf;function qC(s){setTimeout(function(){throw s})}function lf(s,o){var l=o,g=0;do{var T=l.nextSibling;if(s.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(g===0){s.removeChild(T),Wi(o);return}g--}else l!=="$"&&l!=="$?"&&l!=="$!"||g++;l=T}while(l);Wi(o)}function bs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function jv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Vo,ra="__reactProps$"+Vo,Vn="__reactContainer$"+Vo,uf="__reactEvents$"+Vo,GC="__reactListeners$"+Vo,KC="__reactHandles$"+Vo;function Qs(s){var o=s[Tn];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Vn]||l[Tn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=jv(s);s!==null;){if(l=s[Tn])return l;s=jv(s)}return o}s=l,l=s.parentNode}return null}function na(s){return s=s[Tn]||s[Vn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ho(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Mc(s){return s[ra]||null}var df=[],Wo=-1;function xs(s){return{current:s}}function et(s){0>Wo||(s.current=df[Wo],df[Wo]=null,Wo--)}function Xe(s,o){Wo++,df[Wo]=s.current,s.current=o}var Cs={},Ht=xs(Cs),ir=xs(!1),Zs=Cs;function qo(s,o){var l=s.type.contextTypes;if(!l)return Cs;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var T={},D;for(D in l)T[D]=o[D];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=T),T}function ar(s){return s=s.childContextTypes,s!=null}function Lc(){et(ir),et(Ht)}function Ov(s,o,l){if(Ht.current!==Cs)throw Error(r(168));Xe(Ht,o),Xe(ir,l)}function Nv(s,o,l){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return l;g=g.getChildContext();for(var T in g)if(!(T in o))throw Error(r(108,ue(s)||"Unknown",T));return q({},l,g)}function Ic(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,Zs=Ht.current,Xe(Ht,s),Xe(ir,ir.current),!0}function Av(s,o,l){var g=s.stateNode;if(!g)throw Error(r(169));l?(s=Nv(s,o,Zs),g.__reactInternalMemoizedMergedChildContext=s,et(ir),et(Ht),Xe(Ht,s)):et(ir),Xe(ir,l)}var Hn=null,jc=!1,ff=!1;function $v(s){Hn===null?Hn=[s]:Hn.push(s)}function YC(s){jc=!0,$v(s)}function Rs(){if(!ff&&Hn!==null){ff=!0;var s=0,o=Ve;try{var l=Hn;for(Ve=1;s<l.length;s++){var g=l[s];do g=g(!0);while(g!==null)}Hn=null,jc=!1}catch(T){throw Hn!==null&&(Hn=Hn.slice(s+1)),zg(Id,Rs),T}finally{Ve=o,ff=!1}}return null}var Go=[],Ko=0,Oc=null,Nc=0,Dr=[],Mr=0,Js=null,Wn=1,qn="";function eo(s,o){Go[Ko++]=Nc,Go[Ko++]=Oc,Oc=s,Nc=o}function Fv(s,o,l){Dr[Mr++]=Wn,Dr[Mr++]=qn,Dr[Mr++]=Js,Js=s;var g=Wn;s=qn;var T=32-Hr(g)-1;g&=~(1<<T),l+=1;var D=32-Hr(o)+T;if(30<D){var $=T-T%5;D=(g&(1<<$)-1).toString(32),g>>=$,T-=$,Wn=1<<32-Hr(o)+T|l<<T|g,qn=D+s}else Wn=1<<D|l<<T|g,qn=s}function pf(s){s.return!==null&&(eo(s,1),Fv(s,1,0))}function hf(s){for(;s===Oc;)Oc=Go[--Ko],Go[Ko]=null,Nc=Go[--Ko],Go[Ko]=null;for(;s===Js;)Js=Dr[--Mr],Dr[Mr]=null,qn=Dr[--Mr],Dr[Mr]=null,Wn=Dr[--Mr],Dr[Mr]=null}var Sr=null,_r=null,rt=!1,qr=null;function zv(s,o){var l=Or(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Bv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Sr=s,_r=bs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Sr=s,_r=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Js!==null?{id:Wn,overflow:qn}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Or(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Sr=s,_r=null,!0):!1;default:return!1}}function mf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function gf(s){if(rt){var o=_r;if(o){var l=o;if(!Bv(s,o)){if(mf(s))throw Error(r(418));o=bs(l.nextSibling);var g=Sr;o&&Bv(s,o)?zv(g,l):(s.flags=s.flags&-4097|2,rt=!1,Sr=s)}}else{if(mf(s))throw Error(r(418));s.flags=s.flags&-4097|2,rt=!1,Sr=s}}}function Uv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sr=s}function Ac(s){if(s!==Sr)return!1;if(!rt)return Uv(s),rt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!af(s.type,s.memoizedProps)),o&&(o=_r)){if(mf(s))throw Vv(),Error(r(418));for(;o;)zv(s,o),o=bs(o.nextSibling)}if(Uv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){_r=bs(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}_r=null}}else _r=Sr?bs(s.stateNode.nextSibling):null;return!0}function Vv(){for(var s=_r;s;)s=bs(s.nextSibling)}function Yo(){_r=Sr=null,rt=!1}function vf(s){qr===null?qr=[s]:qr.push(s)}var XC=p.ReactCurrentBatchConfig;function sa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var g=l.stateNode}if(!g)throw Error(r(147,s));var T=g,D=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===D?o.ref:(o=function($){var H=T.refs;$===null?delete H[D]:H[D]=$},o._stringRef=D,o)}if(typeof s!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,s))}return s}function $c(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Hv(s){var o=s._init;return o(s._payload)}function Wv(s){function o(Q,K){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function l(Q,K){if(!s)return null;for(;K!==null;)o(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function T(Q,K){return Q=Is(Q,K),Q.index=0,Q.sibling=null,Q}function D(Q,K,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=2,K):Z):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function $(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function H(Q,K,Z,le){return K===null||K.tag!==6?(K=cp(Z,Q.mode,le),K.return=Q,K):(K=T(K,Z),K.return=Q,K)}function G(Q,K,Z,le){var _e=Z.type;return _e===k?se(Q,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Hv(_e)===K.type)?(le=T(K,Z.props),le.ref=sa(Q,K,Z),le.return=Q,le):(le=cl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=sa(Q,K,Z),le.return=Q,le)}function J(Q,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=lp(Z,Q.mode,le),K.return=Q,K):(K=T(K,Z.children||[]),K.return=Q,K)}function se(Q,K,Z,le,_e){return K===null||K.tag!==7?(K=co(Z,Q.mode,le,_e),K.return=Q,K):(K=T(K,Z),K.return=Q,K)}function ce(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=cp(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=cl(K.type,K.key,K.props,null,Q.mode,Z),Z.ref=sa(Q,null,K),Z.return=Q,Z;case x:return K=lp(K,Q.mode,Z),K.return=Q,K;case O:var le=K._init;return ce(Q,le(K._payload),Z)}if(Ue(K)||z(K))return K=co(K,Q.mode,Z,null),K.return=Q,K;$c(Q,K)}return null}function ne(Q,K,Z,le){var _e=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return _e!==null?null:H(Q,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===_e?G(Q,K,Z,le):null;case x:return Z.key===_e?J(Q,K,Z,le):null;case O:return _e=Z._init,ne(Q,K,_e(Z._payload),le)}if(Ue(Z)||z(Z))return _e!==null?null:se(Q,K,Z,le,null);$c(Q,Z)}return null}function pe(Q,K,Z,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return Q=Q.get(Z)||null,H(K,Q,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return Q=Q.get(le.key===null?Z:le.key)||null,G(K,Q,le,_e);case x:return Q=Q.get(le.key===null?Z:le.key)||null,J(K,Q,le,_e);case O:var be=le._init;return pe(Q,K,Z,be(le._payload),_e)}if(Ue(le)||z(le))return Q=Q.get(Z)||null,se(K,Q,le,_e,null);$c(K,le)}return null}function ve(Q,K,Z,le){for(var _e=null,be=null,xe=K,Re=K=0,Lt=null;xe!==null&&Re<Z.length;Re++){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var Fe=ne(Q,xe,Z[Re],le);if(Fe===null){xe===null&&(xe=Lt);break}s&&xe&&Fe.alternate===null&&o(Q,xe),K=D(Fe,K,Re),be===null?_e=Fe:be.sibling=Fe,be=Fe,xe=Lt}if(Re===Z.length)return l(Q,xe),rt&&eo(Q,Re),_e;if(xe===null){for(;Re<Z.length;Re++)xe=ce(Q,Z[Re],le),xe!==null&&(K=D(xe,K,Re),be===null?_e=xe:be.sibling=xe,be=xe);return rt&&eo(Q,Re),_e}for(xe=g(Q,xe);Re<Z.length;Re++)Lt=pe(xe,Q,Re,Z[Re],le),Lt!==null&&(s&&Lt.alternate!==null&&xe.delete(Lt.key===null?Re:Lt.key),K=D(Lt,K,Re),be===null?_e=Lt:be.sibling=Lt,be=Lt);return s&&xe.forEach(function(js){return o(Q,js)}),rt&&eo(Q,Re),_e}function we(Q,K,Z,le){var _e=z(Z);if(typeof _e!="function")throw Error(r(150));if(Z=_e.call(Z),Z==null)throw Error(r(151));for(var be=_e=null,xe=K,Re=K=0,Lt=null,Fe=Z.next();xe!==null&&!Fe.done;Re++,Fe=Z.next()){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var js=ne(Q,xe,Fe.value,le);if(js===null){xe===null&&(xe=Lt);break}s&&xe&&js.alternate===null&&o(Q,xe),K=D(js,K,Re),be===null?_e=js:be.sibling=js,be=js,xe=Lt}if(Fe.done)return l(Q,xe),rt&&eo(Q,Re),_e;if(xe===null){for(;!Fe.done;Re++,Fe=Z.next())Fe=ce(Q,Fe.value,le),Fe!==null&&(K=D(Fe,K,Re),be===null?_e=Fe:be.sibling=Fe,be=Fe);return rt&&eo(Q,Re),_e}for(xe=g(Q,xe);!Fe.done;Re++,Fe=Z.next())Fe=pe(xe,Q,Re,Fe.value,le),Fe!==null&&(s&&Fe.alternate!==null&&xe.delete(Fe.key===null?Re:Fe.key),K=D(Fe,K,Re),be===null?_e=Fe:be.sibling=Fe,be=Fe);return s&&xe.forEach(function(kR){return o(Q,kR)}),rt&&eo(Q,Re),_e}function yt(Q,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var _e=Z.key,be=K;be!==null;){if(be.key===_e){if(_e=Z.type,_e===k){if(be.tag===7){l(Q,be.sibling),K=T(be,Z.props.children),K.return=Q,Q=K;break e}}else if(be.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Hv(_e)===be.type){l(Q,be.sibling),K=T(be,Z.props),K.ref=sa(Q,be,Z),K.return=Q,Q=K;break e}l(Q,be);break}else o(Q,be);be=be.sibling}Z.type===k?(K=co(Z.props.children,Q.mode,le,Z.key),K.return=Q,Q=K):(le=cl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=sa(Q,K,Z),le.return=Q,Q=le)}return $(Q);case x:e:{for(be=Z.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Q,K.sibling),K=T(K,Z.children||[]),K.return=Q,Q=K;break e}else{l(Q,K);break}else o(Q,K);K=K.sibling}K=lp(Z,Q.mode,le),K.return=Q,Q=K}return $(Q);case O:return be=Z._init,yt(Q,K,be(Z._payload),le)}if(Ue(Z))return ve(Q,K,Z,le);if(z(Z))return we(Q,K,Z,le);$c(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(l(Q,K.sibling),K=T(K,Z),K.return=Q,Q=K):(l(Q,K),K=cp(Z,Q.mode,le),K.return=Q,Q=K),$(Q)):l(Q,K)}return yt}var Xo=Wv(!0),qv=Wv(!1),Fc=xs(null),zc=null,Qo=null,yf=null;function wf(){yf=Qo=zc=null}function Sf(s){var o=Fc.current;et(Fc),s._currentValue=o}function _f(s,o,l){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===l)break;s=s.return}}function Zo(s,o){zc=s,yf=Qo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(cr=!0),s.firstContext=null)}function Lr(s){var o=s._currentValue;if(yf!==s)if(s={context:s,memoizedValue:o,next:null},Qo===null){if(zc===null)throw Error(r(308));Qo=s,zc.dependencies={lanes:0,firstContext:s}}else Qo=Qo.next=s;return o}var to=null;function bf(s){to===null?to=[s]:to.push(s)}function Gv(s,o,l,g){var T=o.interleaved;return T===null?(l.next=l,bf(o)):(l.next=T.next,T.next=l),o.interleaved=l,Gn(s,g)}function Gn(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Es=!1;function xf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Kn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ts(s,o,l){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ae&2)!==0){var T=g.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),g.pending=o,Gn(s,l)}return T=g.interleaved,T===null?(o.next=o,bf(g)):(o.next=T.next,T.next=o),g.interleaved=o,Gn(s,l)}function Bc(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,l|=g,o.lanes=l,Nd(s,l)}}function Yv(s,o){var l=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,l===g)){var T=null,D=null;if(l=l.firstBaseUpdate,l!==null){do{var $={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};D===null?T=D=$:D=D.next=$,l=l.next}while(l!==null);D===null?T=D=o:D=D.next=o}else T=D=o;l={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:g.shared,effects:g.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Uc(s,o,l,g){var T=s.updateQueue;Es=!1;var D=T.firstBaseUpdate,$=T.lastBaseUpdate,H=T.shared.pending;if(H!==null){T.shared.pending=null;var G=H,J=G.next;G.next=null,$===null?D=J:$.next=J,$=G;var se=s.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==$&&(H===null?se.firstBaseUpdate=J:H.next=J,se.lastBaseUpdate=G))}if(D!==null){var ce=T.baseState;$=0,se=J=G=null,H=D;do{var ne=H.lane,pe=H.eventTime;if((g&ne)===ne){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ve=s,we=H;switch(ne=o,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ce=ve.call(pe,ce,ne);break e}ce=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ne=typeof ve=="function"?ve.call(pe,ce,ne):ve,ne==null)break e;ce=q({},ce,ne);break e;case 2:Es=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ne=T.effects,ne===null?T.effects=[H]:ne.push(H))}else pe={eventTime:pe,lane:ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(J=se=pe,G=ce):se=se.next=pe,$|=ne;if(H=H.next,H===null){if(H=T.shared.pending,H===null)break;ne=H,H=ne.next,ne.next=null,T.lastBaseUpdate=ne,T.shared.pending=null}}while(!0);if(se===null&&(G=ce),T.baseState=G,T.firstBaseUpdate=J,T.lastBaseUpdate=se,o=T.shared.interleaved,o!==null){T=o;do $|=T.lane,T=T.next;while(T!==o)}else D===null&&(T.shared.lanes=0);so|=$,s.lanes=$,s.memoizedState=ce}}function Xv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],T=g.callback;if(T!==null){if(g.callback=null,g=l,typeof T!="function")throw Error(r(191,T));T.call(g)}}}var oa={},Pn=xs(oa),ia=xs(oa),aa=xs(oa);function ro(s){if(s===oa)throw Error(r(174));return s}function Cf(s,o){switch(Xe(aa,o),Xe(ia,s),Xe(Pn,oa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pe(o,s)}et(Pn),Xe(Pn,o)}function Jo(){et(Pn),et(ia),et(aa)}function Qv(s){ro(aa.current);var o=ro(Pn.current),l=Pe(o,s.type);o!==l&&(Xe(ia,s),Xe(Pn,l))}function Rf(s){ia.current===s&&(et(Pn),et(ia))}var lt=xs(0);function Vc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ef=[];function Tf(){for(var s=0;s<Ef.length;s++)Ef[s]._workInProgressVersionPrimary=null;Ef.length=0}var Hc=p.ReactCurrentDispatcher,Pf=p.ReactCurrentBatchConfig,no=0,ut=null,Rt=null,Dt=null,Wc=!1,ca=!1,la=0,QC=0;function Wt(){throw Error(r(321))}function kf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Wr(s[l],o[l]))return!1;return!0}function Df(s,o,l,g,T,D){if(no=D,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Hc.current=s===null||s.memoizedState===null?tR:rR,s=l(g,T),ca){D=0;do{if(ca=!1,la=0,25<=D)throw Error(r(301));D+=1,Dt=Rt=null,o.updateQueue=null,Hc.current=nR,s=l(g,T)}while(ca)}if(Hc.current=Kc,o=Rt!==null&&Rt.next!==null,no=0,Dt=Rt=ut=null,Wc=!1,o)throw Error(r(300));return s}function Mf(){var s=la!==0;return la=0,s}function kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Ir(){if(Rt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=Dt===null?ut.memoizedState:Dt.next;if(o!==null)Dt=o,Rt=s;else{if(s===null)throw Error(r(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?ut.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function ua(s,o){return typeof o=="function"?o(s):o}function Lf(s){var o=Ir(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var g=Rt,T=g.baseQueue,D=l.pending;if(D!==null){if(T!==null){var $=T.next;T.next=D.next,D.next=$}g.baseQueue=T=D,l.pending=null}if(T!==null){D=T.next,g=g.baseState;var H=$=null,G=null,J=D;do{var se=J.lane;if((no&se)===se)G!==null&&(G=G.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:s(g,J.action);else{var ce={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};G===null?(H=G=ce,$=g):G=G.next=ce,ut.lanes|=se,so|=se}J=J.next}while(J!==null&&J!==D);G===null?$=g:G.next=H,Wr(g,o.memoizedState)||(cr=!0),o.memoizedState=g,o.baseState=$,o.baseQueue=G,l.lastRenderedState=g}if(s=l.interleaved,s!==null){T=s;do D=T.lane,ut.lanes|=D,so|=D,T=T.next;while(T!==s)}else T===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function If(s){var o=Ir(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var g=l.dispatch,T=l.pending,D=o.memoizedState;if(T!==null){l.pending=null;var $=T=T.next;do D=s(D,$.action),$=$.next;while($!==T);Wr(D,o.memoizedState)||(cr=!0),o.memoizedState=D,o.baseQueue===null&&(o.baseState=D),l.lastRenderedState=D}return[D,g]}function Zv(){}function Jv(s,o){var l=ut,g=Ir(),T=o(),D=!Wr(g.memoizedState,T);if(D&&(g.memoizedState=T,cr=!0),g=g.queue,jf(ry.bind(null,l,g,s),[s]),g.getSnapshot!==o||D||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,da(9,ty.bind(null,l,g,T,o),void 0,null),Mt===null)throw Error(r(349));(no&30)!==0||ey(l,o,T)}return T}function ey(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function ty(s,o,l,g){o.value=l,o.getSnapshot=g,ny(o)&&sy(s)}function ry(s,o,l){return l(function(){ny(o)&&sy(s)})}function ny(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Wr(s,l)}catch{return!0}}function sy(s){var o=Gn(s,1);o!==null&&Xr(o,s,1,-1)}function oy(s){var o=kn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:s},o.queue=s,s=s.dispatch=eR.bind(null,ut,s),[o.memoizedState,s]}function da(s,o,l,g){return s={tag:s,create:o,destroy:l,deps:g,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(g=l.next,l.next=s,s.next=g,o.lastEffect=s)),s}function iy(){return Ir().memoizedState}function qc(s,o,l,g){var T=kn();ut.flags|=s,T.memoizedState=da(1|o,l,void 0,g===void 0?null:g)}function Gc(s,o,l,g){var T=Ir();g=g===void 0?null:g;var D=void 0;if(Rt!==null){var $=Rt.memoizedState;if(D=$.destroy,g!==null&&kf(g,$.deps)){T.memoizedState=da(o,l,D,g);return}}ut.flags|=s,T.memoizedState=da(1|o,l,D,g)}function ay(s,o){return qc(8390656,8,s,o)}function jf(s,o){return Gc(2048,8,s,o)}function cy(s,o){return Gc(4,2,s,o)}function ly(s,o){return Gc(4,4,s,o)}function uy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function dy(s,o,l){return l=l!=null?l.concat([s]):null,Gc(4,4,uy.bind(null,o,s),l)}function Of(){}function fy(s,o){var l=Ir();o=o===void 0?null:o;var g=l.memoizedState;return g!==null&&o!==null&&kf(o,g[1])?g[0]:(l.memoizedState=[s,o],s)}function py(s,o){var l=Ir();o=o===void 0?null:o;var g=l.memoizedState;return g!==null&&o!==null&&kf(o,g[1])?g[0]:(s=s(),l.memoizedState=[s,o],s)}function hy(s,o,l){return(no&21)===0?(s.baseState&&(s.baseState=!1,cr=!0),s.memoizedState=l):(Wr(l,o)||(l=Hg(),ut.lanes|=l,so|=l,s.baseState=!0),o)}function ZC(s,o){var l=Ve;Ve=l!==0&&4>l?l:4,s(!0);var g=Pf.transition;Pf.transition={};try{s(!1),o()}finally{Ve=l,Pf.transition=g}}function my(){return Ir().memoizedState}function JC(s,o,l){var g=Ms(s);if(l={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null},gy(s))vy(o,l);else if(l=Gv(s,o,l,g),l!==null){var T=Zt();Xr(l,s,g,T),yy(l,o,g)}}function eR(s,o,l){var g=Ms(s),T={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null};if(gy(s))vy(o,T);else{var D=s.alternate;if(s.lanes===0&&(D===null||D.lanes===0)&&(D=o.lastRenderedReducer,D!==null))try{var $=o.lastRenderedState,H=D($,l);if(T.hasEagerState=!0,T.eagerState=H,Wr(H,$)){var G=o.interleaved;G===null?(T.next=T,bf(o)):(T.next=G.next,G.next=T),o.interleaved=T;return}}catch{}finally{}l=Gv(s,o,T,g),l!==null&&(T=Zt(),Xr(l,s,g,T),yy(l,o,g))}}function gy(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function vy(s,o){ca=Wc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function yy(s,o,l){if((l&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,l|=g,o.lanes=l,Nd(s,l)}}var Kc={readContext:Lr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},tR={readContext:Lr,useCallback:function(s,o){return kn().memoizedState=[s,o===void 0?null:o],s},useContext:Lr,useEffect:ay,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,qc(4194308,4,uy.bind(null,o,s),l)},useLayoutEffect:function(s,o){return qc(4194308,4,s,o)},useInsertionEffect:function(s,o){return qc(4,2,s,o)},useMemo:function(s,o){var l=kn();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var g=kn();return o=l!==void 0?l(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=JC.bind(null,ut,s),[g.memoizedState,s]},useRef:function(s){var o=kn();return s={current:s},o.memoizedState=s},useState:oy,useDebugValue:Of,useDeferredValue:function(s){return kn().memoizedState=s},useTransition:function(){var s=oy(!1),o=s[0];return s=ZC.bind(null,s[1]),kn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var g=ut,T=kn();if(rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Mt===null)throw Error(r(349));(no&30)!==0||ey(g,o,l)}T.memoizedState=l;var D={value:l,getSnapshot:o};return T.queue=D,ay(ry.bind(null,g,D,s),[s]),g.flags|=2048,da(9,ty.bind(null,g,D,l,o),void 0,null),l},useId:function(){var s=kn(),o=Mt.identifierPrefix;if(rt){var l=qn,g=Wn;l=(g&~(1<<32-Hr(g)-1)).toString(32)+l,o=":"+o+"R"+l,l=la++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=QC++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},rR={readContext:Lr,useCallback:fy,useContext:Lr,useEffect:jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:ly,useMemo:py,useReducer:Lf,useRef:iy,useState:function(){return Lf(ua)},useDebugValue:Of,useDeferredValue:function(s){var o=Ir();return hy(o,Rt.memoizedState,s)},useTransition:function(){var s=Lf(ua)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:Jv,useId:my,unstable_isNewReconciler:!1},nR={readContext:Lr,useCallback:fy,useContext:Lr,useEffect:jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:ly,useMemo:py,useReducer:If,useRef:iy,useState:function(){return If(ua)},useDebugValue:Of,useDeferredValue:function(s){var o=Ir();return Rt===null?o.memoizedState=s:hy(o,Rt.memoizedState,s)},useTransition:function(){var s=If(ua)[0],o=Ir().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:Jv,useId:my,unstable_isNewReconciler:!1};function Gr(s,o){if(s&&s.defaultProps){o=q({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Nf(s,o,l,g){o=s.memoizedState,l=l(g,o),l=l==null?o:q({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Yc={isMounted:function(s){return(s=s._reactInternals)?Xs(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var g=Zt(),T=Ms(s),D=Kn(g,T);D.payload=o,l!=null&&(D.callback=l),o=Ts(s,D,T),o!==null&&(Xr(o,s,T,g),Bc(o,s,T))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var g=Zt(),T=Ms(s),D=Kn(g,T);D.tag=1,D.payload=o,l!=null&&(D.callback=l),o=Ts(s,D,T),o!==null&&(Xr(o,s,T,g),Bc(o,s,T))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Zt(),g=Ms(s),T=Kn(l,g);T.tag=2,o!=null&&(T.callback=o),o=Ts(s,T,g),o!==null&&(Xr(o,s,g,l),Bc(o,s,g))}};function wy(s,o,l,g,T,D,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,D,$):o.prototype&&o.prototype.isPureReactComponent?!Qi(l,g)||!Qi(T,D):!0}function Sy(s,o,l){var g=!1,T=Cs,D=o.contextType;return typeof D=="object"&&D!==null?D=Lr(D):(T=ar(o)?Zs:Ht.current,g=o.contextTypes,D=(g=g!=null)?qo(s,T):Cs),o=new o(l,D),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yc,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=T,s.__reactInternalMemoizedMaskedChildContext=D),o}function _y(s,o,l,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,g),o.state!==s&&Yc.enqueueReplaceState(o,o.state,null)}function Af(s,o,l,g){var T=s.stateNode;T.props=l,T.state=s.memoizedState,T.refs={},xf(s);var D=o.contextType;typeof D=="object"&&D!==null?T.context=Lr(D):(D=ar(o)?Zs:Ht.current,T.context=qo(s,D)),T.state=s.memoizedState,D=o.getDerivedStateFromProps,typeof D=="function"&&(Nf(s,o,D,l),T.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(o=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),o!==T.state&&Yc.enqueueReplaceState(T,T.state,null),Uc(s,l,T,g),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308)}function ei(s,o){try{var l="",g=o;do l+=ee(g),g=g.return;while(g);var T=l}catch(D){T=`
Error generating stack: `+D.message+`
`+D.stack}return{value:s,source:o,stack:T,digest:null}}function $f(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Ff(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function by(s,o,l){l=Kn(-1,l),l.tag=3,l.payload={element:null};var g=o.value;return l.callback=function(){rl||(rl=!0,ep=g),Ff(s,o)},l}function xy(s,o,l){l=Kn(-1,l),l.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var T=o.value;l.payload=function(){return g(T)},l.callback=function(){Ff(s,o)}}var D=s.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){Ff(s,o),typeof g!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),l}function Cy(s,o,l){var g=s.pingCache;if(g===null){g=s.pingCache=new sR;var T=new Set;g.set(o,T)}else T=g.get(o),T===void 0&&(T=new Set,g.set(o,T));T.has(l)||(T.add(l),s=yR.bind(null,s,o,l),o.then(s,s))}function Ry(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ey(s,o,l,g,T){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Kn(-1,1),o.tag=2,Ts(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=T,s)}var oR=p.ReactCurrentOwner,cr=!1;function Qt(s,o,l,g){o.child=s===null?qv(o,null,l,g):Xo(o,s.child,l,g)}function Ty(s,o,l,g,T){l=l.render;var D=o.ref;return Zo(o,T),g=Df(s,o,l,g,D,T),l=Mf(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,Yn(s,o,T)):(rt&&l&&pf(o),o.flags|=1,Qt(s,o,g,T),o.child)}function Py(s,o,l,g,T){if(s===null){var D=l.type;return typeof D=="function"&&!ap(D)&&D.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=D,ky(s,o,D,g,T)):(s=cl(l.type,null,g,o,o.mode,T),s.ref=o.ref,s.return=o,o.child=s)}if(D=s.child,(s.lanes&T)===0){var $=D.memoizedProps;if(l=l.compare,l=l!==null?l:Qi,l($,g)&&s.ref===o.ref)return Yn(s,o,T)}return o.flags|=1,s=Is(D,g),s.ref=o.ref,s.return=o,o.child=s}function ky(s,o,l,g,T){if(s!==null){var D=s.memoizedProps;if(Qi(D,g)&&s.ref===o.ref)if(cr=!1,o.pendingProps=g=D,(s.lanes&T)!==0)(s.flags&131072)!==0&&(cr=!0);else return o.lanes=s.lanes,Yn(s,o,T)}return zf(s,o,l,g,T)}function Dy(s,o,l){var g=o.pendingProps,T=g.children,D=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ri,br),br|=l;else{if((l&1073741824)===0)return s=D!==null?D.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Xe(ri,br),br|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=D!==null?D.baseLanes:l,Xe(ri,br),br|=g}else D!==null?(g=D.baseLanes|l,o.memoizedState=null):g=l,Xe(ri,br),br|=g;return Qt(s,o,T,l),o.child}function My(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function zf(s,o,l,g,T){var D=ar(l)?Zs:Ht.current;return D=qo(o,D),Zo(o,T),l=Df(s,o,l,g,D,T),g=Mf(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,Yn(s,o,T)):(rt&&g&&pf(o),o.flags|=1,Qt(s,o,l,T),o.child)}function Ly(s,o,l,g,T){if(ar(l)){var D=!0;Ic(o)}else D=!1;if(Zo(o,T),o.stateNode===null)Qc(s,o),Sy(o,l,g),Af(o,l,g,T),g=!0;else if(s===null){var $=o.stateNode,H=o.memoizedProps;$.props=H;var G=$.context,J=l.contextType;typeof J=="object"&&J!==null?J=Lr(J):(J=ar(l)?Zs:Ht.current,J=qo(o,J));var se=l.getDerivedStateFromProps,ce=typeof se=="function"||typeof $.getSnapshotBeforeUpdate=="function";ce||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==g||G!==J)&&_y(o,$,g,J),Es=!1;var ne=o.memoizedState;$.state=ne,Uc(o,g,$,T),G=o.memoizedState,H!==g||ne!==G||ir.current||Es?(typeof se=="function"&&(Nf(o,l,se,g),G=o.memoizedState),(H=Es||wy(o,l,H,g,ne,G,J))?(ce||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=G),$.props=g,$.state=G,$.context=J,g=H):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{$=o.stateNode,Kv(s,o),H=o.memoizedProps,J=o.type===o.elementType?H:Gr(o.type,H),$.props=J,ce=o.pendingProps,ne=$.context,G=l.contextType,typeof G=="object"&&G!==null?G=Lr(G):(G=ar(l)?Zs:Ht.current,G=qo(o,G));var pe=l.getDerivedStateFromProps;(se=typeof pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==ce||ne!==G)&&_y(o,$,g,G),Es=!1,ne=o.memoizedState,$.state=ne,Uc(o,g,$,T);var ve=o.memoizedState;H!==ce||ne!==ve||ir.current||Es?(typeof pe=="function"&&(Nf(o,l,pe,g),ve=o.memoizedState),(J=Es||wy(o,l,J,g,ne,ve,G)||!1)?(se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,ve,G),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,ve,G)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ve),$.props=g,$.state=ve,$.context=G,g=J):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),g=!1)}return Bf(s,o,l,g,D,T)}function Bf(s,o,l,g,T,D){My(s,o);var $=(o.flags&128)!==0;if(!g&&!$)return T&&Av(o,l,!1),Yn(s,o,D);g=o.stateNode,oR.current=o;var H=$&&typeof l.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&$?(o.child=Xo(o,s.child,null,D),o.child=Xo(o,null,H,D)):Qt(s,o,H,D),o.memoizedState=g.state,T&&Av(o,l,!0),o.child}function Iy(s){var o=s.stateNode;o.pendingContext?Ov(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Ov(s,o.context,!1),Cf(s,o.containerInfo)}function jy(s,o,l,g,T){return Yo(),vf(T),o.flags|=256,Qt(s,o,l,g),o.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Vf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Oy(s,o,l){var g=o.pendingProps,T=lt.current,D=!1,$=(o.flags&128)!==0,H;if((H=$)||(H=s!==null&&s.memoizedState===null?!1:(T&2)!==0),H?(D=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(T|=1),Xe(lt,T&1),s===null)return gf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=g.children,s=g.fallback,D?(g=o.mode,D=o.child,$={mode:"hidden",children:$},(g&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=$):D=ll($,g,0,null),s=co(s,g,l,null),D.return=o,s.return=o,D.sibling=s,o.child=D,o.child.memoizedState=Vf(l),o.memoizedState=Uf,s):Hf(o,$));if(T=s.memoizedState,T!==null&&(H=T.dehydrated,H!==null))return iR(s,o,$,g,H,T,l);if(D){D=g.fallback,$=o.mode,T=s.child,H=T.sibling;var G={mode:"hidden",children:g.children};return($&1)===0&&o.child!==T?(g=o.child,g.childLanes=0,g.pendingProps=G,o.deletions=null):(g=Is(T,G),g.subtreeFlags=T.subtreeFlags&14680064),H!==null?D=Is(H,D):(D=co(D,$,l,null),D.flags|=2),D.return=o,g.return=o,g.sibling=D,o.child=g,g=D,D=o.child,$=s.child.memoizedState,$=$===null?Vf(l):{baseLanes:$.baseLanes|l,cachePool:null,transitions:$.transitions},D.memoizedState=$,D.childLanes=s.childLanes&~l,o.memoizedState=Uf,g}return D=s.child,s=D.sibling,g=Is(D,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=l),g.return=o,g.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=g,o.memoizedState=null,g}function Hf(s,o){return o=ll({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Xc(s,o,l,g){return g!==null&&vf(g),Xo(o,s.child,null,l),s=Hf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function iR(s,o,l,g,T,D,$){if(l)return o.flags&256?(o.flags&=-257,g=$f(Error(r(422))),Xc(s,o,$,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(D=g.fallback,T=o.mode,g=ll({mode:"visible",children:g.children},T,0,null),D=co(D,T,$,null),D.flags|=2,g.return=o,D.return=o,g.sibling=D,o.child=g,(o.mode&1)!==0&&Xo(o,s.child,null,$),o.child.memoizedState=Vf($),o.memoizedState=Uf,D);if((o.mode&1)===0)return Xc(s,o,$,null);if(T.data==="$!"){if(g=T.nextSibling&&T.nextSibling.dataset,g)var H=g.dgst;return g=H,D=Error(r(419)),g=$f(D,g,void 0),Xc(s,o,$,g)}if(H=($&s.childLanes)!==0,cr||H){if(g=Mt,g!==null){switch($&-$){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(g.suspendedLanes|$))!==0?0:T,T!==0&&T!==D.retryLane&&(D.retryLane=T,Gn(s,T),Xr(g,s,T,-1))}return ip(),g=$f(Error(r(421))),Xc(s,o,$,g)}return T.data==="$?"?(o.flags|=128,o.child=s.child,o=wR.bind(null,s),T._reactRetry=o,null):(s=D.treeContext,_r=bs(T.nextSibling),Sr=o,rt=!0,qr=null,s!==null&&(Dr[Mr++]=Wn,Dr[Mr++]=qn,Dr[Mr++]=Js,Wn=s.id,qn=s.overflow,Js=o),o=Hf(o,g.children),o.flags|=4096,o)}function Ny(s,o,l){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),_f(s.return,o,l)}function Wf(s,o,l,g,T){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:l,tailMode:T}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=l,D.tailMode=T)}function Ay(s,o,l){var g=o.pendingProps,T=g.revealOrder,D=g.tail;if(Qt(s,o,g.children,l),g=lt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ny(s,l,o);else if(s.tag===19)Ny(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Xe(lt,g),(o.mode&1)===0)o.memoizedState=null;else switch(T){case"forwards":for(l=o.child,T=null;l!==null;)s=l.alternate,s!==null&&Vc(s)===null&&(T=l),l=l.sibling;l=T,l===null?(T=o.child,o.child=null):(T=l.sibling,l.sibling=null),Wf(o,!1,T,l,D);break;case"backwards":for(l=null,T=o.child,o.child=null;T!==null;){if(s=T.alternate,s!==null&&Vc(s)===null){o.child=T;break}s=T.sibling,T.sibling=l,l=T,T=s}Wf(o,!0,l,null,D);break;case"together":Wf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yn(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,l=Is(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Is(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function aR(s,o,l){switch(o.tag){case 3:Iy(o),Yo();break;case 5:Qv(o);break;case 1:ar(o.type)&&Ic(o);break;case 4:Cf(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,T=o.memoizedProps.value;Xe(Fc,g._currentValue),g._currentValue=T;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Xe(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Oy(s,o,l):(Xe(lt,lt.current&1),s=Yn(s,o,l),s!==null?s.sibling:null);Xe(lt,lt.current&1);break;case 19:if(g=(l&o.childLanes)!==0,(s.flags&128)!==0){if(g)return Ay(s,o,l);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Xe(lt,lt.current),g)break;return null;case 22:case 23:return o.lanes=0,Dy(s,o,l)}return Yn(s,o,l)}var $y,qf,Fy,zy;$y=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qf=function(){},Fy=function(s,o,l,g){var T=s.memoizedProps;if(T!==g){s=o.stateNode,ro(Pn.current);var D=null;switch(l){case"input":T=Be(s,T),g=Be(s,g),D=[];break;case"select":T=q({},T,{value:void 0}),g=q({},g,{value:void 0}),D=[];break;case"textarea":T=it(s,T),g=it(s,g),D=[];break;default:typeof T.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Dc)}jo(l,g);var $;l=null;for(J in T)if(!g.hasOwnProperty(J)&&T.hasOwnProperty(J)&&T[J]!=null)if(J==="style"){var H=T[J];for($ in H)H.hasOwnProperty($)&&(l||(l={}),l[$]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?D||(D=[]):(D=D||[]).push(J,null));for(J in g){var G=g[J];if(H=T!=null?T[J]:void 0,g.hasOwnProperty(J)&&G!==H&&(G!=null||H!=null))if(J==="style")if(H){for($ in H)!H.hasOwnProperty($)||G&&G.hasOwnProperty($)||(l||(l={}),l[$]="");for($ in G)G.hasOwnProperty($)&&H[$]!==G[$]&&(l||(l={}),l[$]=G[$])}else l||(D||(D=[]),D.push(J,l)),l=G;else J==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(D=D||[]).push(J,G)):J==="children"?typeof G!="string"&&typeof G!="number"||(D=D||[]).push(J,""+G):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(G!=null&&J==="onScroll"&&Je("scroll",s),D||H===G||(D=[])):(D=D||[]).push(J,G))}l&&(D=D||[]).push("style",l);var J=D;(o.updateQueue=J)&&(o.flags|=4)}},zy=function(s,o,l,g){l!==g&&(o.flags|=4)};function fa(s,o){if(!rt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,g=0;if(o)for(var T=s.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags&14680064,g|=T.flags&14680064,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=g,s.childLanes=l,o}function cR(s,o,l){var g=o.pendingProps;switch(hf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return ar(o.type)&&Lc(),qt(o),null;case 3:return g=o.stateNode,Jo(),et(ir),et(Ht),Tf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Ac(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qr!==null&&(np(qr),qr=null))),qf(s,o),qt(o),null;case 5:Rf(o);var T=ro(aa.current);if(l=o.type,s!==null&&o.stateNode!=null)Fy(s,o,l,g,T),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(s=ro(Pn.current),Ac(o)){g=o.stateNode,l=o.type;var D=o.memoizedProps;switch(g[Tn]=o,g[ra]=D,s=(o.mode&1)!==0,l){case"dialog":Je("cancel",g),Je("close",g);break;case"iframe":case"object":case"embed":Je("load",g);break;case"video":case"audio":for(T=0;T<Ji.length;T++)Je(Ji[T],g);break;case"source":Je("error",g);break;case"img":case"image":case"link":Je("error",g),Je("load",g);break;case"details":Je("toggle",g);break;case"input":Qe(g,D),Je("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!D.multiple},Je("invalid",g);break;case"textarea":kt(g,D),Je("invalid",g)}jo(l,D),T=null;for(var $ in D)if(D.hasOwnProperty($)){var H=D[$];$==="children"?typeof H=="string"?g.textContent!==H&&(D.suppressHydrationWarning!==!0&&kc(g.textContent,H,s),T=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(D.suppressHydrationWarning!==!0&&kc(g.textContent,H,s),T=["children",""+H]):i.hasOwnProperty($)&&H!=null&&$==="onScroll"&&Je("scroll",g)}switch(l){case"input":ke(g),Ct(g,D,!0);break;case"textarea":ke(g),jt(g);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(g.onclick=Dc)}g=T,o.updateQueue=g,g!==null&&(o.flags|=4)}else{$=T.nodeType===9?T:T.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Te(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(l,{is:g.is}):(s=$.createElement(l),l==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,l),s[Tn]=o,s[ra]=g,$y(s,o,!1,!1),o.stateNode=s;e:{switch($=Ed(l,g),l){case"dialog":Je("cancel",s),Je("close",s),T=g;break;case"iframe":case"object":case"embed":Je("load",s),T=g;break;case"video":case"audio":for(T=0;T<Ji.length;T++)Je(Ji[T],s);T=g;break;case"source":Je("error",s),T=g;break;case"img":case"image":case"link":Je("error",s),Je("load",s),T=g;break;case"details":Je("toggle",s),T=g;break;case"input":Qe(s,g),T=Be(s,g),Je("invalid",s);break;case"option":T=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},T=q({},g,{value:void 0}),Je("invalid",s);break;case"textarea":kt(s,g),T=it(s,g),Je("invalid",s);break;default:T=g}jo(l,T),H=T;for(D in H)if(H.hasOwnProperty(D)){var G=H[D];D==="style"?ct(s,G):D==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ie(s,G)):D==="children"?typeof G=="string"?(l!=="textarea"||G!=="")&&gt(s,G):typeof G=="number"&&gt(s,""+G):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?G!=null&&D==="onScroll"&&Je("scroll",s):G!=null&&f(s,D,G,$))}switch(l){case"input":ke(s),Ct(s,g,!1);break;case"textarea":ke(s),jt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+me(g.value));break;case"select":s.multiple=!!g.multiple,D=g.value,D!=null?Ne(s,!!g.multiple,D,!1):g.defaultValue!=null&&Ne(s,!!g.multiple,g.defaultValue,!0);break;default:typeof T.onClick=="function"&&(s.onclick=Dc)}switch(l){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(s&&o.stateNode!=null)zy(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(l=ro(aa.current),ro(Pn.current),Ac(o)){if(g=o.stateNode,l=o.memoizedProps,g[Tn]=o,(D=g.nodeValue!==l)&&(s=Sr,s!==null))switch(s.tag){case 3:kc(g.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kc(g.nodeValue,l,(s.mode&1)!==0)}D&&(o.flags|=4)}else g=(l.nodeType===9?l:l.ownerDocument).createTextNode(g),g[Tn]=o,o.stateNode=g}return qt(o),null;case 13:if(et(lt),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rt&&_r!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Vv(),Yo(),o.flags|=98560,D=!1;else if(D=Ac(o),g!==null&&g.dehydrated!==null){if(s===null){if(!D)throw Error(r(318));if(D=o.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Tn]=o}else Yo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),D=!1}else qr!==null&&(np(qr),qr=null),D=!0;if(!D)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?Et===0&&(Et=3):ip())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Jo(),qf(s,o),s===null&&ea(o.stateNode.containerInfo),qt(o),null;case 10:return Sf(o.type._context),qt(o),null;case 17:return ar(o.type)&&Lc(),qt(o),null;case 19:if(et(lt),D=o.memoizedState,D===null)return qt(o),null;if(g=(o.flags&128)!==0,$=D.rendering,$===null)if(g)fa(D,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if($=Vc(s),$!==null){for(o.flags|=128,fa(D,!1),g=$.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=l,l=o.child;l!==null;)D=l,s=g,D.flags&=14680066,$=D.alternate,$===null?(D.childLanes=0,D.lanes=s,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=$.childLanes,D.lanes=$.lanes,D.child=$.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=$.memoizedProps,D.memoizedState=$.memoizedState,D.updateQueue=$.updateQueue,D.type=$.type,s=$.dependencies,D.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Xe(lt,lt.current&1|2),o.child}s=s.sibling}D.tail!==null&&vt()>ni&&(o.flags|=128,g=!0,fa(D,!1),o.lanes=4194304)}else{if(!g)if(s=Vc($),s!==null){if(o.flags|=128,g=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fa(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!rt)return qt(o),null}else 2*vt()-D.renderingStartTime>ni&&l!==1073741824&&(o.flags|=128,g=!0,fa(D,!1),o.lanes=4194304);D.isBackwards?($.sibling=o.child,o.child=$):(l=D.last,l!==null?l.sibling=$:o.child=$,D.last=$)}return D.tail!==null?(o=D.tail,D.rendering=o,D.tail=o.sibling,D.renderingStartTime=vt(),o.sibling=null,l=lt.current,Xe(lt,g?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return op(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(br&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function lR(s,o){switch(hf(o),o.tag){case 1:return ar(o.type)&&Lc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Jo(),et(ir),et(Ht),Tf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Rf(o),null;case 13:if(et(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Yo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(lt),null;case 4:return Jo(),null;case 10:return Sf(o.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var Zc=!1,Gt=!1,uR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ti(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(g){ht(s,o,g)}else l.current=null}function Gf(s,o,l){try{l()}catch(g){ht(s,o,g)}}var By=!1;function dR(s,o){if(sf=yc,s=wv(),Xd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var g=l.getSelection&&l.getSelection();if(g&&g.rangeCount!==0){l=g.anchorNode;var T=g.anchorOffset,D=g.focusNode;g=g.focusOffset;try{l.nodeType,D.nodeType}catch{l=null;break e}var $=0,H=-1,G=-1,J=0,se=0,ce=s,ne=null;t:for(;;){for(var pe;ce!==l||T!==0&&ce.nodeType!==3||(H=$+T),ce!==D||g!==0&&ce.nodeType!==3||(G=$+g),ce.nodeType===3&&($+=ce.nodeValue.length),(pe=ce.firstChild)!==null;)ne=ce,ce=pe;for(;;){if(ce===s)break t;if(ne===l&&++J===T&&(H=$),ne===D&&++se===g&&(G=$),(pe=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=pe}l=H===-1||G===-1?null:{start:H,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(of={focusedElem:s,selectionRange:l},yc=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,yt=ve.memoizedState,Q=o.stateNode,K=Q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Gr(o.type,we),yt);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=o.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){ht(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=By,By=!1,ve}function pa(s,o,l){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&s)===s){var D=T.destroy;T.destroy=void 0,D!==void 0&&Gf(o,l,D)}T=T.next}while(T!==g)}}function Jc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var g=l.create;l.destroy=g()}l=l.next}while(l!==o)}}function Kf(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Uy(s){var o=s.alternate;o!==null&&(s.alternate=null,Uy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Tn],delete o[ra],delete o[uf],delete o[GC],delete o[KC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Vy(s){return s.tag===5||s.tag===3||s.tag===4}function Hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yf(s,o,l){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Dc));else if(g!==4&&(s=s.child,s!==null))for(Yf(s,o,l),s=s.sibling;s!==null;)Yf(s,o,l),s=s.sibling}function Xf(s,o,l){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Xf(s,o,l),s=s.sibling;s!==null;)Xf(s,o,l),s=s.sibling}var Ot=null,Kr=!1;function Ps(s,o,l){for(l=l.child;l!==null;)Wy(s,o,l),l=l.sibling}function Wy(s,o,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(fc,l)}catch{}switch(l.tag){case 5:Gt||ti(l,o);case 6:var g=Ot,T=Kr;Ot=null,Ps(s,o,l),Ot=g,Kr=T,Ot!==null&&(Kr?(s=Ot,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Kr?(s=Ot,l=l.stateNode,s.nodeType===8?lf(s.parentNode,l):s.nodeType===1&&lf(s,l),Wi(s)):lf(Ot,l.stateNode));break;case 4:g=Ot,T=Kr,Ot=l.stateNode.containerInfo,Kr=!0,Ps(s,o,l),Ot=g,Kr=T;break;case 0:case 11:case 14:case 15:if(!Gt&&(g=l.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){T=g=g.next;do{var D=T,$=D.destroy;D=D.tag,$!==void 0&&((D&2)!==0||(D&4)!==0)&&Gf(l,o,$),T=T.next}while(T!==g)}Ps(s,o,l);break;case 1:if(!Gt&&(ti(l,o),g=l.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=l.memoizedProps,g.state=l.memoizedState,g.componentWillUnmount()}catch(H){ht(l,o,H)}Ps(s,o,l);break;case 21:Ps(s,o,l);break;case 22:l.mode&1?(Gt=(g=Gt)||l.memoizedState!==null,Ps(s,o,l),Gt=g):Ps(s,o,l);break;default:Ps(s,o,l)}}function qy(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new uR),o.forEach(function(g){var T=SR.bind(null,s,g);l.has(g)||(l.add(g),g.then(T,T))})}}function Yr(s,o){var l=o.deletions;if(l!==null)for(var g=0;g<l.length;g++){var T=l[g];try{var D=s,$=o,H=$;e:for(;H!==null;){switch(H.tag){case 5:Ot=H.stateNode,Kr=!1;break e;case 3:Ot=H.stateNode.containerInfo,Kr=!0;break e;case 4:Ot=H.stateNode.containerInfo,Kr=!0;break e}H=H.return}if(Ot===null)throw Error(r(160));Wy(D,$,T),Ot=null,Kr=!1;var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(J){ht(T,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gy(o,s),o=o.sibling}function Gy(s,o){var l=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yr(o,s),Dn(s),g&4){try{pa(3,s,s.return),Jc(3,s)}catch(we){ht(s,s.return,we)}try{pa(5,s,s.return)}catch(we){ht(s,s.return,we)}}break;case 1:Yr(o,s),Dn(s),g&512&&l!==null&&ti(l,l.return);break;case 5:if(Yr(o,s),Dn(s),g&512&&l!==null&&ti(l,l.return),s.flags&32){var T=s.stateNode;try{gt(T,"")}catch(we){ht(s,s.return,we)}}if(g&4&&(T=s.stateNode,T!=null)){var D=s.memoizedProps,$=l!==null?l.memoizedProps:D,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&D.type==="radio"&&D.name!=null&&Ze(T,D),Ed(H,$);var J=Ed(H,D);for($=0;$<G.length;$+=2){var se=G[$],ce=G[$+1];se==="style"?ct(T,ce):se==="dangerouslySetInnerHTML"?Ie(T,ce):se==="children"?gt(T,ce):f(T,se,ce,J)}switch(H){case"input":qe(T,D);break;case"textarea":at(T,D);break;case"select":var ne=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!D.multiple;var pe=D.value;pe!=null?Ne(T,!!D.multiple,pe,!1):ne!==!!D.multiple&&(D.defaultValue!=null?Ne(T,!!D.multiple,D.defaultValue,!0):Ne(T,!!D.multiple,D.multiple?[]:"",!1))}T[ra]=D}catch(we){ht(s,s.return,we)}}break;case 6:if(Yr(o,s),Dn(s),g&4){if(s.stateNode===null)throw Error(r(162));T=s.stateNode,D=s.memoizedProps;try{T.nodeValue=D}catch(we){ht(s,s.return,we)}}break;case 3:if(Yr(o,s),Dn(s),g&4&&l!==null&&l.memoizedState.isDehydrated)try{Wi(o.containerInfo)}catch(we){ht(s,s.return,we)}break;case 4:Yr(o,s),Dn(s);break;case 13:Yr(o,s),Dn(s),T=s.child,T.flags&8192&&(D=T.memoizedState!==null,T.stateNode.isHidden=D,!D||T.alternate!==null&&T.alternate.memoizedState!==null||(Jf=vt())),g&4&&qy(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(Gt=(J=Gt)||se,Yr(o,s),Gt=J):Yr(o,s),Dn(s),g&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!se&&(s.mode&1)!==0)for(ge=s,se=s.child;se!==null;){for(ce=ge=se;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:pa(4,ne,ne.return);break;case 1:ti(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){g=ne,l=ne.return;try{o=g,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){ht(g,l,we)}}break;case 5:ti(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Xy(ce);continue}}pe!==null?(pe.return=ne,ge=pe):Xy(ce)}se=se.sibling}e:for(se=null,ce=s;;){if(ce.tag===5){if(se===null){se=ce;try{T=ce.stateNode,J?(D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(H=ce.stateNode,G=ce.memoizedProps.style,$=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=Se("display",$))}catch(we){ht(s,s.return,we)}}}else if(ce.tag===6){if(se===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(we){ht(s,s.return,we)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;se===ce&&(se=null),ce=ce.return}se===ce&&(se=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Yr(o,s),Dn(s),g&4&&qy(s);break;case 21:break;default:Yr(o,s),Dn(s)}}function Dn(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(Vy(l)){var g=l;break e}l=l.return}throw Error(r(160))}switch(g.tag){case 5:var T=g.stateNode;g.flags&32&&(gt(T,""),g.flags&=-33);var D=Hy(s);Xf(s,D,T);break;case 3:case 4:var $=g.stateNode.containerInfo,H=Hy(s);Yf(s,H,$);break;default:throw Error(r(161))}}catch(G){ht(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function fR(s,o,l){ge=s,Ky(s)}function Ky(s,o,l){for(var g=(s.mode&1)!==0;ge!==null;){var T=ge,D=T.child;if(T.tag===22&&g){var $=T.memoizedState!==null||Zc;if(!$){var H=T.alternate,G=H!==null&&H.memoizedState!==null||Gt;H=Zc;var J=Gt;if(Zc=$,(Gt=G)&&!J)for(ge=T;ge!==null;)$=ge,G=$.child,$.tag===22&&$.memoizedState!==null?Qy(T):G!==null?(G.return=$,ge=G):Qy(T);for(;D!==null;)ge=D,Ky(D),D=D.sibling;ge=T,Zc=H,Gt=J}Yy(s)}else(T.subtreeFlags&8772)!==0&&D!==null?(D.return=T,ge=D):Yy(s)}}function Yy(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||Jc(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Gt)if(l===null)g.componentDidMount();else{var T=o.elementType===o.type?l.memoizedProps:Gr(o.type,l.memoizedProps);g.componentDidUpdate(T,l.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var D=o.updateQueue;D!==null&&Xv(o,D,g);break;case 3:var $=o.updateQueue;if($!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Xv(o,$,l)}break;case 5:var H=o.stateNode;if(l===null&&o.flags&4){l=H;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&l.focus();break;case"img":G.src&&(l.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&Wi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gt||o.flags&512&&Kf(o)}catch(ne){ht(o,o.return,ne)}}if(o===s){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function Xy(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function Qy(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Jc(4,o)}catch(G){ht(o,l,G)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var T=o.return;try{g.componentDidMount()}catch(G){ht(o,T,G)}}var D=o.return;try{Kf(o)}catch(G){ht(o,D,G)}break;case 5:var $=o.return;try{Kf(o)}catch(G){ht(o,$,G)}}}catch(G){ht(o,o.return,G)}if(o===s){ge=null;break}var H=o.sibling;if(H!==null){H.return=o.return,ge=H;break}ge=o.return}}var pR=Math.ceil,el=p.ReactCurrentDispatcher,Qf=p.ReactCurrentOwner,jr=p.ReactCurrentBatchConfig,Ae=0,Mt=null,St=null,Nt=0,br=0,ri=xs(0),Et=0,ha=null,so=0,tl=0,Zf=0,ma=null,lr=null,Jf=0,ni=1/0,Xn=null,rl=!1,ep=null,ks=null,nl=!1,Ds=null,sl=0,ga=0,tp=null,ol=-1,il=0;function Zt(){return(Ae&6)!==0?vt():ol!==-1?ol:ol=vt()}function Ms(s){return(s.mode&1)===0?1:(Ae&2)!==0&&Nt!==0?Nt&-Nt:XC.transition!==null?(il===0&&(il=Hg()),il):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:Jg(s.type)),s)}function Xr(s,o,l,g){if(50<ga)throw ga=0,tp=null,Error(r(185));zi(s,l,g),((Ae&2)===0||s!==Mt)&&(s===Mt&&((Ae&2)===0&&(tl|=l),Et===4&&Ls(s,Nt)),ur(s,g),l===1&&Ae===0&&(o.mode&1)===0&&(ni=vt()+500,jc&&Rs()))}function ur(s,o){var l=s.callbackNode;Xx(s,o);var g=mc(s,s===Mt?Nt:0);if(g===0)l!==null&&Bg(l),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(l!=null&&Bg(l),o===1)s.tag===0?YC(Jy.bind(null,s)):$v(Jy.bind(null,s)),WC(function(){(Ae&6)===0&&Rs()}),l=null;else{switch(Wg(g)){case 1:l=Id;break;case 4:l=Ug;break;case 16:l=dc;break;case 536870912:l=Vg;break;default:l=dc}l=aw(l,Zy.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Zy(s,o){if(ol=-1,il=0,(Ae&6)!==0)throw Error(r(327));var l=s.callbackNode;if(si()&&s.callbackNode!==l)return null;var g=mc(s,s===Mt?Nt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=al(s,g);else{o=g;var T=Ae;Ae|=2;var D=tw();(Mt!==s||Nt!==o)&&(Xn=null,ni=vt()+500,io(s,o));do try{gR();break}catch(H){ew(s,H)}while(!0);wf(),el.current=D,Ae=T,St!==null?o=0:(Mt=null,Nt=0,o=Et)}if(o!==0){if(o===2&&(T=jd(s),T!==0&&(g=T,o=rp(s,T))),o===1)throw l=ha,io(s,0),Ls(s,g),ur(s,vt()),l;if(o===6)Ls(s,g);else{if(T=s.current.alternate,(g&30)===0&&!hR(T)&&(o=al(s,g),o===2&&(D=jd(s),D!==0&&(g=D,o=rp(s,D))),o===1))throw l=ha,io(s,0),Ls(s,g),ur(s,vt()),l;switch(s.finishedWork=T,s.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:ao(s,lr,Xn);break;case 3:if(Ls(s,g),(g&130023424)===g&&(o=Jf+500-vt(),10<o)){if(mc(s,0)!==0)break;if(T=s.suspendedLanes,(T&g)!==g){Zt(),s.pingedLanes|=s.suspendedLanes&T;break}s.timeoutHandle=cf(ao.bind(null,s,lr,Xn),o);break}ao(s,lr,Xn);break;case 4:if(Ls(s,g),(g&4194240)===g)break;for(o=s.eventTimes,T=-1;0<g;){var $=31-Hr(g);D=1<<$,$=o[$],$>T&&(T=$),g&=~D}if(g=T,g=vt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*pR(g/1960))-g,10<g){s.timeoutHandle=cf(ao.bind(null,s,lr,Xn),g);break}ao(s,lr,Xn);break;case 5:ao(s,lr,Xn);break;default:throw Error(r(329))}}}return ur(s,vt()),s.callbackNode===l?Zy.bind(null,s):null}function rp(s,o){var l=ma;return s.current.memoizedState.isDehydrated&&(io(s,o).flags|=256),s=al(s,o),s!==2&&(o=lr,lr=l,o!==null&&np(o)),s}function np(s){lr===null?lr=s:lr.push.apply(lr,s)}function hR(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var g=0;g<l.length;g++){var T=l[g],D=T.getSnapshot;T=T.value;try{if(!Wr(D(),T))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ls(s,o){for(o&=~Zf,o&=~tl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Hr(o),g=1<<l;s[l]=-1,o&=~g}}function Jy(s){if((Ae&6)!==0)throw Error(r(327));si();var o=mc(s,0);if((o&1)===0)return ur(s,vt()),null;var l=al(s,o);if(s.tag!==0&&l===2){var g=jd(s);g!==0&&(o=g,l=rp(s,g))}if(l===1)throw l=ha,io(s,0),Ls(s,o),ur(s,vt()),l;if(l===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ao(s,lr,Xn),ur(s,vt()),null}function sp(s,o){var l=Ae;Ae|=1;try{return s(o)}finally{Ae=l,Ae===0&&(ni=vt()+500,jc&&Rs())}}function oo(s){Ds!==null&&Ds.tag===0&&(Ae&6)===0&&si();var o=Ae;Ae|=1;var l=jr.transition,g=Ve;try{if(jr.transition=null,Ve=1,s)return s()}finally{Ve=g,jr.transition=l,Ae=o,(Ae&6)===0&&Rs()}}function op(){br=ri.current,et(ri)}function io(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,HC(l)),St!==null)for(l=St.return;l!==null;){var g=l;switch(hf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Lc();break;case 3:Jo(),et(ir),et(Ht),Tf();break;case 5:Rf(g);break;case 4:Jo();break;case 13:et(lt);break;case 19:et(lt);break;case 10:Sf(g.type._context);break;case 22:case 23:op()}l=l.return}if(Mt=s,St=s=Is(s.current,null),Nt=br=o,Et=0,ha=null,Zf=tl=so=0,lr=ma=null,to!==null){for(o=0;o<to.length;o++)if(l=to[o],g=l.interleaved,g!==null){l.interleaved=null;var T=g.next,D=l.pending;if(D!==null){var $=D.next;D.next=T,g.next=$}l.pending=g}to=null}return s}function ew(s,o){do{var l=St;try{if(wf(),Hc.current=Kc,Wc){for(var g=ut.memoizedState;g!==null;){var T=g.queue;T!==null&&(T.pending=null),g=g.next}Wc=!1}if(no=0,Dt=Rt=ut=null,ca=!1,la=0,Qf.current=null,l===null||l.return===null){Et=1,ha=o,St=null;break}e:{var D=s,$=l.return,H=l,G=o;if(o=Nt,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var J=G,se=H,ce=se.tag;if((se.mode&1)===0&&(ce===0||ce===11||ce===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=Ry($);if(pe!==null){pe.flags&=-257,Ey(pe,$,H,D,o),pe.mode&1&&Cy(D,J,o),o=pe,G=J;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(G),o.updateQueue=we}else ve.add(G);break e}else{if((o&1)===0){Cy(D,J,o),ip();break e}G=Error(r(426))}}else if(rt&&H.mode&1){var yt=Ry($);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Ey(yt,$,H,D,o),vf(ei(G,H));break e}}D=G=ei(G,H),Et!==4&&(Et=2),ma===null?ma=[D]:ma.push(D),D=$;do{switch(D.tag){case 3:D.flags|=65536,o&=-o,D.lanes|=o;var Q=by(D,G,o);Yv(D,Q);break e;case 1:H=G;var K=D.type,Z=D.stateNode;if((D.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ks===null||!ks.has(Z)))){D.flags|=65536,o&=-o,D.lanes|=o;var le=xy(D,H,o);Yv(D,le);break e}}D=D.return}while(D!==null)}nw(l)}catch(_e){o=_e,St===l&&l!==null&&(St=l=l.return);continue}break}while(!0)}function tw(){var s=el.current;return el.current=Kc,s===null?Kc:s}function ip(){(Et===0||Et===3||Et===2)&&(Et=4),Mt===null||(so&268435455)===0&&(tl&268435455)===0||Ls(Mt,Nt)}function al(s,o){var l=Ae;Ae|=2;var g=tw();(Mt!==s||Nt!==o)&&(Xn=null,io(s,o));do try{mR();break}catch(T){ew(s,T)}while(!0);if(wf(),Ae=l,el.current=g,St!==null)throw Error(r(261));return Mt=null,Nt=0,Et}function mR(){for(;St!==null;)rw(St)}function gR(){for(;St!==null&&!Bx();)rw(St)}function rw(s){var o=iw(s.alternate,s,br);s.memoizedProps=s.pendingProps,o===null?nw(s):St=o,Qf.current=null}function nw(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=cR(l,o,br),l!==null){St=l;return}}else{if(l=lR(l,o),l!==null){l.flags&=32767,St=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,St=null;return}}if(o=o.sibling,o!==null){St=o;return}St=o=s}while(o!==null);Et===0&&(Et=5)}function ao(s,o,l){var g=Ve,T=jr.transition;try{jr.transition=null,Ve=1,vR(s,o,l,g)}finally{jr.transition=T,Ve=g}return null}function vR(s,o,l,g){do si();while(Ds!==null);if((Ae&6)!==0)throw Error(r(327));l=s.finishedWork;var T=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var D=l.lanes|l.childLanes;if(Qx(s,D),s===Mt&&(St=Mt=null,Nt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nl||(nl=!0,aw(dc,function(){return si(),null})),D=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||D){D=jr.transition,jr.transition=null;var $=Ve;Ve=1;var H=Ae;Ae|=4,Qf.current=null,dR(s,l),Gy(l,s),AC(of),yc=!!sf,of=sf=null,s.current=l,fR(l),Ux(),Ae=H,Ve=$,jr.transition=D}else s.current=l;if(nl&&(nl=!1,Ds=s,sl=T),D=s.pendingLanes,D===0&&(ks=null),Wx(l.stateNode),ur(s,vt()),o!==null)for(g=s.onRecoverableError,l=0;l<o.length;l++)T=o[l],g(T.value,{componentStack:T.stack,digest:T.digest});if(rl)throw rl=!1,s=ep,ep=null,s;return(sl&1)!==0&&s.tag!==0&&si(),D=s.pendingLanes,(D&1)!==0?s===tp?ga++:(ga=0,tp=s):ga=0,Rs(),null}function si(){if(Ds!==null){var s=Wg(sl),o=jr.transition,l=Ve;try{if(jr.transition=null,Ve=16>s?16:s,Ds===null)var g=!1;else{if(s=Ds,Ds=null,sl=0,(Ae&6)!==0)throw Error(r(331));var T=Ae;for(Ae|=4,ge=s.current;ge!==null;){var D=ge,$=D.child;if((ge.flags&16)!==0){var H=D.deletions;if(H!==null){for(var G=0;G<H.length;G++){var J=H[G];for(ge=J;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:pa(8,se,D)}var ce=se.child;if(ce!==null)ce.return=se,ge=ce;else for(;ge!==null;){se=ge;var ne=se.sibling,pe=se.return;if(Uy(se),se===J){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ve=D.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var yt=we.sibling;we.sibling=null,we=yt}while(we!==null)}}ge=D}}if((D.subtreeFlags&2064)!==0&&$!==null)$.return=D,ge=$;else e:for(;ge!==null;){if(D=ge,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:pa(9,D,D.return)}var Q=D.sibling;if(Q!==null){Q.return=D.return,ge=Q;break e}ge=D.return}}var K=s.current;for(ge=K;ge!==null;){$=ge;var Z=$.child;if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,ge=Z;else e:for($=K;ge!==null;){if(H=ge,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Jc(9,H)}}catch(_e){ht(H,H.return,_e)}if(H===$){ge=null;break e}var le=H.sibling;if(le!==null){le.return=H.return,ge=le;break e}ge=H.return}}if(Ae=T,Rs(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(fc,s)}catch{}g=!0}return g}finally{Ve=l,jr.transition=o}}return!1}function sw(s,o,l){o=ei(l,o),o=by(s,o,1),s=Ts(s,o,1),o=Zt(),s!==null&&(zi(s,1,o),ur(s,o))}function ht(s,o,l){if(s.tag===3)sw(s,s,l);else for(;o!==null;){if(o.tag===3){sw(o,s,l);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))){s=ei(l,s),s=xy(o,s,1),o=Ts(o,s,1),s=Zt(),o!==null&&(zi(o,1,s),ur(o,s));break}}o=o.return}}function yR(s,o,l){var g=s.pingCache;g!==null&&g.delete(o),o=Zt(),s.pingedLanes|=s.suspendedLanes&l,Mt===s&&(Nt&l)===l&&(Et===4||Et===3&&(Nt&130023424)===Nt&&500>vt()-Jf?io(s,0):Zf|=l),ur(s,o)}function ow(s,o){o===0&&((s.mode&1)===0?o=1:(o=hc,hc<<=1,(hc&130023424)===0&&(hc=4194304)));var l=Zt();s=Gn(s,o),s!==null&&(zi(s,o,l),ur(s,l))}function wR(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),ow(s,l)}function SR(s,o){var l=0;switch(s.tag){case 13:var g=s.stateNode,T=s.memoizedState;T!==null&&(l=T.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),ow(s,l)}var iw;iw=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||ir.current)cr=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return cr=!1,aR(s,o,l);cr=(s.flags&131072)!==0}else cr=!1,rt&&(o.flags&1048576)!==0&&Fv(o,Nc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Qc(s,o),s=o.pendingProps;var T=qo(o,Ht.current);Zo(o,l),T=Df(null,o,g,s,T,l);var D=Mf();return o.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ar(g)?(D=!0,Ic(o)):D=!1,o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,xf(o),T.updater=Yc,o.stateNode=T,T._reactInternals=o,Af(o,g,s,l),o=Bf(null,o,g,!0,D,l)):(o.tag=0,rt&&D&&pf(o),Qt(null,o,T,l),o=o.child),o;case 16:g=o.elementType;e:{switch(Qc(s,o),s=o.pendingProps,T=g._init,g=T(g._payload),o.type=g,T=o.tag=bR(g),s=Gr(g,s),T){case 0:o=zf(null,o,g,s,l);break e;case 1:o=Ly(null,o,g,s,l);break e;case 11:o=Ty(null,o,g,s,l);break e;case 14:o=Py(null,o,g,Gr(g.type,s),l);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),zf(s,o,g,T,l);case 1:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Ly(s,o,g,T,l);case 3:e:{if(Iy(o),s===null)throw Error(r(387));g=o.pendingProps,D=o.memoizedState,T=D.element,Kv(s,o),Uc(o,g,null,l);var $=o.memoizedState;if(g=$.element,D.isDehydrated)if(D={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=D,o.memoizedState=D,o.flags&256){T=ei(Error(r(423)),o),o=jy(s,o,g,l,T);break e}else if(g!==T){T=ei(Error(r(424)),o),o=jy(s,o,g,l,T);break e}else for(_r=bs(o.stateNode.containerInfo.firstChild),Sr=o,rt=!0,qr=null,l=qv(o,null,g,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yo(),g===T){o=Yn(s,o,l);break e}Qt(s,o,g,l)}o=o.child}return o;case 5:return Qv(o),s===null&&gf(o),g=o.type,T=o.pendingProps,D=s!==null?s.memoizedProps:null,$=T.children,af(g,T)?$=null:D!==null&&af(g,D)&&(o.flags|=32),My(s,o),Qt(s,o,$,l),o.child;case 6:return s===null&&gf(o),null;case 13:return Oy(s,o,l);case 4:return Cf(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Xo(o,null,g,l):Qt(s,o,g,l),o.child;case 11:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Ty(s,o,g,T,l);case 7:return Qt(s,o,o.pendingProps,l),o.child;case 8:return Qt(s,o,o.pendingProps.children,l),o.child;case 12:return Qt(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(g=o.type._context,T=o.pendingProps,D=o.memoizedProps,$=T.value,Xe(Fc,g._currentValue),g._currentValue=$,D!==null)if(Wr(D.value,$)){if(D.children===T.children&&!ir.current){o=Yn(s,o,l);break e}}else for(D=o.child,D!==null&&(D.return=o);D!==null;){var H=D.dependencies;if(H!==null){$=D.child;for(var G=H.firstContext;G!==null;){if(G.context===g){if(D.tag===1){G=Kn(-1,l&-l),G.tag=2;var J=D.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?G.next=G:(G.next=se.next,se.next=G),J.pending=G}}D.lanes|=l,G=D.alternate,G!==null&&(G.lanes|=l),_f(D.return,l,o),H.lanes|=l;break}G=G.next}}else if(D.tag===10)$=D.type===o.type?null:D.child;else if(D.tag===18){if($=D.return,$===null)throw Error(r(341));$.lanes|=l,H=$.alternate,H!==null&&(H.lanes|=l),_f($,l,o),$=D.sibling}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===o){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}Qt(s,o,T.children,l),o=o.child}return o;case 9:return T=o.type,g=o.pendingProps.children,Zo(o,l),T=Lr(T),g=g(T),o.flags|=1,Qt(s,o,g,l),o.child;case 14:return g=o.type,T=Gr(g,o.pendingProps),T=Gr(g.type,T),Py(s,o,g,T,l);case 15:return ky(s,o,o.type,o.pendingProps,l);case 17:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Qc(s,o),o.tag=1,ar(g)?(s=!0,Ic(o)):s=!1,Zo(o,l),Sy(o,g,T),Af(o,g,T,l),Bf(null,o,g,!0,s,l);case 19:return Ay(s,o,l);case 22:return Dy(s,o,l)}throw Error(r(156,o.tag))};function aw(s,o){return zg(s,o)}function _R(s,o,l,g){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,o,l,g){return new _R(s,o,l,g)}function ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bR(s){if(typeof s=="function")return ap(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===X)return 14}return 2}function Is(s,o){var l=s.alternate;return l===null?(l=Or(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function cl(s,o,l,g,T,D){var $=2;if(g=s,typeof s=="function")ap(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case k:return co(l.children,T,D,o);case L:$=8,T|=8;break;case j:return s=Or(12,l,o,T|2),s.elementType=j,s.lanes=D,s;case V:return s=Or(13,l,o,T),s.elementType=V,s.lanes=D,s;case W:return s=Or(19,l,o,T),s.elementType=W,s.lanes=D,s;case U:return ll(l,T,D,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:$=10;break e;case A:$=9;break e;case N:$=11;break e;case X:$=14;break e;case O:$=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Or($,l,o,T),o.elementType=s,o.type=g,o.lanes=D,o}function co(s,o,l,g){return s=Or(7,s,g,o),s.lanes=l,s}function ll(s,o,l,g){return s=Or(22,s,g,o),s.elementType=U,s.lanes=l,s.stateNode={isHidden:!1},s}function cp(s,o,l){return s=Or(6,s,null,o),s.lanes=l,s}function lp(s,o,l){return o=Or(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function xR(s,o,l,g,T){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=g,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function up(s,o,l,g,T,D,$,H,G){return s=new xR(s,o,l,H,G),o===1?(o=1,D===!0&&(o|=8)):o=0,D=Or(3,null,null,o),s.current=D,D.stateNode=s,D.memoizedState={element:g,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(D),s}function CR(s,o,l){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:g==null?null:""+g,children:s,containerInfo:o,implementation:l}}function cw(s){if(!s)return Cs;s=s._reactInternals;e:{if(Xs(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ar(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var l=s.type;if(ar(l))return Nv(s,l,o)}return o}function lw(s,o,l,g,T,D,$,H,G){return s=up(l,g,!0,s,T,D,$,H,G),s.context=cw(null),l=s.current,g=Zt(),T=Ms(l),D=Kn(g,T),D.callback=o??null,Ts(l,D,T),s.current.lanes=T,zi(s,T,g),ur(s,g),s}function ul(s,o,l,g){var T=o.current,D=Zt(),$=Ms(T);return l=cw(l),o.context===null?o.context=l:o.pendingContext=l,o=Kn(D,$),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Ts(T,o,$),s!==null&&(Xr(s,T,$,D),Bc(s,T,$)),$}function dl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function uw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function dp(s,o){uw(s,o),(s=s.alternate)&&uw(s,o)}function RR(){return null}var dw=typeof reportError=="function"?reportError:function(s){console.error(s)};function fp(s){this._internalRoot=s}fl.prototype.render=fp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));ul(s,o,null,null)},fl.prototype.unmount=fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){ul(null,s,null,null)}),o[Vn]=null}};function fl(s){this._internalRoot=s}fl.prototype.unstable_scheduleHydration=function(s){if(s){var o=Kg();s={blockedOn:null,target:s,priority:o};for(var l=0;l<ws.length&&o!==0&&o<ws[l].priority;l++);ws.splice(l,0,s),l===0&&Qg(s)}};function pp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fw(){}function ER(s,o,l,g,T){if(T){if(typeof g=="function"){var D=g;g=function(){var J=dl($);D.call(J)}}var $=lw(o,g,s,0,null,!1,!1,"",fw);return s._reactRootContainer=$,s[Vn]=$.current,ea(s.nodeType===8?s.parentNode:s),oo(),$}for(;T=s.lastChild;)s.removeChild(T);if(typeof g=="function"){var H=g;g=function(){var J=dl(G);H.call(J)}}var G=up(s,0,!1,null,null,!1,!1,"",fw);return s._reactRootContainer=G,s[Vn]=G.current,ea(s.nodeType===8?s.parentNode:s),oo(function(){ul(o,G,l,g)}),G}function hl(s,o,l,g,T){var D=l._reactRootContainer;if(D){var $=D;if(typeof T=="function"){var H=T;T=function(){var G=dl($);H.call(G)}}ul(o,$,s,T)}else $=ER(l,o,s,T,g);return dl($)}qg=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Fi(o.pendingLanes);l!==0&&(Nd(o,l|1),ur(o,vt()),(Ae&6)===0&&(ni=vt()+500,Rs()))}break;case 13:oo(function(){var g=Gn(s,1);if(g!==null){var T=Zt();Xr(g,s,1,T)}}),dp(s,1)}},Ad=function(s){if(s.tag===13){var o=Gn(s,134217728);if(o!==null){var l=Zt();Xr(o,s,134217728,l)}dp(s,134217728)}},Gg=function(s){if(s.tag===13){var o=Ms(s),l=Gn(s,o);if(l!==null){var g=Zt();Xr(l,s,o,g)}dp(s,o)}},Kg=function(){return Ve},Yg=function(s,o){var l=Ve;try{return Ve=s,o()}finally{Ve=l}},kd=function(s,o,l){switch(o){case"input":if(qe(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var g=l[o];if(g!==s&&g.form===s.form){var T=Mc(g);if(!T)throw Error(r(90));mt(g),qe(g,T)}}}break;case"textarea":at(s,l);break;case"select":o=l.value,o!=null&&Ne(s,!!l.multiple,o,!1)}},Ig=sp,jg=oo;var TR={usingClientEntryPoint:!1,Events:[na,Ho,Mc,Mg,Lg,sp]},va={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PR={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$g(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{fc=ml.inject(PR),En=ml}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR,dr.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(o))throw Error(r(200));return CR(s,o,null,l)},dr.createRoot=function(s,o){if(!pp(s))throw Error(r(299));var l=!1,g="",T=dw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=up(s,1,!1,null,null,l,!1,g,T),s[Vn]=o.current,ea(s.nodeType===8?s.parentNode:s),new fp(o)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=$g(o),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return oo(s)},dr.hydrate=function(s,o,l){if(!pl(o))throw Error(r(200));return hl(null,s,o,!0,l)},dr.hydrateRoot=function(s,o,l){if(!pp(s))throw Error(r(405));var g=l!=null&&l.hydratedSources||null,T=!1,D="",$=dw;if(l!=null&&(l.unstable_strictMode===!0&&(T=!0),l.identifierPrefix!==void 0&&(D=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),o=lw(o,null,s,1,l??null,T,!1,D,$),s[Vn]=o.current,ea(s),g)for(s=0;s<g.length;s++)l=g[s],T=l._getVersion,T=T(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,T]:o.mutableSourceEagerHydrationData.push(l,T);return new fl(o)},dr.render=function(s,o,l){if(!pl(o))throw Error(r(200));return hl(null,s,o,!1,l)},dr.unmountComponentAtNode=function(s){if(!pl(s))throw Error(r(40));return s._reactRootContainer?(oo(function(){hl(null,null,s,!1,function(){s._reactRootContainer=null,s[Vn]=null})}),!0):!1},dr.unstable_batchedUpdates=sp,dr.unstable_renderSubtreeIntoContainer=function(s,o,l,g){if(!pl(l))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return hl(s,o,l,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var Sw;function nb(){if(Sw)return vp.exports;Sw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vp.exports=FR(),vp.exports}var _w;function zR(){if(_w)return gl;_w=1;var e=nb();return gl.createRoot=e.createRoot,gl.hydrateRoot=e.hydrateRoot,gl}var BR=zR(),M=Su();const zt=Qh(M),sb=LR({__proto__:null,default:zt},[M]);var Sp={exports:{}},_p={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function UR(){if(bw)return _p;bw=1;var e=Su();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,u=e.useDebugValue;return _p.useSyncExternalStoreWithSelector=function(d,h,v,y,w){var S=i(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=c(function(){function C(m){if(!E){if(E=!0,b=m,m=y(m),w!==void 0&&_.hasValue){var x=_.value;if(w(x,m))return f=x}return f=m}if(x=f,r(b,m))return x;var k=y(m);return w!==void 0&&w(x,k)?(b=m,x):(b=m,f=k)}var E=!1,b,f,p=v===void 0?null:v;return[function(){return C(h())},p===null?void 0:function(){return C(p())}]},[h,v,y,w]);var R=n(d,S[0],S[1]);return a(function(){_.hasValue=!0,_.value=R},[R]),u(R),R},_p}var xw;function VR(){return xw||(xw=1,Sp.exports=UR()),Sp.exports}var HR=VR();function WR(e){e()}function qR(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WR(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Cw={notify(){},get:()=>[]};function GR(e,t){let r,n=Cw,i=0,a=!1;function c(R){v();const C=n.subscribe(R);let E=!1;return()=>{E||(E=!0,C(),y())}}function u(){n.notify()}function d(){_.onStateChange&&_.onStateChange()}function h(){return a}function v(){i++,r||(r=e.subscribe(d),n=qR())}function y(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Cw)}function w(){a||(a=!0,v())}function S(){a&&(a=!1,y())}const _={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>n};return _}var KR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YR=KR(),XR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QR=XR(),ZR=()=>YR||QR?M.useLayoutEffect:M.useEffect,JR=ZR(),bp=Symbol.for("react-redux-context"),xp=typeof globalThis<"u"?globalThis:{};function eE(){if(!M.createContext)return{};const e=xp[bp]??(xp[bp]=new Map);let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var Bs=eE();function tE(e){const{children:t,context:r,serverState:n,store:i}=e,a=M.useMemo(()=>{const d=GR(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),c=M.useMemo(()=>i.getState(),[i]);JR(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=r||Bs;return M.createElement(u.Provider,{value:a},t)}var rE=tE;function Zh(e=Bs){return function(){return M.useContext(e)}}var ob=Zh();function ib(e=Bs){const t=e===Bs?ob:Zh(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var nE=ib();function sE(e=Bs){const t=e===Bs?nE:ib(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var oE=sE(),iE=(e,t)=>e===t;function aE(e=Bs){const t=e===Bs?ob:Zh(e),r=(n,i={})=>{const{equalityFn:a=iE}=typeof i=="function"?{equalityFn:i}:i,c=t(),{store:u,subscription:d,getServerState:h}=c;M.useRef(!0);const v=M.useCallback({[n.name](w){return n(w)}}[n.name],[n]),y=HR.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,h||u.getState,v,a);return M.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var cE=aE(),In=function(){return In=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},In.apply(this,arguments)};function ab(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function lE(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var jl="right-scroll-bar-position",Ol="width-before-scroll-bar",uE="with-scroll-bars-hidden",dE="--removed-body-scroll-bar-size";function Cp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fE(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var pE=typeof window<"u"?M.useLayoutEffect:M.useEffect,Rw=new WeakMap;function hE(e,t){var r=fE(null,function(n){return e.forEach(function(i){return Cp(i,n)})});return pE(function(){var n=Rw.get(r);if(n){var i=new Set(n),a=new Set(e),c=r.current;i.forEach(function(u){a.has(u)||Cp(u,null)}),a.forEach(function(u){i.has(u)||Cp(u,c)})}Rw.set(r,e)},[e]),r}function mE(e){return e}function gE(e,t){t===void 0&&(t=mE);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(a),c=r}var d=function(){var v=c;c=[],v.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(v){c.push(v),h()},filter:function(v){return c=c.filter(v),r}}}};return i}function vE(e){e===void 0&&(e={});var t=gE(null);return t.options=In({async:!0,ssr:!1},e),t}var cb=function(e){var t=e.sideCar,r=ab(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,In({},r))};cb.isSideCarExport=!0;function yE(e,t){return e.useMedium(t),cb}var lb=vE(),Rp=function(){},_u=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:Rp,onWheelCapture:Rp,onTouchMoveCapture:Rp}),i=n[0],a=n[1],c=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,v=e.enabled,y=e.shards,w=e.sideCar,S=e.noIsolation,_=e.inert,R=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,b=e.gapMode,f=ab(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),p=w,m=hE([r,t]),x=In(In({},f),i);return M.createElement(M.Fragment,null,v&&M.createElement(p,{sideCar:lb,removeScrollBar:h,shards:y,noIsolation:S,inert:_,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:b}),c?M.cloneElement(M.Children.only(u),In(In({},x),{ref:m})):M.createElement(E,In({},x,{className:d,ref:m}),u))});_u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_u.classNames={fullWidth:Ol,zeroRight:jl};var wE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wE();return t&&e.setAttribute("nonce",t),e}function _E(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xE=function(){var e=0,t=null;return{add:function(r){e==0&&(t=SE())&&(_E(t,r),bE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CE=function(){var e=xE();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ub=function(){var e=CE(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},RE={left:0,top:0,right:0,gap:0},Ep=function(e){return parseInt(e||"",10)||0},EE=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ep(r),Ep(n),Ep(i)]},TE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RE;var t=EE(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PE=ub(),mi="data-scroll-locked",kE=function(e,t,r,n){var i=e.left,a=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(uE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jl,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ol,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(dE,": ").concat(u,`px;
  }
`)},Ew=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},DE=function(){M.useEffect(function(){return document.body.setAttribute(mi,(Ew()+1).toString()),function(){var e=Ew()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},ME=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;DE();var a=M.useMemo(function(){return TE(i)},[i]);return M.createElement(PE,{styles:kE(a,!t,i,r?"":"!important")})},mh=!1;if(typeof window<"u")try{var vl=Object.defineProperty({},"passive",{get:function(){return mh=!0,!0}});window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{mh=!1}var oi=mh?{passive:!1}:!1,LE=function(e){return e.tagName==="TEXTAREA"},db=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!LE(e)&&r[t]==="visible")},IE=function(e){return db(e,"overflowY")},jE=function(e){return db(e,"overflowX")},Tw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=fb(e,n);if(i){var a=pb(e,n),c=a[1],u=a[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OE=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},NE=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fb=function(e,t){return e==="v"?IE(t):jE(t)},pb=function(e,t){return e==="v"?OE(t):NE(t)},AE=function(e,t){return e==="h"&&t==="rtl"?-1:1},$E=function(e,t,r,n,i){var a=AE(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,d=t.contains(u),h=!1,v=c>0,y=0,w=0;do{var S=pb(e,u),_=S[0],R=S[1],C=S[2],E=R-C-a*_;(_||E)&&fb(e,u)&&(y+=E,w+=_),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(v&&Math.abs(y)<1||!v&&Math.abs(w)<1)&&(h=!0),h},yl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Pw=function(e){return[e.deltaX,e.deltaY]},kw=function(e){return e&&"current"in e?e.current:e},FE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BE=0,ii=[];function UE(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),i=M.useState(BE++)[0],a=M.useState(ub)[0],c=M.useRef(e);M.useEffect(function(){c.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var R=lE([e.lockRef.current],(e.shards||[]).map(kw),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=M.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var E=yl(R),b=r.current,f="deltaX"in R?R.deltaX:b[0]-E[0],p="deltaY"in R?R.deltaY:b[1]-E[1],m,x=R.target,k=Math.abs(f)>Math.abs(p)?"h":"v";if("touches"in R&&k==="h"&&x.type==="range")return!1;var L=Tw(k,x);if(!L)return!0;if(L?m=k:(m=k==="v"?"h":"v",L=Tw(k,x)),!L)return!1;if(!n.current&&"changedTouches"in R&&(f||p)&&(n.current=m),!m)return!0;var j=n.current||m;return $E(j,C,R,j==="h"?f:p)},[]),d=M.useCallback(function(R){var C=R;if(!(!ii.length||ii[ii.length-1]!==a)){var E="deltaY"in C?Pw(C):yl(C),b=t.current.filter(function(m){return m.name===C.type&&(m.target===C.target||C.target===m.shadowParent)&&FE(m.delta,E)})[0];if(b&&b.should){C.cancelable&&C.preventDefault();return}if(!b){var f=(c.current.shards||[]).map(kw).filter(Boolean).filter(function(m){return m.contains(C.target)}),p=f.length>0?u(C,f[0]):!c.current.noIsolation;p&&C.cancelable&&C.preventDefault()}}},[]),h=M.useCallback(function(R,C,E,b){var f={name:R,delta:C,target:E,should:b,shadowParent:VE(E)};t.current.push(f),setTimeout(function(){t.current=t.current.filter(function(p){return p!==f})},1)},[]),v=M.useCallback(function(R){r.current=yl(R),n.current=void 0},[]),y=M.useCallback(function(R){h(R.type,Pw(R),R.target,u(R,e.lockRef.current))},[]),w=M.useCallback(function(R){h(R.type,yl(R),R.target,u(R,e.lockRef.current))},[]);M.useEffect(function(){return ii.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",d,oi),document.addEventListener("touchmove",d,oi),document.addEventListener("touchstart",v,oi),function(){ii=ii.filter(function(R){return R!==a}),document.removeEventListener("wheel",d,oi),document.removeEventListener("touchmove",d,oi),document.removeEventListener("touchstart",v,oi)}},[]);var S=e.removeScrollBar,_=e.inert;return M.createElement(M.Fragment,null,_?M.createElement(a,{styles:zE(i)}):null,S?M.createElement(ME,{gapMode:e.gapMode}):null)}function VE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HE=yE(lb,UE);var eu=M.forwardRef(function(e,t){return M.createElement(_u,In({},e,{ref:t,sideCar:HE}))});eu.classNames=_u.classNames;function fr(e){return Object.keys(e)}function Tp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Jh(e,t){const r={...e},n=t;return Tp(e)&&Tp(t)&&Object.keys(t).forEach(i=>{Tp(n[i])&&i in e?r[i]=Jh(r[i],n[i]):r[i]=n[i]}),r}function WE(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function qE(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Ha(e){const t=qE(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Pp(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function hb(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const i=`${n/16}${e}`;return t?Pp(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?Pp(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?Pp(a):a}}return n}return r}const te=hb("rem",{shouldScale:!0}),Dw=hb("em");function Ci(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function mb(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Hs(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==M.Fragment:!1}function _n(e){const t=M.createContext(null);return[({children:i,value:a})=>P.jsx(t.Provider,{value:a,children:i}),()=>{const i=M.useContext(t);if(i===null)throw new Error(e);return i}]}function bu(e=null){const t=M.createContext(e);return[({children:i,value:a})=>P.jsx(t.Provider,{value:a,children:i}),()=>M.useContext(t)]}function Mw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function tu(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function GE(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function KE(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function YE(e,t,r){return tu(e,r)===tu(t,r)}function gb({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:c}){return u=>{var _;r==null||r(u);const d=Array.from(((_=tu(u.currentTarget,e))==null?void 0:_.querySelectorAll(t))||[]).filter(R=>YE(u.currentTarget,R,e)),h=d.findIndex(R=>u.currentTarget===R),v=KE(h,d,n),y=GE(h,d,n),w=a==="rtl"?y:v,S=a==="rtl"?v:y;switch(u.key){case"ArrowRight":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[w].focus(),i&&d[w].click());break}case"ArrowLeft":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[S].focus(),i&&d[S].click());break}case"ArrowUp":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[y].focus(),i&&d[y].click());break}case"ArrowDown":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[v].focus(),i&&d[v].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const R=d.length-1;!d[R].disabled&&d[R].focus();break}}}}const XE={app:100,modal:200,popover:300,overlay:400,max:9999};function gr(e){return XE[e]}const QE=()=>{};function ZE(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||QE:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function We(e,t="size",r=!0){if(e!==void 0)return mb(e)?r?te(e):e:`var(--${t}-${e})`}function tr(e){return We(e,"mantine-spacing")}function Tt(e){return e===void 0?"var(--mantine-radius-default)":We(e,"mantine-radius")}function rr(e){return We(e,"mantine-font-size")}function JE(e){return We(e,"mantine-line-height",!1)}function em(e){if(e)return We(e,"mantine-shadow",!1)}function jn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function eT(e,t){return e in t?Ha(t[e]):Ha(e)}function tT(e,t){const r=e.map(n=>({value:n,px:eT(n,t)}));return r.sort((n,i)=>n.px-i.px),r}function gi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function rT(e,t,r){var n;return r?Array.from(((n=tu(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(i=>i===r):null}function nT(){const[e,t]=M.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function za(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function vb(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function vo(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const sT=()=>{};function xu(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,i=vo(e),a=M.useRef(0),c=Object.assign(M.useCallback((...u)=>{window.clearTimeout(a.current);const d=()=>{a.current!==0&&(a.current=0,i(...u))};c.flush=d,a.current=window.setTimeout(d,r)},[i,r]),{flush:sT});return M.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const Lw=["mousedown","touchstart"];function oT(e,t,r){const n=M.useRef(null);return M.useEffect(()=>{const i=a=>{const{target:c}=a??{};if(Array.isArray(r)){const u=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(h=>!!h&&!a.composedPath().includes(h))&&!u&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||Lw).forEach(a=>document.addEventListener(a,i)),()=>{(t||Lw).forEach(a=>document.removeEventListener(a,i))}},[n,e,r]),n}function iT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function aT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function cT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=M.useState(r?t:aT(e)),a=M.useRef(null);return M.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),iT(a.current,c=>i(c.matches))},[e]),n}const Ja=typeof document<"u"?M.useLayoutEffect:M.useEffect;function $n(e,t){const r=M.useRef(!1);M.useEffect(()=>()=>{r.current=!1},[]),M.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function yb({opened:e,shouldReturnFocus:t=!0}){const r=M.useRef(null),n=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return $n(()=>{let i=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),n}const lT=/input|select|textarea|button|object/,wb="a, input, select, textarea, button, object, [tabindex]";function uT(e){return e.style.display==="none"}function dT(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(uT(r))return!1;r=r.parentNode}return!0}function Sb(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function gh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(Sb(e));return(lT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&dT(e)}function _b(e){const t=Sb(e);return(Number.isNaN(t)||t>=0)&&gh(e)}function fT(e){return Array.from(e.querySelectorAll(wb)).filter(_b)}function pT(e,t){const r=fT(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],i=e.getRootNode();let a=n===i.activeElement||e===i.activeElement;const c=i.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(v=>v.getAttribute("type")==="radio"&&v.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function hT(e=!0){const t=M.useRef(null),r=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const c=Array.from(i.querySelectorAll(wb));a=c.find(_b)||c.find(gh)||null,!a&&gh(i)&&(a=i)}a&&a.focus({preventScroll:!0})},n=M.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&r(i)}),t.current=i):t.current=null)},[e]);return M.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const i=a=>{a.key==="Tab"&&t.current&&pT(t.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n}const mT=e=>(e+1)%1e6;function gT(){const[,e]=M.useReducer(mT,0);return e}const vT=zt.useId||(()=>{});function yT(){const e=vT();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ws(e){const t=yT(),[r,n]=M.useState(t);return Ja(()=>{n(vb())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function wT(e,t,r){M.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function vh(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function bb(...e){const t=new Map;return r=>{if(e.forEach(n=>{const i=vh(n,r);i&&t.set(n,i)}),t.size>0)return()=>{e.forEach(n=>{const i=t.get(n);i?i():vh(n,null)}),t.clear()}}}function Ut(...e){return M.useCallback(bb(...e),e)}function ST(e,t,r="ltr"){const n=M.useRef(null),i=M.useRef(!1),a=M.useRef(!1),c=M.useRef(0),[u,d]=M.useState(!1);return M.useEffect(()=>{i.current=!0},[]),M.useEffect(()=>{const h=n.current,v=({x:f,y:p})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(i.current&&h){h.style.userSelect="none";const m=h.getBoundingClientRect();if(m.width&&m.height){const x=za((f-m.left)/m.width,0,1);e({x:r==="ltr"?x:1-x,y:za((p-m.top)/m.height,0,1)})}}})},y=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",_),document.addEventListener("touchmove",b),document.addEventListener("touchend",_)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_)},S=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),y())},_=()=>{a.current&&i.current&&(a.current=!1,d(!1),w(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},R=f=>{S(),f.preventDefault(),C(f)},C=f=>v({x:f.clientX,y:f.clientY}),E=f=>{f.cancelable&&f.preventDefault(),S(),b(f)},b=f=>{f.cancelable&&f.preventDefault(),v({x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY})};return h==null||h.addEventListener("mousedown",R),h==null||h.addEventListener("touchstart",E,{passive:!1}),()=>{h&&(h.removeEventListener("mousedown",R),h.removeEventListener("touchstart",E))}},[r,e]),{ref:n,active:u}}function ns({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[i,a]=M.useState(t!==void 0?t:r),c=(u,...d)=>{a(u),n==null||n(u,...d)};return e!==void 0?[e,n,!0]:[i,c,!1]}function Cu(e,t){return cT("(prefers-reduced-motion: reduce)",e,t)}function ss(e=!1,t){const{onOpen:r,onClose:n}={},[i,a]=M.useState(e),c=M.useCallback(()=>{a(h=>h||(r==null||r(),!0))},[r]),u=M.useCallback(()=>{a(h=>h&&(n==null||n(),!1))},[n]),d=M.useCallback(()=>{i?u():c()},[u,c,i]);return[i,{open:c,close:u,toggle:d}]}function _T(e){const t=M.useRef(void 0);return M.useEffect(()=>{t.current=e},[e]),t.current}var bT={};function xT(){return typeof process<"u"&&bT?"production":"development"}function Iw(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function Ru(e){var r;const t=zt.version;return typeof zt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function xb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=xb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=xb(e))&&(n&&(n+=" "),n+=t);return n}const CT={};function RT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,i])=>{t[n]?t[n]=Bt(t[n],i):t[n]=i})}),t}function Eu({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||CT);return RT(a)}function ru({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const Cb=M.createContext(null);function qs(){const e=M.useContext(Cb);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function ET(){return qs().cssVariablesResolver}function TT(){return qs().classNamesPrefix}function tm(){return qs().getStyleNonce}function PT(){return qs().withStaticClasses}function kT(){return qs().headless}function DT(){var e;return(e=qs().stylesTransform)==null?void 0:e.sx}function MT(){var e;return(e=qs().stylesTransform)==null?void 0:e.styles}function Rb(){return qs().env||"default"}function LT(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function IT(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function jT(e){const[t,r,n,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:i||1}}function OT(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,u=(1-Math.abs(2*a-1))*i,d=n/60,h=u*(1-Math.abs(d%2-1)),v=a-u/2;let y,w,S;return d>=0&&d<1?(y=u,w=h,S=0):d>=1&&d<2?(y=h,w=u,S=0):d>=2&&d<3?(y=0,w=u,S=h):d>=3&&d<4?(y=0,w=h,S=u):d>=4&&d<5?(y=h,w=0,S=u):(y=u,w=0,S=h),{r:Math.round((y+v)*255),g:Math.round((w+v)*255),b:Math.round((S+v)*255),a:c||1}}function rm(e){return LT(e)?IT(e):e.startsWith("rgb")?jT(e):e.startsWith("hsl")?OT(e):{r:0,g:0,b:0,a:1}}function wl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:i,a}=rm(e),c=1-t,u=d=>Math.round(d*c);return`rgba(${u(r)}, ${u(n)}, ${u(i)}, ${a})`}function Wa(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function kp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function NT(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function AT(e){if(e.startsWith("oklch("))return(NT(e)||0)/100;const{r:t,g:r,b:n}=rm(e),i=t/255,a=r/255,c=n/255,u=kp(i),d=kp(a),h=kp(c);return .2126*u+.7152*d+.0722*h}function wa(e,t=.179){return e.startsWith("var(")?!1:AT(e)>t}function Ri({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:wa(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:wa(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:wa(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,i]=e.split("."),a=i?Number(i):void 0,c=n in t.colors;if(c){const u=a!==void 0?t.colors[n][a]:t.colors[n][Wa(t,r||"light")];return{color:n,value:u,shade:a,isThemeColor:c,isLight:wa(u,t.luminanceThreshold),variable:i?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:wa(e,t.luminanceThreshold),shade:a,variable:void 0}}function hr(e,t){const r=Ri({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function yh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=hr(r.from,t),i=hr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function Ln(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:i}=rm(e);return`rgba(${r}, ${n}, ${i}, ${t})`}const ai=Ln,$T=({color:e,theme:t,variant:r,gradient:n,autoContrast:i})=>{const a=Ri({color:e,theme:t}),c=typeof i=="boolean"?i:t.autoContrast;if(r==="filled"){const u=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:u,border:`${te(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:u,border:`${te(1)} solid transparent`}:{background:e,hover:wl(e,.1),color:u,border:`${te(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:Ln(u,.1),hover:Ln(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:Ln(e,.1),hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ln(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Ln(e,.05),color:e,border:`${te(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:"transparent",hover:Ln(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:"transparent",hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${te(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:wl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:wl(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:wl(t.white,.01),color:e,border:`${te(1)} solid transparent`}:r==="gradient"?{background:yh(n,t),hover:yh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${te(1)} solid var(--mantine-color-default-border)`}:{}},FT={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},jw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",nm={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:FT,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:$T,autoContrast:!1,luminanceThreshold:.3,fontFamily:jw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:jw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:te(34),lineHeight:"1.3"},h2:{fontSize:te(26),lineHeight:"1.35"},h3:{fontSize:te(22),lineHeight:"1.4"},h4:{fontSize:te(18),lineHeight:"1.45"},h5:{fontSize:te(16),lineHeight:"1.5"},h6:{fontSize:te(14),lineHeight:"1.5"}}},fontSizes:{xs:te(12),sm:te(14),md:te(16),lg:te(18),xl:te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:te(2),sm:te(4),md:te(8),lg:te(16),xl:te(32)},spacing:{xs:te(10),sm:te(12),md:te(16),lg:te(20),xl:te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), 0 ${te(1)} ${te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(10)} ${te(15)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(7)} ${te(7)} ${te(-5)}`,md:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(20)} ${te(25)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(10)} ${te(10)} ${te(-5)}`,lg:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(28)} ${te(23)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(12)} ${te(12)} ${te(-7)}`,xl:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(36)} ${te(28)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(17)} ${te(17)} ${te(-7)}`},other:{},components:{}};function Ow(e){return e==="auto"||e==="dark"||e==="light"}function zT({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return Ow(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&Ow(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const BT="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Nw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Dp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Aw(e){if(!(e.primaryColor in e.colors))throw new Error(BT);if(typeof e.primaryShade=="object"&&(!Dp(e.primaryShade.dark)||!Dp(e.primaryShade.light)))throw new Error(Nw);if(typeof e.primaryShade=="number"&&!Dp(e.primaryShade))throw new Error(Nw)}function UT(e,t){var n;if(!t)return Aw(e),e;const r=Jh(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Aw(r),r}const sm=M.createContext(null),VT=()=>M.useContext(sm)||nm;function nr(){const e=M.useContext(sm);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Eb({theme:e,children:t,inherit:r=!0}){const n=VT(),i=M.useMemo(()=>UT(r?n:nm,e),[e,n,r]);return P.jsx(sm.Provider,{value:i,children:t})}Eb.displayName="@mantine/core/MantineThemeProvider";function HT(){const e=nr(),t=tm(),r=fr(e.breakpoints).reduce((n,i)=>{const a=e.breakpoints[i].includes("px"),c=Ha(e.breakpoints[i]),u=a?`${c-.1}px`:Dw(c-.1),d=a?`${c}px`:Dw(c);return`${n}@media (max-width: ${u}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return P.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Mp(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function Sa(e,t){return(Array.isArray(e)?e:[e]).reduce((n,i)=>`${i}{${n}}`,t)}function WT(e,t){const r=Mp(e.variables),n=r?Sa(t,r):"",i=Mp(e.dark),a=Mp(e.light),c=i?Sa(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",u=a?Sa(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${u}`}function om({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ri({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function $w(e,t){return om({color:e.colors[e.primaryColor][Wa(e,t)],theme:e,autoContrast:null})}function Sl({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(r==="light"){const u=Wa(e,"light"),d={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${u===9?8:u+1})`,[`--mantine-color-${n}-light`]:ai(e.colors[t][u],.1),[`--mantine-color-${n}-light-hover`]:ai(e.colors[t][u],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-outline-hover`]:ai(e.colors[t][u],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...d}:d}const a=Wa(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:ai(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:ai(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:ai(e.colors[t][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function qT(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ci(e,t,r){fr(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const Tb=e=>{const t=Wa(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:te(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":$w(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":$w(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ci(n.variables,e.breakpoints,"breakpoint"),ci(n.variables,e.spacing,"spacing"),ci(n.variables,e.fontSizes,"font-size"),ci(n.variables,e.lineHeights,"line-height"),ci(n.variables,e.shadows,"shadow"),ci(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),fr(e.colors).forEach(a=>{const c=e.colors[a];if(qT(c)){Object.assign(n.light,Sl({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,Sl({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((u,d)=>{n.variables[`--mantine-color-${a}-${d}`]=u}),Object.assign(n.light,Sl({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,Sl({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return fr(i).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=i[a].fontSize,n.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||e.headings.fontWeight}),n};function GT({theme:e,generator:t}){const r=Tb(e),n=t==null?void 0:t(e);return n?Jh(r,n):r}const Lp=Tb(nm);function KT(e){const t={variables:{},light:{},dark:{}};return fr(e.variables).forEach(r=>{Lp.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),fr(e.light).forEach(r=>{Lp.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),fr(e.dark).forEach(r=>{Lp.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function YT(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Pb({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=nr(),n=tm(),i=ET(),a=GT({theme:r,generator:i}),c=e===":root"&&t,u=c?KT(a):a,d=WT(u,e);return d?P.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${d}${c?"":YT(e)}`}}):null}Pb.displayName="@mantine/CssVariables";function XT(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function li(e,t){var i,a;const r=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function QT({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const i=M.useRef(null),[a,c]=M.useState(()=>e.get(t)),u=n||a,d=M.useCallback(v=>{n||(li(v,r),c(v),e.set(v))},[e.set,u,n]),h=M.useCallback(()=>{c(t),li(t,r),e.clear()},[e.clear,t]);return M.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),Ja(()=>{li(e.get(t),r)},[]),M.useEffect(()=>{var y;if(n)return li(n,r),()=>{};n===void 0&&li(a,r),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const v=w=>{a==="auto"&&li(w.matches?"dark":"light",r)};return(y=i.current)==null||y.addEventListener("change",v),()=>{var w;return(w=i.current)==null?void 0:w.removeEventListener("change",v)}},[a,n]),{colorScheme:u,setColorScheme:d,clearColorScheme:h}}function ZT({respectReducedMotion:e,getRootElement:t}){Ja(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}XT();function kb({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:u=":root",classNamesPrefix:d="mantine",colorSchemeManager:h=zT(),defaultColorScheme:v="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:w,forceColorScheme:S,stylesTransform:_,env:R}){const{colorScheme:C,setColorScheme:E,clearColorScheme:b}=QT({defaultColorScheme:v,forceColorScheme:S,manager:h,getRootElement:y});return ZT({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:y}),P.jsx(Cb.Provider,{value:{colorScheme:C,setColorScheme:E,clearColorScheme:b,getRootElement:y,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:w,cssVariablesSelector:u,withStaticClasses:n,stylesTransform:_,env:R},children:P.jsxs(Eb,{theme:e,children:[c&&P.jsx(Pb,{cssVariablesSelector:u,deduplicateCssVariables:a}),i&&P.jsx(HT,{}),t]})})}kb.displayName="@mantine/core/MantineProvider";function ec({classNames:e,styles:t,props:r,stylesCtx:n}){const i=nr();return{resolvedClassNames:Eu({theme:i,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:ru({theme:i,styles:t,props:r,stylesCtx:n||void 0})}}const JT={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function eP({theme:e,options:t,unstyled:r}){return Bt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||JT[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function tP({selector:e,stylesCtx:t,options:r,props:n,theme:i}){return Eu({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function Fw({selector:e,stylesCtx:t,theme:r,classNames:n,props:i}){return Eu({theme:r,classNames:n,props:i,stylesCtx:t})[e]}function rP({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function nP({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function sP({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(i=>`${t}-${i}-${r}`)}function oP({themeName:e,theme:t,selector:r,props:n,stylesCtx:i}){return e.map(a=>{var c,u;return(u=Eu({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:i}))==null?void 0:u[r]})}function iP({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function aP({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:i,classNames:a,classes:c,unstyled:u,className:d,rootSelector:h,props:v,stylesCtx:y,withStaticClasses:w,headless:S,transformedStyles:_}){return Bt(eP({theme:e,options:t,unstyled:u||S}),oP({theme:e,themeName:r,selector:n,props:v,stylesCtx:y}),iP({options:t,classes:c,selector:n,unstyled:u}),Fw({selector:n,stylesCtx:y,theme:e,classNames:a,props:v}),Fw({selector:n,stylesCtx:y,theme:e,classNames:_,props:v}),tP({selector:n,stylesCtx:y,options:t,props:v,theme:e}),rP({rootSelector:h,selector:n,className:d}),nP({selector:n,classes:c,unstyled:u||S}),w&&!S&&sP({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function cP({theme:e,themeName:t,props:r,stylesCtx:n,selector:i}){return t.map(a=>{var c;return ru({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[i]}).reduce((a,c)=>({...a,...c}),{})}function wh({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...wh({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function lP(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Ci(r[n])}}),t),{})}function uP({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:i,selector:a,themeName:c,headless:u}){var d;return(d=lP([u?{}:t==null?void 0:t(r,n,i),...c.map(h=>{var v,y,w;return(w=(y=(v=r.components)==null?void 0:v[h])==null?void 0:y.vars)==null?void 0:w.call(y,r,n,i)}),e==null?void 0:e(r,n,i)]))==null?void 0:d[a]}function dP({theme:e,themeName:t,selector:r,options:n,props:i,stylesCtx:a,rootSelector:c,styles:u,style:d,vars:h,varsResolver:v,headless:y,withStylesTransform:w}){return{...!w&&cP({theme:e,themeName:t,props:i,stylesCtx:a,selector:r}),...!w&&ru({theme:e,styles:u,props:i,stylesCtx:a})[r],...!w&&ru({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:a})[r],...uP({theme:e,props:i,stylesCtx:a,vars:h,varsResolver:v,selector:r,themeName:t,headless:y}),...c===r?wh({style:d,theme:e}):null,...wh({style:n==null?void 0:n.style,theme:e})}}function fP({props:e,stylesCtx:t,themeName:r}){var c;const n=nr(),i=(c=MT())==null?void 0:c();return{getTransformedStyles:u=>i?[...u.map(h=>i(h,{props:e,theme:n,ctx:t})),...r.map(h=>{var v;return i((v=n.components[h])==null?void 0:v.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Ee({name:e,classes:t,props:r,stylesCtx:n,className:i,style:a,rootSelector:c="root",unstyled:u,classNames:d,styles:h,vars:v,varsResolver:y}){const w=nr(),S=TT(),_=PT(),R=kT(),C=(Array.isArray(e)?e:[e]).filter(f=>f),{withStylesTransform:E,getTransformedStyles:b}=fP({props:r,stylesCtx:n,themeName:C});return(f,p)=>({className:aP({theme:w,options:p,themeName:C,selector:f,classNamesPrefix:S,classNames:d,classes:t,unstyled:u,className:i,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:_,headless:R,transformedStyles:b([p==null?void 0:p.styles,h])}),style:dP({theme:w,themeName:C,selector:f,options:p,props:r,stylesCtx:n,rootSelector:c,styles:h,style:a,vars:v,varsResolver:y,headless:R,withStylesTransform:E})})}function Db(e,t){return typeof e=="boolean"?e:t.autoContrast}function ie(e,t,r){var c;const n=nr(),i=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof i=="function"?i(n):i;return{...t,...a,...Ci(r)}}function Ip(e){return fr(e).reduce((t,r)=>e[r]!==void 0?`${t}${WE(r)}:${e[r]};`:t,"").trim()}function pP({selector:e,styles:t,media:r,container:n}){const i=t?Ip(t):"",a=Array.isArray(r)?r.map(u=>`@media${u.query}{${e}{${Ip(u.styles)}}}`):[],c=Array.isArray(n)?n.map(u=>`@container ${u.query}{${e}{${Ip(u.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${a.join("")}${c.join("")}`.trim()}function Tu(e){const t=tm();return P.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:pP(e)}})}function Pu(e){const{m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:u,me:d,ms:h,p:v,px:y,py:w,pt:S,pb:_,pl:R,pr:C,pe:E,ps:b,bd:f,bg:p,c:m,opacity:x,ff:k,fz:L,fw:j,lts:I,ta:A,lh:N,fs:V,tt:W,td:X,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:Y,bgp:ae,bgr:de,bga:ee,pos:oe,top:ue,left:me,bottom:he,right:Ce,inset:ke,display:mt,flex:ot,hiddenFrom:Be,visibleFrom:Qe,lightHidden:Ze,darkHidden:qe,sx:Ct,...pt}=e;return{styleProps:Ci({m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:u,me:d,ms:h,p:v,px:y,py:w,pt:S,pb:_,pl:R,pr:C,pe:E,ps:b,bd:f,bg:p,c:m,opacity:x,ff:k,fz:L,fw:j,lts:I,ta:A,lh:N,fs:V,tt:W,td:X,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:Y,bgp:ae,bgr:de,bga:ee,pos:oe,top:ue,left:me,bottom:he,right:Ce,inset:ke,display:mt,flex:ot,hiddenFrom:Be,visibleFrom:Qe,lightHidden:Ze,darkHidden:qe,sx:Ct}),rest:pt}}const hP={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function im(e,t){const r=Ri({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function mP(e,t){const r=Ri({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:im(e,t)}function gP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const[r,n,...i]=e.split(" ").filter(c=>c.trim()!=="");let a=`${te(r)}`;return n&&(a+=` ${n}`),i.length>0&&(a+=` ${im(i.join(" "),t)}`),a.trim()}return e}const zw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function vP(e){return typeof e=="string"&&e in zw?zw[e]:e}const yP=["h1","h2","h3","h4","h5","h6"];function wP(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&yP.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?te(e):e}function SP(e){return e}const _P=["h1","h2","h3","h4","h5","h6"];function bP(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&_P.includes(e)?`var(--mantine-${e}-line-height)`:e}function xP(e){return typeof e=="number"?te(e):e}function CP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return te(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const jp={color:im,textColor:mP,fontSize:wP,spacing:CP,identity:SP,size:xP,lineHeight:bP,fontFamily:vP,border:gP};function Bw(e){return e.replace("(min-width: ","").replace("em)","")}function RP({media:e,...t}){const n=Object.keys(e).sort((i,a)=>Number(Bw(i))-Number(Bw(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:n}}function EP(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function TP(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function PP(e){return typeof e=="object"&&e!==null?fr(e).filter(t=>t!=="base"):[]}function kP(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Mb({styleProps:e,data:t,theme:r}){return RP(fr(e).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const a=t[i],c=Array.isArray(a.property)?a.property:[a.property],u=TP(e[i]);if(!EP(e[i]))return c.forEach(h=>{n.inlineStyles[h]=jp[a.type](u,r)}),n;n.hasResponsiveStyles=!0;const d=PP(e[i]);return c.forEach(h=>{u&&(n.styles[h]=jp[a.type](u,r)),d.forEach(v=>{const y=`(min-width: ${r.breakpoints[v]})`;n.media[y]={...n.media[y],[h]:jp[a.type](kP(e[i],v),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function am(){return`__m__-${M.useId().replace(/:/g,"")}`}function cm(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...cm(n,t)}),{}):typeof e=="function"?e(t):e??{}}function Lb(e){return e.startsWith("data-")?e:`data-${e}`}function DP(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[Lb(r)]=e[r]),t},{})}function Ib(e){return e?typeof e=="string"?{[Lb(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...Ib(r)}),{}):DP(e):null}function Sh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Sh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function MP({theme:e,style:t,vars:r,styleProps:n}){const i=Sh(t,e),a=Sh(r,e);return{...i,...a,...n}}const jb=M.forwardRef(({component:e,style:t,__vars:r,className:n,variant:i,mod:a,size:c,hiddenFrom:u,visibleFrom:d,lightHidden:h,darkHidden:v,renderRoot:y,__size:w,...S},_)=>{var L;const R=nr(),C=e||"div",{styleProps:E,rest:b}=Pu(S),f=DT(),p=(L=f==null?void 0:f())==null?void 0:L(E.sx),m=am(),x=Mb({styleProps:E,theme:R,data:hP}),k={ref:_,style:MP({theme:R,style:t,vars:r,styleProps:x.inlineStyles}),className:Bt(n,p,{[m]:x.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":v,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":i,"data-size":mb(c)?void 0:c||void 0,size:w,...Ib(a),...b};return P.jsxs(P.Fragment,{children:[x.hasResponsiveStyles&&P.jsx(Tu,{selector:`.${m}`,styles:x.styles,media:x.media}),typeof y=="function"?y(k):P.jsx(C,{...k})]})});jb.displayName="@mantine/core/Box";const re=jb;function Ob(e){return e}function LP(e){const t=e;return r=>{const n=M.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function fe(e){const t=M.forwardRef(e);return t.extend=Ob,t.withProps=r=>{const n=M.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Xt(e){const t=M.forwardRef(e);return t.withProps=r=>{const n=M.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=Ob,t}const IP=M.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Gs(){return M.useContext(IP)}var ku=nb();const ja=Qh(ku);function jP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Op(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const _a=typeof window<"u"&&window.requestAnimationFrame;function OP({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const i=M.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[u,d]=M.useState(n?{}:c),h=_=>{ku.flushSync(()=>d(_))},v=_=>{h(R=>({...R,..._}))};function y(_){const R=e||jP(_);return{transition:`height ${R}ms ${t}, opacity ${R}ms ${t}`}}$n(()=>{typeof _a=="function"&&_a(n?()=>{v({willChange:"height",display:"block",overflow:"hidden"}),_a(()=>{const _=Op(i);v({...y(_),height:_})})}:()=>{const _=Op(i);v({...y(_),willChange:"height",height:_}),_a(()=>v({height:a,overflow:"hidden"}))})},[n]);const w=_=>{if(!(_.target!==i.current||_.propertyName!=="height"))if(n){const R=Op(i);R===u.height?h({}):v({height:R}),r()}else u.height===a&&(h(c),r())};function S({style:_={},refKey:R="ref",...C}={}){const E=C[R];return{"aria-hidden":!n,...C,[R]:bb(i,E),onTransitionEnd:w,style:{boxSizing:"border-box",..._,...u}}}return S}const NP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Du=fe((e,t)=>{const{children:r,in:n,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:u,animateOpacity:d,...h}=ie("Collapse",NP,e),v=nr(),y=Cu(),S=(v.respectReducedMotion?y:!1)?0:i,_=OP({opened:n,transitionDuration:S,transitionTimingFunction:a,onTransitionEnd:u});return S===0?n?P.jsx(re,{...h,children:r}):null:P.jsx(re,{..._({style:{opacity:n||!d?1:0,transition:d?`opacity ${S}ms ${a}`:"none",...cm(c,v)},ref:t,...h}),children:r})});Du.displayName="@mantine/core/Collapse";function Mu(){return typeof window<"u"}function Ei(e){return Nb(e)?(e.nodeName||"").toLowerCase():"#document"}function pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bn(e){var t;return(t=(Nb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nb(e){return Mu()?e instanceof Node||e instanceof pr(e).Node:!1}function tt(e){return Mu()?e instanceof Element||e instanceof pr(e).Element:!1}function Rr(e){return Mu()?e instanceof HTMLElement||e instanceof pr(e).HTMLElement:!1}function _h(e){return!Mu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pr(e).ShadowRoot}function tc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function AP(e){return["table","td","th"].includes(Ei(e))}function Lu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function lm(e){const t=Iu(),r=tt(e)?$r(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function $P(e){let t=os(e);for(;Rr(t)&&!Us(t);){if(lm(t))return t;if(Lu(t))return null;t=os(t)}return null}function Iu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Us(e){return["html","body","#document"].includes(Ei(e))}function $r(e){return pr(e).getComputedStyle(e)}function ju(e){return tt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function os(e){if(Ei(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_h(e)&&e.host||Bn(e);return _h(t)?t.host:t}function Ab(e){const t=os(e);return Us(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&tc(t)?t:Ab(t)}function Jn(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Ab(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),c=pr(i);if(a){const u=bh(c);return t.concat(c,c.visualViewport||[],tc(i)?i:[],u&&r?Jn(u):[])}return t.concat(i,Jn(i,[],r))}function bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uw(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function qa(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&_h(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function $b(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Fb(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function FP(e){return UP()?!1:!Vw()&&e.width===0&&e.height===0||Vw()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function zP(){return/apple/i.test(navigator.vendor)}function Vw(){const e=/android/i;return e.test($b())||e.test(Fb())}function BP(){return $b().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function UP(){return Fb().includes("jsdom/")}function xh(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function VP(e){return"nativeEvent"in e}function HP(e){return e.matches("html,body")}function yo(e){return(e==null?void 0:e.ownerDocument)||document}function Np(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function fi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const WP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qP(e){return Rr(e)&&e.matches(WP)}const vn=Math.min,Kt=Math.max,nu=Math.round,_l=Math.floor,On=e=>({x:e,y:e}),GP={left:"right",right:"left",bottom:"top",top:"bottom"},KP={start:"end",end:"start"};function Ch(e,t,r){return Kt(e,vn(t,r))}function is(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function um(e){return e==="x"?"y":"x"}function dm(e){return e==="y"?"height":"width"}function as(e){return["top","bottom"].includes(yn(e))?"y":"x"}function fm(e){return um(as(e))}function YP(e,t,r){r===void 0&&(r=!1);const n=Ti(e),i=fm(e),a=dm(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=su(c)),[c,su(c)]}function XP(e){const t=su(e);return[Rh(e),t,Rh(t)]}function Rh(e){return e.replace(/start|end/g,t=>KP[t])}function QP(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:c;default:return[]}}function ZP(e,t,r,n){const i=Ti(e);let a=QP(yn(e),r==="start",n);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Rh)))),a}function su(e){return e.replace(/left|right|bottom|top/g,t=>GP[t])}function JP(e){return{top:0,right:0,bottom:0,left:0,...e}}function pm(e){return typeof e!="number"?JP(e):{top:e,right:e,bottom:e,left:e}}function wi(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Hw(e,t,r){let{reference:n,floating:i}=e;const a=as(t),c=fm(t),u=dm(c),d=yn(t),h=a==="y",v=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,w=n[u]/2-i[u]/2;let S;switch(d){case"top":S={x:v,y:n.y-i.height};break;case"bottom":S={x:v,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y};break;case"left":S={x:n.x-i.width,y};break;default:S={x:n.x,y:n.y}}switch(Ti(t)){case"start":S[c]-=w*(r&&h?-1:1);break;case"end":S[c]+=w*(r&&h?-1:1);break}return S}const ek=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,u=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y}=Hw(h,n,d),w=n,S={},_=0;for(let R=0;R<u.length;R++){const{name:C,fn:E}=u[R],{x:b,y:f,data:p,reset:m}=await E({x:v,y,initialPlacement:n,placement:w,strategy:i,middlewareData:S,rects:h,platform:c,elements:{reference:e,floating:t}});v=b??v,y=f??y,S={...S,[C]:{...S[C],...p}},m&&_<=50&&(_++,typeof m=="object"&&(m.placement&&(w=m.placement),m.rects&&(h=m.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):m.rects),{x:v,y}=Hw(h,w,d)),R=-1)}return{x:v,y,placement:w,strategy:i,middlewareData:S}};async function hm(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:c,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=is(t,e),_=pm(S),C=u[w?y==="floating"?"reference":"floating":y],E=wi(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:v,strategy:d})),b=y==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,f=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),p=await(a.isElement==null?void 0:a.isElement(f))?await(a.getScale==null?void 0:a.getScale(f))||{x:1,y:1}:{x:1,y:1},m=wi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:b,offsetParent:f,strategy:d}):b);return{top:(E.top-m.top+_.top)/p.y,bottom:(m.bottom-E.bottom+_.bottom)/p.y,left:(E.left-m.left+_.left)/p.x,right:(m.right-E.right+_.right)/p.x}}const tk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:c,elements:u,middlewareData:d}=t,{element:h,padding:v=0}=is(e,t)||{};if(h==null)return{};const y=pm(v),w={x:r,y:n},S=fm(i),_=dm(S),R=await c.getDimensions(h),C=S==="y",E=C?"top":"left",b=C?"bottom":"right",f=C?"clientHeight":"clientWidth",p=a.reference[_]+a.reference[S]-w[S]-a.floating[_],m=w[S]-a.reference[S],x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let k=x?x[f]:0;(!k||!await(c.isElement==null?void 0:c.isElement(x)))&&(k=u.floating[f]||a.floating[_]);const L=p/2-m/2,j=k/2-R[_]/2-1,I=vn(y[E],j),A=vn(y[b],j),N=I,V=k-R[_]-A,W=k/2-R[_]/2+L,X=Ch(N,W,V),O=!d.arrow&&Ti(i)!=null&&W!==X&&a.reference[_]/2-(W<N?I:A)-R[_]/2<0,U=O?W<N?W-N:W-V:0;return{[S]:w[S]+U,data:{[S]:X,centerOffset:W-X-U,...O&&{alignmentOffset:U}},reset:O}}}),rk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:R=!0,...C}=is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const E=yn(i),b=as(u),f=yn(u)===u,p=await(d.isRTL==null?void 0:d.isRTL(h.floating)),m=w||(f||!R?[su(u)]:XP(u)),x=_!=="none";!w&&x&&m.push(...ZP(u,R,_,p));const k=[u,...m],L=await hm(t,C),j=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(v&&j.push(L[E]),y){const W=YP(i,c,p);j.push(L[W[0]],L[W[1]])}if(I=[...I,{placement:i,overflows:j}],!j.every(W=>W<=0)){var A,N;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,X=k[W];if(X)return{data:{index:W,overflows:I},reset:{placement:X}};let O=(N=I.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(S){case"bestFit":{var V;const U=(V=I.filter(F=>{if(x){const z=as(F.placement);return z===b||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:V[0];U&&(O=U);break}case"initialPlacement":O=u;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function zb(e){const t=vn(...e.map(a=>a.left)),r=vn(...e.map(a=>a.top)),n=Kt(...e.map(a=>a.right)),i=Kt(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:i-r}}function nk(e){const t=e.slice().sort((i,a)=>i.y-a.y),r=[];let n=null;for(let i=0;i<t.length;i++){const a=t[i];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(i=>wi(zb(i)))}const sk=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:i,platform:a,strategy:c}=t,{padding:u=2,x:d,y:h}=is(e,t),v=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),y=nk(v),w=wi(zb(v)),S=pm(u);function _(){if(y.length===2&&y[0].left>y[1].right&&d!=null&&h!=null)return y.find(C=>d>C.left-S.left&&d<C.right+S.right&&h>C.top-S.top&&h<C.bottom+S.bottom)||w;if(y.length>=2){if(as(r)==="y"){const I=y[0],A=y[y.length-1],N=yn(r)==="top",V=I.top,W=A.bottom,X=N?I.left:A.left,O=N?I.right:A.right,U=O-X,F=W-V;return{top:V,bottom:W,left:X,right:O,width:U,height:F,x:X,y:V}}const C=yn(r)==="left",E=Kt(...y.map(I=>I.right)),b=vn(...y.map(I=>I.left)),f=y.filter(I=>C?I.left===b:I.right===E),p=f[0].top,m=f[f.length-1].bottom,x=b,k=E,L=k-x,j=m-p;return{top:p,bottom:m,left:x,right:k,width:L,height:j,x,y:p}}return w}const R=await a.getElementRects({reference:{getBoundingClientRect:_},floating:n.floating,strategy:c});return i.reference.x!==R.reference.x||i.reference.y!==R.reference.y||i.reference.width!==R.reference.width||i.reference.height!==R.reference.height?{reset:{rects:R}}:{}}}};async function ok(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=yn(r),u=Ti(r),d=as(r)==="y",h=["left","top"].includes(c)?-1:1,v=a&&d?-1:1,y=is(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof _=="number"&&(S=u==="end"?_*-1:_),d?{x:S*v,y:w*h}:{x:w*h,y:S*v}}const ik=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:c,middlewareData:u}=t,d=await ok(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},ak=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:E,y:b}=C;return{x:E,y:b}}},...d}=is(e,t),h={x:r,y:n},v=await hm(t,d),y=as(yn(i)),w=um(y);let S=h[w],_=h[y];if(a){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",b=S+v[C],f=S-v[E];S=Ch(b,S,f)}if(c){const C=y==="y"?"top":"left",E=y==="y"?"bottom":"right",b=_+v[C],f=_-v[E];_=Ch(b,_,f)}const R=u.fn({...t,[w]:S,[y]:_});return{...R,data:{x:R.x-r,y:R.y-n,enabled:{[w]:a,[y]:c}}}}}},ck=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=is(e,t),v={x:r,y:n},y=as(i),w=um(y);let S=v[w],_=v[y];const R=is(u,t),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(d){const f=w==="y"?"height":"width",p=a.reference[w]-a.floating[f]+C.mainAxis,m=a.reference[w]+a.reference[f]-C.mainAxis;S<p?S=p:S>m&&(S=m)}if(h){var E,b;const f=w==="y"?"width":"height",p=["top","left"].includes(yn(i)),m=a.reference[y]-a.floating[f]+(p&&((E=c.offset)==null?void 0:E[y])||0)+(p?0:C.crossAxis),x=a.reference[y]+a.reference[f]+(p?0:((b=c.offset)==null?void 0:b[y])||0)-(p?C.crossAxis:0);_<m?_=m:_>x&&(_=x)}return{[w]:S,[y]:_}}}},lk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:c,elements:u}=t,{apply:d=()=>{},...h}=is(e,t),v=await hm(t,h),y=yn(i),w=Ti(i),S=as(i)==="y",{width:_,height:R}=a.floating;let C,E;y==="top"||y==="bottom"?(C=y,E=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=y,C=w==="end"?"top":"bottom");const b=R-v.top-v.bottom,f=_-v.left-v.right,p=vn(R-v[C],b),m=vn(_-v[E],f),x=!t.middlewareData.shift;let k=p,L=m;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=f),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),x&&!w){const I=Kt(v.left,0),A=Kt(v.right,0),N=Kt(v.top,0),V=Kt(v.bottom,0);S?L=_-2*(I!==0||A!==0?I+A:Kt(v.left,v.right)):k=R-2*(N!==0||V!==0?N+V:Kt(v.top,v.bottom))}await d({...t,availableWidth:L,availableHeight:k});const j=await c.getDimensions(u.floating);return _!==j.width||R!==j.height?{reset:{rects:!0}}:{}}}};function Bb(e){const t=$r(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Rr(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=nu(r)!==a||nu(n)!==c;return u&&(r=a,n=c),{width:r,height:n,$:u}}function mm(e){return tt(e)?e:e.contextElement}function vi(e){const t=mm(e);if(!Rr(t))return On(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=Bb(t);let c=(a?nu(r.width):r.width)/n,u=(a?nu(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const uk=On(0);function Ub(e){const t=pr(e);return!Iu()||!t.visualViewport?uk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pr(e)?!1:t}function bo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=mm(e);let c=On(1);t&&(n?tt(n)&&(c=vi(n)):c=vi(e));const u=dk(a,r,n)?Ub(a):On(0);let d=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,v=i.width/c.x,y=i.height/c.y;if(a){const w=pr(a),S=n&&tt(n)?pr(n):n;let _=w,R=bh(_);for(;R&&n&&S!==_;){const C=vi(R),E=R.getBoundingClientRect(),b=$r(R),f=E.left+(R.clientLeft+parseFloat(b.paddingLeft))*C.x,p=E.top+(R.clientTop+parseFloat(b.paddingTop))*C.y;d*=C.x,h*=C.y,v*=C.x,y*=C.y,d+=f,h+=p,_=pr(R),R=bh(_)}}return wi({width:v,height:y,x:d,y:h})}function gm(e,t){const r=ju(e).scrollLeft;return t?t.left+r:bo(Bn(e)).left+r}function Vb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:gm(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function fk(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",c=Bn(n),u=t?Lu(t.floating):!1;if(n===c||u&&a)return r;let d={scrollLeft:0,scrollTop:0},h=On(1);const v=On(0),y=Rr(n);if((y||!y&&!a)&&((Ei(n)!=="body"||tc(c))&&(d=ju(n)),Rr(n))){const S=bo(n);h=vi(n),v.x=S.x+n.clientLeft,v.y=S.y+n.clientTop}const w=c&&!y&&!a?Vb(c,d,!0):On(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+v.x+w.x,y:r.y*h.y-d.scrollTop*h.y+v.y+w.y}}function pk(e){return Array.from(e.getClientRects())}function hk(e){const t=Bn(e),r=ju(e),n=e.ownerDocument.body,i=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+gm(e);const u=-r.scrollTop;return $r(n).direction==="rtl"&&(c+=Kt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:c,y:u}}function mk(e,t){const r=pr(e),n=Bn(e),i=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,u=0,d=0;if(i){a=i.width,c=i.height;const h=Iu();(!h||h&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:u,y:d}}function gk(e,t){const r=bo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Rr(e)?vi(e):On(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:c,height:u,x:d,y:h}}function Ww(e,t,r){let n;if(t==="viewport")n=mk(e,r);else if(t==="document")n=hk(Bn(e));else if(tt(t))n=gk(t,r);else{const i=Ub(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return wi(n)}function Hb(e,t){const r=os(e);return r===t||!tt(r)||Us(r)?!1:$r(r).position==="fixed"||Hb(r,t)}function vk(e,t){const r=t.get(e);if(r)return r;let n=Jn(e,[],!1).filter(u=>tt(u)&&Ei(u)!=="body"),i=null;const a=$r(e).position==="fixed";let c=a?os(e):e;for(;tt(c)&&!Us(c);){const u=$r(c),d=lm(c);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tc(c)&&!d&&Hb(e,c))?n=n.filter(v=>v!==c):i=u,c=os(c)}return t.set(e,n),n}function yk(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Lu(t)?[]:vk(t,this._c):[].concat(r),n],u=c[0],d=c.reduce((h,v)=>{const y=Ww(t,v,i);return h.top=Kt(y.top,h.top),h.right=vn(y.right,h.right),h.bottom=vn(y.bottom,h.bottom),h.left=Kt(y.left,h.left),h},Ww(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function wk(e){const{width:t,height:r}=Bb(e);return{width:t,height:r}}function Sk(e,t,r){const n=Rr(t),i=Bn(t),a=r==="fixed",c=bo(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=On(0);if(n||!n&&!a)if((Ei(t)!=="body"||tc(i))&&(u=ju(t)),n){const w=bo(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else i&&(d.x=gm(i));const h=i&&!n&&!a?Vb(i,u):On(0),v=c.left+u.scrollLeft-d.x-h.x,y=c.top+u.scrollTop-d.y-h.y;return{x:v,y,width:c.width,height:c.height}}function Ap(e){return $r(e).position==="static"}function qw(e,t){if(!Rr(e)||$r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bn(e)===r&&(r=r.ownerDocument.body),r}function Wb(e,t){const r=pr(e);if(Lu(e))return r;if(!Rr(e)){let i=os(e);for(;i&&!Us(i);){if(tt(i)&&!Ap(i))return i;i=os(i)}return r}let n=qw(e,t);for(;n&&AP(n)&&Ap(n);)n=qw(n,t);return n&&Us(n)&&Ap(n)&&!lm(n)?r:n||$P(e)||r}const _k=async function(e){const t=this.getOffsetParent||Wb,r=this.getDimensions,n=await r(e.floating);return{reference:Sk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bk(e){return $r(e).direction==="rtl"}const xk={convertOffsetParentRelativeRectToViewportRelativeRect:fk,getDocumentElement:Bn,getClippingRect:yk,getOffsetParent:Wb,getElementRects:_k,getClientRects:pk,getDimensions:wk,getScale:vi,isElement:tt,isRTL:bk};function qb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ck(e,t){let r=null,n;const i=Bn(e);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:v,top:y,width:w,height:S}=h;if(u||t(),!w||!S)return;const _=_l(y),R=_l(i.clientWidth-(v+w)),C=_l(i.clientHeight-(y+S)),E=_l(v),f={rootMargin:-_+"px "+-R+"px "+-C+"px "+-E+"px",threshold:Kt(0,vn(1,d))||1};let p=!0;function m(x){const k=x[0].intersectionRatio;if(k!==d){if(!p)return c();k?c(!1,k):n=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!qb(h,e.getBoundingClientRect())&&c(),p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,f)}r.observe(e)}return c(!0),a}function Rk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=mm(e),v=i||a?[...h?Jn(h):[],...Jn(t)]:[];v.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),a&&E.addEventListener("resize",r)});const y=h&&u?Ck(h,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(E=>{let[b]=E;b&&b.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var f;(f=S)==null||f.observe(t)})),r()}),h&&!d&&S.observe(h),S.observe(t));let _,R=d?bo(e):null;d&&C();function C(){const E=bo(e);R&&!qb(R,E)&&r(),R=E,_=requestAnimationFrame(C)}return r(),()=>{var E;v.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),y==null||y(),(E=S)==null||E.disconnect(),S=null,d&&cancelAnimationFrame(_)}}const Ek=ik,Tk=ak,Pk=rk,kk=lk,Gw=tk,Dk=sk,Mk=ck,Lk=(e,t,r)=>{const n=new Map,i={platform:xk,...r},a={...i.platform,_c:n};return ek(e,t,{...i,platform:a})};var Nl=typeof document<"u"?M.useLayoutEffect:M.useEffect;function ou(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ou(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!ou(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Gb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kw(e,t){const r=Gb(e);return Math.round(t*r)/r}function $p(e){const t=M.useRef(e);return Nl(()=>{t.current=e}),t}function Ik(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[v,y]=M.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=M.useState(n);ou(w,n)||S(n);const[_,R]=M.useState(null),[C,E]=M.useState(null),b=M.useCallback(F=>{F!==x.current&&(x.current=F,R(F))},[]),f=M.useCallback(F=>{F!==k.current&&(k.current=F,E(F))},[]),p=a||_,m=c||C,x=M.useRef(null),k=M.useRef(null),L=M.useRef(v),j=d!=null,I=$p(d),A=$p(i),N=$p(h),V=M.useCallback(()=>{if(!x.current||!k.current)return;const F={placement:t,strategy:r,middleware:w};A.current&&(F.platform=A.current),Lk(x.current,k.current,F).then(z=>{const q={...z,isPositioned:N.current!==!1};W.current&&!ou(L.current,q)&&(L.current=q,ku.flushSync(()=>{y(q)}))})},[w,t,r,A,N]);Nl(()=>{h===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,y(F=>({...F,isPositioned:!1})))},[h]);const W=M.useRef(!1);Nl(()=>(W.current=!0,()=>{W.current=!1}),[]),Nl(()=>{if(p&&(x.current=p),m&&(k.current=m),p&&m){if(I.current)return I.current(p,m,V);V()}},[p,m,V,I,j]);const X=M.useMemo(()=>({reference:x,floating:k,setReference:b,setFloating:f}),[b,f]),O=M.useMemo(()=>({reference:p,floating:m}),[p,m]),U=M.useMemo(()=>{const F={position:r,left:0,top:0};if(!O.floating)return F;const z=Kw(O.floating,v.x),q=Kw(O.floating,v.y);return u?{...F,transform:"translate("+z+"px, "+q+"px)",...Gb(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,u,O.floating,v.x,v.y]);return M.useMemo(()=>({...v,update:V,refs:X,elements:O,floatingStyles:U}),[v,V,X,O,U])}const jk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Gw({element:n.current,padding:i}).fn(r):{}:n?Gw({element:n,padding:i}).fn(r):{}}}},Kb=(e,t)=>({...Ek(e),options:[e,t]}),vm=(e,t)=>({...Tk(e),options:[e,t]}),Yw=(e,t)=>({...Mk(e),options:[e,t]}),iu=(e,t)=>({...Pk(e),options:[e,t]}),Ok=(e,t)=>({...kk(e),options:[e,t]}),Ba=(e,t)=>({...Dk(e),options:[e,t]}),Yb=(e,t)=>({...jk(e),options:[e,t]});function Nk(e){return M.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const Xb={...sb},Ak=Xb.useInsertionEffect,$k=Ak||(e=>e());function Zn(e){const t=M.useRef(()=>{});return $k(()=>{t.current=e}),M.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var Nn=typeof document<"u"?M.useLayoutEffect:M.useEffect;let Xw=!1,Fk=0;const Qw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Fk++;function zk(){const[e,t]=M.useState(()=>Xw?Qw():void 0);return Nn(()=>{e==null&&t(Qw())},[]),M.useEffect(()=>{Xw=!0},[]),e}const Bk=Xb.useId,Qb=Bk||zk;function Uk(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const Vk=M.createContext(null),Hk=M.createContext(null),ym=()=>{var e;return((e=M.useContext(Vk))==null?void 0:e.id)||null},wm=()=>M.useContext(Hk);function Sm(e){return"data-floating-ui-"+e}function Fp(e){const t=M.useRef(e);return Nn(()=>{t.current=e}),t}const Zw=Sm("safe-polygon");function Al(e,t,r){return r&&!xh(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Wk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:c}=e,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:v=!1,restMs:y=0,move:w=!0}=t,S=wm(),_=ym(),R=Fp(h),C=Fp(d),E=Fp(r),b=M.useRef(),f=M.useRef(-1),p=M.useRef(),m=M.useRef(-1),x=M.useRef(!0),k=M.useRef(!1),L=M.useRef(()=>{}),j=M.useRef(!1),I=M.useCallback(()=>{var U;const F=(U=i.current.openEvent)==null?void 0:U.type;return(F==null?void 0:F.includes("mouse"))&&F!=="mousedown"},[i]);M.useEffect(()=>{if(!u)return;function U(F){let{open:z}=F;z||(clearTimeout(f.current),clearTimeout(m.current),x.current=!0,j.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[u,a]),M.useEffect(()=>{if(!u||!R.current||!r)return;function U(z){I()&&n(!1,z,"hover")}const F=yo(c.floating).documentElement;return F.addEventListener("mouseleave",U),()=>{F.removeEventListener("mouseleave",U)}},[c.floating,r,n,u,R,I]);const A=M.useCallback(function(U,F,z){F===void 0&&(F=!0),z===void 0&&(z="hover");const q=Al(C.current,"close",b.current);q&&!p.current?(clearTimeout(f.current),f.current=window.setTimeout(()=>n(!1,U,z),q)):F&&(clearTimeout(f.current),n(!1,U,z))},[C,n]),N=Zn(()=>{L.current(),p.current=void 0}),V=Zn(()=>{if(k.current){const U=yo(c.floating).body;U.style.pointerEvents="",U.removeAttribute(Zw),k.current=!1}}),W=Zn(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);M.useEffect(()=>{if(!u)return;function U(B){if(clearTimeout(f.current),x.current=!1,v&&!xh(b.current)||y>0&&!Al(C.current,"open"))return;const Y=Al(C.current,"open",b.current);Y?f.current=window.setTimeout(()=>{E.current||n(!0,B,"hover")},Y):r||n(!0,B,"hover")}function F(B){if(W())return;L.current();const Y=yo(c.floating);if(clearTimeout(m.current),j.current=!1,R.current&&i.current.floatingContext){r||clearTimeout(f.current),p.current=R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B,!0,"safe-polygon")}});const de=p.current;Y.addEventListener("mousemove",de),L.current=()=>{Y.removeEventListener("mousemove",de)};return}(b.current==="touch"?!qa(c.floating,B.relatedTarget):!0)&&A(B)}function z(B){W()||i.current.floatingContext&&(R.current==null||R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B)}})(B))}if(tt(c.domReference)){var q;const B=c.domReference;return r&&B.addEventListener("mouseleave",z),(q=c.floating)==null||q.addEventListener("mouseleave",z),w&&B.addEventListener("mousemove",U,{once:!0}),B.addEventListener("mouseenter",U),B.addEventListener("mouseleave",F),()=>{var Y;r&&B.removeEventListener("mouseleave",z),(Y=c.floating)==null||Y.removeEventListener("mouseleave",z),w&&B.removeEventListener("mousemove",U),B.removeEventListener("mouseenter",U),B.removeEventListener("mouseleave",F)}}},[c,u,e,v,y,w,A,N,V,n,r,E,S,C,R,i,W]),Nn(()=>{var U;if(u&&r&&(U=R.current)!=null&&U.__options.blockPointerEvents&&I()){k.current=!0;const z=c.floating;if(tt(c.domReference)&&z){var F;const q=yo(c.floating).body;q.setAttribute(Zw,"");const B=c.domReference,Y=S==null||(F=S.nodesRef.current.find(ae=>ae.id===_))==null||(F=F.context)==null?void 0:F.elements.floating;return Y&&(Y.style.pointerEvents=""),q.style.pointerEvents="none",B.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{q.style.pointerEvents="",B.style.pointerEvents="",z.style.pointerEvents=""}}}},[u,r,_,c,S,R,I]),Nn(()=>{r||(b.current=void 0,j.current=!1,N(),V())},[r,N,V]),M.useEffect(()=>()=>{N(),clearTimeout(f.current),clearTimeout(m.current),V()},[u,c.domReference,N,V]);const X=M.useMemo(()=>{function U(F){b.current=F.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(F){const{nativeEvent:z}=F;function q(){!x.current&&!E.current&&n(!0,z,"hover")}v&&!xh(b.current)||r||y===0||j.current&&F.movementX**2+F.movementY**2<2||(clearTimeout(m.current),b.current==="touch"?q():(j.current=!0,m.current=window.setTimeout(q,y)))}}},[v,n,r,E,y]),O=M.useMemo(()=>({onMouseEnter(){clearTimeout(f.current)},onMouseLeave(U){W()||A(U.nativeEvent,!1)}}),[A,W]);return M.useMemo(()=>u?{reference:X,floating:O}:{},[u,X,O])}const Eh=()=>{},Zb=M.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Eh,setState:Eh,isInstantPhase:!1}),qk=()=>M.useContext(Zb);function Gk(e){const{children:t,delay:r,timeoutMs:n=0}=e,[i,a]=M.useReducer((d,h)=>({...d,...h}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=M.useRef(null),u=M.useCallback(d=>{a({currentId:d})},[]);return Nn(()=>{i.currentId?c.current===null?c.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[i.currentId,i.isInstantPhase]),M.createElement(Zb.Provider,{value:M.useMemo(()=>({...i,setState:a,setCurrentId:u}),[i,u])},t)}function Kk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:i}=e,{id:a,enabled:c=!0}=t,u=a??i,d=qk(),{currentId:h,setCurrentId:v,initialDelay:y,setState:w,timeoutMs:S}=d;return Nn(()=>{c&&h&&(w({delay:{open:1,close:Al(y,"close")}}),h!==u&&n(!1))},[c,u,n,w,h,y]),Nn(()=>{function _(){n(!1),w({delay:y,currentId:null})}if(c&&h&&!r&&h===u){if(S){const R=window.setTimeout(_,S);return()=>{clearTimeout(R)}}_()}},[c,r,w,h,u,n,y,S]),Nn(()=>{c&&(v===Eh||!r||v(u))},[c,r,v,u]),d}function zp(e,t){let r=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(i=>{var a;return(a=n)==null?void 0:a.some(c=>{var u;return i.parentId===c.id&&((u=i.context)==null?void 0:u.open)})}),r=r.concat(n);return r}const Yk="data-floating-ui-focusable",Xk={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Qk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Jw=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function Zk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:i,dataRef:a}=e,{enabled:c=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:v=!1,referencePressEvent:y="pointerdown",ancestorScroll:w=!1,bubbles:S,capture:_}=t,R=wm(),C=Zn(typeof d=="function"?d:()=>!1),E=typeof d=="function"?C:d,b=M.useRef(!1),f=M.useRef(!1),{escapeKey:p,outsidePress:m}=Jw(S),{escapeKey:x,outsidePress:k}=Jw(_),L=M.useRef(!1),j=Zn(X=>{var O;if(!r||!c||!u||X.key!=="Escape"||L.current)return;const U=(O=a.current.floatingContext)==null?void 0:O.nodeId,F=R?zp(R.nodesRef.current,U):[];if(!p&&(X.stopPropagation(),F.length>0)){let z=!0;if(F.forEach(q=>{var B;if((B=q.context)!=null&&B.open&&!q.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}n(!1,VP(X)?X.nativeEvent:X,"escape-key")}),I=Zn(X=>{var O;const U=()=>{var F;j(X),(F=fi(X))==null||F.removeEventListener("keydown",U)};(O=fi(X))==null||O.addEventListener("keydown",U)}),A=Zn(X=>{var O;const U=b.current;b.current=!1;const F=f.current;if(f.current=!1,h==="click"&&F||U||typeof E=="function"&&!E(X))return;const z=fi(X),q="["+Sm("inert")+"]",B=yo(i.floating).querySelectorAll(q);let Y=tt(z)?z:null;for(;Y&&!Us(Y);){const oe=os(Y);if(Us(oe)||!tt(oe))break;Y=oe}if(B.length&&tt(z)&&!HP(z)&&!qa(z,i.floating)&&Array.from(B).every(oe=>!qa(Y,oe)))return;if(Rr(z)&&W){const oe=z.clientWidth>0&&z.scrollWidth>z.clientWidth,ue=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let me=ue&&X.offsetX>z.clientWidth;if(ue&&$r(z).direction==="rtl"&&(me=X.offsetX<=z.offsetWidth-z.clientWidth),me||oe&&X.offsetY>z.clientHeight)return}const ae=(O=a.current.floatingContext)==null?void 0:O.nodeId,de=R&&zp(R.nodesRef.current,ae).some(oe=>{var ue;return Np(X,(ue=oe.context)==null?void 0:ue.elements.floating)});if(Np(X,i.floating)||Np(X,i.domReference)||de)return;const ee=R?zp(R.nodesRef.current,ae):[];if(ee.length>0){let oe=!0;if(ee.forEach(ue=>{var me;if((me=ue.context)!=null&&me.open&&!ue.context.dataRef.current.__outsidePressBubbles){oe=!1;return}}),!oe)return}n(!1,X,"outside-press")}),N=Zn(X=>{var O;const U=()=>{var F;A(X),(F=fi(X))==null||F.removeEventListener(h,U)};(O=fi(X))==null||O.addEventListener(h,U)});M.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=p,a.current.__outsidePressBubbles=m;let X=-1;function O(B){n(!1,B,"ancestor-scroll")}function U(){window.clearTimeout(X),L.current=!0}function F(){X=window.setTimeout(()=>{L.current=!1},Iu()?5:0)}const z=yo(i.floating);u&&(z.addEventListener("keydown",x?I:j,x),z.addEventListener("compositionstart",U),z.addEventListener("compositionend",F)),E&&z.addEventListener(h,k?N:A,k);let q=[];return w&&(tt(i.domReference)&&(q=Jn(i.domReference)),tt(i.floating)&&(q=q.concat(Jn(i.floating))),!tt(i.reference)&&i.reference&&i.reference.contextElement&&(q=q.concat(Jn(i.reference.contextElement)))),q=q.filter(B=>{var Y;return B!==((Y=z.defaultView)==null?void 0:Y.visualViewport)}),q.forEach(B=>{B.addEventListener("scroll",O,{passive:!0})}),()=>{u&&(z.removeEventListener("keydown",x?I:j,x),z.removeEventListener("compositionstart",U),z.removeEventListener("compositionend",F)),E&&z.removeEventListener(h,k?N:A,k),q.forEach(B=>{B.removeEventListener("scroll",O)}),window.clearTimeout(X)}},[a,i,u,E,h,r,n,w,c,p,m,j,x,I,A,k,N]),M.useEffect(()=>{b.current=!1},[E,h]);const V=M.useMemo(()=>({onKeyDown:j,[Xk[y]]:X=>{v&&n(!1,X.nativeEvent,"reference-press")}}),[j,n,v,y]),W=M.useMemo(()=>({onKeyDown:j,onMouseDown(){f.current=!0},onMouseUp(){f.current=!0},[Qk[h]]:()=>{b.current=!0}}),[j,h]);return M.useMemo(()=>c?{reference:V,floating:W}:{},[c,V,W])}function Jk(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=Qb(),a=M.useRef({}),[c]=M.useState(()=>Uk()),u=ym()!=null,[d,h]=M.useState(n.reference),v=Zn((S,_,R)=>{a.current.openEvent=S?_:void 0,c.emit("openchange",{open:S,event:_,reason:R,nested:u}),r==null||r(S,_,R)}),y=M.useMemo(()=>({setPositionReference:h}),[]),w=M.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return M.useMemo(()=>({dataRef:a,open:t,onOpenChange:v,elements:w,events:c,floatingId:i,refs:y}),[t,v,w,c,i,y])}function _m(e){e===void 0&&(e={});const{nodeId:t}=e,r=Jk({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,c]=M.useState(null),[u,d]=M.useState(null),v=(i==null?void 0:i.domReference)||a,y=M.useRef(null),w=wm();Nn(()=>{v&&(y.current=v)},[v]);const S=Ik({...e,elements:{...i,...u&&{reference:u}}}),_=M.useCallback(f=>{const p=tt(f)?{getBoundingClientRect:()=>f.getBoundingClientRect(),contextElement:f}:f;d(p),S.refs.setReference(p)},[S.refs]),R=M.useCallback(f=>{(tt(f)||f===null)&&(y.current=f,c(f)),(tt(S.refs.reference.current)||S.refs.reference.current===null||f!==null&&!tt(f))&&S.refs.setReference(f)},[S.refs]),C=M.useMemo(()=>({...S.refs,setReference:R,setPositionReference:_,domReference:y}),[S.refs,R,_]),E=M.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),b=M.useMemo(()=>({...S,...n,refs:C,elements:E,nodeId:t}),[S,C,E,t,n]);return Nn(()=>{n.dataRef.current.floatingContext=b;const f=w==null?void 0:w.nodesRef.current.find(p=>p.id===t);f&&(f.context=b)}),M.useMemo(()=>({...S,context:b,refs:C,elements:E}),[S,C,E,b])}function eD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:c}=e,{enabled:u=!0,visibleOnly:d=!0}=t,h=M.useRef(!1),v=M.useRef(),y=M.useRef(!0);M.useEffect(()=>{if(!u)return;const S=pr(c.domReference);function _(){!r&&Rr(c.domReference)&&c.domReference===Uw(yo(c.domReference))&&(h.current=!0)}function R(){y.current=!0}return S.addEventListener("blur",_),S.addEventListener("keydown",R,!0),()=>{S.removeEventListener("blur",_),S.removeEventListener("keydown",R,!0)}},[c.domReference,r,u]),M.useEffect(()=>{if(!u)return;function S(_){let{reason:R}=_;(R==="reference-press"||R==="escape-key")&&(h.current=!0)}return i.on("openchange",S),()=>{i.off("openchange",S)}},[i,u]),M.useEffect(()=>()=>{clearTimeout(v.current)},[]);const w=M.useMemo(()=>({onPointerDown(S){FP(S.nativeEvent)||(y.current=!1)},onMouseLeave(){h.current=!1},onFocus(S){if(h.current)return;const _=fi(S.nativeEvent);if(d&&tt(_))try{if(zP()&&BP())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!y.current&&!qP(_))return}n(!0,S.nativeEvent,"focus")},onBlur(S){h.current=!1;const _=S.relatedTarget,R=S.nativeEvent,C=tt(_)&&_.hasAttribute(Sm("focus-guard"))&&_.getAttribute("data-type")==="outside";v.current=window.setTimeout(()=>{var E;const b=Uw(c.domReference?c.domReference.ownerDocument:document);!_&&b===c.domReference||qa((E=a.current.floatingContext)==null?void 0:E.refs.floating.current,b)||qa(c.domReference,b)||C||n(!1,R,"focus")})}}),[a,c.domReference,n,d]);return M.useMemo(()=>u?{reference:w}:{},[u,w])}const eS="active",tS="selected";function Bp(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[eS]:c,[tS]:u,...d}=e;a=d}return{...r==="floating"&&{tabIndex:-1,[Yk]:""},...a,...t.map(c=>{const u=c?c[r]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((c,u)=>(u&&Object.entries(u).forEach(d=>{let[h,v]=d;if(!(i&&[eS,tS].includes(h)))if(h.indexOf("on")===0){if(n.has(h)||n.set(h,[]),typeof v=="function"){var y;(y=n.get(h))==null||y.push(v),c[h]=function(){for(var w,S=arguments.length,_=new Array(S),R=0;R<S;R++)_[R]=arguments[R];return(w=n.get(h))==null?void 0:w.map(C=>C(..._)).find(C=>C!==void 0)}}}else c[h]=v}),c),{})}}function tD(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),r=e.map(u=>u==null?void 0:u.floating),n=e.map(u=>u==null?void 0:u.item),i=M.useCallback(u=>Bp(u,e,"reference"),t),a=M.useCallback(u=>Bp(u,e,"floating"),r),c=M.useCallback(u=>Bp(u,e,"item"),n);return M.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:c}),[i,a,c])}const rD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function nD(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:i}=e,{enabled:a=!0,role:c="dialog"}=t,u=(r=rD.get(c))!=null?r:c,d=Qb(),v=ym()!=null,y=M.useMemo(()=>u==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?i:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":n?i:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:d},...u==="menu"&&v&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[u,i,v,n,d,c]),w=M.useMemo(()=>{const _={id:i,...u&&{role:u}};return u==="tooltip"||c==="label"?_:{..._,...u==="menu"&&{"aria-labelledby":d}}},[u,i,d,c]),S=M.useCallback(_=>{let{active:R,selected:C}=_;const E={role:"option",...R&&{id:i+"-option"}};switch(c){case"select":return{...E,"aria-selected":R&&C};case"combobox":return{...E,...R&&{"aria-selected":!0}}}return{}},[i,c]);return M.useMemo(()=>a?{reference:y,floating:w,item:S}:{},[a,y,w,S])}const[sD,Fr]=_n("ScrollArea.Root component was not found in tree");function Si(e,t){const r=vo(t);Ja(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}const oD=M.forwardRef((e,t)=>{const{style:r,...n}=e,i=Fr(),[a,c]=M.useState(0),[u,d]=M.useState(0),h=!!(a&&u);return Si(i.scrollbarX,()=>{var y;const v=((y=i.scrollbarX)==null?void 0:y.offsetHeight)||0;i.onCornerHeightChange(v),d(v)}),Si(i.scrollbarY,()=>{var y;const v=((y=i.scrollbarY)==null?void 0:y.offsetWidth)||0;i.onCornerWidthChange(v),c(v)}),h?P.jsx("div",{...n,ref:t,style:{...r,width:a,height:u}}):null}),iD=M.forwardRef((e,t)=>{const r=Fr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?P.jsx(oD,{...e,ref:t}):null}),aD={scrollHideDelay:1e3,type:"hover"},Jb=M.forwardRef((e,t)=>{const r=ie("ScrollAreaRoot",aD,e),{type:n,scrollHideDelay:i,scrollbars:a,...c}=r,[u,d]=M.useState(null),[h,v]=M.useState(null),[y,w]=M.useState(null),[S,_]=M.useState(null),[R,C]=M.useState(null),[E,b]=M.useState(0),[f,p]=M.useState(0),[m,x]=M.useState(!1),[k,L]=M.useState(!1),j=Ut(t,I=>d(I));return P.jsx(sD,{value:{type:n,scrollHideDelay:i,scrollArea:u,viewport:h,onViewportChange:v,content:y,onContentChange:w,scrollbarX:S,onScrollbarXChange:_,scrollbarXEnabled:m,onScrollbarXEnabledChange:x,scrollbarY:R,onScrollbarYChange:C,scrollbarYEnabled:k,onScrollbarYEnabledChange:L,onCornerWidthChange:b,onCornerHeightChange:p},children:P.jsx(re,{...c,ref:j,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${E}px`,"--sa-corner-height":a!=="xy"?"0px":`${f}px`}})})});Jb.displayName="@mantine/core/ScrollAreaRoot";function e0(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Ou(e){const t=e0(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function t0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function cD(e,[t,r]){return Math.min(r,Math.max(t,e))}function rS(e,t,r="ltr"){const n=Ou(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,u=a-n,d=r==="ltr"?[0,c]:[c*-1,0],h=cD(e,d);return t0([0,c],[0,u])(h)}function lD(e,t,r,n="ltr"){const i=Ou(r),a=i/2,c=t||a,u=i-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,v=r.content-r.viewport,y=n==="ltr"?[0,v]:[v*-1,0];return t0([d,h],y)(e)}function r0(e,t){return e>0&&e<t}function au(e){return e?parseInt(e,10):0}function So(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[uD,n0]=_n("ScrollAreaScrollbar was not found in tree"),s0=M.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:v,...y}=e,w=Fr(),[S,_]=M.useState(null),R=Ut(t,L=>_(L)),C=M.useRef(null),E=M.useRef(""),{viewport:b}=w,f=r.content-r.viewport,p=vo(h),m=vo(u),x=xu(v,10),k=L=>{if(C.current){const j=L.clientX-C.current.left,I=L.clientY-C.current.top;d({x:j,y:I})}};return M.useEffect(()=>{const L=j=>{const I=j.target;(S==null?void 0:S.contains(I))&&p(j,f)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,S,f,p]),M.useEffect(m,[r,m]),Si(S,x),Si(w.content,x),P.jsx(uD,{value:{scrollbar:S,hasThumb:n,onThumbChange:vo(i),onThumbPointerUp:vo(a),onThumbPositionChange:m,onThumbPointerDown:vo(c)},children:P.jsx("div",{...y,ref:R,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:So(e.onPointerDown,L=>{L.preventDefault(),L.button===0&&(L.target.setPointerCapture(L.pointerId),C.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(L))}),onPointerMove:So(e.onPointerMove,k),onPointerUp:So(e.onPointerUp,L=>{const j=L.target;j.hasPointerCapture(L.pointerId)&&(L.preventDefault(),j.releasePointerCapture(L.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=E.current,C.current=null}})})}),o0=M.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Fr(),[u,d]=M.useState(),h=M.useRef(null),v=Ut(t,h,c.onScrollbarXChange);return M.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),P.jsx(s0,{"data-orientation":"horizontal",...a,ref:v,sizes:r,style:{...i,"--sa-thumb-width":`${Ou(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollLeft+y.deltaX;e.onWheelScroll(S),r0(S,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:au(u.paddingLeft),paddingEnd:au(u.paddingRight)}})}})});o0.displayName="@mantine/core/ScrollAreaScrollbarX";const i0=M.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Fr(),[u,d]=M.useState(),h=M.useRef(null),v=Ut(t,h,c.onScrollbarYChange);return M.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),P.jsx(s0,{...a,"data-orientation":"vertical",ref:v,sizes:r,style:{"--sa-thumb-height":`${Ou(r)}px`,...i},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollTop+y.deltaY;e.onWheelScroll(S),r0(S,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:au(u.paddingTop),paddingEnd:au(u.paddingBottom)}})}})});i0.displayName="@mantine/core/ScrollAreaScrollbarY";const Nu=M.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:i}=Gs(),a=Fr(),c=M.useRef(null),u=M.useRef(0),[d,h]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=e0(d.viewport,d.content),y={...n,sizes:d,onSizesChange:h,hasThumb:v>0&&v<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:S=>{u.current=S}},w=(S,_)=>lD(S,u.current,d,_);return r==="horizontal"?P.jsx(o0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollLeft,_=rS(S,d,i);c.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollLeft=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollLeft=w(S,i))}}):r==="vertical"?P.jsx(i0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollTop,_=rS(S,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollTop=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollTop=w(S))}}):null});Nu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const bm=M.forwardRef((e,t)=>{const r=Fr(),{forceMount:n,...i}=e,[a,c]=M.useState(!1),u=e.orientation==="horizontal",d=xu(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?h:v)}},10);return Si(r.viewport,d),Si(r.content,d),n||a?P.jsx(Nu,{"data-state":a?"visible":"hidden",...i,ref:t}):null});bm.displayName="@mantine/core/ScrollAreaScrollbarAuto";const a0=M.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),[a,c]=M.useState(!1);return M.useEffect(()=>{const{scrollArea:u}=i;let d=0;if(u){const h=()=>{window.clearTimeout(d),c(!0)},v=()=>{d=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",v)}}},[i.scrollArea,i.scrollHideDelay]),r||a?P.jsx(bm,{"data-state":a?"visible":"hidden",...n,ref:t}):null});a0.displayName="@mantine/core/ScrollAreaScrollbarHover";const dD=M.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),a=e.orientation==="horizontal",[c,u]=M.useState("hidden"),d=xu(()=>u("idle"),100);return M.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay]),M.useEffect(()=>{const{viewport:h}=i,v=a?"scrollLeft":"scrollTop";if(h){let y=h[v];const w=()=>{const S=h[v];y!==S&&(u("scrolling"),d()),y=S};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,a,d]),r||c!=="hidden"?P.jsx(Nu,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:So(e.onPointerEnter,()=>u("interacting")),onPointerLeave:So(e.onPointerLeave,()=>u("idle"))}):null}),Th=M.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,u=e.orientation==="horizontal";return M.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),i.type==="hover"?P.jsx(a0,{...n,ref:t,forceMount:r}):i.type==="scroll"?P.jsx(dD,{...n,ref:t,forceMount:r}):i.type==="auto"?P.jsx(bm,{...n,ref:t,forceMount:r}):i.type==="always"?P.jsx(Nu,{...n,ref:t}):null});Th.displayName="@mantine/core/ScrollAreaScrollbar";function fD(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,u=r.top!==a.top;(c||u)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const c0=M.forwardRef((e,t)=>{const{style:r,...n}=e,i=Fr(),a=n0(),{onThumbPositionChange:c}=a,u=Ut(t,v=>a.onThumbChange(v)),d=M.useRef(void 0),h=xu(()=>{d.current&&(d.current(),d.current=void 0)},100);return M.useEffect(()=>{const{viewport:v}=i;if(v){const y=()=>{if(h(),!d.current){const w=fD(v,c);d.current=w,c()}};return c(),v.addEventListener("scroll",y),()=>v.removeEventListener("scroll",y)}},[i.viewport,h,c]),P.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:So(e.onPointerDownCapture,v=>{const w=v.target.getBoundingClientRect(),S=v.clientX-w.left,_=v.clientY-w.top;a.onThumbPointerDown({x:S,y:_})}),onPointerUp:So(e.onPointerUp,a.onThumbPointerUp)})});c0.displayName="@mantine/core/ScrollAreaThumb";const Ph=M.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=n0();return r||i.hasThumb?P.jsx(c0,{ref:t,...n}):null});Ph.displayName="@mantine/core/ScrollAreaThumb";const l0=M.forwardRef(({children:e,style:t,...r},n)=>{const i=Fr(),a=Ut(n,i.onViewportChange);return P.jsx(re,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:P.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});l0.displayName="@mantine/core/ScrollAreaViewport";var xm={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const u0={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},pD=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":te(t),"--scrollarea-over-scroll-behavior":r}}),zr=fe((e,t)=>{const r=ie("ScrollArea",u0,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,scrollbarSize:d,vars:h,type:v,scrollHideDelay:y,viewportProps:w,viewportRef:S,onScrollPositionChange:_,children:R,offsetScrollbars:C,scrollbars:E,onBottomReached:b,onTopReached:f,overscrollBehavior:p,...m}=r,[x,k]=M.useState(!1),[L,j]=M.useState(!1),[I,A]=M.useState(!1),N=Ee({name:"ScrollArea",props:r,classes:xm,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:pD}),V=M.useRef(null),W=Nk([S,V]);return M.useEffect(()=>{if(!V.current||C!=="present")return;const X=V.current,O=new ResizeObserver(()=>{const{scrollHeight:U,clientHeight:F,scrollWidth:z,clientWidth:q}=X;j(U>F),A(z>q)});return O.observe(X),()=>O.disconnect()},[V,C]),P.jsxs(Jb,{type:v==="never"?"always":v,scrollHideDelay:y,ref:t,scrollbars:E,...N("root"),...m,children:[P.jsx(l0,{...w,...N("viewport",{style:w==null?void 0:w.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":E||void 0,"data-horizontal-hidden":C==="present"&&!I?"true":void 0,"data-vertical-hidden":C==="present"&&!L?"true":void 0,onScroll:X=>{var z;(z=w==null?void 0:w.onScroll)==null||z.call(w,X),_==null||_({x:X.currentTarget.scrollLeft,y:X.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:U,clientHeight:F}=X.currentTarget;O-(U-F)>=0&&(b==null||b()),O===0&&(f==null||f())},children:R}),(E==="xy"||E==="x")&&P.jsx(Th,{...N("scrollbar"),orientation:"horizontal","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:P.jsx(Ph,{...N("thumb")})}),(E==="xy"||E==="y")&&P.jsx(Th,{...N("scrollbar"),orientation:"vertical","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:P.jsx(Ph,{...N("thumb")})}),P.jsx(iD,{...N("corner"),"data-hovered":x||void 0,"data-hidden":v==="never"||void 0})]})});zr.displayName="@mantine/core/ScrollArea";const Cm=fe((e,t)=>{const{children:r,classNames:n,styles:i,scrollbarSize:a,scrollHideDelay:c,type:u,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:_,scrollbars:R,style:C,vars:E,onBottomReached:b,onTopReached:f,...p}=ie("ScrollAreaAutosize",u0,e);return P.jsx(re,{...p,ref:t,style:[{display:"flex",overflow:"auto"},C],children:P.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1},children:P.jsx(zr,{classNames:n,styles:i,scrollHideDelay:c,scrollbarSize:a,type:u,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:_,vars:E,scrollbars:R,onBottomReached:b,onTopReached:f,children:r})})})});zr.classes=xm;Cm.displayName="@mantine/core/ScrollAreaAutosize";Cm.classes=xm;zr.Autosize=Cm;var d0={root:"m_87cf2631"};const hD={__staticSelector:"UnstyledButton"},Ks=Xt((e,t)=>{const r=ie("UnstyledButton",hD,e),{className:n,component:i="button",__staticSelector:a,unstyled:c,classNames:u,styles:d,style:h,...v}=r,y=Ee({name:a,props:r,classes:d0,className:n,style:h,classNames:u,styles:d,unstyled:c});return P.jsx(re,{...y("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...v})});Ks.classes=d0;Ks.displayName="@mantine/core/UnstyledButton";var f0={root:"m_515a97f8"};const mD={},Rm=fe((e,t)=>{const r=ie("VisuallyHidden",mD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,...h}=r,v=Ee({name:"VisuallyHidden",classes:f0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u});return P.jsx(re,{component:"span",ref:t,...v("root"),...h})});Rm.classes=f0;Rm.displayName="@mantine/core/VisuallyHidden";var p0={root:"m_1b7284a3"};const gD={},vD=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Tt(t),"--paper-shadow":em(r)}}),Au=Xt((e,t)=>{const r=ie("Paper",gD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,withBorder:d,vars:h,radius:v,shadow:y,variant:w,mod:S,..._}=r,R=Ee({name:"Paper",props:r,classes:p0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:vD});return P.jsx(re,{ref:t,mod:[{"data-with-border":d},S],...R("root"),variant:w,..._})});Au.classes=p0;Au.displayName="@mantine/core/Paper";function h0(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),i=r==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return t}function nS(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function sS(e,t,r,n,i){return e==="center"||n==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:r}:e==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const yD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function wD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,arrowX:a,arrowY:c,dir:u}){const[d,h="center"]=e.split("-"),v={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[yD[d]]:n},y=-t/2;return d==="left"?{...v,...nS(h,c,r,i),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...v,...nS(h,c,r,i),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...v,...sS(h,a,r,i,u),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...v,...sS(h,a,r,i,u),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Em=M.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,visible:a,arrowX:c,arrowY:u,style:d,...h},v)=>{const{dir:y}=Gs();return a?P.jsx("div",{...h,ref:v,style:{...d,...wD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,dir:y,arrowX:c,arrowY:u})}}):null});Em.displayName="@mantine/core/FloatingArrow";var m0={root:"m_9814e45f"};const SD={zIndex:gr("modal")},_D=(e,{gradient:t,color:r,backgroundOpacity:n,blur:i,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&Ln(r||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${te(i)})`:void 0,"--overlay-radius":a===void 0?void 0:Tt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),$u=Xt((e,t)=>{const r=ie("Overlay",SD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,fixed:h,center:v,children:y,radius:w,zIndex:S,gradient:_,blur:R,color:C,backgroundOpacity:E,mod:b,...f}=r,p=Ee({name:"Overlay",props:r,classes:m0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:_D});return P.jsx(re,{ref:t,...p("root"),mod:[{center:v,fixed:h},b],...f,children:y})});$u.classes=m0;$u.displayName="@mantine/core/Overlay";function Up(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function bD({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Up(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const i=Up(r);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return Up(r)}const xD={},g0=fe((e,t)=>{const{children:r,target:n,reuseTargetNode:i,...a}=ie("Portal",xD,e),[c,u]=M.useState(!1),d=M.useRef(null);return Ja(()=>(u(!0),d.current=bD({target:n,reuseTargetNode:i,...a}),vh(t,d.current),!n&&!i&&d.current&&document.body.appendChild(d.current),()=>{!n&&!i&&d.current&&document.body.removeChild(d.current)}),[n]),!c||!d.current?null:ku.createPortal(P.jsx(P.Fragment,{children:r}),d.current)});g0.displayName="@mantine/core/Portal";const Ro=fe(({withinPortal:e=!0,children:t,...r},n)=>Rb()==="test"||!e?P.jsx(P.Fragment,{children:t}):P.jsx(g0,{ref:n,...r,children:t}));Ro.displayName="@mantine/core/OptionalPortal";const ba=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),bl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ba("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ba("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ba("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ba("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ba("top"),common:{transformOrigin:"top right"}}},oS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function CD({transition:e,state:t,duration:r,timingFunction:n}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in bl?{transitionProperty:bl[e].transitionProperty,...i,...bl[e].common,...bl[e][oS[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[oS[t]]}}function RD({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:i,onExit:a,onEntered:c,onExited:u,enterDelay:d,exitDelay:h}){const v=nr(),y=Cu(),w=v.respectReducedMotion?y:!1,[S,_]=M.useState(w?0:e),[R,C]=M.useState(n?"entered":"exited"),E=M.useRef(-1),b=M.useRef(-1),f=M.useRef(-1),p=x=>{const k=x?i:a,L=x?c:u;window.clearTimeout(E.current);const j=w?0:x?e:t;_(j),j===0?(typeof k=="function"&&k(),typeof L=="function"&&L(),C(x?"entered":"exited")):f.current=requestAnimationFrame(()=>{ja.flushSync(()=>{C(x?"pre-entering":"pre-exiting")}),f.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),C(x?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof L=="function"&&L(),C(x?"entered":"exited")},j)})})},m=x=>{if(window.clearTimeout(b.current),typeof(x?d:h)!="number"){p(x);return}b.current=window.setTimeout(()=>{p(x)},x?d:h)};return $n(()=>{m(n)},[n]),M.useEffect(()=>()=>{window.clearTimeout(E.current),cancelAnimationFrame(f.current)},[]),{transitionDuration:S,transitionStatus:R,transitionTimingFunction:r||"ease"}}function ls({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:i,children:a,timingFunction:c="ease",onExit:u,onEntered:d,onEnter:h,onExited:v,enterDelay:y,exitDelay:w}){const S=Rb(),{transitionDuration:_,transitionStatus:R,transitionTimingFunction:C}=RD({mounted:i,exitDuration:n,duration:r,timingFunction:c,onExit:u,onEntered:d,onEnter:h,onExited:v,enterDelay:y,exitDelay:w});return _===0||S==="test"?i?P.jsx(P.Fragment,{children:a({})}):e?a({display:"none"}):null:R==="exited"?e?a({display:"none"}):null:P.jsx(P.Fragment,{children:a(CD({transition:t,duration:_,state:R,timingFunction:C}))})}ls.displayName="@mantine/core/Transition";const[ED,v0]=_n("Popover component was not found in the tree");function Fu({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const i=hT(t),a=Ut(i,n);return Hs(e)?M.cloneElement(e,{[r]:a}):e}function y0(e){return P.jsx(Rm,{tabIndex:-1,"data-autofocus":!0,...e})}Fu.displayName="@mantine/core/FocusTrap";y0.displayName="@mantine/core/FocusTrapInitialFocus";Fu.InitialFocus=y0;var w0={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const TD={},Tm=fe((e,t)=>{var C,E,b,f;const r=ie("PopoverDropdown",TD,e),{className:n,style:i,vars:a,children:c,onKeyDownCapture:u,variant:d,classNames:h,styles:v,...y}=r,w=v0(),S=yb({opened:w.opened,shouldReturnFocus:w.returnFocus}),_=w.withRoles?{"aria-labelledby":w.getTargetId(),id:w.getDropdownId(),role:"dialog",tabIndex:-1}:{},R=Ut(t,w.floating);return w.disabled?null:P.jsx(Ro,{...w.portalProps,withinPortal:w.withinPortal,children:P.jsx(ls,{mounted:w.opened,...w.transitionProps,transition:((C=w.transitionProps)==null?void 0:C.transition)||"fade",duration:((E=w.transitionProps)==null?void 0:E.duration)??150,keepMounted:w.keepMounted,exitDuration:typeof((b=w.transitionProps)==null?void 0:b.exitDuration)=="number"?w.transitionProps.exitDuration:(f=w.transitionProps)==null?void 0:f.duration,children:p=>P.jsx(Fu,{active:w.trapFocus&&w.opened,innerRef:R,children:P.jsxs(re,{..._,...y,variant:d,onKeyDownCapture:ZE(()=>{var m,x;(m=w.onClose)==null||m.call(w),(x=w.onDismiss)==null||x.call(w)},{active:w.closeOnEscape,onTrigger:S,onKeyDown:u}),"data-position":w.placement,"data-fixed":w.floatingStrategy==="fixed"||void 0,...w.getStyles("dropdown",{className:n,props:r,classNames:h,styles:v,style:[{...p,zIndex:w.zIndex,top:w.y??0,left:w.x??0,width:w.width==="target"?void 0:te(w.width)},w.resolvedStyles.dropdown,v==null?void 0:v.dropdown,i]}),children:[c,P.jsx(Em,{ref:w.arrowRef,arrowX:w.arrowX,arrowY:w.arrowY,visible:w.withArrow,position:w.placement,arrowSize:w.arrowSize,arrowRadius:w.arrowRadius,arrowOffset:w.arrowOffset,arrowPosition:w.arrowPosition,...w.getStyles("arrow",{props:r,classNames:h,styles:v})})]})})})})});Tm.classes=w0;Tm.displayName="@mantine/core/PopoverDropdown";const PD={refProp:"ref",popupType:"dialog"},S0=fe((e,t)=>{const{children:r,refProp:n,popupType:i,...a}=ie("PopoverTarget",PD,e);if(!Hs(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,u=v0(),d=Ut(u.reference,Ru(r),t),h=u.withRoles?{"aria-haspopup":i,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return M.cloneElement(r,{...c,...h,...u.targetProps,className:Bt(u.targetProps.className,c.className,r.props.className),[n]:d,...u.controlled?null:{onClick:u.onToggle}})});S0.displayName="@mantine/core/PopoverTarget";function _0({opened:e,floating:t,position:r,positionDependencies:n}){const[i,a]=M.useState(0);M.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Rk(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,r]),$n(()=>{t.update()},n),$n(()=>{a(c=>c+1)},[e])}function kD(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function DD(e,t){const r=kD(e.middlewares),n=[Kb(e.offset)];return r.shift&&n.push(vm(typeof r.shift=="boolean"?{limiter:Yw(),padding:5}:{limiter:Yw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?iu():iu(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Ba():Ba(r.inline)),n.push(Yb({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(Ok({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:c,...u}){var v;const h=((v=t().refs.floating.current)==null?void 0:v.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:c,...u}):Object.assign(h,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(h,{width:`${i.reference.width}px`})}})),n}function MD(e){const[t,r]=ns({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=M.useRef(t),i=()=>{t&&r(!1)},a=()=>r(!t),c=_m({strategy:e.strategy,placement:e.position,middleware:DD(e,()=>c)});return _0({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),$n(()=>{var u;(u=e.onPositionChange)==null||u.call(e,c.placement)},[c.placement]),$n(()=>{var u,d;t!==n.current&&(t?(d=e.onOpen)==null||d.call(e):(u=e.onClose)==null||u.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:a}}const LD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:gr("popover"),__staticSelector:"Popover",width:"max-content"},ID=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Tt(t),"--popover-shadow":em(r)}});function bn(e){var jt,Te,Pe,ye,Ie,gt;const t=ie("Popover",LD,e),{children:r,position:n,offset:i,onPositionChange:a,positionDependencies:c,opened:u,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:v,width:y,middlewares:w,withArrow:S,arrowSize:_,arrowOffset:R,arrowRadius:C,arrowPosition:E,unstyled:b,classNames:f,styles:p,closeOnClickOutside:m,withinPortal:x,portalProps:k,closeOnEscape:L,clickOutsideEvents:j,trapFocus:I,onClose:A,onDismiss:N,onOpen:V,onChange:W,zIndex:X,radius:O,shadow:U,id:F,defaultOpened:z,__staticSelector:q,withRoles:B,disabled:Y,returnFocus:ae,variant:de,keepMounted:ee,vars:oe,floatingStrategy:ue,withOverlay:me,overlayProps:he,...Ce}=t,ke=Ee({name:q,props:t,classes:w0,classNames:f,styles:p,unstyled:b,rootSelector:"dropdown",vars:oe,varsResolver:ID}),{resolvedStyles:mt}=ec({classNames:f,styles:p,props:t}),ot=M.useRef(null),[Be,Qe]=M.useState(null),[Ze,qe]=M.useState(null),{dir:Ct}=Gs(),pt=Ws(F),Ue=MD({middlewares:w,width:y,position:h0(Ct,n),offset:typeof i=="number"?i+(S?_/2:0):i,arrowRef:ot,arrowOffset:R,onPositionChange:a,positionDependencies:c,opened:u,defaultOpened:z,onChange:W,onOpen:V,onClose:A,onDismiss:N,strategy:ue});oT(()=>{m&&(Ue.onClose(),N==null||N())},j,[Be,Ze]);const Ne=M.useCallback($e=>{Qe($e),Ue.floating.refs.setReference($e)},[Ue.floating.refs.setReference]),it=M.useCallback($e=>{qe($e),Ue.floating.refs.setFloating($e)},[Ue.floating.refs.setFloating]),kt=M.useCallback(()=>{var $e;($e=d==null?void 0:d.onExited)==null||$e.call(d),h==null||h()},[d==null?void 0:d.onExited,h]),at=M.useCallback(()=>{var $e;($e=d==null?void 0:d.onEntered)==null||$e.call(d),v==null||v()},[d==null?void 0:d.onEntered,v]);return P.jsxs(ED,{value:{returnFocus:ae,disabled:Y,controlled:Ue.controlled,reference:Ne,floating:it,x:Ue.floating.x,y:Ue.floating.y,arrowX:(Pe=(Te=(jt=Ue.floating)==null?void 0:jt.middlewareData)==null?void 0:Te.arrow)==null?void 0:Pe.x,arrowY:(gt=(Ie=(ye=Ue.floating)==null?void 0:ye.middlewareData)==null?void 0:Ie.arrow)==null?void 0:gt.y,opened:Ue.opened,arrowRef:ot,transitionProps:{...d,onExited:kt,onEntered:at},width:y,withArrow:S,arrowSize:_,arrowOffset:R,arrowRadius:C,arrowPosition:E,placement:Ue.floating.placement,trapFocus:I,withinPortal:x,portalProps:k,zIndex:X,radius:O,shadow:U,closeOnEscape:L,onDismiss:N,onClose:Ue.onClose,onToggle:Ue.onToggle,getTargetId:()=>`${pt}-target`,getDropdownId:()=>`${pt}-dropdown`,withRoles:B,targetProps:Ce,__staticSelector:q,classNames:f,styles:p,unstyled:b,variant:de,keepMounted:ee,getStyles:ke,resolvedStyles:mt,floatingStrategy:ue},children:[r,me&&P.jsx(ls,{transition:"fade",mounted:Ue.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:$e=>P.jsx(Ro,{withinPortal:x,children:P.jsx($u,{...he,...ke("overlay",{className:he==null?void 0:he.className,style:[$e,he==null?void 0:he.style]})})})})]})}bn.Target=S0;bn.Dropdown=Tm;bn.displayName="@mantine/core/Popover";bn.extend=e=>e;var gn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const b0=M.forwardRef(({className:e,...t},r)=>P.jsxs(re,{component:"span",className:Bt(gn.barsLoader,e),...t,ref:r,children:[P.jsx("span",{className:gn.bar}),P.jsx("span",{className:gn.bar}),P.jsx("span",{className:gn.bar})]}));b0.displayName="@mantine/core/Bars";const x0=M.forwardRef(({className:e,...t},r)=>P.jsxs(re,{component:"span",className:Bt(gn.dotsLoader,e),...t,ref:r,children:[P.jsx("span",{className:gn.dot}),P.jsx("span",{className:gn.dot}),P.jsx("span",{className:gn.dot})]}));x0.displayName="@mantine/core/Dots";const C0=M.forwardRef(({className:e,...t},r)=>P.jsx(re,{component:"span",className:Bt(gn.ovalLoader,e),...t,ref:r}));C0.displayName="@mantine/core/Oval";const R0={bars:b0,oval:C0,dots:x0},jD={loaders:R0,type:"oval"},OD=(e,{size:t,color:r})=>({root:{"--loader-size":We(t,"loader-size"),"--loader-color":r?hr(r,e):void 0}}),Pi=fe((e,t)=>{const r=ie("Loader",jD,e),{size:n,color:i,type:a,vars:c,className:u,style:d,classNames:h,styles:v,unstyled:y,loaders:w,variant:S,children:_,...R}=r,C=Ee({name:"Loader",props:r,classes:gn,className:u,style:d,classNames:h,styles:v,unstyled:y,vars:c,varsResolver:OD});return _?P.jsx(re,{...C("root"),ref:t,...R,children:_}):P.jsx(re,{...C("root"),ref:t,component:w[a],variant:S,size:n,...R})});Pi.defaultLoaders=R0;Pi.classes=gn;Pi.displayName="@mantine/core/Loader";var ki={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const iS={orientation:"horizontal"},ND=(e,{borderWidth:t})=>({group:{"--ai-border-width":te(t)}}),Pm=fe((e,t)=>{const r=ie("ActionIconGroup",iS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,orientation:d,vars:h,borderWidth:v,variant:y,mod:w,...S}=ie("ActionIconGroup",iS,e),_=Ee({name:"ActionIconGroup",props:r,classes:ki,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:ND,rootSelector:"group"});return P.jsx(re,{..._("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});Pm.classes=ki;Pm.displayName="@mantine/core/ActionIconGroup";const aS={},AD=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":We(c,"section-height"),"--section-padding-x":We(c,"section-padding-x"),"--section-fz":rr(c),"--section-radius":t===void 0?void 0:Tt(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},km=fe((e,t)=>{const r=ie("ActionIconGroupSection",aS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,variant:h,gradient:v,radius:y,autoContrast:w,...S}=ie("ActionIconGroupSection",aS,e),_=Ee({name:"ActionIconGroupSection",props:r,classes:ki,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,varsResolver:AD,rootSelector:"groupSection"});return P.jsx(re,{..._("groupSection"),ref:t,variant:h,...S})});km.classes=ki;km.displayName="@mantine/core/ActionIconGroupSection";const $D={},FD=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c})=>{const u=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":We(t,"ai-size"),"--ai-radius":r===void 0?void 0:Tt(r),"--ai-bg":a||n?u.background:void 0,"--ai-hover":a||n?u.hover:void 0,"--ai-hover-color":a||n?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":a||n?u.border:void 0}}},nt=Xt((e,t)=>{const r=ie("ActionIcon",$D,e),{className:n,unstyled:i,variant:a,classNames:c,styles:u,style:d,loading:h,loaderProps:v,size:y,color:w,radius:S,__staticSelector:_,gradient:R,vars:C,children:E,disabled:b,"data-disabled":f,autoContrast:p,mod:m,...x}=r,k=Ee({name:["ActionIcon",_],props:r,className:n,style:d,classes:ki,classNames:c,styles:u,unstyled:i,vars:C,varsResolver:FD});return P.jsxs(Ks,{...k("root",{active:!b&&!h&&!f}),...x,unstyled:i,variant:a,size:y,disabled:b||h,ref:t,mod:[{loading:h,disabled:b||f},m],children:[P.jsx(ls,{mounted:!!h,transition:"slide-down",duration:150,children:L=>P.jsx(re,{component:"span",...k("loader",{style:L}),"aria-hidden":!0,children:P.jsx(Pi,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...v})})}),P.jsx(re,{component:"span",mod:{loading:h},...k("icon"),children:E})]})});nt.classes=ki;nt.displayName="@mantine/core/ActionIcon";nt.Group=Pm;nt.GroupSection=km;const E0=M.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:P.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));E0.displayName="@mantine/core/CloseIcon";var T0={root:"m_86a44da5","root--subtle":"m_220c80f2"};const zD={variant:"subtle"},BD=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":We(t,"cb-size"),"--cb-radius":r===void 0?void 0:Tt(r),"--cb-icon-size":te(n)}}),rc=Xt((e,t)=>{const r=ie("CloseButton",zD,e),{iconSize:n,children:i,vars:a,radius:c,className:u,classNames:d,style:h,styles:v,unstyled:y,"data-disabled":w,disabled:S,variant:_,icon:R,mod:C,__staticSelector:E,...b}=r,f=Ee({name:E||"CloseButton",props:r,className:u,style:h,classes:T0,classNames:d,styles:v,unstyled:y,vars:a,varsResolver:BD});return P.jsxs(Ks,{ref:t,...b,unstyled:y,variant:_,disabled:S,mod:[{disabled:S||w},C],...f("root",{variant:_,active:!S&&!w}),children:[R||P.jsx(E0,{}),i]})});rc.classes=T0;rc.displayName="@mantine/core/CloseButton";function UD(e){return M.Children.toArray(e).filter(Boolean)}var P0={root:"m_4081bf90"};const VD={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},HD=(e,{grow:t,preventGrowOverflow:r,gap:n,align:i,justify:a,wrap:c},{childWidth:u})=>({root:{"--group-child-width":t&&r?u:void 0,"--group-gap":tr(n),"--group-align":i,"--group-justify":a,"--group-wrap":c}}),st=fe((e,t)=>{const r=ie("Group",VD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,children:d,gap:h,align:v,justify:y,wrap:w,grow:S,preventGrowOverflow:_,vars:R,variant:C,__size:E,mod:b,...f}=r,p=UD(d),m=p.length,x=tr(h??"md"),L={childWidth:`calc(${100/m}% - (${x} - ${x} / ${m}))`},j=Ee({name:"Group",props:r,stylesCtx:L,className:i,style:a,classes:P0,classNames:n,styles:c,unstyled:u,vars:R,varsResolver:HD});return P.jsx(re,{...j("root"),ref:t,variant:C,mod:[{grow:S},b],size:E,...f,children:p})});st.classes=P0;st.displayName="@mantine/core/Group";const[WD,us]=_n("ModalBase component was not found in tree");function qD({opened:e,transitionDuration:t}){const[r,n]=M.useState(e),i=M.useRef(-1),c=Cu()?0:t;return M.useEffect(()=>(e?(n(!0),window.clearTimeout(i.current)):c===0?n(!1):i.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(i.current)),[e,c]),r}function GD({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:i,onClose:a,returnFocus:c}){const u=Ws(e),[d,h]=M.useState(!1),[v,y]=M.useState(!1),w=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=qD({opened:r,transitionDuration:w});return wT("keydown",_=>{var R;_.key==="Escape"&&i&&r&&((R=_.target)==null?void 0:R.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),yb({opened:r,shouldReturnFocus:n&&c}),{_id:u,titleMounted:d,bodyMounted:v,shouldLockScroll:S,setTitleMounted:h,setBodyMounted:y}}const Dm=M.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:u,closeOnEscape:d,returnFocus:h,closeOnClickOutside:v,withinPortal:y,portalProps:w,lockScroll:S,children:_,zIndex:R,shadow:C,padding:E,__vars:b,unstyled:f,removeScrollProps:p,...m},x)=>{const{_id:k,titleMounted:L,bodyMounted:j,shouldLockScroll:I,setTitleMounted:A,setBodyMounted:N}=GD({id:n,transitionProps:i,opened:t,trapFocus:u,closeOnEscape:d,onClose:r,returnFocus:h}),{key:V,...W}=p||{};return P.jsx(Ro,{...w,withinPortal:y,children:P.jsx(WD,{value:{opened:t,onClose:r,closeOnClickOutside:v,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:L,bodyMounted:j,setTitleMounted:A,setBodyMounted:N,trapFocus:u,closeOnEscape:d,zIndex:R,unstyled:f},children:P.jsx(eu,{enabled:I&&S,...W,children:P.jsx(re,{ref:x,...m,__vars:{...b,"--mb-z-index":(R||gr("modal")).toString(),"--mb-shadow":em(C),"--mb-padding":tr(E)},children:_})},V)})})});Dm.displayName="@mantine/core/ModalBase";function KD(){const e=us();return M.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var _i={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Mm=M.forwardRef(({className:e,...t},r)=>{const n=KD(),i=us();return P.jsx(re,{ref:r,...t,id:n,className:Bt({[_i.body]:!i.unstyled},e)})});Mm.displayName="@mantine/core/ModalBaseBody";const Lm=M.forwardRef(({className:e,onClick:t,...r},n)=>{const i=us();return P.jsx(rc,{ref:n,...r,onClick:a=>{i.onClose(),t==null||t(a)},className:Bt({[_i.close]:!i.unstyled},e),unstyled:i.unstyled})});Lm.displayName="@mantine/core/ModalBaseCloseButton";const Im=M.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:i,...a},c)=>{const u=us();return P.jsx(ls,{mounted:u.opened,transition:"pop",...u.transitionProps,onExited:()=>{var d,h,v;(d=u.onExitTransitionEnd)==null||d.call(u),(v=(h=u.transitionProps)==null?void 0:h.onExited)==null||v.call(h)},onEntered:()=>{var d,h,v;(d=u.onEnterTransitionEnd)==null||d.call(u),(v=(h=u.transitionProps)==null?void 0:h.onEntered)==null||v.call(h)},...e,children:d=>P.jsx("div",{...r,className:Bt({[_i.inner]:!u.unstyled},r.className),children:P.jsx(Fu,{active:u.opened&&u.trapFocus,innerRef:c,children:P.jsx(Au,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":u.bodyMounted?u.getBodyId():void 0,"aria-labelledby":u.titleMounted?u.getTitleId():void 0,style:[i,d],className:Bt({[_i.content]:!u.unstyled},t),unstyled:u.unstyled,children:a.children})})})})});Im.displayName="@mantine/core/ModalBaseContent";const jm=M.forwardRef(({className:e,...t},r)=>{const n=us();return P.jsx(re,{component:"header",ref:r,className:Bt({[_i.header]:!n.unstyled},e),...t})});jm.displayName="@mantine/core/ModalBaseHeader";const YD={duration:200,timingFunction:"ease",transition:"fade"};function XD(e){const t=us();return{...YD,...t.transitionProps,...e}}const Om=M.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...i},a)=>{const c=us(),u=XD(t);return P.jsx(ls,{mounted:n!==void 0?n:c.opened,...u,transition:"fade",children:d=>P.jsx($u,{ref:a,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:h=>{e==null||e(h),c.closeOnClickOutside&&c.onClose()},...i})})});Om.displayName="@mantine/core/ModalBaseOverlay";function QD(){const e=us();return M.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Nm=M.forwardRef(({className:e,...t},r)=>{const n=QD(),i=us();return P.jsx(re,{component:"h2",ref:r,className:Bt({[_i.title]:!i.unstyled},e),...t,id:n})});Nm.displayName="@mantine/core/ModalBaseTitle";function k0({children:e}){return P.jsx(P.Fragment,{children:e})}const[ZD,JD]=bu({size:"sm"}),eM={},D0=fe((e,t)=>{const r=ie("InputClearButton",eM,e),{size:n,variant:i,vars:a,classNames:c,styles:u,...d}=r,h=JD(),{resolvedClassNames:v,resolvedStyles:y}=ec({classNames:c,styles:u,props:r});return P.jsx(rc,{variant:i||"transparent",ref:t,size:n||(h==null?void 0:h.size)||"sm",classNames:v,styles:y,__staticSelector:"InputClearButton",...d})});D0.displayName="@mantine/core/InputClearButton";const[tM,zu]=bu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Br={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const cS={},rM=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${rr(t)} - ${te(2)})`}}),Bu=fe((e,t)=>{const r=ie("InputDescription",cS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=ie("InputDescription",cS,r),_=zu(),R=Ee({name:["InputWrapper",v],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"description",vars:d,varsResolver:rM}),C=y&&(_==null?void 0:_.getStyles)||R;return P.jsx(re,{component:"p",ref:t,variant:w,size:h,...C("description",_!=null&&_.getStyles?{className:i,style:a}:void 0),...S})});Bu.classes=Br;Bu.displayName="@mantine/core/InputDescription";const nM={},sM=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${rr(t)} - ${te(2)})`}}),Uu=fe((e,t)=>{const r=ie("InputError",nM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=r,_=Ee({name:["InputWrapper",v],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"error",vars:d,varsResolver:sM}),R=zu(),C=y&&(R==null?void 0:R.getStyles)||_;return P.jsx(re,{component:"p",ref:t,variant:w,size:h,...C("error",R!=null&&R.getStyles?{className:i,style:a}:void 0),...S})});Uu.classes=Br;Uu.displayName="@mantine/core/InputError";const lS={labelElement:"label"},oM=(e,{size:t})=>({label:{"--input-label-size":rr(t),"--input-asterisk-color":void 0}}),Vu=fe((e,t)=>{const r=ie("InputLabel",lS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,labelElement:h,size:v,required:y,htmlFor:w,onMouseDown:S,children:_,__staticSelector:R,variant:C,mod:E,...b}=ie("InputLabel",lS,r),f=Ee({name:["InputWrapper",R],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"label",vars:d,varsResolver:oM}),p=zu(),m=(p==null?void 0:p.getStyles)||f;return P.jsxs(re,{...m("label",p!=null&&p.getStyles?{className:i,style:a}:void 0),component:h,variant:C,size:v,ref:t,htmlFor:h==="label"?w:void 0,mod:[{required:y},E],onMouseDown:x=>{S==null||S(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},...b,children:[_,y&&P.jsx("span",{...m("required"),"aria-hidden":!0,children:" *"})]})});Vu.classes=Br;Vu.displayName="@mantine/core/InputLabel";const uS={},Am=fe((e,t)=>{const r=ie("InputPlaceholder",uS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,__staticSelector:h,variant:v,error:y,mod:w,...S}=ie("InputPlaceholder",uS,r),_=Ee({name:["InputPlaceholder",h],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"placeholder"});return P.jsx(re,{..._("placeholder"),mod:[{error:!!y},w],component:"span",variant:v,ref:t,...S})});Am.classes=Br;Am.displayName="@mantine/core/InputPlaceholder";function iM(e,{hasDescription:t,hasError:r}){const n=e.findIndex(d=>d==="input"),i=e.slice(0,n),a=e.slice(n+1),c=t&&i.includes("description")||r&&i.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const aM={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},cM=(e,{size:t})=>({label:{"--input-label-size":rr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${rr(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${rr(t)} - ${te(2)})`}}),$m=fe((e,t)=>{const r=ie("InputWrapper",aM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,variant:v,__staticSelector:y,inputContainer:w,inputWrapperOrder:S,label:_,error:R,description:C,labelProps:E,descriptionProps:b,errorProps:f,labelElement:p,children:m,withAsterisk:x,id:k,required:L,__stylesApiProps:j,mod:I,...A}=r,N=Ee({name:["InputWrapper",y],props:j||r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:cM}),V={size:h,variant:v,__staticSelector:y},W=Ws(k),X=typeof x=="boolean"?x:L,O=(f==null?void 0:f.id)||`${W}-error`,U=(b==null?void 0:b.id)||`${W}-description`,F=W,z=!!R&&typeof R!="boolean",q=!!C,B=`${z?O:""} ${q?U:""}`,Y=B.trim().length>0?B.trim():void 0,ae=(E==null?void 0:E.id)||`${W}-label`,de=_&&P.jsx(Vu,{labelElement:p,id:ae,htmlFor:F,required:X,...V,...E,children:_},"label"),ee=q&&P.jsx(Bu,{...b,...V,size:(b==null?void 0:b.size)||V.size,id:(b==null?void 0:b.id)||U,children:C},"description"),oe=P.jsx(M.Fragment,{children:w(m)},"input"),ue=z&&M.createElement(Uu,{...f,...V,size:(f==null?void 0:f.size)||V.size,key:"error",id:(f==null?void 0:f.id)||O},R),me=S.map(he=>{switch(he){case"label":return de;case"input":return oe;case"description":return ee;case"error":return ue;default:return null}});return P.jsx(tM,{value:{getStyles:N,describedBy:Y,inputId:F,labelId:ae,...iM(S,{hasDescription:q,hasError:z})},children:P.jsx(re,{ref:t,variant:v,size:h,mod:[{error:!!R},I],...N("root"),...A,children:me})})});$m.classes=Br;$m.displayName="@mantine/core/InputWrapper";const lM={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},uM=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":We(t.size,"input-height"),"--input-fz":rr(t.size),"--input-radius":t.radius===void 0?void 0:Tt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?We(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Yt=Xt((e,t)=>{const r=ie("Input",lM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,required:d,__staticSelector:h,__stylesApiProps:v,size:y,wrapperProps:w,error:S,disabled:_,leftSection:R,leftSectionProps:C,leftSectionWidth:E,rightSection:b,rightSectionProps:f,rightSectionWidth:p,rightSectionPointerEvents:m,leftSectionPointerEvents:x,variant:k,vars:L,pointer:j,multiline:I,radius:A,id:N,withAria:V,withErrorStyles:W,mod:X,inputSize:O,__clearSection:U,__clearable:F,__defaultRightSection:z,...q}=r,{styleProps:B,rest:Y}=Pu(q),ae=zu(),de={offsetBottom:ae==null?void 0:ae.offsetBottom,offsetTop:ae==null?void 0:ae.offsetTop},ee=Ee({name:["Input",h],props:v||r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,stylesCtx:de,rootSelector:"wrapper",vars:L,varsResolver:uM}),oe=V?{required:d,disabled:_,"aria-invalid":!!S,"aria-describedby":ae==null?void 0:ae.describedBy,id:(ae==null?void 0:ae.inputId)||N}:{},ue=b||F&&U||z;return P.jsx(ZD,{value:{size:y||"sm"},children:P.jsxs(re,{...ee("wrapper"),...B,...w,mod:[{error:!!S&&W,pointer:j,disabled:_,multiline:I,"data-with-right-section":!!ue,"data-with-left-section":!!R},X],variant:k,size:y,children:[R&&P.jsx("div",{...C,"data-position":"left",...ee("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:R}),P.jsx(re,{component:"input",...Y,...oe,ref:t,required:d,mod:{disabled:_,error:!!S&&W},variant:k,__size:O,...ee("input")}),ue&&P.jsx("div",{...f,"data-position":"right",...ee("section",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),children:ue})]})})});Yt.classes=Br;Yt.Wrapper=$m;Yt.Label=Vu;Yt.Error=Uu;Yt.Description=Bu;Yt.Placeholder=Am;Yt.ClearButton=D0;Yt.displayName="@mantine/core/Input";function dM(e,t,r){const n=ie(e,t,r),{label:i,description:a,error:c,required:u,classNames:d,styles:h,className:v,unstyled:y,__staticSelector:w,__stylesApiProps:S,errorProps:_,labelProps:R,descriptionProps:C,wrapperProps:E,id:b,size:f,style:p,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:L,vars:j,mod:I,...A}=n,{styleProps:N,rest:V}=Pu(A),W={label:i,description:a,error:c,required:u,classNames:d,className:v,__staticSelector:w,__stylesApiProps:S||n,errorProps:_,labelProps:R,descriptionProps:C,unstyled:y,styles:h,size:f,style:p,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:L,id:b,mod:I,...E};return{...V,classNames:d,styles:h,unstyled:y,wrapperProps:{...W,...N},inputProps:{required:u,classNames:d,styles:h,unstyled:y,size:f,__staticSelector:w,__stylesApiProps:S||n,error:c,variant:L,id:b}}}const fM={__staticSelector:"InputBase",withAria:!0},ds=Xt((e,t)=>{const{inputProps:r,wrapperProps:n,...i}=dM("InputBase",fM,e);return P.jsx(Yt.Wrapper,{...n,children:P.jsx(Yt,{...r,...i,ref:t})})});ds.classes={...Yt.classes,...Yt.Wrapper.classes};ds.displayName="@mantine/core/InputBase";const pM={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var M0={root:"m_8bffd616"};const hM={},wn=Xt((e,t)=>{const r=ie("Flex",hM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,gap:h,rowGap:v,columnGap:y,align:w,justify:S,wrap:_,direction:R,...C}=r,E=Ee({name:"Flex",classes:M0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d}),b=nr(),f=am(),p=Mb({styleProps:{gap:h,rowGap:v,columnGap:y,align:w,justify:S,wrap:_,direction:R},theme:b,data:pM});return P.jsxs(P.Fragment,{children:[p.hasResponsiveStyles&&P.jsx(Tu,{selector:`.${f}`,styles:p.styles,media:p.media}),P.jsx(re,{ref:t,...E("root",{className:f,style:Ci(p.inlineStyles)}),...C})]})});wn.classes=M0;wn.displayName="@mantine/core/Flex";function L0({style:e,size:t=16,...r}){return P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:te(t),height:te(t),display:"block"},...r,children:P.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}L0.displayName="@mantine/core/AccordionChevron";var I0={root:"m_b6d8b162"};function mM(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const gM={inherit:!1},vM=(e,{variant:t,lineClamp:r,gradient:n,size:i,color:a})=>({root:{"--text-fz":rr(i),"--text-lh":JE(i),"--text-gradient":t==="gradient"?yh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?hr(a,e):void 0}}),Ye=Xt((e,t)=>{const r=ie("Text",gM,e),{lineClamp:n,truncate:i,inline:a,inherit:c,gradient:u,span:d,__staticSelector:h,vars:v,className:y,style:w,classNames:S,styles:_,unstyled:R,variant:C,mod:E,size:b,...f}=r,p=Ee({name:["Text",h],props:r,classes:I0,className:y,style:w,classNames:S,styles:_,unstyled:R,vars:v,varsResolver:vM});return P.jsx(re,{...p("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:C,mod:[{"data-truncate":mM(i),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},E],size:b,...f})});Ye.classes=I0;Ye.displayName="@mantine/core/Text";function j0(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>j0(t))}:e}function yM(e){return e?e.map(t=>j0(t)):[]}function O0(e){return e.reduce((t,r)=>"group"in r?{...t,...O0(r.items)}:(t[r.value]=r,t),{})}var mr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const wM={error:null},SM=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":We(t,"combobox-chevron-size"),"--combobox-chevron-color":r?hr(r,e):void 0}}),Fm=fe((e,t)=>{const r=ie("ComboboxChevron",wM,e),{size:n,error:i,style:a,className:c,classNames:u,styles:d,unstyled:h,vars:v,mod:y,...w}=r,S=Ee({name:"ComboboxChevron",classes:mr,props:r,style:a,className:c,classNames:u,styles:d,unstyled:h,vars:v,varsResolver:SM,rootSelector:"chevron"});return P.jsx(re,{component:"svg",...w,...S("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},y],ref:t,children:P.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Fm.classes=mr;Fm.displayName="@mantine/core/ComboboxChevron";const[_M,Ur]=_n("Combobox component was not found in tree"),N0=M.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...i},a)=>P.jsx(Yt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));N0.displayName="@mantine/core/ComboboxClearButton";const bM={},zm=fe((e,t)=>{const{classNames:r,styles:n,className:i,style:a,hidden:c,...u}=ie("ComboboxDropdown",bM,e),d=Ur();return P.jsx(bn.Dropdown,{...u,ref:t,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:i,style:a,classNames:r,styles:n})})});zm.classes=mr;zm.displayName="@mantine/core/ComboboxDropdown";const xM={refProp:"ref"},A0=fe((e,t)=>{const{children:r,refProp:n}=ie("ComboboxDropdownTarget",xM,e);if(Ur(),!Hs(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return P.jsx(bn.Target,{ref:t,refProp:n,children:r})});A0.displayName="@mantine/core/ComboboxDropdownTarget";const CM={},Bm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxEmpty",CM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("empty",{className:n,classNames:r,styles:a,style:i}),...u})});Bm.classes=mr;Bm.displayName="@mantine/core/ComboboxEmpty";function Um({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:i,autoComplete:a}){const c=Ur(),[u,d]=M.useState(null),h=y=>{if(e==null||e(y),!c.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const w=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&w!==-1?(y.preventDefault(),c.store.clickSelectedOption()):i==="button"&&(y.preventDefault(),c.store.openDropdown("keyboard"))}y.key==="Escape"&&c.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&i==="button"&&(y.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&u||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:h}}const RM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},$0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:d,...h}=ie("ComboboxEventsTarget",RM,e);if(!Hs(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Ur(),y=Um({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d});return M.cloneElement(r,{...y,...h,[n]:Ut(t,v.store.targetRef,Ru(r))})});$0.displayName="@mantine/core/ComboboxEventsTarget";const EM={},Vm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxFooter",EM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("footer",{className:n,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});Vm.classes=mr;Vm.displayName="@mantine/core/ComboboxFooter";const TM={},Hm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,children:u,label:d,...h}=ie("ComboboxGroup",TM,e),v=Ur();return P.jsxs(re,{ref:t,...v.getStyles("group",{className:n,classNames:r,style:i,styles:a}),...h,children:[d&&P.jsx("div",{...v.getStyles("groupLabel",{classNames:r,styles:a}),children:d}),u]})});Hm.classes=mr;Hm.displayName="@mantine/core/ComboboxGroup";const PM={},Wm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxHeader",PM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("header",{className:n,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});Wm.classes=mr;Wm.displayName="@mantine/core/ComboboxHeader";function F0({value:e,valuesDivider:t=",",...r}){return P.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}F0.displayName="@mantine/core/ComboboxHiddenInput";const kM={},qm=fe((e,t)=>{const r=ie("ComboboxOption",kM,e),{classNames:n,className:i,style:a,styles:c,vars:u,onClick:d,id:h,active:v,onMouseDown:y,onMouseOver:w,disabled:S,selected:_,mod:R,...C}=r,E=Ur(),b=M.useId(),f=h||b;return P.jsx(re,{...E.getStyles("option",{className:i,classNames:n,styles:c,style:a}),...C,ref:t,id:f,mod:["combobox-option",{"combobox-active":v,"combobox-disabled":S,"combobox-selected":_},R],role:"option",onClick:p=>{var m;S?p.preventDefault():((m=E.onOptionSubmit)==null||m.call(E,r.value,r),d==null||d(p))},onMouseDown:p=>{p.preventDefault(),y==null||y(p)},onMouseOver:p=>{E.resetSelectionOnOptionHover&&E.store.resetSelectedOption(),w==null||w(p)}})});qm.classes=mr;qm.displayName="@mantine/core/ComboboxOption";const DM={},Gm=fe((e,t)=>{const r=ie("ComboboxOptions",DM,e),{classNames:n,className:i,style:a,styles:c,id:u,onMouseDown:d,labelledBy:h,...v}=r,y=Ur(),w=Ws(u);return M.useEffect(()=>{y.store.setListId(w)},[w]),P.jsx(re,{ref:t,...y.getStyles("options",{className:i,style:a,classNames:n,styles:c}),...v,id:w,role:"listbox","aria-labelledby":h,onMouseDown:S=>{S.preventDefault(),d==null||d(S)}})});Gm.classes=mr;Gm.displayName="@mantine/core/ComboboxOptions";const MM={withAriaAttributes:!0,withKeyboardNavigation:!0},Km=fe((e,t)=>{const r=ie("ComboboxSearch",MM,e),{classNames:n,styles:i,unstyled:a,vars:c,withAriaAttributes:u,onKeyDown:d,withKeyboardNavigation:h,size:v,...y}=r,w=Ur(),S=w.getStyles("search"),_=Um({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return P.jsx(Yt,{ref:Ut(t,w.store.searchRef),classNames:[{input:S.className},n],styles:[{input:S.style},i],size:v||w.size,..._,...y,__staticSelector:"Combobox"})});Km.classes=mr;Km.displayName="@mantine/core/ComboboxSearch";const LM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},z0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:d,...h}=ie("ComboboxTarget",LM,e);if(!Hs(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Ur(),y=Um({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d}),w=M.cloneElement(r,{...y,...h});return P.jsx(bn.Target,{ref:Ut(t,v.store.targetRef),children:w})});z0.displayName="@mantine/core/ComboboxTarget";function IM(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function jM(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function OM(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function B0({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:i,loop:a=!0,scrollBehavior:c="instant"}={}){const[u,d]=ns({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=M.useRef(null),v=M.useRef(-1),y=M.useRef(null),w=M.useRef(null),S=M.useRef(-1),_=M.useRef(-1),R=M.useRef(-1),C=M.useCallback((O="unknown")=>{u||(d(!0),i==null||i(O))},[d,i,u]),E=M.useCallback((O="unknown")=>{u&&(d(!1),n==null||n(O))},[d,n,u]),b=M.useCallback((O="unknown")=>{u?E(O):C(O)},[E,C,u]),f=M.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),p=M.useCallback(O=>{const U=document.getElementById(h.current),F=U==null?void 0:U.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=O>=F.length?0:O<0?F.length-1:O;return v.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(f(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:c}),F[z].id):null},[c,f]),m=M.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-active]`);if(O){const U=document.querySelectorAll(`#${h.current} [data-combobox-option]`),F=Array.from(U).findIndex(z=>z===O);return p(F)}return p(0)},[p]),x=M.useCallback(()=>p(jM(v.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[p,a]),k=M.useCallback(()=>p(IM(v.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[p,a]),L=M.useCallback(()=>p(OM(document.querySelectorAll(`#${h.current} [data-combobox-option]`))),[p]),j=M.useCallback((O="selected",U)=>{R.current=window.setTimeout(()=>{var q;const F=document.querySelectorAll(`#${h.current} [data-combobox-option]`),z=Array.from(F).findIndex(B=>B.hasAttribute(`data-combobox-${O}`));v.current=z,U!=null&&U.scrollIntoView&&((q=F[z])==null||q.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),I=M.useCallback(()=>{v.current=-1,f()},[f]),A=M.useCallback(()=>{const O=document.querySelectorAll(`#${h.current} [data-combobox-option]`),U=O==null?void 0:O[v.current];U==null||U.click()},[]),N=M.useCallback(O=>{h.current=O},[]),V=M.useCallback(()=>{S.current=window.setTimeout(()=>y.current.focus(),0)},[]),W=M.useCallback(()=>{_.current=window.setTimeout(()=>w.current.focus(),0)},[]),X=M.useCallback(()=>v.current,[]);return M.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(_.current),window.clearTimeout(R.current)},[]),{dropdownOpened:u,openDropdown:C,closeDropdown:E,toggleDropdown:b,selectedOptionIndex:v.current,getSelectedOptionIndex:X,selectOption:p,selectFirstOption:L,selectActiveOption:m,selectNextOption:x,selectPreviousOption:k,resetSelectedOption:I,updateSelectedOptionIndex:j,listId:h.current,setListId:N,clickSelectedOption:A,searchRef:y,focusSearchInput:V,targetRef:w,focusTarget:W}}const NM={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},AM=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":rr(t),"--combobox-option-padding":We(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:te(r),"--combobox-option-fz":rr(t),"--combobox-option-padding":We(t,"combobox-option-padding")}});function Ke(e){const t=ie("Combobox",NM,e),{classNames:r,styles:n,unstyled:i,children:a,store:c,vars:u,onOptionSubmit:d,onClose:h,size:v,dropdownPadding:y,resetSelectionOnOptionHover:w,__staticSelector:S,readOnly:_,...R}=t,C=B0(),E=c||C,b=Ee({name:S||"Combobox",classes:mr,props:t,classNames:r,styles:n,unstyled:i,vars:u,varsResolver:AM}),f=()=>{h==null||h(),E.closeDropdown()};return P.jsx(_M,{value:{getStyles:b,store:E,onOptionSubmit:d,size:v,resetSelectionOnOptionHover:w,readOnly:_},children:P.jsx(bn,{opened:E.dropdownOpened,...R,onChange:p=>!p&&f(),withRoles:!1,unstyled:i,children:a})})}const $M=e=>e;Ke.extend=$M;Ke.classes=mr;Ke.displayName="@mantine/core/Combobox";Ke.Target=z0;Ke.Dropdown=zm;Ke.Options=Gm;Ke.Option=qm;Ke.Search=Km;Ke.Empty=Bm;Ke.Chevron=Fm;Ke.Footer=Vm;Ke.Header=Wm;Ke.EventsTarget=$0;Ke.DropdownTarget=A0;Ke.Group=Hm;Ke.ClearButton=N0;Ke.HiddenInput=F0;function FM({size:e,style:t,...r}){const n=e!==void 0?{width:te(e),height:te(e),...t}:t;return P.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:P.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Ga(e){return"group"in e}function U0({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(i.length===r)return i;Ga(c)&&i.push({group:c.group,items:U0({options:c.items,search:t,limit:r-i.length})}),Ga(c)||c.label.toLowerCase().includes(n)&&i.push(c)}return i}function zM(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function V0(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Ga(r))V0(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function BM(e,t){return Array.isArray(e)?e.includes(t):e===t}function H0({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:i,renderOption:a}){if(!Ga(e)){const u=BM(r,e.value),d=t&&u&&P.jsx(FM,{className:mr.optionsDropdownCheckIcon}),h=P.jsxs(P.Fragment,{children:[n==="left"&&d,P.jsx("span",{children:e.label}),n==="right"&&d]});return P.jsx(Ke.Option,{value:e.value,disabled:e.disabled,className:Bt({[mr.optionsDropdownOption]:!i}),"data-reverse":n==="right"||void 0,"data-checked":u||void 0,"aria-selected":u,active:u,children:typeof a=="function"?a({option:e,checked:u}):h})}const c=e.items.map(u=>P.jsx(H0,{data:u,value:r,unstyled:i,withCheckIcon:t,checkIconPosition:n,renderOption:a},u.value));return P.jsx(Ke.Group,{label:e.group,children:c})}function UM({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:i,limit:a,maxDropdownHeight:c,withScrollArea:u=!0,filterOptions:d=!0,withCheckIcon:h=!1,value:v,checkIconPosition:y,nothingFoundMessage:w,unstyled:S,labelId:_,renderOption:R,scrollAreaProps:C,"aria-label":E}){V0(e);const f=typeof i=="string"?(n||U0)({options:e,search:d?i:"",limit:a??1/0}):e,p=zM(f),m=f.map(x=>P.jsx(H0,{data:x,withCheckIcon:h,value:v,checkIconPosition:y,unstyled:S,renderOption:R},Ga(x)?x.group:x.value));return P.jsx(Ke.Dropdown,{hidden:t||r&&p,"data-composed":!0,children:P.jsxs(Ke.Options,{labelledBy:_,"aria-label":E,children:[u?P.jsx(zr.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:m}):m,p&&w&&P.jsx(Ke.Empty,{children:w})]})})}const W0=M.createContext(null),VM=W0.Provider;function HM(){return{withinGroup:!!M.useContext(W0)}}var Hu={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const WM={},qM=(e,{spacing:t})=>({group:{"--ag-spacing":tr(t)}}),Ym=fe((e,t)=>{const r=ie("AvatarGroup",WM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,spacing:h,...v}=r,y=Ee({name:"AvatarGroup",classes:Hu,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:qM,rootSelector:"group"});return P.jsx(VM,{value:!0,children:P.jsx(re,{ref:t,...y("group"),...v})})});Ym.classes=Hu;Ym.displayName="@mantine/core/AvatarGroup";function GM(e){return P.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function KM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const YM=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function XM(e,t=YM){const r=KM(e),n=Math.abs(r)%t.length;return t[n]}function QM(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const ZM={},JM=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c,name:u,allowedInitialsColors:d})=>{const h=a==="initials"&&typeof u=="string"?XM(u,d):a,v=e.variantColorResolver({color:h||"gray",theme:e,gradient:i,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":We(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Tt(r),"--avatar-bg":h||n?v.background:void 0,"--avatar-color":h||n?v.color:void 0,"--avatar-bd":h||n?v.border:void 0}}},xn=Xt((e,t)=>{const r=ie("Avatar",ZM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,src:h,alt:v,radius:y,color:w,gradient:S,imageProps:_,children:R,autoContrast:C,mod:E,name:b,allowedInitialsColors:f,...p}=r,m=HM(),[x,k]=M.useState(!h),L=Ee({name:"Avatar",props:r,classes:Hu,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:JM});return M.useEffect(()=>k(!h),[h]),P.jsx(re,{...L("root"),mod:[{"within-group":m.withinGroup},E],ref:t,...p,children:x?P.jsx("span",{...L("placeholder"),title:v,children:R||typeof b=="string"&&QM(b)||P.jsx(GM,{})}):P.jsx("img",{..._,...L("image"),src:h,alt:v,onError:j=>{var I;k(!0),(I=_==null?void 0:_.onError)==null||I.call(_,j)}})})});xn.classes=Hu;xn.displayName="@mantine/core/Avatar";xn.Group=Ym;var q0={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const e2={},t2=(e,{radius:t,color:r,gradient:n,variant:i,size:a,autoContrast:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:c});return{root:{"--badge-height":We(a,"badge-height"),"--badge-padding-x":We(a,"badge-padding-x"),"--badge-fz":We(a,"badge-fz"),"--badge-radius":t===void 0?void 0:Tt(t),"--badge-bg":r||i?u.background:void 0,"--badge-color":r||i?u.color:void 0,"--badge-bd":r||i?u.border:void 0,"--badge-dot-color":i==="dot"?hr(r,e):void 0}}},nc=Xt((e,t)=>{const r=ie("Badge",e2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,radius:h,color:v,gradient:y,leftSection:w,rightSection:S,children:_,variant:R,fullWidth:C,autoContrast:E,circle:b,mod:f,...p}=r,m=Ee({name:"Badge",props:r,classes:q0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:t2});return P.jsxs(re,{variant:R,mod:[{block:C,circle:b,"with-right-section":!!S,"with-left-section":!!w},f],...m("root",{variant:R}),ref:t,...p,children:[w&&P.jsx("span",{...m("section"),"data-position":"left",children:w}),P.jsx("span",{...m("label"),children:_}),S&&P.jsx("span",{...m("section"),"data-position":"right",children:S})]})});nc.classes=q0;nc.displayName="@mantine/core/Badge";var Di={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const dS={orientation:"horizontal"},r2=(e,{borderWidth:t})=>({group:{"--button-border-width":te(t)}}),Xm=fe((e,t)=>{const r=ie("ButtonGroup",dS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,orientation:d,vars:h,borderWidth:v,variant:y,mod:w,...S}=ie("ButtonGroup",dS,e),_=Ee({name:"ButtonGroup",props:r,classes:Di,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:r2,rootSelector:"group"});return P.jsx(re,{..._("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});Xm.classes=Di;Xm.displayName="@mantine/core/ButtonGroup";const fS={},n2=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":We(c,"section-height"),"--section-padding-x":We(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?rr(c.replace("compact-","")):rr(c),"--section-radius":t===void 0?void 0:Tt(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},Qm=fe((e,t)=>{const r=ie("ButtonGroupSection",fS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,variant:h,gradient:v,radius:y,autoContrast:w,...S}=ie("ButtonGroupSection",fS,e),_=Ee({name:"ButtonGroupSection",props:r,classes:Di,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,varsResolver:n2,rootSelector:"groupSection"});return P.jsx(re,{..._("groupSection"),ref:t,variant:h,...S})});Qm.classes=Di;Qm.displayName="@mantine/core/ButtonGroupSection";const s2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},o2={},i2=(e,{radius:t,color:r,gradient:n,variant:i,size:a,justify:c,autoContrast:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:u});return{root:{"--button-justify":c,"--button-height":We(a,"button-height"),"--button-padding-x":We(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?rr(a.replace("compact-","")):rr(a),"--button-radius":t===void 0?void 0:Tt(t),"--button-bg":r||i?d.background:void 0,"--button-hover":r||i?d.hover:void 0,"--button-color":d.color,"--button-bd":r||i?d.border:void 0,"--button-hover-color":r||i?d.hoverColor:void 0}}},He=Xt((e,t)=>{const r=ie("Button",o2,e),{style:n,vars:i,className:a,color:c,disabled:u,children:d,leftSection:h,rightSection:v,fullWidth:y,variant:w,radius:S,loading:_,loaderProps:R,gradient:C,classNames:E,styles:b,unstyled:f,"data-disabled":p,autoContrast:m,mod:x,...k}=r,L=Ee({name:"Button",props:r,classes:Di,className:a,style:n,classNames:E,styles:b,unstyled:f,vars:i,varsResolver:i2}),j=!!h,I=!!v;return P.jsxs(Ks,{ref:t,...L("root",{active:!u&&!_&&!p}),unstyled:f,variant:w,disabled:u||_,mod:[{disabled:u||p,loading:_,block:y,"with-left-section":j,"with-right-section":I},x],...k,children:[P.jsx(ls,{mounted:!!_,transition:s2,duration:150,children:A=>P.jsx(re,{component:"span",...L("loader",{style:A}),"aria-hidden":!0,children:P.jsx(Pi,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...R})})}),P.jsxs("span",{...L("inner"),children:[h&&P.jsx(re,{component:"span",...L("section"),mod:{position:"left"},children:h}),P.jsx(re,{component:"span",mod:{loading:_},...L("label"),children:d}),v&&P.jsx(re,{component:"span",...L("section"),mod:{position:"right"},children:v})]})]})});He.classes=Di;He.displayName="@mantine/core/Button";He.Group=Xm;He.GroupSection=Qm;const[a2,c2]=_n("Card component was not found in tree");var Zm={root:"m_e615b15f",section:"m_599a2148"};const l2={},Wu=Xt((e,t)=>{const r=ie("CardSection",l2,e),{classNames:n,className:i,style:a,styles:c,vars:u,withBorder:d,inheritPadding:h,mod:v,...y}=r,w=c2();return P.jsx(re,{ref:t,mod:[{"with-border":d,"inherit-padding":h},v],...w.getStyles("section",{className:i,style:a,styles:c,classNames:n}),...y})});Wu.classes=Zm;Wu.displayName="@mantine/core/CardSection";const u2={},d2=(e,{padding:t})=>({root:{"--card-padding":tr(t)}}),sc=Xt((e,t)=>{const r=ie("Card",u2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,children:h,padding:v,...y}=r,w=Ee({name:"Card",props:r,classes:Zm,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:d2}),S=M.Children.toArray(h),_=S.map((R,C)=>typeof R=="object"&&R&&"type"in R&&R.type===Wu?M.cloneElement(R,{"data-first-section":C===0||void 0,"data-last-section":C===S.length-1||void 0}):R);return P.jsx(a2,{value:{getStyles:w},children:P.jsx(Au,{ref:t,unstyled:u,...w("root"),...y,children:_})})});sc.classes=Zm;sc.displayName="@mantine/core/Card";sc.Section=Wu;var G0={root:"m_3eebeb36",label:"m_9e365f20"};const f2={orientation:"horizontal"},p2=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?hr(t,e):void 0,"--divider-border-style":r,"--divider-size":We(n,"divider-size")}}),Sn=fe((e,t)=>{const r=ie("Divider",f2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,color:h,orientation:v,label:y,labelPosition:w,mod:S,..._}=r,R=Ee({name:"Divider",classes:G0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:p2});return P.jsx(re,{ref:t,mod:[{orientation:v,"with-label":!!y},S],...R("root"),..._,role:"separator",children:y&&P.jsx(re,{component:"span",mod:{position:w},...R("label"),children:y})})});Sn.classes=G0;Sn.displayName="@mantine/core/Divider";const[h2,Mi]=_n("Drawer component was not found in tree");var fs={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const m2={},qu=fe((e,t)=>{const r=ie("DrawerBody",m2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Mm,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});qu.classes=fs;qu.displayName="@mantine/core/DrawerBody";const g2={},Gu=fe((e,t)=>{const r=ie("DrawerCloseButton",g2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Lm,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});Gu.classes=fs;Gu.displayName="@mantine/core/DrawerCloseButton";const v2={},Ku=fe((e,t)=>{const r=ie("DrawerContent",v2,e),{classNames:n,className:i,style:a,styles:c,vars:u,children:d,radius:h,__hidden:v,...y}=r,w=Mi(),S=w.scrollAreaComponent||k0;return P.jsx(Im,{...w.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:w.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),ref:t,...y,radius:h||w.radius||0,"data-hidden":v||void 0,children:P.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});Ku.classes=fs;Ku.displayName="@mantine/core/DrawerContent";const y2={},Yu=fe((e,t)=>{const r=ie("DrawerHeader",y2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(jm,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});Yu.classes=fs;Yu.displayName="@mantine/core/DrawerHeader";const w2={},Xu=fe((e,t)=>{const r=ie("DrawerOverlay",w2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Om,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});Xu.classes=fs;Xu.displayName="@mantine/core/DrawerOverlay";function S2(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function _2(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const b2={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},x2={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},C2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),position:"left"},R2=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":We(r,"drawer-size"),"--drawer-flex":_2(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":S2(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":te(n)}}),Qu=fe((e,t)=>{const r=ie("DrawerRoot",C2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,scrollAreaComponent:h,position:v,transitionProps:y,radius:w,...S}=r,{dir:_}=Gs(),R=Ee({name:"Drawer",classes:fs,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:R2}),C=(_==="rtl"?x2:b2)[v];return P.jsx(h2,{value:{scrollAreaComponent:h,getStyles:R,radius:w},children:P.jsx(Dm,{ref:t,...R("root"),transitionProps:{transition:C,...y},unstyled:u,...S})})});Qu.classes=fs;Qu.displayName="@mantine/core/DrawerRoot";const[E2,T2]=bu();function K0({children:e}){const[t,r]=M.useState([]),[n,i]=M.useState(gr("modal"));return P.jsx(E2,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}K0.displayName="@mantine/core/DrawerStack";const P2={},Zu=fe((e,t)=>{const r=ie("DrawerTitle",P2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Nm,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});Zu.classes=fs;Zu.displayName="@mantine/core/DrawerTitle";const k2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),withOverlay:!0,withCloseButton:!0},Vr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,opened:d,stackId:h,zIndex:v,...y}=ie("Drawer",k2,e),w=T2(),S=!!r||a,_=w&&h?{closeOnEscape:w.currentId===h,trapFocus:w.currentId===h,zIndex:w.getZIndex(h)}:{},R=n===!1?!1:h&&w?w.currentId===h:d;return M.useEffect(()=>{w&&h&&(d?w.addModal(h,v||gr("modal")):w.removeModal(h))},[d,h,v]),P.jsxs(Qu,{ref:t,opened:d,zIndex:w&&h?w.getZIndex(h):v,...y,..._,children:[n&&P.jsx(Xu,{visible:R,transitionProps:w&&h?{duration:0}:void 0,...i}),P.jsxs(Ku,{__hidden:w&&h&&d?h!==w.currentId:!1,children:[S&&P.jsxs(Yu,{children:[r&&P.jsx(Zu,{children:r}),a&&P.jsx(Gu,{...c})]}),P.jsx(qu,{children:u})]})]})});Vr.classes=fs;Vr.displayName="@mantine/core/Drawer";Vr.Root=Qu;Vr.Overlay=Xu;Vr.Content=Ku;Vr.Body=qu;Vr.Header=Yu;Vr.Title=Zu;Vr.CloseButton=Gu;Vr.Stack=K0;function D2({open:e,close:t,openDelay:r,closeDelay:n}){const i=M.useRef(-1),a=M.useRef(-1),c=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},u=()=>{c(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)},d=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return M.useEffect(()=>c,[]),{openDropdown:u,closeDropdown:d}}function M2(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=te(t),[i,a]=e.split("-");return i==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var Y0={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const L2={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},I2=(e,{color:t,position:r,offset:n,size:i,radius:a,zIndex:c,autoContrast:u})=>({root:{"--indicator-color":t?hr(t,e):void 0,"--indicator-text-color":Db(u,e)?om({color:t,theme:e,autoContrast:u}):void 0,"--indicator-size":te(i),"--indicator-radius":a===void 0?void 0:Tt(a),"--indicator-z-index":c==null?void 0:c.toString(),...M2(r,n)}}),Jm=fe((e,t)=>{const r=ie("Indicator",L2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,children:h,position:v,offset:y,inline:w,label:S,radius:_,color:R,withBorder:C,disabled:E,processing:b,zIndex:f,autoContrast:p,mod:m,...x}=r,k=Ee({name:"Indicator",classes:Y0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:I2});return P.jsxs(re,{ref:t,...k("root"),mod:[{inline:w},m],...x,children:[!E&&P.jsx(re,{mod:{"with-label":!!S,"with-border":C,processing:b},...k("indicator"),children:S}),h]})});Jm.classes=Y0;Jm.displayName="@mantine/core/Indicator";function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function eg(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j2=M.useLayoutEffect,O2=function(t){var r=zt.useRef(t);return j2(function(){r.current=t}),r},pS=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},N2=function(t,r){var n=zt.useRef();return zt.useCallback(function(i){t.current=i,n.current&&pS(n.current,null),n.current=r,r&&pS(r,i)},[r])},hS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},A2=function(t){Object.keys(hS).forEach(function(r){t.style.setProperty(r,hS[r],"important")})},mS=A2,Jt=null,gS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function $2(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),Jt||(Jt=document.createElement("textarea"),Jt.setAttribute("tabindex","-1"),Jt.setAttribute("aria-hidden","true"),mS(Jt)),Jt.parentNode===null&&document.body.appendChild(Jt);var i=e.paddingSize,a=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(w){var S=w;Jt.style[S]=c[S]}),mS(Jt),Jt.value=t;var d=gS(Jt,e);Jt.value=t,d=gS(Jt,e),Jt.value="x";var h=Jt.scrollHeight-i,v=h*r;u==="border-box"&&(v=v+i+a),d=Math.max(v,d);var y=h*n;return u==="border-box"&&(y=y+i+a),d=Math.min(y,d),[d,h]}var vS=function(){},F2=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},z2=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],B2=!!document.documentElement.currentStyle,U2=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=F2(z2,r),i=n.boxSizing;if(i==="")return null;B2&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},V2=U2;function X0(e,t,r){var n=O2(r);M.useLayoutEffect(function(){var i=function(c){return n.current(c)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var H2=function(t){X0(window,"resize",t)},W2=function(t){X0(document.fonts,"loadingdone",t)},q2=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],G2=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,c=t.onChange,u=c===void 0?vS:c,d=t.onHeightChange,h=d===void 0?vS:d,v=eg(t,q2),y=v.value!==void 0,w=M.useRef(null),S=N2(w,r),_=M.useRef(0),R=M.useRef(),C=function(){var f=w.current,p=n&&R.current?R.current:V2(f);if(p){R.current=p;var m=$2(p,f.value||f.placeholder||"x",a,i),x=m[0],k=m[1];_.current!==x&&(_.current=x,f.style.setProperty("height",x+"px","important"),h(x,{rowHeight:k}))}},E=function(f){y||C(),u(f)};return M.useLayoutEffect(C),H2(C),W2(C),M.createElement("textarea",cu({},v,{onChange:E,ref:S}))},K2=M.forwardRef(G2);const Y2={},Ju=fe((e,t)=>{const{autosize:r,maxRows:n,minRows:i,__staticSelector:a,resize:c,...u}=ie("Textarea",Y2,e),d=r&&xT()!=="test",h=d?{maxRows:n,minRows:i}:{};return P.jsx(ds,{component:d?K2:"textarea",ref:t,...u,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...h})});Ju.classes=ds.classes;Ju.displayName="@mantine/core/Textarea";const[X2,oc]=_n("Menu component was not found in the tree");var Li={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Q2={},tg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("MenuDivider",Q2,e),d=oc();return P.jsx(re,{ref:t,...d.getStyles("divider",{className:n,style:i,styles:a,classNames:r}),...u})});tg.classes=Li;tg.displayName="@mantine/core/MenuDivider";const Z2={},rg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:v,...y}=ie("MenuDropdown",Z2,e),w=M.useRef(null),S=oc(),_=jn(h,E=>{var b,f;(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),(f=(b=w.current)==null?void 0:b.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||f.focus())}),R=jn(u,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),C=jn(d,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return P.jsxs(bn.Dropdown,{...y,onMouseEnter:R,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Ut(t,w),...S.getStyles("dropdown",{className:n,style:i,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:_,children:[S.withInitialFocusPlaceholder&&P.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),v]})});rg.classes=Li;rg.displayName="@mantine/core/MenuDropdown";const J2={},ng=Xt((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,color:u,closeMenuOnClick:d,leftSection:h,rightSection:v,children:y,disabled:w,"data-disabled":S,..._}=ie("MenuItem",J2,e),R=oc(),C=nr(),{dir:E}=Gs(),b=M.useRef(null),f=R.getItemIndex(b.current),p=_,m=jn(p.onMouseLeave,()=>R.setHovered(-1)),x=jn(p.onMouseEnter,()=>R.setHovered(R.getItemIndex(b.current))),k=jn(p.onClick,()=>{S||(typeof d=="boolean"?d&&R.closeDropdownImmediately():R.closeOnItemClick&&R.closeDropdownImmediately())}),L=jn(p.onFocus,()=>R.setHovered(R.getItemIndex(b.current))),j=u?C.variantColorResolver({color:u,theme:C,variant:"light"}):void 0,I=u?Ri({color:u,theme:C}):null;return P.jsxs(Ks,{..._,unstyled:R.unstyled,tabIndex:R.menuItemTabIndex,onFocus:L,...R.getStyles("item",{className:n,style:i,styles:a,classNames:r}),ref:Ut(b,t),role:"menuitem",disabled:w,"data-menu-item":!0,"data-disabled":w||S||void 0,"data-hovered":R.hovered===f?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:m,onClick:k,onKeyDown:gb({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:R.loop,dir:E,orientation:"vertical",onKeyDown:p.onKeyDown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:j==null?void 0:j.color,"--menu-item-hover":j==null?void 0:j.hover},children:[h&&P.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:h}),y&&P.jsx("div",{...R.getStyles("itemLabel",{styles:a,classNames:r}),children:y}),v&&P.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:v})]})});ng.classes=Li;ng.displayName="@mantine/core/MenuItem";const eL={},sg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("MenuLabel",eL,e),d=oc();return P.jsx(re,{ref:t,...d.getStyles("label",{className:n,style:i,styles:a,classNames:r}),...u})});sg.classes=Li;sg.displayName="@mantine/core/MenuLabel";const tL={refProp:"ref"},Q0=M.forwardRef((e,t)=>{const{children:r,refProp:n,...i}=ie("MenuTarget",tL,e);if(!Hs(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=oc(),c=r.props,u=jn(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),d=jn(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),h=jn(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return P.jsx(bn.Target,{refProp:n,popupType:"menu",ref:t,...i,children:M.cloneElement(r,{onClick:u,onMouseEnter:d,onMouseLeave:h,"data-expanded":a.opened?!0:void 0})})});Q0.displayName="@mantine/core/MenuTarget";const rL={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ge(e){const t=ie("Menu",rL,e),{children:r,onOpen:n,onClose:i,opened:a,defaultOpened:c,trapFocus:u,onChange:d,closeOnItemClick:h,loop:v,closeOnEscape:y,trigger:w,openDelay:S,closeDelay:_,classNames:R,styles:C,unstyled:E,variant:b,vars:f,menuItemTabIndex:p,keepMounted:m,withInitialFocusPlaceholder:x,...k}=t,L=Ee({name:"Menu",classes:Li,props:t,classNames:R,styles:C,unstyled:E}),[j,{setHovered:I,resetHovered:A}]=nT(),[N,V]=ns({value:a,defaultValue:c,finalValue:!1,onChange:d}),[W,X]=M.useState(!1),O=()=>{V(!1),X(!1),N&&(i==null||i())},U=()=>{V(!0),!N&&(n==null||n())},F=()=>{N?O():U()},{openDropdown:z,closeDropdown:q}=D2({open:U,close:O,closeDelay:_,openDelay:S}),B=de=>rT("[data-menu-item]","[data-menu-dropdown]",de),{resolvedClassNames:Y,resolvedStyles:ae}=ec({classNames:R,styles:C,props:t});return $n(()=>{A()},[N]),P.jsx(X2,{value:{getStyles:L,opened:N,toggleDropdown:F,getItemIndex:B,hovered:j,setHovered:I,openedViaClick:W,setOpenedViaClick:X,closeOnItemClick:h,closeDropdown:w==="click"?O:q,openDropdown:w==="click"?U:z,closeDropdownImmediately:O,loop:v,trigger:w,unstyled:E,menuItemTabIndex:p,withInitialFocusPlaceholder:x},children:P.jsx(bn,{...k,opened:N,onChange:F,defaultOpened:c,trapFocus:m?!1:u,closeOnEscape:y,__staticSelector:"Menu",classNames:Y,styles:ae,unstyled:E,variant:b,keepMounted:m,children:r})})}Ge.extend=e=>e;Ge.withProps=LP(Ge);Ge.classes=Li;Ge.displayName="@mantine/core/Menu";Ge.Item=ng;Ge.Label=sg;Ge.Dropdown=rg;Ge.Target=Q0;Ge.Divider=tg;const[nL,Ii]=_n("Modal component was not found in tree");var ps={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const sL={},ed=fe((e,t)=>{const r=ie("ModalBody",sL,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Ii();return P.jsx(Mm,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});ed.classes=ps;ed.displayName="@mantine/core/ModalBody";const oL={},td=fe((e,t)=>{const r=ie("ModalCloseButton",oL,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Ii();return P.jsx(Lm,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});td.classes=ps;td.displayName="@mantine/core/ModalCloseButton";const iL={},rd=fe((e,t)=>{const r=ie("ModalContent",iL,e),{classNames:n,className:i,style:a,styles:c,vars:u,children:d,__hidden:h,...v}=r,y=Ii(),w=y.scrollAreaComponent||k0;return P.jsx(Im,{...y.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:y.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),"data-full-screen":y.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...v,children:P.jsx(w,{style:{maxHeight:y.fullScreen?"100dvh":`calc(100dvh - (${te(y.yOffset)} * 2))`},children:d})})});rd.classes=ps;rd.displayName="@mantine/core/ModalContent";const aL={},nd=fe((e,t)=>{const r=ie("ModalHeader",aL,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Ii();return P.jsx(jm,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});nd.classes=ps;nd.displayName="@mantine/core/ModalHeader";const cL={},sd=fe((e,t)=>{const r=ie("ModalOverlay",cL,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Ii();return P.jsx(Om,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});sd.classes=ps;sd.displayName="@mantine/core/ModalOverlay";const lL={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},uL=(e,{radius:t,size:r,yOffset:n,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Tt(t),"--modal-size":We(r,"modal-size"),"--modal-y-offset":te(n),"--modal-x-offset":te(i)}}),od=fe((e,t)=>{const r=ie("ModalRoot",lL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,yOffset:h,scrollAreaComponent:v,radius:y,fullScreen:w,centered:S,xOffset:_,__staticSelector:R,...C}=r,E=Ee({name:R,classes:ps,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:uL});return P.jsx(nL,{value:{yOffset:h,scrollAreaComponent:v,getStyles:E,fullScreen:w},children:P.jsx(Dm,{ref:t,...E("root"),"data-full-screen":w||void 0,"data-centered":S||void 0,unstyled:u,...C})})});od.classes=ps;od.displayName="@mantine/core/ModalRoot";const[dL,fL]=bu();function Z0({children:e}){const[t,r]=M.useState([]),[n,i]=M.useState(gr("modal"));return P.jsx(dL,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}Z0.displayName="@mantine/core/ModalStack";const pL={},id=fe((e,t)=>{const r=ie("ModalTitle",pL,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Ii();return P.jsx(Nm,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});id.classes=ps;id.displayName="@mantine/core/ModalTitle";const hL={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Pr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,radius:d,opened:h,stackId:v,zIndex:y,...w}=ie("Modal",hL,e),S=fL(),_=!!r||a,R=S&&v?{closeOnEscape:S.currentId===v,trapFocus:S.currentId===v,zIndex:S.getZIndex(v)}:{},C=n===!1?!1:v&&S?S.currentId===v:h;return M.useEffect(()=>{S&&v&&(h?S.addModal(v,y||gr("modal")):S.removeModal(v))},[h,v,y]),P.jsxs(od,{ref:t,radius:d,opened:h,zIndex:S&&v?S.getZIndex(v):y,...w,...R,children:[n&&P.jsx(sd,{visible:C,transitionProps:S&&v?{duration:0}:void 0,...i}),P.jsxs(rd,{radius:d,__hidden:S&&v&&h?v!==S.currentId:!1,children:[_&&P.jsxs(nd,{children:[r&&P.jsx(id,{children:r}),a&&P.jsx(td,{...c})]}),P.jsx(ed,{children:u})]})]})});Pr.classes=ps;Pr.displayName="@mantine/core/Modal";Pr.Root=od;Pr.Overlay=sd;Pr.Content=rd;Pr.Body=ed;Pr.Header=nd;Pr.Title=id;Pr.CloseButton=td;Pr.Stack=Z0;var J0={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const mL={},gL=(e,{variant:t,color:r,childrenOffset:n,autoContrast:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":tr(n)}}},lu=Xt((e,t)=>{const r=ie("NavLink",mL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,opened:h,defaultOpened:v,onChange:y,children:w,onClick:S,active:_,disabled:R,leftSection:C,rightSection:E,label:b,description:f,disableRightSectionRotation:p,noWrap:m,childrenOffset:x,onKeyDown:k,autoContrast:L,mod:j,...I}=r,A=Ee({name:"NavLink",props:r,classes:J0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:gL}),[N,V]=ns({value:h,defaultValue:v,finalValue:!1,onChange:y}),W=!!w,X=O=>{S==null||S(O),W&&(O.preventDefault(),V(!N))};return P.jsxs(P.Fragment,{children:[P.jsxs(Ks,{...A("root"),component:"a",ref:t,onClick:X,onKeyDown:O=>{k==null||k(O),O.nativeEvent.code==="Space"&&W&&(O.preventDefault(),V(!N))},unstyled:u,mod:[{disabled:R,active:_,expanded:N},j],...I,children:[C&&P.jsx(re,{component:"span",...A("section"),mod:{position:"left"},children:C}),P.jsxs(re,{...A("body"),mod:{"no-wrap":m},children:[P.jsx(re,{component:"span",...A("label"),children:b}),P.jsx(re,{component:"span",mod:{active:_},...A("description"),children:f})]}),(W||E)&&P.jsx(re,{...A("section"),component:"span",mod:{rotate:N&&!p,position:"right"},children:W?E||P.jsx(L0,{...A("chevron")}):E})]}),W&&P.jsx(Du,{in:N,...A("collapse"),children:P.jsx("div",{...A("children"),children:w})})]})});lu.classes=J0;lu.displayName="@mantine/core/NavLink";var e1={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const vL={withCloseButton:!0},yL=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Tt(t),"--notification-color":r?hr(r,e):void 0}}),og=fe((e,t)=>{const r=ie("Notification",vL,e),{className:n,color:i,radius:a,loading:c,withCloseButton:u,withBorder:d,title:h,icon:v,children:y,onClose:w,closeButtonProps:S,classNames:_,style:R,styles:C,unstyled:E,variant:b,vars:f,mod:p,loaderProps:m,...x}=r,k=Ee({name:"Notification",classes:e1,props:r,className:n,style:R,classNames:_,styles:C,unstyled:E,vars:f,varsResolver:yL});return P.jsxs(re,{...k("root"),mod:[{"data-with-icon":!!v||c,"data-with-border":d},p],ref:t,variant:b,...x,role:"alert",children:[v&&!c&&P.jsx("div",{...k("icon"),children:v}),c&&P.jsx(Pi,{size:28,color:i,...m,...k("loader")}),P.jsxs("div",{...k("body"),children:[h&&P.jsx("div",{...k("title"),children:h}),P.jsx(re,{...k("description"),mod:{"data-with-title":!!h},children:y})]}),u&&P.jsx(rc,{iconSize:16,color:"gray",...S,unstyled:E,onClick:w,...k("closeButton")})]})});og.classes=e1;og.displayName="@mantine/core/Notification";const wL=({reveal:e})=>P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:P.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var kh={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const SL={visibilityToggleIcon:wL},_L=(e,{size:t})=>({root:{"--psi-icon-size":We(t,"psi-icon-size"),"--psi-button-size":We(t,"psi-button-size")}}),ad=fe((e,t)=>{const r=ie("PasswordInput",SL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,required:h,error:v,leftSection:y,disabled:w,id:S,variant:_,inputContainer:R,description:C,label:E,size:b,errorProps:f,descriptionProps:p,labelProps:m,withAsterisk:x,inputWrapperOrder:k,wrapperProps:L,radius:j,rightSection:I,rightSectionWidth:A,rightSectionPointerEvents:N,leftSectionWidth:V,visible:W,defaultVisible:X,onVisibilityChange:O,visibilityToggleIcon:U,visibilityToggleButtonProps:F,rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withErrorStyles:Y,mod:ae,...de}=r,ee=Ws(S),[oe,ue]=ns({value:W,defaultValue:X,finalValue:!1,onChange:O}),me=()=>ue(!oe),he=Ee({name:"PasswordInput",classes:kh,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:_L}),{resolvedClassNames:Ce,resolvedStyles:ke}=ec({classNames:n,styles:c,props:r}),{styleProps:mt,rest:ot}=Pu(de),Be=U,Qe=P.jsx(nt,{...he("visibilityToggle"),disabled:w,radius:j,"aria-hidden":!F,tabIndex:-1,...F,variant:(F==null?void 0:F.variant)??"subtle",color:"gray",unstyled:u,onTouchEnd:Ze=>{var qe;Ze.preventDefault(),(qe=F==null?void 0:F.onTouchEnd)==null||qe.call(F,Ze),me()},onMouseDown:Ze=>{var qe;Ze.preventDefault(),(qe=F==null?void 0:F.onMouseDown)==null||qe.call(F,Ze),me()},onKeyDown:Ze=>{var qe;(qe=F==null?void 0:F.onKeyDown)==null||qe.call(F,Ze),Ze.key===" "&&(Ze.preventDefault(),me())},children:P.jsx(Be,{reveal:oe})});return P.jsx(Yt.Wrapper,{required:h,id:ee,label:E,error:v,description:C,size:b,classNames:Ce,styles:ke,__staticSelector:"PasswordInput",errorProps:f,descriptionProps:p,unstyled:u,withAsterisk:x,inputWrapperOrder:k,inputContainer:R,variant:_,labelProps:{...m,htmlFor:ee},mod:ae,...he("root"),...mt,...L,children:P.jsx(Yt,{component:"div",error:v,leftSection:y,size:b,classNames:{...Ce,input:Bt(kh.input,Ce.input)},styles:ke,radius:j,disabled:w,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:I??Qe,variant:_,unstyled:u,leftSectionWidth:V,rightSectionPointerEvents:N||"all",rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withAria:!1,withErrorStyles:Y,children:P.jsx("input",{required:h,"data-invalid":!!v||void 0,"data-with-left-section":!!y||void 0,...he("innerInput"),disabled:w,id:ee,ref:t,...ot,autoComplete:ot.autoComplete||"off",type:oe?"text":"password"})})})});ad.classes={...ds.classes,...kh};ad.displayName="@mantine/core/PasswordInput";const bL={duration:100,transition:"fade"};function xL(e,t){return{...bL,...t,...e}}function CL({offset:e,position:t,defaultOpened:r}){const[n,i]=M.useState(r),a=M.useRef(null),{x:c,y:u,elements:d,refs:h,update:v,placement:y}=_m({placement:t,middleware:[vm({crossAxis:!0,padding:5,rootBoundary:"document"})]}),w=y.includes("right")?e:t.includes("left")?e*-1:0,S=y.includes("bottom")?e:t.includes("top")?e*-1:0,_=M.useCallback(({clientX:R,clientY:C})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:R,y:C,left:R+w,top:C+S,right:R,bottom:C}}})},[d.reference]);return M.useEffect(()=>{if(h.floating.current){const R=a.current;R.addEventListener("mousemove",_);const C=Jn(h.floating.current);return C.forEach(E=>{E.addEventListener("scroll",v)}),()=>{R.removeEventListener("mousemove",_),C.forEach(E=>{E.removeEventListener("scroll",v)})}}},[d.reference,h.floating.current,v,_,n]),{handleMouseMove:_,x:c,y:u,opened:n,setOpened:i,boundaryRef:a,floating:h.setFloating}}var cd={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const RL={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:gr("popover")},EL=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Tt(t),"--tooltip-bg":r?hr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ig=fe((e,t)=>{const r=ie("TooltipFloating",RL,e),{children:n,refProp:i,withinPortal:a,style:c,className:u,classNames:d,styles:h,unstyled:v,radius:y,color:w,label:S,offset:_,position:R,multiline:C,zIndex:E,disabled:b,defaultOpened:f,variant:p,vars:m,portalProps:x,...k}=r,L=nr(),j=Ee({name:"TooltipFloating",props:r,classes:cd,className:u,style:c,classNames:d,styles:h,unstyled:v,rootSelector:"tooltip",vars:m,varsResolver:EL}),{handleMouseMove:I,x:A,y:N,opened:V,boundaryRef:W,floating:X,setOpened:O}=CL({offset:_,position:R,defaultOpened:f});if(!Hs(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const U=Ut(W,Ru(n),t),F=n.props,z=B=>{var Y;(Y=F.onMouseEnter)==null||Y.call(F,B),I(B),O(!0)},q=B=>{var Y;(Y=F.onMouseLeave)==null||Y.call(F,B),O(!1)};return P.jsxs(P.Fragment,{children:[P.jsx(Ro,{...x,withinPortal:a,children:P.jsx(re,{...k,...j("tooltip",{style:{...cm(c,L),zIndex:E,display:!b&&V?"block":"none",top:(N&&Math.round(N))??"",left:(A&&Math.round(A))??""}}),variant:p,ref:X,mod:{multiline:C},children:S})}),M.cloneElement(n,{...F,[i]:U,onMouseEnter:z,onMouseLeave:q})]})});ig.classes=cd;ig.displayName="@mantine/core/TooltipFloating";const t1=M.createContext(!1),TL=t1.Provider,PL=()=>M.useContext(t1),kL={openDelay:0,closeDelay:0};function ag(e){const{openDelay:t,closeDelay:r,children:n}=ie("TooltipGroup",kL,e);return P.jsx(TL,{value:!0,children:P.jsx(Gk,{delay:{open:t,close:r},children:n})})}ag.displayName="@mantine/core/TooltipGroup";ag.extend=e=>e;function DL(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function ML(e){const t=DL(e.middlewares),r=[Kb(e.offset)];return t.shift&&r.push(vm(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?iu():iu(t.flip)),r.push(Yb({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Ba():Ba(t.inline)):e.inline&&r.push(Ba()),r}function LL(e){var x,k,L;const[t,r]=M.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,a=PL(),c=Ws(),u=M.useCallback(j=>{r(j),j&&b(c)},[c]),{x:d,y:h,context:v,refs:y,update:w,placement:S,middlewareData:{arrow:{x:_,y:R}={}}}=_m({strategy:e.strategy,placement:e.position,open:i,onOpenChange:u,middleware:ML(e)}),{delay:C,currentId:E,setCurrentId:b}=Kk(v,{id:c}),{getReferenceProps:f,getFloatingProps:p}=tD([Wk(v,{enabled:(x=e.events)==null?void 0:x.hover,delay:a?C:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((k=e.events)!=null&&k.touch)}),eD(v,{enabled:(L=e.events)==null?void 0:L.focus,visibleOnly:!0}),nD(v,{role:"tooltip"}),Zk(v,{enabled:typeof e.opened>"u"})]);_0({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:y,update:w}}),$n(()=>{var j;(j=e.onPositionChange)==null||j.call(e,S)},[S]);const m=i&&E&&E!==c;return{x:d,y:h,arrowX:_,arrowY:R,reference:y.setReference,floating:y.setFloating,getFloatingProps:p,getReferenceProps:f,isGroupPhase:m,opened:i,placement:S}}const yS={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:gr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},IL=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Tt(t),"--tooltip-bg":r?hr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),es=fe((e,t)=>{const r=ie("Tooltip",yS,e),{children:n,position:i,refProp:a,label:c,openDelay:u,closeDelay:d,onPositionChange:h,opened:v,defaultOpened:y,withinPortal:w,radius:S,color:_,classNames:R,styles:C,unstyled:E,style:b,className:f,withArrow:p,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:L,offset:j,transitionProps:I,multiline:A,events:N,zIndex:V,disabled:W,positionDependencies:X,onClick:O,onMouseEnter:U,onMouseLeave:F,inline:z,variant:q,keepMounted:B,vars:Y,portalProps:ae,mod:de,floatingStrategy:ee,middlewares:oe,...ue}=ie("Tooltip",yS,r),{dir:me}=Gs(),he=M.useRef(null),Ce=LL({position:h0(me,i),closeDelay:d,openDelay:u,onPositionChange:h,opened:v,defaultOpened:y,events:N,arrowRef:he,arrowOffset:x,offset:typeof j=="number"?j+(p?m/2:0):j,positionDependencies:[...X,n],inline:z,strategy:ee,middlewares:oe}),ke=Ee({name:"Tooltip",props:r,classes:cd,className:f,style:b,classNames:R,styles:C,unstyled:E,rootSelector:"tooltip",vars:Y,varsResolver:IL});if(!Hs(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const mt=Ut(Ce.reference,Ru(n),t),ot=xL(I,{duration:100,transition:"fade"}),Be=n.props;return P.jsxs(P.Fragment,{children:[P.jsx(Ro,{...ae,withinPortal:w,children:P.jsx(ls,{...ot,keepMounted:B,mounted:!W&&!!Ce.opened,duration:Ce.isGroupPhase?10:ot.duration,children:Qe=>P.jsxs(re,{...ue,"data-fixed":ee==="fixed"||void 0,variant:q,mod:[{multiline:A},de],...Ce.getFloatingProps({ref:Ce.floating,className:ke("tooltip").className,style:{...ke("tooltip").style,...Qe,zIndex:V,top:Ce.y??0,left:Ce.x??0}}),children:[c,P.jsx(Em,{ref:he,arrowX:Ce.arrowX,arrowY:Ce.arrowY,visible:p,position:Ce.placement,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:L,...ke("arrow")})]})})}),M.cloneElement(n,Ce.getReferenceProps({onClick:O,onMouseEnter:U,onMouseLeave:F,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Bt(f,Be.className),...Be,[a]:mt}))]})});es.classes=cd;es.displayName="@mantine/core/Tooltip";es.Floating=ig;es.Group=ag;const jL={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},uu=fe((e,t)=>{const r=ie("Select",jL,e),{classNames:n,styles:i,unstyled:a,vars:c,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:h,onDropdownOpen:v,onFocus:y,onBlur:w,onClick:S,onChange:_,data:R,value:C,defaultValue:E,selectFirstOptionOnChange:b,onOptionSubmit:f,comboboxProps:p,readOnly:m,disabled:x,filter:k,limit:L,withScrollArea:j,maxDropdownHeight:I,size:A,searchable:N,rightSection:V,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:O,name:U,form:F,searchValue:z,defaultSearchValue:q,onSearchChange:B,allowDeselect:Y,error:ae,rightSectionPointerEvents:de,id:ee,clearable:oe,clearButtonProps:ue,hiddenInputProps:me,renderOption:he,onClear:Ce,autoComplete:ke,scrollAreaProps:mt,__defaultRightSection:ot,__clearSection:Be,__clearable:Qe,chevronColor:Ze,...qe}=r,Ct=M.useMemo(()=>yM(R),[R]),pt=M.useMemo(()=>O0(Ct),[Ct]),Ue=Ws(ee),[Ne,it,kt]=ns({value:C,defaultValue:E,finalValue:null,onChange:_}),at=typeof Ne=="string"?pt[Ne]:void 0,jt=_T(at),[Te,Pe]=ns({value:z,defaultValue:q,finalValue:at?at.label:"",onChange:B}),ye=B0({opened:u,defaultOpened:d,onDropdownOpen:()=>{v==null||v(),ye.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h==null||h(),ye.resetSelectedOption()}}),{resolvedClassNames:Ie,resolvedStyles:gt}=ec({props:r,styles:i,classNames:n});M.useEffect(()=>{b&&ye.selectFirstOption()},[b,Ne]),M.useEffect(()=>{C===null&&Pe(""),typeof C=="string"&&at&&((jt==null?void 0:jt.value)!==at.value||(jt==null?void 0:jt.label)!==at.label)&&Pe(at.label)},[C,at]);const $e=P.jsx(Ke.ClearButton,{...ue,onClear:()=>{it(null,null),Pe(""),Ce==null||Ce()}}),je=oe&&!!Ne&&!x&&!m;return P.jsxs(P.Fragment,{children:[P.jsxs(Ke,{store:ye,__staticSelector:"Select",classNames:Ie,styles:gt,unstyled:a,readOnly:m,onOptionSubmit:Se=>{f==null||f(Se);const ct=Y&&pt[Se].value===Ne?null:pt[Se],Un=ct?ct.value:null;Un!==Ne&&it(Un,ct),!kt&&Pe(typeof Un=="string"&&(ct==null?void 0:ct.label)||""),ye.closeDropdown()},size:A,...p,children:[P.jsx(Ke.Target,{targetType:N?"input":"button",autoComplete:ke,children:P.jsx(ds,{id:Ue,ref:t,__defaultRightSection:P.jsx(Ke.Chevron,{size:A,error:ae,unstyled:a,color:Ze}),__clearSection:$e,__clearable:je,rightSection:V,rightSectionPointerEvents:de||(je?"all":"none"),...qe,size:A,__staticSelector:"Select",disabled:x,readOnly:m||!N,value:Te,onChange:Se=>{Pe(Se.currentTarget.value),ye.openDropdown(),b&&ye.selectFirstOption()},onFocus:Se=>{N&&ye.openDropdown(),y==null||y(Se)},onBlur:Se=>{var ct;N&&ye.closeDropdown(),Pe(Ne!=null&&((ct=pt[Ne])==null?void 0:ct.label)||""),w==null||w(Se)},onClick:Se=>{N?ye.openDropdown():ye.toggleDropdown(),S==null||S(Se)},classNames:Ie,styles:gt,unstyled:a,pointer:!N,error:ae})}),P.jsx(UM,{data:Ct,hidden:m||x,filter:k,search:Te,limit:L,hiddenWhenEmpty:!O,withScrollArea:j,maxDropdownHeight:I,filterOptions:N&&(at==null?void 0:at.label)!==Te,value:Ne,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:O,unstyled:a,labelId:qe.label?`${Ue}-label`:void 0,"aria-label":qe.label?void 0:qe["aria-label"],renderOption:he,scrollAreaProps:mt})]}),P.jsx(Ke.HiddenInput,{value:Ne,name:U,form:F,disabled:x,...me})]})});uu.classes={...ds.classes,...Ke.classes};uu.displayName="@mantine/core/Select";function OL({spacing:e,verticalSpacing:t,cols:r,selector:n}){var v;const i=nr(),a=t===void 0?e:t,c=Ci({"--sg-spacing-x":tr(gi(e)),"--sg-spacing-y":tr(gi(a)),"--sg-cols":(v=gi(r))==null?void 0:v.toString()}),u=fr(i.breakpoints).reduce((y,w)=>(y[w]||(y[w]={}),typeof e=="object"&&e[w]!==void 0&&(y[w]["--sg-spacing-x"]=tr(e[w])),typeof a=="object"&&a[w]!==void 0&&(y[w]["--sg-spacing-y"]=tr(a[w])),typeof r=="object"&&r[w]!==void 0&&(y[w]["--sg-cols"]=r[w]),y),{}),h=tT(fr(u),i.breakpoints).filter(y=>fr(u[y.value]).length>0).map(y=>({query:`(min-width: ${i.breakpoints[y.value]})`,styles:u[y.value]}));return P.jsx(Tu,{styles:c,media:h,selector:n})}function Vp(e){return typeof e=="object"&&e!==null?fr(e):[]}function NL(e){return e.sort((t,r)=>Ha(t)-Ha(r))}function AL({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...Vp(e),...Vp(t),...Vp(r)]));return NL(n)}function $L({spacing:e,verticalSpacing:t,cols:r,selector:n}){var h;const i=t===void 0?e:t,a=Ci({"--sg-spacing-x":tr(gi(e)),"--sg-spacing-y":tr(gi(i)),"--sg-cols":(h=gi(r))==null?void 0:h.toString()}),c=AL({spacing:e,verticalSpacing:t,cols:r}),u=c.reduce((v,y)=>(v[y]||(v[y]={}),typeof e=="object"&&e[y]!==void 0&&(v[y]["--sg-spacing-x"]=tr(e[y])),typeof i=="object"&&i[y]!==void 0&&(v[y]["--sg-spacing-y"]=tr(i[y])),typeof r=="object"&&r[y]!==void 0&&(v[y]["--sg-cols"]=r[y]),v),{}),d=c.map(v=>({query:`simple-grid (min-width: ${v})`,styles:u[v]}));return P.jsx(Tu,{styles:a,container:d,selector:n})}var r1={container:"m_925c2d2c",root:"m_2415a157"};const FL={cols:1,spacing:"md",type:"media"},cg=fe((e,t)=>{const r=ie("SimpleGrid",FL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,cols:h,verticalSpacing:v,spacing:y,type:w,...S}=r,_=Ee({name:"SimpleGrid",classes:r1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d}),R=am();return w==="container"?P.jsxs(P.Fragment,{children:[P.jsx($L,{...r,selector:`.${R}`}),P.jsx("div",{..._("container"),children:P.jsx(re,{ref:t,..._("root",{className:R}),...S})})]}):P.jsxs(P.Fragment,{children:[P.jsx(OL,{...r,selector:`.${R}`}),P.jsx(re,{ref:t,..._("root",{className:R}),...S})]})});cg.classes=r1;cg.displayName="@mantine/core/SimpleGrid";var n1={root:"m_18320242","skeleton-fade":"m_299c329c"};const zL={visible:!0,animate:!0},BL=(e,{width:t,height:r,radius:n,circle:i})=>({root:{"--skeleton-height":te(r),"--skeleton-width":te(i?r:t),"--skeleton-radius":i?"1000px":n===void 0?void 0:Tt(n)}}),_o=fe((e,t)=>{const r=ie("Skeleton",zL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,width:h,height:v,circle:y,visible:w,radius:S,animate:_,mod:R,...C}=r,E=Ee({name:"Skeleton",classes:n1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:BL});return P.jsx(re,{ref:t,...E("root"),mod:[{visible:w,animate:_},R],...C})});_o.classes=n1;_o.displayName="@mantine/core/Skeleton";const[UL,ld]=_n("SliderProvider was not found in tree"),s1=M.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:i,radius:a,...c},u)=>{const{getStyles:d}=ld();return P.jsx(re,{tabIndex:-1,variant:r,size:e,ref:u,...d("root"),...c})});s1.displayName="@mantine/core/SliderRoot";const o1=M.forwardRef(({max:e,min:t,value:r,position:n,label:i,dragging:a,onMouseDown:c,onKeyDownCapture:u,labelTransitionProps:d,labelAlwaysOn:h,thumbLabel:v,onFocus:y,onBlur:w,showLabelOnHover:S,isHovered:_,children:R=null,disabled:C},E)=>{const{getStyles:b}=ld(),[f,p]=M.useState(!1),m=h||a||f||S&&_;return P.jsxs(re,{tabIndex:0,role:"slider","aria-label":v,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:E,__vars:{"--slider-thumb-offset":`${n}%`},...b("thumb",{focusable:!0}),mod:{dragging:a,disabled:C},onFocus:x=>{p(!0),typeof y=="function"&&y(x)},onBlur:x=>{p(!1),typeof w=="function"&&w(x)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:u,onClick:x=>x.stopPropagation(),children:[R,P.jsx(ls,{mounted:i!=null&&!!m,transition:"fade",duration:0,...d,children:x=>P.jsx("div",{...b("label",{style:x}),children:i})})]})});o1.displayName="@mantine/core/SliderThumb";function i1({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function VL({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function a1({marks:e,min:t,max:r,disabled:n,value:i,offset:a,inverted:c}){const{getStyles:u}=ld();if(!e)return null;const d=e.map((h,v)=>M.createElement(re,{...u("markWrapper"),__vars:{"--mark-offset":`${i1({value:h.value,min:t,max:r})}%`},key:v},P.jsx(re,{...u("mark"),mod:{filled:VL({mark:h,value:i,offset:a,inverted:c}),disabled:n}}),h.label&&P.jsx("div",{...u("markLabel"),children:h.label})));return P.jsx("div",{children:d})}a1.displayName="@mantine/core/SliderMarks";function c1({filled:e,children:t,offset:r,disabled:n,marksOffset:i,inverted:a,containerProps:c,...u}){const{getStyles:d}=ld();return P.jsx(re,{...d("trackContainer"),mod:{disabled:n},...c,children:P.jsxs(re,{...d("track"),mod:{inverted:a,disabled:n},children:[P.jsx(re,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...d("bar")}),t,P.jsx(a1,{...u,offset:i,disabled:n,inverted:a})]})})}c1.displayName="@mantine/core/SliderTrack";function HL({value:e,containerWidth:t,min:r,max:n,step:i,precision:a}){const u=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),d=(u!==0?Math.round(u/i)*i:0)+r,h=Math.max(d,r);return a!==void 0?Number(h.toFixed(a)):h}function xl(e,t){return parseFloat(e.toFixed(t))}function WL(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Hp(e,t){const n=[...t].sort((i,a)=>i.value-a.value).find(i=>i.value>e);return n?n.value:e}function Wp(e,t){const n=[...t].sort((i,a)=>a.value-i.value).find(i=>i.value<e);return n?n.value:e}function wS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function SS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var l1={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const qL={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},GL=(e,{size:t,color:r,thumbSize:n,radius:i})=>({root:{"--slider-size":We(t,"slider-size"),"--slider-color":r?hr(r,e):void 0,"--slider-radius":i===void 0?void 0:Tt(i),"--slider-thumb-size":n!==void 0?te(n):"calc(var(--slider-size) * 2)"}}),lg=fe((e,t)=>{const r=ie("Slider",qL,e),{classNames:n,styles:i,value:a,onChange:c,onChangeEnd:u,size:d,min:h,max:v,step:y,precision:w,defaultValue:S,name:_,marks:R,label:C,labelTransitionProps:E,labelAlwaysOn:b,thumbLabel:f,showLabelOnHover:p,thumbChildren:m,disabled:x,unstyled:k,scale:L,inverted:j,className:I,style:A,vars:N,hiddenInputProps:V,restrictToMarks:W,thumbProps:X,...O}=r,U=Ee({name:"Slider",props:r,classes:l1,classNames:n,className:I,styles:i,style:A,vars:N,varsResolver:GL,unstyled:k}),{dir:F}=Gs(),[z,q]=M.useState(!1),[B,Y]=ns({value:typeof a=="number"?za(a,h,v):a,defaultValue:typeof S=="number"?za(S,h,v):S,finalValue:za(0,h,v),onChange:c}),ae=M.useRef(B),de=M.useRef(null),ee=M.useRef(null),oe=i1({value:B,min:h,max:v}),ue=L(B),me=typeof C=="function"?C(ue):C,he=w??WL(y),Ce=M.useCallback(({x:Be})=>{if(!x){const Qe=HL({value:Be,min:h,max:v,step:y,precision:he});Y(W&&(R!=null&&R.length)?Iw(Qe,R.map(Ze=>Ze.value)):Qe),ae.current=Qe}},[x,h,v,y,he,Y,R,W]),{ref:ke,active:mt}=ST(Ce,{onScrubEnd:()=>!x&&(u==null?void 0:u(W&&(R!=null&&R.length)?Iw(ae.current,R.map(Be=>Be.value)):ae.current))},F),ot=Be=>{var Qe,Ze,qe,Ct,pt,Ue;if(!x)switch(Be.key){case"ArrowUp":{if(Be.preventDefault(),(Qe=ee.current)==null||Qe.focus(),W&&R){const it=Hp(B,R);Y(it),u==null||u(it);break}const Ne=xl(Math.min(Math.max(B+y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowRight":{if(Be.preventDefault(),(Ze=ee.current)==null||Ze.focus(),W&&R){const it=F==="rtl"?Wp(B,R):Hp(B,R);Y(it),u==null||u(it);break}const Ne=xl(Math.min(Math.max(F==="rtl"?B-y:B+y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowDown":{if(Be.preventDefault(),(qe=ee.current)==null||qe.focus(),W&&R){const it=Wp(B,R);Y(it),u==null||u(it);break}const Ne=xl(Math.min(Math.max(B-y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowLeft":{if(Be.preventDefault(),(Ct=ee.current)==null||Ct.focus(),W&&R){const it=F==="rtl"?Hp(B,R):Wp(B,R);Y(it),u==null||u(it);break}const Ne=xl(Math.min(Math.max(F==="rtl"?B+y:B-y,h),v),he);Y(Ne),u==null||u(Ne);break}case"Home":{if(Be.preventDefault(),(pt=ee.current)==null||pt.focus(),W&&R){Y(wS(R)),u==null||u(wS(R));break}Y(h),u==null||u(h);break}case"End":{if(Be.preventDefault(),(Ue=ee.current)==null||Ue.focus(),W&&R){Y(SS(R)),u==null||u(SS(R));break}Y(v),u==null||u(v);break}}};return P.jsx(UL,{value:{getStyles:U},children:P.jsxs(s1,{...O,ref:Ut(t,de),onKeyDownCapture:ot,onMouseDownCapture:()=>{var Be;return(Be=de.current)==null?void 0:Be.focus()},size:d,disabled:x,children:[P.jsx(c1,{inverted:j,offset:0,filled:oe,marks:R,min:h,max:v,value:ue,disabled:x,containerProps:{ref:ke,onMouseEnter:p?()=>q(!0):void 0,onMouseLeave:p?()=>q(!1):void 0},children:P.jsx(o1,{max:v,min:h,value:ue,position:oe,dragging:mt,label:me,ref:ee,labelTransitionProps:E,labelAlwaysOn:b,thumbLabel:f,showLabelOnHover:p,isHovered:z,disabled:x,...X,children:m})}),P.jsx("input",{type:"hidden",name:_,value:ue,...V})]})})});lg.classes=l1;lg.displayName="@mantine/core/Slider";var u1={root:"m_6d731127"};const KL={gap:"md",align:"stretch",justify:"flex-start"},YL=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":tr(t),"--stack-align":r,"--stack-justify":n}}),ft=fe((e,t)=>{const r=ie("Stack",KL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,align:h,justify:v,gap:y,variant:w,...S}=r,_=Ee({name:"Stack",props:r,classes:u1,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:YL});return P.jsx(re,{ref:t,..._("root"),variant:w,...S})});ft.classes=u1;ft.displayName="@mantine/core/Stack";const[XL,ug]=_n("Tabs component was not found in the tree");var ic={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const QL={},dg=fe((e,t)=>{const r=ie("TabsList",QL,e),{children:n,className:i,grow:a,justify:c,classNames:u,styles:d,style:h,mod:v,...y}=r,w=ug();return P.jsx(re,{...y,...w.getStyles("list",{className:i,style:h,classNames:u,styles:d,props:r,variant:w.variant}),ref:t,role:"tablist",variant:w.variant,mod:[{grow:a,orientation:w.orientation,placement:w.orientation==="vertical"&&w.placement,inverted:w.inverted},v],"aria-orientation":w.orientation,__vars:{"--tabs-justify":c},children:n})});dg.classes=ic;dg.displayName="@mantine/core/TabsList";const ZL={},fg=fe((e,t)=>{const r=ie("TabsPanel",ZL,e),{children:n,className:i,value:a,classNames:c,styles:u,style:d,mod:h,keepMounted:v,...y}=r,w=ug(),S=w.value===a,_=w.keepMounted||v||S?n:null;return P.jsx(re,{...y,...w.getStyles("panel",{className:i,classNames:c,styles:u,style:[d,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:w.orientation},h],role:"tabpanel",id:w.getPanelId(a),"aria-labelledby":w.getTabId(a),children:_})});fg.classes=ic;fg.displayName="@mantine/core/TabsPanel";const JL={},pg=fe((e,t)=>{const r=ie("TabsTab",JL,e),{className:n,children:i,rightSection:a,leftSection:c,value:u,onClick:d,onKeyDown:h,disabled:v,color:y,style:w,classNames:S,styles:_,vars:R,mod:C,tabIndex:E,...b}=r,f=nr(),{dir:p}=Gs(),m=ug(),x=u===m.value,k=j=>{m.onChange(m.allowTabDeactivation&&u===m.value?null:u),d==null||d(j)},L={classNames:S,styles:_,props:r};return P.jsxs(Ks,{...b,...m.getStyles("tab",{className:n,style:w,variant:m.variant,...L}),disabled:v,unstyled:m.unstyled,variant:m.variant,mod:[{active:x,disabled:v,orientation:m.orientation,inverted:m.inverted,placement:m.orientation==="vertical"&&m.placement},C],ref:t,role:"tab",id:m.getTabId(u),"aria-selected":x,tabIndex:E!==void 0?E:x||m.value===null?0:-1,"aria-controls":m.getPanelId(u),onClick:k,__vars:{"--tabs-color":y?hr(y,f):void 0},onKeyDown:gb({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:m.activateTabWithKeyboard,loop:m.loop,orientation:m.orientation||"horizontal",dir:p,onKeyDown:h}),children:[c&&P.jsx("span",{...m.getStyles("tabSection",L),"data-position":"left",children:c}),i&&P.jsx("span",{...m.getStyles("tabLabel",L),children:i}),a&&P.jsx("span",{...m.getStyles("tabSection",L),"data-position":"right",children:a})]})});pg.classes=ic;pg.displayName="@mantine/core/TabsTab";const _S="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",eI={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},tI=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":Tt(t),"--tabs-color":hr(r,e),"--tabs-text-color":Db(n,e)?om({color:r,theme:e,autoContrast:n}):void 0}}),hn=fe((e,t)=>{const r=ie("Tabs",eI,e),{defaultValue:n,value:i,onChange:a,orientation:c,children:u,loop:d,id:h,activateTabWithKeyboard:v,allowTabDeactivation:y,variant:w,color:S,radius:_,inverted:R,placement:C,keepMounted:E,classNames:b,styles:f,unstyled:p,className:m,style:x,vars:k,autoContrast:L,mod:j,...I}=r,A=Ws(h),[N,V]=ns({value:i,defaultValue:n,finalValue:null,onChange:a}),W=Ee({name:"Tabs",props:r,classes:ic,className:m,style:x,classNames:b,styles:f,unstyled:p,vars:k,varsResolver:tI});return P.jsx(XL,{value:{placement:C,value:N,orientation:c,id:A,loop:d,activateTabWithKeyboard:v,getTabId:Mw(`${A}-tab`,_S),getPanelId:Mw(`${A}-panel`,_S),onChange:V,allowTabDeactivation:y,variant:w,color:S,radius:_,inverted:R,keepMounted:E,unstyled:p,getStyles:W},children:P.jsx(re,{ref:t,id:A,variant:w,mod:[{orientation:c,inverted:c==="horizontal"&&R,placement:c==="vertical"&&C},j],...W("root"),...I,children:u})})});hn.classes=ic;hn.displayName="@mantine/core/Tabs";hn.Tab=pg;hn.Panel=fg;hn.List=dg;const rI={},Fn=fe((e,t)=>{const r=ie("TextInput",rI,e);return P.jsx(ds,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Fn.classes=ds.classes;Fn.displayName="@mantine/core/TextInput";const nI=["h1","h2","h3","h4","h5","h6"],sI=["xs","sm","md","lg","xl"];function oI(e,t){const r=t!==void 0?t:`h${e}`;return nI.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:sI.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var d1={root:"m_8a5d1357"};const iI={order:1},aI=(e,{order:t,size:r,lineClamp:n,textWrap:i})=>{const a=oI(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":i}}},ud=fe((e,t)=>{const r=ie("Title",iI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,order:d,vars:h,size:v,variant:y,lineClamp:w,textWrap:S,mod:_,...R}=r,C=Ee({name:"Title",props:r,classes:d1,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:aI});return[1,2,3,4,5,6].includes(d)?P.jsx(re,{...C("root"),component:`h${d}`,variant:y,ref:t,mod:[{order:d,"data-line-clamp":typeof w=="number"},_],size:v,...R}):null});ud.classes=d1;ud.displayName="@mantine/core/Title";function cI(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),n.forEach(a=>a(t))},initialize(i){r||(t=i,r=!0)},subscribe(i){return n.add(i),()=>n.delete(i)}}}function lI(e){return M.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function uI(e,t,r){const n=[],i=[],a={};for(const c of e){const u=c.position||t;a[u]=a[u]||0,a[u]+=1,a[u]<=r?i.push(c):n.push(c)}return{notifications:i,queue:n}}const dI=()=>cI({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Eo=dI(),fI=(e=Eo)=>lI(e);function ji(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),i=uI(n,r.defaultPosition,r.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function pI(e,t=Eo){const r=e.id||vb();return ji(t,n=>e.id&&n.some(i=>i.id===e.id)?n:[...n,{...e,id:r}]),r}function f1(e,t=Eo){return ji(t,r=>r.filter(n=>{var i;return n.id===e?((i=n.onClose)==null||i.call(n,n),!1):!0})),e}function hI(e,t=Eo){return ji(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function mI(e=Eo){ji(e,()=>[])}function gI(e=Eo){ji(e,t=>t.slice(0,e.getState().limit))}const Vs={show:pI,hide:f1,update:hI,clean:mI,cleanQueue:gI,updateState:ji};function Dh(e,t){return Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Dh(e,t)}function p1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dh(e,t)}const bS={disabled:!1},du=zt.createContext(null);var vI=function(t){return t.scrollTop},Oa="unmounted",ho="exited",mo="entering",pi="entered",Mh="exiting",hs=function(e){p1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=i,u=c&&!c.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?u?(d=ho,a.appearStatus=mo):d=pi:n.unmountOnExit||n.mountOnEnter?d=Oa:d=ho,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var c=i.in;return c&&a.status===Oa?{status:ho}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==mo&&c!==pi&&(a=mo):(c===mo||c===pi)&&(a=Mh)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,c,u;return a=c=u=i,i!=null&&typeof i!="number"&&(a=i.exit,c=i.enter,u=i.appear!==void 0?i.appear:c),{exit:a,enter:c,appear:u}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===mo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this);c&&vI(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ho&&this.setState({status:Oa})},r.performEnter=function(i){var a=this,c=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[ja.findDOMNode(this),u],h=d[0],v=d[1],y=this.getTimeouts(),w=u?y.appear:y.enter;if(!i&&!c||bS.disabled){this.safeSetState({status:pi},function(){a.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:mo},function(){a.props.onEntering(h,v),a.onTransitionEnd(w,function(){a.safeSetState({status:pi},function(){a.props.onEntered(h,v)})})})},r.performExit=function(){var i=this,a=this.props.exit,c=this.getTimeouts(),u=this.props.nodeRef?void 0:ja.findDOMNode(this);if(!a||bS.disabled){this.safeSetState({status:ho},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Mh},function(){i.props.onExiting(u),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:ho},function(){i.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,c=!0;return this.nextCallback=function(u){c&&(c=!1,a.nextCallback=null,i(u))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!c||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=d[0],v=d[1];this.props.addEndListener(h,v)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Oa)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=eg(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return zt.createElement(du.Provider,{value:null},typeof c=="function"?c(i,u):zt.cloneElement(zt.Children.only(c),u))},t}(zt.Component);hs.contextType=du;hs.propTypes={};function ui(){}hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ui,onEntering:ui,onEntered:ui,onExit:ui,onExiting:ui,onExited:ui};hs.UNMOUNTED=Oa;hs.EXITED=ho;hs.ENTERING=mo;hs.ENTERED=pi;hs.EXITING=Mh;function yI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hg(e,t){var r=function(a){return t&&M.isValidElement(a)?t(a):a},n=Object.create(null);return e&&M.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function wI(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var n=Object.create(null),i=[];for(var a in e)a in t?i.length&&(n[a]=i,i=[]):i.push(a);var c,u={};for(var d in t){if(n[d])for(c=0;c<n[d].length;c++){var h=n[d][c];u[n[d][c]]=r(h)}u[d]=r(d)}for(c=0;c<i.length;c++)u[i[c]]=r(i[c]);return u}function wo(e,t,r){return r[t]!=null?r[t]:e.props[t]}function SI(e,t){return hg(e.children,function(r){return M.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:wo(r,"appear",e),enter:wo(r,"enter",e),exit:wo(r,"exit",e)})})}function _I(e,t,r){var n=hg(e.children),i=wI(t,n);return Object.keys(i).forEach(function(a){var c=i[a];if(M.isValidElement(c)){var u=a in t,d=a in n,h=t[a],v=M.isValidElement(h)&&!h.props.in;d&&(!u||v)?i[a]=M.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:wo(c,"exit",e),enter:wo(c,"enter",e)}):!d&&u&&!v?i[a]=M.cloneElement(c,{in:!1}):d&&u&&M.isValidElement(h)&&(i[a]=M.cloneElement(c,{onExited:r.bind(null,c),in:h.props.in,exit:wo(c,"exit",e),enter:wo(c,"enter",e)}))}}),i}var bI=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},xI={component:"div",childFactory:function(t){return t}},Os=function(e){p1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=a.handleExited.bind(yI(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,u=a.handleExited,d=a.firstRender;return{children:d?SI(i,u):_I(i,c,u),firstRender:!1}},r.handleExited=function(i,a){var c=hg(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(u){var d=cu({},u.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,a=i.component,c=i.childFactory,u=eg(i,["component","childFactory"]),d=this.state.contextValue,h=bI(this.state.children).map(c);return delete u.appear,delete u.enter,delete u.exit,a===null?zt.createElement(du.Provider,{value:d},h):zt.createElement(du.Provider,{value:d},zt.createElement(a,u,h))},t}(zt.Component);Os.propTypes={};Os.defaultProps=xI;const h1=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function CI(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),h1.reduce((r,n)=>(r[n]=[],r),{}))}const xS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},RI={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function EI({state:e,maxHeight:t,position:r,transitionDuration:n}){const[i,a]=r.split("-"),c=a==="center"?`${i}-center`:a,u={opacity:0,maxHeight:t,transform:xS[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:RI[c]},h={opacity:0,maxHeight:0,transform:xS[c]};return{...u,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function TI(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const m1=M.forwardRef(({data:e,onHide:t,autoClose:r,...n},i)=>{const{autoClose:a,message:c,...u}=e,d=TI(r,e.autoClose),h=M.useRef(-1),v=()=>window.clearTimeout(h.current),y=()=>{t(e.id),v()},w=()=>{typeof d=="number"&&(h.current=window.setTimeout(y,d))};return M.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),M.useEffect(()=>(w(),v),[d]),P.jsx(og,{...n,...u,onClose:y,ref:i,onMouseEnter:v,onMouseLeave:w,children:c})});m1.displayName="@mantine/notifications/NotificationContainer";var g1={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const PI=hs,kI={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:gr("overlay"),store:Eo,withinPortal:!0},DI=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":te(r)}}),ms=fe((e,t)=>{const r=ie("Notifications",kI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,position:h,autoClose:v,transitionDuration:y,containerWidth:w,notificationMaxHeight:S,limit:_,zIndex:R,store:C,portalProps:E,withinPortal:b,...f}=r,p=nr(),m=fI(C),x=gT(),k=Cu(),L=M.useRef({}),j=M.useRef(0),A=(p.respectReducedMotion?k:!1)?1:y,N=Ee({name:"Notifications",classes:g1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:DI});M.useEffect(()=>{C==null||C.updateState(X=>({...X,limit:_||5,defaultPosition:h}))},[_,h]),$n(()=>{m.notifications.length>j.current&&setTimeout(()=>x(),0),j.current=m.notifications.length},[m.notifications]);const V=CI(m.notifications,h),W=h1.reduce((X,O)=>(X[O]=V[O].map(({style:U,...F})=>P.jsx(PI,{timeout:A,onEnter:()=>L.current[F.id].offsetHeight,nodeRef:{current:L.current[F.id]},children:z=>P.jsx(m1,{ref:q=>{L.current[F.id]=q},data:F,onHide:q=>f1(q,C),autoClose:v,...N("notification",{style:{...EI({state:z,position:O,transitionDuration:A,maxHeight:S}),...U}})})},F.id)),X),{});return P.jsxs(Ro,{withinPortal:b,...E,children:[P.jsx(re,{...N("root"),"data-position":"top-center",ref:t,...f,children:P.jsx(Os,{children:W["top-center"]})}),P.jsx(re,{...N("root"),"data-position":"top-left",...f,children:P.jsx(Os,{children:W["top-left"]})}),P.jsx(re,{...N("root",{className:eu.classNames.fullWidth}),"data-position":"top-right",...f,children:P.jsx(Os,{children:W["top-right"]})}),P.jsx(re,{...N("root",{className:eu.classNames.fullWidth}),"data-position":"bottom-right",...f,children:P.jsx(Os,{children:W["bottom-right"]})}),P.jsx(re,{...N("root"),"data-position":"bottom-left",...f,children:P.jsx(Os,{children:W["bottom-left"]})}),P.jsx(re,{...N("root"),"data-position":"bottom-center",...f,children:P.jsx(Os,{children:W["bottom-center"]})})]})});ms.classes=g1;ms.displayName="@mantine/notifications/Notifications";ms.show=Vs.show;ms.hide=Vs.hide;ms.update=Vs.update;ms.clean=Vs.clean;ms.cleanQueue=Vs.cleanQueue;ms.updateState=Vs.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}var As;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(As||(As={}));const CS="popstate";function MI(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:u="",hash:d=""}=To(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Lh("",{pathname:c,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof a=="string"?a:fu(a))}function n(i,a){mg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return II(t,r,n,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LI(){return Math.random().toString(36).substr(2,8)}function RS(e,t){return{usr:e.state,key:e.key,idx:t}}function Lh(e,t,r,n){return r===void 0&&(r=null),Ka({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:r,key:t&&t.key||n||LI()})}function fu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function II(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,u=As.Pop,d=null,h=v();h==null&&(h=0,c.replaceState(Ka({},c.state,{idx:h}),""));function v(){return(c.state||{idx:null}).idx}function y(){u=As.Pop;let C=v(),E=C==null?null:C-h;h=C,d&&d({action:u,location:R.location,delta:E})}function w(C,E){u=As.Push;let b=Lh(R.location,C,E);r&&r(b,C),h=v()+1;let f=RS(b,h),p=R.createHref(b);try{c.pushState(f,"",p)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;i.location.assign(p)}a&&d&&d({action:u,location:R.location,delta:1})}function S(C,E){u=As.Replace;let b=Lh(R.location,C,E);r&&r(b,C),h=v();let f=RS(b,h),p=R.createHref(b);c.replaceState(f,"",p),a&&d&&d({action:u,location:R.location,delta:0})}function _(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof C=="string"?C:fu(C);return b=b.replace(/ $/,"%20"),bt(E,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,E)}let R={get action(){return u},get location(){return e(i,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(CS,y),d=C,()=>{i.removeEventListener(CS,y),d=null}},createHref(C){return t(i,C)},createURL:_,encodeLocation(C){let E=_(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:S,go(C){return c.go(C)}};return R}var ES;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ES||(ES={}));function jI(e,t,r){return r===void 0&&(r="/"),OI(e,t,r)}function OI(e,t,r,n){let i=typeof t=="string"?To(t):t,a=gg(i.pathname||"/",r);if(a==null)return null;let c=v1(e);NI(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=KI(a);u=WI(c[d],h)}return u}function v1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=$s([n,d.relativePath]),v=r.concat(d);a.children&&a.children.length>0&&(bt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),v1(a.children,t,v,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:VI(h,a.index),routesMeta:v})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let d of y1(a.path))i(a,c,d)}),t}function y1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=y1(n.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function NI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AI=/^:[\w-]+$/,$I=3,FI=2,zI=1,BI=10,UI=-2,TS=e=>e==="*";function VI(e,t){let r=e.split("/"),n=r.length;return r.some(TS)&&(n+=UI),t&&(n+=FI),r.filter(i=>!TS(i)).reduce((i,a)=>i+(AI.test(a)?$I:a===""?zI:BI),n)}function HI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function WI(e,t,r){let{routesMeta:n}=e,i={},a="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,v=a==="/"?t:t.slice(a.length)||"/",y=qI({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},v),w=d.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:$s([a,y.pathname]),pathnameBase:ZI($s([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=$s([a,y.pathnameBase]))}return c}function qI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,v,y)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let R=u[y]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const _=u[y];return S&&!_?h[w]=void 0:h[w]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function GI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function KI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function YI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?To(e):e;return{pathname:r?r.startsWith("/")?r:XI(r,t):t,search:JI(n),hash:ej(i)}}function XI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function w1(e,t){let r=QI(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function S1(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=To(e):(i=Ka({},e),bt(!i.pathname||!i.pathname.includes("?"),qp("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),qp("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),qp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}u=y>=0?t[y]:"/"}let d=YI(i,u),h=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||v)&&(d.pathname+="/"),d}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),ZI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ej=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _1=["post","put","patch","delete"];new Set(_1);const rj=["get",..._1];new Set(rj);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(this,arguments)}const vg=M.createContext(null),nj=M.createContext(null),Po=M.createContext(null),dd=M.createContext(null),ko=M.createContext({outlet:null,matches:[],isDataRoute:!1}),b1=M.createContext(null);function sj(e,t){let{relative:r}=t===void 0?{}:t;ac()||bt(!1);let{basename:n,navigator:i}=M.useContext(Po),{hash:a,pathname:c,search:u}=C1(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:$s([n,c])),i.createHref({pathname:d,search:u,hash:a})}function ac(){return M.useContext(dd)!=null}function fd(){return ac()||bt(!1),M.useContext(dd).location}function x1(e){M.useContext(Po).static||M.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=M.useContext(ko);return e?vj():oj()}function oj(){ac()||bt(!1);let e=M.useContext(vg),{basename:t,future:r,navigator:n}=M.useContext(Po),{matches:i}=M.useContext(ko),{pathname:a}=fd(),c=JSON.stringify(w1(i,r.v7_relativeSplatPath)),u=M.useRef(!1);return x1(()=>{u.current=!0}),M.useCallback(function(h,v){if(v===void 0&&(v={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=S1(h,JSON.parse(c),a,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:$s([t,y.pathname])),(v.replace?n.replace:n.push)(y,v.state,v)},[t,n,c,a,e])}function C1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext(Po),{matches:i}=M.useContext(ko),{pathname:a}=fd(),c=JSON.stringify(w1(i,n.v7_relativeSplatPath));return M.useMemo(()=>S1(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function ij(e,t){return aj(e,t)}function aj(e,t,r,n){ac()||bt(!1);let{navigator:i}=M.useContext(Po),{matches:a}=M.useContext(ko),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=fd(),v;if(t){var y;let C=typeof t=="string"?To(t):t;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||bt(!1),v=C}else v=h;let w=v.pathname||"/",S=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=jI(e,{pathname:S}),R=fj(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:$s([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:$s([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return t&&R?M.createElement(dd.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:As.Pop}},R):R}function cj(){let e=gj(),t=tj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:i},r):null,null)}const lj=M.createElement(cj,null);class uj extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(ko.Provider,{value:this.props.routeContext},M.createElement(b1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dj(e){let{routeContext:t,match:r,children:n}=e,i=M.useContext(vg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(ko.Provider,{value:t},n)}function fj(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let v=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);v>=0||bt(!1),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=v),y.route.id){let{loaderData:w,errors:S}=r,_=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||_){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((v,y,w)=>{let S,_=!1,R=null,C=null;r&&(S=u&&y.route.id?u[y.route.id]:void 0,R=y.route.errorElement||lj,d&&(h<0&&w===0?(yj("route-fallback"),_=!0,C=null):h===w&&(_=!0,C=y.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,w+1)),b=()=>{let f;return S?f=R:_?f=C:y.route.Component?f=M.createElement(y.route.Component,null):y.route.element?f=y.route.element:f=v,M.createElement(dj,{match:y,routeContext:{outlet:v,matches:E,isDataRoute:r!=null},children:f})};return r&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?M.createElement(uj,{location:r.location,revalidation:r.revalidation,component:R,error:S,children:b(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):b()},null)}var R1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R1||{}),E1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E1||{});function pj(e){let t=M.useContext(vg);return t||bt(!1),t}function hj(e){let t=M.useContext(nj);return t||bt(!1),t}function mj(e){let t=M.useContext(ko);return t||bt(!1),t}function T1(e){let t=mj(),r=t.matches[t.matches.length-1];return r.route.id||bt(!1),r.route.id}function gj(){var e;let t=M.useContext(b1),r=hj(),n=T1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vj(){let{router:e}=pj(R1.UseNavigateStable),t=T1(E1.UseNavigateStable),r=M.useRef(!1);return x1(()=>{r.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ya({fromRouteId:t},a)))},[e,t])}const PS={};function yj(e,t,r){PS[e]||(PS[e]=!0)}const kS={};function wj(e,t){kS[t]||(kS[t]=!0,console.warn(t))}const DS=(e,t,r)=>wj(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Sj(e,t){e!=null&&e.v7_startTransition||DS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||DS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Na(e){bt(!1)}function _j(e){let{basename:t="/",children:r=null,location:n,navigationType:i=As.Pop,navigator:a,static:c=!1,future:u}=e;ac()&&bt(!1);let d=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:d,navigator:a,static:c,future:Ya({v7_relativeSplatPath:!1},u)}),[d,u,a,c]);typeof n=="string"&&(n=To(n));let{pathname:v="/",search:y="",hash:w="",state:S=null,key:_="default"}=n,R=M.useMemo(()=>{let C=gg(v,d);return C==null?null:{location:{pathname:C,search:y,hash:w,state:S,key:_},navigationType:i}},[d,v,y,w,S,_,i]);return R==null?null:M.createElement(Po.Provider,{value:h},M.createElement(dd.Provider,{children:r,value:R}))}function bj(e){let{children:t,location:r}=e;return ij(Ih(t),r)}new Promise(()=>{});function Ih(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,i)=>{if(!M.isValidElement(n))return;let a=[...t,i];if(n.type===M.Fragment){r.push.apply(r,Ih(n.props.children,a));return}n.type!==Na&&bt(!1),!n.props.index||!n.props.children||bt(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Ih(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function xj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Cj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rj(e,t){return e.button===0&&(!t||t==="_self")&&!Cj(e)}const Ej=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tj="6";try{window.__reactRouterVersion=Tj}catch{}const Pj="startTransition",MS=sb[Pj];function kj(e){let{basename:t,children:r,future:n,window:i}=e,a=M.useRef();a.current==null&&(a.current=MI({window:i,v5Compat:!0}));let c=a.current,[u,d]=M.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},v=M.useCallback(y=>{h&&MS?MS(()=>d(y)):d(y)},[d,h]);return M.useLayoutEffect(()=>c.listen(v),[c,v]),M.useEffect(()=>Sj(n),[n]),M.createElement(_j,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const Dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LS=M.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:u,target:d,to:h,preventScrollReset:v,viewTransition:y}=t,w=xj(t,Ej),{basename:S}=M.useContext(Po),_,R=!1;if(typeof h=="string"&&Mj.test(h)&&(_=h,Dj))try{let f=new URL(window.location.href),p=h.startsWith("//")?new URL(f.protocol+h):new URL(h),m=gg(p.pathname,S);p.origin===f.origin&&m!=null?h=m+p.search+p.hash:R=!0}catch{}let C=sj(h,{relative:i}),E=Lj(h,{replace:c,state:u,target:d,preventScrollReset:v,relative:i,viewTransition:y});function b(f){n&&n(f),f.defaultPrevented||E(f)}return M.createElement("a",jh({},w,{href:_||C,onClick:R||a?n:b,ref:r,target:d}))});var IS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(IS||(IS={}));var jS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function Lj(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,d=Do(),h=fd(),v=C1(e,{relative:c});return M.useCallback(y=>{if(Rj(y,r)){y.preventDefault();let w=n!==void 0?n:fu(h)===fu(v);d(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[h,d,v,n,i,r,e,a,c,u])}const P1=M.createContext(void 0),k1=M.createContext(null),Mo=()=>{const e=M.useContext(k1);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},zn=Object.create(null);zn.open="0";zn.close="1";zn.ping="2";zn.pong="3";zn.message="4";zn.upgrade="5";zn.noop="6";const $l=Object.create(null);Object.keys(zn).forEach(e=>{$l[zn[e]]=e});const Oh={type:"error",data:"parser error"},D1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",M1=typeof ArrayBuffer=="function",L1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,yg=({type:e,data:t},r,n)=>D1&&t instanceof Blob?r?n(t):OS(t,n):M1&&(t instanceof ArrayBuffer||L1(t))?r?n(t):OS(new Blob([t]),n):n(zn[e]+(t||"")),OS=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function NS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Gp;function Ij(e,t){if(D1&&e.data instanceof Blob)return e.data.arrayBuffer().then(NS).then(t);if(M1&&(e.data instanceof ArrayBuffer||L1(e.data)))return t(NS(e.data));yg(e,!1,r=>{Gp||(Gp=new TextEncoder),t(Gp.encode(r))})}const AS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<AS.length;e++)Aa[AS.charCodeAt(e)]=e;const jj=e=>{let t=e.length*.75,r=e.length,n,i=0,a,c,u,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),v=new Uint8Array(h);for(n=0;n<r;n+=4)a=Aa[e.charCodeAt(n)],c=Aa[e.charCodeAt(n+1)],u=Aa[e.charCodeAt(n+2)],d=Aa[e.charCodeAt(n+3)],v[i++]=a<<2|c>>4,v[i++]=(c&15)<<4|u>>2,v[i++]=(u&3)<<6|d&63;return h},Oj=typeof ArrayBuffer=="function",wg=(e,t)=>{if(typeof e!="string")return{type:"message",data:I1(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Nj(e.substring(1),t)}:$l[r]?e.length>1?{type:$l[r],data:e.substring(1)}:{type:$l[r]}:Oh},Nj=(e,t)=>{if(Oj){const r=jj(e);return I1(r,t)}else return{base64:!0,data:e}},I1=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},j1="",Aj=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,c)=>{yg(a,!1,u=>{n[c]=u,++i===r&&t(n.join(j1))})})},$j=(e,t)=>{const r=e.split(j1),n=[];for(let i=0;i<r.length;i++){const a=wg(r[i],t);if(n.push(a),a.type==="error")break}return n};function Fj(){return new TransformStream({transform(e,t){Ij(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Kp;function Cl(e){return e.reduce((t,r)=>t+r.length,0)}function Rl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function zj(e,t){Kp||(Kp=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(c,u){for(r.push(c);;){if(n===0){if(Cl(r)<1)break;const d=Rl(r,1);a=(d[0]&128)===128,i=d[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Cl(r)<2)break;const d=Rl(r,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Cl(r)<8)break;const d=Rl(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),v=h.getUint32(0);if(v>Math.pow(2,21)-1){u.enqueue(Oh);break}i=v*Math.pow(2,32)+h.getUint32(4),n=3}else{if(Cl(r)<i)break;const d=Rl(r,i);u.enqueue(wg(a?d:Kp.decode(d),t)),n=0}if(i===0||i>e){u.enqueue(Oh);break}}}})}const O1=4;function _t(e){if(e)return Bj(e)}function Bj(e){for(var t in _t.prototype)e[t]=_t.prototype[t];return e}_t.prototype.on=_t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};_t.prototype.off=_t.prototype.removeListener=_t.prototype.removeAllListeners=_t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};_t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};_t.prototype.emitReserved=_t.prototype.emit;_t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_t.prototype.hasListeners=function(e){return!!this.listeners(e).length};const pd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Ar=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Uj="arraybuffer";function N1(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Vj=Ar.setTimeout,Hj=Ar.clearTimeout;function hd(e,t){t.useNativeTimers?(e.setTimeoutFn=Vj.bind(Ar),e.clearTimeoutFn=Hj.bind(Ar)):(e.setTimeoutFn=Ar.setTimeout.bind(Ar),e.clearTimeoutFn=Ar.clearTimeout.bind(Ar))}const Wj=1.33;function qj(e){return typeof e=="string"?Gj(e):Math.ceil((e.byteLength||e.size)*Wj)}function Gj(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function A1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Kj(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Yj(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Xj extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Sg=class extends _t{constructor(t){super(),this.writable=!1,hd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Xj(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=wg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Kj(t);return r.length?"?"+r:""}};class Qj extends Sg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};$j(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Aj(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=A1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let $1=!1;try{$1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Zj=$1;function Jj(){}class eO extends Qj{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class An extends _t{constructor(t,r,n){super(),this.createRequest=t,hd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=N1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=An.requestsCount++,An.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Jj,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete An.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}An.requestsCount=0;An.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$S);else if(typeof addEventListener=="function"){const e="onpagehide"in Ar?"pagehide":"unload";addEventListener(e,$S,!1)}}function $S(){for(let e in An.requests)An.requests.hasOwnProperty(e)&&An.requests[e].abort()}const tO=function(){const e=F1({xdomain:!1});return e&&e.responseType!==null}();class rO extends eO{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=tO&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new An(F1,this.uri(),t)}}function F1(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Zj))return new XMLHttpRequest}catch{}if(!t)try{return new Ar[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const z1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class nO extends Sg{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=z1?{}:N1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;yg(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&pd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=A1()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Yp=Ar.WebSocket||Ar.MozWebSocket;class sO extends nO{createSocket(t,r,n){return z1?new Yp(t,r,n):r?new Yp(t,r):new Yp(t)}doWrite(t,r){this.ws.send(r)}}class oO extends Sg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=zj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=Fj();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:u,value:d})=>{u||(this.onPacket(d),a())}).catch(u=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&pd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const iO={websocket:sO,webtransport:oO,polling:rO},aO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=aO.exec(e||""),a={},c=14;for(;c--;)a[cO[c]]=i[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=lO(a,a.path),a.queryKey=uO(a,a.query),a}function lO(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function uO(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Ah=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fl=[];Ah&&addEventListener("offline",()=>{Fl.forEach(e=>e())},!1);class Fs extends _t{constructor(t,r){if(super(),this.binaryType=Uj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Nh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Nh(r.host).host);hd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Yj(this.opts.query)),Ah&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=O1,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Fs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Fs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=qj(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,pd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Fs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ah&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Fl.indexOf(this._offlineEventListener);n!==-1&&Fl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Fs.protocol=O1;class dO extends Fs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Fs.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Fs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function a(){n||(n=!0,v(),r.close(),r=null)}const c=y=>{const w=new Error("probe error: "+y);w.transport=r.name,a(),this.emitReserved("upgradeError",w)};function u(){c("transport closed")}function d(){c("socket closed")}function h(y){r&&y.name!==r.name&&a()}const v=()=>{r.removeListener("open",i),r.removeListener("error",c),r.removeListener("close",u),this.off("close",d),this.off("upgrading",h)};r.once("open",i),r.once("error",c),r.once("close",u),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let fO=class extends dO{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>iO[i]).filter(i=>!!i)),super(t,n)}};function pO(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Nh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const hO=typeof ArrayBuffer=="function",mO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,B1=Object.prototype.toString,gO=typeof Blob=="function"||typeof Blob<"u"&&B1.call(Blob)==="[object BlobConstructor]",vO=typeof File=="function"||typeof File<"u"&&B1.call(File)==="[object FileConstructor]";function _g(e){return hO&&(e instanceof ArrayBuffer||mO(e))||gO&&e instanceof Blob||vO&&e instanceof File}function zl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(zl(e[r]))return!0;return!1}if(_g(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return zl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&zl(e[r]))return!0;return!1}function yO(e){const t=[],r=e.data,n=e;return n.data=$h(r,t),n.attachments=t.length,{packet:n,buffers:t}}function $h(e,t){if(!e)return e;if(_g(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=$h(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=$h(e[n],t));return r}return e}function wO(e,t){return e.data=Fh(e.data,t),delete e.attachments,e}function Fh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Fh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Fh(e[r],t));return e}const SO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_O=5;var Oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Oe||(Oe={}));class bO{constructor(t){this.replacer=t}encode(t){return(t.type===Oe.EVENT||t.type===Oe.ACK)&&zl(t)?this.encodeAsBinary({type:t.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Oe.BINARY_EVENT||t.type===Oe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=yO(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function FS(e){return Object.prototype.toString.call(e)==="[object Object]"}class bg extends _t{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Oe.BINARY_EVENT;n||r.type===Oe.BINARY_ACK?(r.type=n?Oe.EVENT:Oe.ACK,this.reconstructor=new xO(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(_g(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Oe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Oe.BINARY_EVENT||n.type===Oe.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(bg.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Oe.CONNECT:return FS(r);case Oe.DISCONNECT:return r===void 0;case Oe.CONNECT_ERROR:return typeof r=="string"||FS(r);case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&SO.indexOf(r[0])===-1);case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=wO(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const CO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bg,Encoder:bO,get PacketType(){return Oe},protocol:_O},Symbol.toStringTag,{value:"Module"}));function pn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const RO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class U1 extends _t{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[pn(t,"open",this.onopen.bind(this)),pn(t,"packet",this.onpacket.bind(this)),pn(t,"error",this.onerror.bind(this)),pn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(RO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Oe.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,y=r.pop();this._registerAckCallback(v,y),c.id=v}const u=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(a),r.apply(this,u)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(c,u)=>c?i(c):n(u);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Oe.EVENT:case Oe.BINARY_EVENT:this.onevent(t);break;case Oe.ACK:case Oe.BINARY_ACK:this.onack(t);break;case Oe.DISCONNECT:this.ondisconnect();break;case Oe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Oe.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Oi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Oi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Oi.prototype.reset=function(){this.attempts=0};Oi.prototype.setMin=function(e){this.ms=e};Oi.prototype.setMax=function(e){this.max=e};Oi.prototype.setJitter=function(e){this.jitter=e};class zh extends _t{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,hd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Oi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||CO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new fO(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=pn(r,"open",function(){n.onopen(),t&&t()}),a=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=pn(r,"error",a);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(pn(t,"ping",this.onping.bind(this)),pn(t,"data",this.ondata.bind(this)),pn(t,"error",this.onerror.bind(this)),pn(t,"close",this.onclose.bind(this)),pn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){pd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new U1(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xa={};function Bl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=pO(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,c=xa[i]&&a in xa[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return u?d=new zh(n,t):(xa[i]||(xa[i]=new zh(n,t)),d=xa[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Bl,{Manager:zh,Socket:U1,io:Bl,connect:Bl});const It="https://hitscord-backend.online",EO="https://hitscord-backend.ru/mediasoup",Me=Bl(EO);Me.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var Qr={},El={exports:{}},Xp,zS;function TO(){if(zS)return Xp;zS=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;Xp=function(v,y){y=y||{};var w=typeof v;if(w==="string"&&v.length>0)return c(v);if(w==="number"&&isFinite(v))return y.long?d(v):u(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function c(v){if(v=String(v),!(v.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(y){var w=parseFloat(y[1]),S=(y[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function u(v){var y=Math.abs(v);return y>=n?Math.round(v/n)+"d":y>=r?Math.round(v/r)+"h":y>=t?Math.round(v/t)+"m":y>=e?Math.round(v/e)+"s":v+"ms"}function d(v){var y=Math.abs(v);return y>=n?h(v,y,n,"day"):y>=r?h(v,y,r,"hour"):y>=t?h(v,y,t,"minute"):y>=e?h(v,y,e,"second"):v+" ms"}function h(v,y,w,S){var _=y>=w*1.5;return Math.round(v/w)+" "+S+(_?"s":"")}return Xp}var Qp,BS;function PO(){if(BS)return Qp;BS=1;function e(t){n.debug=n,n.default=n,n.coerce=h,n.disable=c,n.enable=a,n.enabled=u,n.humanize=TO(),n.destroy=v,Object.keys(t).forEach(y=>{n[y]=t[y]}),n.names=[],n.skips=[],n.formatters={};function r(y){let w=0;for(let S=0;S<y.length;S++)w=(w<<5)-w+y.charCodeAt(S),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=r;function n(y){let w,S=null,_,R;function C(...E){if(!C.enabled)return;const b=C,f=Number(new Date),p=f-(w||f);b.diff=p,b.prev=w,b.curr=f,w=f,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let m=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(k,L)=>{if(k==="%%")return"%";m++;const j=n.formatters[L];if(typeof j=="function"){const I=E[m];k=j.call(b,I),E.splice(m,1),m--}return k}),n.formatArgs.call(b,E),(b.log||n.log).apply(b,E)}return C.namespace=y,C.useColors=n.useColors(),C.color=n.selectColor(y),C.extend=i,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(_!==n.namespaces&&(_=n.namespaces,R=n.enabled(y)),R),set:E=>{S=E}}),typeof n.init=="function"&&n.init(C),C}function i(y,w){const S=n(this.namespace+(typeof w>"u"?":":w)+y);return S.log=this.log,S}function a(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let w;const S=(typeof y=="string"?y:"").split(/[\s,]+/),_=S.length;for(w=0;w<_;w++)S[w]&&(y=S[w].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function c(){const y=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),y}function u(y){if(y[y.length-1]==="*")return!0;let w,S;for(w=0,S=n.skips.length;w<S;w++)if(n.skips[w].test(y))return!1;for(w=0,S=n.names.length;w<S;w++)if(n.names[w].test(y))return!0;return!1}function d(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function h(y){return y instanceof Error?y.stack||y.message:y}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Qp=e,Qp}var US;function md(){return US||(US=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=c,t.useColors=n,t.storage=u(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;h.splice(1,0,v,"color: inherit");let y=0,w=0;h[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(y++,S==="%c"&&(w=y))}),h.splice(w,0,v)}t.log=console.debug||console.log||(()=>{});function a(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function c(){let h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function u(){try{return localStorage}catch{}}e.exports=PO()(t);const{formatters:d}=e.exports;d.j=function(h){try{return JSON.stringify(h)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}(El,El.exports)),El.exports}var Nr={},$a={exports:{}},kO=$a.exports,VS;function DO(){return VS||(VS=1,function(e,t){(function(r,n){var i="1.0.39",a="",c="?",u="function",d="undefined",h="object",v="string",y="major",w="model",S="name",_="type",R="vendor",C="version",E="architecture",b="console",f="mobile",p="tablet",m="smarttv",x="wearable",k="embedded",L=500,j="Amazon",I="Apple",A="ASUS",N="BlackBerry",V="Browser",W="Chrome",X="Edge",O="Firefox",U="Google",F="Huawei",z="LG",q="Microsoft",B="Motorola",Y="Opera",ae="Samsung",de="Sharp",ee="Sony",oe="Xiaomi",ue="Zebra",me="Facebook",he="Chromium OS",Ce="Mac OS",ke=" Browser",mt=function(Te,Pe){var ye={};for(var Ie in Te)Pe[Ie]&&Pe[Ie].length%2===0?ye[Ie]=Pe[Ie].concat(Te[Ie]):ye[Ie]=Te[Ie];return ye},ot=function(Te){for(var Pe={},ye=0;ye<Te.length;ye++)Pe[Te[ye].toUpperCase()]=Te[ye];return Pe},Be=function(Te,Pe){return typeof Te===v?Qe(Pe).indexOf(Qe(Te))!==-1:!1},Qe=function(Te){return Te.toLowerCase()},Ze=function(Te){return typeof Te===v?Te.replace(/[^\d\.]/g,a).split(".")[0]:n},qe=function(Te,Pe){if(typeof Te===v)return Te=Te.replace(/^\s\s*/,a),typeof Pe===d?Te:Te.substring(0,L)},Ct=function(Te,Pe){for(var ye=0,Ie,gt,$e,je,Se,ct;ye<Pe.length&&!Se;){var Un=Pe[ye],jo=Pe[ye+1];for(Ie=gt=0;Ie<Un.length&&!Se&&Un[Ie];)if(Se=Un[Ie++].exec(Te),Se)for($e=0;$e<jo.length;$e++)ct=Se[++gt],je=jo[$e],typeof je===h&&je.length>0?je.length===2?typeof je[1]==u?this[je[0]]=je[1].call(this,ct):this[je[0]]=je[1]:je.length===3?typeof je[1]===u&&!(je[1].exec&&je[1].test)?this[je[0]]=ct?je[1].call(this,ct,je[2]):n:this[je[0]]=ct?ct.replace(je[1],je[2]):n:je.length===4&&(this[je[0]]=ct?je[3].call(this,ct.replace(je[1],je[2])):n):this[je]=ct||n;ye+=2}},pt=function(Te,Pe){for(var ye in Pe)if(typeof Pe[ye]===h&&Pe[ye].length>0){for(var Ie=0;Ie<Pe[ye].length;Ie++)if(Be(Pe[ye][Ie],Te))return ye===c?n:ye}else if(Be(Pe[ye],Te))return ye===c?n:ye;return Pe.hasOwnProperty("*")?Pe["*"]:Te},Ue={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},it={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,C],[/opios[\/ ]+([\w\.]+)/i],[C,[S,Y+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[C,[S,Y+" GX"]],[/\bopr\/([\w\.]+)/i],[C,[S,Y]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,C],[/quark(?:pc)?\/([-\w\.]+)/i],[C,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[C,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[S,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[S,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+V],C],[/\bfocus\/([\w\.]+)/i],[C,[S,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[S,Y+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[S,Y+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[S,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[C,[S,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+ke]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],C],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+ke],C],[/samsungbrowser\/([\w\.]+)/i],[C,[S,ae+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,C],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,me],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[S,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[C,pt,Ue]],[/(webkit|khtml)\/([\w\.]+)/i],[S,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],C],[/(wolvic)\/([\w\.]+)/i],[S,C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[S,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[C,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,Qe]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,a,Qe]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,Qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[R,ae],[_,p]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[R,ae],[_,f]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[R,I],[_,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[R,I],[_,p]],[/(macintosh);/i],[w,[R,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[R,de],[_,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[R,F],[_,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[R,F],[_,f]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[w,/_/g," "],[R,oe],[_,f]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[R,oe],[_,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[R,"OPPO"],[_,f]],[/\b(opd2\d{3}a?) bui/i],[w,[R,"OPPO"],[_,p]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[R,"Vivo"],[_,f]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[R,"Realme"],[_,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[R,B],[_,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[R,B],[_,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[R,z],[_,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[R,z],[_,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[R,"Lenovo"],[_,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[R,"Nokia"],[_,f]],[/(pixel c)\b/i],[w,[R,U],[_,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[R,U],[_,f]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[R,ee],[_,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[R,ee],[_,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[R,"OnePlus"],[_,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[R,j],[_,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[R,j],[_,f]],[/(playbook);[-\w\),; ]+(rim)/i],[w,R,[_,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[R,N],[_,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[R,A],[_,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[R,A],[_,f]],[/(nexus 9)/i],[w,[R,"HTC"],[_,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[R,[w,/_/g," "],[_,f]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[w,[R,"TCL"],[_,p]],[/(itel) ((\w+))/i],[[R,Qe],w,[_,pt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[R,"Acer"],[_,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[R,"Meizu"],[_,f]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[R,"Ulefone"],[_,f]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[R,"Nothing"],[_,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[R,w,[_,f]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[R,w,[_,p]],[/(surface duo)/i],[w,[R,q],[_,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[R,"Fairphone"],[_,f]],[/(u304aa)/i],[w,[R,"AT&T"],[_,f]],[/\bsie-(\w*)/i],[w,[R,"Siemens"],[_,f]],[/\b(rct\w+) b/i],[w,[R,"RCA"],[_,p]],[/\b(venue[\d ]{2,7}) b/i],[w,[R,"Dell"],[_,p]],[/\b(q(?:mv|ta)\w+) b/i],[w,[R,"Verizon"],[_,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[R,"Barnes & Noble"],[_,p]],[/\b(tm\d{3}\w+) b/i],[w,[R,"NuVision"],[_,p]],[/\b(k88) b/i],[w,[R,"ZTE"],[_,p]],[/\b(nx\d{3}j) b/i],[w,[R,"ZTE"],[_,f]],[/\b(gen\d{3}) b.+49h/i],[w,[R,"Swiss"],[_,f]],[/\b(zur\d{3}) b/i],[w,[R,"Swiss"],[_,p]],[/\b((zeki)?tb.*\b) b/i],[w,[R,"Zeki"],[_,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[R,"Dragon Touch"],w,[_,p]],[/\b(ns-?\w{0,9}) b/i],[w,[R,"Insignia"],[_,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[R,"NextBook"],[_,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[R,"Voice"],w,[_,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[R,"LvTel"],w,[_,f]],[/\b(ph-1) /i],[w,[R,"Essential"],[_,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[R,"Envizen"],[_,p]],[/\b(trio[-\w\. ]+) b/i],[w,[R,"MachSpeed"],[_,p]],[/\btu_(1491) b/i],[w,[R,"Rotor"],[_,p]],[/(shield[\w ]+) b/i],[w,[R,"Nvidia"],[_,p]],[/(sprint) (\w+)/i],[R,w,[_,f]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[R,q],[_,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[R,ue],[_,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[R,ue],[_,f]],[/smart-tv.+(samsung)/i],[R,[_,m]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[R,ae],[_,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[R,z],[_,m]],[/(apple) ?tv/i],[R,[w,I+" TV"],[_,m]],[/crkey/i],[[w,W+"cast"],[R,U],[_,m]],[/droid.+aft(\w+)( bui|\))/i],[w,[R,j],[_,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[R,de],[_,m]],[/(bravia[\w ]+)( bui|\))/i],[w,[R,ee],[_,m]],[/(mitv-\w{5}) bui/i],[w,[R,oe],[_,m]],[/Hbbtv.*(technisat) (.*);/i],[R,w,[_,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[R,qe],[w,qe],[_,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[R,w,[_,b]],[/droid.+; (shield) bui/i],[w,[R,"Nvidia"],[_,b]],[/(playstation [345portablevi]+)/i],[w,[R,ee],[_,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[R,q],[_,b]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[w,[R,ae],[_,x]],[/((pebble))app/i],[R,w,[_,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[R,I],[_,x]],[/droid.+; (glass) \d/i],[w,[R,U],[_,x]],[/droid.+; (wt63?0{2,3})\)/i],[w,[R,ue],[_,x]],[/(quest( \d| pro)?)/i],[w,[R,me],[_,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[R,[_,k]],[/(aeobc)\b/i],[w,[R,j],[_,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[_,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[_,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,p]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,f]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[R,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[S,X+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[C,pt,Ne]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,pt,Ne],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,Ce],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,C],[/\(bb(10);/i],[C,[S,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[S,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,he],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,C],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,C]]},kt=function(Te,Pe){if(typeof Te===h&&(Pe=Te,Te=n),!(this instanceof kt))return new kt(Te,Pe).getResult();var ye=typeof r!==d&&r.navigator?r.navigator:n,Ie=Te||(ye&&ye.userAgent?ye.userAgent:a),gt=ye&&ye.userAgentData?ye.userAgentData:n,$e=Pe?mt(it,Pe):it,je=ye&&ye.userAgent==Ie;return this.getBrowser=function(){var Se={};return Se[S]=n,Se[C]=n,Ct.call(Se,Ie,$e.browser),Se[y]=Ze(Se[C]),je&&ye&&ye.brave&&typeof ye.brave.isBrave==u&&(Se[S]="Brave"),Se},this.getCPU=function(){var Se={};return Se[E]=n,Ct.call(Se,Ie,$e.cpu),Se},this.getDevice=function(){var Se={};return Se[R]=n,Se[w]=n,Se[_]=n,Ct.call(Se,Ie,$e.device),je&&!Se[_]&&gt&&gt.mobile&&(Se[_]=f),je&&Se[w]=="Macintosh"&&ye&&typeof ye.standalone!==d&&ye.maxTouchPoints&&ye.maxTouchPoints>2&&(Se[w]="iPad",Se[_]=p),Se},this.getEngine=function(){var Se={};return Se[S]=n,Se[C]=n,Ct.call(Se,Ie,$e.engine),Se},this.getOS=function(){var Se={};return Se[S]=n,Se[C]=n,Ct.call(Se,Ie,$e.os),je&&!Se[S]&&gt&&gt.platform&&gt.platform!="Unknown"&&(Se[S]=gt.platform.replace(/chrome os/i,he).replace(/macos/i,Ce)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ie},this.setUA=function(Se){return Ie=typeof Se===v&&Se.length>L?qe(Se,L):Se,this},this.setUA(Ie),this};kt.VERSION=i,kt.BROWSER=ot([S,C,y]),kt.CPU=ot([E]),kt.DEVICE=ot([w,R,_,b,f,m,p,x,k]),kt.ENGINE=kt.OS=ot([S,C]),e.exports&&(t=e.exports=kt),t.UAParser=kt;var at=typeof r!==d&&(r.jQuery||r.Zepto);if(at&&!at.ua){var jt=new kt;at.ua=jt.getResult(),at.ua.get=function(){return jt.getUA()},at.ua.set=function(Te){jt.setUA(Te);var Pe=jt.getResult();for(var ye in Pe)at.ua[ye]=Pe[ye]}}})(typeof window=="object"?window:kO)}($a,$a.exports)),$a.exports}var lo={},HS;function xt(){if(HS)return lo;HS=1;var e=lo&&lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(lo,"__esModule",{value:!0}),lo.Logger=void 0;const t=e(md()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return lo.Logger=n,lo}var Ca={},Tl={exports:{}},WS;function MO(){if(WS)return Tl.exports;WS=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(m,x,k){return Function.prototype.apply.call(m,x,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:r=function(m){return Object.getOwnPropertyNames(m)};function n(p){console&&console.warn&&console.warn(p)}var i=Number.isNaN||function(m){return m!==m};function a(){a.init.call(this)}Tl.exports=a,Tl.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(p){if(typeof p!="number"||p<0||i(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");c=p}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||i(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this};function d(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(m){for(var x=[],k=1;k<arguments.length;k++)x.push(arguments[k]);var L=m==="error",j=this._events;if(j!==void 0)L=L&&j.error===void 0;else if(!L)return!1;if(L){var I;if(x.length>0&&(I=x[0]),I instanceof Error)throw I;var A=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw A.context=I,A}var N=j[m];if(N===void 0)return!1;if(typeof N=="function")t(N,this,x);else for(var V=N.length,W=_(N,V),k=0;k<V;++k)t(W[k],this,x);return!0};function h(p,m,x,k){var L,j,I;if(u(x),j=p._events,j===void 0?(j=p._events=Object.create(null),p._eventsCount=0):(j.newListener!==void 0&&(p.emit("newListener",m,x.listener?x.listener:x),j=p._events),I=j[m]),I===void 0)I=j[m]=x,++p._eventsCount;else if(typeof I=="function"?I=j[m]=k?[x,I]:[I,x]:k?I.unshift(x):I.push(x),L=d(p),L>0&&I.length>L&&!I.warned){I.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=p,A.type=m,A.count=I.length,n(A)}return p}a.prototype.addListener=function(m,x){return h(this,m,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,x){return h(this,m,x,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(p,m,x){var k={fired:!1,wrapFn:void 0,target:p,type:m,listener:x},L=v.bind(k);return L.listener=x,k.wrapFn=L,L}a.prototype.once=function(m,x){return u(x),this.on(m,y(this,m,x)),this},a.prototype.prependOnceListener=function(m,x){return u(x),this.prependListener(m,y(this,m,x)),this},a.prototype.removeListener=function(m,x){var k,L,j,I,A;if(u(x),L=this._events,L===void 0)return this;if(k=L[m],k===void 0)return this;if(k===x||k.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[m],L.removeListener&&this.emit("removeListener",m,k.listener||x));else if(typeof k!="function"){for(j=-1,I=k.length-1;I>=0;I--)if(k[I]===x||k[I].listener===x){A=k[I].listener,j=I;break}if(j<0)return this;j===0?k.shift():R(k,j),k.length===1&&(L[m]=k[0]),L.removeListener!==void 0&&this.emit("removeListener",m,A||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var x,k,L;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[m]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[m]),this;if(arguments.length===0){var j=Object.keys(k),I;for(L=0;L<j.length;++L)I=j[L],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=k[m],typeof x=="function")this.removeListener(m,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(m,x[L]);return this};function w(p,m,x){var k=p._events;if(k===void 0)return[];var L=k[m];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?C(L):_(L,L.length)}a.prototype.listeners=function(m){return w(this,m,!0)},a.prototype.rawListeners=function(m){return w(this,m,!1)},a.listenerCount=function(p,m){return typeof p.listenerCount=="function"?p.listenerCount(m):S.call(p,m)},a.prototype.listenerCount=S;function S(p){var m=this._events;if(m!==void 0){var x=m[p];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function _(p,m){for(var x=new Array(m),k=0;k<m;++k)x[k]=p[k];return x}function R(p,m){for(;m+1<p.length;m++)p[m]=p[m+1];p.pop()}function C(p){for(var m=new Array(p.length),x=0;x<m.length;++x)m[x]=p[x].listener||p[x];return m}function E(p,m){return new Promise(function(x,k){function L(I){p.removeListener(m,j),k(I)}function j(){typeof p.removeListener=="function"&&p.removeListener("error",L),x([].slice.call(arguments))}f(p,m,j,{once:!0}),m!=="error"&&b(p,L,{once:!0})})}function b(p,m,x){typeof p.on=="function"&&f(p,"error",m,x)}function f(p,m,x,k){if(typeof p.on=="function")k.once?p.once(m,x):p.on(m,x);else if(typeof p.addEventListener=="function")p.addEventListener(m,function L(j){k.once&&p.removeEventListener(m,L),x(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}return Tl.exports}var qS;function Lo(){if(qS)return Ca;qS=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.EnhancedEventEmitter=void 0;const e=MO(),t=xt(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(u){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,u);try{super.emit("listenererror",a,u)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return Ca.EnhancedEventEmitter=n,Ca}var uo={},GS;function sr(){if(GS)return uo;GS=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.InvalidStateError=uo.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}uo.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return uo.InvalidStateError=t,uo}var di={},KS;function Vt(){if(KS)return di;KS=1,Object.defineProperty(di,"__esModule",{value:!0}),di.clone=e,di.generateRandomNumber=t,di.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const i=Reflect.ownKeys(n);for(const a of i){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return di}var wt={},dt={},fo={},YS;function LO(){if(YS)return fo;YS=1;var e=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0}),fo.Logger=void 0;const t=e(md()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return fo.Logger=n,fo}var XS;function IO(){if(XS)return dt;XS=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.generateProfileLevelIdStringForAnswer=dt.isSameProfile=dt.parseSdpProfileLevelId=dt.levelToString=dt.profileToString=dt.profileLevelIdToString=dt.parseProfileLevelId=dt.ProfileLevelId=dt.Level=dt.Profile=void 0;const e=LO(),t=new e.Logger;var r;(function(p){p[p.ConstrainedBaseline=1]="ConstrainedBaseline",p[p.Baseline=2]="Baseline",p[p.Main=3]="Main",p[p.ConstrainedHigh=4]="ConstrainedHigh",p[p.High=5]="High",p[p.PredictiveHigh444=6]="PredictiveHigh444"})(r||(dt.Profile=r={}));var n;(function(p){p[p.L1_b=0]="L1_b",p[p.L1=10]="L1",p[p.L1_1=11]="L1_1",p[p.L1_2=12]="L1_2",p[p.L1_3=13]="L1_3",p[p.L2=20]="L2",p[p.L2_1=21]="L2_1",p[p.L2_2=22]="L2_2",p[p.L3=30]="L3",p[p.L3_1=31]="L3_1",p[p.L3_2=32]="L3_2",p[p.L4=40]="L4",p[p.L4_1=41]="L4_1",p[p.L4_2=42]="L4_2",p[p.L5=50]="L5",p[p.L5_1=51]="L5_1",p[p.L5_2=52]="L5_2"})(n||(dt.Level=n={}));class i{constructor(m,x){this.profile=m,this.level=x}}dt.ProfileLevelId=i;const a=new i(r.ConstrainedBaseline,n.L3_1);class c{constructor(m){this.mask=~C("x",m),this.masked_value=C("1",m)}isMatch(m){return this.masked_value===(m&this.mask)}}class u{constructor(m,x,k){this.profile_idc=m,this.profile_iop=x,this.profile=k}}const d=[new u(66,new c("x1xx0000"),r.ConstrainedBaseline),new u(77,new c("1xxx0000"),r.ConstrainedBaseline),new u(88,new c("11xx0000"),r.ConstrainedBaseline),new u(66,new c("x0xx0000"),r.Baseline),new u(88,new c("10xx0000"),r.Baseline),new u(77,new c("0x0x0000"),r.Main),new u(100,new c("00000000"),r.High),new u(100,new c("00001100"),r.ConstrainedHigh),new u(244,new c("00000000"),r.PredictiveHigh444)];function h(p){if(typeof p!="string"||p.length!==6)return;const x=parseInt(p,16);if(x===0)return;const k=x&255,L=x>>8&255,j=x>>16&255;let I;switch(k){case n.L1_1:{I=(L&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{I=k;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${p}, level_idc:${k}]`);return}}for(const A of d)if(j===A.profile_idc&&A.profile_iop.isMatch(L))return new i(A.profile,I);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${p}, profile_idc:${j}, profile_iop:${L}]`)}dt.parseProfileLevelId=h;function v(p){if(p.level==n.L1_b)switch(p.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${p.profile}`);return}}let m;switch(p.profile){case r.ConstrainedBaseline:{m="42e0";break}case r.Baseline:{m="4200";break}case r.Main:{m="4d00";break}case r.ConstrainedHigh:{m="640c";break}case r.High:{m="6400";break}case r.PredictiveHigh444:{m="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${p.profile}`);return}}let x=p.level.toString(16);return x.length===1&&(x=`0${x}`),`${m}${x}`}dt.profileLevelIdToString=v;function y(p){switch(p){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${p}`);return}}}dt.profileToString=y;function w(p){switch(p){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${p}`);return}}}dt.levelToString=w;function S(p={}){const m=p["profile-level-id"];return m?h(m):a}dt.parseSdpProfileLevelId=S;function _(p={},m={}){const x=S(p),k=S(m);return!!(x&&k&&x.profile===k.profile)}dt.isSameProfile=_;function R(p={},m={}){if(!p["profile-level-id"]&&!m["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const x=S(p),k=S(m);if(!x)throw new TypeError("invalid local_profile_level_id");if(!k)throw new TypeError("invalid remote_profile_level_id");if(x.profile!==k.profile)throw new TypeError("H264 Profile mismatch");const L=f(p)&&f(m),j=x.level,I=k.level,A=b(j,I),N=L?j:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${x.profile}, level:${N}]`),v(new i(x.profile,N))}dt.generateProfileLevelIdStringForAnswer=R;function C(p,m){return+(m[0]===p)<<7|+(m[1]===p)<<6|+(m[2]===p)<<5|+(m[3]===p)<<4|+(m[4]===p)<<3|+(m[5]===p)<<2|+(m[6]===p)<<1|+(m[7]===p)<<0}function E(p,m){return p===n.L1_b?m!==n.L1&&m!==n.L1_b:m===n.L1_b?p!==n.L1:p<m}function b(p,m){return E(p,m)?p:m}function f(p={}){const m=p["level-asymmetry-allowed"];return m===!0||m===1||m==="1"}return dt}var QS;function vr(){if(QS)return wt;QS=1;var e=wt&&wt.__createBinding||(Object.create?function(O,U,F,z){z===void 0&&(z=F);var q=Object.getOwnPropertyDescriptor(U,F);(!q||("get"in q?!U.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return U[F]}}),Object.defineProperty(O,z,q)}:function(O,U,F,z){z===void 0&&(z=F),O[z]=U[F]}),t=wt&&wt.__setModuleDefault||(Object.create?function(O,U){Object.defineProperty(O,"default",{enumerable:!0,value:U})}:function(O,U){O.default=U}),r=wt&&wt.__importStar||function(O){if(O&&O.__esModule)return O;var U={};if(O!=null)for(var F in O)F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)&&e(U,O,F);return t(U,O),U};Object.defineProperty(wt,"__esModule",{value:!0}),wt.validateRtpCapabilities=d,wt.validateRtpParameters=h,wt.validateSctpStreamParameters=v,wt.validateSctpCapabilities=y,wt.getExtendedRtpCapabilities=w,wt.getRecvRtpCapabilities=S,wt.getSendingRtpParameters=_,wt.getSendingRemoteRtpParameters=R,wt.reduceCodecs=C,wt.generateProbatorRtpParameters=E,wt.canSend=b,wt.canReceive=f;const n=r(IO()),i=r(Vt()),a="probator",c=1234,u=127;function d(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(O.codecs&&!Array.isArray(O.codecs))throw new TypeError("caps.codecs is not an array");O.codecs||(O.codecs=[]);for(const U of O.codecs)p(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)x(U)}function h(O){if(typeof O!="object")throw new TypeError("params is not an object");if(O.mid&&typeof O.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(O.codecs))throw new TypeError("missing params.codecs");for(const U of O.codecs)k(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("params.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)L(U);if(O.encodings&&!Array.isArray(O.encodings))throw new TypeError("params.encodings is not an array");O.encodings||(O.encodings=[]);for(const U of O.encodings)j(U);if(O.rtcp&&typeof O.rtcp!="object")throw new TypeError("params.rtcp is not an object");O.rtcp||(O.rtcp={}),I(O.rtcp)}function v(O){if(typeof O!="object")throw new TypeError("params is not an object");if(typeof O.streamId!="number")throw new TypeError("missing params.streamId");let U=!1;if(typeof O.ordered=="boolean"?U=!0:O.ordered=!0,O.maxPacketLifeTime&&typeof O.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(O.maxRetransmits&&typeof O.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(O.maxPacketLifeTime&&O.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(U&&O.ordered&&(O.maxPacketLifeTime||O.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!U&&(O.maxPacketLifeTime||O.maxRetransmits)&&(O.ordered=!1),O.label&&typeof O.label!="string")throw new TypeError("invalid params.label");if(O.protocol&&typeof O.protocol!="string")throw new TypeError("invalid params.protocol")}function y(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(!O.numStreams||typeof O.numStreams!="object")throw new TypeError("missing caps.numStreams");A(O.numStreams)}function w(O,U){const F={codecs:[],headerExtensions:[]};for(const z of U.codecs??[]){if(N(z))continue;const q=(O.codecs??[]).find(Y=>V(Y,z,{strict:!0,modify:!0}));if(!q)continue;const B={mimeType:q.mimeType,kind:q.kind,clockRate:q.clockRate,channels:q.channels,localPayloadType:q.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:z.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:q.parameters,remoteParameters:z.parameters,rtcpFeedback:X(q,z)};F.codecs.push(B)}for(const z of F.codecs){const q=O.codecs.find(Y=>N(Y)&&Y.parameters.apt===z.localPayloadType),B=U.codecs.find(Y=>N(Y)&&Y.parameters.apt===z.remotePayloadType);q&&B&&(z.localRtxPayloadType=q.preferredPayloadType,z.remoteRtxPayloadType=B.preferredPayloadType)}for(const z of U.headerExtensions){const q=O.headerExtensions.find(Y=>W(Y,z));if(!q)continue;const B={kind:z.kind,uri:z.uri,sendId:q.preferredId,recvId:z.preferredId,encrypt:q.preferredEncrypt,direction:"sendrecv"};switch(z.direction){case"sendrecv":{B.direction="sendrecv";break}case"recvonly":{B.direction="sendonly";break}case"sendonly":{B.direction="recvonly";break}case"inactive":{B.direction="inactive";break}}F.headerExtensions.push(B)}return F}function S(O){const U={codecs:[],headerExtensions:[]};for(const F of O.codecs){const z={mimeType:F.mimeType,kind:F.kind,preferredPayloadType:F.remotePayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if(U.codecs.push(z),!F.remoteRtxPayloadType)continue;const q={mimeType:`${F.kind}/rtx`,kind:F.kind,preferredPayloadType:F.remoteRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.remotePayloadType},rtcpFeedback:[]};U.codecs.push(q)}for(const F of O.headerExtensions){if(F.direction!=="sendrecv"&&F.direction!=="recvonly")continue;const z={kind:F.kind,uri:F.uri,preferredId:F.recvId,preferredEncrypt:F.encrypt,direction:F.direction};U.headerExtensions.push(z)}return U}function _(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.localParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}return F}function R(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.remoteParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}if(F.headerExtensions.some(z=>z.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="goog-remb");else if(F.headerExtensions.some(z=>z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc");else for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc"&&q.type!=="goog-remb");return F}function C(O,U){const F=[];if(!U)F.push(O[0]),N(O[1])&&F.push(O[1]);else{for(let z=0;z<O.length;++z)if(V(O[z],U,{strict:!0})){F.push(O[z]),N(O[z+1])&&F.push(O[z+1]);break}if(F.length===0)throw new TypeError("no matching codec found")}return F}function E(O){O=i.clone(O),h(O);const U={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return U.codecs.push(O.codecs[0]),U.codecs[0].payloadType=u,U.headerExtensions=O.headerExtensions,U}function b(O,U){return U.codecs.some(F=>F.kind===O)}function f(O,U){if(h(O),O.codecs.length===0)return!1;const F=O.codecs[0];return U.codecs.some(z=>z.remotePayloadType===F.payloadType)}function p(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(O.kind=F[1].toLowerCase(),O.preferredPayloadType&&typeof O.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");O.kind==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const z of Object.keys(O.parameters)){let q=O.parameters[z];if(q===void 0&&(O.parameters[z]="",q=""),typeof q!="string"&&typeof q!="number")throw new TypeError(`invalid codec parameter [key:${z}s, value:${q}]`);if(z==="apt"&&typeof q!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const z of O.rtcpFeedback)m(z)}function m(O){if(typeof O!="object")throw new TypeError("fb is not an object");if(!O.type||typeof O.type!="string")throw new TypeError("missing fb.type");(!O.parameter||typeof O.parameter!="string")&&(O.parameter="")}function x(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(O.kind!=="audio"&&O.kind!=="video")throw new TypeError("invalid ext.kind");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.preferredId!="number")throw new TypeError("missing ext.preferredId");if(O.preferredEncrypt&&typeof O.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(O.preferredEncrypt||(O.preferredEncrypt=!1),O.direction&&typeof O.direction!="string")throw new TypeError("invalid ext.direction");O.direction||(O.direction="sendrecv")}function k(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(typeof O.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");F[1].toLowerCase()==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const q of Object.keys(O.parameters)){let B=O.parameters[q];if(B===void 0&&(O.parameters[q]="",B=""),typeof B!="string"&&typeof B!="number")throw new TypeError(`invalid codec parameter [key:${q}s, value:${B}]`);if(q==="apt"&&typeof B!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const q of O.rtcpFeedback)m(q)}function L(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.id!="number")throw new TypeError("missing ext.id");if(O.encrypt&&typeof O.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");O.encrypt||(O.encrypt=!1),(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const U of Object.keys(O.parameters)){let F=O.parameters[U];if(F===void 0&&(O.parameters[U]="",F=""),typeof F!="string"&&typeof F!="number")throw new TypeError("invalid header extension parameter")}}function j(O){if(typeof O!="object")throw new TypeError("encoding is not an object");if(O.ssrc&&typeof O.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(O.rid&&typeof O.rid!="string")throw new TypeError("invalid encoding.rid");if(O.rtx&&typeof O.rtx!="object")throw new TypeError("invalid encoding.rtx");if(O.rtx&&typeof O.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!O.dtx||typeof O.dtx!="boolean")&&(O.dtx=!1),O.scalabilityMode&&typeof O.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function I(O){if(typeof O!="object")throw new TypeError("rtcp is not an object");if(O.cname&&typeof O.cname!="string")throw new TypeError("invalid rtcp.cname");(!O.reducedSize||typeof O.reducedSize!="boolean")&&(O.reducedSize=!0)}function A(O){if(typeof O!="object")throw new TypeError("numStreams is not an object");if(typeof O.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof O.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(O){return O?/.+\/rtx$/i.test(O.mimeType):!1}function V(O,U,{strict:F=!1,modify:z=!1}={}){const q=O.mimeType.toLowerCase(),B=U.mimeType.toLowerCase();if(q!==B||O.clockRate!==U.clockRate||O.channels!==U.channels)return!1;switch(q){case"video/h264":{if(F){const Y=O.parameters["packetization-mode"]||0,ae=U.parameters["packetization-mode"]||0;if(Y!==ae||!n.isSameProfile(O.parameters,U.parameters))return!1;let de;try{de=n.generateProfileLevelIdStringForAnswer(O.parameters,U.parameters)}catch{return!1}z&&(de?(O.parameters["profile-level-id"]=de,U.parameters["profile-level-id"]=de):(delete O.parameters["profile-level-id"],delete U.parameters["profile-level-id"]))}break}case"video/vp9":{if(F){const Y=O.parameters["profile-id"]||0,ae=U.parameters["profile-id"]||0;if(Y!==ae)return!1}break}}return!0}function W(O,U){return!(O.kind&&U.kind&&O.kind!==U.kind||O.uri!==U.uri)}function X(O,U){const F=[];for(const z of O.rtcpFeedback??[]){const q=(U.rtcpFeedback??[]).find(B=>B.type===z.type&&(B.parameter===z.parameter||!B.parameter&&!z.parameter));q&&F.push(q)}return F}return wt}var xr={},Qn={},Ra={},ZS;function jO(){if(ZS)return Ra;ZS=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.Logger=void 0;const e=md(),t="awaitqueue";let r=class{constructor(i){i?(this._debug=(0,e.default)(`${t}:${i}`),this._warn=(0,e.default)(`${t}:WARN:${i}`),this._error=(0,e.default)(`${t}:ERROR:${i}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Ra.Logger=r,Ra}var JS;function OO(){if(JS)return Qn;JS=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.AwaitQueue=Qn.AwaitQueueRemovedTaskError=Qn.AwaitQueueStoppedError=void 0;const e=jO(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Qn.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}Qn.AwaitQueueRemovedTaskError=n;class i{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,u){if(u=u??c.name,t.debug(`push() [name:${u}]`),typeof c!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(c,"name",{value:u})}catch{}return new Promise((d,h)=>{const v={id:this.nextTaskId++,task:c,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:y=>{if(v.completed)return;v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`resolving task [name:${v.name}]`),d(y);const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)},reject:y=>{if(!v.completed&&(v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`rejecting task [name:${v.name}]: %s`,String(y)),h(y),!this.stopping)){const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)}}};this.pendingTasks.set(v.id,v),this.pendingTasks.size===1&&this.execute(v)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const u=Array.from(this.pendingTasks.values())[c];if(!u){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}u.reject(new n)}dump(){const c=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(d=>({idx:u++,task:d.task,name:d.name,enqueuedTime:d.executedAt?d.executedAt-d.enqueuedAt:c-d.enqueuedAt,executionTime:d.executedAt?c-d.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const u=await c.task();c.resolve(u)}catch(u){c.reject(u)}}}return Qn.AwaitQueue=i,Qn}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Zp,e_;function NO(){if(e_)return Zp;e_=1;let e;return Zp=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:IR):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),Zp}var Ea={},t_;function V1(){if(t_)return Ea;t_=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.Producer=void 0;const e=xt(),t=Lo(),r=sr(),n=new e.Logger("Producer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,rtpSender:d,track:h,rtpParameters:v,stopTracks:y,disableTrackOnPause:w,zeroRtpOnPause:S,appData:_}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=u,this._rtpSender=d,this._track=h,this._kind=h.kind,this._rtpParameters=v,this._paused=w?!h.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=y,this._disableTrackOnPause=w,this._zeroRtpOnPause=S,this._appData=_??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@pause",c,u)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@resume",c,u)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((u,d)=>{this.safeEmit("@replacetrack",c,u,d)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((u,d)=>{this.safeEmit("@setmaxspatiallayer",c,u,d)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((u,d)=>{this.safeEmit("@setrtpencodingparameters",c,u,d)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Ea.Producer=i,Ea}var Ta={},r_;function H1(){if(r_)return Ta;r_=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.Consumer=void 0;const e=xt(),t=Lo(),r=sr(),n=new e.Logger("Consumer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,producerId:d,rtpReceiver:h,track:v,rtpParameters:y,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=u,this._producerId=d,this._rtpReceiver=h,this._track=v,this._rtpParameters=y,this._paused=!v.enabled,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Ta.Consumer=i,Ta}var Pa={},n_;function W1(){if(n_)return Pa;n_=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DataProducer=void 0;const e=xt(),t=Lo(),r=sr(),n=new e.Logger("DataProducer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:u,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=u,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:u}=c;u||(u=new Error("unknown DataChannel error")),u.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",u.sctpCauseCode,u.message):n.error('DataChannel "error" event: %o',u),this.safeEmit("error",u)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Pa.DataProducer=i,Pa}var ka={},s_;function q1(){if(s_)return ka;s_=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.DataConsumer=void 0;const e=xt(),t=Lo(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:u,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=u,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return ka.DataConsumer=n,ka}var o_;function G1(){if(o_)return xr;o_=1;var e=xr&&xr.__createBinding||(Object.create?function(b,f,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(f,p);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(b,m,x)}:function(b,f,p,m){m===void 0&&(m=p),b[m]=f[p]}),t=xr&&xr.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),r=xr&&xr.__importStar||function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&e(f,b,p);return t(f,b),f},n=xr&&xr.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.Transport=void 0;const i=OO(),a=n(NO()),c=xt(),u=Lo(),d=sr(),h=r(Vt()),v=r(vr()),y=V1(),w=H1(),S=W1(),_=q1(),R=new c.Logger("Transport");class C{constructor(f){this.consumerOptions=f,this.promise=new Promise((p,m)=>{this.resolve=p,this.reject=m})}}let E=class extends u.EnhancedEventEmitter{constructor({direction:f,id:p,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:L,iceServers:j,iceTransportPolicy:I,additionalSettings:A,proprietaryConstraints:N,appData:V,handlerFactory:W,extendedRtpCapabilities:X,canProduceByKind:O}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new u.EnhancedEventEmitter,R.debug("constructor() [id:%s, direction:%s]",p,f),this._id=p,this._direction=f,this._extendedRtpCapabilities=X,this._canProduceByKind=O,this._maxSctpMessageSize=L?L.maxMessageSize:null;const U=h.clone(A)??{};delete U.iceServers,delete U.iceTransportPolicy,delete U.bundlePolicy,delete U.rtcpMuxPolicy,delete U.sdpSemantics,this._handler=W(),this._handler.run({direction:f,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:L,iceServers:j,iceTransportPolicy:I,additionalSettings:U,proprietaryConstraints:N,extendedRtpCapabilities:X}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(f){this._appData=f}get observer(){return this._observer}close(){if(!this._closed){R.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const f of this._producers.values())f.transportClosed();this._producers.clear();for(const f of this._consumers.values())f.transportClosed();this._consumers.clear();for(const f of this._dataProducers.values())f.transportClosed();this._dataProducers.clear();for(const f of this._dataConsumers.values())f.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:f}){if(R.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!f)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(f),"transport.restartIce()")}async updateIceServers({iceServers:f}={}){if(R.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(f))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(f),"transport.updateIceServers()")}async produce({track:f,encodings:p,codecOptions:m,codec:x,stopTracks:k=!0,disableTrackOnPause:L=!0,zeroRtpOnPause:j=!1,onRtpSender:I,appData:A={}}={}){if(R.debug("produce() [track:%o]",f),this._closed)throw new d.InvalidStateError("closed");if(f){if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._canProduceByKind[f.kind]){if(f.readyState==="ended")throw new d.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError(`cannot produce ${f.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(p&&!Array.isArray(p))throw TypeError("encodings must be an array");p&&p.length===0?N=void 0:p&&(N=p.map(O=>{const U={active:!0};return O.active===!1&&(U.active=!1),typeof O.dtx=="boolean"&&(U.dtx=O.dtx),typeof O.scalabilityMode=="string"&&(U.scalabilityMode=O.scalabilityMode),typeof O.scaleResolutionDownBy=="number"&&(U.scaleResolutionDownBy=O.scaleResolutionDownBy),typeof O.maxBitrate=="number"&&(U.maxBitrate=O.maxBitrate),typeof O.maxFramerate=="number"&&(U.maxFramerate=O.maxFramerate),typeof O.adaptivePtime=="boolean"&&(U.adaptivePtime=O.adaptivePtime),typeof O.priority=="string"&&(U.priority=O.priority),typeof O.networkPriority=="string"&&(U.networkPriority=O.networkPriority),U}));const{localId:V,rtpParameters:W,rtpSender:X}=await this._handler.send({track:f,encodings:N,codecOptions:m,codec:x,onRtpSender:I});try{v.validateRtpParameters(W);const{id:O}=await new Promise((F,z)=>{this.safeEmit("produce",{kind:f.kind,rtpParameters:W,appData:A},F,z)}),U=new y.Producer({id:O,localId:V,rtpSender:X,track:f,rtpParameters:W,stopTracks:k,disableTrackOnPause:L,zeroRtpOnPause:j,appData:A});return this._producers.set(U.id,U),this.handleProducer(U),this._observer.safeEmit("newproducer",U),U}catch(O){throw this._handler.stopSending(V).catch(()=>{}),O}},"transport.produce()").catch(N=>{if(k)try{f.stop()}catch{}throw N})}async consume({id:f,producerId:p,kind:m,rtpParameters:x,streamId:k,onRtpReceiver:L,appData:j={}}){if(R.debug("consume()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(typeof f!="string")throw new TypeError("missing id");if(typeof p!="string")throw new TypeError("missing producerId");if(m!=="audio"&&m!=="video")throw new TypeError(`invalid kind '${m}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object");const I=h.clone(x);if(!v.canReceive(I,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const N=new C({id:f,producerId:p,kind:m,rtpParameters:I,streamId:k,onRtpReceiver:L,appData:j});return this._pendingConsumerTasks.push(N),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),N.promise}async produceData({ordered:f=!0,maxPacketLifeTime:p,maxRetransmits:m,label:x="",protocol:k="",appData:L={}}={}){if(R.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");return(p||m)&&(f=!1),this._awaitQueue.push(async()=>{const{dataChannel:j,sctpStreamParameters:I}=await this._handler.sendDataChannel({ordered:f,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k});v.validateSctpStreamParameters(I);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:I,label:x,protocol:k,appData:L},V,W)}),N=new S.DataProducer({id:A,dataChannel:j,sctpStreamParameters:I,appData:L});return this._dataProducers.set(N.id,N),this.handleDataProducer(N),this._observer.safeEmit("newdataproducer",N),N},"transport.produceData()")}async consumeData({id:f,dataProducerId:p,sctpStreamParameters:m,label:x="",protocol:k="",appData:L={}}){if(R.debug("consumeData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof f!="string")throw new TypeError("missing id");if(typeof p!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");const j=h.clone(m);return v.validateSctpStreamParameters(j),this._awaitQueue.push(async()=>{const{dataChannel:I}=await this._handler.receiveDataChannel({sctpStreamParameters:j,label:x,protocol:k}),A=new _.DataConsumer({id:f,dataProducerId:p,dataChannel:I,sctpStreamParameters:j,appData:L});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){R.debug("createPendingConsumers() | there is no Consumer to be created");return}const f=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let p;const m=[];for(const x of f){const{id:k,kind:L,rtpParameters:j,streamId:I,onRtpReceiver:A}=x.consumerOptions;m.push({trackId:k,kind:L,rtpParameters:j,streamId:I,onRtpReceiver:A})}try{const x=await this._handler.receive(m);for(let k=0;k<x.length;++k){const L=f[k],j=x[k],{id:I,producerId:A,kind:N,rtpParameters:V,appData:W}=L.consumerOptions,{localId:X,rtpReceiver:O,track:U}=j,F=new w.Consumer({id:I,localId:X,producerId:A,rtpReceiver:O,track:U,rtpParameters:V,appData:W});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!p&&N==="video"&&(p=F),this._observer.safeEmit("newconsumer",F),L.resolve(F)}}catch(x){for(const k of f)k.reject(x)}if(p)try{const x=v.generateProbatorRtpParameters(p.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:x}]),R.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(x){R.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",x)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){R.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const f=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const p=f.map(m=>m.localId);await this._handler.pauseReceiving(p)}catch(p){R.error("pausePendingConsumers() | failed to pause Consumers:",p)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){R.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const f=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const p=f.map(m=>m.localId);await this._handler.resumeReceiving(p)}catch(p){R.error("resumePendingConsumers() | failed to resume Consumers:",p)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){R.debug("closePendingConsumers() | there is no Consumer to be closed");return}const f=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(f.map(p=>p.localId))}catch(p){R.error("closePendingConsumers() | failed to close Consumers:",p)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const f=this._handler;f.on("@connect",({dtlsParameters:p},m,x)=>{if(this._closed){x(new d.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:p},m,x)}),f.on("@icegatheringstatechange",p=>{p!==this._iceGatheringState&&(R.debug("ICE gathering state changed to %s",p),this._iceGatheringState=p,this._closed||this.safeEmit("icegatheringstatechange",p))}),f.on("@connectionstatechange",p=>{p!==this._connectionState&&(R.debug("connection state changed to %s",p),this._connectionState=p,this._closed||this.safeEmit("connectionstatechange",p))})}handleProducer(f){f.on("@close",()=>{this._producers.delete(f.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(f.localId),"producer @close event").catch(p=>R.warn("producer.close() failed:%o",p))}),f.on("@pause",(p,m)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(f.localId),"producer @pause event").then(p).catch(m)}),f.on("@resume",(p,m)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(f.localId),"producer @resume event").then(p).catch(m)}),f.on("@replacetrack",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(f.localId,p),"producer @replacetrack event").then(m).catch(x)}),f.on("@setmaxspatiallayer",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(f.localId,p),"producer @setmaxspatiallayer event").then(m).catch(x)}),f.on("@setrtpencodingparameters",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(f.localId,p),"producer @setrtpencodingparameters event").then(m).catch(x)}),f.on("@getstats",(p,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getSenderStats(f.localId).then(p).catch(m)})}handleConsumer(f){f.on("@close",()=>{this._consumers.delete(f.id),this._pendingPauseConsumers.delete(f.id),this._pendingResumeConsumers.delete(f.id),!this._closed&&(this._pendingCloseConsumers.set(f.id,f),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),f.on("@pause",()=>{this._pendingResumeConsumers.has(f.id)&&this._pendingResumeConsumers.delete(f.id),this._pendingPauseConsumers.set(f.id,f),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),f.on("@resume",()=>{this._pendingPauseConsumers.has(f.id)&&this._pendingPauseConsumers.delete(f.id),this._pendingResumeConsumers.set(f.id,f),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),f.on("@getstats",(p,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getReceiverStats(f.localId).then(p).catch(m)})}handleDataProducer(f){f.on("@close",()=>{this._dataProducers.delete(f.id)})}handleDataConsumer(f){f.on("@close",()=>{this._dataConsumers.delete(f.id)})}};return xr.Transport=E,xr}var Zr={},Mn={},Jp={},eh={exports:{}},i_;function K1(){if(i_)return eh.exports;i_=1;var e=eh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),eh.exports}var a_;function AO(){return a_||(a_=1,function(e){var t=function(u){return String(Number(u))===u?Number(u):u},r=function(u,d,h,v){if(v&&!h)d[v]=t(u[1]);else for(var y=0;y<h.length;y+=1)u[y+1]!=null&&(d[h[y]]=t(u[y+1]))},n=function(u,d,h){var v=u.name&&u.names;u.push&&!d[u.push]?d[u.push]=[]:v&&!d[u.name]&&(d[u.name]={});var y=u.push?{}:v?d[u.name]:d;r(h.match(u.reg),y,u.names,u.name),u.push&&d[u.push].push(y)},i=K1(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(u){var d={},h=[],v=d;return u.split(/(\r\n|\r|\n)/).filter(a).forEach(function(y){var w=y[0],S=y.slice(2);w==="m"&&(h.push({rtp:[],fmtp:[]}),v=h[h.length-1]);for(var _=0;_<(i[w]||[]).length;_+=1){var R=i[w][_];if(R.reg.test(S))return n(R,v,S)}}),d.media=h,d};var c=function(u,d){var h=d.split(/=(.+)/,2);return h.length===2?u[h[0]]=t(h[1]):h.length===1&&d.length>1&&(u[h[0]]=void 0),u};e.parseParams=function(u){return u.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(u){return u.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(u){for(var d=[],h=u.split(" ").map(t),v=0;v<h.length;v+=3)d.push({component:h[v],ip:h[v+1],port:h[v+2]});return d},e.parseImageAttributes=function(u){return u.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(u){return u.split(";").map(function(d){return d.split(",").map(function(h){var v,y=!1;return h[0]!=="~"?v=t(h):(v=t(h.substring(1,h.length)),y=!0),{scid:v,paused:y}})})}}(Jp)),Jp}var th,c_;function $O(){if(c_)return th;c_=1;var e=K1(),t=/%[sdv%]/g,r=function(c){var u=1,d=arguments,h=d.length;return c.replace(t,function(v){if(u>=h)return v;var y=d[u];switch(u+=1,v){case"%%":return"%";case"%s":return String(y);case"%d":return Number(y);case"%v":return""}})},n=function(c,u,d){var h=u.format instanceof Function?u.format(u.push?d:d[u.name]):u.format,v=[c+"="+h];if(u.names)for(var y=0;y<u.names.length;y+=1){var w=u.names[y];u.name?v.push(d[u.name][w]):v.push(d[u.names[y]])}else v.push(d[u.name]);return r.apply(null,v)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return th=function(c,u){u=u||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(y){y.payloads==null&&(y.payloads="")});var d=u.outerOrder||i,h=u.innerOrder||a,v=[];return d.forEach(function(y){e[y].forEach(function(w){w.name in c&&c[w.name]!=null?v.push(n(y,w,c)):w.push in c&&c[w.push]!=null&&c[w.push].forEach(function(S){v.push(n(y,w,S))})})}),c.media.forEach(function(y){v.push(n("m",e.m[0],y)),h.forEach(function(w){e[w].forEach(function(S){S.name in y&&y[S.name]!=null?v.push(n(w,S,y)):S.push in y&&y[S.push]!=null&&y[S.push].forEach(function(_){v.push(n(w,S,_))})})})}),v.join(`\r
`)+`\r
`},th}var l_;function yr(){if(l_)return Mn;l_=1;var e=AO(),t=$O();return Mn.write=t,Mn.parse=e.parse,Mn.parseParams=e.parseParams,Mn.parseFmtpConfig=e.parseFmtpConfig,Mn.parsePayloads=e.parsePayloads,Mn.parseRemoteCandidates=e.parseRemoteCandidates,Mn.parseImageAttributes=e.parseImageAttributes,Mn.parseSimulcastStreamList=e.parseSimulcastStreamList,Mn}var Cr={},u_;function Cn(){if(u_)return Cr;u_=1;var e=Cr&&Cr.__createBinding||(Object.create?function(d,h,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(h,v);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(d,y,w)}:function(d,h,v,y){y===void 0&&(y=v),d[y]=h[v]}),t=Cr&&Cr.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Cr&&Cr.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(h,d,v);return t(h,d),h};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.extractRtpCapabilities=i,Cr.extractDtlsParameters=a,Cr.getCname=c,Cr.applyCodecParameters=u;const n=r(yr());function i({sdpObject:d}){const h=new Map,v=[];let y=!1,w=!1;for(const _ of d.media){const R=_.type;switch(R){case"audio":{if(y)continue;y=!0;break}case"video":{if(w)continue;w=!0;break}default:continue}for(const C of _.rtp){const E={kind:R,mimeType:`${R}/${C.codec}`,preferredPayloadType:C.payload,clockRate:C.rate,channels:C.encoding,parameters:{},rtcpFeedback:[]};h.set(E.preferredPayloadType,E)}for(const C of _.fmtp||[]){const E=n.parseParams(C.config),b=h.get(C.payload);b&&(E!=null&&E.hasOwnProperty("profile-level-id")&&(E["profile-level-id"]=String(E["profile-level-id"])),b.parameters=E)}for(const C of _.rtcpFb||[]){const E={type:C.type,parameter:C.subtype};if(E.parameter||delete E.parameter,C.payload!=="*"){const b=h.get(C.payload);if(!b)continue;b.rtcpFeedback.push(E)}else for(const b of h.values())b.kind===R&&!/.+\/rtx$/i.test(b.mimeType)&&b.rtcpFeedback.push(E)}for(const C of _.ext||[]){if(C["encrypt-uri"])continue;const E={kind:R,uri:C.uri,preferredId:C.value};v.push(E)}}return{codecs:Array.from(h.values()),headerExtensions:v}}function a({sdpObject:d}){let h=d.setup,v=d.fingerprint;if(!h||!v){const S=(d.media||[]).find(_=>_.port!==0);S&&(h??(h=S.setup),v??(v=S.fingerprint))}if(h){if(!v)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let y;switch(h){case"active":{y="client";break}case"passive":{y="server";break}case"actpass":{y="auto";break}}return{role:y,fingerprints:[{algorithm:v.type,value:v.hash}]}}function c({offerMediaObject:d}){const h=(d.ssrcs||[]).find(v=>v.attribute==="cname");return h?h.value:""}function u({offerRtpParameters:d,answerMediaObject:h}){for(const v of d.codecs){const y=v.mimeType.toLowerCase();if(y!=="audio/opus"||!(h.rtp||[]).find(R=>R.payload===v.payloadType))continue;h.fmtp=h.fmtp||[];let S=h.fmtp.find(R=>R.payload===v.payloadType);S||(S={payload:v.payloadType,config:""},h.fmtp.push(S));const _=n.parseParams(S.config);switch(y){case"audio/opus":{const R=v.parameters["sprop-stereo"];R!==void 0&&(_.stereo=R?1:0);break}}S.config="";for(const R of Object.keys(_))S.config&&(S.config+=";"),S.config+=`${R}=${_[R]}`}}return Cr}var Da={},d_;function Io(){if(d_)return Da;d_=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.getRtpEncodings=e,Da.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const u=c.id;n.add(u)}if(n.size===0)throw new Error("no a=ssrc lines found");const i=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[u,d]=c.ssrcs.split(/\s+/);u=Number(u),d=Number(d),n.has(u)&&(n.delete(u),n.delete(d),i.set(u,d))}for(const c of n)i.set(c,null);const a=[];for(const[c,u]of i){const d={ssrc:c};u&&(d.rtx={ssrc:u}),a.push(d)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const i=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!i)throw new Error("a=ssrc line with msid information not found");const[a,c]=i.value.split(" "),u=Number(i.id);let d;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const _=S.ssrcs.split(/\s+/);return Number(_[0])===u?(d=Number(_[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const v=h.value,y=[],w=[];for(let S=0;S<n;++S)y.push(u+S),d&&w.push(d+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${a} ${c}`});for(let S=0;S<w.length;++S){const _=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${_} ${R}`})}}return Da}var Pl={},f_;function gd(){if(f_)return Pl;f_=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(i=>i.type==="nack"&&!i.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return Pl}var Ma={},p_;function kr(){if(p_)return Ma;p_=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.HandlerInterface=void 0;const e=Lo();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Ma.HandlerInterface=t,Ma}var Jr={},er={},h_;function FO(){if(h_)return er;h_=1;var e=er&&er.__createBinding||(Object.create?function(h,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(h,w,S)}:function(h,v,y,w){w===void 0&&(w=y),h[w]=v[y]}),t=er&&er.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),r=er&&er.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var y in h)y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)&&e(v,h,y);return t(v,h),v};Object.defineProperty(er,"__esModule",{value:!0}),er.OfferMediaSection=er.AnswerMediaSection=er.MediaSection=void 0;const n=r(yr()),i=r(Vt());let a=class{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:S=!1}){if(this._mediaObject={},this._planB=S,v&&this.setIceParameters(v),y){this._mediaObject.candidates=[];for(const _ of y){const R={};R.component=1,R.foundation=_.foundation,R.ip=_.address??_.ip,R.port=_.port,R.priority=_.priority,R.transport=_.protocol,R.type=_.type,_.tcpType&&(R.tcptype=_.tcpType),this._mediaObject.candidates.push(R)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}w&&this.setDtlsRole(w.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(v){this._mediaObject.iceUfrag=v.usernameFragment,this._mediaObject.icePwd=v.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};er.MediaSection=a;class c extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:_,planB:R=!1,offerMediaObject:C,offerRtpParameters:E,answerRtpParameters:b,codecOptions:f,extmapAllowMixed:p=!1}){switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C.mid),this._mediaObject.type=C.type,this._mediaObject.protocol=C.protocol,_?(this._mediaObject.connection={ip:_.ip,version:_.ipVersion},this._mediaObject.port=_.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),C.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const m of b.codecs){const x={payload:m.payloadType,codec:d(m),rate:m.clockRate};m.channels>1&&(x.encoding=m.channels),this._mediaObject.rtp.push(x);const k=i.clone(m.parameters)??{};let L=i.clone(m.rtcpFeedback)??[];if(f){const{opusStereo:I,opusFec:A,opusDtx:N,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:X,opusNack:O,videoGoogleStartBitrate:U,videoGoogleMaxBitrate:F,videoGoogleMinBitrate:z}=f,q=E.codecs.find(B=>B.payloadType===m.payloadType);switch(m.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{I!==void 0&&(q.parameters["sprop-stereo"]=I?1:0,k.stereo=I?1:0),A!==void 0&&(q.parameters.useinbandfec=A?1:0,k.useinbandfec=A?1:0),N!==void 0&&(q.parameters.usedtx=N?1:0,k.usedtx=N?1:0),V!==void 0&&(k.maxplaybackrate=V),W!==void 0&&(k.maxaveragebitrate=W),X!==void 0&&(q.parameters.ptime=X,k.ptime=X),O||(q.rtcpFeedback=q.rtcpFeedback.filter(B=>B.type!=="nack"||B.parameter),L=L.filter(B=>B.type!=="nack"||B.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{U!==void 0&&(k["x-google-start-bitrate"]=U),F!==void 0&&(k["x-google-max-bitrate"]=F),z!==void 0&&(k["x-google-min-bitrate"]=z);break}}}const j={payload:m.payloadType,config:""};for(const I of Object.keys(k))j.config&&(j.config+=";"),j.config+=`${I}=${k[I]}`;j.config&&this._mediaObject.fmtp.push(j);for(const I of L)this._mediaObject.rtcpFb.push({payload:m.payloadType,type:I.type,subtype:I.parameter})}this._mediaObject.payloads=b.codecs.map(m=>m.payloadType).join(" "),this._mediaObject.ext=[];for(const m of b.headerExtensions)(C.ext??[]).some(k=>k.uri===m.uri)&&this._mediaObject.ext.push({uri:m.uri,value:m.id});if(p&&C.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),C.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:C.simulcast.list1},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}else if(C.simulcast_03){this._mediaObject.simulcast_03={value:C.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof C.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):C.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(v){switch(v){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(v){var _,R;if(!((_=this._mediaObject.simulcast)!=null&&_.list1))return;const y={};for(const C of v)C.rid&&(y[C.rid]=C);const w=this._mediaObject.simulcast.list1,S=n.parseSimulcastStreamList(w);for(const C of S)for(const E of C)E.paused=!((R=y[E.scid])!=null&&R.active);this._mediaObject.simulcast.list1=S.map(C=>C.map(E=>`${E.paused?"~":""}${E.scid}`).join(",")).join(";")}}er.AnswerMediaSection=c;class u extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:_,planB:R=!1,mid:C,kind:E,offerRtpParameters:b,streamId:f,trackId:p,oldDataChannelSpec:m=!1}){var x;switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C),this._mediaObject.type=E,_?(this._mediaObject.connection={ip:_.ip,version:_.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=_.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),E){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${f??"-"} ${p}`);for(const I of b.codecs){const A={payload:I.payloadType,codec:d(I),rate:I.clockRate};I.channels>1&&(A.encoding=I.channels),this._mediaObject.rtp.push(A);const N={payload:I.payloadType,config:""};for(const V of Object.keys(I.parameters))N.config&&(N.config+=";"),N.config+=`${V}=${I.parameters[V]}`;N.config&&this._mediaObject.fmtp.push(N);for(const V of I.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:I.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=b.codecs.map(I=>I.payloadType).join(" "),this._mediaObject.ext=[];for(const I of b.headerExtensions)this._mediaObject.ext.push({uri:I.uri,value:I.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const k=b.encodings[0],L=k.ssrc,j=(x=k.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],b.rtcp.cname&&this._mediaObject.ssrcs.push({id:L,attribute:"cname",value:b.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:L,attribute:"msid",value:`${f??"-"} ${p}`}),j&&(b.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:b.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${f??"-"} ${p}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${L} ${j}`}));break}case"application":{m?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(v){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:v,streamId:y,trackId:w}){var E;const S=v.encodings[0],_=S.ssrc,R=(E=S.rtx)==null?void 0:E.ssrc,C=this._mediaObject.payloads.split(" ");for(const b of v.codecs){if(C.includes(String(b.payloadType)))continue;const f={payload:b.payloadType,codec:d(b),rate:b.clockRate};b.channels>1&&(f.encoding=b.channels),this._mediaObject.rtp.push(f);const p={payload:b.payloadType,config:""};for(const m of Object.keys(b.parameters))p.config&&(p.config+=";"),p.config+=`${m}=${b.parameters[m]}`;p.config&&this._mediaObject.fmtp.push(p);for(const m of b.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:b.payloadType,type:m.type,subtype:m.parameter})}this._mediaObject.payloads+=` ${v.codecs.filter(b=>!this._mediaObject.payloads.includes(b.payloadType)).map(b=>b.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),v.rtcp.cname&&this._mediaObject.ssrcs.push({id:_,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:_,attribute:"msid",value:`${y??"-"} ${w}`}),R&&(v.rtcp.cname&&this._mediaObject.ssrcs.push({id:R,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:R,attribute:"msid",value:`${y??"-"} ${w}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${_} ${R}`}))}planBStopReceiving({offerRtpParameters:v}){var _;const y=v.encodings[0],w=y.ssrc,S=(_=y.rtx)==null?void 0:_.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(R=>R.id!==w&&R.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(R=>R.ssrcs!==`${w} ${S}`))}}er.OfferMediaSection=u;function d(h){const y=new RegExp("^(audio|video)/(.+)","i").exec(h.mimeType);if(!y)throw new TypeError("invalid codec.mimeType");return y[2]}return er}var m_;function Rn(){if(m_)return Jr;m_=1;var e=Jr&&Jr.__createBinding||(Object.create?function(d,h,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(h,v);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(d,y,w)}:function(d,h,v,y){y===void 0&&(y=v),d[y]=h[v]}),t=Jr&&Jr.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Jr&&Jr.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(h,d,v);return t(h,d),h};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.RemoteSdp=void 0;const n=r(yr()),i=xt(),a=FO(),c=new i.Logger("RemoteSdp");let u=class{constructor({iceParameters:h,iceCandidates:v,dtlsParameters:y,sctpParameters:w,plainRtpParameters:S,planB:_=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=h,this._iceCandidates=v,this._dtlsParameters=y,this._sctpParameters=w,this._plainRtpParameters=S,this._planB=_,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},h!=null&&h.iceLite&&(this._sdpObject.icelite="ice-lite"),y){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const R=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:y.fingerprints[R-1].algorithm,hash:y.fingerprints[R-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(h){c.debug("updateIceParameters() [iceParameters:%o]",h),this._iceParameters=h,this._sdpObject.icelite=h.iceLite?"ice-lite":void 0;for(const v of this._mediaSections)v.setIceParameters(h)}updateDtlsRole(h){c.debug("updateDtlsRole() [role:%s]",h),this._dtlsParameters.role=h;for(const v of this._mediaSections)v.setDtlsRole(h)}getNextMediaSectionIdx(){for(let h=0;h<this._mediaSections.length;++h){const v=this._mediaSections[h];if(v.closed)return{idx:h,reuseMid:v.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:h,reuseMid:v,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:_=!1}){const R=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:h,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:_});v?this._replaceMediaSection(R,v):this._midToIndex.has(R.mid)?this._replaceMediaSection(R):this._addMediaSection(R)}receive({mid:h,kind:v,offerRtpParameters:y,streamId:w,trackId:S}){const _=this._midToIndex.get(h);let R;if(_!==void 0&&(R=this._mediaSections[_]),R)R.planBReceive({offerRtpParameters:y,streamId:w,trackId:S}),this._replaceMediaSection(R);else{R=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:h,kind:v,offerRtpParameters:y,streamId:w,trackId:S});const C=this._mediaSections.find(E=>E.closed);C?this._replaceMediaSection(R,C.mid):this._addMediaSection(R)}}pauseMediaSection(h){this._findMediaSection(h).pause()}resumeSendingMediaSection(h){this._findMediaSection(h).resume()}resumeReceivingMediaSection(h){this._findMediaSection(h).resume()}disableMediaSection(h){this._findMediaSection(h).disable()}closeMediaSection(h){const v=this._findMediaSection(h);return h===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",h),this.disableMediaSection(h),!1):(v.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(h,v){const y=this._findMediaSection(h);y.muxSimulcastStreams(v),this._replaceMediaSection(y)}planBStopReceiving({mid:h,offerRtpParameters:v}){const y=this._findMediaSection(h);y.planBStopReceiving({offerRtpParameters:v}),this._replaceMediaSection(y)}sendSctpAssociation({offerMediaObject:h}){const v=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:h});this._addMediaSection(v)}receiveSctpAssociation({oldDataChannelSpec:h=!1}={}){const v=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:h});this._addMediaSection(v)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(h){this._firstMid||(this._firstMid=h.mid),this._mediaSections.push(h),this._midToIndex.set(h.mid,this._mediaSections.length-1),this._sdpObject.media.push(h.getObject()),this._regenerateBundleMids()}_replaceMediaSection(h,v){if(typeof v=="string"){const y=this._midToIndex.get(v);if(y===void 0)throw new Error(`no media section found for reuseMid '${v}'`);const w=this._mediaSections[y];this._mediaSections[y]=h,this._midToIndex.delete(w.mid),this._midToIndex.set(h.mid,y),this._sdpObject.media[y]=h.getObject(),this._regenerateBundleMids()}else{const y=this._midToIndex.get(h.mid);if(y===void 0)throw new Error(`no media section found with mid '${h.mid}'`);this._mediaSections[y]=h,this._sdpObject.media[y]=h.getObject()}}_findMediaSection(h){const v=this._midToIndex.get(h);if(v===void 0)throw new Error(`no media section found with mid '${h}'`);return this._mediaSections[v]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(h=>!h.closed).map(h=>h.mid).join(" "))}};return Jr.RemoteSdp=u,Jr}var kl={},g_;function Ys(){if(g_)return kl;g_=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return kl}var v_;function zO(){if(v_)return Zr;v_=1;var e=Zr&&Zr.__createBinding||(Object.create?function(b,f,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(f,p);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(b,m,x)}:function(b,f,p,m){m===void 0&&(m=p),b[m]=f[p]}),t=Zr&&Zr.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),r=Zr&&Zr.__importStar||function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&e(f,b,p);return t(f,b),f};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Chrome111=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(Io()),h=r(gd()),v=sr(),y=kr(),w=Rn(),S=Ys(),_=new i.Logger("Chrome111"),R="Chrome111",C={OS:1024,MIS:1024};let E=class Y1 extends y.HandlerInterface{static createFactory(){return()=>new Y1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(_.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){_.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const p=await f.createOffer();try{f.close()}catch{}const m=n.parse(p.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(p){try{f.close()}catch{}throw p}}async getNativeSctpCapabilities(){return _.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:L,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),_.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:L??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(f){this.assertNotClosed(),_.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=f,this._pc.setConfiguration(p)}async restartIce(f){if(this.assertNotClosed(),_.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){if(this.assertNotClosed(),this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),p&&p.length>1){let U=1;for(const F of p){const z=F.scalabilityMode?(0,S.parse)(F.scalabilityMode).temporalLayers:3;z>U&&(U=z)}p.forEach((F,z)=>{F.rid=`r${z}`,F.scalabilityMode=`L1T${U}`})}const L=a.clone(this._sendingRtpParametersByKind[f.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});k&&k(A.sender);const N=await this._pc.createOffer();let V=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const W=A.mid;L.mid=W,V=n.parse(this._pc.localDescription.sdp);const X=V.media[I.idx];if(L.rtcp.cname=u.getCname({offerMediaObject:X}),!p)L.encodings=d.getRtpEncodings({offerMediaObject:X});else if(p.length===1){const U=d.getRtpEncodings({offerMediaObject:X});Object.assign(U[0],p[0]),L.encodings=U}else L.encodings=p;this._remoteSdp.send({offerMediaObject:X,reuseMid:I.reuseMid,offerRtpParameters:L,answerRtpParameters:j,codecOptions:m,extmapAllowMixed:!0});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return _.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:L,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),_.debug("stopSending() [localId:%s]",f),this._closed)return;const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("pauseSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(f);const m=await this._pc.createOffer();_.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("resumeSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();_.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,p){this.assertNotClosed(),this.assertSendDirection(),p?_.debug("replaceTrack() [localId:%s, track.id:%s]",f,p.id):_.debug("replaceTrack() [localId:%s, no track]",f);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{I<=p?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async setRtpEncodingParameters(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const L={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};_.debug("sendDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(x,L);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),_.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:L.id,ordered:L.ordered,maxPacketLifeTime:L.maxPacketLifeTime,maxRetransmits:L.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;_.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=m.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const L=n.parse(k.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=m.get(I),V=L.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(L)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),_.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of f){const{trackId:I}=j,A=m.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){_.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j,protocol:m};_.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(p,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:p});m.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Zr.Chrome111=E,Zr}var en={},y_;function BO(){if(y_)return en;y_=1;var e=en&&en.__createBinding||(Object.create?function(b,f,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(f,p);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(b,m,x)}:function(b,f,p,m){m===void 0&&(m=p),b[m]=f[p]}),t=en&&en.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),r=en&&en.__importStar||function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&e(f,b,p);return t(f,b),f};Object.defineProperty(en,"__esModule",{value:!0}),en.Chrome74=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(Io()),h=r(gd()),v=sr(),y=kr(),w=Rn(),S=Ys(),_=new i.Logger("Chrome74"),R="Chrome74",C={OS:1024,MIS:1024};let E=class X1 extends y.HandlerInterface{static createFactory(){return()=>new X1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(_.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){_.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const p=await f.createOffer();try{f.close()}catch{}const m=n.parse(p.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(p){try{f.close()}catch{}throw p}}async getNativeSctpCapabilities(){return _.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:L,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){_.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:L??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(f){this.assertNotClosed(),_.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=f,this._pc.setConfiguration(p)}async restartIce(f){if(this.assertNotClosed(),_.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:p,codecOptions:m,codec:x}){this.assertNotClosed(),this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),p&&p.length>1&&p.forEach((F,z)=>{F.rid=`r${z}`});const k=a.clone(this._sendingRtpParametersByKind[f.kind]);k.codecs=c.reduceCodecs(k.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),I=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});let A=await this._pc.createOffer(),N=n.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let W=!1;const X=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length===1&&X.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(_.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,N=n.parse(A.sdp),V=N.media[j.idx],d.addLegacySimulcast({offerMediaObject:V,numStreams:X.spatialLayers}),A={type:"offer",sdp:n.write(N)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const O=I.mid;if(k.mid=O,N=n.parse(this._pc.localDescription.sdp),V=N.media[j.idx],k.rtcp.cname=u.getCname({offerMediaObject:V}),!p)k.encodings=d.getRtpEncodings({offerMediaObject:V});else if(p.length===1){let F=d.getRtpEncodings({offerMediaObject:V});Object.assign(F[0],p[0]),W&&(F=[F[0]]),k.encodings=F}else k.encodings=p;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of k.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${X.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:j.reuseMid,offerRtpParameters:k,answerRtpParameters:L,codecOptions:m,extmapAllowMixed:!0});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return _.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,I),{localId:O,rtpParameters:k,rtpSender:I.sender}}async stopSending(f){if(this.assertSendDirection(),_.debug("stopSending() [localId:%s]",f),this._closed)return;const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("pauseSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(f);const m=await this._pc.createOffer();_.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("resumeSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();_.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,p){this.assertNotClosed(),this.assertSendDirection(),p?_.debug("replaceTrack() [localId:%s, track.id:%s]",f,p.id):_.debug("replaceTrack() [localId:%s, no track]",f);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{I<=p?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async setRtpEncodingParameters(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const L={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};_.debug("sendDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(x,L);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),_.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:L.id,ordered:L.ordered,maxPacketLifeTime:L.maxPacketLifeTime,maxRetransmits:L.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;_.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let k=await this._pc.createAnswer();const L=n.parse(k.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=m.get(I),V=L.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(L)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),_.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of f){const{trackId:I}=j,A=m.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){_.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j,protocol:m};_.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(p,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:p});m.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return en.Chrome74=E,en}var tn={},w_;function UO(){if(w_)return tn;w_=1;var e=tn&&tn.__createBinding||(Object.create?function(C,E,b,f){f===void 0&&(f=b);var p=Object.getOwnPropertyDescriptor(E,b);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(C,f,p)}:function(C,E,b,f){f===void 0&&(f=b),C[f]=E[b]}),t=tn&&tn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=tn&&tn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var b in C)b!=="default"&&Object.prototype.hasOwnProperty.call(C,b)&&e(E,C,b);return t(E,C),E};Object.defineProperty(tn,"__esModule",{value:!0}),tn.Chrome70=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(Io()),h=kr(),v=Rn(),y=Ys(),w=new i.Logger("Chrome70"),S="Chrome70",_={OS:1024,MIS:1024};let R=class Q1 extends h.HandlerInterface{static createFactory(){return()=>new Q1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{E.addTransceiver("audio"),E.addTransceiver("video");const b=await E.createOffer();try{E.close()}catch{}const f=n.parse(b.sdp);return u.extractRtpCapabilities({sdpObject:f})}catch(b){try{E.close()}catch{}throw b}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:_}}run({direction:E,iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:L,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=E,this._remoteSdp=new v.RemoteSdp({iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",I),video:c.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",I),video:c.getSendingRemoteRtpParameters("video",I)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...L},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const b=this._pc.getConfiguration();b.iceServers=E,this._pc.setConfiguration(b)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const b=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:b,codecOptions:f,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id);const m=a.clone(this._sendingRtpParametersByKind[E.kind]);m.codecs=c.reduceCodecs(m.codecs,p);const x=a.clone(this._sendingRemoteRtpParametersByKind[E.kind]);x.codecs=c.reduceCodecs(x.codecs,p);const k=this._remoteSdp.getNextMediaSectionIdx(),L=this._pc.addTransceiver(E,{direction:"sendonly",streams:[this._sendStream]});let j=await this._pc.createOffer(),I=n.parse(j.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b&&b.length>1&&(w.debug("send() | enabling legacy simulcast"),I=n.parse(j.sdp),A=I.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:b.length}),j={type:"offer",sdp:n.write(I)});let N=!1;const V=(0,y.parse)((b??[{}])[0].scalabilityMode);if(b&&b.length===1&&V.spatialLayers>1&&m.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),N=!0,I=n.parse(j.sdp),A=I.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),j={type:"offer",sdp:n.write(I)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),b){w.debug("send() | applying given encodings");const O=L.sender.getParameters();for(let U=0;U<(O.encodings??[]).length;++U){const F=O.encodings[U],z=b[U];if(!z)break;O.encodings[U]=Object.assign(F,z)}await L.sender.setParameters(O)}const W=L.mid;if(m.mid=W,I=n.parse(this._pc.localDescription.sdp),A=I.media[k.idx],m.rtcp.cname=u.getCname({offerMediaObject:A}),m.encodings=d.getRtpEncodings({offerMediaObject:A}),b)for(let O=0;O<m.encodings.length;++O)b[O]&&Object.assign(m.encodings[O],b[O]);if(N&&(m.encodings=[m.encodings[0]]),m.encodings.length>1&&(m.codecs[0].mimeType.toLowerCase()==="video/vp8"||m.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of m.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:k.reuseMid,offerRtpParameters:m,answerRtpParameters:x,codecOptions:f});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(W,L),{localId:W,rtpParameters:m,rtpSender:L.sender}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const b=this._mapMidTransceiver.get(E);if(!b)throw new Error("associated RTCRtpTransceiver not found");if(b.sender.replaceTrack(null),this._pc.removeTrack(b.sender),this._remoteSdp.closeMediaSection(b.mid))try{b.stop()}catch{}const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(E)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,b){this.assertSendDirection(),b?w.debug("replaceTrack() [localId:%s, track.id:%s]",E,b.id):w.debug("replaceTrack() [localId:%s, no track]",E);const f=this._mapMidTransceiver.get(E);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(b)}async setMaxSpatialLayer(E,b){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",E,b);const f=this._mapMidTransceiver.get(E);if(!f)throw new Error("associated RTCRtpTransceiver not found");const p=f.sender.getParameters();p.encodings.forEach((k,L)=>{L<=b?k.active=!0:k.active=!1}),await f.sender.setParameters(p),this._remoteSdp.muxMediaSectionSimulcast(E,p.encodings);const m=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async setRtpEncodingParameters(E,b){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",E,b);const f=this._mapMidTransceiver.get(E);if(!f)throw new Error("associated RTCRtpTransceiver not found");const p=f.sender.getParameters();p.encodings.forEach((k,L)=>{p.encodings[L]={...k,...b}}),await f.sender.setParameters(p),this._remoteSdp.muxMediaSectionSimulcast(E,p.encodings);const m=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async getSenderStats(E){this.assertSendDirection();const b=this._mapMidTransceiver.get(E);if(!b)throw new Error("associated RTCRtpTransceiver not found");return b.sender.getStats()}async sendDataChannel({ordered:E,maxPacketLifeTime:b,maxRetransmits:f,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:b,maxRetransmitTime:b,maxRetransmits:f,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=n.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const L={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:L}}async receive(E){this.assertRecvDirection();const b=[],f=new Map;for(const k of E){const{trackId:L,kind:j,rtpParameters:I,streamId:A}=k;w.debug("receive() [trackId:%s, kind:%s]",L,j);const N=I.mid??String(this._mapMidTransceiver.size);f.set(L,N),this._remoteSdp.receive({mid:N,kind:j,offerRtpParameters:I,streamId:A??I.rtcp.cname,trackId:L})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{trackId:L,rtpParameters:j}=k,I=f.get(L),A=x.media.find(N=>String(N.mid)===I);u.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{trackId:L}=k,j=f.get(L),I=this._pc.getTransceivers().find(A=>A.mid===j);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(j,I),b.push({localId:j,track:I.receiver.track,rtpReceiver:I.receiver})}return b}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(m.mid)}const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const p of E)this._mapMidTransceiver.delete(p)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){this.assertRecvDirection();const b=this._mapMidTransceiver.get(E);if(!b)throw new Error("associated RTCRtpTransceiver not found");return b.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:E,label:b,protocol:f}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,L={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:f};w.debug("receiveDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(b,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:b}){b||(b=n.parse(this._pc.localDescription.sdp));const f=u.extractDtlsParameters({sdpObject:b});f.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:f},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return tn.Chrome70=R,tn}var rn={},La={},S_;function vd(){if(S_)return La;S_=1,Object.defineProperty(La,"__esModule",{value:!0}),La.getRtpEncodings=e,La.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const i=new Set;for(const u of r.ssrcs||[]){if(u.attribute!=="msid")continue;if(u.value.split(" ")[1]===n.id){const h=u.id;i.add(h)}}if(i.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const u of r.ssrcGroups||[]){if(u.semantics!=="FID")continue;let[d,h]=u.ssrcs.split(/\s+/);d=Number(d),h=Number(h),i.has(d)&&(i.delete(d),i.delete(h),a.set(d,h))}for(const u of i)a.set(u,null);const c=[];for(const[u,d]of a){const h={ssrc:u};d&&(h.rtx={ssrc:d}),c.push(h)}return c}function t({offerMediaObject:r,track:n,numStreams:i}){if(i<=1)throw new TypeError("numStreams must be greater than 1");let a,c,u;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===n.id?(a=S.id,u=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const _=S.ssrcs.split(/\s+/);return Number(_[0])===a?(c=Number(_[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===a);if(!h)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const v=h.value,y=[],w=[];for(let S=0;S<i;++S)y.push(a+S),c&&w.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${u} ${n.id}`});for(let S=0;S<w.length;++S){const _=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${u} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${_} ${R}`})}}return La}var __;function VO(){if(__)return rn;__=1;var e=rn&&rn.__createBinding||(Object.create?function(R,C,E,b){b===void 0&&(b=E);var f=Object.getOwnPropertyDescriptor(C,E);(!f||("get"in f?!C.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,b,f)}:function(R,C,E,b){b===void 0&&(b=E),R[b]=C[E]}),t=rn&&rn.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=rn&&rn.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(rn,"__esModule",{value:!0}),rn.Chrome67=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(vd()),h=kr(),v=Rn(),y=new i.Logger("Chrome67"),w="Chrome67",S={OS:1024,MIS:1024};let _=class Z1 extends h.HandlerInterface{static createFactory(){return()=>new Z1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const b=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:b})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:b,dtlsParameters:f,sctpParameters:p,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:L,extendedRtpCapabilities:j}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:b,dtlsParameters:f,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...k},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const b={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const b=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:b,codec:f}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),f&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let p=await this._pc.createOffer(),m=n.parse(p.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const L=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(L.codecs=c.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(p.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),p={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=u.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:L,codecOptions:b});const j={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const I=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(I,A),{localId:I,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",C);const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(E),E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const b=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",b);try{await this._pc.setLocalDescription(b)}catch(p){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",p.toString());return}throw p}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.track;await b.replaceTrack(E),f&&this._sendStream.removeTrack(f),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.getParameters();f.encodings.forEach((p,m)=>{m<=E?p.active=!0:p.active=!1}),await b.setParameters(f)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.getParameters();f.encodings.forEach((p,m)=>{f.encodings[m]={...p,...E}}),await b.setParameters(f)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:b,label:f,protocol:p}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:b,protocol:p};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(f,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),j=n.parse(L.sdp),I=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:L,streamId:j}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const I=k;this._remoteSdp.receive({mid:I,kind:k,offerRtpParameters:L,streamId:j??L.rtcp.cname,trackId:x})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);let f=await this._pc.createAnswer();const p=n.parse(f.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,L=x,j=p.media.find(I=>String(I.mid)===L);u.applyCodecParameters({offerRtpParameters:k,answerMediaObject:j})}f={type:"answer",sdp:n.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const m of C){const{kind:x,trackId:k,rtpParameters:L}=m,j=k,I=x,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===j);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(j,{mid:I,rtpParameters:L,rtpReceiver:A}),E.push({localId:j,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const f of C){y.debug("stopReceiving() [localId:%s]",f);const{mid:p,rtpParameters:m}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:p,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const b=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async pauseReceiving(C){}async resumeReceiving(C){}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:b}){this.assertRecvDirection();const{streamId:f,ordered:p,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:f,ordered:p,maxPacketLifeTime:m,maxRetransmitTime:m,maxRetransmits:x,protocol:b};y.debug("receiveDataChannel() [options:%o]",k);const L=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const I=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const b=u.extractDtlsParameters({sdpObject:E});b.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((f,p)=>{this.safeEmit("@connect",{dtlsParameters:b},f,p)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return rn.Chrome67=_,rn}var nn={},b_;function HO(){if(b_)return nn;b_=1;var e=nn&&nn.__createBinding||(Object.create?function(C,E,b,f){f===void 0&&(f=b);var p=Object.getOwnPropertyDescriptor(E,b);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(C,f,p)}:function(C,E,b,f){f===void 0&&(f=b),C[f]=E[b]}),t=nn&&nn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=nn&&nn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var b in C)b!=="default"&&Object.prototype.hasOwnProperty.call(C,b)&&e(E,C,b);return t(E,C),E};Object.defineProperty(nn,"__esModule",{value:!0}),nn.Chrome55=void 0;const n=r(yr()),i=xt(),a=sr(),c=r(Vt()),u=r(vr()),d=r(Cn()),h=r(vd()),v=kr(),y=Rn(),w=new i.Logger("Chrome55"),S="Chrome55",_={OS:1024,MIS:1024};let R=class J1 extends v.HandlerInterface{static createFactory(){return()=>new J1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const b=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const f=n.parse(b.sdp);return d.extractRtpCapabilities({sdpObject:f})}catch(b){try{E.close()}catch{}throw b}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:_}}run({direction:E,iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:L,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...L},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const b=this._pc.getConfiguration();b.iceServers=E,this._pc.setConfiguration(b)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const b=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:b,codecOptions:f,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),p&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const L=c.clone(this._sendingRtpParametersByKind[E.kind]);L.codecs=u.reduceCodecs(L.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&b&&b.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:b.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),L.rtcp.cname=d.getCname({offerMediaObject:k}),L.encodings=h.getRtpEncodings({offerMediaObject:k,track:E}),b)for(let N=0;N<L.encodings.length;++N)b[N]&&Object.assign(L.encodings[N],b[N]);if(L.encodings.length>1&&L.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of L.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:L,answerRtpParameters:j,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:L}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const b=this._mapSendLocalIdTrack.get(E);if(!b)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(b),this._pc.addStream(this._sendStream);const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f);try{await this._pc.setLocalDescription(f)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,b){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,b){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(E,b){throw new a.UnsupportedError("not supported")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:b,maxRetransmits:f,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:b,maxRetransmitTime:b,maxRetransmits:f,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=n.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const L={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:L}}async receive(E){this.assertRecvDirection();const b=[];for(const x of E){const{trackId:k,kind:L,rtpParameters:j,streamId:I}=x;w.debug("receive() [trackId:%s, kind:%s]",k,L);const A=L;this._remoteSdp.receive({mid:A,kind:L,offerRtpParameters:j,streamId:I??j.rtcp.cname,trackId:k})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let p=await this._pc.createAnswer();const m=n.parse(p.sdp);for(const x of E){const{kind:k,rtpParameters:L}=x,j=k,I=m.media.find(A=>String(A.mid)===j);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:I})}p={type:"answer",sdp:n.write(m)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const x of E){const{kind:k,trackId:L,rtpParameters:j}=x,I=k,A=L,N=x.streamId??j.rtcp.cname,W=this._pc.getRemoteStreams().find(X=>X.id===N).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:I,rtpParameters:j}),b.push({localId:A,track:W})}return b}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:b,protocol:f}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,L={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:f};w.debug("receiveDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(b,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:b}){b||(b=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:b});f.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:f},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return nn.Chrome55=R,nn}var sn={},x_;function WO(){if(x_)return sn;x_=1;var e=sn&&sn.__createBinding||(Object.create?function(E,b,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(b,f);(!m||("get"in m?!b.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return b[f]}}),Object.defineProperty(E,p,m)}:function(E,b,f,p){p===void 0&&(p=f),E[p]=b[f]}),t=sn&&sn.__setModuleDefault||(Object.create?function(E,b){Object.defineProperty(E,"default",{enumerable:!0,value:b})}:function(E,b){E.default=b}),r=sn&&sn.__importStar||function(E){if(E&&E.__esModule)return E;var b={};if(E!=null)for(var f in E)f!=="default"&&Object.prototype.hasOwnProperty.call(E,f)&&e(b,E,f);return t(b,E),b};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Firefox120=void 0;const n=r(yr()),i=xt(),a=sr(),c=r(Vt()),u=r(vr()),d=r(Cn()),h=r(Io()),v=kr(),y=Rn(),w=Ys(),S=new i.Logger("Firefox120"),_="Firefox120",R={OS:16,MIS:2048};let C=class ex extends v.HandlerInterface{static createFactory(){return()=>new ex}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return _}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const b=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),f=document.createElement("canvas");f.getContext("2d");const m=f.captureStream().getVideoTracks()[0];try{b.addTransceiver("audio",{direction:"sendrecv"}),b.addTransceiver(m,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const x=await b.createOffer();try{f.remove()}catch{}try{m.stop()}catch{}try{b.close()}catch{}const k=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:k})}catch(x){try{f.remove()}catch{}try{m.stop()}catch{}try{b.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:b,iceParameters:f,iceCandidates:p,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:I,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=b,this._remoteSdp=new y.RemoteSdp({iceParameters:f,iceCandidates:p,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(b){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(b){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(b),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const p={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:b,encodings:f,codecOptions:p,codec:m,onRtpSender:x}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",b.kind,b.id),f&&f.length>1&&f.forEach((O,U)=>{O.rid=`r${U}`});const k=c.clone(this._sendingRtpParametersByKind[b.kind]);k.codecs=u.reduceCodecs(k.codecs,m);const L=c.clone(this._sendingRemoteRtpParametersByKind[b.kind]);L.codecs=u.reduceCodecs(L.codecs,m);const j=this._pc.addTransceiver(b,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});x&&x(j.sender);const I=await this._pc.createOffer();let A=n.parse(I.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const N=(0,w.parse)((f??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const V=j.mid;k.mid=V,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(k.rtcp.cname=d.getCname({offerMediaObject:W}),!f)k.encodings=h.getRtpEncodings({offerMediaObject:W});else if(f.length===1){const O=h.getRtpEncodings({offerMediaObject:W});Object.assign(O[0],f[0]),k.encodings=O}else k.encodings=f;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of k.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${N.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:k,answerRtpParameters:L,codecOptions:p,extmapAllowMixed:!0});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(V,j),{localId:V,rtpParameters:k,rtpSender:j.sender}}async stopSending(b){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",b),this._closed)return;const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated transceiver not found");f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.disableMediaSection(f.mid);const p=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(b)}async pauseSending(b){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",b);const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(b);const p=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(b){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",b);const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(b);const p=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(b,f){this.assertNotClosed(),this.assertSendDirection(),f?S.debug("replaceTrack() [localId:%s, track.id:%s]",b,f.id):S.debug("replaceTrack() [localId:%s, no track]",b);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(f)}async setMaxSpatialLayer(b,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",b,f);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated transceiver not found");const m=p.sender.getParameters();m.encodings.forEach((L,j)=>{j<=f?L.active=!0:L.active=!1}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(b,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(b,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",b,f);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated RTCRtpTransceiver not found");const m=p.sender.getParameters();m.encodings.forEach((L,j)=>{m.encodings[j]={...L,...f}}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(b,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(b){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:b,maxPacketLifeTime:f,maxRetransmits:p,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:b,maxPacketLifeTime:f,maxRetransmits:p,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const L=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),A=n.parse(I.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(b){this.assertNotClosed(),this.assertRecvDirection();const f=[],p=new Map;for(const L of b){const{trackId:j,kind:I,rtpParameters:A,streamId:N}=L;S.debug("receive() [trackId:%s, kind:%s]",j,I);const V=A.mid??String(this._mapMidTransceiver.size);p.set(j,V),this._remoteSdp.receive({mid:V,kind:I,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);for(const L of b){const{trackId:j,onRtpReceiver:I}=L;if(I){const A=p.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("transceiver not found");I(N.receiver)}}let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const L of b){const{trackId:j,rtpParameters:I}=L,A=p.get(j),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:I,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const L of b){const{trackId:j}=L,I=p.get(j),A=this._pc.getTransceivers().find(N=>N.mid===I);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,A),f.push({localId:I,track:A.receiver.track,rtpReceiver:A.receiver})}return f}async stopReceiving(b){if(this.assertRecvDirection(),this._closed)return;for(const m of b){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of b)this._mapMidTransceiver.delete(m)}async pauseReceiving(b){this.assertNotClosed(),this.assertRecvDirection();for(const m of b){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async resumeReceiving(b){this.assertNotClosed(),this.assertRecvDirection();for(const m of b){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async getReceiverStats(b){this.assertRecvDirection();const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:b,label:f,protocol:p}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:L}=b,j={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:L,protocol:p};S.debug("receiveDataChannel() [options:%o]",j);const I=this._pc.createDataChannel(f,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:b,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:f});p.role=b,this._remoteSdp.updateDtlsRole(b==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:p},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return sn.Firefox120=C,sn}var on={},C_;function qO(){if(C_)return on;C_=1;var e=on&&on.__createBinding||(Object.create?function(E,b,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(b,f);(!m||("get"in m?!b.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return b[f]}}),Object.defineProperty(E,p,m)}:function(E,b,f,p){p===void 0&&(p=f),E[p]=b[f]}),t=on&&on.__setModuleDefault||(Object.create?function(E,b){Object.defineProperty(E,"default",{enumerable:!0,value:b})}:function(E,b){E.default=b}),r=on&&on.__importStar||function(E){if(E&&E.__esModule)return E;var b={};if(E!=null)for(var f in E)f!=="default"&&Object.prototype.hasOwnProperty.call(E,f)&&e(b,E,f);return t(b,E),b};Object.defineProperty(on,"__esModule",{value:!0}),on.Firefox60=void 0;const n=r(yr()),i=xt(),a=sr(),c=r(Vt()),u=r(vr()),d=r(Cn()),h=r(Io()),v=kr(),y=Rn(),w=Ys(),S=new i.Logger("Firefox60"),_="Firefox60",R={OS:16,MIS:2048};let C=class tx extends v.HandlerInterface{static createFactory(){return()=>new tx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return _}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const b=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),f=document.createElement("canvas");f.getContext("2d");const m=f.captureStream().getVideoTracks()[0];try{b.addTransceiver("audio",{direction:"sendrecv"});const x=b.addTransceiver(m,{direction:"sendrecv"}),k=x.sender.getParameters(),L=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];k.encodings=L,await x.sender.setParameters(k);const j=await b.createOffer();try{f.remove()}catch{}try{m.stop()}catch{}try{b.close()}catch{}const I=n.parse(j.sdp);return d.extractRtpCapabilities({sdpObject:I})}catch(x){try{f.remove()}catch{}try{m.stop()}catch{}try{b.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:b,iceParameters:f,iceCandidates:p,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:I,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=b,this._remoteSdp=new y.RemoteSdp({iceParameters:f,iceCandidates:p,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(b){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(b){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(b),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const p={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:b,encodings:f,codecOptions:p,codec:m}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",b.kind,b.id),f&&(f=c.clone(f),f.forEach((X,O)=>{X.rid=`r${O}`}),f.reverse());const x=c.clone(this._sendingRtpParametersByKind[b.kind]);x.codecs=u.reduceCodecs(x.codecs,m);const k=c.clone(this._sendingRemoteRtpParametersByKind[b.kind]);k.codecs=u.reduceCodecs(k.codecs,m);const L=this._pc.addTransceiver(b,{direction:"sendonly",streams:[this._sendStream]});if(f){const X=L.sender.getParameters();X.encodings=f,await L.sender.setParameters(X)}const j=await this._pc.createOffer();let I=n.parse(j.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:I});const A=(0,w.parse)((f??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j);const N=L.mid;x.mid=N,I=n.parse(this._pc.localDescription.sdp);const V=I.media[I.media.length-1];if(x.rtcp.cname=d.getCname({offerMediaObject:V}),!f)x.encodings=h.getRtpEncodings({offerMediaObject:V});else if(f.length===1){const X=h.getRtpEncodings({offerMediaObject:V});Object.assign(X[0],f[0]),x.encodings=X}else x.encodings=f.reverse();if(x.encodings.length>1&&(x.codecs[0].mimeType.toLowerCase()==="video/vp8"||x.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const X of x.encodings)X.scalabilityMode?X.scalabilityMode=`L1T${A.temporalLayers}`:X.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:x,answerRtpParameters:k,codecOptions:p,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(N,L),{localId:N,rtpParameters:x,rtpSender:L.sender}}async stopSending(b){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",b),this._closed)return;const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated transceiver not found");f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.disableMediaSection(f.mid);const p=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(b)}async pauseSending(b){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",b);const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(b);const p=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(b){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",b);const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(b);const p=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(b,f){this.assertNotClosed(),this.assertSendDirection(),f?S.debug("replaceTrack() [localId:%s, track.id:%s]",b,f.id):S.debug("replaceTrack() [localId:%s, no track]",b);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(f)}async setMaxSpatialLayer(b,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",b,f);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated transceiver not found");const m=p.sender.getParameters();f=m.encodings.length-1-f,m.encodings.forEach((L,j)=>{j>=f?L.active=!0:L.active=!1}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(b,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(b,f){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",b,f);const p=this._mapMidTransceiver.get(b);if(!p)throw new Error("associated RTCRtpTransceiver not found");const m=p.sender.getParameters();m.encodings.forEach((L,j)=>{m.encodings[j]={...L,...f}}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(b,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(b){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:b,maxPacketLifeTime:f,maxRetransmits:p,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:b,maxPacketLifeTime:f,maxRetransmits:p,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const L=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),A=n.parse(I.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(b){this.assertNotClosed(),this.assertRecvDirection();const f=[],p=new Map;for(const L of b){const{trackId:j,kind:I,rtpParameters:A,streamId:N}=L;S.debug("receive() [trackId:%s, kind:%s]",j,I);const V=A.mid??String(this._mapMidTransceiver.size);p.set(j,V),this._remoteSdp.receive({mid:V,kind:I,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const L of b){const{trackId:j,rtpParameters:I}=L,A=p.get(j),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:I,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const L of b){const{trackId:j}=L,I=p.get(j),A=this._pc.getTransceivers().find(N=>N.mid===I);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,A),f.push({localId:I,track:A.receiver.track,rtpReceiver:A.receiver})}return f}async stopReceiving(b){if(this.assertRecvDirection(),this._closed)return;for(const m of b){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of b)this._mapMidTransceiver.delete(m)}async pauseReceiving(b){this.assertNotClosed(),this.assertRecvDirection();for(const m of b){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async resumeReceiving(b){this.assertNotClosed(),this.assertRecvDirection();for(const m of b){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const p=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async getReceiverStats(b){this.assertRecvDirection();const f=this._mapMidTransceiver.get(b);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:b,label:f,protocol:p}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:L}=b,j={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:L,protocol:p};S.debug("receiveDataChannel() [options:%o]",j);const I=this._pc.createDataChannel(f,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:b,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:f});p.role=b,this._remoteSdp.updateDtlsRole(b==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:p},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return on.Firefox60=C,on}var an={},R_;function GO(){if(R_)return an;R_=1;var e=an&&an.__createBinding||(Object.create?function(b,f,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(f,p);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(b,m,x)}:function(b,f,p,m){m===void 0&&(m=p),b[m]=f[p]}),t=an&&an.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),r=an&&an.__importStar||function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&e(f,b,p);return t(f,b),f};Object.defineProperty(an,"__esModule",{value:!0}),an.Safari12=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(Io()),h=r(gd()),v=sr(),y=kr(),w=Rn(),S=Ys(),_=new i.Logger("Safari12"),R="Safari12",C={OS:1024,MIS:1024};let E=class rx extends y.HandlerInterface{static createFactory(){return()=>new rx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(_.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){_.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{f.addTransceiver("audio"),f.addTransceiver("video");const p=await f.createOffer();try{f.close()}catch{}const m=n.parse(p.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(p){try{f.close()}catch{}throw p}}async getNativeSctpCapabilities(){return _.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:L,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),_.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:L??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(f){this.assertNotClosed(),_.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=f,this._pc.setConfiguration(p)}async restartIce(f){if(this.assertNotClosed(),_.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",f.kind,f.id);const L=a.clone(this._sendingRtpParametersByKind[f.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream]});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const X=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length>1&&(_.debug("send() | enabling legacy simulcast"),V=n.parse(N.sdp),W=V.media[I.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:p.length}),N={type:"offer",sdp:n.write(V)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=A.mid;if(L.mid=O,V=n.parse(this._pc.localDescription.sdp),W=V.media[I.idx],L.rtcp.cname=u.getCname({offerMediaObject:W}),L.encodings=d.getRtpEncodings({offerMediaObject:W}),p)for(let F=0;F<L.encodings.length;++F)p[F]&&Object.assign(L.encodings[F],p[F]);if(L.encodings.length>1&&(L.codecs[0].mimeType.toLowerCase()==="video/vp8"||L.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of L.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${X.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:I.reuseMid,offerRtpParameters:L,answerRtpParameters:j,codecOptions:m});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return _.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,A),{localId:O,rtpParameters:L,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),this._closed)return;_.debug("stopSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("pauseSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(f);const m=await this._pc.createOffer();_.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("resumeSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(f);const m=await this._pc.createOffer();_.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,p){this.assertNotClosed(),this.assertSendDirection(),p?_.debug("replaceTrack() [localId:%s, track.id:%s]",f,p.id):_.debug("replaceTrack() [localId:%s, no track]",f);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{I<=p?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async setRtpEncodingParameters(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const L={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};_.debug("sendDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(x,L);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),_.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:L.id,ordered:L.ordered,maxPacketLifeTime:L.maxPacketLifeTime,maxRetransmits:L.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;_.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=m.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const L=n.parse(k.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=m.get(I),V=L.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(L)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),_.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of f){const{trackId:I}=j,A=m.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver})}return p}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){_.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j,protocol:m};_.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(p,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:p});m.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return an.Safari12=E,an}var cn={},E_;function KO(){if(E_)return cn;E_=1;var e=cn&&cn.__createBinding||(Object.create?function(R,C,E,b){b===void 0&&(b=E);var f=Object.getOwnPropertyDescriptor(C,E);(!f||("get"in f?!C.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,b,f)}:function(R,C,E,b){b===void 0&&(b=E),R[b]=C[E]}),t=cn&&cn.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=cn&&cn.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Safari11=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(vd()),h=kr(),v=Rn(),y=new i.Logger("Safari11"),w="Safari11",S={OS:1024,MIS:1024};let _=class nx extends h.HandlerInterface{static createFactory(){return()=>new nx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const b=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:b})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:b,dtlsParameters:f,sctpParameters:p,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:L,extendedRtpCapabilities:j}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:b,dtlsParameters:f,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const b={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const b=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:b,codec:f}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),f&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let p=await this._pc.createOffer(),m=n.parse(p.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const L=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(L.codecs=c.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(p.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),p={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=u.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:L,codecOptions:b});const j={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const I=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(I,A),{localId:I,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const b=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",b);try{await this._pc.setLocalDescription(b)}catch(p){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",p.toString());return}throw p}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.track;await b.replaceTrack(E),f&&this._sendStream.removeTrack(f),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.getParameters();f.encodings.forEach((p,m)=>{m<=E?p.active=!0:p.active=!1}),await b.setParameters(f)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const b=this._mapSendLocalIdRtpSender.get(C);if(!b)throw new Error("associated RTCRtpSender not found");const f=b.getParameters();f.encodings.forEach((p,m)=>{f.encodings[m]={...p,...E}}),await b.setParameters(f)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:b,label:f,protocol:p}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmits:b,protocol:p};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(f,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),j=n.parse(L.sdp),I=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:L,streamId:j}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const I=k;this._remoteSdp.receive({mid:I,kind:k,offerRtpParameters:L,streamId:j??L.rtcp.cname,trackId:x})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);let f=await this._pc.createAnswer();const p=n.parse(f.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,L=x,j=p.media.find(I=>String(I.mid)===L);u.applyCodecParameters({offerRtpParameters:k,answerMediaObject:j})}f={type:"answer",sdp:n.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const m of C){const{kind:x,trackId:k,rtpParameters:L}=m,j=x,I=k,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===I);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(I,{mid:j,rtpParameters:L,rtpReceiver:A}),E.push({localId:I,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const f of C){y.debug("stopReceiving() [localId:%s]",f);const{mid:p,rtpParameters:m}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:p,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const b=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",b),await this._pc.setLocalDescription(b)}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async pauseReceiving(C){}async resumeReceiving(C){}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:b}){this.assertRecvDirection();const{streamId:f,ordered:p,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:f,ordered:p,maxPacketLifeTime:m,maxRetransmits:x,protocol:b};y.debug("receiveDataChannel() [options:%o]",k);const L=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const I=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const b=u.extractDtlsParameters({sdpObject:E});b.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((f,p)=>{this.safeEmit("@connect",{dtlsParameters:b},f,p)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return cn.Safari11=_,cn}var ln={},un={},T_;function YO(){if(T_)return un;T_=1;var e=un&&un.__createBinding||(Object.create?function(c,u,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(u,d);(!v||("get"in v?!u.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,h,v)}:function(c,u,d,h){h===void 0&&(h=d),c[h]=u[d]}),t=un&&un.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=un&&un.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(u,c,d);return t(u,c),u};Object.defineProperty(un,"__esModule",{value:!0}),un.getCapabilities=i,un.mangleRtpParameters=a;const n=r(Vt());function i(){const c=RTCRtpReceiver.getCapabilities(),u=n.clone(c);for(const d of u.codecs??[]){if(d.channels=d.numChannels,delete d.numChannels,d.mimeType=d.mimeType??`${d.kind}/${d.name}`,d.parameters){const h=d.parameters;h.apt&&(h.apt=Number(h.apt)),h["packetization-mode"]&&(h["packetization-mode"]=Number(h["packetization-mode"]))}for(const h of d.rtcpFeedback??[])h.parameter||(h.parameter="")}return u}function a(c){const u=n.clone(c);u.mid&&(u.muxId=u.mid,delete u.mid);for(const d of u.codecs)d.channels&&(d.numChannels=d.channels,delete d.channels),d.mimeType&&!d.name&&(d.name=d.mimeType.split("/")[1]),delete d.mimeType;return u}return un}var P_;function XO(){if(P_)return ln;P_=1;var e=ln&&ln.__createBinding||(Object.create?function(w,S,_,R){R===void 0&&(R=_);var C=Object.getOwnPropertyDescriptor(S,_);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(w,R,C)}:function(w,S,_,R){R===void 0&&(R=_),w[R]=S[_]}),t=ln&&ln.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=ln&&ln.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var _ in w)_!=="default"&&Object.prototype.hasOwnProperty.call(w,_)&&e(S,w,_);return t(S,w),S};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Edge11=void 0;const n=xt(),i=sr(),a=r(Vt()),c=r(vr()),u=r(YO()),d=kr(),h=new n.Logger("Edge11"),v="Edge11";let y=class sx extends d.HandlerInterface{static createFactory(){return()=>new sx}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return v}close(){h.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return h.debug("getNativeRtpCapabilities()"),u.getCapabilities()}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:_,iceCandidates:R,dtlsParameters:C,sctpParameters:E,iceServers:b,iceTransportPolicy:f,additionalSettings:p,proprietaryConstraints:m,extendedRtpCapabilities:x}){h.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",x),video:c.getSendingRtpParameters("video",x)},this._remoteIceParameters=_,this._remoteIceCandidates=R,this._remoteDtlsParameters=C,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:b,iceTransportPolicy:f}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new i.UnsupportedError("not supported")}async restartIce(S){if(h.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){h.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const _ of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(_);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:_,codecOptions:R,codec:C}){h.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),h.debug("send() | calling new RTCRtpSender()");const E=new RTCRtpSender(S,this._dtlsTransport),b=a.clone(this._sendingRtpParametersByKind[S.kind]);b.codecs=c.reduceCodecs(b.codecs,C);const f=b.codecs.some(x=>/.+\/rtx$/i.test(x.mimeType));_||(_=[{}]);for(const x of _)x.ssrc=a.generateRandomNumber(),f&&(x.rtx={ssrc:a.generateRandomNumber()});b.encodings=_,b.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const p=u.mangleRtpParameters(b);h.debug("send() | calling rtpSender.send() [params:%o]",p),await E.send(p);const m=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(m,E),{localId:m,rtpParameters:b,rtpSender:E}}async stopSending(S){h.debug("stopSending() [localId:%s]",S);const _=this._rtpSenders.get(S);if(!_)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{h.debug("stopSending() | calling rtpSender.stop()"),_.stop()}catch(R){throw h.warn("stopSending() | rtpSender.stop() failed:%o",R),R}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,_){_?h.debug("replaceTrack() [localId:%s, track.id:%s]",S,_.id):h.debug("replaceTrack() [localId:%s, no track]",S);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");R.setTrack(_)}async setMaxSpatialLayer(S,_){h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,_);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,b)=>{b<=_?E.active=!0:E.active=!1}),await R.setParameters(C)}async setRtpEncodingParameters(S,_){h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,_);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,b)=>{C.encodings[b]={...E,..._}}),await R.setParameters(C)}async getSenderStats(S){const _=this._rtpSenders.get(S);if(!_)throw new Error("RTCRtpSender not found");return _.getStats()}async sendDataChannel(S){throw new i.UnsupportedError("not implemented")}async receive(S){const _=[];for(const R of S){const{trackId:C,kind:E}=R;h.debug("receive() [trackId:%s, kind:%s]",C,E)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const R of S){const{trackId:C,kind:E,rtpParameters:b}=R;h.debug("receive() | calling new RTCRtpReceiver()");const f=new RTCRtpReceiver(this._dtlsTransport,E);f.addEventListener("error",x=>{h.error('rtpReceiver "error" event [event:%o]',x)});const p=u.mangleRtpParameters(b);h.debug("receive() | calling rtpReceiver.receive() [params:%o]",p),await f.receive(p);const m=C;this._rtpReceivers.set(m,f),_.push({localId:m,track:f.track,rtpReceiver:f})}return _}async stopReceiving(S){for(const _ of S){h.debug("stopReceiving() [localId:%s]",_);const R=this._rtpReceivers.get(_);if(!R)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(_);try{h.debug("stopReceiving() | calling rtpReceiver.stop()"),R.stop()}catch(C){h.warn("stopReceiving() | rtpReceiver.stop() failed:%o",C)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const _=this._rtpReceivers.get(S);if(!_)throw new Error("RTCRtpReceiver not found");return _.getStats()}async receiveDataChannel(S){throw new i.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:_}){const R=new RTCIceGatherer({iceServers:S??[],gatherPolicy:_??"all"});R.addEventListener("error",C=>{h.error('iceGatherer "error" event [event:%o]',C)});try{R.gather()}catch(C){h.debug("setIceGatherer() | iceGatherer.gather() failed: %s",C.toString())}this._iceGatherer=R}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",_=>{h.debug('iceTransport "candidatepairchange" event [pair:%o]',_.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{h.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{h.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",_=>{h.error('dtlsTransport "error" event [event:%o]',_)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){h.debug("setupTransport()");const _=this._dtlsTransport.getLocalParameters();_.role=S,await new Promise((R,C)=>{this.safeEmit("@connect",{dtlsParameters:_},R,C)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const R of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(R);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(R=>R.algorithm==="sha-256"||R.algorithm==="sha-384"||R.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return ln.Edge11=y,ln}var dn={},k_;function QO(){if(k_)return dn;k_=1;var e=dn&&dn.__createBinding||(Object.create?function(b,f,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(f,p);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(b,m,x)}:function(b,f,p,m){m===void 0&&(m=p),b[m]=f[p]}),t=dn&&dn.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),r=dn&&dn.__importStar||function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&e(f,b,p);return t(f,b),f};Object.defineProperty(dn,"__esModule",{value:!0}),dn.ReactNativeUnifiedPlan=void 0;const n=r(yr()),i=xt(),a=r(Vt()),c=r(vr()),u=r(Cn()),d=r(Io()),h=r(gd()),v=sr(),y=kr(),w=Rn(),S=Ys(),_=new i.Logger("ReactNativeUnifiedPlan"),R="ReactNativeUnifiedPlan",C={OS:1024,MIS:1024};let E=class ox extends y.HandlerInterface{static createFactory(){return()=>new ox}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(_.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){_.debug("getNativeRtpCapabilities()");const f=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{f.addTransceiver("audio"),f.addTransceiver("video");const p=await f.createOffer();try{f.close()}catch{}const m=n.parse(p.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(p){try{f.close()}catch{}throw p}}async getNativeSctpCapabilities(){return _.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:f,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:L,iceTransportPolicy:j,additionalSettings:I,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),_.debug("run()"),this._direction=f,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:L??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(f){this.assertNotClosed(),_.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=f,this._pc.setConfiguration(p)}async restartIce(f){if(this.assertNotClosed(),_.debug("restartIce()"),this._remoteSdp.updateIceParameters(f),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:f,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",f.kind,f.id),p&&p.length>1&&p.forEach((z,q)=>{z.rid=`r${q}`});const L=a.clone(this._sendingRtpParametersByKind[f.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[f.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const I=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(f,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let X=!1;const O=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length===1&&O.spatialLayers>1&&L.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(_.debug("send() | enabling legacy simulcast for VP9 SVC"),X=!0,V=n.parse(N.sdp),W=V.media[I.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:O.spatialLayers}),N={type:"offer",sdp:n.write(V)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);let U=A.mid??void 0;if(U||_.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),L.mid=U,V=n.parse(this._pc.localDescription.sdp),W=V.media[I.idx],L.rtcp.cname=u.getCname({offerMediaObject:W}),!p)L.encodings=d.getRtpEncodings({offerMediaObject:W});else if(p.length===1){let z=d.getRtpEncodings({offerMediaObject:W});Object.assign(z[0],p[0]),X&&(z=[z[0]]),L.encodings=z}else L.encodings=p;if(L.encodings.length>1&&(L.codecs[0].mimeType.toLowerCase()==="video/vp8"||L.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const z of L.encodings)z.scalabilityMode?z.scalabilityMode=`L1T${O.temporalLayers}`:z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:I.reuseMid,offerRtpParameters:L,answerRtpParameters:j,codecOptions:m,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return _.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),U||(U=A.mid,L.mid=U),this._mapMidTransceiver.set(U,A),{localId:U,rtpParameters:L,rtpSender:A.sender}}async stopSending(f){if(this.assertSendDirection(),this._closed)return;_.debug("stopSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(f)}async pauseSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("pauseSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(f);const m=await this._pc.createOffer();_.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(f){this.assertNotClosed(),this.assertSendDirection(),_.debug("resumeSending() [localId:%s]",f);const p=this._mapMidTransceiver.get(f);if(this._remoteSdp.resumeSendingMediaSection(f),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();_.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(f,p){this.assertNotClosed(),this.assertSendDirection(),p?_.debug("replaceTrack() [localId:%s, track.id:%s]",f,p.id):_.debug("replaceTrack() [localId:%s, no track]",f);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{I<=p?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async setRtpEncodingParameters(f,p){this.assertNotClosed(),this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",f,p);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,I)=>{x.encodings[I]={...j,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(f,x.encodings);const k=await this._pc.createOffer();_.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const L={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L)}async getSenderStats(f){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:f,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const L={negotiated:!0,id:this._nextSendSctpStreamId,ordered:f,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};_.debug("sendDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(x,L);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),_.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const I={streamId:L.id,ordered:L.ordered,maxPacketLifeTime:L.maxPacketLifeTime,maxRetransmits:L.maxRetransmits};return{dataChannel:j,sctpStreamParameters:I}}async receive(f){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const j of f){const{trackId:I,kind:A,rtpParameters:N,streamId:V}=j;_.debug("receive() [trackId:%s, kind:%s]",I,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(I,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:I})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of f){const{trackId:I,onRtpReceiver:A}=j;if(A){const N=m.get(I),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const L=n.parse(k.sdp);for(const j of f){const{trackId:I,rtpParameters:A}=j,N=m.get(I),V=L.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(L)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),_.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of f){const{trackId:I}=j,A=m.get(I),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(f){if(this.assertRecvDirection(),this._closed)return;for(const x of f){_.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of f)this._mapMidTransceiver.delete(x)}async pauseReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(f){this.assertNotClosed(),this.assertRecvDirection();for(const x of f){_.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(f){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(f);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:f,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j}=f,I={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:L,maxRetransmits:j,protocol:m};_.debug("receiveDataChannel() [options:%o]",I);const A=this._pc.createDataChannel(p,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:f,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:p});m.role=f,this._remoteSdp.updateDtlsRole(f==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return dn.ReactNativeUnifiedPlan=E,dn}var fn={},D_;function ZO(){if(D_)return fn;D_=1;var e=fn&&fn.__createBinding||(Object.create?function(C,E,b,f){f===void 0&&(f=b);var p=Object.getOwnPropertyDescriptor(E,b);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(C,f,p)}:function(C,E,b,f){f===void 0&&(f=b),C[f]=E[b]}),t=fn&&fn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=fn&&fn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var b in C)b!=="default"&&Object.prototype.hasOwnProperty.call(C,b)&&e(E,C,b);return t(E,C),E};Object.defineProperty(fn,"__esModule",{value:!0}),fn.ReactNative=void 0;const n=r(yr()),i=xt(),a=sr(),c=r(Vt()),u=r(vr()),d=r(Cn()),h=r(vd()),v=kr(),y=Rn(),w=new i.Logger("ReactNative"),S="ReactNative",_={OS:1024,MIS:1024};let R=class ix extends v.HandlerInterface{static createFactory(){return()=>new ix}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const b=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const f=n.parse(b.sdp);return d.extractRtpCapabilities({sdpObject:f})}catch(b){try{E.close()}catch{}throw b}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:_}}run({direction:E,iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:L,proprietaryConstraints:j,extendedRtpCapabilities:I}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:b,iceCandidates:f,dtlsParameters:p,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...L},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const b=this._pc.getConfiguration();b.iceServers=E,this._pc.setConfiguration(b)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const b=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",b),await this._pc.setLocalDescription(b);const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:b,codecOptions:f,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),p&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const L=c.clone(this._sendingRtpParametersByKind[E.kind]);L.codecs=u.reduceCodecs(L.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&b&&b.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:b.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),L.rtcp.cname=d.getCname({offerMediaObject:k}),L.encodings=h.getRtpEncodings({offerMediaObject:k,track:E}),b)for(let N=0;N<L.encodings.length;++N)b[N]&&Object.assign(L.encodings[N],b[N]);if(L.encodings.length>1&&(L.codecs[0].mimeType.toLowerCase()==="video/vp8"||L.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of L.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:L,answerRtpParameters:j,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:L}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const b=this._mapSendLocalIdTrack.get(E);if(!b)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(b),this._pc.addStream(this._sendStream);const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f);try{await this._pc.setLocalDescription(f)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,b){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,b){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(E,b){throw new a.UnsupportedError("not implemented")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:b,maxRetransmits:f,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:b,maxRetransmitTime:b,maxRetransmits:f,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),I=n.parse(j.sdp),A=I.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const L={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:L}}async receive(E){this.assertRecvDirection();const b=[],f=new Map;for(const k of E){const{trackId:L,kind:j,rtpParameters:I}=k;w.debug("receive() [trackId:%s, kind:%s]",L,j);const A=j;let N=k.streamId??I.rtcp.cname;w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),N+=`-hack-${c.generateRandomNumber()}`,f.set(L,N),this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:I,streamId:N,trackId:L})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{kind:L,rtpParameters:j}=k,I=L,A=x.media.find(N=>String(N.mid)===I);d.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{kind:L,trackId:j,rtpParameters:I}=k,A=j,N=L,V=f.get(j),X=this._pc.getRemoteStreams().find(O=>O.id===V).getTrackById(A);if(!X)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:I}),b.push({localId:A,track:X})}return b}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const b={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",b),await this._pc.setRemoteDescription(b);const f=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:b,protocol:f}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,L={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:f};w.debug("receiveDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(b,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:b}){b||(b=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:b});f.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:f},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return fn.ReactNative=R,fn}var M_;function ax(){if(M_)return Nr;M_=1;var e=Nr&&Nr.__createBinding||(Object.create?function(j,I,A,N){N===void 0&&(N=A);var V=Object.getOwnPropertyDescriptor(I,A);(!V||("get"in V?!I.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return I[A]}}),Object.defineProperty(j,N,V)}:function(j,I,A,N){N===void 0&&(N=A),j[N]=I[A]}),t=Nr&&Nr.__setModuleDefault||(Object.create?function(j,I){Object.defineProperty(j,"default",{enumerable:!0,value:I})}:function(j,I){j.default=I}),r=Nr&&Nr.__importStar||function(j){if(j&&j.__esModule)return j;var I={};if(j!=null)for(var A in j)A!=="default"&&Object.prototype.hasOwnProperty.call(j,A)&&e(I,j,A);return t(I,j),I};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Device=void 0,Nr.detectDevice=k;const n=DO(),i=xt(),a=Lo(),c=sr(),u=r(Vt()),d=r(vr()),h=G1(),v=zO(),y=BO(),w=UO(),S=VO(),_=HO(),R=WO(),C=qO(),E=GO(),b=KO(),f=XO(),p=QO(),m=ZO(),x=new i.Logger("Device");function k(j){var I,A,N,V;if(!j&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(x.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){x.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(x.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(x.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(j||typeof navigator=="object"&&typeof navigator.userAgent=="string"){j??(j=navigator.userAgent);const W=new n.UAParser(j);x.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",j,W.getResult());const X=W.getBrowser(),O=(I=X.name)==null?void 0:I.toLowerCase(),U=parseInt(X.major??"0"),z=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),q=W.getOS(),B=(N=q.name)==null?void 0:N.toLowerCase(),Y=parseFloat(q.version??"0"),de=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),ee=B==="ios"||de==="ipad",oe=O&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(O),ue=O&&["firefox","mobile firefox","mobile focus"].includes(O),me=O&&["safari","mobile safari"].includes(O),he=O&&["edge"].includes(O);if((oe||he)&&!ee&&U>=111)return"Chrome111";if(oe&&!ee&&U>=74||he&&!ee&&U>=88)return"Chrome74";if(oe&&!ee&&U>=70)return"Chrome70";if(oe&&!ee&&U>=67)return"Chrome67";if(oe&&!ee&&U>=55)return"Chrome55";if(ue&&!ee&&U>=120)return"Firefox120";if(ue&&!ee&&U>=60)return"Firefox60";if(ue&&ee&&Y>=14.3)return"Safari12";if(me&&U>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(me&&U>=11)return"Safari11";if(he&&!ee&&U>=11&&U<=18)return"Edge11";if(z==="webkit"&&ee&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(z==="blink"){const Ce=j.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Ce){const ke=Number(Ce[1]);return ke>=111?"Chrome111":ke>=74?"Chrome74":ke>=70?"Chrome70":ke>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{x.warn("detectDevice() | browser not supported [name:%s, version:%s]",O,U);return}}else{x.warn("detectDevice() | unknown device");return}}let L=class{constructor({handlerName:I,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,x.debug("constructor()"),I&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(I)x.debug("constructor() | handler given: %s",I);else if(I=k(),I)x.debug("constructor() | detected handler: %s",I);else throw new c.UnsupportedError("device not supported");switch(I){case"Chrome111":{this._handlerFactory=v.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=y.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=w.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=_.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=R.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=C.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=E.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=b.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=f.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=p.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=m.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${I}"`)}}const N=this._handlerFactory();this._handlerName=N.name,N.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:I}){x.debug("load() [routerRtpCapabilities:%o]",I);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const N=u.clone(I);d.validateRtpCapabilities(N),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();x.debug("load() | got native RTP capabilities:%o",V);const W=u.clone(V);d.validateRtpCapabilities(W),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(W,N),x.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),x.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),x.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),x.debug("load() succeeded"),this._loaded=!0,A.close()}catch(N){throw A&&A.close(),N}}canProduce(I){if(this._loaded){if(I!=="audio"&&I!=="video")throw new TypeError(`invalid kind "${I}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[I]}createSendTransport({id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createSendTransport()"),this.createTransport({direction:"send",id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createRecvTransport({id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:I,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createTransport({direction:I,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(X&&typeof X!="object")throw new TypeError("wrong sctpParameters");if(q&&typeof q!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const B=new h.Transport({direction:I,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",B),B}};return Nr.Device=L,Nr}var po={},rh={},L_;function JO(){return L_||(L_=1,Object.defineProperty(rh,"__esModule",{value:!0})),rh}var nh={},I_;function eN(){return I_||(I_=1,Object.defineProperty(nh,"__esModule",{value:!0})),nh}var j_;function tN(){return j_||(j_=1,function(e){var t=po&&po.__createBinding||(Object.create?function(n,i,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,c,u)}:function(n,i,a,c){c===void 0&&(c=a),n[c]=i[a]}),r=po&&po.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ax(),e),r(G1(),e),r(V1(),e),r(H1(),e),r(W1(),e),r(q1(),e),r(JO(),e),r(eN(),e),r(kr(),e),r(sr(),e)}(po)),po}var O_;function rN(){return O_||(O_=1,function(e){var t=Qr&&Qr.__createBinding||(Object.create?function(h,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(h,w,S)}:function(h,v,y,w){w===void 0&&(w=y),h[w]=v[y]}),r=Qr&&Qr.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),n=Qr&&Qr.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var y in h)y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)&&t(v,h,y);return r(v,h),v},i=Qr&&Qr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=i(md());e.debug=a.default;const c=ax();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const u=n(tN());e.types=u,e.version="3.7.17";var d=Ys();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})}(Qr)),Qr}var nN=rN();const sN=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],oN=async(e,t,r,n)=>new Promise((i,a)=>{Me.emit("joinRoom",{roomName:e,userName:t,serverId:r,accessToken:n},c=>{c.error?a(c.error):i(c.rtpCapabilities)})}),iN=async e=>{const t=new nN.Device;return await t.load({routerRtpCapabilities:e}),t},aN=async(e,t,r,n)=>new Promise((i,a)=>{Me.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const u=e.createSendTransport(c);u.on("connect",({dtlsParameters:h},v)=>{Me.emit("transport-connect",{dtlsParameters:h}),v()}),u.on("produce",(h,v)=>{const y=localStorage.getItem("accessToken");Me.emit("transport-produce",{kind:h.kind,rtpParameters:h.rtpParameters,accessToken:y},({id:w})=>{v({id:w}),cN(Me,e,n)})});const d=await u.produce({track:t});r(d),i(u),d.on("trackended",()=>{r(null)})})}),cN=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(i=>cx(i,t,r))})},cx=async(e,t,r)=>{Me.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const i=t.createRecvTransport(n);i.on("connect",({dtlsParameters:a},c)=>{Me.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),lN(i,e,n.id,t,r)})},lN=async(e,t,r,n,i)=>{Me.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const c=await e.consume(a);i(c),Me.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},or=oE,Le=cE,uN=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:i}=Mo();return async(c,u,d,h)=>{try{if(!Me.connected)throw new Error("Socket is not connected");const v=await sN(),y=await oN(c,u,d,h),w=await iN(y);r(w);const S=await aN(w,v,t,i);n(S),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}},yd=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:i,setIsStreaming:a,setAudioProducer:c}=Mo();return(d,h)=>{Me.emit("leaveRoom",{accessToken:d,voiceChannelId:h}),e(!1),t(null),n([]),i(!1),a(!1),c(null),r(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:c,...u},d)=>M.createElement("svg",{ref:d,...fN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lx("lucide",i),...u},[...c.map(([h,v])=>M.createElement(h,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=M.forwardRef(({className:n,...i},a)=>M.createElement(pN,{ref:a,iconNode:t,className:lx(`lucide-${dN(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],mN=ze("ArrowDown",hN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],vN=ze("ArrowLeftFromLine",gN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wN=ze("Check",yN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wd=ze("ChevronDown",SN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bN=ze("ChevronLeft",_N);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xg=ze("ChevronRight",xN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RN=ze("CircleCheck",CN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],TN=ze("CirclePlus",EN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kN=ze("CircleX",PN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ux=ze("Copy",DN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],dx=ze("DoorOpen",MN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],IN=ze("Hash",LN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ON=ze("House",jN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],AN=ze("LogOut",NN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],FN=ze("Menu",$N);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],BN=ze("MicOff",zN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],VN=ze("Mic",UN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],WN=ze("MonitorUp",HN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],GN=ze("MonitorX",qN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],YN=ze("Paperclip",KN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QN=ze("Pen",XN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],JN=ze("PhoneMissed",ZN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pu=ze("Plus",e3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],r3=ze("Search",t3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],s3=ze("Send",n3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sd=ze("Settings",o3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],a3=ze("Trash2",i3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],l3=ze("User",c3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],d3=ze("Users",u3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ul=ze("Video",f3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],fx=ze("Volume2",p3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],px=ze("X",h3);function Cg(){return{showSuccess:r=>{Vs.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:P.jsx(RN,{})})},showError:r=>{Vs.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:P.jsx(kN,{})})}}}const m3=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=Mo(),i=M.useRef(null),a=async()=>{const d=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],h=await r.produce({track:d});t(h),i.current=h.id,h.on("trackended",c),n(!0)},c=async()=>{const u=localStorage.getItem("accessToken");e?(e.close(),Me.emit("stopProducer",{producerId:e.id,accessToken:u})):Me.emit("stopProducer",{producerId:i.current,accessToken:u}),i.current=null,t(null),n(!1)};return{startScreenSharing:a,stopScreenSharing:c}},g3=e=>{const[t,r]=M.useState(!1),[n,i]=M.useState(!1),[a,c]=M.useState(!1),[u,d]=M.useState([]),[h,v]=M.useState([]),[y,w]=M.useState(null),[S,_]=M.useState(null),[R,C]=M.useState(null),[E,b]=M.useState(null),[f,p]=M.useState(null),{currentVoiceChannelId:m}=Le(j=>j.testServerStore),{accessToken:x}=Le(j=>j.userStore),k=j=>{d(I=>[...I,j])},L=()=>{S&&(n?S.resume():S.pause(),i(!n))};return M.useEffect(()=>{if(!Me)return;Me.on("producerClosed",({producerId:I})=>{d(A=>A.filter(N=>N.producerId!==I))}),Me.on("producer-closed",({remoteProducerId:I})=>{d(A=>A.filter(N=>N.producerId!==I))}),Me.on("new-producer",({producerId:I})=>{y&&cx(I,y,k)}),Me.on("updateUsersList",({rooms:I})=>{v(I)});const j=()=>{Me.emit("leaveRoom",{accessToken:x,voiceChannelId:m})};return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j),Me.off("producerClosed"),Me.off("producer-closed"),Me.off("new-producer"),Me.off("updateUsersList")}},[y]),P.jsx(k1.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:i,setIsStreaming:c,audioProducer:S,setAudioProducer:_,videoProducer:R,setVideoProducer:C,device:y,setDevice:w,producerTransport:E,setProducerTransport:b,consumers:u,users:h,addConsumer:k,setConsumers:d,toggleMute:L,selectedUserId:f,setSelectedUserId:p},children:e.children})},v3=e=>{const{consumers:t}=Mo(),r=M.useRef(new Map),[n,i]=M.useState({});M.useEffect(()=>{t.forEach(({producerId:u,track:d,kind:h})=>{if(h==="audio"&&!r.current.has(u)){const v=document.createElement("audio");v.srcObject=new MediaStream([d]),v.autoplay=!0,v.volume=n[u]??1,r.current.set(u,v),document.body.appendChild(v)}});const c=t.map(u=>u.producerId);return r.current.forEach((u,d)=>{c.includes(d)||(u.pause(),u.remove(),r.current.delete(d))}),()=>{r.current.forEach(u=>{u.pause(),u.remove()}),r.current.clear()}},[t,n]);const a=(c,u)=>{i(d=>({...d,[c]:u/100}))};return P.jsx(P1.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},y3=()=>{const e=M.useContext(P1);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function w3(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const S3=typeof window<"u"?M.useLayoutEffect:M.useEffect;function At(e,t){S3(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function _3(e,t){e&&w3(e),At(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),At(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),At(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),At(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),At(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),At(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),At(`mantine-form:${e}:clear-errors`,t.clearErrors),At(`mantine-form:${e}:reset`,t.reset),At(`mantine-form:${e}:validate`,t.validate),At(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),At(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),At(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),At(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),At(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),At(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),At(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),At(`mantine-form:${e}:reset-touched`,t.resetTouched)}function b3(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function Bh(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function x3(e){const[t,r]=M.useState(Bh(e)),n=M.useRef(t),i=M.useCallback(d=>{r(h=>{const v=Bh(typeof d=="function"?d(h):d);return n.current=v,v})},[]),a=M.useCallback(()=>i({}),[]),c=M.useCallback(d=>{n.current[d]!==void 0&&i(h=>{const v={...h};return delete v[d],v})},[t]),u=M.useCallback((d,h)=>{h==null||h===!1?c(d):n.current[d]!==h&&i(v=>({...v,[d]:h}))},[t]);return{errorsState:t,setErrors:i,clearErrors:a,setFieldError:u,clearFieldError:c}}function Uh(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function N_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function A_(e,t,r,n){if(t===void 0)return r;const i=`${String(e)}`;let a=r;n===-1&&(a=Uh(`${i}.${t}`,a));const c={...a},u=new Set;return Object.entries(a).filter(([d])=>{if(!d.startsWith(`${i}.`))return!1;const h=N_(d,i);return Number.isNaN(h)?!1:h>=t}).forEach(([d,h])=>{const v=N_(d,i),y=d.replace(`${i}.${v}`,`${i}.${v+n}`);c[y]=h,u.add(y),u.has(d)||delete c[d]}),c}function C3(e,{from:t,to:r},n){const i=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(u=>{let d,h;if(u.startsWith(i)&&(d=u,h=u.replace(i,a)),u.startsWith(a)&&(d=u.replace(a,i),h=u),d&&h){const v=c[d],y=c[h];return y===void 0?delete c[d]:c[d]=y,v===void 0?delete c[h]:c[h]=v,!1}return!0}),c}function $_(e,t,r){typeof r.value=="object"&&(r.value=hi(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function hi(e){if(typeof e!="object")return e;var t=0,r,n,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(c){i.add(hi(c))})):a==="[object Map]"?(i=new Map,e.forEach(function(c,u){i.set(hi(u),hi(c))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(hi(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)$_(i,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(i,r=n[t])&&i[r]===e[r]||$_(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}function hx(e){return typeof e!="string"?[]:e.split(".")}function Ft(e,t){const r=hx(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let i=1;i<r.length&&n!=null;i+=1)n=n[r[i]];return n}function cc(e,t,r){const n=hx(e);if(n.length===0)return r;const i=hi(r);if(n.length===1)return i[n[0]]=t,i;let a=i[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return i;a=a[n[c]]}return a[n[n.length-1]]=t,i}function R3(e,{from:t,to:r},n){const i=Ft(e,n);if(!Array.isArray(i))return n;const a=[...i],c=i[t];return a.splice(t,1),a.splice(r,0,c),cc(e,a,n)}function E3(e,t,r,n){const i=Ft(e,n);if(!Array.isArray(i))return n;const a=[...i];return a.splice(typeof r=="number"?r:a.length,0,t),cc(e,a,n)}function T3(e,t,r){const n=Ft(e,r);return Array.isArray(n)?cc(e,n.filter((i,a)=>a!==t),r):r}function P3(e,t,r,n){const i=Ft(e,n);if(!Array.isArray(i)||i.length<=r)return n;const a=[...i];return a[r]=t,cc(e,a,n)}function k3({$values:e,$errors:t,$status:r}){const n=M.useCallback((u,d)=>{r.clearFieldDirty(u),t.setErrors(h=>C3(u,d,h)),e.setValues({values:R3(u,d,e.refValues.current),updateState:!0})},[]),i=M.useCallback((u,d)=>{r.clearFieldDirty(u),t.setErrors(h=>A_(u,d,h,-1)),e.setValues({values:T3(u,d,e.refValues.current),updateState:!0})},[]),a=M.useCallback((u,d,h)=>{r.clearFieldDirty(u),t.setErrors(v=>A_(u,h,v,1)),e.setValues({values:E3(u,d,h,e.refValues.current),updateState:!0})},[]),c=M.useCallback((u,d,h)=>{r.clearFieldDirty(u),e.setValues({values:P3(u,h,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:i,insertListItem:a,replaceListItem:c}}var sh,F_;function D3(){return F_||(F_=1,sh=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),sh}var M3=D3();const Dl=Qh(M3);function Ia(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(i=>i.startsWith(`${t}.`));return e[t]||n.some(i=>e[i])||!1}return r.some(n=>e[n])}function L3({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[i,a]=M.useState(t),[c,u]=M.useState(e),d=M.useRef(t),h=M.useRef(e),v=M.useCallback(x=>{const k=typeof x=="function"?x(d.current):x;d.current=k,r==="controlled"&&a(k)},[]),y=M.useCallback((x,k=!1)=>{const L=typeof x=="function"?x(h.current):x;h.current=L,(r==="controlled"||k)&&u(L)},[]),w=M.useCallback(()=>v({}),[]),S=M.useCallback(x=>{const k=x?{...n.refValues.current,...x}:n.refValues.current;n.setValuesSnapshot(k),y({})},[]),_=M.useCallback((x,k)=>{v(L=>Ia(L,x)===k?L:{...L,[x]:k})},[]),R=M.useCallback((x,k,L)=>{y(j=>Ia(j,x)===k?j:{...j,[x]:k},L)},[]),C=M.useCallback((x,k)=>{const L=Ia(h.current,x),j=!Dl(Ft(x,n.getValuesSnapshot()),k),I=Uh(x,h.current);I[x]=j,y(I,L!==j)},[]),E=M.useCallback(x=>Ia(d.current,x),[]),b=M.useCallback(x=>y(k=>{if(typeof x!="string")return k;const L=Uh(x,k);return delete L[x],Dl(L,k)?k:L}),[]),f=M.useCallback(x=>{if(x){const L=Ft(x,h.current);if(typeof L=="boolean")return L;const j=Ft(x,n.refValues.current),I=Ft(x,n.valuesSnapshot.current);return!Dl(j,I)}return Object.keys(h.current).length>0?Ia(h.current):!Dl(n.refValues.current,n.valuesSnapshot.current)},[]),p=M.useCallback(()=>h.current,[]),m=M.useCallback(()=>d.current,[]);return{touchedState:i,dirtyState:c,touchedRef:d,dirtyRef:h,setTouched:v,setDirty:y,resetDirty:S,resetTouched:w,isTouched:E,setFieldTouched:_,setFieldDirty:R,setTouchedState:a,setDirtyState:u,clearFieldDirty:b,isDirty:f,getDirty:p,getTouched:m,setCalculatedFieldDirty:C}}function I3({initialValues:e,onValuesChange:t,mode:r}){const n=M.useRef(!1),[i,a]=M.useState(e||{}),c=M.useRef(i),u=M.useRef(i),d=M.useCallback(({values:R,subscribers:C,updateState:E=!0,mergeWithPreviousValues:b=!0})=>{const f=c.current,p=R instanceof Function?R(c.current):R,m=b?{...f,...p}:p;c.current=m,E&&a(m),t==null||t(m,f),C==null||C.filter(Boolean).forEach(x=>x({updatedValues:m,previousValues:f}))},[t]),h=M.useCallback(R=>{var b;const C=Ft(R.path,c.current),E=R.value instanceof Function?R.value(C):R.value;if(C!==E){const f=c.current,p=cc(R.path,E,c.current);d({values:p,updateState:R.updateState}),(b=R.subscribers)==null||b.filter(Boolean).forEach(m=>m({path:R.path,updatedValues:p,previousValues:f}))}},[d]),v=M.useCallback(R=>{u.current=R},[]),y=M.useCallback((R,C)=>{n.current||(n.current=!0,d({values:R,updateState:r==="controlled"}),v(R),C())},[d]),w=M.useCallback(()=>{d({values:u.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),S=M.useCallback(()=>c.current,[]),_=M.useCallback(()=>u.current,[]);return{initialized:n,stateValues:i,refValues:c,valuesSnapshot:u,setValues:d,setFieldValue:h,resetValues:w,setValuesSnapshot:v,initialize:y,getValues:S,getValuesSnapshot:_}}function j3({$status:e}){const t=M.useRef({}),r=M.useCallback((i,a)=>{M.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(a),()=>{t.current[i]=t.current[i].filter(c=>c!==a)}),[a])},[]),n=M.useCallback(i=>t.current[i]?t.current[i].map(a=>c=>a({previousValue:Ft(i,c.previousValues),value:Ft(i,c.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function z_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const Ml=Symbol("root-rule");function B_(e){const t=Bh(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Vh(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((i,a)=>{const c=e[a],u=`${r===""?"":`${r}.`}${a}`,d=Ft(u,t);let h=!1;return typeof c=="function"&&(i[u]=c(d,t,u)),typeof c=="object"&&Array.isArray(d)&&(h=!0,d.forEach((v,y)=>Vh(c,t,`${u}.${y}`,i)),Ml in c&&(i[u]=c[Ml](d,t,u))),typeof c=="object"&&typeof d=="object"&&d!==null&&(h||Vh(c,t,u,i),Ml in c&&(i[u]=c[Ml](d,t,u))),i},n)}function Hh(e,t){return B_(typeof e=="function"?e(t):Vh(e,t))}function Ll(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=Hh(t,r),i=Object.keys(n.errors).find(a=>e.split(".").every((c,u)=>c===a.split(".")[u]));return{hasError:!!i,error:i?n.errors[i]:null}}const O3="__MANTINE_FORM_INDEX__";function U_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${O3}`)):!1:!1}function Xa({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:i={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:u=!1,validateInputOnBlur:d=!1,onValuesChange:h,transformValues:v=R=>R,enhanceGetInputProps:y,validate:w,onSubmitPreventDefault:S="always",touchTrigger:_="change"}={}){const R=x3(n),C=I3({initialValues:r,onValuesChange:h,mode:t}),E=L3({initialDirty:i,initialTouched:a,$values:C,mode:t}),b=k3({$values:C,$errors:R,$status:E}),f=j3({$status:E}),[p,m]=M.useState(0),[x,k]=M.useState({}),[L,j]=M.useState(!1),I=M.useCallback(()=>{C.resetValues(),R.clearErrors(),E.resetDirty(),E.resetTouched(),t==="uncontrolled"&&m(ee=>ee+1)},[]),A=M.useCallback(ee=>{c&&R.clearErrors(),t==="uncontrolled"&&m(oe=>oe+1),Object.keys(f.subscribers.current).forEach(oe=>{const ue=Ft(oe,C.refValues.current),me=Ft(oe,ee);ue!==me&&f.getFieldSubscribers(oe).forEach(he=>he({previousValues:ee,updatedValues:C.refValues.current}))})},[c]),N=M.useCallback(ee=>{const oe=C.refValues.current;C.initialize(ee,()=>t==="uncontrolled"&&m(ue=>ue+1)),A(oe)},[A]),V=M.useCallback((ee,oe,ue)=>{const me=U_(ee,u),he=oe instanceof Function?oe(Ft(ee,C.refValues.current)):oe;E.setCalculatedFieldDirty(ee,he),_==="change"&&E.setFieldTouched(ee,!0),!me&&c&&R.clearFieldError(ee),C.setFieldValue({path:ee,value:oe,updateState:t==="controlled",subscribers:[...f.getFieldSubscribers(ee),me?Ce=>{const ke=Ll(ee,w,Ce.updatedValues);ke.hasError?R.setFieldError(ee,ke.error):R.clearFieldError(ee)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>k(Ce=>({...Ce,[ee]:(Ce[ee]||0)+1})):null]})},[h,w]),W=M.useCallback(ee=>{const oe=C.refValues.current;C.setValues({values:ee,updateState:t==="controlled"}),A(oe)},[h,A]),X=M.useCallback(()=>{const ee=Hh(w,C.refValues.current);return R.setErrors(ee.errors),ee},[w]),O=M.useCallback(ee=>{const oe=Ll(ee,w,C.refValues.current);return oe.hasError?R.setFieldError(ee,oe.error):R.clearFieldError(ee),oe},[w]),U=(ee,{type:oe="input",withError:ue=!0,withFocus:me=!0,...he}={})=>{const ke={onChange:b3(mt=>V(ee,mt,{forceUpdate:!1})),"data-path":z_(e,ee)};return ue&&(ke.error=R.errorsState[ee]),oe==="checkbox"?ke[t==="controlled"?"checked":"defaultChecked"]=Ft(ee,C.refValues.current):ke[t==="controlled"?"value":"defaultValue"]=Ft(ee,C.refValues.current),me&&(ke.onFocus=()=>E.setFieldTouched(ee,!0),ke.onBlur=()=>{if(U_(ee,d)){const mt=Ll(ee,w,C.refValues.current);mt.hasError?R.setFieldError(ee,mt.error):R.clearFieldError(ee)}}),Object.assign(ke,y==null?void 0:y({inputProps:ke,field:ee,options:{type:oe,withError:ue,withFocus:me,...he},form:de}))},F=(ee,oe)=>ue=>{S==="always"&&(ue==null||ue.preventDefault());const me=X();if(me.hasErrors)S==="validation-failed"&&(ue==null||ue.preventDefault()),oe==null||oe(me.errors,C.refValues.current,ue);else{const he=ee==null?void 0:ee(v(C.refValues.current),ue);he instanceof Promise&&(j(!0),he.finally(()=>j(!1)))}},z=ee=>v(ee||C.refValues.current),q=M.useCallback(ee=>{ee.preventDefault(),I()},[]),B=M.useCallback(ee=>ee?!Ll(ee,w,C.refValues.current).hasError:!Hh(w,C.refValues.current).hasErrors,[w]),Y=ee=>`${p}-${ee}-${x[ee]||0}`,ae=M.useCallback(ee=>document.querySelector(`[data-path="${z_(e,ee)}"]`),[]),de={watch:f.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:N,setValues:W,setFieldValue:V,submitting:L,setSubmitting:j,errors:R.errorsState,setErrors:R.setErrors,setFieldError:R.setFieldError,clearFieldError:R.clearFieldError,clearErrors:R.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:b.reorderListItem,insertListItem:b.insertListItem,removeListItem:b.removeListItem,replaceListItem:b.replaceListItem,reset:I,validate:X,validateField:O,getInputProps:U,onSubmit:F,onReset:q,isValid:B,getTransformedValues:z,key:Y,getInputNode:ae};return _3(e,de),de}function $t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var N3=typeof Symbol=="function"&&Symbol.observable||"@@observable",V_=N3,oh=()=>Math.random().toString(36).substring(7).split("").join("."),A3={INIT:`@@redux/INIT${oh()}`,REPLACE:`@@redux/REPLACE${oh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oh()}`},hu=A3;function Rg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mx(e,t,r){if(typeof e!="function")throw new Error($t(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($t(1));return r(mx)(e,t)}let n=e,i=t,a=new Map,c=a,u=0,d=!1;function h(){c===a&&(c=new Map,a.forEach((C,E)=>{c.set(E,C)}))}function v(){if(d)throw new Error($t(3));return i}function y(C){if(typeof C!="function")throw new Error($t(4));if(d)throw new Error($t(5));let E=!0;h();const b=u++;return c.set(b,C),function(){if(E){if(d)throw new Error($t(6));E=!1,h(),c.delete(b),a=null}}}function w(C){if(!Rg(C))throw new Error($t(7));if(typeof C.type>"u")throw new Error($t(8));if(typeof C.type!="string")throw new Error($t(17));if(d)throw new Error($t(9));try{d=!0,i=n(i,C)}finally{d=!1}return(a=c).forEach(b=>{b()}),C}function S(C){if(typeof C!="function")throw new Error($t(10));n=C,w({type:hu.REPLACE})}function _(){const C=y;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error($t(11));function b(){const p=E;p.next&&p.next(v())}return b(),{unsubscribe:C(b)}},[V_](){return this}}}return w({type:hu.INIT}),{dispatch:w,subscribe:y,getState:v,replaceReducer:S,[V_]:_}}function $3(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hu.INIT})>"u")throw new Error($t(12));if(typeof r(void 0,{type:hu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function F3(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{$3(r)}catch(a){i=a}return function(c={},u){if(i)throw i;let d=!1;const h={};for(let v=0;v<n.length;v++){const y=n[v],w=r[y],S=c[y],_=w(S,u);if(typeof _>"u")throw u&&u.type,new Error($t(14));h[y]=_,d=d||_!==S}return d=d||n.length!==Object.keys(c).length,d?h:c}}function mu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function z3(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error($t(15))};const c={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},u=e.map(d=>d(c));return a=mu(...u)(i.dispatch),{...i,dispatch:a}}}function B3(e){return Rg(e)&&"type"in e&&typeof e.type=="string"}var gx=Symbol.for("immer-nothing"),H_=Symbol.for("immer-draftable"),Er=Symbol.for("immer-state");function mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bi=Object.getPrototypeOf;function xo(e){return!!e&&!!e[Er]}function cs(e){var t;return e?vx(e)||Array.isArray(e)||!!e[H_]||!!((t=e.constructor)!=null&&t[H_])||bd(e)||xd(e):!1}var U3=Object.prototype.constructor.toString();function vx(e){if(!e||typeof e!="object")return!1;const t=bi(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===U3}function gu(e,t){_d(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function _d(e){const t=e[Er];return t?t.type_:Array.isArray(e)?1:bd(e)?2:xd(e)?3:0}function Wh(e,t){return _d(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yx(e,t,r){const n=_d(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function V3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bd(e){return e instanceof Map}function xd(e){return e instanceof Set}function go(e){return e.copy_||e.base_}function qh(e,t){if(bd(e))return new Map(e);if(xd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vx(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Er];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(bi(e),n)}else{const n=bi(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Eg(e,t=!1){return Cd(e)||xo(e)||!cs(e)||(_d(e)>1&&(e.set=e.add=e.clear=e.delete=H3),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Eg(n,!0))),e}function H3(){mn(2)}function Cd(e){return Object.isFrozen(e)}var W3={};function Co(e){const t=W3[e];return t||mn(0,e),t}var Qa;function wx(){return Qa}function q3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W_(e,t){t&&(Co("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gh(e){Kh(e),e.drafts_.forEach(G3),e.drafts_=null}function Kh(e){e===Qa&&(Qa=e.parent_)}function q_(e){return Qa=q3(Qa,e)}function G3(e){const t=e[Er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Er].modified_&&(Gh(t),mn(4)),cs(e)&&(e=vu(t,e),t.parent_||yu(t,e)),t.patches_&&Co("Patches").generateReplacementPatches_(r[Er].base_,e,t.patches_,t.inversePatches_)):e=vu(t,r,[]),Gh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gx?e:void 0}function vu(e,t,r){if(Cd(t))return t;const n=t[Er];if(!n)return gu(t,(i,a)=>K_(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return yu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,c=!1;n.type_===3&&(a=new Set(i),i.clear(),c=!0),gu(a,(u,d)=>K_(e,n,i,u,d,r,c)),yu(e,i,!1),r&&e.patches_&&Co("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function K_(e,t,r,n,i,a,c){if(xo(i)){const u=a&&t&&t.type_!==3&&!Wh(t.assigned_,n)?a.concat(n):void 0,d=vu(e,i,u);if(yx(r,n,d),xo(d))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(cs(i)&&!Cd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;vu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&yu(e,i)}}function yu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Eg(t,r)}function K3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Tg;r&&(i=[n],a=Za);const{revoke:c,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=c,u}var Tg={get(e,t){if(t===Er)return e;const r=go(e);if(!Wh(r,t))return Y3(e,r,t);const n=r[t];return e.finalized_||!cs(n)?n:n===ih(e.base_,t)?(ah(e),e.copy_[t]=Xh(n,e)):n},has(e,t){return t in go(e)},ownKeys(e){return Reflect.ownKeys(go(e))},set(e,t,r){const n=Sx(go(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ih(go(e),t),a=i==null?void 0:i[Er];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(V3(r,i)&&(r!==void 0||Wh(e.base_,t)))return!0;ah(e),Yh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ih(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ah(e),Yh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=go(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mn(11)},getPrototypeOf(e){return bi(e.base_)},setPrototypeOf(){mn(12)}},Za={};gu(Tg,(e,t)=>{Za[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Za.deleteProperty=function(e,t){return Za.set.call(this,e,t,void 0)};Za.set=function(e,t,r){return Tg.set.call(this,e[0],t,r,e[0])};function ih(e,t){const r=e[Er];return(r?go(r):e)[t]}function Y3(e,t,r){var i;const n=Sx(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Sx(e,t){if(!(t in e))return;let r=bi(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bi(r)}}function Yh(e){e.modified_||(e.modified_=!0,e.parent_&&Yh(e.parent_))}function ah(e){e.copy_||(e.copy_=qh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var X3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(d=a,...h){return c.produce(d,v=>r.call(this,v,...h))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let i;if(cs(t)){const a=q_(this),c=Xh(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Gh(a):Kh(a)}return W_(a,n),G_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===gx&&(i=void 0),this.autoFreeze_&&Eg(i,!0),n){const a=[],c=[];Co("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,d=>t(d,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){cs(e)||mn(8),xo(e)&&(e=Q3(e));const t=q_(this),r=Xh(e,void 0);return r[Er].isManual_=!0,Kh(t),r}finishDraft(e,t){const r=e&&e[Er];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return W_(n,t),G_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Co("Patches").applyPatches_;return xo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Xh(e,t){const r=bd(e)?Co("MapSet").proxyMap_(e,t):xd(e)?Co("MapSet").proxySet_(e,t):K3(e,t);return(t?t.scope_:wx()).drafts_.push(r),r}function Q3(e){return xo(e)||mn(10,e),_x(e)}function _x(e){if(!cs(e)||Cd(e))return e;const t=e[Er];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=qh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=qh(e,!0);return gu(r,(n,i)=>{yx(r,n,_x(i))}),t&&(t.finalized_=!1),r}var Tr=new X3,bx=Tr.produce;Tr.produceWithPatches.bind(Tr);Tr.setAutoFreeze.bind(Tr);Tr.setUseStrictShallowCopy.bind(Tr);Tr.applyPatches.bind(Tr);Tr.createDraft.bind(Tr);Tr.finishDraft.bind(Tr);function xx(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var Z3=xx(),J3=xx,e4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mu:mu.apply(null,arguments)},t4=e=>e&&typeof e.match=="function";function Ua(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(ts(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>B3(n)&&n.type===e,r}var Cx=class Fa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fa.prototype)}static get[Symbol.species](){return Fa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fa(...t[0].concat(this)):new Fa(...t.concat(this))}};function Y_(e){return cs(e)?bx(e,()=>{}):e}function X_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function r4(e){return typeof e=="boolean"}var n4=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new Cx;return r&&(r4(r)?c.push(Z3):c.push(J3(r.extraArgument))),c},s4="RTK_autoBatch",Q_=e=>t=>{setTimeout(t,e)},o4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q_(10):e.type==="callback"?e.queueNotification:Q_(e.timeout),h=()=>{c=!1,a&&(a=!1,u.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const y=()=>i&&v(),w=n.subscribe(y);return u.add(v),()=>{w(),u.delete(v)}},dispatch(v){var y;try{return i=!((y=v==null?void 0:v.meta)!=null&&y[s4]),a=!i,a&&(c||(c=!0,d(h))),n.dispatch(v)}finally{i=!0}}})},i4=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Cx(e);return n&&i.push(o4(typeof n=="object"?n:void 0)),i};function a4(e){const t=n4(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Rg(r))u=F3(r);else throw new Error(ts(1));let d;typeof n=="function"?d=n(t):d=t();let h=mu;i&&(h=e4({trace:!1,...typeof i=="object"&&i}));const v=z3(...d),y=i4(v);let w=typeof c=="function"?c(y):y();const S=h(...w);return mx(u,a,S)}function Rx(e){const t={},r=[];let n;const i={addCase(a,c){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ts(28));if(u in t)throw new Error(ts(29));return t[u]=c,i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function c4(e){return typeof e=="function"}function l4(e,t){let[r,n,i]=Rx(t),a;if(c4(e))a=()=>Y_(e());else{const u=Y_(e);a=()=>u}function c(u=a(),d){let h=[r[d.type],...n.filter(({matcher:v})=>v(d)).map(({reducer:v})=>v)];return h.filter(v=>!!v).length===0&&(h=[i]),h.reduce((v,y)=>{if(y)if(xo(v)){const S=y(v,d);return S===void 0?v:S}else{if(cs(v))return bx(v,w=>y(w,d));{const w=y(v,d);if(w===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return v},u)}return c.getInitialState=a,c}var u4=(e,t)=>t4(e)?e.match(t):e(t);function d4(...e){return t=>e.some(r=>u4(r,t))}var f4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",p4=(e=21)=>{let t="",r=e;for(;r--;)t+=f4[Math.random()*64|0];return t},h4=["name","message","stack","code"],ch=class{constructor(e,t){hp(this,"_type");this.payload=e,this.meta=t}},Z_=class{constructor(e,t){hp(this,"_type");this.payload=e,this.meta=t}},m4=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of h4)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},J_="External signal was aborted",Pt=(()=>{function e(t,r,n){const i=Ua(t+"/fulfilled",(d,h,v,y)=>({payload:d,meta:{...y||{},arg:v,requestId:h,requestStatus:"fulfilled"}})),a=Ua(t+"/pending",(d,h,v)=>({payload:void 0,meta:{...v||{},arg:h,requestId:d,requestStatus:"pending"}})),c=Ua(t+"/rejected",(d,h,v,y,w)=>({payload:y,error:(n&&n.serializeError||m4)(d||"Rejected"),meta:{...w||{},arg:v,requestId:h,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function u(d,{signal:h}={}){return(v,y,w)=>{const S=n!=null&&n.idGenerator?n.idGenerator(d):p4(),_=new AbortController;let R,C;function E(f){C=f,_.abort()}h&&(h.aborted?E(J_):h.addEventListener("abort",()=>E(J_),{once:!0}));const b=async function(){var m,x;let f;try{let k=(m=n==null?void 0:n.condition)==null?void 0:m.call(n,d,{getState:y,extra:w});if(v4(k)&&(k=await k),k===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const L=new Promise((j,I)=>{R=()=>{I({name:"AbortError",message:C||"Aborted"})},_.signal.addEventListener("abort",R)});v(a(S,d,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:S,arg:d},{getState:y,extra:w}))),f=await Promise.race([L,Promise.resolve(r(d,{dispatch:v,getState:y,extra:w,requestId:S,signal:_.signal,abort:E,rejectWithValue:(j,I)=>new ch(j,I),fulfillWithValue:(j,I)=>new Z_(j,I)})).then(j=>{if(j instanceof ch)throw j;return j instanceof Z_?i(j.payload,S,d,j.meta):i(j,S,d)})])}catch(k){f=k instanceof ch?c(null,S,d,k.payload,k.meta):c(k,S,d)}finally{R&&_.signal.removeEventListener("abort",R)}return n&&!n.dispatchConditionRejection&&c.match(f)&&f.meta.condition||v(f),f}();return Object.assign(b,{abort:E,requestId:S,arg:d,unwrap(){return b.then(g4)}})}}return Object.assign(u,{pending:a,rejected:c,fulfilled:i,settled:d4(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function g4(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function v4(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var y4=Symbol.for("rtk-slice-createasyncthunk");function w4(e,t){return`${e}/${t}`}function S4({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[y4];return function(i){const{name:a,reducerPath:c=a}=i;if(!a)throw new Error(ts(11));const u=(typeof i.reducers=="function"?i.reducers(b4()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(f,p){const m=typeof f=="string"?f:f.type;if(!m)throw new Error(ts(12));if(m in h.sliceCaseReducersByType)throw new Error(ts(13));return h.sliceCaseReducersByType[m]=p,v},addMatcher(f,p){return h.sliceMatchers.push({matcher:f,reducer:p}),v},exposeAction(f,p){return h.actionCreators[f]=p,v},exposeCaseReducer(f,p){return h.sliceCaseReducersByName[f]=p,v}};d.forEach(f=>{const p=u[f],m={reducerName:f,type:w4(a,f),createNotation:typeof i.reducers=="function"};C4(p)?E4(m,p,v,t):x4(m,p,v)});function y(){const[f={},p=[],m=void 0]=typeof i.extraReducers=="function"?Rx(i.extraReducers):[i.extraReducers],x={...f,...h.sliceCaseReducersByType};return l4(i.initialState,k=>{for(let L in x)k.addCase(L,x[L]);for(let L of h.sliceMatchers)k.addMatcher(L.matcher,L.reducer);for(let L of p)k.addMatcher(L.matcher,L.reducer);m&&k.addDefaultCase(m)})}const w=f=>f,S=new Map;let _;function R(f,p){return _||(_=y()),_(f,p)}function C(){return _||(_=y()),_.getInitialState()}function E(f,p=!1){function m(k){let L=k[f];return typeof L>"u"&&p&&(L=C()),L}function x(k=w){const L=X_(S,p,()=>new WeakMap);return X_(L,k,()=>{const j={};for(const[I,A]of Object.entries(i.selectors??{}))j[I]=_4(A,k,C,p);return j})}return{reducerPath:f,getSelectors:x,get selectors(){return x(m)},selectSlice:m}}const b={name:a,reducer:R,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...E(c),injectInto(f,{reducerPath:p,...m}={}){const x=p??c;return f.inject({reducerPath:x,reducer:R},m),{...b,...E(x,!0)}}};return b}}function _4(e,t,r,n){function i(a,...c){let u=t(a);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var Pg=S4();function b4(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function x4({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!R4(n))throw new Error(ts(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Ua(e,c):Ua(e))}function C4(e){return e._reducerDefinitionType==="asyncThunk"}function R4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function E4({type:e,reducerName:t},r,n,i){if(!i)throw new Error(ts(18));const{payloadCreator:a,fulfilled:c,pending:u,rejected:d,settled:h,options:v}=r,y=i(e,a,v);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),u&&n.addCase(y.pending,u),d&&n.addCase(y.rejected,d),h&&n.addMatcher(y.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Il,pending:u||Il,rejected:d||Il,settled:h||Il})}function Il(){}function ts(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const T4=async e=>{try{const t=await fetch(`${It}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},P4=async e=>{try{const t=await fetch(`${It}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},k4=async e=>{try{const t=await fetch(`${It}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},D4=async e=>{try{const t=await fetch(`${It}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},M4=async e=>{try{const t=await fetch(`${It}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},L4=e=>e instanceof Error?e.message:String(e),Vl=Pt("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await T4(e)}catch(r){return t(L4(r))}}),Hl=Pt("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await P4(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Wl=Pt("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const i=await k4(e);return console.log(i),i}catch(i){if(console.log(i),i.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(Gl({refreshToken:c})).unwrap()}return t(i instanceof Error?i.message:" ")}}),ql=Pt("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await D4(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Gl=Pt("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await M4(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),lh=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},I4={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:lh("accessToken"),refreshToken:lh("refreshToken"),isLoggedIn:!!lh("accessToken"),error:"",isLoading:!1},j4=Pg({name:"user",initialState:I4,reducers:{},extraReducers:e=>{e.addCase(Vl.pending,t=>{t.error=""}).addCase(Vl.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Vl.rejected,(t,r)=>{t.error=r.payload}).addCase(Hl.pending,t=>{t.error=""}).addCase(Hl.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Hl.rejected,(t,r)=>{t.error=r.payload}).addCase(Wl.pending,t=>{t.error=""}).addCase(Wl.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Wl.rejected,(t,r)=>{t.error=r.payload}).addCase(ql.pending,t=>{t.error=""}).addCase(ql.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(ql.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Gl.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(Gl.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(Gl.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1})}}),O4=j4.reducer,N4=()=>{const{accessToken:e}=Le(a=>a.userStore),t=or(),r=Do(),n=Xa({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await t(Hl(a))).meta.requestStatus==="fulfilled"&&r("/main")};return M.useEffect(()=>{e&&r("/main")},[e,r]),P.jsx(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:P.jsxs(sc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[P.jsx(Ye,{fw:500,mb:"md",children:"   "}),P.jsx("form",{onSubmit:n.onSubmit(i),children:P.jsxs(ft,{gap:"md",children:[P.jsx(Fn,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),P.jsx(ad,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),P.jsx(st,{justify:"center",mt:"md",children:P.jsx(He,{type:"submit",children:""})})]})})]})})},A4=()=>P.jsxs(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[P.jsx(ud,{order:3,children:"   Hitscord!"}),P.jsxs(st,{gap:"20px",children:[P.jsx(LS,{to:"/login",children:P.jsx(He,{variant:"filled",radius:"md",children:""})}),P.jsx(LS,{to:"/register",children:P.jsx(He,{variant:"filled",radius:"md",children:""})})]})]});function $4(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${i} ${a}:${c}`}const eb=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),F4=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName}),kg=e=>e.map(t=>{const r=t.users.reduce((n,i)=>(n[i.socketId]||(n[i.socketId]={userName:i.userName,producerIds:[]}),n[i.socketId].producerIds.push(i.producerId),n),{});return{roomName:t.roomName,users:r}});var Ns=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(Ns||{});const Ex=async(e,t,r,n=0)=>{try{const i=await fetch(`${It}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await i.json();if(!i.ok)throw new Error(a.message||`Error: ${i.status}`);return a.messages}catch(i){throw console.error("Error get messages:",i),i}},z4=async(e,t,r,n)=>{try{const i=await fetch(`${It}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},B4=async(e,t)=>{try{const r=await fetch(`${It}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},U4=async(e,t,r,n)=>{try{const i=await fetch(`${It}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create message:",i),i}},V4=async(e,t)=>{try{const r=await fetch(`${It}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},H4=async(e,t,r)=>{try{const n=await fetch(`${It}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},W4=async e=>{try{const t=await fetch(`${It}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},q4=async(e,t)=>{try{const r=await fetch(`${It}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},G4=async(e,t)=>{try{const r=await fetch(`${It}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},K4=async(e,t)=>{try{const r=await fetch(`${It}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},Y4=async(e,t,r,n)=>{try{const i=await fetch(`${It}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create server:",i),i}},X4=async(e,t,r)=>{try{const n=await fetch(`${It}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},Q4=async(e,t)=>{try{const r=await fetch(`${It}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},zs=Pt("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await W4(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),rs=Pt("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await q4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Kl=Pt("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await G4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),uh=Pt("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await K4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Yl=Pt("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:i})=>{try{await Y4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Xl=Pt("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await X4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Va=Pt("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await Q4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ql=Pt("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Ex(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),dh=Pt("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Ex(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),fh=Pt("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:i})=>{try{await U4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),ph=Pt("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await V4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),hh=Pt("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await H4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Zl=Pt("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:i})=>{try{await z4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Jl=Pt("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await B4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}});var yi=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(yi||{});const Z4={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:yi.IDLE,isLoading:!1,error:""},Tx=Pg({name:"testServer",initialState:Z4,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1}},clearHasNewMessage:e=>{e.hasNewMessage=!1}},extraReducers:e=>{e.addCase(zs.pending,t=>{t.isLoading=!0,t.error=""}).addCase(zs.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(zs.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(rs.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},t.error=""}).addCase(rs.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let i=t.currentChannelId;n.find(c=>c.channelId===i)||(i=n.length>0?n[0].channelId:null,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(rs.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Kl.pending,t=>{t.error=""}).addCase(Kl.fulfilled,t=>{t.error=""}).addCase(Kl.rejected,(t,r)=>{t.error=r.payload}).addCase(uh.pending,t=>{t.error=""}).addCase(uh.fulfilled,t=>{t.error=""}).addCase(uh.rejected,(t,r)=>{t.error=r.payload}).addCase(Yl.pending,t=>{t.error=""}).addCase(Yl.fulfilled,t=>{t.error=""}).addCase(Yl.rejected,(t,r)=>{t.error=r.payload}).addCase(Xl.pending,t=>{t.error=""}).addCase(Xl.fulfilled,t=>{t.error=""}).addCase(Xl.rejected,(t,r)=>{t.error=r.payload}).addCase(Ql.pending,t=>{t.messagesStatus=yi.PENDING,t.isLoading=!0,t.error=""}).addCase(Ql.fulfilled,(t,r)=>{t.messages=r.payload,t.hasNewMessage=!1,t.messagesStatus=yi.FULFILLED,t.isLoading=!1,t.error=""}).addCase(Ql.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=yi.REJECTED,t.error=r.payload}).addCase(dh.pending,t=>{t.isLoading=!0,t.error=""}).addCase(dh.fulfilled,(t,r)=>{t.messages=[...r.payload,...t.messages],t.isLoading=!1,t.error=""}).addCase(dh.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(fh.pending,t=>{t.error=""}).addCase(fh.fulfilled,t=>{t.error=""}).addCase(fh.rejected,(t,r)=>{t.error=r.payload}).addCase(ph.pending,t=>{t.error=""}).addCase(ph.fulfilled,t=>{t.error=""}).addCase(ph.rejected,(t,r)=>{t.error=r.payload}).addCase(hh.pending,t=>{t.error=""}).addCase(hh.fulfilled,t=>{t.error=""}).addCase(hh.rejected,(t,r)=>{t.error=r.payload}).addCase(Zl.pending,t=>{t.error=""}).addCase(Zl.fulfilled,t=>{t.error=""}).addCase(Zl.rejected,(t,r)=>{t.error=r.payload}).addCase(Jl.pending,t=>{t.error=""}).addCase(Jl.fulfilled,t=>{t.error=""}).addCase(Jl.rejected,(t,r)=>{t.error=r.payload}).addCase(Va.pending,t=>{t.error=""}).addCase(Va.fulfilled,t=>{t.error=""}).addCase(Va.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:J4,setCurrentChannelId:eA,setCurrentVoiceChannelId:wu,addMessage:tA,deleteMessageWs:rA,editMessageWs:nA,addUserWs:sA,deleteUserWs:oA,clearServerData:Px,clearHasNewMessage:tb}=Tx.actions,iA=Tx.reducer,aA=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:n})=>{const i=M.useRef(null);M.useEffect(()=>{if(e){const d=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return d.onmessage=h=>{const v=JSON.parse(h.data);if(console.log(v),v.MessageType==="New message"){const y=eb(v.Payload);y.id&&y.text&&t(tA(y))}if(v.MessageType==="Deleted message"&&t(rA({channelId:v.Payload.ChannelId,messageId:v.Payload.MessageId})),v.MessageType==="Updated message"){const y=eb(v.Payload);t(nA(y))}},d.onerror=h=>{console.error("WebSocket error:",h)},i.current=d,()=>{console.log("Closing WebSocket connection"),d.close()}}},[e,r,n,t]);const a=M.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"New message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]),c=M.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"Update message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]),u=M.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"Delete message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]);return{sendMessage:a,editMessage:c,deleteMessage:u}},cA=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:n})=>{const i=yd(),a=M.useRef(null);M.useEffect(()=>{if(e){const c=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return c.onmessage=u=>{const d=JSON.parse(u.data);if(console.log(d),d.MessageType==="New user on server"){const h=F4(d.Payload),{ServerId:v}=d.Payload;r===v&&t(sA(h))}if(d.MessageType==="User unsubscribe"){const{UserId:h,ServerId:v}=d.Payload;r===v&&t(oA({UserId:h,ServerId:v}))}if(d.MessageType==="Role changed"){const{ServerId:h}=d.Payload;e&&r&&r===h&&t(rs({accessToken:e,serverId:r}))}(d.MessageType==="New channel"||d.MessageType==="Channel deleted")&&e&&r&&(d.Payload.ChannelType===1&&d.Payload.ChannelId===n&&i(e,n),r===d.Payload.ServerId&&t(rs({accessToken:e,serverId:r})))},c.onerror=u=>{console.error("WebSocket error:",u)},a.current=c,()=>{console.log("Closing WebSocket connection"),c.close()}}},[e,r,n,t])},lA=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:i,authorId:a,editMessage:c,deleteMessage:u})=>{var f;const{accessToken:d}=Le(p=>p.userStore),v=(f=Le(p=>p.testServerStore.serverData.users).find(p=>p.userId===a))==null?void 0:f.userName,[y,w]=M.useState(!1),[S,_]=M.useState(!1),[R,C]=M.useState(t),E=()=>{R.trim()&&(c({Token:d,MessageId:n,Text:R.trim()}),_(!1))},b=()=>{u({Token:d,MessageId:n})};return P.jsxs(wn,{direction:"column",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[P.jsxs(st,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[P.jsx(xn,{size:"md",color:"blue",children:v?v[0]:"?"}),P.jsxs(re,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:S?"100%":"auto"},children:[S?P.jsx(Ju,{value:R,onChange:p=>C(p.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):P.jsx(Ye,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t}),P.jsx(st,{justify:"space-between",children:P.jsxs(Ye,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[$4(r),i&&P.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&P.jsx(st,{justify:"flex-end",gap:"xs",p:4,style:{opacity:y||S?1:0,transition:"opacity 0.3s ease"},mr:44,children:S?P.jsxs(P.Fragment,{children:[P.jsx(nt,{variant:"subtle",onClick:E,children:P.jsx(wN,{size:12})}),P.jsx(nt,{variant:"subtle",onClick:()=>_(!1),children:P.jsx(px,{size:12})})]}):P.jsxs(P.Fragment,{children:[P.jsx(nt,{variant:"subtle",onClick:()=>_(!0),children:P.jsx(QN,{size:12})}),P.jsx(nt,{variant:"subtle",onClick:b,children:P.jsx(a3,{size:12})})]})})]})},uA=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:i})=>{const a=or(),c=M.useRef(null),{user:u,accessToken:d}=Le(L=>L.userStore),{currentServerId:h,currentChannelId:v,messages:y,hasNewMessage:w,isLoading:S,messagesStatus:_}=Le(L=>L.testServerStore),[R,C]=M.useState(""),[E,b]=M.useState(!0),[f,p]=M.useState(!1),m=()=>{R.trim()&&h&&v&&(r({Token:d,ChannelId:v,Text:R.trim(),NestedChannel:!1}),C(""))},x=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),m())},k=()=>{if(c.current){const{scrollTop:L,scrollHeight:j,clientHeight:I}=c.current,A=L+I>=j-1;b(A),A&&p(!1)}};return M.useEffect(()=>{E?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(tb())):p(!0)},[y,E]),M.useEffect(()=>{_===yi.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[_]),P.jsxs(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[P.jsxs(st,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[P.jsx(nt,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:P.jsx(FN,{size:20})}),P.jsx(Fn,{leftSection:P.jsx(r3,{size:16}),placeholder:"..."}),P.jsx(nt,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:P.jsx(d3,{size:20})})]}),P.jsx(Sn,{my:"md"}),P.jsx(zr,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:k,children:P.jsxs(ft,{gap:"sm",children:[S&&y.length<1&&Array.from({length:5}).map((L,j)=>P.jsxs(st,{align:"flex-start",gap:"xs",children:[P.jsx(_o,{height:40,width:40,circle:!0}),P.jsxs(re,{style:{flex:1},children:[P.jsx(_o,{height:12,width:"60%",radius:"md"}),P.jsx(_o,{height:10,width:"40%",mt:8,radius:"md"})]})]},j)),y.map(L=>P.jsx(lA,{messageId:L.id,content:L.text,isOwnMessage:u.id===L.authorId,time:L.createdAt,modifiedAt:L.modifiedAt,authorId:L.authorId,editMessage:n,deleteMessage:i},L.id))]})}),!E&&f&&P.jsx(re,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:P.jsx(Jm,{size:14,disabled:!w,withBorder:!0,children:P.jsx(nt,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),p(!1),a(tb()))},children:P.jsx(mN,{size:20})})})}),P.jsxs(st,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[P.jsx(nt,{size:"xl",variant:"transparent",children:P.jsx(YN,{size:20})}),P.jsx(Ju,{w:"100%",placeholder:"...",value:R,onChange:L=>C(L.target.value),onKeyDownCapture:x,autosize:!0,minRows:1,maxRows:3}),P.jsx(nt,{size:"xl",variant:"transparent",onClick:m,children:P.jsx(s3,{size:20})})]})]})},dA=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>P.jsxs(re,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[P.jsx(xn,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),P.jsx(Ye,{c:"white",size:"xs",children:t}),r&&P.jsx(He,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:P.jsx(Ul,{})})]},e),fA=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>P.jsxs(re,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[P.jsx(xn,{radius:"xl",size:"lg",color:"blue",children:t[0]}),P.jsx(Ye,{c:"white",children:t}),r&&P.jsx(He,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),pA={isUserStreamView:!1,isOpenHome:!0},kx=Pg({name:"app",initialState:pA,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:Dx,setUserStreamView:xi,setOpenHome:Rd}=kx.actions,hA=kx.reducer,mA=({users:e,onOpenStream:t})=>{const r=or(),{currentVoiceChannelId:n}=Le(c=>c.testServerStore),a=kg(e).find(c=>c.roomName===n);return P.jsxs(zr,{style:{flex:1,maxHeight:"100%"},children:[P.jsx(st,{justify:"flex-end",children:P.jsx(nt,{variant:"transparent",onClick:()=>r(Dx()),children:P.jsx(vN,{})})}),P.jsx(cg,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:u,producerIds:d}])=>{const h=d.length>1;return P.jsx(fA,{socketId:c,userName:u,isStreaming:h,onOpenStream:t},c)})})]})},gA=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=Mo(),i=M.useRef(null),a=M.useRef(null),{currentVoiceChannelId:c}=Le(_=>_.testServerStore),d=kg(t).find(_=>_.roomName===c),h=M.useRef(null),v=()=>{h.current&&h.current.scrollBy({left:-100,behavior:"smooth"})},y=()=>{h.current&&h.current.scrollBy({left:100,behavior:"smooth"})},w=_=>{n(_)},S=()=>{n(null),i.current&&(a.current=null,i.current.srcObject=null)};return M.useEffect(()=>{if(!Me||!d)return;const _=({producerId:R})=>{e.some(E=>{var b;return E.kind==="video"&&E.producerId===R&&((b=d.users[r])==null?void 0:b.producerIds.includes(R))})&&S()};return Me.on("producerClosed",_),()=>{Me.off("producerClosed",_)}},[Me,e,d,r]),M.useEffect(()=>{var R;if(!r||!d)return;const _=e.find(C=>{var E;return C.kind==="video"&&((E=d.users[r])==null?void 0:E.producerIds.includes(C.producerId))});if(_){const C=_.track;if(!a.current||((R=a.current.getVideoTracks()[0])==null?void 0:R.id)!==C.id){const E=new MediaStream([C]);a.current=E,i.current&&(i.current.srcObject=E,i.current.play().catch(b=>console.error("  :",b)))}}},[r,e,d]),P.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?P.jsxs(re,{style:{position:"relative",flex:1},children:[P.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),P.jsxs(He,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[P.jsx(px,{size:20})," "]}),P.jsxs(re,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[P.jsx(He,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:P.jsx(bN,{size:20})}),P.jsx(zr,{viewportRef:h,style:{width:"100%"},children:P.jsx(wn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:d&&Object.entries(d.users).map(([_,{userName:R,producerIds:C}])=>{const E=C.length>1;return P.jsx(dA,{socketId:_,userName:R,isStreaming:E,handleUserClick:w},_)})})}),P.jsx(He,{variant:"subtle",color:"gray",onClick:y,style:{zIndex:1},children:P.jsx(xg,{size:20})})]})]}):P.jsx(mA,{users:t,onOpenStream:w})})},vA=()=>{const{serverData:e}=Le(t=>t.testServerStore);return P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:P.jsxs(ft,{gap:"md",h:"100%",children:[P.jsx(Ye,{c:"white",children:""}),P.jsx(Sn,{color:"gray"}),P.jsx(zr.Autosize,{mah:"100%",maw:"100%",children:P.jsx(ft,{gap:"xs",children:e.users.map(t=>P.jsxs(wn,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden"},children:[P.jsx(xn,{size:"md",color:"blue",children:t.userName}),P.jsx(es,{label:t.userName,position:"top-start",withArrow:!0,children:P.jsx(Ye,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t.userName})}),P.jsx(es,{label:t.roleName,position:"top-end",withArrow:!0,children:P.jsx(nc,{color:"green",radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"default"},children:t.roleName})})]},t.userId))})})]})})},yA=({onClose:e,opened:t})=>{const{serverData:r}=Le(n=>n.testServerStore);return P.jsx(Vr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:P.jsxs(ft,{gap:"md",h:"100%",children:[P.jsx(Ye,{c:"white",children:""}),P.jsx(Sn,{color:"gray"}),P.jsx(zr.Autosize,{mah:"100%",maw:"100%",children:P.jsx(ft,{gap:"xs",children:r.users.map(n=>P.jsxs(st,{wrap:"nowrap",children:[P.jsx(xn,{size:"md",color:"blue",children:n.userName}),P.jsx(Ye,{c:"white",children:n.userName}),P.jsx(nc,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})},wA=()=>P.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:P.jsx(wn,{w:"100%",h:"100%",justify:"center",align:"center",children:P.jsx(Ye,{c:"gray",children:" ,   "})})}),SA=()=>{const{user:e}=Le(t=>t.userStore);return P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:P.jsxs(ft,{gap:"md",align:"center",children:[P.jsx(xn,{size:80,radius:"xl",src:void 0,alt:e.name}),P.jsx(es,{label:e.name,withArrow:!0,children:P.jsx(ud,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),P.jsx(es,{label:e.tag,withArrow:!0,children:P.jsxs(Ye,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),P.jsx(es,{label:e.mail,withArrow:!0,children:P.jsxs(Ye,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),P.jsxs(Ye,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},_A=[{id:"1",name:"",lastMessage:" (",date:"14.12.2024"}],bA=({name:e,lastMessage:t,date:r,isActive:n,onClick:i})=>P.jsxs(re,{p:"sm",bg:n?"#2E2E33":"transparent",style:a=>({borderRadius:a.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:i,children:[P.jsx(xn,{radius:"xl",size:40}),P.jsxs(re,{style:{flex:1},children:[P.jsx(Ye,{fw:"bold",children:e}),P.jsx(Ye,{size:"sm",c:"gray",truncate:!0,children:t}),P.jsx(Ye,{size:"xs",c:"gray",children:r})]})]}),xA=()=>{const[e,t]=M.useState(null);return P.jsxs(ft,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[P.jsx(Ye,{children:""}),P.jsx(Sn,{}),P.jsx(ft,{gap:"xs",children:_A.map(r=>P.jsx(bA,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},CA=()=>P.jsxs(P.Fragment,{children:[P.jsx(xA,{}),P.jsx(wA,{}),P.jsx(SA,{})]}),RA=({opened:e,onClose:t})=>{const[r,n]=M.useState("create"),{user:i,accessToken:a}=Le(y=>y.userStore),c=or(),u=Xa({initialValues:{name:""},validate:{name:y=>y.trim().length<3?"     3 ":null}}),d=Xa({initialValues:{serverId:""},validate:{serverId:y=>y.trim().length===0?" ID ":null}}),h=async y=>{(await c(Kl({accessToken:a,name:y.name}))).meta.requestStatus==="fulfilled"&&(c(zs({accessToken:a})),u.reset(),t())},v=async y=>{(await c(Xl({accessToken:a,serverId:y.serverId,userName:i.name}))).meta.requestStatus==="fulfilled"&&(c(zs({accessToken:a})),u.reset(),t())};return P.jsx(Pr,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:P.jsxs(hn,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[P.jsxs(hn.List,{children:[P.jsx(hn.Tab,{value:"create",children:" "}),P.jsx(hn.Tab,{value:"connect",children:"  "})]}),P.jsxs(hn.Panel,{value:"create",children:[" ",P.jsxs("form",{onSubmit:u.onSubmit(h),children:[P.jsx(Fn,{label:" ",placeholder:"  ",...u.getInputProps("name")}),P.jsxs(st,{justify:"flex-end",mt:"md",children:[P.jsx(He,{variant:"outline",onClick:t,children:""}),P.jsx(He,{type:"submit",children:""})]})]})]}),P.jsx(hn.Panel,{value:"connect",children:P.jsxs("form",{onSubmit:d.onSubmit(v),children:[P.jsx(Fn,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),P.jsxs(st,{justify:"flex-end",mt:"md",children:[P.jsx(He,{variant:"outline",onClick:t,children:""}),P.jsx(He,{type:"submit",children:""})]})]})})]})})},EA=({serverId:e,serverName:t})=>{const r=or(),{user:n}=Le(a=>a.userStore),i=()=>{r(J4(e)),r(xi(!1)),r(Rd(!1)),Me.emit("setServer",{serverId:e,user:n.name})};return P.jsx(nt,{size:"xl",radius:"xl",variant:"transparent",onClick:i,children:P.jsx(xn,{size:"md",color:"blue",children:t})})},TA=()=>{const[e,{open:t,close:r}]=ss(!1),n=or(),i=Do(),{serversList:a}=Le(d=>d.testServerStore),{accessToken:c}=Le(d=>d.userStore),u=async()=>{(await n(ql({accessToken:c}))).meta.requestStatus==="fulfilled"&&i("/")};return M.useEffect(()=>{c&&n(zs({accessToken:c}))},[c,n]),P.jsxs(wn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[P.jsxs(wn,{direction:"column",align:"center",children:[P.jsx(nt,{size:"lg",variant:"transparent",onClick:()=>n(Rd(!0)),children:P.jsx(ON,{size:24,color:"#fff"})}),P.jsx(Sn,{my:"sm"}),P.jsx(ft,{gap:"sm",align:"center",children:a.map(d=>P.jsx(EA,{serverId:d.serverId,serverName:d.serverName},d.serverId))}),P.jsx(Sn,{my:"sm"}),P.jsx(nt,{size:"lg",variant:"transparent",onClick:t,children:P.jsx(TN,{size:24,color:"#fff"})})]}),P.jsx(nt,{size:"lg",variant:"transparent",onClick:u,children:P.jsx(AN,{size:24,color:"#fff"})}),P.jsx(RA,{opened:e,onClose:r})]})},Mx=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=Mo(),i=yd(),{startScreenSharing:a,stopScreenSharing:c}=m3(),u=or(),{user:d,accessToken:h}=Le(S=>S.userStore),{currentVoiceChannelId:v}=Le(S=>S.testServerStore),y=()=>{n?c():a()},w=()=>{i(h,v),u(xi(!1)),u(wu(null))};return P.jsxs(ft,{mt:"auto",children:[e&&P.jsxs(st,{gap:"xs",justify:"space-between",children:[P.jsx(nt,{variant:"transparent",onClick:y,c:"#ffffff",children:n?P.jsx(GN,{}):P.jsx(WN,{})}),P.jsx(nt,{variant:"transparent",onClick:t,c:"#ffffff",children:r?P.jsx(BN,{}):P.jsx(VN,{})}),P.jsx(nt,{variant:"transparent",onClick:w,c:"#ffffff",children:P.jsx(JN,{})})]}),P.jsx(Sn,{}),P.jsx(Ye,{truncate:!0,children:d.name})]})},Lx=({opened:e,onClose:t})=>{const r=or(),{serverData:n,error:i}=Le(f=>f.testServerStore),{accessToken:a,user:c}=Le(f=>f.userStore),[u,d]=M.useState("roles"),[h,v]=M.useState(""),[y,w]=M.useState(""),[S,_]=M.useState(!1),[R,C]=M.useState(n.serverName),{showSuccess:E}=Cg(),b=async()=>{if(!h||!y)return;_(!0),(await r(Yl({accessToken:a,serverId:n.serverId,userId:h,role:y}))).meta.requestStatus==="fulfilled"&&(_(!1),E("  "),r(rs({accessToken:a,serverId:n.serverId})),t())};return M.useEffect(()=>{i&&_(!1)},[i]),P.jsx(Pr,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:P.jsxs(st,{align:"flex-start",gap:"md",children:[P.jsxs(ft,{gap:"xs",style:{width:200},children:[P.jsx(lu,{label:"",leftSection:P.jsx(pu,{size:16}),active:u==="roles",onClick:()=>d("roles")}),P.jsx(lu,{label:" ",leftSection:P.jsx(pu,{size:16}),active:u==="name",onClick:()=>d("name")})]}),P.jsxs(zr,{children:[u==="roles"&&P.jsxs(ft,{gap:"md",children:[P.jsx(Ye,{size:"lg",w:500,children:"  "}),P.jsx(uu,{label:" ",placeholder:" ",data:n.users.filter(f=>f.userId!==c.id).map(f=>({value:f.userId,label:f.userName})),value:h,onChange:v}),P.jsx(uu,{label:" ",placeholder:" ",data:n.roles.map(f=>({value:f.id,label:f.name})),value:y,onChange:w}),P.jsx(He,{onClick:b,loading:S,children:" "})]}),u==="name"&&P.jsxs(ft,{gap:"md",children:[P.jsx(Ye,{size:"lg",w:500,children:"  "}),P.jsx(Fn,{label:"  ",value:R,onChange:f=>C(f.target.value),placeholder:n.serverName}),P.jsx(He,{onClick:()=>console.log(" "),children:" "})]})]})]})})},PA=({channelId:e,currentChannelId:t,channelName:r,isAdmin:n,handleEditChannel:i,handleOpenChannel:a})=>{const{hasNewMessage:c}=Le(h=>h.testServerStore),[u,d]=M.useState("");return P.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>d(e),onMouseLeave:()=>d(""),children:[P.jsx(He,{leftSection:c&&e===t?P.jsx(nc,{circle:!0,children:"1"}):P.jsx(IN,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:rb.buttonRoot(u===e,t===e)},fullWidth:!0,onClick:a,children:r}),n&&u===e&&P.jsx(He,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:rb.buttonSettings(t===e)},onClick:i,children:P.jsx(Sd,{size:16})})]},e)},Ix=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:i})=>{const a=or(),{accessToken:c}=Le(w=>w.userStore),{error:u}=Le(w=>w.testServerStore),{showError:d}=Cg(),h=Xa({initialValues:{name:r.initialData},validate:{name:w=>w.trim().length<3?"     3 ":null}});M.useEffect(()=>{r.isEdit?h.setValues({name:r.initialData}):h.reset()},[r]);const v=async w=>{(await a(Zl({accessToken:c,serverId:n,name:w.name,channelType:i===Ns.TEXT_CHANNEL?Ns.TEXT_CHANNEL:Ns.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&a(rs({accessToken:c,serverId:n})),t()},y=async()=>{(await a(Jl({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(rs({accessToken:c,serverId:n})),t()};return M.useEffect(()=>{u&&d(u)},[u]),P.jsx(Pr,{opened:e,onClose:t,title:r.isEdit?` ${i===Ns.TEXT_CHANNEL?"":""} `:` ${i===Ns.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?P.jsxs(P.Fragment,{children:[P.jsxs(Ye,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),P.jsxs(st,{justify:"flex-end",mt:"md",children:[P.jsx(He,{variant:"filled",color:"red",onClick:y,children:""}),P.jsx(He,{variant:"outline",onClick:t,children:""})]})]}):P.jsxs("form",{onSubmit:h.onSubmit(v),children:[P.jsx(Fn,{label:" ",placeholder:"  ",...h.getInputProps("name")}),P.jsxs(st,{justify:"flex-end",mt:"md",children:[P.jsx(He,{variant:"outline",onClick:t,children:""}),P.jsx(He,{type:"submit",children:""})]})]})})},jx=({onClose:e})=>{const t=or(),[r,{toggle:n}]=ss(!0),[i,{open:a,close:c}]=ss(!1),[u,d]=M.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:h,currentServerId:v,currentChannelId:y}=Le(R=>R.testServerStore),w=h.isCreator,S=R=>{t(eA(R)),t(xi(!1)),e()},_=(R,C)=>{d({isEdit:!0,initialData:R,channelId:C}),a()};return M.useEffect(()=>{console.log(y)},[y]),P.jsxs(P.Fragment,{children:[P.jsxs(ft,{align:"flex-start",gap:"xs",children:[P.jsxs(st,{justify:"space-between",w:"100%",wrap:"nowrap",children:[P.jsx(He,{leftSection:r?P.jsx(wd,{}):P.jsx(xg,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),w&&P.jsx(nt,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),a()},children:P.jsx(pu,{color:"#ffffff"})})]}),P.jsx(Du,{in:r,w:"100%",children:P.jsx(ft,{gap:"xs",children:h.channels.textChannels.map(({channelId:R,channelName:C})=>P.jsx(PA,{channelId:R,currentChannelId:y,channelName:C,isAdmin:w,handleOpenChannel:()=>S(R),handleEditChannel:()=>_(C,R)},R))})})]}),v&&P.jsx(Ix,{opened:i,onClose:c,isEdit:u,serverId:v,channelType:Ns.TEXT_CHANNEL})]})},rb={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},kA=({channelId:e,channelName:t,isAdmin:r,handleConnect:n,handleEditChannel:i})=>{const[a,c]=M.useState("");return P.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>c(e),onMouseLeave:()=>c(""),children:[P.jsx(He,{leftSection:P.jsx(fx,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:n,children:t}),r&&a===e&&P.jsx(He,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:IA.buttonSettings},onClick:i,children:P.jsx(Sd,{size:16})})]})},DA=({opened:e,toggle:t,isAdmin:r,handleAddChannel:n})=>P.jsxs(st,{justify:"space-between",w:"100%",wrap:"nowrap",children:[P.jsx(He,{leftSection:e?P.jsx(wd,{}):P.jsx(xg,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&P.jsx(nt,{variant:"transparent",onClick:n,children:P.jsx(pu,{color:"#ffffff"})})]}),MA=({socketId:e,isSpeaking:t,userName:r,producerIds:n,isAdmin:i,userVolume:a,handleVolumeChange:c,handleOpenStream:u,handleKickUser:d})=>P.jsxs(Ge,{shadow:"md",width:200,closeOnItemClick:!0,children:[P.jsx(Ge.Target,{children:P.jsxs(st,{style:{cursor:"pointer"},wrap:"nowrap",children:[P.jsx(l3,{color:t?"#43b581":void 0,style:{flexShrink:0}}),P.jsxs(Ye,{truncate:"end",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:[" ",r]}),n.length>1&&P.jsx(Ul,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),P.jsxs(Ge.Dropdown,{children:[P.jsx(Ge.Item,{leftSection:P.jsx(fx,{}),children:P.jsx(lg,{label:"",value:a,onChange:h=>c(e,h),min:1,max:100})}),n.length>1&&P.jsx(Ge.Item,{leftSection:P.jsx(Ul,{}),onClick:()=>u(e),children:" "}),i&&P.jsx(Ge.Item,{leftSection:P.jsx(Ul,{}),onClick:()=>d(e),children:" "})]})]},e),LA=()=>{const[e,t]=M.useState([]);return M.useEffect(()=>{if(Me)return Me.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Me.off("active-speakers")}},[]),e},Ox=()=>{const e=uN(),t=yd(),{isConnected:r,consumers:n,users:i,setSelectedUserId:a}=Mo(),{user:c,accessToken:u}=Le(O=>O.userStore),{serverData:d,currentVoiceChannelId:h,currentServerId:v}=Le(O=>O.testServerStore),y=or(),[w,{toggle:S}]=ss(!0),[_,{open:R,close:C}]=ss(!1),E=LA(),{setVolume:b,userVolumes:f}=y3(),p=kg(i),m=d.isCreator,[x,k]=M.useState({isEdit:!1,initialData:"",channelId:""}),L=O=>{r?O===h&&y(Dx()):(y(wu(O)),e(O,c.name,d.serverId,u))},j=(O,U)=>{if(!h)return;const F=p.find(B=>B.roomName===h);if(!F)return;const z=F.users[O];if(!z)return;const q=z.producerIds.find(B=>!!n.find(ae=>ae.producerId===B&&ae.kind==="audio"));q&&b(q,U)},I=()=>{k({isEdit:!1,initialData:"",channelId:""}),R()},A=O=>{console.log(O),Me.emit("kickUser",{targetSocketId:O},U=>{U.success?console.log("  :",U.message):console.error("  :",U.message)})},N=O=>{const U=O.find(F=>n.some(z=>z.producerId===F&&z.kind==="audio"));return(f[U||""]||1)*100},V=(O,U)=>O.some(z=>E.some(q=>q.producerId===z))&&U===h,W=O=>{a(O),y(xi(!0))},X=(O,U)=>{k({isEdit:!0,initialData:O,channelId:U}),R()};return M.useEffect(()=>{if(Me)return Me.on("kickedUser",()=>{t(u,h),y(xi(!1)),y(wu(null))}),()=>{Me.off("producerClosed")}},[t,y]),P.jsxs(P.Fragment,{children:[P.jsxs(ft,{align:"flex-start",gap:"xs",children:[P.jsx(DA,{opened:w,toggle:S,isAdmin:m,handleAddChannel:I}),P.jsx(Du,{in:w,w:"100%",children:P.jsx(ft,{gap:"xs",children:d.channels.voiceChannels.map(({channelId:O,channelName:U})=>P.jsxs(zt.Fragment,{children:[P.jsx(kA,{channelId:O,channelName:U,isAdmin:m,handleConnect:()=>L(O),handleEditChannel:()=>X(U,O)}),P.jsx(ft,{gap:"xs",children:p.filter(F=>F.roomName===O).flatMap(F=>Object.entries(F.users).map(([z,{producerIds:q,userName:B}])=>{const Y=V(q,O),ae=N(q);return P.jsx(MA,{socketId:z,isSpeaking:Y,userName:B,producerIds:q,isAdmin:m,userVolume:ae,handleOpenStream:W,handleVolumeChange:j,handleKickUser:A},z)}))})]},O))})})]}),v&&P.jsx(Ix,{opened:_,onClose:C,isEdit:x,serverId:v,channelType:Ns.VOICE_CHANNEL})]})},IA={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},jA=({onClose:e})=>{const t=Do(),r=or(),n=yd(),[i,{open:a,close:c}]=ss(!1),{serverData:u,isLoading:d,currentVoiceChannelId:h}=Le(_=>_.testServerStore),{accessToken:v}=Le(_=>_.userStore),y=u.isCreator,w=_=>{navigator.clipboard.writeText(_)},S=async()=>{n(v,h),r(xi(!1)),r(wu(null)),(await r(Va({accessToken:v,serverId:u.serverId}))).meta.requestStatus==="fulfilled"&&(r(zs({accessToken:v})),r(Rd(!0)),r(Px()),t("/main"))};return P.jsxs(P.Fragment,{children:[P.jsxs(ft,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[P.jsxs(Ge,{shadow:"md",width:200,children:[P.jsx(Ge.Target,{children:P.jsxs(st,{justify:"space-between",style:{cursor:"pointer"},children:[d?P.jsx(_o,{height:10,width:"40%",radius:"md"}):P.jsx(Ye,{children:u.serverName}),P.jsx(wd,{})]})}),P.jsxs(Ge.Dropdown,{children:[y&&P.jsx(Ge.Item,{leftSection:P.jsx(Sd,{size:16}),onClick:a,children:" "}),P.jsx(Ge.Item,{onClick:()=>w(u.serverId),leftSection:P.jsx(ux,{size:16}),children:" ID "}),!y&&P.jsx(Ge.Item,{onClick:S,leftSection:P.jsx(dx,{size:16}),children:"  "})]})]}),P.jsx(Sn,{}),P.jsxs(zr.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[P.jsx(jx,{onClose:e}),P.jsx(Ox,{})]}),P.jsx(Mx,{})]}),P.jsx(Lx,{opened:i,onClose:c})]})},OA=({onClose:e,opened:t})=>{const r=Do(),n=or(),[i,{open:a,close:c}]=ss(!1),{serverData:u,isLoading:d}=Le(S=>S.testServerStore),{accessToken:h}=Le(S=>S.userStore),v=u.isCreator,y=S=>{navigator.clipboard.writeText(S)},w=async()=>{(await n(Va({accessToken:h,serverId:u.serverId}))).meta.requestStatus==="fulfilled"&&(n(zs({accessToken:h})),n(Rd(!0)),n(Px()),r("/main"))};return P.jsxs(P.Fragment,{children:[P.jsxs(Vr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[P.jsxs(Ge,{shadow:"md",width:200,children:[P.jsx(Ge.Target,{children:P.jsxs(st,{justify:"space-between",style:{cursor:"pointer"},children:[d?P.jsx(_o,{height:10,width:"40%",radius:"md"}):P.jsx(Ye,{children:u.serverName}),P.jsx(wd,{})]})}),P.jsxs(Ge.Dropdown,{children:[v&&P.jsx(Ge.Item,{leftSection:P.jsx(Sd,{size:16}),onClick:a,children:" "}),P.jsx(Ge.Item,{onClick:()=>y(u.serverId),leftSection:P.jsx(ux,{size:16}),children:" ID "}),!v&&P.jsx(Ge.Item,{onClick:w,leftSection:P.jsx(dx,{size:16}),children:"  "})]})]}),P.jsx(Sn,{}),P.jsx(jx,{onClose:e}),P.jsx(Ox,{}),P.jsx(Mx,{})]}),P.jsx(Lx,{opened:i,onClose:c})]})},NA=()=>{const e=Do(),t=or(),{isUserStreamView:r,isOpenHome:n}=Le(b=>b.appStore),{accessToken:i,isLoggedIn:a}=Le(b=>b.userStore),{currentServerId:c,currentChannelId:u,currentVoiceChannelId:d}=Le(b=>b.testServerStore),[h,{open:v,close:y}]=ss(!1),[w,{open:S,close:_}]=ss(!1),{sendMessage:R,editMessage:C,deleteMessage:E}=aA({accessToken:i,dispatch:t,serverId:c,currentVoiceChannelId:d});return cA({accessToken:i,dispatch:t,serverId:c,currentVoiceChannelId:d}),M.useEffect(()=>{a||e("/")},[a,e]),M.useEffect(()=>{i&&t(Wl({accessToken:i}))},[i,t]),M.useEffect(()=>{c&&i&&t(rs({accessToken:i,serverId:c}))},[i,c,t]),M.useEffect(()=>{u&&i&&t(Ql({accessToken:i,channelId:u,numberOfMessages:50,fromStart:0}))},[i,u,c,t]),P.jsxs(re,{style:{display:"flex",height:"100dvh"},children:[P.jsx(TA,{}),n?P.jsx(CA,{}):P.jsxs(P.Fragment,{children:[P.jsx(jA,{onClose:y}),r?P.jsx(gA,{}):P.jsx(uA,{openSidebar:v,openDetailsPanel:S,sendMessage:R,editMessage:C,deleteMessage:E}),P.jsx(vA,{}),P.jsx(OA,{onClose:y,opened:h}),P.jsx(yA,{onClose:_,opened:w})]})]})},AA=()=>{const e=or(),t=Do(),{accessToken:r}=Le(a=>a.userStore),n=Xa({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await e(Vl({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return M.useEffect(()=>{r&&t("/main")},[r,t]),P.jsx(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:P.jsxs(sc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[P.jsx(Ye,{fw:500,mb:"md",children:"  "}),P.jsx("form",{onSubmit:n.onSubmit(i),children:P.jsxs(ft,{gap:"md",children:[P.jsx(Fn,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),P.jsx(Fn,{label:"",placeholder:" ",...n.getInputProps("accountName"),required:!0}),P.jsx(ad,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),P.jsx(st,{justify:"center",mt:"md",children:P.jsx(He,{type:"submit",children:""})})]})})]})})},$A=({children:e})=>{const t=Le(i=>i.testServerStore.error),r=Le(i=>i.userStore.error),{showError:n}=Cg();return M.useEffect(()=>{t!==""&&n(t)},[t]),M.useEffect(()=>{r!==""&&n(r)},[r]),P.jsx(P.Fragment,{children:e})},FA=()=>P.jsx(g3,{children:P.jsx(v3,{children:P.jsx(kj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:P.jsxs(kb,{children:[P.jsx(ms,{}),P.jsx($A,{children:P.jsxs(bj,{children:[P.jsx(Na,{path:"/",element:P.jsx(A4,{})}),P.jsx(Na,{path:"/main",element:P.jsx(NA,{})}),P.jsx(Na,{path:"/login",element:P.jsx(N4,{})}),P.jsx(Na,{path:"/register",element:P.jsx(AA,{})})]})})]})})})}),zA=a4({reducer:{userStore:O4,appStore:hA,testServerStore:iA}});BR.createRoot(document.getElementById("root")).render(P.jsx(rE,{store:zA,children:P.jsx(FA,{})}));
