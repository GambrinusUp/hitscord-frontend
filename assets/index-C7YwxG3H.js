var FR=Object.defineProperty;var zR=(e,t,r)=>t in e?FR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wp=(e,t,r)=>zR(e,typeof t!="symbol"?t+"":t,r);function BR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var UR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},Ca={},bp={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function VR(){if(bw)return Ie;bw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function C(B,X,ce){this.props=B,this.context=X,this.refs=R,this.updater=ce||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=C.prototype;function _(B,X,ce){this.props=B,this.context=X,this.refs=R,this.updater=ce||S}var h=_.prototype=new E;h.constructor=_,b(h,C.prototype),h.isPureReactComponent=!0;var p=Array.isArray,m=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function M(B,X,ce){var de,ee={},ie=null,ue=null;if(X!=null)for(de in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(ie=""+X.key),X)m.call(X,de)&&!k.hasOwnProperty(de)&&(ee[de]=X[de]);var me=arguments.length-2;if(me===1)ee.children=ce;else if(1<me){for(var he=Array(me),Ce=0;Ce<me;Ce++)he[Ce]=arguments[Ce+2];ee.children=he}if(B&&B.defaultProps)for(de in me=B.defaultProps,me)ee[de]===void 0&&(ee[de]=me[de]);return{$$typeof:e,type:B,key:ie,ref:ue,props:ee,_owner:x.current}}function L(B,X){return{$$typeof:e,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function A(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return X[ce]})}var N=/\/+/g;function V(B,X){return typeof B=="object"&&B!==null&&B.key!=null?A(""+B.key):X.toString(36)}function W(B,X,ce,de,ee){var ie=typeof B;(ie==="undefined"||ie==="boolean")&&(B=null);var ue=!1;if(B===null)ue=!0;else switch(ie){case"string":case"number":ue=!0;break;case"object":switch(B.$$typeof){case e:case t:ue=!0}}if(ue)return ue=B,ee=ee(ue),B=de===""?"."+V(ue,0):de,p(ee)?(ce="",B!=null&&(ce=B.replace(N,"$&/")+"/"),W(ee,X,ce,"",function(Ce){return Ce})):ee!=null&&(j(ee)&&(ee=L(ee,ce+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+B)),X.push(ee)),1;if(ue=0,de=de===""?".":de+":",p(B))for(var me=0;me<B.length;me++){ie=B[me];var he=de+V(ie,me);ue+=W(ie,X,ce,he,ee)}else if(he=w(B),typeof he=="function")for(B=he.call(B),me=0;!(ie=B.next()).done;)ie=ie.value,he=de+V(ie,me++),ue+=W(ie,X,ce,he,ee);else if(ie==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function K(B,X,ce){if(B==null)return B;var de=[],ee=0;return W(B,de,"","",function(ie){return X.call(ce,ie,ee++)}),de}function O(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},F={transition:null},z={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:K,forEach:function(B,X,ce){K(B,function(){X.apply(this,arguments)},ce)},count:function(B){var X=0;return K(B,function(){X++}),X},toArray:function(B){return K(B,function(X){return X})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ie.Component=C,Ie.Fragment=r,Ie.Profiler=i,Ie.PureComponent=_,Ie.StrictMode=n,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ie.act=q,Ie.cloneElement=function(B,X,ce){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var de=b({},B.props),ee=B.key,ie=B.ref,ue=B._owner;if(X!=null){if(X.ref!==void 0&&(ie=X.ref,ue=x.current),X.key!==void 0&&(ee=""+X.key),B.type&&B.type.defaultProps)var me=B.type.defaultProps;for(he in X)m.call(X,he)&&!k.hasOwnProperty(he)&&(de[he]=X[he]===void 0&&me!==void 0?me[he]:X[he])}var he=arguments.length-2;if(he===1)de.children=ce;else if(1<he){me=Array(he);for(var Ce=0;Ce<he;Ce++)me[Ce]=arguments[Ce+2];de.children=me}return{$$typeof:e,type:B.type,key:ee,ref:ie,props:de,_owner:ue}},Ie.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ie.createElement=M,Ie.createFactory=function(B){var X=M.bind(null,B);return X.type=B,X},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(B){return{$$typeof:l,render:B}},Ie.isValidElement=j,Ie.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:O}},Ie.memo=function(B,X){return{$$typeof:f,type:B,compare:X===void 0?null:X}},Ie.startTransition=function(B){var X=F.transition;F.transition={};try{B()}finally{F.transition=X}},Ie.unstable_act=q,Ie.useCallback=function(B,X){return U.current.useCallback(B,X)},Ie.useContext=function(B){return U.current.useContext(B)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(B){return U.current.useDeferredValue(B)},Ie.useEffect=function(B,X){return U.current.useEffect(B,X)},Ie.useId=function(){return U.current.useId()},Ie.useImperativeHandle=function(B,X,ce){return U.current.useImperativeHandle(B,X,ce)},Ie.useInsertionEffect=function(B,X){return U.current.useInsertionEffect(B,X)},Ie.useLayoutEffect=function(B,X){return U.current.useLayoutEffect(B,X)},Ie.useMemo=function(B,X){return U.current.useMemo(B,X)},Ie.useReducer=function(B,X,ce){return U.current.useReducer(B,X,ce)},Ie.useRef=function(B){return U.current.useRef(B)},Ie.useState=function(B){return U.current.useState(B)},Ie.useSyncExternalStore=function(B,X,ce){return U.current.useSyncExternalStore(B,X,ce)},Ie.useTransition=function(){return U.current.useTransition()},Ie.version="18.3.1",Ie}var _w;function Tu(){return _w||(_w=1,bp.exports=VR()),bp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function HR(){if(xw)return Ca;xw=1;var e=Tu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,d,f){var v,y={},w=null,S=null;f!==void 0&&(w=""+f),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(v in d)n.call(d,v)&&!a.hasOwnProperty(v)&&(y[v]=d[v]);if(l&&l.defaultProps)for(v in d=l.defaultProps,d)y[v]===void 0&&(y[v]=d[v]);return{$$typeof:t,type:l,key:w,ref:S,props:y,_owner:i.current}}return Ca.Fragment=r,Ca.jsx=c,Ca.jsxs=c,Ca}var Cw;function WR(){return Cw||(Cw=1,Sp.exports=HR()),Sp.exports}var T=WR(),Cl={},_p={exports:{}},fr={},xp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function qR(){return Rw||(Rw=1,function(e){function t(F,z){var q=F.length;F.push(z);e:for(;0<q;){var B=q-1>>>1,X=F[B];if(0<i(X,z))F[B]=z,F[q]=X,q=B;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],q=F.pop();if(q!==z){F[0]=q;e:for(var B=0,X=F.length,ce=X>>>1;B<ce;){var de=2*(B+1)-1,ee=F[de],ie=de+1,ue=F[ie];if(0>i(ee,q))ie<X&&0>i(ue,ee)?(F[B]=ue,F[ie]=q,B=ie):(F[B]=ee,F[de]=q,B=de);else if(ie<X&&0>i(ue,q))F[B]=ue,F[ie]=q,B=ie;else break e}}return z}function i(F,z){var q=F.sortIndex-z.sortIndex;return q!==0?q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var d=[],f=[],v=1,y=null,w=3,S=!1,b=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var z=r(f);z!==null;){if(z.callback===null)n(f);else if(z.startTime<=F)n(f),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(f)}}function p(F){if(R=!1,h(F),!b)if(r(d)!==null)b=!0,O(m);else{var z=r(f);z!==null&&U(p,z.startTime-F)}}function m(F,z){b=!1,R&&(R=!1,E(M),M=-1),S=!0;var q=w;try{for(h(z),y=r(d);y!==null&&(!(y.expirationTime>z)||F&&!A());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var X=B(y.expirationTime<=z);z=e.unstable_now(),typeof X=="function"?y.callback=X:y===r(d)&&n(d),h(z)}else n(d);y=r(d)}if(y!==null)var ce=!0;else{var de=r(f);de!==null&&U(p,de.startTime-z),ce=!1}return ce}finally{y=null,w=q,S=!1}}var x=!1,k=null,M=-1,L=5,j=-1;function A(){return!(e.unstable_now()-j<L)}function N(){if(k!==null){var F=e.unstable_now();j=F;var z=!0;try{z=k(!0,F)}finally{z?V():(x=!1,k=null)}}else x=!1}var V;if(typeof _=="function")V=function(){_(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=N,V=function(){K.postMessage(null)}}else V=function(){C(N,0)};function O(F){k=F,x||(x=!0,V())}function U(F,z){M=C(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,O(m))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var q=w;w=z;try{return F()}finally{w=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=w;w=F;try{return z()}finally{w=q}},e.unstable_scheduleCallback=function(F,z,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,F={id:v++,callback:z,priorityLevel:F,startTime:q,expirationTime:X,sortIndex:-1},q>B?(F.sortIndex=q,t(f,F),r(d)===null&&F===r(f)&&(R?(E(M),M=-1):R=!0,U(p,q-B))):(F.sortIndex=X,t(d,F),b||S||(b=!0,O(m))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var z=w;return function(){var q=w;w=z;try{return F.apply(this,arguments)}finally{w=q}}}}(Cp)),Cp}var Ew;function GR(){return Ew||(Ew=1,xp.exports=qR()),xp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function KR(){if(Tw)return fr;Tw=1;var e=Tu(),t=GR();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(s){return d.call(y,s)?!0:d.call(v,s)?!1:f.test(s)?y[s]=!0:(v[s]=!0,!1)}function S(s,o,u,g){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,u,g){if(o===null||typeof o>"u"||S(s,o,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,u,g,P,I,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=P,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=I,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function h(s,o,u,g){var P=C.hasOwnProperty(o)?C[o]:null;(P!==null?P.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,P,g)&&(u=null),g||P===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):P.mustUseProperty?s[P.propertyName]=u===null?P.type===3?!1:"":u:(o=P.attributeName,g=P.attributeNamespace,u===null?s.removeAttribute(o):(P=P.type,u=P===3||P===4&&u===!0?"":""+u,g?s.setAttributeNS(g,o,u):s.setAttribute(o,u))))}var p=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,B;function X(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ce=!1;function de(s,o){if(!s||ce)return"";ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var g=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){g=J}s.call(o.prototype)}else{try{throw Error()}catch(J){g=J}s()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var P=J.stack.split(`
`),I=g.stack.split(`
`),$=P.length-1,H=I.length-1;1<=$&&0<=H&&P[$]!==I[H];)H--;for(;1<=$&&0<=H;$--,H--)if(P[$]!==I[H]){if($!==1||H!==1)do if($--,H--,0>H||P[$]!==I[H]){var G=`
`+P[$].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=$&&0<=H);break}}}finally{ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function ee(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case x:return"Portal";case L:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return o=s.displayName||null,o!==null?o:ie(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return ie(s(o))}catch{}}return null}function ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function he(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ce(s){var o=he(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var P=u.get,I=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return P.call(this)},set:function($){g=""+$,I.call(this,$)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function De(s){s._valueTracker||(s._valueTracker=Ce(s))}function vt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),g="";return s&&(g=he(s)?s.checked?"true":"false":s.value),s=g,s!==u?(o.setValue(s),!0):!1}function ct(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ve(s,o){var u=o.checked;return q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Je(s,o){var u=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;u=me(o.value!=null?o.value:u),s._wrapperState={initialChecked:g,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function et(s,o){o=o.checked,o!=null&&h(s,"checked",o,!1)}function Ye(s,o){et(s,o);var u=me(o.value),g=o.type;if(u!=null)g==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?mt(s,o.type,u):o.hasOwnProperty("defaultValue")&&mt(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Tt(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function mt(s,o,u){(o!=="number"||ct(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var He=Array.isArray;function Ae(s,o,u,g){if(s=s.options,o){o={};for(var P=0;P<u.length;P++)o["$"+u[P]]=!0;for(u=0;u<s.length;u++)P=o.hasOwnProperty("$"+s[u].value),s[u].selected!==P&&(s[u].selected=P),P&&g&&(s[u].defaultSelected=!0)}else{for(u=""+me(u),o=null,P=0;P<s.length;P++){if(s[P].value===u){s[P].selected=!0,g&&(s[P].defaultSelected=!0);return}o!==null||s[P].disabled||(o=s[P])}o!==null&&(o.selected=!0)}}function lt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function It(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(He(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:me(u)}}function ut(s,o){var u=me(o.value),g=me(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),g!=null&&(s.defaultValue=""+g)}function Ot(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Te(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Te(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Le=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,g,P){MSApp.execUnsafeLocalFunction(function(){return s(o,u,g,P)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function yt(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(s){Oe.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Be[o]=Be[s]})});function Se(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Be.hasOwnProperty(s)&&Be[s]?(""+o).trim():o+"px"}function dt(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var g=u.indexOf("--")===0,P=Se(u,o[u],g);u==="float"&&(u="cssFloat"),g?s.setProperty(u,P):s[u]=P}}var Hn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(s,o){if(o){if(Hn[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Id(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function jd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ld=null,Ao=null,$o=null;function $g(s){if(s=la(s)){if(typeof Ld!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Fc(o),Ld(s.stateNode,s.type,o))}}function Fg(s){Ao?$o?$o.push(s):$o=[s]:Ao=s}function zg(){if(Ao){var s=Ao,o=$o;if($o=Ao=null,$g(s),o)for(s=0;s<o.length;s++)$g(o[s])}}function Bg(s,o){return s(o)}function Ug(){}var Od=!1;function Vg(s,o,u){if(Od)return s(o,u);Od=!0;try{return Bg(s,o,u)}finally{Od=!1,(Ao!==null||$o!==null)&&(Ug(),zg())}}function Ui(s,o){var u=s.stateNode;if(u===null)return null;var g=Fc(u);if(g===null)return null;u=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Nd=!1;if(l)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Nd=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Nd=!1}function Wx(s,o,u,g,P,I,$,H,G){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(se){this.onError(se)}}var Hi=!1,vc=null,yc=!1,Ad=null,qx={onError:function(s){Hi=!0,vc=s}};function Gx(s,o,u,g,P,I,$,H,G){Hi=!1,vc=null,Wx.apply(qx,arguments)}function Kx(s,o,u,g,P,I,$,H,G){if(Gx.apply(this,arguments),Hi){if(Hi){var J=vc;Hi=!1,vc=null}else throw Error(r(198));yc||(yc=!0,Ad=J)}}function Zs(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Hg(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Wg(s){if(Zs(s)!==s)throw Error(r(188))}function Yx(s){var o=s.alternate;if(!o){if(o=Zs(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,g=o;;){var P=u.return;if(P===null)break;var I=P.alternate;if(I===null){if(g=P.return,g!==null){u=g;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===u)return Wg(P),s;if(I===g)return Wg(P),o;I=I.sibling}throw Error(r(188))}if(u.return!==g.return)u=P,g=I;else{for(var $=!1,H=P.child;H;){if(H===u){$=!0,u=P,g=I;break}if(H===g){$=!0,g=P,u=I;break}H=H.sibling}if(!$){for(H=I.child;H;){if(H===u){$=!0,u=I,g=P;break}if(H===g){$=!0,g=I,u=P;break}H=H.sibling}if(!$)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function qg(s){return s=Yx(s),s!==null?Gg(s):null}function Gg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Gg(s);if(o!==null)return o;s=s.sibling}return null}var Kg=t.unstable_scheduleCallback,Yg=t.unstable_cancelCallback,Xx=t.unstable_shouldYield,Qx=t.unstable_requestPaint,wt=t.unstable_now,Zx=t.unstable_getCurrentPriorityLevel,$d=t.unstable_ImmediatePriority,Xg=t.unstable_UserBlockingPriority,wc=t.unstable_NormalPriority,Jx=t.unstable_LowPriority,Qg=t.unstable_IdlePriority,Sc=null,Pn=null;function eC(s){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Sc,s,void 0,(s.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:nC,tC=Math.log,rC=Math.LN2;function nC(s){return s>>>=0,s===0?32:31-(tC(s)/rC|0)|0}var bc=64,_c=4194304;function Wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xc(s,o){var u=s.pendingLanes;if(u===0)return 0;var g=0,P=s.suspendedLanes,I=s.pingedLanes,$=u&268435455;if($!==0){var H=$&~P;H!==0?g=Wi(H):(I&=$,I!==0&&(g=Wi(I)))}else $=u&~P,$!==0?g=Wi($):I!==0&&(g=Wi(I));if(g===0)return 0;if(o!==0&&o!==g&&(o&P)===0&&(P=g&-g,I=o&-o,P>=I||P===16&&(I&4194240)!==0))return o;if((g&4)!==0&&(g|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)u=31-Kr(o),P=1<<u,g|=s[u],o&=~P;return g}function sC(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(s,o){for(var u=s.suspendedLanes,g=s.pingedLanes,P=s.expirationTimes,I=s.pendingLanes;0<I;){var $=31-Kr(I),H=1<<$,G=P[$];G===-1?((H&u)===0||(H&g)!==0)&&(P[$]=sC(H,o)):G<=o&&(s.expiredLanes|=H),I&=~H}}function Fd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Zg(){var s=bc;return bc<<=1,(bc&4194240)===0&&(bc=64),s}function zd(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function qi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Kr(o),s[o]=u}function iC(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<u;){var P=31-Kr(u),I=1<<P;o[P]=0,g[P]=-1,s[P]=-1,u&=~I}}function Bd(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var g=31-Kr(u),P=1<<g;P&o|s[g]&o&&(s[g]|=o),u&=~P}}var Ge=0;function Jg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ev,Ud,tv,rv,nv,Vd=!1,Cc=[],vs=null,ys=null,ws=null,Gi=new Map,Ki=new Map,Ss=[],aC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(s,o){switch(s){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(o.pointerId)}}function Yi(s,o,u,g,P,I){return s===null||s.nativeEvent!==I?(s={blockedOn:o,domEventName:u,eventSystemFlags:g,nativeEvent:I,targetContainers:[P]},o!==null&&(o=la(o),o!==null&&Ud(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,P!==null&&o.indexOf(P)===-1&&o.push(P),s)}function cC(s,o,u,g,P){switch(o){case"focusin":return vs=Yi(vs,s,o,u,g,P),!0;case"dragenter":return ys=Yi(ys,s,o,u,g,P),!0;case"mouseover":return ws=Yi(ws,s,o,u,g,P),!0;case"pointerover":var I=P.pointerId;return Gi.set(I,Yi(Gi.get(I)||null,s,o,u,g,P)),!0;case"gotpointercapture":return I=P.pointerId,Ki.set(I,Yi(Ki.get(I)||null,s,o,u,g,P)),!0}return!1}function ov(s){var o=Js(s.target);if(o!==null){var u=Zs(o);if(u!==null){if(o=u.tag,o===13){if(o=Hg(u),o!==null){s.blockedOn=o,nv(s.priority,function(){tv(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Wd(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);Md=g,u.target.dispatchEvent(g),Md=null}else return o=la(u),o!==null&&Ud(o),s.blockedOn=u,!1;o.shift()}return!0}function iv(s,o,u){Rc(s)&&u.delete(o)}function lC(){Vd=!1,vs!==null&&Rc(vs)&&(vs=null),ys!==null&&Rc(ys)&&(ys=null),ws!==null&&Rc(ws)&&(ws=null),Gi.forEach(iv),Ki.forEach(iv)}function Xi(s,o){s.blockedOn===o&&(s.blockedOn=null,Vd||(Vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lC)))}function Qi(s){function o(P){return Xi(P,s)}if(0<Cc.length){Xi(Cc[0],s);for(var u=1;u<Cc.length;u++){var g=Cc[u];g.blockedOn===s&&(g.blockedOn=null)}}for(vs!==null&&Xi(vs,s),ys!==null&&Xi(ys,s),ws!==null&&Xi(ws,s),Gi.forEach(o),Ki.forEach(o),u=0;u<Ss.length;u++)g=Ss[u],g.blockedOn===s&&(g.blockedOn=null);for(;0<Ss.length&&(u=Ss[0],u.blockedOn===null);)ov(u),u.blockedOn===null&&Ss.shift()}var Fo=p.ReactCurrentBatchConfig,Ec=!0;function uC(s,o,u,g){var P=Ge,I=Fo.transition;Fo.transition=null;try{Ge=1,Hd(s,o,u,g)}finally{Ge=P,Fo.transition=I}}function dC(s,o,u,g){var P=Ge,I=Fo.transition;Fo.transition=null;try{Ge=4,Hd(s,o,u,g)}finally{Ge=P,Fo.transition=I}}function Hd(s,o,u,g){if(Ec){var P=Wd(s,o,u,g);if(P===null)lf(s,o,g,Tc,u),sv(s,g);else if(cC(P,s,o,u,g))g.stopPropagation();else if(sv(s,g),o&4&&-1<aC.indexOf(s)){for(;P!==null;){var I=la(P);if(I!==null&&ev(I),I=Wd(s,o,u,g),I===null&&lf(s,o,g,Tc,u),I===P)break;P=I}P!==null&&g.stopPropagation()}else lf(s,o,g,null,u)}}var Tc=null;function Wd(s,o,u,g){if(Tc=null,s=jd(g),s=Js(s),s!==null)if(o=Zs(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Hg(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Tc=s,null}function av(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zx()){case $d:return 1;case Xg:return 4;case wc:case Jx:return 16;case Qg:return 536870912;default:return 16}default:return 16}}var bs=null,qd=null,Pc=null;function cv(){if(Pc)return Pc;var s,o=qd,u=o.length,g,P="value"in bs?bs.value:bs.textContent,I=P.length;for(s=0;s<u&&o[s]===P[s];s++);var $=u-s;for(g=1;g<=$&&o[u-g]===P[I-g];g++);return Pc=P.slice(s,1<g?1-g:void 0)}function kc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dc(){return!0}function lv(){return!1}function br(s){function o(u,g,P,I,$){this._reactName=u,this._targetInst=P,this.type=g,this.nativeEvent=I,this.target=$,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(u=s[H],this[H]=u?u(I):I[H]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Dc:lv,this.isPropagationStopped=lv,this}return q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),o}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=br(zo),Zi=q({},zo,{view:0,detail:0}),fC=br(Zi),Kd,Yd,Ji,Ic=q({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ji&&(Ji&&s.type==="mousemove"?(Kd=s.screenX-Ji.screenX,Yd=s.screenY-Ji.screenY):Yd=Kd=0,Ji=s),Kd)},movementY:function(s){return"movementY"in s?s.movementY:Yd}}),uv=br(Ic),pC=q({},Ic,{dataTransfer:0}),hC=br(pC),mC=q({},Zi,{relatedTarget:0}),Xd=br(mC),gC=q({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=br(gC),yC=q({},zo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wC=br(yC),SC=q({},zo,{data:0}),dv=br(SC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=xC[s])?!!o[s]:!1}function Qd(){return CC}var RC=q({},Zi,{key:function(s){if(s.key){var o=bC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=kc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_C[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(s){return s.type==="keypress"?kc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),EC=br(RC),TC=q({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=br(TC),PC=q({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),kC=br(PC),DC=q({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),IC=br(DC),MC=q({},Ic,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=br(MC),LC=[9,13,27,32],Zd=l&&"CompositionEvent"in window,ea=null;l&&"documentMode"in document&&(ea=document.documentMode);var OC=l&&"TextEvent"in window&&!ea,pv=l&&(!Zd||ea&&8<ea&&11>=ea),hv=" ",mv=!1;function gv(s,o){switch(s){case"keyup":return LC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bo=!1;function NC(s,o){switch(s){case"compositionend":return vv(o);case"keypress":return o.which!==32?null:(mv=!0,hv);case"textInput":return s=o.data,s===hv&&mv?null:s;default:return null}}function AC(s,o){if(Bo)return s==="compositionend"||!Zd&&gv(s,o)?(s=cv(),Pc=qd=bs=null,Bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pv&&o.locale!=="ko"?null:o.data;default:return null}}var $C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$C[s.type]:o==="textarea"}function wv(s,o,u,g){Fg(g),o=Nc(o,"onChange"),0<o.length&&(u=new Gd("onChange","change",null,u,g),s.push({event:u,listeners:o}))}var ta=null,ra=null;function FC(s){Av(s,0)}function Mc(s){var o=qo(s);if(vt(o))return s}function zC(s,o){if(s==="change")return o}var Sv=!1;if(l){var Jd;if(l){var ef="oninput"in document;if(!ef){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),ef=typeof bv.oninput=="function"}Jd=ef}else Jd=!1;Sv=Jd&&(!document.documentMode||9<document.documentMode)}function _v(){ta&&(ta.detachEvent("onpropertychange",xv),ra=ta=null)}function xv(s){if(s.propertyName==="value"&&Mc(ra)){var o=[];wv(o,ra,s,jd(s)),Vg(FC,o)}}function BC(s,o,u){s==="focusin"?(_v(),ta=o,ra=u,ta.attachEvent("onpropertychange",xv)):s==="focusout"&&_v()}function UC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mc(ra)}function VC(s,o){if(s==="click")return Mc(o)}function HC(s,o){if(s==="input"||s==="change")return Mc(o)}function WC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Yr=typeof Object.is=="function"?Object.is:WC;function na(s,o){if(Yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),g=Object.keys(o);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var P=u[g];if(!d.call(o,P)||!Yr(s[P],o[P]))return!1}return!0}function Cv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rv(s,o){var u=Cv(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=o&&g>=o)return{node:u,offset:o-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cv(u)}}function Ev(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ev(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tv(){for(var s=window,o=ct();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ct(s.document)}return o}function tf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function qC(s){var o=Tv(),u=s.focusedElem,g=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ev(u.ownerDocument.documentElement,u)){if(g!==null&&tf(u)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var P=u.textContent.length,I=Math.min(g.start,P);g=g.end===void 0?I:Math.min(g.end,P),!s.extend&&I>g&&(P=g,g=I,I=P),P=Rv(u,I);var $=Rv(u,g);P&&$&&(s.rangeCount!==1||s.anchorNode!==P.node||s.anchorOffset!==P.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(P.node,P.offset),s.removeAllRanges(),I>g?(s.addRange(o),s.extend($.node,$.offset)):(o.setEnd($.node,$.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var GC=l&&"documentMode"in document&&11>=document.documentMode,Uo=null,rf=null,sa=null,nf=!1;function Pv(s,o,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nf||Uo==null||Uo!==ct(g)||(g=Uo,"selectionStart"in g&&tf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),sa&&na(sa,g)||(sa=g,g=Nc(rf,"onSelect"),0<g.length&&(o=new Gd("onSelect","select",null,o,u),s.push({event:o,listeners:g}),o.target=Uo)))}function jc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Vo={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},sf={},kv={};l&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Lc(s){if(sf[s])return sf[s];if(!Vo[s])return s;var o=Vo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in kv)return sf[s]=o[u];return s}var Dv=Lc("animationend"),Iv=Lc("animationiteration"),Mv=Lc("animationstart"),jv=Lc("transitionend"),Lv=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,o){Lv.set(s,o),a(o,[s])}for(var of=0;of<Ov.length;of++){var af=Ov[of],KC=af.toLowerCase(),YC=af[0].toUpperCase()+af.slice(1);_s(KC,"on"+YC)}_s(Dv,"onAnimationEnd"),_s(Iv,"onAnimationIteration"),_s(Mv,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(jv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function Nv(s,o,u){var g=s.type||"unknown-event";s.currentTarget=u,Kx(g,o,void 0,s),s.currentTarget=null}function Av(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],P=g.event;g=g.listeners;e:{var I=void 0;if(o)for(var $=g.length-1;0<=$;$--){var H=g[$],G=H.instance,J=H.currentTarget;if(H=H.listener,G!==I&&P.isPropagationStopped())break e;Nv(P,H,J),I=G}else for($=0;$<g.length;$++){if(H=g[$],G=H.instance,J=H.currentTarget,H=H.listener,G!==I&&P.isPropagationStopped())break e;Nv(P,H,J),I=G}}}if(yc)throw s=Ad,yc=!1,Ad=null,s}function tt(s,o){var u=o[mf];u===void 0&&(u=o[mf]=new Set);var g=s+"__bubble";u.has(g)||($v(o,s,2,!1),u.add(g))}function cf(s,o,u){var g=0;o&&(g|=4),$v(u,s,g,o)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function ia(s){if(!s[Oc]){s[Oc]=!0,n.forEach(function(u){u!=="selectionchange"&&(XC.has(u)||cf(u,!1,s),cf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Oc]||(o[Oc]=!0,cf("selectionchange",!1,o))}}function $v(s,o,u,g){switch(av(o)){case 1:var P=uC;break;case 4:P=dC;break;default:P=Hd}u=P.bind(null,o,u,s),P=void 0,!Nd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(P=!0),g?P!==void 0?s.addEventListener(o,u,{capture:!0,passive:P}):s.addEventListener(o,u,!0):P!==void 0?s.addEventListener(o,u,{passive:P}):s.addEventListener(o,u,!1)}function lf(s,o,u,g,P){var I=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var H=g.stateNode.containerInfo;if(H===P||H.nodeType===8&&H.parentNode===P)break;if($===4)for($=g.return;$!==null;){var G=$.tag;if((G===3||G===4)&&(G=$.stateNode.containerInfo,G===P||G.nodeType===8&&G.parentNode===P))return;$=$.return}for(;H!==null;){if($=Js(H),$===null)return;if(G=$.tag,G===5||G===6){g=I=$;continue e}H=H.parentNode}}g=g.return}Vg(function(){var J=I,se=jd(u),ae=[];e:{var ne=Lv.get(s);if(ne!==void 0){var pe=Gd,ve=s;switch(s){case"keypress":if(kc(u)===0)break e;case"keydown":case"keyup":pe=EC;break;case"focusin":ve="focus",pe=Xd;break;case"focusout":ve="blur",pe=Xd;break;case"beforeblur":case"afterblur":pe=Xd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=hC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=kC;break;case Dv:case Iv:case Mv:pe=vC;break;case jv:pe=IC;break;case"scroll":pe=fC;break;case"wheel":pe=jC;break;case"copy":case"cut":case"paste":pe=wC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=fv}var we=(o&4)!==0,St=!we&&s==="scroll",Q=we?ne!==null?ne+"Capture":null:ne;we=[];for(var Y=J,Z;Y!==null;){Z=Y;var le=Z.stateNode;if(Z.tag===5&&le!==null&&(Z=le,Q!==null&&(le=Ui(Y,Q),le!=null&&we.push(aa(Y,le,Z)))),St)break;Y=Y.return}0<we.length&&(ne=new pe(ne,ve,null,u,se),ae.push({event:ne,listeners:we}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ne&&u!==Md&&(ve=u.relatedTarget||u.fromElement)&&(Js(ve)||ve[Wn]))break e;if((pe||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ve=u.relatedTarget||u.toElement,pe=J,ve=ve?Js(ve):null,ve!==null&&(St=Zs(ve),ve!==St||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=J),pe!==ve)){if(we=uv,le="onMouseLeave",Q="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(we=fv,le="onPointerLeave",Q="onPointerEnter",Y="pointer"),St=pe==null?ne:qo(pe),Z=ve==null?ne:qo(ve),ne=new we(le,Y+"leave",pe,u,se),ne.target=St,ne.relatedTarget=Z,le=null,Js(se)===J&&(we=new we(Q,Y+"enter",ve,u,se),we.target=Z,we.relatedTarget=St,le=we),St=le,pe&&ve)t:{for(we=pe,Q=ve,Y=0,Z=we;Z;Z=Ho(Z))Y++;for(Z=0,le=Q;le;le=Ho(le))Z++;for(;0<Y-Z;)we=Ho(we),Y--;for(;0<Z-Y;)Q=Ho(Q),Z--;for(;Y--;){if(we===Q||Q!==null&&we===Q.alternate)break t;we=Ho(we),Q=Ho(Q)}we=null}else we=null;pe!==null&&Fv(ae,ne,pe,we,!1),ve!==null&&St!==null&&Fv(ae,St,ve,we,!0)}}e:{if(ne=J?qo(J):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var be=zC;else if(yv(ne))if(Sv)be=HC;else{be=UC;var _e=BC}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(be=VC);if(be&&(be=be(s,J))){wv(ae,be,u,se);break e}_e&&_e(s,ne,J),s==="focusout"&&(_e=ne._wrapperState)&&_e.controlled&&ne.type==="number"&&mt(ne,"number",ne.value)}switch(_e=J?qo(J):window,s){case"focusin":(yv(_e)||_e.contentEditable==="true")&&(Uo=_e,rf=J,sa=null);break;case"focusout":sa=rf=Uo=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Pv(ae,u,se);break;case"selectionchange":if(GC)break;case"keydown":case"keyup":Pv(ae,u,se)}var xe;if(Zd)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Bo?gv(s,u)&&(Re="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(pv&&u.locale!=="ko"&&(Bo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Bo&&(xe=cv()):(bs=se,qd="value"in bs?bs.value:bs.textContent,Bo=!0)),_e=Nc(J,Re),0<_e.length&&(Re=new dv(Re,s,null,u,se),ae.push({event:Re,listeners:_e}),xe?Re.data=xe:(xe=vv(u),xe!==null&&(Re.data=xe)))),(xe=OC?NC(s,u):AC(s,u))&&(J=Nc(J,"onBeforeInput"),0<J.length&&(se=new dv("onBeforeInput","beforeinput",null,u,se),ae.push({event:se,listeners:J}),se.data=xe))}Av(ae,o)})}function aa(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Nc(s,o){for(var u=o+"Capture",g=[];s!==null;){var P=s,I=P.stateNode;P.tag===5&&I!==null&&(P=I,I=Ui(s,u),I!=null&&g.unshift(aa(s,I,P)),I=Ui(s,o),I!=null&&g.push(aa(s,I,P))),s=s.return}return g}function Ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Fv(s,o,u,g,P){for(var I=o._reactName,$=[];u!==null&&u!==g;){var H=u,G=H.alternate,J=H.stateNode;if(G!==null&&G===g)break;H.tag===5&&J!==null&&(H=J,P?(G=Ui(u,I),G!=null&&$.unshift(aa(u,G,H))):P||(G=Ui(u,I),G!=null&&$.push(aa(u,G,H)))),u=u.return}$.length!==0&&s.push({event:o,listeners:$})}var QC=/\r\n?/g,ZC=/\u0000|\uFFFD/g;function zv(s){return(typeof s=="string"?s:""+s).replace(QC,`
`).replace(ZC,"")}function Ac(s,o,u){if(o=zv(o),zv(s)!==o&&u)throw Error(r(425))}function $c(){}var uf=null,df=null;function ff(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,JC=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(s){return Bv.resolve(null).then(s).catch(tR)}:pf;function tR(s){setTimeout(function(){throw s})}function hf(s,o){var u=o,g=0;do{var P=u.nextSibling;if(s.removeChild(u),P&&P.nodeType===8)if(u=P.data,u==="/$"){if(g===0){s.removeChild(P),Qi(o);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=P}while(u);Qi(o)}function xs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Uv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),kn="__reactFiber$"+Wo,ca="__reactProps$"+Wo,Wn="__reactContainer$"+Wo,mf="__reactEvents$"+Wo,rR="__reactListeners$"+Wo,nR="__reactHandles$"+Wo;function Js(s){var o=s[kn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Wn]||u[kn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Uv(s);s!==null;){if(u=s[kn])return u;s=Uv(s)}return o}s=u,u=s.parentNode}return null}function la(s){return s=s[kn]||s[Wn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Fc(s){return s[ca]||null}var gf=[],Go=-1;function Cs(s){return{current:s}}function rt(s){0>Go||(s.current=gf[Go],gf[Go]=null,Go--)}function Ze(s,o){Go++,gf[Go]=s.current,s.current=o}var Rs={},Wt=Cs(Rs),ar=Cs(!1),eo=Rs;function Ko(s,o){var u=s.type.contextTypes;if(!u)return Rs;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in u)P[I]=o[I];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=P),P}function cr(s){return s=s.childContextTypes,s!=null}function zc(){rt(ar),rt(Wt)}function Vv(s,o,u){if(Wt.current!==Rs)throw Error(r(168));Ze(Wt,o),Ze(ar,u)}function Hv(s,o,u){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var P in g)if(!(P in o))throw Error(r(108,ue(s)||"Unknown",P));return q({},u,g)}function Bc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rs,eo=Wt.current,Ze(Wt,s),Ze(ar,ar.current),!0}function Wv(s,o,u){var g=s.stateNode;if(!g)throw Error(r(169));u?(s=Hv(s,o,eo),g.__reactInternalMemoizedMergedChildContext=s,rt(ar),rt(Wt),Ze(Wt,s)):rt(ar),Ze(ar,u)}var qn=null,Uc=!1,vf=!1;function qv(s){qn===null?qn=[s]:qn.push(s)}function sR(s){Uc=!0,qv(s)}function Es(){if(!vf&&qn!==null){vf=!0;var s=0,o=Ge;try{var u=qn;for(Ge=1;s<u.length;s++){var g=u[s];do g=g(!0);while(g!==null)}qn=null,Uc=!1}catch(P){throw qn!==null&&(qn=qn.slice(s+1)),Kg($d,Es),P}finally{Ge=o,vf=!1}}return null}var Yo=[],Xo=0,Vc=null,Hc=0,jr=[],Lr=0,to=null,Gn=1,Kn="";function ro(s,o){Yo[Xo++]=Hc,Yo[Xo++]=Vc,Vc=s,Hc=o}function Gv(s,o,u){jr[Lr++]=Gn,jr[Lr++]=Kn,jr[Lr++]=to,to=s;var g=Gn;s=Kn;var P=32-Kr(g)-1;g&=~(1<<P),u+=1;var I=32-Kr(o)+P;if(30<I){var $=P-P%5;I=(g&(1<<$)-1).toString(32),g>>=$,P-=$,Gn=1<<32-Kr(o)+P|u<<P|g,Kn=I+s}else Gn=1<<I|u<<P|g,Kn=s}function yf(s){s.return!==null&&(ro(s,1),Gv(s,1,0))}function wf(s){for(;s===Vc;)Vc=Yo[--Xo],Yo[Xo]=null,Hc=Yo[--Xo],Yo[Xo]=null;for(;s===to;)to=jr[--Lr],jr[Lr]=null,Kn=jr[--Lr],jr[Lr]=null,Gn=jr[--Lr],jr[Lr]=null}var _r=null,xr=null,it=!1,Xr=null;function Kv(s,o){var u=$r(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Yv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_r=s,xr=xs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_r=s,xr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=to!==null?{id:Gn,overflow:Kn}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=$r(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,_r=s,xr=null,!0):!1;default:return!1}}function Sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bf(s){if(it){var o=xr;if(o){var u=o;if(!Yv(s,o)){if(Sf(s))throw Error(r(418));o=xs(u.nextSibling);var g=_r;o&&Yv(s,o)?Kv(g,u):(s.flags=s.flags&-4097|2,it=!1,_r=s)}}else{if(Sf(s))throw Error(r(418));s.flags=s.flags&-4097|2,it=!1,_r=s}}}function Xv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_r=s}function Wc(s){if(s!==_r)return!1;if(!it)return Xv(s),it=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ff(s.type,s.memoizedProps)),o&&(o=xr)){if(Sf(s))throw Qv(),Error(r(418));for(;o;)Kv(s,o),o=xs(o.nextSibling)}if(Xv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){xr=xs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}xr=null}}else xr=_r?xs(s.stateNode.nextSibling):null;return!0}function Qv(){for(var s=xr;s;)s=xs(s.nextSibling)}function Qo(){xr=_r=null,it=!1}function _f(s){Xr===null?Xr=[s]:Xr.push(s)}var oR=p.ReactCurrentBatchConfig;function ua(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var g=u.stateNode}if(!g)throw Error(r(147,s));var P=g,I=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===I?o.ref:(o=function($){var H=P.refs;$===null?delete H[I]:H[I]=$},o._stringRef=I,o)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function qc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Zv(s){var o=s._init;return o(s._payload)}function Jv(s){function o(Q,Y){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[Y],Q.flags|=16):Z.push(Y)}}function u(Q,Y){if(!s)return null;for(;Y!==null;)o(Q,Y),Y=Y.sibling;return null}function g(Q,Y){for(Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function P(Q,Y){return Q=Ls(Q,Y),Q.index=0,Q.sibling=null,Q}function I(Q,Y,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<Y?(Q.flags|=2,Y):Z):(Q.flags|=2,Y)):(Q.flags|=1048576,Y)}function $(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function H(Q,Y,Z,le){return Y===null||Y.tag!==6?(Y=pp(Z,Q.mode,le),Y.return=Q,Y):(Y=P(Y,Z),Y.return=Q,Y)}function G(Q,Y,Z,le){var be=Z.type;return be===k?se(Q,Y,Z.props.children,le,Z.key):Y!==null&&(Y.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&Zv(be)===Y.type)?(le=P(Y,Z.props),le.ref=ua(Q,Y,Z),le.return=Q,le):(le=gl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=ua(Q,Y,Z),le.return=Q,le)}function J(Q,Y,Z,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=hp(Z,Q.mode,le),Y.return=Q,Y):(Y=P(Y,Z.children||[]),Y.return=Q,Y)}function se(Q,Y,Z,le,be){return Y===null||Y.tag!==7?(Y=uo(Z,Q.mode,le,be),Y.return=Q,Y):(Y=P(Y,Z),Y.return=Q,Y)}function ae(Q,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=pp(""+Y,Q.mode,Z),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case m:return Z=gl(Y.type,Y.key,Y.props,null,Q.mode,Z),Z.ref=ua(Q,null,Y),Z.return=Q,Z;case x:return Y=hp(Y,Q.mode,Z),Y.return=Q,Y;case O:var le=Y._init;return ae(Q,le(Y._payload),Z)}if(He(Y)||z(Y))return Y=uo(Y,Q.mode,Z,null),Y.return=Q,Y;qc(Q,Y)}return null}function ne(Q,Y,Z,le){var be=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return be!==null?null:H(Q,Y,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===be?G(Q,Y,Z,le):null;case x:return Z.key===be?J(Q,Y,Z,le):null;case O:return be=Z._init,ne(Q,Y,be(Z._payload),le)}if(He(Z)||z(Z))return be!==null?null:se(Q,Y,Z,le,null);qc(Q,Z)}return null}function pe(Q,Y,Z,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return Q=Q.get(Z)||null,H(Y,Q,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return Q=Q.get(le.key===null?Z:le.key)||null,G(Y,Q,le,be);case x:return Q=Q.get(le.key===null?Z:le.key)||null,J(Y,Q,le,be);case O:var _e=le._init;return pe(Q,Y,Z,_e(le._payload),be)}if(He(le)||z(le))return Q=Q.get(Z)||null,se(Y,Q,le,be,null);qc(Y,le)}return null}function ve(Q,Y,Z,le){for(var be=null,_e=null,xe=Y,Re=Y=0,Lt=null;xe!==null&&Re<Z.length;Re++){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var Ue=ne(Q,xe,Z[Re],le);if(Ue===null){xe===null&&(xe=Lt);break}s&&xe&&Ue.alternate===null&&o(Q,xe),Y=I(Ue,Y,Re),_e===null?be=Ue:_e.sibling=Ue,_e=Ue,xe=Lt}if(Re===Z.length)return u(Q,xe),it&&ro(Q,Re),be;if(xe===null){for(;Re<Z.length;Re++)xe=ae(Q,Z[Re],le),xe!==null&&(Y=I(xe,Y,Re),_e===null?be=xe:_e.sibling=xe,_e=xe);return it&&ro(Q,Re),be}for(xe=g(Q,xe);Re<Z.length;Re++)Lt=pe(xe,Q,Re,Z[Re],le),Lt!==null&&(s&&Lt.alternate!==null&&xe.delete(Lt.key===null?Re:Lt.key),Y=I(Lt,Y,Re),_e===null?be=Lt:_e.sibling=Lt,_e=Lt);return s&&xe.forEach(function(Os){return o(Q,Os)}),it&&ro(Q,Re),be}function we(Q,Y,Z,le){var be=z(Z);if(typeof be!="function")throw Error(r(150));if(Z=be.call(Z),Z==null)throw Error(r(151));for(var _e=be=null,xe=Y,Re=Y=0,Lt=null,Ue=Z.next();xe!==null&&!Ue.done;Re++,Ue=Z.next()){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var Os=ne(Q,xe,Ue.value,le);if(Os===null){xe===null&&(xe=Lt);break}s&&xe&&Os.alternate===null&&o(Q,xe),Y=I(Os,Y,Re),_e===null?be=Os:_e.sibling=Os,_e=Os,xe=Lt}if(Ue.done)return u(Q,xe),it&&ro(Q,Re),be;if(xe===null){for(;!Ue.done;Re++,Ue=Z.next())Ue=ae(Q,Ue.value,le),Ue!==null&&(Y=I(Ue,Y,Re),_e===null?be=Ue:_e.sibling=Ue,_e=Ue);return it&&ro(Q,Re),be}for(xe=g(Q,xe);!Ue.done;Re++,Ue=Z.next())Ue=pe(xe,Q,Re,Ue.value,le),Ue!==null&&(s&&Ue.alternate!==null&&xe.delete(Ue.key===null?Re:Ue.key),Y=I(Ue,Y,Re),_e===null?be=Ue:_e.sibling=Ue,_e=Ue);return s&&xe.forEach(function($R){return o(Q,$R)}),it&&ro(Q,Re),be}function St(Q,Y,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var be=Z.key,_e=Y;_e!==null;){if(_e.key===be){if(be=Z.type,be===k){if(_e.tag===7){u(Q,_e.sibling),Y=P(_e,Z.props.children),Y.return=Q,Q=Y;break e}}else if(_e.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&Zv(be)===_e.type){u(Q,_e.sibling),Y=P(_e,Z.props),Y.ref=ua(Q,_e,Z),Y.return=Q,Q=Y;break e}u(Q,_e);break}else o(Q,_e);_e=_e.sibling}Z.type===k?(Y=uo(Z.props.children,Q.mode,le,Z.key),Y.return=Q,Q=Y):(le=gl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=ua(Q,Y,Z),le.return=Q,Q=le)}return $(Q);case x:e:{for(_e=Z.key;Y!==null;){if(Y.key===_e)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){u(Q,Y.sibling),Y=P(Y,Z.children||[]),Y.return=Q,Q=Y;break e}else{u(Q,Y);break}else o(Q,Y);Y=Y.sibling}Y=hp(Z,Q.mode,le),Y.return=Q,Q=Y}return $(Q);case O:return _e=Z._init,St(Q,Y,_e(Z._payload),le)}if(He(Z))return ve(Q,Y,Z,le);if(z(Z))return we(Q,Y,Z,le);qc(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,Y!==null&&Y.tag===6?(u(Q,Y.sibling),Y=P(Y,Z),Y.return=Q,Q=Y):(u(Q,Y),Y=pp(Z,Q.mode,le),Y.return=Q,Q=Y),$(Q)):u(Q,Y)}return St}var Zo=Jv(!0),ey=Jv(!1),Gc=Cs(null),Kc=null,Jo=null,xf=null;function Cf(){xf=Jo=Kc=null}function Rf(s){var o=Gc.current;rt(Gc),s._currentValue=o}function Ef(s,o,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===u)break;s=s.return}}function ei(s,o){Kc=s,xf=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(lr=!0),s.firstContext=null)}function Or(s){var o=s._currentValue;if(xf!==s)if(s={context:s,memoizedValue:o,next:null},Jo===null){if(Kc===null)throw Error(r(308));Jo=s,Kc.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return o}var no=null;function Tf(s){no===null?no=[s]:no.push(s)}function ty(s,o,u,g){var P=o.interleaved;return P===null?(u.next=u,Tf(o)):(u.next=P.next,P.next=u),o.interleaved=u,Yn(s,g)}function Yn(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ts=!1;function Pf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ps(s,o,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Fe&2)!==0){var P=g.pending;return P===null?o.next=o:(o.next=P.next,P.next=o),g.pending=o,Yn(s,u)}return P=g.interleaved,P===null?(o.next=o,Tf(g)):(o.next=P.next,P.next=o),g.interleaved=o,Yn(s,u)}function Yc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Bd(s,u)}}function ny(s,o){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var P=null,I=null;if(u=u.firstBaseUpdate,u!==null){do{var $={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};I===null?P=I=$:I=I.next=$,u=u.next}while(u!==null);I===null?P=I=o:I=I.next=o}else P=I=o;u={baseState:g.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:g.shared,effects:g.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Xc(s,o,u,g){var P=s.updateQueue;Ts=!1;var I=P.firstBaseUpdate,$=P.lastBaseUpdate,H=P.shared.pending;if(H!==null){P.shared.pending=null;var G=H,J=G.next;G.next=null,$===null?I=J:$.next=J,$=G;var se=s.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==$&&(H===null?se.firstBaseUpdate=J:H.next=J,se.lastBaseUpdate=G))}if(I!==null){var ae=P.baseState;$=0,se=J=G=null,H=I;do{var ne=H.lane,pe=H.eventTime;if((g&ne)===ne){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ve=s,we=H;switch(ne=o,pe=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ae=ve.call(pe,ae,ne);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ne=typeof ve=="function"?ve.call(pe,ae,ne):ve,ne==null)break e;ae=q({},ae,ne);break e;case 2:Ts=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ne=P.effects,ne===null?P.effects=[H]:ne.push(H))}else pe={eventTime:pe,lane:ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(J=se=pe,G=ae):se=se.next=pe,$|=ne;if(H=H.next,H===null){if(H=P.shared.pending,H===null)break;ne=H,H=ne.next,ne.next=null,P.lastBaseUpdate=ne,P.shared.pending=null}}while(!0);if(se===null&&(G=ae),P.baseState=G,P.firstBaseUpdate=J,P.lastBaseUpdate=se,o=P.shared.interleaved,o!==null){P=o;do $|=P.lane,P=P.next;while(P!==o)}else I===null&&(P.shared.lanes=0);io|=$,s.lanes=$,s.memoizedState=ae}}function sy(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],P=g.callback;if(P!==null){if(g.callback=null,g=u,typeof P!="function")throw Error(r(191,P));P.call(g)}}}var da={},Dn=Cs(da),fa=Cs(da),pa=Cs(da);function so(s){if(s===da)throw Error(r(174));return s}function kf(s,o){switch(Ze(pa,o),Ze(fa,s),Ze(Dn,da),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pe(o,s)}rt(Dn),Ze(Dn,o)}function ti(){rt(Dn),rt(fa),rt(pa)}function oy(s){so(pa.current);var o=so(Dn.current),u=Pe(o,s.type);o!==u&&(Ze(fa,s),Ze(Dn,u))}function Df(s){fa.current===s&&(rt(Dn),rt(fa))}var ft=Cs(0);function Qc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var If=[];function Mf(){for(var s=0;s<If.length;s++)If[s]._workInProgressVersionPrimary=null;If.length=0}var Zc=p.ReactCurrentDispatcher,jf=p.ReactCurrentBatchConfig,oo=0,pt=null,Pt=null,Mt=null,Jc=!1,ha=!1,ma=0,iR=0;function qt(){throw Error(r(321))}function Lf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Yr(s[u],o[u]))return!1;return!0}function Of(s,o,u,g,P,I){if(oo=I,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Zc.current=s===null||s.memoizedState===null?uR:dR,s=u(g,P),ha){I=0;do{if(ha=!1,ma=0,25<=I)throw Error(r(301));I+=1,Mt=Pt=null,o.updateQueue=null,Zc.current=fR,s=u(g,P)}while(ha)}if(Zc.current=rl,o=Pt!==null&&Pt.next!==null,oo=0,Mt=Pt=pt=null,Jc=!1,o)throw Error(r(300));return s}function Nf(){var s=ma!==0;return ma=0,s}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?pt.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function Nr(){if(Pt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var o=Mt===null?pt.memoizedState:Mt.next;if(o!==null)Mt=o,Pt=s;else{if(s===null)throw Error(r(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Mt===null?pt.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}function ga(s,o){return typeof o=="function"?o(s):o}function Af(s){var o=Nr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var g=Pt,P=g.baseQueue,I=u.pending;if(I!==null){if(P!==null){var $=P.next;P.next=I.next,I.next=$}g.baseQueue=P=I,u.pending=null}if(P!==null){I=P.next,g=g.baseState;var H=$=null,G=null,J=I;do{var se=J.lane;if((oo&se)===se)G!==null&&(G=G.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:s(g,J.action);else{var ae={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};G===null?(H=G=ae,$=g):G=G.next=ae,pt.lanes|=se,io|=se}J=J.next}while(J!==null&&J!==I);G===null?$=g:G.next=H,Yr(g,o.memoizedState)||(lr=!0),o.memoizedState=g,o.baseState=$,o.baseQueue=G,u.lastRenderedState=g}if(s=u.interleaved,s!==null){P=s;do I=P.lane,pt.lanes|=I,io|=I,P=P.next;while(P!==s)}else P===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function $f(s){var o=Nr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var g=u.dispatch,P=u.pending,I=o.memoizedState;if(P!==null){u.pending=null;var $=P=P.next;do I=s(I,$.action),$=$.next;while($!==P);Yr(I,o.memoizedState)||(lr=!0),o.memoizedState=I,o.baseQueue===null&&(o.baseState=I),u.lastRenderedState=I}return[I,g]}function iy(){}function ay(s,o){var u=pt,g=Nr(),P=o(),I=!Yr(g.memoizedState,P);if(I&&(g.memoizedState=P,lr=!0),g=g.queue,Ff(uy.bind(null,u,g,s),[s]),g.getSnapshot!==o||I||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,va(9,ly.bind(null,u,g,P,o),void 0,null),jt===null)throw Error(r(349));(oo&30)!==0||cy(u,o,P)}return P}function cy(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function ly(s,o,u,g){o.value=u,o.getSnapshot=g,dy(o)&&fy(s)}function uy(s,o,u){return u(function(){dy(o)&&fy(s)})}function dy(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Yr(s,u)}catch{return!0}}function fy(s){var o=Yn(s,1);o!==null&&en(o,s,1,-1)}function py(s){var o=In();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:s},o.queue=s,s=s.dispatch=lR.bind(null,pt,s),[o.memoizedState,s]}function va(s,o,u,g){return s={tag:s,create:o,destroy:u,deps:g,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,o.lastEffect=s)),s}function hy(){return Nr().memoizedState}function el(s,o,u,g){var P=In();pt.flags|=s,P.memoizedState=va(1|o,u,void 0,g===void 0?null:g)}function tl(s,o,u,g){var P=Nr();g=g===void 0?null:g;var I=void 0;if(Pt!==null){var $=Pt.memoizedState;if(I=$.destroy,g!==null&&Lf(g,$.deps)){P.memoizedState=va(o,u,I,g);return}}pt.flags|=s,P.memoizedState=va(1|o,u,I,g)}function my(s,o){return el(8390656,8,s,o)}function Ff(s,o){return tl(2048,8,s,o)}function gy(s,o){return tl(4,2,s,o)}function vy(s,o){return tl(4,4,s,o)}function yy(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wy(s,o,u){return u=u!=null?u.concat([s]):null,tl(4,4,yy.bind(null,o,s),u)}function zf(){}function Sy(s,o){var u=Nr();o=o===void 0?null:o;var g=u.memoizedState;return g!==null&&o!==null&&Lf(o,g[1])?g[0]:(u.memoizedState=[s,o],s)}function by(s,o){var u=Nr();o=o===void 0?null:o;var g=u.memoizedState;return g!==null&&o!==null&&Lf(o,g[1])?g[0]:(s=s(),u.memoizedState=[s,o],s)}function _y(s,o,u){return(oo&21)===0?(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=u):(Yr(u,o)||(u=Zg(),pt.lanes|=u,io|=u,s.baseState=!0),o)}function aR(s,o){var u=Ge;Ge=u!==0&&4>u?u:4,s(!0);var g=jf.transition;jf.transition={};try{s(!1),o()}finally{Ge=u,jf.transition=g}}function xy(){return Nr().memoizedState}function cR(s,o,u){var g=Ms(s);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},Cy(s))Ry(o,u);else if(u=ty(s,o,u,g),u!==null){var P=er();en(u,s,g,P),Ey(u,o,g)}}function lR(s,o,u){var g=Ms(s),P={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cy(s))Ry(o,P);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=o.lastRenderedReducer,I!==null))try{var $=o.lastRenderedState,H=I($,u);if(P.hasEagerState=!0,P.eagerState=H,Yr(H,$)){var G=o.interleaved;G===null?(P.next=P,Tf(o)):(P.next=G.next,G.next=P),o.interleaved=P;return}}catch{}finally{}u=ty(s,o,P,g),u!==null&&(P=er(),en(u,s,g,P),Ey(u,o,g))}}function Cy(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function Ry(s,o){ha=Jc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Ey(s,o,u){if((u&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,u|=g,o.lanes=u,Bd(s,u)}}var rl={readContext:Or,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},uR={readContext:Or,useCallback:function(s,o){return In().memoizedState=[s,o===void 0?null:o],s},useContext:Or,useEffect:my,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,el(4194308,4,yy.bind(null,o,s),u)},useLayoutEffect:function(s,o){return el(4194308,4,s,o)},useInsertionEffect:function(s,o){return el(4,2,s,o)},useMemo:function(s,o){var u=In();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var g=In();return o=u!==void 0?u(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=cR.bind(null,pt,s),[g.memoizedState,s]},useRef:function(s){var o=In();return s={current:s},o.memoizedState=s},useState:py,useDebugValue:zf,useDeferredValue:function(s){return In().memoizedState=s},useTransition:function(){var s=py(!1),o=s[0];return s=aR.bind(null,s[1]),In().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var g=pt,P=In();if(it){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),jt===null)throw Error(r(349));(oo&30)!==0||cy(g,o,u)}P.memoizedState=u;var I={value:u,getSnapshot:o};return P.queue=I,my(uy.bind(null,g,I,s),[s]),g.flags|=2048,va(9,ly.bind(null,g,I,u,o),void 0,null),u},useId:function(){var s=In(),o=jt.identifierPrefix;if(it){var u=Kn,g=Gn;u=(g&~(1<<32-Kr(g)-1)).toString(32)+u,o=":"+o+"R"+u,u=ma++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=iR++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},dR={readContext:Or,useCallback:Sy,useContext:Or,useEffect:Ff,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:by,useReducer:Af,useRef:hy,useState:function(){return Af(ga)},useDebugValue:zf,useDeferredValue:function(s){var o=Nr();return _y(o,Pt.memoizedState,s)},useTransition:function(){var s=Af(ga)[0],o=Nr().memoizedState;return[s,o]},useMutableSource:iy,useSyncExternalStore:ay,useId:xy,unstable_isNewReconciler:!1},fR={readContext:Or,useCallback:Sy,useContext:Or,useEffect:Ff,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:by,useReducer:$f,useRef:hy,useState:function(){return $f(ga)},useDebugValue:zf,useDeferredValue:function(s){var o=Nr();return Pt===null?o.memoizedState=s:_y(o,Pt.memoizedState,s)},useTransition:function(){var s=$f(ga)[0],o=Nr().memoizedState;return[s,o]},useMutableSource:iy,useSyncExternalStore:ay,useId:xy,unstable_isNewReconciler:!1};function Qr(s,o){if(s&&s.defaultProps){o=q({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Bf(s,o,u,g){o=s.memoizedState,u=u(g,o),u=u==null?o:q({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var nl={isMounted:function(s){return(s=s._reactInternals)?Zs(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var g=er(),P=Ms(s),I=Xn(g,P);I.payload=o,u!=null&&(I.callback=u),o=Ps(s,I,P),o!==null&&(en(o,s,P,g),Yc(o,s,P))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var g=er(),P=Ms(s),I=Xn(g,P);I.tag=1,I.payload=o,u!=null&&(I.callback=u),o=Ps(s,I,P),o!==null&&(en(o,s,P,g),Yc(o,s,P))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=er(),g=Ms(s),P=Xn(u,g);P.tag=2,o!=null&&(P.callback=o),o=Ps(s,P,g),o!==null&&(en(o,s,g,u),Yc(o,s,g))}};function Ty(s,o,u,g,P,I,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,I,$):o.prototype&&o.prototype.isPureReactComponent?!na(u,g)||!na(P,I):!0}function Py(s,o,u){var g=!1,P=Rs,I=o.contextType;return typeof I=="object"&&I!==null?I=Or(I):(P=cr(o)?eo:Wt.current,g=o.contextTypes,I=(g=g!=null)?Ko(s,P):Rs),o=new o(u,I),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nl,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=P,s.__reactInternalMemoizedMaskedChildContext=I),o}function ky(s,o,u,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,g),o.state!==s&&nl.enqueueReplaceState(o,o.state,null)}function Uf(s,o,u,g){var P=s.stateNode;P.props=u,P.state=s.memoizedState,P.refs={},Pf(s);var I=o.contextType;typeof I=="object"&&I!==null?P.context=Or(I):(I=cr(o)?eo:Wt.current,P.context=Ko(s,I)),P.state=s.memoizedState,I=o.getDerivedStateFromProps,typeof I=="function"&&(Bf(s,o,I,u),P.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(o=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),o!==P.state&&nl.enqueueReplaceState(P,P.state,null),Xc(s,u,P,g),P.state=s.memoizedState),typeof P.componentDidMount=="function"&&(s.flags|=4194308)}function ri(s,o){try{var u="",g=o;do u+=ee(g),g=g.return;while(g);var P=u}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:o,stack:P,digest:null}}function Vf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Hf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var pR=typeof WeakMap=="function"?WeakMap:Map;function Dy(s,o,u){u=Xn(-1,u),u.tag=3,u.payload={element:null};var g=o.value;return u.callback=function(){ul||(ul=!0,op=g),Hf(s,o)},u}function Iy(s,o,u){u=Xn(-1,u),u.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var P=o.value;u.payload=function(){return g(P)},u.callback=function(){Hf(s,o)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(u.callback=function(){Hf(s,o),typeof g!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),u}function My(s,o,u){var g=s.pingCache;if(g===null){g=s.pingCache=new pR;var P=new Set;g.set(o,P)}else P=g.get(o),P===void 0&&(P=new Set,g.set(o,P));P.has(u)||(P.add(u),s=TR.bind(null,s,o,u),o.then(s,s))}function jy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ly(s,o,u,g,P){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Xn(-1,1),o.tag=2,Ps(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=P,s)}var hR=p.ReactCurrentOwner,lr=!1;function Jt(s,o,u,g){o.child=s===null?ey(o,null,u,g):Zo(o,s.child,u,g)}function Oy(s,o,u,g,P){u=u.render;var I=o.ref;return ei(o,P),g=Of(s,o,u,g,I,P),u=Nf(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~P,Qn(s,o,P)):(it&&u&&yf(o),o.flags|=1,Jt(s,o,g,P),o.child)}function Ny(s,o,u,g,P){if(s===null){var I=u.type;return typeof I=="function"&&!fp(I)&&I.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=I,Ay(s,o,I,g,P)):(s=gl(u.type,null,g,o,o.mode,P),s.ref=o.ref,s.return=o,o.child=s)}if(I=s.child,(s.lanes&P)===0){var $=I.memoizedProps;if(u=u.compare,u=u!==null?u:na,u($,g)&&s.ref===o.ref)return Qn(s,o,P)}return o.flags|=1,s=Ls(I,g),s.ref=o.ref,s.return=o,o.child=s}function Ay(s,o,u,g,P){if(s!==null){var I=s.memoizedProps;if(na(I,g)&&s.ref===o.ref)if(lr=!1,o.pendingProps=g=I,(s.lanes&P)!==0)(s.flags&131072)!==0&&(lr=!0);else return o.lanes=s.lanes,Qn(s,o,P)}return Wf(s,o,u,g,P)}function $y(s,o,u){var g=o.pendingProps,P=g.children,I=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(si,Cr),Cr|=u;else{if((u&1073741824)===0)return s=I!==null?I.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ze(si,Cr),Cr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:u,Ze(si,Cr),Cr|=g}else I!==null?(g=I.baseLanes|u,o.memoizedState=null):g=u,Ze(si,Cr),Cr|=g;return Jt(s,o,P,u),o.child}function Fy(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Wf(s,o,u,g,P){var I=cr(u)?eo:Wt.current;return I=Ko(o,I),ei(o,P),u=Of(s,o,u,g,I,P),g=Nf(),s!==null&&!lr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~P,Qn(s,o,P)):(it&&g&&yf(o),o.flags|=1,Jt(s,o,u,P),o.child)}function zy(s,o,u,g,P){if(cr(u)){var I=!0;Bc(o)}else I=!1;if(ei(o,P),o.stateNode===null)ol(s,o),Py(o,u,g),Uf(o,u,g,P),g=!0;else if(s===null){var $=o.stateNode,H=o.memoizedProps;$.props=H;var G=$.context,J=u.contextType;typeof J=="object"&&J!==null?J=Or(J):(J=cr(u)?eo:Wt.current,J=Ko(o,J));var se=u.getDerivedStateFromProps,ae=typeof se=="function"||typeof $.getSnapshotBeforeUpdate=="function";ae||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==g||G!==J)&&ky(o,$,g,J),Ts=!1;var ne=o.memoizedState;$.state=ne,Xc(o,g,$,P),G=o.memoizedState,H!==g||ne!==G||ar.current||Ts?(typeof se=="function"&&(Bf(o,u,se,g),G=o.memoizedState),(H=Ts||Ty(o,u,H,g,ne,G,J))?(ae||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=G),$.props=g,$.state=G,$.context=J,g=H):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{$=o.stateNode,ry(s,o),H=o.memoizedProps,J=o.type===o.elementType?H:Qr(o.type,H),$.props=J,ae=o.pendingProps,ne=$.context,G=u.contextType,typeof G=="object"&&G!==null?G=Or(G):(G=cr(u)?eo:Wt.current,G=Ko(o,G));var pe=u.getDerivedStateFromProps;(se=typeof pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==ae||ne!==G)&&ky(o,$,g,G),Ts=!1,ne=o.memoizedState,$.state=ne,Xc(o,g,$,P);var ve=o.memoizedState;H!==ae||ne!==ve||ar.current||Ts?(typeof pe=="function"&&(Bf(o,u,pe,g),ve=o.memoizedState),(J=Ts||Ty(o,u,J,g,ne,ve,G)||!1)?(se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,ve,G),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,ve,G)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ve),$.props=g,$.state=ve,$.context=G,g=J):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),g=!1)}return qf(s,o,u,g,I,P)}function qf(s,o,u,g,P,I){Fy(s,o);var $=(o.flags&128)!==0;if(!g&&!$)return P&&Wv(o,u,!1),Qn(s,o,I);g=o.stateNode,hR.current=o;var H=$&&typeof u.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&$?(o.child=Zo(o,s.child,null,I),o.child=Zo(o,null,H,I)):Jt(s,o,H,I),o.memoizedState=g.state,P&&Wv(o,u,!0),o.child}function By(s){var o=s.stateNode;o.pendingContext?Vv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Vv(s,o.context,!1),kf(s,o.containerInfo)}function Uy(s,o,u,g,P){return Qo(),_f(P),o.flags|=256,Jt(s,o,u,g),o.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Kf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Vy(s,o,u){var g=o.pendingProps,P=ft.current,I=!1,$=(o.flags&128)!==0,H;if((H=$)||(H=s!==null&&s.memoizedState===null?!1:(P&2)!==0),H?(I=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(P|=1),Ze(ft,P&1),s===null)return bf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=g.children,s=g.fallback,I?(g=o.mode,I=o.child,$={mode:"hidden",children:$},(g&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=$):I=vl($,g,0,null),s=uo(s,g,u,null),I.return=o,s.return=o,I.sibling=s,o.child=I,o.child.memoizedState=Kf(u),o.memoizedState=Gf,s):Yf(o,$));if(P=s.memoizedState,P!==null&&(H=P.dehydrated,H!==null))return mR(s,o,$,g,H,P,u);if(I){I=g.fallback,$=o.mode,P=s.child,H=P.sibling;var G={mode:"hidden",children:g.children};return($&1)===0&&o.child!==P?(g=o.child,g.childLanes=0,g.pendingProps=G,o.deletions=null):(g=Ls(P,G),g.subtreeFlags=P.subtreeFlags&14680064),H!==null?I=Ls(H,I):(I=uo(I,$,u,null),I.flags|=2),I.return=o,g.return=o,g.sibling=I,o.child=g,g=I,I=o.child,$=s.child.memoizedState,$=$===null?Kf(u):{baseLanes:$.baseLanes|u,cachePool:null,transitions:$.transitions},I.memoizedState=$,I.childLanes=s.childLanes&~u,o.memoizedState=Gf,g}return I=s.child,s=I.sibling,g=Ls(I,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=u),g.return=o,g.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=g,o.memoizedState=null,g}function Yf(s,o){return o=vl({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function sl(s,o,u,g){return g!==null&&_f(g),Zo(o,s.child,null,u),s=Yf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function mR(s,o,u,g,P,I,$){if(u)return o.flags&256?(o.flags&=-257,g=Vf(Error(r(422))),sl(s,o,$,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(I=g.fallback,P=o.mode,g=vl({mode:"visible",children:g.children},P,0,null),I=uo(I,P,$,null),I.flags|=2,g.return=o,I.return=o,g.sibling=I,o.child=g,(o.mode&1)!==0&&Zo(o,s.child,null,$),o.child.memoizedState=Kf($),o.memoizedState=Gf,I);if((o.mode&1)===0)return sl(s,o,$,null);if(P.data==="$!"){if(g=P.nextSibling&&P.nextSibling.dataset,g)var H=g.dgst;return g=H,I=Error(r(419)),g=Vf(I,g,void 0),sl(s,o,$,g)}if(H=($&s.childLanes)!==0,lr||H){if(g=jt,g!==null){switch($&-$){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(g.suspendedLanes|$))!==0?0:P,P!==0&&P!==I.retryLane&&(I.retryLane=P,Yn(s,P),en(g,s,P,-1))}return dp(),g=Vf(Error(r(421))),sl(s,o,$,g)}return P.data==="$?"?(o.flags|=128,o.child=s.child,o=PR.bind(null,s),P._reactRetry=o,null):(s=I.treeContext,xr=xs(P.nextSibling),_r=o,it=!0,Xr=null,s!==null&&(jr[Lr++]=Gn,jr[Lr++]=Kn,jr[Lr++]=to,Gn=s.id,Kn=s.overflow,to=o),o=Yf(o,g.children),o.flags|=4096,o)}function Hy(s,o,u){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Ef(s.return,o,u)}function Xf(s,o,u,g,P){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:P}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=u,I.tailMode=P)}function Wy(s,o,u){var g=o.pendingProps,P=g.revealOrder,I=g.tail;if(Jt(s,o,g.children,u),g=ft.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hy(s,u,o);else if(s.tag===19)Hy(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Ze(ft,g),(o.mode&1)===0)o.memoizedState=null;else switch(P){case"forwards":for(u=o.child,P=null;u!==null;)s=u.alternate,s!==null&&Qc(s)===null&&(P=u),u=u.sibling;u=P,u===null?(P=o.child,o.child=null):(P=u.sibling,u.sibling=null),Xf(o,!1,P,u,I);break;case"backwards":for(u=null,P=o.child,o.child=null;P!==null;){if(s=P.alternate,s!==null&&Qc(s)===null){o.child=P;break}s=P.sibling,P.sibling=u,u=P,P=s}Xf(o,!0,u,null,I);break;case"together":Xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ol(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Qn(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),io|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Ls(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Ls(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function gR(s,o,u){switch(o.tag){case 3:By(o),Qo();break;case 5:oy(o);break;case 1:cr(o.type)&&Bc(o);break;case 4:kf(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,P=o.memoizedProps.value;Ze(Gc,g._currentValue),g._currentValue=P;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Ze(ft,ft.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Vy(s,o,u):(Ze(ft,ft.current&1),s=Qn(s,o,u),s!==null?s.sibling:null);Ze(ft,ft.current&1);break;case 19:if(g=(u&o.childLanes)!==0,(s.flags&128)!==0){if(g)return Wy(s,o,u);o.flags|=128}if(P=o.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ze(ft,ft.current),g)break;return null;case 22:case 23:return o.lanes=0,$y(s,o,u)}return Qn(s,o,u)}var qy,Qf,Gy,Ky;qy=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},Gy=function(s,o,u,g){var P=s.memoizedProps;if(P!==g){s=o.stateNode,so(Dn.current);var I=null;switch(u){case"input":P=Ve(s,P),g=Ve(s,g),I=[];break;case"select":P=q({},P,{value:void 0}),g=q({},g,{value:void 0}),I=[];break;case"textarea":P=lt(s,P),g=lt(s,g),I=[];break;default:typeof P.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=$c)}No(u,g);var $;u=null;for(J in P)if(!g.hasOwnProperty(J)&&P.hasOwnProperty(J)&&P[J]!=null)if(J==="style"){var H=P[J];for($ in H)H.hasOwnProperty($)&&(u||(u={}),u[$]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?I||(I=[]):(I=I||[]).push(J,null));for(J in g){var G=g[J];if(H=P!=null?P[J]:void 0,g.hasOwnProperty(J)&&G!==H&&(G!=null||H!=null))if(J==="style")if(H){for($ in H)!H.hasOwnProperty($)||G&&G.hasOwnProperty($)||(u||(u={}),u[$]="");for($ in G)G.hasOwnProperty($)&&H[$]!==G[$]&&(u||(u={}),u[$]=G[$])}else u||(I||(I=[]),I.push(J,u)),u=G;else J==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(I=I||[]).push(J,G)):J==="children"?typeof G!="string"&&typeof G!="number"||(I=I||[]).push(J,""+G):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(G!=null&&J==="onScroll"&&tt("scroll",s),I||H===G||(I=[])):(I=I||[]).push(J,G))}u&&(I=I||[]).push("style",u);var J=I;(o.updateQueue=J)&&(o.flags|=4)}},Ky=function(s,o,u,g){u!==g&&(o.flags|=4)};function ya(s,o){if(!it)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Gt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(o)for(var P=s.child;P!==null;)u|=P.lanes|P.childLanes,g|=P.subtreeFlags&14680064,g|=P.flags&14680064,P.return=s,P=P.sibling;else for(P=s.child;P!==null;)u|=P.lanes|P.childLanes,g|=P.subtreeFlags,g|=P.flags,P.return=s,P=P.sibling;return s.subtreeFlags|=g,s.childLanes=u,o}function vR(s,o,u){var g=o.pendingProps;switch(wf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return cr(o.type)&&zc(),Gt(o),null;case 3:return g=o.stateNode,ti(),rt(ar),rt(Wt),Mf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Wc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xr!==null&&(cp(Xr),Xr=null))),Qf(s,o),Gt(o),null;case 5:Df(o);var P=so(pa.current);if(u=o.type,s!==null&&o.stateNode!=null)Gy(s,o,u,g,P),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(s=so(Dn.current),Wc(o)){g=o.stateNode,u=o.type;var I=o.memoizedProps;switch(g[kn]=o,g[ca]=I,s=(o.mode&1)!==0,u){case"dialog":tt("cancel",g),tt("close",g);break;case"iframe":case"object":case"embed":tt("load",g);break;case"video":case"audio":for(P=0;P<oa.length;P++)tt(oa[P],g);break;case"source":tt("error",g);break;case"img":case"image":case"link":tt("error",g),tt("load",g);break;case"details":tt("toggle",g);break;case"input":Je(g,I),tt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},tt("invalid",g);break;case"textarea":It(g,I),tt("invalid",g)}No(u,I),P=null;for(var $ in I)if(I.hasOwnProperty($)){var H=I[$];$==="children"?typeof H=="string"?g.textContent!==H&&(I.suppressHydrationWarning!==!0&&Ac(g.textContent,H,s),P=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(I.suppressHydrationWarning!==!0&&Ac(g.textContent,H,s),P=["children",""+H]):i.hasOwnProperty($)&&H!=null&&$==="onScroll"&&tt("scroll",g)}switch(u){case"input":De(g),Tt(g,I,!0);break;case"textarea":De(g),Ot(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=$c)}g=P,o.updateQueue=g,g!==null&&(o.flags|=4)}else{$=P.nodeType===9?P:P.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Te(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(u,{is:g.is}):(s=$.createElement(u),u==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,u),s[kn]=o,s[ca]=g,qy(s,o,!1,!1),o.stateNode=s;e:{switch($=Id(u,g),u){case"dialog":tt("cancel",s),tt("close",s),P=g;break;case"iframe":case"object":case"embed":tt("load",s),P=g;break;case"video":case"audio":for(P=0;P<oa.length;P++)tt(oa[P],s);P=g;break;case"source":tt("error",s),P=g;break;case"img":case"image":case"link":tt("error",s),tt("load",s),P=g;break;case"details":tt("toggle",s),P=g;break;case"input":Je(s,g),P=Ve(s,g),tt("invalid",s);break;case"option":P=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},P=q({},g,{value:void 0}),tt("invalid",s);break;case"textarea":It(s,g),P=lt(s,g),tt("invalid",s);break;default:P=g}No(u,P),H=P;for(I in H)if(H.hasOwnProperty(I)){var G=H[I];I==="style"?dt(s,G):I==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Le(s,G)):I==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&yt(s,G):typeof G=="number"&&yt(s,""+G):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?G!=null&&I==="onScroll"&&tt("scroll",s):G!=null&&h(s,I,G,$))}switch(u){case"input":De(s),Tt(s,g,!1);break;case"textarea":De(s),Ot(s);break;case"option":g.value!=null&&s.setAttribute("value",""+me(g.value));break;case"select":s.multiple=!!g.multiple,I=g.value,I!=null?Ae(s,!!g.multiple,I,!1):g.defaultValue!=null&&Ae(s,!!g.multiple,g.defaultValue,!0);break;default:typeof P.onClick=="function"&&(s.onclick=$c)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(s&&o.stateNode!=null)Ky(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(u=so(pa.current),so(Dn.current),Wc(o)){if(g=o.stateNode,u=o.memoizedProps,g[kn]=o,(I=g.nodeValue!==u)&&(s=_r,s!==null))switch(s.tag){case 3:Ac(g.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ac(g.nodeValue,u,(s.mode&1)!==0)}I&&(o.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[kn]=o,o.stateNode=g}return Gt(o),null;case 13:if(rt(ft),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(it&&xr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qv(),Qo(),o.flags|=98560,I=!1;else if(I=Wc(o),g!==null&&g.dehydrated!==null){if(s===null){if(!I)throw Error(r(318));if(I=o.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[kn]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),I=!1}else Xr!==null&&(cp(Xr),Xr=null),I=!0;if(!I)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ft.current&1)!==0?kt===0&&(kt=3):dp())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return ti(),Qf(s,o),s===null&&ia(o.stateNode.containerInfo),Gt(o),null;case 10:return Rf(o.type._context),Gt(o),null;case 17:return cr(o.type)&&zc(),Gt(o),null;case 19:if(rt(ft),I=o.memoizedState,I===null)return Gt(o),null;if(g=(o.flags&128)!==0,$=I.rendering,$===null)if(g)ya(I,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if($=Qc(s),$!==null){for(o.flags|=128,ya(I,!1),g=$.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=u,u=o.child;u!==null;)I=u,s=g,I.flags&=14680066,$=I.alternate,$===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=$.childLanes,I.lanes=$.lanes,I.child=$.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=$.memoizedProps,I.memoizedState=$.memoizedState,I.updateQueue=$.updateQueue,I.type=$.type,s=$.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ze(ft,ft.current&1|2),o.child}s=s.sibling}I.tail!==null&&wt()>oi&&(o.flags|=128,g=!0,ya(I,!1),o.lanes=4194304)}else{if(!g)if(s=Qc($),s!==null){if(o.flags|=128,g=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ya(I,!0),I.tail===null&&I.tailMode==="hidden"&&!$.alternate&&!it)return Gt(o),null}else 2*wt()-I.renderingStartTime>oi&&u!==1073741824&&(o.flags|=128,g=!0,ya(I,!1),o.lanes=4194304);I.isBackwards?($.sibling=o.child,o.child=$):(u=I.last,u!==null?u.sibling=$:o.child=$,I.last=$)}return I.tail!==null?(o=I.tail,I.rendering=o,I.tail=o.sibling,I.renderingStartTime=wt(),o.sibling=null,u=ft.current,Ze(ft,g?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return up(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(Cr&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function yR(s,o){switch(wf(o),o.tag){case 1:return cr(o.type)&&zc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ti(),rt(ar),rt(Wt),Mf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Df(o),null;case 13:if(rt(ft),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Qo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(ft),null;case 4:return ti(),null;case 10:return Rf(o.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var il=!1,Kt=!1,wR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ni(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){gt(s,o,g)}else u.current=null}function Zf(s,o,u){try{u()}catch(g){gt(s,o,g)}}var Yy=!1;function SR(s,o){if(uf=Ec,s=Tv(),tf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var P=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{u.nodeType,I.nodeType}catch{u=null;break e}var $=0,H=-1,G=-1,J=0,se=0,ae=s,ne=null;t:for(;;){for(var pe;ae!==u||P!==0&&ae.nodeType!==3||(H=$+P),ae!==I||g!==0&&ae.nodeType!==3||(G=$+g),ae.nodeType===3&&($+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ne=ae,ae=pe;for(;;){if(ae===s)break t;if(ne===u&&++J===P&&(H=$),ne===I&&++se===g&&(G=$),(pe=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=pe}u=H===-1||G===-1?null:{start:H,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(df={focusedElem:s,selectionRange:u},Ec=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,St=ve.memoizedState,Q=o.stateNode,Y=Q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Qr(o.type,we),St);Q.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var Z=o.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){gt(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=Yy,Yy=!1,ve}function wa(s,o,u){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var P=g=g.next;do{if((P.tag&s)===s){var I=P.destroy;P.destroy=void 0,I!==void 0&&Zf(o,u,I)}P=P.next}while(P!==g)}}function al(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var g=u.create;u.destroy=g()}u=u.next}while(u!==o)}}function Jf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Xy(s){var o=s.alternate;o!==null&&(s.alternate=null,Xy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[kn],delete o[ca],delete o[mf],delete o[rR],delete o[nR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Qy(s){return s.tag===5||s.tag===3||s.tag===4}function Zy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ep(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=$c));else if(g!==4&&(s=s.child,s!==null))for(ep(s,o,u),s=s.sibling;s!==null;)ep(s,o,u),s=s.sibling}function tp(s,o,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(tp(s,o,u),s=s.sibling;s!==null;)tp(s,o,u),s=s.sibling}var Nt=null,Zr=!1;function ks(s,o,u){for(u=u.child;u!==null;)Jy(s,o,u),u=u.sibling}function Jy(s,o,u){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Sc,u)}catch{}switch(u.tag){case 5:Kt||ni(u,o);case 6:var g=Nt,P=Zr;Nt=null,ks(s,o,u),Nt=g,Zr=P,Nt!==null&&(Zr?(s=Nt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(Zr?(s=Nt,u=u.stateNode,s.nodeType===8?hf(s.parentNode,u):s.nodeType===1&&hf(s,u),Qi(s)):hf(Nt,u.stateNode));break;case 4:g=Nt,P=Zr,Nt=u.stateNode.containerInfo,Zr=!0,ks(s,o,u),Nt=g,Zr=P;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){P=g=g.next;do{var I=P,$=I.destroy;I=I.tag,$!==void 0&&((I&2)!==0||(I&4)!==0)&&Zf(u,o,$),P=P.next}while(P!==g)}ks(s,o,u);break;case 1:if(!Kt&&(ni(u,o),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(H){gt(u,o,H)}ks(s,o,u);break;case 21:ks(s,o,u);break;case 22:u.mode&1?(Kt=(g=Kt)||u.memoizedState!==null,ks(s,o,u),Kt=g):ks(s,o,u);break;default:ks(s,o,u)}}function ew(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new wR),o.forEach(function(g){var P=kR.bind(null,s,g);u.has(g)||(u.add(g),g.then(P,P))})}}function Jr(s,o){var u=o.deletions;if(u!==null)for(var g=0;g<u.length;g++){var P=u[g];try{var I=s,$=o,H=$;e:for(;H!==null;){switch(H.tag){case 5:Nt=H.stateNode,Zr=!1;break e;case 3:Nt=H.stateNode.containerInfo,Zr=!0;break e;case 4:Nt=H.stateNode.containerInfo,Zr=!0;break e}H=H.return}if(Nt===null)throw Error(r(160));Jy(I,$,P),Nt=null,Zr=!1;var G=P.alternate;G!==null&&(G.return=null),P.return=null}catch(J){gt(P,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)tw(o,s),o=o.sibling}function tw(s,o){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Jr(o,s),Mn(s),g&4){try{wa(3,s,s.return),al(3,s)}catch(we){gt(s,s.return,we)}try{wa(5,s,s.return)}catch(we){gt(s,s.return,we)}}break;case 1:Jr(o,s),Mn(s),g&512&&u!==null&&ni(u,u.return);break;case 5:if(Jr(o,s),Mn(s),g&512&&u!==null&&ni(u,u.return),s.flags&32){var P=s.stateNode;try{yt(P,"")}catch(we){gt(s,s.return,we)}}if(g&4&&(P=s.stateNode,P!=null)){var I=s.memoizedProps,$=u!==null?u.memoizedProps:I,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&I.type==="radio"&&I.name!=null&&et(P,I),Id(H,$);var J=Id(H,I);for($=0;$<G.length;$+=2){var se=G[$],ae=G[$+1];se==="style"?dt(P,ae):se==="dangerouslySetInnerHTML"?Le(P,ae):se==="children"?yt(P,ae):h(P,se,ae,J)}switch(H){case"input":Ye(P,I);break;case"textarea":ut(P,I);break;case"select":var ne=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!I.multiple;var pe=I.value;pe!=null?Ae(P,!!I.multiple,pe,!1):ne!==!!I.multiple&&(I.defaultValue!=null?Ae(P,!!I.multiple,I.defaultValue,!0):Ae(P,!!I.multiple,I.multiple?[]:"",!1))}P[ca]=I}catch(we){gt(s,s.return,we)}}break;case 6:if(Jr(o,s),Mn(s),g&4){if(s.stateNode===null)throw Error(r(162));P=s.stateNode,I=s.memoizedProps;try{P.nodeValue=I}catch(we){gt(s,s.return,we)}}break;case 3:if(Jr(o,s),Mn(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Qi(o.containerInfo)}catch(we){gt(s,s.return,we)}break;case 4:Jr(o,s),Mn(s);break;case 13:Jr(o,s),Mn(s),P=s.child,P.flags&8192&&(I=P.memoizedState!==null,P.stateNode.isHidden=I,!I||P.alternate!==null&&P.alternate.memoizedState!==null||(sp=wt())),g&4&&ew(s);break;case 22:if(se=u!==null&&u.memoizedState!==null,s.mode&1?(Kt=(J=Kt)||se,Jr(o,s),Kt=J):Jr(o,s),Mn(s),g&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!se&&(s.mode&1)!==0)for(ge=s,se=s.child;se!==null;){for(ae=ge=se;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:wa(4,ne,ne.return);break;case 1:ni(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){g=ne,u=ne.return;try{o=g,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){gt(g,u,we)}}break;case 5:ni(ne,ne.return);break;case 22:if(ne.memoizedState!==null){sw(ae);continue}}pe!==null?(pe.return=ne,ge=pe):sw(ae)}se=se.sibling}e:for(se=null,ae=s;;){if(ae.tag===5){if(se===null){se=ae;try{P=ae.stateNode,J?(I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(H=ae.stateNode,G=ae.memoizedProps.style,$=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=Se("display",$))}catch(we){gt(s,s.return,we)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(we){gt(s,s.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Jr(o,s),Mn(s),g&4&&ew(s);break;case 21:break;default:Jr(o,s),Mn(s)}}function Mn(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Qy(u)){var g=u;break e}u=u.return}throw Error(r(160))}switch(g.tag){case 5:var P=g.stateNode;g.flags&32&&(yt(P,""),g.flags&=-33);var I=Zy(s);tp(s,I,P);break;case 3:case 4:var $=g.stateNode.containerInfo,H=Zy(s);ep(s,H,$);break;default:throw Error(r(161))}}catch(G){gt(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function bR(s,o,u){ge=s,rw(s)}function rw(s,o,u){for(var g=(s.mode&1)!==0;ge!==null;){var P=ge,I=P.child;if(P.tag===22&&g){var $=P.memoizedState!==null||il;if(!$){var H=P.alternate,G=H!==null&&H.memoizedState!==null||Kt;H=il;var J=Kt;if(il=$,(Kt=G)&&!J)for(ge=P;ge!==null;)$=ge,G=$.child,$.tag===22&&$.memoizedState!==null?ow(P):G!==null?(G.return=$,ge=G):ow(P);for(;I!==null;)ge=I,rw(I),I=I.sibling;ge=P,il=H,Kt=J}nw(s)}else(P.subtreeFlags&8772)!==0&&I!==null?(I.return=P,ge=I):nw(s)}}function nw(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||al(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Kt)if(u===null)g.componentDidMount();else{var P=o.elementType===o.type?u.memoizedProps:Qr(o.type,u.memoizedProps);g.componentDidUpdate(P,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=o.updateQueue;I!==null&&sy(o,I,g);break;case 3:var $=o.updateQueue;if($!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}sy(o,$,u)}break;case 5:var H=o.stateNode;if(u===null&&o.flags&4){u=H;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Qi(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||o.flags&512&&Jf(o)}catch(ne){gt(o,o.return,ne)}}if(o===s){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function sw(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function ow(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{al(4,o)}catch(G){gt(o,u,G)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var P=o.return;try{g.componentDidMount()}catch(G){gt(o,P,G)}}var I=o.return;try{Jf(o)}catch(G){gt(o,I,G)}break;case 5:var $=o.return;try{Jf(o)}catch(G){gt(o,$,G)}}}catch(G){gt(o,o.return,G)}if(o===s){ge=null;break}var H=o.sibling;if(H!==null){H.return=o.return,ge=H;break}ge=o.return}}var _R=Math.ceil,cl=p.ReactCurrentDispatcher,rp=p.ReactCurrentOwner,Ar=p.ReactCurrentBatchConfig,Fe=0,jt=null,_t=null,At=0,Cr=0,si=Cs(0),kt=0,Sa=null,io=0,ll=0,np=0,ba=null,ur=null,sp=0,oi=1/0,Zn=null,ul=!1,op=null,Ds=null,dl=!1,Is=null,fl=0,_a=0,ip=null,pl=-1,hl=0;function er(){return(Fe&6)!==0?wt():pl!==-1?pl:pl=wt()}function Ms(s){return(s.mode&1)===0?1:(Fe&2)!==0&&At!==0?At&-At:oR.transition!==null?(hl===0&&(hl=Zg()),hl):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:av(s.type)),s)}function en(s,o,u,g){if(50<_a)throw _a=0,ip=null,Error(r(185));qi(s,u,g),((Fe&2)===0||s!==jt)&&(s===jt&&((Fe&2)===0&&(ll|=u),kt===4&&js(s,At)),dr(s,g),u===1&&Fe===0&&(o.mode&1)===0&&(oi=wt()+500,Uc&&Es()))}function dr(s,o){var u=s.callbackNode;oC(s,o);var g=xc(s,s===jt?At:0);if(g===0)u!==null&&Yg(u),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(u!=null&&Yg(u),o===1)s.tag===0?sR(aw.bind(null,s)):qv(aw.bind(null,s)),eR(function(){(Fe&6)===0&&Es()}),u=null;else{switch(Jg(g)){case 1:u=$d;break;case 4:u=Xg;break;case 16:u=wc;break;case 536870912:u=Qg;break;default:u=wc}u=mw(u,iw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function iw(s,o){if(pl=-1,hl=0,(Fe&6)!==0)throw Error(r(327));var u=s.callbackNode;if(ii()&&s.callbackNode!==u)return null;var g=xc(s,s===jt?At:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=ml(s,g);else{o=g;var P=Fe;Fe|=2;var I=lw();(jt!==s||At!==o)&&(Zn=null,oi=wt()+500,co(s,o));do try{RR();break}catch(H){cw(s,H)}while(!0);Cf(),cl.current=I,Fe=P,_t!==null?o=0:(jt=null,At=0,o=kt)}if(o!==0){if(o===2&&(P=Fd(s),P!==0&&(g=P,o=ap(s,P))),o===1)throw u=Sa,co(s,0),js(s,g),dr(s,wt()),u;if(o===6)js(s,g);else{if(P=s.current.alternate,(g&30)===0&&!xR(P)&&(o=ml(s,g),o===2&&(I=Fd(s),I!==0&&(g=I,o=ap(s,I))),o===1))throw u=Sa,co(s,0),js(s,g),dr(s,wt()),u;switch(s.finishedWork=P,s.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:lo(s,ur,Zn);break;case 3:if(js(s,g),(g&130023424)===g&&(o=sp+500-wt(),10<o)){if(xc(s,0)!==0)break;if(P=s.suspendedLanes,(P&g)!==g){er(),s.pingedLanes|=s.suspendedLanes&P;break}s.timeoutHandle=pf(lo.bind(null,s,ur,Zn),o);break}lo(s,ur,Zn);break;case 4:if(js(s,g),(g&4194240)===g)break;for(o=s.eventTimes,P=-1;0<g;){var $=31-Kr(g);I=1<<$,$=o[$],$>P&&(P=$),g&=~I}if(g=P,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*_R(g/1960))-g,10<g){s.timeoutHandle=pf(lo.bind(null,s,ur,Zn),g);break}lo(s,ur,Zn);break;case 5:lo(s,ur,Zn);break;default:throw Error(r(329))}}}return dr(s,wt()),s.callbackNode===u?iw.bind(null,s):null}function ap(s,o){var u=ba;return s.current.memoizedState.isDehydrated&&(co(s,o).flags|=256),s=ml(s,o),s!==2&&(o=ur,ur=u,o!==null&&cp(o)),s}function cp(s){ur===null?ur=s:ur.push.apply(ur,s)}function xR(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var P=u[g],I=P.getSnapshot;P=P.value;try{if(!Yr(I(),P))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function js(s,o){for(o&=~np,o&=~ll,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Kr(o),g=1<<u;s[u]=-1,o&=~g}}function aw(s){if((Fe&6)!==0)throw Error(r(327));ii();var o=xc(s,0);if((o&1)===0)return dr(s,wt()),null;var u=ml(s,o);if(s.tag!==0&&u===2){var g=Fd(s);g!==0&&(o=g,u=ap(s,g))}if(u===1)throw u=Sa,co(s,0),js(s,o),dr(s,wt()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,ur,Zn),dr(s,wt()),null}function lp(s,o){var u=Fe;Fe|=1;try{return s(o)}finally{Fe=u,Fe===0&&(oi=wt()+500,Uc&&Es())}}function ao(s){Is!==null&&Is.tag===0&&(Fe&6)===0&&ii();var o=Fe;Fe|=1;var u=Ar.transition,g=Ge;try{if(Ar.transition=null,Ge=1,s)return s()}finally{Ge=g,Ar.transition=u,Fe=o,(Fe&6)===0&&Es()}}function up(){Cr=si.current,rt(si)}function co(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,JC(u)),_t!==null)for(u=_t.return;u!==null;){var g=u;switch(wf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&zc();break;case 3:ti(),rt(ar),rt(Wt),Mf();break;case 5:Df(g);break;case 4:ti();break;case 13:rt(ft);break;case 19:rt(ft);break;case 10:Rf(g.type._context);break;case 22:case 23:up()}u=u.return}if(jt=s,_t=s=Ls(s.current,null),At=Cr=o,kt=0,Sa=null,np=ll=io=0,ur=ba=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],g=u.interleaved,g!==null){u.interleaved=null;var P=g.next,I=u.pending;if(I!==null){var $=I.next;I.next=P,g.next=$}u.pending=g}no=null}return s}function cw(s,o){do{var u=_t;try{if(Cf(),Zc.current=rl,Jc){for(var g=pt.memoizedState;g!==null;){var P=g.queue;P!==null&&(P.pending=null),g=g.next}Jc=!1}if(oo=0,Mt=Pt=pt=null,ha=!1,ma=0,rp.current=null,u===null||u.return===null){kt=1,Sa=o,_t=null;break}e:{var I=s,$=u.return,H=u,G=o;if(o=At,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var J=G,se=H,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=jy($);if(pe!==null){pe.flags&=-257,Ly(pe,$,H,I,o),pe.mode&1&&My(I,J,o),o=pe,G=J;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(G),o.updateQueue=we}else ve.add(G);break e}else{if((o&1)===0){My(I,J,o),dp();break e}G=Error(r(426))}}else if(it&&H.mode&1){var St=jy($);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Ly(St,$,H,I,o),_f(ri(G,H));break e}}I=G=ri(G,H),kt!==4&&(kt=2),ba===null?ba=[I]:ba.push(I),I=$;do{switch(I.tag){case 3:I.flags|=65536,o&=-o,I.lanes|=o;var Q=Dy(I,G,o);ny(I,Q);break e;case 1:H=G;var Y=I.type,Z=I.stateNode;if((I.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Ds===null||!Ds.has(Z)))){I.flags|=65536,o&=-o,I.lanes|=o;var le=Iy(I,H,o);ny(I,le);break e}}I=I.return}while(I!==null)}dw(u)}catch(be){o=be,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function lw(){var s=cl.current;return cl.current=rl,s===null?rl:s}function dp(){(kt===0||kt===3||kt===2)&&(kt=4),jt===null||(io&268435455)===0&&(ll&268435455)===0||js(jt,At)}function ml(s,o){var u=Fe;Fe|=2;var g=lw();(jt!==s||At!==o)&&(Zn=null,co(s,o));do try{CR();break}catch(P){cw(s,P)}while(!0);if(Cf(),Fe=u,cl.current=g,_t!==null)throw Error(r(261));return jt=null,At=0,kt}function CR(){for(;_t!==null;)uw(_t)}function RR(){for(;_t!==null&&!Xx();)uw(_t)}function uw(s){var o=hw(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,o===null?dw(s):_t=o,rp.current=null}function dw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=vR(u,o,Cr),u!==null){_t=u;return}}else{if(u=yR(u,o),u!==null){u.flags&=32767,_t=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=s}while(o!==null);kt===0&&(kt=5)}function lo(s,o,u){var g=Ge,P=Ar.transition;try{Ar.transition=null,Ge=1,ER(s,o,u,g)}finally{Ar.transition=P,Ge=g}return null}function ER(s,o,u,g){do ii();while(Is!==null);if((Fe&6)!==0)throw Error(r(327));u=s.finishedWork;var P=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var I=u.lanes|u.childLanes;if(iC(s,I),s===jt&&(_t=jt=null,At=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||dl||(dl=!0,mw(wc,function(){return ii(),null})),I=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||I){I=Ar.transition,Ar.transition=null;var $=Ge;Ge=1;var H=Fe;Fe|=4,rp.current=null,SR(s,u),tw(u,s),qC(df),Ec=!!uf,df=uf=null,s.current=u,bR(u),Qx(),Fe=H,Ge=$,Ar.transition=I}else s.current=u;if(dl&&(dl=!1,Is=s,fl=P),I=s.pendingLanes,I===0&&(Ds=null),eC(u.stateNode),dr(s,wt()),o!==null)for(g=s.onRecoverableError,u=0;u<o.length;u++)P=o[u],g(P.value,{componentStack:P.stack,digest:P.digest});if(ul)throw ul=!1,s=op,op=null,s;return(fl&1)!==0&&s.tag!==0&&ii(),I=s.pendingLanes,(I&1)!==0?s===ip?_a++:(_a=0,ip=s):_a=0,Es(),null}function ii(){if(Is!==null){var s=Jg(fl),o=Ar.transition,u=Ge;try{if(Ar.transition=null,Ge=16>s?16:s,Is===null)var g=!1;else{if(s=Is,Is=null,fl=0,(Fe&6)!==0)throw Error(r(331));var P=Fe;for(Fe|=4,ge=s.current;ge!==null;){var I=ge,$=I.child;if((ge.flags&16)!==0){var H=I.deletions;if(H!==null){for(var G=0;G<H.length;G++){var J=H[G];for(ge=J;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:wa(8,se,I)}var ae=se.child;if(ae!==null)ae.return=se,ge=ae;else for(;ge!==null;){se=ge;var ne=se.sibling,pe=se.return;if(Xy(se),se===J){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ve=I.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var St=we.sibling;we.sibling=null,we=St}while(we!==null)}}ge=I}}if((I.subtreeFlags&2064)!==0&&$!==null)$.return=I,ge=$;else e:for(;ge!==null;){if(I=ge,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:wa(9,I,I.return)}var Q=I.sibling;if(Q!==null){Q.return=I.return,ge=Q;break e}ge=I.return}}var Y=s.current;for(ge=Y;ge!==null;){$=ge;var Z=$.child;if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,ge=Z;else e:for($=Y;ge!==null;){if(H=ge,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:al(9,H)}}catch(be){gt(H,H.return,be)}if(H===$){ge=null;break e}var le=H.sibling;if(le!==null){le.return=H.return,ge=le;break e}ge=H.return}}if(Fe=P,Es(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Sc,s)}catch{}g=!0}return g}finally{Ge=u,Ar.transition=o}}return!1}function fw(s,o,u){o=ri(u,o),o=Dy(s,o,1),s=Ps(s,o,1),o=er(),s!==null&&(qi(s,1,o),dr(s,o))}function gt(s,o,u){if(s.tag===3)fw(s,s,u);else for(;o!==null;){if(o.tag===3){fw(o,s,u);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g))){s=ri(u,s),s=Iy(o,s,1),o=Ps(o,s,1),s=er(),o!==null&&(qi(o,1,s),dr(o,s));break}}o=o.return}}function TR(s,o,u){var g=s.pingCache;g!==null&&g.delete(o),o=er(),s.pingedLanes|=s.suspendedLanes&u,jt===s&&(At&u)===u&&(kt===4||kt===3&&(At&130023424)===At&&500>wt()-sp?co(s,0):np|=u),dr(s,o)}function pw(s,o){o===0&&((s.mode&1)===0?o=1:(o=_c,_c<<=1,(_c&130023424)===0&&(_c=4194304)));var u=er();s=Yn(s,o),s!==null&&(qi(s,o,u),dr(s,u))}function PR(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),pw(s,u)}function kR(s,o){var u=0;switch(s.tag){case 13:var g=s.stateNode,P=s.memoizedState;P!==null&&(u=P.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),pw(s,u)}var hw;hw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ar.current)lr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return lr=!1,gR(s,o,u);lr=(s.flags&131072)!==0}else lr=!1,it&&(o.flags&1048576)!==0&&Gv(o,Hc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;ol(s,o),s=o.pendingProps;var P=Ko(o,Wt.current);ei(o,u),P=Of(null,o,g,s,P,u);var I=Nf();return o.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cr(g)?(I=!0,Bc(o)):I=!1,o.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Pf(o),P.updater=nl,o.stateNode=P,P._reactInternals=o,Uf(o,g,s,u),o=qf(null,o,g,!0,I,u)):(o.tag=0,it&&I&&yf(o),Jt(null,o,P,u),o=o.child),o;case 16:g=o.elementType;e:{switch(ol(s,o),s=o.pendingProps,P=g._init,g=P(g._payload),o.type=g,P=o.tag=IR(g),s=Qr(g,s),P){case 0:o=Wf(null,o,g,s,u);break e;case 1:o=zy(null,o,g,s,u);break e;case 11:o=Oy(null,o,g,s,u);break e;case 14:o=Ny(null,o,g,Qr(g.type,s),u);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,P=o.pendingProps,P=o.elementType===g?P:Qr(g,P),Wf(s,o,g,P,u);case 1:return g=o.type,P=o.pendingProps,P=o.elementType===g?P:Qr(g,P),zy(s,o,g,P,u);case 3:e:{if(By(o),s===null)throw Error(r(387));g=o.pendingProps,I=o.memoizedState,P=I.element,ry(s,o),Xc(o,g,null,u);var $=o.memoizedState;if(g=$.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=I,o.memoizedState=I,o.flags&256){P=ri(Error(r(423)),o),o=Uy(s,o,g,u,P);break e}else if(g!==P){P=ri(Error(r(424)),o),o=Uy(s,o,g,u,P);break e}else for(xr=xs(o.stateNode.containerInfo.firstChild),_r=o,it=!0,Xr=null,u=ey(o,null,g,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),g===P){o=Qn(s,o,u);break e}Jt(s,o,g,u)}o=o.child}return o;case 5:return oy(o),s===null&&bf(o),g=o.type,P=o.pendingProps,I=s!==null?s.memoizedProps:null,$=P.children,ff(g,P)?$=null:I!==null&&ff(g,I)&&(o.flags|=32),Fy(s,o),Jt(s,o,$,u),o.child;case 6:return s===null&&bf(o),null;case 13:return Vy(s,o,u);case 4:return kf(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Zo(o,null,g,u):Jt(s,o,g,u),o.child;case 11:return g=o.type,P=o.pendingProps,P=o.elementType===g?P:Qr(g,P),Oy(s,o,g,P,u);case 7:return Jt(s,o,o.pendingProps,u),o.child;case 8:return Jt(s,o,o.pendingProps.children,u),o.child;case 12:return Jt(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(g=o.type._context,P=o.pendingProps,I=o.memoizedProps,$=P.value,Ze(Gc,g._currentValue),g._currentValue=$,I!==null)if(Yr(I.value,$)){if(I.children===P.children&&!ar.current){o=Qn(s,o,u);break e}}else for(I=o.child,I!==null&&(I.return=o);I!==null;){var H=I.dependencies;if(H!==null){$=I.child;for(var G=H.firstContext;G!==null;){if(G.context===g){if(I.tag===1){G=Xn(-1,u&-u),G.tag=2;var J=I.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?G.next=G:(G.next=se.next,se.next=G),J.pending=G}}I.lanes|=u,G=I.alternate,G!==null&&(G.lanes|=u),Ef(I.return,u,o),H.lanes|=u;break}G=G.next}}else if(I.tag===10)$=I.type===o.type?null:I.child;else if(I.tag===18){if($=I.return,$===null)throw Error(r(341));$.lanes|=u,H=$.alternate,H!==null&&(H.lanes|=u),Ef($,u,o),$=I.sibling}else $=I.child;if($!==null)$.return=I;else for($=I;$!==null;){if($===o){$=null;break}if(I=$.sibling,I!==null){I.return=$.return,$=I;break}$=$.return}I=$}Jt(s,o,P.children,u),o=o.child}return o;case 9:return P=o.type,g=o.pendingProps.children,ei(o,u),P=Or(P),g=g(P),o.flags|=1,Jt(s,o,g,u),o.child;case 14:return g=o.type,P=Qr(g,o.pendingProps),P=Qr(g.type,P),Ny(s,o,g,P,u);case 15:return Ay(s,o,o.type,o.pendingProps,u);case 17:return g=o.type,P=o.pendingProps,P=o.elementType===g?P:Qr(g,P),ol(s,o),o.tag=1,cr(g)?(s=!0,Bc(o)):s=!1,ei(o,u),Py(o,g,P),Uf(o,g,P,u),qf(null,o,g,!0,s,u);case 19:return Wy(s,o,u);case 22:return $y(s,o,u)}throw Error(r(156,o.tag))};function mw(s,o){return Kg(s,o)}function DR(s,o,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,o,u,g){return new DR(s,o,u,g)}function fp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function IR(s){if(typeof s=="function")return fp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===K)return 14}return 2}function Ls(s,o){var u=s.alternate;return u===null?(u=$r(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function gl(s,o,u,g,P,I){var $=2;if(g=s,typeof s=="function")fp(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case k:return uo(u.children,P,I,o);case M:$=8,P|=8;break;case L:return s=$r(12,u,o,P|2),s.elementType=L,s.lanes=I,s;case V:return s=$r(13,u,o,P),s.elementType=V,s.lanes=I,s;case W:return s=$r(19,u,o,P),s.elementType=W,s.lanes=I,s;case U:return vl(u,P,I,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:$=10;break e;case A:$=9;break e;case N:$=11;break e;case K:$=14;break e;case O:$=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=$r($,u,o,P),o.elementType=s,o.type=g,o.lanes=I,o}function uo(s,o,u,g){return s=$r(7,s,g,o),s.lanes=u,s}function vl(s,o,u,g){return s=$r(22,s,g,o),s.elementType=U,s.lanes=u,s.stateNode={isHidden:!1},s}function pp(s,o,u){return s=$r(6,s,null,o),s.lanes=u,s}function hp(s,o,u){return o=$r(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function MR(s,o,u,g,P){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=g,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function mp(s,o,u,g,P,I,$,H,G){return s=new MR(s,o,u,H,G),o===1?(o=1,I===!0&&(o|=8)):o=0,I=$r(3,null,null,o),s.current=I,I.stateNode=s,I.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(I),s}function jR(s,o,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:g==null?null:""+g,children:s,containerInfo:o,implementation:u}}function gw(s){if(!s)return Rs;s=s._reactInternals;e:{if(Zs(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(cr(u))return Hv(s,u,o)}return o}function vw(s,o,u,g,P,I,$,H,G){return s=mp(u,g,!0,s,P,I,$,H,G),s.context=gw(null),u=s.current,g=er(),P=Ms(u),I=Xn(g,P),I.callback=o??null,Ps(u,I,P),s.current.lanes=P,qi(s,P,g),dr(s,g),s}function yl(s,o,u,g){var P=o.current,I=er(),$=Ms(P);return u=gw(u),o.context===null?o.context=u:o.pendingContext=u,o=Xn(I,$),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Ps(P,o,$),s!==null&&(en(s,P,$,I),Yc(s,P,$)),$}function wl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function yw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function gp(s,o){yw(s,o),(s=s.alternate)&&yw(s,o)}function LR(){return null}var ww=typeof reportError=="function"?reportError:function(s){console.error(s)};function vp(s){this._internalRoot=s}Sl.prototype.render=vp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));yl(s,o,null,null)},Sl.prototype.unmount=vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ao(function(){yl(null,s,null,null)}),o[Wn]=null}};function Sl(s){this._internalRoot=s}Sl.prototype.unstable_scheduleHydration=function(s){if(s){var o=rv();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ss.length&&o!==0&&o<Ss[u].priority;u++);Ss.splice(u,0,s),u===0&&ov(s)}};function yp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function bl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function OR(s,o,u,g,P){if(P){if(typeof g=="function"){var I=g;g=function(){var J=wl($);I.call(J)}}var $=vw(o,g,s,0,null,!1,!1,"",Sw);return s._reactRootContainer=$,s[Wn]=$.current,ia(s.nodeType===8?s.parentNode:s),ao(),$}for(;P=s.lastChild;)s.removeChild(P);if(typeof g=="function"){var H=g;g=function(){var J=wl(G);H.call(J)}}var G=mp(s,0,!1,null,null,!1,!1,"",Sw);return s._reactRootContainer=G,s[Wn]=G.current,ia(s.nodeType===8?s.parentNode:s),ao(function(){yl(o,G,u,g)}),G}function _l(s,o,u,g,P){var I=u._reactRootContainer;if(I){var $=I;if(typeof P=="function"){var H=P;P=function(){var G=wl($);H.call(G)}}yl(o,$,s,P)}else $=OR(u,o,s,P,g);return wl($)}ev=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Wi(o.pendingLanes);u!==0&&(Bd(o,u|1),dr(o,wt()),(Fe&6)===0&&(oi=wt()+500,Es()))}break;case 13:ao(function(){var g=Yn(s,1);if(g!==null){var P=er();en(g,s,1,P)}}),gp(s,1)}},Ud=function(s){if(s.tag===13){var o=Yn(s,134217728);if(o!==null){var u=er();en(o,s,134217728,u)}gp(s,134217728)}},tv=function(s){if(s.tag===13){var o=Ms(s),u=Yn(s,o);if(u!==null){var g=er();en(u,s,o,g)}gp(s,o)}},rv=function(){return Ge},nv=function(s,o){var u=Ge;try{return Ge=s,o()}finally{Ge=u}},Ld=function(s,o,u){switch(o){case"input":if(Ye(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var g=u[o];if(g!==s&&g.form===s.form){var P=Fc(g);if(!P)throw Error(r(90));vt(g),Ye(g,P)}}}break;case"textarea":ut(s,u);break;case"select":o=u.value,o!=null&&Ae(s,!!u.multiple,o,!1)}},Bg=lp,Ug=ao;var NR={usingClientEntryPoint:!1,Events:[la,qo,Fc,Fg,zg,lp]},xa={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AR={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=qg(s),s===null?null:s.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||LR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Sc=xl.inject(AR),Pn=xl}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR,fr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(o))throw Error(r(200));return jR(s,o,null,u)},fr.createRoot=function(s,o){if(!yp(s))throw Error(r(299));var u=!1,g="",P=ww;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=mp(s,1,!1,null,null,u,!1,g,P),s[Wn]=o.current,ia(s.nodeType===8?s.parentNode:s),new vp(o)},fr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=qg(o),s=s===null?null:s.stateNode,s},fr.flushSync=function(s){return ao(s)},fr.hydrate=function(s,o,u){if(!bl(o))throw Error(r(200));return _l(null,s,o,!0,u)},fr.hydrateRoot=function(s,o,u){if(!yp(s))throw Error(r(405));var g=u!=null&&u.hydratedSources||null,P=!1,I="",$=ww;if(u!=null&&(u.unstable_strictMode===!0&&(P=!0),u.identifierPrefix!==void 0&&(I=u.identifierPrefix),u.onRecoverableError!==void 0&&($=u.onRecoverableError)),o=vw(o,null,s,1,u??null,P,!1,I,$),s[Wn]=o.current,ia(s),g)for(s=0;s<g.length;s++)u=g[s],P=u._getVersion,P=P(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,P]:o.mutableSourceEagerHydrationData.push(u,P);return new Sl(o)},fr.render=function(s,o,u){if(!bl(o))throw Error(r(200));return _l(null,s,o,!1,u)},fr.unmountComponentAtNode=function(s){if(!bl(s))throw Error(r(40));return s._reactRootContainer?(ao(function(){_l(null,null,s,!1,function(){s._reactRootContainer=null,s[Wn]=null})}),!0):!1},fr.unstable_batchedUpdates=lp,fr.unstable_renderSubtreeIntoContainer=function(s,o,u,g){if(!bl(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return _l(s,o,u,!1,g)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var Pw;function d_(){if(Pw)return _p.exports;Pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_p.exports=KR(),_p.exports}var kw;function YR(){if(kw)return Cl;kw=1;var e=d_();return Cl.createRoot=e.createRoot,Cl.hydrateRoot=e.hydrateRoot,Cl}var XR=YR(),D=Tu();const Bt=sm(D),f_=BR({__proto__:null,default:Bt},[D]);var Rp={exports:{}},Ep={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function QR(){if(Dw)return Ep;Dw=1;var e=Tu();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,l=e.useDebugValue;return Ep.useSyncExternalStoreWithSelector=function(d,f,v,y,w){var S=i(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=c(function(){function C(m){if(!E){if(E=!0,_=m,m=y(m),w!==void 0&&b.hasValue){var x=b.value;if(w(x,m))return h=x}return h=m}if(x=h,r(_,m))return x;var k=y(m);return w!==void 0&&w(x,k)?(_=m,x):(_=m,h=k)}var E=!1,_,h,p=v===void 0?null:v;return[function(){return C(f())},p===null?void 0:function(){return C(p())}]},[f,v,y,w]);var R=n(d,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=R},[R]),l(R),R},Ep}var Iw;function ZR(){return Iw||(Iw=1,Rp.exports=QR()),Rp.exports}var JR=ZR();function eE(e){e()}function tE(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eE(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Mw={notify(){},get:()=>[]};function rE(e,t){let r,n=Mw,i=0,a=!1;function c(R){v();const C=n.subscribe(R);let E=!1;return()=>{E||(E=!0,C(),y())}}function l(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return a}function v(){i++,r||(r=e.subscribe(d),n=tE())}function y(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Mw)}function w(){a||(a=!0,v())}function S(){a&&(a=!1,y())}const b={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:f,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>n};return b}var nE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sE=nE(),oE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iE=oE(),aE=()=>sE||iE?D.useLayoutEffect:D.useEffect,cE=aE(),Tp=Symbol.for("react-redux-context"),Pp=typeof globalThis<"u"?globalThis:{};function lE(){if(!D.createContext)return{};const e=Pp[Tp]??(Pp[Tp]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var Us=lE();function uE(e){const{children:t,context:r,serverState:n,store:i}=e,a=D.useMemo(()=>{const d=rE(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),c=D.useMemo(()=>i.getState(),[i]);cE(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const l=r||Us;return D.createElement(l.Provider,{value:a},t)}var dE=uE;function om(e=Us){return function(){return D.useContext(e)}}var p_=om();function h_(e=Us){const t=e===Us?p_:om(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var fE=h_();function pE(e=Us){const t=e===Us?fE:h_(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var hE=pE(),mE=(e,t)=>e===t;function gE(e=Us){const t=e===Us?p_:om(e),r=(n,i={})=>{const{equalityFn:a=mE}=typeof i=="function"?{equalityFn:i}:i,c=t(),{store:l,subscription:d,getServerState:f}=c;D.useRef(!0);const v=D.useCallback({[n.name](w){return n(w)}}[n.name],[n]),y=JR.useSyncExternalStoreWithSelector(d.addNestedSub,l.getState,f||l.getState,v,a);return D.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var vE=gE(),On=function(){return On=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},On.apply(this,arguments)};function m_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function yE(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ul="right-scroll-bar-position",Vl="width-before-scroll-bar",wE="with-scroll-bars-hidden",SE="--removed-body-scroll-bar-size";function kp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bE(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var _E=typeof window<"u"?D.useLayoutEffect:D.useEffect,jw=new WeakMap;function xE(e,t){var r=bE(null,function(n){return e.forEach(function(i){return kp(i,n)})});return _E(function(){var n=jw.get(r);if(n){var i=new Set(n),a=new Set(e),c=r.current;i.forEach(function(l){a.has(l)||kp(l,null)}),a.forEach(function(l){i.has(l)||kp(l,c)})}jw.set(r,e)},[e]),r}function CE(e){return e}function RE(e,t){t===void 0&&(t=CE);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(a),c=r}var d=function(){var v=c;c=[],v.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(v){c.push(v),f()},filter:function(v){return c=c.filter(v),r}}}};return i}function EE(e){e===void 0&&(e={});var t=RE(null);return t.options=On({async:!0,ssr:!1},e),t}var g_=function(e){var t=e.sideCar,r=m_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,On({},r))};g_.isSideCarExport=!0;function TE(e,t){return e.useMedium(t),g_}var v_=EE(),Dp=function(){},Pu=D.forwardRef(function(e,t){var r=D.useRef(null),n=D.useState({onScrollCapture:Dp,onWheelCapture:Dp,onTouchMoveCapture:Dp}),i=n[0],a=n[1],c=e.forwardProps,l=e.children,d=e.className,f=e.removeScrollBar,v=e.enabled,y=e.shards,w=e.sideCar,S=e.noIsolation,b=e.inert,R=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,_=e.gapMode,h=m_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),p=w,m=xE([r,t]),x=On(On({},h),i);return D.createElement(D.Fragment,null,v&&D.createElement(p,{sideCar:v_,removeScrollBar:f,shards:y,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:_}),c?D.cloneElement(D.Children.only(l),On(On({},x),{ref:m})):D.createElement(E,On({},x,{className:d,ref:m}),l))});Pu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pu.classNames={fullWidth:Vl,zeroRight:Ul};var PE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PE();return t&&e.setAttribute("nonce",t),e}function DE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ME=function(){var e=0,t=null;return{add:function(r){e==0&&(t=kE())&&(DE(t,r),IE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jE=function(){var e=ME();return function(t,r){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},y_=function(){var e=jE(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},LE={left:0,top:0,right:0,gap:0},Ip=function(e){return parseInt(e||"",10)||0},OE=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ip(r),Ip(n),Ip(i)]},NE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LE;var t=OE(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},AE=y_(),vi="data-scroll-locked",$E=function(e,t,r,n){var i=e.left,a=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(vi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ul,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Vl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ul," .").concat(Ul,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(vi,`] {
    `).concat(SE,": ").concat(l,`px;
  }
`)},Lw=function(){var e=parseInt(document.body.getAttribute(vi)||"0",10);return isFinite(e)?e:0},FE=function(){D.useEffect(function(){return document.body.setAttribute(vi,(Lw()+1).toString()),function(){var e=Lw()-1;e<=0?document.body.removeAttribute(vi):document.body.setAttribute(vi,e.toString())}},[])},zE=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;FE();var a=D.useMemo(function(){return NE(i)},[i]);return D.createElement(AE,{styles:$E(a,!t,i,r?"":"!important")})},Sh=!1;if(typeof window<"u")try{var Rl=Object.defineProperty({},"passive",{get:function(){return Sh=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Sh=!1}var ai=Sh?{passive:!1}:!1,BE=function(e){return e.tagName==="TEXTAREA"},w_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BE(e)&&r[t]==="visible")},UE=function(e){return w_(e,"overflowY")},VE=function(e){return w_(e,"overflowX")},Ow=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=S_(e,n);if(i){var a=b_(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},HE=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},WE=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},S_=function(e,t){return e==="v"?UE(t):VE(t)},b_=function(e,t){return e==="v"?HE(t):WE(t)},qE=function(e,t){return e==="h"&&t==="rtl"?-1:1},GE=function(e,t,r,n,i){var a=qE(e,window.getComputedStyle(t).direction),c=a*n,l=r.target,d=t.contains(l),f=!1,v=c>0,y=0,w=0;do{var S=b_(e,l),b=S[0],R=S[1],C=S[2],E=R-C-a*b;(b||E)&&S_(e,l)&&(y+=E,w+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(v&&Math.abs(y)<1||!v&&Math.abs(w)<1)&&(f=!0),f},El=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nw=function(e){return[e.deltaX,e.deltaY]},Aw=function(e){return e&&"current"in e?e.current:e},KE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XE=0,ci=[];function QE(e){var t=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(XE++)[0],a=D.useState(y_)[0],c=D.useRef(e);D.useEffect(function(){c.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var R=yE([e.lockRef.current],(e.shards||[]).map(Aw),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=D.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var E=El(R),_=r.current,h="deltaX"in R?R.deltaX:_[0]-E[0],p="deltaY"in R?R.deltaY:_[1]-E[1],m,x=R.target,k=Math.abs(h)>Math.abs(p)?"h":"v";if("touches"in R&&k==="h"&&x.type==="range")return!1;var M=Ow(k,x);if(!M)return!0;if(M?m=k:(m=k==="v"?"h":"v",M=Ow(k,x)),!M)return!1;if(!n.current&&"changedTouches"in R&&(h||p)&&(n.current=m),!m)return!0;var L=n.current||m;return GE(L,C,R,L==="h"?h:p)},[]),d=D.useCallback(function(R){var C=R;if(!(!ci.length||ci[ci.length-1]!==a)){var E="deltaY"in C?Nw(C):El(C),_=t.current.filter(function(m){return m.name===C.type&&(m.target===C.target||C.target===m.shadowParent)&&KE(m.delta,E)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var h=(c.current.shards||[]).map(Aw).filter(Boolean).filter(function(m){return m.contains(C.target)}),p=h.length>0?l(C,h[0]):!c.current.noIsolation;p&&C.cancelable&&C.preventDefault()}}},[]),f=D.useCallback(function(R,C,E,_){var h={name:R,delta:C,target:E,should:_,shadowParent:ZE(E)};t.current.push(h),setTimeout(function(){t.current=t.current.filter(function(p){return p!==h})},1)},[]),v=D.useCallback(function(R){r.current=El(R),n.current=void 0},[]),y=D.useCallback(function(R){f(R.type,Nw(R),R.target,l(R,e.lockRef.current))},[]),w=D.useCallback(function(R){f(R.type,El(R),R.target,l(R,e.lockRef.current))},[]);D.useEffect(function(){return ci.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",d,ai),document.addEventListener("touchmove",d,ai),document.addEventListener("touchstart",v,ai),function(){ci=ci.filter(function(R){return R!==a}),document.removeEventListener("wheel",d,ai),document.removeEventListener("touchmove",d,ai),document.removeEventListener("touchstart",v,ai)}},[]);var S=e.removeScrollBar,b=e.inert;return D.createElement(D.Fragment,null,b?D.createElement(a,{styles:YE(i)}):null,S?D.createElement(zE,{gapMode:e.gapMode}):null)}function ZE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JE=TE(v_,QE);var uu=D.forwardRef(function(e,t){return D.createElement(Pu,On({},e,{ref:t,sideCar:JE}))});uu.classNames=Pu.classNames;function pr(e){return Object.keys(e)}function Mp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function im(e,t){const r={...e},n=t;return Mp(e)&&Mp(t)&&Object.keys(t).forEach(i=>{Mp(n[i])&&i in e?r[i]=im(r[i],n[i]):r[i]=n[i]}),r}function eT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function tT(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Za(e){const t=tT(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function jp(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function __(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const i=`${n/16}${e}`;return t?jp(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?jp(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?jp(a):a}}return n}return r}const te=__("rem",{shouldScale:!0}),$w=__("em");function Ti(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function x_(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Ws(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==D.Fragment:!1}function Rn(e){const t=D.createContext(null);return[({children:i,value:a})=>T.jsx(t.Provider,{value:a,children:i}),()=>{const i=D.useContext(t);if(i===null)throw new Error(e);return i}]}function ku(e=null){const t=D.createContext(e);return[({children:i,value:a})=>T.jsx(t.Provider,{value:a,children:i}),()=>D.useContext(t)]}function Fw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function du(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function rT(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function nT(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function sT(e,t,r){return du(e,r)===du(t,r)}function C_({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:c}){return l=>{var b;r==null||r(l);const d=Array.from(((b=du(l.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(R=>sT(l.currentTarget,R,e)),f=d.findIndex(R=>l.currentTarget===R),v=nT(f,d,n),y=rT(f,d,n),w=a==="rtl"?y:v,S=a==="rtl"?v:y;switch(l.key){case"ArrowRight":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[w].focus(),i&&d[w].click());break}case"ArrowLeft":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[S].focus(),i&&d[S].click());break}case"ArrowUp":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[y].focus(),i&&d[y].click());break}case"ArrowDown":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[v].focus(),i&&d[v].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const R=d.length-1;!d[R].disabled&&d[R].focus();break}}}}const oT={app:100,modal:200,popover:300,overlay:400,max:9999};function yr(e){return oT[e]}const iT=()=>{};function aT(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||iT:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Ke(e,t="size",r=!0){if(e!==void 0)return x_(e)?r?te(e):e:`var(--${t}-${e})`}function nr(e){return Ke(e,"mantine-spacing")}function Dt(e){return e===void 0?"var(--mantine-radius-default)":Ke(e,"mantine-radius")}function sr(e){return Ke(e,"mantine-font-size")}function cT(e){return Ke(e,"mantine-line-height",!1)}function am(e){if(e)return Ke(e,"mantine-shadow",!1)}function Nn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function lT(e,t){return e in t?Za(t[e]):Za(e)}function uT(e,t){const r=e.map(n=>({value:n,px:lT(n,t)}));return r.sort((n,i)=>n.px-i.px),r}function yi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function dT(e,t,r){var n;return r?Array.from(((n=du(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(i=>i===r):null}function fT(){const[e,t]=D.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function qa(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function R_(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function wo(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const pT=()=>{};function Du(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,i=wo(e),a=D.useRef(0),c=Object.assign(D.useCallback((...l)=>{window.clearTimeout(a.current);const d=()=>{a.current!==0&&(a.current=0,i(...l))};c.flush=d,a.current=window.setTimeout(d,r)},[i,r]),{flush:pT});return D.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const zw=["mousedown","touchstart"];function hT(e,t,r){const n=D.useRef(null);return D.useEffect(()=>{const i=a=>{const{target:c}=a??{};if(Array.isArray(r)){const l=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(f=>!!f&&!a.composedPath().includes(f))&&!l&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||zw).forEach(a=>document.addEventListener(a,i)),()=>{(t||zw).forEach(a=>document.removeEventListener(a,i))}},[n,e,r]),n}function mT({timeout:e=2e3}={}){const[t,r]=D.useState(null),[n,i]=D.useState(!1),[a,c]=D.useState(null),l=v=>{window.clearTimeout(a),c(window.setTimeout(()=>i(!1),e)),i(v)};return{copy:v=>{"clipboard"in navigator?navigator.clipboard.writeText(v).then(()=>l(!0)).catch(y=>r(y)):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),r(null),window.clearTimeout(a)},error:t,copied:n}}function gT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function vT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function yT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=D.useState(r?t:vT(e)),a=D.useRef(null);return D.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),gT(a.current,c=>i(c.matches))},[e]),n}const ac=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Bn(e,t){const r=D.useRef(!1);D.useEffect(()=>()=>{r.current=!1},[]),D.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function E_({opened:e,shouldReturnFocus:t=!0}){const r=D.useRef(null),n=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return Bn(()=>{let i=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),n}const wT=/input|select|textarea|button|object/,T_="a, input, select, textarea, button, object, [tabindex]";function ST(e){return e.style.display==="none"}function bT(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(ST(r))return!1;r=r.parentNode}return!0}function P_(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function bh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(P_(e));return(wT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&bT(e)}function k_(e){const t=P_(e);return(Number.isNaN(t)||t>=0)&&bh(e)}function _T(e){return Array.from(e.querySelectorAll(T_)).filter(k_)}function xT(e,t){const r=_T(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],i=e.getRootNode();let a=n===i.activeElement||e===i.activeElement;const c=i.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(v=>v.getAttribute("type")==="radio"&&v.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function CT(e=!0){const t=D.useRef(null),r=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const c=Array.from(i.querySelectorAll(T_));a=c.find(k_)||c.find(bh)||null,!a&&bh(i)&&(a=i)}a&&a.focus({preventScroll:!0})},n=D.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&r(i)}),t.current=i):t.current=null)},[e]);return D.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const i=a=>{a.key==="Tab"&&t.current&&xT(t.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n}const RT=e=>(e+1)%1e6;function ET(){const[,e]=D.useReducer(RT,0);return e}const TT=Bt.useId||(()=>{});function PT(){const e=TT();return e?`mantine-${e.replace(/:/g,"")}`:""}function qs(e){const t=PT(),[r,n]=D.useState(t);return ac(()=>{n(R_())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function kT(e,t,r){D.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function _h(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function D_(...e){const t=new Map;return r=>{if(e.forEach(n=>{const i=_h(n,r);i&&t.set(n,i)}),t.size>0)return()=>{e.forEach(n=>{const i=t.get(n);i?i():_h(n,null)}),t.clear()}}}function Vt(...e){return D.useCallback(D_(...e),e)}function DT(e,t,r="ltr"){const n=D.useRef(null),i=D.useRef(!1),a=D.useRef(!1),c=D.useRef(0),[l,d]=D.useState(!1);return D.useEffect(()=>{i.current=!0},[]),D.useEffect(()=>{const f=n.current,v=({x:h,y:p})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(i.current&&f){f.style.userSelect="none";const m=f.getBoundingClientRect();if(m.width&&m.height){const x=qa((h-m.left)/m.width,0,1);e({x:r==="ltr"?x:1-x,y:qa((p-m.top)/m.height,0,1)})}}})},y=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.addEventListener("touchmove",_),document.addEventListener("touchend",b)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",b)},S=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),y())},b=()=>{a.current&&i.current&&(a.current=!1,d(!1),w(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},R=h=>{S(),h.preventDefault(),C(h)},C=h=>v({x:h.clientX,y:h.clientY}),E=h=>{h.cancelable&&h.preventDefault(),S(),_(h)},_=h=>{h.cancelable&&h.preventDefault(),v({x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY})};return f==null||f.addEventListener("mousedown",R),f==null||f.addEventListener("touchstart",E,{passive:!1}),()=>{f&&(f.removeEventListener("mousedown",R),f.removeEventListener("touchstart",E))}},[r,e]),{ref:n,active:l}}function os({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[i,a]=D.useState(t!==void 0?t:r),c=(l,...d)=>{a(l),n==null||n(l,...d)};return e!==void 0?[e,n,!0]:[i,c,!1]}function Iu(e,t){return yT("(prefers-reduced-motion: reduce)",e,t)}function Tr(e=!1,t){const{onOpen:r,onClose:n}={},[i,a]=D.useState(e),c=D.useCallback(()=>{a(f=>f||(r==null||r(),!0))},[r]),l=D.useCallback(()=>{a(f=>f&&(n==null||n(),!1))},[n]),d=D.useCallback(()=>{i?l():c()},[l,c,i]);return[i,{open:c,close:l,toggle:d}]}function IT(e){const t=D.useRef(void 0);return D.useEffect(()=>{t.current=e},[e]),t.current}var MT={};function jT(){return typeof process<"u"&&MT?"production":"development"}function Bw(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function Mu(e){var r;const t=Bt.version;return typeof Bt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function I_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=I_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=I_(e))&&(n&&(n+=" "),n+=t);return n}const LT={};function OT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,i])=>{t[n]?t[n]=Ut(t[n],i):t[n]=i})}),t}function ju({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||LT);return OT(a)}function fu({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const M_=D.createContext(null);function Gs(){const e=D.useContext(M_);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function NT(){return Gs().cssVariablesResolver}function AT(){return Gs().classNamesPrefix}function cm(){return Gs().getStyleNonce}function $T(){return Gs().withStaticClasses}function FT(){return Gs().headless}function zT(){var e;return(e=Gs().stylesTransform)==null?void 0:e.sx}function BT(){var e;return(e=Gs().stylesTransform)==null?void 0:e.styles}function j_(){return Gs().env||"default"}function UT(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function VT(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function HT(e){const[t,r,n,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:i||1}}function WT(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,l=(1-Math.abs(2*a-1))*i,d=n/60,f=l*(1-Math.abs(d%2-1)),v=a-l/2;let y,w,S;return d>=0&&d<1?(y=l,w=f,S=0):d>=1&&d<2?(y=f,w=l,S=0):d>=2&&d<3?(y=0,w=l,S=f):d>=3&&d<4?(y=0,w=f,S=l):d>=4&&d<5?(y=f,w=0,S=l):(y=l,w=0,S=f),{r:Math.round((y+v)*255),g:Math.round((w+v)*255),b:Math.round((S+v)*255),a:c||1}}function lm(e){return UT(e)?VT(e):e.startsWith("rgb")?HT(e):e.startsWith("hsl")?WT(e):{r:0,g:0,b:0,a:1}}function Tl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:i,a}=lm(e),c=1-t,l=d=>Math.round(d*c);return`rgba(${l(r)}, ${l(n)}, ${l(i)}, ${a})`}function Ja(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Lp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function qT(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function GT(e){if(e.startsWith("oklch("))return(qT(e)||0)/100;const{r:t,g:r,b:n}=lm(e),i=t/255,a=r/255,c=n/255,l=Lp(i),d=Lp(a),f=Lp(c);return .2126*l+.7152*d+.0722*f}function Ra(e,t=.179){return e.startsWith("var(")?!1:GT(e)>t}function Pi({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ra(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ra(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ra(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,i]=e.split("."),a=i?Number(i):void 0,c=n in t.colors;if(c){const l=a!==void 0?t.colors[n][a]:t.colors[n][Ja(t,r||"light")];return{color:n,value:l,shade:a,isThemeColor:c,isLight:Ra(l,t.luminanceThreshold),variable:i?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:Ra(e,t.luminanceThreshold),shade:a,variable:void 0}}function gr(e,t){const r=Pi({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function xh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=gr(r.from,t),i=gr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function Ln(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:i}=lm(e);return`rgba(${r}, ${n}, ${i}, ${t})`}const li=Ln,KT=({color:e,theme:t,variant:r,gradient:n,autoContrast:i})=>{const a=Pi({color:e,theme:t}),c=typeof i=="boolean"?i:t.autoContrast;if(r==="filled"){const l=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${te(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:l,border:`${te(1)} solid transparent`}:{background:e,hover:Tl(e,.1),color:l,border:`${te(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:Ln(l,.1),hover:Ln(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:Ln(e,.1),hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ln(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Ln(e,.05),color:e,border:`${te(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:"transparent",hover:Ln(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:"transparent",hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${te(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:Tl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Tl(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Tl(t.white,.01),color:e,border:`${te(1)} solid transparent`}:r==="gradient"?{background:xh(n,t),hover:xh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${te(1)} solid var(--mantine-color-default-border)`}:{}},YT={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Uw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",um={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:YT,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:KT,autoContrast:!1,luminanceThreshold:.3,fontFamily:Uw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Uw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:te(34),lineHeight:"1.3"},h2:{fontSize:te(26),lineHeight:"1.35"},h3:{fontSize:te(22),lineHeight:"1.4"},h4:{fontSize:te(18),lineHeight:"1.45"},h5:{fontSize:te(16),lineHeight:"1.5"},h6:{fontSize:te(14),lineHeight:"1.5"}}},fontSizes:{xs:te(12),sm:te(14),md:te(16),lg:te(18),xl:te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:te(2),sm:te(4),md:te(8),lg:te(16),xl:te(32)},spacing:{xs:te(10),sm:te(12),md:te(16),lg:te(20),xl:te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), 0 ${te(1)} ${te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(10)} ${te(15)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(7)} ${te(7)} ${te(-5)}`,md:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(20)} ${te(25)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(10)} ${te(10)} ${te(-5)}`,lg:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(28)} ${te(23)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(12)} ${te(12)} ${te(-7)}`,xl:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(36)} ${te(28)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(17)} ${te(17)} ${te(-7)}`},other:{},components:{}};function Vw(e){return e==="auto"||e==="dark"||e==="light"}function XT({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return Vw(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&Vw(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const QT="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Hw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Op(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Ww(e){if(!(e.primaryColor in e.colors))throw new Error(QT);if(typeof e.primaryShade=="object"&&(!Op(e.primaryShade.dark)||!Op(e.primaryShade.light)))throw new Error(Hw);if(typeof e.primaryShade=="number"&&!Op(e.primaryShade))throw new Error(Hw)}function ZT(e,t){var n;if(!t)return Ww(e),e;const r=im(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Ww(r),r}const dm=D.createContext(null),JT=()=>D.useContext(dm)||um;function or(){const e=D.useContext(dm);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function L_({theme:e,children:t,inherit:r=!0}){const n=JT(),i=D.useMemo(()=>ZT(r?n:um,e),[e,n,r]);return T.jsx(dm.Provider,{value:i,children:t})}L_.displayName="@mantine/core/MantineThemeProvider";function eP(){const e=or(),t=cm(),r=pr(e.breakpoints).reduce((n,i)=>{const a=e.breakpoints[i].includes("px"),c=Za(e.breakpoints[i]),l=a?`${c-.1}px`:$w(c-.1),d=a?`${c}px`:$w(c);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return T.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Np(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function Ea(e,t){return(Array.isArray(e)?e:[e]).reduce((n,i)=>`${i}{${n}}`,t)}function tP(e,t){const r=Np(e.variables),n=r?Ea(t,r):"",i=Np(e.dark),a=Np(e.light),c=i?Ea(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",l=a?Ea(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${l}`}function fm({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Pi({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function qw(e,t){return fm({color:e.colors[e.primaryColor][Ja(e,t)],theme:e,autoContrast:null})}function Pl({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(r==="light"){const l=Ja(e,"light"),d={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:li(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:li(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:li(e.colors[t][l],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...d}:d}const a=Ja(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:li(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:li(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:li(e.colors[t][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function rP(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ui(e,t,r){pr(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const O_=e=>{const t=Ja(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:te(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":qw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":qw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ui(n.variables,e.breakpoints,"breakpoint"),ui(n.variables,e.spacing,"spacing"),ui(n.variables,e.fontSizes,"font-size"),ui(n.variables,e.lineHeights,"line-height"),ui(n.variables,e.shadows,"shadow"),ui(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),pr(e.colors).forEach(a=>{const c=e.colors[a];if(rP(c)){Object.assign(n.light,Pl({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,Pl({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((l,d)=>{n.variables[`--mantine-color-${a}-${d}`]=l}),Object.assign(n.light,Pl({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,Pl({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return pr(i).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=i[a].fontSize,n.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||e.headings.fontWeight}),n};function nP({theme:e,generator:t}){const r=O_(e),n=t==null?void 0:t(e);return n?im(r,n):r}const Ap=O_(um);function sP(e){const t={variables:{},light:{},dark:{}};return pr(e.variables).forEach(r=>{Ap.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),pr(e.light).forEach(r=>{Ap.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),pr(e.dark).forEach(r=>{Ap.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function oP(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function N_({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=or(),n=cm(),i=NT(),a=nP({theme:r,generator:i}),c=e===":root"&&t,l=c?sP(a):a,d=tP(l,e);return d?T.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${d}${c?"":oP(e)}`}}):null}N_.displayName="@mantine/CssVariables";function iP(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function di(e,t){var i,a;const r=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function aP({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const i=D.useRef(null),[a,c]=D.useState(()=>e.get(t)),l=n||a,d=D.useCallback(v=>{n||(di(v,r),c(v),e.set(v))},[e.set,l,n]),f=D.useCallback(()=>{c(t),di(t,r),e.clear()},[e.clear,t]);return D.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),ac(()=>{di(e.get(t),r)},[]),D.useEffect(()=>{var y;if(n)return di(n,r),()=>{};n===void 0&&di(a,r),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const v=w=>{a==="auto"&&di(w.matches?"dark":"light",r)};return(y=i.current)==null||y.addEventListener("change",v),()=>{var w;return(w=i.current)==null?void 0:w.removeEventListener("change",v)}},[a,n]),{colorScheme:l,setColorScheme:d,clearColorScheme:f}}function cP({respectReducedMotion:e,getRootElement:t}){ac(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}iP();function A_({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:l=":root",classNamesPrefix:d="mantine",colorSchemeManager:f=XT(),defaultColorScheme:v="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:w,forceColorScheme:S,stylesTransform:b,env:R}){const{colorScheme:C,setColorScheme:E,clearColorScheme:_}=aP({defaultColorScheme:v,forceColorScheme:S,manager:f,getRootElement:y});return cP({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:y}),T.jsx(M_.Provider,{value:{colorScheme:C,setColorScheme:E,clearColorScheme:_,getRootElement:y,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:w,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:b,env:R},children:T.jsxs(L_,{theme:e,children:[c&&T.jsx(N_,{cssVariablesSelector:l,deduplicateCssVariables:a}),i&&T.jsx(eP,{}),t]})})}A_.displayName="@mantine/core/MantineProvider";function cc({classNames:e,styles:t,props:r,stylesCtx:n}){const i=or();return{resolvedClassNames:ju({theme:i,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:fu({theme:i,styles:t,props:r,stylesCtx:n||void 0})}}const lP={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function uP({theme:e,options:t,unstyled:r}){return Ut((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||lP[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function dP({selector:e,stylesCtx:t,options:r,props:n,theme:i}){return ju({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function Gw({selector:e,stylesCtx:t,theme:r,classNames:n,props:i}){return ju({theme:r,classNames:n,props:i,stylesCtx:t})[e]}function fP({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function pP({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function hP({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(i=>`${t}-${i}-${r}`)}function mP({themeName:e,theme:t,selector:r,props:n,stylesCtx:i}){return e.map(a=>{var c,l;return(l=ju({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:i}))==null?void 0:l[r]})}function gP({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function vP({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:i,classNames:a,classes:c,unstyled:l,className:d,rootSelector:f,props:v,stylesCtx:y,withStaticClasses:w,headless:S,transformedStyles:b}){return Ut(uP({theme:e,options:t,unstyled:l||S}),mP({theme:e,themeName:r,selector:n,props:v,stylesCtx:y}),gP({options:t,classes:c,selector:n,unstyled:l}),Gw({selector:n,stylesCtx:y,theme:e,classNames:a,props:v}),Gw({selector:n,stylesCtx:y,theme:e,classNames:b,props:v}),dP({selector:n,stylesCtx:y,options:t,props:v,theme:e}),fP({rootSelector:f,selector:n,className:d}),pP({selector:n,classes:c,unstyled:l||S}),w&&!S&&hP({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function yP({theme:e,themeName:t,props:r,stylesCtx:n,selector:i}){return t.map(a=>{var c;return fu({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[i]}).reduce((a,c)=>({...a,...c}),{})}function Ch({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Ch({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function wP(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Ti(r[n])}}),t),{})}function SP({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:i,selector:a,themeName:c,headless:l}){var d;return(d=wP([l?{}:t==null?void 0:t(r,n,i),...c.map(f=>{var v,y,w;return(w=(y=(v=r.components)==null?void 0:v[f])==null?void 0:y.vars)==null?void 0:w.call(y,r,n,i)}),e==null?void 0:e(r,n,i)]))==null?void 0:d[a]}function bP({theme:e,themeName:t,selector:r,options:n,props:i,stylesCtx:a,rootSelector:c,styles:l,style:d,vars:f,varsResolver:v,headless:y,withStylesTransform:w}){return{...!w&&yP({theme:e,themeName:t,props:i,stylesCtx:a,selector:r}),...!w&&fu({theme:e,styles:l,props:i,stylesCtx:a})[r],...!w&&fu({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:a})[r],...SP({theme:e,props:i,stylesCtx:a,vars:f,varsResolver:v,selector:r,themeName:t,headless:y}),...c===r?Ch({style:d,theme:e}):null,...Ch({style:n==null?void 0:n.style,theme:e})}}function _P({props:e,stylesCtx:t,themeName:r}){var c;const n=or(),i=(c=BT())==null?void 0:c();return{getTransformedStyles:l=>i?[...l.map(f=>i(f,{props:e,theme:n,ctx:t})),...r.map(f=>{var v;return i((v=n.components[f])==null?void 0:v.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Ee({name:e,classes:t,props:r,stylesCtx:n,className:i,style:a,rootSelector:c="root",unstyled:l,classNames:d,styles:f,vars:v,varsResolver:y}){const w=or(),S=AT(),b=$T(),R=FT(),C=(Array.isArray(e)?e:[e]).filter(h=>h),{withStylesTransform:E,getTransformedStyles:_}=_P({props:r,stylesCtx:n,themeName:C});return(h,p)=>({className:vP({theme:w,options:p,themeName:C,selector:h,classNamesPrefix:S,classNames:d,classes:t,unstyled:l,className:i,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:b,headless:R,transformedStyles:_([p==null?void 0:p.styles,f])}),style:bP({theme:w,themeName:C,selector:h,options:p,props:r,stylesCtx:n,rootSelector:c,styles:f,style:a,vars:v,varsResolver:y,headless:R,withStylesTransform:E})})}function $_(e,t){return typeof e=="boolean"?e:t.autoContrast}function oe(e,t,r){var c;const n=or(),i=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof i=="function"?i(n):i;return{...t,...a,...Ti(r)}}function $p(e){return pr(e).reduce((t,r)=>e[r]!==void 0?`${t}${eT(r)}:${e[r]};`:t,"").trim()}function xP({selector:e,styles:t,media:r,container:n}){const i=t?$p(t):"",a=Array.isArray(r)?r.map(l=>`@media${l.query}{${e}{${$p(l.styles)}}}`):[],c=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${$p(l.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${a.join("")}${c.join("")}`.trim()}function Lu(e){const t=cm();return T.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:xP(e)}})}function Ou(e){const{m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:l,me:d,ms:f,p:v,px:y,py:w,pt:S,pb:b,pl:R,pr:C,pe:E,ps:_,bd:h,bg:p,c:m,opacity:x,ff:k,fz:M,fw:L,lts:j,ta:A,lh:N,fs:V,tt:W,td:K,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:X,bgp:ce,bgr:de,bga:ee,pos:ie,top:ue,left:me,bottom:he,right:Ce,inset:De,display:vt,flex:ct,hiddenFrom:Ve,visibleFrom:Je,lightHidden:et,darkHidden:Ye,sx:Tt,...mt}=e;return{styleProps:Ti({m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:l,me:d,ms:f,p:v,px:y,py:w,pt:S,pb:b,pl:R,pr:C,pe:E,ps:_,bd:h,bg:p,c:m,opacity:x,ff:k,fz:M,fw:L,lts:j,ta:A,lh:N,fs:V,tt:W,td:K,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:X,bgp:ce,bgr:de,bga:ee,pos:ie,top:ue,left:me,bottom:he,right:Ce,inset:De,display:vt,flex:ct,hiddenFrom:Ve,visibleFrom:Je,lightHidden:et,darkHidden:Ye,sx:Tt}),rest:mt}}const CP={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function pm(e,t){const r=Pi({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function RP(e,t){const r=Pi({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:pm(e,t)}function EP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const[r,n,...i]=e.split(" ").filter(c=>c.trim()!=="");let a=`${te(r)}`;return n&&(a+=` ${n}`),i.length>0&&(a+=` ${pm(i.join(" "),t)}`),a.trim()}return e}const Kw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function TP(e){return typeof e=="string"&&e in Kw?Kw[e]:e}const PP=["h1","h2","h3","h4","h5","h6"];function kP(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&PP.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?te(e):e}function DP(e){return e}const IP=["h1","h2","h3","h4","h5","h6"];function MP(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&IP.includes(e)?`var(--mantine-${e}-line-height)`:e}function jP(e){return typeof e=="number"?te(e):e}function LP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return te(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const Fp={color:pm,textColor:RP,fontSize:kP,spacing:LP,identity:DP,size:jP,lineHeight:MP,fontFamily:TP,border:EP};function Yw(e){return e.replace("(min-width: ","").replace("em)","")}function OP({media:e,...t}){const n=Object.keys(e).sort((i,a)=>Number(Yw(i))-Number(Yw(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:n}}function NP(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function AP(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function $P(e){return typeof e=="object"&&e!==null?pr(e).filter(t=>t!=="base"):[]}function FP(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function F_({styleProps:e,data:t,theme:r}){return OP(pr(e).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const a=t[i],c=Array.isArray(a.property)?a.property:[a.property],l=AP(e[i]);if(!NP(e[i]))return c.forEach(f=>{n.inlineStyles[f]=Fp[a.type](l,r)}),n;n.hasResponsiveStyles=!0;const d=$P(e[i]);return c.forEach(f=>{l&&(n.styles[f]=Fp[a.type](l,r)),d.forEach(v=>{const y=`(min-width: ${r.breakpoints[v]})`;n.media[y]={...n.media[y],[f]:Fp[a.type](FP(e[i],v),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function hm(){return`__m__-${D.useId().replace(/:/g,"")}`}function mm(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...mm(n,t)}),{}):typeof e=="function"?e(t):e??{}}function z_(e){return e.startsWith("data-")?e:`data-${e}`}function zP(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[z_(r)]=e[r]),t},{})}function B_(e){return e?typeof e=="string"?{[z_(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...B_(r)}),{}):zP(e):null}function Rh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Rh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function BP({theme:e,style:t,vars:r,styleProps:n}){const i=Rh(t,e),a=Rh(r,e);return{...i,...a,...n}}const U_=D.forwardRef(({component:e,style:t,__vars:r,className:n,variant:i,mod:a,size:c,hiddenFrom:l,visibleFrom:d,lightHidden:f,darkHidden:v,renderRoot:y,__size:w,...S},b)=>{var M;const R=or(),C=e||"div",{styleProps:E,rest:_}=Ou(S),h=zT(),p=(M=h==null?void 0:h())==null?void 0:M(E.sx),m=hm(),x=F_({styleProps:E,theme:R,data:CP}),k={ref:b,style:BP({theme:R,style:t,vars:r,styleProps:x.inlineStyles}),className:Ut(n,p,{[m]:x.hasResponsiveStyles,"mantine-light-hidden":f,"mantine-dark-hidden":v,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${d}`]:d}),"data-variant":i,"data-size":x_(c)?void 0:c||void 0,size:w,...B_(a),..._};return T.jsxs(T.Fragment,{children:[x.hasResponsiveStyles&&T.jsx(Lu,{selector:`.${m}`,styles:x.styles,media:x.media}),typeof y=="function"?y(k):T.jsx(C,{...k})]})});U_.displayName="@mantine/core/Box";const re=U_;function V_(e){return e}function UP(e){const t=e;return r=>{const n=D.forwardRef((i,a)=>T.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function fe(e){const t=D.forwardRef(e);return t.extend=V_,t.withProps=r=>{const n=D.forwardRef((i,a)=>T.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Qt(e){const t=D.forwardRef(e);return t.withProps=r=>{const n=D.forwardRef((i,a)=>T.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=V_,t}const VP=D.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ks(){return D.useContext(VP)}var Nu=d_();const za=sm(Nu);function HP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function zp(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Ta=typeof window<"u"&&window.requestAnimationFrame;function WP({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const i=D.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[l,d]=D.useState(n?{}:c),f=b=>{Nu.flushSync(()=>d(b))},v=b=>{f(R=>({...R,...b}))};function y(b){const R=e||HP(b);return{transition:`height ${R}ms ${t}, opacity ${R}ms ${t}`}}Bn(()=>{typeof Ta=="function"&&Ta(n?()=>{v({willChange:"height",display:"block",overflow:"hidden"}),Ta(()=>{const b=zp(i);v({...y(b),height:b})})}:()=>{const b=zp(i);v({...y(b),willChange:"height",height:b}),Ta(()=>v({height:a,overflow:"hidden"}))})},[n]);const w=b=>{if(!(b.target!==i.current||b.propertyName!=="height"))if(n){const R=zp(i);R===l.height?f({}):v({height:R}),r()}else l.height===a&&(f(c),r())};function S({style:b={},refKey:R="ref",...C}={}){const E=C[R];return{"aria-hidden":!n,...C,[R]:D_(i,E),onTransitionEnd:w,style:{boxSizing:"border-box",...b,...l}}}return S}const qP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Au=fe((e,t)=>{const{children:r,in:n,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:l,animateOpacity:d,...f}=oe("Collapse",qP,e),v=or(),y=Iu(),S=(v.respectReducedMotion?y:!1)?0:i,b=WP({opened:n,transitionDuration:S,transitionTimingFunction:a,onTransitionEnd:l});return S===0?n?T.jsx(re,{...f,children:r}):null:T.jsx(re,{...b({style:{opacity:n||!d?1:0,transition:d?`opacity ${S}ms ${a}`:"none",...mm(c,v)},ref:t,...f}),children:r})});Au.displayName="@mantine/core/Collapse";function $u(){return typeof window<"u"}function ki(e){return H_(e)?(e.nodeName||"").toLowerCase():"#document"}function hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vn(e){var t;return(t=(H_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H_(e){return $u()?e instanceof Node||e instanceof hr(e).Node:!1}function nt(e){return $u()?e instanceof Element||e instanceof hr(e).Element:!1}function Pr(e){return $u()?e instanceof HTMLElement||e instanceof hr(e).HTMLElement:!1}function Eh(e){return!$u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hr(e).ShadowRoot}function lc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function GP(e){return["table","td","th"].includes(ki(e))}function Fu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gm(e){const t=zu(),r=nt(e)?Br(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function KP(e){let t=is(e);for(;Pr(t)&&!Vs(t);){if(gm(t))return t;if(Fu(t))return null;t=is(t)}return null}function zu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vs(e){return["html","body","#document"].includes(ki(e))}function Br(e){return hr(e).getComputedStyle(e)}function Bu(e){return nt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(ki(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Eh(e)&&e.host||Vn(e);return Eh(t)?t.host:t}function W_(e){const t=is(e);return Vs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&lc(t)?t:W_(t)}function ts(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=W_(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),c=hr(i);if(a){const l=Th(c);return t.concat(c,c.visualViewport||[],lc(i)?i:[],l&&r?ts(l):[])}return t.concat(i,ts(i,[],r))}function Th(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xw(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function ec(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Eh(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function q_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function G_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function YP(e){return ZP()?!1:!Qw()&&e.width===0&&e.height===0||Qw()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function XP(){return/apple/i.test(navigator.vendor)}function Qw(){const e=/android/i;return e.test(q_())||e.test(G_())}function QP(){return q_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ZP(){return G_().includes("jsdom/")}function Ph(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function JP(e){return"nativeEvent"in e}function ek(e){return e.matches("html,body")}function So(e){return(e==null?void 0:e.ownerDocument)||document}function Bp(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function hi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const tk="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function rk(e){return Pr(e)&&e.matches(tk)}const bn=Math.min,Yt=Math.max,pu=Math.round,kl=Math.floor,An=e=>({x:e,y:e}),nk={left:"right",right:"left",bottom:"top",top:"bottom"},sk={start:"end",end:"start"};function kh(e,t,r){return Yt(e,bn(t,r))}function as(e,t){return typeof e=="function"?e(t):e}function _n(e){return e.split("-")[0]}function Di(e){return e.split("-")[1]}function vm(e){return e==="x"?"y":"x"}function ym(e){return e==="y"?"height":"width"}function cs(e){return["top","bottom"].includes(_n(e))?"y":"x"}function wm(e){return vm(cs(e))}function ok(e,t,r){r===void 0&&(r=!1);const n=Di(e),i=wm(e),a=ym(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=hu(c)),[c,hu(c)]}function ik(e){const t=hu(e);return[Dh(e),t,Dh(t)]}function Dh(e){return e.replace(/start|end/g,t=>sk[t])}function ak(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:c;default:return[]}}function ck(e,t,r,n){const i=Di(e);let a=ak(_n(e),r==="start",n);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Dh)))),a}function hu(e){return e.replace(/left|right|bottom|top/g,t=>nk[t])}function lk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sm(e){return typeof e!="number"?lk(e):{top:e,right:e,bottom:e,left:e}}function xi(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Zw(e,t,r){let{reference:n,floating:i}=e;const a=cs(t),c=wm(t),l=ym(c),d=_n(t),f=a==="y",v=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,w=n[l]/2-i[l]/2;let S;switch(d){case"top":S={x:v,y:n.y-i.height};break;case"bottom":S={x:v,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y};break;case"left":S={x:n.x-i.width,y};break;default:S={x:n.x,y:n.y}}switch(Di(t)){case"start":S[c]-=w*(r&&f?-1:1);break;case"end":S[c]+=w*(r&&f?-1:1);break}return S}const uk=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,l=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y}=Zw(f,n,d),w=n,S={},b=0;for(let R=0;R<l.length;R++){const{name:C,fn:E}=l[R],{x:_,y:h,data:p,reset:m}=await E({x:v,y,initialPlacement:n,placement:w,strategy:i,middlewareData:S,rects:f,platform:c,elements:{reference:e,floating:t}});v=_??v,y=h??y,S={...S,[C]:{...S[C],...p}},m&&b<=50&&(b++,typeof m=="object"&&(m.placement&&(w=m.placement),m.rects&&(f=m.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):m.rects),{x:v,y}=Zw(f,w,d)),R=-1)}return{x:v,y,placement:w,strategy:i,middlewareData:S}};async function bm(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:c,elements:l,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=as(t,e),b=Sm(S),C=l[w?y==="floating"?"reference":"floating":y],E=xi(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:v,strategy:d})),_=y==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,h=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),p=await(a.isElement==null?void 0:a.isElement(h))?await(a.getScale==null?void 0:a.getScale(h))||{x:1,y:1}:{x:1,y:1},m=xi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:h,strategy:d}):_);return{top:(E.top-m.top+b.top)/p.y,bottom:(m.bottom-E.bottom+b.bottom)/p.y,left:(E.left-m.left+b.left)/p.x,right:(m.right-E.right+b.right)/p.x}}const dk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:c,elements:l,middlewareData:d}=t,{element:f,padding:v=0}=as(e,t)||{};if(f==null)return{};const y=Sm(v),w={x:r,y:n},S=wm(i),b=ym(S),R=await c.getDimensions(f),C=S==="y",E=C?"top":"left",_=C?"bottom":"right",h=C?"clientHeight":"clientWidth",p=a.reference[b]+a.reference[S]-w[S]-a.floating[b],m=w[S]-a.reference[S],x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let k=x?x[h]:0;(!k||!await(c.isElement==null?void 0:c.isElement(x)))&&(k=l.floating[h]||a.floating[b]);const M=p/2-m/2,L=k/2-R[b]/2-1,j=bn(y[E],L),A=bn(y[_],L),N=j,V=k-R[b]-A,W=k/2-R[b]/2+M,K=kh(N,W,V),O=!d.arrow&&Di(i)!=null&&W!==K&&a.reference[b]/2-(W<N?j:A)-R[b]/2<0,U=O?W<N?W-N:W-V:0;return{[S]:w[S]+U,data:{[S]:K,centerOffset:W-K-U,...O&&{alignmentOffset:U}},reset:O}}}),fk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:c,initialPlacement:l,platform:d,elements:f}=t,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:R=!0,...C}=as(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const E=_n(i),_=cs(l),h=_n(l)===l,p=await(d.isRTL==null?void 0:d.isRTL(f.floating)),m=w||(h||!R?[hu(l)]:ik(l)),x=b!=="none";!w&&x&&m.push(...ck(l,R,b,p));const k=[l,...m],M=await bm(t,C),L=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(v&&L.push(M[E]),y){const W=ok(i,c,p);L.push(M[W[0]],M[W[1]])}if(j=[...j,{placement:i,overflows:L}],!L.every(W=>W<=0)){var A,N;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,K=k[W];if(K)return{data:{index:W,overflows:j},reset:{placement:K}};let O=(N=j.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(S){case"bestFit":{var V;const U=(V=j.filter(F=>{if(x){const z=cs(F.placement);return z===_||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:V[0];U&&(O=U);break}case"initialPlacement":O=l;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function K_(e){const t=bn(...e.map(a=>a.left)),r=bn(...e.map(a=>a.top)),n=Yt(...e.map(a=>a.right)),i=Yt(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:i-r}}function pk(e){const t=e.slice().sort((i,a)=>i.y-a.y),r=[];let n=null;for(let i=0;i<t.length;i++){const a=t[i];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(i=>xi(K_(i)))}const hk=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:i,platform:a,strategy:c}=t,{padding:l=2,x:d,y:f}=as(e,t),v=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),y=pk(v),w=xi(K_(v)),S=Sm(l);function b(){if(y.length===2&&y[0].left>y[1].right&&d!=null&&f!=null)return y.find(C=>d>C.left-S.left&&d<C.right+S.right&&f>C.top-S.top&&f<C.bottom+S.bottom)||w;if(y.length>=2){if(cs(r)==="y"){const j=y[0],A=y[y.length-1],N=_n(r)==="top",V=j.top,W=A.bottom,K=N?j.left:A.left,O=N?j.right:A.right,U=O-K,F=W-V;return{top:V,bottom:W,left:K,right:O,width:U,height:F,x:K,y:V}}const C=_n(r)==="left",E=Yt(...y.map(j=>j.right)),_=bn(...y.map(j=>j.left)),h=y.filter(j=>C?j.left===_:j.right===E),p=h[0].top,m=h[h.length-1].bottom,x=_,k=E,M=k-x,L=m-p;return{top:p,bottom:m,left:x,right:k,width:M,height:L,x,y:p}}return w}const R=await a.getElementRects({reference:{getBoundingClientRect:b},floating:n.floating,strategy:c});return i.reference.x!==R.reference.x||i.reference.y!==R.reference.y||i.reference.width!==R.reference.width||i.reference.height!==R.reference.height?{reset:{rects:R}}:{}}}};async function mk(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=_n(r),l=Di(r),d=cs(r)==="y",f=["left","top"].includes(c)?-1:1,v=a&&d?-1:1,y=as(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return l&&typeof b=="number"&&(S=l==="end"?b*-1:b),d?{x:S*v,y:w*f}:{x:w*f,y:S*v}}const gk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:c,middlewareData:l}=t,d=await mk(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},vk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:C=>{let{x:E,y:_}=C;return{x:E,y:_}}},...d}=as(e,t),f={x:r,y:n},v=await bm(t,d),y=cs(_n(i)),w=vm(y);let S=f[w],b=f[y];if(a){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",_=S+v[C],h=S-v[E];S=kh(_,S,h)}if(c){const C=y==="y"?"top":"left",E=y==="y"?"bottom":"right",_=b+v[C],h=b-v[E];b=kh(_,b,h)}const R=l.fn({...t,[w]:S,[y]:b});return{...R,data:{x:R.x-r,y:R.y-n,enabled:{[w]:a,[y]:c}}}}}},yk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=as(e,t),v={x:r,y:n},y=cs(i),w=vm(y);let S=v[w],b=v[y];const R=as(l,t),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(d){const h=w==="y"?"height":"width",p=a.reference[w]-a.floating[h]+C.mainAxis,m=a.reference[w]+a.reference[h]-C.mainAxis;S<p?S=p:S>m&&(S=m)}if(f){var E,_;const h=w==="y"?"width":"height",p=["top","left"].includes(_n(i)),m=a.reference[y]-a.floating[h]+(p&&((E=c.offset)==null?void 0:E[y])||0)+(p?0:C.crossAxis),x=a.reference[y]+a.reference[h]+(p?0:((_=c.offset)==null?void 0:_[y])||0)-(p?C.crossAxis:0);b<m?b=m:b>x&&(b=x)}return{[w]:S,[y]:b}}}},wk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:c,elements:l}=t,{apply:d=()=>{},...f}=as(e,t),v=await bm(t,f),y=_n(i),w=Di(i),S=cs(i)==="y",{width:b,height:R}=a.floating;let C,E;y==="top"||y==="bottom"?(C=y,E=w===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(E=y,C=w==="end"?"top":"bottom");const _=R-v.top-v.bottom,h=b-v.left-v.right,p=bn(R-v[C],_),m=bn(b-v[E],h),x=!t.middlewareData.shift;let k=p,M=m;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=h),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=_),x&&!w){const j=Yt(v.left,0),A=Yt(v.right,0),N=Yt(v.top,0),V=Yt(v.bottom,0);S?M=b-2*(j!==0||A!==0?j+A:Yt(v.left,v.right)):k=R-2*(N!==0||V!==0?N+V:Yt(v.top,v.bottom))}await d({...t,availableWidth:M,availableHeight:k});const L=await c.getDimensions(l.floating);return b!==L.width||R!==L.height?{reset:{rects:!0}}:{}}}};function Y_(e){const t=Br(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Pr(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:n,l=pu(r)!==a||pu(n)!==c;return l&&(r=a,n=c),{width:r,height:n,$:l}}function _m(e){return nt(e)?e:e.contextElement}function wi(e){const t=_m(e);if(!Pr(t))return An(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=Y_(t);let c=(a?pu(r.width):r.width)/n,l=(a?pu(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const Sk=An(0);function X_(e){const t=hr(e);return!zu()||!t.visualViewport?Sk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hr(e)?!1:t}function Ro(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=_m(e);let c=An(1);t&&(n?nt(n)&&(c=wi(n)):c=wi(e));const l=bk(a,r,n)?X_(a):An(0);let d=(i.left+l.x)/c.x,f=(i.top+l.y)/c.y,v=i.width/c.x,y=i.height/c.y;if(a){const w=hr(a),S=n&&nt(n)?hr(n):n;let b=w,R=Th(b);for(;R&&n&&S!==b;){const C=wi(R),E=R.getBoundingClientRect(),_=Br(R),h=E.left+(R.clientLeft+parseFloat(_.paddingLeft))*C.x,p=E.top+(R.clientTop+parseFloat(_.paddingTop))*C.y;d*=C.x,f*=C.y,v*=C.x,y*=C.y,d+=h,f+=p,b=hr(R),R=Th(b)}}return xi({width:v,height:y,x:d,y:f})}function xm(e,t){const r=Bu(e).scrollLeft;return t?t.left+r:Ro(Vn(e)).left+r}function Q_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:xm(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function _k(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",c=Vn(n),l=t?Fu(t.floating):!1;if(n===c||l&&a)return r;let d={scrollLeft:0,scrollTop:0},f=An(1);const v=An(0),y=Pr(n);if((y||!y&&!a)&&((ki(n)!=="body"||lc(c))&&(d=Bu(n)),Pr(n))){const S=Ro(n);f=wi(n),v.x=S.x+n.clientLeft,v.y=S.y+n.clientTop}const w=c&&!y&&!a?Q_(c,d,!0):An(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+v.x+w.x,y:r.y*f.y-d.scrollTop*f.y+v.y+w.y}}function xk(e){return Array.from(e.getClientRects())}function Ck(e){const t=Vn(e),r=Bu(e),n=e.ownerDocument.body,i=Yt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Yt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+xm(e);const l=-r.scrollTop;return Br(n).direction==="rtl"&&(c+=Yt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:c,y:l}}function Rk(e,t){const r=hr(e),n=Vn(e),i=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,l=0,d=0;if(i){a=i.width,c=i.height;const f=zu();(!f||f&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:l,y:d}}function Ek(e,t){const r=Ro(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Pr(e)?wi(e):An(1),c=e.clientWidth*a.x,l=e.clientHeight*a.y,d=i*a.x,f=n*a.y;return{width:c,height:l,x:d,y:f}}function Jw(e,t,r){let n;if(t==="viewport")n=Rk(e,r);else if(t==="document")n=Ck(Vn(e));else if(nt(t))n=Ek(t,r);else{const i=X_(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xi(n)}function Z_(e,t){const r=is(e);return r===t||!nt(r)||Vs(r)?!1:Br(r).position==="fixed"||Z_(r,t)}function Tk(e,t){const r=t.get(e);if(r)return r;let n=ts(e,[],!1).filter(l=>nt(l)&&ki(l)!=="body"),i=null;const a=Br(e).position==="fixed";let c=a?is(e):e;for(;nt(c)&&!Vs(c);){const l=Br(c),d=gm(c);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lc(c)&&!d&&Z_(e,c))?n=n.filter(v=>v!==c):i=l,c=is(c)}return t.set(e,n),n}function Pk(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Fu(t)?[]:Tk(t,this._c):[].concat(r),n],l=c[0],d=c.reduce((f,v)=>{const y=Jw(t,v,i);return f.top=Yt(y.top,f.top),f.right=bn(y.right,f.right),f.bottom=bn(y.bottom,f.bottom),f.left=Yt(y.left,f.left),f},Jw(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function kk(e){const{width:t,height:r}=Y_(e);return{width:t,height:r}}function Dk(e,t,r){const n=Pr(t),i=Vn(t),a=r==="fixed",c=Ro(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=An(0);if(n||!n&&!a)if((ki(t)!=="body"||lc(i))&&(l=Bu(t)),n){const w=Ro(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else i&&(d.x=xm(i));const f=i&&!n&&!a?Q_(i,l):An(0),v=c.left+l.scrollLeft-d.x-f.x,y=c.top+l.scrollTop-d.y-f.y;return{x:v,y,width:c.width,height:c.height}}function Up(e){return Br(e).position==="static"}function eS(e,t){if(!Pr(e)||Br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Vn(e)===r&&(r=r.ownerDocument.body),r}function J_(e,t){const r=hr(e);if(Fu(e))return r;if(!Pr(e)){let i=is(e);for(;i&&!Vs(i);){if(nt(i)&&!Up(i))return i;i=is(i)}return r}let n=eS(e,t);for(;n&&GP(n)&&Up(n);)n=eS(n,t);return n&&Vs(n)&&Up(n)&&!gm(n)?r:n||KP(e)||r}const Ik=async function(e){const t=this.getOffsetParent||J_,r=this.getDimensions,n=await r(e.floating);return{reference:Dk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mk(e){return Br(e).direction==="rtl"}const jk={convertOffsetParentRelativeRectToViewportRelativeRect:_k,getDocumentElement:Vn,getClippingRect:Pk,getOffsetParent:J_,getElementRects:Ik,getClientRects:xk,getDimensions:kk,getScale:wi,isElement:nt,isRTL:Mk};function e0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lk(e,t){let r=null,n;const i=Vn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:v,top:y,width:w,height:S}=f;if(l||t(),!w||!S)return;const b=kl(y),R=kl(i.clientWidth-(v+w)),C=kl(i.clientHeight-(y+S)),E=kl(v),h={rootMargin:-b+"px "+-R+"px "+-C+"px "+-E+"px",threshold:Yt(0,bn(1,d))||1};let p=!0;function m(x){const k=x[0].intersectionRatio;if(k!==d){if(!p)return c();k?c(!1,k):n=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!e0(f,e.getBoundingClientRect())&&c(),p=!1}try{r=new IntersectionObserver(m,{...h,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,h)}r.observe(e)}return c(!0),a}function Ok(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=_m(e),v=i||a?[...f?ts(f):[],...ts(t)]:[];v.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),a&&E.addEventListener("resize",r)});const y=f&&l?Lk(f,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(E=>{let[_]=E;_&&_.target===f&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var h;(h=S)==null||h.observe(t)})),r()}),f&&!d&&S.observe(f),S.observe(t));let b,R=d?Ro(e):null;d&&C();function C(){const E=Ro(e);R&&!e0(R,E)&&r(),R=E,b=requestAnimationFrame(C)}return r(),()=>{var E;v.forEach(_=>{i&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),y==null||y(),(E=S)==null||E.disconnect(),S=null,d&&cancelAnimationFrame(b)}}const Nk=gk,Ak=vk,$k=fk,Fk=wk,tS=dk,zk=hk,Bk=yk,Uk=(e,t,r)=>{const n=new Map,i={platform:jk,...r},a={...i.platform,_c:n};return uk(e,t,{...i,platform:a})};var Hl=typeof document<"u"?D.useLayoutEffect:D.useEffect;function mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!mu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function t0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rS(e,t){const r=t0(e);return Math.round(t*r)/r}function Vp(e){const t=D.useRef(e);return Hl(()=>{t.current=e}),t}function Vk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:c}={},transform:l=!0,whileElementsMounted:d,open:f}=e,[v,y]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=D.useState(n);mu(w,n)||S(n);const[b,R]=D.useState(null),[C,E]=D.useState(null),_=D.useCallback(F=>{F!==x.current&&(x.current=F,R(F))},[]),h=D.useCallback(F=>{F!==k.current&&(k.current=F,E(F))},[]),p=a||b,m=c||C,x=D.useRef(null),k=D.useRef(null),M=D.useRef(v),L=d!=null,j=Vp(d),A=Vp(i),N=Vp(f),V=D.useCallback(()=>{if(!x.current||!k.current)return;const F={placement:t,strategy:r,middleware:w};A.current&&(F.platform=A.current),Uk(x.current,k.current,F).then(z=>{const q={...z,isPositioned:N.current!==!1};W.current&&!mu(M.current,q)&&(M.current=q,Nu.flushSync(()=>{y(q)}))})},[w,t,r,A,N]);Hl(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,y(F=>({...F,isPositioned:!1})))},[f]);const W=D.useRef(!1);Hl(()=>(W.current=!0,()=>{W.current=!1}),[]),Hl(()=>{if(p&&(x.current=p),m&&(k.current=m),p&&m){if(j.current)return j.current(p,m,V);V()}},[p,m,V,j,L]);const K=D.useMemo(()=>({reference:x,floating:k,setReference:_,setFloating:h}),[_,h]),O=D.useMemo(()=>({reference:p,floating:m}),[p,m]),U=D.useMemo(()=>{const F={position:r,left:0,top:0};if(!O.floating)return F;const z=rS(O.floating,v.x),q=rS(O.floating,v.y);return l?{...F,transform:"translate("+z+"px, "+q+"px)",...t0(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,l,O.floating,v.x,v.y]);return D.useMemo(()=>({...v,update:V,refs:K,elements:O,floatingStyles:U}),[v,V,K,O,U])}const Hk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?tS({element:n.current,padding:i}).fn(r):{}:n?tS({element:n,padding:i}).fn(r):{}}}},r0=(e,t)=>({...Nk(e),options:[e,t]}),Cm=(e,t)=>({...Ak(e),options:[e,t]}),nS=(e,t)=>({...Bk(e),options:[e,t]}),gu=(e,t)=>({...$k(e),options:[e,t]}),Wk=(e,t)=>({...Fk(e),options:[e,t]}),Ga=(e,t)=>({...zk(e),options:[e,t]}),n0=(e,t)=>({...Hk(e),options:[e,t]});function qk(e){return D.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const s0={...f_},Gk=s0.useInsertionEffect,Kk=Gk||(e=>e());function es(e){const t=D.useRef(()=>{});return Kk(()=>{t.current=e}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var $n=typeof document<"u"?D.useLayoutEffect:D.useEffect;let sS=!1,Yk=0;const oS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Yk++;function Xk(){const[e,t]=D.useState(()=>sS?oS():void 0);return $n(()=>{e==null&&t(oS())},[]),D.useEffect(()=>{sS=!0},[]),e}const Qk=s0.useId,o0=Qk||Xk;function Zk(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const Jk=D.createContext(null),eD=D.createContext(null),Rm=()=>{var e;return((e=D.useContext(Jk))==null?void 0:e.id)||null},Em=()=>D.useContext(eD);function Tm(e){return"data-floating-ui-"+e}function Hp(e){const t=D.useRef(e);return $n(()=>{t.current=e}),t}const iS=Tm("safe-polygon");function Wl(e,t,r){return r&&!Ph(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function tD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:c}=e,{enabled:l=!0,delay:d=0,handleClose:f=null,mouseOnly:v=!1,restMs:y=0,move:w=!0}=t,S=Em(),b=Rm(),R=Hp(f),C=Hp(d),E=Hp(r),_=D.useRef(),h=D.useRef(-1),p=D.useRef(),m=D.useRef(-1),x=D.useRef(!0),k=D.useRef(!1),M=D.useRef(()=>{}),L=D.useRef(!1),j=D.useCallback(()=>{var U;const F=(U=i.current.openEvent)==null?void 0:U.type;return(F==null?void 0:F.includes("mouse"))&&F!=="mousedown"},[i]);D.useEffect(()=>{if(!l)return;function U(F){let{open:z}=F;z||(clearTimeout(h.current),clearTimeout(m.current),x.current=!0,L.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[l,a]),D.useEffect(()=>{if(!l||!R.current||!r)return;function U(z){j()&&n(!1,z,"hover")}const F=So(c.floating).documentElement;return F.addEventListener("mouseleave",U),()=>{F.removeEventListener("mouseleave",U)}},[c.floating,r,n,l,R,j]);const A=D.useCallback(function(U,F,z){F===void 0&&(F=!0),z===void 0&&(z="hover");const q=Wl(C.current,"close",_.current);q&&!p.current?(clearTimeout(h.current),h.current=window.setTimeout(()=>n(!1,U,z),q)):F&&(clearTimeout(h.current),n(!1,U,z))},[C,n]),N=es(()=>{M.current(),p.current=void 0}),V=es(()=>{if(k.current){const U=So(c.floating).body;U.style.pointerEvents="",U.removeAttribute(iS),k.current=!1}}),W=es(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);D.useEffect(()=>{if(!l)return;function U(B){if(clearTimeout(h.current),x.current=!1,v&&!Ph(_.current)||y>0&&!Wl(C.current,"open"))return;const X=Wl(C.current,"open",_.current);X?h.current=window.setTimeout(()=>{E.current||n(!0,B,"hover")},X):r||n(!0,B,"hover")}function F(B){if(W())return;M.current();const X=So(c.floating);if(clearTimeout(m.current),L.current=!1,R.current&&i.current.floatingContext){r||clearTimeout(h.current),p.current=R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B,!0,"safe-polygon")}});const de=p.current;X.addEventListener("mousemove",de),M.current=()=>{X.removeEventListener("mousemove",de)};return}(_.current==="touch"?!ec(c.floating,B.relatedTarget):!0)&&A(B)}function z(B){W()||i.current.floatingContext&&(R.current==null||R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B)}})(B))}if(nt(c.domReference)){var q;const B=c.domReference;return r&&B.addEventListener("mouseleave",z),(q=c.floating)==null||q.addEventListener("mouseleave",z),w&&B.addEventListener("mousemove",U,{once:!0}),B.addEventListener("mouseenter",U),B.addEventListener("mouseleave",F),()=>{var X;r&&B.removeEventListener("mouseleave",z),(X=c.floating)==null||X.removeEventListener("mouseleave",z),w&&B.removeEventListener("mousemove",U),B.removeEventListener("mouseenter",U),B.removeEventListener("mouseleave",F)}}},[c,l,e,v,y,w,A,N,V,n,r,E,S,C,R,i,W]),$n(()=>{var U;if(l&&r&&(U=R.current)!=null&&U.__options.blockPointerEvents&&j()){k.current=!0;const z=c.floating;if(nt(c.domReference)&&z){var F;const q=So(c.floating).body;q.setAttribute(iS,"");const B=c.domReference,X=S==null||(F=S.nodesRef.current.find(ce=>ce.id===b))==null||(F=F.context)==null?void 0:F.elements.floating;return X&&(X.style.pointerEvents=""),q.style.pointerEvents="none",B.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{q.style.pointerEvents="",B.style.pointerEvents="",z.style.pointerEvents=""}}}},[l,r,b,c,S,R,j]),$n(()=>{r||(_.current=void 0,L.current=!1,N(),V())},[r,N,V]),D.useEffect(()=>()=>{N(),clearTimeout(h.current),clearTimeout(m.current),V()},[l,c.domReference,N,V]);const K=D.useMemo(()=>{function U(F){_.current=F.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(F){const{nativeEvent:z}=F;function q(){!x.current&&!E.current&&n(!0,z,"hover")}v&&!Ph(_.current)||r||y===0||L.current&&F.movementX**2+F.movementY**2<2||(clearTimeout(m.current),_.current==="touch"?q():(L.current=!0,m.current=window.setTimeout(q,y)))}}},[v,n,r,E,y]),O=D.useMemo(()=>({onMouseEnter(){clearTimeout(h.current)},onMouseLeave(U){W()||A(U.nativeEvent,!1)}}),[A,W]);return D.useMemo(()=>l?{reference:K,floating:O}:{},[l,K,O])}const Ih=()=>{},i0=D.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Ih,setState:Ih,isInstantPhase:!1}),rD=()=>D.useContext(i0);function nD(e){const{children:t,delay:r,timeoutMs:n=0}=e,[i,a]=D.useReducer((d,f)=>({...d,...f}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=D.useRef(null),l=D.useCallback(d=>{a({currentId:d})},[]);return $n(()=>{i.currentId?c.current===null?c.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[i.currentId,i.isInstantPhase]),D.createElement(i0.Provider,{value:D.useMemo(()=>({...i,setState:a,setCurrentId:l}),[i,l])},t)}function sD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:i}=e,{id:a,enabled:c=!0}=t,l=a??i,d=rD(),{currentId:f,setCurrentId:v,initialDelay:y,setState:w,timeoutMs:S}=d;return $n(()=>{c&&f&&(w({delay:{open:1,close:Wl(y,"close")}}),f!==l&&n(!1))},[c,l,n,w,f,y]),$n(()=>{function b(){n(!1),w({delay:y,currentId:null})}if(c&&f&&!r&&f===l){if(S){const R=window.setTimeout(b,S);return()=>{clearTimeout(R)}}b()}},[c,r,w,f,l,n,y,S]),$n(()=>{c&&(v===Ih||!r||v(l))},[c,r,v,l]),d}function Wp(e,t){let r=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(i=>{var a;return(a=n)==null?void 0:a.some(c=>{var l;return i.parentId===c.id&&((l=i.context)==null?void 0:l.open)})}),r=r.concat(n);return r}const oD="data-floating-ui-focusable",iD={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},aD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},aS=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function cD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:i,dataRef:a}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:y="pointerdown",ancestorScroll:w=!1,bubbles:S,capture:b}=t,R=Em(),C=es(typeof d=="function"?d:()=>!1),E=typeof d=="function"?C:d,_=D.useRef(!1),h=D.useRef(!1),{escapeKey:p,outsidePress:m}=aS(S),{escapeKey:x,outsidePress:k}=aS(b),M=D.useRef(!1),L=es(K=>{var O;if(!r||!c||!l||K.key!=="Escape"||M.current)return;const U=(O=a.current.floatingContext)==null?void 0:O.nodeId,F=R?Wp(R.nodesRef.current,U):[];if(!p&&(K.stopPropagation(),F.length>0)){let z=!0;if(F.forEach(q=>{var B;if((B=q.context)!=null&&B.open&&!q.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}n(!1,JP(K)?K.nativeEvent:K,"escape-key")}),j=es(K=>{var O;const U=()=>{var F;L(K),(F=hi(K))==null||F.removeEventListener("keydown",U)};(O=hi(K))==null||O.addEventListener("keydown",U)}),A=es(K=>{var O;const U=_.current;_.current=!1;const F=h.current;if(h.current=!1,f==="click"&&F||U||typeof E=="function"&&!E(K))return;const z=hi(K),q="["+Tm("inert")+"]",B=So(i.floating).querySelectorAll(q);let X=nt(z)?z:null;for(;X&&!Vs(X);){const ie=is(X);if(Vs(ie)||!nt(ie))break;X=ie}if(B.length&&nt(z)&&!ek(z)&&!ec(z,i.floating)&&Array.from(B).every(ie=>!ec(X,ie)))return;if(Pr(z)&&W){const ie=z.clientWidth>0&&z.scrollWidth>z.clientWidth,ue=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let me=ue&&K.offsetX>z.clientWidth;if(ue&&Br(z).direction==="rtl"&&(me=K.offsetX<=z.offsetWidth-z.clientWidth),me||ie&&K.offsetY>z.clientHeight)return}const ce=(O=a.current.floatingContext)==null?void 0:O.nodeId,de=R&&Wp(R.nodesRef.current,ce).some(ie=>{var ue;return Bp(K,(ue=ie.context)==null?void 0:ue.elements.floating)});if(Bp(K,i.floating)||Bp(K,i.domReference)||de)return;const ee=R?Wp(R.nodesRef.current,ce):[];if(ee.length>0){let ie=!0;if(ee.forEach(ue=>{var me;if((me=ue.context)!=null&&me.open&&!ue.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}n(!1,K,"outside-press")}),N=es(K=>{var O;const U=()=>{var F;A(K),(F=hi(K))==null||F.removeEventListener(f,U)};(O=hi(K))==null||O.addEventListener(f,U)});D.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=p,a.current.__outsidePressBubbles=m;let K=-1;function O(B){n(!1,B,"ancestor-scroll")}function U(){window.clearTimeout(K),M.current=!0}function F(){K=window.setTimeout(()=>{M.current=!1},zu()?5:0)}const z=So(i.floating);l&&(z.addEventListener("keydown",x?j:L,x),z.addEventListener("compositionstart",U),z.addEventListener("compositionend",F)),E&&z.addEventListener(f,k?N:A,k);let q=[];return w&&(nt(i.domReference)&&(q=ts(i.domReference)),nt(i.floating)&&(q=q.concat(ts(i.floating))),!nt(i.reference)&&i.reference&&i.reference.contextElement&&(q=q.concat(ts(i.reference.contextElement)))),q=q.filter(B=>{var X;return B!==((X=z.defaultView)==null?void 0:X.visualViewport)}),q.forEach(B=>{B.addEventListener("scroll",O,{passive:!0})}),()=>{l&&(z.removeEventListener("keydown",x?j:L,x),z.removeEventListener("compositionstart",U),z.removeEventListener("compositionend",F)),E&&z.removeEventListener(f,k?N:A,k),q.forEach(B=>{B.removeEventListener("scroll",O)}),window.clearTimeout(K)}},[a,i,l,E,f,r,n,w,c,p,m,L,x,j,A,k,N]),D.useEffect(()=>{_.current=!1},[E,f]);const V=D.useMemo(()=>({onKeyDown:L,[iD[y]]:K=>{v&&n(!1,K.nativeEvent,"reference-press")}}),[L,n,v,y]),W=D.useMemo(()=>({onKeyDown:L,onMouseDown(){h.current=!0},onMouseUp(){h.current=!0},[aD[f]]:()=>{_.current=!0}}),[L,f]);return D.useMemo(()=>c?{reference:V,floating:W}:{},[c,V,W])}function lD(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=o0(),a=D.useRef({}),[c]=D.useState(()=>Zk()),l=Rm()!=null,[d,f]=D.useState(n.reference),v=es((S,b,R)=>{a.current.openEvent=S?b:void 0,c.emit("openchange",{open:S,event:b,reason:R,nested:l}),r==null||r(S,b,R)}),y=D.useMemo(()=>({setPositionReference:f}),[]),w=D.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return D.useMemo(()=>({dataRef:a,open:t,onOpenChange:v,elements:w,events:c,floatingId:i,refs:y}),[t,v,w,c,i,y])}function Pm(e){e===void 0&&(e={});const{nodeId:t}=e,r=lD({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,c]=D.useState(null),[l,d]=D.useState(null),v=(i==null?void 0:i.domReference)||a,y=D.useRef(null),w=Em();$n(()=>{v&&(y.current=v)},[v]);const S=Vk({...e,elements:{...i,...l&&{reference:l}}}),b=D.useCallback(h=>{const p=nt(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;d(p),S.refs.setReference(p)},[S.refs]),R=D.useCallback(h=>{(nt(h)||h===null)&&(y.current=h,c(h)),(nt(S.refs.reference.current)||S.refs.reference.current===null||h!==null&&!nt(h))&&S.refs.setReference(h)},[S.refs]),C=D.useMemo(()=>({...S.refs,setReference:R,setPositionReference:b,domReference:y}),[S.refs,R,b]),E=D.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),_=D.useMemo(()=>({...S,...n,refs:C,elements:E,nodeId:t}),[S,C,E,t,n]);return $n(()=>{n.dataRef.current.floatingContext=_;const h=w==null?void 0:w.nodesRef.current.find(p=>p.id===t);h&&(h.context=_)}),D.useMemo(()=>({...S,context:_,refs:C,elements:E}),[S,C,E,_])}function uD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:c}=e,{enabled:l=!0,visibleOnly:d=!0}=t,f=D.useRef(!1),v=D.useRef(),y=D.useRef(!0);D.useEffect(()=>{if(!l)return;const S=hr(c.domReference);function b(){!r&&Pr(c.domReference)&&c.domReference===Xw(So(c.domReference))&&(f.current=!0)}function R(){y.current=!0}return S.addEventListener("blur",b),S.addEventListener("keydown",R,!0),()=>{S.removeEventListener("blur",b),S.removeEventListener("keydown",R,!0)}},[c.domReference,r,l]),D.useEffect(()=>{if(!l)return;function S(b){let{reason:R}=b;(R==="reference-press"||R==="escape-key")&&(f.current=!0)}return i.on("openchange",S),()=>{i.off("openchange",S)}},[i,l]),D.useEffect(()=>()=>{clearTimeout(v.current)},[]);const w=D.useMemo(()=>({onPointerDown(S){YP(S.nativeEvent)||(y.current=!1)},onMouseLeave(){f.current=!1},onFocus(S){if(f.current)return;const b=hi(S.nativeEvent);if(d&&nt(b))try{if(XP()&&QP())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!y.current&&!rk(b))return}n(!0,S.nativeEvent,"focus")},onBlur(S){f.current=!1;const b=S.relatedTarget,R=S.nativeEvent,C=nt(b)&&b.hasAttribute(Tm("focus-guard"))&&b.getAttribute("data-type")==="outside";v.current=window.setTimeout(()=>{var E;const _=Xw(c.domReference?c.domReference.ownerDocument:document);!b&&_===c.domReference||ec((E=a.current.floatingContext)==null?void 0:E.refs.floating.current,_)||ec(c.domReference,_)||C||n(!1,R,"focus")})}}),[a,c.domReference,n,d]);return D.useMemo(()=>l?{reference:w}:{},[l,w])}const cS="active",lS="selected";function qp(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[cS]:c,[lS]:l,...d}=e;a=d}return{...r==="floating"&&{tabIndex:-1,[oD]:""},...a,...t.map(c=>{const l=c?c[r]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((c,l)=>(l&&Object.entries(l).forEach(d=>{let[f,v]=d;if(!(i&&[cS,lS].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof v=="function"){var y;(y=n.get(f))==null||y.push(v),c[f]=function(){for(var w,S=arguments.length,b=new Array(S),R=0;R<S;R++)b[R]=arguments[R];return(w=n.get(f))==null?void 0:w.map(C=>C(...b)).find(C=>C!==void 0)}}}else c[f]=v}),c),{})}}function dD(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),r=e.map(l=>l==null?void 0:l.floating),n=e.map(l=>l==null?void 0:l.item),i=D.useCallback(l=>qp(l,e,"reference"),t),a=D.useCallback(l=>qp(l,e,"floating"),r),c=D.useCallback(l=>qp(l,e,"item"),n);return D.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:c}),[i,a,c])}const fD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function pD(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:i}=e,{enabled:a=!0,role:c="dialog"}=t,l=(r=fD.get(c))!=null?r:c,d=o0(),v=Rm()!=null,y=D.useMemo(()=>l==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?i:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":n?i:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:d},...l==="menu"&&v&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[l,i,v,n,d,c]),w=D.useMemo(()=>{const b={id:i,...l&&{role:l}};return l==="tooltip"||c==="label"?b:{...b,...l==="menu"&&{"aria-labelledby":d}}},[l,i,d,c]),S=D.useCallback(b=>{let{active:R,selected:C}=b;const E={role:"option",...R&&{id:i+"-option"}};switch(c){case"select":return{...E,"aria-selected":R&&C};case"combobox":return{...E,...R&&{"aria-selected":!0}}}return{}},[i,c]);return D.useMemo(()=>a?{reference:y,floating:w,item:S}:{},[a,y,w,S])}const[hD,Vr]=Rn("ScrollArea.Root component was not found in tree");function Ci(e,t){const r=wo(t);ac(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}const mD=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Vr(),[a,c]=D.useState(0),[l,d]=D.useState(0),f=!!(a&&l);return Ci(i.scrollbarX,()=>{var y;const v=((y=i.scrollbarX)==null?void 0:y.offsetHeight)||0;i.onCornerHeightChange(v),d(v)}),Ci(i.scrollbarY,()=>{var y;const v=((y=i.scrollbarY)==null?void 0:y.offsetWidth)||0;i.onCornerWidthChange(v),c(v)}),f?T.jsx("div",{...n,ref:t,style:{...r,width:a,height:l}}):null}),gD=D.forwardRef((e,t)=>{const r=Vr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?T.jsx(mD,{...e,ref:t}):null}),vD={scrollHideDelay:1e3,type:"hover"},a0=D.forwardRef((e,t)=>{const r=oe("ScrollAreaRoot",vD,e),{type:n,scrollHideDelay:i,scrollbars:a,...c}=r,[l,d]=D.useState(null),[f,v]=D.useState(null),[y,w]=D.useState(null),[S,b]=D.useState(null),[R,C]=D.useState(null),[E,_]=D.useState(0),[h,p]=D.useState(0),[m,x]=D.useState(!1),[k,M]=D.useState(!1),L=Vt(t,j=>d(j));return T.jsx(hD,{value:{type:n,scrollHideDelay:i,scrollArea:l,viewport:f,onViewportChange:v,content:y,onContentChange:w,scrollbarX:S,onScrollbarXChange:b,scrollbarXEnabled:m,onScrollbarXEnabledChange:x,scrollbarY:R,onScrollbarYChange:C,scrollbarYEnabled:k,onScrollbarYEnabledChange:M,onCornerWidthChange:_,onCornerHeightChange:p},children:T.jsx(re,{...c,ref:L,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${E}px`,"--sa-corner-height":a!=="xy"?"0px":`${h}px`}})})});a0.displayName="@mantine/core/ScrollAreaRoot";function c0(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Uu(e){const t=c0(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function l0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yD(e,[t,r]){return Math.min(r,Math.max(t,e))}function uS(e,t,r="ltr"){const n=Uu(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,c]:[c*-1,0],f=yD(e,d);return l0([0,c],[0,l])(f)}function wD(e,t,r,n="ltr"){const i=Uu(r),a=i/2,c=t||a,l=i-c,d=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,v=r.content-r.viewport,y=n==="ltr"?[0,v]:[v*-1,0];return l0([d,f],y)(e)}function u0(e,t){return e>0&&e<t}function vu(e){return e?parseInt(e,10):0}function _o(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[SD,d0]=Rn("ScrollAreaScrollbar was not found in tree"),f0=D.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:f,onResize:v,...y}=e,w=Vr(),[S,b]=D.useState(null),R=Vt(t,M=>b(M)),C=D.useRef(null),E=D.useRef(""),{viewport:_}=w,h=r.content-r.viewport,p=wo(f),m=wo(l),x=Du(v,10),k=M=>{if(C.current){const L=M.clientX-C.current.left,j=M.clientY-C.current.top;d({x:L,y:j})}};return D.useEffect(()=>{const M=L=>{const j=L.target;(S==null?void 0:S.contains(j))&&p(L,h)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[_,S,h,p]),D.useEffect(m,[r,m]),Ci(S,x),Ci(w.content,x),T.jsx(SD,{value:{scrollbar:S,hasThumb:n,onThumbChange:wo(i),onThumbPointerUp:wo(a),onThumbPositionChange:m,onThumbPointerDown:wo(c)},children:T.jsx("div",{...y,ref:R,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:_o(e.onPointerDown,M=>{M.preventDefault(),M.button===0&&(M.target.setPointerCapture(M.pointerId),C.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(M))}),onPointerMove:_o(e.onPointerMove,k),onPointerUp:_o(e.onPointerUp,M=>{const L=M.target;L.hasPointerCapture(M.pointerId)&&(M.preventDefault(),L.releasePointerCapture(M.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=E.current,C.current=null}})})}),p0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Vr(),[l,d]=D.useState(),f=D.useRef(null),v=Vt(t,f,c.onScrollbarXChange);return D.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),T.jsx(f0,{"data-orientation":"horizontal",...a,ref:v,sizes:r,style:{...i,"--sa-thumb-width":`${Uu(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollLeft+y.deltaX;e.onWheelScroll(S),u0(S,w)&&y.preventDefault()}},onResize:()=>{f.current&&c.viewport&&l&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:vu(l.paddingLeft),paddingEnd:vu(l.paddingRight)}})}})});p0.displayName="@mantine/core/ScrollAreaScrollbarX";const h0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Vr(),[l,d]=D.useState(),f=D.useRef(null),v=Vt(t,f,c.onScrollbarYChange);return D.useEffect(()=>{f.current&&d(window.getComputedStyle(f.current))},[]),T.jsx(f0,{...a,"data-orientation":"vertical",ref:v,sizes:r,style:{"--sa-thumb-height":`${Uu(r)}px`,...i},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollTop+y.deltaY;e.onWheelScroll(S),u0(S,w)&&y.preventDefault()}},onResize:()=>{f.current&&c.viewport&&l&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:vu(l.paddingTop),paddingEnd:vu(l.paddingBottom)}})}})});h0.displayName="@mantine/core/ScrollAreaScrollbarY";const Vu=D.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:i}=Ks(),a=Vr(),c=D.useRef(null),l=D.useRef(0),[d,f]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=c0(d.viewport,d.content),y={...n,sizes:d,onSizesChange:f,hasThumb:v>0&&v<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:S=>{l.current=S}},w=(S,b)=>wD(S,l.current,d,b);return r==="horizontal"?T.jsx(p0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollLeft,b=uS(S,d,i);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollLeft=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollLeft=w(S,i))}}):r==="vertical"?T.jsx(h0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollTop,b=uS(S,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollTop=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollTop=w(S))}}):null});Vu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const km=D.forwardRef((e,t)=>{const r=Vr(),{forceMount:n,...i}=e,[a,c]=D.useState(!1),l=e.orientation==="horizontal",d=Du(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?f:v)}},10);return Ci(r.viewport,d),Ci(r.content,d),n||a?T.jsx(Vu,{"data-state":a?"visible":"hidden",...i,ref:t}):null});km.displayName="@mantine/core/ScrollAreaScrollbarAuto";const m0=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Vr(),[a,c]=D.useState(!1);return D.useEffect(()=>{const{scrollArea:l}=i;let d=0;if(l){const f=()=>{window.clearTimeout(d),c(!0)},v=()=>{d=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",v),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",v)}}},[i.scrollArea,i.scrollHideDelay]),r||a?T.jsx(km,{"data-state":a?"visible":"hidden",...n,ref:t}):null});m0.displayName="@mantine/core/ScrollAreaScrollbarHover";const bD=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Vr(),a=e.orientation==="horizontal",[c,l]=D.useState("hidden"),d=Du(()=>l("idle"),100);return D.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,i.scrollHideDelay]),D.useEffect(()=>{const{viewport:f}=i,v=a?"scrollLeft":"scrollTop";if(f){let y=f[v];const w=()=>{const S=f[v];y!==S&&(l("scrolling"),d()),y=S};return f.addEventListener("scroll",w),()=>f.removeEventListener("scroll",w)}},[i.viewport,a,d]),r||c!=="hidden"?T.jsx(Vu,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:_o(e.onPointerEnter,()=>l("interacting")),onPointerLeave:_o(e.onPointerLeave,()=>l("idle"))}):null}),Mh=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Vr(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,l=e.orientation==="horizontal";return D.useEffect(()=>(l?a(!0):c(!0),()=>{l?a(!1):c(!1)}),[l,a,c]),i.type==="hover"?T.jsx(m0,{...n,ref:t,forceMount:r}):i.type==="scroll"?T.jsx(bD,{...n,ref:t,forceMount:r}):i.type==="auto"?T.jsx(km,{...n,ref:t,forceMount:r}):i.type==="always"?T.jsx(Vu,{...n,ref:t}):null});Mh.displayName="@mantine/core/ScrollAreaScrollbar";function _D(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,l=r.top!==a.top;(c||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const g0=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Vr(),a=d0(),{onThumbPositionChange:c}=a,l=Vt(t,v=>a.onThumbChange(v)),d=D.useRef(void 0),f=Du(()=>{d.current&&(d.current(),d.current=void 0)},100);return D.useEffect(()=>{const{viewport:v}=i;if(v){const y=()=>{if(f(),!d.current){const w=_D(v,c);d.current=w,c()}};return c(),v.addEventListener("scroll",y),()=>v.removeEventListener("scroll",y)}},[i.viewport,f,c]),T.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:_o(e.onPointerDownCapture,v=>{const w=v.target.getBoundingClientRect(),S=v.clientX-w.left,b=v.clientY-w.top;a.onThumbPointerDown({x:S,y:b})}),onPointerUp:_o(e.onPointerUp,a.onThumbPointerUp)})});g0.displayName="@mantine/core/ScrollAreaThumb";const jh=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=d0();return r||i.hasThumb?T.jsx(g0,{ref:t,...n}):null});jh.displayName="@mantine/core/ScrollAreaThumb";const v0=D.forwardRef(({children:e,style:t,...r},n)=>{const i=Vr(),a=Vt(n,i.onViewportChange);return T.jsx(re,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:T.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});v0.displayName="@mantine/core/ScrollAreaViewport";var Dm={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const y0={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},xD=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":te(t),"--scrollarea-over-scroll-behavior":r}}),Ir=fe((e,t)=>{const r=oe("ScrollArea",y0,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,scrollbarSize:d,vars:f,type:v,scrollHideDelay:y,viewportProps:w,viewportRef:S,onScrollPositionChange:b,children:R,offsetScrollbars:C,scrollbars:E,onBottomReached:_,onTopReached:h,overscrollBehavior:p,...m}=r,[x,k]=D.useState(!1),[M,L]=D.useState(!1),[j,A]=D.useState(!1),N=Ee({name:"ScrollArea",props:r,classes:Dm,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:xD}),V=D.useRef(null),W=qk([S,V]);return D.useEffect(()=>{if(!V.current||C!=="present")return;const K=V.current,O=new ResizeObserver(()=>{const{scrollHeight:U,clientHeight:F,scrollWidth:z,clientWidth:q}=K;L(U>F),A(z>q)});return O.observe(K),()=>O.disconnect()},[V,C]),T.jsxs(a0,{type:v==="never"?"always":v,scrollHideDelay:y,ref:t,scrollbars:E,...N("root"),...m,children:[T.jsx(v0,{...w,...N("viewport",{style:w==null?void 0:w.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":E||void 0,"data-horizontal-hidden":C==="present"&&!j?"true":void 0,"data-vertical-hidden":C==="present"&&!M?"true":void 0,onScroll:K=>{var z;(z=w==null?void 0:w.onScroll)==null||z.call(w,K),b==null||b({x:K.currentTarget.scrollLeft,y:K.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:U,clientHeight:F}=K.currentTarget;O-(U-F)>=0&&(_==null||_()),O===0&&(h==null||h())},children:R}),(E==="xy"||E==="x")&&T.jsx(Mh,{...N("scrollbar"),orientation:"horizontal","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:T.jsx(jh,{...N("thumb")})}),(E==="xy"||E==="y")&&T.jsx(Mh,{...N("scrollbar"),orientation:"vertical","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:T.jsx(jh,{...N("thumb")})}),T.jsx(gD,{...N("corner"),"data-hovered":x||void 0,"data-hidden":v==="never"||void 0})]})});Ir.displayName="@mantine/core/ScrollArea";const Im=fe((e,t)=>{const{children:r,classNames:n,styles:i,scrollbarSize:a,scrollHideDelay:c,type:l,dir:d,offsetScrollbars:f,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:b,scrollbars:R,style:C,vars:E,onBottomReached:_,onTopReached:h,...p}=oe("ScrollAreaAutosize",y0,e);return T.jsx(re,{...p,ref:t,style:[{display:"flex",overflow:"auto"},C],children:T.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1},children:T.jsx(Ir,{classNames:n,styles:i,scrollHideDelay:c,scrollbarSize:a,type:l,dir:d,offsetScrollbars:f,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:b,vars:E,scrollbars:R,onBottomReached:_,onTopReached:h,children:r})})})});Ir.classes=Dm;Im.displayName="@mantine/core/ScrollAreaAutosize";Im.classes=Dm;Ir.Autosize=Im;var w0={root:"m_87cf2631"};const CD={__staticSelector:"UnstyledButton"},Ys=Qt((e,t)=>{const r=oe("UnstyledButton",CD,e),{className:n,component:i="button",__staticSelector:a,unstyled:c,classNames:l,styles:d,style:f,...v}=r,y=Ee({name:a,props:r,classes:w0,className:n,style:f,classNames:l,styles:d,unstyled:c});return T.jsx(re,{...y("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...v})});Ys.classes=w0;Ys.displayName="@mantine/core/UnstyledButton";var S0={root:"m_515a97f8"};const RD={},Mm=fe((e,t)=>{const r=oe("VisuallyHidden",RD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,...f}=r,v=Ee({name:"VisuallyHidden",classes:S0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l});return T.jsx(re,{component:"span",ref:t,...v("root"),...f})});Mm.classes=S0;Mm.displayName="@mantine/core/VisuallyHidden";var b0={root:"m_1b7284a3"};const ED={},TD=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Dt(t),"--paper-shadow":am(r)}}),Hu=Qt((e,t)=>{const r=oe("Paper",ED,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,withBorder:d,vars:f,radius:v,shadow:y,variant:w,mod:S,...b}=r,R=Ee({name:"Paper",props:r,classes:b0,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:TD});return T.jsx(re,{ref:t,mod:[{"data-with-border":d},S],...R("root"),variant:w,...b})});Hu.classes=b0;Hu.displayName="@mantine/core/Paper";function _0(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),i=r==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return t}function dS(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function fS(e,t,r,n,i){return e==="center"||n==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:r}:e==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const PD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function kD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,arrowX:a,arrowY:c,dir:l}){const[d,f="center"]=e.split("-"),v={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[PD[d]]:n},y=-t/2;return d==="left"?{...v,...dS(f,c,r,i),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...v,...dS(f,c,r,i),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...v,...fS(f,a,r,i,l),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...v,...fS(f,a,r,i,l),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const jm=D.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,visible:a,arrowX:c,arrowY:l,style:d,...f},v)=>{const{dir:y}=Ks();return a?T.jsx("div",{...f,ref:v,style:{...d,...kD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,dir:y,arrowX:c,arrowY:l})}}):null});jm.displayName="@mantine/core/FloatingArrow";var x0={root:"m_9814e45f"};const DD={zIndex:yr("modal")},ID=(e,{gradient:t,color:r,backgroundOpacity:n,blur:i,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&Ln(r||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${te(i)})`:void 0,"--overlay-radius":a===void 0?void 0:Dt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),Wu=Qt((e,t)=>{const r=oe("Overlay",DD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,fixed:f,center:v,children:y,radius:w,zIndex:S,gradient:b,blur:R,color:C,backgroundOpacity:E,mod:_,...h}=r,p=Ee({name:"Overlay",props:r,classes:x0,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:ID});return T.jsx(re,{ref:t,...p("root"),mod:[{center:v,fixed:f},_],...h,children:y})});Wu.classes=x0;Wu.displayName="@mantine/core/Overlay";function Gp(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function MD({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Gp(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const i=Gp(r);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return Gp(r)}const jD={},C0=fe((e,t)=>{const{children:r,target:n,reuseTargetNode:i,...a}=oe("Portal",jD,e),[c,l]=D.useState(!1),d=D.useRef(null);return ac(()=>(l(!0),d.current=MD({target:n,reuseTargetNode:i,...a}),_h(t,d.current),!n&&!i&&d.current&&document.body.appendChild(d.current),()=>{!n&&!i&&d.current&&document.body.removeChild(d.current)}),[n]),!c||!d.current?null:Nu.createPortal(T.jsx(T.Fragment,{children:r}),d.current)});C0.displayName="@mantine/core/Portal";const Po=fe(({withinPortal:e=!0,children:t,...r},n)=>j_()==="test"||!e?T.jsx(T.Fragment,{children:t}):T.jsx(C0,{ref:n,...r,children:t}));Po.displayName="@mantine/core/OptionalPortal";const Pa=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Dl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Pa("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Pa("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Pa("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Pa("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Pa("top"),common:{transformOrigin:"top right"}}},pS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function LD({transition:e,state:t,duration:r,timingFunction:n}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in Dl?{transitionProperty:Dl[e].transitionProperty,...i,...Dl[e].common,...Dl[e][pS[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[pS[t]]}}function OD({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:i,onExit:a,onEntered:c,onExited:l,enterDelay:d,exitDelay:f}){const v=or(),y=Iu(),w=v.respectReducedMotion?y:!1,[S,b]=D.useState(w?0:e),[R,C]=D.useState(n?"entered":"exited"),E=D.useRef(-1),_=D.useRef(-1),h=D.useRef(-1),p=x=>{const k=x?i:a,M=x?c:l;window.clearTimeout(E.current);const L=w?0:x?e:t;b(L),L===0?(typeof k=="function"&&k(),typeof M=="function"&&M(),C(x?"entered":"exited")):h.current=requestAnimationFrame(()=>{za.flushSync(()=>{C(x?"pre-entering":"pre-exiting")}),h.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),C(x?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof M=="function"&&M(),C(x?"entered":"exited")},L)})})},m=x=>{if(window.clearTimeout(_.current),typeof(x?d:f)!="number"){p(x);return}_.current=window.setTimeout(()=>{p(x)},x?d:f)};return Bn(()=>{m(n)},[n]),D.useEffect(()=>()=>{window.clearTimeout(E.current),cancelAnimationFrame(h.current)},[]),{transitionDuration:S,transitionStatus:R,transitionTimingFunction:r||"ease"}}function us({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:i,children:a,timingFunction:c="ease",onExit:l,onEntered:d,onEnter:f,onExited:v,enterDelay:y,exitDelay:w}){const S=j_(),{transitionDuration:b,transitionStatus:R,transitionTimingFunction:C}=OD({mounted:i,exitDuration:n,duration:r,timingFunction:c,onExit:l,onEntered:d,onEnter:f,onExited:v,enterDelay:y,exitDelay:w});return b===0||S==="test"?i?T.jsx(T.Fragment,{children:a({})}):e?a({display:"none"}):null:R==="exited"?e?a({display:"none"}):null:T.jsx(T.Fragment,{children:a(LD({transition:t,duration:b,state:R,timingFunction:C}))})}us.displayName="@mantine/core/Transition";const[ND,R0]=Rn("Popover component was not found in the tree");function qu({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const i=CT(t),a=Vt(i,n);return Ws(e)?D.cloneElement(e,{[r]:a}):e}function E0(e){return T.jsx(Mm,{tabIndex:-1,"data-autofocus":!0,...e})}qu.displayName="@mantine/core/FocusTrap";E0.displayName="@mantine/core/FocusTrapInitialFocus";qu.InitialFocus=E0;var T0={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const AD={},Lm=fe((e,t)=>{var C,E,_,h;const r=oe("PopoverDropdown",AD,e),{className:n,style:i,vars:a,children:c,onKeyDownCapture:l,variant:d,classNames:f,styles:v,...y}=r,w=R0(),S=E_({opened:w.opened,shouldReturnFocus:w.returnFocus}),b=w.withRoles?{"aria-labelledby":w.getTargetId(),id:w.getDropdownId(),role:"dialog",tabIndex:-1}:{},R=Vt(t,w.floating);return w.disabled?null:T.jsx(Po,{...w.portalProps,withinPortal:w.withinPortal,children:T.jsx(us,{mounted:w.opened,...w.transitionProps,transition:((C=w.transitionProps)==null?void 0:C.transition)||"fade",duration:((E=w.transitionProps)==null?void 0:E.duration)??150,keepMounted:w.keepMounted,exitDuration:typeof((_=w.transitionProps)==null?void 0:_.exitDuration)=="number"?w.transitionProps.exitDuration:(h=w.transitionProps)==null?void 0:h.duration,children:p=>T.jsx(qu,{active:w.trapFocus&&w.opened,innerRef:R,children:T.jsxs(re,{...b,...y,variant:d,onKeyDownCapture:aT(()=>{var m,x;(m=w.onClose)==null||m.call(w),(x=w.onDismiss)==null||x.call(w)},{active:w.closeOnEscape,onTrigger:S,onKeyDown:l}),"data-position":w.placement,"data-fixed":w.floatingStrategy==="fixed"||void 0,...w.getStyles("dropdown",{className:n,props:r,classNames:f,styles:v,style:[{...p,zIndex:w.zIndex,top:w.y??0,left:w.x??0,width:w.width==="target"?void 0:te(w.width)},w.resolvedStyles.dropdown,v==null?void 0:v.dropdown,i]}),children:[c,T.jsx(jm,{ref:w.arrowRef,arrowX:w.arrowX,arrowY:w.arrowY,visible:w.withArrow,position:w.placement,arrowSize:w.arrowSize,arrowRadius:w.arrowRadius,arrowOffset:w.arrowOffset,arrowPosition:w.arrowPosition,...w.getStyles("arrow",{props:r,classNames:f,styles:v})})]})})})})});Lm.classes=T0;Lm.displayName="@mantine/core/PopoverDropdown";const $D={refProp:"ref",popupType:"dialog"},P0=fe((e,t)=>{const{children:r,refProp:n,popupType:i,...a}=oe("PopoverTarget",$D,e);if(!Ws(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,l=R0(),d=Vt(l.reference,Mu(r),t),f=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return D.cloneElement(r,{...c,...f,...l.targetProps,className:Ut(l.targetProps.className,c.className,r.props.className),[n]:d,...l.controlled?null:{onClick:l.onToggle}})});P0.displayName="@mantine/core/PopoverTarget";function k0({opened:e,floating:t,position:r,positionDependencies:n}){const[i,a]=D.useState(0);D.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Ok(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,r]),Bn(()=>{t.update()},n),Bn(()=>{a(c=>c+1)},[e])}function FD(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function zD(e,t){const r=FD(e.middlewares),n=[r0(e.offset)];return r.shift&&n.push(Cm(typeof r.shift=="boolean"?{limiter:nS(),padding:5}:{limiter:nS(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?gu():gu(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Ga():Ga(r.inline)),n.push(n0({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(Wk({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:c,...l}){var v;const f=((v=t().refs.floating.current)==null?void 0:v.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:c,...l}):Object.assign(f,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(f,{width:`${i.reference.width}px`})}})),n}function BD(e){const[t,r]=os({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=D.useRef(t),i=()=>{t&&r(!1)},a=()=>r(!t),c=Pm({strategy:e.strategy,placement:e.position,middleware:zD(e,()=>c)});return k0({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Bn(()=>{var l;(l=e.onPositionChange)==null||l.call(e,c.placement)},[c.placement]),Bn(()=>{var l,d;t!==n.current&&(t?(d=e.onOpen)==null||d.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:a}}const UD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:yr("popover"),__staticSelector:"Popover",width:"max-content"},VD=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Dt(t),"--popover-shadow":am(r)}});function mr(e){var Ot,Te,Pe,ye,Le,yt;const t=oe("Popover",UD,e),{children:r,position:n,offset:i,onPositionChange:a,positionDependencies:c,opened:l,transitionProps:d,onExitTransitionEnd:f,onEnterTransitionEnd:v,width:y,middlewares:w,withArrow:S,arrowSize:b,arrowOffset:R,arrowRadius:C,arrowPosition:E,unstyled:_,classNames:h,styles:p,closeOnClickOutside:m,withinPortal:x,portalProps:k,closeOnEscape:M,clickOutsideEvents:L,trapFocus:j,onClose:A,onDismiss:N,onOpen:V,onChange:W,zIndex:K,radius:O,shadow:U,id:F,defaultOpened:z,__staticSelector:q,withRoles:B,disabled:X,returnFocus:ce,variant:de,keepMounted:ee,vars:ie,floatingStrategy:ue,withOverlay:me,overlayProps:he,...Ce}=t,De=Ee({name:q,props:t,classes:T0,classNames:h,styles:p,unstyled:_,rootSelector:"dropdown",vars:ie,varsResolver:VD}),{resolvedStyles:vt}=cc({classNames:h,styles:p,props:t}),ct=D.useRef(null),[Ve,Je]=D.useState(null),[et,Ye]=D.useState(null),{dir:Tt}=Ks(),mt=qs(F),He=BD({middlewares:w,width:y,position:_0(Tt,n),offset:typeof i=="number"?i+(S?b/2:0):i,arrowRef:ct,arrowOffset:R,onPositionChange:a,positionDependencies:c,opened:l,defaultOpened:z,onChange:W,onOpen:V,onClose:A,onDismiss:N,strategy:ue});hT(()=>{m&&(He.onClose(),N==null||N())},L,[Ve,et]);const Ae=D.useCallback(Be=>{Je(Be),He.floating.refs.setReference(Be)},[He.floating.refs.setReference]),lt=D.useCallback(Be=>{Ye(Be),He.floating.refs.setFloating(Be)},[He.floating.refs.setFloating]),It=D.useCallback(()=>{var Be;(Be=d==null?void 0:d.onExited)==null||Be.call(d),f==null||f()},[d==null?void 0:d.onExited,f]),ut=D.useCallback(()=>{var Be;(Be=d==null?void 0:d.onEntered)==null||Be.call(d),v==null||v()},[d==null?void 0:d.onEntered,v]);return T.jsxs(ND,{value:{returnFocus:ce,disabled:X,controlled:He.controlled,reference:Ae,floating:lt,x:He.floating.x,y:He.floating.y,arrowX:(Pe=(Te=(Ot=He.floating)==null?void 0:Ot.middlewareData)==null?void 0:Te.arrow)==null?void 0:Pe.x,arrowY:(yt=(Le=(ye=He.floating)==null?void 0:ye.middlewareData)==null?void 0:Le.arrow)==null?void 0:yt.y,opened:He.opened,arrowRef:ct,transitionProps:{...d,onExited:It,onEntered:ut},width:y,withArrow:S,arrowSize:b,arrowOffset:R,arrowRadius:C,arrowPosition:E,placement:He.floating.placement,trapFocus:j,withinPortal:x,portalProps:k,zIndex:K,radius:O,shadow:U,closeOnEscape:M,onDismiss:N,onClose:He.onClose,onToggle:He.onToggle,getTargetId:()=>`${mt}-target`,getDropdownId:()=>`${mt}-dropdown`,withRoles:B,targetProps:Ce,__staticSelector:q,classNames:h,styles:p,unstyled:_,variant:de,keepMounted:ee,getStyles:De,resolvedStyles:vt,floatingStrategy:ue},children:[r,me&&T.jsx(us,{transition:"fade",mounted:He.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:Be=>T.jsx(Po,{withinPortal:x,children:T.jsx(Wu,{...he,...De("overlay",{className:he==null?void 0:he.className,style:[Be,he==null?void 0:he.style]})})})})]})}mr.Target=P0;mr.Dropdown=Lm;mr.displayName="@mantine/core/Popover";mr.extend=e=>e;var Sn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const D0=D.forwardRef(({className:e,...t},r)=>T.jsxs(re,{component:"span",className:Ut(Sn.barsLoader,e),...t,ref:r,children:[T.jsx("span",{className:Sn.bar}),T.jsx("span",{className:Sn.bar}),T.jsx("span",{className:Sn.bar})]}));D0.displayName="@mantine/core/Bars";const I0=D.forwardRef(({className:e,...t},r)=>T.jsxs(re,{component:"span",className:Ut(Sn.dotsLoader,e),...t,ref:r,children:[T.jsx("span",{className:Sn.dot}),T.jsx("span",{className:Sn.dot}),T.jsx("span",{className:Sn.dot})]}));I0.displayName="@mantine/core/Dots";const M0=D.forwardRef(({className:e,...t},r)=>T.jsx(re,{component:"span",className:Ut(Sn.ovalLoader,e),...t,ref:r}));M0.displayName="@mantine/core/Oval";const j0={bars:D0,oval:M0,dots:I0},HD={loaders:j0,type:"oval"},WD=(e,{size:t,color:r})=>({root:{"--loader-size":Ke(t,"loader-size"),"--loader-color":r?gr(r,e):void 0}}),Ii=fe((e,t)=>{const r=oe("Loader",HD,e),{size:n,color:i,type:a,vars:c,className:l,style:d,classNames:f,styles:v,unstyled:y,loaders:w,variant:S,children:b,...R}=r,C=Ee({name:"Loader",props:r,classes:Sn,className:l,style:d,classNames:f,styles:v,unstyled:y,vars:c,varsResolver:WD});return b?T.jsx(re,{...C("root"),ref:t,...R,children:b}):T.jsx(re,{...C("root"),ref:t,component:w[a],variant:S,size:n,...R})});Ii.defaultLoaders=j0;Ii.classes=Sn;Ii.displayName="@mantine/core/Loader";var Mi={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const hS={orientation:"horizontal"},qD=(e,{borderWidth:t})=>({group:{"--ai-border-width":te(t)}}),Om=fe((e,t)=>{const r=oe("ActionIconGroup",hS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,orientation:d,vars:f,borderWidth:v,variant:y,mod:w,...S}=oe("ActionIconGroup",hS,e),b=Ee({name:"ActionIconGroup",props:r,classes:Mi,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:f,varsResolver:qD,rootSelector:"group"});return T.jsx(re,{...b("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});Om.classes=Mi;Om.displayName="@mantine/core/ActionIconGroup";const mS={},GD=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Ke(c,"section-height"),"--section-padding-x":Ke(c,"section-padding-x"),"--section-fz":sr(c),"--section-radius":t===void 0?void 0:Dt(t),"--section-bg":r||i?l.background:void 0,"--section-color":l.color,"--section-bd":r||i?l.border:void 0}}},Nm=fe((e,t)=>{const r=oe("ActionIconGroupSection",mS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,variant:f,gradient:v,radius:y,autoContrast:w,...S}=oe("ActionIconGroupSection",mS,e),b=Ee({name:"ActionIconGroupSection",props:r,classes:Mi,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:GD,rootSelector:"groupSection"});return T.jsx(re,{...b("groupSection"),ref:t,variant:f,...S})});Nm.classes=Mi;Nm.displayName="@mantine/core/ActionIconGroupSection";const KD={},YD=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":Ke(t,"ai-size"),"--ai-radius":r===void 0?void 0:Dt(r),"--ai-bg":a||n?l.background:void 0,"--ai-hover":a||n?l.hover:void 0,"--ai-hover-color":a||n?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":a||n?l.border:void 0}}},st=Qt((e,t)=>{const r=oe("ActionIcon",KD,e),{className:n,unstyled:i,variant:a,classNames:c,styles:l,style:d,loading:f,loaderProps:v,size:y,color:w,radius:S,__staticSelector:b,gradient:R,vars:C,children:E,disabled:_,"data-disabled":h,autoContrast:p,mod:m,...x}=r,k=Ee({name:["ActionIcon",b],props:r,className:n,style:d,classes:Mi,classNames:c,styles:l,unstyled:i,vars:C,varsResolver:YD});return T.jsxs(Ys,{...k("root",{active:!_&&!f&&!h}),...x,unstyled:i,variant:a,size:y,disabled:_||f,ref:t,mod:[{loading:f,disabled:_||h},m],children:[T.jsx(us,{mounted:!!f,transition:"slide-down",duration:150,children:M=>T.jsx(re,{component:"span",...k("loader",{style:M}),"aria-hidden":!0,children:T.jsx(Ii,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...v})})}),T.jsx(re,{component:"span",mod:{loading:f},...k("icon"),children:E})]})});st.classes=Mi;st.displayName="@mantine/core/ActionIcon";st.Group=Om;st.GroupSection=Nm;const L0=D.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>T.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:T.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));L0.displayName="@mantine/core/CloseIcon";var O0={root:"m_86a44da5","root--subtle":"m_220c80f2"};const XD={variant:"subtle"},QD=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Ke(t,"cb-size"),"--cb-radius":r===void 0?void 0:Dt(r),"--cb-icon-size":te(n)}}),uc=Qt((e,t)=>{const r=oe("CloseButton",XD,e),{iconSize:n,children:i,vars:a,radius:c,className:l,classNames:d,style:f,styles:v,unstyled:y,"data-disabled":w,disabled:S,variant:b,icon:R,mod:C,__staticSelector:E,..._}=r,h=Ee({name:E||"CloseButton",props:r,className:l,style:f,classes:O0,classNames:d,styles:v,unstyled:y,vars:a,varsResolver:QD});return T.jsxs(Ys,{ref:t,..._,unstyled:y,variant:b,disabled:S,mod:[{disabled:S||w},C],...h("root",{variant:b,active:!S&&!w}),children:[R||T.jsx(L0,{}),i]})});uc.classes=O0;uc.displayName="@mantine/core/CloseButton";function ZD(e){return D.Children.toArray(e).filter(Boolean)}var N0={root:"m_4081bf90"};const JD={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},e2=(e,{grow:t,preventGrowOverflow:r,gap:n,align:i,justify:a,wrap:c},{childWidth:l})=>({root:{"--group-child-width":t&&r?l:void 0,"--group-gap":nr(n),"--group-align":i,"--group-justify":a,"--group-wrap":c}}),Qe=fe((e,t)=>{const r=oe("Group",JD,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,children:d,gap:f,align:v,justify:y,wrap:w,grow:S,preventGrowOverflow:b,vars:R,variant:C,__size:E,mod:_,...h}=r,p=ZD(d),m=p.length,x=nr(f??"md"),M={childWidth:`calc(${100/m}% - (${x} - ${x} / ${m}))`},L=Ee({name:"Group",props:r,stylesCtx:M,className:i,style:a,classes:N0,classNames:n,styles:c,unstyled:l,vars:R,varsResolver:e2});return T.jsx(re,{...L("root"),ref:t,variant:C,mod:[{grow:S},_],size:E,...h,children:p})});Qe.classes=N0;Qe.displayName="@mantine/core/Group";const[t2,ds]=Rn("ModalBase component was not found in tree");function r2({opened:e,transitionDuration:t}){const[r,n]=D.useState(e),i=D.useRef(-1),c=Iu()?0:t;return D.useEffect(()=>(e?(n(!0),window.clearTimeout(i.current)):c===0?n(!1):i.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(i.current)),[e,c]),r}function n2({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:i,onClose:a,returnFocus:c}){const l=qs(e),[d,f]=D.useState(!1),[v,y]=D.useState(!1),w=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=r2({opened:r,transitionDuration:w});return kT("keydown",b=>{var R;b.key==="Escape"&&i&&r&&((R=b.target)==null?void 0:R.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),E_({opened:r,shouldReturnFocus:n&&c}),{_id:l,titleMounted:d,bodyMounted:v,shouldLockScroll:S,setTitleMounted:f,setBodyMounted:y}}const Am=D.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:l,closeOnEscape:d,returnFocus:f,closeOnClickOutside:v,withinPortal:y,portalProps:w,lockScroll:S,children:b,zIndex:R,shadow:C,padding:E,__vars:_,unstyled:h,removeScrollProps:p,...m},x)=>{const{_id:k,titleMounted:M,bodyMounted:L,shouldLockScroll:j,setTitleMounted:A,setBodyMounted:N}=n2({id:n,transitionProps:i,opened:t,trapFocus:l,closeOnEscape:d,onClose:r,returnFocus:f}),{key:V,...W}=p||{};return T.jsx(Po,{...w,withinPortal:y,children:T.jsx(t2,{value:{opened:t,onClose:r,closeOnClickOutside:v,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:M,bodyMounted:L,setTitleMounted:A,setBodyMounted:N,trapFocus:l,closeOnEscape:d,zIndex:R,unstyled:h},children:T.jsx(uu,{enabled:j&&S,...W,children:T.jsx(re,{ref:x,...m,__vars:{..._,"--mb-z-index":(R||yr("modal")).toString(),"--mb-shadow":am(C),"--mb-padding":nr(E)},children:b})},V)})})});Am.displayName="@mantine/core/ModalBase";function s2(){const e=ds();return D.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Ri={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const $m=D.forwardRef(({className:e,...t},r)=>{const n=s2(),i=ds();return T.jsx(re,{ref:r,...t,id:n,className:Ut({[Ri.body]:!i.unstyled},e)})});$m.displayName="@mantine/core/ModalBaseBody";const Fm=D.forwardRef(({className:e,onClick:t,...r},n)=>{const i=ds();return T.jsx(uc,{ref:n,...r,onClick:a=>{i.onClose(),t==null||t(a)},className:Ut({[Ri.close]:!i.unstyled},e),unstyled:i.unstyled})});Fm.displayName="@mantine/core/ModalBaseCloseButton";const zm=D.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:i,...a},c)=>{const l=ds();return T.jsx(us,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var d,f,v;(d=l.onExitTransitionEnd)==null||d.call(l),(v=(f=l.transitionProps)==null?void 0:f.onExited)==null||v.call(f)},onEntered:()=>{var d,f,v;(d=l.onEnterTransitionEnd)==null||d.call(l),(v=(f=l.transitionProps)==null?void 0:f.onEntered)==null||v.call(f)},...e,children:d=>T.jsx("div",{...r,className:Ut({[Ri.inner]:!l.unstyled},r.className),children:T.jsx(qu,{active:l.opened&&l.trapFocus,innerRef:c,children:T.jsx(Hu,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[i,d],className:Ut({[Ri.content]:!l.unstyled},t),unstyled:l.unstyled,children:a.children})})})})});zm.displayName="@mantine/core/ModalBaseContent";const Bm=D.forwardRef(({className:e,...t},r)=>{const n=ds();return T.jsx(re,{component:"header",ref:r,className:Ut({[Ri.header]:!n.unstyled},e),...t})});Bm.displayName="@mantine/core/ModalBaseHeader";const o2={duration:200,timingFunction:"ease",transition:"fade"};function i2(e){const t=ds();return{...o2,...t.transitionProps,...e}}const Um=D.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...i},a)=>{const c=ds(),l=i2(t);return T.jsx(us,{mounted:n!==void 0?n:c.opened,...l,transition:"fade",children:d=>T.jsx(Wu,{ref:a,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:f=>{e==null||e(f),c.closeOnClickOutside&&c.onClose()},...i})})});Um.displayName="@mantine/core/ModalBaseOverlay";function a2(){const e=ds();return D.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Vm=D.forwardRef(({className:e,...t},r)=>{const n=a2(),i=ds();return T.jsx(re,{component:"h2",ref:r,className:Ut({[Ri.title]:!i.unstyled},e),...t,id:n})});Vm.displayName="@mantine/core/ModalBaseTitle";function A0({children:e}){return T.jsx(T.Fragment,{children:e})}const[c2,l2]=ku({size:"sm"}),u2={},$0=fe((e,t)=>{const r=oe("InputClearButton",u2,e),{size:n,variant:i,vars:a,classNames:c,styles:l,...d}=r,f=l2(),{resolvedClassNames:v,resolvedStyles:y}=cc({classNames:c,styles:l,props:r});return T.jsx(uc,{variant:i||"transparent",ref:t,size:n||(f==null?void 0:f.size)||"sm",classNames:v,styles:y,__staticSelector:"InputClearButton",...d})});$0.displayName="@mantine/core/InputClearButton";const[d2,Gu]=ku({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Hr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const gS={},f2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${sr(t)} - ${te(2)})`}}),Ku=fe((e,t)=>{const r=oe("InputDescription",gS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:f,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=oe("InputDescription",gS,r),b=Gu(),R=Ee({name:["InputWrapper",v],props:r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"description",vars:d,varsResolver:f2}),C=y&&(b==null?void 0:b.getStyles)||R;return T.jsx(re,{component:"p",ref:t,variant:w,size:f,...C("description",b!=null&&b.getStyles?{className:i,style:a}:void 0),...S})});Ku.classes=Hr;Ku.displayName="@mantine/core/InputDescription";const p2={},h2=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${sr(t)} - ${te(2)})`}}),Yu=fe((e,t)=>{const r=oe("InputError",p2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:f,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=r,b=Ee({name:["InputWrapper",v],props:r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"error",vars:d,varsResolver:h2}),R=Gu(),C=y&&(R==null?void 0:R.getStyles)||b;return T.jsx(re,{component:"p",ref:t,variant:w,size:f,...C("error",R!=null&&R.getStyles?{className:i,style:a}:void 0),...S})});Yu.classes=Hr;Yu.displayName="@mantine/core/InputError";const vS={labelElement:"label"},m2=(e,{size:t})=>({label:{"--input-label-size":sr(t),"--input-asterisk-color":void 0}}),Xu=fe((e,t)=>{const r=oe("InputLabel",vS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,labelElement:f,size:v,required:y,htmlFor:w,onMouseDown:S,children:b,__staticSelector:R,variant:C,mod:E,..._}=oe("InputLabel",vS,r),h=Ee({name:["InputWrapper",R],props:r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"label",vars:d,varsResolver:m2}),p=Gu(),m=(p==null?void 0:p.getStyles)||h;return T.jsxs(re,{...m("label",p!=null&&p.getStyles?{className:i,style:a}:void 0),component:f,variant:C,size:v,ref:t,htmlFor:f==="label"?w:void 0,mod:[{required:y},E],onMouseDown:x=>{S==null||S(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[b,y&&T.jsx("span",{...m("required"),"aria-hidden":!0,children:" *"})]})});Xu.classes=Hr;Xu.displayName="@mantine/core/InputLabel";const yS={},Hm=fe((e,t)=>{const r=oe("InputPlaceholder",yS,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,__staticSelector:f,variant:v,error:y,mod:w,...S}=oe("InputPlaceholder",yS,r),b=Ee({name:["InputPlaceholder",f],props:r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"placeholder"});return T.jsx(re,{...b("placeholder"),mod:[{error:!!y},w],component:"span",variant:v,ref:t,...S})});Hm.classes=Hr;Hm.displayName="@mantine/core/InputPlaceholder";function g2(e,{hasDescription:t,hasError:r}){const n=e.findIndex(d=>d==="input"),i=e.slice(0,n),a=e.slice(n+1),c=t&&i.includes("description")||r&&i.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const v2={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},y2=(e,{size:t})=>({label:{"--input-label-size":sr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${sr(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${sr(t)} - ${te(2)})`}}),Wm=fe((e,t)=>{const r=oe("InputWrapper",v2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,size:f,variant:v,__staticSelector:y,inputContainer:w,inputWrapperOrder:S,label:b,error:R,description:C,labelProps:E,descriptionProps:_,errorProps:h,labelElement:p,children:m,withAsterisk:x,id:k,required:M,__stylesApiProps:L,mod:j,...A}=r,N=Ee({name:["InputWrapper",y],props:L||r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:y2}),V={size:f,variant:v,__staticSelector:y},W=qs(k),K=typeof x=="boolean"?x:M,O=(h==null?void 0:h.id)||`${W}-error`,U=(_==null?void 0:_.id)||`${W}-description`,F=W,z=!!R&&typeof R!="boolean",q=!!C,B=`${z?O:""} ${q?U:""}`,X=B.trim().length>0?B.trim():void 0,ce=(E==null?void 0:E.id)||`${W}-label`,de=b&&T.jsx(Xu,{labelElement:p,id:ce,htmlFor:F,required:K,...V,...E,children:b},"label"),ee=q&&T.jsx(Ku,{..._,...V,size:(_==null?void 0:_.size)||V.size,id:(_==null?void 0:_.id)||U,children:C},"description"),ie=T.jsx(D.Fragment,{children:w(m)},"input"),ue=z&&D.createElement(Yu,{...h,...V,size:(h==null?void 0:h.size)||V.size,key:"error",id:(h==null?void 0:h.id)||O},R),me=S.map(he=>{switch(he){case"label":return de;case"input":return ie;case"description":return ee;case"error":return ue;default:return null}});return T.jsx(d2,{value:{getStyles:N,describedBy:X,inputId:F,labelId:ce,...g2(S,{hasDescription:q,hasError:z})},children:T.jsx(re,{ref:t,variant:v,size:f,mod:[{error:!!R},j],...N("root"),...A,children:me})})});Wm.classes=Hr;Wm.displayName="@mantine/core/InputWrapper";const w2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},S2=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ke(t.size,"input-height"),"--input-fz":sr(t.size),"--input-radius":t.radius===void 0?void 0:Dt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ke(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Xt=Qt((e,t)=>{const r=oe("Input",w2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,required:d,__staticSelector:f,__stylesApiProps:v,size:y,wrapperProps:w,error:S,disabled:b,leftSection:R,leftSectionProps:C,leftSectionWidth:E,rightSection:_,rightSectionProps:h,rightSectionWidth:p,rightSectionPointerEvents:m,leftSectionPointerEvents:x,variant:k,vars:M,pointer:L,multiline:j,radius:A,id:N,withAria:V,withErrorStyles:W,mod:K,inputSize:O,__clearSection:U,__clearable:F,__defaultRightSection:z,...q}=r,{styleProps:B,rest:X}=Ou(q),ce=Gu(),de={offsetBottom:ce==null?void 0:ce.offsetBottom,offsetTop:ce==null?void 0:ce.offsetTop},ee=Ee({name:["Input",f],props:v||r,classes:Hr,className:i,style:a,classNames:n,styles:c,unstyled:l,stylesCtx:de,rootSelector:"wrapper",vars:M,varsResolver:S2}),ie=V?{required:d,disabled:b,"aria-invalid":!!S,"aria-describedby":ce==null?void 0:ce.describedBy,id:(ce==null?void 0:ce.inputId)||N}:{},ue=_||F&&U||z;return T.jsx(c2,{value:{size:y||"sm"},children:T.jsxs(re,{...ee("wrapper"),...B,...w,mod:[{error:!!S&&W,pointer:L,disabled:b,multiline:j,"data-with-right-section":!!ue,"data-with-left-section":!!R},K],variant:k,size:y,children:[R&&T.jsx("div",{...C,"data-position":"left",...ee("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:R}),T.jsx(re,{component:"input",...X,...ie,ref:t,required:d,mod:{disabled:b,error:!!S&&W},variant:k,__size:O,...ee("input")}),ue&&T.jsx("div",{...h,"data-position":"right",...ee("section",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),children:ue})]})})});Xt.classes=Hr;Xt.Wrapper=Wm;Xt.Label=Xu;Xt.Error=Yu;Xt.Description=Ku;Xt.Placeholder=Hm;Xt.ClearButton=$0;Xt.displayName="@mantine/core/Input";function b2(e,t,r){const n=oe(e,t,r),{label:i,description:a,error:c,required:l,classNames:d,styles:f,className:v,unstyled:y,__staticSelector:w,__stylesApiProps:S,errorProps:b,labelProps:R,descriptionProps:C,wrapperProps:E,id:_,size:h,style:p,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:M,vars:L,mod:j,...A}=n,{styleProps:N,rest:V}=Ou(A),W={label:i,description:a,error:c,required:l,classNames:d,className:v,__staticSelector:w,__stylesApiProps:S||n,errorProps:b,labelProps:R,descriptionProps:C,unstyled:y,styles:f,size:h,style:p,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:M,id:_,mod:j,...E};return{...V,classNames:d,styles:f,unstyled:y,wrapperProps:{...W,...N},inputProps:{required:l,classNames:d,styles:f,unstyled:y,size:h,__staticSelector:w,__stylesApiProps:S||n,error:c,variant:M,id:_}}}const _2={__staticSelector:"InputBase",withAria:!0},fs=Qt((e,t)=>{const{inputProps:r,wrapperProps:n,...i}=b2("InputBase",_2,e);return T.jsx(Xt.Wrapper,{...n,children:T.jsx(Xt,{...r,...i,ref:t})})});fs.classes={...Xt.classes,...Xt.Wrapper.classes};fs.displayName="@mantine/core/InputBase";const x2={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var F0={root:"m_8bffd616"};const C2={},xn=Qt((e,t)=>{const r=oe("Flex",C2,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,gap:f,rowGap:v,columnGap:y,align:w,justify:S,wrap:b,direction:R,...C}=r,E=Ee({name:"Flex",classes:F0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d}),_=or(),h=hm(),p=F_({styleProps:{gap:f,rowGap:v,columnGap:y,align:w,justify:S,wrap:b,direction:R},theme:_,data:x2});return T.jsxs(T.Fragment,{children:[p.hasResponsiveStyles&&T.jsx(Lu,{selector:`.${h}`,styles:p.styles,media:p.media}),T.jsx(re,{ref:t,...E("root",{className:h,style:Ti(p.inlineStyles)}),...C})]})});xn.classes=F0;xn.displayName="@mantine/core/Flex";function z0({style:e,size:t=16,...r}){return T.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:te(t),height:te(t),display:"block"},...r,children:T.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}z0.displayName="@mantine/core/AccordionChevron";var B0={root:"m_b6d8b162"};function R2(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const E2={inherit:!1},T2=(e,{variant:t,lineClamp:r,gradient:n,size:i,color:a})=>({root:{"--text-fz":sr(i),"--text-lh":cT(i),"--text-gradient":t==="gradient"?xh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?gr(a,e):void 0}}),ze=Qt((e,t)=>{const r=oe("Text",E2,e),{lineClamp:n,truncate:i,inline:a,inherit:c,gradient:l,span:d,__staticSelector:f,vars:v,className:y,style:w,classNames:S,styles:b,unstyled:R,variant:C,mod:E,size:_,...h}=r,p=Ee({name:["Text",f],props:r,classes:B0,className:y,style:w,classNames:S,styles:b,unstyled:R,vars:v,varsResolver:T2});return T.jsx(re,{...p("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:C,mod:[{"data-truncate":R2(i),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},E],size:_,...h})});ze.classes=B0;ze.displayName="@mantine/core/Text";function U0(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>U0(t))}:e}function P2(e){return e?e.map(t=>U0(t)):[]}function V0(e){return e.reduce((t,r)=>"group"in r?{...t,...V0(r.items)}:(t[r.value]=r,t),{})}var vr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const k2={error:null},D2=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ke(t,"combobox-chevron-size"),"--combobox-chevron-color":r?gr(r,e):void 0}}),qm=fe((e,t)=>{const r=oe("ComboboxChevron",k2,e),{size:n,error:i,style:a,className:c,classNames:l,styles:d,unstyled:f,vars:v,mod:y,...w}=r,S=Ee({name:"ComboboxChevron",classes:vr,props:r,style:a,className:c,classNames:l,styles:d,unstyled:f,vars:v,varsResolver:D2,rootSelector:"chevron"});return T.jsx(re,{component:"svg",...w,...S("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},y],ref:t,children:T.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});qm.classes=vr;qm.displayName="@mantine/core/ComboboxChevron";const[I2,Wr]=Rn("Combobox component was not found in tree"),H0=D.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...i},a)=>T.jsx(Xt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));H0.displayName="@mantine/core/ComboboxClearButton";const M2={},Gm=fe((e,t)=>{const{classNames:r,styles:n,className:i,style:a,hidden:c,...l}=oe("ComboboxDropdown",M2,e),d=Wr();return T.jsx(mr.Dropdown,{...l,ref:t,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:i,style:a,classNames:r,styles:n})})});Gm.classes=vr;Gm.displayName="@mantine/core/ComboboxDropdown";const j2={refProp:"ref"},W0=fe((e,t)=>{const{children:r,refProp:n}=oe("ComboboxDropdownTarget",j2,e);if(Wr(),!Ws(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return T.jsx(mr.Target,{ref:t,refProp:n,children:r})});W0.displayName="@mantine/core/ComboboxDropdownTarget";const L2={},Km=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxEmpty",L2,e),d=Wr();return T.jsx(re,{ref:t,...d.getStyles("empty",{className:n,classNames:r,styles:a,style:i}),...l})});Km.classes=vr;Km.displayName="@mantine/core/ComboboxEmpty";function Ym({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:i,autoComplete:a}){const c=Wr(),[l,d]=D.useState(null),f=y=>{if(e==null||e(y),!c.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const w=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&w!==-1?(y.preventDefault(),c.store.clickSelectedOption()):i==="button"&&(y.preventDefault(),c.store.openDropdown("keyboard"))}y.key==="Escape"&&c.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&i==="button"&&(y.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&l||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:f}}const O2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},q0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...f}=oe("ComboboxEventsTarget",O2,e);if(!Ws(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Wr(),y=Ym({targetType:l,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d});return D.cloneElement(r,{...y,...f,[n]:Vt(t,v.store.targetRef,Mu(r))})});q0.displayName="@mantine/core/ComboboxEventsTarget";const N2={},Xm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxFooter",N2,e),d=Wr();return T.jsx(re,{ref:t,...d.getStyles("footer",{className:n,classNames:r,style:i,styles:a}),...l,onMouseDown:f=>{f.preventDefault()}})});Xm.classes=vr;Xm.displayName="@mantine/core/ComboboxFooter";const A2={},Qm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,children:l,label:d,...f}=oe("ComboboxGroup",A2,e),v=Wr();return T.jsxs(re,{ref:t,...v.getStyles("group",{className:n,classNames:r,style:i,styles:a}),...f,children:[d&&T.jsx("div",{...v.getStyles("groupLabel",{classNames:r,styles:a}),children:d}),l]})});Qm.classes=vr;Qm.displayName="@mantine/core/ComboboxGroup";const $2={},Zm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("ComboboxHeader",$2,e),d=Wr();return T.jsx(re,{ref:t,...d.getStyles("header",{className:n,classNames:r,style:i,styles:a}),...l,onMouseDown:f=>{f.preventDefault()}})});Zm.classes=vr;Zm.displayName="@mantine/core/ComboboxHeader";function G0({value:e,valuesDivider:t=",",...r}){return T.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}G0.displayName="@mantine/core/ComboboxHiddenInput";const F2={},Jm=fe((e,t)=>{const r=oe("ComboboxOption",F2,e),{classNames:n,className:i,style:a,styles:c,vars:l,onClick:d,id:f,active:v,onMouseDown:y,onMouseOver:w,disabled:S,selected:b,mod:R,...C}=r,E=Wr(),_=D.useId(),h=f||_;return T.jsx(re,{...E.getStyles("option",{className:i,classNames:n,styles:c,style:a}),...C,ref:t,id:h,mod:["combobox-option",{"combobox-active":v,"combobox-disabled":S,"combobox-selected":b},R],role:"option",onClick:p=>{var m;S?p.preventDefault():((m=E.onOptionSubmit)==null||m.call(E,r.value,r),d==null||d(p))},onMouseDown:p=>{p.preventDefault(),y==null||y(p)},onMouseOver:p=>{E.resetSelectionOnOptionHover&&E.store.resetSelectedOption(),w==null||w(p)}})});Jm.classes=vr;Jm.displayName="@mantine/core/ComboboxOption";const z2={},eg=fe((e,t)=>{const r=oe("ComboboxOptions",z2,e),{classNames:n,className:i,style:a,styles:c,id:l,onMouseDown:d,labelledBy:f,...v}=r,y=Wr(),w=qs(l);return D.useEffect(()=>{y.store.setListId(w)},[w]),T.jsx(re,{ref:t,...y.getStyles("options",{className:i,style:a,classNames:n,styles:c}),...v,id:w,role:"listbox","aria-labelledby":f,onMouseDown:S=>{S.preventDefault(),d==null||d(S)}})});eg.classes=vr;eg.displayName="@mantine/core/ComboboxOptions";const B2={withAriaAttributes:!0,withKeyboardNavigation:!0},tg=fe((e,t)=>{const r=oe("ComboboxSearch",B2,e),{classNames:n,styles:i,unstyled:a,vars:c,withAriaAttributes:l,onKeyDown:d,withKeyboardNavigation:f,size:v,...y}=r,w=Wr(),S=w.getStyles("search"),b=Ym({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:f,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return T.jsx(Xt,{ref:Vt(t,w.store.searchRef),classNames:[{input:S.className},n],styles:[{input:S.style},i],size:v||w.size,...b,...y,__staticSelector:"Combobox"})});tg.classes=vr;tg.displayName="@mantine/core/ComboboxSearch";const U2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},K0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...f}=oe("ComboboxTarget",U2,e);if(!Ws(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Wr(),y=Ym({targetType:l,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d}),w=D.cloneElement(r,{...y,...f});return T.jsx(mr.Target,{ref:Vt(t,v.store.targetRef),children:w})});K0.displayName="@mantine/core/ComboboxTarget";function V2(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function H2(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function W2(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Y0({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:i,loop:a=!0,scrollBehavior:c="instant"}={}){const[l,d]=os({value:t,defaultValue:e,finalValue:!1,onChange:r}),f=D.useRef(null),v=D.useRef(-1),y=D.useRef(null),w=D.useRef(null),S=D.useRef(-1),b=D.useRef(-1),R=D.useRef(-1),C=D.useCallback((O="unknown")=>{l||(d(!0),i==null||i(O))},[d,i,l]),E=D.useCallback((O="unknown")=>{l&&(d(!1),n==null||n(O))},[d,n,l]),_=D.useCallback((O="unknown")=>{l?E(O):C(O)},[E,C,l]),h=D.useCallback(()=>{const O=document.querySelector(`#${f.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),p=D.useCallback(O=>{const U=document.getElementById(f.current),F=U==null?void 0:U.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=O>=F.length?0:O<0?F.length-1:O;return v.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(h(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:c}),F[z].id):null},[c,h]),m=D.useCallback(()=>{const O=document.querySelector(`#${f.current} [data-combobox-active]`);if(O){const U=document.querySelectorAll(`#${f.current} [data-combobox-option]`),F=Array.from(U).findIndex(z=>z===O);return p(F)}return p(0)},[p]),x=D.useCallback(()=>p(H2(v.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[p,a]),k=D.useCallback(()=>p(V2(v.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[p,a]),M=D.useCallback(()=>p(W2(document.querySelectorAll(`#${f.current} [data-combobox-option]`))),[p]),L=D.useCallback((O="selected",U)=>{R.current=window.setTimeout(()=>{var q;const F=document.querySelectorAll(`#${f.current} [data-combobox-option]`),z=Array.from(F).findIndex(B=>B.hasAttribute(`data-combobox-${O}`));v.current=z,U!=null&&U.scrollIntoView&&((q=F[z])==null||q.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),j=D.useCallback(()=>{v.current=-1,h()},[h]),A=D.useCallback(()=>{const O=document.querySelectorAll(`#${f.current} [data-combobox-option]`),U=O==null?void 0:O[v.current];U==null||U.click()},[]),N=D.useCallback(O=>{f.current=O},[]),V=D.useCallback(()=>{S.current=window.setTimeout(()=>y.current.focus(),0)},[]),W=D.useCallback(()=>{b.current=window.setTimeout(()=>w.current.focus(),0)},[]),K=D.useCallback(()=>v.current,[]);return D.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(b.current),window.clearTimeout(R.current)},[]),{dropdownOpened:l,openDropdown:C,closeDropdown:E,toggleDropdown:_,selectedOptionIndex:v.current,getSelectedOptionIndex:K,selectOption:p,selectFirstOption:M,selectActiveOption:m,selectNextOption:x,selectPreviousOption:k,resetSelectedOption:j,updateSelectedOptionIndex:L,listId:f.current,setListId:N,clickSelectedOption:A,searchRef:y,focusSearchInput:V,targetRef:w,focusTarget:W}}const q2={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},G2=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":sr(t),"--combobox-option-padding":Ke(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:te(r),"--combobox-option-fz":sr(t),"--combobox-option-padding":Ke(t,"combobox-option-padding")}});function Xe(e){const t=oe("Combobox",q2,e),{classNames:r,styles:n,unstyled:i,children:a,store:c,vars:l,onOptionSubmit:d,onClose:f,size:v,dropdownPadding:y,resetSelectionOnOptionHover:w,__staticSelector:S,readOnly:b,...R}=t,C=Y0(),E=c||C,_=Ee({name:S||"Combobox",classes:vr,props:t,classNames:r,styles:n,unstyled:i,vars:l,varsResolver:G2}),h=()=>{f==null||f(),E.closeDropdown()};return T.jsx(I2,{value:{getStyles:_,store:E,onOptionSubmit:d,size:v,resetSelectionOnOptionHover:w,readOnly:b},children:T.jsx(mr,{opened:E.dropdownOpened,...R,onChange:p=>!p&&h(),withRoles:!1,unstyled:i,children:a})})}const K2=e=>e;Xe.extend=K2;Xe.classes=vr;Xe.displayName="@mantine/core/Combobox";Xe.Target=K0;Xe.Dropdown=Gm;Xe.Options=eg;Xe.Option=Jm;Xe.Search=tg;Xe.Empty=Km;Xe.Chevron=qm;Xe.Footer=Xm;Xe.Header=Zm;Xe.EventsTarget=q0;Xe.DropdownTarget=W0;Xe.Group=Qm;Xe.ClearButton=H0;Xe.HiddenInput=G0;function Y2({size:e,style:t,...r}){const n=e!==void 0?{width:te(e),height:te(e),...t}:t;return T.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:T.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function tc(e){return"group"in e}function X0({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(i.length===r)return i;tc(c)&&i.push({group:c.group,items:X0({options:c.items,search:t,limit:r-i.length})}),tc(c)||c.label.toLowerCase().includes(n)&&i.push(c)}return i}function X2(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Q0(e,t=new Set){if(Array.isArray(e))for(const r of e)if(tc(r))Q0(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function Q2(e,t){return Array.isArray(e)?e.includes(t):e===t}function Z0({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:i,renderOption:a}){if(!tc(e)){const l=Q2(r,e.value),d=t&&l&&T.jsx(Y2,{className:vr.optionsDropdownCheckIcon}),f=T.jsxs(T.Fragment,{children:[n==="left"&&d,T.jsx("span",{children:e.label}),n==="right"&&d]});return T.jsx(Xe.Option,{value:e.value,disabled:e.disabled,className:Ut({[vr.optionsDropdownOption]:!i}),"data-reverse":n==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof a=="function"?a({option:e,checked:l}):f})}const c=e.items.map(l=>T.jsx(Z0,{data:l,value:r,unstyled:i,withCheckIcon:t,checkIconPosition:n,renderOption:a},l.value));return T.jsx(Xe.Group,{label:e.group,children:c})}function Z2({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:i,limit:a,maxDropdownHeight:c,withScrollArea:l=!0,filterOptions:d=!0,withCheckIcon:f=!1,value:v,checkIconPosition:y,nothingFoundMessage:w,unstyled:S,labelId:b,renderOption:R,scrollAreaProps:C,"aria-label":E}){Q0(e);const h=typeof i=="string"?(n||X0)({options:e,search:d?i:"",limit:a??1/0}):e,p=X2(h),m=h.map(x=>T.jsx(Z0,{data:x,withCheckIcon:f,value:v,checkIconPosition:y,unstyled:S,renderOption:R},tc(x)?x.group:x.value));return T.jsx(Xe.Dropdown,{hidden:t||r&&p,"data-composed":!0,children:T.jsxs(Xe.Options,{labelledBy:b,"aria-label":E,children:[l?T.jsx(Ir.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:m}):m,p&&w&&T.jsx(Xe.Empty,{children:w})]})})}const J0=D.createContext(null),J2=J0.Provider;function eI(){return{withinGroup:!!D.useContext(J0)}}var Qu={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const tI={},rI=(e,{spacing:t})=>({group:{"--ag-spacing":nr(t)}}),rg=fe((e,t)=>{const r=oe("AvatarGroup",tI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,spacing:f,...v}=r,y=Ee({name:"AvatarGroup",classes:Qu,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:rI,rootSelector:"group"});return T.jsx(J2,{value:!0,children:T.jsx(re,{ref:t,...y("group"),...v})})});rg.classes=Qu;rg.displayName="@mantine/core/AvatarGroup";function nI(e){return T.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function sI(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const oI=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function iI(e,t=oI){const r=sI(e),n=Math.abs(r)%t.length;return t[n]}function aI(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const cI={},lI=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c,name:l,allowedInitialsColors:d})=>{const f=a==="initials"&&typeof l=="string"?iI(l,d):a,v=e.variantColorResolver({color:f||"gray",theme:e,gradient:i,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":Ke(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Dt(r),"--avatar-bg":f||n?v.background:void 0,"--avatar-color":f||n?v.color:void 0,"--avatar-bd":f||n?v.border:void 0}}},qr=Qt((e,t)=>{const r=oe("Avatar",cI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,src:f,alt:v,radius:y,color:w,gradient:S,imageProps:b,children:R,autoContrast:C,mod:E,name:_,allowedInitialsColors:h,...p}=r,m=eI(),[x,k]=D.useState(!f),M=Ee({name:"Avatar",props:r,classes:Qu,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:lI});return D.useEffect(()=>k(!f),[f]),T.jsx(re,{...M("root"),mod:[{"within-group":m.withinGroup},E],ref:t,...p,children:x?T.jsx("span",{...M("placeholder"),title:v,children:R||typeof _=="string"&&aI(_)||T.jsx(nI,{})}):T.jsx("img",{...b,...M("image"),src:f,alt:v,onError:L=>{var j;k(!0),(j=b==null?void 0:b.onError)==null||j.call(b,L)}})})});qr.classes=Qu;qr.displayName="@mantine/core/Avatar";qr.Group=rg;var e1={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const uI={},dI=(e,{radius:t,color:r,gradient:n,variant:i,size:a,autoContrast:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:c});return{root:{"--badge-height":Ke(a,"badge-height"),"--badge-padding-x":Ke(a,"badge-padding-x"),"--badge-fz":Ke(a,"badge-fz"),"--badge-radius":t===void 0?void 0:Dt(t),"--badge-bg":r||i?l.background:void 0,"--badge-color":r||i?l.color:void 0,"--badge-bd":r||i?l.border:void 0,"--badge-dot-color":i==="dot"?gr(r,e):void 0}}},ji=Qt((e,t)=>{const r=oe("Badge",uI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,radius:f,color:v,gradient:y,leftSection:w,rightSection:S,children:b,variant:R,fullWidth:C,autoContrast:E,circle:_,mod:h,...p}=r,m=Ee({name:"Badge",props:r,classes:e1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:dI});return T.jsxs(re,{variant:R,mod:[{block:C,circle:_,"with-right-section":!!S,"with-left-section":!!w},h],...m("root",{variant:R}),ref:t,...p,children:[w&&T.jsx("span",{...m("section"),"data-position":"left",children:w}),T.jsx("span",{...m("label"),children:b}),S&&T.jsx("span",{...m("section"),"data-position":"right",children:S})]})});ji.classes=e1;ji.displayName="@mantine/core/Badge";var Li={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const wS={orientation:"horizontal"},fI=(e,{borderWidth:t})=>({group:{"--button-border-width":te(t)}}),ng=fe((e,t)=>{const r=oe("ButtonGroup",wS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,orientation:d,vars:f,borderWidth:v,variant:y,mod:w,...S}=oe("ButtonGroup",wS,e),b=Ee({name:"ButtonGroup",props:r,classes:Li,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:f,varsResolver:fI,rootSelector:"group"});return T.jsx(re,{...b("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});ng.classes=Li;ng.displayName="@mantine/core/ButtonGroup";const SS={},pI=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Ke(c,"section-height"),"--section-padding-x":Ke(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?sr(c.replace("compact-","")):sr(c),"--section-radius":t===void 0?void 0:Dt(t),"--section-bg":r||i?l.background:void 0,"--section-color":l.color,"--section-bd":r||i?l.border:void 0}}},sg=fe((e,t)=>{const r=oe("ButtonGroupSection",SS,e),{className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,variant:f,gradient:v,radius:y,autoContrast:w,...S}=oe("ButtonGroupSection",SS,e),b=Ee({name:"ButtonGroupSection",props:r,classes:Li,className:n,style:i,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:pI,rootSelector:"groupSection"});return T.jsx(re,{...b("groupSection"),ref:t,variant:f,...S})});sg.classes=Li;sg.displayName="@mantine/core/ButtonGroupSection";const hI={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},mI={},gI=(e,{radius:t,color:r,gradient:n,variant:i,size:a,justify:c,autoContrast:l})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:l});return{root:{"--button-justify":c,"--button-height":Ke(a,"button-height"),"--button-padding-x":Ke(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?sr(a.replace("compact-","")):sr(a),"--button-radius":t===void 0?void 0:Dt(t),"--button-bg":r||i?d.background:void 0,"--button-hover":r||i?d.hover:void 0,"--button-color":d.color,"--button-bd":r||i?d.border:void 0,"--button-hover-color":r||i?d.hoverColor:void 0}}},$e=Qt((e,t)=>{const r=oe("Button",mI,e),{style:n,vars:i,className:a,color:c,disabled:l,children:d,leftSection:f,rightSection:v,fullWidth:y,variant:w,radius:S,loading:b,loaderProps:R,gradient:C,classNames:E,styles:_,unstyled:h,"data-disabled":p,autoContrast:m,mod:x,...k}=r,M=Ee({name:"Button",props:r,classes:Li,className:a,style:n,classNames:E,styles:_,unstyled:h,vars:i,varsResolver:gI}),L=!!f,j=!!v;return T.jsxs(Ys,{ref:t,...M("root",{active:!l&&!b&&!p}),unstyled:h,variant:w,disabled:l||b,mod:[{disabled:l||p,loading:b,block:y,"with-left-section":L,"with-right-section":j},x],...k,children:[T.jsx(us,{mounted:!!b,transition:hI,duration:150,children:A=>T.jsx(re,{component:"span",...M("loader",{style:A}),"aria-hidden":!0,children:T.jsx(Ii,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...R})})}),T.jsxs("span",{...M("inner"),children:[f&&T.jsx(re,{component:"span",...M("section"),mod:{position:"left"},children:f}),T.jsx(re,{component:"span",mod:{loading:b},...M("label"),children:d}),v&&T.jsx(re,{component:"span",...M("section"),mod:{position:"right"},children:v})]})]})});$e.classes=Li;$e.displayName="@mantine/core/Button";$e.Group=ng;$e.GroupSection=sg;const[vI,yI]=Rn("Card component was not found in tree");var og={root:"m_e615b15f",section:"m_599a2148"};const wI={},Zu=Qt((e,t)=>{const r=oe("CardSection",wI,e),{classNames:n,className:i,style:a,styles:c,vars:l,withBorder:d,inheritPadding:f,mod:v,...y}=r,w=yI();return T.jsx(re,{ref:t,mod:[{"with-border":d,"inherit-padding":f},v],...w.getStyles("section",{className:i,style:a,styles:c,classNames:n}),...y})});Zu.classes=og;Zu.displayName="@mantine/core/CardSection";const SI={},bI=(e,{padding:t})=>({root:{"--card-padding":nr(t)}}),dc=Qt((e,t)=>{const r=oe("Card",SI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,children:f,padding:v,...y}=r,w=Ee({name:"Card",props:r,classes:og,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:bI}),S=D.Children.toArray(f),b=S.map((R,C)=>typeof R=="object"&&R&&"type"in R&&R.type===Zu?D.cloneElement(R,{"data-first-section":C===0||void 0,"data-last-section":C===S.length-1||void 0}):R);return T.jsx(vI,{value:{getStyles:w},children:T.jsx(Hu,{ref:t,unstyled:l,...w("root"),...y,children:b})})});dc.classes=og;dc.displayName="@mantine/core/Card";dc.Section=Zu;const _I={timeout:1e3};function t1(e){const{children:t,timeout:r,value:n,...i}=oe("CopyButton",_I,e),a=mT({timeout:r}),c=()=>a.copy(n);return T.jsx(T.Fragment,{children:t({copy:c,copied:a.copied,...i})})}t1.displayName="@mantine/core/CopyButton";var r1={root:"m_3eebeb36",label:"m_9e365f20"};const xI={orientation:"horizontal"},CI=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?gr(t,e):void 0,"--divider-border-style":r,"--divider-size":Ke(n,"divider-size")}}),Cn=fe((e,t)=>{const r=oe("Divider",xI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,color:f,orientation:v,label:y,labelPosition:w,mod:S,...b}=r,R=Ee({name:"Divider",classes:r1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:CI});return T.jsx(re,{ref:t,mod:[{orientation:v,"with-label":!!y},S],...R("root"),...b,role:"separator",children:y&&T.jsx(re,{component:"span",mod:{position:w},...R("label"),children:y})})});Cn.classes=r1;Cn.displayName="@mantine/core/Divider";const[RI,Oi]=Rn("Drawer component was not found in tree");var ps={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const EI={},Ju=fe((e,t)=>{const r=oe("DrawerBody",EI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Oi();return T.jsx($m,{ref:t,...f.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});Ju.classes=ps;Ju.displayName="@mantine/core/DrawerBody";const TI={},ed=fe((e,t)=>{const r=oe("DrawerCloseButton",TI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Oi();return T.jsx(Fm,{ref:t,...f.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});ed.classes=ps;ed.displayName="@mantine/core/DrawerCloseButton";const PI={},td=fe((e,t)=>{const r=oe("DrawerContent",PI,e),{classNames:n,className:i,style:a,styles:c,vars:l,children:d,radius:f,__hidden:v,...y}=r,w=Oi(),S=w.scrollAreaComponent||A0;return T.jsx(zm,{...w.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:w.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),ref:t,...y,radius:f||w.radius||0,"data-hidden":v||void 0,children:T.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});td.classes=ps;td.displayName="@mantine/core/DrawerContent";const kI={},rd=fe((e,t)=>{const r=oe("DrawerHeader",kI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Oi();return T.jsx(Bm,{ref:t,...f.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});rd.classes=ps;rd.displayName="@mantine/core/DrawerHeader";const DI={},nd=fe((e,t)=>{const r=oe("DrawerOverlay",DI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Oi();return T.jsx(Um,{ref:t,...f.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});nd.classes=ps;nd.displayName="@mantine/core/DrawerOverlay";function II(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function MI(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const jI={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},LI={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},OI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:yr("modal"),position:"left"},NI=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Ke(r,"drawer-size"),"--drawer-flex":MI(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":II(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":te(n)}}),sd=fe((e,t)=>{const r=oe("DrawerRoot",OI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,scrollAreaComponent:f,position:v,transitionProps:y,radius:w,...S}=r,{dir:b}=Ks(),R=Ee({name:"Drawer",classes:ps,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:NI}),C=(b==="rtl"?LI:jI)[v];return T.jsx(RI,{value:{scrollAreaComponent:f,getStyles:R,radius:w},children:T.jsx(Am,{ref:t,...R("root"),transitionProps:{transition:C,...y},unstyled:l,...S})})});sd.classes=ps;sd.displayName="@mantine/core/DrawerRoot";const[AI,$I]=ku();function n1({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(yr("modal"));return T.jsx(AI,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),i(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}n1.displayName="@mantine/core/DrawerStack";const FI={},od=fe((e,t)=>{const r=oe("DrawerTitle",FI,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Oi();return T.jsx(Vm,{ref:t,...f.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});od.classes=ps;od.displayName="@mantine/core/DrawerTitle";const zI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:yr("modal"),withOverlay:!0,withCloseButton:!0},Gr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:l,opened:d,stackId:f,zIndex:v,...y}=oe("Drawer",zI,e),w=$I(),S=!!r||a,b=w&&f?{closeOnEscape:w.currentId===f,trapFocus:w.currentId===f,zIndex:w.getZIndex(f)}:{},R=n===!1?!1:f&&w?w.currentId===f:d;return D.useEffect(()=>{w&&f&&(d?w.addModal(f,v||yr("modal")):w.removeModal(f))},[d,f,v]),T.jsxs(sd,{ref:t,opened:d,zIndex:w&&f?w.getZIndex(f):v,...y,...b,children:[n&&T.jsx(nd,{visible:R,transitionProps:w&&f?{duration:0}:void 0,...i}),T.jsxs(td,{__hidden:w&&f&&d?f!==w.currentId:!1,children:[S&&T.jsxs(rd,{children:[r&&T.jsx(od,{children:r}),a&&T.jsx(ed,{...c})]}),T.jsx(Ju,{children:l})]})]})});Gr.classes=ps;Gr.displayName="@mantine/core/Drawer";Gr.Root=sd;Gr.Overlay=nd;Gr.Content=td;Gr.Body=Ju;Gr.Header=rd;Gr.Title=od;Gr.CloseButton=ed;Gr.Stack=n1;function BI({open:e,close:t,openDelay:r,closeDelay:n}){const i=D.useRef(-1),a=D.useRef(-1),c=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},l=()=>{c(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)},d=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return D.useEffect(()=>c,[]),{openDropdown:l,closeDropdown:d}}function UI(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=te(t),[i,a]=e.split("-");return i==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var s1={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const VI={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},HI=(e,{color:t,position:r,offset:n,size:i,radius:a,zIndex:c,autoContrast:l})=>({root:{"--indicator-color":t?gr(t,e):void 0,"--indicator-text-color":$_(l,e)?fm({color:t,theme:e,autoContrast:l}):void 0,"--indicator-size":te(i),"--indicator-radius":a===void 0?void 0:Dt(a),"--indicator-z-index":c==null?void 0:c.toString(),...UI(r,n)}}),ig=fe((e,t)=>{const r=oe("Indicator",VI,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,children:f,position:v,offset:y,inline:w,label:S,radius:b,color:R,withBorder:C,disabled:E,processing:_,zIndex:h,autoContrast:p,mod:m,...x}=r,k=Ee({name:"Indicator",classes:s1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:HI});return T.jsxs(re,{ref:t,...k("root"),mod:[{inline:w},m],...x,children:[!E&&T.jsx(re,{mod:{"with-label":!!S,"with-border":C,processing:_},...k("indicator"),children:S}),f]})});ig.classes=s1;ig.displayName="@mantine/core/Indicator";function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}function ag(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WI=D.useLayoutEffect,qI=function(t){var r=Bt.useRef(t);return WI(function(){r.current=t}),r},bS=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},GI=function(t,r){var n=Bt.useRef();return Bt.useCallback(function(i){t.current=i,n.current&&bS(n.current,null),n.current=r,r&&bS(r,i)},[r])},_S={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},KI=function(t){Object.keys(_S).forEach(function(r){t.style.setProperty(r,_S[r],"important")})},xS=KI,tr=null,CS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function YI(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),tr||(tr=document.createElement("textarea"),tr.setAttribute("tabindex","-1"),tr.setAttribute("aria-hidden","true"),xS(tr)),tr.parentNode===null&&document.body.appendChild(tr);var i=e.paddingSize,a=e.borderSize,c=e.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(w){var S=w;tr.style[S]=c[S]}),xS(tr),tr.value=t;var d=CS(tr,e);tr.value=t,d=CS(tr,e),tr.value="x";var f=tr.scrollHeight-i,v=f*r;l==="border-box"&&(v=v+i+a),d=Math.max(v,d);var y=f*n;return l==="border-box"&&(y=y+i+a),d=Math.min(y,d),[d,f]}var RS=function(){},XI=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},QI=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ZI=!!document.documentElement.currentStyle,JI=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=XI(QI,r),i=n.boxSizing;if(i==="")return null;ZI&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},eM=JI;function o1(e,t,r){var n=qI(r);D.useLayoutEffect(function(){var i=function(c){return n.current(c)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var tM=function(t){o1(window,"resize",t)},rM=function(t){o1(document.fonts,"loadingdone",t)},nM=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],sM=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,c=t.onChange,l=c===void 0?RS:c,d=t.onHeightChange,f=d===void 0?RS:d,v=ag(t,nM),y=v.value!==void 0,w=D.useRef(null),S=GI(w,r),b=D.useRef(0),R=D.useRef(),C=function(){var h=w.current,p=n&&R.current?R.current:eM(h);if(p){R.current=p;var m=YI(p,h.value||h.placeholder||"x",a,i),x=m[0],k=m[1];b.current!==x&&(b.current=x,h.style.setProperty("height",x+"px","important"),f(x,{rowHeight:k}))}},E=function(h){y||C(),l(h)};return D.useLayoutEffect(C),tM(C),rM(C),D.createElement("textarea",yu({},v,{onChange:E,ref:S}))},oM=D.forwardRef(sM);const iM={},id=fe((e,t)=>{const{autosize:r,maxRows:n,minRows:i,__staticSelector:a,resize:c,...l}=oe("Textarea",iM,e),d=r&&jT()!=="test",f=d?{maxRows:n,minRows:i}:{};return T.jsx(fs,{component:d?oM:"textarea",ref:t,...l,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...f})});id.classes=fs.classes;id.displayName="@mantine/core/Textarea";const[aM,fc]=Rn("Menu component was not found in the tree");var Ni={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const cM={},cg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("MenuDivider",cM,e),d=fc();return T.jsx(re,{ref:t,...d.getStyles("divider",{className:n,style:i,styles:a,classNames:r}),...l})});cg.classes=Ni;cg.displayName="@mantine/core/MenuDivider";const lM={},lg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,onMouseEnter:l,onMouseLeave:d,onKeyDown:f,children:v,...y}=oe("MenuDropdown",lM,e),w=D.useRef(null),S=fc(),b=Nn(f,E=>{var _,h;(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),(h=(_=w.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||h.focus())}),R=Nn(l,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),C=Nn(d,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return T.jsxs(mr.Dropdown,{...y,onMouseEnter:R,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Vt(t,w),...S.getStyles("dropdown",{className:n,style:i,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[S.withInitialFocusPlaceholder&&T.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),v]})});lg.classes=Ni;lg.displayName="@mantine/core/MenuDropdown";const uM={},ug=Qt((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,color:l,closeMenuOnClick:d,leftSection:f,rightSection:v,children:y,disabled:w,"data-disabled":S,...b}=oe("MenuItem",uM,e),R=fc(),C=or(),{dir:E}=Ks(),_=D.useRef(null),h=R.getItemIndex(_.current),p=b,m=Nn(p.onMouseLeave,()=>R.setHovered(-1)),x=Nn(p.onMouseEnter,()=>R.setHovered(R.getItemIndex(_.current))),k=Nn(p.onClick,()=>{S||(typeof d=="boolean"?d&&R.closeDropdownImmediately():R.closeOnItemClick&&R.closeDropdownImmediately())}),M=Nn(p.onFocus,()=>R.setHovered(R.getItemIndex(_.current))),L=l?C.variantColorResolver({color:l,theme:C,variant:"light"}):void 0,j=l?Pi({color:l,theme:C}):null;return T.jsxs(Ys,{...b,unstyled:R.unstyled,tabIndex:R.menuItemTabIndex,onFocus:M,...R.getStyles("item",{className:n,style:i,styles:a,classNames:r}),ref:Vt(_,t),role:"menuitem",disabled:w,"data-menu-item":!0,"data-disabled":w||S||void 0,"data-hovered":R.hovered===h?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:m,onClick:k,onKeyDown:C_({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:R.loop,dir:E,orientation:"vertical",onKeyDown:p.onKeyDown}),__vars:{"--menu-item-color":j!=null&&j.isThemeColor&&(j==null?void 0:j.shade)===void 0?`var(--mantine-color-${j.color}-6)`:L==null?void 0:L.color,"--menu-item-hover":L==null?void 0:L.hover},children:[f&&T.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:f}),y&&T.jsx("div",{...R.getStyles("itemLabel",{styles:a,classNames:r}),children:y}),v&&T.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:v})]})});ug.classes=Ni;ug.displayName="@mantine/core/MenuItem";const dM={},dg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...l}=oe("MenuLabel",dM,e),d=fc();return T.jsx(re,{ref:t,...d.getStyles("label",{className:n,style:i,styles:a,classNames:r}),...l})});dg.classes=Ni;dg.displayName="@mantine/core/MenuLabel";const fM={refProp:"ref"},i1=D.forwardRef((e,t)=>{const{children:r,refProp:n,...i}=oe("MenuTarget",fM,e);if(!Ws(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=fc(),c=r.props,l=Nn(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),d=Nn(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),f=Nn(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return T.jsx(mr.Target,{refProp:n,popupType:"menu",ref:t,...i,children:D.cloneElement(r,{onClick:l,onMouseEnter:d,onMouseLeave:f,"data-expanded":a.opened?!0:void 0})})});i1.displayName="@mantine/core/MenuTarget";const pM={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function We(e){const t=oe("Menu",pM,e),{children:r,onOpen:n,onClose:i,opened:a,defaultOpened:c,trapFocus:l,onChange:d,closeOnItemClick:f,loop:v,closeOnEscape:y,trigger:w,openDelay:S,closeDelay:b,classNames:R,styles:C,unstyled:E,variant:_,vars:h,menuItemTabIndex:p,keepMounted:m,withInitialFocusPlaceholder:x,...k}=t,M=Ee({name:"Menu",classes:Ni,props:t,classNames:R,styles:C,unstyled:E}),[L,{setHovered:j,resetHovered:A}]=fT(),[N,V]=os({value:a,defaultValue:c,finalValue:!1,onChange:d}),[W,K]=D.useState(!1),O=()=>{V(!1),K(!1),N&&(i==null||i())},U=()=>{V(!0),!N&&(n==null||n())},F=()=>{N?O():U()},{openDropdown:z,closeDropdown:q}=BI({open:U,close:O,closeDelay:b,openDelay:S}),B=de=>dT("[data-menu-item]","[data-menu-dropdown]",de),{resolvedClassNames:X,resolvedStyles:ce}=cc({classNames:R,styles:C,props:t});return Bn(()=>{A()},[N]),T.jsx(aM,{value:{getStyles:M,opened:N,toggleDropdown:F,getItemIndex:B,hovered:L,setHovered:j,openedViaClick:W,setOpenedViaClick:K,closeOnItemClick:f,closeDropdown:w==="click"?O:q,openDropdown:w==="click"?U:z,closeDropdownImmediately:O,loop:v,trigger:w,unstyled:E,menuItemTabIndex:p,withInitialFocusPlaceholder:x},children:T.jsx(mr,{...k,opened:N,onChange:F,defaultOpened:c,trapFocus:m?!1:l,closeOnEscape:y,__staticSelector:"Menu",classNames:X,styles:ce,unstyled:E,variant:_,keepMounted:m,children:r})})}We.extend=e=>e;We.withProps=UP(We);We.classes=Ni;We.displayName="@mantine/core/Menu";We.Item=ug;We.Label=dg;We.Dropdown=lg;We.Target=i1;We.Divider=cg;const[hM,Ai]=Rn("Modal component was not found in tree");var hs={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const mM={},ad=fe((e,t)=>{const r=oe("ModalBody",mM,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Ai();return T.jsx($m,{ref:t,...f.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});ad.classes=hs;ad.displayName="@mantine/core/ModalBody";const gM={},cd=fe((e,t)=>{const r=oe("ModalCloseButton",gM,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Ai();return T.jsx(Fm,{ref:t,...f.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});cd.classes=hs;cd.displayName="@mantine/core/ModalCloseButton";const vM={},ld=fe((e,t)=>{const r=oe("ModalContent",vM,e),{classNames:n,className:i,style:a,styles:c,vars:l,children:d,__hidden:f,...v}=r,y=Ai(),w=y.scrollAreaComponent||A0;return T.jsx(zm,{...y.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:y.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),"data-full-screen":y.fullScreen||void 0,"data-modal-content":!0,"data-hidden":f||void 0,ref:t,...v,children:T.jsx(w,{style:{maxHeight:y.fullScreen?"100dvh":`calc(100dvh - (${te(y.yOffset)} * 2))`},children:d})})});ld.classes=hs;ld.displayName="@mantine/core/ModalContent";const yM={},ud=fe((e,t)=>{const r=oe("ModalHeader",yM,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Ai();return T.jsx(Bm,{ref:t,...f.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});ud.classes=hs;ud.displayName="@mantine/core/ModalHeader";const wM={},dd=fe((e,t)=>{const r=oe("ModalOverlay",wM,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Ai();return T.jsx(Um,{ref:t,...f.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});dd.classes=hs;dd.displayName="@mantine/core/ModalOverlay";const SM={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:yr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},bM=(e,{radius:t,size:r,yOffset:n,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Dt(t),"--modal-size":Ke(r,"modal-size"),"--modal-y-offset":te(n),"--modal-x-offset":te(i)}}),fd=fe((e,t)=>{const r=oe("ModalRoot",SM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,yOffset:f,scrollAreaComponent:v,radius:y,fullScreen:w,centered:S,xOffset:b,__staticSelector:R,...C}=r,E=Ee({name:R,classes:hs,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:bM});return T.jsx(hM,{value:{yOffset:f,scrollAreaComponent:v,getStyles:E,fullScreen:w},children:T.jsx(Am,{ref:t,...E("root"),"data-full-screen":w||void 0,"data-centered":S||void 0,unstyled:l,...C})})});fd.classes=hs;fd.displayName="@mantine/core/ModalRoot";const[_M,xM]=ku();function a1({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(yr("modal"));return T.jsx(_M,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),i(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}a1.displayName="@mantine/core/ModalStack";const CM={},pd=fe((e,t)=>{const r=oe("ModalTitle",CM,e),{classNames:n,className:i,style:a,styles:c,vars:l,...d}=r,f=Ai();return T.jsx(Vm,{ref:t,...f.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});pd.classes=hs;pd.displayName="@mantine/core/ModalTitle";const RM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:yr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Zt=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:l,radius:d,opened:f,stackId:v,zIndex:y,...w}=oe("Modal",RM,e),S=xM(),b=!!r||a,R=S&&v?{closeOnEscape:S.currentId===v,trapFocus:S.currentId===v,zIndex:S.getZIndex(v)}:{},C=n===!1?!1:v&&S?S.currentId===v:f;return D.useEffect(()=>{S&&v&&(f?S.addModal(v,y||yr("modal")):S.removeModal(v))},[f,v,y]),T.jsxs(fd,{ref:t,radius:d,opened:f,zIndex:S&&v?S.getZIndex(v):y,...w,...R,children:[n&&T.jsx(dd,{visible:C,transitionProps:S&&v?{duration:0}:void 0,...i}),T.jsxs(ld,{radius:d,__hidden:S&&v&&f?v!==S.currentId:!1,children:[b&&T.jsxs(ud,{children:[r&&T.jsx(pd,{children:r}),a&&T.jsx(cd,{...c})]}),T.jsx(ad,{children:l})]})]})});Zt.classes=hs;Zt.displayName="@mantine/core/Modal";Zt.Root=fd;Zt.Overlay=dd;Zt.Content=ld;Zt.Body=ad;Zt.Header=ud;Zt.Title=pd;Zt.CloseButton=cd;Zt.Stack=a1;var c1={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const EM={},TM=(e,{variant:t,color:r,childrenOffset:n,autoContrast:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":nr(n)}}},xo=Qt((e,t)=>{const r=oe("NavLink",EM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,opened:f,defaultOpened:v,onChange:y,children:w,onClick:S,active:b,disabled:R,leftSection:C,rightSection:E,label:_,description:h,disableRightSectionRotation:p,noWrap:m,childrenOffset:x,onKeyDown:k,autoContrast:M,mod:L,...j}=r,A=Ee({name:"NavLink",props:r,classes:c1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:TM}),[N,V]=os({value:f,defaultValue:v,finalValue:!1,onChange:y}),W=!!w,K=O=>{S==null||S(O),W&&(O.preventDefault(),V(!N))};return T.jsxs(T.Fragment,{children:[T.jsxs(Ys,{...A("root"),component:"a",ref:t,onClick:K,onKeyDown:O=>{k==null||k(O),O.nativeEvent.code==="Space"&&W&&(O.preventDefault(),V(!N))},unstyled:l,mod:[{disabled:R,active:b,expanded:N},L],...j,children:[C&&T.jsx(re,{component:"span",...A("section"),mod:{position:"left"},children:C}),T.jsxs(re,{...A("body"),mod:{"no-wrap":m},children:[T.jsx(re,{component:"span",...A("label"),children:_}),T.jsx(re,{component:"span",mod:{active:b},...A("description"),children:h})]}),(W||E)&&T.jsx(re,{...A("section"),component:"span",mod:{rotate:N&&!p,position:"right"},children:W?E||T.jsx(z0,{...A("chevron")}):E})]}),W&&T.jsx(Au,{in:N,...A("collapse"),children:T.jsx("div",{...A("children"),children:w})})]})});xo.classes=c1;xo.displayName="@mantine/core/NavLink";var l1={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const PM={withCloseButton:!0},kM=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Dt(t),"--notification-color":r?gr(r,e):void 0}}),fg=fe((e,t)=>{const r=oe("Notification",PM,e),{className:n,color:i,radius:a,loading:c,withCloseButton:l,withBorder:d,title:f,icon:v,children:y,onClose:w,closeButtonProps:S,classNames:b,style:R,styles:C,unstyled:E,variant:_,vars:h,mod:p,loaderProps:m,...x}=r,k=Ee({name:"Notification",classes:l1,props:r,className:n,style:R,classNames:b,styles:C,unstyled:E,vars:h,varsResolver:kM});return T.jsxs(re,{...k("root"),mod:[{"data-with-icon":!!v||c,"data-with-border":d},p],ref:t,variant:_,...x,role:"alert",children:[v&&!c&&T.jsx("div",{...k("icon"),children:v}),c&&T.jsx(Ii,{size:28,color:i,...m,...k("loader")}),T.jsxs("div",{...k("body"),children:[f&&T.jsx("div",{...k("title"),children:f}),T.jsx(re,{...k("description"),mod:{"data-with-title":!!f},children:y})]}),l&&T.jsx(uc,{iconSize:16,color:"gray",...S,unstyled:E,onClick:w,...k("closeButton")})]})});fg.classes=l1;fg.displayName="@mantine/core/Notification";const DM=({reveal:e})=>T.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:T.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Lh={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const IM={visibilityToggleIcon:DM},MM=(e,{size:t})=>({root:{"--psi-icon-size":Ke(t,"psi-icon-size"),"--psi-button-size":Ke(t,"psi-button-size")}}),hd=fe((e,t)=>{const r=oe("PasswordInput",IM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,required:f,error:v,leftSection:y,disabled:w,id:S,variant:b,inputContainer:R,description:C,label:E,size:_,errorProps:h,descriptionProps:p,labelProps:m,withAsterisk:x,inputWrapperOrder:k,wrapperProps:M,radius:L,rightSection:j,rightSectionWidth:A,rightSectionPointerEvents:N,leftSectionWidth:V,visible:W,defaultVisible:K,onVisibilityChange:O,visibilityToggleIcon:U,visibilityToggleButtonProps:F,rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withErrorStyles:X,mod:ce,...de}=r,ee=qs(S),[ie,ue]=os({value:W,defaultValue:K,finalValue:!1,onChange:O}),me=()=>ue(!ie),he=Ee({name:"PasswordInput",classes:Lh,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:MM}),{resolvedClassNames:Ce,resolvedStyles:De}=cc({classNames:n,styles:c,props:r}),{styleProps:vt,rest:ct}=Ou(de),Ve=U,Je=T.jsx(st,{...he("visibilityToggle"),disabled:w,radius:L,"aria-hidden":!F,tabIndex:-1,...F,variant:(F==null?void 0:F.variant)??"subtle",color:"gray",unstyled:l,onTouchEnd:et=>{var Ye;et.preventDefault(),(Ye=F==null?void 0:F.onTouchEnd)==null||Ye.call(F,et),me()},onMouseDown:et=>{var Ye;et.preventDefault(),(Ye=F==null?void 0:F.onMouseDown)==null||Ye.call(F,et),me()},onKeyDown:et=>{var Ye;(Ye=F==null?void 0:F.onKeyDown)==null||Ye.call(F,et),et.key===" "&&(et.preventDefault(),me())},children:T.jsx(Ve,{reveal:ie})});return T.jsx(Xt.Wrapper,{required:f,id:ee,label:E,error:v,description:C,size:_,classNames:Ce,styles:De,__staticSelector:"PasswordInput",errorProps:h,descriptionProps:p,unstyled:l,withAsterisk:x,inputWrapperOrder:k,inputContainer:R,variant:b,labelProps:{...m,htmlFor:ee},mod:ce,...he("root"),...vt,...M,children:T.jsx(Xt,{component:"div",error:v,leftSection:y,size:_,classNames:{...Ce,input:Ut(Lh.input,Ce.input)},styles:De,radius:L,disabled:w,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:j??Je,variant:b,unstyled:l,leftSectionWidth:V,rightSectionPointerEvents:N||"all",rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withAria:!1,withErrorStyles:X,children:T.jsx("input",{required:f,"data-invalid":!!v||void 0,"data-with-left-section":!!y||void 0,...he("innerInput"),disabled:w,id:ee,ref:t,...ct,autoComplete:ct.autoComplete||"off",type:ie?"text":"password"})})})});hd.classes={...fs.classes,...Lh};hd.displayName="@mantine/core/PasswordInput";const jM={duration:100,transition:"fade"};function LM(e,t){return{...jM,...t,...e}}function OM({offset:e,position:t,defaultOpened:r}){const[n,i]=D.useState(r),a=D.useRef(null),{x:c,y:l,elements:d,refs:f,update:v,placement:y}=Pm({placement:t,middleware:[Cm({crossAxis:!0,padding:5,rootBoundary:"document"})]}),w=y.includes("right")?e:t.includes("left")?e*-1:0,S=y.includes("bottom")?e:t.includes("top")?e*-1:0,b=D.useCallback(({clientX:R,clientY:C})=>{f.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:R,y:C,left:R+w,top:C+S,right:R,bottom:C}}})},[d.reference]);return D.useEffect(()=>{if(f.floating.current){const R=a.current;R.addEventListener("mousemove",b);const C=ts(f.floating.current);return C.forEach(E=>{E.addEventListener("scroll",v)}),()=>{R.removeEventListener("mousemove",b),C.forEach(E=>{E.removeEventListener("scroll",v)})}}},[d.reference,f.floating.current,v,b,n]),{handleMouseMove:b,x:c,y:l,opened:n,setOpened:i,boundaryRef:a,floating:f.setFloating}}var md={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const NM={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:yr("popover")},AM=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Dt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),pg=fe((e,t)=>{const r=oe("TooltipFloating",NM,e),{children:n,refProp:i,withinPortal:a,style:c,className:l,classNames:d,styles:f,unstyled:v,radius:y,color:w,label:S,offset:b,position:R,multiline:C,zIndex:E,disabled:_,defaultOpened:h,variant:p,vars:m,portalProps:x,...k}=r,M=or(),L=Ee({name:"TooltipFloating",props:r,classes:md,className:l,style:c,classNames:d,styles:f,unstyled:v,rootSelector:"tooltip",vars:m,varsResolver:AM}),{handleMouseMove:j,x:A,y:N,opened:V,boundaryRef:W,floating:K,setOpened:O}=OM({offset:b,position:R,defaultOpened:h});if(!Ws(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const U=Vt(W,Mu(n),t),F=n.props,z=B=>{var X;(X=F.onMouseEnter)==null||X.call(F,B),j(B),O(!0)},q=B=>{var X;(X=F.onMouseLeave)==null||X.call(F,B),O(!1)};return T.jsxs(T.Fragment,{children:[T.jsx(Po,{...x,withinPortal:a,children:T.jsx(re,{...k,...L("tooltip",{style:{...mm(c,M),zIndex:E,display:!_&&V?"block":"none",top:(N&&Math.round(N))??"",left:(A&&Math.round(A))??""}}),variant:p,ref:K,mod:{multiline:C},children:S})}),D.cloneElement(n,{...F,[i]:U,onMouseEnter:z,onMouseLeave:q})]})});pg.classes=md;pg.displayName="@mantine/core/TooltipFloating";const u1=D.createContext(!1),$M=u1.Provider,FM=()=>D.useContext(u1),zM={openDelay:0,closeDelay:0};function hg(e){const{openDelay:t,closeDelay:r,children:n}=oe("TooltipGroup",zM,e);return T.jsx($M,{value:!0,children:T.jsx(nD,{delay:{open:t,close:r},children:n})})}hg.displayName="@mantine/core/TooltipGroup";hg.extend=e=>e;function BM(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function UM(e){const t=BM(e.middlewares),r=[r0(e.offset)];return t.shift&&r.push(Cm(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?gu():gu(t.flip)),r.push(n0({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Ga():Ga(t.inline)):e.inline&&r.push(Ga()),r}function VM(e){var x,k,M;const[t,r]=D.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,a=FM(),c=qs(),l=D.useCallback(L=>{r(L),L&&_(c)},[c]),{x:d,y:f,context:v,refs:y,update:w,placement:S,middlewareData:{arrow:{x:b,y:R}={}}}=Pm({strategy:e.strategy,placement:e.position,open:i,onOpenChange:l,middleware:UM(e)}),{delay:C,currentId:E,setCurrentId:_}=sD(v,{id:c}),{getReferenceProps:h,getFloatingProps:p}=dD([tD(v,{enabled:(x=e.events)==null?void 0:x.hover,delay:a?C:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((k=e.events)!=null&&k.touch)}),uD(v,{enabled:(M=e.events)==null?void 0:M.focus,visibleOnly:!0}),pD(v,{role:"tooltip"}),cD(v,{enabled:typeof e.opened>"u"})]);k0({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:y,update:w}}),Bn(()=>{var L;(L=e.onPositionChange)==null||L.call(e,S)},[S]);const m=i&&E&&E!==c;return{x:d,y:f,arrowX:b,arrowY:R,reference:y.setReference,floating:y.setFloating,getFloatingProps:p,getReferenceProps:h,isGroupPhase:m,opened:i,placement:S}}const ES={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:yr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},HM=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Dt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Fn=fe((e,t)=>{const r=oe("Tooltip",ES,e),{children:n,position:i,refProp:a,label:c,openDelay:l,closeDelay:d,onPositionChange:f,opened:v,defaultOpened:y,withinPortal:w,radius:S,color:b,classNames:R,styles:C,unstyled:E,style:_,className:h,withArrow:p,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:M,offset:L,transitionProps:j,multiline:A,events:N,zIndex:V,disabled:W,positionDependencies:K,onClick:O,onMouseEnter:U,onMouseLeave:F,inline:z,variant:q,keepMounted:B,vars:X,portalProps:ce,mod:de,floatingStrategy:ee,middlewares:ie,...ue}=oe("Tooltip",ES,r),{dir:me}=Ks(),he=D.useRef(null),Ce=VM({position:_0(me,i),closeDelay:d,openDelay:l,onPositionChange:f,opened:v,defaultOpened:y,events:N,arrowRef:he,arrowOffset:x,offset:typeof L=="number"?L+(p?m/2:0):L,positionDependencies:[...K,n],inline:z,strategy:ee,middlewares:ie}),De=Ee({name:"Tooltip",props:r,classes:md,className:h,style:_,classNames:R,styles:C,unstyled:E,rootSelector:"tooltip",vars:X,varsResolver:HM});if(!Ws(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const vt=Vt(Ce.reference,Mu(n),t),ct=LM(j,{duration:100,transition:"fade"}),Ve=n.props;return T.jsxs(T.Fragment,{children:[T.jsx(Po,{...ce,withinPortal:w,children:T.jsx(us,{...ct,keepMounted:B,mounted:!W&&!!Ce.opened,duration:Ce.isGroupPhase?10:ct.duration,children:Je=>T.jsxs(re,{...ue,"data-fixed":ee==="fixed"||void 0,variant:q,mod:[{multiline:A},de],...Ce.getFloatingProps({ref:Ce.floating,className:De("tooltip").className,style:{...De("tooltip").style,...Je,zIndex:V,top:Ce.y??0,left:Ce.x??0}}),children:[c,T.jsx(jm,{ref:he,arrowX:Ce.arrowX,arrowY:Ce.arrowY,visible:p,position:Ce.placement,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:M,...De("arrow")})]})})}),D.cloneElement(n,Ce.getReferenceProps({onClick:O,onMouseEnter:U,onMouseLeave:F,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Ut(h,Ve.className),...Ve,[a]:vt}))]})});Fn.classes=md;Fn.displayName="@mantine/core/Tooltip";Fn.Floating=pg;Fn.Group=hg;const WM={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Si=fe((e,t)=>{const r=oe("Select",WM,e),{classNames:n,styles:i,unstyled:a,vars:c,dropdownOpened:l,defaultDropdownOpened:d,onDropdownClose:f,onDropdownOpen:v,onFocus:y,onBlur:w,onClick:S,onChange:b,data:R,value:C,defaultValue:E,selectFirstOptionOnChange:_,onOptionSubmit:h,comboboxProps:p,readOnly:m,disabled:x,filter:k,limit:M,withScrollArea:L,maxDropdownHeight:j,size:A,searchable:N,rightSection:V,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:O,name:U,form:F,searchValue:z,defaultSearchValue:q,onSearchChange:B,allowDeselect:X,error:ce,rightSectionPointerEvents:de,id:ee,clearable:ie,clearButtonProps:ue,hiddenInputProps:me,renderOption:he,onClear:Ce,autoComplete:De,scrollAreaProps:vt,__defaultRightSection:ct,__clearSection:Ve,__clearable:Je,chevronColor:et,...Ye}=r,Tt=D.useMemo(()=>P2(R),[R]),mt=D.useMemo(()=>V0(Tt),[Tt]),He=qs(ee),[Ae,lt,It]=os({value:C,defaultValue:E,finalValue:null,onChange:b}),ut=typeof Ae=="string"?mt[Ae]:void 0,Ot=IT(ut),[Te,Pe]=os({value:z,defaultValue:q,finalValue:ut?ut.label:"",onChange:B}),ye=Y0({opened:l,defaultOpened:d,onDropdownOpen:()=>{v==null||v(),ye.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{f==null||f(),ye.resetSelectedOption()}}),{resolvedClassNames:Le,resolvedStyles:yt}=cc({props:r,styles:i,classNames:n});D.useEffect(()=>{_&&ye.selectFirstOption()},[_,Ae]),D.useEffect(()=>{C===null&&Pe(""),typeof C=="string"&&ut&&((Ot==null?void 0:Ot.value)!==ut.value||(Ot==null?void 0:Ot.label)!==ut.label)&&Pe(ut.label)},[C,ut]);const Be=T.jsx(Xe.ClearButton,{...ue,onClear:()=>{lt(null,null),Pe(""),Ce==null||Ce()}}),Oe=ie&&!!Ae&&!x&&!m;return T.jsxs(T.Fragment,{children:[T.jsxs(Xe,{store:ye,__staticSelector:"Select",classNames:Le,styles:yt,unstyled:a,readOnly:m,onOptionSubmit:Se=>{h==null||h(Se);const dt=X&&mt[Se].value===Ae?null:mt[Se],Hn=dt?dt.value:null;Hn!==Ae&&lt(Hn,dt),!It&&Pe(typeof Hn=="string"&&(dt==null?void 0:dt.label)||""),ye.closeDropdown()},size:A,...p,children:[T.jsx(Xe.Target,{targetType:N?"input":"button",autoComplete:De,children:T.jsx(fs,{id:He,ref:t,__defaultRightSection:T.jsx(Xe.Chevron,{size:A,error:ce,unstyled:a,color:et}),__clearSection:Be,__clearable:Oe,rightSection:V,rightSectionPointerEvents:de||(Oe?"all":"none"),...Ye,size:A,__staticSelector:"Select",disabled:x,readOnly:m||!N,value:Te,onChange:Se=>{Pe(Se.currentTarget.value),ye.openDropdown(),_&&ye.selectFirstOption()},onFocus:Se=>{N&&ye.openDropdown(),y==null||y(Se)},onBlur:Se=>{var dt;N&&ye.closeDropdown(),Pe(Ae!=null&&((dt=mt[Ae])==null?void 0:dt.label)||""),w==null||w(Se)},onClick:Se=>{N?ye.openDropdown():ye.toggleDropdown(),S==null||S(Se)},classNames:Le,styles:yt,unstyled:a,pointer:!N,error:ce})}),T.jsx(Z2,{data:Tt,hidden:m||x,filter:k,search:Te,limit:M,hiddenWhenEmpty:!O,withScrollArea:L,maxDropdownHeight:j,filterOptions:N&&(ut==null?void 0:ut.label)!==Te,value:Ae,checkIconPosition:W,withCheckIcon:K,nothingFoundMessage:O,unstyled:a,labelId:Ye.label?`${He}-label`:void 0,"aria-label":Ye.label?void 0:Ye["aria-label"],renderOption:he,scrollAreaProps:vt})]}),T.jsx(Xe.HiddenInput,{value:Ae,name:U,form:F,disabled:x,...me})]})});Si.classes={...fs.classes,...Xe.classes};Si.displayName="@mantine/core/Select";function qM({spacing:e,verticalSpacing:t,cols:r,selector:n}){var v;const i=or(),a=t===void 0?e:t,c=Ti({"--sg-spacing-x":nr(yi(e)),"--sg-spacing-y":nr(yi(a)),"--sg-cols":(v=yi(r))==null?void 0:v.toString()}),l=pr(i.breakpoints).reduce((y,w)=>(y[w]||(y[w]={}),typeof e=="object"&&e[w]!==void 0&&(y[w]["--sg-spacing-x"]=nr(e[w])),typeof a=="object"&&a[w]!==void 0&&(y[w]["--sg-spacing-y"]=nr(a[w])),typeof r=="object"&&r[w]!==void 0&&(y[w]["--sg-cols"]=r[w]),y),{}),f=uT(pr(l),i.breakpoints).filter(y=>pr(l[y.value]).length>0).map(y=>({query:`(min-width: ${i.breakpoints[y.value]})`,styles:l[y.value]}));return T.jsx(Lu,{styles:c,media:f,selector:n})}function Kp(e){return typeof e=="object"&&e!==null?pr(e):[]}function GM(e){return e.sort((t,r)=>Za(t)-Za(r))}function KM({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...Kp(e),...Kp(t),...Kp(r)]));return GM(n)}function YM({spacing:e,verticalSpacing:t,cols:r,selector:n}){var f;const i=t===void 0?e:t,a=Ti({"--sg-spacing-x":nr(yi(e)),"--sg-spacing-y":nr(yi(i)),"--sg-cols":(f=yi(r))==null?void 0:f.toString()}),c=KM({spacing:e,verticalSpacing:t,cols:r}),l=c.reduce((v,y)=>(v[y]||(v[y]={}),typeof e=="object"&&e[y]!==void 0&&(v[y]["--sg-spacing-x"]=nr(e[y])),typeof i=="object"&&i[y]!==void 0&&(v[y]["--sg-spacing-y"]=nr(i[y])),typeof r=="object"&&r[y]!==void 0&&(v[y]["--sg-cols"]=r[y]),v),{}),d=c.map(v=>({query:`simple-grid (min-width: ${v})`,styles:l[v]}));return T.jsx(Lu,{styles:a,container:d,selector:n})}var d1={container:"m_925c2d2c",root:"m_2415a157"};const XM={cols:1,spacing:"md",type:"media"},mg=fe((e,t)=>{const r=oe("SimpleGrid",XM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,cols:f,verticalSpacing:v,spacing:y,type:w,...S}=r,b=Ee({name:"SimpleGrid",classes:d1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d}),R=hm();return w==="container"?T.jsxs(T.Fragment,{children:[T.jsx(YM,{...r,selector:`.${R}`}),T.jsx("div",{...b("container"),children:T.jsx(re,{ref:t,...b("root",{className:R}),...S})})]}):T.jsxs(T.Fragment,{children:[T.jsx(qM,{...r,selector:`.${R}`}),T.jsx(re,{ref:t,...b("root",{className:R}),...S})]})});mg.classes=d1;mg.displayName="@mantine/core/SimpleGrid";var f1={root:"m_18320242","skeleton-fade":"m_299c329c"};const QM={visible:!0,animate:!0},ZM=(e,{width:t,height:r,radius:n,circle:i})=>({root:{"--skeleton-height":te(r),"--skeleton-width":te(i?r:t),"--skeleton-radius":i?"1000px":n===void 0?void 0:Dt(n)}}),Co=fe((e,t)=>{const r=oe("Skeleton",QM,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,width:f,height:v,circle:y,visible:w,radius:S,animate:b,mod:R,...C}=r,E=Ee({name:"Skeleton",classes:f1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:ZM});return T.jsx(re,{ref:t,...E("root"),mod:[{visible:w,animate:b},R],...C})});Co.classes=f1;Co.displayName="@mantine/core/Skeleton";const[JM,gd]=Rn("SliderProvider was not found in tree"),p1=D.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:i,radius:a,...c},l)=>{const{getStyles:d}=gd();return T.jsx(re,{tabIndex:-1,variant:r,size:e,ref:l,...d("root"),...c})});p1.displayName="@mantine/core/SliderRoot";const h1=D.forwardRef(({max:e,min:t,value:r,position:n,label:i,dragging:a,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:d,labelAlwaysOn:f,thumbLabel:v,onFocus:y,onBlur:w,showLabelOnHover:S,isHovered:b,children:R=null,disabled:C},E)=>{const{getStyles:_}=gd(),[h,p]=D.useState(!1),m=f||a||h||S&&b;return T.jsxs(re,{tabIndex:0,role:"slider","aria-label":v,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:E,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:a,disabled:C},onFocus:x=>{p(!0),typeof y=="function"&&y(x)},onBlur:x=>{p(!1),typeof w=="function"&&w(x)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:x=>x.stopPropagation(),children:[R,T.jsx(us,{mounted:i!=null&&!!m,transition:"fade",duration:0,...d,children:x=>T.jsx("div",{..._("label",{style:x}),children:i})})]})});h1.displayName="@mantine/core/SliderThumb";function m1({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function ej({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function g1({marks:e,min:t,max:r,disabled:n,value:i,offset:a,inverted:c}){const{getStyles:l}=gd();if(!e)return null;const d=e.map((f,v)=>D.createElement(re,{...l("markWrapper"),__vars:{"--mark-offset":`${m1({value:f.value,min:t,max:r})}%`},key:v},T.jsx(re,{...l("mark"),mod:{filled:ej({mark:f,value:i,offset:a,inverted:c}),disabled:n}}),f.label&&T.jsx("div",{...l("markLabel"),children:f.label})));return T.jsx("div",{children:d})}g1.displayName="@mantine/core/SliderMarks";function v1({filled:e,children:t,offset:r,disabled:n,marksOffset:i,inverted:a,containerProps:c,...l}){const{getStyles:d}=gd();return T.jsx(re,{...d("trackContainer"),mod:{disabled:n},...c,children:T.jsxs(re,{...d("track"),mod:{inverted:a,disabled:n},children:[T.jsx(re,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...d("bar")}),t,T.jsx(g1,{...l,offset:i,disabled:n,inverted:a})]})})}v1.displayName="@mantine/core/SliderTrack";function tj({value:e,containerWidth:t,min:r,max:n,step:i,precision:a}){const l=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),d=(l!==0?Math.round(l/i)*i:0)+r,f=Math.max(d,r);return a!==void 0?Number(f.toFixed(a)):f}function Il(e,t){return parseFloat(e.toFixed(t))}function rj(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Yp(e,t){const n=[...t].sort((i,a)=>i.value-a.value).find(i=>i.value>e);return n?n.value:e}function Xp(e,t){const n=[...t].sort((i,a)=>a.value-i.value).find(i=>i.value<e);return n?n.value:e}function TS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function PS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var y1={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const nj={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},sj=(e,{size:t,color:r,thumbSize:n,radius:i})=>({root:{"--slider-size":Ke(t,"slider-size"),"--slider-color":r?gr(r,e):void 0,"--slider-radius":i===void 0?void 0:Dt(i),"--slider-thumb-size":n!==void 0?te(n):"calc(var(--slider-size) * 2)"}}),gg=fe((e,t)=>{const r=oe("Slider",nj,e),{classNames:n,styles:i,value:a,onChange:c,onChangeEnd:l,size:d,min:f,max:v,step:y,precision:w,defaultValue:S,name:b,marks:R,label:C,labelTransitionProps:E,labelAlwaysOn:_,thumbLabel:h,showLabelOnHover:p,thumbChildren:m,disabled:x,unstyled:k,scale:M,inverted:L,className:j,style:A,vars:N,hiddenInputProps:V,restrictToMarks:W,thumbProps:K,...O}=r,U=Ee({name:"Slider",props:r,classes:y1,classNames:n,className:j,styles:i,style:A,vars:N,varsResolver:sj,unstyled:k}),{dir:F}=Ks(),[z,q]=D.useState(!1),[B,X]=os({value:typeof a=="number"?qa(a,f,v):a,defaultValue:typeof S=="number"?qa(S,f,v):S,finalValue:qa(0,f,v),onChange:c}),ce=D.useRef(B),de=D.useRef(null),ee=D.useRef(null),ie=m1({value:B,min:f,max:v}),ue=M(B),me=typeof C=="function"?C(ue):C,he=w??rj(y),Ce=D.useCallback(({x:Ve})=>{if(!x){const Je=tj({value:Ve,min:f,max:v,step:y,precision:he});X(W&&(R!=null&&R.length)?Bw(Je,R.map(et=>et.value)):Je),ce.current=Je}},[x,f,v,y,he,X,R,W]),{ref:De,active:vt}=DT(Ce,{onScrubEnd:()=>!x&&(l==null?void 0:l(W&&(R!=null&&R.length)?Bw(ce.current,R.map(Ve=>Ve.value)):ce.current))},F),ct=Ve=>{var Je,et,Ye,Tt,mt,He;if(!x)switch(Ve.key){case"ArrowUp":{if(Ve.preventDefault(),(Je=ee.current)==null||Je.focus(),W&&R){const lt=Yp(B,R);X(lt),l==null||l(lt);break}const Ae=Il(Math.min(Math.max(B+y,f),v),he);X(Ae),l==null||l(Ae);break}case"ArrowRight":{if(Ve.preventDefault(),(et=ee.current)==null||et.focus(),W&&R){const lt=F==="rtl"?Xp(B,R):Yp(B,R);X(lt),l==null||l(lt);break}const Ae=Il(Math.min(Math.max(F==="rtl"?B-y:B+y,f),v),he);X(Ae),l==null||l(Ae);break}case"ArrowDown":{if(Ve.preventDefault(),(Ye=ee.current)==null||Ye.focus(),W&&R){const lt=Xp(B,R);X(lt),l==null||l(lt);break}const Ae=Il(Math.min(Math.max(B-y,f),v),he);X(Ae),l==null||l(Ae);break}case"ArrowLeft":{if(Ve.preventDefault(),(Tt=ee.current)==null||Tt.focus(),W&&R){const lt=F==="rtl"?Yp(B,R):Xp(B,R);X(lt),l==null||l(lt);break}const Ae=Il(Math.min(Math.max(F==="rtl"?B+y:B-y,f),v),he);X(Ae),l==null||l(Ae);break}case"Home":{if(Ve.preventDefault(),(mt=ee.current)==null||mt.focus(),W&&R){X(TS(R)),l==null||l(TS(R));break}X(f),l==null||l(f);break}case"End":{if(Ve.preventDefault(),(He=ee.current)==null||He.focus(),W&&R){X(PS(R)),l==null||l(PS(R));break}X(v),l==null||l(v);break}}};return T.jsx(JM,{value:{getStyles:U},children:T.jsxs(p1,{...O,ref:Vt(t,de),onKeyDownCapture:ct,onMouseDownCapture:()=>{var Ve;return(Ve=de.current)==null?void 0:Ve.focus()},size:d,disabled:x,children:[T.jsx(v1,{inverted:L,offset:0,filled:ie,marks:R,min:f,max:v,value:ue,disabled:x,containerProps:{ref:De,onMouseEnter:p?()=>q(!0):void 0,onMouseLeave:p?()=>q(!1):void 0},children:T.jsx(h1,{max:v,min:f,value:ue,position:ie,dragging:vt,label:me,ref:ee,labelTransitionProps:E,labelAlwaysOn:_,thumbLabel:h,showLabelOnHover:p,isHovered:z,disabled:x,...K,children:m})}),T.jsx("input",{type:"hidden",name:b,value:ue,...V})]})})});gg.classes=y1;gg.displayName="@mantine/core/Slider";var w1={root:"m_6d731127"};const oj={gap:"md",align:"stretch",justify:"flex-start"},ij=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":nr(t),"--stack-align":r,"--stack-justify":n}}),qe=fe((e,t)=>{const r=oe("Stack",oj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,align:f,justify:v,gap:y,variant:w,...S}=r,b=Ee({name:"Stack",props:r,classes:w1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:ij});return T.jsx(re,{ref:t,...b("root"),variant:w,...S})});qe.classes=w1;qe.displayName="@mantine/core/Stack";const[aj,vg]=Rn("Tabs component was not found in the tree");var pc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const cj={},yg=fe((e,t)=>{const r=oe("TabsList",cj,e),{children:n,className:i,grow:a,justify:c,classNames:l,styles:d,style:f,mod:v,...y}=r,w=vg();return T.jsx(re,{...y,...w.getStyles("list",{className:i,style:f,classNames:l,styles:d,props:r,variant:w.variant}),ref:t,role:"tablist",variant:w.variant,mod:[{grow:a,orientation:w.orientation,placement:w.orientation==="vertical"&&w.placement,inverted:w.inverted},v],"aria-orientation":w.orientation,__vars:{"--tabs-justify":c},children:n})});yg.classes=pc;yg.displayName="@mantine/core/TabsList";const lj={},wg=fe((e,t)=>{const r=oe("TabsPanel",lj,e),{children:n,className:i,value:a,classNames:c,styles:l,style:d,mod:f,keepMounted:v,...y}=r,w=vg(),S=w.value===a,b=w.keepMounted||v||S?n:null;return T.jsx(re,{...y,...w.getStyles("panel",{className:i,classNames:c,styles:l,style:[d,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:w.orientation},f],role:"tabpanel",id:w.getPanelId(a),"aria-labelledby":w.getTabId(a),children:b})});wg.classes=pc;wg.displayName="@mantine/core/TabsPanel";const uj={},Sg=fe((e,t)=>{const r=oe("TabsTab",uj,e),{className:n,children:i,rightSection:a,leftSection:c,value:l,onClick:d,onKeyDown:f,disabled:v,color:y,style:w,classNames:S,styles:b,vars:R,mod:C,tabIndex:E,..._}=r,h=or(),{dir:p}=Ks(),m=vg(),x=l===m.value,k=L=>{m.onChange(m.allowTabDeactivation&&l===m.value?null:l),d==null||d(L)},M={classNames:S,styles:b,props:r};return T.jsxs(Ys,{..._,...m.getStyles("tab",{className:n,style:w,variant:m.variant,...M}),disabled:v,unstyled:m.unstyled,variant:m.variant,mod:[{active:x,disabled:v,orientation:m.orientation,inverted:m.inverted,placement:m.orientation==="vertical"&&m.placement},C],ref:t,role:"tab",id:m.getTabId(l),"aria-selected":x,tabIndex:E!==void 0?E:x||m.value===null?0:-1,"aria-controls":m.getPanelId(l),onClick:k,__vars:{"--tabs-color":y?gr(y,h):void 0},onKeyDown:C_({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:m.activateTabWithKeyboard,loop:m.loop,orientation:m.orientation||"horizontal",dir:p,onKeyDown:f}),children:[c&&T.jsx("span",{...m.getStyles("tabSection",M),"data-position":"left",children:c}),i&&T.jsx("span",{...m.getStyles("tabLabel",M),children:i}),a&&T.jsx("span",{...m.getStyles("tabSection",M),"data-position":"right",children:a})]})});Sg.classes=pc;Sg.displayName="@mantine/core/TabsTab";const kS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",dj={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},fj=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":Dt(t),"--tabs-color":gr(r,e),"--tabs-text-color":$_(n,e)?fm({color:r,theme:e,autoContrast:n}):void 0}}),yn=fe((e,t)=>{const r=oe("Tabs",dj,e),{defaultValue:n,value:i,onChange:a,orientation:c,children:l,loop:d,id:f,activateTabWithKeyboard:v,allowTabDeactivation:y,variant:w,color:S,radius:b,inverted:R,placement:C,keepMounted:E,classNames:_,styles:h,unstyled:p,className:m,style:x,vars:k,autoContrast:M,mod:L,...j}=r,A=qs(f),[N,V]=os({value:i,defaultValue:n,finalValue:null,onChange:a}),W=Ee({name:"Tabs",props:r,classes:pc,className:m,style:x,classNames:_,styles:h,unstyled:p,vars:k,varsResolver:fj});return T.jsx(aj,{value:{placement:C,value:N,orientation:c,id:A,loop:d,activateTabWithKeyboard:v,getTabId:Fw(`${A}-tab`,kS),getPanelId:Fw(`${A}-panel`,kS),onChange:V,allowTabDeactivation:y,variant:w,color:S,radius:b,inverted:R,keepMounted:E,unstyled:p,getStyles:W},children:T.jsx(re,{ref:t,id:A,variant:w,mod:[{orientation:c,inverted:c==="horizontal"&&R,placement:c==="vertical"&&C},L],...W("root"),...j,children:l})})});yn.classes=pc;yn.displayName="@mantine/core/Tabs";yn.Tab=Sg;yn.Panel=wg;yn.List=yg;const pj={},Ur=fe((e,t)=>{const r=oe("TextInput",pj,e);return T.jsx(fs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Ur.classes=fs.classes;Ur.displayName="@mantine/core/TextInput";const hj=["h1","h2","h3","h4","h5","h6"],mj=["xs","sm","md","lg","xl"];function gj(e,t){const r=t!==void 0?t:`h${e}`;return hj.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:mj.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var S1={root:"m_8a5d1357"};const vj={order:1},yj=(e,{order:t,size:r,lineClamp:n,textWrap:i})=>{const a=gj(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":i}}},vd=fe((e,t)=>{const r=oe("Title",vj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,order:d,vars:f,size:v,variant:y,lineClamp:w,textWrap:S,mod:b,...R}=r,C=Ee({name:"Title",props:r,classes:S1,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:yj});return[1,2,3,4,5,6].includes(d)?T.jsx(re,{...C("root"),component:`h${d}`,variant:y,ref:t,mod:[{order:d,"data-line-clamp":typeof w=="number"},b],size:v,...R}):null});vd.classes=S1;vd.displayName="@mantine/core/Title";function wj(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),n.forEach(a=>a(t))},initialize(i){r||(t=i,r=!0)},subscribe(i){return n.add(i),()=>n.delete(i)}}}function Sj(e){return D.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function bj(e,t,r){const n=[],i=[],a={};for(const c of e){const l=c.position||t;a[l]=a[l]||0,a[l]+=1,a[l]<=r?i.push(c):n.push(c)}return{notifications:i,queue:n}}const _j=()=>wj({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),ko=_j(),xj=(e=ko)=>Sj(e);function $i(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),i=bj(n,r.defaultPosition,r.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function Cj(e,t=ko){const r=e.id||R_();return $i(t,n=>e.id&&n.some(i=>i.id===e.id)?n:[...n,{...e,id:r}]),r}function b1(e,t=ko){return $i(t,r=>r.filter(n=>{var i;return n.id===e?((i=n.onClose)==null||i.call(n,n),!1):!0})),e}function Rj(e,t=ko){return $i(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function Ej(e=ko){$i(e,()=>[])}function Tj(e=ko){$i(e,t=>t.slice(0,e.getState().limit))}const Hs={show:Cj,hide:b1,update:Rj,clean:Ej,cleanQueue:Tj,updateState:$i};function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Oh(e,t)}function _1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Oh(e,t)}const DS={disabled:!1},wu=Bt.createContext(null);var Pj=function(t){return t.scrollTop},Ba="unmounted",go="exited",vo="entering",mi="entered",Nh="exiting",ms=function(e){_1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=i,l=c&&!c.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?l?(d=go,a.appearStatus=vo):d=mi:n.unmountOnExit||n.mountOnEnter?d=Ba:d=go,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var c=i.in;return c&&a.status===Ba?{status:go}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==vo&&c!==mi&&(a=vo):(c===vo||c===mi)&&(a=Nh)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,c,l;return a=c=l=i,i!=null&&typeof i!="number"&&(a=i.exit,c=i.enter,l=i.appear!==void 0?i.appear:c),{exit:a,enter:c,appear:l}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===vo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:za.findDOMNode(this);c&&Pj(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===go&&this.setState({status:Ba})},r.performEnter=function(i){var a=this,c=this.props.enter,l=this.context?this.context.isMounting:i,d=this.props.nodeRef?[l]:[za.findDOMNode(this),l],f=d[0],v=d[1],y=this.getTimeouts(),w=l?y.appear:y.enter;if(!i&&!c||DS.disabled){this.safeSetState({status:mi},function(){a.props.onEntered(f)});return}this.props.onEnter(f,v),this.safeSetState({status:vo},function(){a.props.onEntering(f,v),a.onTransitionEnd(w,function(){a.safeSetState({status:mi},function(){a.props.onEntered(f,v)})})})},r.performExit=function(){var i=this,a=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:za.findDOMNode(this);if(!a||DS.disabled){this.safeSetState({status:go},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Nh},function(){i.props.onExiting(l),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:go},function(){i.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,a.nextCallback=null,i(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:za.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=d[0],v=d[1];this.props.addEndListener(f,v)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Ba)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=ag(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bt.createElement(wu.Provider,{value:null},typeof c=="function"?c(i,l):Bt.cloneElement(Bt.Children.only(c),l))},t}(Bt.Component);ms.contextType=wu;ms.propTypes={};function fi(){}ms.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fi,onEntering:fi,onEntered:fi,onExit:fi,onExiting:fi,onExited:fi};ms.UNMOUNTED=Ba;ms.EXITED=go;ms.ENTERING=vo;ms.ENTERED=mi;ms.EXITING=Nh;function kj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bg(e,t){var r=function(a){return t&&D.isValidElement(a)?t(a):a},n=Object.create(null);return e&&D.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Dj(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var n=Object.create(null),i=[];for(var a in e)a in t?i.length&&(n[a]=i,i=[]):i.push(a);var c,l={};for(var d in t){if(n[d])for(c=0;c<n[d].length;c++){var f=n[d][c];l[n[d][c]]=r(f)}l[d]=r(d)}for(c=0;c<i.length;c++)l[i[c]]=r(i[c]);return l}function bo(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Ij(e,t){return bg(e.children,function(r){return D.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:bo(r,"appear",e),enter:bo(r,"enter",e),exit:bo(r,"exit",e)})})}function Mj(e,t,r){var n=bg(e.children),i=Dj(t,n);return Object.keys(i).forEach(function(a){var c=i[a];if(D.isValidElement(c)){var l=a in t,d=a in n,f=t[a],v=D.isValidElement(f)&&!f.props.in;d&&(!l||v)?i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:bo(c,"exit",e),enter:bo(c,"enter",e)}):!d&&l&&!v?i[a]=D.cloneElement(c,{in:!1}):d&&l&&D.isValidElement(f)&&(i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:f.props.in,exit:bo(c,"exit",e),enter:bo(c,"enter",e)}))}}),i}var jj=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Lj={component:"div",childFactory:function(t){return t}},Ns=function(e){_1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=a.handleExited.bind(kj(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,l=a.handleExited,d=a.firstRender;return{children:d?Ij(i,l):Mj(i,c,l),firstRender:!1}},r.handleExited=function(i,a){var c=bg(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(l){var d=yu({},l.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,a=i.component,c=i.childFactory,l=ag(i,["component","childFactory"]),d=this.state.contextValue,f=jj(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,a===null?Bt.createElement(wu.Provider,{value:d},f):Bt.createElement(wu.Provider,{value:d},Bt.createElement(a,l,f))},t}(Bt.Component);Ns.propTypes={};Ns.defaultProps=Lj;const x1=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function Oj(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),x1.reduce((r,n)=>(r[n]=[],r),{}))}const IS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Nj={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function Aj({state:e,maxHeight:t,position:r,transitionDuration:n}){const[i,a]=r.split("-"),c=a==="center"?`${i}-center`:a,l={opacity:0,maxHeight:t,transform:IS[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:Nj[c]},f={opacity:0,maxHeight:0,transform:IS[c]};return{...l,...{entering:d,entered:d,exiting:f,exited:f}[e]}}function $j(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const C1=D.forwardRef(({data:e,onHide:t,autoClose:r,...n},i)=>{const{autoClose:a,message:c,...l}=e,d=$j(r,e.autoClose),f=D.useRef(-1),v=()=>window.clearTimeout(f.current),y=()=>{t(e.id),v()},w=()=>{typeof d=="number"&&(f.current=window.setTimeout(y,d))};return D.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),D.useEffect(()=>(w(),v),[d]),T.jsx(fg,{...n,...l,onClose:y,ref:i,onMouseEnter:v,onMouseLeave:w,children:c})});C1.displayName="@mantine/notifications/NotificationContainer";var R1={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Fj=ms,zj={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:yr("overlay"),store:ko,withinPortal:!0},Bj=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":te(r)}}),gs=fe((e,t)=>{const r=oe("Notifications",zj,e),{classNames:n,className:i,style:a,styles:c,unstyled:l,vars:d,position:f,autoClose:v,transitionDuration:y,containerWidth:w,notificationMaxHeight:S,limit:b,zIndex:R,store:C,portalProps:E,withinPortal:_,...h}=r,p=or(),m=xj(C),x=ET(),k=Iu(),M=D.useRef({}),L=D.useRef(0),A=(p.respectReducedMotion?k:!1)?1:y,N=Ee({name:"Notifications",classes:R1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:Bj});D.useEffect(()=>{C==null||C.updateState(K=>({...K,limit:b||5,defaultPosition:f}))},[b,f]),Bn(()=>{m.notifications.length>L.current&&setTimeout(()=>x(),0),L.current=m.notifications.length},[m.notifications]);const V=Oj(m.notifications,f),W=x1.reduce((K,O)=>(K[O]=V[O].map(({style:U,...F})=>T.jsx(Fj,{timeout:A,onEnter:()=>M.current[F.id].offsetHeight,nodeRef:{current:M.current[F.id]},children:z=>T.jsx(C1,{ref:q=>{M.current[F.id]=q},data:F,onHide:q=>b1(q,C),autoClose:v,...N("notification",{style:{...Aj({state:z,position:O,transitionDuration:A,maxHeight:S}),...U}})})},F.id)),K),{});return T.jsxs(Po,{withinPortal:_,...E,children:[T.jsx(re,{...N("root"),"data-position":"top-center",ref:t,...h,children:T.jsx(Ns,{children:W["top-center"]})}),T.jsx(re,{...N("root"),"data-position":"top-left",...h,children:T.jsx(Ns,{children:W["top-left"]})}),T.jsx(re,{...N("root",{className:uu.classNames.fullWidth}),"data-position":"top-right",...h,children:T.jsx(Ns,{children:W["top-right"]})}),T.jsx(re,{...N("root",{className:uu.classNames.fullWidth}),"data-position":"bottom-right",...h,children:T.jsx(Ns,{children:W["bottom-right"]})}),T.jsx(re,{...N("root"),"data-position":"bottom-left",...h,children:T.jsx(Ns,{children:W["bottom-left"]})}),T.jsx(re,{...N("root"),"data-position":"bottom-center",...h,children:T.jsx(Ns,{children:W["bottom-center"]})})]})});gs.classes=R1;gs.displayName="@mantine/notifications/Notifications";gs.show=Hs.show;gs.hide=Hs.hide;gs.update=Hs.update;gs.clean=Hs.clean;gs.cleanQueue=Hs.cleanQueue;gs.updateState=Hs.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const MS="popstate";function Uj(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:l="",hash:d=""}=Do(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ah("",{pathname:c,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),l="";if(c&&c.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");l=f===-1?d:d.slice(0,f)}return l+"#"+(typeof a=="string"?a:Su(a))}function n(i,a){_g(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Hj(t,r,n,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _g(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vj(){return Math.random().toString(36).substr(2,8)}function jS(e,t){return{usr:e.state,key:e.key,idx:t}}function Ah(e,t,r,n){return r===void 0&&(r=null),rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Do(t):t,{state:r,key:t&&t.key||n||Vj()})}function Su(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Do(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hj(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,l=$s.Pop,d=null,f=v();f==null&&(f=0,c.replaceState(rc({},c.state,{idx:f}),""));function v(){return(c.state||{idx:null}).idx}function y(){l=$s.Pop;let C=v(),E=C==null?null:C-f;f=C,d&&d({action:l,location:R.location,delta:E})}function w(C,E){l=$s.Push;let _=Ah(R.location,C,E);r&&r(_,C),f=v()+1;let h=jS(_,f),p=R.createHref(_);try{c.pushState(h,"",p)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;i.location.assign(p)}a&&d&&d({action:l,location:R.location,delta:1})}function S(C,E){l=$s.Replace;let _=Ah(R.location,C,E);r&&r(_,C),f=v();let h=jS(_,f),p=R.createHref(_);c.replaceState(h,"",p),a&&d&&d({action:l,location:R.location,delta:0})}function b(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:Su(C);return _=_.replace(/ $/,"%20"),Ct(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let R={get action(){return l},get location(){return e(i,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(MS,y),d=C,()=>{i.removeEventListener(MS,y),d=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:S,go(C){return c.go(C)}};return R}var LS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LS||(LS={}));function Wj(e,t,r){return r===void 0&&(r="/"),qj(e,t,r)}function qj(e,t,r,n){let i=typeof t=="string"?Do(t):t,a=xg(i.pathname||"/",r);if(a==null)return null;let c=E1(e);Gj(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let f=oL(a);l=rL(c[d],f)}return l}function E1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Fs([n,d.relativePath]),v=r.concat(d);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),E1(a.children,t,v,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:eL(f,a.index),routesMeta:v})};return e.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,c);else for(let d of T1(a.path))i(a,c,d)}),t}function T1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=T1(n.join("/")),l=[];return l.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...c),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function Gj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Kj=/^:[\w-]+$/,Yj=3,Xj=2,Qj=1,Zj=10,Jj=-2,OS=e=>e==="*";function eL(e,t){let r=e.split("/"),n=r.length;return r.some(OS)&&(n+=Jj),t&&(n+=Xj),r.filter(i=>!OS(i)).reduce((i,a)=>i+(Kj.test(a)?Yj:a===""?Qj:Zj),n)}function tL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function rL(e,t,r){let{routesMeta:n}=e,i={},a="/",c=[];for(let l=0;l<n.length;++l){let d=n[l],f=l===n.length-1,v=a==="/"?t:t.slice(a.length)||"/",y=nL({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},v),w=d.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Fs([a,y.pathname]),pathnameBase:lL(Fs([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=Fs([a,y.pathnameBase]))}return c}function nL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,v,y)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let R=l[y]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const b=l[y];return S&&!b?f[w]=void 0:f[w]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function sL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_g(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function oL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Do(e):e;return{pathname:r?r.startsWith("/")?r:aL(r,t):t,search:uL(n),hash:dL(i)}}function aL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function P1(e,t){let r=cL(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function k1(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Do(e):(i=rc({},e),Ct(!i.pathname||!i.pathname.includes("?"),Qp("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Qp("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Qp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,l;if(c==null)l=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}l=y>=0?t[y]:"/"}let d=iL(i,l),f=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||v)&&(d.pathname+="/"),d}const Fs=e=>e.join("/").replace(/\/\/+/g,"/"),lL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const D1=["post","put","patch","delete"];new Set(D1);const pL=["get",...D1];new Set(pL);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}const Cg=D.createContext(null),hL=D.createContext(null),Io=D.createContext(null),yd=D.createContext(null),Mo=D.createContext({outlet:null,matches:[],isDataRoute:!1}),I1=D.createContext(null);function mL(e,t){let{relative:r}=t===void 0?{}:t;hc()||Ct(!1);let{basename:n,navigator:i}=D.useContext(Io),{hash:a,pathname:c,search:l}=j1(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:Fs([n,c])),i.createHref({pathname:d,search:l,hash:a})}function hc(){return D.useContext(yd)!=null}function wd(){return hc()||Ct(!1),D.useContext(yd).location}function M1(e){D.useContext(Io).static||D.useLayoutEffect(e)}function Xs(){let{isDataRoute:e}=D.useContext(Mo);return e?PL():gL()}function gL(){hc()||Ct(!1);let e=D.useContext(Cg),{basename:t,future:r,navigator:n}=D.useContext(Io),{matches:i}=D.useContext(Mo),{pathname:a}=wd(),c=JSON.stringify(P1(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return M1(()=>{l.current=!0}),D.useCallback(function(f,v){if(v===void 0&&(v={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=k1(f,JSON.parse(c),a,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Fs([t,y.pathname])),(v.replace?n.replace:n.push)(y,v.state,v)},[t,n,c,a,e])}function j1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=D.useContext(Io),{matches:i}=D.useContext(Mo),{pathname:a}=wd(),c=JSON.stringify(P1(i,n.v7_relativeSplatPath));return D.useMemo(()=>k1(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function vL(e,t){return yL(e,t)}function yL(e,t,r,n){hc()||Ct(!1);let{navigator:i}=D.useContext(Io),{matches:a}=D.useContext(Mo),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let f=wd(),v;if(t){var y;let C=typeof t=="string"?Do(t):t;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||Ct(!1),v=C}else v=f;let w=v.pathname||"/",S=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=Wj(e,{pathname:S}),R=xL(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Fs([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Fs([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return t&&R?D.createElement(yd.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:$s.Pop}},R):R}function wL(){let e=TL(),t=fL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,null)}const SL=D.createElement(wL,null);class bL extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?D.createElement(Mo.Provider,{value:this.props.routeContext},D.createElement(I1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _L(e){let{routeContext:t,match:r,children:n}=e,i=D.useContext(Cg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(Mo.Provider,{value:t},n)}function xL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let v=c.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);v>=0||Ct(!1),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:w,errors:S}=r,b=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||b){d=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((v,y,w)=>{let S,b=!1,R=null,C=null;r&&(S=l&&y.route.id?l[y.route.id]:void 0,R=y.route.errorElement||SL,d&&(f<0&&w===0?(kL("route-fallback"),b=!0,C=null):f===w&&(b=!0,C=y.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,w+1)),_=()=>{let h;return S?h=R:b?h=C:y.route.Component?h=D.createElement(y.route.Component,null):y.route.element?h=y.route.element:h=v,D.createElement(_L,{match:y,routeContext:{outlet:v,matches:E,isDataRoute:r!=null},children:h})};return r&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?D.createElement(bL,{location:r.location,revalidation:r.revalidation,component:R,error:S,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var L1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L1||{}),O1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(O1||{});function CL(e){let t=D.useContext(Cg);return t||Ct(!1),t}function RL(e){let t=D.useContext(hL);return t||Ct(!1),t}function EL(e){let t=D.useContext(Mo);return t||Ct(!1),t}function N1(e){let t=EL(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function TL(){var e;let t=D.useContext(I1),r=RL(),n=N1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function PL(){let{router:e}=CL(L1.UseNavigateStable),t=N1(O1.UseNavigateStable),r=D.useRef(!1);return M1(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,nc({fromRouteId:t},a)))},[e,t])}const NS={};function kL(e,t,r){NS[e]||(NS[e]=!0)}const AS={};function DL(e,t){AS[t]||(AS[t]=!0,console.warn(t))}const $S=(e,t,r)=>DL(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function IL(e,t){e!=null&&e.v7_startTransition||$S("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||$S("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ua(e){Ct(!1)}function ML(e){let{basename:t="/",children:r=null,location:n,navigationType:i=$s.Pop,navigator:a,static:c=!1,future:l}=e;hc()&&Ct(!1);let d=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:d,navigator:a,static:c,future:nc({v7_relativeSplatPath:!1},l)}),[d,l,a,c]);typeof n=="string"&&(n=Do(n));let{pathname:v="/",search:y="",hash:w="",state:S=null,key:b="default"}=n,R=D.useMemo(()=>{let C=xg(v,d);return C==null?null:{location:{pathname:C,search:y,hash:w,state:S,key:b},navigationType:i}},[d,v,y,w,S,b,i]);return R==null?null:D.createElement(Io.Provider,{value:f},D.createElement(yd.Provider,{children:r,value:R}))}function jL(e){let{children:t,location:r}=e;return vL($h(t),r)}new Promise(()=>{});function $h(e,t){t===void 0&&(t=[]);let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let a=[...t,i];if(n.type===D.Fragment){r.push.apply(r,$h(n.props.children,a));return}n.type!==Ua&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=$h(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function LL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function OL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NL(e,t){return e.button===0&&(!t||t==="_self")&&!OL(e)}const AL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$L="6";try{window.__reactRouterVersion=$L}catch{}const FL="startTransition",FS=f_[FL];function zL(e){let{basename:t,children:r,future:n,window:i}=e,a=D.useRef();a.current==null&&(a.current=Uj({window:i,v5Compat:!0}));let c=a.current,[l,d]=D.useState({action:c.action,location:c.location}),{v7_startTransition:f}=n||{},v=D.useCallback(y=>{f&&FS?FS(()=>d(y)):d(y)},[d,f]);return D.useLayoutEffect(()=>c.listen(v),[c,v]),D.useEffect(()=>IL(n),[n]),D.createElement(ML,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const BL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zS=D.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:l,target:d,to:f,preventScrollReset:v,viewTransition:y}=t,w=LL(t,AL),{basename:S}=D.useContext(Io),b,R=!1;if(typeof f=="string"&&UL.test(f)&&(b=f,BL))try{let h=new URL(window.location.href),p=f.startsWith("//")?new URL(h.protocol+f):new URL(f),m=xg(p.pathname,S);p.origin===h.origin&&m!=null?f=m+p.search+p.hash:R=!0}catch{}let C=mL(f,{relative:i}),E=VL(f,{replace:c,state:l,target:d,preventScrollReset:v,relative:i,viewTransition:y});function _(h){n&&n(h),h.defaultPrevented||E(h)}return D.createElement("a",Fh({},w,{href:b||C,onClick:R||a?n:_,ref:r,target:d}))});var BS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var US;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(US||(US={}));function VL(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:l}=t===void 0?{}:t,d=Xs(),f=wd(),v=j1(e,{relative:c});return D.useCallback(y=>{if(NL(y,r)){y.preventDefault();let w=n!==void 0?n:Su(f)===Su(v);d(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:l})}},[f,d,v,n,i,r,e,a,c,l])}const A1=D.createContext(void 0),$1=D.createContext(null),jo=()=>{const e=D.useContext($1);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},Un=Object.create(null);Un.open="0";Un.close="1";Un.ping="2";Un.pong="3";Un.message="4";Un.upgrade="5";Un.noop="6";const ql=Object.create(null);Object.keys(Un).forEach(e=>{ql[Un[e]]=e});const zh={type:"error",data:"parser error"},F1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z1=typeof ArrayBuffer=="function",B1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Rg=({type:e,data:t},r,n)=>F1&&t instanceof Blob?r?n(t):VS(t,n):z1&&(t instanceof ArrayBuffer||B1(t))?r?n(t):VS(new Blob([t]),n):n(Un[e]+(t||"")),VS=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function HS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Zp;function HL(e,t){if(F1&&e.data instanceof Blob)return e.data.arrayBuffer().then(HS).then(t);if(z1&&(e.data instanceof ArrayBuffer||B1(e.data)))return t(HS(e.data));Rg(e,!1,r=>{Zp||(Zp=new TextEncoder),t(Zp.encode(r))})}const WS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Va=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<WS.length;e++)Va[WS.charCodeAt(e)]=e;const WL=e=>{let t=e.length*.75,r=e.length,n,i=0,a,c,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),v=new Uint8Array(f);for(n=0;n<r;n+=4)a=Va[e.charCodeAt(n)],c=Va[e.charCodeAt(n+1)],l=Va[e.charCodeAt(n+2)],d=Va[e.charCodeAt(n+3)],v[i++]=a<<2|c>>4,v[i++]=(c&15)<<4|l>>2,v[i++]=(l&3)<<6|d&63;return f},qL=typeof ArrayBuffer=="function",Eg=(e,t)=>{if(typeof e!="string")return{type:"message",data:U1(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:GL(e.substring(1),t)}:ql[r]?e.length>1?{type:ql[r],data:e.substring(1)}:{type:ql[r]}:zh},GL=(e,t)=>{if(qL){const r=WL(e);return U1(r,t)}else return{base64:!0,data:e}},U1=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},V1="",KL=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,c)=>{Rg(a,!1,l=>{n[c]=l,++i===r&&t(n.join(V1))})})},YL=(e,t)=>{const r=e.split(V1),n=[];for(let i=0;i<r.length;i++){const a=Eg(r[i],t);if(n.push(a),a.type==="error")break}return n};function XL(){return new TransformStream({transform(e,t){HL(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Jp;function Ml(e){return e.reduce((t,r)=>t+r.length,0)}function jl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function QL(e,t){Jp||(Jp=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(c,l){for(r.push(c);;){if(n===0){if(Ml(r)<1)break;const d=jl(r,1);a=(d[0]&128)===128,i=d[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ml(r)<2)break;const d=jl(r,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Ml(r)<8)break;const d=jl(r,8),f=new DataView(d.buffer,d.byteOffset,d.length),v=f.getUint32(0);if(v>Math.pow(2,21)-1){l.enqueue(zh);break}i=v*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Ml(r)<i)break;const d=jl(r,i);l.enqueue(Eg(a?d:Jp.decode(d),t)),n=0}if(i===0||i>e){l.enqueue(zh);break}}}})}const H1=4;function xt(e){if(e)return ZL(e)}function ZL(e){for(var t in xt.prototype)e[t]=xt.prototype[t];return e}xt.prototype.on=xt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};xt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};xt.prototype.off=xt.prototype.removeListener=xt.prototype.removeAllListeners=xt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};xt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};xt.prototype.emitReserved=xt.prototype.emit;xt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};xt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Sd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),zr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),JL="arraybuffer";function W1(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const eO=zr.setTimeout,tO=zr.clearTimeout;function bd(e,t){t.useNativeTimers?(e.setTimeoutFn=eO.bind(zr),e.clearTimeoutFn=tO.bind(zr)):(e.setTimeoutFn=zr.setTimeout.bind(zr),e.clearTimeoutFn=zr.clearTimeout.bind(zr))}const rO=1.33;function nO(e){return typeof e=="string"?sO(e):Math.ceil((e.byteLength||e.size)*rO)}function sO(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function q1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oO(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function iO(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class aO extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Tg=class extends xt{constructor(t){super(),this.writable=!1,bd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new aO(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Eg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=oO(t);return r.length?"?"+r:""}};class cO extends Tg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};YL(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,KL(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=q1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let G1=!1;try{G1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lO=G1;function uO(){}class dO extends cO{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class zn extends xt{constructor(t,r,n){super(),this.createRequest=t,bd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=W1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=zn.requestsCount++,zn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=uO,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zn.requestsCount=0;zn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qS);else if(typeof addEventListener=="function"){const e="onpagehide"in zr?"pagehide":"unload";addEventListener(e,qS,!1)}}function qS(){for(let e in zn.requests)zn.requests.hasOwnProperty(e)&&zn.requests[e].abort()}const fO=function(){const e=K1({xdomain:!1});return e&&e.responseType!==null}();class pO extends dO{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=fO&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new zn(K1,this.uri(),t)}}function K1(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lO))return new XMLHttpRequest}catch{}if(!t)try{return new zr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Y1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hO extends Tg{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Y1?{}:W1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Rg(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Sd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=q1()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const eh=zr.WebSocket||zr.MozWebSocket;class mO extends hO{createSocket(t,r,n){return Y1?new eh(t,r,n):r?new eh(t,r):new eh(t)}doWrite(t,r){this.ws.send(r)}}class gO extends Tg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=QL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=XL();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:d})=>{l||(this.onPacket(d),a())}).catch(l=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&Sd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const vO={websocket:mO,webtransport:gO,polling:pO},yO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=yO.exec(e||""),a={},c=14;for(;c--;)a[wO[c]]=i[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=SO(a,a.path),a.queryKey=bO(a,a.query),a}function SO(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function bO(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Uh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gl=[];Uh&&addEventListener("offline",()=>{Gl.forEach(e=>e())},!1);class zs extends xt{constructor(t,r){if(super(),this.binaryType=JL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Bh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Bh(r.host).host);bd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iO(this.opts.query)),Uh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=H1,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&zs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",zs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=nO(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Sd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(zs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Uh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Gl.indexOf(this._offlineEventListener);n!==-1&&Gl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}zs.protocol=H1;class _O extends zs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;zs.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;zs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function a(){n||(n=!0,v(),r.close(),r=null)}const c=y=>{const w=new Error("probe error: "+y);w.transport=r.name,a(),this.emitReserved("upgradeError",w)};function l(){c("transport closed")}function d(){c("socket closed")}function f(y){r&&y.name!==r.name&&a()}const v=()=>{r.removeListener("open",i),r.removeListener("error",c),r.removeListener("close",l),this.off("close",d),this.off("upgrading",f)};r.once("open",i),r.once("error",c),r.once("close",l),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let xO=class extends _O{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>vO[i]).filter(i=>!!i)),super(t,n)}};function CO(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Bh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const RO=typeof ArrayBuffer=="function",EO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,X1=Object.prototype.toString,TO=typeof Blob=="function"||typeof Blob<"u"&&X1.call(Blob)==="[object BlobConstructor]",PO=typeof File=="function"||typeof File<"u"&&X1.call(File)==="[object FileConstructor]";function Pg(e){return RO&&(e instanceof ArrayBuffer||EO(e))||TO&&e instanceof Blob||PO&&e instanceof File}function Kl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Kl(e[r]))return!0;return!1}if(Pg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Kl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Kl(e[r]))return!0;return!1}function kO(e){const t=[],r=e.data,n=e;return n.data=Vh(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Vh(e,t){if(!e)return e;if(Pg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Vh(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Vh(e[n],t));return r}return e}function DO(e,t){return e.data=Hh(e.data,t),delete e.attachments,e}function Hh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Hh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Hh(e[r],t));return e}const IO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],MO=5;var Ne;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class jO{constructor(t){this.replacer=t}encode(t){return(t.type===Ne.EVENT||t.type===Ne.ACK)&&Kl(t)?this.encodeAsBinary({type:t.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ne.BINARY_EVENT||t.type===Ne.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=kO(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function GS(e){return Object.prototype.toString.call(e)==="[object Object]"}class kg extends xt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Ne.BINARY_EVENT;n||r.type===Ne.BINARY_ACK?(r.type=n?Ne.EVENT:Ne.ACK,this.reconstructor=new LO(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Pg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Ne[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ne.BINARY_EVENT||n.type===Ne.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(kg.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ne.CONNECT:return GS(r);case Ne.DISCONNECT:return r===void 0;case Ne.CONNECT_ERROR:return typeof r=="string"||GS(r);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&IO.indexOf(r[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=DO(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const OO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kg,Encoder:jO,get PacketType(){return Ne},protocol:MO},Symbol.toStringTag,{value:"Module"}));function vn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const NO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Q1 extends xt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[vn(t,"open",this.onopen.bind(this)),vn(t,"packet",this.onpacket.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(NO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Ne.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,y=r.pop();this._registerAckCallback(v,y),c.id=v}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),c=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(c,l)=>c?i(c):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ne.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(t);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(t);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Ne.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Fi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Fi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Fi.prototype.reset=function(){this.attempts=0};Fi.prototype.setMin=function(e){this.ms=e};Fi.prototype.setMax=function(e){this.max=e};Fi.prototype.setJitter=function(e){this.jitter=e};class Wh extends xt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,bd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Fi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||OO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xO(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=vn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},c=vn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(vn(t,"ping",this.onping.bind(this)),vn(t,"data",this.ondata.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this)),vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Sd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Q1(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ka={};function Yl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=CO(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,c=ka[i]&&a in ka[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return l?d=new Wh(n,t):(ka[i]||(ka[i]=new Wh(n,t)),d=ka[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Yl,{Manager:Wh,Socket:Q1,io:Yl,connect:Yl});const at="https://hitscord-backend.online",AO="https://hitscord-backend.ru/mediasoup",Me=Yl(AO);Me.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var tn={},Ll={exports:{}},th,KS;function $O(){if(KS)return th;KS=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;th=function(v,y){y=y||{};var w=typeof v;if(w==="string"&&v.length>0)return c(v);if(w==="number"&&isFinite(v))return y.long?d(v):l(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function c(v){if(v=String(v),!(v.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(y){var w=parseFloat(y[1]),S=(y[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function l(v){var y=Math.abs(v);return y>=n?Math.round(v/n)+"d":y>=r?Math.round(v/r)+"h":y>=t?Math.round(v/t)+"m":y>=e?Math.round(v/e)+"s":v+"ms"}function d(v){var y=Math.abs(v);return y>=n?f(v,y,n,"day"):y>=r?f(v,y,r,"hour"):y>=t?f(v,y,t,"minute"):y>=e?f(v,y,e,"second"):v+" ms"}function f(v,y,w,S){var b=y>=w*1.5;return Math.round(v/w)+" "+S+(b?"s":"")}return th}var rh,YS;function FO(){if(YS)return rh;YS=1;function e(t){n.debug=n,n.default=n,n.coerce=f,n.disable=c,n.enable=a,n.enabled=l,n.humanize=$O(),n.destroy=v,Object.keys(t).forEach(y=>{n[y]=t[y]}),n.names=[],n.skips=[],n.formatters={};function r(y){let w=0;for(let S=0;S<y.length;S++)w=(w<<5)-w+y.charCodeAt(S),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=r;function n(y){let w,S=null,b,R;function C(...E){if(!C.enabled)return;const _=C,h=Number(new Date),p=h-(w||h);_.diff=p,_.prev=w,_.curr=h,w=h,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let m=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(k,M)=>{if(k==="%%")return"%";m++;const L=n.formatters[M];if(typeof L=="function"){const j=E[m];k=L.call(_,j),E.splice(m,1),m--}return k}),n.formatArgs.call(_,E),(_.log||n.log).apply(_,E)}return C.namespace=y,C.useColors=n.useColors(),C.color=n.selectColor(y),C.extend=i,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(b!==n.namespaces&&(b=n.namespaces,R=n.enabled(y)),R),set:E=>{S=E}}),typeof n.init=="function"&&n.init(C),C}function i(y,w){const S=n(this.namespace+(typeof w>"u"?":":w)+y);return S.log=this.log,S}function a(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let w;const S=(typeof y=="string"?y:"").split(/[\s,]+/),b=S.length;for(w=0;w<b;w++)S[w]&&(y=S[w].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function c(){const y=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),y}function l(y){if(y[y.length-1]==="*")return!0;let w,S;for(w=0,S=n.skips.length;w<S;w++)if(n.skips[w].test(y))return!1;for(w=0,S=n.names.length;w<S;w++)if(n.names[w].test(y))return!0;return!1}function d(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function f(y){return y instanceof Error?y.stack||y.message:y}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return rh=e,rh}var XS;function _d(){return XS||(XS=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=c,t.useColors=n,t.storage=l(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;f.splice(1,0,v,"color: inherit");let y=0,w=0;f[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(y++,S==="%c"&&(w=y))}),f.splice(w,0,v)}t.log=console.debug||console.log||(()=>{});function a(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function c(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=r.DEBUG),f}function l(){try{return localStorage}catch{}}e.exports=FO()(t);const{formatters:d}=e.exports;d.j=function(f){try{return JSON.stringify(f)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}(Ll,Ll.exports)),Ll.exports}var Fr={},Ha={exports:{}},zO=Ha.exports,QS;function BO(){return QS||(QS=1,function(e,t){(function(r,n){var i="1.0.39",a="",c="?",l="function",d="undefined",f="object",v="string",y="major",w="model",S="name",b="type",R="vendor",C="version",E="architecture",_="console",h="mobile",p="tablet",m="smarttv",x="wearable",k="embedded",M=500,L="Amazon",j="Apple",A="ASUS",N="BlackBerry",V="Browser",W="Chrome",K="Edge",O="Firefox",U="Google",F="Huawei",z="LG",q="Microsoft",B="Motorola",X="Opera",ce="Samsung",de="Sharp",ee="Sony",ie="Xiaomi",ue="Zebra",me="Facebook",he="Chromium OS",Ce="Mac OS",De=" Browser",vt=function(Te,Pe){var ye={};for(var Le in Te)Pe[Le]&&Pe[Le].length%2===0?ye[Le]=Pe[Le].concat(Te[Le]):ye[Le]=Te[Le];return ye},ct=function(Te){for(var Pe={},ye=0;ye<Te.length;ye++)Pe[Te[ye].toUpperCase()]=Te[ye];return Pe},Ve=function(Te,Pe){return typeof Te===v?Je(Pe).indexOf(Je(Te))!==-1:!1},Je=function(Te){return Te.toLowerCase()},et=function(Te){return typeof Te===v?Te.replace(/[^\d\.]/g,a).split(".")[0]:n},Ye=function(Te,Pe){if(typeof Te===v)return Te=Te.replace(/^\s\s*/,a),typeof Pe===d?Te:Te.substring(0,M)},Tt=function(Te,Pe){for(var ye=0,Le,yt,Be,Oe,Se,dt;ye<Pe.length&&!Se;){var Hn=Pe[ye],No=Pe[ye+1];for(Le=yt=0;Le<Hn.length&&!Se&&Hn[Le];)if(Se=Hn[Le++].exec(Te),Se)for(Be=0;Be<No.length;Be++)dt=Se[++yt],Oe=No[Be],typeof Oe===f&&Oe.length>0?Oe.length===2?typeof Oe[1]==l?this[Oe[0]]=Oe[1].call(this,dt):this[Oe[0]]=Oe[1]:Oe.length===3?typeof Oe[1]===l&&!(Oe[1].exec&&Oe[1].test)?this[Oe[0]]=dt?Oe[1].call(this,dt,Oe[2]):n:this[Oe[0]]=dt?dt.replace(Oe[1],Oe[2]):n:Oe.length===4&&(this[Oe[0]]=dt?Oe[3].call(this,dt.replace(Oe[1],Oe[2])):n):this[Oe]=dt||n;ye+=2}},mt=function(Te,Pe){for(var ye in Pe)if(typeof Pe[ye]===f&&Pe[ye].length>0){for(var Le=0;Le<Pe[ye].length;Le++)if(Ve(Pe[ye][Le],Te))return ye===c?n:ye}else if(Ve(Pe[ye],Te))return ye===c?n:ye;return Pe.hasOwnProperty("*")?Pe["*"]:Te},He={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ae={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},lt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,C],[/opios[\/ ]+([\w\.]+)/i],[C,[S,X+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[C,[S,X+" GX"]],[/\bopr\/([\w\.]+)/i],[C,[S,X]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,C],[/quark(?:pc)?\/([-\w\.]+)/i],[C,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[C,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[S,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[S,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+V],C],[/\bfocus\/([\w\.]+)/i],[C,[S,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[S,X+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[S,X+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[S,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[C,[S,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+De]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],C],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+De],C],[/samsungbrowser\/([\w\.]+)/i],[C,[S,ce+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,C],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,me],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[S,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[C,mt,He]],[/(webkit|khtml)\/([\w\.]+)/i],[S,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],C],[/(wolvic)\/([\w\.]+)/i],[S,C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[S,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[C,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,Je]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,a,Je]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,Je]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[R,ce],[b,p]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[R,ce],[b,h]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[R,j],[b,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[R,j],[b,p]],[/(macintosh);/i],[w,[R,j]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[R,de],[b,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[R,F],[b,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[R,F],[b,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[w,/_/g," "],[R,ie],[b,h]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[R,ie],[b,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[R,"OPPO"],[b,h]],[/\b(opd2\d{3}a?) bui/i],[w,[R,"OPPO"],[b,p]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[R,"Vivo"],[b,h]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[R,"Realme"],[b,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[R,B],[b,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[R,B],[b,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[R,z],[b,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[R,z],[b,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[R,"Lenovo"],[b,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[R,"Nokia"],[b,h]],[/(pixel c)\b/i],[w,[R,U],[b,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[R,U],[b,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[R,ee],[b,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[R,ee],[b,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[R,"OnePlus"],[b,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[R,L],[b,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[R,L],[b,h]],[/(playbook);[-\w\),; ]+(rim)/i],[w,R,[b,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[R,N],[b,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[R,A],[b,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[R,A],[b,h]],[/(nexus 9)/i],[w,[R,"HTC"],[b,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[R,[w,/_/g," "],[b,h]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[w,[R,"TCL"],[b,p]],[/(itel) ((\w+))/i],[[R,Je],w,[b,mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[R,"Acer"],[b,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[R,"Meizu"],[b,h]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[R,"Ulefone"],[b,h]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[R,"Nothing"],[b,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[R,w,[b,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[R,w,[b,p]],[/(surface duo)/i],[w,[R,q],[b,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[R,"Fairphone"],[b,h]],[/(u304aa)/i],[w,[R,"AT&T"],[b,h]],[/\bsie-(\w*)/i],[w,[R,"Siemens"],[b,h]],[/\b(rct\w+) b/i],[w,[R,"RCA"],[b,p]],[/\b(venue[\d ]{2,7}) b/i],[w,[R,"Dell"],[b,p]],[/\b(q(?:mv|ta)\w+) b/i],[w,[R,"Verizon"],[b,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[R,"Barnes & Noble"],[b,p]],[/\b(tm\d{3}\w+) b/i],[w,[R,"NuVision"],[b,p]],[/\b(k88) b/i],[w,[R,"ZTE"],[b,p]],[/\b(nx\d{3}j) b/i],[w,[R,"ZTE"],[b,h]],[/\b(gen\d{3}) b.+49h/i],[w,[R,"Swiss"],[b,h]],[/\b(zur\d{3}) b/i],[w,[R,"Swiss"],[b,p]],[/\b((zeki)?tb.*\b) b/i],[w,[R,"Zeki"],[b,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[R,"Dragon Touch"],w,[b,p]],[/\b(ns-?\w{0,9}) b/i],[w,[R,"Insignia"],[b,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[R,"NextBook"],[b,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[R,"Voice"],w,[b,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[R,"LvTel"],w,[b,h]],[/\b(ph-1) /i],[w,[R,"Essential"],[b,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[R,"Envizen"],[b,p]],[/\b(trio[-\w\. ]+) b/i],[w,[R,"MachSpeed"],[b,p]],[/\btu_(1491) b/i],[w,[R,"Rotor"],[b,p]],[/(shield[\w ]+) b/i],[w,[R,"Nvidia"],[b,p]],[/(sprint) (\w+)/i],[R,w,[b,h]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[R,q],[b,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[R,ue],[b,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[R,ue],[b,h]],[/smart-tv.+(samsung)/i],[R,[b,m]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[R,ce],[b,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[R,z],[b,m]],[/(apple) ?tv/i],[R,[w,j+" TV"],[b,m]],[/crkey/i],[[w,W+"cast"],[R,U],[b,m]],[/droid.+aft(\w+)( bui|\))/i],[w,[R,L],[b,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[R,de],[b,m]],[/(bravia[\w ]+)( bui|\))/i],[w,[R,ee],[b,m]],[/(mitv-\w{5}) bui/i],[w,[R,ie],[b,m]],[/Hbbtv.*(technisat) (.*);/i],[R,w,[b,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[R,Ye],[w,Ye],[b,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[R,w,[b,_]],[/droid.+; (shield) bui/i],[w,[R,"Nvidia"],[b,_]],[/(playstation [345portablevi]+)/i],[w,[R,ee],[b,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[R,q],[b,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[w,[R,ce],[b,x]],[/((pebble))app/i],[R,w,[b,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[R,j],[b,x]],[/droid.+; (glass) \d/i],[w,[R,U],[b,x]],[/droid.+; (wt63?0{2,3})\)/i],[w,[R,ue],[b,x]],[/(quest( \d| pro)?)/i],[w,[R,me],[b,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[R,[b,k]],[/(aeobc)\b/i],[w,[R,L],[b,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[b,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[b,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,p]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,h]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[R,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[S,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[C,mt,Ae]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,mt,Ae],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,Ce],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,C],[/\(bb(10);/i],[C,[S,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[S,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,he],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,C],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,C]]},It=function(Te,Pe){if(typeof Te===f&&(Pe=Te,Te=n),!(this instanceof It))return new It(Te,Pe).getResult();var ye=typeof r!==d&&r.navigator?r.navigator:n,Le=Te||(ye&&ye.userAgent?ye.userAgent:a),yt=ye&&ye.userAgentData?ye.userAgentData:n,Be=Pe?vt(lt,Pe):lt,Oe=ye&&ye.userAgent==Le;return this.getBrowser=function(){var Se={};return Se[S]=n,Se[C]=n,Tt.call(Se,Le,Be.browser),Se[y]=et(Se[C]),Oe&&ye&&ye.brave&&typeof ye.brave.isBrave==l&&(Se[S]="Brave"),Se},this.getCPU=function(){var Se={};return Se[E]=n,Tt.call(Se,Le,Be.cpu),Se},this.getDevice=function(){var Se={};return Se[R]=n,Se[w]=n,Se[b]=n,Tt.call(Se,Le,Be.device),Oe&&!Se[b]&&yt&&yt.mobile&&(Se[b]=h),Oe&&Se[w]=="Macintosh"&&ye&&typeof ye.standalone!==d&&ye.maxTouchPoints&&ye.maxTouchPoints>2&&(Se[w]="iPad",Se[b]=p),Se},this.getEngine=function(){var Se={};return Se[S]=n,Se[C]=n,Tt.call(Se,Le,Be.engine),Se},this.getOS=function(){var Se={};return Se[S]=n,Se[C]=n,Tt.call(Se,Le,Be.os),Oe&&!Se[S]&&yt&&yt.platform&&yt.platform!="Unknown"&&(Se[S]=yt.platform.replace(/chrome os/i,he).replace(/macos/i,Ce)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(Se){return Le=typeof Se===v&&Se.length>M?Ye(Se,M):Se,this},this.setUA(Le),this};It.VERSION=i,It.BROWSER=ct([S,C,y]),It.CPU=ct([E]),It.DEVICE=ct([w,R,b,_,h,m,p,x,k]),It.ENGINE=It.OS=ct([S,C]),e.exports&&(t=e.exports=It),t.UAParser=It;var ut=typeof r!==d&&(r.jQuery||r.Zepto);if(ut&&!ut.ua){var Ot=new It;ut.ua=Ot.getResult(),ut.ua.get=function(){return Ot.getUA()},ut.ua.set=function(Te){Ot.setUA(Te);var Pe=Ot.getResult();for(var ye in Pe)ut.ua[ye]=Pe[ye]}}})(typeof window=="object"?window:zO)}(Ha,Ha.exports)),Ha.exports}var fo={},ZS;function Rt(){if(ZS)return fo;ZS=1;var e=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0}),fo.Logger=void 0;const t=e(_d()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return fo.Logger=n,fo}var Da={},Ol={exports:{}},JS;function UO(){if(JS)return Ol.exports;JS=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(m,x,k){return Function.prototype.apply.call(m,x,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:r=function(m){return Object.getOwnPropertyNames(m)};function n(p){console&&console.warn&&console.warn(p)}var i=Number.isNaN||function(m){return m!==m};function a(){a.init.call(this)}Ol.exports=a,Ol.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(p){if(typeof p!="number"||p<0||i(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");c=p}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||i(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this};function d(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(m){for(var x=[],k=1;k<arguments.length;k++)x.push(arguments[k]);var M=m==="error",L=this._events;if(L!==void 0)M=M&&L.error===void 0;else if(!M)return!1;if(M){var j;if(x.length>0&&(j=x[0]),j instanceof Error)throw j;var A=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw A.context=j,A}var N=L[m];if(N===void 0)return!1;if(typeof N=="function")t(N,this,x);else for(var V=N.length,W=b(N,V),k=0;k<V;++k)t(W[k],this,x);return!0};function f(p,m,x,k){var M,L,j;if(l(x),L=p._events,L===void 0?(L=p._events=Object.create(null),p._eventsCount=0):(L.newListener!==void 0&&(p.emit("newListener",m,x.listener?x.listener:x),L=p._events),j=L[m]),j===void 0)j=L[m]=x,++p._eventsCount;else if(typeof j=="function"?j=L[m]=k?[x,j]:[j,x]:k?j.unshift(x):j.push(x),M=d(p),M>0&&j.length>M&&!j.warned){j.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=p,A.type=m,A.count=j.length,n(A)}return p}a.prototype.addListener=function(m,x){return f(this,m,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,x){return f(this,m,x,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(p,m,x){var k={fired:!1,wrapFn:void 0,target:p,type:m,listener:x},M=v.bind(k);return M.listener=x,k.wrapFn=M,M}a.prototype.once=function(m,x){return l(x),this.on(m,y(this,m,x)),this},a.prototype.prependOnceListener=function(m,x){return l(x),this.prependListener(m,y(this,m,x)),this},a.prototype.removeListener=function(m,x){var k,M,L,j,A;if(l(x),M=this._events,M===void 0)return this;if(k=M[m],k===void 0)return this;if(k===x||k.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete M[m],M.removeListener&&this.emit("removeListener",m,k.listener||x));else if(typeof k!="function"){for(L=-1,j=k.length-1;j>=0;j--)if(k[j]===x||k[j].listener===x){A=k[j].listener,L=j;break}if(L<0)return this;L===0?k.shift():R(k,L),k.length===1&&(M[m]=k[0]),M.removeListener!==void 0&&this.emit("removeListener",m,A||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var x,k,M;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[m]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[m]),this;if(arguments.length===0){var L=Object.keys(k),j;for(M=0;M<L.length;++M)j=L[M],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=k[m],typeof x=="function")this.removeListener(m,x);else if(x!==void 0)for(M=x.length-1;M>=0;M--)this.removeListener(m,x[M]);return this};function w(p,m,x){var k=p._events;if(k===void 0)return[];var M=k[m];return M===void 0?[]:typeof M=="function"?x?[M.listener||M]:[M]:x?C(M):b(M,M.length)}a.prototype.listeners=function(m){return w(this,m,!0)},a.prototype.rawListeners=function(m){return w(this,m,!1)},a.listenerCount=function(p,m){return typeof p.listenerCount=="function"?p.listenerCount(m):S.call(p,m)},a.prototype.listenerCount=S;function S(p){var m=this._events;if(m!==void 0){var x=m[p];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(p,m){for(var x=new Array(m),k=0;k<m;++k)x[k]=p[k];return x}function R(p,m){for(;m+1<p.length;m++)p[m]=p[m+1];p.pop()}function C(p){for(var m=new Array(p.length),x=0;x<m.length;++x)m[x]=p[x].listener||p[x];return m}function E(p,m){return new Promise(function(x,k){function M(j){p.removeListener(m,L),k(j)}function L(){typeof p.removeListener=="function"&&p.removeListener("error",M),x([].slice.call(arguments))}h(p,m,L,{once:!0}),m!=="error"&&_(p,M,{once:!0})})}function _(p,m,x){typeof p.on=="function"&&h(p,"error",m,x)}function h(p,m,x,k){if(typeof p.on=="function")k.once?p.once(m,x):p.on(m,x);else if(typeof p.addEventListener=="function")p.addEventListener(m,function M(L){k.once&&p.removeEventListener(m,M),x(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}return Ol.exports}var eb;function Lo(){if(eb)return Da;eb=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.EnhancedEventEmitter=void 0;const e=UO(),t=Rt(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(l){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,l);try{super.emit("listenererror",a,l)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return Da.EnhancedEventEmitter=n,Da}var po={},tb;function ir(){if(tb)return po;tb=1,Object.defineProperty(po,"__esModule",{value:!0}),po.InvalidStateError=po.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}po.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return po.InvalidStateError=t,po}var pi={},rb;function Ht(){if(rb)return pi;rb=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.clone=e,pi.generateRandomNumber=t,pi.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const i=Reflect.ownKeys(n);for(const a of i){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return pi}var bt={},ht={},ho={},nb;function VO(){if(nb)return ho;nb=1;var e=ho&&ho.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ho,"__esModule",{value:!0}),ho.Logger=void 0;const t=e(_d()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return ho.Logger=n,ho}var sb;function HO(){if(sb)return ht;sb=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.generateProfileLevelIdStringForAnswer=ht.isSameProfile=ht.parseSdpProfileLevelId=ht.levelToString=ht.profileToString=ht.profileLevelIdToString=ht.parseProfileLevelId=ht.ProfileLevelId=ht.Level=ht.Profile=void 0;const e=VO(),t=new e.Logger;var r;(function(p){p[p.ConstrainedBaseline=1]="ConstrainedBaseline",p[p.Baseline=2]="Baseline",p[p.Main=3]="Main",p[p.ConstrainedHigh=4]="ConstrainedHigh",p[p.High=5]="High",p[p.PredictiveHigh444=6]="PredictiveHigh444"})(r||(ht.Profile=r={}));var n;(function(p){p[p.L1_b=0]="L1_b",p[p.L1=10]="L1",p[p.L1_1=11]="L1_1",p[p.L1_2=12]="L1_2",p[p.L1_3=13]="L1_3",p[p.L2=20]="L2",p[p.L2_1=21]="L2_1",p[p.L2_2=22]="L2_2",p[p.L3=30]="L3",p[p.L3_1=31]="L3_1",p[p.L3_2=32]="L3_2",p[p.L4=40]="L4",p[p.L4_1=41]="L4_1",p[p.L4_2=42]="L4_2",p[p.L5=50]="L5",p[p.L5_1=51]="L5_1",p[p.L5_2=52]="L5_2"})(n||(ht.Level=n={}));class i{constructor(m,x){this.profile=m,this.level=x}}ht.ProfileLevelId=i;const a=new i(r.ConstrainedBaseline,n.L3_1);class c{constructor(m){this.mask=~C("x",m),this.masked_value=C("1",m)}isMatch(m){return this.masked_value===(m&this.mask)}}class l{constructor(m,x,k){this.profile_idc=m,this.profile_iop=x,this.profile=k}}const d=[new l(66,new c("x1xx0000"),r.ConstrainedBaseline),new l(77,new c("1xxx0000"),r.ConstrainedBaseline),new l(88,new c("11xx0000"),r.ConstrainedBaseline),new l(66,new c("x0xx0000"),r.Baseline),new l(88,new c("10xx0000"),r.Baseline),new l(77,new c("0x0x0000"),r.Main),new l(100,new c("00000000"),r.High),new l(100,new c("00001100"),r.ConstrainedHigh),new l(244,new c("00000000"),r.PredictiveHigh444)];function f(p){if(typeof p!="string"||p.length!==6)return;const x=parseInt(p,16);if(x===0)return;const k=x&255,M=x>>8&255,L=x>>16&255;let j;switch(k){case n.L1_1:{j=(M&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{j=k;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${p}, level_idc:${k}]`);return}}for(const A of d)if(L===A.profile_idc&&A.profile_iop.isMatch(M))return new i(A.profile,j);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${p}, profile_idc:${L}, profile_iop:${M}]`)}ht.parseProfileLevelId=f;function v(p){if(p.level==n.L1_b)switch(p.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${p.profile}`);return}}let m;switch(p.profile){case r.ConstrainedBaseline:{m="42e0";break}case r.Baseline:{m="4200";break}case r.Main:{m="4d00";break}case r.ConstrainedHigh:{m="640c";break}case r.High:{m="6400";break}case r.PredictiveHigh444:{m="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${p.profile}`);return}}let x=p.level.toString(16);return x.length===1&&(x=`0${x}`),`${m}${x}`}ht.profileLevelIdToString=v;function y(p){switch(p){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${p}`);return}}}ht.profileToString=y;function w(p){switch(p){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${p}`);return}}}ht.levelToString=w;function S(p={}){const m=p["profile-level-id"];return m?f(m):a}ht.parseSdpProfileLevelId=S;function b(p={},m={}){const x=S(p),k=S(m);return!!(x&&k&&x.profile===k.profile)}ht.isSameProfile=b;function R(p={},m={}){if(!p["profile-level-id"]&&!m["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const x=S(p),k=S(m);if(!x)throw new TypeError("invalid local_profile_level_id");if(!k)throw new TypeError("invalid remote_profile_level_id");if(x.profile!==k.profile)throw new TypeError("H264 Profile mismatch");const M=h(p)&&h(m),L=x.level,j=k.level,A=_(L,j),N=M?L:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${x.profile}, level:${N}]`),v(new i(x.profile,N))}ht.generateProfileLevelIdStringForAnswer=R;function C(p,m){return+(m[0]===p)<<7|+(m[1]===p)<<6|+(m[2]===p)<<5|+(m[3]===p)<<4|+(m[4]===p)<<3|+(m[5]===p)<<2|+(m[6]===p)<<1|+(m[7]===p)<<0}function E(p,m){return p===n.L1_b?m!==n.L1&&m!==n.L1_b:m===n.L1_b?p!==n.L1:p<m}function _(p,m){return E(p,m)?p:m}function h(p={}){const m=p["level-asymmetry-allowed"];return m===!0||m===1||m==="1"}return ht}var ob;function wr(){if(ob)return bt;ob=1;var e=bt&&bt.__createBinding||(Object.create?function(O,U,F,z){z===void 0&&(z=F);var q=Object.getOwnPropertyDescriptor(U,F);(!q||("get"in q?!U.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return U[F]}}),Object.defineProperty(O,z,q)}:function(O,U,F,z){z===void 0&&(z=F),O[z]=U[F]}),t=bt&&bt.__setModuleDefault||(Object.create?function(O,U){Object.defineProperty(O,"default",{enumerable:!0,value:U})}:function(O,U){O.default=U}),r=bt&&bt.__importStar||function(O){if(O&&O.__esModule)return O;var U={};if(O!=null)for(var F in O)F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)&&e(U,O,F);return t(U,O),U};Object.defineProperty(bt,"__esModule",{value:!0}),bt.validateRtpCapabilities=d,bt.validateRtpParameters=f,bt.validateSctpStreamParameters=v,bt.validateSctpCapabilities=y,bt.getExtendedRtpCapabilities=w,bt.getRecvRtpCapabilities=S,bt.getSendingRtpParameters=b,bt.getSendingRemoteRtpParameters=R,bt.reduceCodecs=C,bt.generateProbatorRtpParameters=E,bt.canSend=_,bt.canReceive=h;const n=r(HO()),i=r(Ht()),a="probator",c=1234,l=127;function d(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(O.codecs&&!Array.isArray(O.codecs))throw new TypeError("caps.codecs is not an array");O.codecs||(O.codecs=[]);for(const U of O.codecs)p(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)x(U)}function f(O){if(typeof O!="object")throw new TypeError("params is not an object");if(O.mid&&typeof O.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(O.codecs))throw new TypeError("missing params.codecs");for(const U of O.codecs)k(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("params.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)M(U);if(O.encodings&&!Array.isArray(O.encodings))throw new TypeError("params.encodings is not an array");O.encodings||(O.encodings=[]);for(const U of O.encodings)L(U);if(O.rtcp&&typeof O.rtcp!="object")throw new TypeError("params.rtcp is not an object");O.rtcp||(O.rtcp={}),j(O.rtcp)}function v(O){if(typeof O!="object")throw new TypeError("params is not an object");if(typeof O.streamId!="number")throw new TypeError("missing params.streamId");let U=!1;if(typeof O.ordered=="boolean"?U=!0:O.ordered=!0,O.maxPacketLifeTime&&typeof O.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(O.maxRetransmits&&typeof O.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(O.maxPacketLifeTime&&O.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(U&&O.ordered&&(O.maxPacketLifeTime||O.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!U&&(O.maxPacketLifeTime||O.maxRetransmits)&&(O.ordered=!1),O.label&&typeof O.label!="string")throw new TypeError("invalid params.label");if(O.protocol&&typeof O.protocol!="string")throw new TypeError("invalid params.protocol")}function y(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(!O.numStreams||typeof O.numStreams!="object")throw new TypeError("missing caps.numStreams");A(O.numStreams)}function w(O,U){const F={codecs:[],headerExtensions:[]};for(const z of U.codecs??[]){if(N(z))continue;const q=(O.codecs??[]).find(X=>V(X,z,{strict:!0,modify:!0}));if(!q)continue;const B={mimeType:q.mimeType,kind:q.kind,clockRate:q.clockRate,channels:q.channels,localPayloadType:q.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:z.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:q.parameters,remoteParameters:z.parameters,rtcpFeedback:K(q,z)};F.codecs.push(B)}for(const z of F.codecs){const q=O.codecs.find(X=>N(X)&&X.parameters.apt===z.localPayloadType),B=U.codecs.find(X=>N(X)&&X.parameters.apt===z.remotePayloadType);q&&B&&(z.localRtxPayloadType=q.preferredPayloadType,z.remoteRtxPayloadType=B.preferredPayloadType)}for(const z of U.headerExtensions){const q=O.headerExtensions.find(X=>W(X,z));if(!q)continue;const B={kind:z.kind,uri:z.uri,sendId:q.preferredId,recvId:z.preferredId,encrypt:q.preferredEncrypt,direction:"sendrecv"};switch(z.direction){case"sendrecv":{B.direction="sendrecv";break}case"recvonly":{B.direction="sendonly";break}case"sendonly":{B.direction="recvonly";break}case"inactive":{B.direction="inactive";break}}F.headerExtensions.push(B)}return F}function S(O){const U={codecs:[],headerExtensions:[]};for(const F of O.codecs){const z={mimeType:F.mimeType,kind:F.kind,preferredPayloadType:F.remotePayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if(U.codecs.push(z),!F.remoteRtxPayloadType)continue;const q={mimeType:`${F.kind}/rtx`,kind:F.kind,preferredPayloadType:F.remoteRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.remotePayloadType},rtcpFeedback:[]};U.codecs.push(q)}for(const F of O.headerExtensions){if(F.direction!=="sendrecv"&&F.direction!=="recvonly")continue;const z={kind:F.kind,uri:F.uri,preferredId:F.recvId,preferredEncrypt:F.encrypt,direction:F.direction};U.headerExtensions.push(z)}return U}function b(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.localParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}return F}function R(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.remoteParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}if(F.headerExtensions.some(z=>z.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="goog-remb");else if(F.headerExtensions.some(z=>z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc");else for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc"&&q.type!=="goog-remb");return F}function C(O,U){const F=[];if(!U)F.push(O[0]),N(O[1])&&F.push(O[1]);else{for(let z=0;z<O.length;++z)if(V(O[z],U,{strict:!0})){F.push(O[z]),N(O[z+1])&&F.push(O[z+1]);break}if(F.length===0)throw new TypeError("no matching codec found")}return F}function E(O){O=i.clone(O),f(O);const U={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return U.codecs.push(O.codecs[0]),U.codecs[0].payloadType=l,U.headerExtensions=O.headerExtensions,U}function _(O,U){return U.codecs.some(F=>F.kind===O)}function h(O,U){if(f(O),O.codecs.length===0)return!1;const F=O.codecs[0];return U.codecs.some(z=>z.remotePayloadType===F.payloadType)}function p(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(O.kind=F[1].toLowerCase(),O.preferredPayloadType&&typeof O.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");O.kind==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const z of Object.keys(O.parameters)){let q=O.parameters[z];if(q===void 0&&(O.parameters[z]="",q=""),typeof q!="string"&&typeof q!="number")throw new TypeError(`invalid codec parameter [key:${z}s, value:${q}]`);if(z==="apt"&&typeof q!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const z of O.rtcpFeedback)m(z)}function m(O){if(typeof O!="object")throw new TypeError("fb is not an object");if(!O.type||typeof O.type!="string")throw new TypeError("missing fb.type");(!O.parameter||typeof O.parameter!="string")&&(O.parameter="")}function x(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(O.kind!=="audio"&&O.kind!=="video")throw new TypeError("invalid ext.kind");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.preferredId!="number")throw new TypeError("missing ext.preferredId");if(O.preferredEncrypt&&typeof O.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(O.preferredEncrypt||(O.preferredEncrypt=!1),O.direction&&typeof O.direction!="string")throw new TypeError("invalid ext.direction");O.direction||(O.direction="sendrecv")}function k(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(typeof O.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");F[1].toLowerCase()==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const q of Object.keys(O.parameters)){let B=O.parameters[q];if(B===void 0&&(O.parameters[q]="",B=""),typeof B!="string"&&typeof B!="number")throw new TypeError(`invalid codec parameter [key:${q}s, value:${B}]`);if(q==="apt"&&typeof B!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const q of O.rtcpFeedback)m(q)}function M(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.id!="number")throw new TypeError("missing ext.id");if(O.encrypt&&typeof O.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");O.encrypt||(O.encrypt=!1),(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const U of Object.keys(O.parameters)){let F=O.parameters[U];if(F===void 0&&(O.parameters[U]="",F=""),typeof F!="string"&&typeof F!="number")throw new TypeError("invalid header extension parameter")}}function L(O){if(typeof O!="object")throw new TypeError("encoding is not an object");if(O.ssrc&&typeof O.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(O.rid&&typeof O.rid!="string")throw new TypeError("invalid encoding.rid");if(O.rtx&&typeof O.rtx!="object")throw new TypeError("invalid encoding.rtx");if(O.rtx&&typeof O.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!O.dtx||typeof O.dtx!="boolean")&&(O.dtx=!1),O.scalabilityMode&&typeof O.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function j(O){if(typeof O!="object")throw new TypeError("rtcp is not an object");if(O.cname&&typeof O.cname!="string")throw new TypeError("invalid rtcp.cname");(!O.reducedSize||typeof O.reducedSize!="boolean")&&(O.reducedSize=!0)}function A(O){if(typeof O!="object")throw new TypeError("numStreams is not an object");if(typeof O.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof O.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(O){return O?/.+\/rtx$/i.test(O.mimeType):!1}function V(O,U,{strict:F=!1,modify:z=!1}={}){const q=O.mimeType.toLowerCase(),B=U.mimeType.toLowerCase();if(q!==B||O.clockRate!==U.clockRate||O.channels!==U.channels)return!1;switch(q){case"video/h264":{if(F){const X=O.parameters["packetization-mode"]||0,ce=U.parameters["packetization-mode"]||0;if(X!==ce||!n.isSameProfile(O.parameters,U.parameters))return!1;let de;try{de=n.generateProfileLevelIdStringForAnswer(O.parameters,U.parameters)}catch{return!1}z&&(de?(O.parameters["profile-level-id"]=de,U.parameters["profile-level-id"]=de):(delete O.parameters["profile-level-id"],delete U.parameters["profile-level-id"]))}break}case"video/vp9":{if(F){const X=O.parameters["profile-id"]||0,ce=U.parameters["profile-id"]||0;if(X!==ce)return!1}break}}return!0}function W(O,U){return!(O.kind&&U.kind&&O.kind!==U.kind||O.uri!==U.uri)}function K(O,U){const F=[];for(const z of O.rtcpFeedback??[]){const q=(U.rtcpFeedback??[]).find(B=>B.type===z.type&&(B.parameter===z.parameter||!B.parameter&&!z.parameter));q&&F.push(q)}return F}return bt}var Rr={},Jn={},Ia={},ib;function WO(){if(ib)return Ia;ib=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.Logger=void 0;const e=_d(),t="awaitqueue";let r=class{constructor(i){i?(this._debug=(0,e.default)(`${t}:${i}`),this._warn=(0,e.default)(`${t}:WARN:${i}`),this._error=(0,e.default)(`${t}:ERROR:${i}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Ia.Logger=r,Ia}var ab;function qO(){if(ab)return Jn;ab=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.AwaitQueue=Jn.AwaitQueueRemovedTaskError=Jn.AwaitQueueStoppedError=void 0;const e=WO(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Jn.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}Jn.AwaitQueueRemovedTaskError=n;class i{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,l){if(l=l??c.name,t.debug(`push() [name:${l}]`),typeof c!="function")throw new TypeError("given task is not a function");if(l)try{Object.defineProperty(c,"name",{value:l})}catch{}return new Promise((d,f)=>{const v={id:this.nextTaskId++,task:c,name:l,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:y=>{if(v.completed)return;v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`resolving task [name:${v.name}]`),d(y);const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)},reject:y=>{if(!v.completed&&(v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`rejecting task [name:${v.name}]: %s`,String(y)),f(y),!this.stopping)){const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)}}};this.pendingTasks.set(v.id,v),this.pendingTasks.size===1&&this.execute(v)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const l=Array.from(this.pendingTasks.values())[c];if(!l){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}l.reject(new n)}dump(){const c=Date.now();let l=0;return Array.from(this.pendingTasks.values()).map(d=>({idx:l++,task:d.task,name:d.name,enqueuedTime:d.executedAt?d.executedAt-d.enqueuedAt:c-d.enqueuedAt,executionTime:d.executedAt?c-d.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const l=await c.task();c.resolve(l)}catch(l){c.reject(l)}}}return Jn.AwaitQueue=i,Jn}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var nh,cb;function GO(){if(cb)return nh;cb=1;let e;return nh=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:UR):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),nh}var Ma={},lb;function Z1(){if(lb)return Ma;lb=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.Producer=void 0;const e=Rt(),t=Lo(),r=ir(),n=new e.Logger("Producer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,rtpSender:d,track:f,rtpParameters:v,stopTracks:y,disableTrackOnPause:w,zeroRtpOnPause:S,appData:b}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._rtpSender=d,this._track=f,this._kind=f.kind,this._rtpParameters=v,this._paused=w?!f.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=y,this._disableTrackOnPause=w,this._zeroRtpOnPause=S,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@pause",c,l)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@resume",c,l)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((l,d)=>{this.safeEmit("@replacetrack",c,l,d)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((l,d)=>{this.safeEmit("@setmaxspatiallayer",c,l,d)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((l,d)=>{this.safeEmit("@setrtpencodingparameters",c,l,d)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Ma.Producer=i,Ma}var ja={},ub;function J1(){if(ub)return ja;ub=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.Consumer=void 0;const e=Rt(),t=Lo(),r=ir(),n=new e.Logger("Consumer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,producerId:d,rtpReceiver:f,track:v,rtpParameters:y,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._producerId=d,this._rtpReceiver=f,this._track=v,this._rtpParameters=y,this._paused=!v.enabled,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return ja.Consumer=i,ja}var La={},db;function ex(){if(db)return La;db=1,Object.defineProperty(La,"__esModule",{value:!0}),La.DataProducer=void 0;const e=Rt(),t=Lo(),r=ir(),n=new e.Logger("DataProducer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:l,sctpStreamParameters:d,appData:f}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:l}=c;l||(l=new Error("unknown DataChannel error")),l.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",l.sctpCauseCode,l.message):n.error('DataChannel "error" event: %o',l),this.safeEmit("error",l)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return La.DataProducer=i,La}var Oa={},fb;function tx(){if(fb)return Oa;fb=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.DataConsumer=void 0;const e=Rt(),t=Lo(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:l,sctpStreamParameters:d,appData:f}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return Oa.DataConsumer=n,Oa}var pb;function rx(){if(pb)return Rr;pb=1;var e=Rr&&Rr.__createBinding||(Object.create?function(_,h,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(_,m,x)}:function(_,h,p,m){m===void 0&&(m=p),_[m]=h[p]}),t=Rr&&Rr.__setModuleDefault||(Object.create?function(_,h){Object.defineProperty(_,"default",{enumerable:!0,value:h})}:function(_,h){_.default=h}),r=Rr&&Rr.__importStar||function(_){if(_&&_.__esModule)return _;var h={};if(_!=null)for(var p in _)p!=="default"&&Object.prototype.hasOwnProperty.call(_,p)&&e(h,_,p);return t(h,_),h},n=Rr&&Rr.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Transport=void 0;const i=qO(),a=n(GO()),c=Rt(),l=Lo(),d=ir(),f=r(Ht()),v=r(wr()),y=Z1(),w=J1(),S=ex(),b=tx(),R=new c.Logger("Transport");class C{constructor(h){this.consumerOptions=h,this.promise=new Promise((p,m)=>{this.resolve=p,this.reject=m})}}let E=class extends l.EnhancedEventEmitter{constructor({direction:h,id:p,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:M,iceServers:L,iceTransportPolicy:j,additionalSettings:A,proprietaryConstraints:N,appData:V,handlerFactory:W,extendedRtpCapabilities:K,canProduceByKind:O}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new l.EnhancedEventEmitter,R.debug("constructor() [id:%s, direction:%s]",p,h),this._id=p,this._direction=h,this._extendedRtpCapabilities=K,this._canProduceByKind=O,this._maxSctpMessageSize=M?M.maxMessageSize:null;const U=f.clone(A)??{};delete U.iceServers,delete U.iceTransportPolicy,delete U.bundlePolicy,delete U.rtcpMuxPolicy,delete U.sdpSemantics,this._handler=W(),this._handler.run({direction:h,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:M,iceServers:L,iceTransportPolicy:j,additionalSettings:U,proprietaryConstraints:N,extendedRtpCapabilities:K}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(h){this._appData=h}get observer(){return this._observer}close(){if(!this._closed){R.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const h of this._producers.values())h.transportClosed();this._producers.clear();for(const h of this._consumers.values())h.transportClosed();this._consumers.clear();for(const h of this._dataProducers.values())h.transportClosed();this._dataProducers.clear();for(const h of this._dataConsumers.values())h.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:h}){if(R.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!h)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(h),"transport.restartIce()")}async updateIceServers({iceServers:h}={}){if(R.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(h))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(h),"transport.updateIceServers()")}async produce({track:h,encodings:p,codecOptions:m,codec:x,stopTracks:k=!0,disableTrackOnPause:M=!0,zeroRtpOnPause:L=!1,onRtpSender:j,appData:A={}}={}){if(R.debug("produce() [track:%o]",h),this._closed)throw new d.InvalidStateError("closed");if(h){if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._canProduceByKind[h.kind]){if(h.readyState==="ended")throw new d.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError(`cannot produce ${h.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(p&&!Array.isArray(p))throw TypeError("encodings must be an array");p&&p.length===0?N=void 0:p&&(N=p.map(O=>{const U={active:!0};return O.active===!1&&(U.active=!1),typeof O.dtx=="boolean"&&(U.dtx=O.dtx),typeof O.scalabilityMode=="string"&&(U.scalabilityMode=O.scalabilityMode),typeof O.scaleResolutionDownBy=="number"&&(U.scaleResolutionDownBy=O.scaleResolutionDownBy),typeof O.maxBitrate=="number"&&(U.maxBitrate=O.maxBitrate),typeof O.maxFramerate=="number"&&(U.maxFramerate=O.maxFramerate),typeof O.adaptivePtime=="boolean"&&(U.adaptivePtime=O.adaptivePtime),typeof O.priority=="string"&&(U.priority=O.priority),typeof O.networkPriority=="string"&&(U.networkPriority=O.networkPriority),U}));const{localId:V,rtpParameters:W,rtpSender:K}=await this._handler.send({track:h,encodings:N,codecOptions:m,codec:x,onRtpSender:j});try{v.validateRtpParameters(W);const{id:O}=await new Promise((F,z)=>{this.safeEmit("produce",{kind:h.kind,rtpParameters:W,appData:A},F,z)}),U=new y.Producer({id:O,localId:V,rtpSender:K,track:h,rtpParameters:W,stopTracks:k,disableTrackOnPause:M,zeroRtpOnPause:L,appData:A});return this._producers.set(U.id,U),this.handleProducer(U),this._observer.safeEmit("newproducer",U),U}catch(O){throw this._handler.stopSending(V).catch(()=>{}),O}},"transport.produce()").catch(N=>{if(k)try{h.stop()}catch{}throw N})}async consume({id:h,producerId:p,kind:m,rtpParameters:x,streamId:k,onRtpReceiver:M,appData:L={}}){if(R.debug("consume()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(typeof h!="string")throw new TypeError("missing id");if(typeof p!="string")throw new TypeError("missing producerId");if(m!=="audio"&&m!=="video")throw new TypeError(`invalid kind '${m}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object");const j=f.clone(x);if(!v.canReceive(j,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const N=new C({id:h,producerId:p,kind:m,rtpParameters:j,streamId:k,onRtpReceiver:M,appData:L});return this._pendingConsumerTasks.push(N),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),N.promise}async produceData({ordered:h=!0,maxPacketLifeTime:p,maxRetransmits:m,label:x="",protocol:k="",appData:M={}}={}){if(R.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");return(p||m)&&(h=!1),this._awaitQueue.push(async()=>{const{dataChannel:L,sctpStreamParameters:j}=await this._handler.sendDataChannel({ordered:h,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k});v.validateSctpStreamParameters(j);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:j,label:x,protocol:k,appData:M},V,W)}),N=new S.DataProducer({id:A,dataChannel:L,sctpStreamParameters:j,appData:M});return this._dataProducers.set(N.id,N),this.handleDataProducer(N),this._observer.safeEmit("newdataproducer",N),N},"transport.produceData()")}async consumeData({id:h,dataProducerId:p,sctpStreamParameters:m,label:x="",protocol:k="",appData:M={}}){if(R.debug("consumeData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof h!="string")throw new TypeError("missing id");if(typeof p!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");const L=f.clone(m);return v.validateSctpStreamParameters(L),this._awaitQueue.push(async()=>{const{dataChannel:j}=await this._handler.receiveDataChannel({sctpStreamParameters:L,label:x,protocol:k}),A=new b.DataConsumer({id:h,dataProducerId:p,dataChannel:j,sctpStreamParameters:L,appData:M});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){R.debug("createPendingConsumers() | there is no Consumer to be created");return}const h=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let p;const m=[];for(const x of h){const{id:k,kind:M,rtpParameters:L,streamId:j,onRtpReceiver:A}=x.consumerOptions;m.push({trackId:k,kind:M,rtpParameters:L,streamId:j,onRtpReceiver:A})}try{const x=await this._handler.receive(m);for(let k=0;k<x.length;++k){const M=h[k],L=x[k],{id:j,producerId:A,kind:N,rtpParameters:V,appData:W}=M.consumerOptions,{localId:K,rtpReceiver:O,track:U}=L,F=new w.Consumer({id:j,localId:K,producerId:A,rtpReceiver:O,track:U,rtpParameters:V,appData:W});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!p&&N==="video"&&(p=F),this._observer.safeEmit("newconsumer",F),M.resolve(F)}}catch(x){for(const k of h)k.reject(x)}if(p)try{const x=v.generateProbatorRtpParameters(p.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:x}]),R.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(x){R.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",x)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){R.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const h=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const p=h.map(m=>m.localId);await this._handler.pauseReceiving(p)}catch(p){R.error("pausePendingConsumers() | failed to pause Consumers:",p)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){R.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const h=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const p=h.map(m=>m.localId);await this._handler.resumeReceiving(p)}catch(p){R.error("resumePendingConsumers() | failed to resume Consumers:",p)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){R.debug("closePendingConsumers() | there is no Consumer to be closed");return}const h=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(h.map(p=>p.localId))}catch(p){R.error("closePendingConsumers() | failed to close Consumers:",p)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const h=this._handler;h.on("@connect",({dtlsParameters:p},m,x)=>{if(this._closed){x(new d.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:p},m,x)}),h.on("@icegatheringstatechange",p=>{p!==this._iceGatheringState&&(R.debug("ICE gathering state changed to %s",p),this._iceGatheringState=p,this._closed||this.safeEmit("icegatheringstatechange",p))}),h.on("@connectionstatechange",p=>{p!==this._connectionState&&(R.debug("connection state changed to %s",p),this._connectionState=p,this._closed||this.safeEmit("connectionstatechange",p))})}handleProducer(h){h.on("@close",()=>{this._producers.delete(h.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(h.localId),"producer @close event").catch(p=>R.warn("producer.close() failed:%o",p))}),h.on("@pause",(p,m)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(h.localId),"producer @pause event").then(p).catch(m)}),h.on("@resume",(p,m)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(h.localId),"producer @resume event").then(p).catch(m)}),h.on("@replacetrack",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(h.localId,p),"producer @replacetrack event").then(m).catch(x)}),h.on("@setmaxspatiallayer",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(h.localId,p),"producer @setmaxspatiallayer event").then(m).catch(x)}),h.on("@setrtpencodingparameters",(p,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(h.localId,p),"producer @setrtpencodingparameters event").then(m).catch(x)}),h.on("@getstats",(p,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getSenderStats(h.localId).then(p).catch(m)})}handleConsumer(h){h.on("@close",()=>{this._consumers.delete(h.id),this._pendingPauseConsumers.delete(h.id),this._pendingResumeConsumers.delete(h.id),!this._closed&&(this._pendingCloseConsumers.set(h.id,h),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),h.on("@pause",()=>{this._pendingResumeConsumers.has(h.id)&&this._pendingResumeConsumers.delete(h.id),this._pendingPauseConsumers.set(h.id,h),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),h.on("@resume",()=>{this._pendingPauseConsumers.has(h.id)&&this._pendingPauseConsumers.delete(h.id),this._pendingResumeConsumers.set(h.id,h),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),h.on("@getstats",(p,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getReceiverStats(h.localId).then(p).catch(m)})}handleDataProducer(h){h.on("@close",()=>{this._dataProducers.delete(h.id)})}handleDataConsumer(h){h.on("@close",()=>{this._dataConsumers.delete(h.id)})}};return Rr.Transport=E,Rr}var rn={},jn={},sh={},oh={exports:{}},hb;function nx(){if(hb)return oh.exports;hb=1;var e=oh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),oh.exports}var mb;function KO(){return mb||(mb=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},r=function(l,d,f,v){if(v&&!f)d[v]=t(l[1]);else for(var y=0;y<f.length;y+=1)l[y+1]!=null&&(d[f[y]]=t(l[y+1]))},n=function(l,d,f){var v=l.name&&l.names;l.push&&!d[l.push]?d[l.push]=[]:v&&!d[l.name]&&(d[l.name]={});var y=l.push?{}:v?d[l.name]:d;r(f.match(l.reg),y,l.names,l.name),l.push&&d[l.push].push(y)},i=nx(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var d={},f=[],v=d;return l.split(/(\r\n|\r|\n)/).filter(a).forEach(function(y){var w=y[0],S=y.slice(2);w==="m"&&(f.push({rtp:[],fmtp:[]}),v=f[f.length-1]);for(var b=0;b<(i[w]||[]).length;b+=1){var R=i[w][b];if(R.reg.test(S))return n(R,v,S)}}),d.media=f,d};var c=function(l,d){var f=d.split(/=(.+)/,2);return f.length===2?l[f[0]]=t(f[1]):f.length===1&&d.length>1&&(l[f[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var d=[],f=l.split(" ").map(t),v=0;v<f.length;v+=3)d.push({component:f[v],ip:f[v+1],port:f[v+2]});return d},e.parseImageAttributes=function(l){return l.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(d){return d.split(",").map(function(f){var v,y=!1;return f[0]!=="~"?v=t(f):(v=t(f.substring(1,f.length)),y=!0),{scid:v,paused:y}})})}}(sh)),sh}var ih,gb;function YO(){if(gb)return ih;gb=1;var e=nx(),t=/%[sdv%]/g,r=function(c){var l=1,d=arguments,f=d.length;return c.replace(t,function(v){if(l>=f)return v;var y=d[l];switch(l+=1,v){case"%%":return"%";case"%s":return String(y);case"%d":return Number(y);case"%v":return""}})},n=function(c,l,d){var f=l.format instanceof Function?l.format(l.push?d:d[l.name]):l.format,v=[c+"="+f];if(l.names)for(var y=0;y<l.names.length;y+=1){var w=l.names[y];l.name?v.push(d[l.name][w]):v.push(d[l.names[y]])}else v.push(d[l.name]);return r.apply(null,v)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return ih=function(c,l){l=l||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(y){y.payloads==null&&(y.payloads="")});var d=l.outerOrder||i,f=l.innerOrder||a,v=[];return d.forEach(function(y){e[y].forEach(function(w){w.name in c&&c[w.name]!=null?v.push(n(y,w,c)):w.push in c&&c[w.push]!=null&&c[w.push].forEach(function(S){v.push(n(y,w,S))})})}),c.media.forEach(function(y){v.push(n("m",e.m[0],y)),f.forEach(function(w){e[w].forEach(function(S){S.name in y&&y[S.name]!=null?v.push(n(w,S,y)):S.push in y&&y[S.push]!=null&&y[S.push].forEach(function(b){v.push(n(w,S,b))})})})}),v.join(`\r
`)+`\r
`},ih}var vb;function Sr(){if(vb)return jn;vb=1;var e=KO(),t=YO();return jn.write=t,jn.parse=e.parse,jn.parseParams=e.parseParams,jn.parseFmtpConfig=e.parseFmtpConfig,jn.parsePayloads=e.parsePayloads,jn.parseRemoteCandidates=e.parseRemoteCandidates,jn.parseImageAttributes=e.parseImageAttributes,jn.parseSimulcastStreamList=e.parseSimulcastStreamList,jn}var Er={},yb;function En(){if(yb)return Er;yb=1;var e=Er&&Er.__createBinding||(Object.create?function(d,f,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(f,v);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return f[v]}}),Object.defineProperty(d,y,w)}:function(d,f,v,y){y===void 0&&(y=v),d[y]=f[v]}),t=Er&&Er.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=Er&&Er.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(f,d,v);return t(f,d),f};Object.defineProperty(Er,"__esModule",{value:!0}),Er.extractRtpCapabilities=i,Er.extractDtlsParameters=a,Er.getCname=c,Er.applyCodecParameters=l;const n=r(Sr());function i({sdpObject:d}){const f=new Map,v=[];let y=!1,w=!1;for(const b of d.media){const R=b.type;switch(R){case"audio":{if(y)continue;y=!0;break}case"video":{if(w)continue;w=!0;break}default:continue}for(const C of b.rtp){const E={kind:R,mimeType:`${R}/${C.codec}`,preferredPayloadType:C.payload,clockRate:C.rate,channels:C.encoding,parameters:{},rtcpFeedback:[]};f.set(E.preferredPayloadType,E)}for(const C of b.fmtp||[]){const E=n.parseParams(C.config),_=f.get(C.payload);_&&(E!=null&&E.hasOwnProperty("profile-level-id")&&(E["profile-level-id"]=String(E["profile-level-id"])),_.parameters=E)}for(const C of b.rtcpFb||[]){const E={type:C.type,parameter:C.subtype};if(E.parameter||delete E.parameter,C.payload!=="*"){const _=f.get(C.payload);if(!_)continue;_.rtcpFeedback.push(E)}else for(const _ of f.values())_.kind===R&&!/.+\/rtx$/i.test(_.mimeType)&&_.rtcpFeedback.push(E)}for(const C of b.ext||[]){if(C["encrypt-uri"])continue;const E={kind:R,uri:C.uri,preferredId:C.value};v.push(E)}}return{codecs:Array.from(f.values()),headerExtensions:v}}function a({sdpObject:d}){let f=d.setup,v=d.fingerprint;if(!f||!v){const S=(d.media||[]).find(b=>b.port!==0);S&&(f??(f=S.setup),v??(v=S.fingerprint))}if(f){if(!v)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let y;switch(f){case"active":{y="client";break}case"passive":{y="server";break}case"actpass":{y="auto";break}}return{role:y,fingerprints:[{algorithm:v.type,value:v.hash}]}}function c({offerMediaObject:d}){const f=(d.ssrcs||[]).find(v=>v.attribute==="cname");return f?f.value:""}function l({offerRtpParameters:d,answerMediaObject:f}){for(const v of d.codecs){const y=v.mimeType.toLowerCase();if(y!=="audio/opus"||!(f.rtp||[]).find(R=>R.payload===v.payloadType))continue;f.fmtp=f.fmtp||[];let S=f.fmtp.find(R=>R.payload===v.payloadType);S||(S={payload:v.payloadType,config:""},f.fmtp.push(S));const b=n.parseParams(S.config);switch(y){case"audio/opus":{const R=v.parameters["sprop-stereo"];R!==void 0&&(b.stereo=R?1:0);break}}S.config="";for(const R of Object.keys(b))S.config&&(S.config+=";"),S.config+=`${R}=${b[R]}`}}return Er}var Na={},wb;function Oo(){if(wb)return Na;wb=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.getRtpEncodings=e,Na.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const l=c.id;n.add(l)}if(n.size===0)throw new Error("no a=ssrc lines found");const i=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[l,d]=c.ssrcs.split(/\s+/);l=Number(l),d=Number(d),n.has(l)&&(n.delete(l),n.delete(d),i.set(l,d))}for(const c of n)i.set(c,null);const a=[];for(const[c,l]of i){const d={ssrc:c};l&&(d.rtx={ssrc:l}),a.push(d)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const i=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!i)throw new Error("a=ssrc line with msid information not found");const[a,c]=i.value.split(" "),l=Number(i.id);let d;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===l?(d=Number(b[1]),!0):!1});const f=r.ssrcs.find(S=>S.attribute==="cname");if(!f)throw new Error("a=ssrc line with cname information not found");const v=f.value,y=[],w=[];for(let S=0;S<n;++S)y.push(l+S),d&&w.push(d+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${a} ${c}`});for(let S=0;S<w.length;++S){const b=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`})}}return Na}var Nl={},Sb;function xd(){if(Sb)return Nl;Sb=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(i=>i.type==="nack"&&!i.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return Nl}var Aa={},bb;function Mr(){if(bb)return Aa;bb=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.HandlerInterface=void 0;const e=Lo();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Aa.HandlerInterface=t,Aa}var nn={},rr={},_b;function XO(){if(_b)return rr;_b=1;var e=rr&&rr.__createBinding||(Object.create?function(f,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(f,w,S)}:function(f,v,y,w){w===void 0&&(w=y),f[w]=v[y]}),t=rr&&rr.__setModuleDefault||(Object.create?function(f,v){Object.defineProperty(f,"default",{enumerable:!0,value:v})}:function(f,v){f.default=v}),r=rr&&rr.__importStar||function(f){if(f&&f.__esModule)return f;var v={};if(f!=null)for(var y in f)y!=="default"&&Object.prototype.hasOwnProperty.call(f,y)&&e(v,f,y);return t(v,f),v};Object.defineProperty(rr,"__esModule",{value:!0}),rr.OfferMediaSection=rr.AnswerMediaSection=rr.MediaSection=void 0;const n=r(Sr()),i=r(Ht());let a=class{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:S=!1}){if(this._mediaObject={},this._planB=S,v&&this.setIceParameters(v),y){this._mediaObject.candidates=[];for(const b of y){const R={};R.component=1,R.foundation=b.foundation,R.ip=b.address??b.ip,R.port=b.port,R.priority=b.priority,R.transport=b.protocol,R.type=b.type,b.tcpType&&(R.tcptype=b.tcpType),this._mediaObject.candidates.push(R)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}w&&this.setDtlsRole(w.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(v){this._mediaObject.iceUfrag=v.usernameFragment,this._mediaObject.icePwd=v.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};rr.MediaSection=a;class c extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:R=!1,offerMediaObject:C,offerRtpParameters:E,answerRtpParameters:_,codecOptions:h,extmapAllowMixed:p=!1}){switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C.mid),this._mediaObject.type=C.type,this._mediaObject.protocol=C.protocol,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),C.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const m of _.codecs){const x={payload:m.payloadType,codec:d(m),rate:m.clockRate};m.channels>1&&(x.encoding=m.channels),this._mediaObject.rtp.push(x);const k=i.clone(m.parameters)??{};let M=i.clone(m.rtcpFeedback)??[];if(h){const{opusStereo:j,opusFec:A,opusDtx:N,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:K,opusNack:O,videoGoogleStartBitrate:U,videoGoogleMaxBitrate:F,videoGoogleMinBitrate:z}=h,q=E.codecs.find(B=>B.payloadType===m.payloadType);switch(m.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{j!==void 0&&(q.parameters["sprop-stereo"]=j?1:0,k.stereo=j?1:0),A!==void 0&&(q.parameters.useinbandfec=A?1:0,k.useinbandfec=A?1:0),N!==void 0&&(q.parameters.usedtx=N?1:0,k.usedtx=N?1:0),V!==void 0&&(k.maxplaybackrate=V),W!==void 0&&(k.maxaveragebitrate=W),K!==void 0&&(q.parameters.ptime=K,k.ptime=K),O||(q.rtcpFeedback=q.rtcpFeedback.filter(B=>B.type!=="nack"||B.parameter),M=M.filter(B=>B.type!=="nack"||B.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{U!==void 0&&(k["x-google-start-bitrate"]=U),F!==void 0&&(k["x-google-max-bitrate"]=F),z!==void 0&&(k["x-google-min-bitrate"]=z);break}}}const L={payload:m.payloadType,config:""};for(const j of Object.keys(k))L.config&&(L.config+=";"),L.config+=`${j}=${k[j]}`;L.config&&this._mediaObject.fmtp.push(L);for(const j of M)this._mediaObject.rtcpFb.push({payload:m.payloadType,type:j.type,subtype:j.parameter})}this._mediaObject.payloads=_.codecs.map(m=>m.payloadType).join(" "),this._mediaObject.ext=[];for(const m of _.headerExtensions)(C.ext??[]).some(k=>k.uri===m.uri)&&this._mediaObject.ext.push({uri:m.uri,value:m.id});if(p&&C.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),C.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:C.simulcast.list1},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}else if(C.simulcast_03){this._mediaObject.simulcast_03={value:C.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof C.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):C.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(v){switch(v){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(v){var b,R;if(!((b=this._mediaObject.simulcast)!=null&&b.list1))return;const y={};for(const C of v)C.rid&&(y[C.rid]=C);const w=this._mediaObject.simulcast.list1,S=n.parseSimulcastStreamList(w);for(const C of S)for(const E of C)E.paused=!((R=y[E.scid])!=null&&R.active);this._mediaObject.simulcast.list1=S.map(C=>C.map(E=>`${E.paused?"~":""}${E.scid}`).join(",")).join(";")}}rr.AnswerMediaSection=c;class l extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:R=!1,mid:C,kind:E,offerRtpParameters:_,streamId:h,trackId:p,oldDataChannelSpec:m=!1}){var x;switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C),this._mediaObject.type=E,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),E){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${h??"-"} ${p}`);for(const j of _.codecs){const A={payload:j.payloadType,codec:d(j),rate:j.clockRate};j.channels>1&&(A.encoding=j.channels),this._mediaObject.rtp.push(A);const N={payload:j.payloadType,config:""};for(const V of Object.keys(j.parameters))N.config&&(N.config+=";"),N.config+=`${V}=${j.parameters[V]}`;N.config&&this._mediaObject.fmtp.push(N);for(const V of j.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:j.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=_.codecs.map(j=>j.payloadType).join(" "),this._mediaObject.ext=[];for(const j of _.headerExtensions)this._mediaObject.ext.push({uri:j.uri,value:j.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const k=_.encodings[0],M=k.ssrc,L=(x=k.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],_.rtcp.cname&&this._mediaObject.ssrcs.push({id:M,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:M,attribute:"msid",value:`${h??"-"} ${p}`}),L&&(_.rtcp.cname&&this._mediaObject.ssrcs.push({id:L,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:L,attribute:"msid",value:`${h??"-"} ${p}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${M} ${L}`}));break}case"application":{m?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(v){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:v,streamId:y,trackId:w}){var E;const S=v.encodings[0],b=S.ssrc,R=(E=S.rtx)==null?void 0:E.ssrc,C=this._mediaObject.payloads.split(" ");for(const _ of v.codecs){if(C.includes(String(_.payloadType)))continue;const h={payload:_.payloadType,codec:d(_),rate:_.clockRate};_.channels>1&&(h.encoding=_.channels),this._mediaObject.rtp.push(h);const p={payload:_.payloadType,config:""};for(const m of Object.keys(_.parameters))p.config&&(p.config+=";"),p.config+=`${m}=${_.parameters[m]}`;p.config&&this._mediaObject.fmtp.push(p);for(const m of _.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:_.payloadType,type:m.type,subtype:m.parameter})}this._mediaObject.payloads+=` ${v.codecs.filter(_=>!this._mediaObject.payloads.includes(_.payloadType)).map(_=>_.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),v.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${y??"-"} ${w}`}),R&&(v.rtcp.cname&&this._mediaObject.ssrcs.push({id:R,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:R,attribute:"msid",value:`${y??"-"} ${w}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`}))}planBStopReceiving({offerRtpParameters:v}){var b;const y=v.encodings[0],w=y.ssrc,S=(b=y.rtx)==null?void 0:b.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(R=>R.id!==w&&R.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(R=>R.ssrcs!==`${w} ${S}`))}}rr.OfferMediaSection=l;function d(f){const y=new RegExp("^(audio|video)/(.+)","i").exec(f.mimeType);if(!y)throw new TypeError("invalid codec.mimeType");return y[2]}return rr}var xb;function Tn(){if(xb)return nn;xb=1;var e=nn&&nn.__createBinding||(Object.create?function(d,f,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(f,v);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return f[v]}}),Object.defineProperty(d,y,w)}:function(d,f,v,y){y===void 0&&(y=v),d[y]=f[v]}),t=nn&&nn.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=nn&&nn.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(f,d,v);return t(f,d),f};Object.defineProperty(nn,"__esModule",{value:!0}),nn.RemoteSdp=void 0;const n=r(Sr()),i=Rt(),a=XO(),c=new i.Logger("RemoteSdp");let l=class{constructor({iceParameters:f,iceCandidates:v,dtlsParameters:y,sctpParameters:w,plainRtpParameters:S,planB:b=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=f,this._iceCandidates=v,this._dtlsParameters=y,this._sctpParameters=w,this._plainRtpParameters=S,this._planB=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},f!=null&&f.iceLite&&(this._sdpObject.icelite="ice-lite"),y){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const R=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:y.fingerprints[R-1].algorithm,hash:y.fingerprints[R-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(f){c.debug("updateIceParameters() [iceParameters:%o]",f),this._iceParameters=f,this._sdpObject.icelite=f.iceLite?"ice-lite":void 0;for(const v of this._mediaSections)v.setIceParameters(f)}updateDtlsRole(f){c.debug("updateDtlsRole() [role:%s]",f),this._dtlsParameters.role=f;for(const v of this._mediaSections)v.setDtlsRole(f)}getNextMediaSectionIdx(){for(let f=0;f<this._mediaSections.length;++f){const v=this._mediaSections[f];if(v.closed)return{idx:f,reuseMid:v.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:f,reuseMid:v,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b=!1}){const R=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:f,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b});v?this._replaceMediaSection(R,v):this._midToIndex.has(R.mid)?this._replaceMediaSection(R):this._addMediaSection(R)}receive({mid:f,kind:v,offerRtpParameters:y,streamId:w,trackId:S}){const b=this._midToIndex.get(f);let R;if(b!==void 0&&(R=this._mediaSections[b]),R)R.planBReceive({offerRtpParameters:y,streamId:w,trackId:S}),this._replaceMediaSection(R);else{R=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:f,kind:v,offerRtpParameters:y,streamId:w,trackId:S});const C=this._mediaSections.find(E=>E.closed);C?this._replaceMediaSection(R,C.mid):this._addMediaSection(R)}}pauseMediaSection(f){this._findMediaSection(f).pause()}resumeSendingMediaSection(f){this._findMediaSection(f).resume()}resumeReceivingMediaSection(f){this._findMediaSection(f).resume()}disableMediaSection(f){this._findMediaSection(f).disable()}closeMediaSection(f){const v=this._findMediaSection(f);return f===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",f),this.disableMediaSection(f),!1):(v.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(f,v){const y=this._findMediaSection(f);y.muxSimulcastStreams(v),this._replaceMediaSection(y)}planBStopReceiving({mid:f,offerRtpParameters:v}){const y=this._findMediaSection(f);y.planBStopReceiving({offerRtpParameters:v}),this._replaceMediaSection(y)}sendSctpAssociation({offerMediaObject:f}){const v=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:f});this._addMediaSection(v)}receiveSctpAssociation({oldDataChannelSpec:f=!1}={}){const v=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:f});this._addMediaSection(v)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(f){this._firstMid||(this._firstMid=f.mid),this._mediaSections.push(f),this._midToIndex.set(f.mid,this._mediaSections.length-1),this._sdpObject.media.push(f.getObject()),this._regenerateBundleMids()}_replaceMediaSection(f,v){if(typeof v=="string"){const y=this._midToIndex.get(v);if(y===void 0)throw new Error(`no media section found for reuseMid '${v}'`);const w=this._mediaSections[y];this._mediaSections[y]=f,this._midToIndex.delete(w.mid),this._midToIndex.set(f.mid,y),this._sdpObject.media[y]=f.getObject(),this._regenerateBundleMids()}else{const y=this._midToIndex.get(f.mid);if(y===void 0)throw new Error(`no media section found with mid '${f.mid}'`);this._mediaSections[y]=f,this._sdpObject.media[y]=f.getObject()}}_findMediaSection(f){const v=this._midToIndex.get(f);if(v===void 0)throw new Error(`no media section found with mid '${f}'`);return this._mediaSections[v]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(f=>!f.closed).map(f=>f.mid).join(" "))}};return nn.RemoteSdp=l,nn}var Al={},Cb;function Qs(){if(Cb)return Al;Cb=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return Al}var Rb;function QO(){if(Rb)return rn;Rb=1;var e=rn&&rn.__createBinding||(Object.create?function(_,h,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(_,m,x)}:function(_,h,p,m){m===void 0&&(m=p),_[m]=h[p]}),t=rn&&rn.__setModuleDefault||(Object.create?function(_,h){Object.defineProperty(_,"default",{enumerable:!0,value:h})}:function(_,h){_.default=h}),r=rn&&rn.__importStar||function(_){if(_&&_.__esModule)return _;var h={};if(_!=null)for(var p in _)p!=="default"&&Object.prototype.hasOwnProperty.call(_,p)&&e(h,_,p);return t(h,_),h};Object.defineProperty(rn,"__esModule",{value:!0}),rn.Chrome111=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Oo()),f=r(xd()),v=ir(),y=Mr(),w=Tn(),S=Qs(),b=new i.Logger("Chrome111"),R="Chrome111",C={OS:1024,MIS:1024};let E=class sx extends y.HandlerInterface{static createFactory(){return()=>new sx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const p=await h.createOffer();try{h.close()}catch{}const m=n.parse(p.sdp),x=l.extractRtpCapabilities({sdpObject:m});return f.addNackSuppportForOpus(x),x}catch(p){try{h.close()}catch{}throw p}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:h,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:M,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=h,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(h){this.assertNotClosed(),b.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=h,this._pc.setConfiguration(p)}async restartIce(h){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){if(this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),p&&p.length>1){let U=1;for(const F of p){const z=F.scalabilityMode?(0,S.parse)(F.scalabilityMode).temporalLayers:3;z>U&&(U=z)}p.forEach((F,z)=>{F.rid=`r${z}`,F.scalabilityMode=`L1T${U}`})}const M=a.clone(this._sendingRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[h.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});k&&k(A.sender);const N=await this._pc.createOffer();let V=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const W=A.mid;M.mid=W,V=n.parse(this._pc.localDescription.sdp);const K=V.media[j.idx];if(M.rtcp.cname=l.getCname({offerMediaObject:K}),!p)M.encodings=d.getRtpEncodings({offerMediaObject:K});else if(p.length===1){const U=d.getRtpEncodings({offerMediaObject:K});Object.assign(U[0],p[0]),M.encodings=U}else M.encodings=p;this._remoteSdp.send({offerMediaObject:K,reuseMid:j.reuseMid,offerRtpParameters:M,answerRtpParameters:L,codecOptions:m,extmapAllowMixed:!0});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:M,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",h),this._closed)return;const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(h);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(h,p){this.assertNotClosed(),this.assertSendDirection(),p?b.debug("replaceTrack() [localId:%s, track.id:%s]",h,p.id):b.debug("replaceTrack() [localId:%s, no track]",h);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{j<=p?L.active=!0:L.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{x.encodings[j]={...L,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const j={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const L of h){const{trackId:j,kind:A,rtpParameters:N,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",j,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(j,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:j})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of h){const{trackId:j,onRtpReceiver:A}=L;if(A){const N=m.get(j),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const M=n.parse(k.sdp);for(const L of h){const{trackId:j,rtpParameters:A}=L,N=m.get(j),V=M.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const L of h){const{trackId:j}=L,A=m.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const x of h){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of h)this._mapMidTransceiver.delete(x)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L}=h,j={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L,protocol:m};b.debug("receiveDataChannel() [options:%o]",j);const A=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=l.extractDtlsParameters({sdpObject:p});m.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return rn.Chrome111=E,rn}var sn={},Eb;function ZO(){if(Eb)return sn;Eb=1;var e=sn&&sn.__createBinding||(Object.create?function(_,h,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(_,m,x)}:function(_,h,p,m){m===void 0&&(m=p),_[m]=h[p]}),t=sn&&sn.__setModuleDefault||(Object.create?function(_,h){Object.defineProperty(_,"default",{enumerable:!0,value:h})}:function(_,h){_.default=h}),r=sn&&sn.__importStar||function(_){if(_&&_.__esModule)return _;var h={};if(_!=null)for(var p in _)p!=="default"&&Object.prototype.hasOwnProperty.call(_,p)&&e(h,_,p);return t(h,_),h};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Chrome74=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Oo()),f=r(xd()),v=ir(),y=Mr(),w=Tn(),S=Qs(),b=new i.Logger("Chrome74"),R="Chrome74",C={OS:1024,MIS:1024};let E=class ox extends y.HandlerInterface{static createFactory(){return()=>new ox}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const p=await h.createOffer();try{h.close()}catch{}const m=n.parse(p.sdp),x=l.extractRtpCapabilities({sdpObject:m});return f.addNackSuppportForOpus(x),x}catch(p){try{h.close()}catch{}throw p}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:h,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:M,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:A,extendedRtpCapabilities:N}){b.debug("run()"),this._direction=h,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(h){this.assertNotClosed(),b.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=h,this._pc.setConfiguration(p)}async restartIce(h){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:p,codecOptions:m,codec:x}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),p&&p.length>1&&p.forEach((F,z)=>{F.rid=`r${z}`});const k=a.clone(this._sendingRtpParametersByKind[h.kind]);k.codecs=c.reduceCodecs(k.codecs,x);const M=a.clone(this._sendingRemoteRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const L=this._remoteSdp.getNextMediaSectionIdx(),j=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});let A=await this._pc.createOffer(),N=n.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let W=!1;const K=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length===1&&K.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,N=n.parse(A.sdp),V=N.media[L.idx],d.addLegacySimulcast({offerMediaObject:V,numStreams:K.spatialLayers}),A={type:"offer",sdp:n.write(N)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const O=j.mid;if(k.mid=O,N=n.parse(this._pc.localDescription.sdp),V=N.media[L.idx],k.rtcp.cname=l.getCname({offerMediaObject:V}),!p)k.encodings=d.getRtpEncodings({offerMediaObject:V});else if(p.length===1){let F=d.getRtpEncodings({offerMediaObject:V});Object.assign(F[0],p[0]),W&&(F=[F[0]]),k.encodings=F}else k.encodings=p;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of k.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${K.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:L.reuseMid,offerRtpParameters:k,answerRtpParameters:M,codecOptions:m,extmapAllowMixed:!0});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,j),{localId:O,rtpParameters:k,rtpSender:j.sender}}async stopSending(h){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",h),this._closed)return;const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(h);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(h,p){this.assertNotClosed(),this.assertSendDirection(),p?b.debug("replaceTrack() [localId:%s, track.id:%s]",h,p.id):b.debug("replaceTrack() [localId:%s, no track]",h);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{j<=p?L.active=!0:L.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{x.encodings[j]={...L,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const j={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const L of h){const{trackId:j,kind:A,rtpParameters:N,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",j,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(j,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:j})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let k=await this._pc.createAnswer();const M=n.parse(k.sdp);for(const L of h){const{trackId:j,rtpParameters:A}=L,N=m.get(j),V=M.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const L of h){const{trackId:j}=L,A=m.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const x of h){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of h)this._mapMidTransceiver.delete(x)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L}=h,j={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L,protocol:m};b.debug("receiveDataChannel() [options:%o]",j);const A=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=l.extractDtlsParameters({sdpObject:p});m.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return sn.Chrome74=E,sn}var on={},Tb;function JO(){if(Tb)return on;Tb=1;var e=on&&on.__createBinding||(Object.create?function(C,E,_,h){h===void 0&&(h=_);var p=Object.getOwnPropertyDescriptor(E,_);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,h,p)}:function(C,E,_,h){h===void 0&&(h=_),C[h]=E[_]}),t=on&&on.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=on&&on.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(on,"__esModule",{value:!0}),on.Chrome70=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Oo()),f=Mr(),v=Tn(),y=Qs(),w=new i.Logger("Chrome70"),S="Chrome70",b={OS:1024,MIS:1024};let R=class ix extends f.HandlerInterface{static createFactory(){return()=>new ix}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{E.addTransceiver("audio"),E.addTransceiver("video");const _=await E.createOffer();try{E.close()}catch{}const h=n.parse(_.sdp);return l.extractRtpCapabilities({sdpObject:h})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:M,proprietaryConstraints:L,extendedRtpCapabilities:j}){w.debug("run()"),this._direction=E,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...M},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:h,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id);const m=a.clone(this._sendingRtpParametersByKind[E.kind]);m.codecs=c.reduceCodecs(m.codecs,p);const x=a.clone(this._sendingRemoteRtpParametersByKind[E.kind]);x.codecs=c.reduceCodecs(x.codecs,p);const k=this._remoteSdp.getNextMediaSectionIdx(),M=this._pc.addTransceiver(E,{direction:"sendonly",streams:[this._sendStream]});let L=await this._pc.createOffer(),j=n.parse(L.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),_&&_.length>1&&(w.debug("send() | enabling legacy simulcast"),j=n.parse(L.sdp),A=j.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:_.length}),L={type:"offer",sdp:n.write(j)});let N=!1;const V=(0,y.parse)((_??[{}])[0].scalabilityMode);if(_&&_.length===1&&V.spatialLayers>1&&m.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),N=!0,j=n.parse(L.sdp),A=j.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),L={type:"offer",sdp:n.write(j)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),_){w.debug("send() | applying given encodings");const O=M.sender.getParameters();for(let U=0;U<(O.encodings??[]).length;++U){const F=O.encodings[U],z=_[U];if(!z)break;O.encodings[U]=Object.assign(F,z)}await M.sender.setParameters(O)}const W=M.mid;if(m.mid=W,j=n.parse(this._pc.localDescription.sdp),A=j.media[k.idx],m.rtcp.cname=l.getCname({offerMediaObject:A}),m.encodings=d.getRtpEncodings({offerMediaObject:A}),_)for(let O=0;O<m.encodings.length;++O)_[O]&&Object.assign(m.encodings[O],_[O]);if(N&&(m.encodings=[m.encodings[0]]),m.encodings.length>1&&(m.codecs[0].mimeType.toLowerCase()==="video/vp8"||m.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of m.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:k.reuseMid,offerRtpParameters:m,answerRtpParameters:x,codecOptions:h});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(W,M),{localId:W,rtpParameters:m,rtpSender:M.sender}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");if(_.sender.replaceTrack(null),this._pc.removeTrack(_.sender),this._remoteSdp.closeMediaSection(_.mid))try{_.stop()}catch{}const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(E)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){this.assertSendDirection(),_?w.debug("replaceTrack() [localId:%s, track.id:%s]",E,_.id):w.debug("replaceTrack() [localId:%s, no track]",E);const h=this._mapMidTransceiver.get(E);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(_)}async setMaxSpatialLayer(E,_){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",E,_);const h=this._mapMidTransceiver.get(E);if(!h)throw new Error("associated RTCRtpTransceiver not found");const p=h.sender.getParameters();p.encodings.forEach((k,M)=>{M<=_?k.active=!0:k.active=!1}),await h.sender.setParameters(p),this._remoteSdp.muxMediaSectionSimulcast(E,p.encodings);const m=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async setRtpEncodingParameters(E,_){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",E,_);const h=this._mapMidTransceiver.get(E);if(!h)throw new Error("associated RTCRtpTransceiver not found");const p=h.sender.getParameters();p.encodings.forEach((k,M)=>{p.encodings[M]={...k,..._}}),await h.sender.setParameters(p),this._remoteSdp.muxMediaSectionSimulcast(E,p.encodings);const m=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async getSenderStats(E){this.assertSendDirection();const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.sender.getStats()}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:h,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:h,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),j=n.parse(L.sdp),A=j.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:M}}async receive(E){this.assertRecvDirection();const _=[],h=new Map;for(const k of E){const{trackId:M,kind:L,rtpParameters:j,streamId:A}=k;w.debug("receive() [trackId:%s, kind:%s]",M,L);const N=j.mid??String(this._mapMidTransceiver.size);h.set(M,N),this._remoteSdp.receive({mid:N,kind:L,offerRtpParameters:j,streamId:A??j.rtcp.cname,trackId:M})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{trackId:M,rtpParameters:L}=k,j=h.get(M),A=x.media.find(N=>String(N.mid)===j);l.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{trackId:M}=k,L=h.get(M),j=this._pc.getTransceivers().find(A=>A.mid===L);if(!j)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(L,j),_.push({localId:L,track:j.receiver.track,rtpReceiver:j.receiver})}return _}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(m.mid)}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const p of E)this._mapMidTransceiver.delete(p)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){this.assertRecvDirection();const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:h}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,M={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:h};w.debug("receiveDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const j={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const h=l.extractDtlsParameters({sdpObject:_});h.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:h},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return on.Chrome70=R,on}var an={},$a={},Pb;function Cd(){if(Pb)return $a;Pb=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.getRtpEncodings=e,$a.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const i=new Set;for(const l of r.ssrcs||[]){if(l.attribute!=="msid")continue;if(l.value.split(" ")[1]===n.id){const f=l.id;i.add(f)}}if(i.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const l of r.ssrcGroups||[]){if(l.semantics!=="FID")continue;let[d,f]=l.ssrcs.split(/\s+/);d=Number(d),f=Number(f),i.has(d)&&(i.delete(d),i.delete(f),a.set(d,f))}for(const l of i)a.set(l,null);const c=[];for(const[l,d]of a){const f={ssrc:l};d&&(f.rtx={ssrc:d}),c.push(f)}return c}function t({offerMediaObject:r,track:n,numStreams:i}){if(i<=1)throw new TypeError("numStreams must be greater than 1");let a,c,l;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===n.id?(a=S.id,l=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===a?(c=Number(b[1]),!0):!1});const f=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===a);if(!f)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const v=f.value,y=[],w=[];for(let S=0;S<i;++S)y.push(a+S),c&&w.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${l} ${n.id}`});for(let S=0;S<w.length;++S){const b=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${l} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`})}}return $a}var kb;function eN(){if(kb)return an;kb=1;var e=an&&an.__createBinding||(Object.create?function(R,C,E,_){_===void 0&&(_=E);var h=Object.getOwnPropertyDescriptor(C,E);(!h||("get"in h?!C.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,_,h)}:function(R,C,E,_){_===void 0&&(_=E),R[_]=C[E]}),t=an&&an.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=an&&an.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(an,"__esModule",{value:!0}),an.Chrome67=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Cd()),f=Mr(),v=Tn(),y=new i.Logger("Chrome67"),w="Chrome67",S={OS:1024,MIS:1024};let b=class ax extends f.HandlerInterface{static createFactory(){return()=>new ax}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=n.parse(E.sdp);return l.extractRtpCapabilities({sdpObject:_})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:_,dtlsParameters:h,sctpParameters:p,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:M,extendedRtpCapabilities:L}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:_,dtlsParameters:h,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...k},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const _={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:_,codec:h}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),h&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let p=await this._pc.createOffer(),m=n.parse(p.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const M=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(M.codecs=c.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(p.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),p={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=l.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:M,codecOptions:_});const L={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const j=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(j,A),{localId:j,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",C);const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(E),E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(p){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",p.toString());return}throw p}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.track;await _.replaceTrack(E),h&&this._sendStream.removeTrack(h),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.getParameters();h.encodings.forEach((p,m)=>{m<=E?p.active=!0:p.active=!1}),await _.setParameters(h)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.getParameters();h.encodings.forEach((p,m)=>{h.encodings[m]={...p,...E}}),await _.setParameters(h)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:_,label:h,protocol:p}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:_,protocol:p};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(h,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),L=n.parse(M.sdp),j=L.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:j});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:M,streamId:L}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const j=k;this._remoteSdp.receive({mid:j,kind:k,offerRtpParameters:M,streamId:L??M.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let h=await this._pc.createAnswer();const p=n.parse(h.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,M=x,L=p.media.find(j=>String(j.mid)===M);l.applyCodecParameters({offerRtpParameters:k,answerMediaObject:L})}h={type:"answer",sdp:n.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const m of C){const{kind:x,trackId:k,rtpParameters:M}=m,L=k,j=x,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===L);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(L,{mid:j,rtpParameters:M,rtpReceiver:A}),E.push({localId:L,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const h of C){y.debug("stopReceiving() [localId:%s]",h);const{mid:p,rtpParameters:m}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:p,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async pauseReceiving(C){}async resumeReceiving(C){}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:_}){this.assertRecvDirection();const{streamId:h,ordered:p,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:h,ordered:p,maxPacketLifeTime:m,maxRetransmitTime:m,maxRetransmits:x,protocol:_};y.debug("receiveDataChannel() [options:%o]",k);const M=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const j=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(j.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setLocalDescription(j),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const _=l.extractDtlsParameters({sdpObject:E});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((h,p)=>{this.safeEmit("@connect",{dtlsParameters:_},h,p)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return an.Chrome67=b,an}var cn={},Db;function tN(){if(Db)return cn;Db=1;var e=cn&&cn.__createBinding||(Object.create?function(C,E,_,h){h===void 0&&(h=_);var p=Object.getOwnPropertyDescriptor(E,_);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,h,p)}:function(C,E,_,h){h===void 0&&(h=_),C[h]=E[_]}),t=cn&&cn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=cn&&cn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Chrome55=void 0;const n=r(Sr()),i=Rt(),a=ir(),c=r(Ht()),l=r(wr()),d=r(En()),f=r(Cd()),v=Mr(),y=Tn(),w=new i.Logger("Chrome55"),S="Chrome55",b={OS:1024,MIS:1024};let R=class cx extends v.HandlerInterface{static createFactory(){return()=>new cx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const h=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:h})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:M,proprietaryConstraints:L,extendedRtpCapabilities:j}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",j),video:l.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",j),video:l.getSendingRemoteRtpParameters("video",j)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...M},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:h,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),p&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const M=c.clone(this._sendingRtpParametersByKind[E.kind]);M.codecs=l.reduceCodecs(M.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),f.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:_.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),M.rtcp.cname=d.getCname({offerMediaObject:k}),M.encodings=f.getRtpEncodings({offerMediaObject:k,track:E}),_)for(let N=0;N<M.encodings.length;++N)_[N]&&Object.assign(M.encodings[N],_[N]);if(M.encodings.length>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of M.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:M,answerRtpParameters:L,codecOptions:h});const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:M}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapSendLocalIdTrack.get(E);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h);try{await this._pc.setLocalDescription(h)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,_){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(E,_){throw new a.UnsupportedError("not supported")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:h,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:h,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),j=n.parse(L.sdp),A=j.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:M}}async receive(E){this.assertRecvDirection();const _=[];for(const x of E){const{trackId:k,kind:M,rtpParameters:L,streamId:j}=x;w.debug("receive() [trackId:%s, kind:%s]",k,M);const A=M;this._remoteSdp.receive({mid:A,kind:M,offerRtpParameters:L,streamId:j??L.rtcp.cname,trackId:k})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let p=await this._pc.createAnswer();const m=n.parse(p.sdp);for(const x of E){const{kind:k,rtpParameters:M}=x,L=k,j=m.media.find(A=>String(A.mid)===L);d.applyCodecParameters({offerRtpParameters:M,answerMediaObject:j})}p={type:"answer",sdp:n.write(m)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const x of E){const{kind:k,trackId:M,rtpParameters:L}=x,j=k,A=M,N=x.streamId??L.rtcp.cname,W=this._pc.getRemoteStreams().find(K=>K.id===N).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:j,rtpParameters:L}),_.push({localId:A,track:W})}return _}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:h}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,M={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:h};w.debug("receiveDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const h=d.extractDtlsParameters({sdpObject:_});h.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:h},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return cn.Chrome55=R,cn}var ln={},Ib;function rN(){if(Ib)return ln;Ib=1;var e=ln&&ln.__createBinding||(Object.create?function(E,_,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(_,h);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(E,p,m)}:function(E,_,h,p){p===void 0&&(p=h),E[p]=_[h]}),t=ln&&ln.__setModuleDefault||(Object.create?function(E,_){Object.defineProperty(E,"default",{enumerable:!0,value:_})}:function(E,_){E.default=_}),r=ln&&ln.__importStar||function(E){if(E&&E.__esModule)return E;var _={};if(E!=null)for(var h in E)h!=="default"&&Object.prototype.hasOwnProperty.call(E,h)&&e(_,E,h);return t(_,E),_};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Firefox120=void 0;const n=r(Sr()),i=Rt(),a=ir(),c=r(Ht()),l=r(wr()),d=r(En()),f=r(Oo()),v=Mr(),y=Tn(),w=Qs(),S=new i.Logger("Firefox120"),b="Firefox120",R={OS:16,MIS:2048};let C=class lx extends v.HandlerInterface{static createFactory(){return()=>new lx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),h=document.createElement("canvas");h.getContext("2d");const m=h.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"}),_.addTransceiver(m,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const x=await _.createOffer();try{h.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}const k=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:k})}catch(x){try{h.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:_,iceParameters:h,iceCandidates:p,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:M,additionalSettings:L,proprietaryConstraints:j,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new y.RemoteSdp({iceParameters:h,iceCandidates:p,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const p={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:h,codecOptions:p,codec:m,onRtpSender:x}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),h&&h.length>1&&h.forEach((O,U)=>{O.rid=`r${U}`});const k=c.clone(this._sendingRtpParametersByKind[_.kind]);k.codecs=l.reduceCodecs(k.codecs,m);const M=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);M.codecs=l.reduceCodecs(M.codecs,m);const L=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});x&&x(L.sender);const j=await this._pc.createOffer();let A=n.parse(j.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const N=(0,w.parse)((h??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j);const V=L.mid;k.mid=V,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(k.rtcp.cname=d.getCname({offerMediaObject:W}),!h)k.encodings=f.getRtpEncodings({offerMediaObject:W});else if(h.length===1){const O=f.getRtpEncodings({offerMediaObject:W});Object.assign(O[0],h[0]),k.encodings=O}else k.encodings=h;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of k.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${N.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:k,answerRtpParameters:M,codecOptions:p,extmapAllowMixed:!0});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(V,L),{localId:V,rtpParameters:k,rtpSender:L.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated transceiver not found");h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.disableMediaSection(h.mid);const p=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(_);const p=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const p=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(_,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,h.id):S.debug("replaceTrack() [localId:%s, no track]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(h)}async setMaxSpatialLayer(_,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,h);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");const m=p.sender.getParameters();m.encodings.forEach((M,L)=>{L<=h?M.active=!0:M.active=!1}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,h);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");const m=p.sender.getParameters();m.encodings.forEach((M,L)=>{m.encodings[L]={...M,...h}}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:h,maxRetransmits:p,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:h,maxRetransmits:p,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const M=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),A=n.parse(j.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const L={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:M,sctpStreamParameters:L}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const h=[],p=new Map;for(const M of _){const{trackId:L,kind:j,rtpParameters:A,streamId:N}=M;S.debug("receive() [trackId:%s, kind:%s]",L,j);const V=A.mid??String(this._mapMidTransceiver.size);p.set(L,V),this._remoteSdp.receive({mid:V,kind:j,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:L})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);for(const M of _){const{trackId:L,onRtpReceiver:j}=M;if(j){const A=p.get(L),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("transceiver not found");j(N.receiver)}}let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const M of _){const{trackId:L,rtpParameters:j}=M,A=p.get(L),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:j,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const M of _){const{trackId:L}=M,j=p.get(L),A=this._pc.getTransceivers().find(N=>N.mid===j);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(j,A),h.push({localId:j,track:A.receiver.track,rtpReceiver:A.receiver})}return h}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const m of _){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of _)this._mapMidTransceiver.delete(m)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async getReceiverStats(_){this.assertRecvDirection();const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:h,protocol:p}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:M}=_,L={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:M,protocol:p};S.debug("receiveDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(h,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:_,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:h});p.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:p},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ln.Firefox120=C,ln}var un={},Mb;function nN(){if(Mb)return un;Mb=1;var e=un&&un.__createBinding||(Object.create?function(E,_,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(_,h);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(E,p,m)}:function(E,_,h,p){p===void 0&&(p=h),E[p]=_[h]}),t=un&&un.__setModuleDefault||(Object.create?function(E,_){Object.defineProperty(E,"default",{enumerable:!0,value:_})}:function(E,_){E.default=_}),r=un&&un.__importStar||function(E){if(E&&E.__esModule)return E;var _={};if(E!=null)for(var h in E)h!=="default"&&Object.prototype.hasOwnProperty.call(E,h)&&e(_,E,h);return t(_,E),_};Object.defineProperty(un,"__esModule",{value:!0}),un.Firefox60=void 0;const n=r(Sr()),i=Rt(),a=ir(),c=r(Ht()),l=r(wr()),d=r(En()),f=r(Oo()),v=Mr(),y=Tn(),w=Qs(),S=new i.Logger("Firefox60"),b="Firefox60",R={OS:16,MIS:2048};let C=class ux extends v.HandlerInterface{static createFactory(){return()=>new ux}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),h=document.createElement("canvas");h.getContext("2d");const m=h.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"});const x=_.addTransceiver(m,{direction:"sendrecv"}),k=x.sender.getParameters(),M=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];k.encodings=M,await x.sender.setParameters(k);const L=await _.createOffer();try{h.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}const j=n.parse(L.sdp);return d.extractRtpCapabilities({sdpObject:j})}catch(x){try{h.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:_,iceParameters:h,iceCandidates:p,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:M,additionalSettings:L,proprietaryConstraints:j,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new y.RemoteSdp({iceParameters:h,iceCandidates:p,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const p={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:h,codecOptions:p,codec:m}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),h&&(h=c.clone(h),h.forEach((K,O)=>{K.rid=`r${O}`}),h.reverse());const x=c.clone(this._sendingRtpParametersByKind[_.kind]);x.codecs=l.reduceCodecs(x.codecs,m);const k=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);k.codecs=l.reduceCodecs(k.codecs,m);const M=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});if(h){const K=M.sender.getParameters();K.encodings=h,await M.sender.setParameters(K)}const L=await this._pc.createOffer();let j=n.parse(L.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:j});const A=(0,w.parse)((h??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const N=M.mid;x.mid=N,j=n.parse(this._pc.localDescription.sdp);const V=j.media[j.media.length-1];if(x.rtcp.cname=d.getCname({offerMediaObject:V}),!h)x.encodings=f.getRtpEncodings({offerMediaObject:V});else if(h.length===1){const K=f.getRtpEncodings({offerMediaObject:V});Object.assign(K[0],h[0]),x.encodings=K}else x.encodings=h.reverse();if(x.encodings.length>1&&(x.codecs[0].mimeType.toLowerCase()==="video/vp8"||x.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const K of x.encodings)K.scalabilityMode?K.scalabilityMode=`L1T${A.temporalLayers}`:K.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:x,answerRtpParameters:k,codecOptions:p,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(N,M),{localId:N,rtpParameters:x,rtpSender:M.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated transceiver not found");h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.disableMediaSection(h.mid);const p=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(_);const p=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const p=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(_,h){this.assertNotClosed(),this.assertSendDirection(),h?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,h.id):S.debug("replaceTrack() [localId:%s, no track]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(h)}async setMaxSpatialLayer(_,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,h);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");const m=p.sender.getParameters();h=m.encodings.length-1-h,m.encodings.forEach((M,L)=>{L>=h?M.active=!0:M.active=!1}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,h){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,h);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");const m=p.sender.getParameters();m.encodings.forEach((M,L)=>{m.encodings[L]={...M,...h}}),await p.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:h,maxRetransmits:p,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:h,maxRetransmits:p,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const M=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),A=n.parse(j.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const L={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:M,sctpStreamParameters:L}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const h=[],p=new Map;for(const M of _){const{trackId:L,kind:j,rtpParameters:A,streamId:N}=M;S.debug("receive() [trackId:%s, kind:%s]",L,j);const V=A.mid??String(this._mapMidTransceiver.size);p.set(L,V),this._remoteSdp.receive({mid:V,kind:j,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:L})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const M of _){const{trackId:L,rtpParameters:j}=M,A=p.get(L),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:j,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const M of _){const{trackId:L}=M,j=p.get(L),A=this._pc.getTransceivers().find(N=>N.mid===j);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(j,A),h.push({localId:j,track:A.receiver.track,rtpReceiver:A.receiver})}return h}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const m of _){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of _)this._mapMidTransceiver.delete(m)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const p=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async getReceiverStats(_){this.assertRecvDirection();const h=this._mapMidTransceiver.get(_);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:h,protocol:p}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:M}=_,L={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:M,protocol:p};S.debug("receiveDataChannel() [options:%o]",L);const j=this._pc.createDataChannel(h,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:_,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:h});p.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:p},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return un.Firefox60=C,un}var dn={},jb;function sN(){if(jb)return dn;jb=1;var e=dn&&dn.__createBinding||(Object.create?function(_,h,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(_,m,x)}:function(_,h,p,m){m===void 0&&(m=p),_[m]=h[p]}),t=dn&&dn.__setModuleDefault||(Object.create?function(_,h){Object.defineProperty(_,"default",{enumerable:!0,value:h})}:function(_,h){_.default=h}),r=dn&&dn.__importStar||function(_){if(_&&_.__esModule)return _;var h={};if(_!=null)for(var p in _)p!=="default"&&Object.prototype.hasOwnProperty.call(_,p)&&e(h,_,p);return t(h,_),h};Object.defineProperty(dn,"__esModule",{value:!0}),dn.Safari12=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Oo()),f=r(xd()),v=ir(),y=Mr(),w=Tn(),S=Qs(),b=new i.Logger("Safari12"),R="Safari12",C={OS:1024,MIS:1024};let E=class dx extends y.HandlerInterface{static createFactory(){return()=>new dx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{h.addTransceiver("audio"),h.addTransceiver("video");const p=await h.createOffer();try{h.close()}catch{}const m=n.parse(p.sdp),x=l.extractRtpCapabilities({sdpObject:m});return f.addNackSuppportForOpus(x),x}catch(p){try{h.close()}catch{}throw p}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:h,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:M,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=h,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(h){this.assertNotClosed(),b.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=h,this._pc.setConfiguration(p)}async restartIce(h){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",h.kind,h.id);const M=a.clone(this._sendingRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[h.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream]});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const K=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length>1&&(b.debug("send() | enabling legacy simulcast"),V=n.parse(N.sdp),W=V.media[j.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:p.length}),N={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=A.mid;if(M.mid=O,V=n.parse(this._pc.localDescription.sdp),W=V.media[j.idx],M.rtcp.cname=l.getCname({offerMediaObject:W}),M.encodings=d.getRtpEncodings({offerMediaObject:W}),p)for(let F=0;F<M.encodings.length;++F)p[F]&&Object.assign(M.encodings[F],p[F]);if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of M.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${K.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:j.reuseMid,offerRtpParameters:M,answerRtpParameters:L,codecOptions:m});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,A),{localId:O,rtpParameters:M,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(h);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(h);const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(h,p){this.assertNotClosed(),this.assertSendDirection(),p?b.debug("replaceTrack() [localId:%s, track.id:%s]",h,p.id):b.debug("replaceTrack() [localId:%s, no track]",h);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{j<=p?L.active=!0:L.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{x.encodings[j]={...L,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const j={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const L of h){const{trackId:j,kind:A,rtpParameters:N,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",j,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(j,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:j})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of h){const{trackId:j,onRtpReceiver:A}=L;if(A){const N=m.get(j),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const M=n.parse(k.sdp);for(const L of h){const{trackId:j,rtpParameters:A}=L,N=m.get(j),V=M.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const L of h){const{trackId:j}=L,A=m.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver})}return p}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const x of h){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of h)this._mapMidTransceiver.delete(x)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L}=h,j={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L,protocol:m};b.debug("receiveDataChannel() [options:%o]",j);const A=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=l.extractDtlsParameters({sdpObject:p});m.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return dn.Safari12=E,dn}var fn={},Lb;function oN(){if(Lb)return fn;Lb=1;var e=fn&&fn.__createBinding||(Object.create?function(R,C,E,_){_===void 0&&(_=E);var h=Object.getOwnPropertyDescriptor(C,E);(!h||("get"in h?!C.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,_,h)}:function(R,C,E,_){_===void 0&&(_=E),R[_]=C[E]}),t=fn&&fn.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=fn&&fn.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(fn,"__esModule",{value:!0}),fn.Safari11=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Cd()),f=Mr(),v=Tn(),y=new i.Logger("Safari11"),w="Safari11",S={OS:1024,MIS:1024};let b=class fx extends f.HandlerInterface{static createFactory(){return()=>new fx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=n.parse(E.sdp);return l.extractRtpCapabilities({sdpObject:_})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:_,dtlsParameters:h,sctpParameters:p,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:M,extendedRtpCapabilities:L}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:_,dtlsParameters:h,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k},M),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const _={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:_,codec:h}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),h&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let p=await this._pc.createOffer(),m=n.parse(p.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const M=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(M.codecs=c.reduceCodecs(M.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(p.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),p={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=l.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:M,codecOptions:_});const L={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const j=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(j,A),{localId:j,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(p){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",p.toString());return}throw p}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.track;await _.replaceTrack(E),h&&this._sendStream.removeTrack(h),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.getParameters();h.encodings.forEach((p,m)=>{m<=E?p.active=!0:p.active=!1}),await _.setParameters(h)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const h=_.getParameters();h.encodings.forEach((p,m)=>{h.encodings[m]={...p,...E}}),await _.setParameters(h)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:_,label:h,protocol:p}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmits:_,protocol:p};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(h,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const M=await this._pc.createOffer(),L=n.parse(M.sdp),j=L.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),this._remoteSdp.sendSctpAssociation({offerMediaObject:j});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:M,streamId:L}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const j=k;this._remoteSdp.receive({mid:j,kind:k,offerRtpParameters:M,streamId:L??M.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let h=await this._pc.createAnswer();const p=n.parse(h.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,M=x,L=p.media.find(j=>String(j.mid)===M);l.applyCodecParameters({offerRtpParameters:k,answerMediaObject:L})}h={type:"answer",sdp:n.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const m of C){const{kind:x,trackId:k,rtpParameters:M}=m,L=x,j=k,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===j);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(j,{mid:L,rtpParameters:M,rtpReceiver:A}),E.push({localId:j,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const h of C){y.debug("stopReceiving() [localId:%s]",h);const{mid:p,rtpParameters:m}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:p,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async pauseReceiving(C){}async resumeReceiving(C){}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:_}){this.assertRecvDirection();const{streamId:h,ordered:p,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:h,ordered:p,maxPacketLifeTime:m,maxRetransmits:x,protocol:_};y.debug("receiveDataChannel() [options:%o]",k);const M=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const j=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(j.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setLocalDescription(j),this._hasDataChannelMediaSection=!0}return{dataChannel:M}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const _=l.extractDtlsParameters({sdpObject:E});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((h,p)=>{this.safeEmit("@connect",{dtlsParameters:_},h,p)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return fn.Safari11=b,fn}var pn={},hn={},Ob;function iN(){if(Ob)return hn;Ob=1;var e=hn&&hn.__createBinding||(Object.create?function(c,l,d,f){f===void 0&&(f=d);var v=Object.getOwnPropertyDescriptor(l,d);(!v||("get"in v?!l.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,f,v)}:function(c,l,d,f){f===void 0&&(f=d),c[f]=l[d]}),t=hn&&hn.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=hn&&hn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(l,c,d);return t(l,c),l};Object.defineProperty(hn,"__esModule",{value:!0}),hn.getCapabilities=i,hn.mangleRtpParameters=a;const n=r(Ht());function i(){const c=RTCRtpReceiver.getCapabilities(),l=n.clone(c);for(const d of l.codecs??[]){if(d.channels=d.numChannels,delete d.numChannels,d.mimeType=d.mimeType??`${d.kind}/${d.name}`,d.parameters){const f=d.parameters;f.apt&&(f.apt=Number(f.apt)),f["packetization-mode"]&&(f["packetization-mode"]=Number(f["packetization-mode"]))}for(const f of d.rtcpFeedback??[])f.parameter||(f.parameter="")}return l}function a(c){const l=n.clone(c);l.mid&&(l.muxId=l.mid,delete l.mid);for(const d of l.codecs)d.channels&&(d.numChannels=d.channels,delete d.channels),d.mimeType&&!d.name&&(d.name=d.mimeType.split("/")[1]),delete d.mimeType;return l}return hn}var Nb;function aN(){if(Nb)return pn;Nb=1;var e=pn&&pn.__createBinding||(Object.create?function(w,S,b,R){R===void 0&&(R=b);var C=Object.getOwnPropertyDescriptor(S,b);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[b]}}),Object.defineProperty(w,R,C)}:function(w,S,b,R){R===void 0&&(R=b),w[R]=S[b]}),t=pn&&pn.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=pn&&pn.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&e(S,w,b);return t(S,w),S};Object.defineProperty(pn,"__esModule",{value:!0}),pn.Edge11=void 0;const n=Rt(),i=ir(),a=r(Ht()),c=r(wr()),l=r(iN()),d=Mr(),f=new n.Logger("Edge11"),v="Edge11";let y=class px extends d.HandlerInterface{static createFactory(){return()=>new px}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return v}close(){f.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return f.debug("getNativeRtpCapabilities()"),l.getCapabilities()}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:b,iceCandidates:R,dtlsParameters:C,sctpParameters:E,iceServers:_,iceTransportPolicy:h,additionalSettings:p,proprietaryConstraints:m,extendedRtpCapabilities:x}){f.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",x),video:c.getSendingRtpParameters("video",x)},this._remoteIceParameters=b,this._remoteIceCandidates=R,this._remoteDtlsParameters=C,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:_,iceTransportPolicy:h}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new i.UnsupportedError("not supported")}async restartIce(S){if(f.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){f.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const b of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(b);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:b,codecOptions:R,codec:C}){f.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),f.debug("send() | calling new RTCRtpSender()");const E=new RTCRtpSender(S,this._dtlsTransport),_=a.clone(this._sendingRtpParametersByKind[S.kind]);_.codecs=c.reduceCodecs(_.codecs,C);const h=_.codecs.some(x=>/.+\/rtx$/i.test(x.mimeType));b||(b=[{}]);for(const x of b)x.ssrc=a.generateRandomNumber(),h&&(x.rtx={ssrc:a.generateRandomNumber()});_.encodings=b,_.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const p=l.mangleRtpParameters(_);f.debug("send() | calling rtpSender.send() [params:%o]",p),await E.send(p);const m=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(m,E),{localId:m,rtpParameters:_,rtpSender:E}}async stopSending(S){f.debug("stopSending() [localId:%s]",S);const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{f.debug("stopSending() | calling rtpSender.stop()"),b.stop()}catch(R){throw f.warn("stopSending() | rtpSender.stop() failed:%o",R),R}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,b){b?f.debug("replaceTrack() [localId:%s, track.id:%s]",S,b.id):f.debug("replaceTrack() [localId:%s, no track]",S);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");R.setTrack(b)}async setMaxSpatialLayer(S,b){f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,b);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,_)=>{_<=b?E.active=!0:E.active=!1}),await R.setParameters(C)}async setRtpEncodingParameters(S,b){f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,b);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,_)=>{C.encodings[_]={...E,...b}}),await R.setParameters(C)}async getSenderStats(S){const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");return b.getStats()}async sendDataChannel(S){throw new i.UnsupportedError("not implemented")}async receive(S){const b=[];for(const R of S){const{trackId:C,kind:E}=R;f.debug("receive() [trackId:%s, kind:%s]",C,E)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const R of S){const{trackId:C,kind:E,rtpParameters:_}=R;f.debug("receive() | calling new RTCRtpReceiver()");const h=new RTCRtpReceiver(this._dtlsTransport,E);h.addEventListener("error",x=>{f.error('rtpReceiver "error" event [event:%o]',x)});const p=l.mangleRtpParameters(_);f.debug("receive() | calling rtpReceiver.receive() [params:%o]",p),await h.receive(p);const m=C;this._rtpReceivers.set(m,h),b.push({localId:m,track:h.track,rtpReceiver:h})}return b}async stopReceiving(S){for(const b of S){f.debug("stopReceiving() [localId:%s]",b);const R=this._rtpReceivers.get(b);if(!R)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(b);try{f.debug("stopReceiving() | calling rtpReceiver.stop()"),R.stop()}catch(C){f.warn("stopReceiving() | rtpReceiver.stop() failed:%o",C)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const b=this._rtpReceivers.get(S);if(!b)throw new Error("RTCRtpReceiver not found");return b.getStats()}async receiveDataChannel(S){throw new i.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:b}){const R=new RTCIceGatherer({iceServers:S??[],gatherPolicy:b??"all"});R.addEventListener("error",C=>{f.error('iceGatherer "error" event [event:%o]',C)});try{R.gather()}catch(C){f.debug("setIceGatherer() | iceGatherer.gather() failed: %s",C.toString())}this._iceGatherer=R}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",b=>{f.debug('iceTransport "candidatepairchange" event [pair:%o]',b.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{f.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{f.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",b=>{f.error('dtlsTransport "error" event [event:%o]',b)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){f.debug("setupTransport()");const b=this._dtlsTransport.getLocalParameters();b.role=S,await new Promise((R,C)=>{this.safeEmit("@connect",{dtlsParameters:b},R,C)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const R of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(R);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(R=>R.algorithm==="sha-256"||R.algorithm==="sha-384"||R.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return pn.Edge11=y,pn}var mn={},Ab;function cN(){if(Ab)return mn;Ab=1;var e=mn&&mn.__createBinding||(Object.create?function(_,h,p,m){m===void 0&&(m=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(_,m,x)}:function(_,h,p,m){m===void 0&&(m=p),_[m]=h[p]}),t=mn&&mn.__setModuleDefault||(Object.create?function(_,h){Object.defineProperty(_,"default",{enumerable:!0,value:h})}:function(_,h){_.default=h}),r=mn&&mn.__importStar||function(_){if(_&&_.__esModule)return _;var h={};if(_!=null)for(var p in _)p!=="default"&&Object.prototype.hasOwnProperty.call(_,p)&&e(h,_,p);return t(h,_),h};Object.defineProperty(mn,"__esModule",{value:!0}),mn.ReactNativeUnifiedPlan=void 0;const n=r(Sr()),i=Rt(),a=r(Ht()),c=r(wr()),l=r(En()),d=r(Oo()),f=r(xd()),v=ir(),y=Mr(),w=Tn(),S=Qs(),b=new i.Logger("ReactNativeUnifiedPlan"),R="ReactNativeUnifiedPlan",C={OS:1024,MIS:1024};let E=class hx extends y.HandlerInterface{static createFactory(){return()=>new hx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const h=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{h.addTransceiver("audio"),h.addTransceiver("video");const p=await h.createOffer();try{h.close()}catch{}const m=n.parse(p.sdp),x=l.extractRtpCapabilities({sdpObject:m});return f.addNackSuppportForOpus(x),x}catch(p){try{h.close()}catch{}throw p}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:h,iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:M,iceTransportPolicy:L,additionalSettings:j,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=h,this._remoteSdp=new w.RemoteSdp({iceParameters:p,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(h){this.assertNotClosed(),b.debug("updateIceServers()");const p=this._pc.getConfiguration();p.iceServers=h,this._pc.setConfiguration(p)}async restartIce(h){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(h),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:h,encodings:p,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),p&&p.length>1&&p.forEach((z,q)=>{z.rid=`r${q}`});const M=a.clone(this._sendingRtpParametersByKind[h.kind]);M.codecs=c.reduceCodecs(M.codecs,x);const L=a.clone(this._sendingRemoteRtpParametersByKind[h.kind]);L.codecs=c.reduceCodecs(L.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(h,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let K=!1;const O=(0,S.parse)((p??[{}])[0].scalabilityMode);p&&p.length===1&&O.spatialLayers>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),K=!0,V=n.parse(N.sdp),W=V.media[j.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:O.spatialLayers}),N={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);let U=A.mid??void 0;if(U||b.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),M.mid=U,V=n.parse(this._pc.localDescription.sdp),W=V.media[j.idx],M.rtcp.cname=l.getCname({offerMediaObject:W}),!p)M.encodings=d.getRtpEncodings({offerMediaObject:W});else if(p.length===1){let z=d.getRtpEncodings({offerMediaObject:W});Object.assign(z[0],p[0]),K&&(z=[z[0]]),M.encodings=z}else M.encodings=p;if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const z of M.encodings)z.scalabilityMode?z.scalabilityMode=`L1T${O.temporalLayers}`:z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:j.reuseMid,offerRtpParameters:M,answerRtpParameters:L,codecOptions:m,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),U||(U=A.mid,M.mid=U),this._mapMidTransceiver.set(U,A),{localId:U,rtpParameters:M,rtpSender:A.sender}}async stopSending(h){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");if(p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.closeMediaSection(p.mid))try{p.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(h)}async pauseSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(h);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(h){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",h);const p=this._mapMidTransceiver.get(h);if(this._remoteSdp.resumeSendingMediaSection(h),!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(h,p){this.assertNotClosed(),this.assertSendDirection(),p?b.debug("replaceTrack() [localId:%s, track.id:%s]",h,p.id):b.debug("replaceTrack() [localId:%s, no track]",h);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(p)}async setMaxSpatialLayer(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{j<=p?L.active=!0:L.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async setRtpEncodingParameters(h,p){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,p);const m=this._mapMidTransceiver.get(h);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((L,j)=>{x.encodings[j]={...L,...p}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(h,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const M={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async getSenderStats(h){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:h,maxPacketLifeTime:p,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const M={negotiated:!0,id:this._nextSendSctpStreamId,ordered:h,maxPacketLifeTime:p,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(x,M);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(K=>K.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const j={streamId:M.id,ordered:M.ordered,maxPacketLifeTime:M.maxPacketLifeTime,maxRetransmits:M.maxRetransmits};return{dataChannel:L,sctpStreamParameters:j}}async receive(h){this.assertNotClosed(),this.assertRecvDirection();const p=[],m=new Map;for(const L of h){const{trackId:j,kind:A,rtpParameters:N,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",j,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(j,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:j})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const L of h){const{trackId:j,onRtpReceiver:A}=L;if(A){const N=m.get(j),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const M=n.parse(k.sdp);for(const L of h){const{trackId:j,rtpParameters:A}=L,N=m.get(j),V=M.media.find(W=>String(W.mid)===N);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:M}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const L of h){const{trackId:j}=L,A=m.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),p.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return p}async stopReceiving(h){if(this.assertRecvDirection(),this._closed)return;for(const x of h){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of h)this._mapMidTransceiver.delete(x)}async pauseReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(h){this.assertNotClosed(),this.assertRecvDirection();for(const x of h){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(h){this.assertNotClosed(),this.assertRecvDirection();const p=this._mapMidTransceiver.get(h);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:h,label:p,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L}=h,j={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:M,maxRetransmits:L,protocol:m};b.debug("receiveDataChannel() [options:%o]",j);const A=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:h,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const m=l.extractDtlsParameters({sdpObject:p});m.role=h,this._remoteSdp.updateDtlsRole(h==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return mn.ReactNativeUnifiedPlan=E,mn}var gn={},$b;function lN(){if($b)return gn;$b=1;var e=gn&&gn.__createBinding||(Object.create?function(C,E,_,h){h===void 0&&(h=_);var p=Object.getOwnPropertyDescriptor(E,_);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,h,p)}:function(C,E,_,h){h===void 0&&(h=_),C[h]=E[_]}),t=gn&&gn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=gn&&gn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(gn,"__esModule",{value:!0}),gn.ReactNative=void 0;const n=r(Sr()),i=Rt(),a=ir(),c=r(Ht()),l=r(wr()),d=r(En()),f=r(Cd()),v=Mr(),y=Tn(),w=new i.Logger("ReactNative"),S="ReactNative",b={OS:1024,MIS:1024};let R=class mx extends v.HandlerInterface{static createFactory(){return()=>new mx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const h=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:h})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:M,proprietaryConstraints:L,extendedRtpCapabilities:j}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:_,iceCandidates:h,dtlsParameters:p,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",j),video:l.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",j),video:l.getSendingRemoteRtpParameters("video",j)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...M},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:h,codec:p}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),p&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const M=c.clone(this._sendingRtpParametersByKind[E.kind]);M.codecs=l.reduceCodecs(M.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),f.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:_.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),M.rtcp.cname=d.getCname({offerMediaObject:k}),M.encodings=f.getRtpEncodings({offerMediaObject:k,track:E}),_)for(let N=0;N<M.encodings.length;++N)_[N]&&Object.assign(M.encodings[N],_[N]);if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of M.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:M,answerRtpParameters:L,codecOptions:h});const j={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:M}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapSendLocalIdTrack.get(E);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h);try{await this._pc.setLocalDescription(h)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,_){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(E,_){throw new a.UnsupportedError("not implemented")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:h,label:p,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:h,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(p,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),j=n.parse(L.sdp),A=j.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const M={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:M}}async receive(E){this.assertRecvDirection();const _=[],h=new Map;for(const k of E){const{trackId:M,kind:L,rtpParameters:j}=k;w.debug("receive() [trackId:%s, kind:%s]",M,L);const A=L;let N=k.streamId??j.rtcp.cname;w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),N+=`-hack-${c.generateRandomNumber()}`,h.set(M,N),this._remoteSdp.receive({mid:A,kind:L,offerRtpParameters:j,streamId:N,trackId:M})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{kind:M,rtpParameters:L}=k,j=M,A=x.media.find(N=>String(N.mid)===j);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{kind:M,trackId:L,rtpParameters:j}=k,A=L,N=M,V=h.get(L),K=this._pc.getRemoteStreams().find(O=>O.id===V).getTrackById(A);if(!K)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:j}),_.push({localId:A,track:K})}return _}async stopReceiving(E){this.assertRecvDirection();for(const p of E){w.debug("stopReceiving() [localId:%s]",p);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:h}){this.assertRecvDirection();const{streamId:p,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,M={negotiated:!0,id:p,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:h};w.debug("receiveDataChannel() [options:%o]",M);const L=this._pc.createDataChannel(_,M);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const h=d.extractDtlsParameters({sdpObject:_});h.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((p,m)=>{this.safeEmit("@connect",{dtlsParameters:h},p,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return gn.ReactNative=R,gn}var Fb;function gx(){if(Fb)return Fr;Fb=1;var e=Fr&&Fr.__createBinding||(Object.create?function(L,j,A,N){N===void 0&&(N=A);var V=Object.getOwnPropertyDescriptor(j,A);(!V||("get"in V?!j.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return j[A]}}),Object.defineProperty(L,N,V)}:function(L,j,A,N){N===void 0&&(N=A),L[N]=j[A]}),t=Fr&&Fr.__setModuleDefault||(Object.create?function(L,j){Object.defineProperty(L,"default",{enumerable:!0,value:j})}:function(L,j){L.default=j}),r=Fr&&Fr.__importStar||function(L){if(L&&L.__esModule)return L;var j={};if(L!=null)for(var A in L)A!=="default"&&Object.prototype.hasOwnProperty.call(L,A)&&e(j,L,A);return t(j,L),j};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Device=void 0,Fr.detectDevice=k;const n=BO(),i=Rt(),a=Lo(),c=ir(),l=r(Ht()),d=r(wr()),f=rx(),v=QO(),y=ZO(),w=JO(),S=eN(),b=tN(),R=rN(),C=nN(),E=sN(),_=oN(),h=aN(),p=cN(),m=lN(),x=new i.Logger("Device");function k(L){var j,A,N,V;if(!L&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(x.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){x.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(x.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(x.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(L||typeof navigator=="object"&&typeof navigator.userAgent=="string"){L??(L=navigator.userAgent);const W=new n.UAParser(L);x.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",L,W.getResult());const K=W.getBrowser(),O=(j=K.name)==null?void 0:j.toLowerCase(),U=parseInt(K.major??"0"),z=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),q=W.getOS(),B=(N=q.name)==null?void 0:N.toLowerCase(),X=parseFloat(q.version??"0"),de=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),ee=B==="ios"||de==="ipad",ie=O&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(O),ue=O&&["firefox","mobile firefox","mobile focus"].includes(O),me=O&&["safari","mobile safari"].includes(O),he=O&&["edge"].includes(O);if((ie||he)&&!ee&&U>=111)return"Chrome111";if(ie&&!ee&&U>=74||he&&!ee&&U>=88)return"Chrome74";if(ie&&!ee&&U>=70)return"Chrome70";if(ie&&!ee&&U>=67)return"Chrome67";if(ie&&!ee&&U>=55)return"Chrome55";if(ue&&!ee&&U>=120)return"Firefox120";if(ue&&!ee&&U>=60)return"Firefox60";if(ue&&ee&&X>=14.3)return"Safari12";if(me&&U>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(me&&U>=11)return"Safari11";if(he&&!ee&&U>=11&&U<=18)return"Edge11";if(z==="webkit"&&ee&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(z==="blink"){const Ce=L.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Ce){const De=Number(Ce[1]);return De>=111?"Chrome111":De>=74?"Chrome74":De>=70?"Chrome70":De>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{x.warn("detectDevice() | browser not supported [name:%s, version:%s]",O,U);return}}else{x.warn("detectDevice() | unknown device");return}}let M=class{constructor({handlerName:j,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,x.debug("constructor()"),j&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(j)x.debug("constructor() | handler given: %s",j);else if(j=k(),j)x.debug("constructor() | detected handler: %s",j);else throw new c.UnsupportedError("device not supported");switch(j){case"Chrome111":{this._handlerFactory=v.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=y.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=w.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=b.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=R.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=C.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=E.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=_.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=h.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=p.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=m.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${j}"`)}}const N=this._handlerFactory();this._handlerName=N.name,N.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:j}){x.debug("load() [routerRtpCapabilities:%o]",j);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const N=l.clone(j);d.validateRtpCapabilities(N),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();x.debug("load() | got native RTP capabilities:%o",V);const W=l.clone(V);d.validateRtpCapabilities(W),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(W,N),x.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),x.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),x.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),x.debug("load() succeeded"),this._loaded=!0,A.close()}catch(N){throw A&&A.close(),N}}canProduce(j){if(this._loaded){if(j!=="audio"&&j!=="video")throw new TypeError(`invalid kind "${j}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[j]}createSendTransport({id:j,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createSendTransport()"),this.createTransport({direction:"send",id:j,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createRecvTransport({id:j,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:j,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:K,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createTransport({direction:j,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:K,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(K&&typeof K!="object")throw new TypeError("wrong sctpParameters");if(q&&typeof q!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const B=new f.Transport({direction:j,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:K,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",B),B}};return Fr.Device=M,Fr}var mo={},ah={},zb;function uN(){return zb||(zb=1,Object.defineProperty(ah,"__esModule",{value:!0})),ah}var ch={},Bb;function dN(){return Bb||(Bb=1,Object.defineProperty(ch,"__esModule",{value:!0})),ch}var Ub;function fN(){return Ub||(Ub=1,function(e){var t=mo&&mo.__createBinding||(Object.create?function(n,i,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(i,a);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,c,l)}:function(n,i,a,c){c===void 0&&(c=a),n[c]=i[a]}),r=mo&&mo.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(gx(),e),r(rx(),e),r(Z1(),e),r(J1(),e),r(ex(),e),r(tx(),e),r(uN(),e),r(dN(),e),r(Mr(),e),r(ir(),e)}(mo)),mo}var Vb;function pN(){return Vb||(Vb=1,function(e){var t=tn&&tn.__createBinding||(Object.create?function(f,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(f,w,S)}:function(f,v,y,w){w===void 0&&(w=y),f[w]=v[y]}),r=tn&&tn.__setModuleDefault||(Object.create?function(f,v){Object.defineProperty(f,"default",{enumerable:!0,value:v})}:function(f,v){f.default=v}),n=tn&&tn.__importStar||function(f){if(f&&f.__esModule)return f;var v={};if(f!=null)for(var y in f)y!=="default"&&Object.prototype.hasOwnProperty.call(f,y)&&t(v,f,y);return r(v,f),v},i=tn&&tn.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=i(_d());e.debug=a.default;const c=gx();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=n(fN());e.types=l,e.version="3.7.17";var d=Qs();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})}(tn)),tn}var hN=pN();const mN=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],gN=async(e,t,r,n)=>new Promise((i,a)=>{Me.emit("joinRoom",{roomName:e,userName:t,serverId:r,accessToken:n},c=>{c.error?a(c.error):i(c.rtpCapabilities)})}),vN=async e=>{const t=new hN.Device;return await t.load({routerRtpCapabilities:e}),t},yN=async(e,t,r,n)=>new Promise((i,a)=>{Me.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const l=e.createSendTransport(c);l.on("connect",({dtlsParameters:f},v)=>{Me.emit("transport-connect",{dtlsParameters:f}),v()}),l.on("produce",(f,v)=>{const y=localStorage.getItem("accessToken");Me.emit("transport-produce",{kind:f.kind,rtpParameters:f.rtpParameters,accessToken:y},({id:w})=>{v({id:w}),wN(Me,e,n)})});const d=await l.produce({track:t});r(d),i(l),d.on("trackended",()=>{r(null)})})}),wN=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(i=>vx(i,t,r))})},vx=async(e,t,r)=>{Me.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const i=t.createRecvTransport(n);i.on("connect",({dtlsParameters:a},c)=>{Me.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),SN(i,e,n.id,t,r)})},SN=async(e,t,r,n,i)=>{Me.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const c=await e.consume(a);i(c),Me.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},Et=hE,ke=vE,bN=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:i}=jo();return async(c,l,d,f)=>{try{if(!Me.connected)throw new Error("Socket is not connected");const v=await mN(),y=await gN(c,l,d,f),w=await vN(y);r(w);const S=await yN(w,v,t,i);n(S),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}};var As=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(As||{});function Ft(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _N=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hb=_N,lh=()=>Math.random().toString(36).substring(7).split("").join("."),xN={INIT:`@@redux/INIT${lh()}`,REPLACE:`@@redux/REPLACE${lh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lh()}`},bu=xN;function Dg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yx(e,t,r){if(typeof e!="function")throw new Error(Ft(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ft(1));return r(yx)(e,t)}let n=e,i=t,a=new Map,c=a,l=0,d=!1;function f(){c===a&&(c=new Map,a.forEach((C,E)=>{c.set(E,C)}))}function v(){if(d)throw new Error(Ft(3));return i}function y(C){if(typeof C!="function")throw new Error(Ft(4));if(d)throw new Error(Ft(5));let E=!0;f();const _=l++;return c.set(_,C),function(){if(E){if(d)throw new Error(Ft(6));E=!1,f(),c.delete(_),a=null}}}function w(C){if(!Dg(C))throw new Error(Ft(7));if(typeof C.type>"u")throw new Error(Ft(8));if(typeof C.type!="string")throw new Error(Ft(17));if(d)throw new Error(Ft(9));try{d=!0,i=n(i,C)}finally{d=!1}return(a=c).forEach(_=>{_()}),C}function S(C){if(typeof C!="function")throw new Error(Ft(10));n=C,w({type:bu.REPLACE})}function b(){const C=y;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Ft(11));function _(){const p=E;p.next&&p.next(v())}return _(),{unsubscribe:C(_)}},[Hb](){return this}}}return w({type:bu.INIT}),{dispatch:w,subscribe:y,getState:v,replaceReducer:S,[Hb]:b}}function CN(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:bu.INIT})>"u")throw new Error(Ft(12));if(typeof r(void 0,{type:bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ft(13))})}function RN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{CN(r)}catch(a){i=a}return function(c={},l){if(i)throw i;let d=!1;const f={};for(let v=0;v<n.length;v++){const y=n[v],w=r[y],S=c[y],b=w(S,l);if(typeof b>"u")throw l&&l.type,new Error(Ft(14));f[y]=b,d=d||b!==S}return d=d||n.length!==Object.keys(c).length,d?f:c}}function _u(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function EN(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ft(15))};const c={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},l=e.map(d=>d(c));return a=_u(...l)(i.dispatch),{...i,dispatch:a}}}function TN(e){return Dg(e)&&"type"in e&&typeof e.type=="string"}var wx=Symbol.for("immer-nothing"),Wb=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ei=Object.getPrototypeOf;function Eo(e){return!!e&&!!e[kr]}function ls(e){var t;return e?Sx(e)||Array.isArray(e)||!!e[Wb]||!!((t=e.constructor)!=null&&t[Wb])||Ed(e)||Td(e):!1}var PN=Object.prototype.constructor.toString();function Sx(e){if(!e||typeof e!="object")return!1;const t=Ei(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===PN}function xu(e,t){Rd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Rd(e){const t=e[kr];return t?t.type_:Array.isArray(e)?1:Ed(e)?2:Td(e)?3:0}function qh(e,t){return Rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bx(e,t,r){const n=Rd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ed(e){return e instanceof Map}function Td(e){return e instanceof Set}function yo(e){return e.copy_||e.base_}function Gh(e,t){if(Ed(e))return new Map(e);if(Td(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Sx(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[kr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],l=n[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(Ei(e),n)}else{const n=Ei(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Ig(e,t=!1){return Pd(e)||Eo(e)||!ls(e)||(Rd(e)>1&&(e.set=e.add=e.clear=e.delete=DN),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Ig(n,!0))),e}function DN(){wn(2)}function Pd(e){return Object.isFrozen(e)}var IN={};function To(e){const t=IN[e];return t||wn(0,e),t}var sc;function _x(){return sc}function MN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qb(e,t){t&&(To("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kh(e){Yh(e),e.drafts_.forEach(jN),e.drafts_=null}function Yh(e){e===sc&&(sc=e.parent_)}function Gb(e){return sc=MN(sc,e)}function jN(e){const t=e[kr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[kr].modified_&&(Kh(t),wn(4)),ls(e)&&(e=Cu(t,e),t.parent_||Ru(t,e)),t.patches_&&To("Patches").generateReplacementPatches_(r[kr].base_,e,t.patches_,t.inversePatches_)):e=Cu(t,r,[]),Kh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wx?e:void 0}function Cu(e,t,r){if(Pd(t))return t;const n=t[kr];if(!n)return xu(t,(i,a)=>Yb(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ru(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,c=!1;n.type_===3&&(a=new Set(i),i.clear(),c=!0),xu(a,(l,d)=>Yb(e,n,i,l,d,r,c)),Ru(e,i,!1),r&&e.patches_&&To("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Yb(e,t,r,n,i,a,c){if(Eo(i)){const l=a&&t&&t.type_!==3&&!qh(t.assigned_,n)?a.concat(n):void 0,d=Cu(e,i,l);if(bx(r,n,d),Eo(d))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ls(i)&&!Pd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Cu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ru(e,i)}}function Ru(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ig(t,r)}function LN(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_x(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Mg;r&&(i=[n],a=oc);const{revoke:c,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=c,l}var Mg={get(e,t){if(t===kr)return e;const r=yo(e);if(!qh(r,t))return ON(e,r,t);const n=r[t];return e.finalized_||!ls(n)?n:n===uh(e.base_,t)?(dh(e),e.copy_[t]=Qh(n,e)):n},has(e,t){return t in yo(e)},ownKeys(e){return Reflect.ownKeys(yo(e))},set(e,t,r){const n=xx(yo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=uh(yo(e),t),a=i==null?void 0:i[kr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kN(r,i)&&(r!==void 0||qh(e.base_,t)))return!0;dh(e),Xh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dh(e),Xh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return Ei(e.base_)},setPrototypeOf(){wn(12)}},oc={};xu(Mg,(e,t)=>{oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});oc.deleteProperty=function(e,t){return oc.set.call(this,e,t,void 0)};oc.set=function(e,t,r){return Mg.set.call(this,e[0],t,r,e[0])};function uh(e,t){const r=e[kr];return(r?yo(r):e)[t]}function ON(e,t,r){var i;const n=xx(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function xx(e,t){if(!(t in e))return;let r=Ei(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ei(r)}}function Xh(e){e.modified_||(e.modified_=!0,e.parent_&&Xh(e.parent_))}function dh(e){e.copy_||(e.copy_=Gh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NN=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(d=a,...f){return c.produce(d,v=>r.call(this,v,...f))}}typeof r!="function"&&wn(6),n!==void 0&&typeof n!="function"&&wn(7);let i;if(ls(t)){const a=Gb(this),c=Qh(t,void 0);let l=!0;try{i=r(c),l=!1}finally{l?Kh(a):Yh(a)}return qb(a,n),Kb(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wx&&(i=void 0),this.autoFreeze_&&Ig(i,!0),n){const a=[],c=[];To("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,d=>t(d,...l));let n,i;return[this.produce(t,r,(c,l)=>{n=c,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ls(e)||wn(8),Eo(e)&&(e=AN(e));const t=Gb(this),r=Qh(e,void 0);return r[kr].isManual_=!0,Yh(t),r}finishDraft(e,t){const r=e&&e[kr];(!r||!r.isManual_)&&wn(9);const{scope_:n}=r;return qb(n,t),Kb(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=To("Patches").applyPatches_;return Eo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Qh(e,t){const r=Ed(e)?To("MapSet").proxyMap_(e,t):Td(e)?To("MapSet").proxySet_(e,t):LN(e,t);return(t?t.scope_:_x()).drafts_.push(r),r}function AN(e){return Eo(e)||wn(10,e),Cx(e)}function Cx(e){if(!ls(e)||Pd(e))return e;const t=e[kr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Gh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Gh(e,!0);return xu(r,(n,i)=>{bx(r,n,Cx(i))}),t&&(t.finalized_=!1),r}var Dr=new NN,Rx=Dr.produce;Dr.produceWithPatches.bind(Dr);Dr.setAutoFreeze.bind(Dr);Dr.setUseStrictShallowCopy.bind(Dr);Dr.applyPatches.bind(Dr);Dr.createDraft.bind(Dr);Dr.finishDraft.bind(Dr);function Ex(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var $N=Ex(),FN=Ex,zN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_u:_u.apply(null,arguments)},BN=e=>e&&typeof e.match=="function";function Ka(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(rs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TN(n)&&n.type===e,r}var Tx=class Wa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wa.prototype)}static get[Symbol.species](){return Wa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wa(...t[0].concat(this)):new Wa(...t.concat(this))}};function Xb(e){return ls(e)?Rx(e,()=>{}):e}function Qb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function UN(e){return typeof e=="boolean"}var VN=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new Tx;return r&&(UN(r)?c.push($N):c.push(FN(r.extraArgument))),c},HN="RTK_autoBatch",Zb=e=>t=>{setTimeout(t,e)},WN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zb(10):e.type==="callback"?e.queueNotification:Zb(e.timeout),f=()=>{c=!1,a&&(a=!1,l.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const y=()=>i&&v(),w=n.subscribe(y);return l.add(v),()=>{w(),l.delete(v)}},dispatch(v){var y;try{return i=!((y=v==null?void 0:v.meta)!=null&&y[HN]),a=!i,a&&(c||(c=!0,d(f))),n.dispatch(v)}finally{i=!0}}})},qN=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Tx(e);return n&&i.push(WN(typeof n=="object"?n:void 0)),i};function GN(e){const t=VN(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Dg(r))l=RN(r);else throw new Error(rs(1));let d;typeof n=="function"?d=n(t):d=t();let f=_u;i&&(f=zN({trace:!1,...typeof i=="object"&&i}));const v=EN(...d),y=qN(v);let w=typeof c=="function"?c(y):y();const S=f(...w);return yx(l,a,S)}function Px(e){const t={},r=[];let n;const i={addCase(a,c){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(rs(28));if(l in t)throw new Error(rs(29));return t[l]=c,i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function KN(e){return typeof e=="function"}function YN(e,t){let[r,n,i]=Px(t),a;if(KN(e))a=()=>Xb(e());else{const l=Xb(e);a=()=>l}function c(l=a(),d){let f=[r[d.type],...n.filter(({matcher:v})=>v(d)).map(({reducer:v})=>v)];return f.filter(v=>!!v).length===0&&(f=[i]),f.reduce((v,y)=>{if(y)if(Eo(v)){const S=y(v,d);return S===void 0?v:S}else{if(ls(v))return Rx(v,w=>y(w,d));{const w=y(v,d);if(w===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return v},l)}return c.getInitialState=a,c}var XN=(e,t)=>BN(e)?e.match(t):e(t);function QN(...e){return t=>e.some(r=>XN(r,t))}var ZN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JN=(e=21)=>{let t="",r=e;for(;r--;)t+=ZN[Math.random()*64|0];return t},e3=["name","message","stack","code"],fh=class{constructor(e,t){wp(this,"_type");this.payload=e,this.meta=t}},Jb=class{constructor(e,t){wp(this,"_type");this.payload=e,this.meta=t}},t3=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of e3)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},e_="External signal was aborted",ot=(()=>{function e(t,r,n){const i=Ka(t+"/fulfilled",(d,f,v,y)=>({payload:d,meta:{...y||{},arg:v,requestId:f,requestStatus:"fulfilled"}})),a=Ka(t+"/pending",(d,f,v)=>({payload:void 0,meta:{...v||{},arg:f,requestId:d,requestStatus:"pending"}})),c=Ka(t+"/rejected",(d,f,v,y,w)=>({payload:y,error:(n&&n.serializeError||t3)(d||"Rejected"),meta:{...w||{},arg:v,requestId:f,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function l(d,{signal:f}={}){return(v,y,w)=>{const S=n!=null&&n.idGenerator?n.idGenerator(d):JN(),b=new AbortController;let R,C;function E(h){C=h,b.abort()}f&&(f.aborted?E(e_):f.addEventListener("abort",()=>E(e_),{once:!0}));const _=async function(){var m,x;let h;try{let k=(m=n==null?void 0:n.condition)==null?void 0:m.call(n,d,{getState:y,extra:w});if(n3(k)&&(k=await k),k===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((L,j)=>{R=()=>{j({name:"AbortError",message:C||"Aborted"})},b.signal.addEventListener("abort",R)});v(a(S,d,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:S,arg:d},{getState:y,extra:w}))),h=await Promise.race([M,Promise.resolve(r(d,{dispatch:v,getState:y,extra:w,requestId:S,signal:b.signal,abort:E,rejectWithValue:(L,j)=>new fh(L,j),fulfillWithValue:(L,j)=>new Jb(L,j)})).then(L=>{if(L instanceof fh)throw L;return L instanceof Jb?i(L.payload,S,d,L.meta):i(L,S,d)})])}catch(k){h=k instanceof fh?c(null,S,d,k.payload,k.meta):c(k,S,d)}finally{R&&b.signal.removeEventListener("abort",R)}return n&&!n.dispatchConditionRejection&&c.match(h)&&h.meta.condition||v(h),h}();return Object.assign(_,{abort:E,requestId:S,arg:d,unwrap(){return _.then(r3)}})}}return Object.assign(l,{pending:a,rejected:c,fulfilled:i,settled:QN(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function r3(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function n3(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var s3=Symbol.for("rtk-slice-createasyncthunk");function o3(e,t){return`${e}/${t}`}function i3({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[s3];return function(i){const{name:a,reducerPath:c=a}=i;if(!a)throw new Error(rs(11));const l=(typeof i.reducers=="function"?i.reducers(c3()):i.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(h,p){const m=typeof h=="string"?h:h.type;if(!m)throw new Error(rs(12));if(m in f.sliceCaseReducersByType)throw new Error(rs(13));return f.sliceCaseReducersByType[m]=p,v},addMatcher(h,p){return f.sliceMatchers.push({matcher:h,reducer:p}),v},exposeAction(h,p){return f.actionCreators[h]=p,v},exposeCaseReducer(h,p){return f.sliceCaseReducersByName[h]=p,v}};d.forEach(h=>{const p=l[h],m={reducerName:h,type:o3(a,h),createNotation:typeof i.reducers=="function"};u3(p)?f3(m,p,v,t):l3(m,p,v)});function y(){const[h={},p=[],m=void 0]=typeof i.extraReducers=="function"?Px(i.extraReducers):[i.extraReducers],x={...h,...f.sliceCaseReducersByType};return YN(i.initialState,k=>{for(let M in x)k.addCase(M,x[M]);for(let M of f.sliceMatchers)k.addMatcher(M.matcher,M.reducer);for(let M of p)k.addMatcher(M.matcher,M.reducer);m&&k.addDefaultCase(m)})}const w=h=>h,S=new Map;let b;function R(h,p){return b||(b=y()),b(h,p)}function C(){return b||(b=y()),b.getInitialState()}function E(h,p=!1){function m(k){let M=k[h];return typeof M>"u"&&p&&(M=C()),M}function x(k=w){const M=Qb(S,p,()=>new WeakMap);return Qb(M,k,()=>{const L={};for(const[j,A]of Object.entries(i.selectors??{}))L[j]=a3(A,k,C,p);return L})}return{reducerPath:h,getSelectors:x,get selectors(){return x(m)},selectSlice:m}}const _={name:a,reducer:R,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...E(c),injectInto(h,{reducerPath:p,...m}={}){const x=p??c;return h.inject({reducerPath:x,reducer:R},m),{..._,...E(x,!0)}}};return _}}function a3(e,t,r,n){function i(a,...c){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...c)}return i.unwrapped=e,i}var jg=i3();function c3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function l3({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!d3(n))throw new Error(rs(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Ka(e,c):Ka(e))}function u3(e){return e._reducerDefinitionType==="asyncThunk"}function d3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function f3({type:e,reducerName:t},r,n,i){if(!i)throw new Error(rs(18));const{payloadCreator:a,fulfilled:c,pending:l,rejected:d,settled:f,options:v}=r,y=i(e,a,v);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),l&&n.addCase(y.pending,l),d&&n.addCase(y.rejected,d),f&&n.addMatcher(y.settled,f),n.exposeCaseReducer(t,{fulfilled:c||$l,pending:l||$l,rejected:d||$l,settled:f||$l})}function $l(){}function rs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const kx=async(e,t,r,n=0)=>{try{const i=await fetch(`${at}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await i.json();if(!i.ok)throw new Error(a.message||`Error: ${i.status}`);return a.messages}catch(i){throw console.error("Error get messages:",i),i}},p3=async(e,t,r,n)=>{try{const i=await fetch(`${at}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},h3=async(e,t)=>{try{const r=await fetch(`${at}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},m3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/channel/name/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change channel name:",n),n}},g3=async e=>{try{const t=await fetch(`${at}/api/channel/voice/mute/self`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error self mute:",t),t}},v3=async(e,t,r,n)=>{try{const i=await fetch(`${at}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create message:",i),i}},y3=async(e,t)=>{try{const r=await fetch(`${at}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},w3=async(e,t,r)=>{try{const n=await fetch(`${at}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},S3=async e=>{try{const t=await fetch(`${at}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},b3=async(e,t)=>{try{const r=await fetch(`${at}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},_3=async(e,t)=>{try{const r=await fetch(`${at}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},x3=async(e,t)=>{try{const r=await fetch(`${at}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},C3=async(e,t,r,n)=>{try{const i=await fetch(`${at}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create server:",i),i}},R3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},E3=async(e,t)=>{try{const r=await fetch(`${at}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},T3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},P3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},k3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete user from server:",n),n}},D3=async(e,t,r)=>{try{const n=await fetch(`${at}/api/server/unsubscribe/creator`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,newCreatorId:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unsubscribe creator from server:",n),n}},ns=ot("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await S3(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),ss=ot("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await b3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Xl=ot("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await _3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ph=ot("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await x3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ql=ot("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:i})=>{try{await C3(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Zl=ot("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await R3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Ya=ot("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await E3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Jl=ot("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await kx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),hh=ot("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await kx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),mh=ot("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:i})=>{try{await v3(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),gh=ot("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await y3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),vh=ot("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await w3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),eu=ot("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:i})=>{try{await p3(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Xa=ot("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await h3(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),tu=ot("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await T3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),ru=ot("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await P3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),nu=ot("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r},{rejectWithValue:n})=>{try{await k3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),su=ot("testServerSlice/changeChannelName",async({accessToken:e,id:t,name:r},{rejectWithValue:n})=>{try{await m3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),I3=ot("testServerSlice/creatorUnsubscribeFromServer",async({accessToken:e,serverId:t,newCreatorId:r},{rejectWithValue:n})=>{try{await D3(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Qa=ot("testServerSlice/selfMute",async({accessToken:e},{rejectWithValue:t})=>{try{await g3(e)}catch(r){return t(r instanceof Error?r.message:" ")}});var bi=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(bi||{});const M3={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:bi.IDLE,isLoading:!1,error:""},Dx=jg({name:"testServer",initialState:M3,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1}},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)},editChannelName:(e,t)=>{const{channelId:r,newName:n}=t.payload,i=e.serverData.channels.textChannels.find(c=>c.channelId===r);if(i){i.channelName=n;return}const a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);if(a){a.channelName=n;return}},addUserOnVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,i=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);i&&(i.users.some(a=>a.userId===n)||i.users.push({userId:n,isMuted:!1}))},removeUserFromVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,i=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);i&&(i.users=i.users.filter(a=>a.userId!==n))},toggleUserMuteStatus:(e,t)=>{const{channelId:r,userId:n,isMuted:i}=t.payload,a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);a&&(a.users=a.users.map(c=>c.userId===n?{...c,isMuted:i}:c))}},extraReducers:e=>{e.addCase(ns.pending,t=>{t.isLoading=!0,t.error=""}).addCase(ns.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(ns.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ss.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},t.error=""}).addCase(ss.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let i=t.currentChannelId;n.find(c=>c.channelId===i)||(i=n.length>0?n[0].channelId:null,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(ss.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Xl.pending,t=>{t.error=""}).addCase(Xl.fulfilled,t=>{t.error=""}).addCase(Xl.rejected,(t,r)=>{t.error=r.payload}).addCase(ph.pending,t=>{t.error=""}).addCase(ph.fulfilled,t=>{t.error=""}).addCase(ph.rejected,(t,r)=>{t.error=r.payload}).addCase(Ql.pending,t=>{t.error=""}).addCase(Ql.fulfilled,t=>{t.error=""}).addCase(Ql.rejected,(t,r)=>{t.error=r.payload}).addCase(Zl.pending,t=>{t.error=""}).addCase(Zl.fulfilled,t=>{t.error=""}).addCase(Zl.rejected,(t,r)=>{t.error=r.payload}).addCase(Jl.pending,t=>{t.messagesStatus=bi.PENDING,t.isLoading=!0,t.error=""}).addCase(Jl.fulfilled,(t,r)=>{t.messages=r.payload,t.hasNewMessage=!1,t.messagesStatus=bi.FULFILLED,t.isLoading=!1,t.error=""}).addCase(Jl.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=bi.REJECTED,t.error=r.payload}).addCase(hh.pending,t=>{t.isLoading=!0,t.error=""}).addCase(hh.fulfilled,(t,r)=>{t.messages=[...r.payload,...t.messages],t.isLoading=!1,t.error=""}).addCase(hh.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(mh.pending,t=>{t.error=""}).addCase(mh.fulfilled,t=>{t.error=""}).addCase(mh.rejected,(t,r)=>{t.error=r.payload}).addCase(gh.pending,t=>{t.error=""}).addCase(gh.fulfilled,t=>{t.error=""}).addCase(gh.rejected,(t,r)=>{t.error=r.payload}).addCase(vh.pending,t=>{t.error=""}).addCase(vh.fulfilled,t=>{t.error=""}).addCase(vh.rejected,(t,r)=>{t.error=r.payload}).addCase(eu.pending,t=>{t.error=""}).addCase(eu.fulfilled,t=>{t.error=""}).addCase(eu.rejected,(t,r)=>{t.error=r.payload}).addCase(Xa.pending,t=>{t.error=""}).addCase(Xa.fulfilled,t=>{t.error=""}).addCase(Xa.rejected,(t,r)=>{t.error=r.payload}).addCase(Ya.pending,t=>{t.error=""}).addCase(Ya.fulfilled,t=>{t.error=""}).addCase(Ya.rejected,(t,r)=>{t.error=r.payload}).addCase(tu.pending,t=>{t.error=""}).addCase(tu.fulfilled,t=>{t.error=""}).addCase(tu.rejected,(t,r)=>{t.error=r.payload}).addCase(ru.pending,t=>{t.error=""}).addCase(ru.fulfilled,t=>{t.error=""}).addCase(ru.rejected,(t,r)=>{t.error=r.payload}).addCase(nu.pending,t=>{t.error=""}).addCase(nu.fulfilled,t=>{t.error=""}).addCase(nu.rejected,(t,r)=>{t.error=r.payload}).addCase(su.pending,t=>{t.error=""}).addCase(su.fulfilled,t=>{t.error=""}).addCase(su.rejected,(t,r)=>{t.error=r.payload}).addCase(Qa.pending,t=>{t.error=""}).addCase(Qa.fulfilled,t=>{t.error=""}).addCase(Qa.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:j3,setCurrentChannelId:L3,setCurrentVoiceChannelId:_i,addMessage:O3,deleteMessageWs:N3,editMessageWs:A3,addUserWs:$3,deleteUserWs:F3,clearServerData:Lg,clearHasNewMessage:t_,setNewServerName:z3,setNewUserName:B3,removeUser:U3,removeServer:V3,editChannelName:H3,addUserOnVoiceChannel:W3,removeUserFromVoiceChannel:q3,toggleUserMuteStatus:G3}=Dx.actions,K3=Dx.reducer,mc=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:i,setIsStreaming:a,setAudioProducer:c}=jo(),l=Et();return(f,v)=>{i(!1),l(Qa({accessToken:f})),Me.emit("leaveRoom",{accessToken:f,voiceChannelId:v}),e(!1),t(null),n([]),a(!1),c(null),r(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ix=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:c,...l},d)=>D.createElement("svg",{ref:d,...X3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ix("lucide",i),...l},[...c.map(([f,v])=>D.createElement(f,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(Q3,{ref:a,iconNode:t,className:Ix(`lucide-${Y3(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],J3=je("ArrowDown",Z3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],t4=je("ArrowLeftFromLine",e4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mx=je("Check",r4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kd=je("ChevronDown",n4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o4=je("ChevronLeft",s4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Og=je("ChevronRight",i4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c4=je("CircleCheck",a4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],u4=je("CirclePlus",l4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f4=je("CircleX",d4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ng=je("Copy",p4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],Zh=je("DoorOpen",h4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],g4=je("Hash",m4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],y4=je("House",v4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],S4=je("LogOut",w4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],_4=je("Menu",b4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],C4=je("MicOff",x4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],E4=je("Mic",R4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],P4=je("MonitorUp",T4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],D4=je("MonitorX",k4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],M4=je("Paperclip",I4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],L4=je("Pen",j4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],N4=je("Pencil",O4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],$4=je("PhoneMissed",A4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Eu=je("Plus",F4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],B4=je("Search",z4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],V4=je("Send",U4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dd=je("Settings",H4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jx=je("Trash2",W4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],G4=je("Unplug",q4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],Y4=je("UserPen",K4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q4=je("UserMinus",X4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J4=je("User",Z4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],tA=je("Users",eA);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Jh=je("Video",rA);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Lx=je("Volume2",nA);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ox=je("X",sA);function zi(){return{showSuccess:r=>{Hs.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:T.jsx(c4,{})})},showError:r=>{Hs.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:T.jsx(f4,{})})}}}const oA=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=jo(),i=D.useRef(null),a=async()=>{const d=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],f=await r.produce({track:d});t(f),i.current=f.id,f.on("trackended",c),n(!0)},c=async()=>{const l=localStorage.getItem("accessToken");e?(e.close(),Me.emit("stopProducer",{producerId:e.id,accessToken:l})):Me.emit("stopProducer",{producerId:i.current,accessToken:l}),i.current=null,t(null),n(!1)};return{startScreenSharing:a,stopScreenSharing:c}},iA=e=>{const[t,r]=D.useState(!1),[n,i]=D.useState(!1),[a,c]=D.useState(!1),[l,d]=D.useState([]),[f,v]=D.useState([]),[y,w]=D.useState(null),[S,b]=D.useState(null),[R,C]=D.useState(null),[E,_]=D.useState(null),[h,p]=D.useState(null),m=Et(),{currentVoiceChannelId:x}=ke(j=>j.testServerStore),{accessToken:k}=ke(j=>j.userStore),M=j=>{d(A=>[...A,j])},L=()=>{S&&(n?S.resume():S.pause(),m(Qa({accessToken:k})),i(!n))};return D.useEffect(()=>{if(!Me)return;Me.on("producerClosed",({producerId:A})=>{d(N=>N.filter(V=>V.producerId!==A))}),Me.on("producer-closed",({remoteProducerId:A})=>{d(N=>N.filter(V=>V.producerId!==A))}),Me.on("new-producer",({producerId:A})=>{y&&vx(A,y,M)}),Me.on("updateUsersList",({rooms:A})=>{v(A)});const j=()=>{Me.emit("leaveRoom",{accessToken:k,voiceChannelId:x})};return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j),Me.off("producerClosed"),Me.off("producer-closed"),Me.off("new-producer"),Me.off("updateUsersList")}},[y]),T.jsx($1.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:i,setIsStreaming:c,audioProducer:S,setAudioProducer:b,videoProducer:R,setVideoProducer:C,device:y,setDevice:w,producerTransport:E,setProducerTransport:_,consumers:l,users:f,addConsumer:M,setConsumers:d,toggleMute:L,selectedUserId:h,setSelectedUserId:p},children:e.children})},aA=e=>{const{consumers:t}=jo(),r=D.useRef(new Map),[n,i]=D.useState({});D.useEffect(()=>{t.forEach(({producerId:l,track:d,kind:f})=>{if(f==="audio"&&!r.current.has(l)){const v=document.createElement("audio");v.srcObject=new MediaStream([d]),v.autoplay=!0,v.volume=n[l]??1,r.current.set(l,v),document.body.appendChild(v)}});const c=t.map(l=>l.producerId);return r.current.forEach((l,d)=>{c.includes(d)||(l.pause(),l.remove(),r.current.delete(d))}),()=>{r.current.forEach(l=>{l.pause(),l.remove()}),r.current.clear()}},[t,n]);const a=(c,l)=>{i(d=>({...d,[c]:l/100}))};return T.jsx(A1.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},cA=()=>{const e=D.useContext(A1);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function lA(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const uA=typeof window<"u"?D.useLayoutEffect:D.useEffect;function $t(e,t){uA(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function dA(e,t){e&&lA(e),$t(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),$t(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),$t(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),$t(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),$t(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),$t(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),$t(`mantine-form:${e}:clear-errors`,t.clearErrors),$t(`mantine-form:${e}:reset`,t.reset),$t(`mantine-form:${e}:validate`,t.validate),$t(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),$t(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),$t(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),$t(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),$t(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),$t(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),$t(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),$t(`mantine-form:${e}:reset-touched`,t.resetTouched)}function fA(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function em(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function pA(e){const[t,r]=D.useState(em(e)),n=D.useRef(t),i=D.useCallback(d=>{r(f=>{const v=em(typeof d=="function"?d(f):d);return n.current=v,v})},[]),a=D.useCallback(()=>i({}),[]),c=D.useCallback(d=>{n.current[d]!==void 0&&i(f=>{const v={...f};return delete v[d],v})},[t]),l=D.useCallback((d,f)=>{f==null||f===!1?c(d):n.current[d]!==f&&i(v=>({...v,[d]:f}))},[t]);return{errorsState:t,setErrors:i,clearErrors:a,setFieldError:l,clearFieldError:c}}function tm(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function r_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function n_(e,t,r,n){if(t===void 0)return r;const i=`${String(e)}`;let a=r;n===-1&&(a=tm(`${i}.${t}`,a));const c={...a},l=new Set;return Object.entries(a).filter(([d])=>{if(!d.startsWith(`${i}.`))return!1;const f=r_(d,i);return Number.isNaN(f)?!1:f>=t}).forEach(([d,f])=>{const v=r_(d,i),y=d.replace(`${i}.${v}`,`${i}.${v+n}`);c[y]=f,l.add(y),l.has(d)||delete c[d]}),c}function hA(e,{from:t,to:r},n){const i=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(l=>{let d,f;if(l.startsWith(i)&&(d=l,f=l.replace(i,a)),l.startsWith(a)&&(d=l.replace(a,i),f=l),d&&f){const v=c[d],y=c[f];return y===void 0?delete c[d]:c[d]=y,v===void 0?delete c[f]:c[f]=v,!1}return!0}),c}function s_(e,t,r){typeof r.value=="object"&&(r.value=gi(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function gi(e){if(typeof e!="object")return e;var t=0,r,n,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(c){i.add(gi(c))})):a==="[object Map]"?(i=new Map,e.forEach(function(c,l){i.set(gi(l),gi(c))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(gi(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)s_(i,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(i,r=n[t])&&i[r]===e[r]||s_(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}function Nx(e){return typeof e!="string"?[]:e.split(".")}function zt(e,t){const r=Nx(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let i=1;i<r.length&&n!=null;i+=1)n=n[r[i]];return n}function gc(e,t,r){const n=Nx(e);if(n.length===0)return r;const i=gi(r);if(n.length===1)return i[n[0]]=t,i;let a=i[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return i;a=a[n[c]]}return a[n[n.length-1]]=t,i}function mA(e,{from:t,to:r},n){const i=zt(e,n);if(!Array.isArray(i))return n;const a=[...i],c=i[t];return a.splice(t,1),a.splice(r,0,c),gc(e,a,n)}function gA(e,t,r,n){const i=zt(e,n);if(!Array.isArray(i))return n;const a=[...i];return a.splice(typeof r=="number"?r:a.length,0,t),gc(e,a,n)}function vA(e,t,r){const n=zt(e,r);return Array.isArray(n)?gc(e,n.filter((i,a)=>a!==t),r):r}function yA(e,t,r,n){const i=zt(e,n);if(!Array.isArray(i)||i.length<=r)return n;const a=[...i];return a[r]=t,gc(e,a,n)}function wA({$values:e,$errors:t,$status:r}){const n=D.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(f=>hA(l,d,f)),e.setValues({values:mA(l,d,e.refValues.current),updateState:!0})},[]),i=D.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(f=>n_(l,d,f,-1)),e.setValues({values:vA(l,d,e.refValues.current),updateState:!0})},[]),a=D.useCallback((l,d,f)=>{r.clearFieldDirty(l),t.setErrors(v=>n_(l,f,v,1)),e.setValues({values:gA(l,d,f,e.refValues.current),updateState:!0})},[]),c=D.useCallback((l,d,f)=>{r.clearFieldDirty(l),e.setValues({values:yA(l,f,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:i,insertListItem:a,replaceListItem:c}}var yh,o_;function SA(){return o_||(o_=1,yh=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),yh}var bA=SA();const Fl=sm(bA);function Fa(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(i=>i.startsWith(`${t}.`));return e[t]||n.some(i=>e[i])||!1}return r.some(n=>e[n])}function _A({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[i,a]=D.useState(t),[c,l]=D.useState(e),d=D.useRef(t),f=D.useRef(e),v=D.useCallback(x=>{const k=typeof x=="function"?x(d.current):x;d.current=k,r==="controlled"&&a(k)},[]),y=D.useCallback((x,k=!1)=>{const M=typeof x=="function"?x(f.current):x;f.current=M,(r==="controlled"||k)&&l(M)},[]),w=D.useCallback(()=>v({}),[]),S=D.useCallback(x=>{const k=x?{...n.refValues.current,...x}:n.refValues.current;n.setValuesSnapshot(k),y({})},[]),b=D.useCallback((x,k)=>{v(M=>Fa(M,x)===k?M:{...M,[x]:k})},[]),R=D.useCallback((x,k,M)=>{y(L=>Fa(L,x)===k?L:{...L,[x]:k},M)},[]),C=D.useCallback((x,k)=>{const M=Fa(f.current,x),L=!Fl(zt(x,n.getValuesSnapshot()),k),j=tm(x,f.current);j[x]=L,y(j,M!==L)},[]),E=D.useCallback(x=>Fa(d.current,x),[]),_=D.useCallback(x=>y(k=>{if(typeof x!="string")return k;const M=tm(x,k);return delete M[x],Fl(M,k)?k:M}),[]),h=D.useCallback(x=>{if(x){const M=zt(x,f.current);if(typeof M=="boolean")return M;const L=zt(x,n.refValues.current),j=zt(x,n.valuesSnapshot.current);return!Fl(L,j)}return Object.keys(f.current).length>0?Fa(f.current):!Fl(n.refValues.current,n.valuesSnapshot.current)},[]),p=D.useCallback(()=>f.current,[]),m=D.useCallback(()=>d.current,[]);return{touchedState:i,dirtyState:c,touchedRef:d,dirtyRef:f,setTouched:v,setDirty:y,resetDirty:S,resetTouched:w,isTouched:E,setFieldTouched:b,setFieldDirty:R,setTouchedState:a,setDirtyState:l,clearFieldDirty:_,isDirty:h,getDirty:p,getTouched:m,setCalculatedFieldDirty:C}}function xA({initialValues:e,onValuesChange:t,mode:r}){const n=D.useRef(!1),[i,a]=D.useState(e||{}),c=D.useRef(i),l=D.useRef(i),d=D.useCallback(({values:R,subscribers:C,updateState:E=!0,mergeWithPreviousValues:_=!0})=>{const h=c.current,p=R instanceof Function?R(c.current):R,m=_?{...h,...p}:p;c.current=m,E&&a(m),t==null||t(m,h),C==null||C.filter(Boolean).forEach(x=>x({updatedValues:m,previousValues:h}))},[t]),f=D.useCallback(R=>{var _;const C=zt(R.path,c.current),E=R.value instanceof Function?R.value(C):R.value;if(C!==E){const h=c.current,p=gc(R.path,E,c.current);d({values:p,updateState:R.updateState}),(_=R.subscribers)==null||_.filter(Boolean).forEach(m=>m({path:R.path,updatedValues:p,previousValues:h}))}},[d]),v=D.useCallback(R=>{l.current=R},[]),y=D.useCallback((R,C)=>{n.current||(n.current=!0,d({values:R,updateState:r==="controlled"}),v(R),C())},[d]),w=D.useCallback(()=>{d({values:l.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),S=D.useCallback(()=>c.current,[]),b=D.useCallback(()=>l.current,[]);return{initialized:n,stateValues:i,refValues:c,valuesSnapshot:l,setValues:d,setFieldValue:f,resetValues:w,setValuesSnapshot:v,initialize:y,getValues:S,getValuesSnapshot:b}}function CA({$status:e}){const t=D.useRef({}),r=D.useCallback((i,a)=>{D.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(a),()=>{t.current[i]=t.current[i].filter(c=>c!==a)}),[a])},[]),n=D.useCallback(i=>t.current[i]?t.current[i].map(a=>c=>a({previousValue:zt(i,c.previousValues),value:zt(i,c.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function i_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const zl=Symbol("root-rule");function a_(e){const t=em(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function rm(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((i,a)=>{const c=e[a],l=`${r===""?"":`${r}.`}${a}`,d=zt(l,t);let f=!1;return typeof c=="function"&&(i[l]=c(d,t,l)),typeof c=="object"&&Array.isArray(d)&&(f=!0,d.forEach((v,y)=>rm(c,t,`${l}.${y}`,i)),zl in c&&(i[l]=c[zl](d,t,l))),typeof c=="object"&&typeof d=="object"&&d!==null&&(f||rm(c,t,l,i),zl in c&&(i[l]=c[zl](d,t,l))),i},n)}function nm(e,t){return a_(typeof e=="function"?e(t):rm(e,t))}function Bl(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=nm(t,r),i=Object.keys(n.errors).find(a=>e.split(".").every((c,l)=>c===a.split(".")[l]));return{hasError:!!i,error:i?n.errors[i]:null}}const RA="__MANTINE_FORM_INDEX__";function c_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${RA}`)):!1:!1}function ic({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:i={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:l=!1,validateInputOnBlur:d=!1,onValuesChange:f,transformValues:v=R=>R,enhanceGetInputProps:y,validate:w,onSubmitPreventDefault:S="always",touchTrigger:b="change"}={}){const R=pA(n),C=xA({initialValues:r,onValuesChange:f,mode:t}),E=_A({initialDirty:i,initialTouched:a,$values:C,mode:t}),_=wA({$values:C,$errors:R,$status:E}),h=CA({$status:E}),[p,m]=D.useState(0),[x,k]=D.useState({}),[M,L]=D.useState(!1),j=D.useCallback(()=>{C.resetValues(),R.clearErrors(),E.resetDirty(),E.resetTouched(),t==="uncontrolled"&&m(ee=>ee+1)},[]),A=D.useCallback(ee=>{c&&R.clearErrors(),t==="uncontrolled"&&m(ie=>ie+1),Object.keys(h.subscribers.current).forEach(ie=>{const ue=zt(ie,C.refValues.current),me=zt(ie,ee);ue!==me&&h.getFieldSubscribers(ie).forEach(he=>he({previousValues:ee,updatedValues:C.refValues.current}))})},[c]),N=D.useCallback(ee=>{const ie=C.refValues.current;C.initialize(ee,()=>t==="uncontrolled"&&m(ue=>ue+1)),A(ie)},[A]),V=D.useCallback((ee,ie,ue)=>{const me=c_(ee,l),he=ie instanceof Function?ie(zt(ee,C.refValues.current)):ie;E.setCalculatedFieldDirty(ee,he),b==="change"&&E.setFieldTouched(ee,!0),!me&&c&&R.clearFieldError(ee),C.setFieldValue({path:ee,value:ie,updateState:t==="controlled",subscribers:[...h.getFieldSubscribers(ee),me?Ce=>{const De=Bl(ee,w,Ce.updatedValues);De.hasError?R.setFieldError(ee,De.error):R.clearFieldError(ee)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>k(Ce=>({...Ce,[ee]:(Ce[ee]||0)+1})):null]})},[f,w]),W=D.useCallback(ee=>{const ie=C.refValues.current;C.setValues({values:ee,updateState:t==="controlled"}),A(ie)},[f,A]),K=D.useCallback(()=>{const ee=nm(w,C.refValues.current);return R.setErrors(ee.errors),ee},[w]),O=D.useCallback(ee=>{const ie=Bl(ee,w,C.refValues.current);return ie.hasError?R.setFieldError(ee,ie.error):R.clearFieldError(ee),ie},[w]),U=(ee,{type:ie="input",withError:ue=!0,withFocus:me=!0,...he}={})=>{const De={onChange:fA(vt=>V(ee,vt,{forceUpdate:!1})),"data-path":i_(e,ee)};return ue&&(De.error=R.errorsState[ee]),ie==="checkbox"?De[t==="controlled"?"checked":"defaultChecked"]=zt(ee,C.refValues.current):De[t==="controlled"?"value":"defaultValue"]=zt(ee,C.refValues.current),me&&(De.onFocus=()=>E.setFieldTouched(ee,!0),De.onBlur=()=>{if(c_(ee,d)){const vt=Bl(ee,w,C.refValues.current);vt.hasError?R.setFieldError(ee,vt.error):R.clearFieldError(ee)}}),Object.assign(De,y==null?void 0:y({inputProps:De,field:ee,options:{type:ie,withError:ue,withFocus:me,...he},form:de}))},F=(ee,ie)=>ue=>{S==="always"&&(ue==null||ue.preventDefault());const me=K();if(me.hasErrors)S==="validation-failed"&&(ue==null||ue.preventDefault()),ie==null||ie(me.errors,C.refValues.current,ue);else{const he=ee==null?void 0:ee(v(C.refValues.current),ue);he instanceof Promise&&(L(!0),he.finally(()=>L(!1)))}},z=ee=>v(ee||C.refValues.current),q=D.useCallback(ee=>{ee.preventDefault(),j()},[]),B=D.useCallback(ee=>ee?!Bl(ee,w,C.refValues.current).hasError:!nm(w,C.refValues.current).hasErrors,[w]),X=ee=>`${p}-${ee}-${x[ee]||0}`,ce=D.useCallback(ee=>document.querySelector(`[data-path="${i_(e,ee)}"]`),[]),de={watch:h.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:N,setValues:W,setFieldValue:V,submitting:M,setSubmitting:L,errors:R.errorsState,setErrors:R.setErrors,setFieldError:R.setFieldError,clearFieldError:R.clearFieldError,clearErrors:R.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:j,validate:K,validateField:O,getInputProps:U,onSubmit:F,onReset:q,isValid:B,getTransformedValues:z,key:X,getInputNode:ce};return dA(e,de),de}const EA=async e=>{try{const t=await fetch(`${at}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},TA=async e=>{try{const t=await fetch(`${at}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},PA=async e=>{try{const t=await fetch(`${at}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},kA=async e=>{try{const t=await fetch(`${at}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},DA=async e=>{try{const t=await fetch(`${at}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},IA=e=>e instanceof Error?e.message:String(e),ou=ot("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await EA(e)}catch(r){return t(IA(r))}}),iu=ot("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await TA(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),au=ot("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const i=await PA(e);return console.log(i),i}catch(i){if(console.log(i),i.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(lu({refreshToken:c})).unwrap()}return t(i instanceof Error?i.message:" ")}}),cu=ot("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await kA(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),lu=ot("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await DA(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),wh=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},MA={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:wh("accessToken"),refreshToken:wh("refreshToken"),isLoggedIn:!!wh("accessToken"),error:"",isLoading:!1},jA=jg({name:"user",initialState:MA,reducers:{},extraReducers:e=>{e.addCase(ou.pending,t=>{t.error=""}).addCase(ou.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(ou.rejected,(t,r)=>{t.error=r.payload}).addCase(iu.pending,t=>{t.error=""}).addCase(iu.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(iu.rejected,(t,r)=>{t.error=r.payload}).addCase(au.pending,t=>{t.error=""}).addCase(au.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(au.rejected,(t,r)=>{t.error=r.payload}).addCase(cu.pending,t=>{t.error=""}).addCase(cu.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(cu.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(lu.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(lu.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(lu.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1})}}),LA=jA.reducer,OA=()=>{const{accessToken:e}=ke(a=>a.userStore),t=Et(),r=Xs(),n=ic({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await t(iu(a))).meta.requestStatus==="fulfilled"&&r("/main")};return D.useEffect(()=>{e&&r("/main")},[e,r]),T.jsx(xn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:T.jsxs(dc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[T.jsx(ze,{fw:500,mb:"md",children:"   "}),T.jsx("form",{onSubmit:n.onSubmit(i),children:T.jsxs(qe,{gap:"md",children:[T.jsx(Ur,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),T.jsx(hd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),T.jsx(Qe,{justify:"center",mt:"md",children:T.jsx($e,{type:"submit",children:""})})]})})]})})},NA=()=>T.jsxs(xn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[T.jsx(vd,{order:3,children:"   Hitscord!"}),T.jsxs(Qe,{gap:"20px",children:[T.jsx(zS,{to:"/login",children:T.jsx($e,{variant:"filled",radius:"md",children:""})}),T.jsx(zS,{to:"/register",children:T.jsx($e,{variant:"filled",radius:"md",children:""})})]})]});function AA(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${i} ${a}:${c}`}const l_=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),$A=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName}),Ag=e=>e.map(t=>{const r=t.users.reduce((n,i)=>(n[i.socketId]||(n[i.socketId]={userName:i.userName,producerIds:[]}),n[i.socketId].producerIds.push(i.producerId),n),{});return{roomName:t.roomName,users:r}}),FA={isUserStreamView:!1,isOpenHome:!0},Ax=jg({name:"app",initialState:FA,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:$x,setUserStreamView:Bs,setOpenHome:Bi}=Ax.actions,zA=Ax.reducer,BA=({accessToken:e,dispatch:t,serverId:r})=>{const n=D.useRef(null);D.useEffect(()=>{if(e){const l=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return l.onmessage=d=>{const f=JSON.parse(d.data);if(console.log(f),f.MessageType==="New message"){const v=l_(f.Payload);v.id&&v.text&&t(O3(v))}if(f.MessageType==="Deleted message"&&t(N3({channelId:f.Payload.ChannelId,messageId:f.Payload.MessageId})),f.MessageType==="Updated message"){const v=l_(f.Payload);t(A3(v))}},l.onerror=d=>{console.error("WebSocket error:",d)},n.current=l,()=>{console.log("Closing WebSocket connection"),l.close()}}},[e,r,t]);const i=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const f={Type:"New message",Content:l};n.current.send(JSON.stringify(f))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]),a=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const f={Type:"Update message",Content:l};n.current.send(JSON.stringify(f))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]),c=D.useCallback(l=>{var d;if(n.current&&n.current.readyState===WebSocket.OPEN){const f={Type:"Delete message",Content:l};n.current.send(JSON.stringify(f))}else console.error("WebSocket is not open. Ready state:",(d=n.current)==null?void 0:d.readyState)},[]);return{sendMessage:i,editMessage:a,deleteMessage:c}},UA=({accessToken:e,dispatch:t,serverId:r})=>{const n=mc(),i=D.useRef(null),{currentServerId:a,currentVoiceChannelId:c}=ke(l=>l.testServerStore);D.useEffect(()=>{if(e){const l=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return l.onmessage=d=>{const f=JSON.parse(d.data);if(console.log(f),f.MessageType==="New user on server"){const v=$A(f.Payload),{ServerId:y}=f.Payload;r===y&&t($3(v))}if(f.MessageType==="User unsubscribe"){const{UserId:v,ServerId:y}=f.Payload;r===y&&t(F3({UserId:v,ServerId:y}))}if(f.MessageType==="Role changed"){const{ServerId:v}=f.Payload;e&&r&&r===v&&t(ss({accessToken:e,serverId:r}))}(f.MessageType==="New channel"||f.MessageType==="Channel deleted")&&e&&r&&(f.Payload.ChannelType===1&&f.Payload.ChannelId===c&&n(e,c),r===f.Payload.ServerId&&t(ss({accessToken:e,serverId:r}))),f.MessageType==="New server name"&&a===f.Payload.ServerId&&t(z3({name:f.Payload.Name})),f.MessageType==="New users name on server"&&a===f.Payload.ServerId&&t(B3({userId:f.Payload.UserId,name:f.Payload.Name})),f.MessageType==="User unsubscribe"&&a===f.Payload.ServerId&&t(U3({userId:f.Payload.UserId})),f.MessageType==="You removed from server"&&(f.Payload.IsNeedRemoveFromVC&&n(e,c),t(Bi(!0)),t(V3({serverId:f.Payload.ServerId}))),f.MessageType==="Change channel name"&&f.Payload.ServerId===a&&t(H3({channelId:f.Payload.ChannelId,newName:f.Payload.Name})),f.MessageType==="New user in voice channel"&&f.Payload.ServerId===a&&t(W3({channelId:f.Payload.ChannelId,userId:f.Payload.UserId})),f.MessageType==="User remove from voice channel"&&f.Payload.ServerId===a&&t(q3({channelId:f.Payload.ChannelId,userId:f.Payload.UserId})),f.MessageType==="User change his mute status"&&f.Payload.ServerId===a&&t(G3({channelId:f.Payload.ChannelId,userId:f.Payload.UserId,isMuted:f.Payload.MuteStatus===1}))},l.onerror=d=>{console.error("WebSocket error:",d)},i.current=l,()=>{console.log("Closing WebSocket connection"),l.close()}}},[e,r,t])},VA=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:i,authorId:a,editMessage:c,deleteMessage:l})=>{var h;const{accessToken:d}=ke(p=>p.userStore),v=(h=ke(p=>p.testServerStore.serverData.users).find(p=>p.userId===a))==null?void 0:h.userName,[y,w]=D.useState(!1),[S,b]=D.useState(!1),[R,C]=D.useState(t),E=()=>{R.trim()&&(c({Token:d,MessageId:n,Text:R.trim()}),b(!1))},_=()=>{l({Token:d,MessageId:n})};return T.jsxs(xn,{direction:"column",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[T.jsxs(Qe,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[T.jsx(qr,{size:"md",color:"blue",children:v?v[0]:"?"}),T.jsxs(re,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:S?"100%":"auto"},children:[T.jsx(ze,{fw:500,style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:v}),S?T.jsx(id,{value:R,onChange:p=>C(p.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):T.jsx(ze,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t}),T.jsx(Qe,{justify:"space-between",children:T.jsxs(ze,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[AA(r),i&&T.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&T.jsx(Qe,{justify:"flex-end",gap:"xs",p:4,style:{opacity:y||S?1:0,transition:"opacity 0.3s ease"},mr:44,children:S?T.jsxs(T.Fragment,{children:[T.jsx(st,{variant:"subtle",onClick:E,children:T.jsx(Mx,{size:12})}),T.jsx(st,{variant:"subtle",onClick:()=>b(!1),children:T.jsx(Ox,{size:12})})]}):T.jsxs(T.Fragment,{children:[T.jsx(st,{variant:"subtle",onClick:()=>b(!0),children:T.jsx(L4,{size:12})}),T.jsx(st,{variant:"subtle",onClick:_,children:T.jsx(jx,{size:12})})]})})]})},HA=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:i})=>{const a=Et(),c=D.useRef(null),{user:l,accessToken:d}=ke(M=>M.userStore),{currentServerId:f,currentChannelId:v,messages:y,hasNewMessage:w,isLoading:S,messagesStatus:b}=ke(M=>M.testServerStore),[R,C]=D.useState(""),[E,_]=D.useState(!0),[h,p]=D.useState(!1),m=()=>{R.trim()&&f&&v&&(r({Token:d,ChannelId:v,Text:R.trim(),NestedChannel:!1}),C(""))},x=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),m())},k=()=>{if(c.current){const{scrollTop:M,scrollHeight:L,clientHeight:j}=c.current,A=M+j>=L-1;_(A),A&&p(!1)}};return D.useEffect(()=>{E?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(t_())):p(!0)},[y,E]),D.useEffect(()=>{b===bi.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[b]),T.jsxs(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[T.jsxs(Qe,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[T.jsx(st,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:T.jsx(_4,{size:20})}),T.jsx(Ur,{leftSection:T.jsx(B4,{size:16}),placeholder:"..."}),T.jsx(st,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:T.jsx(tA,{size:20})})]}),T.jsx(Cn,{my:"md"}),T.jsx(Ir,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:k,children:T.jsxs(qe,{gap:"sm",children:[S&&y.length<1&&Array.from({length:5}).map((M,L)=>T.jsxs(Qe,{align:"flex-start",gap:"xs",children:[T.jsx(Co,{height:40,width:40,circle:!0}),T.jsxs(re,{style:{flex:1},children:[T.jsx(Co,{height:12,width:"60%",radius:"md"}),T.jsx(Co,{height:10,width:"40%",mt:8,radius:"md"})]})]},L)),y.map(M=>T.jsx(VA,{messageId:M.id,content:M.text,isOwnMessage:l.id===M.authorId,time:M.createdAt,modifiedAt:M.modifiedAt,authorId:M.authorId,editMessage:n,deleteMessage:i},M.id))]})}),!E&&h&&T.jsx(re,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:T.jsx(ig,{size:14,disabled:!w,withBorder:!0,children:T.jsx(st,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),p(!1),a(t_()))},children:T.jsx(J3,{size:20})})})}),T.jsxs(Qe,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[T.jsx(st,{size:"xl",variant:"transparent",children:T.jsx(M4,{size:20})}),T.jsx(id,{w:"100%",placeholder:"...",value:R,onChange:M=>C(M.target.value),onKeyDownCapture:x,autosize:!0,minRows:1,maxRows:3}),T.jsx(st,{size:"xl",variant:"transparent",onClick:m,children:T.jsx(V4,{size:20})})]})]})},WA=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>T.jsxs(re,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[T.jsx(qr,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),T.jsx(ze,{c:"white",size:"xs",children:t}),r&&T.jsx($e,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:T.jsx(Jh,{})})]},e),qA=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>T.jsxs(re,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[T.jsx(qr,{radius:"xl",size:"lg",color:"blue",children:t[0]}),T.jsx(ze,{c:"white",children:t}),r&&T.jsx($e,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),GA=({users:e,onOpenStream:t})=>{const r=Et(),{currentVoiceChannelId:n}=ke(c=>c.testServerStore),a=Ag(e).find(c=>c.roomName===n);return T.jsxs(Ir,{style:{flex:1,maxHeight:"100%"},children:[T.jsx(Qe,{justify:"flex-end",children:T.jsx(st,{variant:"transparent",onClick:()=>r($x()),children:T.jsx(t4,{})})}),T.jsx(mg,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:l,producerIds:d}])=>{const f=d.length>1;return T.jsx(qA,{socketId:c,userName:l,isStreaming:f,onOpenStream:t},c)})})]})},KA=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=jo(),i=D.useRef(null),a=D.useRef(null),{currentVoiceChannelId:c}=ke(b=>b.testServerStore),d=Ag(t).find(b=>b.roomName===c),f=D.useRef(null),v=()=>{f.current&&f.current.scrollBy({left:-100,behavior:"smooth"})},y=()=>{f.current&&f.current.scrollBy({left:100,behavior:"smooth"})},w=b=>{n(b)},S=()=>{n(null),i.current&&(a.current=null,i.current.srcObject=null)};return D.useEffect(()=>{if(!Me||!d)return;const b=({producerId:R})=>{e.some(E=>{var _;return E.kind==="video"&&E.producerId===R&&((_=d.users[r])==null?void 0:_.producerIds.includes(R))})&&S()};return Me.on("producerClosed",b),()=>{Me.off("producerClosed",b)}},[Me,e,d,r]),D.useEffect(()=>{var R;if(!r||!d)return;const b=e.find(C=>{var E;return C.kind==="video"&&((E=d.users[r])==null?void 0:E.producerIds.includes(C.producerId))});if(b){const C=b.track;if(!a.current||((R=a.current.getVideoTracks()[0])==null?void 0:R.id)!==C.id){const E=new MediaStream([C]);a.current=E,i.current&&(i.current.srcObject=E,i.current.play().catch(_=>console.error("  :",_)))}}},[r,e,d]),T.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?T.jsxs(re,{style:{position:"relative",flex:1},children:[T.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),T.jsxs($e,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[T.jsx(Ox,{size:20})," "]}),T.jsxs(re,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[T.jsx($e,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:T.jsx(o4,{size:20})}),T.jsx(Ir,{viewportRef:f,style:{width:"100%"},children:T.jsx(xn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:d&&Object.entries(d.users).map(([b,{userName:R,producerIds:C}])=>{const E=C.length>1;return T.jsx(WA,{socketId:b,userName:R,isStreaming:E,handleUserClick:w},b)})})}),T.jsx($e,{variant:"subtle",color:"gray",onClick:y,style:{zIndex:1},children:T.jsx(Og,{size:20})})]})]}):T.jsx(GA,{users:t,onOpenStream:w})})},YA=({userName:e,userTag:t,roleName:r})=>{var a;const{roles:n}=ke(c=>c.testServerStore.serverData),i=((a=n.find(c=>c.name===r))==null?void 0:a.color)??"green";return T.jsxs(qe,{gap:"xs",justify:"center",align:"center",w:"100%",children:[T.jsx(qr,{size:"md",color:"blue",children:e[0]}),T.jsx(ze,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:e}),T.jsx(ji,{color:i,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:r}),T.jsxs(Qe,{children:[T.jsx(ze,{c:"dimmed",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t}),T.jsx(t1,{value:t,timeout:2e3,children:({copied:c,copy:l})=>T.jsx(Fn,{label:c?"":"",withArrow:!0,position:"right",children:T.jsx(st,{color:c?"teal":"gray",variant:"subtle",onClick:l,children:c?T.jsx(Mx,{size:16}):T.jsx(Ng,{size:16})})})})]})]})},XA=({userId:e,userName:t,userTag:r,roleName:n})=>{var d;const[i,a]=D.useState(!1),{roles:c}=ke(f=>f.testServerStore.serverData),l=((d=c.find(f=>f.name===n))==null?void 0:d.color)??"green";return T.jsxs(mr,{opened:i,onChange:a,position:"left",radius:"md",children:[T.jsx(mr.Target,{children:T.jsxs(xn,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden",cursor:"pointer"},onClick:()=>a(f=>!f),children:[T.jsx(qr,{size:"md",color:"blue",children:t}),T.jsx(Fn,{label:t,position:"top-start",withArrow:!0,children:T.jsx(ze,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:t})}),T.jsx(Fn,{label:n,position:"top-end",withArrow:!0,children:T.jsx(ji,{color:l,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:n})})]})}),T.jsx(mr.Dropdown,{bg:"#43474f",children:T.jsx(YA,{userId:e,userName:t,userTag:r,roleName:n})})]})},QA=()=>{const{serverData:e}=ke(t=>t.testServerStore);return T.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:T.jsxs(qe,{gap:"md",h:"100%",children:[T.jsx(ze,{c:"white",children:""}),T.jsx(Cn,{color:"gray"}),T.jsx(Ir.Autosize,{mah:"100%",maw:"100%",children:T.jsx(qe,{gap:"xs",children:e.users.map(t=>T.jsx(XA,{userId:t.userId,userName:t.userName,userTag:t.userTag,roleName:t.roleName},t.userId))})})]})})},ZA=({onClose:e,opened:t})=>{const{serverData:r}=ke(n=>n.testServerStore);return T.jsx(Gr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:T.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:T.jsxs(qe,{gap:"md",h:"100%",children:[T.jsx(ze,{c:"white",children:""}),T.jsx(Cn,{color:"gray"}),T.jsx(Ir.Autosize,{mah:"100%",maw:"100%",children:T.jsx(qe,{gap:"xs",children:r.users.map(n=>T.jsxs(Qe,{wrap:"nowrap",children:[T.jsx(qr,{size:"md",color:"blue",children:n.userName}),T.jsx(ze,{c:"white",children:n.userName}),T.jsx(ji,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})},JA=()=>T.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:T.jsx(xn,{w:"100%",h:"100%",justify:"center",align:"center",children:T.jsx(ze,{c:"gray",children:" ,   "})})}),e$=()=>{const{user:e}=ke(t=>t.userStore);return T.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:T.jsxs(qe,{gap:"md",align:"center",children:[T.jsx(qr,{size:80,radius:"xl",src:void 0,alt:e.name}),T.jsx(Fn,{label:e.name,withArrow:!0,children:T.jsx(vd,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),T.jsx(Fn,{label:e.tag,withArrow:!0,children:T.jsxs(ze,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),T.jsx(Fn,{label:e.mail,withArrow:!0,children:T.jsxs(ze,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),T.jsxs(ze,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},t$=[{id:"1",name:"",lastMessage:" (",date:"14.12.2024"}],r$=({name:e,lastMessage:t,date:r,isActive:n,onClick:i})=>T.jsxs(re,{p:"sm",bg:n?"#2E2E33":"transparent",style:a=>({borderRadius:a.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:i,children:[T.jsx(qr,{radius:"xl",size:40}),T.jsxs(re,{style:{flex:1},children:[T.jsx(ze,{fw:"bold",children:e}),T.jsx(ze,{size:"sm",c:"gray",truncate:!0,children:t}),T.jsx(ze,{size:"xs",c:"gray",children:r})]})]}),n$=()=>{const[e,t]=D.useState(null);return T.jsxs(qe,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[T.jsx(ze,{children:""}),T.jsx(Cn,{}),T.jsx(qe,{gap:"xs",children:t$.map(r=>T.jsx(r$,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},s$=()=>T.jsxs(T.Fragment,{children:[T.jsx(n$,{}),T.jsx(JA,{}),T.jsx(e$,{})]}),o$=({opened:e,onClose:t})=>{const[r,n]=D.useState("create"),{user:i,accessToken:a}=ke(y=>y.userStore),c=Et(),l=ic({initialValues:{name:""},validate:{name:y=>y.trim().length<3?"     3 ":null}}),d=ic({initialValues:{serverId:""},validate:{serverId:y=>y.trim().length===0?" ID ":null}}),f=async y=>{(await c(Xl({accessToken:a,name:y.name}))).meta.requestStatus==="fulfilled"&&(c(ns({accessToken:a})),l.reset(),t())},v=async y=>{(await c(Zl({accessToken:a,serverId:y.serverId,userName:i.name}))).meta.requestStatus==="fulfilled"&&(c(ns({accessToken:a})),l.reset(),t())};return T.jsx(Zt,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:T.jsxs(yn,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[T.jsxs(yn.List,{children:[T.jsx(yn.Tab,{value:"create",children:" "}),T.jsx(yn.Tab,{value:"connect",children:"  "})]}),T.jsxs(yn.Panel,{value:"create",children:[" ",T.jsxs("form",{onSubmit:l.onSubmit(f),children:[T.jsx(Ur,{label:" ",placeholder:"  ",...l.getInputProps("name")}),T.jsxs(Qe,{justify:"flex-end",mt:"md",children:[T.jsx($e,{variant:"outline",onClick:t,children:""}),T.jsx($e,{type:"submit",children:""})]})]})]}),T.jsx(yn.Panel,{value:"connect",children:T.jsxs("form",{onSubmit:d.onSubmit(v),children:[T.jsx(Ur,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),T.jsxs(Qe,{justify:"flex-end",mt:"md",children:[T.jsx($e,{variant:"outline",onClick:t,children:""}),T.jsx($e,{type:"submit",children:""})]})]})})]})})},i$=({serverId:e,serverName:t})=>{const r=Et(),{user:n}=ke(a=>a.userStore),i=()=>{r(j3(e)),r(Bs(!1)),r(Bi(!1)),Me.emit("setServer",{serverId:e,user:n.name})};return T.jsx(st,{size:"xl",radius:"xl",variant:"transparent",onClick:i,children:T.jsx(qr,{size:"md",color:"blue",children:t})})},a$=()=>{const[e,{open:t,close:r}]=Tr(!1),n=Et(),i=Xs(),{serversList:a}=ke(d=>d.testServerStore),{accessToken:c}=ke(d=>d.userStore),l=async()=>{(await n(cu({accessToken:c}))).meta.requestStatus==="fulfilled"&&i("/")};return D.useEffect(()=>{c&&n(ns({accessToken:c}))},[c,n]),T.jsxs(xn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[T.jsxs(xn,{direction:"column",align:"center",children:[T.jsx(st,{size:"lg",variant:"transparent",onClick:()=>n(Bi(!0)),children:T.jsx(y4,{size:24,color:"#fff"})}),T.jsx(Cn,{my:"sm"}),T.jsx(qe,{gap:"sm",align:"center",children:a.map(d=>T.jsx(i$,{serverId:d.serverId,serverName:d.serverName},d.serverId))}),T.jsx(Cn,{my:"sm"}),T.jsx(st,{size:"lg",variant:"transparent",onClick:t,children:T.jsx(u4,{size:24,color:"#fff"})})]}),T.jsx(st,{size:"lg",variant:"transparent",onClick:l,children:T.jsx(S4,{size:24,color:"#fff"})}),T.jsx(o$,{opened:e,onClose:r})]})},c$=({opened:e,onClose:t})=>{const r=Et(),{accessToken:n}=ke(f=>f.userStore),{currentServerId:i}=ke(f=>f.testServerStore),[a,c]=D.useState(""),{showSuccess:l}=zi(),d=async()=>{i&&(await r(ru({accessToken:n,serverId:i,name:a}))).meta.requestStatus==="fulfilled"&&(l("  "),c(""),t())};return T.jsx(Zt,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:T.jsxs(qe,{gap:"xs",children:[T.jsx(Ur,{label:" ",placeholder:"  ",value:a,onChange:f=>c(f.currentTarget.value)}),T.jsx(Qe,{justify:"flex-end",mt:"md",children:T.jsx($e,{variant:"filled",onClick:d,children:""})})]})})},Fx=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=jo(),i=mc(),{startScreenSharing:a,stopScreenSharing:c}=oA(),l=Et(),{user:d,accessToken:f}=ke(S=>S.userStore),{currentVoiceChannelId:v}=ke(S=>S.testServerStore),y=()=>{n?c():a()},w=()=>{i(f,v),l(Bs(!1)),l(_i(null))};return T.jsxs(qe,{mt:"auto",children:[e&&T.jsxs(Qe,{gap:"xs",justify:"space-between",children:[T.jsx(st,{variant:"transparent",onClick:y,c:"#ffffff",children:n?T.jsx(D4,{}):T.jsx(P4,{})}),T.jsx(st,{variant:"transparent",onClick:t,c:"#ffffff",children:r?T.jsx(C4,{}):T.jsx(E4,{})}),T.jsx(st,{variant:"transparent",onClick:w,c:"#ffffff",children:T.jsx($4,{})})]}),T.jsx(Cn,{}),T.jsx(ze,{truncate:!0,children:d.name})]})},zx=({opened:e,onClose:t})=>{const r=Et(),{serverData:n,currentServerId:i,error:a}=ke(j=>j.testServerStore),{accessToken:c,user:l}=ke(j=>j.userStore),[d,f]=D.useState("roles"),[v,y]=D.useState(""),[w,S]=D.useState(""),[b,R]=D.useState(!1),[C,E]=D.useState(n.serverName),{showSuccess:_}=zi(),[h,p]=D.useState(""),m=n.isCreator,x=n.canDeleteUsers,k=async()=>{if(!v||!w)return;R(!0),(await r(Ql({accessToken:c,serverId:n.serverId,userId:v,role:w}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),r(ss({accessToken:c,serverId:n.serverId})),t())},M=async()=>{i&&(R(!0),(await r(tu({accessToken:c,serverId:i,name:C}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),t()))},L=async()=>{i&&h&&(R(!0),(await r(nu({accessToken:c,serverId:i,userId:h}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),p(null),t()))};return D.useEffect(()=>{a&&R(!1)},[a]),T.jsx(Zt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:T.jsxs(Qe,{align:"flex-start",gap:"md",children:[T.jsxs(qe,{gap:"xs",style:{width:200},children:[T.jsx(xo,{label:"",leftSection:T.jsx(Eu,{size:16}),active:d==="roles",onClick:()=>f("roles")}),m&&T.jsx(xo,{label:" ",leftSection:T.jsx(Eu,{size:16}),active:d==="name",onClick:()=>f("name")}),(m||x)&&T.jsx(xo,{label:" ",leftSection:T.jsx(Q4,{size:16}),active:d==="deleteUser",onClick:()=>f("deleteUser")})]}),T.jsxs(Ir,{children:[d==="roles"&&T.jsxs(qe,{gap:"md",children:[T.jsx(ze,{size:"lg",w:500,children:"  "}),T.jsx(Si,{label:" ",placeholder:" ",data:n.users.filter(j=>j.userId!==l.id).map(j=>({value:j.userId,label:j.userName})),value:v,onChange:y}),T.jsx(Si,{label:" ",placeholder:" ",data:n.roles.map(j=>({value:j.id,label:j.name})),value:w,onChange:S}),T.jsx($e,{onClick:k,loading:b,children:" "})]}),d==="name"&&m&&T.jsxs(qe,{gap:"md",children:[T.jsx(ze,{size:"lg",w:500,children:"  "}),T.jsx(Ur,{label:"  ",value:C,onChange:j=>E(j.target.value),placeholder:n.serverName}),T.jsx($e,{onClick:M,loading:b,children:" "})]}),d==="deleteUser"&&(m||x)&&T.jsxs(qe,{gap:"md",children:[T.jsx(ze,{size:"lg",w:500,children:"   "}),T.jsx(Si,{label:" ",placeholder:" ",data:n.users.filter(j=>j.userId!==l.id).map(j=>({value:j.userId,label:j.userName})),value:h,onChange:p}),T.jsx($e,{onClick:L,loading:b,children:""})]})]})]})})},l$=({opened:e,onClose:t})=>{const r=Xs(),n=Et(),i=mc(),{showSuccess:a,showError:c}=zi(),{serverData:l,currentVoiceChannelId:d}=ke(b=>b.testServerStore),{accessToken:f,user:v}=ke(b=>b.userStore),[y,w]=D.useState(""),S=async()=>{if(!y){c("  ");return}i(f,d),n(Bs(!1)),n(_i(null)),(await n(I3({accessToken:f,serverId:l.serverId,newCreatorId:y}))).meta.requestStatus==="fulfilled"&&(a("  "),n(ns({accessToken:f})),n(Bi(!0)),n(Lg()),w(""),r("/main"))};return T.jsx(Zt,{opened:e,onClose:t,title:"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:T.jsxs(qe,{gap:"xs",children:[T.jsx(Si,{label:"  ",placeholder:" ",data:l.users.filter(b=>b.userId!==v.id).map(b=>({value:b.userId,label:b.userName})),value:y,onChange:w}),T.jsx(Qe,{justify:"flex-end",mt:"md",children:T.jsx($e,{variant:"filled",onClick:S,children:""})})]})})},Bx=({opened:e,onClose:t,channelId:r,channelName:n})=>{const i=Et(),{accessToken:a}=ke(R=>R.userStore),[c,l]=D.useState("name"),[d,f]=D.useState(n),[v,y]=D.useState(!1),{showSuccess:w}=zi(),S=async()=>{y(!0),(await i(su({accessToken:a,id:r,name:d}))).meta.requestStatus==="fulfilled"&&(y(!1),w("   "),t())},b=async()=>{y(!0),(await i(Xa({accessToken:a,channelId:r}))).meta.requestStatus==="fulfilled"&&(y(!1),w("  "),t())};return T.jsx(Zt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:T.jsxs(Qe,{align:"flex-start",gap:"md",children:[T.jsxs(qe,{gap:"xs",style:{width:200},children:[T.jsx(xo,{label:"",leftSection:T.jsx(N4,{size:16}),active:c==="name",onClick:()=>l("name")}),T.jsx(xo,{label:"",leftSection:T.jsx(jx,{size:16}),active:c==="delete",onClick:()=>l("delete")})]}),T.jsxs(Ir,{children:[c==="name"&&T.jsxs(qe,{gap:"md",children:[T.jsx(ze,{size:"lg",w:500,children:"  "}),T.jsx(Ur,{label:"  ",value:d,onChange:R=>f(R.target.value),placeholder:n}),T.jsx($e,{onClick:S,loading:v,children:" "})]}),c==="delete"&&T.jsxs(qe,{gap:"md",children:[T.jsx(ze,{size:"lg",w:500,children:" "}),T.jsx($e,{color:"red",onClick:b,loading:v,children:" "})]})]})]})})},u$=({channelId:e,currentChannelId:t,channelName:r,isAdmin:n,handleOpenChannel:i})=>{const{hasNewMessage:a}=ke(w=>w.testServerStore),[c,l]=D.useState(""),[d,{open:f,close:v}]=Tr(!1),y=()=>{f()};return T.jsxs(T.Fragment,{children:[T.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>l(e),onMouseLeave:()=>l(""),children:[T.jsx($e,{leftSection:a&&e===t?T.jsx(ji,{circle:!0,children:"1"}):T.jsx(g4,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:u_.buttonRoot(c===e,t===e)},fullWidth:!0,onClick:i,children:r}),n&&c===e&&T.jsx($e,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:u_.buttonSettings(t===e)},onClick:y,children:T.jsx(Dd,{size:16})})]},e),T.jsx(Bx,{opened:d,onClose:v,channelId:e,channelName:r})]})},Ux=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:i})=>{const a=Et(),{accessToken:c}=ke(w=>w.userStore),{error:l}=ke(w=>w.testServerStore),{showError:d}=zi(),f=ic({initialValues:{name:r.initialData},validate:{name:w=>w.trim().length<3?"     3 ":null}});D.useEffect(()=>{r.isEdit?f.setValues({name:r.initialData}):f.reset()},[r]);const v=async w=>{(await a(eu({accessToken:c,serverId:n,name:w.name,channelType:i===As.TEXT_CHANNEL?As.TEXT_CHANNEL:As.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&a(ss({accessToken:c,serverId:n})),t()},y=async()=>{(await a(Xa({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(ss({accessToken:c,serverId:n})),t()};return D.useEffect(()=>{l&&d(l)},[l]),T.jsx(Zt,{opened:e,onClose:t,title:r.isEdit?` ${i===As.TEXT_CHANNEL?"":""} `:` ${i===As.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?T.jsxs(T.Fragment,{children:[T.jsxs(ze,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),T.jsxs(Qe,{justify:"flex-end",mt:"md",children:[T.jsx($e,{variant:"filled",color:"red",onClick:y,children:""}),T.jsx($e,{variant:"outline",onClick:t,children:""})]})]}):T.jsxs("form",{onSubmit:f.onSubmit(v),children:[T.jsx(Ur,{label:" ",placeholder:"  ",...f.getInputProps("name")}),T.jsxs(Qe,{justify:"flex-end",mt:"md",children:[T.jsx($e,{variant:"outline",onClick:t,children:""}),T.jsx($e,{type:"submit",children:""})]})]})})},Vx=({onClose:e})=>{const t=Et(),[r,{toggle:n}]=Tr(!0),[i,{open:a,close:c}]=Tr(!1),[l,d]=D.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:f,currentServerId:v,currentChannelId:y}=ke(R=>R.testServerStore),w=f.isCreator||f.canWorkWithChannels,S=R=>{t(L3(R)),t(Bs(!1)),e()},b=(R,C)=>{d({isEdit:!0,initialData:R,channelId:C}),a()};return D.useEffect(()=>{console.log(y)},[y]),T.jsxs(T.Fragment,{children:[T.jsxs(qe,{align:"flex-start",gap:"xs",children:[T.jsxs(Qe,{justify:"space-between",w:"100%",wrap:"nowrap",children:[T.jsx($e,{leftSection:r?T.jsx(kd,{}):T.jsx(Og,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),w&&T.jsx(st,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),a()},children:T.jsx(Eu,{color:"#ffffff"})})]}),T.jsx(Au,{in:r,w:"100%",children:T.jsx(qe,{gap:"xs",children:f.channels.textChannels.map(({channelId:R,channelName:C})=>T.jsx(u$,{channelId:R,currentChannelId:y,channelName:C,isAdmin:w,handleOpenChannel:()=>S(R),handleEditChannel:()=>b(C,R)},R))})})]}),v&&T.jsx(Ux,{opened:i,onClose:c,isEdit:l,serverId:v,channelType:As.TEXT_CHANNEL})]})},u_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},d$=({channelId:e,channelName:t,isAdmin:r,handleConnect:n})=>{const[i,{open:a,close:c}]=Tr(!1),[l,d]=D.useState(""),f=()=>{a()};return T.jsxs(T.Fragment,{children:[T.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>d(e),onMouseLeave:()=>d(""),children:[T.jsx($e,{leftSection:T.jsx(Lx,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:n,children:t}),r&&l===e&&T.jsx($e,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:m$.buttonSettings},onClick:f,children:T.jsx(Dd,{size:16})})]}),T.jsx(Bx,{opened:i,onClose:c,channelId:e,channelName:t})]})},f$=({opened:e,toggle:t,isAdmin:r,handleAddChannel:n})=>T.jsxs(Qe,{justify:"space-between",w:"100%",wrap:"nowrap",children:[T.jsx($e,{leftSection:e?T.jsx(kd,{}):T.jsx(Og,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&T.jsx(st,{variant:"transparent",onClick:n,children:T.jsx(Eu,{color:"#ffffff"})})]}),p$=({socketId:e,isSpeaking:t,userName:r,producerIds:n,isAdmin:i,userVolume:a,handleVolumeChange:c,handleOpenStream:l,handleKickUser:d})=>T.jsxs(We,{shadow:"md",width:200,closeOnItemClick:!0,children:[T.jsx(We.Target,{children:T.jsxs(Qe,{style:{cursor:"pointer",overflow:"hidden",width:"100%"},wrap:"nowrap",children:[T.jsx(J4,{color:t?"#43b581":void 0,style:{flexShrink:0}}),T.jsx(ze,{style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:r}),n.length>1&&T.jsx(Jh,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),T.jsxs(We.Dropdown,{children:[T.jsx(We.Item,{leftSection:T.jsx(Lx,{}),children:T.jsx(gg,{label:"",value:a,onChange:f=>c(e,f),min:1,max:100})}),n.length>1&&T.jsx(We.Item,{leftSection:T.jsx(Jh,{}),onClick:()=>l(e),children:" "}),i&&T.jsx(We.Item,{leftSection:T.jsx(G4,{}),onClick:()=>d(e),children:" "})]})]},e),h$=()=>{const[e,t]=D.useState([]);return D.useEffect(()=>{if(Me)return Me.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Me.off("active-speakers")}},[]),e},Hx=()=>{const e=bN(),t=mc(),{isConnected:r,consumers:n,users:i,setSelectedUserId:a}=jo(),{user:c,accessToken:l}=ke(K=>K.userStore),{serverData:d,currentVoiceChannelId:f,currentServerId:v}=ke(K=>K.testServerStore),y=Et(),[w,{toggle:S}]=Tr(!0),[b,{open:R,close:C}]=Tr(!1),E=h$(),{setVolume:_,userVolumes:h}=cA(),p=Ag(i),m=d.isCreator,[x,k]=D.useState({isEdit:!1,initialData:"",channelId:""}),M=K=>{r?K===f?y($x()):(f&&t(l,f),y(Bs(!1)),y(_i(K)),e(K,c.name,d.serverId,l)):(y(_i(K)),e(K,c.name,d.serverId,l))},L=(K,O)=>{if(!f)return;const U=p.find(q=>q.roomName===f);if(!U)return;const F=U.users[K];if(!F)return;const z=F.producerIds.find(q=>!!n.find(X=>X.producerId===q&&X.kind==="audio"));z&&_(z,O)},j=()=>{k({isEdit:!1,initialData:"",channelId:""}),R()},A=K=>{console.log(K),Me.emit("kickUser",{targetSocketId:K},O=>{O.success?console.log("  :",O.message):console.error("  :",O.message)})},N=K=>{const O=K.find(U=>n.some(F=>F.producerId===U&&F.kind==="audio"));return(h[O||""]||1)*100},V=(K,O)=>K.some(F=>E.some(z=>z.producerId===F))&&O===f,W=K=>{a(K),y(Bs(!0))};return D.useEffect(()=>{if(Me)return Me.on("kickedUser",()=>{t(l,f),y(Bs(!1)),y(_i(null))}),()=>{Me.off("producerClosed")}},[t,y]),T.jsxs(T.Fragment,{children:[T.jsxs(qe,{align:"flex-start",gap:"xs",children:[T.jsx(f$,{opened:w,toggle:S,isAdmin:m,handleAddChannel:j}),T.jsx(Au,{in:w,w:"100%",children:T.jsx(qe,{gap:"xs",children:d.channels.voiceChannels.map(({channelId:K,channelName:O})=>T.jsxs(Bt.Fragment,{children:[T.jsx(d$,{channelId:K,channelName:O,isAdmin:m,handleConnect:()=>M(K)}),T.jsx(qe,{gap:"xs",children:p.filter(U=>U.roomName===K).flatMap(U=>Object.entries(U.users).map(([F,{producerIds:z,userName:q}])=>{const B=V(z,K),X=N(z);return T.jsx(p$,{socketId:F,isSpeaking:B,userName:q,producerIds:z,isAdmin:m,userVolume:X,handleOpenStream:W,handleVolumeChange:L,handleKickUser:A,channelId:K},F)}))})]},K))})})]}),v&&T.jsx(Ux,{opened:b,onClose:C,isEdit:x,serverId:v,channelType:As.VOICE_CHANNEL})]})},m$={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},g$=({onClose:e})=>{const t=Xs(),r=Et(),n=mc(),[i,{open:a,close:c}]=Tr(!1),[l,{open:d,close:f}]=Tr(!1),[v,{open:y,close:w}]=Tr(!1),{serverData:S,isLoading:b,currentVoiceChannelId:R}=ke(m=>m.testServerStore),{accessToken:C}=ke(m=>m.userStore),E=S.canChangeRole,_=S.isCreator,h=m=>{navigator.clipboard.writeText(m)},p=async()=>{n(C,R),r(Bs(!1)),r(_i(null)),(await r(Ya({accessToken:C,serverId:S.serverId}))).meta.requestStatus==="fulfilled"&&(r(ns({accessToken:C})),r(Bi(!0)),r(Lg()),t("/main"))};return T.jsxs(T.Fragment,{children:[T.jsxs(qe,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[T.jsxs(We,{shadow:"md",width:200,children:[T.jsx(We.Target,{children:T.jsxs(Qe,{justify:"space-between",style:{cursor:"pointer"},children:[b?T.jsx(Co,{height:10,width:"40%",radius:"md"}):T.jsx(ze,{children:S.serverName}),T.jsx(kd,{})]})}),T.jsxs(We.Dropdown,{children:[(E||_)&&T.jsx(We.Item,{leftSection:T.jsx(Dd,{size:16}),onClick:a,children:" "}),T.jsx(We.Item,{onClick:d,leftSection:T.jsx(Y4,{size:16}),children:"   "}),T.jsx(We.Item,{onClick:()=>h(S.serverId),leftSection:T.jsx(Ng,{size:16}),children:" ID "}),!_&&T.jsx(We.Item,{onClick:p,leftSection:T.jsx(Zh,{size:16}),children:"  "}),_&&T.jsx(We.Item,{onClick:()=>y(),leftSection:T.jsx(Zh,{size:16}),children:"  "})]})]}),T.jsx(Cn,{}),T.jsxs(Ir.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[T.jsx(Vx,{onClose:e}),T.jsx(Hx,{})]}),T.jsx(Fx,{})]}),T.jsx(zx,{opened:i,onClose:c}),T.jsx(c$,{opened:l,onClose:f}),T.jsx(l$,{opened:v,onClose:w})]})},v$=({onClose:e,opened:t})=>{const r=Xs(),n=Et(),[i,{open:a,close:c}]=Tr(!1),{serverData:l,isLoading:d}=ke(S=>S.testServerStore),{accessToken:f}=ke(S=>S.userStore),v=l.isCreator,y=S=>{navigator.clipboard.writeText(S)},w=async()=>{(await n(Ya({accessToken:f,serverId:l.serverId}))).meta.requestStatus==="fulfilled"&&(n(ns({accessToken:f})),n(Bi(!0)),n(Lg()),r("/main"))};return T.jsxs(T.Fragment,{children:[T.jsxs(Gr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[T.jsxs(We,{shadow:"md",width:200,children:[T.jsx(We.Target,{children:T.jsxs(Qe,{justify:"space-between",style:{cursor:"pointer"},children:[d?T.jsx(Co,{height:10,width:"40%",radius:"md"}):T.jsx(ze,{children:l.serverName}),T.jsx(kd,{})]})}),T.jsxs(We.Dropdown,{children:[v&&T.jsx(We.Item,{leftSection:T.jsx(Dd,{size:16}),onClick:a,children:" "}),T.jsx(We.Item,{onClick:()=>y(l.serverId),leftSection:T.jsx(Ng,{size:16}),children:" ID "}),!v&&T.jsx(We.Item,{onClick:w,leftSection:T.jsx(Zh,{size:16}),children:"  "})]})]}),T.jsx(Cn,{}),T.jsx(Vx,{onClose:e}),T.jsx(Hx,{}),T.jsx(Fx,{})]}),T.jsx(zx,{opened:i,onClose:c})]})},y$=()=>{const e=Xs(),t=Et(),{isUserStreamView:r,isOpenHome:n}=ke(E=>E.appStore),{accessToken:i,isLoggedIn:a}=ke(E=>E.userStore),{currentServerId:c,currentChannelId:l}=ke(E=>E.testServerStore),[d,{open:f,close:v}]=Tr(!1),[y,{open:w,close:S}]=Tr(!1),{sendMessage:b,editMessage:R,deleteMessage:C}=BA({accessToken:i,dispatch:t,serverId:c});return UA({accessToken:i,dispatch:t,serverId:c}),D.useEffect(()=>{a||e("/")},[a,e]),D.useEffect(()=>{i&&t(au({accessToken:i}))},[i,t]),D.useEffect(()=>{c&&i&&t(ss({accessToken:i,serverId:c}))},[i,c,t]),D.useEffect(()=>{l&&i&&t(Jl({accessToken:i,channelId:l,numberOfMessages:50,fromStart:0}))},[i,l,c,t]),T.jsxs(re,{style:{display:"flex",height:"100dvh"},children:[T.jsx(a$,{}),n?T.jsx(s$,{}):T.jsxs(T.Fragment,{children:[T.jsx(g$,{onClose:v}),r?T.jsx(KA,{}):T.jsx(HA,{openSidebar:f,openDetailsPanel:w,sendMessage:b,editMessage:R,deleteMessage:C}),T.jsx(QA,{}),T.jsx(v$,{onClose:v,opened:d}),T.jsx(ZA,{onClose:S,opened:y})]})]})},w$=()=>{const e=Et(),t=Xs(),{accessToken:r}=ke(a=>a.userStore),n=ic({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await e(ou({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return D.useEffect(()=>{r&&t("/main")},[r,t]),T.jsx(xn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:T.jsxs(dc,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[T.jsx(ze,{fw:500,mb:"md",children:"  "}),T.jsx("form",{onSubmit:n.onSubmit(i),children:T.jsxs(qe,{gap:"md",children:[T.jsx(Ur,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),T.jsx(Ur,{label:"",placeholder:" ",...n.getInputProps("accountName"),required:!0}),T.jsx(hd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),T.jsx(Qe,{justify:"center",mt:"md",children:T.jsx($e,{type:"submit",children:""})})]})})]})})},S$=({children:e})=>{const t=ke(i=>i.testServerStore.error),r=ke(i=>i.userStore.error),{showError:n}=zi();return D.useEffect(()=>{t!==""&&n(t)},[t]),D.useEffect(()=>{r!==""&&n(r)},[r]),T.jsx(T.Fragment,{children:e})},b$=()=>T.jsx(iA,{children:T.jsx(aA,{children:T.jsx(zL,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:T.jsxs(A_,{children:[T.jsx(gs,{}),T.jsx(S$,{children:T.jsxs(jL,{children:[T.jsx(Ua,{path:"/",element:T.jsx(NA,{})}),T.jsx(Ua,{path:"/main",element:T.jsx(y$,{})}),T.jsx(Ua,{path:"/login",element:T.jsx(OA,{})}),T.jsx(Ua,{path:"/register",element:T.jsx(w$,{})})]})})]})})})}),_$=GN({reducer:{userStore:LA,appStore:zA,testServerStore:K3}});XR.createRoot(document.getElementById("root")).render(T.jsx(dE,{store:_$,children:T.jsx(b$,{})}));
