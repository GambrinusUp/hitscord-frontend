var LR=Object.defineProperty;var jR=(e,t,r)=>t in e?LR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var yp=(e,t,r)=>jR(e,typeof t!="symbol"?t+"":t,r);function OR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var NR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wp={exports:{}},ya={},Sp={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function AR(){if(gw)return Me;gw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function C(B,Y,ae){this.props=B,this.context=Y,this.refs=R,this.updater=ae||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=C.prototype;function _(B,Y,ae){this.props=B,this.context=Y,this.refs=R,this.updater=ae||S}var p=_.prototype=new E;p.constructor=_,b(p,C.prototype),p.isPureReactComponent=!0;var f=Array.isArray,m=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(B,Y,ae){var de,ee={},oe=null,ue=null;if(Y!=null)for(de in Y.ref!==void 0&&(ue=Y.ref),Y.key!==void 0&&(oe=""+Y.key),Y)m.call(Y,de)&&!k.hasOwnProperty(de)&&(ee[de]=Y[de]);var me=arguments.length-2;if(me===1)ee.children=ae;else if(1<me){for(var he=Array(me),Ce=0;Ce<me;Ce++)he[Ce]=arguments[Ce+2];ee.children=he}if(B&&B.defaultProps)for(de in me=B.defaultProps,me)ee[de]===void 0&&(ee[de]=me[de]);return{$$typeof:e,type:B,key:oe,ref:ue,props:ee,_owner:x.current}}function j(B,Y){return{$$typeof:e,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function A(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return Y[ae]})}var N=/\/+/g;function V(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?A(""+B.key):Y.toString(36)}function W(B,Y,ae,de,ee){var oe=typeof B;(oe==="undefined"||oe==="boolean")&&(B=null);var ue=!1;if(B===null)ue=!0;else switch(oe){case"string":case"number":ue=!0;break;case"object":switch(B.$$typeof){case e:case t:ue=!0}}if(ue)return ue=B,ee=ee(ue),B=de===""?"."+V(ue,0):de,f(ee)?(ae="",B!=null&&(ae=B.replace(N,"$&/")+"/"),W(ee,Y,ae,"",function(Ce){return Ce})):ee!=null&&(L(ee)&&(ee=j(ee,ae+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+B)),Y.push(ee)),1;if(ue=0,de=de===""?".":de+":",f(B))for(var me=0;me<B.length;me++){oe=B[me];var he=de+V(oe,me);ue+=W(oe,Y,ae,he,ee)}else if(he=w(B),typeof he=="function")for(B=he.call(B),me=0;!(oe=B.next()).done;)oe=oe.value,he=de+V(oe,me++),ue+=W(oe,Y,ae,he,ee);else if(oe==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ue}function X(B,Y,ae){if(B==null)return B;var de=[],ee=0;return W(B,de,"","",function(oe){return Y.call(ae,oe,ee++)}),de}function O(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},F={transition:null},z={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};function q(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:X,forEach:function(B,Y,ae){X(B,function(){Y.apply(this,arguments)},ae)},count:function(B){var Y=0;return X(B,function(){Y++}),Y},toArray:function(B){return X(B,function(Y){return Y})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Me.Component=C,Me.Fragment=r,Me.Profiler=i,Me.PureComponent=_,Me.StrictMode=n,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Me.act=q,Me.cloneElement=function(B,Y,ae){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var de=b({},B.props),ee=B.key,oe=B.ref,ue=B._owner;if(Y!=null){if(Y.ref!==void 0&&(oe=Y.ref,ue=x.current),Y.key!==void 0&&(ee=""+Y.key),B.type&&B.type.defaultProps)var me=B.type.defaultProps;for(he in Y)m.call(Y,he)&&!k.hasOwnProperty(he)&&(de[he]=Y[he]===void 0&&me!==void 0?me[he]:Y[he])}var he=arguments.length-2;if(he===1)de.children=ae;else if(1<he){me=Array(he);for(var Ce=0;Ce<he;Ce++)me[Ce]=arguments[Ce+2];de.children=me}return{$$typeof:e,type:B.type,key:ee,ref:oe,props:de,_owner:ue}},Me.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Me.createElement=I,Me.createFactory=function(B){var Y=I.bind(null,B);return Y.type=B,Y},Me.createRef=function(){return{current:null}},Me.forwardRef=function(B){return{$$typeof:u,render:B}},Me.isValidElement=L,Me.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:O}},Me.memo=function(B,Y){return{$$typeof:h,type:B,compare:Y===void 0?null:Y}},Me.startTransition=function(B){var Y=F.transition;F.transition={};try{B()}finally{F.transition=Y}},Me.unstable_act=q,Me.useCallback=function(B,Y){return U.current.useCallback(B,Y)},Me.useContext=function(B){return U.current.useContext(B)},Me.useDebugValue=function(){},Me.useDeferredValue=function(B){return U.current.useDeferredValue(B)},Me.useEffect=function(B,Y){return U.current.useEffect(B,Y)},Me.useId=function(){return U.current.useId()},Me.useImperativeHandle=function(B,Y,ae){return U.current.useImperativeHandle(B,Y,ae)},Me.useInsertionEffect=function(B,Y){return U.current.useInsertionEffect(B,Y)},Me.useLayoutEffect=function(B,Y){return U.current.useLayoutEffect(B,Y)},Me.useMemo=function(B,Y){return U.current.useMemo(B,Y)},Me.useReducer=function(B,Y,ae){return U.current.useReducer(B,Y,ae)},Me.useRef=function(B){return U.current.useRef(B)},Me.useState=function(B){return U.current.useState(B)},Me.useSyncExternalStore=function(B,Y,ae){return U.current.useSyncExternalStore(B,Y,ae)},Me.useTransition=function(){return U.current.useTransition()},Me.version="18.3.1",Me}var vw;function Cu(){return vw||(vw=1,Sp.exports=AR()),Sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function $R(){if(yw)return ya;yw=1;var e=Cu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var v,y={},w=null,S=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(v in d)n.call(d,v)&&!a.hasOwnProperty(v)&&(y[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)y[v]===void 0&&(y[v]=d[v]);return{$$typeof:t,type:u,key:w,ref:S,props:y,_owner:i.current}}return ya.Fragment=r,ya.jsx=c,ya.jsxs=c,ya}var ww;function FR(){return ww||(ww=1,wp.exports=$R()),wp.exports}var P=FR(),wl={},_p={exports:{}},dr={},bp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function zR(){return Sw||(Sw=1,function(e){function t(F,z){var q=F.length;F.push(z);e:for(;0<q;){var B=q-1>>>1,Y=F[B];if(0<i(Y,z))F[B]=z,F[q]=Y,q=B;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],q=F.pop();if(q!==z){F[0]=q;e:for(var B=0,Y=F.length,ae=Y>>>1;B<ae;){var de=2*(B+1)-1,ee=F[de],oe=de+1,ue=F[oe];if(0>i(ee,q))oe<Y&&0>i(ue,ee)?(F[B]=ue,F[oe]=q,B=oe):(F[B]=ee,F[de]=q,B=de);else if(oe<Y&&0>i(ue,q))F[B]=ue,F[oe]=q,B=oe;else break e}}return z}function i(F,z){var q=F.sortIndex-z.sortIndex;return q!==0?q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],v=1,y=null,w=3,S=!1,b=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(F){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=F)n(h),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(h)}}function f(F){if(R=!1,p(F),!b)if(r(d)!==null)b=!0,O(m);else{var z=r(h);z!==null&&U(f,z.startTime-F)}}function m(F,z){b=!1,R&&(R=!1,E(I),I=-1),S=!0;var q=w;try{for(p(z),y=r(d);y!==null&&(!(y.expirationTime>z)||F&&!A());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var Y=B(y.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?y.callback=Y:y===r(d)&&n(d),p(z)}else n(d);y=r(d)}if(y!==null)var ae=!0;else{var de=r(h);de!==null&&U(f,de.startTime-z),ae=!1}return ae}finally{y=null,w=q,S=!1}}var x=!1,k=null,I=-1,j=5,L=-1;function A(){return!(e.unstable_now()-L<j)}function N(){if(k!==null){var F=e.unstable_now();L=F;var z=!0;try{z=k(!0,F)}finally{z?V():(x=!1,k=null)}}else x=!1}var V;if(typeof _=="function")V=function(){_(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=N,V=function(){X.postMessage(null)}}else V=function(){C(N,0)};function O(F){k=F,x||(x=!0,V())}function U(F,z){I=C(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,O(m))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var q=w;w=z;try{return F()}finally{w=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=w;w=F;try{return z()}finally{w=q}},e.unstable_scheduleCallback=function(F,z,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,F={id:v++,callback:z,priorityLevel:F,startTime:q,expirationTime:Y,sortIndex:-1},q>B?(F.sortIndex=q,t(h,F),r(d)===null&&F===r(h)&&(R?(E(I),I=-1):R=!0,U(f,q-B))):(F.sortIndex=Y,t(d,F),b||S||(b=!0,O(m))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var z=w;return function(){var q=w;w=z;try{return F.apply(this,arguments)}finally{w=q}}}}(xp)),xp}var _w;function BR(){return _w||(_w=1,bp.exports=zR()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function UR(){if(bw)return dr;bw=1;var e=Cu(),t=BR();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(s){return d.call(y,s)?!0:d.call(v,s)?!1:h.test(s)?y[s]=!0:(v[s]=!0,!1)}function S(s,o,l,g){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,l,g){if(o===null||typeof o>"u"||S(s,o,l,g))return!0;if(g)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,l,g,T,M,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=T,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=M,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,_);C[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function p(s,o,l,g){var T=C.hasOwnProperty(o)?C[o]:null;(T!==null?T.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,T,g)&&(l=null),g||T===null?w(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):T.mustUseProperty?s[T.propertyName]=l===null?T.type===3?!1:"":l:(o=T.attributeName,g=T.attributeNamespace,l===null?s.removeAttribute(o):(T=T.type,l=T===3||T===4&&l===!0?"":""+l,g?s.setAttributeNS(g,o,l):s.setAttribute(o,l))))}var f=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var q=Object.assign,B;function Y(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ae=!1;function de(s,o){if(!s||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var g=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){g=J}s.call(o.prototype)}else{try{throw Error()}catch(J){g=J}s()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var T=J.stack.split(`
`),M=g.stack.split(`
`),$=T.length-1,H=M.length-1;1<=$&&0<=H&&T[$]!==M[H];)H--;for(;1<=$&&0<=H;$--,H--)if(T[$]!==M[H]){if($!==1||H!==1)do if($--,H--,0>H||T[$]!==M[H]){var G=`
`+T[$].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=$&&0<=H);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Y(s):""}function ee(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case x:return"Portal";case j:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return o=s.displayName||null,o!==null?o:oe(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return oe(s(o))}catch{}}return null}function ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function he(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ce(s){var o=he(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,M=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return T.call(this)},set:function($){g=""+$,M.call(this,$)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ke(s){s._valueTracker||(s._valueTracker=Ce(s))}function gt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),g="";return s&&(g=he(s)?s.checked?"true":"false":s.value),s=g,s!==l?(o.setValue(s),!0):!1}function it(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Be(s,o){var l=o.checked;return q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Qe(s,o){var l=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;l=me(o.value!=null?o.value:l),s._wrapperState={initialChecked:g,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ze(s,o){o=o.checked,o!=null&&p(s,"checked",o,!1)}function Ge(s,o){Ze(s,o);var l=me(o.value),g=o.type;if(l!=null)g==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?pt(s,o.type,l):o.hasOwnProperty("defaultValue")&&pt(s,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Et(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function pt(s,o,l){(o!=="number"||it(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ve=Array.isArray;function Ne(s,o,l,g){if(s=s.options,o){o={};for(var T=0;T<l.length;T++)o["$"+l[T]]=!0;for(l=0;l<s.length;l++)T=o.hasOwnProperty("$"+s[l].value),s[l].selected!==T&&(s[l].selected=T),T&&g&&(s[l].defaultSelected=!0)}else{for(l=""+me(l),o=null,T=0;T<s.length;T++){if(s[T].value===l){s[T].selected=!0,g&&(s[T].defaultSelected=!0);return}o!==null||s[T].disabled||(o=s[T])}o!==null&&(o.selected=!0)}}function at(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dt(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(Ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:me(l)}}function ct(s,o){var l=me(o.value),g=me(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),g!=null&&(s.defaultValue=""+g)}function jt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Te(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Te(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Le=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,g,T){MSApp.execUnsafeLocalFunction(function(){return s(o,l,g,T)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function vt(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(s){je.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Fe[o]=Fe[s]})});function Se(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Fe.hasOwnProperty(s)&&Fe[s]?(""+o).trim():o+"px"}function lt(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var g=l.indexOf("--")===0,T=Se(l,o[l],g);l==="float"&&(l="cssFloat"),g?s.setProperty(l,T):s[l]=T}}var Vn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(s,o){if(o){if(Vn[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Dd(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function Id(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ld=null,Oo=null,No=null;function Lg(s){if(s=na(s)){if(typeof Ld!="function")throw Error(r(280));var o=s.stateNode;o&&(o=jc(o),Ld(s.stateNode,s.type,o))}}function jg(s){Oo?No?No.push(s):No=[s]:Oo=s}function Og(){if(Oo){var s=Oo,o=No;if(No=Oo=null,Lg(s),o)for(s=0;s<o.length;s++)Lg(o[s])}}function Ng(s,o){return s(o)}function Ag(){}var jd=!1;function $g(s,o,l){if(jd)return s(o,l);jd=!0;try{return Ng(s,o,l)}finally{jd=!1,(Oo!==null||No!==null)&&(Ag(),Og())}}function Ni(s,o){var l=s.stateNode;if(l===null)return null;var g=jc(l);if(g===null)return null;l=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Od=!1;if(u)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Od=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Od=!1}function Fx(s,o,l,g,T,M,$,H,G){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(se){this.onError(se)}}var $i=!1,fc=null,pc=!1,Nd=null,zx={onError:function(s){$i=!0,fc=s}};function Bx(s,o,l,g,T,M,$,H,G){$i=!1,fc=null,Fx.apply(zx,arguments)}function Ux(s,o,l,g,T,M,$,H,G){if(Bx.apply(this,arguments),$i){if($i){var J=fc;$i=!1,fc=null}else throw Error(r(198));pc||(pc=!0,Nd=J)}}function Xs(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Fg(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function zg(s){if(Xs(s)!==s)throw Error(r(188))}function Vx(s){var o=s.alternate;if(!o){if(o=Xs(s),o===null)throw Error(r(188));return o!==s?null:s}for(var l=s,g=o;;){var T=l.return;if(T===null)break;var M=T.alternate;if(M===null){if(g=T.return,g!==null){l=g;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===l)return zg(T),s;if(M===g)return zg(T),o;M=M.sibling}throw Error(r(188))}if(l.return!==g.return)l=T,g=M;else{for(var $=!1,H=T.child;H;){if(H===l){$=!0,l=T,g=M;break}if(H===g){$=!0,g=T,l=M;break}H=H.sibling}if(!$){for(H=M.child;H;){if(H===l){$=!0,l=M,g=T;break}if(H===g){$=!0,g=M,l=T;break}H=H.sibling}if(!$)throw Error(r(189))}}if(l.alternate!==g)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:o}function Bg(s){return s=Vx(s),s!==null?Ug(s):null}function Ug(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ug(s);if(o!==null)return o;s=s.sibling}return null}var Vg=t.unstable_scheduleCallback,Hg=t.unstable_cancelCallback,Hx=t.unstable_shouldYield,Wx=t.unstable_requestPaint,yt=t.unstable_now,qx=t.unstable_getCurrentPriorityLevel,Ad=t.unstable_ImmediatePriority,Wg=t.unstable_UserBlockingPriority,hc=t.unstable_NormalPriority,Gx=t.unstable_LowPriority,qg=t.unstable_IdlePriority,mc=null,Tn=null;function Kx(s){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(mc,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Qx,Yx=Math.log,Xx=Math.LN2;function Qx(s){return s>>>=0,s===0?32:31-(Yx(s)/Xx|0)|0}var gc=64,vc=4194304;function Fi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yc(s,o){var l=s.pendingLanes;if(l===0)return 0;var g=0,T=s.suspendedLanes,M=s.pingedLanes,$=l&268435455;if($!==0){var H=$&~T;H!==0?g=Fi(H):(M&=$,M!==0&&(g=Fi(M)))}else $=l&~T,$!==0?g=Fi($):M!==0&&(g=Fi(M));if(g===0)return 0;if(o!==0&&o!==g&&(o&T)===0&&(T=g&-g,M=o&-o,T>=M||T===16&&(M&4194240)!==0))return o;if((g&4)!==0&&(g|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=g;0<o;)l=31-Hr(o),T=1<<l,g|=s[l],o&=~T;return g}function Zx(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jx(s,o){for(var l=s.suspendedLanes,g=s.pingedLanes,T=s.expirationTimes,M=s.pendingLanes;0<M;){var $=31-Hr(M),H=1<<$,G=T[$];G===-1?((H&l)===0||(H&g)!==0)&&(T[$]=Zx(H,o)):G<=o&&(s.expiredLanes|=H),M&=~H}}function $d(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gg(){var s=gc;return gc<<=1,(gc&4194240)===0&&(gc=64),s}function Fd(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function zi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Hr(o),s[o]=l}function eC(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<l;){var T=31-Hr(l),M=1<<T;o[T]=0,g[T]=-1,s[T]=-1,l&=~M}}function zd(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var g=31-Hr(l),T=1<<g;T&o|s[g]&o&&(s[g]|=o),l&=~T}}var He=0;function Kg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Yg,Bd,Xg,Qg,Zg,Ud=!1,wc=[],gs=null,vs=null,ys=null,Bi=new Map,Ui=new Map,ws=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(s,o){switch(s){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(o.pointerId)}}function Vi(s,o,l,g,T,M){return s===null||s.nativeEvent!==M?(s={blockedOn:o,domEventName:l,eventSystemFlags:g,nativeEvent:M,targetContainers:[T]},o!==null&&(o=na(o),o!==null&&Bd(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),s)}function rC(s,o,l,g,T){switch(o){case"focusin":return gs=Vi(gs,s,o,l,g,T),!0;case"dragenter":return vs=Vi(vs,s,o,l,g,T),!0;case"mouseover":return ys=Vi(ys,s,o,l,g,T),!0;case"pointerover":var M=T.pointerId;return Bi.set(M,Vi(Bi.get(M)||null,s,o,l,g,T)),!0;case"gotpointercapture":return M=T.pointerId,Ui.set(M,Vi(Ui.get(M)||null,s,o,l,g,T)),!0}return!1}function ev(s){var o=Qs(s.target);if(o!==null){var l=Xs(o);if(l!==null){if(o=l.tag,o===13){if(o=Fg(l),o!==null){s.blockedOn=o,Zg(s.priority,function(){Xg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Hd(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var g=new l.constructor(l.type,l);Md=g,l.target.dispatchEvent(g),Md=null}else return o=na(l),o!==null&&Bd(o),s.blockedOn=l,!1;o.shift()}return!0}function tv(s,o,l){Sc(s)&&l.delete(o)}function nC(){Ud=!1,gs!==null&&Sc(gs)&&(gs=null),vs!==null&&Sc(vs)&&(vs=null),ys!==null&&Sc(ys)&&(ys=null),Bi.forEach(tv),Ui.forEach(tv)}function Hi(s,o){s.blockedOn===o&&(s.blockedOn=null,Ud||(Ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nC)))}function Wi(s){function o(T){return Hi(T,s)}if(0<wc.length){Hi(wc[0],s);for(var l=1;l<wc.length;l++){var g=wc[l];g.blockedOn===s&&(g.blockedOn=null)}}for(gs!==null&&Hi(gs,s),vs!==null&&Hi(vs,s),ys!==null&&Hi(ys,s),Bi.forEach(o),Ui.forEach(o),l=0;l<ws.length;l++)g=ws[l],g.blockedOn===s&&(g.blockedOn=null);for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)ev(l),l.blockedOn===null&&ws.shift()}var Ao=f.ReactCurrentBatchConfig,_c=!0;function sC(s,o,l,g){var T=He,M=Ao.transition;Ao.transition=null;try{He=1,Vd(s,o,l,g)}finally{He=T,Ao.transition=M}}function oC(s,o,l,g){var T=He,M=Ao.transition;Ao.transition=null;try{He=4,Vd(s,o,l,g)}finally{He=T,Ao.transition=M}}function Vd(s,o,l,g){if(_c){var T=Hd(s,o,l,g);if(T===null)cf(s,o,g,bc,l),Jg(s,g);else if(rC(T,s,o,l,g))g.stopPropagation();else if(Jg(s,g),o&4&&-1<tC.indexOf(s)){for(;T!==null;){var M=na(T);if(M!==null&&Yg(M),M=Hd(s,o,l,g),M===null&&cf(s,o,g,bc,l),M===T)break;T=M}T!==null&&g.stopPropagation()}else cf(s,o,g,null,l)}}var bc=null;function Hd(s,o,l,g){if(bc=null,s=Id(g),s=Qs(s),s!==null)if(o=Xs(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Fg(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return bc=s,null}function rv(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qx()){case Ad:return 1;case Wg:return 4;case hc:case Gx:return 16;case qg:return 536870912;default:return 16}default:return 16}}var Ss=null,Wd=null,xc=null;function nv(){if(xc)return xc;var s,o=Wd,l=o.length,g,T="value"in Ss?Ss.value:Ss.textContent,M=T.length;for(s=0;s<l&&o[s]===T[s];s++);var $=l-s;for(g=1;g<=$&&o[l-g]===T[M-g];g++);return xc=T.slice(s,1<g?1-g:void 0)}function Cc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Rc(){return!0}function sv(){return!1}function Sr(s){function o(l,g,T,M,$){this._reactName=l,this._targetInst=T,this.type=g,this.nativeEvent=M,this.target=$,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(l=s[H],this[H]=l?l(M):M[H]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Rc:sv,this.isPropagationStopped=sv,this}return q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),o}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Sr($o),qi=q({},$o,{view:0,detail:0}),iC=Sr(qi),Gd,Kd,Gi,Ec=q({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(Gd=s.screenX-Gi.screenX,Kd=s.screenY-Gi.screenY):Kd=Gd=0,Gi=s),Gd)},movementY:function(s){return"movementY"in s?s.movementY:Kd}}),ov=Sr(Ec),aC=q({},Ec,{dataTransfer:0}),cC=Sr(aC),lC=q({},qi,{relatedTarget:0}),Yd=Sr(lC),uC=q({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),dC=Sr(uC),fC=q({},$o,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),pC=Sr(fC),hC=q({},$o,{data:0}),iv=Sr(hC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=vC[s])?!!o[s]:!1}function Xd(){return yC}var wC=q({},qi,{key:function(s){if(s.key){var o=mC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(s){return s.type==="keypress"?Cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),SC=Sr(wC),_C=q({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),av=Sr(_C),bC=q({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),xC=Sr(bC),CC=q({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=Sr(CC),EC=q({},Ec,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=Sr(EC),PC=[9,13,27,32],Qd=u&&"CompositionEvent"in window,Ki=null;u&&"documentMode"in document&&(Ki=document.documentMode);var kC=u&&"TextEvent"in window&&!Ki,cv=u&&(!Qd||Ki&&8<Ki&&11>=Ki),lv=" ",uv=!1;function dv(s,o){switch(s){case"keyup":return PC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function DC(s,o){switch(s){case"compositionend":return fv(o);case"keypress":return o.which!==32?null:(uv=!0,lv);case"textInput":return s=o.data,s===lv&&uv?null:s;default:return null}}function MC(s,o){if(Fo)return s==="compositionend"||!Qd&&dv(s,o)?(s=nv(),xc=Wd=Ss=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cv&&o.locale!=="ko"?null:o.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!IC[s.type]:o==="textarea"}function hv(s,o,l,g){jg(g),o=Mc(o,"onChange"),0<o.length&&(l=new qd("onChange","change",null,l,g),s.push({event:l,listeners:o}))}var Yi=null,Xi=null;function LC(s){Iv(s,0)}function Tc(s){var o=Ho(s);if(gt(o))return s}function jC(s,o){if(s==="change")return o}var mv=!1;if(u){var Zd;if(u){var Jd="oninput"in document;if(!Jd){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Jd=typeof gv.oninput=="function"}Zd=Jd}else Zd=!1;mv=Zd&&(!document.documentMode||9<document.documentMode)}function vv(){Yi&&(Yi.detachEvent("onpropertychange",yv),Xi=Yi=null)}function yv(s){if(s.propertyName==="value"&&Tc(Xi)){var o=[];hv(o,Xi,s,Id(s)),$g(LC,o)}}function OC(s,o,l){s==="focusin"?(vv(),Yi=o,Xi=l,Yi.attachEvent("onpropertychange",yv)):s==="focusout"&&vv()}function NC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tc(Xi)}function AC(s,o){if(s==="click")return Tc(o)}function $C(s,o){if(s==="input"||s==="change")return Tc(o)}function FC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Wr=typeof Object.is=="function"?Object.is:FC;function Qi(s,o){if(Wr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),g=Object.keys(o);if(l.length!==g.length)return!1;for(g=0;g<l.length;g++){var T=l[g];if(!d.call(o,T)||!Wr(s[T],o[T]))return!1}return!0}function wv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sv(s,o){var l=wv(s);s=0;for(var g;l;){if(l.nodeType===3){if(g=s+l.textContent.length,s<=o&&g>=o)return{node:l,offset:o-s};s=g}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wv(l)}}function _v(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?_v(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function bv(){for(var s=window,o=it();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=it(s.document)}return o}function ef(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function zC(s){var o=bv(),l=s.focusedElem,g=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&_v(l.ownerDocument.documentElement,l)){if(g!==null&&ef(l)){if(o=g.start,s=g.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var T=l.textContent.length,M=Math.min(g.start,T);g=g.end===void 0?M:Math.min(g.end,T),!s.extend&&M>g&&(T=g,g=M,M=T),T=Sv(l,M);var $=Sv(l,g);T&&$&&(s.rangeCount!==1||s.anchorNode!==T.node||s.anchorOffset!==T.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(T.node,T.offset),s.removeAllRanges(),M>g?(s.addRange(o),s.extend($.node,$.offset)):(o.setEnd($.node,$.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var BC=u&&"documentMode"in document&&11>=document.documentMode,zo=null,tf=null,Zi=null,rf=!1;function xv(s,o,l){var g=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rf||zo==null||zo!==it(g)||(g=zo,"selectionStart"in g&&ef(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zi&&Qi(Zi,g)||(Zi=g,g=Mc(tf,"onSelect"),0<g.length&&(o=new qd("onSelect","select",null,o,l),s.push({event:o,listeners:g}),o.target=zo)))}function Pc(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Bo={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},nf={},Cv={};u&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function kc(s){if(nf[s])return nf[s];if(!Bo[s])return s;var o=Bo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Cv)return nf[s]=o[l];return s}var Rv=kc("animationend"),Ev=kc("animationiteration"),Tv=kc("animationstart"),Pv=kc("transitionend"),kv=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,o){kv.set(s,o),a(o,[s])}for(var sf=0;sf<Dv.length;sf++){var of=Dv[sf],UC=of.toLowerCase(),VC=of[0].toUpperCase()+of.slice(1);_s(UC,"on"+VC)}_s(Rv,"onAnimationEnd"),_s(Ev,"onAnimationIteration"),_s(Tv,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Pv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Mv(s,o,l){var g=s.type||"unknown-event";s.currentTarget=l,Ux(g,o,void 0,s),s.currentTarget=null}function Iv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var g=s[l],T=g.event;g=g.listeners;e:{var M=void 0;if(o)for(var $=g.length-1;0<=$;$--){var H=g[$],G=H.instance,J=H.currentTarget;if(H=H.listener,G!==M&&T.isPropagationStopped())break e;Mv(T,H,J),M=G}else for($=0;$<g.length;$++){if(H=g[$],G=H.instance,J=H.currentTarget,H=H.listener,G!==M&&T.isPropagationStopped())break e;Mv(T,H,J),M=G}}}if(pc)throw s=Nd,pc=!1,Nd=null,s}function Je(s,o){var l=o[hf];l===void 0&&(l=o[hf]=new Set);var g=s+"__bubble";l.has(g)||(Lv(o,s,2,!1),l.add(g))}function af(s,o,l){var g=0;o&&(g|=4),Lv(l,s,g,o)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function ea(s){if(!s[Dc]){s[Dc]=!0,n.forEach(function(l){l!=="selectionchange"&&(HC.has(l)||af(l,!1,s),af(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Dc]||(o[Dc]=!0,af("selectionchange",!1,o))}}function Lv(s,o,l,g){switch(rv(o)){case 1:var T=sC;break;case 4:T=oC;break;default:T=Vd}l=T.bind(null,o,l,s),T=void 0,!Od||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),g?T!==void 0?s.addEventListener(o,l,{capture:!0,passive:T}):s.addEventListener(o,l,!0):T!==void 0?s.addEventListener(o,l,{passive:T}):s.addEventListener(o,l,!1)}function cf(s,o,l,g,T){var M=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var H=g.stateNode.containerInfo;if(H===T||H.nodeType===8&&H.parentNode===T)break;if($===4)for($=g.return;$!==null;){var G=$.tag;if((G===3||G===4)&&(G=$.stateNode.containerInfo,G===T||G.nodeType===8&&G.parentNode===T))return;$=$.return}for(;H!==null;){if($=Qs(H),$===null)return;if(G=$.tag,G===5||G===6){g=M=$;continue e}H=H.parentNode}}g=g.return}$g(function(){var J=M,se=Id(l),ce=[];e:{var ne=kv.get(s);if(ne!==void 0){var pe=qd,ve=s;switch(s){case"keypress":if(Cc(l)===0)break e;case"keydown":case"keyup":pe=SC;break;case"focusin":ve="focus",pe=Yd;break;case"focusout":ve="blur",pe=Yd;break;case"beforeblur":case"afterblur":pe=Yd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=xC;break;case Rv:case Ev:case Tv:pe=dC;break;case Pv:pe=RC;break;case"scroll":pe=iC;break;case"wheel":pe=TC;break;case"copy":case"cut":case"paste":pe=pC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=av}var we=(o&4)!==0,wt=!we&&s==="scroll",Q=we?ne!==null?ne+"Capture":null:ne;we=[];for(var K=J,Z;K!==null;){Z=K;var le=Z.stateNode;if(Z.tag===5&&le!==null&&(Z=le,Q!==null&&(le=Ni(K,Q),le!=null&&we.push(ta(K,le,Z)))),wt)break;K=K.return}0<we.length&&(ne=new pe(ne,ve,null,l,se),ce.push({event:ne,listeners:we}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ne&&l!==Md&&(ve=l.relatedTarget||l.fromElement)&&(Qs(ve)||ve[Hn]))break e;if((pe||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=J,ve=ve?Qs(ve):null,ve!==null&&(wt=Xs(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=J),pe!==ve)){if(we=ov,le="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(we=av,le="onPointerLeave",Q="onPointerEnter",K="pointer"),wt=pe==null?ne:Ho(pe),Z=ve==null?ne:Ho(ve),ne=new we(le,K+"leave",pe,l,se),ne.target=wt,ne.relatedTarget=Z,le=null,Qs(se)===J&&(we=new we(Q,K+"enter",ve,l,se),we.target=Z,we.relatedTarget=wt,le=we),wt=le,pe&&ve)t:{for(we=pe,Q=ve,K=0,Z=we;Z;Z=Uo(Z))K++;for(Z=0,le=Q;le;le=Uo(le))Z++;for(;0<K-Z;)we=Uo(we),K--;for(;0<Z-K;)Q=Uo(Q),Z--;for(;K--;){if(we===Q||Q!==null&&we===Q.alternate)break t;we=Uo(we),Q=Uo(Q)}we=null}else we=null;pe!==null&&jv(ce,ne,pe,we,!1),ve!==null&&wt!==null&&jv(ce,wt,ve,we,!0)}}e:{if(ne=J?Ho(J):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var _e=jC;else if(pv(ne))if(mv)_e=$C;else{_e=NC;var be=OC}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(_e=AC);if(_e&&(_e=_e(s,J))){hv(ce,_e,l,se);break e}be&&be(s,ne,J),s==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&pt(ne,"number",ne.value)}switch(be=J?Ho(J):window,s){case"focusin":(pv(be)||be.contentEditable==="true")&&(zo=be,tf=J,Zi=null);break;case"focusout":Zi=tf=zo=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,xv(ce,l,se);break;case"selectionchange":if(BC)break;case"keydown":case"keyup":xv(ce,l,se)}var xe;if(Qd)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Fo?dv(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(cv&&l.locale!=="ko"&&(Fo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Fo&&(xe=nv()):(Ss=se,Wd="value"in Ss?Ss.value:Ss.textContent,Fo=!0)),be=Mc(J,Re),0<be.length&&(Re=new iv(Re,s,null,l,se),ce.push({event:Re,listeners:be}),xe?Re.data=xe:(xe=fv(l),xe!==null&&(Re.data=xe)))),(xe=kC?DC(s,l):MC(s,l))&&(J=Mc(J,"onBeforeInput"),0<J.length&&(se=new iv("onBeforeInput","beforeinput",null,l,se),ce.push({event:se,listeners:J}),se.data=xe))}Iv(ce,o)})}function ta(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Mc(s,o){for(var l=o+"Capture",g=[];s!==null;){var T=s,M=T.stateNode;T.tag===5&&M!==null&&(T=M,M=Ni(s,l),M!=null&&g.unshift(ta(s,M,T)),M=Ni(s,o),M!=null&&g.push(ta(s,M,T))),s=s.return}return g}function Uo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function jv(s,o,l,g,T){for(var M=o._reactName,$=[];l!==null&&l!==g;){var H=l,G=H.alternate,J=H.stateNode;if(G!==null&&G===g)break;H.tag===5&&J!==null&&(H=J,T?(G=Ni(l,M),G!=null&&$.unshift(ta(l,G,H))):T||(G=Ni(l,M),G!=null&&$.push(ta(l,G,H)))),l=l.return}$.length!==0&&s.push({event:o,listeners:$})}var WC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function Ov(s){return(typeof s=="string"?s:""+s).replace(WC,`
`).replace(qC,"")}function Ic(s,o,l){if(o=Ov(o),Ov(s)!==o&&l)throw Error(r(425))}function Lc(){}var lf=null,uf=null;function df(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(s){return Nv.resolve(null).then(s).catch(YC)}:ff;function YC(s){setTimeout(function(){throw s})}function pf(s,o){var l=o,g=0;do{var T=l.nextSibling;if(s.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(g===0){s.removeChild(T),Wi(o);return}g--}else l!=="$"&&l!=="$?"&&l!=="$!"||g++;l=T}while(l);Wi(o)}function bs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Av(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Vo,ra="__reactProps$"+Vo,Hn="__reactContainer$"+Vo,hf="__reactEvents$"+Vo,XC="__reactListeners$"+Vo,QC="__reactHandles$"+Vo;function Qs(s){var o=s[Pn];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Hn]||l[Pn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Av(s);s!==null;){if(l=s[Pn])return l;s=Av(s)}return o}s=l,l=s.parentNode}return null}function na(s){return s=s[Pn]||s[Hn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ho(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function jc(s){return s[ra]||null}var mf=[],Wo=-1;function xs(s){return{current:s}}function et(s){0>Wo||(s.current=mf[Wo],mf[Wo]=null,Wo--)}function Xe(s,o){Wo++,mf[Wo]=s.current,s.current=o}var Cs={},Ht=xs(Cs),ir=xs(!1),Zs=Cs;function qo(s,o){var l=s.type.contextTypes;if(!l)return Cs;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var T={},M;for(M in l)T[M]=o[M];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=T),T}function ar(s){return s=s.childContextTypes,s!=null}function Oc(){et(ir),et(Ht)}function $v(s,o,l){if(Ht.current!==Cs)throw Error(r(168));Xe(Ht,o),Xe(ir,l)}function Fv(s,o,l){var g=s.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return l;g=g.getChildContext();for(var T in g)if(!(T in o))throw Error(r(108,ue(s)||"Unknown",T));return q({},l,g)}function Nc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,Zs=Ht.current,Xe(Ht,s),Xe(ir,ir.current),!0}function zv(s,o,l){var g=s.stateNode;if(!g)throw Error(r(169));l?(s=Fv(s,o,Zs),g.__reactInternalMemoizedMergedChildContext=s,et(ir),et(Ht),Xe(Ht,s)):et(ir),Xe(ir,l)}var Wn=null,Ac=!1,gf=!1;function Bv(s){Wn===null?Wn=[s]:Wn.push(s)}function ZC(s){Ac=!0,Bv(s)}function Rs(){if(!gf&&Wn!==null){gf=!0;var s=0,o=He;try{var l=Wn;for(He=1;s<l.length;s++){var g=l[s];do g=g(!0);while(g!==null)}Wn=null,Ac=!1}catch(T){throw Wn!==null&&(Wn=Wn.slice(s+1)),Vg(Ad,Rs),T}finally{He=o,gf=!1}}return null}var Go=[],Ko=0,$c=null,Fc=0,Dr=[],Mr=0,Js=null,qn=1,Gn="";function eo(s,o){Go[Ko++]=Fc,Go[Ko++]=$c,$c=s,Fc=o}function Uv(s,o,l){Dr[Mr++]=qn,Dr[Mr++]=Gn,Dr[Mr++]=Js,Js=s;var g=qn;s=Gn;var T=32-Hr(g)-1;g&=~(1<<T),l+=1;var M=32-Hr(o)+T;if(30<M){var $=T-T%5;M=(g&(1<<$)-1).toString(32),g>>=$,T-=$,qn=1<<32-Hr(o)+T|l<<T|g,Gn=M+s}else qn=1<<M|l<<T|g,Gn=s}function vf(s){s.return!==null&&(eo(s,1),Uv(s,1,0))}function yf(s){for(;s===$c;)$c=Go[--Ko],Go[Ko]=null,Fc=Go[--Ko],Go[Ko]=null;for(;s===Js;)Js=Dr[--Mr],Dr[Mr]=null,Gn=Dr[--Mr],Dr[Mr]=null,qn=Dr[--Mr],Dr[Mr]=null}var _r=null,br=null,st=!1,qr=null;function Vv(s,o){var l=Or(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Hv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_r=s,br=bs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_r=s,br=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Js!==null?{id:qn,overflow:Gn}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Or(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,_r=s,br=null,!0):!1;default:return!1}}function wf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sf(s){if(st){var o=br;if(o){var l=o;if(!Hv(s,o)){if(wf(s))throw Error(r(418));o=bs(l.nextSibling);var g=_r;o&&Hv(s,o)?Vv(g,l):(s.flags=s.flags&-4097|2,st=!1,_r=s)}}else{if(wf(s))throw Error(r(418));s.flags=s.flags&-4097|2,st=!1,_r=s}}}function Wv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_r=s}function zc(s){if(s!==_r)return!1;if(!st)return Wv(s),st=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!df(s.type,s.memoizedProps)),o&&(o=br)){if(wf(s))throw qv(),Error(r(418));for(;o;)Vv(s,o),o=bs(o.nextSibling)}if(Wv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){br=bs(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}br=null}}else br=_r?bs(s.stateNode.nextSibling):null;return!0}function qv(){for(var s=br;s;)s=bs(s.nextSibling)}function Yo(){br=_r=null,st=!1}function _f(s){qr===null?qr=[s]:qr.push(s)}var JC=f.ReactCurrentBatchConfig;function sa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var g=l.stateNode}if(!g)throw Error(r(147,s));var T=g,M=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===M?o.ref:(o=function($){var H=T.refs;$===null?delete H[M]:H[M]=$},o._stringRef=M,o)}if(typeof s!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,s))}return s}function Bc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Gv(s){var o=s._init;return o(s._payload)}function Kv(s){function o(Q,K){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function l(Q,K){if(!s)return null;for(;K!==null;)o(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function T(Q,K){return Q=Ls(Q,K),Q.index=0,Q.sibling=null,Q}function M(Q,K,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=2,K):Z):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function $(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function H(Q,K,Z,le){return K===null||K.tag!==6?(K=fp(Z,Q.mode,le),K.return=Q,K):(K=T(K,Z),K.return=Q,K)}function G(Q,K,Z,le){var _e=Z.type;return _e===k?se(Q,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Gv(_e)===K.type)?(le=T(K,Z.props),le.ref=sa(Q,K,Z),le.return=Q,le):(le=dl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=sa(Q,K,Z),le.return=Q,le)}function J(Q,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=pp(Z,Q.mode,le),K.return=Q,K):(K=T(K,Z.children||[]),K.return=Q,K)}function se(Q,K,Z,le,_e){return K===null||K.tag!==7?(K=co(Z,Q.mode,le,_e),K.return=Q,K):(K=T(K,Z),K.return=Q,K)}function ce(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=fp(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=dl(K.type,K.key,K.props,null,Q.mode,Z),Z.ref=sa(Q,null,K),Z.return=Q,Z;case x:return K=pp(K,Q.mode,Z),K.return=Q,K;case O:var le=K._init;return ce(Q,le(K._payload),Z)}if(Ve(K)||z(K))return K=co(K,Q.mode,Z,null),K.return=Q,K;Bc(Q,K)}return null}function ne(Q,K,Z,le){var _e=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return _e!==null?null:H(Q,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===_e?G(Q,K,Z,le):null;case x:return Z.key===_e?J(Q,K,Z,le):null;case O:return _e=Z._init,ne(Q,K,_e(Z._payload),le)}if(Ve(Z)||z(Z))return _e!==null?null:se(Q,K,Z,le,null);Bc(Q,Z)}return null}function pe(Q,K,Z,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return Q=Q.get(Z)||null,H(K,Q,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return Q=Q.get(le.key===null?Z:le.key)||null,G(K,Q,le,_e);case x:return Q=Q.get(le.key===null?Z:le.key)||null,J(K,Q,le,_e);case O:var be=le._init;return pe(Q,K,Z,be(le._payload),_e)}if(Ve(le)||z(le))return Q=Q.get(Z)||null,se(K,Q,le,_e,null);Bc(K,le)}return null}function ve(Q,K,Z,le){for(var _e=null,be=null,xe=K,Re=K=0,Lt=null;xe!==null&&Re<Z.length;Re++){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var ze=ne(Q,xe,Z[Re],le);if(ze===null){xe===null&&(xe=Lt);break}s&&xe&&ze.alternate===null&&o(Q,xe),K=M(ze,K,Re),be===null?_e=ze:be.sibling=ze,be=ze,xe=Lt}if(Re===Z.length)return l(Q,xe),st&&eo(Q,Re),_e;if(xe===null){for(;Re<Z.length;Re++)xe=ce(Q,Z[Re],le),xe!==null&&(K=M(xe,K,Re),be===null?_e=xe:be.sibling=xe,be=xe);return st&&eo(Q,Re),_e}for(xe=g(Q,xe);Re<Z.length;Re++)Lt=pe(xe,Q,Re,Z[Re],le),Lt!==null&&(s&&Lt.alternate!==null&&xe.delete(Lt.key===null?Re:Lt.key),K=M(Lt,K,Re),be===null?_e=Lt:be.sibling=Lt,be=Lt);return s&&xe.forEach(function(js){return o(Q,js)}),st&&eo(Q,Re),_e}function we(Q,K,Z,le){var _e=z(Z);if(typeof _e!="function")throw Error(r(150));if(Z=_e.call(Z),Z==null)throw Error(r(151));for(var be=_e=null,xe=K,Re=K=0,Lt=null,ze=Z.next();xe!==null&&!ze.done;Re++,ze=Z.next()){xe.index>Re?(Lt=xe,xe=null):Lt=xe.sibling;var js=ne(Q,xe,ze.value,le);if(js===null){xe===null&&(xe=Lt);break}s&&xe&&js.alternate===null&&o(Q,xe),K=M(js,K,Re),be===null?_e=js:be.sibling=js,be=js,xe=Lt}if(ze.done)return l(Q,xe),st&&eo(Q,Re),_e;if(xe===null){for(;!ze.done;Re++,ze=Z.next())ze=ce(Q,ze.value,le),ze!==null&&(K=M(ze,K,Re),be===null?_e=ze:be.sibling=ze,be=ze);return st&&eo(Q,Re),_e}for(xe=g(Q,xe);!ze.done;Re++,ze=Z.next())ze=pe(xe,Q,Re,ze.value,le),ze!==null&&(s&&ze.alternate!==null&&xe.delete(ze.key===null?Re:ze.key),K=M(ze,K,Re),be===null?_e=ze:be.sibling=ze,be=ze);return s&&xe.forEach(function(IR){return o(Q,IR)}),st&&eo(Q,Re),_e}function wt(Q,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var _e=Z.key,be=K;be!==null;){if(be.key===_e){if(_e=Z.type,_e===k){if(be.tag===7){l(Q,be.sibling),K=T(be,Z.props.children),K.return=Q,Q=K;break e}}else if(be.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&Gv(_e)===be.type){l(Q,be.sibling),K=T(be,Z.props),K.ref=sa(Q,be,Z),K.return=Q,Q=K;break e}l(Q,be);break}else o(Q,be);be=be.sibling}Z.type===k?(K=co(Z.props.children,Q.mode,le,Z.key),K.return=Q,Q=K):(le=dl(Z.type,Z.key,Z.props,null,Q.mode,le),le.ref=sa(Q,K,Z),le.return=Q,Q=le)}return $(Q);case x:e:{for(be=Z.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Q,K.sibling),K=T(K,Z.children||[]),K.return=Q,Q=K;break e}else{l(Q,K);break}else o(Q,K);K=K.sibling}K=pp(Z,Q.mode,le),K.return=Q,Q=K}return $(Q);case O:return be=Z._init,wt(Q,K,be(Z._payload),le)}if(Ve(Z))return ve(Q,K,Z,le);if(z(Z))return we(Q,K,Z,le);Bc(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(l(Q,K.sibling),K=T(K,Z),K.return=Q,Q=K):(l(Q,K),K=fp(Z,Q.mode,le),K.return=Q,Q=K),$(Q)):l(Q,K)}return wt}var Xo=Kv(!0),Yv=Kv(!1),Uc=xs(null),Vc=null,Qo=null,bf=null;function xf(){bf=Qo=Vc=null}function Cf(s){var o=Uc.current;et(Uc),s._currentValue=o}function Rf(s,o,l){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===l)break;s=s.return}}function Zo(s,o){Vc=s,bf=Qo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(cr=!0),s.firstContext=null)}function Ir(s){var o=s._currentValue;if(bf!==s)if(s={context:s,memoizedValue:o,next:null},Qo===null){if(Vc===null)throw Error(r(308));Qo=s,Vc.dependencies={lanes:0,firstContext:s}}else Qo=Qo.next=s;return o}var to=null;function Ef(s){to===null?to=[s]:to.push(s)}function Xv(s,o,l,g){var T=o.interleaved;return T===null?(l.next=l,Ef(o)):(l.next=T.next,T.next=l),o.interleaved=l,Kn(s,g)}function Kn(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Es=!1;function Tf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Yn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ts(s,o,l){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,($e&2)!==0){var T=g.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),g.pending=o,Kn(s,l)}return T=g.interleaved,T===null?(o.next=o,Ef(g)):(o.next=T.next,T.next=o),g.interleaved=o,Kn(s,l)}function Hc(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var g=o.lanes;g&=s.pendingLanes,l|=g,o.lanes=l,zd(s,l)}}function Zv(s,o){var l=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,l===g)){var T=null,M=null;if(l=l.firstBaseUpdate,l!==null){do{var $={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};M===null?T=M=$:M=M.next=$,l=l.next}while(l!==null);M===null?T=M=o:M=M.next=o}else T=M=o;l={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:g.shared,effects:g.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Wc(s,o,l,g){var T=s.updateQueue;Es=!1;var M=T.firstBaseUpdate,$=T.lastBaseUpdate,H=T.shared.pending;if(H!==null){T.shared.pending=null;var G=H,J=G.next;G.next=null,$===null?M=J:$.next=J,$=G;var se=s.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==$&&(H===null?se.firstBaseUpdate=J:H.next=J,se.lastBaseUpdate=G))}if(M!==null){var ce=T.baseState;$=0,se=J=G=null,H=M;do{var ne=H.lane,pe=H.eventTime;if((g&ne)===ne){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ve=s,we=H;switch(ne=o,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ce=ve.call(pe,ce,ne);break e}ce=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ne=typeof ve=="function"?ve.call(pe,ce,ne):ve,ne==null)break e;ce=q({},ce,ne);break e;case 2:Es=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ne=T.effects,ne===null?T.effects=[H]:ne.push(H))}else pe={eventTime:pe,lane:ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(J=se=pe,G=ce):se=se.next=pe,$|=ne;if(H=H.next,H===null){if(H=T.shared.pending,H===null)break;ne=H,H=ne.next,ne.next=null,T.lastBaseUpdate=ne,T.shared.pending=null}}while(!0);if(se===null&&(G=ce),T.baseState=G,T.firstBaseUpdate=J,T.lastBaseUpdate=se,o=T.shared.interleaved,o!==null){T=o;do $|=T.lane,T=T.next;while(T!==o)}else M===null&&(T.shared.lanes=0);so|=$,s.lanes=$,s.memoizedState=ce}}function Jv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var g=s[o],T=g.callback;if(T!==null){if(g.callback=null,g=l,typeof T!="function")throw Error(r(191,T));T.call(g)}}}var oa={},kn=xs(oa),ia=xs(oa),aa=xs(oa);function ro(s){if(s===oa)throw Error(r(174));return s}function Pf(s,o){switch(Xe(aa,o),Xe(ia,s),Xe(kn,oa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pe(o,s)}et(kn),Xe(kn,o)}function Jo(){et(kn),et(ia),et(aa)}function ey(s){ro(aa.current);var o=ro(kn.current),l=Pe(o,s.type);o!==l&&(Xe(ia,s),Xe(kn,l))}function kf(s){ia.current===s&&(et(kn),et(ia))}var ut=xs(0);function qc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Df=[];function Mf(){for(var s=0;s<Df.length;s++)Df[s]._workInProgressVersionPrimary=null;Df.length=0}var Gc=f.ReactCurrentDispatcher,If=f.ReactCurrentBatchConfig,no=0,dt=null,Tt=null,Mt=null,Kc=!1,ca=!1,la=0,eR=0;function Wt(){throw Error(r(321))}function Lf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Wr(s[l],o[l]))return!1;return!0}function jf(s,o,l,g,T,M){if(no=M,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Gc.current=s===null||s.memoizedState===null?sR:oR,s=l(g,T),ca){M=0;do{if(ca=!1,la=0,25<=M)throw Error(r(301));M+=1,Mt=Tt=null,o.updateQueue=null,Gc.current=iR,s=l(g,T)}while(ca)}if(Gc.current=Qc,o=Tt!==null&&Tt.next!==null,no=0,Mt=Tt=dt=null,Kc=!1,o)throw Error(r(300));return s}function Of(){var s=la!==0;return la=0,s}function Dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?dt.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function Lr(){if(Tt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=Mt===null?dt.memoizedState:Mt.next;if(o!==null)Mt=o,Tt=s;else{if(s===null)throw Error(r(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Mt===null?dt.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}function ua(s,o){return typeof o=="function"?o(s):o}function Nf(s){var o=Lr(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var g=Tt,T=g.baseQueue,M=l.pending;if(M!==null){if(T!==null){var $=T.next;T.next=M.next,M.next=$}g.baseQueue=T=M,l.pending=null}if(T!==null){M=T.next,g=g.baseState;var H=$=null,G=null,J=M;do{var se=J.lane;if((no&se)===se)G!==null&&(G=G.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:s(g,J.action);else{var ce={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};G===null?(H=G=ce,$=g):G=G.next=ce,dt.lanes|=se,so|=se}J=J.next}while(J!==null&&J!==M);G===null?$=g:G.next=H,Wr(g,o.memoizedState)||(cr=!0),o.memoizedState=g,o.baseState=$,o.baseQueue=G,l.lastRenderedState=g}if(s=l.interleaved,s!==null){T=s;do M=T.lane,dt.lanes|=M,so|=M,T=T.next;while(T!==s)}else T===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Af(s){var o=Lr(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var g=l.dispatch,T=l.pending,M=o.memoizedState;if(T!==null){l.pending=null;var $=T=T.next;do M=s(M,$.action),$=$.next;while($!==T);Wr(M,o.memoizedState)||(cr=!0),o.memoizedState=M,o.baseQueue===null&&(o.baseState=M),l.lastRenderedState=M}return[M,g]}function ty(){}function ry(s,o){var l=dt,g=Lr(),T=o(),M=!Wr(g.memoizedState,T);if(M&&(g.memoizedState=T,cr=!0),g=g.queue,$f(oy.bind(null,l,g,s),[s]),g.getSnapshot!==o||M||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,da(9,sy.bind(null,l,g,T,o),void 0,null),It===null)throw Error(r(349));(no&30)!==0||ny(l,o,T)}return T}function ny(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function sy(s,o,l,g){o.value=l,o.getSnapshot=g,iy(o)&&ay(s)}function oy(s,o,l){return l(function(){iy(o)&&ay(s)})}function iy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Wr(s,l)}catch{return!0}}function ay(s){var o=Kn(s,1);o!==null&&Xr(o,s,1,-1)}function cy(s){var o=Dn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:s},o.queue=s,s=s.dispatch=nR.bind(null,dt,s),[o.memoizedState,s]}function da(s,o,l,g){return s={tag:s,create:o,destroy:l,deps:g,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(g=l.next,l.next=s,s.next=g,o.lastEffect=s)),s}function ly(){return Lr().memoizedState}function Yc(s,o,l,g){var T=Dn();dt.flags|=s,T.memoizedState=da(1|o,l,void 0,g===void 0?null:g)}function Xc(s,o,l,g){var T=Lr();g=g===void 0?null:g;var M=void 0;if(Tt!==null){var $=Tt.memoizedState;if(M=$.destroy,g!==null&&Lf(g,$.deps)){T.memoizedState=da(o,l,M,g);return}}dt.flags|=s,T.memoizedState=da(1|o,l,M,g)}function uy(s,o){return Yc(8390656,8,s,o)}function $f(s,o){return Xc(2048,8,s,o)}function dy(s,o){return Xc(4,2,s,o)}function fy(s,o){return Xc(4,4,s,o)}function py(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function hy(s,o,l){return l=l!=null?l.concat([s]):null,Xc(4,4,py.bind(null,o,s),l)}function Ff(){}function my(s,o){var l=Lr();o=o===void 0?null:o;var g=l.memoizedState;return g!==null&&o!==null&&Lf(o,g[1])?g[0]:(l.memoizedState=[s,o],s)}function gy(s,o){var l=Lr();o=o===void 0?null:o;var g=l.memoizedState;return g!==null&&o!==null&&Lf(o,g[1])?g[0]:(s=s(),l.memoizedState=[s,o],s)}function vy(s,o,l){return(no&21)===0?(s.baseState&&(s.baseState=!1,cr=!0),s.memoizedState=l):(Wr(l,o)||(l=Gg(),dt.lanes|=l,so|=l,s.baseState=!0),o)}function tR(s,o){var l=He;He=l!==0&&4>l?l:4,s(!0);var g=If.transition;If.transition={};try{s(!1),o()}finally{He=l,If.transition=g}}function yy(){return Lr().memoizedState}function rR(s,o,l){var g=Ms(s);if(l={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null},wy(s))Sy(o,l);else if(l=Xv(s,o,l,g),l!==null){var T=Jt();Xr(l,s,g,T),_y(l,o,g)}}function nR(s,o,l){var g=Ms(s),T={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null};if(wy(s))Sy(o,T);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=o.lastRenderedReducer,M!==null))try{var $=o.lastRenderedState,H=M($,l);if(T.hasEagerState=!0,T.eagerState=H,Wr(H,$)){var G=o.interleaved;G===null?(T.next=T,Ef(o)):(T.next=G.next,G.next=T),o.interleaved=T;return}}catch{}finally{}l=Xv(s,o,T,g),l!==null&&(T=Jt(),Xr(l,s,g,T),_y(l,o,g))}}function wy(s){var o=s.alternate;return s===dt||o!==null&&o===dt}function Sy(s,o){ca=Kc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function _y(s,o,l){if((l&4194240)!==0){var g=o.lanes;g&=s.pendingLanes,l|=g,o.lanes=l,zd(s,l)}}var Qc={readContext:Ir,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},sR={readContext:Ir,useCallback:function(s,o){return Dn().memoizedState=[s,o===void 0?null:o],s},useContext:Ir,useEffect:uy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Yc(4194308,4,py.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Yc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Yc(4,2,s,o)},useMemo:function(s,o){var l=Dn();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var g=Dn();return o=l!==void 0?l(o):o,g.memoizedState=g.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},g.queue=s,s=s.dispatch=rR.bind(null,dt,s),[g.memoizedState,s]},useRef:function(s){var o=Dn();return s={current:s},o.memoizedState=s},useState:cy,useDebugValue:Ff,useDeferredValue:function(s){return Dn().memoizedState=s},useTransition:function(){var s=cy(!1),o=s[0];return s=tR.bind(null,s[1]),Dn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var g=dt,T=Dn();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),It===null)throw Error(r(349));(no&30)!==0||ny(g,o,l)}T.memoizedState=l;var M={value:l,getSnapshot:o};return T.queue=M,uy(oy.bind(null,g,M,s),[s]),g.flags|=2048,da(9,sy.bind(null,g,M,l,o),void 0,null),l},useId:function(){var s=Dn(),o=It.identifierPrefix;if(st){var l=Gn,g=qn;l=(g&~(1<<32-Hr(g)-1)).toString(32)+l,o=":"+o+"R"+l,l=la++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=eR++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},oR={readContext:Ir,useCallback:my,useContext:Ir,useEffect:$f,useImperativeHandle:hy,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Nf,useRef:ly,useState:function(){return Nf(ua)},useDebugValue:Ff,useDeferredValue:function(s){var o=Lr();return vy(o,Tt.memoizedState,s)},useTransition:function(){var s=Nf(ua)[0],o=Lr().memoizedState;return[s,o]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1},iR={readContext:Ir,useCallback:my,useContext:Ir,useEffect:$f,useImperativeHandle:hy,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Af,useRef:ly,useState:function(){return Af(ua)},useDebugValue:Ff,useDeferredValue:function(s){var o=Lr();return Tt===null?o.memoizedState=s:vy(o,Tt.memoizedState,s)},useTransition:function(){var s=Af(ua)[0],o=Lr().memoizedState;return[s,o]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1};function Gr(s,o){if(s&&s.defaultProps){o=q({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function zf(s,o,l,g){o=s.memoizedState,l=l(g,o),l=l==null?o:q({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Zc={isMounted:function(s){return(s=s._reactInternals)?Xs(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var g=Jt(),T=Ms(s),M=Yn(g,T);M.payload=o,l!=null&&(M.callback=l),o=Ts(s,M,T),o!==null&&(Xr(o,s,T,g),Hc(o,s,T))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var g=Jt(),T=Ms(s),M=Yn(g,T);M.tag=1,M.payload=o,l!=null&&(M.callback=l),o=Ts(s,M,T),o!==null&&(Xr(o,s,T,g),Hc(o,s,T))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Jt(),g=Ms(s),T=Yn(l,g);T.tag=2,o!=null&&(T.callback=o),o=Ts(s,T,g),o!==null&&(Xr(o,s,g,l),Hc(o,s,g))}};function by(s,o,l,g,T,M,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,M,$):o.prototype&&o.prototype.isPureReactComponent?!Qi(l,g)||!Qi(T,M):!0}function xy(s,o,l){var g=!1,T=Cs,M=o.contextType;return typeof M=="object"&&M!==null?M=Ir(M):(T=ar(o)?Zs:Ht.current,g=o.contextTypes,M=(g=g!=null)?qo(s,T):Cs),o=new o(l,M),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zc,s.stateNode=o,o._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=T,s.__reactInternalMemoizedMaskedChildContext=M),o}function Cy(s,o,l,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,g),o.state!==s&&Zc.enqueueReplaceState(o,o.state,null)}function Bf(s,o,l,g){var T=s.stateNode;T.props=l,T.state=s.memoizedState,T.refs={},Tf(s);var M=o.contextType;typeof M=="object"&&M!==null?T.context=Ir(M):(M=ar(o)?Zs:Ht.current,T.context=qo(s,M)),T.state=s.memoizedState,M=o.getDerivedStateFromProps,typeof M=="function"&&(zf(s,o,M,l),T.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(o=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),o!==T.state&&Zc.enqueueReplaceState(T,T.state,null),Wc(s,l,T,g),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308)}function ei(s,o){try{var l="",g=o;do l+=ee(g),g=g.return;while(g);var T=l}catch(M){T=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:o,stack:T,digest:null}}function Uf(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Vf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function Ry(s,o,l){l=Yn(-1,l),l.tag=3,l.payload={element:null};var g=o.value;return l.callback=function(){ol||(ol=!0,sp=g),Vf(s,o)},l}function Ey(s,o,l){l=Yn(-1,l),l.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var T=o.value;l.payload=function(){return g(T)},l.callback=function(){Vf(s,o)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(l.callback=function(){Vf(s,o),typeof g!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),l}function Ty(s,o,l){var g=s.pingCache;if(g===null){g=s.pingCache=new aR;var T=new Set;g.set(o,T)}else T=g.get(o),T===void 0&&(T=new Set,g.set(o,T));T.has(l)||(T.add(l),s=_R.bind(null,s,o,l),o.then(s,s))}function Py(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function ky(s,o,l,g,T){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Yn(-1,1),o.tag=2,Ts(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=T,s)}var cR=f.ReactCurrentOwner,cr=!1;function Zt(s,o,l,g){o.child=s===null?Yv(o,null,l,g):Xo(o,s.child,l,g)}function Dy(s,o,l,g,T){l=l.render;var M=o.ref;return Zo(o,T),g=jf(s,o,l,g,M,T),l=Of(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,Xn(s,o,T)):(st&&l&&vf(o),o.flags|=1,Zt(s,o,g,T),o.child)}function My(s,o,l,g,T){if(s===null){var M=l.type;return typeof M=="function"&&!dp(M)&&M.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=M,Iy(s,o,M,g,T)):(s=dl(l.type,null,g,o,o.mode,T),s.ref=o.ref,s.return=o,o.child=s)}if(M=s.child,(s.lanes&T)===0){var $=M.memoizedProps;if(l=l.compare,l=l!==null?l:Qi,l($,g)&&s.ref===o.ref)return Xn(s,o,T)}return o.flags|=1,s=Ls(M,g),s.ref=o.ref,s.return=o,o.child=s}function Iy(s,o,l,g,T){if(s!==null){var M=s.memoizedProps;if(Qi(M,g)&&s.ref===o.ref)if(cr=!1,o.pendingProps=g=M,(s.lanes&T)!==0)(s.flags&131072)!==0&&(cr=!0);else return o.lanes=s.lanes,Xn(s,o,T)}return Hf(s,o,l,g,T)}function Ly(s,o,l){var g=o.pendingProps,T=g.children,M=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ri,xr),xr|=l;else{if((l&1073741824)===0)return s=M!==null?M.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Xe(ri,xr),xr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=M!==null?M.baseLanes:l,Xe(ri,xr),xr|=g}else M!==null?(g=M.baseLanes|l,o.memoizedState=null):g=l,Xe(ri,xr),xr|=g;return Zt(s,o,T,l),o.child}function jy(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Hf(s,o,l,g,T){var M=ar(l)?Zs:Ht.current;return M=qo(o,M),Zo(o,T),l=jf(s,o,l,g,M,T),g=Of(),s!==null&&!cr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,Xn(s,o,T)):(st&&g&&vf(o),o.flags|=1,Zt(s,o,l,T),o.child)}function Oy(s,o,l,g,T){if(ar(l)){var M=!0;Nc(o)}else M=!1;if(Zo(o,T),o.stateNode===null)el(s,o),xy(o,l,g),Bf(o,l,g,T),g=!0;else if(s===null){var $=o.stateNode,H=o.memoizedProps;$.props=H;var G=$.context,J=l.contextType;typeof J=="object"&&J!==null?J=Ir(J):(J=ar(l)?Zs:Ht.current,J=qo(o,J));var se=l.getDerivedStateFromProps,ce=typeof se=="function"||typeof $.getSnapshotBeforeUpdate=="function";ce||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==g||G!==J)&&Cy(o,$,g,J),Es=!1;var ne=o.memoizedState;$.state=ne,Wc(o,g,$,T),G=o.memoizedState,H!==g||ne!==G||ir.current||Es?(typeof se=="function"&&(zf(o,l,se,g),G=o.memoizedState),(H=Es||by(o,l,H,g,ne,G,J))?(ce||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=G),$.props=g,$.state=G,$.context=J,g=H):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{$=o.stateNode,Qv(s,o),H=o.memoizedProps,J=o.type===o.elementType?H:Gr(o.type,H),$.props=J,ce=o.pendingProps,ne=$.context,G=l.contextType,typeof G=="object"&&G!==null?G=Ir(G):(G=ar(l)?Zs:Ht.current,G=qo(o,G));var pe=l.getDerivedStateFromProps;(se=typeof pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==ce||ne!==G)&&Cy(o,$,g,G),Es=!1,ne=o.memoizedState,$.state=ne,Wc(o,g,$,T);var ve=o.memoizedState;H!==ce||ne!==ve||ir.current||Es?(typeof pe=="function"&&(zf(o,l,pe,g),ve=o.memoizedState),(J=Es||by(o,l,J,g,ne,ve,G)||!1)?(se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,ve,G),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,ve,G)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ve),$.props=g,$.state=ve,$.context=G,g=J):(typeof $.componentDidUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),g=!1)}return Wf(s,o,l,g,M,T)}function Wf(s,o,l,g,T,M){jy(s,o);var $=(o.flags&128)!==0;if(!g&&!$)return T&&zv(o,l,!1),Xn(s,o,M);g=o.stateNode,cR.current=o;var H=$&&typeof l.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,s!==null&&$?(o.child=Xo(o,s.child,null,M),o.child=Xo(o,null,H,M)):Zt(s,o,H,M),o.memoizedState=g.state,T&&zv(o,l,!0),o.child}function Ny(s){var o=s.stateNode;o.pendingContext?$v(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$v(s,o.context,!1),Pf(s,o.containerInfo)}function Ay(s,o,l,g,T){return Yo(),_f(T),o.flags|=256,Zt(s,o,l,g),o.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Gf(s){return{baseLanes:s,cachePool:null,transitions:null}}function $y(s,o,l){var g=o.pendingProps,T=ut.current,M=!1,$=(o.flags&128)!==0,H;if((H=$)||(H=s!==null&&s.memoizedState===null?!1:(T&2)!==0),H?(M=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(T|=1),Xe(ut,T&1),s===null)return Sf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=g.children,s=g.fallback,M?(g=o.mode,M=o.child,$={mode:"hidden",children:$},(g&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=$):M=fl($,g,0,null),s=co(s,g,l,null),M.return=o,s.return=o,M.sibling=s,o.child=M,o.child.memoizedState=Gf(l),o.memoizedState=qf,s):Kf(o,$));if(T=s.memoizedState,T!==null&&(H=T.dehydrated,H!==null))return lR(s,o,$,g,H,T,l);if(M){M=g.fallback,$=o.mode,T=s.child,H=T.sibling;var G={mode:"hidden",children:g.children};return($&1)===0&&o.child!==T?(g=o.child,g.childLanes=0,g.pendingProps=G,o.deletions=null):(g=Ls(T,G),g.subtreeFlags=T.subtreeFlags&14680064),H!==null?M=Ls(H,M):(M=co(M,$,l,null),M.flags|=2),M.return=o,g.return=o,g.sibling=M,o.child=g,g=M,M=o.child,$=s.child.memoizedState,$=$===null?Gf(l):{baseLanes:$.baseLanes|l,cachePool:null,transitions:$.transitions},M.memoizedState=$,M.childLanes=s.childLanes&~l,o.memoizedState=qf,g}return M=s.child,s=M.sibling,g=Ls(M,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=l),g.return=o,g.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=g,o.memoizedState=null,g}function Kf(s,o){return o=fl({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Jc(s,o,l,g){return g!==null&&_f(g),Xo(o,s.child,null,l),s=Kf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function lR(s,o,l,g,T,M,$){if(l)return o.flags&256?(o.flags&=-257,g=Uf(Error(r(422))),Jc(s,o,$,g)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(M=g.fallback,T=o.mode,g=fl({mode:"visible",children:g.children},T,0,null),M=co(M,T,$,null),M.flags|=2,g.return=o,M.return=o,g.sibling=M,o.child=g,(o.mode&1)!==0&&Xo(o,s.child,null,$),o.child.memoizedState=Gf($),o.memoizedState=qf,M);if((o.mode&1)===0)return Jc(s,o,$,null);if(T.data==="$!"){if(g=T.nextSibling&&T.nextSibling.dataset,g)var H=g.dgst;return g=H,M=Error(r(419)),g=Uf(M,g,void 0),Jc(s,o,$,g)}if(H=($&s.childLanes)!==0,cr||H){if(g=It,g!==null){switch($&-$){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(g.suspendedLanes|$))!==0?0:T,T!==0&&T!==M.retryLane&&(M.retryLane=T,Kn(s,T),Xr(g,s,T,-1))}return up(),g=Uf(Error(r(421))),Jc(s,o,$,g)}return T.data==="$?"?(o.flags|=128,o.child=s.child,o=bR.bind(null,s),T._reactRetry=o,null):(s=M.treeContext,br=bs(T.nextSibling),_r=o,st=!0,qr=null,s!==null&&(Dr[Mr++]=qn,Dr[Mr++]=Gn,Dr[Mr++]=Js,qn=s.id,Gn=s.overflow,Js=o),o=Kf(o,g.children),o.flags|=4096,o)}function Fy(s,o,l){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Rf(s.return,o,l)}function Yf(s,o,l,g,T){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:l,tailMode:T}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=l,M.tailMode=T)}function zy(s,o,l){var g=o.pendingProps,T=g.revealOrder,M=g.tail;if(Zt(s,o,g.children,l),g=ut.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fy(s,l,o);else if(s.tag===19)Fy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Xe(ut,g),(o.mode&1)===0)o.memoizedState=null;else switch(T){case"forwards":for(l=o.child,T=null;l!==null;)s=l.alternate,s!==null&&qc(s)===null&&(T=l),l=l.sibling;l=T,l===null?(T=o.child,o.child=null):(T=l.sibling,l.sibling=null),Yf(o,!1,T,l,M);break;case"backwards":for(l=null,T=o.child,o.child=null;T!==null;){if(s=T.alternate,s!==null&&qc(s)===null){o.child=T;break}s=T.sibling,T.sibling=l,l=T,T=s}Yf(o,!0,l,null,M);break;case"together":Yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function el(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Xn(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,l=Ls(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Ls(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function uR(s,o,l){switch(o.tag){case 3:Ny(o),Yo();break;case 5:ey(o);break;case 1:ar(o.type)&&Nc(o);break;case 4:Pf(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,T=o.memoizedProps.value;Xe(Uc,g._currentValue),g._currentValue=T;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Xe(ut,ut.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?$y(s,o,l):(Xe(ut,ut.current&1),s=Xn(s,o,l),s!==null?s.sibling:null);Xe(ut,ut.current&1);break;case 19:if(g=(l&o.childLanes)!==0,(s.flags&128)!==0){if(g)return zy(s,o,l);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Xe(ut,ut.current),g)break;return null;case 22:case 23:return o.lanes=0,Ly(s,o,l)}return Xn(s,o,l)}var By,Xf,Uy,Vy;By=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Xf=function(){},Uy=function(s,o,l,g){var T=s.memoizedProps;if(T!==g){s=o.stateNode,ro(kn.current);var M=null;switch(l){case"input":T=Be(s,T),g=Be(s,g),M=[];break;case"select":T=q({},T,{value:void 0}),g=q({},g,{value:void 0}),M=[];break;case"textarea":T=at(s,T),g=at(s,g),M=[];break;default:typeof T.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Lc)}jo(l,g);var $;l=null;for(J in T)if(!g.hasOwnProperty(J)&&T.hasOwnProperty(J)&&T[J]!=null)if(J==="style"){var H=T[J];for($ in H)H.hasOwnProperty($)&&(l||(l={}),l[$]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?M||(M=[]):(M=M||[]).push(J,null));for(J in g){var G=g[J];if(H=T!=null?T[J]:void 0,g.hasOwnProperty(J)&&G!==H&&(G!=null||H!=null))if(J==="style")if(H){for($ in H)!H.hasOwnProperty($)||G&&G.hasOwnProperty($)||(l||(l={}),l[$]="");for($ in G)G.hasOwnProperty($)&&H[$]!==G[$]&&(l||(l={}),l[$]=G[$])}else l||(M||(M=[]),M.push(J,l)),l=G;else J==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(M=M||[]).push(J,G)):J==="children"?typeof G!="string"&&typeof G!="number"||(M=M||[]).push(J,""+G):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(G!=null&&J==="onScroll"&&Je("scroll",s),M||H===G||(M=[])):(M=M||[]).push(J,G))}l&&(M=M||[]).push("style",l);var J=M;(o.updateQueue=J)&&(o.flags|=4)}},Vy=function(s,o,l,g){l!==g&&(o.flags|=4)};function fa(s,o){if(!st)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,g=0;if(o)for(var T=s.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags&14680064,g|=T.flags&14680064,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)l|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=g,s.childLanes=l,o}function dR(s,o,l){var g=o.pendingProps;switch(yf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return ar(o.type)&&Oc(),qt(o),null;case 3:return g=o.stateNode,Jo(),et(ir),et(Ht),Mf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(zc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qr!==null&&(ap(qr),qr=null))),Xf(s,o),qt(o),null;case 5:kf(o);var T=ro(aa.current);if(l=o.type,s!==null&&o.stateNode!=null)Uy(s,o,l,g,T),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(s=ro(kn.current),zc(o)){g=o.stateNode,l=o.type;var M=o.memoizedProps;switch(g[Pn]=o,g[ra]=M,s=(o.mode&1)!==0,l){case"dialog":Je("cancel",g),Je("close",g);break;case"iframe":case"object":case"embed":Je("load",g);break;case"video":case"audio":for(T=0;T<Ji.length;T++)Je(Ji[T],g);break;case"source":Je("error",g);break;case"img":case"image":case"link":Je("error",g),Je("load",g);break;case"details":Je("toggle",g);break;case"input":Qe(g,M),Je("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!M.multiple},Je("invalid",g);break;case"textarea":Dt(g,M),Je("invalid",g)}jo(l,M),T=null;for(var $ in M)if(M.hasOwnProperty($)){var H=M[$];$==="children"?typeof H=="string"?g.textContent!==H&&(M.suppressHydrationWarning!==!0&&Ic(g.textContent,H,s),T=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(M.suppressHydrationWarning!==!0&&Ic(g.textContent,H,s),T=["children",""+H]):i.hasOwnProperty($)&&H!=null&&$==="onScroll"&&Je("scroll",g)}switch(l){case"input":ke(g),Et(g,M,!0);break;case"textarea":ke(g),jt(g);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(g.onclick=Lc)}g=T,o.updateQueue=g,g!==null&&(o.flags|=4)}else{$=T.nodeType===9?T:T.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Te(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(l,{is:g.is}):(s=$.createElement(l),l==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,l),s[Pn]=o,s[ra]=g,By(s,o,!1,!1),o.stateNode=s;e:{switch($=Dd(l,g),l){case"dialog":Je("cancel",s),Je("close",s),T=g;break;case"iframe":case"object":case"embed":Je("load",s),T=g;break;case"video":case"audio":for(T=0;T<Ji.length;T++)Je(Ji[T],s);T=g;break;case"source":Je("error",s),T=g;break;case"img":case"image":case"link":Je("error",s),Je("load",s),T=g;break;case"details":Je("toggle",s),T=g;break;case"input":Qe(s,g),T=Be(s,g),Je("invalid",s);break;case"option":T=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},T=q({},g,{value:void 0}),Je("invalid",s);break;case"textarea":Dt(s,g),T=at(s,g),Je("invalid",s);break;default:T=g}jo(l,T),H=T;for(M in H)if(H.hasOwnProperty(M)){var G=H[M];M==="style"?lt(s,G):M==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Le(s,G)):M==="children"?typeof G=="string"?(l!=="textarea"||G!=="")&&vt(s,G):typeof G=="number"&&vt(s,""+G):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?G!=null&&M==="onScroll"&&Je("scroll",s):G!=null&&p(s,M,G,$))}switch(l){case"input":ke(s),Et(s,g,!1);break;case"textarea":ke(s),jt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+me(g.value));break;case"select":s.multiple=!!g.multiple,M=g.value,M!=null?Ne(s,!!g.multiple,M,!1):g.defaultValue!=null&&Ne(s,!!g.multiple,g.defaultValue,!0);break;default:typeof T.onClick=="function"&&(s.onclick=Lc)}switch(l){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(s&&o.stateNode!=null)Vy(s,o,s.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(l=ro(aa.current),ro(kn.current),zc(o)){if(g=o.stateNode,l=o.memoizedProps,g[Pn]=o,(M=g.nodeValue!==l)&&(s=_r,s!==null))switch(s.tag){case 3:Ic(g.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ic(g.nodeValue,l,(s.mode&1)!==0)}M&&(o.flags|=4)}else g=(l.nodeType===9?l:l.ownerDocument).createTextNode(g),g[Pn]=o,o.stateNode=g}return qt(o),null;case 13:if(et(ut),g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&br!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qv(),Yo(),o.flags|=98560,M=!1;else if(M=zc(o),g!==null&&g.dehydrated!==null){if(s===null){if(!M)throw Error(r(318));if(M=o.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Pn]=o}else Yo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),M=!1}else qr!==null&&(ap(qr),qr=null),M=!0;if(!M)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ut.current&1)!==0?Pt===0&&(Pt=3):up())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Jo(),Xf(s,o),s===null&&ea(o.stateNode.containerInfo),qt(o),null;case 10:return Cf(o.type._context),qt(o),null;case 17:return ar(o.type)&&Oc(),qt(o),null;case 19:if(et(ut),M=o.memoizedState,M===null)return qt(o),null;if(g=(o.flags&128)!==0,$=M.rendering,$===null)if(g)fa(M,!1);else{if(Pt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if($=qc(s),$!==null){for(o.flags|=128,fa(M,!1),g=$.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=l,l=o.child;l!==null;)M=l,s=g,M.flags&=14680066,$=M.alternate,$===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=$.childLanes,M.lanes=$.lanes,M.child=$.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=$.memoizedProps,M.memoizedState=$.memoizedState,M.updateQueue=$.updateQueue,M.type=$.type,s=$.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Xe(ut,ut.current&1|2),o.child}s=s.sibling}M.tail!==null&&yt()>ni&&(o.flags|=128,g=!0,fa(M,!1),o.lanes=4194304)}else{if(!g)if(s=qc($),s!==null){if(o.flags|=128,g=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fa(M,!0),M.tail===null&&M.tailMode==="hidden"&&!$.alternate&&!st)return qt(o),null}else 2*yt()-M.renderingStartTime>ni&&l!==1073741824&&(o.flags|=128,g=!0,fa(M,!1),o.lanes=4194304);M.isBackwards?($.sibling=o.child,o.child=$):(l=M.last,l!==null?l.sibling=$:o.child=$,M.last=$)}return M.tail!==null?(o=M.tail,M.rendering=o,M.tail=o.sibling,M.renderingStartTime=yt(),o.sibling=null,l=ut.current,Xe(ut,g?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return lp(),g=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(xr&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function fR(s,o){switch(yf(o),o.tag){case 1:return ar(o.type)&&Oc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Jo(),et(ir),et(Ht),Mf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return kf(o),null;case 13:if(et(ut),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Yo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(ut),null;case 4:return Jo(),null;case 10:return Cf(o.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var tl=!1,Gt=!1,pR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ti(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(g){ht(s,o,g)}else l.current=null}function Qf(s,o,l){try{l()}catch(g){ht(s,o,g)}}var Hy=!1;function hR(s,o){if(lf=_c,s=bv(),ef(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var g=l.getSelection&&l.getSelection();if(g&&g.rangeCount!==0){l=g.anchorNode;var T=g.anchorOffset,M=g.focusNode;g=g.focusOffset;try{l.nodeType,M.nodeType}catch{l=null;break e}var $=0,H=-1,G=-1,J=0,se=0,ce=s,ne=null;t:for(;;){for(var pe;ce!==l||T!==0&&ce.nodeType!==3||(H=$+T),ce!==M||g!==0&&ce.nodeType!==3||(G=$+g),ce.nodeType===3&&($+=ce.nodeValue.length),(pe=ce.firstChild)!==null;)ne=ce,ce=pe;for(;;){if(ce===s)break t;if(ne===l&&++J===T&&(H=$),ne===M&&++se===g&&(G=$),(pe=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=pe}l=H===-1||G===-1?null:{start:H,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(uf={focusedElem:s,selectionRange:l},_c=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,wt=ve.memoizedState,Q=o.stateNode,K=Q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Gr(o.type,we),wt);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=o.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){ht(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=Hy,Hy=!1,ve}function pa(s,o,l){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&s)===s){var M=T.destroy;T.destroy=void 0,M!==void 0&&Qf(o,l,M)}T=T.next}while(T!==g)}}function rl(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var g=l.create;l.destroy=g()}l=l.next}while(l!==o)}}function Zf(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Wy(s){var o=s.alternate;o!==null&&(s.alternate=null,Wy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Pn],delete o[ra],delete o[hf],delete o[XC],delete o[QC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function qy(s){return s.tag===5||s.tag===3||s.tag===4}function Gy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jf(s,o,l){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Lc));else if(g!==4&&(s=s.child,s!==null))for(Jf(s,o,l),s=s.sibling;s!==null;)Jf(s,o,l),s=s.sibling}function ep(s,o,l){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(ep(s,o,l),s=s.sibling;s!==null;)ep(s,o,l),s=s.sibling}var Ot=null,Kr=!1;function Ps(s,o,l){for(l=l.child;l!==null;)Ky(s,o,l),l=l.sibling}function Ky(s,o,l){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(mc,l)}catch{}switch(l.tag){case 5:Gt||ti(l,o);case 6:var g=Ot,T=Kr;Ot=null,Ps(s,o,l),Ot=g,Kr=T,Ot!==null&&(Kr?(s=Ot,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Kr?(s=Ot,l=l.stateNode,s.nodeType===8?pf(s.parentNode,l):s.nodeType===1&&pf(s,l),Wi(s)):pf(Ot,l.stateNode));break;case 4:g=Ot,T=Kr,Ot=l.stateNode.containerInfo,Kr=!0,Ps(s,o,l),Ot=g,Kr=T;break;case 0:case 11:case 14:case 15:if(!Gt&&(g=l.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){T=g=g.next;do{var M=T,$=M.destroy;M=M.tag,$!==void 0&&((M&2)!==0||(M&4)!==0)&&Qf(l,o,$),T=T.next}while(T!==g)}Ps(s,o,l);break;case 1:if(!Gt&&(ti(l,o),g=l.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=l.memoizedProps,g.state=l.memoizedState,g.componentWillUnmount()}catch(H){ht(l,o,H)}Ps(s,o,l);break;case 21:Ps(s,o,l);break;case 22:l.mode&1?(Gt=(g=Gt)||l.memoizedState!==null,Ps(s,o,l),Gt=g):Ps(s,o,l);break;default:Ps(s,o,l)}}function Yy(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new pR),o.forEach(function(g){var T=xR.bind(null,s,g);l.has(g)||(l.add(g),g.then(T,T))})}}function Yr(s,o){var l=o.deletions;if(l!==null)for(var g=0;g<l.length;g++){var T=l[g];try{var M=s,$=o,H=$;e:for(;H!==null;){switch(H.tag){case 5:Ot=H.stateNode,Kr=!1;break e;case 3:Ot=H.stateNode.containerInfo,Kr=!0;break e;case 4:Ot=H.stateNode.containerInfo,Kr=!0;break e}H=H.return}if(Ot===null)throw Error(r(160));Ky(M,$,T),Ot=null,Kr=!1;var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(J){ht(T,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Xy(o,s),o=o.sibling}function Xy(s,o){var l=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yr(o,s),Mn(s),g&4){try{pa(3,s,s.return),rl(3,s)}catch(we){ht(s,s.return,we)}try{pa(5,s,s.return)}catch(we){ht(s,s.return,we)}}break;case 1:Yr(o,s),Mn(s),g&512&&l!==null&&ti(l,l.return);break;case 5:if(Yr(o,s),Mn(s),g&512&&l!==null&&ti(l,l.return),s.flags&32){var T=s.stateNode;try{vt(T,"")}catch(we){ht(s,s.return,we)}}if(g&4&&(T=s.stateNode,T!=null)){var M=s.memoizedProps,$=l!==null?l.memoizedProps:M,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&M.type==="radio"&&M.name!=null&&Ze(T,M),Dd(H,$);var J=Dd(H,M);for($=0;$<G.length;$+=2){var se=G[$],ce=G[$+1];se==="style"?lt(T,ce):se==="dangerouslySetInnerHTML"?Le(T,ce):se==="children"?vt(T,ce):p(T,se,ce,J)}switch(H){case"input":Ge(T,M);break;case"textarea":ct(T,M);break;case"select":var ne=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!M.multiple;var pe=M.value;pe!=null?Ne(T,!!M.multiple,pe,!1):ne!==!!M.multiple&&(M.defaultValue!=null?Ne(T,!!M.multiple,M.defaultValue,!0):Ne(T,!!M.multiple,M.multiple?[]:"",!1))}T[ra]=M}catch(we){ht(s,s.return,we)}}break;case 6:if(Yr(o,s),Mn(s),g&4){if(s.stateNode===null)throw Error(r(162));T=s.stateNode,M=s.memoizedProps;try{T.nodeValue=M}catch(we){ht(s,s.return,we)}}break;case 3:if(Yr(o,s),Mn(s),g&4&&l!==null&&l.memoizedState.isDehydrated)try{Wi(o.containerInfo)}catch(we){ht(s,s.return,we)}break;case 4:Yr(o,s),Mn(s);break;case 13:Yr(o,s),Mn(s),T=s.child,T.flags&8192&&(M=T.memoizedState!==null,T.stateNode.isHidden=M,!M||T.alternate!==null&&T.alternate.memoizedState!==null||(np=yt())),g&4&&Yy(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(Gt=(J=Gt)||se,Yr(o,s),Gt=J):Yr(o,s),Mn(s),g&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!se&&(s.mode&1)!==0)for(ge=s,se=s.child;se!==null;){for(ce=ge=se;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:pa(4,ne,ne.return);break;case 1:ti(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){g=ne,l=ne.return;try{o=g,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){ht(g,l,we)}}break;case 5:ti(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Jy(ce);continue}}pe!==null?(pe.return=ne,ge=pe):Jy(ce)}se=se.sibling}e:for(se=null,ce=s;;){if(ce.tag===5){if(se===null){se=ce;try{T=ce.stateNode,J?(M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(H=ce.stateNode,G=ce.memoizedProps.style,$=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=Se("display",$))}catch(we){ht(s,s.return,we)}}}else if(ce.tag===6){if(se===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(we){ht(s,s.return,we)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;se===ce&&(se=null),ce=ce.return}se===ce&&(se=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Yr(o,s),Mn(s),g&4&&Yy(s);break;case 21:break;default:Yr(o,s),Mn(s)}}function Mn(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(qy(l)){var g=l;break e}l=l.return}throw Error(r(160))}switch(g.tag){case 5:var T=g.stateNode;g.flags&32&&(vt(T,""),g.flags&=-33);var M=Gy(s);ep(s,M,T);break;case 3:case 4:var $=g.stateNode.containerInfo,H=Gy(s);Jf(s,H,$);break;default:throw Error(r(161))}}catch(G){ht(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mR(s,o,l){ge=s,Qy(s)}function Qy(s,o,l){for(var g=(s.mode&1)!==0;ge!==null;){var T=ge,M=T.child;if(T.tag===22&&g){var $=T.memoizedState!==null||tl;if(!$){var H=T.alternate,G=H!==null&&H.memoizedState!==null||Gt;H=tl;var J=Gt;if(tl=$,(Gt=G)&&!J)for(ge=T;ge!==null;)$=ge,G=$.child,$.tag===22&&$.memoizedState!==null?ew(T):G!==null?(G.return=$,ge=G):ew(T);for(;M!==null;)ge=M,Qy(M),M=M.sibling;ge=T,tl=H,Gt=J}Zy(s)}else(T.subtreeFlags&8772)!==0&&M!==null?(M.return=T,ge=M):Zy(s)}}function Zy(s){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||rl(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Gt)if(l===null)g.componentDidMount();else{var T=o.elementType===o.type?l.memoizedProps:Gr(o.type,l.memoizedProps);g.componentDidUpdate(T,l.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var M=o.updateQueue;M!==null&&Jv(o,M,g);break;case 3:var $=o.updateQueue;if($!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Jv(o,$,l)}break;case 5:var H=o.stateNode;if(l===null&&o.flags&4){l=H;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&l.focus();break;case"img":G.src&&(l.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&Wi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gt||o.flags&512&&Zf(o)}catch(ne){ht(o,o.return,ne)}}if(o===s){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function Jy(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function ew(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{rl(4,o)}catch(G){ht(o,l,G)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var T=o.return;try{g.componentDidMount()}catch(G){ht(o,T,G)}}var M=o.return;try{Zf(o)}catch(G){ht(o,M,G)}break;case 5:var $=o.return;try{Zf(o)}catch(G){ht(o,$,G)}}}catch(G){ht(o,o.return,G)}if(o===s){ge=null;break}var H=o.sibling;if(H!==null){H.return=o.return,ge=H;break}ge=o.return}}var gR=Math.ceil,nl=f.ReactCurrentDispatcher,tp=f.ReactCurrentOwner,jr=f.ReactCurrentBatchConfig,$e=0,It=null,bt=null,Nt=0,xr=0,ri=xs(0),Pt=0,ha=null,so=0,sl=0,rp=0,ma=null,lr=null,np=0,ni=1/0,Qn=null,ol=!1,sp=null,ks=null,il=!1,Ds=null,al=0,ga=0,op=null,cl=-1,ll=0;function Jt(){return($e&6)!==0?yt():cl!==-1?cl:cl=yt()}function Ms(s){return(s.mode&1)===0?1:($e&2)!==0&&Nt!==0?Nt&-Nt:JC.transition!==null?(ll===0&&(ll=Gg()),ll):(s=He,s!==0||(s=window.event,s=s===void 0?16:rv(s.type)),s)}function Xr(s,o,l,g){if(50<ga)throw ga=0,op=null,Error(r(185));zi(s,l,g),(($e&2)===0||s!==It)&&(s===It&&(($e&2)===0&&(sl|=l),Pt===4&&Is(s,Nt)),ur(s,g),l===1&&$e===0&&(o.mode&1)===0&&(ni=yt()+500,Ac&&Rs()))}function ur(s,o){var l=s.callbackNode;Jx(s,o);var g=yc(s,s===It?Nt:0);if(g===0)l!==null&&Hg(l),s.callbackNode=null,s.callbackPriority=0;else if(o=g&-g,s.callbackPriority!==o){if(l!=null&&Hg(l),o===1)s.tag===0?ZC(rw.bind(null,s)):Bv(rw.bind(null,s)),KC(function(){($e&6)===0&&Rs()}),l=null;else{switch(Kg(g)){case 1:l=Ad;break;case 4:l=Wg;break;case 16:l=hc;break;case 536870912:l=qg;break;default:l=hc}l=uw(l,tw.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function tw(s,o){if(cl=-1,ll=0,($e&6)!==0)throw Error(r(327));var l=s.callbackNode;if(si()&&s.callbackNode!==l)return null;var g=yc(s,s===It?Nt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||o)o=ul(s,g);else{o=g;var T=$e;$e|=2;var M=sw();(It!==s||Nt!==o)&&(Qn=null,ni=yt()+500,io(s,o));do try{wR();break}catch(H){nw(s,H)}while(!0);xf(),nl.current=M,$e=T,bt!==null?o=0:(It=null,Nt=0,o=Pt)}if(o!==0){if(o===2&&(T=$d(s),T!==0&&(g=T,o=ip(s,T))),o===1)throw l=ha,io(s,0),Is(s,g),ur(s,yt()),l;if(o===6)Is(s,g);else{if(T=s.current.alternate,(g&30)===0&&!vR(T)&&(o=ul(s,g),o===2&&(M=$d(s),M!==0&&(g=M,o=ip(s,M))),o===1))throw l=ha,io(s,0),Is(s,g),ur(s,yt()),l;switch(s.finishedWork=T,s.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:ao(s,lr,Qn);break;case 3:if(Is(s,g),(g&130023424)===g&&(o=np+500-yt(),10<o)){if(yc(s,0)!==0)break;if(T=s.suspendedLanes,(T&g)!==g){Jt(),s.pingedLanes|=s.suspendedLanes&T;break}s.timeoutHandle=ff(ao.bind(null,s,lr,Qn),o);break}ao(s,lr,Qn);break;case 4:if(Is(s,g),(g&4194240)===g)break;for(o=s.eventTimes,T=-1;0<g;){var $=31-Hr(g);M=1<<$,$=o[$],$>T&&(T=$),g&=~M}if(g=T,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*gR(g/1960))-g,10<g){s.timeoutHandle=ff(ao.bind(null,s,lr,Qn),g);break}ao(s,lr,Qn);break;case 5:ao(s,lr,Qn);break;default:throw Error(r(329))}}}return ur(s,yt()),s.callbackNode===l?tw.bind(null,s):null}function ip(s,o){var l=ma;return s.current.memoizedState.isDehydrated&&(io(s,o).flags|=256),s=ul(s,o),s!==2&&(o=lr,lr=l,o!==null&&ap(o)),s}function ap(s){lr===null?lr=s:lr.push.apply(lr,s)}function vR(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var g=0;g<l.length;g++){var T=l[g],M=T.getSnapshot;T=T.value;try{if(!Wr(M(),T))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(s,o){for(o&=~rp,o&=~sl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Hr(o),g=1<<l;s[l]=-1,o&=~g}}function rw(s){if(($e&6)!==0)throw Error(r(327));si();var o=yc(s,0);if((o&1)===0)return ur(s,yt()),null;var l=ul(s,o);if(s.tag!==0&&l===2){var g=$d(s);g!==0&&(o=g,l=ip(s,g))}if(l===1)throw l=ha,io(s,0),Is(s,o),ur(s,yt()),l;if(l===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ao(s,lr,Qn),ur(s,yt()),null}function cp(s,o){var l=$e;$e|=1;try{return s(o)}finally{$e=l,$e===0&&(ni=yt()+500,Ac&&Rs())}}function oo(s){Ds!==null&&Ds.tag===0&&($e&6)===0&&si();var o=$e;$e|=1;var l=jr.transition,g=He;try{if(jr.transition=null,He=1,s)return s()}finally{He=g,jr.transition=l,$e=o,($e&6)===0&&Rs()}}function lp(){xr=ri.current,et(ri)}function io(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,GC(l)),bt!==null)for(l=bt.return;l!==null;){var g=l;switch(yf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Oc();break;case 3:Jo(),et(ir),et(Ht),Mf();break;case 5:kf(g);break;case 4:Jo();break;case 13:et(ut);break;case 19:et(ut);break;case 10:Cf(g.type._context);break;case 22:case 23:lp()}l=l.return}if(It=s,bt=s=Ls(s.current,null),Nt=xr=o,Pt=0,ha=null,rp=sl=so=0,lr=ma=null,to!==null){for(o=0;o<to.length;o++)if(l=to[o],g=l.interleaved,g!==null){l.interleaved=null;var T=g.next,M=l.pending;if(M!==null){var $=M.next;M.next=T,g.next=$}l.pending=g}to=null}return s}function nw(s,o){do{var l=bt;try{if(xf(),Gc.current=Qc,Kc){for(var g=dt.memoizedState;g!==null;){var T=g.queue;T!==null&&(T.pending=null),g=g.next}Kc=!1}if(no=0,Mt=Tt=dt=null,ca=!1,la=0,tp.current=null,l===null||l.return===null){Pt=1,ha=o,bt=null;break}e:{var M=s,$=l.return,H=l,G=o;if(o=Nt,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var J=G,se=H,ce=se.tag;if((se.mode&1)===0&&(ce===0||ce===11||ce===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=Py($);if(pe!==null){pe.flags&=-257,ky(pe,$,H,M,o),pe.mode&1&&Ty(M,J,o),o=pe,G=J;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(G),o.updateQueue=we}else ve.add(G);break e}else{if((o&1)===0){Ty(M,J,o),up();break e}G=Error(r(426))}}else if(st&&H.mode&1){var wt=Py($);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),ky(wt,$,H,M,o),_f(ei(G,H));break e}}M=G=ei(G,H),Pt!==4&&(Pt=2),ma===null?ma=[M]:ma.push(M),M=$;do{switch(M.tag){case 3:M.flags|=65536,o&=-o,M.lanes|=o;var Q=Ry(M,G,o);Zv(M,Q);break e;case 1:H=G;var K=M.type,Z=M.stateNode;if((M.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ks===null||!ks.has(Z)))){M.flags|=65536,o&=-o,M.lanes|=o;var le=Ey(M,H,o);Zv(M,le);break e}}M=M.return}while(M!==null)}iw(l)}catch(_e){o=_e,bt===l&&l!==null&&(bt=l=l.return);continue}break}while(!0)}function sw(){var s=nl.current;return nl.current=Qc,s===null?Qc:s}function up(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),It===null||(so&268435455)===0&&(sl&268435455)===0||Is(It,Nt)}function ul(s,o){var l=$e;$e|=2;var g=sw();(It!==s||Nt!==o)&&(Qn=null,io(s,o));do try{yR();break}catch(T){nw(s,T)}while(!0);if(xf(),$e=l,nl.current=g,bt!==null)throw Error(r(261));return It=null,Nt=0,Pt}function yR(){for(;bt!==null;)ow(bt)}function wR(){for(;bt!==null&&!Hx();)ow(bt)}function ow(s){var o=lw(s.alternate,s,xr);s.memoizedProps=s.pendingProps,o===null?iw(s):bt=o,tp.current=null}function iw(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=dR(l,o,xr),l!==null){bt=l;return}}else{if(l=fR(l,o),l!==null){l.flags&=32767,bt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Pt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);Pt===0&&(Pt=5)}function ao(s,o,l){var g=He,T=jr.transition;try{jr.transition=null,He=1,SR(s,o,l,g)}finally{jr.transition=T,He=g}return null}function SR(s,o,l,g){do si();while(Ds!==null);if(($e&6)!==0)throw Error(r(327));l=s.finishedWork;var T=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var M=l.lanes|l.childLanes;if(eC(s,M),s===It&&(bt=It=null,Nt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||il||(il=!0,uw(hc,function(){return si(),null})),M=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||M){M=jr.transition,jr.transition=null;var $=He;He=1;var H=$e;$e|=4,tp.current=null,hR(s,l),Xy(l,s),zC(uf),_c=!!lf,uf=lf=null,s.current=l,mR(l),Wx(),$e=H,He=$,jr.transition=M}else s.current=l;if(il&&(il=!1,Ds=s,al=T),M=s.pendingLanes,M===0&&(ks=null),Kx(l.stateNode),ur(s,yt()),o!==null)for(g=s.onRecoverableError,l=0;l<o.length;l++)T=o[l],g(T.value,{componentStack:T.stack,digest:T.digest});if(ol)throw ol=!1,s=sp,sp=null,s;return(al&1)!==0&&s.tag!==0&&si(),M=s.pendingLanes,(M&1)!==0?s===op?ga++:(ga=0,op=s):ga=0,Rs(),null}function si(){if(Ds!==null){var s=Kg(al),o=jr.transition,l=He;try{if(jr.transition=null,He=16>s?16:s,Ds===null)var g=!1;else{if(s=Ds,Ds=null,al=0,($e&6)!==0)throw Error(r(331));var T=$e;for($e|=4,ge=s.current;ge!==null;){var M=ge,$=M.child;if((ge.flags&16)!==0){var H=M.deletions;if(H!==null){for(var G=0;G<H.length;G++){var J=H[G];for(ge=J;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:pa(8,se,M)}var ce=se.child;if(ce!==null)ce.return=se,ge=ce;else for(;ge!==null;){se=ge;var ne=se.sibling,pe=se.return;if(Wy(se),se===J){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ve=M.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var wt=we.sibling;we.sibling=null,we=wt}while(we!==null)}}ge=M}}if((M.subtreeFlags&2064)!==0&&$!==null)$.return=M,ge=$;else e:for(;ge!==null;){if(M=ge,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:pa(9,M,M.return)}var Q=M.sibling;if(Q!==null){Q.return=M.return,ge=Q;break e}ge=M.return}}var K=s.current;for(ge=K;ge!==null;){$=ge;var Z=$.child;if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,ge=Z;else e:for($=K;ge!==null;){if(H=ge,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:rl(9,H)}}catch(_e){ht(H,H.return,_e)}if(H===$){ge=null;break e}var le=H.sibling;if(le!==null){le.return=H.return,ge=le;break e}ge=H.return}}if($e=T,Rs(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(mc,s)}catch{}g=!0}return g}finally{He=l,jr.transition=o}}return!1}function aw(s,o,l){o=ei(l,o),o=Ry(s,o,1),s=Ts(s,o,1),o=Jt(),s!==null&&(zi(s,1,o),ur(s,o))}function ht(s,o,l){if(s.tag===3)aw(s,s,l);else for(;o!==null;){if(o.tag===3){aw(o,s,l);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))){s=ei(l,s),s=Ey(o,s,1),o=Ts(o,s,1),s=Jt(),o!==null&&(zi(o,1,s),ur(o,s));break}}o=o.return}}function _R(s,o,l){var g=s.pingCache;g!==null&&g.delete(o),o=Jt(),s.pingedLanes|=s.suspendedLanes&l,It===s&&(Nt&l)===l&&(Pt===4||Pt===3&&(Nt&130023424)===Nt&&500>yt()-np?io(s,0):rp|=l),ur(s,o)}function cw(s,o){o===0&&((s.mode&1)===0?o=1:(o=vc,vc<<=1,(vc&130023424)===0&&(vc=4194304)));var l=Jt();s=Kn(s,o),s!==null&&(zi(s,o,l),ur(s,l))}function bR(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),cw(s,l)}function xR(s,o){var l=0;switch(s.tag){case 13:var g=s.stateNode,T=s.memoizedState;T!==null&&(l=T.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),cw(s,l)}var lw;lw=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||ir.current)cr=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return cr=!1,uR(s,o,l);cr=(s.flags&131072)!==0}else cr=!1,st&&(o.flags&1048576)!==0&&Uv(o,Fc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;el(s,o),s=o.pendingProps;var T=qo(o,Ht.current);Zo(o,l),T=jf(null,o,g,s,T,l);var M=Of();return o.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ar(g)?(M=!0,Nc(o)):M=!1,o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Tf(o),T.updater=Zc,o.stateNode=T,T._reactInternals=o,Bf(o,g,s,l),o=Wf(null,o,g,!0,M,l)):(o.tag=0,st&&M&&vf(o),Zt(null,o,T,l),o=o.child),o;case 16:g=o.elementType;e:{switch(el(s,o),s=o.pendingProps,T=g._init,g=T(g._payload),o.type=g,T=o.tag=RR(g),s=Gr(g,s),T){case 0:o=Hf(null,o,g,s,l);break e;case 1:o=Oy(null,o,g,s,l);break e;case 11:o=Dy(null,o,g,s,l);break e;case 14:o=My(null,o,g,Gr(g.type,s),l);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Hf(s,o,g,T,l);case 1:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Oy(s,o,g,T,l);case 3:e:{if(Ny(o),s===null)throw Error(r(387));g=o.pendingProps,M=o.memoizedState,T=M.element,Qv(s,o),Wc(o,g,null,l);var $=o.memoizedState;if(g=$.element,M.isDehydrated)if(M={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=M,o.memoizedState=M,o.flags&256){T=ei(Error(r(423)),o),o=Ay(s,o,g,l,T);break e}else if(g!==T){T=ei(Error(r(424)),o),o=Ay(s,o,g,l,T);break e}else for(br=bs(o.stateNode.containerInfo.firstChild),_r=o,st=!0,qr=null,l=Yv(o,null,g,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yo(),g===T){o=Xn(s,o,l);break e}Zt(s,o,g,l)}o=o.child}return o;case 5:return ey(o),s===null&&Sf(o),g=o.type,T=o.pendingProps,M=s!==null?s.memoizedProps:null,$=T.children,df(g,T)?$=null:M!==null&&df(g,M)&&(o.flags|=32),jy(s,o),Zt(s,o,$,l),o.child;case 6:return s===null&&Sf(o),null;case 13:return $y(s,o,l);case 4:return Pf(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Xo(o,null,g,l):Zt(s,o,g,l),o.child;case 11:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),Dy(s,o,g,T,l);case 7:return Zt(s,o,o.pendingProps,l),o.child;case 8:return Zt(s,o,o.pendingProps.children,l),o.child;case 12:return Zt(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(g=o.type._context,T=o.pendingProps,M=o.memoizedProps,$=T.value,Xe(Uc,g._currentValue),g._currentValue=$,M!==null)if(Wr(M.value,$)){if(M.children===T.children&&!ir.current){o=Xn(s,o,l);break e}}else for(M=o.child,M!==null&&(M.return=o);M!==null;){var H=M.dependencies;if(H!==null){$=M.child;for(var G=H.firstContext;G!==null;){if(G.context===g){if(M.tag===1){G=Yn(-1,l&-l),G.tag=2;var J=M.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?G.next=G:(G.next=se.next,se.next=G),J.pending=G}}M.lanes|=l,G=M.alternate,G!==null&&(G.lanes|=l),Rf(M.return,l,o),H.lanes|=l;break}G=G.next}}else if(M.tag===10)$=M.type===o.type?null:M.child;else if(M.tag===18){if($=M.return,$===null)throw Error(r(341));$.lanes|=l,H=$.alternate,H!==null&&(H.lanes|=l),Rf($,l,o),$=M.sibling}else $=M.child;if($!==null)$.return=M;else for($=M;$!==null;){if($===o){$=null;break}if(M=$.sibling,M!==null){M.return=$.return,$=M;break}$=$.return}M=$}Zt(s,o,T.children,l),o=o.child}return o;case 9:return T=o.type,g=o.pendingProps.children,Zo(o,l),T=Ir(T),g=g(T),o.flags|=1,Zt(s,o,g,l),o.child;case 14:return g=o.type,T=Gr(g,o.pendingProps),T=Gr(g.type,T),My(s,o,g,T,l);case 15:return Iy(s,o,o.type,o.pendingProps,l);case 17:return g=o.type,T=o.pendingProps,T=o.elementType===g?T:Gr(g,T),el(s,o),o.tag=1,ar(g)?(s=!0,Nc(o)):s=!1,Zo(o,l),xy(o,g,T),Bf(o,g,T,l),Wf(null,o,g,!0,s,l);case 19:return zy(s,o,l);case 22:return Ly(s,o,l)}throw Error(r(156,o.tag))};function uw(s,o){return Vg(s,o)}function CR(s,o,l,g){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,o,l,g){return new CR(s,o,l,g)}function dp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function RR(s){if(typeof s=="function")return dp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===X)return 14}return 2}function Ls(s,o){var l=s.alternate;return l===null?(l=Or(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function dl(s,o,l,g,T,M){var $=2;if(g=s,typeof s=="function")dp(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case k:return co(l.children,T,M,o);case I:$=8,T|=8;break;case j:return s=Or(12,l,o,T|2),s.elementType=j,s.lanes=M,s;case V:return s=Or(13,l,o,T),s.elementType=V,s.lanes=M,s;case W:return s=Or(19,l,o,T),s.elementType=W,s.lanes=M,s;case U:return fl(l,T,M,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:$=10;break e;case A:$=9;break e;case N:$=11;break e;case X:$=14;break e;case O:$=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Or($,l,o,T),o.elementType=s,o.type=g,o.lanes=M,o}function co(s,o,l,g){return s=Or(7,s,g,o),s.lanes=l,s}function fl(s,o,l,g){return s=Or(22,s,g,o),s.elementType=U,s.lanes=l,s.stateNode={isHidden:!1},s}function fp(s,o,l){return s=Or(6,s,null,o),s.lanes=l,s}function pp(s,o,l){return o=Or(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function ER(s,o,l,g,T){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=g,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function hp(s,o,l,g,T,M,$,H,G){return s=new ER(s,o,l,H,G),o===1?(o=1,M===!0&&(o|=8)):o=0,M=Or(3,null,null,o),s.current=M,M.stateNode=s,M.memoizedState={element:g,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(M),s}function TR(s,o,l){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:g==null?null:""+g,children:s,containerInfo:o,implementation:l}}function dw(s){if(!s)return Cs;s=s._reactInternals;e:{if(Xs(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ar(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var l=s.type;if(ar(l))return Fv(s,l,o)}return o}function fw(s,o,l,g,T,M,$,H,G){return s=hp(l,g,!0,s,T,M,$,H,G),s.context=dw(null),l=s.current,g=Jt(),T=Ms(l),M=Yn(g,T),M.callback=o??null,Ts(l,M,T),s.current.lanes=T,zi(s,T,g),ur(s,g),s}function pl(s,o,l,g){var T=o.current,M=Jt(),$=Ms(T);return l=dw(l),o.context===null?o.context=l:o.pendingContext=l,o=Yn(M,$),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Ts(T,o,$),s!==null&&(Xr(s,T,$,M),Hc(s,T,$)),$}function hl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function mp(s,o){pw(s,o),(s=s.alternate)&&pw(s,o)}function PR(){return null}var hw=typeof reportError=="function"?reportError:function(s){console.error(s)};function gp(s){this._internalRoot=s}ml.prototype.render=gp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));pl(s,o,null,null)},ml.prototype.unmount=gp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){pl(null,s,null,null)}),o[Hn]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var o=Qg();s={blockedOn:null,target:s,priority:o};for(var l=0;l<ws.length&&o!==0&&o<ws[l].priority;l++);ws.splice(l,0,s),l===0&&ev(s)}};function vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function mw(){}function kR(s,o,l,g,T){if(T){if(typeof g=="function"){var M=g;g=function(){var J=hl($);M.call(J)}}var $=fw(o,g,s,0,null,!1,!1,"",mw);return s._reactRootContainer=$,s[Hn]=$.current,ea(s.nodeType===8?s.parentNode:s),oo(),$}for(;T=s.lastChild;)s.removeChild(T);if(typeof g=="function"){var H=g;g=function(){var J=hl(G);H.call(J)}}var G=hp(s,0,!1,null,null,!1,!1,"",mw);return s._reactRootContainer=G,s[Hn]=G.current,ea(s.nodeType===8?s.parentNode:s),oo(function(){pl(o,G,l,g)}),G}function vl(s,o,l,g,T){var M=l._reactRootContainer;if(M){var $=M;if(typeof T=="function"){var H=T;T=function(){var G=hl($);H.call(G)}}pl(o,$,s,T)}else $=kR(l,o,s,T,g);return hl($)}Yg=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Fi(o.pendingLanes);l!==0&&(zd(o,l|1),ur(o,yt()),($e&6)===0&&(ni=yt()+500,Rs()))}break;case 13:oo(function(){var g=Kn(s,1);if(g!==null){var T=Jt();Xr(g,s,1,T)}}),mp(s,1)}},Bd=function(s){if(s.tag===13){var o=Kn(s,134217728);if(o!==null){var l=Jt();Xr(o,s,134217728,l)}mp(s,134217728)}},Xg=function(s){if(s.tag===13){var o=Ms(s),l=Kn(s,o);if(l!==null){var g=Jt();Xr(l,s,o,g)}mp(s,o)}},Qg=function(){return He},Zg=function(s,o){var l=He;try{return He=s,o()}finally{He=l}},Ld=function(s,o,l){switch(o){case"input":if(Ge(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var g=l[o];if(g!==s&&g.form===s.form){var T=jc(g);if(!T)throw Error(r(90));gt(g),Ge(g,T)}}}break;case"textarea":ct(s,l);break;case"select":o=l.value,o!=null&&Ne(s,!!l.multiple,o,!1)}},Ng=cp,Ag=oo;var DR={usingClientEntryPoint:!1,Events:[na,Ho,jc,jg,Og,cp]},va={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MR={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Bg(s),s===null?null:s.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{mc=yl.inject(MR),Tn=yl}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR,dr.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vp(o))throw Error(r(200));return TR(s,o,null,l)},dr.createRoot=function(s,o){if(!vp(s))throw Error(r(299));var l=!1,g="",T=hw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=hp(s,1,!1,null,null,l,!1,g,T),s[Hn]=o.current,ea(s.nodeType===8?s.parentNode:s),new gp(o)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Bg(o),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return oo(s)},dr.hydrate=function(s,o,l){if(!gl(o))throw Error(r(200));return vl(null,s,o,!0,l)},dr.hydrateRoot=function(s,o,l){if(!vp(s))throw Error(r(405));var g=l!=null&&l.hydratedSources||null,T=!1,M="",$=hw;if(l!=null&&(l.unstable_strictMode===!0&&(T=!0),l.identifierPrefix!==void 0&&(M=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),o=fw(o,null,s,1,l??null,T,!1,M,$),s[Hn]=o.current,ea(s),g)for(s=0;s<g.length;s++)l=g[s],T=l._getVersion,T=T(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,T]:o.mutableSourceEagerHydrationData.push(l,T);return new ml(o)},dr.render=function(s,o,l){if(!gl(o))throw Error(r(200));return vl(null,s,o,!1,l)},dr.unmountComponentAtNode=function(s){if(!gl(s))throw Error(r(40));return s._reactRootContainer?(oo(function(){vl(null,null,s,!1,function(){s._reactRootContainer=null,s[Hn]=null})}),!0):!1},dr.unstable_batchedUpdates=cp,dr.unstable_renderSubtreeIntoContainer=function(s,o,l,g){if(!gl(l))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return vl(s,o,l,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var xw;function ib(){if(xw)return _p.exports;xw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_p.exports=UR(),_p.exports}var Cw;function VR(){if(Cw)return wl;Cw=1;var e=ib();return wl.createRoot=e.createRoot,wl.hydrateRoot=e.hydrateRoot,wl}var HR=VR(),D=Cu();const zt=tm(D),ab=OR({__proto__:null,default:zt},[D]);var Cp={exports:{}},Rp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function WR(){if(Rw)return Rp;Rw=1;var e=Cu();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Rp.useSyncExternalStoreWithSelector=function(d,h,v,y,w){var S=i(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=c(function(){function C(m){if(!E){if(E=!0,_=m,m=y(m),w!==void 0&&b.hasValue){var x=b.value;if(w(x,m))return p=x}return p=m}if(x=p,r(_,m))return x;var k=y(m);return w!==void 0&&w(x,k)?(_=m,x):(_=m,p=k)}var E=!1,_,p,f=v===void 0?null:v;return[function(){return C(h())},f===null?void 0:function(){return C(f())}]},[h,v,y,w]);var R=n(d,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=R},[R]),u(R),R},Rp}var Ew;function qR(){return Ew||(Ew=1,Cp.exports=WR()),Cp.exports}var GR=qR();function KR(e){e()}function YR(){let e=null,t=null;return{clear(){e=null,t=null},notify(){KR(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Tw={notify(){},get:()=>[]};function XR(e,t){let r,n=Tw,i=0,a=!1;function c(R){v();const C=n.subscribe(R);let E=!1;return()=>{E||(E=!0,C(),y())}}function u(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return a}function v(){i++,r||(r=e.subscribe(d),n=YR())}function y(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Tw)}function w(){a||(a=!0,v())}function S(){a&&(a=!1,y())}const b={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>n};return b}var QR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZR=QR(),JR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eE=JR(),tE=()=>ZR||eE?D.useLayoutEffect:D.useEffect,rE=tE(),Ep=Symbol.for("react-redux-context"),Tp=typeof globalThis<"u"?globalThis:{};function nE(){if(!D.createContext)return{};const e=Tp[Ep]??(Tp[Ep]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var Bs=nE();function sE(e){const{children:t,context:r,serverState:n,store:i}=e,a=D.useMemo(()=>{const d=XR(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),c=D.useMemo(()=>i.getState(),[i]);rE(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=r||Bs;return D.createElement(u.Provider,{value:a},t)}var oE=sE;function rm(e=Bs){return function(){return D.useContext(e)}}var cb=rm();function lb(e=Bs){const t=e===Bs?cb:rm(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var iE=lb();function aE(e=Bs){const t=e===Bs?iE:lb(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var cE=aE(),lE=(e,t)=>e===t;function uE(e=Bs){const t=e===Bs?cb:rm(e),r=(n,i={})=>{const{equalityFn:a=lE}=typeof i=="function"?{equalityFn:i}:i,c=t(),{store:u,subscription:d,getServerState:h}=c;D.useRef(!0);const v=D.useCallback({[n.name](w){return n(w)}}[n.name],[n]),y=GR.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,h||u.getState,v,a);return D.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var dE=uE(),jn=function(){return jn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},jn.apply(this,arguments)};function ub(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function fE(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Al="right-scroll-bar-position",$l="width-before-scroll-bar",pE="with-scroll-bars-hidden",hE="--removed-body-scroll-bar-size";function Pp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mE(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var gE=typeof window<"u"?D.useLayoutEffect:D.useEffect,Pw=new WeakMap;function vE(e,t){var r=mE(null,function(n){return e.forEach(function(i){return Pp(i,n)})});return gE(function(){var n=Pw.get(r);if(n){var i=new Set(n),a=new Set(e),c=r.current;i.forEach(function(u){a.has(u)||Pp(u,null)}),a.forEach(function(u){i.has(u)||Pp(u,c)})}Pw.set(r,e)},[e]),r}function yE(e){return e}function wE(e,t){t===void 0&&(t=yE);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(a),c=r}var d=function(){var v=c;c=[],v.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(v){c.push(v),h()},filter:function(v){return c=c.filter(v),r}}}};return i}function SE(e){e===void 0&&(e={});var t=wE(null);return t.options=jn({async:!0,ssr:!1},e),t}var db=function(e){var t=e.sideCar,r=ub(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,jn({},r))};db.isSideCarExport=!0;function _E(e,t){return e.useMedium(t),db}var fb=SE(),kp=function(){},Ru=D.forwardRef(function(e,t){var r=D.useRef(null),n=D.useState({onScrollCapture:kp,onWheelCapture:kp,onTouchMoveCapture:kp}),i=n[0],a=n[1],c=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,v=e.enabled,y=e.shards,w=e.sideCar,S=e.noIsolation,b=e.inert,R=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,_=e.gapMode,p=ub(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),f=w,m=vE([r,t]),x=jn(jn({},p),i);return D.createElement(D.Fragment,null,v&&D.createElement(f,{sideCar:fb,removeScrollBar:h,shards:y,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:_}),c?D.cloneElement(D.Children.only(u),jn(jn({},x),{ref:m})):D.createElement(E,jn({},x,{className:d,ref:m}),u))});Ru.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ru.classNames={fullWidth:$l,zeroRight:Al};var bE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bE();return t&&e.setAttribute("nonce",t),e}function CE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EE=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xE())&&(CE(t,r),RE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TE=function(){var e=EE();return function(t,r){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pb=function(){var e=TE(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},PE={left:0,top:0,right:0,gap:0},Dp=function(e){return parseInt(e||"",10)||0},kE=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Dp(r),Dp(n),Dp(i)]},DE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PE;var t=kE(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ME=pb(),mi="data-scroll-locked",IE=function(e,t,r,n){var i=e.left,a=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(pE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Al,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat($l,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($l," .").concat($l,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(hE,": ").concat(u,`px;
  }
`)},kw=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},LE=function(){D.useEffect(function(){return document.body.setAttribute(mi,(kw()+1).toString()),function(){var e=kw()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},jE=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;LE();var a=D.useMemo(function(){return DE(i)},[i]);return D.createElement(ME,{styles:IE(a,!t,i,r?"":"!important")})},wh=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return wh=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{wh=!1}var oi=wh?{passive:!1}:!1,OE=function(e){return e.tagName==="TEXTAREA"},hb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!OE(e)&&r[t]==="visible")},NE=function(e){return hb(e,"overflowY")},AE=function(e){return hb(e,"overflowX")},Dw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=mb(e,n);if(i){var a=gb(e,n),c=a[1],u=a[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$E=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},FE=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mb=function(e,t){return e==="v"?NE(t):AE(t)},gb=function(e,t){return e==="v"?$E(t):FE(t)},zE=function(e,t){return e==="h"&&t==="rtl"?-1:1},BE=function(e,t,r,n,i){var a=zE(e,window.getComputedStyle(t).direction),c=a*n,u=r.target,d=t.contains(u),h=!1,v=c>0,y=0,w=0;do{var S=gb(e,u),b=S[0],R=S[1],C=S[2],E=R-C-a*b;(b||E)&&mb(e,u)&&(y+=E,w+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(v&&Math.abs(y)<1||!v&&Math.abs(w)<1)&&(h=!0),h},_l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mw=function(e){return[e.deltaX,e.deltaY]},Iw=function(e){return e&&"current"in e?e.current:e},UE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HE=0,ii=[];function WE(e){var t=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(HE++)[0],a=D.useState(pb)[0],c=D.useRef(e);D.useEffect(function(){c.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var R=fE([e.lockRef.current],(e.shards||[]).map(Iw),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=D.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var E=_l(R),_=r.current,p="deltaX"in R?R.deltaX:_[0]-E[0],f="deltaY"in R?R.deltaY:_[1]-E[1],m,x=R.target,k=Math.abs(p)>Math.abs(f)?"h":"v";if("touches"in R&&k==="h"&&x.type==="range")return!1;var I=Dw(k,x);if(!I)return!0;if(I?m=k:(m=k==="v"?"h":"v",I=Dw(k,x)),!I)return!1;if(!n.current&&"changedTouches"in R&&(p||f)&&(n.current=m),!m)return!0;var j=n.current||m;return BE(j,C,R,j==="h"?p:f)},[]),d=D.useCallback(function(R){var C=R;if(!(!ii.length||ii[ii.length-1]!==a)){var E="deltaY"in C?Mw(C):_l(C),_=t.current.filter(function(m){return m.name===C.type&&(m.target===C.target||C.target===m.shadowParent)&&UE(m.delta,E)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var p=(c.current.shards||[]).map(Iw).filter(Boolean).filter(function(m){return m.contains(C.target)}),f=p.length>0?u(C,p[0]):!c.current.noIsolation;f&&C.cancelable&&C.preventDefault()}}},[]),h=D.useCallback(function(R,C,E,_){var p={name:R,delta:C,target:E,should:_,shadowParent:qE(E)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(f){return f!==p})},1)},[]),v=D.useCallback(function(R){r.current=_l(R),n.current=void 0},[]),y=D.useCallback(function(R){h(R.type,Mw(R),R.target,u(R,e.lockRef.current))},[]),w=D.useCallback(function(R){h(R.type,_l(R),R.target,u(R,e.lockRef.current))},[]);D.useEffect(function(){return ii.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",d,oi),document.addEventListener("touchmove",d,oi),document.addEventListener("touchstart",v,oi),function(){ii=ii.filter(function(R){return R!==a}),document.removeEventListener("wheel",d,oi),document.removeEventListener("touchmove",d,oi),document.removeEventListener("touchstart",v,oi)}},[]);var S=e.removeScrollBar,b=e.inert;return D.createElement(D.Fragment,null,b?D.createElement(a,{styles:VE(i)}):null,S?D.createElement(jE,{gapMode:e.gapMode}):null)}function qE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GE=_E(fb,WE);var iu=D.forwardRef(function(e,t){return D.createElement(Ru,jn({},e,{ref:t,sideCar:GE}))});iu.classNames=Ru.classNames;function fr(e){return Object.keys(e)}function Mp(e){return e&&typeof e=="object"&&!Array.isArray(e)}function nm(e,t){const r={...e},n=t;return Mp(e)&&Mp(t)&&Object.keys(t).forEach(i=>{Mp(n[i])&&i in e?r[i]=nm(r[i],n[i]):r[i]=n[i]}),r}function KE(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function YE(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function qa(e){const t=YE(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Ip(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function vb(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const i=`${n/16}${e}`;return t?Ip(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?Ip(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?Ip(a):a}}return n}return r}const te=vb("rem",{shouldScale:!0}),Lw=vb("em");function Ci(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function yb(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function Hs(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==D.Fragment:!1}function bn(e){const t=D.createContext(null);return[({children:i,value:a})=>P.jsx(t.Provider,{value:a,children:i}),()=>{const i=D.useContext(t);if(i===null)throw new Error(e);return i}]}function Eu(e=null){const t=D.createContext(e);return[({children:i,value:a})=>P.jsx(t.Provider,{value:a,children:i}),()=>D.useContext(t)]}function jw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function au(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function XE(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function QE(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function ZE(e,t,r){return au(e,r)===au(t,r)}function wb({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:c}){return u=>{var b;r==null||r(u);const d=Array.from(((b=au(u.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(R=>ZE(u.currentTarget,R,e)),h=d.findIndex(R=>u.currentTarget===R),v=QE(h,d,n),y=XE(h,d,n),w=a==="rtl"?y:v,S=a==="rtl"?v:y;switch(u.key){case"ArrowRight":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[w].focus(),i&&d[w].click());break}case"ArrowLeft":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[S].focus(),i&&d[S].click());break}case"ArrowUp":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[y].focus(),i&&d[y].click());break}case"ArrowDown":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[v].focus(),i&&d[v].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const R=d.length-1;!d[R].disabled&&d[R].focus();break}}}}const JE={app:100,modal:200,popover:300,overlay:400,max:9999};function gr(e){return JE[e]}const eT=()=>{};function tT(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||eT:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function qe(e,t="size",r=!0){if(e!==void 0)return yb(e)?r?te(e):e:`var(--${t}-${e})`}function rr(e){return qe(e,"mantine-spacing")}function kt(e){return e===void 0?"var(--mantine-radius-default)":qe(e,"mantine-radius")}function nr(e){return qe(e,"mantine-font-size")}function rT(e){return qe(e,"mantine-line-height",!1)}function sm(e){if(e)return qe(e,"mantine-shadow",!1)}function On(e,t){return r=>{e==null||e(r),t==null||t(r)}}function nT(e,t){return e in t?qa(t[e]):qa(e)}function sT(e,t){const r=e.map(n=>({value:n,px:nT(n,t)}));return r.sort((n,i)=>n.px-i.px),r}function gi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function oT(e,t,r){var n;return r?Array.from(((n=au(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(i=>i===r):null}function iT(){const[e,t]=D.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function za(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function Sb(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function vo(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const aT=()=>{};function Tu(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,i=vo(e),a=D.useRef(0),c=Object.assign(D.useCallback((...u)=>{window.clearTimeout(a.current);const d=()=>{a.current!==0&&(a.current=0,i(...u))};c.flush=d,a.current=window.setTimeout(d,r)},[i,r]),{flush:aT});return D.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const Ow=["mousedown","touchstart"];function cT(e,t,r){const n=D.useRef(null);return D.useEffect(()=>{const i=a=>{const{target:c}=a??{};if(Array.isArray(r)){const u=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(h=>!!h&&!a.composedPath().includes(h))&&!u&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||Ow).forEach(a=>document.addEventListener(a,i)),()=>{(t||Ow).forEach(a=>document.removeEventListener(a,i))}},[n,e,r]),n}function lT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function uT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function dT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=D.useState(r?t:uT(e)),a=D.useRef(null);return D.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),lT(a.current,c=>i(c.matches))},[e]),n}const tc=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Fn(e,t){const r=D.useRef(!1);D.useEffect(()=>()=>{r.current=!1},[]),D.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function _b({opened:e,shouldReturnFocus:t=!0}){const r=D.useRef(null),n=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return Fn(()=>{let i=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),n}const fT=/input|select|textarea|button|object/,bb="a, input, select, textarea, button, object, [tabindex]";function pT(e){return e.style.display==="none"}function hT(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(pT(r))return!1;r=r.parentNode}return!0}function xb(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Sh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(xb(e));return(fT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&hT(e)}function Cb(e){const t=xb(e);return(Number.isNaN(t)||t>=0)&&Sh(e)}function mT(e){return Array.from(e.querySelectorAll(bb)).filter(Cb)}function gT(e,t){const r=mT(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],i=e.getRootNode();let a=n===i.activeElement||e===i.activeElement;const c=i.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(v=>v.getAttribute("type")==="radio"&&v.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function vT(e=!0){const t=D.useRef(null),r=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const c=Array.from(i.querySelectorAll(bb));a=c.find(Cb)||c.find(Sh)||null,!a&&Sh(i)&&(a=i)}a&&a.focus({preventScroll:!0})},n=D.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&r(i)}),t.current=i):t.current=null)},[e]);return D.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const i=a=>{a.key==="Tab"&&t.current&&gT(t.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n}const yT=e=>(e+1)%1e6;function wT(){const[,e]=D.useReducer(yT,0);return e}const ST=zt.useId||(()=>{});function _T(){const e=ST();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ws(e){const t=_T(),[r,n]=D.useState(t);return tc(()=>{n(Sb())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function bT(e,t,r){D.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function _h(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Rb(...e){const t=new Map;return r=>{if(e.forEach(n=>{const i=_h(n,r);i&&t.set(n,i)}),t.size>0)return()=>{e.forEach(n=>{const i=t.get(n);i?i():_h(n,null)}),t.clear()}}}function Ut(...e){return D.useCallback(Rb(...e),e)}function xT(e,t,r="ltr"){const n=D.useRef(null),i=D.useRef(!1),a=D.useRef(!1),c=D.useRef(0),[u,d]=D.useState(!1);return D.useEffect(()=>{i.current=!0},[]),D.useEffect(()=>{const h=n.current,v=({x:p,y:f})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(i.current&&h){h.style.userSelect="none";const m=h.getBoundingClientRect();if(m.width&&m.height){const x=za((p-m.left)/m.width,0,1);e({x:r==="ltr"?x:1-x,y:za((f-m.top)/m.height,0,1)})}}})},y=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.addEventListener("touchmove",_),document.addEventListener("touchend",b)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",b)},S=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),y())},b=()=>{a.current&&i.current&&(a.current=!1,d(!1),w(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},R=p=>{S(),p.preventDefault(),C(p)},C=p=>v({x:p.clientX,y:p.clientY}),E=p=>{p.cancelable&&p.preventDefault(),S(),_(p)},_=p=>{p.cancelable&&p.preventDefault(),v({x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY})};return h==null||h.addEventListener("mousedown",R),h==null||h.addEventListener("touchstart",E,{passive:!1}),()=>{h&&(h.removeEventListener("mousedown",R),h.removeEventListener("touchstart",E))}},[r,e]),{ref:n,active:u}}function ss({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[i,a]=D.useState(t!==void 0?t:r),c=(u,...d)=>{a(u),n==null||n(u,...d)};return e!==void 0?[e,n,!0]:[i,c,!1]}function Pu(e,t){return dT("(prefers-reduced-motion: reduce)",e,t)}function zn(e=!1,t){const{onOpen:r,onClose:n}={},[i,a]=D.useState(e),c=D.useCallback(()=>{a(h=>h||(r==null||r(),!0))},[r]),u=D.useCallback(()=>{a(h=>h&&(n==null||n(),!1))},[n]),d=D.useCallback(()=>{i?u():c()},[u,c,i]);return[i,{open:c,close:u,toggle:d}]}function CT(e){const t=D.useRef(void 0);return D.useEffect(()=>{t.current=e},[e]),t.current}var RT={};function ET(){return typeof process<"u"&&RT?"production":"development"}function Nw(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function ku(e){var r;const t=zt.version;return typeof zt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function Eb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Eb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Eb(e))&&(n&&(n+=" "),n+=t);return n}const TT={};function PT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,i])=>{t[n]?t[n]=Bt(t[n],i):t[n]=i})}),t}function Du({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||TT);return PT(a)}function cu({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const Tb=D.createContext(null);function qs(){const e=D.useContext(Tb);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function kT(){return qs().cssVariablesResolver}function DT(){return qs().classNamesPrefix}function om(){return qs().getStyleNonce}function MT(){return qs().withStaticClasses}function IT(){return qs().headless}function LT(){var e;return(e=qs().stylesTransform)==null?void 0:e.sx}function jT(){var e;return(e=qs().stylesTransform)==null?void 0:e.styles}function Pb(){return qs().env||"default"}function OT(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function NT(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function AT(e){const[t,r,n,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:i||1}}function $T(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,u=(1-Math.abs(2*a-1))*i,d=n/60,h=u*(1-Math.abs(d%2-1)),v=a-u/2;let y,w,S;return d>=0&&d<1?(y=u,w=h,S=0):d>=1&&d<2?(y=h,w=u,S=0):d>=2&&d<3?(y=0,w=u,S=h):d>=3&&d<4?(y=0,w=h,S=u):d>=4&&d<5?(y=h,w=0,S=u):(y=u,w=0,S=h),{r:Math.round((y+v)*255),g:Math.round((w+v)*255),b:Math.round((S+v)*255),a:c||1}}function im(e){return OT(e)?NT(e):e.startsWith("rgb")?AT(e):e.startsWith("hsl")?$T(e):{r:0,g:0,b:0,a:1}}function bl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:i,a}=im(e),c=1-t,u=d=>Math.round(d*c);return`rgba(${u(r)}, ${u(n)}, ${u(i)}, ${a})`}function Ga(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Lp(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function FT(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function zT(e){if(e.startsWith("oklch("))return(FT(e)||0)/100;const{r:t,g:r,b:n}=im(e),i=t/255,a=r/255,c=n/255,u=Lp(i),d=Lp(a),h=Lp(c);return .2126*u+.7152*d+.0722*h}function wa(e,t=.179){return e.startsWith("var(")?!1:zT(e)>t}function Ri({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:wa(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:wa(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:wa(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,i]=e.split("."),a=i?Number(i):void 0,c=n in t.colors;if(c){const u=a!==void 0?t.colors[n][a]:t.colors[n][Ga(t,r||"light")];return{color:n,value:u,shade:a,isThemeColor:c,isLight:wa(u,t.luminanceThreshold),variable:i?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:wa(e,t.luminanceThreshold),shade:a,variable:void 0}}function hr(e,t){const r=Ri({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function bh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=hr(r.from,t),i=hr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function Ln(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:i}=im(e);return`rgba(${r}, ${n}, ${i}, ${t})`}const ai=Ln,BT=({color:e,theme:t,variant:r,gradient:n,autoContrast:i})=>{const a=Ri({color:e,theme:t}),c=typeof i=="boolean"?i:t.autoContrast;if(r==="filled"){const u=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:u,border:`${te(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:u,border:`${te(1)} solid transparent`}:{background:e,hover:bl(e,.1),color:u,border:`${te(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:Ln(u,.1),hover:Ln(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:Ln(e,.1),hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${te(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ln(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Ln(e,.05),color:e,border:`${te(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`};const u=t.colors[a.color][a.shade];return{background:"transparent",hover:Ln(u,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}}return{background:"transparent",hover:Ln(e,.12),color:e,border:`${te(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${te(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${te(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:bl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bl(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${te(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bl(t.white,.01),color:e,border:`${te(1)} solid transparent`}:r==="gradient"?{background:bh(n,t),hover:bh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${te(1)} solid var(--mantine-color-default-border)`}:{}},UT={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Aw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",am={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:UT,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:BT,autoContrast:!1,luminanceThreshold:.3,fontFamily:Aw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Aw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:te(34),lineHeight:"1.3"},h2:{fontSize:te(26),lineHeight:"1.35"},h3:{fontSize:te(22),lineHeight:"1.4"},h4:{fontSize:te(18),lineHeight:"1.45"},h5:{fontSize:te(16),lineHeight:"1.5"},h6:{fontSize:te(14),lineHeight:"1.5"}}},fontSizes:{xs:te(12),sm:te(14),md:te(16),lg:te(18),xl:te(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:te(2),sm:te(4),md:te(8),lg:te(16),xl:te(32)},spacing:{xs:te(10),sm:te(12),md:te(16),lg:te(20),xl:te(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), 0 ${te(1)} ${te(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(10)} ${te(15)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(7)} ${te(7)} ${te(-5)}`,md:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(20)} ${te(25)} ${te(-5)}, rgba(0, 0, 0, 0.04) 0 ${te(10)} ${te(10)} ${te(-5)}`,lg:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(28)} ${te(23)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(12)} ${te(12)} ${te(-7)}`,xl:`0 ${te(1)} ${te(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${te(36)} ${te(28)} ${te(-7)}, rgba(0, 0, 0, 0.04) 0 ${te(17)} ${te(17)} ${te(-7)}`},other:{},components:{}};function $w(e){return e==="auto"||e==="dark"||e==="light"}function VT({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return $w(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&$w(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const HT="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Fw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function jp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function zw(e){if(!(e.primaryColor in e.colors))throw new Error(HT);if(typeof e.primaryShade=="object"&&(!jp(e.primaryShade.dark)||!jp(e.primaryShade.light)))throw new Error(Fw);if(typeof e.primaryShade=="number"&&!jp(e.primaryShade))throw new Error(Fw)}function WT(e,t){var n;if(!t)return zw(e),e;const r=nm(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),zw(r),r}const cm=D.createContext(null),qT=()=>D.useContext(cm)||am;function sr(){const e=D.useContext(cm);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function kb({theme:e,children:t,inherit:r=!0}){const n=qT(),i=D.useMemo(()=>WT(r?n:am,e),[e,n,r]);return P.jsx(cm.Provider,{value:i,children:t})}kb.displayName="@mantine/core/MantineThemeProvider";function GT(){const e=sr(),t=om(),r=fr(e.breakpoints).reduce((n,i)=>{const a=e.breakpoints[i].includes("px"),c=qa(e.breakpoints[i]),u=a?`${c-.1}px`:Lw(c-.1),d=a?`${c}px`:Lw(c);return`${n}@media (max-width: ${u}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return P.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Op(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function Sa(e,t){return(Array.isArray(e)?e:[e]).reduce((n,i)=>`${i}{${n}}`,t)}function KT(e,t){const r=Op(e.variables),n=r?Sa(t,r):"",i=Op(e.dark),a=Op(e.light),c=i?Sa(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",u=a?Sa(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${u}`}function lm({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ri({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Bw(e,t){return lm({color:e.colors[e.primaryColor][Ga(e,t)],theme:e,autoContrast:null})}function xl({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(r==="light"){const u=Ga(e,"light"),d={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${u===9?8:u+1})`,[`--mantine-color-${n}-light`]:ai(e.colors[t][u],.1),[`--mantine-color-${n}-light-hover`]:ai(e.colors[t][u],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${u})`,[`--mantine-color-${n}-outline-hover`]:ai(e.colors[t][u],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...d}:d}const a=Ga(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:ai(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:ai(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:ai(e.colors[t][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function YT(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ci(e,t,r){fr(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const Db=e=>{const t=Ga(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:te(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Bw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Bw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ci(n.variables,e.breakpoints,"breakpoint"),ci(n.variables,e.spacing,"spacing"),ci(n.variables,e.fontSizes,"font-size"),ci(n.variables,e.lineHeights,"line-height"),ci(n.variables,e.shadows,"shadow"),ci(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),fr(e.colors).forEach(a=>{const c=e.colors[a];if(YT(c)){Object.assign(n.light,xl({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,xl({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((u,d)=>{n.variables[`--mantine-color-${a}-${d}`]=u}),Object.assign(n.light,xl({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,xl({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return fr(i).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=i[a].fontSize,n.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||e.headings.fontWeight}),n};function XT({theme:e,generator:t}){const r=Db(e),n=t==null?void 0:t(e);return n?nm(r,n):r}const Np=Db(am);function QT(e){const t={variables:{},light:{},dark:{}};return fr(e.variables).forEach(r=>{Np.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),fr(e.light).forEach(r=>{Np.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),fr(e.dark).forEach(r=>{Np.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function ZT(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Mb({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=sr(),n=om(),i=kT(),a=XT({theme:r,generator:i}),c=e===":root"&&t,u=c?QT(a):a,d=KT(u,e);return d?P.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${d}${c?"":ZT(e)}`}}):null}Mb.displayName="@mantine/CssVariables";function JT(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function li(e,t){var i,a;const r=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function eP({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const i=D.useRef(null),[a,c]=D.useState(()=>e.get(t)),u=n||a,d=D.useCallback(v=>{n||(li(v,r),c(v),e.set(v))},[e.set,u,n]),h=D.useCallback(()=>{c(t),li(t,r),e.clear()},[e.clear,t]);return D.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),tc(()=>{li(e.get(t),r)},[]),D.useEffect(()=>{var y;if(n)return li(n,r),()=>{};n===void 0&&li(a,r),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const v=w=>{a==="auto"&&li(w.matches?"dark":"light",r)};return(y=i.current)==null||y.addEventListener("change",v),()=>{var w;return(w=i.current)==null?void 0:w.removeEventListener("change",v)}},[a,n]),{colorScheme:u,setColorScheme:d,clearColorScheme:h}}function tP({respectReducedMotion:e,getRootElement:t}){tc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}JT();function Ib({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:u=":root",classNamesPrefix:d="mantine",colorSchemeManager:h=VT(),defaultColorScheme:v="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:w,forceColorScheme:S,stylesTransform:b,env:R}){const{colorScheme:C,setColorScheme:E,clearColorScheme:_}=eP({defaultColorScheme:v,forceColorScheme:S,manager:h,getRootElement:y});return tP({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:y}),P.jsx(Tb.Provider,{value:{colorScheme:C,setColorScheme:E,clearColorScheme:_,getRootElement:y,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:w,cssVariablesSelector:u,withStaticClasses:n,stylesTransform:b,env:R},children:P.jsxs(kb,{theme:e,children:[c&&P.jsx(Mb,{cssVariablesSelector:u,deduplicateCssVariables:a}),i&&P.jsx(GT,{}),t]})})}Ib.displayName="@mantine/core/MantineProvider";function rc({classNames:e,styles:t,props:r,stylesCtx:n}){const i=sr();return{resolvedClassNames:Du({theme:i,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:cu({theme:i,styles:t,props:r,stylesCtx:n||void 0})}}const rP={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function nP({theme:e,options:t,unstyled:r}){return Bt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||rP[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function sP({selector:e,stylesCtx:t,options:r,props:n,theme:i}){return Du({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function Uw({selector:e,stylesCtx:t,theme:r,classNames:n,props:i}){return Du({theme:r,classNames:n,props:i,stylesCtx:t})[e]}function oP({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function iP({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function aP({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(i=>`${t}-${i}-${r}`)}function cP({themeName:e,theme:t,selector:r,props:n,stylesCtx:i}){return e.map(a=>{var c,u;return(u=Du({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:i}))==null?void 0:u[r]})}function lP({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function uP({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:i,classNames:a,classes:c,unstyled:u,className:d,rootSelector:h,props:v,stylesCtx:y,withStaticClasses:w,headless:S,transformedStyles:b}){return Bt(nP({theme:e,options:t,unstyled:u||S}),cP({theme:e,themeName:r,selector:n,props:v,stylesCtx:y}),lP({options:t,classes:c,selector:n,unstyled:u}),Uw({selector:n,stylesCtx:y,theme:e,classNames:a,props:v}),Uw({selector:n,stylesCtx:y,theme:e,classNames:b,props:v}),sP({selector:n,stylesCtx:y,options:t,props:v,theme:e}),oP({rootSelector:h,selector:n,className:d}),iP({selector:n,classes:c,unstyled:u||S}),w&&!S&&aP({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function dP({theme:e,themeName:t,props:r,stylesCtx:n,selector:i}){return t.map(a=>{var c;return cu({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[i]}).reduce((a,c)=>({...a,...c}),{})}function xh({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...xh({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function fP(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Ci(r[n])}}),t),{})}function pP({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:i,selector:a,themeName:c,headless:u}){var d;return(d=fP([u?{}:t==null?void 0:t(r,n,i),...c.map(h=>{var v,y,w;return(w=(y=(v=r.components)==null?void 0:v[h])==null?void 0:y.vars)==null?void 0:w.call(y,r,n,i)}),e==null?void 0:e(r,n,i)]))==null?void 0:d[a]}function hP({theme:e,themeName:t,selector:r,options:n,props:i,stylesCtx:a,rootSelector:c,styles:u,style:d,vars:h,varsResolver:v,headless:y,withStylesTransform:w}){return{...!w&&dP({theme:e,themeName:t,props:i,stylesCtx:a,selector:r}),...!w&&cu({theme:e,styles:u,props:i,stylesCtx:a})[r],...!w&&cu({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:a})[r],...pP({theme:e,props:i,stylesCtx:a,vars:h,varsResolver:v,selector:r,themeName:t,headless:y}),...c===r?xh({style:d,theme:e}):null,...xh({style:n==null?void 0:n.style,theme:e})}}function mP({props:e,stylesCtx:t,themeName:r}){var c;const n=sr(),i=(c=jT())==null?void 0:c();return{getTransformedStyles:u=>i?[...u.map(h=>i(h,{props:e,theme:n,ctx:t})),...r.map(h=>{var v;return i((v=n.components[h])==null?void 0:v.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Ee({name:e,classes:t,props:r,stylesCtx:n,className:i,style:a,rootSelector:c="root",unstyled:u,classNames:d,styles:h,vars:v,varsResolver:y}){const w=sr(),S=DT(),b=MT(),R=IT(),C=(Array.isArray(e)?e:[e]).filter(p=>p),{withStylesTransform:E,getTransformedStyles:_}=mP({props:r,stylesCtx:n,themeName:C});return(p,f)=>({className:uP({theme:w,options:f,themeName:C,selector:p,classNamesPrefix:S,classNames:d,classes:t,unstyled:u,className:i,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:b,headless:R,transformedStyles:_([f==null?void 0:f.styles,h])}),style:hP({theme:w,themeName:C,selector:p,options:f,props:r,stylesCtx:n,rootSelector:c,styles:h,style:a,vars:v,varsResolver:y,headless:R,withStylesTransform:E})})}function Lb(e,t){return typeof e=="boolean"?e:t.autoContrast}function ie(e,t,r){var c;const n=sr(),i=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof i=="function"?i(n):i;return{...t,...a,...Ci(r)}}function Ap(e){return fr(e).reduce((t,r)=>e[r]!==void 0?`${t}${KE(r)}:${e[r]};`:t,"").trim()}function gP({selector:e,styles:t,media:r,container:n}){const i=t?Ap(t):"",a=Array.isArray(r)?r.map(u=>`@media${u.query}{${e}{${Ap(u.styles)}}}`):[],c=Array.isArray(n)?n.map(u=>`@container ${u.query}{${e}{${Ap(u.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${a.join("")}${c.join("")}`.trim()}function Mu(e){const t=om();return P.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:gP(e)}})}function Iu(e){const{m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:u,me:d,ms:h,p:v,px:y,py:w,pt:S,pb:b,pl:R,pr:C,pe:E,ps:_,bd:p,bg:f,c:m,opacity:x,ff:k,fz:I,fw:j,lts:L,ta:A,lh:N,fs:V,tt:W,td:X,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:Y,bgp:ae,bgr:de,bga:ee,pos:oe,top:ue,left:me,bottom:he,right:Ce,inset:ke,display:gt,flex:it,hiddenFrom:Be,visibleFrom:Qe,lightHidden:Ze,darkHidden:Ge,sx:Et,...pt}=e;return{styleProps:Ci({m:t,mx:r,my:n,mt:i,mb:a,ml:c,mr:u,me:d,ms:h,p:v,px:y,py:w,pt:S,pb:b,pl:R,pr:C,pe:E,ps:_,bd:p,bg:f,c:m,opacity:x,ff:k,fz:I,fw:j,lts:L,ta:A,lh:N,fs:V,tt:W,td:X,w:O,miw:U,maw:F,h:z,mih:q,mah:B,bgsz:Y,bgp:ae,bgr:de,bga:ee,pos:oe,top:ue,left:me,bottom:he,right:Ce,inset:ke,display:gt,flex:it,hiddenFrom:Be,visibleFrom:Qe,lightHidden:Ze,darkHidden:Ge,sx:Et}),rest:pt}}const vP={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function um(e,t){const r=Ri({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function yP(e,t){const r=Ri({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:um(e,t)}function wP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const[r,n,...i]=e.split(" ").filter(c=>c.trim()!=="");let a=`${te(r)}`;return n&&(a+=` ${n}`),i.length>0&&(a+=` ${um(i.join(" "),t)}`),a.trim()}return e}const Vw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function SP(e){return typeof e=="string"&&e in Vw?Vw[e]:e}const _P=["h1","h2","h3","h4","h5","h6"];function bP(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&_P.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?te(e):e}function xP(e){return e}const CP=["h1","h2","h3","h4","h5","h6"];function RP(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&CP.includes(e)?`var(--mantine-${e}-line-height)`:e}function EP(e){return typeof e=="number"?te(e):e}function TP(e,t){if(typeof e=="number")return te(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return te(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const $p={color:um,textColor:yP,fontSize:bP,spacing:TP,identity:xP,size:EP,lineHeight:RP,fontFamily:SP,border:wP};function Hw(e){return e.replace("(min-width: ","").replace("em)","")}function PP({media:e,...t}){const n=Object.keys(e).sort((i,a)=>Number(Hw(i))-Number(Hw(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:n}}function kP(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function DP(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function MP(e){return typeof e=="object"&&e!==null?fr(e).filter(t=>t!=="base"):[]}function IP(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function jb({styleProps:e,data:t,theme:r}){return PP(fr(e).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const a=t[i],c=Array.isArray(a.property)?a.property:[a.property],u=DP(e[i]);if(!kP(e[i]))return c.forEach(h=>{n.inlineStyles[h]=$p[a.type](u,r)}),n;n.hasResponsiveStyles=!0;const d=MP(e[i]);return c.forEach(h=>{u&&(n.styles[h]=$p[a.type](u,r)),d.forEach(v=>{const y=`(min-width: ${r.breakpoints[v]})`;n.media[y]={...n.media[y],[h]:$p[a.type](IP(e[i],v),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function dm(){return`__m__-${D.useId().replace(/:/g,"")}`}function fm(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...fm(n,t)}),{}):typeof e=="function"?e(t):e??{}}function Ob(e){return e.startsWith("data-")?e:`data-${e}`}function LP(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[Ob(r)]=e[r]),t},{})}function Nb(e){return e?typeof e=="string"?{[Ob(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...Nb(r)}),{}):LP(e):null}function Ch(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Ch(n,t)}),{}):typeof e=="function"?e(t):e??{}}function jP({theme:e,style:t,vars:r,styleProps:n}){const i=Ch(t,e),a=Ch(r,e);return{...i,...a,...n}}const Ab=D.forwardRef(({component:e,style:t,__vars:r,className:n,variant:i,mod:a,size:c,hiddenFrom:u,visibleFrom:d,lightHidden:h,darkHidden:v,renderRoot:y,__size:w,...S},b)=>{var I;const R=sr(),C=e||"div",{styleProps:E,rest:_}=Iu(S),p=LT(),f=(I=p==null?void 0:p())==null?void 0:I(E.sx),m=dm(),x=jb({styleProps:E,theme:R,data:vP}),k={ref:b,style:jP({theme:R,style:t,vars:r,styleProps:x.inlineStyles}),className:Bt(n,f,{[m]:x.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":v,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":i,"data-size":yb(c)?void 0:c||void 0,size:w,...Nb(a),..._};return P.jsxs(P.Fragment,{children:[x.hasResponsiveStyles&&P.jsx(Mu,{selector:`.${m}`,styles:x.styles,media:x.media}),typeof y=="function"?y(k):P.jsx(C,{...k})]})});Ab.displayName="@mantine/core/Box";const re=Ab;function $b(e){return e}function OP(e){const t=e;return r=>{const n=D.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function fe(e){const t=D.forwardRef(e);return t.extend=$b,t.withProps=r=>{const n=D.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Xt(e){const t=D.forwardRef(e);return t.withProps=r=>{const n=D.forwardRef((i,a)=>P.jsx(t,{...r,...i,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=$b,t}const NP=D.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Gs(){return D.useContext(NP)}var Lu=ib();const ja=tm(Lu);function AP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Fp(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const _a=typeof window<"u"&&window.requestAnimationFrame;function $P({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const i=D.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[u,d]=D.useState(n?{}:c),h=b=>{Lu.flushSync(()=>d(b))},v=b=>{h(R=>({...R,...b}))};function y(b){const R=e||AP(b);return{transition:`height ${R}ms ${t}, opacity ${R}ms ${t}`}}Fn(()=>{typeof _a=="function"&&_a(n?()=>{v({willChange:"height",display:"block",overflow:"hidden"}),_a(()=>{const b=Fp(i);v({...y(b),height:b})})}:()=>{const b=Fp(i);v({...y(b),willChange:"height",height:b}),_a(()=>v({height:a,overflow:"hidden"}))})},[n]);const w=b=>{if(!(b.target!==i.current||b.propertyName!=="height"))if(n){const R=Fp(i);R===u.height?h({}):v({height:R}),r()}else u.height===a&&(h(c),r())};function S({style:b={},refKey:R="ref",...C}={}){const E=C[R];return{"aria-hidden":!n,...C,[R]:Rb(i,E),onTransitionEnd:w,style:{boxSizing:"border-box",...b,...u}}}return S}const FP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ju=fe((e,t)=>{const{children:r,in:n,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:u,animateOpacity:d,...h}=ie("Collapse",FP,e),v=sr(),y=Pu(),S=(v.respectReducedMotion?y:!1)?0:i,b=$P({opened:n,transitionDuration:S,transitionTimingFunction:a,onTransitionEnd:u});return S===0?n?P.jsx(re,{...h,children:r}):null:P.jsx(re,{...b({style:{opacity:n||!d?1:0,transition:d?`opacity ${S}ms ${a}`:"none",...fm(c,v)},ref:t,...h}),children:r})});ju.displayName="@mantine/core/Collapse";function Ou(){return typeof window<"u"}function Ei(e){return Fb(e)?(e.nodeName||"").toLowerCase():"#document"}function pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Un(e){var t;return(t=(Fb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fb(e){return Ou()?e instanceof Node||e instanceof pr(e).Node:!1}function tt(e){return Ou()?e instanceof Element||e instanceof pr(e).Element:!1}function Er(e){return Ou()?e instanceof HTMLElement||e instanceof pr(e).HTMLElement:!1}function Rh(e){return!Ou()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pr(e).ShadowRoot}function nc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function zP(e){return["table","td","th"].includes(Ei(e))}function Nu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pm(e){const t=Au(),r=tt(e)?$r(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function BP(e){let t=os(e);for(;Er(t)&&!Us(t);){if(pm(t))return t;if(Nu(t))return null;t=os(t)}return null}function Au(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Us(e){return["html","body","#document"].includes(Ei(e))}function $r(e){return pr(e).getComputedStyle(e)}function $u(e){return tt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function os(e){if(Ei(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rh(e)&&e.host||Un(e);return Rh(t)?t.host:t}function zb(e){const t=os(e);return Us(t)?e.ownerDocument?e.ownerDocument.body:e.body:Er(t)&&nc(t)?t:zb(t)}function es(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=zb(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),c=pr(i);if(a){const u=Eh(c);return t.concat(c,c.visualViewport||[],nc(i)?i:[],u&&r?es(u):[])}return t.concat(i,es(i,[],r))}function Eh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ww(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Ka(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Rh(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Bb(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Ub(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function UP(e){return WP()?!1:!qw()&&e.width===0&&e.height===0||qw()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function VP(){return/apple/i.test(navigator.vendor)}function qw(){const e=/android/i;return e.test(Bb())||e.test(Ub())}function HP(){return Bb().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function WP(){return Ub().includes("jsdom/")}function Th(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function qP(e){return"nativeEvent"in e}function GP(e){return e.matches("html,body")}function yo(e){return(e==null?void 0:e.ownerDocument)||document}function zp(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function fi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const KP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function YP(e){return Er(e)&&e.matches(KP)}const vn=Math.min,Kt=Math.max,lu=Math.round,Cl=Math.floor,Nn=e=>({x:e,y:e}),XP={left:"right",right:"left",bottom:"top",top:"bottom"},QP={start:"end",end:"start"};function Ph(e,t,r){return Kt(e,vn(t,r))}function is(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function hm(e){return e==="x"?"y":"x"}function mm(e){return e==="y"?"height":"width"}function as(e){return["top","bottom"].includes(yn(e))?"y":"x"}function gm(e){return hm(as(e))}function ZP(e,t,r){r===void 0&&(r=!1);const n=Ti(e),i=gm(e),a=mm(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=uu(c)),[c,uu(c)]}function JP(e){const t=uu(e);return[kh(e),t,kh(t)]}function kh(e){return e.replace(/start|end/g,t=>QP[t])}function ek(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:c;default:return[]}}function tk(e,t,r,n){const i=Ti(e);let a=ek(yn(e),r==="start",n);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(kh)))),a}function uu(e){return e.replace(/left|right|bottom|top/g,t=>XP[t])}function rk(e){return{top:0,right:0,bottom:0,left:0,...e}}function vm(e){return typeof e!="number"?rk(e):{top:e,right:e,bottom:e,left:e}}function wi(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Gw(e,t,r){let{reference:n,floating:i}=e;const a=as(t),c=gm(t),u=mm(c),d=yn(t),h=a==="y",v=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,w=n[u]/2-i[u]/2;let S;switch(d){case"top":S={x:v,y:n.y-i.height};break;case"bottom":S={x:v,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y};break;case"left":S={x:n.x-i.width,y};break;default:S={x:n.x,y:n.y}}switch(Ti(t)){case"start":S[c]-=w*(r&&h?-1:1);break;case"end":S[c]+=w*(r&&h?-1:1);break}return S}const nk=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,u=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y}=Gw(h,n,d),w=n,S={},b=0;for(let R=0;R<u.length;R++){const{name:C,fn:E}=u[R],{x:_,y:p,data:f,reset:m}=await E({x:v,y,initialPlacement:n,placement:w,strategy:i,middlewareData:S,rects:h,platform:c,elements:{reference:e,floating:t}});v=_??v,y=p??y,S={...S,[C]:{...S[C],...f}},m&&b<=50&&(b++,typeof m=="object"&&(m.placement&&(w=m.placement),m.rects&&(h=m.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):m.rects),{x:v,y}=Gw(h,w,d)),R=-1)}return{x:v,y,placement:w,strategy:i,middlewareData:S}};async function ym(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:c,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=is(t,e),b=vm(S),C=u[w?y==="floating"?"reference":"floating":y],E=wi(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:v,strategy:d})),_=y==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),f=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},m=wi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:p,strategy:d}):_);return{top:(E.top-m.top+b.top)/f.y,bottom:(m.bottom-E.bottom+b.bottom)/f.y,left:(E.left-m.left+b.left)/f.x,right:(m.right-E.right+b.right)/f.x}}const sk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:c,elements:u,middlewareData:d}=t,{element:h,padding:v=0}=is(e,t)||{};if(h==null)return{};const y=vm(v),w={x:r,y:n},S=gm(i),b=mm(S),R=await c.getDimensions(h),C=S==="y",E=C?"top":"left",_=C?"bottom":"right",p=C?"clientHeight":"clientWidth",f=a.reference[b]+a.reference[S]-w[S]-a.floating[b],m=w[S]-a.reference[S],x=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let k=x?x[p]:0;(!k||!await(c.isElement==null?void 0:c.isElement(x)))&&(k=u.floating[p]||a.floating[b]);const I=f/2-m/2,j=k/2-R[b]/2-1,L=vn(y[E],j),A=vn(y[_],j),N=L,V=k-R[b]-A,W=k/2-R[b]/2+I,X=Ph(N,W,V),O=!d.arrow&&Ti(i)!=null&&W!==X&&a.reference[b]/2-(W<N?L:A)-R[b]/2<0,U=O?W<N?W-N:W-V:0;return{[S]:w[S]+U,data:{[S]:X,centerOffset:W-X-U,...O&&{alignmentOffset:U}},reset:O}}}),ok=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:R=!0,...C}=is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const E=yn(i),_=as(u),p=yn(u)===u,f=await(d.isRTL==null?void 0:d.isRTL(h.floating)),m=w||(p||!R?[uu(u)]:JP(u)),x=b!=="none";!w&&x&&m.push(...tk(u,R,b,f));const k=[u,...m],I=await ym(t,C),j=[];let L=((n=a.flip)==null?void 0:n.overflows)||[];if(v&&j.push(I[E]),y){const W=ZP(i,c,f);j.push(I[W[0]],I[W[1]])}if(L=[...L,{placement:i,overflows:j}],!j.every(W=>W<=0)){var A,N;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,X=k[W];if(X)return{data:{index:W,overflows:L},reset:{placement:X}};let O=(N=L.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(S){case"bestFit":{var V;const U=(V=L.filter(F=>{if(x){const z=as(F.placement);return z===_||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:V[0];U&&(O=U);break}case"initialPlacement":O=u;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function Vb(e){const t=vn(...e.map(a=>a.left)),r=vn(...e.map(a=>a.top)),n=Kt(...e.map(a=>a.right)),i=Kt(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:i-r}}function ik(e){const t=e.slice().sort((i,a)=>i.y-a.y),r=[];let n=null;for(let i=0;i<t.length;i++){const a=t[i];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(i=>wi(Vb(i)))}const ak=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:i,platform:a,strategy:c}=t,{padding:u=2,x:d,y:h}=is(e,t),v=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),y=ik(v),w=wi(Vb(v)),S=vm(u);function b(){if(y.length===2&&y[0].left>y[1].right&&d!=null&&h!=null)return y.find(C=>d>C.left-S.left&&d<C.right+S.right&&h>C.top-S.top&&h<C.bottom+S.bottom)||w;if(y.length>=2){if(as(r)==="y"){const L=y[0],A=y[y.length-1],N=yn(r)==="top",V=L.top,W=A.bottom,X=N?L.left:A.left,O=N?L.right:A.right,U=O-X,F=W-V;return{top:V,bottom:W,left:X,right:O,width:U,height:F,x:X,y:V}}const C=yn(r)==="left",E=Kt(...y.map(L=>L.right)),_=vn(...y.map(L=>L.left)),p=y.filter(L=>C?L.left===_:L.right===E),f=p[0].top,m=p[p.length-1].bottom,x=_,k=E,I=k-x,j=m-f;return{top:f,bottom:m,left:x,right:k,width:I,height:j,x,y:f}}return w}const R=await a.getElementRects({reference:{getBoundingClientRect:b},floating:n.floating,strategy:c});return i.reference.x!==R.reference.x||i.reference.y!==R.reference.y||i.reference.width!==R.reference.width||i.reference.height!==R.reference.height?{reset:{rects:R}}:{}}}};async function ck(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=yn(r),u=Ti(r),d=as(r)==="y",h=["left","top"].includes(c)?-1:1,v=a&&d?-1:1,y=is(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof b=="number"&&(S=u==="end"?b*-1:b),d?{x:S*v,y:w*h}:{x:w*h,y:S*v}}const lk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:c,middlewareData:u}=t,d=await ck(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},uk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:E,y:_}=C;return{x:E,y:_}}},...d}=is(e,t),h={x:r,y:n},v=await ym(t,d),y=as(yn(i)),w=hm(y);let S=h[w],b=h[y];if(a){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",_=S+v[C],p=S-v[E];S=Ph(_,S,p)}if(c){const C=y==="y"?"top":"left",E=y==="y"?"bottom":"right",_=b+v[C],p=b-v[E];b=Ph(_,b,p)}const R=u.fn({...t,[w]:S,[y]:b});return{...R,data:{x:R.x-r,y:R.y-n,enabled:{[w]:a,[y]:c}}}}}},dk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=is(e,t),v={x:r,y:n},y=as(i),w=hm(y);let S=v[w],b=v[y];const R=is(u,t),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(d){const p=w==="y"?"height":"width",f=a.reference[w]-a.floating[p]+C.mainAxis,m=a.reference[w]+a.reference[p]-C.mainAxis;S<f?S=f:S>m&&(S=m)}if(h){var E,_;const p=w==="y"?"width":"height",f=["top","left"].includes(yn(i)),m=a.reference[y]-a.floating[p]+(f&&((E=c.offset)==null?void 0:E[y])||0)+(f?0:C.crossAxis),x=a.reference[y]+a.reference[p]+(f?0:((_=c.offset)==null?void 0:_[y])||0)-(f?C.crossAxis:0);b<m?b=m:b>x&&(b=x)}return{[w]:S,[y]:b}}}},fk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:c,elements:u}=t,{apply:d=()=>{},...h}=is(e,t),v=await ym(t,h),y=yn(i),w=Ti(i),S=as(i)==="y",{width:b,height:R}=a.floating;let C,E;y==="top"||y==="bottom"?(C=y,E=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=y,C=w==="end"?"top":"bottom");const _=R-v.top-v.bottom,p=b-v.left-v.right,f=vn(R-v[C],_),m=vn(b-v[E],p),x=!t.middlewareData.shift;let k=f,I=m;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=p),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=_),x&&!w){const L=Kt(v.left,0),A=Kt(v.right,0),N=Kt(v.top,0),V=Kt(v.bottom,0);S?I=b-2*(L!==0||A!==0?L+A:Kt(v.left,v.right)):k=R-2*(N!==0||V!==0?N+V:Kt(v.top,v.bottom))}await d({...t,availableWidth:I,availableHeight:k});const j=await c.getDimensions(u.floating);return b!==j.width||R!==j.height?{reset:{rects:!0}}:{}}}};function Hb(e){const t=$r(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Er(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=lu(r)!==a||lu(n)!==c;return u&&(r=a,n=c),{width:r,height:n,$:u}}function wm(e){return tt(e)?e:e.contextElement}function vi(e){const t=wm(e);if(!Er(t))return Nn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=Hb(t);let c=(a?lu(r.width):r.width)/n,u=(a?lu(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const pk=Nn(0);function Wb(e){const t=pr(e);return!Au()||!t.visualViewport?pk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pr(e)?!1:t}function bo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=wm(e);let c=Nn(1);t&&(n?tt(n)&&(c=vi(n)):c=vi(e));const u=hk(a,r,n)?Wb(a):Nn(0);let d=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,v=i.width/c.x,y=i.height/c.y;if(a){const w=pr(a),S=n&&tt(n)?pr(n):n;let b=w,R=Eh(b);for(;R&&n&&S!==b;){const C=vi(R),E=R.getBoundingClientRect(),_=$r(R),p=E.left+(R.clientLeft+parseFloat(_.paddingLeft))*C.x,f=E.top+(R.clientTop+parseFloat(_.paddingTop))*C.y;d*=C.x,h*=C.y,v*=C.x,y*=C.y,d+=p,h+=f,b=pr(R),R=Eh(b)}}return wi({width:v,height:y,x:d,y:h})}function Sm(e,t){const r=$u(e).scrollLeft;return t?t.left+r:bo(Un(e)).left+r}function qb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:Sm(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function mk(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",c=Un(n),u=t?Nu(t.floating):!1;if(n===c||u&&a)return r;let d={scrollLeft:0,scrollTop:0},h=Nn(1);const v=Nn(0),y=Er(n);if((y||!y&&!a)&&((Ei(n)!=="body"||nc(c))&&(d=$u(n)),Er(n))){const S=bo(n);h=vi(n),v.x=S.x+n.clientLeft,v.y=S.y+n.clientTop}const w=c&&!y&&!a?qb(c,d,!0):Nn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+v.x+w.x,y:r.y*h.y-d.scrollTop*h.y+v.y+w.y}}function gk(e){return Array.from(e.getClientRects())}function vk(e){const t=Un(e),r=$u(e),n=e.ownerDocument.body,i=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Sm(e);const u=-r.scrollTop;return $r(n).direction==="rtl"&&(c+=Kt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:c,y:u}}function yk(e,t){const r=pr(e),n=Un(e),i=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,u=0,d=0;if(i){a=i.width,c=i.height;const h=Au();(!h||h&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:u,y:d}}function wk(e,t){const r=bo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Er(e)?vi(e):Nn(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:c,height:u,x:d,y:h}}function Kw(e,t,r){let n;if(t==="viewport")n=yk(e,r);else if(t==="document")n=vk(Un(e));else if(tt(t))n=wk(t,r);else{const i=Wb(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return wi(n)}function Gb(e,t){const r=os(e);return r===t||!tt(r)||Us(r)?!1:$r(r).position==="fixed"||Gb(r,t)}function Sk(e,t){const r=t.get(e);if(r)return r;let n=es(e,[],!1).filter(u=>tt(u)&&Ei(u)!=="body"),i=null;const a=$r(e).position==="fixed";let c=a?os(e):e;for(;tt(c)&&!Us(c);){const u=$r(c),d=pm(c);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nc(c)&&!d&&Gb(e,c))?n=n.filter(v=>v!==c):i=u,c=os(c)}return t.set(e,n),n}function _k(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Nu(t)?[]:Sk(t,this._c):[].concat(r),n],u=c[0],d=c.reduce((h,v)=>{const y=Kw(t,v,i);return h.top=Kt(y.top,h.top),h.right=vn(y.right,h.right),h.bottom=vn(y.bottom,h.bottom),h.left=Kt(y.left,h.left),h},Kw(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function bk(e){const{width:t,height:r}=Hb(e);return{width:t,height:r}}function xk(e,t,r){const n=Er(t),i=Un(t),a=r==="fixed",c=bo(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=Nn(0);if(n||!n&&!a)if((Ei(t)!=="body"||nc(i))&&(u=$u(t)),n){const w=bo(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else i&&(d.x=Sm(i));const h=i&&!n&&!a?qb(i,u):Nn(0),v=c.left+u.scrollLeft-d.x-h.x,y=c.top+u.scrollTop-d.y-h.y;return{x:v,y,width:c.width,height:c.height}}function Bp(e){return $r(e).position==="static"}function Yw(e,t){if(!Er(e)||$r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Un(e)===r&&(r=r.ownerDocument.body),r}function Kb(e,t){const r=pr(e);if(Nu(e))return r;if(!Er(e)){let i=os(e);for(;i&&!Us(i);){if(tt(i)&&!Bp(i))return i;i=os(i)}return r}let n=Yw(e,t);for(;n&&zP(n)&&Bp(n);)n=Yw(n,t);return n&&Us(n)&&Bp(n)&&!pm(n)?r:n||BP(e)||r}const Ck=async function(e){const t=this.getOffsetParent||Kb,r=this.getDimensions,n=await r(e.floating);return{reference:xk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Rk(e){return $r(e).direction==="rtl"}const Ek={convertOffsetParentRelativeRectToViewportRelativeRect:mk,getDocumentElement:Un,getClippingRect:_k,getOffsetParent:Kb,getElementRects:Ck,getClientRects:gk,getDimensions:bk,getScale:vi,isElement:tt,isRTL:Rk};function Yb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Tk(e,t){let r=null,n;const i=Un(e);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:v,top:y,width:w,height:S}=h;if(u||t(),!w||!S)return;const b=Cl(y),R=Cl(i.clientWidth-(v+w)),C=Cl(i.clientHeight-(y+S)),E=Cl(v),p={rootMargin:-b+"px "+-R+"px "+-C+"px "+-E+"px",threshold:Kt(0,vn(1,d))||1};let f=!0;function m(x){const k=x[0].intersectionRatio;if(k!==d){if(!f)return c();k?c(!1,k):n=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!Yb(h,e.getBoundingClientRect())&&c(),f=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,p)}r.observe(e)}return c(!0),a}function Pk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=wm(e),v=i||a?[...h?es(h):[],...es(t)]:[];v.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),a&&E.addEventListener("resize",r)});const y=h&&u?Tk(h,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(E=>{let[_]=E;_&&_.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var p;(p=S)==null||p.observe(t)})),r()}),h&&!d&&S.observe(h),S.observe(t));let b,R=d?bo(e):null;d&&C();function C(){const E=bo(e);R&&!Yb(R,E)&&r(),R=E,b=requestAnimationFrame(C)}return r(),()=>{var E;v.forEach(_=>{i&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),y==null||y(),(E=S)==null||E.disconnect(),S=null,d&&cancelAnimationFrame(b)}}const kk=lk,Dk=uk,Mk=ok,Ik=fk,Xw=sk,Lk=ak,jk=dk,Ok=(e,t,r)=>{const n=new Map,i={platform:Ek,...r},a={...i.platform,_c:n};return nk(e,t,{...i,platform:a})};var Fl=typeof document<"u"?D.useLayoutEffect:D.useEffect;function du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!du(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!du(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Xb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qw(e,t){const r=Xb(e);return Math.round(t*r)/r}function Up(e){const t=D.useRef(e);return Fl(()=>{t.current=e}),t}function Nk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[v,y]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=D.useState(n);du(w,n)||S(n);const[b,R]=D.useState(null),[C,E]=D.useState(null),_=D.useCallback(F=>{F!==x.current&&(x.current=F,R(F))},[]),p=D.useCallback(F=>{F!==k.current&&(k.current=F,E(F))},[]),f=a||b,m=c||C,x=D.useRef(null),k=D.useRef(null),I=D.useRef(v),j=d!=null,L=Up(d),A=Up(i),N=Up(h),V=D.useCallback(()=>{if(!x.current||!k.current)return;const F={placement:t,strategy:r,middleware:w};A.current&&(F.platform=A.current),Ok(x.current,k.current,F).then(z=>{const q={...z,isPositioned:N.current!==!1};W.current&&!du(I.current,q)&&(I.current=q,Lu.flushSync(()=>{y(q)}))})},[w,t,r,A,N]);Fl(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,y(F=>({...F,isPositioned:!1})))},[h]);const W=D.useRef(!1);Fl(()=>(W.current=!0,()=>{W.current=!1}),[]),Fl(()=>{if(f&&(x.current=f),m&&(k.current=m),f&&m){if(L.current)return L.current(f,m,V);V()}},[f,m,V,L,j]);const X=D.useMemo(()=>({reference:x,floating:k,setReference:_,setFloating:p}),[_,p]),O=D.useMemo(()=>({reference:f,floating:m}),[f,m]),U=D.useMemo(()=>{const F={position:r,left:0,top:0};if(!O.floating)return F;const z=Qw(O.floating,v.x),q=Qw(O.floating,v.y);return u?{...F,transform:"translate("+z+"px, "+q+"px)",...Xb(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,u,O.floating,v.x,v.y]);return D.useMemo(()=>({...v,update:V,refs:X,elements:O,floatingStyles:U}),[v,V,X,O,U])}const Ak=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Xw({element:n.current,padding:i}).fn(r):{}:n?Xw({element:n,padding:i}).fn(r):{}}}},Qb=(e,t)=>({...kk(e),options:[e,t]}),_m=(e,t)=>({...Dk(e),options:[e,t]}),Zw=(e,t)=>({...jk(e),options:[e,t]}),fu=(e,t)=>({...Mk(e),options:[e,t]}),$k=(e,t)=>({...Ik(e),options:[e,t]}),Ba=(e,t)=>({...Lk(e),options:[e,t]}),Zb=(e,t)=>({...Ak(e),options:[e,t]});function Fk(e){return D.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const Jb={...ab},zk=Jb.useInsertionEffect,Bk=zk||(e=>e());function Jn(e){const t=D.useRef(()=>{});return Bk(()=>{t.current=e}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var An=typeof document<"u"?D.useLayoutEffect:D.useEffect;let Jw=!1,Uk=0;const eS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Uk++;function Vk(){const[e,t]=D.useState(()=>Jw?eS():void 0);return An(()=>{e==null&&t(eS())},[]),D.useEffect(()=>{Jw=!0},[]),e}const Hk=Jb.useId,e0=Hk||Vk;function Wk(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const qk=D.createContext(null),Gk=D.createContext(null),bm=()=>{var e;return((e=D.useContext(qk))==null?void 0:e.id)||null},xm=()=>D.useContext(Gk);function Cm(e){return"data-floating-ui-"+e}function Vp(e){const t=D.useRef(e);return An(()=>{t.current=e}),t}const tS=Cm("safe-polygon");function zl(e,t,r){return r&&!Th(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Kk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:c}=e,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:v=!1,restMs:y=0,move:w=!0}=t,S=xm(),b=bm(),R=Vp(h),C=Vp(d),E=Vp(r),_=D.useRef(),p=D.useRef(-1),f=D.useRef(),m=D.useRef(-1),x=D.useRef(!0),k=D.useRef(!1),I=D.useRef(()=>{}),j=D.useRef(!1),L=D.useCallback(()=>{var U;const F=(U=i.current.openEvent)==null?void 0:U.type;return(F==null?void 0:F.includes("mouse"))&&F!=="mousedown"},[i]);D.useEffect(()=>{if(!u)return;function U(F){let{open:z}=F;z||(clearTimeout(p.current),clearTimeout(m.current),x.current=!0,j.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[u,a]),D.useEffect(()=>{if(!u||!R.current||!r)return;function U(z){L()&&n(!1,z,"hover")}const F=yo(c.floating).documentElement;return F.addEventListener("mouseleave",U),()=>{F.removeEventListener("mouseleave",U)}},[c.floating,r,n,u,R,L]);const A=D.useCallback(function(U,F,z){F===void 0&&(F=!0),z===void 0&&(z="hover");const q=zl(C.current,"close",_.current);q&&!f.current?(clearTimeout(p.current),p.current=window.setTimeout(()=>n(!1,U,z),q)):F&&(clearTimeout(p.current),n(!1,U,z))},[C,n]),N=Jn(()=>{I.current(),f.current=void 0}),V=Jn(()=>{if(k.current){const U=yo(c.floating).body;U.style.pointerEvents="",U.removeAttribute(tS),k.current=!1}}),W=Jn(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);D.useEffect(()=>{if(!u)return;function U(B){if(clearTimeout(p.current),x.current=!1,v&&!Th(_.current)||y>0&&!zl(C.current,"open"))return;const Y=zl(C.current,"open",_.current);Y?p.current=window.setTimeout(()=>{E.current||n(!0,B,"hover")},Y):r||n(!0,B,"hover")}function F(B){if(W())return;I.current();const Y=yo(c.floating);if(clearTimeout(m.current),j.current=!1,R.current&&i.current.floatingContext){r||clearTimeout(p.current),f.current=R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B,!0,"safe-polygon")}});const de=f.current;Y.addEventListener("mousemove",de),I.current=()=>{Y.removeEventListener("mousemove",de)};return}(_.current==="touch"?!Ka(c.floating,B.relatedTarget):!0)&&A(B)}function z(B){W()||i.current.floatingContext&&(R.current==null||R.current({...i.current.floatingContext,tree:S,x:B.clientX,y:B.clientY,onClose(){V(),N(),W()||A(B)}})(B))}if(tt(c.domReference)){var q;const B=c.domReference;return r&&B.addEventListener("mouseleave",z),(q=c.floating)==null||q.addEventListener("mouseleave",z),w&&B.addEventListener("mousemove",U,{once:!0}),B.addEventListener("mouseenter",U),B.addEventListener("mouseleave",F),()=>{var Y;r&&B.removeEventListener("mouseleave",z),(Y=c.floating)==null||Y.removeEventListener("mouseleave",z),w&&B.removeEventListener("mousemove",U),B.removeEventListener("mouseenter",U),B.removeEventListener("mouseleave",F)}}},[c,u,e,v,y,w,A,N,V,n,r,E,S,C,R,i,W]),An(()=>{var U;if(u&&r&&(U=R.current)!=null&&U.__options.blockPointerEvents&&L()){k.current=!0;const z=c.floating;if(tt(c.domReference)&&z){var F;const q=yo(c.floating).body;q.setAttribute(tS,"");const B=c.domReference,Y=S==null||(F=S.nodesRef.current.find(ae=>ae.id===b))==null||(F=F.context)==null?void 0:F.elements.floating;return Y&&(Y.style.pointerEvents=""),q.style.pointerEvents="none",B.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{q.style.pointerEvents="",B.style.pointerEvents="",z.style.pointerEvents=""}}}},[u,r,b,c,S,R,L]),An(()=>{r||(_.current=void 0,j.current=!1,N(),V())},[r,N,V]),D.useEffect(()=>()=>{N(),clearTimeout(p.current),clearTimeout(m.current),V()},[u,c.domReference,N,V]);const X=D.useMemo(()=>{function U(F){_.current=F.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(F){const{nativeEvent:z}=F;function q(){!x.current&&!E.current&&n(!0,z,"hover")}v&&!Th(_.current)||r||y===0||j.current&&F.movementX**2+F.movementY**2<2||(clearTimeout(m.current),_.current==="touch"?q():(j.current=!0,m.current=window.setTimeout(q,y)))}}},[v,n,r,E,y]),O=D.useMemo(()=>({onMouseEnter(){clearTimeout(p.current)},onMouseLeave(U){W()||A(U.nativeEvent,!1)}}),[A,W]);return D.useMemo(()=>u?{reference:X,floating:O}:{},[u,X,O])}const Dh=()=>{},t0=D.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Dh,setState:Dh,isInstantPhase:!1}),Yk=()=>D.useContext(t0);function Xk(e){const{children:t,delay:r,timeoutMs:n=0}=e,[i,a]=D.useReducer((d,h)=>({...d,...h}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=D.useRef(null),u=D.useCallback(d=>{a({currentId:d})},[]);return An(()=>{i.currentId?c.current===null?c.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[i.currentId,i.isInstantPhase]),D.createElement(t0.Provider,{value:D.useMemo(()=>({...i,setState:a,setCurrentId:u}),[i,u])},t)}function Qk(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:i}=e,{id:a,enabled:c=!0}=t,u=a??i,d=Yk(),{currentId:h,setCurrentId:v,initialDelay:y,setState:w,timeoutMs:S}=d;return An(()=>{c&&h&&(w({delay:{open:1,close:zl(y,"close")}}),h!==u&&n(!1))},[c,u,n,w,h,y]),An(()=>{function b(){n(!1),w({delay:y,currentId:null})}if(c&&h&&!r&&h===u){if(S){const R=window.setTimeout(b,S);return()=>{clearTimeout(R)}}b()}},[c,r,w,h,u,n,y,S]),An(()=>{c&&(v===Dh||!r||v(u))},[c,r,v,u]),d}function Hp(e,t){let r=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(i=>{var a;return(a=n)==null?void 0:a.some(c=>{var u;return i.parentId===c.id&&((u=i.context)==null?void 0:u.open)})}),r=r.concat(n);return r}const Zk="data-floating-ui-focusable",Jk={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},eD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},rS=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function tD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:i,dataRef:a}=e,{enabled:c=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:v=!1,referencePressEvent:y="pointerdown",ancestorScroll:w=!1,bubbles:S,capture:b}=t,R=xm(),C=Jn(typeof d=="function"?d:()=>!1),E=typeof d=="function"?C:d,_=D.useRef(!1),p=D.useRef(!1),{escapeKey:f,outsidePress:m}=rS(S),{escapeKey:x,outsidePress:k}=rS(b),I=D.useRef(!1),j=Jn(X=>{var O;if(!r||!c||!u||X.key!=="Escape"||I.current)return;const U=(O=a.current.floatingContext)==null?void 0:O.nodeId,F=R?Hp(R.nodesRef.current,U):[];if(!f&&(X.stopPropagation(),F.length>0)){let z=!0;if(F.forEach(q=>{var B;if((B=q.context)!=null&&B.open&&!q.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}n(!1,qP(X)?X.nativeEvent:X,"escape-key")}),L=Jn(X=>{var O;const U=()=>{var F;j(X),(F=fi(X))==null||F.removeEventListener("keydown",U)};(O=fi(X))==null||O.addEventListener("keydown",U)}),A=Jn(X=>{var O;const U=_.current;_.current=!1;const F=p.current;if(p.current=!1,h==="click"&&F||U||typeof E=="function"&&!E(X))return;const z=fi(X),q="["+Cm("inert")+"]",B=yo(i.floating).querySelectorAll(q);let Y=tt(z)?z:null;for(;Y&&!Us(Y);){const oe=os(Y);if(Us(oe)||!tt(oe))break;Y=oe}if(B.length&&tt(z)&&!GP(z)&&!Ka(z,i.floating)&&Array.from(B).every(oe=>!Ka(Y,oe)))return;if(Er(z)&&W){const oe=z.clientWidth>0&&z.scrollWidth>z.clientWidth,ue=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let me=ue&&X.offsetX>z.clientWidth;if(ue&&$r(z).direction==="rtl"&&(me=X.offsetX<=z.offsetWidth-z.clientWidth),me||oe&&X.offsetY>z.clientHeight)return}const ae=(O=a.current.floatingContext)==null?void 0:O.nodeId,de=R&&Hp(R.nodesRef.current,ae).some(oe=>{var ue;return zp(X,(ue=oe.context)==null?void 0:ue.elements.floating)});if(zp(X,i.floating)||zp(X,i.domReference)||de)return;const ee=R?Hp(R.nodesRef.current,ae):[];if(ee.length>0){let oe=!0;if(ee.forEach(ue=>{var me;if((me=ue.context)!=null&&me.open&&!ue.context.dataRef.current.__outsidePressBubbles){oe=!1;return}}),!oe)return}n(!1,X,"outside-press")}),N=Jn(X=>{var O;const U=()=>{var F;A(X),(F=fi(X))==null||F.removeEventListener(h,U)};(O=fi(X))==null||O.addEventListener(h,U)});D.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=f,a.current.__outsidePressBubbles=m;let X=-1;function O(B){n(!1,B,"ancestor-scroll")}function U(){window.clearTimeout(X),I.current=!0}function F(){X=window.setTimeout(()=>{I.current=!1},Au()?5:0)}const z=yo(i.floating);u&&(z.addEventListener("keydown",x?L:j,x),z.addEventListener("compositionstart",U),z.addEventListener("compositionend",F)),E&&z.addEventListener(h,k?N:A,k);let q=[];return w&&(tt(i.domReference)&&(q=es(i.domReference)),tt(i.floating)&&(q=q.concat(es(i.floating))),!tt(i.reference)&&i.reference&&i.reference.contextElement&&(q=q.concat(es(i.reference.contextElement)))),q=q.filter(B=>{var Y;return B!==((Y=z.defaultView)==null?void 0:Y.visualViewport)}),q.forEach(B=>{B.addEventListener("scroll",O,{passive:!0})}),()=>{u&&(z.removeEventListener("keydown",x?L:j,x),z.removeEventListener("compositionstart",U),z.removeEventListener("compositionend",F)),E&&z.removeEventListener(h,k?N:A,k),q.forEach(B=>{B.removeEventListener("scroll",O)}),window.clearTimeout(X)}},[a,i,u,E,h,r,n,w,c,f,m,j,x,L,A,k,N]),D.useEffect(()=>{_.current=!1},[E,h]);const V=D.useMemo(()=>({onKeyDown:j,[Jk[y]]:X=>{v&&n(!1,X.nativeEvent,"reference-press")}}),[j,n,v,y]),W=D.useMemo(()=>({onKeyDown:j,onMouseDown(){p.current=!0},onMouseUp(){p.current=!0},[eD[h]]:()=>{_.current=!0}}),[j,h]);return D.useMemo(()=>c?{reference:V,floating:W}:{},[c,V,W])}function rD(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=e0(),a=D.useRef({}),[c]=D.useState(()=>Wk()),u=bm()!=null,[d,h]=D.useState(n.reference),v=Jn((S,b,R)=>{a.current.openEvent=S?b:void 0,c.emit("openchange",{open:S,event:b,reason:R,nested:u}),r==null||r(S,b,R)}),y=D.useMemo(()=>({setPositionReference:h}),[]),w=D.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return D.useMemo(()=>({dataRef:a,open:t,onOpenChange:v,elements:w,events:c,floatingId:i,refs:y}),[t,v,w,c,i,y])}function Rm(e){e===void 0&&(e={});const{nodeId:t}=e,r=rD({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,c]=D.useState(null),[u,d]=D.useState(null),v=(i==null?void 0:i.domReference)||a,y=D.useRef(null),w=xm();An(()=>{v&&(y.current=v)},[v]);const S=Nk({...e,elements:{...i,...u&&{reference:u}}}),b=D.useCallback(p=>{const f=tt(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;d(f),S.refs.setReference(f)},[S.refs]),R=D.useCallback(p=>{(tt(p)||p===null)&&(y.current=p,c(p)),(tt(S.refs.reference.current)||S.refs.reference.current===null||p!==null&&!tt(p))&&S.refs.setReference(p)},[S.refs]),C=D.useMemo(()=>({...S.refs,setReference:R,setPositionReference:b,domReference:y}),[S.refs,R,b]),E=D.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),_=D.useMemo(()=>({...S,...n,refs:C,elements:E,nodeId:t}),[S,C,E,t,n]);return An(()=>{n.dataRef.current.floatingContext=_;const p=w==null?void 0:w.nodesRef.current.find(f=>f.id===t);p&&(p.context=_)}),D.useMemo(()=>({...S,context:_,refs:C,elements:E}),[S,C,E,_])}function nD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:c}=e,{enabled:u=!0,visibleOnly:d=!0}=t,h=D.useRef(!1),v=D.useRef(),y=D.useRef(!0);D.useEffect(()=>{if(!u)return;const S=pr(c.domReference);function b(){!r&&Er(c.domReference)&&c.domReference===Ww(yo(c.domReference))&&(h.current=!0)}function R(){y.current=!0}return S.addEventListener("blur",b),S.addEventListener("keydown",R,!0),()=>{S.removeEventListener("blur",b),S.removeEventListener("keydown",R,!0)}},[c.domReference,r,u]),D.useEffect(()=>{if(!u)return;function S(b){let{reason:R}=b;(R==="reference-press"||R==="escape-key")&&(h.current=!0)}return i.on("openchange",S),()=>{i.off("openchange",S)}},[i,u]),D.useEffect(()=>()=>{clearTimeout(v.current)},[]);const w=D.useMemo(()=>({onPointerDown(S){UP(S.nativeEvent)||(y.current=!1)},onMouseLeave(){h.current=!1},onFocus(S){if(h.current)return;const b=fi(S.nativeEvent);if(d&&tt(b))try{if(VP()&&HP())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!y.current&&!YP(b))return}n(!0,S.nativeEvent,"focus")},onBlur(S){h.current=!1;const b=S.relatedTarget,R=S.nativeEvent,C=tt(b)&&b.hasAttribute(Cm("focus-guard"))&&b.getAttribute("data-type")==="outside";v.current=window.setTimeout(()=>{var E;const _=Ww(c.domReference?c.domReference.ownerDocument:document);!b&&_===c.domReference||Ka((E=a.current.floatingContext)==null?void 0:E.refs.floating.current,_)||Ka(c.domReference,_)||C||n(!1,R,"focus")})}}),[a,c.domReference,n,d]);return D.useMemo(()=>u?{reference:w}:{},[u,w])}const nS="active",sS="selected";function Wp(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[nS]:c,[sS]:u,...d}=e;a=d}return{...r==="floating"&&{tabIndex:-1,[Zk]:""},...a,...t.map(c=>{const u=c?c[r]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((c,u)=>(u&&Object.entries(u).forEach(d=>{let[h,v]=d;if(!(i&&[nS,sS].includes(h)))if(h.indexOf("on")===0){if(n.has(h)||n.set(h,[]),typeof v=="function"){var y;(y=n.get(h))==null||y.push(v),c[h]=function(){for(var w,S=arguments.length,b=new Array(S),R=0;R<S;R++)b[R]=arguments[R];return(w=n.get(h))==null?void 0:w.map(C=>C(...b)).find(C=>C!==void 0)}}}else c[h]=v}),c),{})}}function sD(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),r=e.map(u=>u==null?void 0:u.floating),n=e.map(u=>u==null?void 0:u.item),i=D.useCallback(u=>Wp(u,e,"reference"),t),a=D.useCallback(u=>Wp(u,e,"floating"),r),c=D.useCallback(u=>Wp(u,e,"item"),n);return D.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:c}),[i,a,c])}const oD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function iD(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:i}=e,{enabled:a=!0,role:c="dialog"}=t,u=(r=oD.get(c))!=null?r:c,d=e0(),v=bm()!=null,y=D.useMemo(()=>u==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?i:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":n?i:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:d},...u==="menu"&&v&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[u,i,v,n,d,c]),w=D.useMemo(()=>{const b={id:i,...u&&{role:u}};return u==="tooltip"||c==="label"?b:{...b,...u==="menu"&&{"aria-labelledby":d}}},[u,i,d,c]),S=D.useCallback(b=>{let{active:R,selected:C}=b;const E={role:"option",...R&&{id:i+"-option"}};switch(c){case"select":return{...E,"aria-selected":R&&C};case"combobox":return{...E,...R&&{"aria-selected":!0}}}return{}},[i,c]);return D.useMemo(()=>a?{reference:y,floating:w,item:S}:{},[a,y,w,S])}const[aD,Fr]=bn("ScrollArea.Root component was not found in tree");function Si(e,t){const r=vo(t);tc(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}const cD=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Fr(),[a,c]=D.useState(0),[u,d]=D.useState(0),h=!!(a&&u);return Si(i.scrollbarX,()=>{var y;const v=((y=i.scrollbarX)==null?void 0:y.offsetHeight)||0;i.onCornerHeightChange(v),d(v)}),Si(i.scrollbarY,()=>{var y;const v=((y=i.scrollbarY)==null?void 0:y.offsetWidth)||0;i.onCornerWidthChange(v),c(v)}),h?P.jsx("div",{...n,ref:t,style:{...r,width:a,height:u}}):null}),lD=D.forwardRef((e,t)=>{const r=Fr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?P.jsx(cD,{...e,ref:t}):null}),uD={scrollHideDelay:1e3,type:"hover"},r0=D.forwardRef((e,t)=>{const r=ie("ScrollAreaRoot",uD,e),{type:n,scrollHideDelay:i,scrollbars:a,...c}=r,[u,d]=D.useState(null),[h,v]=D.useState(null),[y,w]=D.useState(null),[S,b]=D.useState(null),[R,C]=D.useState(null),[E,_]=D.useState(0),[p,f]=D.useState(0),[m,x]=D.useState(!1),[k,I]=D.useState(!1),j=Ut(t,L=>d(L));return P.jsx(aD,{value:{type:n,scrollHideDelay:i,scrollArea:u,viewport:h,onViewportChange:v,content:y,onContentChange:w,scrollbarX:S,onScrollbarXChange:b,scrollbarXEnabled:m,onScrollbarXEnabledChange:x,scrollbarY:R,onScrollbarYChange:C,scrollbarYEnabled:k,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:f},children:P.jsx(re,{...c,ref:j,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${E}px`,"--sa-corner-height":a!=="xy"?"0px":`${p}px`}})})});r0.displayName="@mantine/core/ScrollAreaRoot";function n0(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Fu(e){const t=n0(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function s0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dD(e,[t,r]){return Math.min(r,Math.max(t,e))}function oS(e,t,r="ltr"){const n=Fu(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,u=a-n,d=r==="ltr"?[0,c]:[c*-1,0],h=dD(e,d);return s0([0,c],[0,u])(h)}function fD(e,t,r,n="ltr"){const i=Fu(r),a=i/2,c=t||a,u=i-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,v=r.content-r.viewport,y=n==="ltr"?[0,v]:[v*-1,0];return s0([d,h],y)(e)}function o0(e,t){return e>0&&e<t}function pu(e){return e?parseInt(e,10):0}function So(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[pD,i0]=bn("ScrollAreaScrollbar was not found in tree"),a0=D.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:v,...y}=e,w=Fr(),[S,b]=D.useState(null),R=Ut(t,I=>b(I)),C=D.useRef(null),E=D.useRef(""),{viewport:_}=w,p=r.content-r.viewport,f=vo(h),m=vo(u),x=Tu(v,10),k=I=>{if(C.current){const j=I.clientX-C.current.left,L=I.clientY-C.current.top;d({x:j,y:L})}};return D.useEffect(()=>{const I=j=>{const L=j.target;(S==null?void 0:S.contains(L))&&f(j,p)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[_,S,p,f]),D.useEffect(m,[r,m]),Si(S,x),Si(w.content,x),P.jsx(pD,{value:{scrollbar:S,hasThumb:n,onThumbChange:vo(i),onThumbPointerUp:vo(a),onThumbPositionChange:m,onThumbPointerDown:vo(c)},children:P.jsx("div",{...y,ref:R,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:So(e.onPointerDown,I=>{I.preventDefault(),I.button===0&&(I.target.setPointerCapture(I.pointerId),C.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(I))}),onPointerMove:So(e.onPointerMove,k),onPointerUp:So(e.onPointerUp,I=>{const j=I.target;j.hasPointerCapture(I.pointerId)&&(I.preventDefault(),j.releasePointerCapture(I.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=E.current,C.current=null}})})}),c0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Fr(),[u,d]=D.useState(),h=D.useRef(null),v=Ut(t,h,c.onScrollbarXChange);return D.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),P.jsx(a0,{"data-orientation":"horizontal",...a,ref:v,sizes:r,style:{...i,"--sa-thumb-width":`${Fu(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollLeft+y.deltaX;e.onWheelScroll(S),o0(S,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:pu(u.paddingLeft),paddingEnd:pu(u.paddingRight)}})}})});c0.displayName="@mantine/core/ScrollAreaScrollbarX";const l0=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:i,...a}=e,c=Fr(),[u,d]=D.useState(),h=D.useRef(null),v=Ut(t,h,c.onScrollbarYChange);return D.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),P.jsx(a0,{...a,"data-orientation":"vertical",ref:v,sizes:r,style:{"--sa-thumb-height":`${Fu(r)}px`,...i},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,w)=>{if(c.viewport){const S=c.viewport.scrollTop+y.deltaY;e.onWheelScroll(S),o0(S,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:pu(u.paddingTop),paddingEnd:pu(u.paddingBottom)}})}})});l0.displayName="@mantine/core/ScrollAreaScrollbarY";const zu=D.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:i}=Gs(),a=Fr(),c=D.useRef(null),u=D.useRef(0),[d,h]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=n0(d.viewport,d.content),y={...n,sizes:d,onSizesChange:h,hasThumb:v>0&&v<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:S=>{u.current=S}},w=(S,b)=>fD(S,u.current,d,b);return r==="horizontal"?P.jsx(c0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollLeft,b=oS(S,d,i);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollLeft=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollLeft=w(S,i))}}):r==="vertical"?P.jsx(l0,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const S=a.viewport.scrollTop,b=oS(S,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:S=>{a.viewport&&(a.viewport.scrollTop=S)},onDragScroll:S=>{a.viewport&&(a.viewport.scrollTop=w(S))}}):null});zu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Em=D.forwardRef((e,t)=>{const r=Fr(),{forceMount:n,...i}=e,[a,c]=D.useState(!1),u=e.orientation==="horizontal",d=Tu(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?h:v)}},10);return Si(r.viewport,d),Si(r.content,d),n||a?P.jsx(zu,{"data-state":a?"visible":"hidden",...i,ref:t}):null});Em.displayName="@mantine/core/ScrollAreaScrollbarAuto";const u0=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),[a,c]=D.useState(!1);return D.useEffect(()=>{const{scrollArea:u}=i;let d=0;if(u){const h=()=>{window.clearTimeout(d),c(!0)},v=()=>{d=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",v)}}},[i.scrollArea,i.scrollHideDelay]),r||a?P.jsx(Em,{"data-state":a?"visible":"hidden",...n,ref:t}):null});u0.displayName="@mantine/core/ScrollAreaScrollbarHover";const hD=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),a=e.orientation==="horizontal",[c,u]=D.useState("hidden"),d=Tu(()=>u("idle"),100);return D.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay]),D.useEffect(()=>{const{viewport:h}=i,v=a?"scrollLeft":"scrollTop";if(h){let y=h[v];const w=()=>{const S=h[v];y!==S&&(u("scrolling"),d()),y=S};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,a,d]),r||c!=="hidden"?P.jsx(zu,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:So(e.onPointerEnter,()=>u("interacting")),onPointerLeave:So(e.onPointerLeave,()=>u("idle"))}):null}),Mh=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fr(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,u=e.orientation==="horizontal";return D.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),i.type==="hover"?P.jsx(u0,{...n,ref:t,forceMount:r}):i.type==="scroll"?P.jsx(hD,{...n,ref:t,forceMount:r}):i.type==="auto"?P.jsx(Em,{...n,ref:t,forceMount:r}):i.type==="always"?P.jsx(zu,{...n,ref:t}):null});Mh.displayName="@mantine/core/ScrollAreaScrollbar";function mD(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,u=r.top!==a.top;(c||u)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const d0=D.forwardRef((e,t)=>{const{style:r,...n}=e,i=Fr(),a=i0(),{onThumbPositionChange:c}=a,u=Ut(t,v=>a.onThumbChange(v)),d=D.useRef(void 0),h=Tu(()=>{d.current&&(d.current(),d.current=void 0)},100);return D.useEffect(()=>{const{viewport:v}=i;if(v){const y=()=>{if(h(),!d.current){const w=mD(v,c);d.current=w,c()}};return c(),v.addEventListener("scroll",y),()=>v.removeEventListener("scroll",y)}},[i.viewport,h,c]),P.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:So(e.onPointerDownCapture,v=>{const w=v.target.getBoundingClientRect(),S=v.clientX-w.left,b=v.clientY-w.top;a.onThumbPointerDown({x:S,y:b})}),onPointerUp:So(e.onPointerUp,a.onThumbPointerUp)})});d0.displayName="@mantine/core/ScrollAreaThumb";const Ih=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=i0();return r||i.hasThumb?P.jsx(d0,{ref:t,...n}):null});Ih.displayName="@mantine/core/ScrollAreaThumb";const f0=D.forwardRef(({children:e,style:t,...r},n)=>{const i=Fr(),a=Ut(n,i.onViewportChange);return P.jsx(re,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:P.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});f0.displayName="@mantine/core/ScrollAreaViewport";var Tm={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const p0={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},gD=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":te(t),"--scrollarea-over-scroll-behavior":r}}),zr=fe((e,t)=>{const r=ie("ScrollArea",p0,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,scrollbarSize:d,vars:h,type:v,scrollHideDelay:y,viewportProps:w,viewportRef:S,onScrollPositionChange:b,children:R,offsetScrollbars:C,scrollbars:E,onBottomReached:_,onTopReached:p,overscrollBehavior:f,...m}=r,[x,k]=D.useState(!1),[I,j]=D.useState(!1),[L,A]=D.useState(!1),N=Ee({name:"ScrollArea",props:r,classes:Tm,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:gD}),V=D.useRef(null),W=Fk([S,V]);return D.useEffect(()=>{if(!V.current||C!=="present")return;const X=V.current,O=new ResizeObserver(()=>{const{scrollHeight:U,clientHeight:F,scrollWidth:z,clientWidth:q}=X;j(U>F),A(z>q)});return O.observe(X),()=>O.disconnect()},[V,C]),P.jsxs(r0,{type:v==="never"?"always":v,scrollHideDelay:y,ref:t,scrollbars:E,...N("root"),...m,children:[P.jsx(f0,{...w,...N("viewport",{style:w==null?void 0:w.style}),ref:W,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":E||void 0,"data-horizontal-hidden":C==="present"&&!L?"true":void 0,"data-vertical-hidden":C==="present"&&!I?"true":void 0,onScroll:X=>{var z;(z=w==null?void 0:w.onScroll)==null||z.call(w,X),b==null||b({x:X.currentTarget.scrollLeft,y:X.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:U,clientHeight:F}=X.currentTarget;O-(U-F)>=0&&(_==null||_()),O===0&&(p==null||p())},children:R}),(E==="xy"||E==="x")&&P.jsx(Mh,{...N("scrollbar"),orientation:"horizontal","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:P.jsx(Ih,{...N("thumb")})}),(E==="xy"||E==="y")&&P.jsx(Mh,{...N("scrollbar"),orientation:"vertical","data-hidden":v==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:P.jsx(Ih,{...N("thumb")})}),P.jsx(lD,{...N("corner"),"data-hovered":x||void 0,"data-hidden":v==="never"||void 0})]})});zr.displayName="@mantine/core/ScrollArea";const Pm=fe((e,t)=>{const{children:r,classNames:n,styles:i,scrollbarSize:a,scrollHideDelay:c,type:u,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:b,scrollbars:R,style:C,vars:E,onBottomReached:_,onTopReached:p,...f}=ie("ScrollAreaAutosize",p0,e);return P.jsx(re,{...f,ref:t,style:[{display:"flex",overflow:"auto"},C],children:P.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1},children:P.jsx(zr,{classNames:n,styles:i,scrollHideDelay:c,scrollbarSize:a,type:u,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:y,unstyled:w,variant:S,viewportProps:b,vars:E,scrollbars:R,onBottomReached:_,onTopReached:p,children:r})})})});zr.classes=Tm;Pm.displayName="@mantine/core/ScrollAreaAutosize";Pm.classes=Tm;zr.Autosize=Pm;var h0={root:"m_87cf2631"};const vD={__staticSelector:"UnstyledButton"},Ks=Xt((e,t)=>{const r=ie("UnstyledButton",vD,e),{className:n,component:i="button",__staticSelector:a,unstyled:c,classNames:u,styles:d,style:h,...v}=r,y=Ee({name:a,props:r,classes:h0,className:n,style:h,classNames:u,styles:d,unstyled:c});return P.jsx(re,{...y("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...v})});Ks.classes=h0;Ks.displayName="@mantine/core/UnstyledButton";var m0={root:"m_515a97f8"};const yD={},km=fe((e,t)=>{const r=ie("VisuallyHidden",yD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,...h}=r,v=Ee({name:"VisuallyHidden",classes:m0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u});return P.jsx(re,{component:"span",ref:t,...v("root"),...h})});km.classes=m0;km.displayName="@mantine/core/VisuallyHidden";var g0={root:"m_1b7284a3"};const wD={},SD=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:kt(t),"--paper-shadow":sm(r)}}),Bu=Xt((e,t)=>{const r=ie("Paper",wD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,withBorder:d,vars:h,radius:v,shadow:y,variant:w,mod:S,...b}=r,R=Ee({name:"Paper",props:r,classes:g0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:SD});return P.jsx(re,{ref:t,mod:[{"data-with-border":d},S],...R("root"),variant:w,...b})});Bu.classes=g0;Bu.displayName="@mantine/core/Paper";function v0(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),i=r==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return t}function iS(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function aS(e,t,r,n,i){return e==="center"||n==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:r}:e==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const _D={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function bD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,arrowX:a,arrowY:c,dir:u}){const[d,h="center"]=e.split("-"),v={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[_D[d]]:n},y=-t/2;return d==="left"?{...v,...iS(h,c,r,i),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...v,...iS(h,c,r,i),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...v,...aS(h,a,r,i,u),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...v,...aS(h,a,r,i,u),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Dm=D.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,visible:a,arrowX:c,arrowY:u,style:d,...h},v)=>{const{dir:y}=Gs();return a?P.jsx("div",{...h,ref:v,style:{...d,...bD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:i,dir:y,arrowX:c,arrowY:u})}}):null});Dm.displayName="@mantine/core/FloatingArrow";var y0={root:"m_9814e45f"};const xD={zIndex:gr("modal")},CD=(e,{gradient:t,color:r,backgroundOpacity:n,blur:i,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&Ln(r||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${te(i)})`:void 0,"--overlay-radius":a===void 0?void 0:kt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),Uu=Xt((e,t)=>{const r=ie("Overlay",xD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,fixed:h,center:v,children:y,radius:w,zIndex:S,gradient:b,blur:R,color:C,backgroundOpacity:E,mod:_,...p}=r,f=Ee({name:"Overlay",props:r,classes:y0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:CD});return P.jsx(re,{ref:t,...f("root"),mod:[{center:v,fixed:h},_],...p,children:y})});Uu.classes=y0;Uu.displayName="@mantine/core/Overlay";function qp(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function RD({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||qp(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const i=qp(r);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return qp(r)}const ED={},w0=fe((e,t)=>{const{children:r,target:n,reuseTargetNode:i,...a}=ie("Portal",ED,e),[c,u]=D.useState(!1),d=D.useRef(null);return tc(()=>(u(!0),d.current=RD({target:n,reuseTargetNode:i,...a}),_h(t,d.current),!n&&!i&&d.current&&document.body.appendChild(d.current),()=>{!n&&!i&&d.current&&document.body.removeChild(d.current)}),[n]),!c||!d.current?null:Lu.createPortal(P.jsx(P.Fragment,{children:r}),d.current)});w0.displayName="@mantine/core/Portal";const Ro=fe(({withinPortal:e=!0,children:t,...r},n)=>Pb()==="test"||!e?P.jsx(P.Fragment,{children:t}):P.jsx(w0,{ref:n,...r,children:t}));Ro.displayName="@mantine/core/OptionalPortal";const ba=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Rl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ba("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ba("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ba("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ba("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ba("top"),common:{transformOrigin:"top right"}}},cS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function TD({transition:e,state:t,duration:r,timingFunction:n}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in Rl?{transitionProperty:Rl[e].transitionProperty,...i,...Rl[e].common,...Rl[e][cS[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[cS[t]]}}function PD({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:i,onExit:a,onEntered:c,onExited:u,enterDelay:d,exitDelay:h}){const v=sr(),y=Pu(),w=v.respectReducedMotion?y:!1,[S,b]=D.useState(w?0:e),[R,C]=D.useState(n?"entered":"exited"),E=D.useRef(-1),_=D.useRef(-1),p=D.useRef(-1),f=x=>{const k=x?i:a,I=x?c:u;window.clearTimeout(E.current);const j=w?0:x?e:t;b(j),j===0?(typeof k=="function"&&k(),typeof I=="function"&&I(),C(x?"entered":"exited")):p.current=requestAnimationFrame(()=>{ja.flushSync(()=>{C(x?"pre-entering":"pre-exiting")}),p.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),C(x?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof I=="function"&&I(),C(x?"entered":"exited")},j)})})},m=x=>{if(window.clearTimeout(_.current),typeof(x?d:h)!="number"){f(x);return}_.current=window.setTimeout(()=>{f(x)},x?d:h)};return Fn(()=>{m(n)},[n]),D.useEffect(()=>()=>{window.clearTimeout(E.current),cancelAnimationFrame(p.current)},[]),{transitionDuration:S,transitionStatus:R,transitionTimingFunction:r||"ease"}}function ls({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:i,children:a,timingFunction:c="ease",onExit:u,onEntered:d,onEnter:h,onExited:v,enterDelay:y,exitDelay:w}){const S=Pb(),{transitionDuration:b,transitionStatus:R,transitionTimingFunction:C}=PD({mounted:i,exitDuration:n,duration:r,timingFunction:c,onExit:u,onEntered:d,onEnter:h,onExited:v,enterDelay:y,exitDelay:w});return b===0||S==="test"?i?P.jsx(P.Fragment,{children:a({})}):e?a({display:"none"}):null:R==="exited"?e?a({display:"none"}):null:P.jsx(P.Fragment,{children:a(TD({transition:t,duration:b,state:R,timingFunction:C}))})}ls.displayName="@mantine/core/Transition";const[kD,S0]=bn("Popover component was not found in the tree");function Vu({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const i=vT(t),a=Ut(i,n);return Hs(e)?D.cloneElement(e,{[r]:a}):e}function _0(e){return P.jsx(km,{tabIndex:-1,"data-autofocus":!0,...e})}Vu.displayName="@mantine/core/FocusTrap";_0.displayName="@mantine/core/FocusTrapInitialFocus";Vu.InitialFocus=_0;var b0={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const DD={},Mm=fe((e,t)=>{var C,E,_,p;const r=ie("PopoverDropdown",DD,e),{className:n,style:i,vars:a,children:c,onKeyDownCapture:u,variant:d,classNames:h,styles:v,...y}=r,w=S0(),S=_b({opened:w.opened,shouldReturnFocus:w.returnFocus}),b=w.withRoles?{"aria-labelledby":w.getTargetId(),id:w.getDropdownId(),role:"dialog",tabIndex:-1}:{},R=Ut(t,w.floating);return w.disabled?null:P.jsx(Ro,{...w.portalProps,withinPortal:w.withinPortal,children:P.jsx(ls,{mounted:w.opened,...w.transitionProps,transition:((C=w.transitionProps)==null?void 0:C.transition)||"fade",duration:((E=w.transitionProps)==null?void 0:E.duration)??150,keepMounted:w.keepMounted,exitDuration:typeof((_=w.transitionProps)==null?void 0:_.exitDuration)=="number"?w.transitionProps.exitDuration:(p=w.transitionProps)==null?void 0:p.duration,children:f=>P.jsx(Vu,{active:w.trapFocus&&w.opened,innerRef:R,children:P.jsxs(re,{...b,...y,variant:d,onKeyDownCapture:tT(()=>{var m,x;(m=w.onClose)==null||m.call(w),(x=w.onDismiss)==null||x.call(w)},{active:w.closeOnEscape,onTrigger:S,onKeyDown:u}),"data-position":w.placement,"data-fixed":w.floatingStrategy==="fixed"||void 0,...w.getStyles("dropdown",{className:n,props:r,classNames:h,styles:v,style:[{...f,zIndex:w.zIndex,top:w.y??0,left:w.x??0,width:w.width==="target"?void 0:te(w.width)},w.resolvedStyles.dropdown,v==null?void 0:v.dropdown,i]}),children:[c,P.jsx(Dm,{ref:w.arrowRef,arrowX:w.arrowX,arrowY:w.arrowY,visible:w.withArrow,position:w.placement,arrowSize:w.arrowSize,arrowRadius:w.arrowRadius,arrowOffset:w.arrowOffset,arrowPosition:w.arrowPosition,...w.getStyles("arrow",{props:r,classNames:h,styles:v})})]})})})})});Mm.classes=b0;Mm.displayName="@mantine/core/PopoverDropdown";const MD={refProp:"ref",popupType:"dialog"},x0=fe((e,t)=>{const{children:r,refProp:n,popupType:i,...a}=ie("PopoverTarget",MD,e);if(!Hs(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,u=S0(),d=Ut(u.reference,ku(r),t),h=u.withRoles?{"aria-haspopup":i,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return D.cloneElement(r,{...c,...h,...u.targetProps,className:Bt(u.targetProps.className,c.className,r.props.className),[n]:d,...u.controlled?null:{onClick:u.onToggle}})});x0.displayName="@mantine/core/PopoverTarget";function C0({opened:e,floating:t,position:r,positionDependencies:n}){const[i,a]=D.useState(0);D.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Pk(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,r]),Fn(()=>{t.update()},n),Fn(()=>{a(c=>c+1)},[e])}function ID(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function LD(e,t){const r=ID(e.middlewares),n=[Qb(e.offset)];return r.shift&&n.push(_m(typeof r.shift=="boolean"?{limiter:Zw(),padding:5}:{limiter:Zw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?fu():fu(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Ba():Ba(r.inline)),n.push(Zb({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push($k({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:c,...u}){var v;const h=((v=t().refs.floating.current)==null?void 0:v.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:c,...u}):Object.assign(h,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(h,{width:`${i.reference.width}px`})}})),n}function jD(e){const[t,r]=ss({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=D.useRef(t),i=()=>{t&&r(!1)},a=()=>r(!t),c=Rm({strategy:e.strategy,placement:e.position,middleware:LD(e,()=>c)});return C0({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Fn(()=>{var u;(u=e.onPositionChange)==null||u.call(e,c.placement)},[c.placement]),Fn(()=>{var u,d;t!==n.current&&(t?(d=e.onOpen)==null||d.call(e):(u=e.onClose)==null||u.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:a}}const OD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:gr("popover"),__staticSelector:"Popover",width:"max-content"},ND=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:kt(t),"--popover-shadow":sm(r)}});function xn(e){var jt,Te,Pe,ye,Le,vt;const t=ie("Popover",OD,e),{children:r,position:n,offset:i,onPositionChange:a,positionDependencies:c,opened:u,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:v,width:y,middlewares:w,withArrow:S,arrowSize:b,arrowOffset:R,arrowRadius:C,arrowPosition:E,unstyled:_,classNames:p,styles:f,closeOnClickOutside:m,withinPortal:x,portalProps:k,closeOnEscape:I,clickOutsideEvents:j,trapFocus:L,onClose:A,onDismiss:N,onOpen:V,onChange:W,zIndex:X,radius:O,shadow:U,id:F,defaultOpened:z,__staticSelector:q,withRoles:B,disabled:Y,returnFocus:ae,variant:de,keepMounted:ee,vars:oe,floatingStrategy:ue,withOverlay:me,overlayProps:he,...Ce}=t,ke=Ee({name:q,props:t,classes:b0,classNames:p,styles:f,unstyled:_,rootSelector:"dropdown",vars:oe,varsResolver:ND}),{resolvedStyles:gt}=rc({classNames:p,styles:f,props:t}),it=D.useRef(null),[Be,Qe]=D.useState(null),[Ze,Ge]=D.useState(null),{dir:Et}=Gs(),pt=Ws(F),Ve=jD({middlewares:w,width:y,position:v0(Et,n),offset:typeof i=="number"?i+(S?b/2:0):i,arrowRef:it,arrowOffset:R,onPositionChange:a,positionDependencies:c,opened:u,defaultOpened:z,onChange:W,onOpen:V,onClose:A,onDismiss:N,strategy:ue});cT(()=>{m&&(Ve.onClose(),N==null||N())},j,[Be,Ze]);const Ne=D.useCallback(Fe=>{Qe(Fe),Ve.floating.refs.setReference(Fe)},[Ve.floating.refs.setReference]),at=D.useCallback(Fe=>{Ge(Fe),Ve.floating.refs.setFloating(Fe)},[Ve.floating.refs.setFloating]),Dt=D.useCallback(()=>{var Fe;(Fe=d==null?void 0:d.onExited)==null||Fe.call(d),h==null||h()},[d==null?void 0:d.onExited,h]),ct=D.useCallback(()=>{var Fe;(Fe=d==null?void 0:d.onEntered)==null||Fe.call(d),v==null||v()},[d==null?void 0:d.onEntered,v]);return P.jsxs(kD,{value:{returnFocus:ae,disabled:Y,controlled:Ve.controlled,reference:Ne,floating:at,x:Ve.floating.x,y:Ve.floating.y,arrowX:(Pe=(Te=(jt=Ve.floating)==null?void 0:jt.middlewareData)==null?void 0:Te.arrow)==null?void 0:Pe.x,arrowY:(vt=(Le=(ye=Ve.floating)==null?void 0:ye.middlewareData)==null?void 0:Le.arrow)==null?void 0:vt.y,opened:Ve.opened,arrowRef:it,transitionProps:{...d,onExited:Dt,onEntered:ct},width:y,withArrow:S,arrowSize:b,arrowOffset:R,arrowRadius:C,arrowPosition:E,placement:Ve.floating.placement,trapFocus:L,withinPortal:x,portalProps:k,zIndex:X,radius:O,shadow:U,closeOnEscape:I,onDismiss:N,onClose:Ve.onClose,onToggle:Ve.onToggle,getTargetId:()=>`${pt}-target`,getDropdownId:()=>`${pt}-dropdown`,withRoles:B,targetProps:Ce,__staticSelector:q,classNames:p,styles:f,unstyled:_,variant:de,keepMounted:ee,getStyles:ke,resolvedStyles:gt,floatingStrategy:ue},children:[r,me&&P.jsx(ls,{transition:"fade",mounted:Ve.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:Fe=>P.jsx(Ro,{withinPortal:x,children:P.jsx(Uu,{...he,...ke("overlay",{className:he==null?void 0:he.className,style:[Fe,he==null?void 0:he.style]})})})})]})}xn.Target=x0;xn.Dropdown=Mm;xn.displayName="@mantine/core/Popover";xn.extend=e=>e;var gn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const R0=D.forwardRef(({className:e,...t},r)=>P.jsxs(re,{component:"span",className:Bt(gn.barsLoader,e),...t,ref:r,children:[P.jsx("span",{className:gn.bar}),P.jsx("span",{className:gn.bar}),P.jsx("span",{className:gn.bar})]}));R0.displayName="@mantine/core/Bars";const E0=D.forwardRef(({className:e,...t},r)=>P.jsxs(re,{component:"span",className:Bt(gn.dotsLoader,e),...t,ref:r,children:[P.jsx("span",{className:gn.dot}),P.jsx("span",{className:gn.dot}),P.jsx("span",{className:gn.dot})]}));E0.displayName="@mantine/core/Dots";const T0=D.forwardRef(({className:e,...t},r)=>P.jsx(re,{component:"span",className:Bt(gn.ovalLoader,e),...t,ref:r}));T0.displayName="@mantine/core/Oval";const P0={bars:R0,oval:T0,dots:E0},AD={loaders:P0,type:"oval"},$D=(e,{size:t,color:r})=>({root:{"--loader-size":qe(t,"loader-size"),"--loader-color":r?hr(r,e):void 0}}),Pi=fe((e,t)=>{const r=ie("Loader",AD,e),{size:n,color:i,type:a,vars:c,className:u,style:d,classNames:h,styles:v,unstyled:y,loaders:w,variant:S,children:b,...R}=r,C=Ee({name:"Loader",props:r,classes:gn,className:u,style:d,classNames:h,styles:v,unstyled:y,vars:c,varsResolver:$D});return b?P.jsx(re,{...C("root"),ref:t,...R,children:b}):P.jsx(re,{...C("root"),ref:t,component:w[a],variant:S,size:n,...R})});Pi.defaultLoaders=P0;Pi.classes=gn;Pi.displayName="@mantine/core/Loader";var ki={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const lS={orientation:"horizontal"},FD=(e,{borderWidth:t})=>({group:{"--ai-border-width":te(t)}}),Im=fe((e,t)=>{const r=ie("ActionIconGroup",lS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,orientation:d,vars:h,borderWidth:v,variant:y,mod:w,...S}=ie("ActionIconGroup",lS,e),b=Ee({name:"ActionIconGroup",props:r,classes:ki,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:FD,rootSelector:"group"});return P.jsx(re,{...b("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});Im.classes=ki;Im.displayName="@mantine/core/ActionIconGroup";const uS={},zD=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":qe(c,"section-height"),"--section-padding-x":qe(c,"section-padding-x"),"--section-fz":nr(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},Lm=fe((e,t)=>{const r=ie("ActionIconGroupSection",uS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,variant:h,gradient:v,radius:y,autoContrast:w,...S}=ie("ActionIconGroupSection",uS,e),b=Ee({name:"ActionIconGroupSection",props:r,classes:ki,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,varsResolver:zD,rootSelector:"groupSection"});return P.jsx(re,{...b("groupSection"),ref:t,variant:h,...S})});Lm.classes=ki;Lm.displayName="@mantine/core/ActionIconGroupSection";const BD={},UD=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c})=>{const u=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":qe(t,"ai-size"),"--ai-radius":r===void 0?void 0:kt(r),"--ai-bg":a||n?u.background:void 0,"--ai-hover":a||n?u.hover:void 0,"--ai-hover-color":a||n?u.hoverColor:void 0,"--ai-color":u.color,"--ai-bd":a||n?u.border:void 0}}},ot=Xt((e,t)=>{const r=ie("ActionIcon",BD,e),{className:n,unstyled:i,variant:a,classNames:c,styles:u,style:d,loading:h,loaderProps:v,size:y,color:w,radius:S,__staticSelector:b,gradient:R,vars:C,children:E,disabled:_,"data-disabled":p,autoContrast:f,mod:m,...x}=r,k=Ee({name:["ActionIcon",b],props:r,className:n,style:d,classes:ki,classNames:c,styles:u,unstyled:i,vars:C,varsResolver:UD});return P.jsxs(Ks,{...k("root",{active:!_&&!h&&!p}),...x,unstyled:i,variant:a,size:y,disabled:_||h,ref:t,mod:[{loading:h,disabled:_||p},m],children:[P.jsx(ls,{mounted:!!h,transition:"slide-down",duration:150,children:I=>P.jsx(re,{component:"span",...k("loader",{style:I}),"aria-hidden":!0,children:P.jsx(Pi,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...v})})}),P.jsx(re,{component:"span",mod:{loading:h},...k("icon"),children:E})]})});ot.classes=ki;ot.displayName="@mantine/core/ActionIcon";ot.Group=Im;ot.GroupSection=Lm;const k0=D.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:P.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));k0.displayName="@mantine/core/CloseIcon";var D0={root:"m_86a44da5","root--subtle":"m_220c80f2"};const VD={variant:"subtle"},HD=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":qe(t,"cb-size"),"--cb-radius":r===void 0?void 0:kt(r),"--cb-icon-size":te(n)}}),sc=Xt((e,t)=>{const r=ie("CloseButton",VD,e),{iconSize:n,children:i,vars:a,radius:c,className:u,classNames:d,style:h,styles:v,unstyled:y,"data-disabled":w,disabled:S,variant:b,icon:R,mod:C,__staticSelector:E,..._}=r,p=Ee({name:E||"CloseButton",props:r,className:u,style:h,classes:D0,classNames:d,styles:v,unstyled:y,vars:a,varsResolver:HD});return P.jsxs(Ks,{ref:t,..._,unstyled:y,variant:b,disabled:S,mod:[{disabled:S||w},C],...p("root",{variant:b,active:!S&&!w}),children:[R||P.jsx(k0,{}),i]})});sc.classes=D0;sc.displayName="@mantine/core/CloseButton";function WD(e){return D.Children.toArray(e).filter(Boolean)}var M0={root:"m_4081bf90"};const qD={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},GD=(e,{grow:t,preventGrowOverflow:r,gap:n,align:i,justify:a,wrap:c},{childWidth:u})=>({root:{"--group-child-width":t&&r?u:void 0,"--group-gap":rr(n),"--group-align":i,"--group-justify":a,"--group-wrap":c}}),nt=fe((e,t)=>{const r=ie("Group",qD,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,children:d,gap:h,align:v,justify:y,wrap:w,grow:S,preventGrowOverflow:b,vars:R,variant:C,__size:E,mod:_,...p}=r,f=WD(d),m=f.length,x=rr(h??"md"),I={childWidth:`calc(${100/m}% - (${x} - ${x} / ${m}))`},j=Ee({name:"Group",props:r,stylesCtx:I,className:i,style:a,classes:M0,classNames:n,styles:c,unstyled:u,vars:R,varsResolver:GD});return P.jsx(re,{...j("root"),ref:t,variant:C,mod:[{grow:S},_],size:E,...p,children:f})});nt.classes=M0;nt.displayName="@mantine/core/Group";const[KD,us]=bn("ModalBase component was not found in tree");function YD({opened:e,transitionDuration:t}){const[r,n]=D.useState(e),i=D.useRef(-1),c=Pu()?0:t;return D.useEffect(()=>(e?(n(!0),window.clearTimeout(i.current)):c===0?n(!1):i.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(i.current)),[e,c]),r}function XD({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:i,onClose:a,returnFocus:c}){const u=Ws(e),[d,h]=D.useState(!1),[v,y]=D.useState(!1),w=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=YD({opened:r,transitionDuration:w});return bT("keydown",b=>{var R;b.key==="Escape"&&i&&r&&((R=b.target)==null?void 0:R.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),_b({opened:r,shouldReturnFocus:n&&c}),{_id:u,titleMounted:d,bodyMounted:v,shouldLockScroll:S,setTitleMounted:h,setBodyMounted:y}}const jm=D.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:u,closeOnEscape:d,returnFocus:h,closeOnClickOutside:v,withinPortal:y,portalProps:w,lockScroll:S,children:b,zIndex:R,shadow:C,padding:E,__vars:_,unstyled:p,removeScrollProps:f,...m},x)=>{const{_id:k,titleMounted:I,bodyMounted:j,shouldLockScroll:L,setTitleMounted:A,setBodyMounted:N}=XD({id:n,transitionProps:i,opened:t,trapFocus:u,closeOnEscape:d,onClose:r,returnFocus:h}),{key:V,...W}=f||{};return P.jsx(Ro,{...w,withinPortal:y,children:P.jsx(KD,{value:{opened:t,onClose:r,closeOnClickOutside:v,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:I,bodyMounted:j,setTitleMounted:A,setBodyMounted:N,trapFocus:u,closeOnEscape:d,zIndex:R,unstyled:p},children:P.jsx(iu,{enabled:L&&S,...W,children:P.jsx(re,{ref:x,...m,__vars:{..._,"--mb-z-index":(R||gr("modal")).toString(),"--mb-shadow":sm(C),"--mb-padding":rr(E)},children:b})},V)})})});jm.displayName="@mantine/core/ModalBase";function QD(){const e=us();return D.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var _i={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Om=D.forwardRef(({className:e,...t},r)=>{const n=QD(),i=us();return P.jsx(re,{ref:r,...t,id:n,className:Bt({[_i.body]:!i.unstyled},e)})});Om.displayName="@mantine/core/ModalBaseBody";const Nm=D.forwardRef(({className:e,onClick:t,...r},n)=>{const i=us();return P.jsx(sc,{ref:n,...r,onClick:a=>{i.onClose(),t==null||t(a)},className:Bt({[_i.close]:!i.unstyled},e),unstyled:i.unstyled})});Nm.displayName="@mantine/core/ModalBaseCloseButton";const Am=D.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:i,...a},c)=>{const u=us();return P.jsx(ls,{mounted:u.opened,transition:"pop",...u.transitionProps,onExited:()=>{var d,h,v;(d=u.onExitTransitionEnd)==null||d.call(u),(v=(h=u.transitionProps)==null?void 0:h.onExited)==null||v.call(h)},onEntered:()=>{var d,h,v;(d=u.onEnterTransitionEnd)==null||d.call(u),(v=(h=u.transitionProps)==null?void 0:h.onEntered)==null||v.call(h)},...e,children:d=>P.jsx("div",{...r,className:Bt({[_i.inner]:!u.unstyled},r.className),children:P.jsx(Vu,{active:u.opened&&u.trapFocus,innerRef:c,children:P.jsx(Bu,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":u.bodyMounted?u.getBodyId():void 0,"aria-labelledby":u.titleMounted?u.getTitleId():void 0,style:[i,d],className:Bt({[_i.content]:!u.unstyled},t),unstyled:u.unstyled,children:a.children})})})})});Am.displayName="@mantine/core/ModalBaseContent";const $m=D.forwardRef(({className:e,...t},r)=>{const n=us();return P.jsx(re,{component:"header",ref:r,className:Bt({[_i.header]:!n.unstyled},e),...t})});$m.displayName="@mantine/core/ModalBaseHeader";const ZD={duration:200,timingFunction:"ease",transition:"fade"};function JD(e){const t=us();return{...ZD,...t.transitionProps,...e}}const Fm=D.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...i},a)=>{const c=us(),u=JD(t);return P.jsx(ls,{mounted:n!==void 0?n:c.opened,...u,transition:"fade",children:d=>P.jsx(Uu,{ref:a,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:h=>{e==null||e(h),c.closeOnClickOutside&&c.onClose()},...i})})});Fm.displayName="@mantine/core/ModalBaseOverlay";function eM(){const e=us();return D.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const zm=D.forwardRef(({className:e,...t},r)=>{const n=eM(),i=us();return P.jsx(re,{component:"h2",ref:r,className:Bt({[_i.title]:!i.unstyled},e),...t,id:n})});zm.displayName="@mantine/core/ModalBaseTitle";function I0({children:e}){return P.jsx(P.Fragment,{children:e})}const[tM,rM]=Eu({size:"sm"}),nM={},L0=fe((e,t)=>{const r=ie("InputClearButton",nM,e),{size:n,variant:i,vars:a,classNames:c,styles:u,...d}=r,h=rM(),{resolvedClassNames:v,resolvedStyles:y}=rc({classNames:c,styles:u,props:r});return P.jsx(sc,{variant:i||"transparent",ref:t,size:n||(h==null?void 0:h.size)||"sm",classNames:v,styles:y,__staticSelector:"InputClearButton",...d})});L0.displayName="@mantine/core/InputClearButton";const[sM,Hu]=Eu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Br={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const dS={},oM=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${nr(t)} - ${te(2)})`}}),Wu=fe((e,t)=>{const r=ie("InputDescription",dS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=ie("InputDescription",dS,r),b=Hu(),R=Ee({name:["InputWrapper",v],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"description",vars:d,varsResolver:oM}),C=y&&(b==null?void 0:b.getStyles)||R;return P.jsx(re,{component:"p",ref:t,variant:w,size:h,...C("description",b!=null&&b.getStyles?{className:i,style:a}:void 0),...S})});Wu.classes=Br;Wu.displayName="@mantine/core/InputDescription";const iM={},aM=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${nr(t)} - ${te(2)})`}}),qu=fe((e,t)=>{const r=ie("InputError",iM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,__staticSelector:v,__inheritStyles:y=!0,variant:w,...S}=r,b=Ee({name:["InputWrapper",v],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"error",vars:d,varsResolver:aM}),R=Hu(),C=y&&(R==null?void 0:R.getStyles)||b;return P.jsx(re,{component:"p",ref:t,variant:w,size:h,...C("error",R!=null&&R.getStyles?{className:i,style:a}:void 0),...S})});qu.classes=Br;qu.displayName="@mantine/core/InputError";const fS={labelElement:"label"},cM=(e,{size:t})=>({label:{"--input-label-size":nr(t),"--input-asterisk-color":void 0}}),Gu=fe((e,t)=>{const r=ie("InputLabel",fS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,labelElement:h,size:v,required:y,htmlFor:w,onMouseDown:S,children:b,__staticSelector:R,variant:C,mod:E,..._}=ie("InputLabel",fS,r),p=Ee({name:["InputWrapper",R],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"label",vars:d,varsResolver:cM}),f=Hu(),m=(f==null?void 0:f.getStyles)||p;return P.jsxs(re,{...m("label",f!=null&&f.getStyles?{className:i,style:a}:void 0),component:h,variant:C,size:v,ref:t,htmlFor:h==="label"?w:void 0,mod:[{required:y},E],onMouseDown:x=>{S==null||S(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[b,y&&P.jsx("span",{...m("required"),"aria-hidden":!0,children:" *"})]})});Gu.classes=Br;Gu.displayName="@mantine/core/InputLabel";const pS={},Bm=fe((e,t)=>{const r=ie("InputPlaceholder",pS,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,__staticSelector:h,variant:v,error:y,mod:w,...S}=ie("InputPlaceholder",pS,r),b=Ee({name:["InputPlaceholder",h],props:r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,rootSelector:"placeholder"});return P.jsx(re,{...b("placeholder"),mod:[{error:!!y},w],component:"span",variant:v,ref:t,...S})});Bm.classes=Br;Bm.displayName="@mantine/core/InputPlaceholder";function lM(e,{hasDescription:t,hasError:r}){const n=e.findIndex(d=>d==="input"),i=e.slice(0,n),a=e.slice(n+1),c=t&&i.includes("description")||r&&i.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const uM={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},dM=(e,{size:t})=>({label:{"--input-label-size":nr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${nr(t)} - ${te(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${nr(t)} - ${te(2)})`}}),Um=fe((e,t)=>{const r=ie("InputWrapper",uM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,size:h,variant:v,__staticSelector:y,inputContainer:w,inputWrapperOrder:S,label:b,error:R,description:C,labelProps:E,descriptionProps:_,errorProps:p,labelElement:f,children:m,withAsterisk:x,id:k,required:I,__stylesApiProps:j,mod:L,...A}=r,N=Ee({name:["InputWrapper",y],props:j||r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:dM}),V={size:h,variant:v,__staticSelector:y},W=Ws(k),X=typeof x=="boolean"?x:I,O=(p==null?void 0:p.id)||`${W}-error`,U=(_==null?void 0:_.id)||`${W}-description`,F=W,z=!!R&&typeof R!="boolean",q=!!C,B=`${z?O:""} ${q?U:""}`,Y=B.trim().length>0?B.trim():void 0,ae=(E==null?void 0:E.id)||`${W}-label`,de=b&&P.jsx(Gu,{labelElement:f,id:ae,htmlFor:F,required:X,...V,...E,children:b},"label"),ee=q&&P.jsx(Wu,{..._,...V,size:(_==null?void 0:_.size)||V.size,id:(_==null?void 0:_.id)||U,children:C},"description"),oe=P.jsx(D.Fragment,{children:w(m)},"input"),ue=z&&D.createElement(qu,{...p,...V,size:(p==null?void 0:p.size)||V.size,key:"error",id:(p==null?void 0:p.id)||O},R),me=S.map(he=>{switch(he){case"label":return de;case"input":return oe;case"description":return ee;case"error":return ue;default:return null}});return P.jsx(sM,{value:{getStyles:N,describedBy:Y,inputId:F,labelId:ae,...lM(S,{hasDescription:q,hasError:z})},children:P.jsx(re,{ref:t,variant:v,size:h,mod:[{error:!!R},L],...N("root"),...A,children:me})})});Um.classes=Br;Um.displayName="@mantine/core/InputWrapper";const fM={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},pM=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":qe(t.size,"input-height"),"--input-fz":nr(t.size),"--input-radius":t.radius===void 0?void 0:kt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?te(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?te(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?qe(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Yt=Xt((e,t)=>{const r=ie("Input",fM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,required:d,__staticSelector:h,__stylesApiProps:v,size:y,wrapperProps:w,error:S,disabled:b,leftSection:R,leftSectionProps:C,leftSectionWidth:E,rightSection:_,rightSectionProps:p,rightSectionWidth:f,rightSectionPointerEvents:m,leftSectionPointerEvents:x,variant:k,vars:I,pointer:j,multiline:L,radius:A,id:N,withAria:V,withErrorStyles:W,mod:X,inputSize:O,__clearSection:U,__clearable:F,__defaultRightSection:z,...q}=r,{styleProps:B,rest:Y}=Iu(q),ae=Hu(),de={offsetBottom:ae==null?void 0:ae.offsetBottom,offsetTop:ae==null?void 0:ae.offsetTop},ee=Ee({name:["Input",h],props:v||r,classes:Br,className:i,style:a,classNames:n,styles:c,unstyled:u,stylesCtx:de,rootSelector:"wrapper",vars:I,varsResolver:pM}),oe=V?{required:d,disabled:b,"aria-invalid":!!S,"aria-describedby":ae==null?void 0:ae.describedBy,id:(ae==null?void 0:ae.inputId)||N}:{},ue=_||F&&U||z;return P.jsx(tM,{value:{size:y||"sm"},children:P.jsxs(re,{...ee("wrapper"),...B,...w,mod:[{error:!!S&&W,pointer:j,disabled:b,multiline:L,"data-with-right-section":!!ue,"data-with-left-section":!!R},X],variant:k,size:y,children:[R&&P.jsx("div",{...C,"data-position":"left",...ee("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:R}),P.jsx(re,{component:"input",...Y,...oe,ref:t,required:d,mod:{disabled:b,error:!!S&&W},variant:k,__size:O,...ee("input")}),ue&&P.jsx("div",{...p,"data-position":"right",...ee("section",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),children:ue})]})})});Yt.classes=Br;Yt.Wrapper=Um;Yt.Label=Gu;Yt.Error=qu;Yt.Description=Wu;Yt.Placeholder=Bm;Yt.ClearButton=L0;Yt.displayName="@mantine/core/Input";function hM(e,t,r){const n=ie(e,t,r),{label:i,description:a,error:c,required:u,classNames:d,styles:h,className:v,unstyled:y,__staticSelector:w,__stylesApiProps:S,errorProps:b,labelProps:R,descriptionProps:C,wrapperProps:E,id:_,size:p,style:f,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:I,vars:j,mod:L,...A}=n,{styleProps:N,rest:V}=Iu(A),W={label:i,description:a,error:c,required:u,classNames:d,className:v,__staticSelector:w,__stylesApiProps:S||n,errorProps:b,labelProps:R,descriptionProps:C,unstyled:y,styles:h,size:p,style:f,inputContainer:m,inputWrapperOrder:x,withAsterisk:k,variant:I,id:_,mod:L,...E};return{...V,classNames:d,styles:h,unstyled:y,wrapperProps:{...W,...N},inputProps:{required:u,classNames:d,styles:h,unstyled:y,size:p,__staticSelector:w,__stylesApiProps:S||n,error:c,variant:I,id:_}}}const mM={__staticSelector:"InputBase",withAria:!0},ds=Xt((e,t)=>{const{inputProps:r,wrapperProps:n,...i}=hM("InputBase",mM,e);return P.jsx(Yt.Wrapper,{...n,children:P.jsx(Yt,{...r,...i,ref:t})})});ds.classes={...Yt.classes,...Yt.Wrapper.classes};ds.displayName="@mantine/core/InputBase";const gM={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var j0={root:"m_8bffd616"};const vM={},wn=Xt((e,t)=>{const r=ie("Flex",vM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,gap:h,rowGap:v,columnGap:y,align:w,justify:S,wrap:b,direction:R,...C}=r,E=Ee({name:"Flex",classes:j0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d}),_=sr(),p=dm(),f=jb({styleProps:{gap:h,rowGap:v,columnGap:y,align:w,justify:S,wrap:b,direction:R},theme:_,data:gM});return P.jsxs(P.Fragment,{children:[f.hasResponsiveStyles&&P.jsx(Mu,{selector:`.${p}`,styles:f.styles,media:f.media}),P.jsx(re,{ref:t,...E("root",{className:p,style:Ci(f.inlineStyles)}),...C})]})});wn.classes=j0;wn.displayName="@mantine/core/Flex";function O0({style:e,size:t=16,...r}){return P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:te(t),height:te(t),display:"block"},...r,children:P.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}O0.displayName="@mantine/core/AccordionChevron";var N0={root:"m_b6d8b162"};function yM(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const wM={inherit:!1},SM=(e,{variant:t,lineClamp:r,gradient:n,size:i,color:a})=>({root:{"--text-fz":nr(i),"--text-lh":rT(i),"--text-gradient":t==="gradient"?bh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?hr(a,e):void 0}}),Ye=Xt((e,t)=>{const r=ie("Text",wM,e),{lineClamp:n,truncate:i,inline:a,inherit:c,gradient:u,span:d,__staticSelector:h,vars:v,className:y,style:w,classNames:S,styles:b,unstyled:R,variant:C,mod:E,size:_,...p}=r,f=Ee({name:["Text",h],props:r,classes:N0,className:y,style:w,classNames:S,styles:b,unstyled:R,vars:v,varsResolver:SM});return P.jsx(re,{...f("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:C,mod:[{"data-truncate":yM(i),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},E],size:_,...p})});Ye.classes=N0;Ye.displayName="@mantine/core/Text";function A0(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>A0(t))}:e}function _M(e){return e?e.map(t=>A0(t)):[]}function $0(e){return e.reduce((t,r)=>"group"in r?{...t,...$0(r.items)}:(t[r.value]=r,t),{})}var mr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const bM={error:null},xM=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":qe(t,"combobox-chevron-size"),"--combobox-chevron-color":r?hr(r,e):void 0}}),Vm=fe((e,t)=>{const r=ie("ComboboxChevron",bM,e),{size:n,error:i,style:a,className:c,classNames:u,styles:d,unstyled:h,vars:v,mod:y,...w}=r,S=Ee({name:"ComboboxChevron",classes:mr,props:r,style:a,className:c,classNames:u,styles:d,unstyled:h,vars:v,varsResolver:xM,rootSelector:"chevron"});return P.jsx(re,{component:"svg",...w,...S("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},y],ref:t,children:P.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Vm.classes=mr;Vm.displayName="@mantine/core/ComboboxChevron";const[CM,Ur]=bn("Combobox component was not found in tree"),F0=D.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...i},a)=>P.jsx(Yt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));F0.displayName="@mantine/core/ComboboxClearButton";const RM={},Hm=fe((e,t)=>{const{classNames:r,styles:n,className:i,style:a,hidden:c,...u}=ie("ComboboxDropdown",RM,e),d=Ur();return P.jsx(xn.Dropdown,{...u,ref:t,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:i,style:a,classNames:r,styles:n})})});Hm.classes=mr;Hm.displayName="@mantine/core/ComboboxDropdown";const EM={refProp:"ref"},z0=fe((e,t)=>{const{children:r,refProp:n}=ie("ComboboxDropdownTarget",EM,e);if(Ur(),!Hs(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return P.jsx(xn.Target,{ref:t,refProp:n,children:r})});z0.displayName="@mantine/core/ComboboxDropdownTarget";const TM={},Wm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxEmpty",TM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("empty",{className:n,classNames:r,styles:a,style:i}),...u})});Wm.classes=mr;Wm.displayName="@mantine/core/ComboboxEmpty";function qm({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:i,autoComplete:a}){const c=Ur(),[u,d]=D.useState(null),h=y=>{if(e==null||e(y),!c.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),c.store.dropdownOpened?d(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const w=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&w!==-1?(y.preventDefault(),c.store.clickSelectedOption()):i==="button"&&(y.preventDefault(),c.store.openDropdown("keyboard"))}y.key==="Escape"&&c.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&i==="button"&&(y.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&u||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:h}}const PM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},B0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:d,...h}=ie("ComboboxEventsTarget",PM,e);if(!Hs(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Ur(),y=qm({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d});return D.cloneElement(r,{...y,...h,[n]:Ut(t,v.store.targetRef,ku(r))})});B0.displayName="@mantine/core/ComboboxEventsTarget";const kM={},Gm=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxFooter",kM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("footer",{className:n,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});Gm.classes=mr;Gm.displayName="@mantine/core/ComboboxFooter";const DM={},Km=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,children:u,label:d,...h}=ie("ComboboxGroup",DM,e),v=Ur();return P.jsxs(re,{ref:t,...v.getStyles("group",{className:n,classNames:r,style:i,styles:a}),...h,children:[d&&P.jsx("div",{...v.getStyles("groupLabel",{classNames:r,styles:a}),children:d}),u]})});Km.classes=mr;Km.displayName="@mantine/core/ComboboxGroup";const MM={},Ym=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("ComboboxHeader",MM,e),d=Ur();return P.jsx(re,{ref:t,...d.getStyles("header",{className:n,classNames:r,style:i,styles:a}),...u,onMouseDown:h=>{h.preventDefault()}})});Ym.classes=mr;Ym.displayName="@mantine/core/ComboboxHeader";function U0({value:e,valuesDivider:t=",",...r}){return P.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}U0.displayName="@mantine/core/ComboboxHiddenInput";const IM={},Xm=fe((e,t)=>{const r=ie("ComboboxOption",IM,e),{classNames:n,className:i,style:a,styles:c,vars:u,onClick:d,id:h,active:v,onMouseDown:y,onMouseOver:w,disabled:S,selected:b,mod:R,...C}=r,E=Ur(),_=D.useId(),p=h||_;return P.jsx(re,{...E.getStyles("option",{className:i,classNames:n,styles:c,style:a}),...C,ref:t,id:p,mod:["combobox-option",{"combobox-active":v,"combobox-disabled":S,"combobox-selected":b},R],role:"option",onClick:f=>{var m;S?f.preventDefault():((m=E.onOptionSubmit)==null||m.call(E,r.value,r),d==null||d(f))},onMouseDown:f=>{f.preventDefault(),y==null||y(f)},onMouseOver:f=>{E.resetSelectionOnOptionHover&&E.store.resetSelectedOption(),w==null||w(f)}})});Xm.classes=mr;Xm.displayName="@mantine/core/ComboboxOption";const LM={},Qm=fe((e,t)=>{const r=ie("ComboboxOptions",LM,e),{classNames:n,className:i,style:a,styles:c,id:u,onMouseDown:d,labelledBy:h,...v}=r,y=Ur(),w=Ws(u);return D.useEffect(()=>{y.store.setListId(w)},[w]),P.jsx(re,{ref:t,...y.getStyles("options",{className:i,style:a,classNames:n,styles:c}),...v,id:w,role:"listbox","aria-labelledby":h,onMouseDown:S=>{S.preventDefault(),d==null||d(S)}})});Qm.classes=mr;Qm.displayName="@mantine/core/ComboboxOptions";const jM={withAriaAttributes:!0,withKeyboardNavigation:!0},Zm=fe((e,t)=>{const r=ie("ComboboxSearch",jM,e),{classNames:n,styles:i,unstyled:a,vars:c,withAriaAttributes:u,onKeyDown:d,withKeyboardNavigation:h,size:v,...y}=r,w=Ur(),S=w.getStyles("search"),b=qm({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return P.jsx(Yt,{ref:Ut(t,w.store.searchRef),classNames:[{input:S.className},n],styles:[{input:S.style},i],size:v||w.size,...b,...y,__staticSelector:"Combobox"})});Zm.classes=mr;Zm.displayName="@mantine/core/ComboboxSearch";const OM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},V0=fe((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,autoComplete:d,...h}=ie("ComboboxTarget",OM,e);if(!Hs(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const v=Ur(),y=qm({targetType:u,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d}),w=D.cloneElement(r,{...y,...h});return P.jsx(xn.Target,{ref:Ut(t,v.store.targetRef),children:w})});V0.displayName="@mantine/core/ComboboxTarget";function NM(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function AM(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function $M(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function H0({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:i,loop:a=!0,scrollBehavior:c="instant"}={}){const[u,d]=ss({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=D.useRef(null),v=D.useRef(-1),y=D.useRef(null),w=D.useRef(null),S=D.useRef(-1),b=D.useRef(-1),R=D.useRef(-1),C=D.useCallback((O="unknown")=>{u||(d(!0),i==null||i(O))},[d,i,u]),E=D.useCallback((O="unknown")=>{u&&(d(!1),n==null||n(O))},[d,n,u]),_=D.useCallback((O="unknown")=>{u?E(O):C(O)},[E,C,u]),p=D.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),f=D.useCallback(O=>{const U=document.getElementById(h.current),F=U==null?void 0:U.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=O>=F.length?0:O<0?F.length-1:O;return v.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(p(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:c}),F[z].id):null},[c,p]),m=D.useCallback(()=>{const O=document.querySelector(`#${h.current} [data-combobox-active]`);if(O){const U=document.querySelectorAll(`#${h.current} [data-combobox-option]`),F=Array.from(U).findIndex(z=>z===O);return f(F)}return f(0)},[f]),x=D.useCallback(()=>f(AM(v.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[f,a]),k=D.useCallback(()=>f(NM(v.current,document.querySelectorAll(`#${h.current} [data-combobox-option]`),a)),[f,a]),I=D.useCallback(()=>f($M(document.querySelectorAll(`#${h.current} [data-combobox-option]`))),[f]),j=D.useCallback((O="selected",U)=>{R.current=window.setTimeout(()=>{var q;const F=document.querySelectorAll(`#${h.current} [data-combobox-option]`),z=Array.from(F).findIndex(B=>B.hasAttribute(`data-combobox-${O}`));v.current=z,U!=null&&U.scrollIntoView&&((q=F[z])==null||q.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),L=D.useCallback(()=>{v.current=-1,p()},[p]),A=D.useCallback(()=>{const O=document.querySelectorAll(`#${h.current} [data-combobox-option]`),U=O==null?void 0:O[v.current];U==null||U.click()},[]),N=D.useCallback(O=>{h.current=O},[]),V=D.useCallback(()=>{S.current=window.setTimeout(()=>y.current.focus(),0)},[]),W=D.useCallback(()=>{b.current=window.setTimeout(()=>w.current.focus(),0)},[]),X=D.useCallback(()=>v.current,[]);return D.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(b.current),window.clearTimeout(R.current)},[]),{dropdownOpened:u,openDropdown:C,closeDropdown:E,toggleDropdown:_,selectedOptionIndex:v.current,getSelectedOptionIndex:X,selectOption:f,selectFirstOption:I,selectActiveOption:m,selectNextOption:x,selectPreviousOption:k,resetSelectedOption:L,updateSelectedOptionIndex:j,listId:h.current,setListId:N,clickSelectedOption:A,searchRef:y,focusSearchInput:V,targetRef:w,focusTarget:W}}const FM={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},zM=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":nr(t),"--combobox-option-padding":qe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:te(r),"--combobox-option-fz":nr(t),"--combobox-option-padding":qe(t,"combobox-option-padding")}});function Ke(e){const t=ie("Combobox",FM,e),{classNames:r,styles:n,unstyled:i,children:a,store:c,vars:u,onOptionSubmit:d,onClose:h,size:v,dropdownPadding:y,resetSelectionOnOptionHover:w,__staticSelector:S,readOnly:b,...R}=t,C=H0(),E=c||C,_=Ee({name:S||"Combobox",classes:mr,props:t,classNames:r,styles:n,unstyled:i,vars:u,varsResolver:zM}),p=()=>{h==null||h(),E.closeDropdown()};return P.jsx(CM,{value:{getStyles:_,store:E,onOptionSubmit:d,size:v,resetSelectionOnOptionHover:w,readOnly:b},children:P.jsx(xn,{opened:E.dropdownOpened,...R,onChange:f=>!f&&p(),withRoles:!1,unstyled:i,children:a})})}const BM=e=>e;Ke.extend=BM;Ke.classes=mr;Ke.displayName="@mantine/core/Combobox";Ke.Target=V0;Ke.Dropdown=Hm;Ke.Options=Qm;Ke.Option=Xm;Ke.Search=Zm;Ke.Empty=Wm;Ke.Chevron=Vm;Ke.Footer=Gm;Ke.Header=Ym;Ke.EventsTarget=B0;Ke.DropdownTarget=z0;Ke.Group=Km;Ke.ClearButton=F0;Ke.HiddenInput=U0;function UM({size:e,style:t,...r}){const n=e!==void 0?{width:te(e),height:te(e),...t}:t;return P.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:P.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Ya(e){return"group"in e}function W0({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(i.length===r)return i;Ya(c)&&i.push({group:c.group,items:W0({options:c.items,search:t,limit:r-i.length})}),Ya(c)||c.label.toLowerCase().includes(n)&&i.push(c)}return i}function VM(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function q0(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Ya(r))q0(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function HM(e,t){return Array.isArray(e)?e.includes(t):e===t}function G0({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:i,renderOption:a}){if(!Ya(e)){const u=HM(r,e.value),d=t&&u&&P.jsx(UM,{className:mr.optionsDropdownCheckIcon}),h=P.jsxs(P.Fragment,{children:[n==="left"&&d,P.jsx("span",{children:e.label}),n==="right"&&d]});return P.jsx(Ke.Option,{value:e.value,disabled:e.disabled,className:Bt({[mr.optionsDropdownOption]:!i}),"data-reverse":n==="right"||void 0,"data-checked":u||void 0,"aria-selected":u,active:u,children:typeof a=="function"?a({option:e,checked:u}):h})}const c=e.items.map(u=>P.jsx(G0,{data:u,value:r,unstyled:i,withCheckIcon:t,checkIconPosition:n,renderOption:a},u.value));return P.jsx(Ke.Group,{label:e.group,children:c})}function WM({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:i,limit:a,maxDropdownHeight:c,withScrollArea:u=!0,filterOptions:d=!0,withCheckIcon:h=!1,value:v,checkIconPosition:y,nothingFoundMessage:w,unstyled:S,labelId:b,renderOption:R,scrollAreaProps:C,"aria-label":E}){q0(e);const p=typeof i=="string"?(n||W0)({options:e,search:d?i:"",limit:a??1/0}):e,f=VM(p),m=p.map(x=>P.jsx(G0,{data:x,withCheckIcon:h,value:v,checkIconPosition:y,unstyled:S,renderOption:R},Ya(x)?x.group:x.value));return P.jsx(Ke.Dropdown,{hidden:t||r&&f,"data-composed":!0,children:P.jsxs(Ke.Options,{labelledBy:b,"aria-label":E,children:[u?P.jsx(zr.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:m}):m,f&&w&&P.jsx(Ke.Empty,{children:w})]})})}const K0=D.createContext(null),qM=K0.Provider;function GM(){return{withinGroup:!!D.useContext(K0)}}var Ku={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const KM={},YM=(e,{spacing:t})=>({group:{"--ag-spacing":rr(t)}}),Jm=fe((e,t)=>{const r=ie("AvatarGroup",KM,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,spacing:h,...v}=r,y=Ee({name:"AvatarGroup",classes:Ku,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:YM,rootSelector:"group"});return P.jsx(qM,{value:!0,children:P.jsx(re,{ref:t,...y("group"),...v})})});Jm.classes=Ku;Jm.displayName="@mantine/core/AvatarGroup";function XM(e){return P.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function QM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const ZM=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function JM(e,t=ZM){const r=QM(e),n=Math.abs(r)%t.length;return t[n]}function e2(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const t2={},r2=(e,{size:t,radius:r,variant:n,gradient:i,color:a,autoContrast:c,name:u,allowedInitialsColors:d})=>{const h=a==="initials"&&typeof u=="string"?JM(u,d):a,v=e.variantColorResolver({color:h||"gray",theme:e,gradient:i,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":qe(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:kt(r),"--avatar-bg":h||n?v.background:void 0,"--avatar-color":h||n?v.color:void 0,"--avatar-bd":h||n?v.border:void 0}}},Cn=Xt((e,t)=>{const r=ie("Avatar",t2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,src:h,alt:v,radius:y,color:w,gradient:S,imageProps:b,children:R,autoContrast:C,mod:E,name:_,allowedInitialsColors:p,...f}=r,m=GM(),[x,k]=D.useState(!h),I=Ee({name:"Avatar",props:r,classes:Ku,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:r2});return D.useEffect(()=>k(!h),[h]),P.jsx(re,{...I("root"),mod:[{"within-group":m.withinGroup},E],ref:t,...f,children:x?P.jsx("span",{...I("placeholder"),title:v,children:R||typeof _=="string"&&e2(_)||P.jsx(XM,{})}):P.jsx("img",{...b,...I("image"),src:h,alt:v,onError:j=>{var L;k(!0),(L=b==null?void 0:b.onError)==null||L.call(b,j)}})})});Cn.classes=Ku;Cn.displayName="@mantine/core/Avatar";Cn.Group=Jm;var Y0={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const n2={},s2=(e,{radius:t,color:r,gradient:n,variant:i,size:a,autoContrast:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:c});return{root:{"--badge-height":qe(a,"badge-height"),"--badge-padding-x":qe(a,"badge-padding-x"),"--badge-fz":qe(a,"badge-fz"),"--badge-radius":t===void 0?void 0:kt(t),"--badge-bg":r||i?u.background:void 0,"--badge-color":r||i?u.color:void 0,"--badge-bd":r||i?u.border:void 0,"--badge-dot-color":i==="dot"?hr(r,e):void 0}}},oc=Xt((e,t)=>{const r=ie("Badge",n2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,radius:h,color:v,gradient:y,leftSection:w,rightSection:S,children:b,variant:R,fullWidth:C,autoContrast:E,circle:_,mod:p,...f}=r,m=Ee({name:"Badge",props:r,classes:Y0,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:s2});return P.jsxs(re,{variant:R,mod:[{block:C,circle:_,"with-right-section":!!S,"with-left-section":!!w},p],...m("root",{variant:R}),ref:t,...f,children:[w&&P.jsx("span",{...m("section"),"data-position":"left",children:w}),P.jsx("span",{...m("label"),children:b}),S&&P.jsx("span",{...m("section"),"data-position":"right",children:S})]})});oc.classes=Y0;oc.displayName="@mantine/core/Badge";var Di={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const hS={orientation:"horizontal"},o2=(e,{borderWidth:t})=>({group:{"--button-border-width":te(t)}}),eg=fe((e,t)=>{const r=ie("ButtonGroup",hS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,orientation:d,vars:h,borderWidth:v,variant:y,mod:w,...S}=ie("ButtonGroup",hS,e),b=Ee({name:"ButtonGroup",props:r,classes:Di,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:h,varsResolver:o2,rootSelector:"group"});return P.jsx(re,{...b("group"),ref:t,variant:y,mod:[{"data-orientation":d},w],role:"group",...S})});eg.classes=Di;eg.displayName="@mantine/core/ButtonGroup";const mS={},i2=(e,{radius:t,color:r,gradient:n,variant:i,autoContrast:a,size:c})=>{const u=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":qe(c,"section-height"),"--section-padding-x":qe(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?nr(c.replace("compact-","")):nr(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||i?u.background:void 0,"--section-color":u.color,"--section-bd":r||i?u.border:void 0}}},tg=fe((e,t)=>{const r=ie("ButtonGroupSection",mS,e),{className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,variant:h,gradient:v,radius:y,autoContrast:w,...S}=ie("ButtonGroupSection",mS,e),b=Ee({name:"ButtonGroupSection",props:r,classes:Di,className:n,style:i,classNames:a,styles:c,unstyled:u,vars:d,varsResolver:i2,rootSelector:"groupSection"});return P.jsx(re,{...b("groupSection"),ref:t,variant:h,...S})});tg.classes=Di;tg.displayName="@mantine/core/ButtonGroupSection";const a2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${te(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},c2={},l2=(e,{radius:t,color:r,gradient:n,variant:i,size:a,justify:c,autoContrast:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:i||"filled",autoContrast:u});return{root:{"--button-justify":c,"--button-height":qe(a,"button-height"),"--button-padding-x":qe(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?nr(a.replace("compact-","")):nr(a),"--button-radius":t===void 0?void 0:kt(t),"--button-bg":r||i?d.background:void 0,"--button-hover":r||i?d.hover:void 0,"--button-color":d.color,"--button-bd":r||i?d.border:void 0,"--button-hover-color":r||i?d.hoverColor:void 0}}},Ue=Xt((e,t)=>{const r=ie("Button",c2,e),{style:n,vars:i,className:a,color:c,disabled:u,children:d,leftSection:h,rightSection:v,fullWidth:y,variant:w,radius:S,loading:b,loaderProps:R,gradient:C,classNames:E,styles:_,unstyled:p,"data-disabled":f,autoContrast:m,mod:x,...k}=r,I=Ee({name:"Button",props:r,classes:Di,className:a,style:n,classNames:E,styles:_,unstyled:p,vars:i,varsResolver:l2}),j=!!h,L=!!v;return P.jsxs(Ks,{ref:t,...I("root",{active:!u&&!b&&!f}),unstyled:p,variant:w,disabled:u||b,mod:[{disabled:u||f,loading:b,block:y,"with-left-section":j,"with-right-section":L},x],...k,children:[P.jsx(ls,{mounted:!!b,transition:a2,duration:150,children:A=>P.jsx(re,{component:"span",...I("loader",{style:A}),"aria-hidden":!0,children:P.jsx(Pi,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...R})})}),P.jsxs("span",{...I("inner"),children:[h&&P.jsx(re,{component:"span",...I("section"),mod:{position:"left"},children:h}),P.jsx(re,{component:"span",mod:{loading:b},...I("label"),children:d}),v&&P.jsx(re,{component:"span",...I("section"),mod:{position:"right"},children:v})]})]})});Ue.classes=Di;Ue.displayName="@mantine/core/Button";Ue.Group=eg;Ue.GroupSection=tg;const[u2,d2]=bn("Card component was not found in tree");var rg={root:"m_e615b15f",section:"m_599a2148"};const f2={},Yu=Xt((e,t)=>{const r=ie("CardSection",f2,e),{classNames:n,className:i,style:a,styles:c,vars:u,withBorder:d,inheritPadding:h,mod:v,...y}=r,w=d2();return P.jsx(re,{ref:t,mod:[{"with-border":d,"inherit-padding":h},v],...w.getStyles("section",{className:i,style:a,styles:c,classNames:n}),...y})});Yu.classes=rg;Yu.displayName="@mantine/core/CardSection";const p2={},h2=(e,{padding:t})=>({root:{"--card-padding":rr(t)}}),ic=Xt((e,t)=>{const r=ie("Card",p2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,children:h,padding:v,...y}=r,w=Ee({name:"Card",props:r,classes:rg,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:h2}),S=D.Children.toArray(h),b=S.map((R,C)=>typeof R=="object"&&R&&"type"in R&&R.type===Yu?D.cloneElement(R,{"data-first-section":C===0||void 0,"data-last-section":C===S.length-1||void 0}):R);return P.jsx(u2,{value:{getStyles:w},children:P.jsx(Bu,{ref:t,unstyled:u,...w("root"),...y,children:b})})});ic.classes=rg;ic.displayName="@mantine/core/Card";ic.Section=Yu;var X0={root:"m_3eebeb36",label:"m_9e365f20"};const m2={orientation:"horizontal"},g2=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?hr(t,e):void 0,"--divider-border-style":r,"--divider-size":qe(n,"divider-size")}}),Sn=fe((e,t)=>{const r=ie("Divider",m2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,color:h,orientation:v,label:y,labelPosition:w,mod:S,...b}=r,R=Ee({name:"Divider",classes:X0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:g2});return P.jsx(re,{ref:t,mod:[{orientation:v,"with-label":!!y},S],...R("root"),...b,role:"separator",children:y&&P.jsx(re,{component:"span",mod:{position:w},...R("label"),children:y})})});Sn.classes=X0;Sn.displayName="@mantine/core/Divider";const[v2,Mi]=bn("Drawer component was not found in tree");var fs={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const y2={},Xu=fe((e,t)=>{const r=ie("DrawerBody",y2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Om,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});Xu.classes=fs;Xu.displayName="@mantine/core/DrawerBody";const w2={},Qu=fe((e,t)=>{const r=ie("DrawerCloseButton",w2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Nm,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});Qu.classes=fs;Qu.displayName="@mantine/core/DrawerCloseButton";const S2={},Zu=fe((e,t)=>{const r=ie("DrawerContent",S2,e),{classNames:n,className:i,style:a,styles:c,vars:u,children:d,radius:h,__hidden:v,...y}=r,w=Mi(),S=w.scrollAreaComponent||I0;return P.jsx(Am,{...w.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:w.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),ref:t,...y,radius:h||w.radius||0,"data-hidden":v||void 0,children:P.jsx(S,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});Zu.classes=fs;Zu.displayName="@mantine/core/DrawerContent";const _2={},Ju=fe((e,t)=>{const r=ie("DrawerHeader",_2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx($m,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});Ju.classes=fs;Ju.displayName="@mantine/core/DrawerHeader";const b2={},ed=fe((e,t)=>{const r=ie("DrawerOverlay",b2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(Fm,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});ed.classes=fs;ed.displayName="@mantine/core/DrawerOverlay";function x2(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function C2(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const R2={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},E2={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},T2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),position:"left"},P2=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":qe(r,"drawer-size"),"--drawer-flex":C2(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":x2(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":te(n)}}),td=fe((e,t)=>{const r=ie("DrawerRoot",T2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,scrollAreaComponent:h,position:v,transitionProps:y,radius:w,...S}=r,{dir:b}=Gs(),R=Ee({name:"Drawer",classes:fs,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:P2}),C=(b==="rtl"?E2:R2)[v];return P.jsx(v2,{value:{scrollAreaComponent:h,getStyles:R,radius:w},children:P.jsx(jm,{ref:t,...R("root"),transitionProps:{transition:C,...y},unstyled:u,...S})})});td.classes=fs;td.displayName="@mantine/core/DrawerRoot";const[k2,D2]=Eu();function Q0({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(gr("modal"));return P.jsx(k2,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}Q0.displayName="@mantine/core/DrawerStack";const M2={},rd=fe((e,t)=>{const r=ie("DrawerTitle",M2,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Mi();return P.jsx(zm,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});rd.classes=fs;rd.displayName="@mantine/core/DrawerTitle";const I2={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),withOverlay:!0,withCloseButton:!0},Vr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,opened:d,stackId:h,zIndex:v,...y}=ie("Drawer",I2,e),w=D2(),S=!!r||a,b=w&&h?{closeOnEscape:w.currentId===h,trapFocus:w.currentId===h,zIndex:w.getZIndex(h)}:{},R=n===!1?!1:h&&w?w.currentId===h:d;return D.useEffect(()=>{w&&h&&(d?w.addModal(h,v||gr("modal")):w.removeModal(h))},[d,h,v]),P.jsxs(td,{ref:t,opened:d,zIndex:w&&h?w.getZIndex(h):v,...y,...b,children:[n&&P.jsx(ed,{visible:R,transitionProps:w&&h?{duration:0}:void 0,...i}),P.jsxs(Zu,{__hidden:w&&h&&d?h!==w.currentId:!1,children:[S&&P.jsxs(Ju,{children:[r&&P.jsx(rd,{children:r}),a&&P.jsx(Qu,{...c})]}),P.jsx(Xu,{children:u})]})]})});Vr.classes=fs;Vr.displayName="@mantine/core/Drawer";Vr.Root=td;Vr.Overlay=ed;Vr.Content=Zu;Vr.Body=Xu;Vr.Header=Ju;Vr.Title=rd;Vr.CloseButton=Qu;Vr.Stack=Q0;function L2({open:e,close:t,openDelay:r,closeDelay:n}){const i=D.useRef(-1),a=D.useRef(-1),c=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},u=()=>{c(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)},d=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return D.useEffect(()=>c,[]),{openDropdown:u,closeDropdown:d}}function j2(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=te(t),[i,a]=e.split("-");return i==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var Z0={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const O2={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},N2=(e,{color:t,position:r,offset:n,size:i,radius:a,zIndex:c,autoContrast:u})=>({root:{"--indicator-color":t?hr(t,e):void 0,"--indicator-text-color":Lb(u,e)?lm({color:t,theme:e,autoContrast:u}):void 0,"--indicator-size":te(i),"--indicator-radius":a===void 0?void 0:kt(a),"--indicator-z-index":c==null?void 0:c.toString(),...j2(r,n)}}),ng=fe((e,t)=>{const r=ie("Indicator",O2,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,children:h,position:v,offset:y,inline:w,label:S,radius:b,color:R,withBorder:C,disabled:E,processing:_,zIndex:p,autoContrast:f,mod:m,...x}=r,k=Ee({name:"Indicator",classes:Z0,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:N2});return P.jsxs(re,{ref:t,...k("root"),mod:[{inline:w},m],...x,children:[!E&&P.jsx(re,{mod:{"with-label":!!S,"with-border":C,processing:_},...k("indicator"),children:S}),h]})});ng.classes=Z0;ng.displayName="@mantine/core/Indicator";function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(null,arguments)}function sg(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A2=D.useLayoutEffect,$2=function(t){var r=zt.useRef(t);return A2(function(){r.current=t}),r},gS=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},F2=function(t,r){var n=zt.useRef();return zt.useCallback(function(i){t.current=i,n.current&&gS(n.current,null),n.current=r,r&&gS(r,i)},[r])},vS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},z2=function(t){Object.keys(vS).forEach(function(r){t.style.setProperty(r,vS[r],"important")})},yS=z2,er=null,wS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function B2(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),er||(er=document.createElement("textarea"),er.setAttribute("tabindex","-1"),er.setAttribute("aria-hidden","true"),yS(er)),er.parentNode===null&&document.body.appendChild(er);var i=e.paddingSize,a=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(w){var S=w;er.style[S]=c[S]}),yS(er),er.value=t;var d=wS(er,e);er.value=t,d=wS(er,e),er.value="x";var h=er.scrollHeight-i,v=h*r;u==="border-box"&&(v=v+i+a),d=Math.max(v,d);var y=h*n;return u==="border-box"&&(y=y+i+a),d=Math.min(y,d),[d,h]}var SS=function(){},U2=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},V2=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],H2=!!document.documentElement.currentStyle,W2=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=U2(V2,r),i=n.boxSizing;if(i==="")return null;H2&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},q2=W2;function J0(e,t,r){var n=$2(r);D.useLayoutEffect(function(){var i=function(c){return n.current(c)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var G2=function(t){J0(window,"resize",t)},K2=function(t){J0(document.fonts,"loadingdone",t)},Y2=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],X2=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,c=t.onChange,u=c===void 0?SS:c,d=t.onHeightChange,h=d===void 0?SS:d,v=sg(t,Y2),y=v.value!==void 0,w=D.useRef(null),S=F2(w,r),b=D.useRef(0),R=D.useRef(),C=function(){var p=w.current,f=n&&R.current?R.current:q2(p);if(f){R.current=f;var m=B2(f,p.value||p.placeholder||"x",a,i),x=m[0],k=m[1];b.current!==x&&(b.current=x,p.style.setProperty("height",x+"px","important"),h(x,{rowHeight:k}))}},E=function(p){y||C(),u(p)};return D.useLayoutEffect(C),G2(C),K2(C),D.createElement("textarea",hu({},v,{onChange:E,ref:S}))},Q2=D.forwardRef(X2);const Z2={},nd=fe((e,t)=>{const{autosize:r,maxRows:n,minRows:i,__staticSelector:a,resize:c,...u}=ie("Textarea",Z2,e),d=r&&ET()!=="test",h=d?{maxRows:n,minRows:i}:{};return P.jsx(ds,{component:d?Q2:"textarea",ref:t,...u,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...h})});nd.classes=ds.classes;nd.displayName="@mantine/core/Textarea";const[J2,ac]=bn("Menu component was not found in the tree");var Ii={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const eI={},og=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("MenuDivider",eI,e),d=ac();return P.jsx(re,{ref:t,...d.getStyles("divider",{className:n,style:i,styles:a,classNames:r}),...u})});og.classes=Ii;og.displayName="@mantine/core/MenuDivider";const tI={},ig=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,onMouseEnter:u,onMouseLeave:d,onKeyDown:h,children:v,...y}=ie("MenuDropdown",tI,e),w=D.useRef(null),S=ac(),b=On(h,E=>{var _,p;(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),(p=(_=w.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||p.focus())}),R=On(u,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),C=On(d,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return P.jsxs(xn.Dropdown,{...y,onMouseEnter:R,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Ut(t,w),...S.getStyles("dropdown",{className:n,style:i,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[S.withInitialFocusPlaceholder&&P.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),v]})});ig.classes=Ii;ig.displayName="@mantine/core/MenuDropdown";const rI={},ag=Xt((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,color:u,closeMenuOnClick:d,leftSection:h,rightSection:v,children:y,disabled:w,"data-disabled":S,...b}=ie("MenuItem",rI,e),R=ac(),C=sr(),{dir:E}=Gs(),_=D.useRef(null),p=R.getItemIndex(_.current),f=b,m=On(f.onMouseLeave,()=>R.setHovered(-1)),x=On(f.onMouseEnter,()=>R.setHovered(R.getItemIndex(_.current))),k=On(f.onClick,()=>{S||(typeof d=="boolean"?d&&R.closeDropdownImmediately():R.closeOnItemClick&&R.closeDropdownImmediately())}),I=On(f.onFocus,()=>R.setHovered(R.getItemIndex(_.current))),j=u?C.variantColorResolver({color:u,theme:C,variant:"light"}):void 0,L=u?Ri({color:u,theme:C}):null;return P.jsxs(Ks,{...b,unstyled:R.unstyled,tabIndex:R.menuItemTabIndex,onFocus:I,...R.getStyles("item",{className:n,style:i,styles:a,classNames:r}),ref:Ut(_,t),role:"menuitem",disabled:w,"data-menu-item":!0,"data-disabled":w||S||void 0,"data-hovered":R.hovered===p?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:m,onClick:k,onKeyDown:wb({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:R.loop,dir:E,orientation:"vertical",onKeyDown:f.onKeyDown}),__vars:{"--menu-item-color":L!=null&&L.isThemeColor&&(L==null?void 0:L.shade)===void 0?`var(--mantine-color-${L.color}-6)`:j==null?void 0:j.color,"--menu-item-hover":j==null?void 0:j.hover},children:[h&&P.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:h}),y&&P.jsx("div",{...R.getStyles("itemLabel",{styles:a,classNames:r}),children:y}),v&&P.jsx("div",{...R.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:v})]})});ag.classes=Ii;ag.displayName="@mantine/core/MenuItem";const nI={},cg=fe((e,t)=>{const{classNames:r,className:n,style:i,styles:a,vars:c,...u}=ie("MenuLabel",nI,e),d=ac();return P.jsx(re,{ref:t,...d.getStyles("label",{className:n,style:i,styles:a,classNames:r}),...u})});cg.classes=Ii;cg.displayName="@mantine/core/MenuLabel";const sI={refProp:"ref"},e1=D.forwardRef((e,t)=>{const{children:r,refProp:n,...i}=ie("MenuTarget",sI,e);if(!Hs(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=ac(),c=r.props,u=On(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),d=On(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),h=On(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return P.jsx(xn.Target,{refProp:n,popupType:"menu",ref:t,...i,children:D.cloneElement(r,{onClick:u,onMouseEnter:d,onMouseLeave:h,"data-expanded":a.opened?!0:void 0})})});e1.displayName="@mantine/core/MenuTarget";const oI={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function We(e){const t=ie("Menu",oI,e),{children:r,onOpen:n,onClose:i,opened:a,defaultOpened:c,trapFocus:u,onChange:d,closeOnItemClick:h,loop:v,closeOnEscape:y,trigger:w,openDelay:S,closeDelay:b,classNames:R,styles:C,unstyled:E,variant:_,vars:p,menuItemTabIndex:f,keepMounted:m,withInitialFocusPlaceholder:x,...k}=t,I=Ee({name:"Menu",classes:Ii,props:t,classNames:R,styles:C,unstyled:E}),[j,{setHovered:L,resetHovered:A}]=iT(),[N,V]=ss({value:a,defaultValue:c,finalValue:!1,onChange:d}),[W,X]=D.useState(!1),O=()=>{V(!1),X(!1),N&&(i==null||i())},U=()=>{V(!0),!N&&(n==null||n())},F=()=>{N?O():U()},{openDropdown:z,closeDropdown:q}=L2({open:U,close:O,closeDelay:b,openDelay:S}),B=de=>oT("[data-menu-item]","[data-menu-dropdown]",de),{resolvedClassNames:Y,resolvedStyles:ae}=rc({classNames:R,styles:C,props:t});return Fn(()=>{A()},[N]),P.jsx(J2,{value:{getStyles:I,opened:N,toggleDropdown:F,getItemIndex:B,hovered:j,setHovered:L,openedViaClick:W,setOpenedViaClick:X,closeOnItemClick:h,closeDropdown:w==="click"?O:q,openDropdown:w==="click"?U:z,closeDropdownImmediately:O,loop:v,trigger:w,unstyled:E,menuItemTabIndex:f,withInitialFocusPlaceholder:x},children:P.jsx(xn,{...k,opened:N,onChange:F,defaultOpened:c,trapFocus:m?!1:u,closeOnEscape:y,__staticSelector:"Menu",classNames:Y,styles:ae,unstyled:E,variant:_,keepMounted:m,children:r})})}We.extend=e=>e;We.withProps=OP(We);We.classes=Ii;We.displayName="@mantine/core/Menu";We.Item=ag;We.Label=cg;We.Dropdown=ig;We.Target=e1;We.Divider=og;const[iI,Li]=bn("Modal component was not found in tree");var ps={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const aI={},sd=fe((e,t)=>{const r=ie("ModalBody",aI,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Li();return P.jsx(Om,{ref:t,...h.getStyles("body",{classNames:n,style:a,styles:c,className:i}),...d})});sd.classes=ps;sd.displayName="@mantine/core/ModalBody";const cI={},od=fe((e,t)=>{const r=ie("ModalCloseButton",cI,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Li();return P.jsx(Nm,{ref:t,...h.getStyles("close",{classNames:n,style:a,styles:c,className:i}),...d})});od.classes=ps;od.displayName="@mantine/core/ModalCloseButton";const lI={},id=fe((e,t)=>{const r=ie("ModalContent",lI,e),{classNames:n,className:i,style:a,styles:c,vars:u,children:d,__hidden:h,...v}=r,y=Li(),w=y.scrollAreaComponent||I0;return P.jsx(Am,{...y.getStyles("content",{className:i,style:a,styles:c,classNames:n}),innerProps:y.getStyles("inner",{className:i,style:a,styles:c,classNames:n}),"data-full-screen":y.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...v,children:P.jsx(w,{style:{maxHeight:y.fullScreen?"100dvh":`calc(100dvh - (${te(y.yOffset)} * 2))`},children:d})})});id.classes=ps;id.displayName="@mantine/core/ModalContent";const uI={},ad=fe((e,t)=>{const r=ie("ModalHeader",uI,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Li();return P.jsx($m,{ref:t,...h.getStyles("header",{classNames:n,style:a,styles:c,className:i}),...d})});ad.classes=ps;ad.displayName="@mantine/core/ModalHeader";const dI={},cd=fe((e,t)=>{const r=ie("ModalOverlay",dI,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Li();return P.jsx(Fm,{ref:t,...h.getStyles("overlay",{classNames:n,style:a,styles:c,className:i}),...d})});cd.classes=ps;cd.displayName="@mantine/core/ModalOverlay";const fI={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},pI=(e,{radius:t,size:r,yOffset:n,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:kt(t),"--modal-size":qe(r,"modal-size"),"--modal-y-offset":te(n),"--modal-x-offset":te(i)}}),ld=fe((e,t)=>{const r=ie("ModalRoot",fI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,yOffset:h,scrollAreaComponent:v,radius:y,fullScreen:w,centered:S,xOffset:b,__staticSelector:R,...C}=r,E=Ee({name:R,classes:ps,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:pI});return P.jsx(iI,{value:{yOffset:h,scrollAreaComponent:v,getStyles:E,fullScreen:w},children:P.jsx(jm,{ref:t,...E("root"),"data-full-screen":w||void 0,"data-centered":S||void 0,unstyled:u,...C})})});ld.classes=ps;ld.displayName="@mantine/core/ModalRoot";const[hI,mI]=Eu();function t1({children:e}){const[t,r]=D.useState([]),[n,i]=D.useState(gr("modal"));return P.jsx(hI,{value:{stack:t,addModal:(a,c)=>{r(u=>[...new Set([...u,a])]),i(u=>typeof c=="number"&&typeof u=="number"?Math.max(u,c):u)},removeModal:a=>r(c=>c.filter(u=>u!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}t1.displayName="@mantine/core/ModalStack";const gI={},ud=fe((e,t)=>{const r=ie("ModalTitle",gI,e),{classNames:n,className:i,style:a,styles:c,vars:u,...d}=r,h=Li();return P.jsx(zm,{ref:t,...h.getStyles("title",{classNames:n,style:a,styles:c,className:i}),...d})});ud.classes=ps;ud.displayName="@mantine/core/ModalTitle";const vI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:gr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},vr=fe((e,t)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:c,children:u,radius:d,opened:h,stackId:v,zIndex:y,...w}=ie("Modal",vI,e),S=mI(),b=!!r||a,R=S&&v?{closeOnEscape:S.currentId===v,trapFocus:S.currentId===v,zIndex:S.getZIndex(v)}:{},C=n===!1?!1:v&&S?S.currentId===v:h;return D.useEffect(()=>{S&&v&&(h?S.addModal(v,y||gr("modal")):S.removeModal(v))},[h,v,y]),P.jsxs(ld,{ref:t,radius:d,opened:h,zIndex:S&&v?S.getZIndex(v):y,...w,...R,children:[n&&P.jsx(cd,{visible:C,transitionProps:S&&v?{duration:0}:void 0,...i}),P.jsxs(id,{radius:d,__hidden:S&&v&&h?v!==S.currentId:!1,children:[b&&P.jsxs(ad,{children:[r&&P.jsx(ud,{children:r}),a&&P.jsx(od,{...c})]}),P.jsx(sd,{children:u})]})]})});vr.classes=ps;vr.displayName="@mantine/core/Modal";vr.Root=ld;vr.Overlay=cd;vr.Content=id;vr.Body=sd;vr.Header=ad;vr.Title=ud;vr.CloseButton=od;vr.Stack=t1;var r1={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const yI={},wI=(e,{variant:t,color:r,childrenOffset:n,autoContrast:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":rr(n)}}},Ua=Xt((e,t)=>{const r=ie("NavLink",yI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,opened:h,defaultOpened:v,onChange:y,children:w,onClick:S,active:b,disabled:R,leftSection:C,rightSection:E,label:_,description:p,disableRightSectionRotation:f,noWrap:m,childrenOffset:x,onKeyDown:k,autoContrast:I,mod:j,...L}=r,A=Ee({name:"NavLink",props:r,classes:r1,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:wI}),[N,V]=ss({value:h,defaultValue:v,finalValue:!1,onChange:y}),W=!!w,X=O=>{S==null||S(O),W&&(O.preventDefault(),V(!N))};return P.jsxs(P.Fragment,{children:[P.jsxs(Ks,{...A("root"),component:"a",ref:t,onClick:X,onKeyDown:O=>{k==null||k(O),O.nativeEvent.code==="Space"&&W&&(O.preventDefault(),V(!N))},unstyled:u,mod:[{disabled:R,active:b,expanded:N},j],...L,children:[C&&P.jsx(re,{component:"span",...A("section"),mod:{position:"left"},children:C}),P.jsxs(re,{...A("body"),mod:{"no-wrap":m},children:[P.jsx(re,{component:"span",...A("label"),children:_}),P.jsx(re,{component:"span",mod:{active:b},...A("description"),children:p})]}),(W||E)&&P.jsx(re,{...A("section"),component:"span",mod:{rotate:N&&!f,position:"right"},children:W?E||P.jsx(O0,{...A("chevron")}):E})]}),W&&P.jsx(ju,{in:N,...A("collapse"),children:P.jsx("div",{...A("children"),children:w})})]})});Ua.classes=r1;Ua.displayName="@mantine/core/NavLink";var n1={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const SI={withCloseButton:!0},_I=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:kt(t),"--notification-color":r?hr(r,e):void 0}}),lg=fe((e,t)=>{const r=ie("Notification",SI,e),{className:n,color:i,radius:a,loading:c,withCloseButton:u,withBorder:d,title:h,icon:v,children:y,onClose:w,closeButtonProps:S,classNames:b,style:R,styles:C,unstyled:E,variant:_,vars:p,mod:f,loaderProps:m,...x}=r,k=Ee({name:"Notification",classes:n1,props:r,className:n,style:R,classNames:b,styles:C,unstyled:E,vars:p,varsResolver:_I});return P.jsxs(re,{...k("root"),mod:[{"data-with-icon":!!v||c,"data-with-border":d},f],ref:t,variant:_,...x,role:"alert",children:[v&&!c&&P.jsx("div",{...k("icon"),children:v}),c&&P.jsx(Pi,{size:28,color:i,...m,...k("loader")}),P.jsxs("div",{...k("body"),children:[h&&P.jsx("div",{...k("title"),children:h}),P.jsx(re,{...k("description"),mod:{"data-with-title":!!h},children:y})]}),u&&P.jsx(sc,{iconSize:16,color:"gray",...S,unstyled:E,onClick:w,...k("closeButton")})]})});lg.classes=n1;lg.displayName="@mantine/core/Notification";const bI=({reveal:e})=>P.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:P.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Lh={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const xI={visibilityToggleIcon:bI},CI=(e,{size:t})=>({root:{"--psi-icon-size":qe(t,"psi-icon-size"),"--psi-button-size":qe(t,"psi-button-size")}}),dd=fe((e,t)=>{const r=ie("PasswordInput",xI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,required:h,error:v,leftSection:y,disabled:w,id:S,variant:b,inputContainer:R,description:C,label:E,size:_,errorProps:p,descriptionProps:f,labelProps:m,withAsterisk:x,inputWrapperOrder:k,wrapperProps:I,radius:j,rightSection:L,rightSectionWidth:A,rightSectionPointerEvents:N,leftSectionWidth:V,visible:W,defaultVisible:X,onVisibilityChange:O,visibilityToggleIcon:U,visibilityToggleButtonProps:F,rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withErrorStyles:Y,mod:ae,...de}=r,ee=Ws(S),[oe,ue]=ss({value:W,defaultValue:X,finalValue:!1,onChange:O}),me=()=>ue(!oe),he=Ee({name:"PasswordInput",classes:Lh,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:CI}),{resolvedClassNames:Ce,resolvedStyles:ke}=rc({classNames:n,styles:c,props:r}),{styleProps:gt,rest:it}=Iu(de),Be=U,Qe=P.jsx(ot,{...he("visibilityToggle"),disabled:w,radius:j,"aria-hidden":!F,tabIndex:-1,...F,variant:(F==null?void 0:F.variant)??"subtle",color:"gray",unstyled:u,onTouchEnd:Ze=>{var Ge;Ze.preventDefault(),(Ge=F==null?void 0:F.onTouchEnd)==null||Ge.call(F,Ze),me()},onMouseDown:Ze=>{var Ge;Ze.preventDefault(),(Ge=F==null?void 0:F.onMouseDown)==null||Ge.call(F,Ze),me()},onKeyDown:Ze=>{var Ge;(Ge=F==null?void 0:F.onKeyDown)==null||Ge.call(F,Ze),Ze.key===" "&&(Ze.preventDefault(),me())},children:P.jsx(Be,{reveal:oe})});return P.jsx(Yt.Wrapper,{required:h,id:ee,label:E,error:v,description:C,size:_,classNames:Ce,styles:ke,__staticSelector:"PasswordInput",errorProps:p,descriptionProps:f,unstyled:u,withAsterisk:x,inputWrapperOrder:k,inputContainer:R,variant:b,labelProps:{...m,htmlFor:ee},mod:ae,...he("root"),...gt,...I,children:P.jsx(Yt,{component:"div",error:v,leftSection:y,size:_,classNames:{...Ce,input:Bt(Lh.input,Ce.input)},styles:ke,radius:j,disabled:w,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:L??Qe,variant:b,unstyled:u,leftSectionWidth:V,rightSectionPointerEvents:N||"all",rightSectionProps:z,leftSectionProps:q,leftSectionPointerEvents:B,withAria:!1,withErrorStyles:Y,children:P.jsx("input",{required:h,"data-invalid":!!v||void 0,"data-with-left-section":!!y||void 0,...he("innerInput"),disabled:w,id:ee,ref:t,...it,autoComplete:it.autoComplete||"off",type:oe?"text":"password"})})})});dd.classes={...ds.classes,...Lh};dd.displayName="@mantine/core/PasswordInput";const RI={duration:100,transition:"fade"};function EI(e,t){return{...RI,...t,...e}}function TI({offset:e,position:t,defaultOpened:r}){const[n,i]=D.useState(r),a=D.useRef(null),{x:c,y:u,elements:d,refs:h,update:v,placement:y}=Rm({placement:t,middleware:[_m({crossAxis:!0,padding:5,rootBoundary:"document"})]}),w=y.includes("right")?e:t.includes("left")?e*-1:0,S=y.includes("bottom")?e:t.includes("top")?e*-1:0,b=D.useCallback(({clientX:R,clientY:C})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:R,y:C,left:R+w,top:C+S,right:R,bottom:C}}})},[d.reference]);return D.useEffect(()=>{if(h.floating.current){const R=a.current;R.addEventListener("mousemove",b);const C=es(h.floating.current);return C.forEach(E=>{E.addEventListener("scroll",v)}),()=>{R.removeEventListener("mousemove",b),C.forEach(E=>{E.removeEventListener("scroll",v)})}}},[d.reference,h.floating.current,v,b,n]),{handleMouseMove:b,x:c,y:u,opened:n,setOpened:i,boundaryRef:a,floating:h.setFloating}}var fd={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const PI={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:gr("popover")},kI=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?hr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ug=fe((e,t)=>{const r=ie("TooltipFloating",PI,e),{children:n,refProp:i,withinPortal:a,style:c,className:u,classNames:d,styles:h,unstyled:v,radius:y,color:w,label:S,offset:b,position:R,multiline:C,zIndex:E,disabled:_,defaultOpened:p,variant:f,vars:m,portalProps:x,...k}=r,I=sr(),j=Ee({name:"TooltipFloating",props:r,classes:fd,className:u,style:c,classNames:d,styles:h,unstyled:v,rootSelector:"tooltip",vars:m,varsResolver:kI}),{handleMouseMove:L,x:A,y:N,opened:V,boundaryRef:W,floating:X,setOpened:O}=TI({offset:b,position:R,defaultOpened:p});if(!Hs(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const U=Ut(W,ku(n),t),F=n.props,z=B=>{var Y;(Y=F.onMouseEnter)==null||Y.call(F,B),L(B),O(!0)},q=B=>{var Y;(Y=F.onMouseLeave)==null||Y.call(F,B),O(!1)};return P.jsxs(P.Fragment,{children:[P.jsx(Ro,{...x,withinPortal:a,children:P.jsx(re,{...k,...j("tooltip",{style:{...fm(c,I),zIndex:E,display:!_&&V?"block":"none",top:(N&&Math.round(N))??"",left:(A&&Math.round(A))??""}}),variant:f,ref:X,mod:{multiline:C},children:S})}),D.cloneElement(n,{...F,[i]:U,onMouseEnter:z,onMouseLeave:q})]})});ug.classes=fd;ug.displayName="@mantine/core/TooltipFloating";const s1=D.createContext(!1),DI=s1.Provider,MI=()=>D.useContext(s1),II={openDelay:0,closeDelay:0};function dg(e){const{openDelay:t,closeDelay:r,children:n}=ie("TooltipGroup",II,e);return P.jsx(DI,{value:!0,children:P.jsx(Xk,{delay:{open:t,close:r},children:n})})}dg.displayName="@mantine/core/TooltipGroup";dg.extend=e=>e;function LI(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function jI(e){const t=LI(e.middlewares),r=[Qb(e.offset)];return t.shift&&r.push(_m(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?fu():fu(t.flip)),r.push(Zb({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Ba():Ba(t.inline)):e.inline&&r.push(Ba()),r}function OI(e){var x,k,I;const[t,r]=D.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,a=MI(),c=Ws(),u=D.useCallback(j=>{r(j),j&&_(c)},[c]),{x:d,y:h,context:v,refs:y,update:w,placement:S,middlewareData:{arrow:{x:b,y:R}={}}}=Rm({strategy:e.strategy,placement:e.position,open:i,onOpenChange:u,middleware:jI(e)}),{delay:C,currentId:E,setCurrentId:_}=Qk(v,{id:c}),{getReferenceProps:p,getFloatingProps:f}=sD([Kk(v,{enabled:(x=e.events)==null?void 0:x.hover,delay:a?C:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((k=e.events)!=null&&k.touch)}),nD(v,{enabled:(I=e.events)==null?void 0:I.focus,visibleOnly:!0}),iD(v,{role:"tooltip"}),tD(v,{enabled:typeof e.opened>"u"})]);C0({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:y,update:w}}),Fn(()=>{var j;(j=e.onPositionChange)==null||j.call(e,S)},[S]);const m=i&&E&&E!==c;return{x:d,y:h,arrowX:b,arrowY:R,reference:y.setReference,floating:y.setFloating,getFloatingProps:f,getReferenceProps:p,isGroupPhase:m,opened:i,placement:S}}const _S={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:gr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},NI=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?hr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ts=fe((e,t)=>{const r=ie("Tooltip",_S,e),{children:n,position:i,refProp:a,label:c,openDelay:u,closeDelay:d,onPositionChange:h,opened:v,defaultOpened:y,withinPortal:w,radius:S,color:b,classNames:R,styles:C,unstyled:E,style:_,className:p,withArrow:f,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:I,offset:j,transitionProps:L,multiline:A,events:N,zIndex:V,disabled:W,positionDependencies:X,onClick:O,onMouseEnter:U,onMouseLeave:F,inline:z,variant:q,keepMounted:B,vars:Y,portalProps:ae,mod:de,floatingStrategy:ee,middlewares:oe,...ue}=ie("Tooltip",_S,r),{dir:me}=Gs(),he=D.useRef(null),Ce=OI({position:v0(me,i),closeDelay:d,openDelay:u,onPositionChange:h,opened:v,defaultOpened:y,events:N,arrowRef:he,arrowOffset:x,offset:typeof j=="number"?j+(f?m/2:0):j,positionDependencies:[...X,n],inline:z,strategy:ee,middlewares:oe}),ke=Ee({name:"Tooltip",props:r,classes:fd,className:p,style:_,classNames:R,styles:C,unstyled:E,rootSelector:"tooltip",vars:Y,varsResolver:NI});if(!Hs(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const gt=Ut(Ce.reference,ku(n),t),it=EI(L,{duration:100,transition:"fade"}),Be=n.props;return P.jsxs(P.Fragment,{children:[P.jsx(Ro,{...ae,withinPortal:w,children:P.jsx(ls,{...it,keepMounted:B,mounted:!W&&!!Ce.opened,duration:Ce.isGroupPhase?10:it.duration,children:Qe=>P.jsxs(re,{...ue,"data-fixed":ee==="fixed"||void 0,variant:q,mod:[{multiline:A},de],...Ce.getFloatingProps({ref:Ce.floating,className:ke("tooltip").className,style:{...ke("tooltip").style,...Qe,zIndex:V,top:Ce.y??0,left:Ce.x??0}}),children:[c,P.jsx(Dm,{ref:he,arrowX:Ce.arrowX,arrowY:Ce.arrowY,visible:f,position:Ce.placement,arrowSize:m,arrowOffset:x,arrowRadius:k,arrowPosition:I,...ke("arrow")})]})})}),D.cloneElement(n,Ce.getReferenceProps({onClick:O,onMouseEnter:U,onMouseLeave:F,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:Bt(p,Be.className),...Be,[a]:gt}))]})});ts.classes=fd;ts.displayName="@mantine/core/Tooltip";ts.Floating=ug;ts.Group=dg;const AI={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Va=fe((e,t)=>{const r=ie("Select",AI,e),{classNames:n,styles:i,unstyled:a,vars:c,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:h,onDropdownOpen:v,onFocus:y,onBlur:w,onClick:S,onChange:b,data:R,value:C,defaultValue:E,selectFirstOptionOnChange:_,onOptionSubmit:p,comboboxProps:f,readOnly:m,disabled:x,filter:k,limit:I,withScrollArea:j,maxDropdownHeight:L,size:A,searchable:N,rightSection:V,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:O,name:U,form:F,searchValue:z,defaultSearchValue:q,onSearchChange:B,allowDeselect:Y,error:ae,rightSectionPointerEvents:de,id:ee,clearable:oe,clearButtonProps:ue,hiddenInputProps:me,renderOption:he,onClear:Ce,autoComplete:ke,scrollAreaProps:gt,__defaultRightSection:it,__clearSection:Be,__clearable:Qe,chevronColor:Ze,...Ge}=r,Et=D.useMemo(()=>_M(R),[R]),pt=D.useMemo(()=>$0(Et),[Et]),Ve=Ws(ee),[Ne,at,Dt]=ss({value:C,defaultValue:E,finalValue:null,onChange:b}),ct=typeof Ne=="string"?pt[Ne]:void 0,jt=CT(ct),[Te,Pe]=ss({value:z,defaultValue:q,finalValue:ct?ct.label:"",onChange:B}),ye=H0({opened:u,defaultOpened:d,onDropdownOpen:()=>{v==null||v(),ye.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h==null||h(),ye.resetSelectedOption()}}),{resolvedClassNames:Le,resolvedStyles:vt}=rc({props:r,styles:i,classNames:n});D.useEffect(()=>{_&&ye.selectFirstOption()},[_,Ne]),D.useEffect(()=>{C===null&&Pe(""),typeof C=="string"&&ct&&((jt==null?void 0:jt.value)!==ct.value||(jt==null?void 0:jt.label)!==ct.label)&&Pe(ct.label)},[C,ct]);const Fe=P.jsx(Ke.ClearButton,{...ue,onClear:()=>{at(null,null),Pe(""),Ce==null||Ce()}}),je=oe&&!!Ne&&!x&&!m;return P.jsxs(P.Fragment,{children:[P.jsxs(Ke,{store:ye,__staticSelector:"Select",classNames:Le,styles:vt,unstyled:a,readOnly:m,onOptionSubmit:Se=>{p==null||p(Se);const lt=Y&&pt[Se].value===Ne?null:pt[Se],Vn=lt?lt.value:null;Vn!==Ne&&at(Vn,lt),!Dt&&Pe(typeof Vn=="string"&&(lt==null?void 0:lt.label)||""),ye.closeDropdown()},size:A,...f,children:[P.jsx(Ke.Target,{targetType:N?"input":"button",autoComplete:ke,children:P.jsx(ds,{id:Ve,ref:t,__defaultRightSection:P.jsx(Ke.Chevron,{size:A,error:ae,unstyled:a,color:Ze}),__clearSection:Fe,__clearable:je,rightSection:V,rightSectionPointerEvents:de||(je?"all":"none"),...Ge,size:A,__staticSelector:"Select",disabled:x,readOnly:m||!N,value:Te,onChange:Se=>{Pe(Se.currentTarget.value),ye.openDropdown(),_&&ye.selectFirstOption()},onFocus:Se=>{N&&ye.openDropdown(),y==null||y(Se)},onBlur:Se=>{var lt;N&&ye.closeDropdown(),Pe(Ne!=null&&((lt=pt[Ne])==null?void 0:lt.label)||""),w==null||w(Se)},onClick:Se=>{N?ye.openDropdown():ye.toggleDropdown(),S==null||S(Se)},classNames:Le,styles:vt,unstyled:a,pointer:!N,error:ae})}),P.jsx(WM,{data:Et,hidden:m||x,filter:k,search:Te,limit:I,hiddenWhenEmpty:!O,withScrollArea:j,maxDropdownHeight:L,filterOptions:N&&(ct==null?void 0:ct.label)!==Te,value:Ne,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:O,unstyled:a,labelId:Ge.label?`${Ve}-label`:void 0,"aria-label":Ge.label?void 0:Ge["aria-label"],renderOption:he,scrollAreaProps:gt})]}),P.jsx(Ke.HiddenInput,{value:Ne,name:U,form:F,disabled:x,...me})]})});Va.classes={...ds.classes,...Ke.classes};Va.displayName="@mantine/core/Select";function $I({spacing:e,verticalSpacing:t,cols:r,selector:n}){var v;const i=sr(),a=t===void 0?e:t,c=Ci({"--sg-spacing-x":rr(gi(e)),"--sg-spacing-y":rr(gi(a)),"--sg-cols":(v=gi(r))==null?void 0:v.toString()}),u=fr(i.breakpoints).reduce((y,w)=>(y[w]||(y[w]={}),typeof e=="object"&&e[w]!==void 0&&(y[w]["--sg-spacing-x"]=rr(e[w])),typeof a=="object"&&a[w]!==void 0&&(y[w]["--sg-spacing-y"]=rr(a[w])),typeof r=="object"&&r[w]!==void 0&&(y[w]["--sg-cols"]=r[w]),y),{}),h=sT(fr(u),i.breakpoints).filter(y=>fr(u[y.value]).length>0).map(y=>({query:`(min-width: ${i.breakpoints[y.value]})`,styles:u[y.value]}));return P.jsx(Mu,{styles:c,media:h,selector:n})}function Gp(e){return typeof e=="object"&&e!==null?fr(e):[]}function FI(e){return e.sort((t,r)=>qa(t)-qa(r))}function zI({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...Gp(e),...Gp(t),...Gp(r)]));return FI(n)}function BI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var h;const i=t===void 0?e:t,a=Ci({"--sg-spacing-x":rr(gi(e)),"--sg-spacing-y":rr(gi(i)),"--sg-cols":(h=gi(r))==null?void 0:h.toString()}),c=zI({spacing:e,verticalSpacing:t,cols:r}),u=c.reduce((v,y)=>(v[y]||(v[y]={}),typeof e=="object"&&e[y]!==void 0&&(v[y]["--sg-spacing-x"]=rr(e[y])),typeof i=="object"&&i[y]!==void 0&&(v[y]["--sg-spacing-y"]=rr(i[y])),typeof r=="object"&&r[y]!==void 0&&(v[y]["--sg-cols"]=r[y]),v),{}),d=c.map(v=>({query:`simple-grid (min-width: ${v})`,styles:u[v]}));return P.jsx(Mu,{styles:a,container:d,selector:n})}var o1={container:"m_925c2d2c",root:"m_2415a157"};const UI={cols:1,spacing:"md",type:"media"},fg=fe((e,t)=>{const r=ie("SimpleGrid",UI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,cols:h,verticalSpacing:v,spacing:y,type:w,...S}=r,b=Ee({name:"SimpleGrid",classes:o1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d}),R=dm();return w==="container"?P.jsxs(P.Fragment,{children:[P.jsx(BI,{...r,selector:`.${R}`}),P.jsx("div",{...b("container"),children:P.jsx(re,{ref:t,...b("root",{className:R}),...S})})]}):P.jsxs(P.Fragment,{children:[P.jsx($I,{...r,selector:`.${R}`}),P.jsx(re,{ref:t,...b("root",{className:R}),...S})]})});fg.classes=o1;fg.displayName="@mantine/core/SimpleGrid";var i1={root:"m_18320242","skeleton-fade":"m_299c329c"};const VI={visible:!0,animate:!0},HI=(e,{width:t,height:r,radius:n,circle:i})=>({root:{"--skeleton-height":te(r),"--skeleton-width":te(i?r:t),"--skeleton-radius":i?"1000px":n===void 0?void 0:kt(n)}}),_o=fe((e,t)=>{const r=ie("Skeleton",VI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,width:h,height:v,circle:y,visible:w,radius:S,animate:b,mod:R,...C}=r,E=Ee({name:"Skeleton",classes:i1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:HI});return P.jsx(re,{ref:t,...E("root"),mod:[{visible:w,animate:b},R],...C})});_o.classes=i1;_o.displayName="@mantine/core/Skeleton";const[WI,pd]=bn("SliderProvider was not found in tree"),a1=D.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:i,radius:a,...c},u)=>{const{getStyles:d}=pd();return P.jsx(re,{tabIndex:-1,variant:r,size:e,ref:u,...d("root"),...c})});a1.displayName="@mantine/core/SliderRoot";const c1=D.forwardRef(({max:e,min:t,value:r,position:n,label:i,dragging:a,onMouseDown:c,onKeyDownCapture:u,labelTransitionProps:d,labelAlwaysOn:h,thumbLabel:v,onFocus:y,onBlur:w,showLabelOnHover:S,isHovered:b,children:R=null,disabled:C},E)=>{const{getStyles:_}=pd(),[p,f]=D.useState(!1),m=h||a||p||S&&b;return P.jsxs(re,{tabIndex:0,role:"slider","aria-label":v,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:E,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:a,disabled:C},onFocus:x=>{f(!0),typeof y=="function"&&y(x)},onBlur:x=>{f(!1),typeof w=="function"&&w(x)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:u,onClick:x=>x.stopPropagation(),children:[R,P.jsx(ls,{mounted:i!=null&&!!m,transition:"fade",duration:0,...d,children:x=>P.jsx("div",{..._("label",{style:x}),children:i})})]})});c1.displayName="@mantine/core/SliderThumb";function l1({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function qI({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function u1({marks:e,min:t,max:r,disabled:n,value:i,offset:a,inverted:c}){const{getStyles:u}=pd();if(!e)return null;const d=e.map((h,v)=>D.createElement(re,{...u("markWrapper"),__vars:{"--mark-offset":`${l1({value:h.value,min:t,max:r})}%`},key:v},P.jsx(re,{...u("mark"),mod:{filled:qI({mark:h,value:i,offset:a,inverted:c}),disabled:n}}),h.label&&P.jsx("div",{...u("markLabel"),children:h.label})));return P.jsx("div",{children:d})}u1.displayName="@mantine/core/SliderMarks";function d1({filled:e,children:t,offset:r,disabled:n,marksOffset:i,inverted:a,containerProps:c,...u}){const{getStyles:d}=pd();return P.jsx(re,{...d("trackContainer"),mod:{disabled:n},...c,children:P.jsxs(re,{...d("track"),mod:{inverted:a,disabled:n},children:[P.jsx(re,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...d("bar")}),t,P.jsx(u1,{...u,offset:i,disabled:n,inverted:a})]})})}d1.displayName="@mantine/core/SliderTrack";function GI({value:e,containerWidth:t,min:r,max:n,step:i,precision:a}){const u=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),d=(u!==0?Math.round(u/i)*i:0)+r,h=Math.max(d,r);return a!==void 0?Number(h.toFixed(a)):h}function El(e,t){return parseFloat(e.toFixed(t))}function KI(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Kp(e,t){const n=[...t].sort((i,a)=>i.value-a.value).find(i=>i.value>e);return n?n.value:e}function Yp(e,t){const n=[...t].sort((i,a)=>a.value-i.value).find(i=>i.value<e);return n?n.value:e}function bS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function xS(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var f1={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const YI={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},XI=(e,{size:t,color:r,thumbSize:n,radius:i})=>({root:{"--slider-size":qe(t,"slider-size"),"--slider-color":r?hr(r,e):void 0,"--slider-radius":i===void 0?void 0:kt(i),"--slider-thumb-size":n!==void 0?te(n):"calc(var(--slider-size) * 2)"}}),pg=fe((e,t)=>{const r=ie("Slider",YI,e),{classNames:n,styles:i,value:a,onChange:c,onChangeEnd:u,size:d,min:h,max:v,step:y,precision:w,defaultValue:S,name:b,marks:R,label:C,labelTransitionProps:E,labelAlwaysOn:_,thumbLabel:p,showLabelOnHover:f,thumbChildren:m,disabled:x,unstyled:k,scale:I,inverted:j,className:L,style:A,vars:N,hiddenInputProps:V,restrictToMarks:W,thumbProps:X,...O}=r,U=Ee({name:"Slider",props:r,classes:f1,classNames:n,className:L,styles:i,style:A,vars:N,varsResolver:XI,unstyled:k}),{dir:F}=Gs(),[z,q]=D.useState(!1),[B,Y]=ss({value:typeof a=="number"?za(a,h,v):a,defaultValue:typeof S=="number"?za(S,h,v):S,finalValue:za(0,h,v),onChange:c}),ae=D.useRef(B),de=D.useRef(null),ee=D.useRef(null),oe=l1({value:B,min:h,max:v}),ue=I(B),me=typeof C=="function"?C(ue):C,he=w??KI(y),Ce=D.useCallback(({x:Be})=>{if(!x){const Qe=GI({value:Be,min:h,max:v,step:y,precision:he});Y(W&&(R!=null&&R.length)?Nw(Qe,R.map(Ze=>Ze.value)):Qe),ae.current=Qe}},[x,h,v,y,he,Y,R,W]),{ref:ke,active:gt}=xT(Ce,{onScrubEnd:()=>!x&&(u==null?void 0:u(W&&(R!=null&&R.length)?Nw(ae.current,R.map(Be=>Be.value)):ae.current))},F),it=Be=>{var Qe,Ze,Ge,Et,pt,Ve;if(!x)switch(Be.key){case"ArrowUp":{if(Be.preventDefault(),(Qe=ee.current)==null||Qe.focus(),W&&R){const at=Kp(B,R);Y(at),u==null||u(at);break}const Ne=El(Math.min(Math.max(B+y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowRight":{if(Be.preventDefault(),(Ze=ee.current)==null||Ze.focus(),W&&R){const at=F==="rtl"?Yp(B,R):Kp(B,R);Y(at),u==null||u(at);break}const Ne=El(Math.min(Math.max(F==="rtl"?B-y:B+y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowDown":{if(Be.preventDefault(),(Ge=ee.current)==null||Ge.focus(),W&&R){const at=Yp(B,R);Y(at),u==null||u(at);break}const Ne=El(Math.min(Math.max(B-y,h),v),he);Y(Ne),u==null||u(Ne);break}case"ArrowLeft":{if(Be.preventDefault(),(Et=ee.current)==null||Et.focus(),W&&R){const at=F==="rtl"?Kp(B,R):Yp(B,R);Y(at),u==null||u(at);break}const Ne=El(Math.min(Math.max(F==="rtl"?B+y:B-y,h),v),he);Y(Ne),u==null||u(Ne);break}case"Home":{if(Be.preventDefault(),(pt=ee.current)==null||pt.focus(),W&&R){Y(bS(R)),u==null||u(bS(R));break}Y(h),u==null||u(h);break}case"End":{if(Be.preventDefault(),(Ve=ee.current)==null||Ve.focus(),W&&R){Y(xS(R)),u==null||u(xS(R));break}Y(v),u==null||u(v);break}}};return P.jsx(WI,{value:{getStyles:U},children:P.jsxs(a1,{...O,ref:Ut(t,de),onKeyDownCapture:it,onMouseDownCapture:()=>{var Be;return(Be=de.current)==null?void 0:Be.focus()},size:d,disabled:x,children:[P.jsx(d1,{inverted:j,offset:0,filled:oe,marks:R,min:h,max:v,value:ue,disabled:x,containerProps:{ref:ke,onMouseEnter:f?()=>q(!0):void 0,onMouseLeave:f?()=>q(!1):void 0},children:P.jsx(c1,{max:v,min:h,value:ue,position:oe,dragging:gt,label:me,ref:ee,labelTransitionProps:E,labelAlwaysOn:_,thumbLabel:p,showLabelOnHover:f,isHovered:z,disabled:x,...X,children:m})}),P.jsx("input",{type:"hidden",name:b,value:ue,...V})]})})});pg.classes=f1;pg.displayName="@mantine/core/Slider";var p1={root:"m_6d731127"};const QI={gap:"md",align:"stretch",justify:"flex-start"},ZI=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":rr(t),"--stack-align":r,"--stack-justify":n}}),rt=fe((e,t)=>{const r=ie("Stack",QI,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,align:h,justify:v,gap:y,variant:w,...S}=r,b=Ee({name:"Stack",props:r,classes:p1,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:ZI});return P.jsx(re,{ref:t,...b("root"),variant:w,...S})});rt.classes=p1;rt.displayName="@mantine/core/Stack";const[JI,hg]=bn("Tabs component was not found in the tree");var cc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const eL={},mg=fe((e,t)=>{const r=ie("TabsList",eL,e),{children:n,className:i,grow:a,justify:c,classNames:u,styles:d,style:h,mod:v,...y}=r,w=hg();return P.jsx(re,{...y,...w.getStyles("list",{className:i,style:h,classNames:u,styles:d,props:r,variant:w.variant}),ref:t,role:"tablist",variant:w.variant,mod:[{grow:a,orientation:w.orientation,placement:w.orientation==="vertical"&&w.placement,inverted:w.inverted},v],"aria-orientation":w.orientation,__vars:{"--tabs-justify":c},children:n})});mg.classes=cc;mg.displayName="@mantine/core/TabsList";const tL={},gg=fe((e,t)=>{const r=ie("TabsPanel",tL,e),{children:n,className:i,value:a,classNames:c,styles:u,style:d,mod:h,keepMounted:v,...y}=r,w=hg(),S=w.value===a,b=w.keepMounted||v||S?n:null;return P.jsx(re,{...y,...w.getStyles("panel",{className:i,classNames:c,styles:u,style:[d,S?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:w.orientation},h],role:"tabpanel",id:w.getPanelId(a),"aria-labelledby":w.getTabId(a),children:b})});gg.classes=cc;gg.displayName="@mantine/core/TabsPanel";const rL={},vg=fe((e,t)=>{const r=ie("TabsTab",rL,e),{className:n,children:i,rightSection:a,leftSection:c,value:u,onClick:d,onKeyDown:h,disabled:v,color:y,style:w,classNames:S,styles:b,vars:R,mod:C,tabIndex:E,..._}=r,p=sr(),{dir:f}=Gs(),m=hg(),x=u===m.value,k=j=>{m.onChange(m.allowTabDeactivation&&u===m.value?null:u),d==null||d(j)},I={classNames:S,styles:b,props:r};return P.jsxs(Ks,{..._,...m.getStyles("tab",{className:n,style:w,variant:m.variant,...I}),disabled:v,unstyled:m.unstyled,variant:m.variant,mod:[{active:x,disabled:v,orientation:m.orientation,inverted:m.inverted,placement:m.orientation==="vertical"&&m.placement},C],ref:t,role:"tab",id:m.getTabId(u),"aria-selected":x,tabIndex:E!==void 0?E:x||m.value===null?0:-1,"aria-controls":m.getPanelId(u),onClick:k,__vars:{"--tabs-color":y?hr(y,p):void 0},onKeyDown:wb({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:m.activateTabWithKeyboard,loop:m.loop,orientation:m.orientation||"horizontal",dir:f,onKeyDown:h}),children:[c&&P.jsx("span",{...m.getStyles("tabSection",I),"data-position":"left",children:c}),i&&P.jsx("span",{...m.getStyles("tabLabel",I),children:i}),a&&P.jsx("span",{...m.getStyles("tabSection",I),"data-position":"right",children:a})]})});vg.classes=cc;vg.displayName="@mantine/core/TabsTab";const CS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",nL={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},sL=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":kt(t),"--tabs-color":hr(r,e),"--tabs-text-color":Lb(n,e)?lm({color:r,theme:e,autoContrast:n}):void 0}}),hn=fe((e,t)=>{const r=ie("Tabs",nL,e),{defaultValue:n,value:i,onChange:a,orientation:c,children:u,loop:d,id:h,activateTabWithKeyboard:v,allowTabDeactivation:y,variant:w,color:S,radius:b,inverted:R,placement:C,keepMounted:E,classNames:_,styles:p,unstyled:f,className:m,style:x,vars:k,autoContrast:I,mod:j,...L}=r,A=Ws(h),[N,V]=ss({value:i,defaultValue:n,finalValue:null,onChange:a}),W=Ee({name:"Tabs",props:r,classes:cc,className:m,style:x,classNames:_,styles:p,unstyled:f,vars:k,varsResolver:sL});return P.jsx(JI,{value:{placement:C,value:N,orientation:c,id:A,loop:d,activateTabWithKeyboard:v,getTabId:jw(`${A}-tab`,CS),getPanelId:jw(`${A}-panel`,CS),onChange:V,allowTabDeactivation:y,variant:w,color:S,radius:b,inverted:R,keepMounted:E,unstyled:f,getStyles:W},children:P.jsx(re,{ref:t,id:A,variant:w,mod:[{orientation:c,inverted:c==="horizontal"&&R,placement:c==="vertical"&&C},j],...W("root"),...L,children:u})})});hn.classes=cc;hn.displayName="@mantine/core/Tabs";hn.Tab=vg;hn.Panel=gg;hn.List=mg;const oL={},_n=fe((e,t)=>{const r=ie("TextInput",oL,e);return P.jsx(ds,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});_n.classes=ds.classes;_n.displayName="@mantine/core/TextInput";const iL=["h1","h2","h3","h4","h5","h6"],aL=["xs","sm","md","lg","xl"];function cL(e,t){const r=t!==void 0?t:`h${e}`;return iL.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:aL.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:te(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var h1={root:"m_8a5d1357"};const lL={order:1},uL=(e,{order:t,size:r,lineClamp:n,textWrap:i})=>{const a=cL(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":i}}},hd=fe((e,t)=>{const r=ie("Title",lL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,order:d,vars:h,size:v,variant:y,lineClamp:w,textWrap:S,mod:b,...R}=r,C=Ee({name:"Title",props:r,classes:h1,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:h,varsResolver:uL});return[1,2,3,4,5,6].includes(d)?P.jsx(re,{...C("root"),component:`h${d}`,variant:y,ref:t,mod:[{order:d,"data-line-clamp":typeof w=="number"},b],size:v,...R}):null});hd.classes=h1;hd.displayName="@mantine/core/Title";function dL(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),n.forEach(a=>a(t))},initialize(i){r||(t=i,r=!0)},subscribe(i){return n.add(i),()=>n.delete(i)}}}function fL(e){return D.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function pL(e,t,r){const n=[],i=[],a={};for(const c of e){const u=c.position||t;a[u]=a[u]||0,a[u]+=1,a[u]<=r?i.push(c):n.push(c)}return{notifications:i,queue:n}}const hL=()=>dL({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Eo=hL(),mL=(e=Eo)=>fL(e);function ji(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),i=pL(n,r.defaultPosition,r.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function gL(e,t=Eo){const r=e.id||Sb();return ji(t,n=>e.id&&n.some(i=>i.id===e.id)?n:[...n,{...e,id:r}]),r}function m1(e,t=Eo){return ji(t,r=>r.filter(n=>{var i;return n.id===e?((i=n.onClose)==null||i.call(n,n),!1):!0})),e}function vL(e,t=Eo){return ji(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function yL(e=Eo){ji(e,()=>[])}function wL(e=Eo){ji(e,t=>t.slice(0,e.getState().limit))}const Vs={show:gL,hide:m1,update:vL,clean:yL,cleanQueue:wL,updateState:ji};function jh(e,t){return jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jh(e,t)}function g1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jh(e,t)}const RS={disabled:!1},mu=zt.createContext(null);var SL=function(t){return t.scrollTop},Oa="unmounted",ho="exited",mo="entering",pi="entered",Oh="exiting",hs=function(e){g1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=i,u=c&&!c.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?u?(d=ho,a.appearStatus=mo):d=pi:n.unmountOnExit||n.mountOnEnter?d=Oa:d=ho,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var c=i.in;return c&&a.status===Oa?{status:ho}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==mo&&c!==pi&&(a=mo):(c===mo||c===pi)&&(a=Oh)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,c,u;return a=c=u=i,i!=null&&typeof i!="number"&&(a=i.exit,c=i.enter,u=i.appear!==void 0?i.appear:c),{exit:a,enter:c,appear:u}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===mo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this);c&&SL(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ho&&this.setState({status:Oa})},r.performEnter=function(i){var a=this,c=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[ja.findDOMNode(this),u],h=d[0],v=d[1],y=this.getTimeouts(),w=u?y.appear:y.enter;if(!i&&!c||RS.disabled){this.safeSetState({status:pi},function(){a.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:mo},function(){a.props.onEntering(h,v),a.onTransitionEnd(w,function(){a.safeSetState({status:pi},function(){a.props.onEntered(h,v)})})})},r.performExit=function(){var i=this,a=this.props.exit,c=this.getTimeouts(),u=this.props.nodeRef?void 0:ja.findDOMNode(this);if(!a||RS.disabled){this.safeSetState({status:ho},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Oh},function(){i.props.onExiting(u),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:ho},function(){i.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,c=!0;return this.nextCallback=function(u){c&&(c=!1,a.nextCallback=null,i(u))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:ja.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!c||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=d[0],v=d[1];this.props.addEndListener(h,v)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Oa)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=sg(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return zt.createElement(mu.Provider,{value:null},typeof c=="function"?c(i,u):zt.cloneElement(zt.Children.only(c),u))},t}(zt.Component);hs.contextType=mu;hs.propTypes={};function ui(){}hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ui,onEntering:ui,onEntered:ui,onExit:ui,onExiting:ui,onExited:ui};hs.UNMOUNTED=Oa;hs.EXITED=ho;hs.ENTERING=mo;hs.ENTERED=pi;hs.EXITING=Oh;function _L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yg(e,t){var r=function(a){return t&&D.isValidElement(a)?t(a):a},n=Object.create(null);return e&&D.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function bL(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var n=Object.create(null),i=[];for(var a in e)a in t?i.length&&(n[a]=i,i=[]):i.push(a);var c,u={};for(var d in t){if(n[d])for(c=0;c<n[d].length;c++){var h=n[d][c];u[n[d][c]]=r(h)}u[d]=r(d)}for(c=0;c<i.length;c++)u[i[c]]=r(i[c]);return u}function wo(e,t,r){return r[t]!=null?r[t]:e.props[t]}function xL(e,t){return yg(e.children,function(r){return D.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:wo(r,"appear",e),enter:wo(r,"enter",e),exit:wo(r,"exit",e)})})}function CL(e,t,r){var n=yg(e.children),i=bL(t,n);return Object.keys(i).forEach(function(a){var c=i[a];if(D.isValidElement(c)){var u=a in t,d=a in n,h=t[a],v=D.isValidElement(h)&&!h.props.in;d&&(!u||v)?i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:wo(c,"exit",e),enter:wo(c,"enter",e)}):!d&&u&&!v?i[a]=D.cloneElement(c,{in:!1}):d&&u&&D.isValidElement(h)&&(i[a]=D.cloneElement(c,{onExited:r.bind(null,c),in:h.props.in,exit:wo(c,"exit",e),enter:wo(c,"enter",e)}))}}),i}var RL=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},EL={component:"div",childFactory:function(t){return t}},Os=function(e){g1(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var c=a.handleExited.bind(_L(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,u=a.handleExited,d=a.firstRender;return{children:d?xL(i,u):CL(i,c,u),firstRender:!1}},r.handleExited=function(i,a){var c=yg(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(u){var d=hu({},u.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,a=i.component,c=i.childFactory,u=sg(i,["component","childFactory"]),d=this.state.contextValue,h=RL(this.state.children).map(c);return delete u.appear,delete u.enter,delete u.exit,a===null?zt.createElement(mu.Provider,{value:d},h):zt.createElement(mu.Provider,{value:d},zt.createElement(a,u,h))},t}(zt.Component);Os.propTypes={};Os.defaultProps=EL;const v1=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function TL(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),v1.reduce((r,n)=>(r[n]=[],r),{}))}const ES={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},PL={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function kL({state:e,maxHeight:t,position:r,transitionDuration:n}){const[i,a]=r.split("-"),c=a==="center"?`${i}-center`:a,u={opacity:0,maxHeight:t,transform:ES[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:PL[c]},h={opacity:0,maxHeight:0,transform:ES[c]};return{...u,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function DL(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const y1=D.forwardRef(({data:e,onHide:t,autoClose:r,...n},i)=>{const{autoClose:a,message:c,...u}=e,d=DL(r,e.autoClose),h=D.useRef(-1),v=()=>window.clearTimeout(h.current),y=()=>{t(e.id),v()},w=()=>{typeof d=="number"&&(h.current=window.setTimeout(y,d))};return D.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),D.useEffect(()=>(w(),v),[d]),P.jsx(lg,{...n,...u,onClose:y,ref:i,onMouseEnter:v,onMouseLeave:w,children:c})});y1.displayName="@mantine/notifications/NotificationContainer";var w1={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const ML=hs,IL={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:gr("overlay"),store:Eo,withinPortal:!0},LL=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":te(r)}}),ms=fe((e,t)=>{const r=ie("Notifications",IL,e),{classNames:n,className:i,style:a,styles:c,unstyled:u,vars:d,position:h,autoClose:v,transitionDuration:y,containerWidth:w,notificationMaxHeight:S,limit:b,zIndex:R,store:C,portalProps:E,withinPortal:_,...p}=r,f=sr(),m=mL(C),x=wT(),k=Pu(),I=D.useRef({}),j=D.useRef(0),A=(f.respectReducedMotion?k:!1)?1:y,N=Ee({name:"Notifications",classes:w1,props:r,className:i,style:a,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:LL});D.useEffect(()=>{C==null||C.updateState(X=>({...X,limit:b||5,defaultPosition:h}))},[b,h]),Fn(()=>{m.notifications.length>j.current&&setTimeout(()=>x(),0),j.current=m.notifications.length},[m.notifications]);const V=TL(m.notifications,h),W=v1.reduce((X,O)=>(X[O]=V[O].map(({style:U,...F})=>P.jsx(ML,{timeout:A,onEnter:()=>I.current[F.id].offsetHeight,nodeRef:{current:I.current[F.id]},children:z=>P.jsx(y1,{ref:q=>{I.current[F.id]=q},data:F,onHide:q=>m1(q,C),autoClose:v,...N("notification",{style:{...kL({state:z,position:O,transitionDuration:A,maxHeight:S}),...U}})})},F.id)),X),{});return P.jsxs(Ro,{withinPortal:_,...E,children:[P.jsx(re,{...N("root"),"data-position":"top-center",ref:t,...p,children:P.jsx(Os,{children:W["top-center"]})}),P.jsx(re,{...N("root"),"data-position":"top-left",...p,children:P.jsx(Os,{children:W["top-left"]})}),P.jsx(re,{...N("root",{className:iu.classNames.fullWidth}),"data-position":"top-right",...p,children:P.jsx(Os,{children:W["top-right"]})}),P.jsx(re,{...N("root",{className:iu.classNames.fullWidth}),"data-position":"bottom-right",...p,children:P.jsx(Os,{children:W["bottom-right"]})}),P.jsx(re,{...N("root"),"data-position":"bottom-left",...p,children:P.jsx(Os,{children:W["bottom-left"]})}),P.jsx(re,{...N("root"),"data-position":"bottom-center",...p,children:P.jsx(Os,{children:W["bottom-center"]})})]})});ms.classes=w1;ms.displayName="@mantine/notifications/Notifications";ms.show=Vs.show;ms.hide=Vs.hide;ms.update=Vs.update;ms.clean=Vs.clean;ms.cleanQueue=Vs.cleanQueue;ms.updateState=Vs.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}var As;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(As||(As={}));const TS="popstate";function jL(e){e===void 0&&(e={});function t(i,a){let{pathname:c="/",search:u="",hash:d=""}=To(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Nh("",{pathname:c,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof a=="string"?a:gu(a))}function n(i,a){wg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return NL(t,r,n,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OL(){return Math.random().toString(36).substr(2,8)}function PS(e,t){return{usr:e.state,key:e.key,idx:t}}function Nh(e,t,r,n){return r===void 0&&(r=null),Xa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:r,key:t&&t.key||n||OL()})}function gu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function NL(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,u=As.Pop,d=null,h=v();h==null&&(h=0,c.replaceState(Xa({},c.state,{idx:h}),""));function v(){return(c.state||{idx:null}).idx}function y(){u=As.Pop;let C=v(),E=C==null?null:C-h;h=C,d&&d({action:u,location:R.location,delta:E})}function w(C,E){u=As.Push;let _=Nh(R.location,C,E);r&&r(_,C),h=v()+1;let p=PS(_,h),f=R.createHref(_);try{c.pushState(p,"",f)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;i.location.assign(f)}a&&d&&d({action:u,location:R.location,delta:1})}function S(C,E){u=As.Replace;let _=Nh(R.location,C,E);r&&r(_,C),h=v();let p=PS(_,h),f=R.createHref(_);c.replaceState(p,"",f),a&&d&&d({action:u,location:R.location,delta:0})}function b(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:gu(C);return _=_.replace(/ $/,"%20"),Ct(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let R={get action(){return u},get location(){return e(i,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(TS,y),d=C,()=>{i.removeEventListener(TS,y),d=null}},createHref(C){return t(i,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:S,go(C){return c.go(C)}};return R}var kS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kS||(kS={}));function AL(e,t,r){return r===void 0&&(r="/"),$L(e,t,r)}function $L(e,t,r,n){let i=typeof t=="string"?To(t):t,a=Sg(i.pathname||"/",r);if(a==null)return null;let c=S1(e);FL(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=QL(a);u=KL(c[d],h)}return u}function S1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=$s([n,d.relativePath]),v=r.concat(d);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),S1(a.children,t,v,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:qL(h,a.index),routesMeta:v})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let d of _1(a.path))i(a,c,d)}),t}function _1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=_1(n.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function FL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zL=/^:[\w-]+$/,BL=3,UL=2,VL=1,HL=10,WL=-2,DS=e=>e==="*";function qL(e,t){let r=e.split("/"),n=r.length;return r.some(DS)&&(n+=WL),t&&(n+=UL),r.filter(i=>!DS(i)).reduce((i,a)=>i+(zL.test(a)?BL:a===""?VL:HL),n)}function GL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KL(e,t,r){let{routesMeta:n}=e,i={},a="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,v=a==="/"?t:t.slice(a.length)||"/",y=YL({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},v),w=d.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:$s([a,y.pathname]),pathnameBase:tj($s([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=$s([a,y.pathnameBase]))}return c}function YL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,v,y)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let R=u[y]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const b=u[y];return S&&!b?h[w]=void 0:h[w]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function XL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function QL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ZL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?To(e):e;return{pathname:r?r.startsWith("/")?r:JL(r,t):t,search:rj(n),hash:nj(i)}}function JL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ej(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function b1(e,t){let r=ej(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function x1(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=To(e):(i=Xa({},e),Ct(!i.pathname||!i.pathname.includes("?"),Xp("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Xp("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Xp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}u=y>=0?t[y]:"/"}let d=ZL(i,u),h=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||v)&&(d.pathname+="/"),d}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),tj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C1=["post","put","patch","delete"];new Set(C1);const oj=["get",...C1];new Set(oj);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}const _g=D.createContext(null),ij=D.createContext(null),Po=D.createContext(null),md=D.createContext(null),ko=D.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=D.createContext(null);function aj(e,t){let{relative:r}=t===void 0?{}:t;lc()||Ct(!1);let{basename:n,navigator:i}=D.useContext(Po),{hash:a,pathname:c,search:u}=T1(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:$s([n,c])),i.createHref({pathname:d,search:u,hash:a})}function lc(){return D.useContext(md)!=null}function gd(){return lc()||Ct(!1),D.useContext(md).location}function E1(e){D.useContext(Po).static||D.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=D.useContext(ko);return e?Sj():cj()}function cj(){lc()||Ct(!1);let e=D.useContext(_g),{basename:t,future:r,navigator:n}=D.useContext(Po),{matches:i}=D.useContext(ko),{pathname:a}=gd(),c=JSON.stringify(b1(i,r.v7_relativeSplatPath)),u=D.useRef(!1);return E1(()=>{u.current=!0}),D.useCallback(function(h,v){if(v===void 0&&(v={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=x1(h,JSON.parse(c),a,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:$s([t,y.pathname])),(v.replace?n.replace:n.push)(y,v.state,v)},[t,n,c,a,e])}function T1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=D.useContext(Po),{matches:i}=D.useContext(ko),{pathname:a}=gd(),c=JSON.stringify(b1(i,n.v7_relativeSplatPath));return D.useMemo(()=>x1(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function lj(e,t){return uj(e,t)}function uj(e,t,r,n){lc()||Ct(!1);let{navigator:i}=D.useContext(Po),{matches:a}=D.useContext(ko),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=gd(),v;if(t){var y;let C=typeof t=="string"?To(t):t;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||Ct(!1),v=C}else v=h;let w=v.pathname||"/",S=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=AL(e,{pathname:S}),R=mj(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:$s([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:$s([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return t&&R?D.createElement(md.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:As.Pop}},R):R}function dj(){let e=wj(),t=sj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,null)}const fj=D.createElement(dj,null);class pj extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?D.createElement(ko.Provider,{value:this.props.routeContext},D.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hj(e){let{routeContext:t,match:r,children:n}=e,i=D.useContext(_g);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ko.Provider,{value:t},n)}function mj(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let v=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);v>=0||Ct(!1),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=v),y.route.id){let{loaderData:w,errors:S}=r,b=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||b){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((v,y,w)=>{let S,b=!1,R=null,C=null;r&&(S=u&&y.route.id?u[y.route.id]:void 0,R=y.route.errorElement||fj,d&&(h<0&&w===0?(_j("route-fallback"),b=!0,C=null):h===w&&(b=!0,C=y.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,w+1)),_=()=>{let p;return S?p=R:b?p=C:y.route.Component?p=D.createElement(y.route.Component,null):y.route.element?p=y.route.element:p=v,D.createElement(hj,{match:y,routeContext:{outlet:v,matches:E,isDataRoute:r!=null},children:p})};return r&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?D.createElement(pj,{location:r.location,revalidation:r.revalidation,component:R,error:S,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var P1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(P1||{}),k1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(k1||{});function gj(e){let t=D.useContext(_g);return t||Ct(!1),t}function vj(e){let t=D.useContext(ij);return t||Ct(!1),t}function yj(e){let t=D.useContext(ko);return t||Ct(!1),t}function D1(e){let t=yj(),r=t.matches[t.matches.length-1];return r.route.id||Ct(!1),r.route.id}function wj(){var e;let t=D.useContext(R1),r=vj(),n=D1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Sj(){let{router:e}=gj(P1.UseNavigateStable),t=D1(k1.UseNavigateStable),r=D.useRef(!1);return E1(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qa({fromRouteId:t},a)))},[e,t])}const MS={};function _j(e,t,r){MS[e]||(MS[e]=!0)}const IS={};function bj(e,t){IS[t]||(IS[t]=!0,console.warn(t))}const LS=(e,t,r)=>bj(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function xj(e,t){e!=null&&e.v7_startTransition||LS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||LS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Na(e){Ct(!1)}function Cj(e){let{basename:t="/",children:r=null,location:n,navigationType:i=As.Pop,navigator:a,static:c=!1,future:u}=e;lc()&&Ct(!1);let d=t.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:d,navigator:a,static:c,future:Qa({v7_relativeSplatPath:!1},u)}),[d,u,a,c]);typeof n=="string"&&(n=To(n));let{pathname:v="/",search:y="",hash:w="",state:S=null,key:b="default"}=n,R=D.useMemo(()=>{let C=Sg(v,d);return C==null?null:{location:{pathname:C,search:y,hash:w,state:S,key:b},navigationType:i}},[d,v,y,w,S,b,i]);return R==null?null:D.createElement(Po.Provider,{value:h},D.createElement(md.Provider,{children:r,value:R}))}function Rj(e){let{children:t,location:r}=e;return lj(Ah(t),r)}new Promise(()=>{});function Ah(e,t){t===void 0&&(t=[]);let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let a=[...t,i];if(n.type===D.Fragment){r.push.apply(r,Ah(n.props.children,a));return}n.type!==Na&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Ah(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function Ej(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Tj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pj(e,t){return e.button===0&&(!t||t==="_self")&&!Tj(e)}const kj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dj="6";try{window.__reactRouterVersion=Dj}catch{}const Mj="startTransition",jS=ab[Mj];function Ij(e){let{basename:t,children:r,future:n,window:i}=e,a=D.useRef();a.current==null&&(a.current=jL({window:i,v5Compat:!0}));let c=a.current,[u,d]=D.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},v=D.useCallback(y=>{h&&jS?jS(()=>d(y)):d(y)},[d,h]);return D.useLayoutEffect(()=>c.listen(v),[c,v]),D.useEffect(()=>xj(n),[n]),D.createElement(Cj,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const Lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OS=D.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:u,target:d,to:h,preventScrollReset:v,viewTransition:y}=t,w=Ej(t,kj),{basename:S}=D.useContext(Po),b,R=!1;if(typeof h=="string"&&jj.test(h)&&(b=h,Lj))try{let p=new URL(window.location.href),f=h.startsWith("//")?new URL(p.protocol+h):new URL(h),m=Sg(f.pathname,S);f.origin===p.origin&&m!=null?h=m+f.search+f.hash:R=!0}catch{}let C=aj(h,{relative:i}),E=Oj(h,{replace:c,state:u,target:d,preventScrollReset:v,relative:i,viewTransition:y});function _(p){n&&n(p),p.defaultPrevented||E(p)}return D.createElement("a",$h({},w,{href:b||C,onClick:R||a?n:_,ref:r,target:d}))});var NS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(NS||(NS={}));var AS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AS||(AS={}));function Oj(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,d=Do(),h=gd(),v=T1(e,{relative:c});return D.useCallback(y=>{if(Pj(y,r)){y.preventDefault();let w=n!==void 0?n:gu(h)===gu(v);d(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[h,d,v,n,i,r,e,a,c,u])}const M1=D.createContext(void 0),I1=D.createContext(null),Mo=()=>{const e=D.useContext(I1);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},Bn=Object.create(null);Bn.open="0";Bn.close="1";Bn.ping="2";Bn.pong="3";Bn.message="4";Bn.upgrade="5";Bn.noop="6";const Bl=Object.create(null);Object.keys(Bn).forEach(e=>{Bl[Bn[e]]=e});const Fh={type:"error",data:"parser error"},L1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",j1=typeof ArrayBuffer=="function",O1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,bg=({type:e,data:t},r,n)=>L1&&t instanceof Blob?r?n(t):$S(t,n):j1&&(t instanceof ArrayBuffer||O1(t))?r?n(t):$S(new Blob([t]),n):n(Bn[e]+(t||"")),$S=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function FS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qp;function Nj(e,t){if(L1&&e.data instanceof Blob)return e.data.arrayBuffer().then(FS).then(t);if(j1&&(e.data instanceof ArrayBuffer||O1(e.data)))return t(FS(e.data));bg(e,!1,r=>{Qp||(Qp=new TextEncoder),t(Qp.encode(r))})}const zS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<zS.length;e++)Aa[zS.charCodeAt(e)]=e;const Aj=e=>{let t=e.length*.75,r=e.length,n,i=0,a,c,u,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),v=new Uint8Array(h);for(n=0;n<r;n+=4)a=Aa[e.charCodeAt(n)],c=Aa[e.charCodeAt(n+1)],u=Aa[e.charCodeAt(n+2)],d=Aa[e.charCodeAt(n+3)],v[i++]=a<<2|c>>4,v[i++]=(c&15)<<4|u>>2,v[i++]=(u&3)<<6|d&63;return h},$j=typeof ArrayBuffer=="function",xg=(e,t)=>{if(typeof e!="string")return{type:"message",data:N1(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Fj(e.substring(1),t)}:Bl[r]?e.length>1?{type:Bl[r],data:e.substring(1)}:{type:Bl[r]}:Fh},Fj=(e,t)=>{if($j){const r=Aj(e);return N1(r,t)}else return{base64:!0,data:e}},N1=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},A1="",zj=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,c)=>{bg(a,!1,u=>{n[c]=u,++i===r&&t(n.join(A1))})})},Bj=(e,t)=>{const r=e.split(A1),n=[];for(let i=0;i<r.length;i++){const a=xg(r[i],t);if(n.push(a),a.type==="error")break}return n};function Uj(){return new TransformStream({transform(e,t){Nj(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Zp;function Tl(e){return e.reduce((t,r)=>t+r.length,0)}function Pl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Vj(e,t){Zp||(Zp=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(c,u){for(r.push(c);;){if(n===0){if(Tl(r)<1)break;const d=Pl(r,1);a=(d[0]&128)===128,i=d[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Tl(r)<2)break;const d=Pl(r,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Tl(r)<8)break;const d=Pl(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),v=h.getUint32(0);if(v>Math.pow(2,21)-1){u.enqueue(Fh);break}i=v*Math.pow(2,32)+h.getUint32(4),n=3}else{if(Tl(r)<i)break;const d=Pl(r,i);u.enqueue(xg(a?d:Zp.decode(d),t)),n=0}if(i===0||i>e){u.enqueue(Fh);break}}}})}const $1=4;function xt(e){if(e)return Hj(e)}function Hj(e){for(var t in xt.prototype)e[t]=xt.prototype[t];return e}xt.prototype.on=xt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};xt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};xt.prototype.off=xt.prototype.removeListener=xt.prototype.removeAllListeners=xt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};xt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};xt.prototype.emitReserved=xt.prototype.emit;xt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};xt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const vd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Ar=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Wj="arraybuffer";function F1(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const qj=Ar.setTimeout,Gj=Ar.clearTimeout;function yd(e,t){t.useNativeTimers?(e.setTimeoutFn=qj.bind(Ar),e.clearTimeoutFn=Gj.bind(Ar)):(e.setTimeoutFn=Ar.setTimeout.bind(Ar),e.clearTimeoutFn=Ar.clearTimeout.bind(Ar))}const Kj=1.33;function Yj(e){return typeof e=="string"?Xj(e):Math.ceil((e.byteLength||e.size)*Kj)}function Xj(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function z1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Qj(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Zj(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Jj extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Cg=class extends xt{constructor(t){super(),this.writable=!1,yd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Jj(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=xg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Qj(t);return r.length?"?"+r:""}};class eO extends Cg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Bj(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,zj(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=z1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let B1=!1;try{B1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tO=B1;function rO(){}class nO extends eO{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class $n extends xt{constructor(t,r,n){super(),this.createRequest=t,yd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=F1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=$n.requestsCount++,$n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=rO,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$n.requestsCount=0;$n.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",BS);else if(typeof addEventListener=="function"){const e="onpagehide"in Ar?"pagehide":"unload";addEventListener(e,BS,!1)}}function BS(){for(let e in $n.requests)$n.requests.hasOwnProperty(e)&&$n.requests[e].abort()}const sO=function(){const e=U1({xdomain:!1});return e&&e.responseType!==null}();class oO extends nO{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=sO&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new $n(U1,this.uri(),t)}}function U1(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||tO))return new XMLHttpRequest}catch{}if(!t)try{return new Ar[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const V1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class iO extends Cg{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=V1?{}:F1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;bg(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&vd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=z1()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Jp=Ar.WebSocket||Ar.MozWebSocket;class aO extends iO{createSocket(t,r,n){return V1?new Jp(t,r,n):r?new Jp(t,r):new Jp(t)}doWrite(t,r){this.ws.send(r)}}class cO extends Cg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Vj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=Uj();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:u,value:d})=>{u||(this.onPacket(d),a())}).catch(u=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&vd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const lO={websocket:aO,webtransport:cO,polling:oO},uO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=uO.exec(e||""),a={},c=14;for(;c--;)a[dO[c]]=i[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=fO(a,a.path),a.queryKey=pO(a,a.query),a}function fO(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function pO(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Bh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ul=[];Bh&&addEventListener("offline",()=>{Ul.forEach(e=>e())},!1);class Fs extends xt{constructor(t,r){if(super(),this.binaryType=Wj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=zh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=zh(r.host).host);yd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Zj(this.opts.query)),Bh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ul.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=$1,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Fs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Fs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Yj(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,vd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Fs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Bh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ul.indexOf(this._offlineEventListener);n!==-1&&Ul.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Fs.protocol=$1;class hO extends Fs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Fs.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Fs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=r.name,this.emitReserved("upgradeError",w)}}))};function a(){n||(n=!0,v(),r.close(),r=null)}const c=y=>{const w=new Error("probe error: "+y);w.transport=r.name,a(),this.emitReserved("upgradeError",w)};function u(){c("transport closed")}function d(){c("socket closed")}function h(y){r&&y.name!==r.name&&a()}const v=()=>{r.removeListener("open",i),r.removeListener("error",c),r.removeListener("close",u),this.off("close",d),this.off("upgrading",h)};r.once("open",i),r.once("error",c),r.once("close",u),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let mO=class extends hO{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>lO[i]).filter(i=>!!i)),super(t,n)}};function gO(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=zh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const vO=typeof ArrayBuffer=="function",yO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,H1=Object.prototype.toString,wO=typeof Blob=="function"||typeof Blob<"u"&&H1.call(Blob)==="[object BlobConstructor]",SO=typeof File=="function"||typeof File<"u"&&H1.call(File)==="[object FileConstructor]";function Rg(e){return vO&&(e instanceof ArrayBuffer||yO(e))||wO&&e instanceof Blob||SO&&e instanceof File}function Vl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Vl(e[r]))return!0;return!1}if(Rg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Vl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Vl(e[r]))return!0;return!1}function _O(e){const t=[],r=e.data,n=e;return n.data=Uh(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Uh(e,t){if(!e)return e;if(Rg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Uh(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Uh(e[n],t));return r}return e}function bO(e,t){return e.data=Vh(e.data,t),delete e.attachments,e}function Vh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Vh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Vh(e[r],t));return e}const xO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],CO=5;var Oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Oe||(Oe={}));class RO{constructor(t){this.replacer=t}encode(t){return(t.type===Oe.EVENT||t.type===Oe.ACK)&&Vl(t)?this.encodeAsBinary({type:t.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Oe.BINARY_EVENT||t.type===Oe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=_O(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function US(e){return Object.prototype.toString.call(e)==="[object Object]"}class Eg extends xt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Oe.BINARY_EVENT;n||r.type===Oe.BINARY_ACK?(r.type=n?Oe.EVENT:Oe.ACK,this.reconstructor=new EO(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Rg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Oe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Oe.BINARY_EVENT||n.type===Oe.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Eg.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Oe.CONNECT:return US(r);case Oe.DISCONNECT:return r===void 0;case Oe.CONNECT_ERROR:return typeof r=="string"||US(r);case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&xO.indexOf(r[0])===-1);case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class EO{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=bO(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const TO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Eg,Encoder:RO,get PacketType(){return Oe},protocol:CO},Symbol.toStringTag,{value:"Module"}));function pn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const PO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class W1 extends xt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[pn(t,"open",this.onopen.bind(this)),pn(t,"packet",this.onpacket.bind(this)),pn(t,"error",this.onerror.bind(this)),pn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(PO.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Oe.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,y=r.pop();this._registerAckCallback(v,y),c.id=v}const u=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(a),r.apply(this,u)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(c,u)=>c?i(c):n(u);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Oe.EVENT:case Oe.BINARY_EVENT:this.onevent(t);break;case Oe.ACK:case Oe.BINARY_ACK:this.onack(t);break;case Oe.DISCONNECT:this.ondisconnect();break;case Oe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Oe.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Oi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Oi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Oi.prototype.reset=function(){this.attempts=0};Oi.prototype.setMin=function(e){this.ms=e};Oi.prototype.setMax=function(e){this.max=e};Oi.prototype.setJitter=function(e){this.jitter=e};class Hh extends xt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,yd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Oi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||TO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new mO(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=pn(r,"open",function(){n.onopen(),t&&t()}),a=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=pn(r,"error",a);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(pn(t,"ping",this.onping.bind(this)),pn(t,"data",this.ondata.bind(this)),pn(t,"error",this.onerror.bind(this)),pn(t,"close",this.onclose.bind(this)),pn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){vd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new W1(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xa={};function Hl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=gO(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,c=xa[i]&&a in xa[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return u?d=new Hh(n,t):(xa[i]||(xa[i]=new Hh(n,t)),d=xa[i]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Hl,{Manager:Hh,Socket:W1,io:Hl,connect:Hl});const _t="https://hitscord-backend.online",kO="https://hitscord-backend.ru/mediasoup",Ie=Hl(kO);Ie.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var Qr={},kl={exports:{}},eh,VS;function DO(){if(VS)return eh;VS=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;eh=function(v,y){y=y||{};var w=typeof v;if(w==="string"&&v.length>0)return c(v);if(w==="number"&&isFinite(v))return y.long?d(v):u(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function c(v){if(v=String(v),!(v.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(y){var w=parseFloat(y[1]),S=(y[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function u(v){var y=Math.abs(v);return y>=n?Math.round(v/n)+"d":y>=r?Math.round(v/r)+"h":y>=t?Math.round(v/t)+"m":y>=e?Math.round(v/e)+"s":v+"ms"}function d(v){var y=Math.abs(v);return y>=n?h(v,y,n,"day"):y>=r?h(v,y,r,"hour"):y>=t?h(v,y,t,"minute"):y>=e?h(v,y,e,"second"):v+" ms"}function h(v,y,w,S){var b=y>=w*1.5;return Math.round(v/w)+" "+S+(b?"s":"")}return eh}var th,HS;function MO(){if(HS)return th;HS=1;function e(t){n.debug=n,n.default=n,n.coerce=h,n.disable=c,n.enable=a,n.enabled=u,n.humanize=DO(),n.destroy=v,Object.keys(t).forEach(y=>{n[y]=t[y]}),n.names=[],n.skips=[],n.formatters={};function r(y){let w=0;for(let S=0;S<y.length;S++)w=(w<<5)-w+y.charCodeAt(S),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=r;function n(y){let w,S=null,b,R;function C(...E){if(!C.enabled)return;const _=C,p=Number(new Date),f=p-(w||p);_.diff=f,_.prev=w,_.curr=p,w=p,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let m=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(k,I)=>{if(k==="%%")return"%";m++;const j=n.formatters[I];if(typeof j=="function"){const L=E[m];k=j.call(_,L),E.splice(m,1),m--}return k}),n.formatArgs.call(_,E),(_.log||n.log).apply(_,E)}return C.namespace=y,C.useColors=n.useColors(),C.color=n.selectColor(y),C.extend=i,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(b!==n.namespaces&&(b=n.namespaces,R=n.enabled(y)),R),set:E=>{S=E}}),typeof n.init=="function"&&n.init(C),C}function i(y,w){const S=n(this.namespace+(typeof w>"u"?":":w)+y);return S.log=this.log,S}function a(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let w;const S=(typeof y=="string"?y:"").split(/[\s,]+/),b=S.length;for(w=0;w<b;w++)S[w]&&(y=S[w].replace(/\*/g,".*?"),y[0]==="-"?n.skips.push(new RegExp("^"+y.slice(1)+"$")):n.names.push(new RegExp("^"+y+"$")))}function c(){const y=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),y}function u(y){if(y[y.length-1]==="*")return!0;let w,S;for(w=0,S=n.skips.length;w<S;w++)if(n.skips[w].test(y))return!1;for(w=0,S=n.names.length;w<S;w++)if(n.names[w].test(y))return!0;return!1}function d(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function h(y){return y instanceof Error?y.stack||y.message:y}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return th=e,th}var WS;function wd(){return WS||(WS=1,function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=c,t.useColors=n,t.storage=u(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;h.splice(1,0,v,"color: inherit");let y=0,w=0;h[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(y++,S==="%c"&&(w=y))}),h.splice(w,0,v)}t.log=console.debug||console.log||(()=>{});function a(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function c(){let h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function u(){try{return localStorage}catch{}}e.exports=MO()(t);const{formatters:d}=e.exports;d.j=function(h){try{return JSON.stringify(h)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}(kl,kl.exports)),kl.exports}var Nr={},$a={exports:{}},IO=$a.exports,qS;function LO(){return qS||(qS=1,function(e,t){(function(r,n){var i="1.0.39",a="",c="?",u="function",d="undefined",h="object",v="string",y="major",w="model",S="name",b="type",R="vendor",C="version",E="architecture",_="console",p="mobile",f="tablet",m="smarttv",x="wearable",k="embedded",I=500,j="Amazon",L="Apple",A="ASUS",N="BlackBerry",V="Browser",W="Chrome",X="Edge",O="Firefox",U="Google",F="Huawei",z="LG",q="Microsoft",B="Motorola",Y="Opera",ae="Samsung",de="Sharp",ee="Sony",oe="Xiaomi",ue="Zebra",me="Facebook",he="Chromium OS",Ce="Mac OS",ke=" Browser",gt=function(Te,Pe){var ye={};for(var Le in Te)Pe[Le]&&Pe[Le].length%2===0?ye[Le]=Pe[Le].concat(Te[Le]):ye[Le]=Te[Le];return ye},it=function(Te){for(var Pe={},ye=0;ye<Te.length;ye++)Pe[Te[ye].toUpperCase()]=Te[ye];return Pe},Be=function(Te,Pe){return typeof Te===v?Qe(Pe).indexOf(Qe(Te))!==-1:!1},Qe=function(Te){return Te.toLowerCase()},Ze=function(Te){return typeof Te===v?Te.replace(/[^\d\.]/g,a).split(".")[0]:n},Ge=function(Te,Pe){if(typeof Te===v)return Te=Te.replace(/^\s\s*/,a),typeof Pe===d?Te:Te.substring(0,I)},Et=function(Te,Pe){for(var ye=0,Le,vt,Fe,je,Se,lt;ye<Pe.length&&!Se;){var Vn=Pe[ye],jo=Pe[ye+1];for(Le=vt=0;Le<Vn.length&&!Se&&Vn[Le];)if(Se=Vn[Le++].exec(Te),Se)for(Fe=0;Fe<jo.length;Fe++)lt=Se[++vt],je=jo[Fe],typeof je===h&&je.length>0?je.length===2?typeof je[1]==u?this[je[0]]=je[1].call(this,lt):this[je[0]]=je[1]:je.length===3?typeof je[1]===u&&!(je[1].exec&&je[1].test)?this[je[0]]=lt?je[1].call(this,lt,je[2]):n:this[je[0]]=lt?lt.replace(je[1],je[2]):n:je.length===4&&(this[je[0]]=lt?je[3].call(this,lt.replace(je[1],je[2])):n):this[je]=lt||n;ye+=2}},pt=function(Te,Pe){for(var ye in Pe)if(typeof Pe[ye]===h&&Pe[ye].length>0){for(var Le=0;Le<Pe[ye].length;Le++)if(Be(Pe[ye][Le],Te))return ye===c?n:ye}else if(Be(Pe[ye],Te))return ye===c?n:ye;return Pe.hasOwnProperty("*")?Pe["*"]:Te},Ve={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},at={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,C],[/opios[\/ ]+([\w\.]+)/i],[C,[S,Y+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[C,[S,Y+" GX"]],[/\bopr\/([\w\.]+)/i],[C,[S,Y]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[S,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,C],[/quark(?:pc)?\/([-\w\.]+)/i],[C,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[C,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[S,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[S,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+V],C],[/\bfocus\/([\w\.]+)/i],[C,[S,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[S,Y+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[S,Y+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[S,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[C,[S,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360"+ke]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],C],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+ke],C],[/samsungbrowser\/([\w\.]+)/i],[C,[S,ae+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[S,C],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,me],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[S,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,W+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[S,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[C,pt,Ve]],[/(webkit|khtml)\/([\w\.]+)/i],[S,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],C],[/(wolvic)\/([\w\.]+)/i],[S,C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[S,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[C,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,Qe]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,a,Qe]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,Qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[R,ae],[b,f]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[R,ae],[b,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[R,L],[b,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[R,L],[b,f]],[/(macintosh);/i],[w,[R,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[R,de],[b,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[R,F],[b,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[R,F],[b,p]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[w,/_/g," "],[R,oe],[b,p]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[R,oe],[b,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[R,"OPPO"],[b,p]],[/\b(opd2\d{3}a?) bui/i],[w,[R,"OPPO"],[b,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[R,"Vivo"],[b,p]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[R,"Realme"],[b,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[R,B],[b,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[R,B],[b,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[R,z],[b,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[R,z],[b,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[R,"Lenovo"],[b,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[R,"Nokia"],[b,p]],[/(pixel c)\b/i],[w,[R,U],[b,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[R,U],[b,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[R,ee],[b,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[R,ee],[b,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[R,"OnePlus"],[b,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[R,j],[b,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[R,j],[b,p]],[/(playbook);[-\w\),; ]+(rim)/i],[w,R,[b,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[R,N],[b,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[R,A],[b,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[R,A],[b,p]],[/(nexus 9)/i],[w,[R,"HTC"],[b,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[R,[w,/_/g," "],[b,p]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[w,[R,"TCL"],[b,f]],[/(itel) ((\w+))/i],[[R,Qe],w,[b,pt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[R,"Acer"],[b,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[R,"Meizu"],[b,p]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[R,"Ulefone"],[b,p]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[R,"Nothing"],[b,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[R,w,[b,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[R,w,[b,f]],[/(surface duo)/i],[w,[R,q],[b,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[R,"Fairphone"],[b,p]],[/(u304aa)/i],[w,[R,"AT&T"],[b,p]],[/\bsie-(\w*)/i],[w,[R,"Siemens"],[b,p]],[/\b(rct\w+) b/i],[w,[R,"RCA"],[b,f]],[/\b(venue[\d ]{2,7}) b/i],[w,[R,"Dell"],[b,f]],[/\b(q(?:mv|ta)\w+) b/i],[w,[R,"Verizon"],[b,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[R,"Barnes & Noble"],[b,f]],[/\b(tm\d{3}\w+) b/i],[w,[R,"NuVision"],[b,f]],[/\b(k88) b/i],[w,[R,"ZTE"],[b,f]],[/\b(nx\d{3}j) b/i],[w,[R,"ZTE"],[b,p]],[/\b(gen\d{3}) b.+49h/i],[w,[R,"Swiss"],[b,p]],[/\b(zur\d{3}) b/i],[w,[R,"Swiss"],[b,f]],[/\b((zeki)?tb.*\b) b/i],[w,[R,"Zeki"],[b,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[R,"Dragon Touch"],w,[b,f]],[/\b(ns-?\w{0,9}) b/i],[w,[R,"Insignia"],[b,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[R,"NextBook"],[b,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[R,"Voice"],w,[b,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[R,"LvTel"],w,[b,p]],[/\b(ph-1) /i],[w,[R,"Essential"],[b,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[R,"Envizen"],[b,f]],[/\b(trio[-\w\. ]+) b/i],[w,[R,"MachSpeed"],[b,f]],[/\btu_(1491) b/i],[w,[R,"Rotor"],[b,f]],[/(shield[\w ]+) b/i],[w,[R,"Nvidia"],[b,f]],[/(sprint) (\w+)/i],[R,w,[b,p]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[R,q],[b,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[R,ue],[b,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[R,ue],[b,p]],[/smart-tv.+(samsung)/i],[R,[b,m]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[R,ae],[b,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[R,z],[b,m]],[/(apple) ?tv/i],[R,[w,L+" TV"],[b,m]],[/crkey/i],[[w,W+"cast"],[R,U],[b,m]],[/droid.+aft(\w+)( bui|\))/i],[w,[R,j],[b,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[R,de],[b,m]],[/(bravia[\w ]+)( bui|\))/i],[w,[R,ee],[b,m]],[/(mitv-\w{5}) bui/i],[w,[R,oe],[b,m]],[/Hbbtv.*(technisat) (.*);/i],[R,w,[b,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[R,Ge],[w,Ge],[b,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[R,w,[b,_]],[/droid.+; (shield) bui/i],[w,[R,"Nvidia"],[b,_]],[/(playstation [345portablevi]+)/i],[w,[R,ee],[b,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[R,q],[b,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[w,[R,ae],[b,x]],[/((pebble))app/i],[R,w,[b,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[R,L],[b,x]],[/droid.+; (glass) \d/i],[w,[R,U],[b,x]],[/droid.+; (wt63?0{2,3})\)/i],[w,[R,ue],[b,x]],[/(quest( \d| pro)?)/i],[w,[R,me],[b,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[R,[b,k]],[/(aeobc)\b/i],[w,[R,j],[b,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[b,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[b,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,f]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,p]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[R,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[S,X+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[C,pt,Ne]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,pt,Ne],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,Ce],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,C],[/\(bb(10);/i],[C,[S,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[S,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[S,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,he],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,C],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,C]]},Dt=function(Te,Pe){if(typeof Te===h&&(Pe=Te,Te=n),!(this instanceof Dt))return new Dt(Te,Pe).getResult();var ye=typeof r!==d&&r.navigator?r.navigator:n,Le=Te||(ye&&ye.userAgent?ye.userAgent:a),vt=ye&&ye.userAgentData?ye.userAgentData:n,Fe=Pe?gt(at,Pe):at,je=ye&&ye.userAgent==Le;return this.getBrowser=function(){var Se={};return Se[S]=n,Se[C]=n,Et.call(Se,Le,Fe.browser),Se[y]=Ze(Se[C]),je&&ye&&ye.brave&&typeof ye.brave.isBrave==u&&(Se[S]="Brave"),Se},this.getCPU=function(){var Se={};return Se[E]=n,Et.call(Se,Le,Fe.cpu),Se},this.getDevice=function(){var Se={};return Se[R]=n,Se[w]=n,Se[b]=n,Et.call(Se,Le,Fe.device),je&&!Se[b]&&vt&&vt.mobile&&(Se[b]=p),je&&Se[w]=="Macintosh"&&ye&&typeof ye.standalone!==d&&ye.maxTouchPoints&&ye.maxTouchPoints>2&&(Se[w]="iPad",Se[b]=f),Se},this.getEngine=function(){var Se={};return Se[S]=n,Se[C]=n,Et.call(Se,Le,Fe.engine),Se},this.getOS=function(){var Se={};return Se[S]=n,Se[C]=n,Et.call(Se,Le,Fe.os),je&&!Se[S]&&vt&&vt.platform&&vt.platform!="Unknown"&&(Se[S]=vt.platform.replace(/chrome os/i,he).replace(/macos/i,Ce)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(Se){return Le=typeof Se===v&&Se.length>I?Ge(Se,I):Se,this},this.setUA(Le),this};Dt.VERSION=i,Dt.BROWSER=it([S,C,y]),Dt.CPU=it([E]),Dt.DEVICE=it([w,R,b,_,p,m,f,x,k]),Dt.ENGINE=Dt.OS=it([S,C]),e.exports&&(t=e.exports=Dt),t.UAParser=Dt;var ct=typeof r!==d&&(r.jQuery||r.Zepto);if(ct&&!ct.ua){var jt=new Dt;ct.ua=jt.getResult(),ct.ua.get=function(){return jt.getUA()},ct.ua.set=function(Te){jt.setUA(Te);var Pe=jt.getResult();for(var ye in Pe)ct.ua[ye]=Pe[ye]}}})(typeof window=="object"?window:IO)}($a,$a.exports)),$a.exports}var lo={},GS;function Rt(){if(GS)return lo;GS=1;var e=lo&&lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(lo,"__esModule",{value:!0}),lo.Logger=void 0;const t=e(wd()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return lo.Logger=n,lo}var Ca={},Dl={exports:{}},KS;function jO(){if(KS)return Dl.exports;KS=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(m,x,k){return Function.prototype.apply.call(m,x,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:r=function(m){return Object.getOwnPropertyNames(m)};function n(f){console&&console.warn&&console.warn(f)}var i=Number.isNaN||function(m){return m!==m};function a(){a.init.call(this)}Dl.exports=a,Dl.exports.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(f){if(typeof f!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(f){if(typeof f!="number"||f<0||i(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");c=f}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||i(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this};function d(f){return f._maxListeners===void 0?a.defaultMaxListeners:f._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(m){for(var x=[],k=1;k<arguments.length;k++)x.push(arguments[k]);var I=m==="error",j=this._events;if(j!==void 0)I=I&&j.error===void 0;else if(!I)return!1;if(I){var L;if(x.length>0&&(L=x[0]),L instanceof Error)throw L;var A=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw A.context=L,A}var N=j[m];if(N===void 0)return!1;if(typeof N=="function")t(N,this,x);else for(var V=N.length,W=b(N,V),k=0;k<V;++k)t(W[k],this,x);return!0};function h(f,m,x,k){var I,j,L;if(u(x),j=f._events,j===void 0?(j=f._events=Object.create(null),f._eventsCount=0):(j.newListener!==void 0&&(f.emit("newListener",m,x.listener?x.listener:x),j=f._events),L=j[m]),L===void 0)L=j[m]=x,++f._eventsCount;else if(typeof L=="function"?L=j[m]=k?[x,L]:[L,x]:k?L.unshift(x):L.push(x),I=d(f),I>0&&L.length>I&&!L.warned){L.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=f,A.type=m,A.count=L.length,n(A)}return f}a.prototype.addListener=function(m,x){return h(this,m,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,x){return h(this,m,x,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(f,m,x){var k={fired:!1,wrapFn:void 0,target:f,type:m,listener:x},I=v.bind(k);return I.listener=x,k.wrapFn=I,I}a.prototype.once=function(m,x){return u(x),this.on(m,y(this,m,x)),this},a.prototype.prependOnceListener=function(m,x){return u(x),this.prependListener(m,y(this,m,x)),this},a.prototype.removeListener=function(m,x){var k,I,j,L,A;if(u(x),I=this._events,I===void 0)return this;if(k=I[m],k===void 0)return this;if(k===x||k.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete I[m],I.removeListener&&this.emit("removeListener",m,k.listener||x));else if(typeof k!="function"){for(j=-1,L=k.length-1;L>=0;L--)if(k[L]===x||k[L].listener===x){A=k[L].listener,j=L;break}if(j<0)return this;j===0?k.shift():R(k,j),k.length===1&&(I[m]=k[0]),I.removeListener!==void 0&&this.emit("removeListener",m,A||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var x,k,I;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[m]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[m]),this;if(arguments.length===0){var j=Object.keys(k),L;for(I=0;I<j.length;++I)L=j[I],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=k[m],typeof x=="function")this.removeListener(m,x);else if(x!==void 0)for(I=x.length-1;I>=0;I--)this.removeListener(m,x[I]);return this};function w(f,m,x){var k=f._events;if(k===void 0)return[];var I=k[m];return I===void 0?[]:typeof I=="function"?x?[I.listener||I]:[I]:x?C(I):b(I,I.length)}a.prototype.listeners=function(m){return w(this,m,!0)},a.prototype.rawListeners=function(m){return w(this,m,!1)},a.listenerCount=function(f,m){return typeof f.listenerCount=="function"?f.listenerCount(m):S.call(f,m)},a.prototype.listenerCount=S;function S(f){var m=this._events;if(m!==void 0){var x=m[f];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(f,m){for(var x=new Array(m),k=0;k<m;++k)x[k]=f[k];return x}function R(f,m){for(;m+1<f.length;m++)f[m]=f[m+1];f.pop()}function C(f){for(var m=new Array(f.length),x=0;x<m.length;++x)m[x]=f[x].listener||f[x];return m}function E(f,m){return new Promise(function(x,k){function I(L){f.removeListener(m,j),k(L)}function j(){typeof f.removeListener=="function"&&f.removeListener("error",I),x([].slice.call(arguments))}p(f,m,j,{once:!0}),m!=="error"&&_(f,I,{once:!0})})}function _(f,m,x){typeof f.on=="function"&&p(f,"error",m,x)}function p(f,m,x,k){if(typeof f.on=="function")k.once?f.once(m,x):f.on(m,x);else if(typeof f.addEventListener=="function")f.addEventListener(m,function I(j){k.once&&f.removeEventListener(m,I),x(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f)}return Dl.exports}var YS;function Io(){if(YS)return Ca;YS=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.EnhancedEventEmitter=void 0;const e=jO(),t=Rt(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(u){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,u);try{super.emit("listenererror",a,u)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return Ca.EnhancedEventEmitter=n,Ca}var uo={},XS;function or(){if(XS)return uo;XS=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.InvalidStateError=uo.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}uo.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return uo.InvalidStateError=t,uo}var di={},QS;function Vt(){if(QS)return di;QS=1,Object.defineProperty(di,"__esModule",{value:!0}),di.clone=e,di.generateRandomNumber=t,di.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const i=Reflect.ownKeys(n);for(const a of i){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return di}var St={},ft={},fo={},ZS;function OO(){if(ZS)return fo;ZS=1;var e=fo&&fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fo,"__esModule",{value:!0}),fo.Logger=void 0;const t=e(wd()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return fo.Logger=n,fo}var JS;function NO(){if(JS)return ft;JS=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.generateProfileLevelIdStringForAnswer=ft.isSameProfile=ft.parseSdpProfileLevelId=ft.levelToString=ft.profileToString=ft.profileLevelIdToString=ft.parseProfileLevelId=ft.ProfileLevelId=ft.Level=ft.Profile=void 0;const e=OO(),t=new e.Logger;var r;(function(f){f[f.ConstrainedBaseline=1]="ConstrainedBaseline",f[f.Baseline=2]="Baseline",f[f.Main=3]="Main",f[f.ConstrainedHigh=4]="ConstrainedHigh",f[f.High=5]="High",f[f.PredictiveHigh444=6]="PredictiveHigh444"})(r||(ft.Profile=r={}));var n;(function(f){f[f.L1_b=0]="L1_b",f[f.L1=10]="L1",f[f.L1_1=11]="L1_1",f[f.L1_2=12]="L1_2",f[f.L1_3=13]="L1_3",f[f.L2=20]="L2",f[f.L2_1=21]="L2_1",f[f.L2_2=22]="L2_2",f[f.L3=30]="L3",f[f.L3_1=31]="L3_1",f[f.L3_2=32]="L3_2",f[f.L4=40]="L4",f[f.L4_1=41]="L4_1",f[f.L4_2=42]="L4_2",f[f.L5=50]="L5",f[f.L5_1=51]="L5_1",f[f.L5_2=52]="L5_2"})(n||(ft.Level=n={}));class i{constructor(m,x){this.profile=m,this.level=x}}ft.ProfileLevelId=i;const a=new i(r.ConstrainedBaseline,n.L3_1);class c{constructor(m){this.mask=~C("x",m),this.masked_value=C("1",m)}isMatch(m){return this.masked_value===(m&this.mask)}}class u{constructor(m,x,k){this.profile_idc=m,this.profile_iop=x,this.profile=k}}const d=[new u(66,new c("x1xx0000"),r.ConstrainedBaseline),new u(77,new c("1xxx0000"),r.ConstrainedBaseline),new u(88,new c("11xx0000"),r.ConstrainedBaseline),new u(66,new c("x0xx0000"),r.Baseline),new u(88,new c("10xx0000"),r.Baseline),new u(77,new c("0x0x0000"),r.Main),new u(100,new c("00000000"),r.High),new u(100,new c("00001100"),r.ConstrainedHigh),new u(244,new c("00000000"),r.PredictiveHigh444)];function h(f){if(typeof f!="string"||f.length!==6)return;const x=parseInt(f,16);if(x===0)return;const k=x&255,I=x>>8&255,j=x>>16&255;let L;switch(k){case n.L1_1:{L=(I&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{L=k;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${f}, level_idc:${k}]`);return}}for(const A of d)if(j===A.profile_idc&&A.profile_iop.isMatch(I))return new i(A.profile,L);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${f}, profile_idc:${j}, profile_iop:${I}]`)}ft.parseProfileLevelId=h;function v(f){if(f.level==n.L1_b)switch(f.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${f.profile}`);return}}let m;switch(f.profile){case r.ConstrainedBaseline:{m="42e0";break}case r.Baseline:{m="4200";break}case r.Main:{m="4d00";break}case r.ConstrainedHigh:{m="640c";break}case r.High:{m="6400";break}case r.PredictiveHigh444:{m="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${f.profile}`);return}}let x=f.level.toString(16);return x.length===1&&(x=`0${x}`),`${m}${x}`}ft.profileLevelIdToString=v;function y(f){switch(f){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${f}`);return}}}ft.profileToString=y;function w(f){switch(f){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${f}`);return}}}ft.levelToString=w;function S(f={}){const m=f["profile-level-id"];return m?h(m):a}ft.parseSdpProfileLevelId=S;function b(f={},m={}){const x=S(f),k=S(m);return!!(x&&k&&x.profile===k.profile)}ft.isSameProfile=b;function R(f={},m={}){if(!f["profile-level-id"]&&!m["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const x=S(f),k=S(m);if(!x)throw new TypeError("invalid local_profile_level_id");if(!k)throw new TypeError("invalid remote_profile_level_id");if(x.profile!==k.profile)throw new TypeError("H264 Profile mismatch");const I=p(f)&&p(m),j=x.level,L=k.level,A=_(j,L),N=I?j:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${x.profile}, level:${N}]`),v(new i(x.profile,N))}ft.generateProfileLevelIdStringForAnswer=R;function C(f,m){return+(m[0]===f)<<7|+(m[1]===f)<<6|+(m[2]===f)<<5|+(m[3]===f)<<4|+(m[4]===f)<<3|+(m[5]===f)<<2|+(m[6]===f)<<1|+(m[7]===f)<<0}function E(f,m){return f===n.L1_b?m!==n.L1&&m!==n.L1_b:m===n.L1_b?f!==n.L1:f<m}function _(f,m){return E(f,m)?f:m}function p(f={}){const m=f["level-asymmetry-allowed"];return m===!0||m===1||m==="1"}return ft}var e_;function yr(){if(e_)return St;e_=1;var e=St&&St.__createBinding||(Object.create?function(O,U,F,z){z===void 0&&(z=F);var q=Object.getOwnPropertyDescriptor(U,F);(!q||("get"in q?!U.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return U[F]}}),Object.defineProperty(O,z,q)}:function(O,U,F,z){z===void 0&&(z=F),O[z]=U[F]}),t=St&&St.__setModuleDefault||(Object.create?function(O,U){Object.defineProperty(O,"default",{enumerable:!0,value:U})}:function(O,U){O.default=U}),r=St&&St.__importStar||function(O){if(O&&O.__esModule)return O;var U={};if(O!=null)for(var F in O)F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)&&e(U,O,F);return t(U,O),U};Object.defineProperty(St,"__esModule",{value:!0}),St.validateRtpCapabilities=d,St.validateRtpParameters=h,St.validateSctpStreamParameters=v,St.validateSctpCapabilities=y,St.getExtendedRtpCapabilities=w,St.getRecvRtpCapabilities=S,St.getSendingRtpParameters=b,St.getSendingRemoteRtpParameters=R,St.reduceCodecs=C,St.generateProbatorRtpParameters=E,St.canSend=_,St.canReceive=p;const n=r(NO()),i=r(Vt()),a="probator",c=1234,u=127;function d(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(O.codecs&&!Array.isArray(O.codecs))throw new TypeError("caps.codecs is not an array");O.codecs||(O.codecs=[]);for(const U of O.codecs)f(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)x(U)}function h(O){if(typeof O!="object")throw new TypeError("params is not an object");if(O.mid&&typeof O.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(O.codecs))throw new TypeError("missing params.codecs");for(const U of O.codecs)k(U);if(O.headerExtensions&&!Array.isArray(O.headerExtensions))throw new TypeError("params.headerExtensions is not an array");O.headerExtensions||(O.headerExtensions=[]);for(const U of O.headerExtensions)I(U);if(O.encodings&&!Array.isArray(O.encodings))throw new TypeError("params.encodings is not an array");O.encodings||(O.encodings=[]);for(const U of O.encodings)j(U);if(O.rtcp&&typeof O.rtcp!="object")throw new TypeError("params.rtcp is not an object");O.rtcp||(O.rtcp={}),L(O.rtcp)}function v(O){if(typeof O!="object")throw new TypeError("params is not an object");if(typeof O.streamId!="number")throw new TypeError("missing params.streamId");let U=!1;if(typeof O.ordered=="boolean"?U=!0:O.ordered=!0,O.maxPacketLifeTime&&typeof O.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(O.maxRetransmits&&typeof O.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(O.maxPacketLifeTime&&O.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(U&&O.ordered&&(O.maxPacketLifeTime||O.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!U&&(O.maxPacketLifeTime||O.maxRetransmits)&&(O.ordered=!1),O.label&&typeof O.label!="string")throw new TypeError("invalid params.label");if(O.protocol&&typeof O.protocol!="string")throw new TypeError("invalid params.protocol")}function y(O){if(typeof O!="object")throw new TypeError("caps is not an object");if(!O.numStreams||typeof O.numStreams!="object")throw new TypeError("missing caps.numStreams");A(O.numStreams)}function w(O,U){const F={codecs:[],headerExtensions:[]};for(const z of U.codecs??[]){if(N(z))continue;const q=(O.codecs??[]).find(Y=>V(Y,z,{strict:!0,modify:!0}));if(!q)continue;const B={mimeType:q.mimeType,kind:q.kind,clockRate:q.clockRate,channels:q.channels,localPayloadType:q.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:z.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:q.parameters,remoteParameters:z.parameters,rtcpFeedback:X(q,z)};F.codecs.push(B)}for(const z of F.codecs){const q=O.codecs.find(Y=>N(Y)&&Y.parameters.apt===z.localPayloadType),B=U.codecs.find(Y=>N(Y)&&Y.parameters.apt===z.remotePayloadType);q&&B&&(z.localRtxPayloadType=q.preferredPayloadType,z.remoteRtxPayloadType=B.preferredPayloadType)}for(const z of U.headerExtensions){const q=O.headerExtensions.find(Y=>W(Y,z));if(!q)continue;const B={kind:z.kind,uri:z.uri,sendId:q.preferredId,recvId:z.preferredId,encrypt:q.preferredEncrypt,direction:"sendrecv"};switch(z.direction){case"sendrecv":{B.direction="sendrecv";break}case"recvonly":{B.direction="sendonly";break}case"sendonly":{B.direction="recvonly";break}case"inactive":{B.direction="inactive";break}}F.headerExtensions.push(B)}return F}function S(O){const U={codecs:[],headerExtensions:[]};for(const F of O.codecs){const z={mimeType:F.mimeType,kind:F.kind,preferredPayloadType:F.remotePayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if(U.codecs.push(z),!F.remoteRtxPayloadType)continue;const q={mimeType:`${F.kind}/rtx`,kind:F.kind,preferredPayloadType:F.remoteRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.remotePayloadType},rtcpFeedback:[]};U.codecs.push(q)}for(const F of O.headerExtensions){if(F.direction!=="sendrecv"&&F.direction!=="recvonly")continue;const z={kind:F.kind,uri:F.uri,preferredId:F.recvId,preferredEncrypt:F.encrypt,direction:F.direction};U.headerExtensions.push(z)}return U}function b(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.localParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}return F}function R(O,U){const F={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const z of U.codecs){if(z.kind!==O)continue;const q={mimeType:z.mimeType,payloadType:z.localPayloadType,clockRate:z.clockRate,channels:z.channels,parameters:z.remoteParameters,rtcpFeedback:z.rtcpFeedback};if(F.codecs.push(q),z.localRtxPayloadType){const B={mimeType:`${z.kind}/rtx`,payloadType:z.localRtxPayloadType,clockRate:z.clockRate,parameters:{apt:z.localPayloadType},rtcpFeedback:[]};F.codecs.push(B)}}for(const z of U.headerExtensions){if(z.kind&&z.kind!==O||z.direction!=="sendrecv"&&z.direction!=="sendonly")continue;const q={uri:z.uri,id:z.sendId,encrypt:z.encrypt,parameters:{}};F.headerExtensions.push(q)}if(F.headerExtensions.some(z=>z.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="goog-remb");else if(F.headerExtensions.some(z=>z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc");else for(const z of F.codecs)z.rtcpFeedback=(z.rtcpFeedback??[]).filter(q=>q.type!=="transport-cc"&&q.type!=="goog-remb");return F}function C(O,U){const F=[];if(!U)F.push(O[0]),N(O[1])&&F.push(O[1]);else{for(let z=0;z<O.length;++z)if(V(O[z],U,{strict:!0})){F.push(O[z]),N(O[z+1])&&F.push(O[z+1]);break}if(F.length===0)throw new TypeError("no matching codec found")}return F}function E(O){O=i.clone(O),h(O);const U={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return U.codecs.push(O.codecs[0]),U.codecs[0].payloadType=u,U.headerExtensions=O.headerExtensions,U}function _(O,U){return U.codecs.some(F=>F.kind===O)}function p(O,U){if(h(O),O.codecs.length===0)return!1;const F=O.codecs[0];return U.codecs.some(z=>z.remotePayloadType===F.payloadType)}function f(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(O.kind=F[1].toLowerCase(),O.preferredPayloadType&&typeof O.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");O.kind==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const z of Object.keys(O.parameters)){let q=O.parameters[z];if(q===void 0&&(O.parameters[z]="",q=""),typeof q!="string"&&typeof q!="number")throw new TypeError(`invalid codec parameter [key:${z}s, value:${q}]`);if(z==="apt"&&typeof q!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const z of O.rtcpFeedback)m(z)}function m(O){if(typeof O!="object")throw new TypeError("fb is not an object");if(!O.type||typeof O.type!="string")throw new TypeError("missing fb.type");(!O.parameter||typeof O.parameter!="string")&&(O.parameter="")}function x(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(O.kind!=="audio"&&O.kind!=="video")throw new TypeError("invalid ext.kind");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.preferredId!="number")throw new TypeError("missing ext.preferredId");if(O.preferredEncrypt&&typeof O.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(O.preferredEncrypt||(O.preferredEncrypt=!1),O.direction&&typeof O.direction!="string")throw new TypeError("invalid ext.direction");O.direction||(O.direction="sendrecv")}function k(O){const U=new RegExp("^(audio|video)/(.+)","i");if(typeof O!="object")throw new TypeError("codec is not an object");if(!O.mimeType||typeof O.mimeType!="string")throw new TypeError("missing codec.mimeType");const F=U.exec(O.mimeType);if(!F)throw new TypeError("invalid codec.mimeType");if(typeof O.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof O.clockRate!="number")throw new TypeError("missing codec.clockRate");F[1].toLowerCase()==="audio"?typeof O.channels!="number"&&(O.channels=1):delete O.channels,(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const q of Object.keys(O.parameters)){let B=O.parameters[q];if(B===void 0&&(O.parameters[q]="",B=""),typeof B!="string"&&typeof B!="number")throw new TypeError(`invalid codec parameter [key:${q}s, value:${B}]`);if(q==="apt"&&typeof B!="number")throw new TypeError("invalid codec apt parameter")}(!O.rtcpFeedback||!Array.isArray(O.rtcpFeedback))&&(O.rtcpFeedback=[]);for(const q of O.rtcpFeedback)m(q)}function I(O){if(typeof O!="object")throw new TypeError("ext is not an object");if(!O.uri||typeof O.uri!="string")throw new TypeError("missing ext.uri");if(typeof O.id!="number")throw new TypeError("missing ext.id");if(O.encrypt&&typeof O.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");O.encrypt||(O.encrypt=!1),(!O.parameters||typeof O.parameters!="object")&&(O.parameters={});for(const U of Object.keys(O.parameters)){let F=O.parameters[U];if(F===void 0&&(O.parameters[U]="",F=""),typeof F!="string"&&typeof F!="number")throw new TypeError("invalid header extension parameter")}}function j(O){if(typeof O!="object")throw new TypeError("encoding is not an object");if(O.ssrc&&typeof O.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(O.rid&&typeof O.rid!="string")throw new TypeError("invalid encoding.rid");if(O.rtx&&typeof O.rtx!="object")throw new TypeError("invalid encoding.rtx");if(O.rtx&&typeof O.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!O.dtx||typeof O.dtx!="boolean")&&(O.dtx=!1),O.scalabilityMode&&typeof O.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function L(O){if(typeof O!="object")throw new TypeError("rtcp is not an object");if(O.cname&&typeof O.cname!="string")throw new TypeError("invalid rtcp.cname");(!O.reducedSize||typeof O.reducedSize!="boolean")&&(O.reducedSize=!0)}function A(O){if(typeof O!="object")throw new TypeError("numStreams is not an object");if(typeof O.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof O.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(O){return O?/.+\/rtx$/i.test(O.mimeType):!1}function V(O,U,{strict:F=!1,modify:z=!1}={}){const q=O.mimeType.toLowerCase(),B=U.mimeType.toLowerCase();if(q!==B||O.clockRate!==U.clockRate||O.channels!==U.channels)return!1;switch(q){case"video/h264":{if(F){const Y=O.parameters["packetization-mode"]||0,ae=U.parameters["packetization-mode"]||0;if(Y!==ae||!n.isSameProfile(O.parameters,U.parameters))return!1;let de;try{de=n.generateProfileLevelIdStringForAnswer(O.parameters,U.parameters)}catch{return!1}z&&(de?(O.parameters["profile-level-id"]=de,U.parameters["profile-level-id"]=de):(delete O.parameters["profile-level-id"],delete U.parameters["profile-level-id"]))}break}case"video/vp9":{if(F){const Y=O.parameters["profile-id"]||0,ae=U.parameters["profile-id"]||0;if(Y!==ae)return!1}break}}return!0}function W(O,U){return!(O.kind&&U.kind&&O.kind!==U.kind||O.uri!==U.uri)}function X(O,U){const F=[];for(const z of O.rtcpFeedback??[]){const q=(U.rtcpFeedback??[]).find(B=>B.type===z.type&&(B.parameter===z.parameter||!B.parameter&&!z.parameter));q&&F.push(q)}return F}return St}var Cr={},Zn={},Ra={},t_;function AO(){if(t_)return Ra;t_=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.Logger=void 0;const e=wd(),t="awaitqueue";let r=class{constructor(i){i?(this._debug=(0,e.default)(`${t}:${i}`),this._warn=(0,e.default)(`${t}:WARN:${i}`),this._error=(0,e.default)(`${t}:ERROR:${i}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Ra.Logger=r,Ra}var r_;function $O(){if(r_)return Zn;r_=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.AwaitQueue=Zn.AwaitQueueRemovedTaskError=Zn.AwaitQueueStoppedError=void 0;const e=AO(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}Zn.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}Zn.AwaitQueueRemovedTaskError=n;class i{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,u){if(u=u??c.name,t.debug(`push() [name:${u}]`),typeof c!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(c,"name",{value:u})}catch{}return new Promise((d,h)=>{const v={id:this.nextTaskId++,task:c,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:y=>{if(v.completed)return;v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`resolving task [name:${v.name}]`),d(y);const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)},reject:y=>{if(!v.completed&&(v.completed=!0,this.pendingTasks.delete(v.id),t.debug(`rejecting task [name:${v.name}]: %s`,String(y)),h(y),!this.stopping)){const[w]=this.pendingTasks.values();w&&!w.executedAt&&this.execute(w)}}};this.pendingTasks.set(v.id,v),this.pendingTasks.size===1&&this.execute(v)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const u=Array.from(this.pendingTasks.values())[c];if(!u){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}u.reject(new n)}dump(){const c=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(d=>({idx:u++,task:d.task,name:d.name,enqueuedTime:d.executedAt?d.executedAt-d.enqueuedAt:c-d.enqueuedAt,executionTime:d.executedAt?c-d.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const u=await c.task();c.resolve(u)}catch(u){c.reject(u)}}}return Zn.AwaitQueue=i,Zn}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rh,n_;function FO(){if(n_)return rh;n_=1;let e;return rh=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:NR):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),rh}var Ea={},s_;function q1(){if(s_)return Ea;s_=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.Producer=void 0;const e=Rt(),t=Io(),r=or(),n=new e.Logger("Producer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,rtpSender:d,track:h,rtpParameters:v,stopTracks:y,disableTrackOnPause:w,zeroRtpOnPause:S,appData:b}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=u,this._rtpSender=d,this._track=h,this._kind=h.kind,this._rtpParameters=v,this._paused=w?!h.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=y,this._disableTrackOnPause=w,this._zeroRtpOnPause=S,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@pause",c,u)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,u)=>{this.safeEmit("@resume",c,u)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((u,d)=>{this.safeEmit("@replacetrack",c,u,d)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((u,d)=>{this.safeEmit("@setmaxspatiallayer",c,u,d)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((u,d)=>{this.safeEmit("@setrtpencodingparameters",c,u,d)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Ea.Producer=i,Ea}var Ta={},o_;function G1(){if(o_)return Ta;o_=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.Consumer=void 0;const e=Rt(),t=Io(),r=or(),n=new e.Logger("Consumer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,localId:u,producerId:d,rtpReceiver:h,track:v,rtpParameters:y,appData:w}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=u,this._producerId=d,this._rtpReceiver=h,this._track=v,this._rtpParameters=y,this._paused=!v.enabled,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,u)=>{this.safeEmit("@getstats",c,u)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Ta.Consumer=i,Ta}var Pa={},i_;function K1(){if(i_)return Pa;i_=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DataProducer=void 0;const e=Rt(),t=Io(),r=or(),n=new e.Logger("DataProducer");let i=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:u,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=u,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:u}=c;u||(u=new Error("unknown DataChannel error")),u.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",u.sctpCauseCode,u.message):n.error('DataChannel "error" event: %o',u),this.safeEmit("error",u)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Pa.DataProducer=i,Pa}var ka={},a_;function Y1(){if(a_)return ka;a_=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.DataConsumer=void 0;const e=Rt(),t=Io(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:u,sctpStreamParameters:d,appData:h}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=u,this._sctpStreamParameters=d,this._appData=h??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return ka.DataConsumer=n,ka}var c_;function X1(){if(c_)return Cr;c_=1;var e=Cr&&Cr.__createBinding||(Object.create?function(_,p,f,m){m===void 0&&(m=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,m,x)}:function(_,p,f,m){m===void 0&&(m=f),_[m]=p[f]}),t=Cr&&Cr.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=Cr&&Cr.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p},n=Cr&&Cr.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.Transport=void 0;const i=$O(),a=n(FO()),c=Rt(),u=Io(),d=or(),h=r(Vt()),v=r(yr()),y=q1(),w=G1(),S=K1(),b=Y1(),R=new c.Logger("Transport");class C{constructor(p){this.consumerOptions=p,this.promise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}}let E=class extends u.EnhancedEventEmitter{constructor({direction:p,id:f,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:I,iceServers:j,iceTransportPolicy:L,additionalSettings:A,proprietaryConstraints:N,appData:V,handlerFactory:W,extendedRtpCapabilities:X,canProduceByKind:O}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new u.EnhancedEventEmitter,R.debug("constructor() [id:%s, direction:%s]",f,p),this._id=f,this._direction=p,this._extendedRtpCapabilities=X,this._canProduceByKind=O,this._maxSctpMessageSize=I?I.maxMessageSize:null;const U=h.clone(A)??{};delete U.iceServers,delete U.iceTransportPolicy,delete U.bundlePolicy,delete U.rtcpMuxPolicy,delete U.sdpSemantics,this._handler=W(),this._handler.run({direction:p,iceParameters:m,iceCandidates:x,dtlsParameters:k,sctpParameters:I,iceServers:j,iceTransportPolicy:L,additionalSettings:U,proprietaryConstraints:N,extendedRtpCapabilities:X}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(p){this._appData=p}get observer(){return this._observer}close(){if(!this._closed){R.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const p of this._producers.values())p.transportClosed();this._producers.clear();for(const p of this._consumers.values())p.transportClosed();this._consumers.clear();for(const p of this._dataProducers.values())p.transportClosed();this._dataProducers.clear();for(const p of this._dataConsumers.values())p.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:p}){if(R.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!p)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(p),"transport.restartIce()")}async updateIceServers({iceServers:p}={}){if(R.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(p))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(p),"transport.updateIceServers()")}async produce({track:p,encodings:f,codecOptions:m,codec:x,stopTracks:k=!0,disableTrackOnPause:I=!0,zeroRtpOnPause:j=!1,onRtpSender:L,appData:A={}}={}){if(R.debug("produce() [track:%o]",p),this._closed)throw new d.InvalidStateError("closed");if(p){if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._canProduceByKind[p.kind]){if(p.readyState==="ended")throw new d.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError(`cannot produce ${p.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(f&&!Array.isArray(f))throw TypeError("encodings must be an array");f&&f.length===0?N=void 0:f&&(N=f.map(O=>{const U={active:!0};return O.active===!1&&(U.active=!1),typeof O.dtx=="boolean"&&(U.dtx=O.dtx),typeof O.scalabilityMode=="string"&&(U.scalabilityMode=O.scalabilityMode),typeof O.scaleResolutionDownBy=="number"&&(U.scaleResolutionDownBy=O.scaleResolutionDownBy),typeof O.maxBitrate=="number"&&(U.maxBitrate=O.maxBitrate),typeof O.maxFramerate=="number"&&(U.maxFramerate=O.maxFramerate),typeof O.adaptivePtime=="boolean"&&(U.adaptivePtime=O.adaptivePtime),typeof O.priority=="string"&&(U.priority=O.priority),typeof O.networkPriority=="string"&&(U.networkPriority=O.networkPriority),U}));const{localId:V,rtpParameters:W,rtpSender:X}=await this._handler.send({track:p,encodings:N,codecOptions:m,codec:x,onRtpSender:L});try{v.validateRtpParameters(W);const{id:O}=await new Promise((F,z)=>{this.safeEmit("produce",{kind:p.kind,rtpParameters:W,appData:A},F,z)}),U=new y.Producer({id:O,localId:V,rtpSender:X,track:p,rtpParameters:W,stopTracks:k,disableTrackOnPause:I,zeroRtpOnPause:j,appData:A});return this._producers.set(U.id,U),this.handleProducer(U),this._observer.safeEmit("newproducer",U),U}catch(O){throw this._handler.stopSending(V).catch(()=>{}),O}},"transport.produce()").catch(N=>{if(k)try{p.stop()}catch{}throw N})}async consume({id:p,producerId:f,kind:m,rtpParameters:x,streamId:k,onRtpReceiver:I,appData:j={}}){if(R.debug("consume()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(typeof p!="string")throw new TypeError("missing id");if(typeof f!="string")throw new TypeError("missing producerId");if(m!=="audio"&&m!=="video")throw new TypeError(`invalid kind '${m}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object");const L=h.clone(x);if(!v.canReceive(L,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const N=new C({id:p,producerId:f,kind:m,rtpParameters:L,streamId:k,onRtpReceiver:I,appData:j});return this._pendingConsumerTasks.push(N),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),N.promise}async produceData({ordered:p=!0,maxPacketLifeTime:f,maxRetransmits:m,label:x="",protocol:k="",appData:I={}}={}){if(R.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(I&&typeof I!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");return(f||m)&&(p=!1),this._awaitQueue.push(async()=>{const{dataChannel:j,sctpStreamParameters:L}=await this._handler.sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:m,label:x,protocol:k});v.validateSctpStreamParameters(L);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:L,label:x,protocol:k,appData:I},V,W)}),N=new S.DataProducer({id:A,dataChannel:j,sctpStreamParameters:L,appData:I});return this._dataProducers.set(N.id,N),this.handleDataProducer(N),this._observer.safeEmit("newdataproducer",N),N},"transport.produceData()")}async consumeData({id:p,dataProducerId:f,sctpStreamParameters:m,label:x="",protocol:k="",appData:I={}}){if(R.debug("consumeData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof p!="string")throw new TypeError("missing id");if(typeof f!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(I&&typeof I!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");const j=h.clone(m);return v.validateSctpStreamParameters(j),this._awaitQueue.push(async()=>{const{dataChannel:L}=await this._handler.receiveDataChannel({sctpStreamParameters:j,label:x,protocol:k}),A=new b.DataConsumer({id:p,dataProducerId:f,dataChannel:L,sctpStreamParameters:j,appData:I});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){R.debug("createPendingConsumers() | there is no Consumer to be created");return}const p=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let f;const m=[];for(const x of p){const{id:k,kind:I,rtpParameters:j,streamId:L,onRtpReceiver:A}=x.consumerOptions;m.push({trackId:k,kind:I,rtpParameters:j,streamId:L,onRtpReceiver:A})}try{const x=await this._handler.receive(m);for(let k=0;k<x.length;++k){const I=p[k],j=x[k],{id:L,producerId:A,kind:N,rtpParameters:V,appData:W}=I.consumerOptions,{localId:X,rtpReceiver:O,track:U}=j,F=new w.Consumer({id:L,localId:X,producerId:A,rtpReceiver:O,track:U,rtpParameters:V,appData:W});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!f&&N==="video"&&(f=F),this._observer.safeEmit("newconsumer",F),I.resolve(F)}}catch(x){for(const k of p)k.reject(x)}if(f)try{const x=v.generateProbatorRtpParameters(f.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:x}]),R.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(x){R.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",x)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){R.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const p=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const f=p.map(m=>m.localId);await this._handler.pauseReceiving(f)}catch(f){R.error("pausePendingConsumers() | failed to pause Consumers:",f)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){R.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const p=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const f=p.map(m=>m.localId);await this._handler.resumeReceiving(f)}catch(f){R.error("resumePendingConsumers() | failed to resume Consumers:",f)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){R.debug("closePendingConsumers() | there is no Consumer to be closed");return}const p=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(p.map(f=>f.localId))}catch(f){R.error("closePendingConsumers() | failed to close Consumers:",f)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const p=this._handler;p.on("@connect",({dtlsParameters:f},m,x)=>{if(this._closed){x(new d.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:f},m,x)}),p.on("@icegatheringstatechange",f=>{f!==this._iceGatheringState&&(R.debug("ICE gathering state changed to %s",f),this._iceGatheringState=f,this._closed||this.safeEmit("icegatheringstatechange",f))}),p.on("@connectionstatechange",f=>{f!==this._connectionState&&(R.debug("connection state changed to %s",f),this._connectionState=f,this._closed||this.safeEmit("connectionstatechange",f))})}handleProducer(p){p.on("@close",()=>{this._producers.delete(p.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(p.localId),"producer @close event").catch(f=>R.warn("producer.close() failed:%o",f))}),p.on("@pause",(f,m)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(p.localId),"producer @pause event").then(f).catch(m)}),p.on("@resume",(f,m)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(p.localId),"producer @resume event").then(f).catch(m)}),p.on("@replacetrack",(f,m,x)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(p.localId,f),"producer @replacetrack event").then(m).catch(x)}),p.on("@setmaxspatiallayer",(f,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(p.localId,f),"producer @setmaxspatiallayer event").then(m).catch(x)}),p.on("@setrtpencodingparameters",(f,m,x)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(p.localId,f),"producer @setrtpencodingparameters event").then(m).catch(x)}),p.on("@getstats",(f,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getSenderStats(p.localId).then(f).catch(m)})}handleConsumer(p){p.on("@close",()=>{this._consumers.delete(p.id),this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.delete(p.id),!this._closed&&(this._pendingCloseConsumers.set(p.id,p),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),p.on("@pause",()=>{this._pendingResumeConsumers.has(p.id)&&this._pendingResumeConsumers.delete(p.id),this._pendingPauseConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),p.on("@resume",()=>{this._pendingPauseConsumers.has(p.id)&&this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),p.on("@getstats",(f,m)=>{if(this._closed)return m(new d.InvalidStateError("closed"));this._handler.getReceiverStats(p.localId).then(f).catch(m)})}handleDataProducer(p){p.on("@close",()=>{this._dataProducers.delete(p.id)})}handleDataConsumer(p){p.on("@close",()=>{this._dataConsumers.delete(p.id)})}};return Cr.Transport=E,Cr}var Zr={},In={},nh={},sh={exports:{}},l_;function Q1(){if(l_)return sh.exports;l_=1;var e=sh.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),sh.exports}var u_;function zO(){return u_||(u_=1,function(e){var t=function(u){return String(Number(u))===u?Number(u):u},r=function(u,d,h,v){if(v&&!h)d[v]=t(u[1]);else for(var y=0;y<h.length;y+=1)u[y+1]!=null&&(d[h[y]]=t(u[y+1]))},n=function(u,d,h){var v=u.name&&u.names;u.push&&!d[u.push]?d[u.push]=[]:v&&!d[u.name]&&(d[u.name]={});var y=u.push?{}:v?d[u.name]:d;r(h.match(u.reg),y,u.names,u.name),u.push&&d[u.push].push(y)},i=Q1(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(u){var d={},h=[],v=d;return u.split(/(\r\n|\r|\n)/).filter(a).forEach(function(y){var w=y[0],S=y.slice(2);w==="m"&&(h.push({rtp:[],fmtp:[]}),v=h[h.length-1]);for(var b=0;b<(i[w]||[]).length;b+=1){var R=i[w][b];if(R.reg.test(S))return n(R,v,S)}}),d.media=h,d};var c=function(u,d){var h=d.split(/=(.+)/,2);return h.length===2?u[h[0]]=t(h[1]):h.length===1&&d.length>1&&(u[h[0]]=void 0),u};e.parseParams=function(u){return u.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(u){return u.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(u){for(var d=[],h=u.split(" ").map(t),v=0;v<h.length;v+=3)d.push({component:h[v],ip:h[v+1],port:h[v+2]});return d},e.parseImageAttributes=function(u){return u.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(u){return u.split(";").map(function(d){return d.split(",").map(function(h){var v,y=!1;return h[0]!=="~"?v=t(h):(v=t(h.substring(1,h.length)),y=!0),{scid:v,paused:y}})})}}(nh)),nh}var oh,d_;function BO(){if(d_)return oh;d_=1;var e=Q1(),t=/%[sdv%]/g,r=function(c){var u=1,d=arguments,h=d.length;return c.replace(t,function(v){if(u>=h)return v;var y=d[u];switch(u+=1,v){case"%%":return"%";case"%s":return String(y);case"%d":return Number(y);case"%v":return""}})},n=function(c,u,d){var h=u.format instanceof Function?u.format(u.push?d:d[u.name]):u.format,v=[c+"="+h];if(u.names)for(var y=0;y<u.names.length;y+=1){var w=u.names[y];u.name?v.push(d[u.name][w]):v.push(d[u.names[y]])}else v.push(d[u.name]);return r.apply(null,v)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return oh=function(c,u){u=u||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(y){y.payloads==null&&(y.payloads="")});var d=u.outerOrder||i,h=u.innerOrder||a,v=[];return d.forEach(function(y){e[y].forEach(function(w){w.name in c&&c[w.name]!=null?v.push(n(y,w,c)):w.push in c&&c[w.push]!=null&&c[w.push].forEach(function(S){v.push(n(y,w,S))})})}),c.media.forEach(function(y){v.push(n("m",e.m[0],y)),h.forEach(function(w){e[w].forEach(function(S){S.name in y&&y[S.name]!=null?v.push(n(w,S,y)):S.push in y&&y[S.push]!=null&&y[S.push].forEach(function(b){v.push(n(w,S,b))})})})}),v.join(`\r
`)+`\r
`},oh}var f_;function wr(){if(f_)return In;f_=1;var e=zO(),t=BO();return In.write=t,In.parse=e.parse,In.parseParams=e.parseParams,In.parseFmtpConfig=e.parseFmtpConfig,In.parsePayloads=e.parsePayloads,In.parseRemoteCandidates=e.parseRemoteCandidates,In.parseImageAttributes=e.parseImageAttributes,In.parseSimulcastStreamList=e.parseSimulcastStreamList,In}var Rr={},p_;function Rn(){if(p_)return Rr;p_=1;var e=Rr&&Rr.__createBinding||(Object.create?function(d,h,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(h,v);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(d,y,w)}:function(d,h,v,y){y===void 0&&(y=v),d[y]=h[v]}),t=Rr&&Rr.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Rr&&Rr.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(h,d,v);return t(h,d),h};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.extractRtpCapabilities=i,Rr.extractDtlsParameters=a,Rr.getCname=c,Rr.applyCodecParameters=u;const n=r(wr());function i({sdpObject:d}){const h=new Map,v=[];let y=!1,w=!1;for(const b of d.media){const R=b.type;switch(R){case"audio":{if(y)continue;y=!0;break}case"video":{if(w)continue;w=!0;break}default:continue}for(const C of b.rtp){const E={kind:R,mimeType:`${R}/${C.codec}`,preferredPayloadType:C.payload,clockRate:C.rate,channels:C.encoding,parameters:{},rtcpFeedback:[]};h.set(E.preferredPayloadType,E)}for(const C of b.fmtp||[]){const E=n.parseParams(C.config),_=h.get(C.payload);_&&(E!=null&&E.hasOwnProperty("profile-level-id")&&(E["profile-level-id"]=String(E["profile-level-id"])),_.parameters=E)}for(const C of b.rtcpFb||[]){const E={type:C.type,parameter:C.subtype};if(E.parameter||delete E.parameter,C.payload!=="*"){const _=h.get(C.payload);if(!_)continue;_.rtcpFeedback.push(E)}else for(const _ of h.values())_.kind===R&&!/.+\/rtx$/i.test(_.mimeType)&&_.rtcpFeedback.push(E)}for(const C of b.ext||[]){if(C["encrypt-uri"])continue;const E={kind:R,uri:C.uri,preferredId:C.value};v.push(E)}}return{codecs:Array.from(h.values()),headerExtensions:v}}function a({sdpObject:d}){let h=d.setup,v=d.fingerprint;if(!h||!v){const S=(d.media||[]).find(b=>b.port!==0);S&&(h??(h=S.setup),v??(v=S.fingerprint))}if(h){if(!v)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let y;switch(h){case"active":{y="client";break}case"passive":{y="server";break}case"actpass":{y="auto";break}}return{role:y,fingerprints:[{algorithm:v.type,value:v.hash}]}}function c({offerMediaObject:d}){const h=(d.ssrcs||[]).find(v=>v.attribute==="cname");return h?h.value:""}function u({offerRtpParameters:d,answerMediaObject:h}){for(const v of d.codecs){const y=v.mimeType.toLowerCase();if(y!=="audio/opus"||!(h.rtp||[]).find(R=>R.payload===v.payloadType))continue;h.fmtp=h.fmtp||[];let S=h.fmtp.find(R=>R.payload===v.payloadType);S||(S={payload:v.payloadType,config:""},h.fmtp.push(S));const b=n.parseParams(S.config);switch(y){case"audio/opus":{const R=v.parameters["sprop-stereo"];R!==void 0&&(b.stereo=R?1:0);break}}S.config="";for(const R of Object.keys(b))S.config&&(S.config+=";"),S.config+=`${R}=${b[R]}`}}return Rr}var Da={},h_;function Lo(){if(h_)return Da;h_=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.getRtpEncodings=e,Da.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const u=c.id;n.add(u)}if(n.size===0)throw new Error("no a=ssrc lines found");const i=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[u,d]=c.ssrcs.split(/\s+/);u=Number(u),d=Number(d),n.has(u)&&(n.delete(u),n.delete(d),i.set(u,d))}for(const c of n)i.set(c,null);const a=[];for(const[c,u]of i){const d={ssrc:c};u&&(d.rtx={ssrc:u}),a.push(d)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const i=(r.ssrcs||[]).find(S=>S.attribute==="msid");if(!i)throw new Error("a=ssrc line with msid information not found");const[a,c]=i.value.split(" "),u=Number(i.id);let d;(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===u?(d=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const v=h.value,y=[],w=[];for(let S=0;S<n;++S)y.push(u+S),d&&w.push(d+S);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${a} ${c}`});for(let S=0;S<w.length;++S){const b=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`})}}return Da}var Ml={},m_;function Sd(){if(m_)return Ml;m_=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(i=>i.type==="nack"&&!i.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return Ml}var Ma={},g_;function kr(){if(g_)return Ma;g_=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.HandlerInterface=void 0;const e=Io();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return Ma.HandlerInterface=t,Ma}var Jr={},tr={},v_;function UO(){if(v_)return tr;v_=1;var e=tr&&tr.__createBinding||(Object.create?function(h,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(h,w,S)}:function(h,v,y,w){w===void 0&&(w=y),h[w]=v[y]}),t=tr&&tr.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),r=tr&&tr.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var y in h)y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)&&e(v,h,y);return t(v,h),v};Object.defineProperty(tr,"__esModule",{value:!0}),tr.OfferMediaSection=tr.AnswerMediaSection=tr.MediaSection=void 0;const n=r(wr()),i=r(Vt());let a=class{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:S=!1}){if(this._mediaObject={},this._planB=S,v&&this.setIceParameters(v),y){this._mediaObject.candidates=[];for(const b of y){const R={};R.component=1,R.foundation=b.foundation,R.ip=b.address??b.ip,R.port=b.port,R.priority=b.priority,R.transport=b.protocol,R.type=b.type,b.tcpType&&(R.tcptype=b.tcpType),this._mediaObject.candidates.push(R)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}w&&this.setDtlsRole(w.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(v){this._mediaObject.iceUfrag=v.usernameFragment,this._mediaObject.icePwd=v.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};tr.MediaSection=a;class c extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:R=!1,offerMediaObject:C,offerRtpParameters:E,answerRtpParameters:_,codecOptions:p,extmapAllowMixed:f=!1}){switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C.mid),this._mediaObject.type=C.type,this._mediaObject.protocol=C.protocol,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),C.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const m of _.codecs){const x={payload:m.payloadType,codec:d(m),rate:m.clockRate};m.channels>1&&(x.encoding=m.channels),this._mediaObject.rtp.push(x);const k=i.clone(m.parameters)??{};let I=i.clone(m.rtcpFeedback)??[];if(p){const{opusStereo:L,opusFec:A,opusDtx:N,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:X,opusNack:O,videoGoogleStartBitrate:U,videoGoogleMaxBitrate:F,videoGoogleMinBitrate:z}=p,q=E.codecs.find(B=>B.payloadType===m.payloadType);switch(m.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{L!==void 0&&(q.parameters["sprop-stereo"]=L?1:0,k.stereo=L?1:0),A!==void 0&&(q.parameters.useinbandfec=A?1:0,k.useinbandfec=A?1:0),N!==void 0&&(q.parameters.usedtx=N?1:0,k.usedtx=N?1:0),V!==void 0&&(k.maxplaybackrate=V),W!==void 0&&(k.maxaveragebitrate=W),X!==void 0&&(q.parameters.ptime=X,k.ptime=X),O||(q.rtcpFeedback=q.rtcpFeedback.filter(B=>B.type!=="nack"||B.parameter),I=I.filter(B=>B.type!=="nack"||B.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{U!==void 0&&(k["x-google-start-bitrate"]=U),F!==void 0&&(k["x-google-max-bitrate"]=F),z!==void 0&&(k["x-google-min-bitrate"]=z);break}}}const j={payload:m.payloadType,config:""};for(const L of Object.keys(k))j.config&&(j.config+=";"),j.config+=`${L}=${k[L]}`;j.config&&this._mediaObject.fmtp.push(j);for(const L of I)this._mediaObject.rtcpFb.push({payload:m.payloadType,type:L.type,subtype:L.parameter})}this._mediaObject.payloads=_.codecs.map(m=>m.payloadType).join(" "),this._mediaObject.ext=[];for(const m of _.headerExtensions)(C.ext??[]).some(k=>k.uri===m.uri)&&this._mediaObject.ext.push({uri:m.uri,value:m.id});if(f&&C.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),C.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:C.simulcast.list1},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}else if(C.simulcast_03){this._mediaObject.simulcast_03={value:C.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const m of C.rids??[])m.direction==="send"&&this._mediaObject.rids.push({id:m.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof C.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize):C.sctpmap&&(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize});break}}}setDtlsRole(v){switch(v){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(v){var b,R;if(!((b=this._mediaObject.simulcast)!=null&&b.list1))return;const y={};for(const C of v)C.rid&&(y[C.rid]=C);const w=this._mediaObject.simulcast.list1,S=n.parseSimulcastStreamList(w);for(const C of S)for(const E of C)E.paused=!((R=y[E.scid])!=null&&R.active);this._mediaObject.simulcast.list1=S.map(C=>C.map(E=>`${E.paused?"~":""}${E.scid}`).join(",")).join(";")}}tr.AnswerMediaSection=c;class u extends a{constructor({iceParameters:v,iceCandidates:y,dtlsParameters:w,sctpParameters:S,plainRtpParameters:b,planB:R=!1,mid:C,kind:E,offerRtpParameters:_,streamId:p,trackId:f,oldDataChannelSpec:m=!1}){var x;switch(super({iceParameters:v,iceCandidates:y,dtlsParameters:w,planB:R}),this._mediaObject.mid=String(C),this._mediaObject.type=E,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},S?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),E){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${p??"-"} ${f}`);for(const L of _.codecs){const A={payload:L.payloadType,codec:d(L),rate:L.clockRate};L.channels>1&&(A.encoding=L.channels),this._mediaObject.rtp.push(A);const N={payload:L.payloadType,config:""};for(const V of Object.keys(L.parameters))N.config&&(N.config+=";"),N.config+=`${V}=${L.parameters[V]}`;N.config&&this._mediaObject.fmtp.push(N);for(const V of L.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:L.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=_.codecs.map(L=>L.payloadType).join(" "),this._mediaObject.ext=[];for(const L of _.headerExtensions)this._mediaObject.ext.push({uri:L.uri,value:L.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const k=_.encodings[0],I=k.ssrc,j=(x=k.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],_.rtcp.cname&&this._mediaObject.ssrcs.push({id:I,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:I,attribute:"msid",value:`${p??"-"} ${f}`}),j&&(_.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:_.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${p??"-"} ${f}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${I} ${j}`}));break}case"application":{m?(this._mediaObject.payloads=S.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:S.port,maxMessageSize:S.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=S.port,this._mediaObject.maxMessageSize=S.maxMessageSize);break}}}setDtlsRole(v){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:v,streamId:y,trackId:w}){var E;const S=v.encodings[0],b=S.ssrc,R=(E=S.rtx)==null?void 0:E.ssrc,C=this._mediaObject.payloads.split(" ");for(const _ of v.codecs){if(C.includes(String(_.payloadType)))continue;const p={payload:_.payloadType,codec:d(_),rate:_.clockRate};_.channels>1&&(p.encoding=_.channels),this._mediaObject.rtp.push(p);const f={payload:_.payloadType,config:""};for(const m of Object.keys(_.parameters))f.config&&(f.config+=";"),f.config+=`${m}=${_.parameters[m]}`;f.config&&this._mediaObject.fmtp.push(f);for(const m of _.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:_.payloadType,type:m.type,subtype:m.parameter})}this._mediaObject.payloads+=` ${v.codecs.filter(_=>!this._mediaObject.payloads.includes(_.payloadType)).map(_=>_.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),v.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${y??"-"} ${w}`}),R&&(v.rtcp.cname&&this._mediaObject.ssrcs.push({id:R,attribute:"cname",value:v.rtcp.cname}),this._mediaObject.ssrcs.push({id:R,attribute:"msid",value:`${y??"-"} ${w}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`}))}planBStopReceiving({offerRtpParameters:v}){var b;const y=v.encodings[0],w=y.ssrc,S=(b=y.rtx)==null?void 0:b.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(R=>R.id!==w&&R.id!==S),S&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(R=>R.ssrcs!==`${w} ${S}`))}}tr.OfferMediaSection=u;function d(h){const y=new RegExp("^(audio|video)/(.+)","i").exec(h.mimeType);if(!y)throw new TypeError("invalid codec.mimeType");return y[2]}return tr}var y_;function En(){if(y_)return Jr;y_=1;var e=Jr&&Jr.__createBinding||(Object.create?function(d,h,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(h,v);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(d,y,w)}:function(d,h,v,y){y===void 0&&(y=v),d[y]=h[v]}),t=Jr&&Jr.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Jr&&Jr.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&e(h,d,v);return t(h,d),h};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.RemoteSdp=void 0;const n=r(wr()),i=Rt(),a=UO(),c=new i.Logger("RemoteSdp");let u=class{constructor({iceParameters:h,iceCandidates:v,dtlsParameters:y,sctpParameters:w,plainRtpParameters:S,planB:b=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=h,this._iceCandidates=v,this._dtlsParameters=y,this._sctpParameters=w,this._plainRtpParameters=S,this._planB=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},h!=null&&h.iceLite&&(this._sdpObject.icelite="ice-lite"),y){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const R=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:y.fingerprints[R-1].algorithm,hash:y.fingerprints[R-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(h){c.debug("updateIceParameters() [iceParameters:%o]",h),this._iceParameters=h,this._sdpObject.icelite=h.iceLite?"ice-lite":void 0;for(const v of this._mediaSections)v.setIceParameters(h)}updateDtlsRole(h){c.debug("updateDtlsRole() [role:%s]",h),this._dtlsParameters.role=h;for(const v of this._mediaSections)v.setDtlsRole(h)}getNextMediaSectionIdx(){for(let h=0;h<this._mediaSections.length;++h){const v=this._mediaSections[h];if(v.closed)return{idx:h,reuseMid:v.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:h,reuseMid:v,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b=!1}){const R=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:h,offerRtpParameters:y,answerRtpParameters:w,codecOptions:S,extmapAllowMixed:b});v?this._replaceMediaSection(R,v):this._midToIndex.has(R.mid)?this._replaceMediaSection(R):this._addMediaSection(R)}receive({mid:h,kind:v,offerRtpParameters:y,streamId:w,trackId:S}){const b=this._midToIndex.get(h);let R;if(b!==void 0&&(R=this._mediaSections[b]),R)R.planBReceive({offerRtpParameters:y,streamId:w,trackId:S}),this._replaceMediaSection(R);else{R=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:h,kind:v,offerRtpParameters:y,streamId:w,trackId:S});const C=this._mediaSections.find(E=>E.closed);C?this._replaceMediaSection(R,C.mid):this._addMediaSection(R)}}pauseMediaSection(h){this._findMediaSection(h).pause()}resumeSendingMediaSection(h){this._findMediaSection(h).resume()}resumeReceivingMediaSection(h){this._findMediaSection(h).resume()}disableMediaSection(h){this._findMediaSection(h).disable()}closeMediaSection(h){const v=this._findMediaSection(h);return h===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",h),this.disableMediaSection(h),!1):(v.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(h,v){const y=this._findMediaSection(h);y.muxSimulcastStreams(v),this._replaceMediaSection(y)}planBStopReceiving({mid:h,offerRtpParameters:v}){const y=this._findMediaSection(h);y.planBStopReceiving({offerRtpParameters:v}),this._replaceMediaSection(y)}sendSctpAssociation({offerMediaObject:h}){const v=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:h});this._addMediaSection(v)}receiveSctpAssociation({oldDataChannelSpec:h=!1}={}){const v=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:h});this._addMediaSection(v)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(h){this._firstMid||(this._firstMid=h.mid),this._mediaSections.push(h),this._midToIndex.set(h.mid,this._mediaSections.length-1),this._sdpObject.media.push(h.getObject()),this._regenerateBundleMids()}_replaceMediaSection(h,v){if(typeof v=="string"){const y=this._midToIndex.get(v);if(y===void 0)throw new Error(`no media section found for reuseMid '${v}'`);const w=this._mediaSections[y];this._mediaSections[y]=h,this._midToIndex.delete(w.mid),this._midToIndex.set(h.mid,y),this._sdpObject.media[y]=h.getObject(),this._regenerateBundleMids()}else{const y=this._midToIndex.get(h.mid);if(y===void 0)throw new Error(`no media section found with mid '${h.mid}'`);this._mediaSections[y]=h,this._sdpObject.media[y]=h.getObject()}}_findMediaSection(h){const v=this._midToIndex.get(h);if(v===void 0)throw new Error(`no media section found with mid '${h}'`);return this._mediaSections[v]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(h=>!h.closed).map(h=>h.mid).join(" "))}};return Jr.RemoteSdp=u,Jr}var Il={},w_;function Ys(){if(w_)return Il;w_=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return Il}var S_;function VO(){if(S_)return Zr;S_=1;var e=Zr&&Zr.__createBinding||(Object.create?function(_,p,f,m){m===void 0&&(m=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,m,x)}:function(_,p,f,m){m===void 0&&(m=f),_[m]=p[f]}),t=Zr&&Zr.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=Zr&&Zr.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Chrome111=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(Lo()),h=r(Sd()),v=or(),y=kr(),w=En(),S=Ys(),b=new i.Logger("Chrome111"),R="Chrome111",C={OS:1024,MIS:1024};let E=class Z1 extends y.HandlerInterface{static createFactory(){return()=>new Z1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const m=n.parse(f.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:I,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...L},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:m,codec:x,onRtpSender:k}){if(this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1){let U=1;for(const F of f){const z=F.scalabilityMode?(0,S.parse)(F.scalabilityMode).temporalLayers:3;z>U&&(U=z)}f.forEach((F,z)=>{F.rid=`r${z}`,F.scalabilityMode=`L1T${U}`})}const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const L=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});k&&k(A.sender);const N=await this._pc.createOffer();let V=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const W=A.mid;I.mid=W,V=n.parse(this._pc.localDescription.sdp);const X=V.media[L.idx];if(I.rtcp.cname=u.getCname({offerMediaObject:X}),!f)I.encodings=d.getRtpEncodings({offerMediaObject:X});else if(f.length===1){const U=d.getRtpEncodings({offerMediaObject:X});Object.assign(U[0],f[0]),I.encodings=U}else I.encodings=f;this._remoteSdp.send({offerMediaObject:X,reuseMid:L.reuseMid,offerRtpParameters:I,answerRtpParameters:j,codecOptions:m,extmapAllowMixed:!0});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{L<=f?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{x.encodings[L]={...j,...f}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const L={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const j of p){const{trackId:L,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",L,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(L,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:L})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of p){const{trackId:L,onRtpReceiver:A}=j;if(A){const N=m.get(L),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const I=n.parse(k.sdp);for(const j of p){const{trackId:L,rtpParameters:A}=j,N=m.get(L),V=I.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of p){const{trackId:L}=j,A=m.get(L),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j}=p,L={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j,protocol:m};b.debug("receiveDataChannel() [options:%o]",L);const A=this._pc.createDataChannel(f,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:f});m.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Zr.Chrome111=E,Zr}var en={},__;function HO(){if(__)return en;__=1;var e=en&&en.__createBinding||(Object.create?function(_,p,f,m){m===void 0&&(m=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,m,x)}:function(_,p,f,m){m===void 0&&(m=f),_[m]=p[f]}),t=en&&en.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=en&&en.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(en,"__esModule",{value:!0}),en.Chrome74=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(Lo()),h=r(Sd()),v=or(),y=kr(),w=En(),S=Ys(),b=new i.Logger("Chrome74"),R="Chrome74",C={OS:1024,MIS:1024};let E=class J1 extends y.HandlerInterface{static createFactory(){return()=>new J1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const m=n.parse(f.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:I,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:A,extendedRtpCapabilities:N}){b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...L},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:m,codec:x}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1&&f.forEach((F,z)=>{F.rid=`r${z}`});const k=a.clone(this._sendingRtpParametersByKind[p.kind]);k.codecs=c.reduceCodecs(k.codecs,x);const I=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const j=this._remoteSdp.getNextMediaSectionIdx(),L=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});let A=await this._pc.createOffer(),N=n.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let W=!1;const X=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length===1&&X.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,N=n.parse(A.sdp),V=N.media[j.idx],d.addLegacySimulcast({offerMediaObject:V,numStreams:X.spatialLayers}),A={type:"offer",sdp:n.write(N)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const O=L.mid;if(k.mid=O,N=n.parse(this._pc.localDescription.sdp),V=N.media[j.idx],k.rtcp.cname=u.getCname({offerMediaObject:V}),!f)k.encodings=d.getRtpEncodings({offerMediaObject:V});else if(f.length===1){let F=d.getRtpEncodings({offerMediaObject:V});Object.assign(F[0],f[0]),W&&(F=[F[0]]),k.encodings=F}else k.encodings=f;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of k.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${X.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:j.reuseMid,offerRtpParameters:k,answerRtpParameters:I,codecOptions:m,extmapAllowMixed:!0});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,L),{localId:O,rtpParameters:k,rtpSender:L.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{L<=f?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{x.encodings[L]={...j,...f}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const L={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const j of p){const{trackId:L,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",L,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(L,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:L})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let k=await this._pc.createAnswer();const I=n.parse(k.sdp);for(const j of p){const{trackId:L,rtpParameters:A}=j,N=m.get(L),V=I.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of p){const{trackId:L}=j,A=m.get(L),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j}=p,L={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j,protocol:m};b.debug("receiveDataChannel() [options:%o]",L);const A=this._pc.createDataChannel(f,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:f});m.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return en.Chrome74=E,en}var tn={},b_;function WO(){if(b_)return tn;b_=1;var e=tn&&tn.__createBinding||(Object.create?function(C,E,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(E,_);(!f||("get"in f?!E.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,p,f)}:function(C,E,_,p){p===void 0&&(p=_),C[p]=E[_]}),t=tn&&tn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=tn&&tn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(tn,"__esModule",{value:!0}),tn.Chrome70=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(Lo()),h=kr(),v=En(),y=Ys(),w=new i.Logger("Chrome70"),S="Chrome70",b={OS:1024,MIS:1024};let R=class ex extends h.HandlerInterface{static createFactory(){return()=>new ex}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{E.addTransceiver("audio"),E.addTransceiver("video");const _=await E.createOffer();try{E.close()}catch{}const p=n.parse(_.sdp);return u.extractRtpCapabilities({sdpObject:p})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:I,proprietaryConstraints:j,extendedRtpCapabilities:L}){w.debug("run()"),this._direction=E,this._remoteSdp=new v.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...I},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id);const m=a.clone(this._sendingRtpParametersByKind[E.kind]);m.codecs=c.reduceCodecs(m.codecs,f);const x=a.clone(this._sendingRemoteRtpParametersByKind[E.kind]);x.codecs=c.reduceCodecs(x.codecs,f);const k=this._remoteSdp.getNextMediaSectionIdx(),I=this._pc.addTransceiver(E,{direction:"sendonly",streams:[this._sendStream]});let j=await this._pc.createOffer(),L=n.parse(j.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),_&&_.length>1&&(w.debug("send() | enabling legacy simulcast"),L=n.parse(j.sdp),A=L.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:_.length}),j={type:"offer",sdp:n.write(L)});let N=!1;const V=(0,y.parse)((_??[{}])[0].scalabilityMode);if(_&&_.length===1&&V.spatialLayers>1&&m.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),N=!0,L=n.parse(j.sdp),A=L.media[k.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),j={type:"offer",sdp:n.write(L)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),_){w.debug("send() | applying given encodings");const O=I.sender.getParameters();for(let U=0;U<(O.encodings??[]).length;++U){const F=O.encodings[U],z=_[U];if(!z)break;O.encodings[U]=Object.assign(F,z)}await I.sender.setParameters(O)}const W=I.mid;if(m.mid=W,L=n.parse(this._pc.localDescription.sdp),A=L.media[k.idx],m.rtcp.cname=u.getCname({offerMediaObject:A}),m.encodings=d.getRtpEncodings({offerMediaObject:A}),_)for(let O=0;O<m.encodings.length;++O)_[O]&&Object.assign(m.encodings[O],_[O]);if(N&&(m.encodings=[m.encodings[0]]),m.encodings.length>1&&(m.codecs[0].mimeType.toLowerCase()==="video/vp8"||m.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of m.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:k.reuseMid,offerRtpParameters:m,answerRtpParameters:x,codecOptions:p});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(W,I),{localId:W,rtpParameters:m,rtpSender:I.sender}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");if(_.sender.replaceTrack(null),this._pc.removeTrack(_.sender),this._remoteSdp.closeMediaSection(_.mid))try{_.stop()}catch{}const f=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(E)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){this.assertSendDirection(),_?w.debug("replaceTrack() [localId:%s, track.id:%s]",E,_.id):w.debug("replaceTrack() [localId:%s, no track]",E);const p=this._mapMidTransceiver.get(E);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(_)}async setMaxSpatialLayer(E,_){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",E,_);const p=this._mapMidTransceiver.get(E);if(!p)throw new Error("associated RTCRtpTransceiver not found");const f=p.sender.getParameters();f.encodings.forEach((k,I)=>{I<=_?k.active=!0:k.active=!1}),await p.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(E,f.encodings);const m=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async setRtpEncodingParameters(E,_){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",E,_);const p=this._mapMidTransceiver.get(E);if(!p)throw new Error("associated RTCRtpTransceiver not found");const f=p.sender.getParameters();f.encodings.forEach((k,I)=>{f.encodings[I]={...k,..._}}),await p.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(E,f.encodings);const m=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async getSenderStats(E){this.assertSendDirection();const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.sender.getStats()}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),L=n.parse(j.sdp),A=L.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:I}}async receive(E){this.assertRecvDirection();const _=[],p=new Map;for(const k of E){const{trackId:I,kind:j,rtpParameters:L,streamId:A}=k;w.debug("receive() [trackId:%s, kind:%s]",I,j);const N=L.mid??String(this._mapMidTransceiver.size);p.set(I,N),this._remoteSdp.receive({mid:N,kind:j,offerRtpParameters:L,streamId:A??L.rtcp.cname,trackId:I})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{trackId:I,rtpParameters:j}=k,L=p.get(I),A=x.media.find(N=>String(N.mid)===L);u.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{trackId:I}=k,j=p.get(I),L=this._pc.getTransceivers().find(A=>A.mid===j);if(!L)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(j,L),_.push({localId:j,track:L.receiver.track,rtpReceiver:L.receiver})}return _}async stopReceiving(E){this.assertRecvDirection();for(const f of E){w.debug("stopReceiving() [localId:%s]",f);const m=this._mapMidTransceiver.get(f);if(!m)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(m.mid)}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const f of E)this._mapMidTransceiver.delete(f)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){this.assertRecvDirection();const _=this._mapMidTransceiver.get(E);if(!_)throw new Error("associated RTCRtpTransceiver not found");return _.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,I={negotiated:!0,id:f,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const L={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=u.extractDtlsParameters({sdpObject:_});p.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((f,m)=>{this.safeEmit("@connect",{dtlsParameters:p},f,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return tn.Chrome70=R,tn}var rn={},Ia={},x_;function _d(){if(x_)return Ia;x_=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.getRtpEncodings=e,Ia.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const i=new Set;for(const u of r.ssrcs||[]){if(u.attribute!=="msid")continue;if(u.value.split(" ")[1]===n.id){const h=u.id;i.add(h)}}if(i.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const u of r.ssrcGroups||[]){if(u.semantics!=="FID")continue;let[d,h]=u.ssrcs.split(/\s+/);d=Number(d),h=Number(h),i.has(d)&&(i.delete(d),i.delete(h),a.set(d,h))}for(const u of i)a.set(u,null);const c=[];for(const[u,d]of a){const h={ssrc:u};d&&(h.rtx={ssrc:d}),c.push(h)}return c}function t({offerMediaObject:r,track:n,numStreams:i}){if(i<=1)throw new TypeError("numStreams must be greater than 1");let a,c,u;if(!(r.ssrcs||[]).find(S=>S.attribute!=="msid"?!1:S.value.split(" ")[1]===n.id?(a=S.id,u=S.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(S=>{if(S.semantics!=="FID")return!1;const b=S.ssrcs.split(/\s+/);return Number(b[0])===a?(c=Number(b[1]),!0):!1});const h=r.ssrcs.find(S=>S.attribute==="cname"&&S.id===a);if(!h)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const v=h.value,y=[],w=[];for(let S=0;S<i;++S)y.push(a+S),c&&w.push(c+S);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:y.join(" ")});for(const S of y)r.ssrcs.push({id:S,attribute:"cname",value:v}),r.ssrcs.push({id:S,attribute:"msid",value:`${u} ${n.id}`});for(let S=0;S<w.length;++S){const b=y[S],R=w[S];r.ssrcs.push({id:R,attribute:"cname",value:v}),r.ssrcs.push({id:R,attribute:"msid",value:`${u} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${R}`})}}return Ia}var C_;function qO(){if(C_)return rn;C_=1;var e=rn&&rn.__createBinding||(Object.create?function(R,C,E,_){_===void 0&&(_=E);var p=Object.getOwnPropertyDescriptor(C,E);(!p||("get"in p?!C.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,_,p)}:function(R,C,E,_){_===void 0&&(_=E),R[_]=C[E]}),t=rn&&rn.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=rn&&rn.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(rn,"__esModule",{value:!0}),rn.Chrome67=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(_d()),h=kr(),v=En(),y=new i.Logger("Chrome67"),w="Chrome67",S={OS:1024,MIS:1024};let b=class tx extends h.HandlerInterface{static createFactory(){return()=>new tx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:_})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:_,dtlsParameters:p,sctpParameters:f,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:I,extendedRtpCapabilities:j}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:_,dtlsParameters:p,sctpParameters:f,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...k},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const _={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:_,codec:p}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),p&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let f=await this._pc.createOffer(),m=n.parse(f.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(I.codecs=c.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(f.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),f={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=u.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:I,codecOptions:_});const j={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const L=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(L,A),{localId:L,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection(),y.debug("stopSending() [localId:%s]",C);const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(E),E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(f){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",f.toString());return}throw f}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.track;await _.replaceTrack(E),p&&this._sendStream.removeTrack(p),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,m)=>{m<=E?f.active=!0:f.active=!1}),await _.setParameters(p)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,m)=>{p.encodings[m]={...f,...E}}),await _.setParameters(p)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:_,label:p,protocol:f}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmitTime:E,maxRetransmits:_,protocol:f};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(p,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),j=n.parse(I.sdp),L=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:L});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:I,streamId:j}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const L=k;this._remoteSdp.receive({mid:L,kind:k,offerRtpParameters:I,streamId:j??I.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let p=await this._pc.createAnswer();const f=n.parse(p.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,I=x,j=f.media.find(L=>String(L.mid)===I);u.applyCodecParameters({offerRtpParameters:k,answerMediaObject:j})}p={type:"answer",sdp:n.write(f)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of C){const{kind:x,trackId:k,rtpParameters:I}=m,j=k,L=x,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===j);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(j,{mid:L,rtpParameters:I,rtpReceiver:A}),E.push({localId:j,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const p of C){y.debug("stopReceiving() [localId:%s]",p);const{mid:f,rtpParameters:m}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:f,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async pauseReceiving(C){}async resumeReceiving(C){}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:_}){this.assertRecvDirection();const{streamId:p,ordered:f,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:p,ordered:f,maxPacketLifeTime:m,maxRetransmitTime:m,maxRetransmits:x,protocol:_};y.debug("receiveDataChannel() [options:%o]",k);const I=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const L=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(L.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setLocalDescription(L),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const _=u.extractDtlsParameters({sdpObject:E});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((p,f)=>{this.safeEmit("@connect",{dtlsParameters:_},p,f)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return rn.Chrome67=b,rn}var nn={},R_;function GO(){if(R_)return nn;R_=1;var e=nn&&nn.__createBinding||(Object.create?function(C,E,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(E,_);(!f||("get"in f?!E.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,p,f)}:function(C,E,_,p){p===void 0&&(p=_),C[p]=E[_]}),t=nn&&nn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=nn&&nn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(nn,"__esModule",{value:!0}),nn.Chrome55=void 0;const n=r(wr()),i=Rt(),a=or(),c=r(Vt()),u=r(yr()),d=r(Rn()),h=r(_d()),v=kr(),y=En(),w=new i.Logger("Chrome55"),S="Chrome55",b={OS:1024,MIS:1024};let R=class rx extends v.HandlerInterface{static createFactory(){return()=>new rx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const p=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:I,proprietaryConstraints:j,extendedRtpCapabilities:L}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",L),video:u.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",L),video:u.getSendingRemoteRtpParameters("video",L)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...I},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),f&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const I=c.clone(this._sendingRtpParametersByKind[E.kind]);I.codecs=u.reduceCodecs(I.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:_.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),I.rtcp.cname=d.getCname({offerMediaObject:k}),I.encodings=h.getRtpEncodings({offerMediaObject:k,track:E}),_)for(let N=0;N<I.encodings.length;++N)_[N]&&Object.assign(I.encodings[N],_[N]);if(I.encodings.length>1&&I.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of I.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:I,answerRtpParameters:j,codecOptions:p});const L={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:I}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapSendLocalIdTrack.get(E);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,_){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(E,_){throw new a.UnsupportedError("not supported")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),L=n.parse(j.sdp),A=L.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:I}}async receive(E){this.assertRecvDirection();const _=[];for(const x of E){const{trackId:k,kind:I,rtpParameters:j,streamId:L}=x;w.debug("receive() [trackId:%s, kind:%s]",k,I);const A=I;this._remoteSdp.receive({mid:A,kind:I,offerRtpParameters:j,streamId:L??j.rtcp.cname,trackId:k})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let f=await this._pc.createAnswer();const m=n.parse(f.sdp);for(const x of E){const{kind:k,rtpParameters:I}=x,j=k,L=m.media.find(A=>String(A.mid)===j);d.applyCodecParameters({offerRtpParameters:I,answerMediaObject:L})}f={type:"answer",sdp:n.write(m)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const x of E){const{kind:k,trackId:I,rtpParameters:j}=x,L=k,A=I,N=x.streamId??j.rtcp.cname,W=this._pc.getRemoteStreams().find(X=>X.id===N).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:L,rtpParameters:j}),_.push({localId:A,track:W})}return _}async stopReceiving(E){this.assertRecvDirection();for(const f of E){w.debug("stopReceiving() [localId:%s]",f);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,I={negotiated:!0,id:f,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:_});p.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((f,m)=>{this.safeEmit("@connect",{dtlsParameters:p},f,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return nn.Chrome55=R,nn}var sn={},E_;function KO(){if(E_)return sn;E_=1;var e=sn&&sn.__createBinding||(Object.create?function(E,_,p,f){f===void 0&&(f=p);var m=Object.getOwnPropertyDescriptor(_,p);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(E,f,m)}:function(E,_,p,f){f===void 0&&(f=p),E[f]=_[p]}),t=sn&&sn.__setModuleDefault||(Object.create?function(E,_){Object.defineProperty(E,"default",{enumerable:!0,value:_})}:function(E,_){E.default=_}),r=sn&&sn.__importStar||function(E){if(E&&E.__esModule)return E;var _={};if(E!=null)for(var p in E)p!=="default"&&Object.prototype.hasOwnProperty.call(E,p)&&e(_,E,p);return t(_,E),_};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Firefox120=void 0;const n=r(wr()),i=Rt(),a=or(),c=r(Vt()),u=r(yr()),d=r(Rn()),h=r(Lo()),v=kr(),y=En(),w=Ys(),S=new i.Logger("Firefox120"),b="Firefox120",R={OS:16,MIS:2048};let C=class nx extends v.HandlerInterface{static createFactory(){return()=>new nx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const m=p.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"}),_.addTransceiver(m,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const x=await _.createOffer();try{p.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}const k=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:k})}catch(x){try{p.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:_,iceParameters:p,iceCandidates:f,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:I,additionalSettings:j,proprietaryConstraints:L,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new y.RemoteSdp({iceParameters:p,iceCandidates:f,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:I??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const f={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:p,codecOptions:f,codec:m,onRtpSender:x}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),p&&p.length>1&&p.forEach((O,U)=>{O.rid=`r${U}`});const k=c.clone(this._sendingRtpParametersByKind[_.kind]);k.codecs=u.reduceCodecs(k.codecs,m);const I=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);I.codecs=u.reduceCodecs(I.codecs,m);const j=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});x&&x(j.sender);const L=await this._pc.createOffer();let A=n.parse(L.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const N=(0,w.parse)((p??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const V=j.mid;k.mid=V,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(k.rtcp.cname=d.getCname({offerMediaObject:W}),!p)k.encodings=h.getRtpEncodings({offerMediaObject:W});else if(p.length===1){const O=h.getRtpEncodings({offerMediaObject:W});Object.assign(O[0],p[0]),k.encodings=O}else k.encodings=p;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of k.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${N.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:k,answerRtpParameters:I,codecOptions:f,extmapAllowMixed:!0});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(V,j),{localId:V,rtpParameters:k,rtpSender:j.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const f=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(_);const f=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const f=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(_,p){this.assertNotClosed(),this.assertSendDirection(),p?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,p.id):S.debug("replaceTrack() [localId:%s, no track]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(p)}async setMaxSpatialLayer(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");const m=f.sender.getParameters();m.encodings.forEach((I,j)=>{j<=p?I.active=!0:I.active=!1}),await f.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");const m=f.sender.getParameters();m.encodings.forEach((I,j)=>{m.encodings[j]={...I,...p}}),await f.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:p,maxRetransmits:f,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:p,maxRetransmits:f,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const I=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),A=n.parse(L.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:I,sctpStreamParameters:j}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const p=[],f=new Map;for(const I of _){const{trackId:j,kind:L,rtpParameters:A,streamId:N}=I;S.debug("receive() [trackId:%s, kind:%s]",j,L);const V=A.mid??String(this._mapMidTransceiver.size);f.set(j,V),this._remoteSdp.receive({mid:V,kind:L,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);for(const I of _){const{trackId:j,onRtpReceiver:L}=I;if(L){const A=f.get(j),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("transceiver not found");L(N.receiver)}}let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const I of _){const{trackId:j,rtpParameters:L}=I,A=f.get(j),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const I of _){const{trackId:j}=I,L=f.get(j),A=this._pc.getTransceivers().find(N=>N.mid===L);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(L,A),p.push({localId:L,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const m of _){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const m of _)this._mapMidTransceiver.delete(m)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(_){this.assertRecvDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:p,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:I}=_,j={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:I,protocol:f};S.debug("receiveDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:_,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:p});f.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:f},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return sn.Firefox120=C,sn}var on={},T_;function YO(){if(T_)return on;T_=1;var e=on&&on.__createBinding||(Object.create?function(E,_,p,f){f===void 0&&(f=p);var m=Object.getOwnPropertyDescriptor(_,p);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(E,f,m)}:function(E,_,p,f){f===void 0&&(f=p),E[f]=_[p]}),t=on&&on.__setModuleDefault||(Object.create?function(E,_){Object.defineProperty(E,"default",{enumerable:!0,value:_})}:function(E,_){E.default=_}),r=on&&on.__importStar||function(E){if(E&&E.__esModule)return E;var _={};if(E!=null)for(var p in E)p!=="default"&&Object.prototype.hasOwnProperty.call(E,p)&&e(_,E,p);return t(_,E),_};Object.defineProperty(on,"__esModule",{value:!0}),on.Firefox60=void 0;const n=r(wr()),i=Rt(),a=or(),c=r(Vt()),u=r(yr()),d=r(Rn()),h=r(Lo()),v=kr(),y=En(),w=Ys(),S=new i.Logger("Firefox60"),b="Firefox60",R={OS:16,MIS:2048};let C=class sx extends v.HandlerInterface{static createFactory(){return()=>new sx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(S.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){S.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const m=p.captureStream().getVideoTracks()[0];try{_.addTransceiver("audio",{direction:"sendrecv"});const x=_.addTransceiver(m,{direction:"sendrecv"}),k=x.sender.getParameters(),I=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];k.encodings=I,await x.sender.setParameters(k);const j=await _.createOffer();try{p.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}const L=n.parse(j.sdp);return d.extractRtpCapabilities({sdpObject:L})}catch(x){try{p.remove()}catch{}try{m.stop()}catch{}try{_.close()}catch{}throw x}}async getNativeSctpCapabilities(){return S.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:_,iceParameters:p,iceCandidates:f,dtlsParameters:m,sctpParameters:x,iceServers:k,iceTransportPolicy:I,additionalSettings:j,proprietaryConstraints:L,extendedRtpCapabilities:A}){this.assertNotClosed(),S.debug("run()"),this._direction=_,this._remoteSdp=new y.RemoteSdp({iceParameters:p,iceCandidates:f,dtlsParameters:m,sctpParameters:x}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",A),video:u.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",A),video:u.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:k??[],iceTransportPolicy:I??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...j},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(_){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(_){if(this.assertNotClosed(),S.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const f={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:_,encodings:p,codecOptions:f,codec:m}){this.assertNotClosed(),this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),p&&(p=c.clone(p),p.forEach((X,O)=>{X.rid=`r${O}`}),p.reverse());const x=c.clone(this._sendingRtpParametersByKind[_.kind]);x.codecs=u.reduceCodecs(x.codecs,m);const k=c.clone(this._sendingRemoteRtpParametersByKind[_.kind]);k.codecs=u.reduceCodecs(k.codecs,m);const I=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});if(p){const X=I.sender.getParameters();X.encodings=p,await I.sender.setParameters(X)}const j=await this._pc.createOffer();let L=n.parse(j.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:L});const A=(0,w.parse)((p??[{}])[0].scalabilityMode);S.debug("send() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j);const N=I.mid;x.mid=N,L=n.parse(this._pc.localDescription.sdp);const V=L.media[L.media.length-1];if(x.rtcp.cname=d.getCname({offerMediaObject:V}),!p)x.encodings=h.getRtpEncodings({offerMediaObject:V});else if(p.length===1){const X=h.getRtpEncodings({offerMediaObject:V});Object.assign(X[0],p[0]),x.encodings=X}else x.encodings=p.reverse();if(x.encodings.length>1&&(x.codecs[0].mimeType.toLowerCase()==="video/vp8"||x.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const X of x.encodings)X.scalabilityMode?X.scalabilityMode=`L1T${A.temporalLayers}`:X.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:x,answerRtpParameters:k,codecOptions:f,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(N,I),{localId:N,rtpParameters:x,rtpSender:I.sender}}async stopSending(_){if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",_),this._closed)return;const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const f=await this._pc.createOffer();S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("pauseSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(_);const f=await this._pc.createOffer();S.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async resumeSending(_){this.assertNotClosed(),this.assertSendDirection(),S.debug("resumeSending() [localId:%s]",_);const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const f=await this._pc.createOffer();S.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}async replaceTrack(_,p){this.assertNotClosed(),this.assertSendDirection(),p?S.debug("replaceTrack() [localId:%s, track.id:%s]",_,p.id):S.debug("replaceTrack() [localId:%s, no track]",_);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(p)}async setMaxSpatialLayer(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated transceiver not found");const m=f.sender.getParameters();p=m.encodings.length-1-p,m.encodings.forEach((I,j)=>{j>=p?I.active=!0:I.active=!1}),await f.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,p){this.assertNotClosed(),this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,p);const f=this._mapMidTransceiver.get(_);if(!f)throw new Error("associated RTCRtpTransceiver not found");const m=f.sender.getParameters();m.encodings.forEach((I,j)=>{m.encodings[j]={...I,...p}}),await f.sender.setParameters(m),this._remoteSdp.muxMediaSectionSimulcast(_,m.encodings);const x=await this._pc.createOffer();S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:p,maxRetransmits:f,label:m,protocol:x}){this.assertNotClosed(),this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:p,maxRetransmits:f,protocol:x};S.debug("sendDataChannel() [options:%o]",k);const I=this._pc.createDataChannel(m,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),A=n.parse(L.sdp),N=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const V={type:"answer",sdp:this._remoteSdp.getSdp()};S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const j={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:I,sctpStreamParameters:j}}async receive(_){this.assertNotClosed(),this.assertRecvDirection();const p=[],f=new Map;for(const I of _){const{trackId:j,kind:L,rtpParameters:A,streamId:N}=I;S.debug("receive() [trackId:%s, kind:%s]",j,L);const V=A.mid??String(this._mapMidTransceiver.size);f.set(j,V),this._remoteSdp.receive({mid:V,kind:L,offerRtpParameters:A,streamId:N??A.rtcp.cname,trackId:j})}const m={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),await this._pc.setRemoteDescription(m);let x=await this._pc.createAnswer();const k=n.parse(x.sdp);for(const I of _){const{trackId:j,rtpParameters:L}=I,A=f.get(j),N=k.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:N}),x={type:"answer",sdp:n.write(k)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:k}),S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x);for(const I of _){const{trackId:j}=I,L=f.get(j),A=this._pc.getTransceivers().find(N=>N.mid===L);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(L,A),p.push({localId:L,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(_){if(this.assertRecvDirection(),this._closed)return;for(const m of _){S.debug("stopReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(x.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const m of _)this._mapMidTransceiver.delete(m)}async pauseReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("pauseReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(m)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(_){this.assertNotClosed(),this.assertRecvDirection();for(const m of _){S.debug("resumeReceiving() [localId:%s]",m);const x=this._mapMidTransceiver.get(m);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(m)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const f=await this._pc.createAnswer();S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(_){this.assertRecvDirection();const p=this._mapMidTransceiver.get(_);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:p,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:I}=_,j={negotiated:!0,id:m,ordered:x,maxPacketLifeTime:k,maxRetransmits:I,protocol:f};S.debug("receiveDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(p,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const N=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:_,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const f=d.extractDtlsParameters({sdpObject:p});f.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((m,x)=>{this.safeEmit("@connect",{dtlsParameters:f},m,x)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return on.Firefox60=C,on}var an={},P_;function XO(){if(P_)return an;P_=1;var e=an&&an.__createBinding||(Object.create?function(_,p,f,m){m===void 0&&(m=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,m,x)}:function(_,p,f,m){m===void 0&&(m=f),_[m]=p[f]}),t=an&&an.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=an&&an.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(an,"__esModule",{value:!0}),an.Safari12=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(Lo()),h=r(Sd()),v=or(),y=kr(),w=En(),S=Ys(),b=new i.Logger("Safari12"),R="Safari12",C={OS:1024,MIS:1024};let E=class ox extends y.HandlerInterface{static createFactory(){return()=>new ox}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const m=n.parse(f.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:I,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id);const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const L=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream]});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const X=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length>1&&(b.debug("send() | enabling legacy simulcast"),V=n.parse(N.sdp),W=V.media[L.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:f.length}),N={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const O=A.mid;if(I.mid=O,V=n.parse(this._pc.localDescription.sdp),W=V.media[L.idx],I.rtcp.cname=u.getCname({offerMediaObject:W}),I.encodings=d.getRtpEncodings({offerMediaObject:W}),f)for(let F=0;F<I.encodings.length;++F)f[F]&&Object.assign(I.encodings[F],f[F]);if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of I.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${X.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:L.reuseMid,offerRtpParameters:I,answerRtpParameters:j,codecOptions:m});const U={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U),this._mapMidTransceiver.set(O,A),{localId:O,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(p);const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{L<=f?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{x.encodings[L]={...j,...f}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const L={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const j of p){const{trackId:L,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",L,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(L,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:L})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of p){const{trackId:L,onRtpReceiver:A}=j;if(A){const N=m.get(L),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const I=n.parse(k.sdp);for(const j of p){const{trackId:L,rtpParameters:A}=j,N=m.get(L),V=I.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of p){const{trackId:L}=j,A=m.get(L),N=this._pc.getTransceivers().find(V=>V.mid===A);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver})}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j}=p,L={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j,protocol:m};b.debug("receiveDataChannel() [options:%o]",L);const A=this._pc.createDataChannel(f,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:f});m.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return an.Safari12=E,an}var cn={},k_;function QO(){if(k_)return cn;k_=1;var e=cn&&cn.__createBinding||(Object.create?function(R,C,E,_){_===void 0&&(_=E);var p=Object.getOwnPropertyDescriptor(C,E);(!p||("get"in p?!C.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(R,_,p)}:function(R,C,E,_){_===void 0&&(_=E),R[_]=C[E]}),t=cn&&cn.__setModuleDefault||(Object.create?function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}:function(R,C){R.default=C}),r=cn&&cn.__importStar||function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var E in R)E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)&&e(C,R,E);return t(C,R),C};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Safari11=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(_d()),h=kr(),v=En(),y=new i.Logger("Safari11"),w="Safari11",S={OS:1024,MIS:1024};let b=class ix extends h.HandlerInterface{static createFactory(){return()=>new ix}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(y.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){y.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const E=await C.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{C.close()}catch{}const _=n.parse(E.sdp);return u.extractRtpCapabilities({sdpObject:_})}catch(E){try{C.close()}catch{}throw E}}async getNativeSctpCapabilities(){return y.debug("getNativeSctpCapabilities()"),{numStreams:S}}run({direction:C,iceParameters:E,iceCandidates:_,dtlsParameters:p,sctpParameters:f,iceServers:m,iceTransportPolicy:x,additionalSettings:k,proprietaryConstraints:I,extendedRtpCapabilities:j}){y.debug("run()"),this._direction=C,this._remoteSdp=new v.RemoteSdp({iceParameters:E,iceCandidates:_,dtlsParameters:p,sctpParameters:f,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",j),video:c.getSendingRtpParameters("video",j)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",j),video:c.getSendingRemoteRtpParameters("video",j)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:m??[],iceTransportPolicy:x??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k},I),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(C){y.debug("updateIceServers()");const E=this._pc.getConfiguration();E.iceServers=C,this._pc.setConfiguration(E)}async restartIce(C){if(y.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const E=await this._pc.createOffer({iceRestart:!0});y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const _={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",_),await this._pc.setRemoteDescription(_)}else{const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}}async getTransportStats(){return this._pc.getStats()}async send({track:C,encodings:E,codecOptions:_,codec:p}){this.assertSendDirection(),y.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),p&&y.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(C),this._pc.addTrack(C,this._sendStream);let f=await this._pc.createOffer(),m=n.parse(f.sdp),x;const k=a.clone(this._sendingRtpParametersByKind[C.kind]);k.codecs=c.reduceCodecs(k.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[C.kind]);if(I.codecs=c.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:m}),C.kind==="video"&&E&&E.length>1&&(y.debug("send() | enabling simulcast"),m=n.parse(f.sdp),x=m.media.find(N=>N.type==="video"),d.addLegacySimulcast({offerMediaObject:x,track:C,numStreams:E.length}),f={type:"offer",sdp:n.write(m)}),y.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f),m=n.parse(this._pc.localDescription.sdp),x=m.media.find(N=>N.type===C.kind),k.rtcp.cname=u.getCname({offerMediaObject:x}),k.encodings=d.getRtpEncodings({offerMediaObject:x,track:C}),E)for(let N=0;N<k.encodings.length;++N)E[N]&&Object.assign(k.encodings[N],E[N]);if(k.encodings.length>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const N of k.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,offerRtpParameters:k,answerRtpParameters:I,codecOptions:_});const j={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j);const L=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(N=>N.track===C);return this._mapSendLocalIdRtpSender.set(L,A),{localId:L,rtpParameters:k,rtpSender:A}}async stopSending(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");E.track&&this._sendStream.removeTrack(E.track),this._mapSendLocalIdRtpSender.delete(C);const _=await this._pc.createOffer();y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",_);try{await this._pc.setLocalDescription(_)}catch(f){if(this._sendStream.getTracks().length===0){y.warn("stopSending() | ignoring expected error due no sending tracks: %s",f.toString());return}throw f}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(C){}async resumeSending(C){}async replaceTrack(C,E){this.assertSendDirection(),E?y.debug("replaceTrack() [localId:%s, track.id:%s]",C,E.id):y.debug("replaceTrack() [localId:%s, no track]",C);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.track;await _.replaceTrack(E),p&&this._sendStream.removeTrack(p),E&&this._sendStream.addTrack(E)}async setMaxSpatialLayer(C,E){this.assertSendDirection(),y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,m)=>{m<=E?f.active=!0:f.active=!1}),await _.setParameters(p)}async setRtpEncodingParameters(C,E){this.assertSendDirection(),y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,E);const _=this._mapSendLocalIdRtpSender.get(C);if(!_)throw new Error("associated RTCRtpSender not found");const p=_.getParameters();p.encodings.forEach((f,m)=>{p.encodings[m]={...f,...E}}),await _.setParameters(p)}async getSenderStats(C){this.assertSendDirection();const E=this._mapSendLocalIdRtpSender.get(C);if(!E)throw new Error("associated RTCRtpSender not found");return E.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:E,maxRetransmits:_,label:p,protocol:f}){this.assertSendDirection();const m={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:E,maxRetransmits:_,protocol:f};y.debug("sendDataChannel() [options:%o]",m);const x=this._pc.createDataChannel(p,m);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),j=n.parse(I.sdp),L=j.media.find(N=>N.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:L});const A={type:"answer",sdp:this._remoteSdp.getSdp()};y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const k={streamId:m.id,ordered:m.ordered,maxPacketLifeTime:m.maxPacketLifeTime,maxRetransmits:m.maxRetransmits};return{dataChannel:x,sctpStreamParameters:k}}async receive(C){this.assertRecvDirection();const E=[];for(const m of C){const{trackId:x,kind:k,rtpParameters:I,streamId:j}=m;y.debug("receive() [trackId:%s, kind:%s]",x,k);const L=k;this._remoteSdp.receive({mid:L,kind:k,offerRtpParameters:I,streamId:j??I.rtcp.cname,trackId:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);let p=await this._pc.createAnswer();const f=n.parse(p.sdp);for(const m of C){const{kind:x,rtpParameters:k}=m,I=x,j=f.media.find(L=>String(L.mid)===I);u.applyCodecParameters({offerRtpParameters:k,answerMediaObject:j})}p={type:"answer",sdp:n.write(f)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f}),y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const m of C){const{kind:x,trackId:k,rtpParameters:I}=m,j=x,L=k,A=this._pc.getReceivers().find(N=>N.track&&N.track.id===L);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(L,{mid:j,rtpParameters:I,rtpReceiver:A}),E.push({localId:L,track:A.track,rtpReceiver:A})}return E}async stopReceiving(C){this.assertRecvDirection();for(const p of C){y.debug("stopReceiving() [localId:%s]",p);const{mid:f,rtpParameters:m}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:f,offerRtpParameters:m})}const E={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const _=await this._pc.createAnswer();y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",_),await this._pc.setLocalDescription(_)}async getReceiverStats(C){this.assertRecvDirection();const{rtpReceiver:E}=this._mapRecvLocalIdInfo.get(C)??{};if(!E)throw new Error("associated RTCRtpReceiver not found");return E.getStats()}async pauseReceiving(C){}async resumeReceiving(C){}async receiveDataChannel({sctpStreamParameters:C,label:E,protocol:_}){this.assertRecvDirection();const{streamId:p,ordered:f,maxPacketLifeTime:m,maxRetransmits:x}=C,k={negotiated:!0,id:p,ordered:f,maxPacketLifeTime:m,maxRetransmits:x,protocol:_};y.debug("receiveDataChannel() [options:%o]",k);const I=this._pc.createDataChannel(E,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const j={type:"offer",sdp:this._remoteSdp.getSdp()};y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",j),await this._pc.setRemoteDescription(j);const L=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(L.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setLocalDescription(L),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:C,localSdpObject:E}){E||(E=n.parse(this._pc.localDescription.sdp));const _=u.extractDtlsParameters({sdpObject:E});_.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((p,f)=>{this.safeEmit("@connect",{dtlsParameters:_},p,f)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return cn.Safari11=b,cn}var ln={},un={},D_;function ZO(){if(D_)return un;D_=1;var e=un&&un.__createBinding||(Object.create?function(c,u,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(u,d);(!v||("get"in v?!u.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,h,v)}:function(c,u,d,h){h===void 0&&(h=d),c[h]=u[d]}),t=un&&un.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=un&&un.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(u,c,d);return t(u,c),u};Object.defineProperty(un,"__esModule",{value:!0}),un.getCapabilities=i,un.mangleRtpParameters=a;const n=r(Vt());function i(){const c=RTCRtpReceiver.getCapabilities(),u=n.clone(c);for(const d of u.codecs??[]){if(d.channels=d.numChannels,delete d.numChannels,d.mimeType=d.mimeType??`${d.kind}/${d.name}`,d.parameters){const h=d.parameters;h.apt&&(h.apt=Number(h.apt)),h["packetization-mode"]&&(h["packetization-mode"]=Number(h["packetization-mode"]))}for(const h of d.rtcpFeedback??[])h.parameter||(h.parameter="")}return u}function a(c){const u=n.clone(c);u.mid&&(u.muxId=u.mid,delete u.mid);for(const d of u.codecs)d.channels&&(d.numChannels=d.channels,delete d.channels),d.mimeType&&!d.name&&(d.name=d.mimeType.split("/")[1]),delete d.mimeType;return u}return un}var M_;function JO(){if(M_)return ln;M_=1;var e=ln&&ln.__createBinding||(Object.create?function(w,S,b,R){R===void 0&&(R=b);var C=Object.getOwnPropertyDescriptor(S,b);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[b]}}),Object.defineProperty(w,R,C)}:function(w,S,b,R){R===void 0&&(R=b),w[R]=S[b]}),t=ln&&ln.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=ln&&ln.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&e(S,w,b);return t(S,w),S};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Edge11=void 0;const n=Rt(),i=or(),a=r(Vt()),c=r(yr()),u=r(ZO()),d=kr(),h=new n.Logger("Edge11"),v="Edge11";let y=class ax extends d.HandlerInterface{static createFactory(){return()=>new ax}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return v}close(){h.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const S of this._rtpSenders.values())try{S.stop()}catch{}for(const S of this._rtpReceivers.values())try{S.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return h.debug("getNativeRtpCapabilities()"),u.getCapabilities()}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:S,iceParameters:b,iceCandidates:R,dtlsParameters:C,sctpParameters:E,iceServers:_,iceTransportPolicy:p,additionalSettings:f,proprietaryConstraints:m,extendedRtpCapabilities:x}){h.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",x),video:c.getSendingRtpParameters("video",x)},this._remoteIceParameters=b,this._remoteIceCandidates=R,this._remoteDtlsParameters=C,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:_,iceTransportPolicy:p}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(S){throw new i.UnsupportedError("not supported")}async restartIce(S){if(h.debug("restartIce()"),this._remoteIceParameters=S,!!this._transportReady){h.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,S,"controlling");for(const b of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(b);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:S,encodings:b,codecOptions:R,codec:C}){h.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),h.debug("send() | calling new RTCRtpSender()");const E=new RTCRtpSender(S,this._dtlsTransport),_=a.clone(this._sendingRtpParametersByKind[S.kind]);_.codecs=c.reduceCodecs(_.codecs,C);const p=_.codecs.some(x=>/.+\/rtx$/i.test(x.mimeType));b||(b=[{}]);for(const x of b)x.ssrc=a.generateRandomNumber(),p&&(x.rtx={ssrc:a.generateRandomNumber()});_.encodings=b,_.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const f=u.mangleRtpParameters(_);h.debug("send() | calling rtpSender.send() [params:%o]",f),await E.send(f);const m=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(m,E),{localId:m,rtpParameters:_,rtpSender:E}}async stopSending(S){h.debug("stopSending() [localId:%s]",S);const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(S);try{h.debug("stopSending() | calling rtpSender.stop()"),b.stop()}catch(R){throw h.warn("stopSending() | rtpSender.stop() failed:%o",R),R}}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,b){b?h.debug("replaceTrack() [localId:%s, track.id:%s]",S,b.id):h.debug("replaceTrack() [localId:%s, no track]",S);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");R.setTrack(b)}async setMaxSpatialLayer(S,b){h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,b);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,_)=>{_<=b?E.active=!0:E.active=!1}),await R.setParameters(C)}async setRtpEncodingParameters(S,b){h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,b);const R=this._rtpSenders.get(S);if(!R)throw new Error("RTCRtpSender not found");const C=R.getParameters();C.encodings.forEach((E,_)=>{C.encodings[_]={...E,...b}}),await R.setParameters(C)}async getSenderStats(S){const b=this._rtpSenders.get(S);if(!b)throw new Error("RTCRtpSender not found");return b.getStats()}async sendDataChannel(S){throw new i.UnsupportedError("not implemented")}async receive(S){const b=[];for(const R of S){const{trackId:C,kind:E}=R;h.debug("receive() [trackId:%s, kind:%s]",C,E)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const R of S){const{trackId:C,kind:E,rtpParameters:_}=R;h.debug("receive() | calling new RTCRtpReceiver()");const p=new RTCRtpReceiver(this._dtlsTransport,E);p.addEventListener("error",x=>{h.error('rtpReceiver "error" event [event:%o]',x)});const f=u.mangleRtpParameters(_);h.debug("receive() | calling rtpReceiver.receive() [params:%o]",f),await p.receive(f);const m=C;this._rtpReceivers.set(m,p),b.push({localId:m,track:p.track,rtpReceiver:p})}return b}async stopReceiving(S){for(const b of S){h.debug("stopReceiving() [localId:%s]",b);const R=this._rtpReceivers.get(b);if(!R)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(b);try{h.debug("stopReceiving() | calling rtpReceiver.stop()"),R.stop()}catch(C){h.warn("stopReceiving() | rtpReceiver.stop() failed:%o",C)}}}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){const b=this._rtpReceivers.get(S);if(!b)throw new Error("RTCRtpReceiver not found");return b.getStats()}async receiveDataChannel(S){throw new i.UnsupportedError("not implemented")}setIceGatherer({iceServers:S,iceTransportPolicy:b}){const R=new RTCIceGatherer({iceServers:S??[],gatherPolicy:b??"all"});R.addEventListener("error",C=>{h.error('iceGatherer "error" event [event:%o]',C)});try{R.gather()}catch(C){h.debug("setIceGatherer() | iceGatherer.gather() failed: %s",C.toString())}this._iceGatherer=R}setIceTransport(){const S=new RTCIceTransport(this._iceGatherer);S.addEventListener("statechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("icestatechange",()=>{switch(S.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),S.addEventListener("candidatepairchange",b=>{h.debug('iceTransport "candidatepairchange" event [pair:%o]',b.pair)}),this._iceTransport=S}setDtlsTransport(){const S=new RTCDtlsTransport(this._iceTransport);S.addEventListener("statechange",()=>{h.debug('dtlsTransport "statechange" event [state:%s]',S.state)}),S.addEventListener("dtlsstatechange",()=>{h.debug('dtlsTransport "dtlsstatechange" event [state:%s]',S.state),S.state==="closed"&&this.emit("@connectionstatechange","closed")}),S.addEventListener("error",b=>{h.error('dtlsTransport "error" event [event:%o]',b)}),this._dtlsTransport=S}async setupTransport({localDtlsRole:S}){h.debug("setupTransport()");const b=this._dtlsTransport.getLocalParameters();b.role=S,await new Promise((R,C)=>{this.safeEmit("@connect",{dtlsParameters:b},R,C)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const R of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(R);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(R=>R.algorithm==="sha-256"||R.algorithm==="sha-384"||R.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return ln.Edge11=y,ln}var dn={},I_;function eN(){if(I_)return dn;I_=1;var e=dn&&dn.__createBinding||(Object.create?function(_,p,f,m){m===void 0&&(m=f);var x=Object.getOwnPropertyDescriptor(p,f);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(_,m,x)}:function(_,p,f,m){m===void 0&&(m=f),_[m]=p[f]}),t=dn&&dn.__setModuleDefault||(Object.create?function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}:function(_,p){_.default=p}),r=dn&&dn.__importStar||function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var f in _)f!=="default"&&Object.prototype.hasOwnProperty.call(_,f)&&e(p,_,f);return t(p,_),p};Object.defineProperty(dn,"__esModule",{value:!0}),dn.ReactNativeUnifiedPlan=void 0;const n=r(wr()),i=Rt(),a=r(Vt()),c=r(yr()),u=r(Rn()),d=r(Lo()),h=r(Sd()),v=or(),y=kr(),w=En(),S=Ys(),b=new i.Logger("ReactNativeUnifiedPlan"),R="ReactNativeUnifiedPlan",C={OS:1024,MIS:1024};let E=class cx extends y.HandlerInterface{static createFactory(){return()=>new cx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return R}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const f=await p.createOffer();try{p.close()}catch{}const m=n.parse(f.sdp),x=u.extractRtpCapabilities({sdpObject:m});return h.addNackSuppportForOpus(x),x}catch(f){try{p.close()}catch{}throw f}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:C}}run({direction:p,iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k,iceServers:I,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:A,extendedRtpCapabilities:N}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:x,sctpParameters:k}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},x.role&&x.role!=="auto"&&(this._forcedLocalDtlsRole=x.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:I??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...L},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=p,this._pc.setConfiguration(f)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:f,codecOptions:m,codec:x,onRtpSender:k}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),f&&f.length>1&&f.forEach((z,q)=>{z.rid=`r${q}`});const I=a.clone(this._sendingRtpParametersByKind[p.kind]);I.codecs=c.reduceCodecs(I.codecs,x);const j=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,x);const L=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});k&&k(A.sender);let N=await this._pc.createOffer(),V=n.parse(N.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let X=!1;const O=(0,S.parse)((f??[{}])[0].scalabilityMode);f&&f.length===1&&O.spatialLayers>1&&I.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),X=!0,V=n.parse(N.sdp),W=V.media[L.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:O.spatialLayers}),N={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);let U=A.mid??void 0;if(U||b.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),I.mid=U,V=n.parse(this._pc.localDescription.sdp),W=V.media[L.idx],I.rtcp.cname=u.getCname({offerMediaObject:W}),!f)I.encodings=d.getRtpEncodings({offerMediaObject:W});else if(f.length===1){let z=d.getRtpEncodings({offerMediaObject:W});Object.assign(z[0],f[0]),X&&(z=[z[0]]),I.encodings=z}else I.encodings=f;if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const z of I.encodings)z.scalabilityMode?z.scalabilityMode=`L1T${O.temporalLayers}`:z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:L.reuseMid,offerRtpParameters:I,answerRtpParameters:j,codecOptions:m,extmapAllowMixed:!0});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),U||(U=A.mid,I.mid=U),this._mapMidTransceiver.set(U,A),{localId:U,rtpParameters:I,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const x=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const k={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(p);const m=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const f=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const x={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}async replaceTrack(p,f){this.assertNotClosed(),this.assertSendDirection(),f?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,f.id):b.debug("replaceTrack() [localId:%s, no track]",p);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{L<=f?j.active=!0:j.active=!1}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async setRtpEncodingParameters(p,f){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,f);const m=this._mapMidTransceiver.get(p);if(!m)throw new Error("associated RTCRtpTransceiver not found");const x=m.sender.getParameters();x.encodings.forEach((j,L)=>{x.encodings[L]={...j,...f}}),await m.sender.setParameters(x),this._remoteSdp.muxMediaSectionSimulcast(p,x.encodings);const k=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const I={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:f,maxRetransmits:m,label:x,protocol:k}){this.assertNotClosed(),this.assertSendDirection();const I={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:f,maxRetransmits:m,protocol:k};b.debug("sendDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(x,I);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),N=n.parse(A.sdp),V=N.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const L={streamId:I.id,ordered:I.ordered,maxPacketLifeTime:I.maxPacketLifeTime,maxRetransmits:I.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const j of p){const{trackId:L,kind:A,rtpParameters:N,streamId:V}=j;b.debug("receive() [trackId:%s, kind:%s]",L,A);const W=N.mid??String(this._mapMidTransceiver.size);m.set(L,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:N,streamId:V??N.rtcp.cname,trackId:L})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);for(const j of p){const{trackId:L,onRtpReceiver:A}=j;if(A){const N=m.get(L),V=this._pc.getTransceivers().find(W=>W.mid===N);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let k=await this._pc.createAnswer();const I=n.parse(k.sdp);for(const j of p){const{trackId:L,rtpParameters:A}=j,N=m.get(L),V=I.media.find(W=>String(W.mid)===N);u.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}k={type:"answer",sdp:n.write(I)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const j of p){const{trackId:L}=j,A=m.get(L),N=this._pc.getTransceivers().find(V=>V.mid===A);if(N)this._mapMidTransceiver.set(A,N),f.push({localId:A,track:N.receiver.track,rtpReceiver:N.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const x of p){b.debug("stopReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const x of p)this._mapMidTransceiver.delete(x)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("pauseReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const x of p){b.debug("resumeReceiving() [localId:%s]",x);const k=this._mapMidTransceiver.get(x);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(x)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(p);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j}=p,L={negotiated:!0,id:x,ordered:k,maxPacketLifeTime:I,maxRetransmits:j,protocol:m};b.debug("receiveDataChannel() [options:%o]",L);const A=this._pc.createDataChannel(f,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:f}){f||(f=n.parse(this._pc.localDescription.sdp));const m=u.extractDtlsParameters({sdpObject:f});m.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((x,k)=>{this.safeEmit("@connect",{dtlsParameters:m},x,k)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new v.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return dn.ReactNativeUnifiedPlan=E,dn}var fn={},L_;function tN(){if(L_)return fn;L_=1;var e=fn&&fn.__createBinding||(Object.create?function(C,E,_,p){p===void 0&&(p=_);var f=Object.getOwnPropertyDescriptor(E,_);(!f||("get"in f?!E.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return E[_]}}),Object.defineProperty(C,p,f)}:function(C,E,_,p){p===void 0&&(p=_),C[p]=E[_]}),t=fn&&fn.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=fn&&fn.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&e(E,C,_);return t(E,C),E};Object.defineProperty(fn,"__esModule",{value:!0}),fn.ReactNative=void 0;const n=r(wr()),i=Rt(),a=or(),c=r(Vt()),u=r(yr()),d=r(Rn()),h=r(_d()),v=kr(),y=En(),w=new i.Logger("ReactNative"),S="ReactNative",b={OS:1024,MIS:1024};let R=class lx extends v.HandlerInterface{static createFactory(){return()=>new lx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S}close(){if(w.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const E=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{E.close()}catch{}const p=n.parse(_.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(_){try{E.close()}catch{}throw _}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:E,iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m,iceServers:x,iceTransportPolicy:k,additionalSettings:I,proprietaryConstraints:j,extendedRtpCapabilities:L}){w.debug("run()"),this._direction=E,this._remoteSdp=new y.RemoteSdp({iceParameters:_,iceCandidates:p,dtlsParameters:f,sctpParameters:m,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",L),video:u.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",L),video:u.getSendingRemoteRtpParameters("video",L)},f.role&&f.role!=="auto"&&(this._forcedLocalDtlsRole=f.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:x??[],iceTransportPolicy:k??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...I},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(E){w.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=E,this._pc.setConfiguration(_)}async restartIce(E){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(E),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const p={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:E,encodings:_,codecOptions:p,codec:f}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",E.kind,E.id),f&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(E),this._pc.addStream(this._sendStream);let m=await this._pc.createOffer(),x=n.parse(m.sdp),k;const I=c.clone(this._sendingRtpParametersByKind[E.kind]);I.codecs=u.reduceCodecs(I.codecs);const j=c.clone(this._sendingRemoteRtpParametersByKind[E.kind]);if(j.codecs=u.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),E.kind==="video"&&_&&_.length>1&&(w.debug("send() | enabling simulcast"),x=n.parse(m.sdp),k=x.media.find(N=>N.type==="video"),h.addLegacySimulcast({offerMediaObject:k,track:E,numStreams:_.length}),m={type:"offer",sdp:n.write(x)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m),x=n.parse(this._pc.localDescription.sdp),k=x.media.find(N=>N.type===E.kind),I.rtcp.cname=d.getCname({offerMediaObject:k}),I.encodings=h.getRtpEncodings({offerMediaObject:k,track:E}),_)for(let N=0;N<I.encodings.length;++N)_[N]&&Object.assign(I.encodings[N],_[N]);if(I.encodings.length>1&&(I.codecs[0].mimeType.toLowerCase()==="video/vp8"||I.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of I.encodings)N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:I,answerRtpParameters:j,codecOptions:p});const L={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,E),{localId:A,rtpParameters:I}}async stopSending(E){this.assertSendDirection(),w.debug("stopSending() [localId:%s]",E);const _=this._mapSendLocalIdTrack.get(E);if(!_)throw new Error("track not found");this._mapSendLocalIdTrack.delete(E),this._sendStream.removeTrack(_),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(m){if(this._sendStream.getTracks().length===0){w.warn("stopSending() | ignoring expected error due no sending tracks: %s",m.toString());return}throw m}if(this._pc.signalingState==="stable")return;const f={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async pauseSending(E){}async resumeSending(E){}async replaceTrack(E,_){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(E,_){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(E,_){throw new a.UnsupportedError("not implemented")}async getSenderStats(E){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:E,maxPacketLifeTime:_,maxRetransmits:p,label:f,protocol:m}){this.assertSendDirection();const x={negotiated:!0,id:this._nextSendSctpStreamId,ordered:E,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:p,protocol:m};w.debug("sendDataChannel() [options:%o]",x);const k=this._pc.createDataChannel(f,x);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),L=n.parse(j.sdp),A=L.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._hasDataChannelMediaSection=!0}const I={streamId:x.id,ordered:x.ordered,maxPacketLifeTime:x.maxPacketLifeTime,maxRetransmits:x.maxRetransmits};return{dataChannel:k,sctpStreamParameters:I}}async receive(E){this.assertRecvDirection();const _=[],p=new Map;for(const k of E){const{trackId:I,kind:j,rtpParameters:L}=k;w.debug("receive() [trackId:%s, kind:%s]",I,j);const A=j;let N=k.streamId??L.rtcp.cname;w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),N+=`-hack-${c.generateRandomNumber()}`,p.set(I,N),this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:L,streamId:N,trackId:I})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);let m=await this._pc.createAnswer();const x=n.parse(m.sdp);for(const k of E){const{kind:I,rtpParameters:j}=k,L=I,A=x.media.find(N=>String(N.mid)===L);d.applyCodecParameters({offerRtpParameters:j,answerMediaObject:A})}m={type:"answer",sdp:n.write(x)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:x}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const k of E){const{kind:I,trackId:j,rtpParameters:L}=k,A=j,N=I,V=p.get(j),X=this._pc.getRemoteStreams().find(O=>O.id===V).getTrackById(A);if(!X)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:L}),_.push({localId:A,track:X})}return _}async stopReceiving(E){this.assertRecvDirection();for(const f of E){w.debug("stopReceiving() [localId:%s]",f);const{mid:m,rtpParameters:x}=this._mapRecvLocalIdInfo.get(f)??{};this._mapRecvLocalIdInfo.delete(f),this._remoteSdp.planBStopReceiving({mid:m,offerRtpParameters:x})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const p=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(E){}async resumeReceiving(E){}async getReceiverStats(E){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:E,label:_,protocol:p}){this.assertRecvDirection();const{streamId:f,ordered:m,maxPacketLifeTime:x,maxRetransmits:k}=E,I={negotiated:!0,id:f,ordered:m,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:k,protocol:p};w.debug("receiveDataChannel() [options:%o]",I);const j=this._pc.createDataChannel(_,I);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const A=await this._pc.createAnswer();if(!this._transportReady){const N=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:E,localSdpObject:_}){_||(_=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:_});p.role=E,this._remoteSdp.updateDtlsRole(E==="client"?"server":"client"),await new Promise((f,m)=>{this.safeEmit("@connect",{dtlsParameters:p},f,m)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return fn.ReactNative=R,fn}var j_;function ux(){if(j_)return Nr;j_=1;var e=Nr&&Nr.__createBinding||(Object.create?function(j,L,A,N){N===void 0&&(N=A);var V=Object.getOwnPropertyDescriptor(L,A);(!V||("get"in V?!L.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return L[A]}}),Object.defineProperty(j,N,V)}:function(j,L,A,N){N===void 0&&(N=A),j[N]=L[A]}),t=Nr&&Nr.__setModuleDefault||(Object.create?function(j,L){Object.defineProperty(j,"default",{enumerable:!0,value:L})}:function(j,L){j.default=L}),r=Nr&&Nr.__importStar||function(j){if(j&&j.__esModule)return j;var L={};if(j!=null)for(var A in j)A!=="default"&&Object.prototype.hasOwnProperty.call(j,A)&&e(L,j,A);return t(L,j),L};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Device=void 0,Nr.detectDevice=k;const n=LO(),i=Rt(),a=Io(),c=or(),u=r(Vt()),d=r(yr()),h=X1(),v=VO(),y=HO(),w=WO(),S=qO(),b=GO(),R=KO(),C=YO(),E=XO(),_=QO(),p=JO(),f=eN(),m=tN(),x=new i.Logger("Device");function k(j){var L,A,N,V;if(!j&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(x.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){x.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(x.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(x.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(j||typeof navigator=="object"&&typeof navigator.userAgent=="string"){j??(j=navigator.userAgent);const W=new n.UAParser(j);x.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",j,W.getResult());const X=W.getBrowser(),O=(L=X.name)==null?void 0:L.toLowerCase(),U=parseInt(X.major??"0"),z=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),q=W.getOS(),B=(N=q.name)==null?void 0:N.toLowerCase(),Y=parseFloat(q.version??"0"),de=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),ee=B==="ios"||de==="ipad",oe=O&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(O),ue=O&&["firefox","mobile firefox","mobile focus"].includes(O),me=O&&["safari","mobile safari"].includes(O),he=O&&["edge"].includes(O);if((oe||he)&&!ee&&U>=111)return"Chrome111";if(oe&&!ee&&U>=74||he&&!ee&&U>=88)return"Chrome74";if(oe&&!ee&&U>=70)return"Chrome70";if(oe&&!ee&&U>=67)return"Chrome67";if(oe&&!ee&&U>=55)return"Chrome55";if(ue&&!ee&&U>=120)return"Firefox120";if(ue&&!ee&&U>=60)return"Firefox60";if(ue&&ee&&Y>=14.3)return"Safari12";if(me&&U>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(me&&U>=11)return"Safari11";if(he&&!ee&&U>=11&&U<=18)return"Edge11";if(z==="webkit"&&ee&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(z==="blink"){const Ce=j.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Ce){const ke=Number(Ce[1]);return ke>=111?"Chrome111":ke>=74?"Chrome74":ke>=70?"Chrome70":ke>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{x.warn("detectDevice() | browser not supported [name:%s, version:%s]",O,U);return}}else{x.warn("detectDevice() | unknown device");return}}let I=class{constructor({handlerName:L,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,x.debug("constructor()"),L&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(L)x.debug("constructor() | handler given: %s",L);else if(L=k(),L)x.debug("constructor() | detected handler: %s",L);else throw new c.UnsupportedError("device not supported");switch(L){case"Chrome111":{this._handlerFactory=v.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=y.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=w.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=S.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=b.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=R.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=C.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=E.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=_.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=p.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=f.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=m.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${L}"`)}}const N=this._handlerFactory();this._handlerName=N.name,N.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:L}){x.debug("load() [routerRtpCapabilities:%o]",L);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const N=u.clone(L);d.validateRtpCapabilities(N),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();x.debug("load() | got native RTP capabilities:%o",V);const W=u.clone(V);d.validateRtpCapabilities(W),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(W,N),x.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),x.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),x.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),x.debug("load() succeeded"),this._loaded=!0,A.close()}catch(N){throw A&&A.close(),N}}canProduce(L){if(this._loaded){if(L!=="audio"&&L!=="video")throw new TypeError(`invalid kind "${L}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[L]}createSendTransport({id:L,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createSendTransport()"),this.createTransport({direction:"send",id:L,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createRecvTransport({id:L,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z}){return x.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:L,iceParameters:A,iceCandidates:N,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:O,additionalSettings:U,proprietaryConstraints:F,appData:z})}createTransport({direction:L,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(X&&typeof X!="object")throw new TypeError("wrong sctpParameters");if(q&&typeof q!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const B=new h.Transport({direction:L,id:A,iceParameters:N,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:O,iceTransportPolicy:U,additionalSettings:F,proprietaryConstraints:z,appData:q,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",B),B}};return Nr.Device=I,Nr}var po={},ih={},O_;function rN(){return O_||(O_=1,Object.defineProperty(ih,"__esModule",{value:!0})),ih}var ah={},N_;function nN(){return N_||(N_=1,Object.defineProperty(ah,"__esModule",{value:!0})),ah}var A_;function sN(){return A_||(A_=1,function(e){var t=po&&po.__createBinding||(Object.create?function(n,i,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,c,u)}:function(n,i,a,c){c===void 0&&(c=a),n[c]=i[a]}),r=po&&po.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ux(),e),r(X1(),e),r(q1(),e),r(G1(),e),r(K1(),e),r(Y1(),e),r(rN(),e),r(nN(),e),r(kr(),e),r(or(),e)}(po)),po}var $_;function oN(){return $_||($_=1,function(e){var t=Qr&&Qr.__createBinding||(Object.create?function(h,v,y,w){w===void 0&&(w=y);var S=Object.getOwnPropertyDescriptor(v,y);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(h,w,S)}:function(h,v,y,w){w===void 0&&(w=y),h[w]=v[y]}),r=Qr&&Qr.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),n=Qr&&Qr.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var y in h)y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)&&t(v,h,y);return r(v,h),v},i=Qr&&Qr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=i(wd());e.debug=a.default;const c=ux();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const u=n(sN());e.types=u,e.version="3.7.17";var d=Ys();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})}(Qr)),Qr}var iN=oN();const aN=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],cN=async(e,t,r,n)=>new Promise((i,a)=>{Ie.emit("joinRoom",{roomName:e,userName:t,serverId:r,accessToken:n},c=>{c.error?a(c.error):i(c.rtpCapabilities)})}),lN=async e=>{const t=new iN.Device;return await t.load({routerRtpCapabilities:e}),t},uN=async(e,t,r,n)=>new Promise((i,a)=>{Ie.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const u=e.createSendTransport(c);u.on("connect",({dtlsParameters:h},v)=>{Ie.emit("transport-connect",{dtlsParameters:h}),v()}),u.on("produce",(h,v)=>{const y=localStorage.getItem("accessToken");Ie.emit("transport-produce",{kind:h.kind,rtpParameters:h.rtpParameters,accessToken:y},({id:w})=>{v({id:w}),dN(Ie,e,n)})});const d=await u.produce({track:t});r(d),i(u),d.on("trackended",()=>{r(null)})})}),dN=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(i=>dx(i,t,r))})},dx=async(e,t,r)=>{Ie.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const i=t.createRecvTransport(n);i.on("connect",({dtlsParameters:a},c)=>{Ie.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),fN(i,e,n.id,t,r)})},fN=async(e,t,r,n,i)=>{Ie.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const c=await e.consume(a);i(c),Ie.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},Qt=cE,De=dE,pN=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:i}=Mo();return async(c,u,d,h)=>{try{if(!Ie.connected)throw new Error("Socket is not connected");const v=await aN(),y=await cN(c,u,d,h),w=await lN(y);r(w);const S=await uN(w,v,t,i);n(S),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}},bd=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:i,setIsStreaming:a,setAudioProducer:c}=Mo();return(d,h)=>{Ie.emit("leaveRoom",{accessToken:d,voiceChannelId:h}),e(!1),t(null),n([]),i(!1),a(!1),c(null),r(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:c,...u},d)=>D.createElement("svg",{ref:d,...mN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fx("lucide",i),...u},[...c.map(([h,v])=>D.createElement(h,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(gN,{ref:a,iconNode:t,className:fx(`lucide-${hN(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yN=Ae("ArrowDown",vN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],SN=Ae("ArrowLeftFromLine",wN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bN=Ae("Check",_N);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xd=Ae("ChevronDown",xN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RN=Ae("ChevronLeft",CN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tg=Ae("ChevronRight",EN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PN=Ae("CircleCheck",TN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],DN=Ae("CirclePlus",kN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],IN=Ae("CircleX",MN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],px=Ae("Copy",LN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],hx=Ae("DoorOpen",jN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],NN=Ae("Hash",ON);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$N=Ae("House",AN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zN=Ae("LogOut",FN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],UN=Ae("Menu",BN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],HN=Ae("MicOff",VN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],qN=Ae("Mic",WN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],KN=Ae("MonitorUp",GN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],XN=Ae("MonitorX",YN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],ZN=Ae("Paperclip",QN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e3=Ae("Pen",JN);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],r3=Ae("PhoneMissed",t3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vu=Ae("Plus",n3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],o3=Ae("Search",s3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a3=Ae("Send",i3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cd=Ae("Settings",c3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],u3=Ae("Trash2",l3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],f3=Ae("UserPen",d3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],h3=Ae("UserMinus",p3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g3=Ae("User",m3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],y3=Ae("Users",v3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Wl=Ae("Video",w3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],mx=Ae("Volume2",S3);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gx=Ae("X",_3);function Rd(){return{showSuccess:r=>{Vs.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:P.jsx(PN,{})})},showError:r=>{Vs.show({title:"",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:P.jsx(IN,{})})}}}const b3=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=Mo(),i=D.useRef(null),a=async()=>{const d=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],h=await r.produce({track:d});t(h),i.current=h.id,h.on("trackended",c),n(!0)},c=async()=>{const u=localStorage.getItem("accessToken");e?(e.close(),Ie.emit("stopProducer",{producerId:e.id,accessToken:u})):Ie.emit("stopProducer",{producerId:i.current,accessToken:u}),i.current=null,t(null),n(!1)};return{startScreenSharing:a,stopScreenSharing:c}},x3=e=>{const[t,r]=D.useState(!1),[n,i]=D.useState(!1),[a,c]=D.useState(!1),[u,d]=D.useState([]),[h,v]=D.useState([]),[y,w]=D.useState(null),[S,b]=D.useState(null),[R,C]=D.useState(null),[E,_]=D.useState(null),[p,f]=D.useState(null),{currentVoiceChannelId:m}=De(j=>j.testServerStore),{accessToken:x}=De(j=>j.userStore),k=j=>{d(L=>[...L,j])},I=()=>{S&&(n?S.resume():S.pause(),i(!n))};return D.useEffect(()=>{if(!Ie)return;Ie.on("producerClosed",({producerId:L})=>{d(A=>A.filter(N=>N.producerId!==L))}),Ie.on("producer-closed",({remoteProducerId:L})=>{d(A=>A.filter(N=>N.producerId!==L))}),Ie.on("new-producer",({producerId:L})=>{y&&dx(L,y,k)}),Ie.on("updateUsersList",({rooms:L})=>{v(L)});const j=()=>{Ie.emit("leaveRoom",{accessToken:x,voiceChannelId:m})};return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j),Ie.off("producerClosed"),Ie.off("producer-closed"),Ie.off("new-producer"),Ie.off("updateUsersList")}},[y]),P.jsx(I1.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:i,setIsStreaming:c,audioProducer:S,setAudioProducer:b,videoProducer:R,setVideoProducer:C,device:y,setDevice:w,producerTransport:E,setProducerTransport:_,consumers:u,users:h,addConsumer:k,setConsumers:d,toggleMute:I,selectedUserId:p,setSelectedUserId:f},children:e.children})},C3=e=>{const{consumers:t}=Mo(),r=D.useRef(new Map),[n,i]=D.useState({});D.useEffect(()=>{t.forEach(({producerId:u,track:d,kind:h})=>{if(h==="audio"&&!r.current.has(u)){const v=document.createElement("audio");v.srcObject=new MediaStream([d]),v.autoplay=!0,v.volume=n[u]??1,r.current.set(u,v),document.body.appendChild(v)}});const c=t.map(u=>u.producerId);return r.current.forEach((u,d)=>{c.includes(d)||(u.pause(),u.remove(),r.current.delete(d))}),()=>{r.current.forEach(u=>{u.pause(),u.remove()}),r.current.clear()}},[t,n]);const a=(c,u)=>{i(d=>({...d,[c]:u/100}))};return P.jsx(M1.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},R3=()=>{const e=D.useContext(M1);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function E3(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const T3=typeof window<"u"?D.useLayoutEffect:D.useEffect;function At(e,t){T3(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function P3(e,t){e&&E3(e),At(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),At(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),At(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),At(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),At(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),At(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),At(`mantine-form:${e}:clear-errors`,t.clearErrors),At(`mantine-form:${e}:reset`,t.reset),At(`mantine-form:${e}:validate`,t.validate),At(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),At(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),At(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),At(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),At(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),At(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),At(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),At(`mantine-form:${e}:reset-touched`,t.resetTouched)}function k3(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function Wh(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function D3(e){const[t,r]=D.useState(Wh(e)),n=D.useRef(t),i=D.useCallback(d=>{r(h=>{const v=Wh(typeof d=="function"?d(h):d);return n.current=v,v})},[]),a=D.useCallback(()=>i({}),[]),c=D.useCallback(d=>{n.current[d]!==void 0&&i(h=>{const v={...h};return delete v[d],v})},[t]),u=D.useCallback((d,h)=>{h==null||h===!1?c(d):n.current[d]!==h&&i(v=>({...v,[d]:h}))},[t]);return{errorsState:t,setErrors:i,clearErrors:a,setFieldError:u,clearFieldError:c}}function qh(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function F_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function z_(e,t,r,n){if(t===void 0)return r;const i=`${String(e)}`;let a=r;n===-1&&(a=qh(`${i}.${t}`,a));const c={...a},u=new Set;return Object.entries(a).filter(([d])=>{if(!d.startsWith(`${i}.`))return!1;const h=F_(d,i);return Number.isNaN(h)?!1:h>=t}).forEach(([d,h])=>{const v=F_(d,i),y=d.replace(`${i}.${v}`,`${i}.${v+n}`);c[y]=h,u.add(y),u.has(d)||delete c[d]}),c}function M3(e,{from:t,to:r},n){const i=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(u=>{let d,h;if(u.startsWith(i)&&(d=u,h=u.replace(i,a)),u.startsWith(a)&&(d=u.replace(a,i),h=u),d&&h){const v=c[d],y=c[h];return y===void 0?delete c[d]:c[d]=y,v===void 0?delete c[h]:c[h]=v,!1}return!0}),c}function B_(e,t,r){typeof r.value=="object"&&(r.value=hi(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function hi(e){if(typeof e!="object")return e;var t=0,r,n,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(c){i.add(hi(c))})):a==="[object Map]"?(i=new Map,e.forEach(function(c,u){i.set(hi(u),hi(c))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(hi(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)B_(i,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(i,r=n[t])&&i[r]===e[r]||B_(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}function vx(e){return typeof e!="string"?[]:e.split(".")}function Ft(e,t){const r=vx(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let i=1;i<r.length&&n!=null;i+=1)n=n[r[i]];return n}function uc(e,t,r){const n=vx(e);if(n.length===0)return r;const i=hi(r);if(n.length===1)return i[n[0]]=t,i;let a=i[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return i;a=a[n[c]]}return a[n[n.length-1]]=t,i}function I3(e,{from:t,to:r},n){const i=Ft(e,n);if(!Array.isArray(i))return n;const a=[...i],c=i[t];return a.splice(t,1),a.splice(r,0,c),uc(e,a,n)}function L3(e,t,r,n){const i=Ft(e,n);if(!Array.isArray(i))return n;const a=[...i];return a.splice(typeof r=="number"?r:a.length,0,t),uc(e,a,n)}function j3(e,t,r){const n=Ft(e,r);return Array.isArray(n)?uc(e,n.filter((i,a)=>a!==t),r):r}function O3(e,t,r,n){const i=Ft(e,n);if(!Array.isArray(i)||i.length<=r)return n;const a=[...i];return a[r]=t,uc(e,a,n)}function N3({$values:e,$errors:t,$status:r}){const n=D.useCallback((u,d)=>{r.clearFieldDirty(u),t.setErrors(h=>M3(u,d,h)),e.setValues({values:I3(u,d,e.refValues.current),updateState:!0})},[]),i=D.useCallback((u,d)=>{r.clearFieldDirty(u),t.setErrors(h=>z_(u,d,h,-1)),e.setValues({values:j3(u,d,e.refValues.current),updateState:!0})},[]),a=D.useCallback((u,d,h)=>{r.clearFieldDirty(u),t.setErrors(v=>z_(u,h,v,1)),e.setValues({values:L3(u,d,h,e.refValues.current),updateState:!0})},[]),c=D.useCallback((u,d,h)=>{r.clearFieldDirty(u),e.setValues({values:O3(u,h,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:i,insertListItem:a,replaceListItem:c}}var ch,U_;function A3(){return U_||(U_=1,ch=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),ch}var $3=A3();const Ll=tm($3);function La(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(i=>i.startsWith(`${t}.`));return e[t]||n.some(i=>e[i])||!1}return r.some(n=>e[n])}function F3({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[i,a]=D.useState(t),[c,u]=D.useState(e),d=D.useRef(t),h=D.useRef(e),v=D.useCallback(x=>{const k=typeof x=="function"?x(d.current):x;d.current=k,r==="controlled"&&a(k)},[]),y=D.useCallback((x,k=!1)=>{const I=typeof x=="function"?x(h.current):x;h.current=I,(r==="controlled"||k)&&u(I)},[]),w=D.useCallback(()=>v({}),[]),S=D.useCallback(x=>{const k=x?{...n.refValues.current,...x}:n.refValues.current;n.setValuesSnapshot(k),y({})},[]),b=D.useCallback((x,k)=>{v(I=>La(I,x)===k?I:{...I,[x]:k})},[]),R=D.useCallback((x,k,I)=>{y(j=>La(j,x)===k?j:{...j,[x]:k},I)},[]),C=D.useCallback((x,k)=>{const I=La(h.current,x),j=!Ll(Ft(x,n.getValuesSnapshot()),k),L=qh(x,h.current);L[x]=j,y(L,I!==j)},[]),E=D.useCallback(x=>La(d.current,x),[]),_=D.useCallback(x=>y(k=>{if(typeof x!="string")return k;const I=qh(x,k);return delete I[x],Ll(I,k)?k:I}),[]),p=D.useCallback(x=>{if(x){const I=Ft(x,h.current);if(typeof I=="boolean")return I;const j=Ft(x,n.refValues.current),L=Ft(x,n.valuesSnapshot.current);return!Ll(j,L)}return Object.keys(h.current).length>0?La(h.current):!Ll(n.refValues.current,n.valuesSnapshot.current)},[]),f=D.useCallback(()=>h.current,[]),m=D.useCallback(()=>d.current,[]);return{touchedState:i,dirtyState:c,touchedRef:d,dirtyRef:h,setTouched:v,setDirty:y,resetDirty:S,resetTouched:w,isTouched:E,setFieldTouched:b,setFieldDirty:R,setTouchedState:a,setDirtyState:u,clearFieldDirty:_,isDirty:p,getDirty:f,getTouched:m,setCalculatedFieldDirty:C}}function z3({initialValues:e,onValuesChange:t,mode:r}){const n=D.useRef(!1),[i,a]=D.useState(e||{}),c=D.useRef(i),u=D.useRef(i),d=D.useCallback(({values:R,subscribers:C,updateState:E=!0,mergeWithPreviousValues:_=!0})=>{const p=c.current,f=R instanceof Function?R(c.current):R,m=_?{...p,...f}:f;c.current=m,E&&a(m),t==null||t(m,p),C==null||C.filter(Boolean).forEach(x=>x({updatedValues:m,previousValues:p}))},[t]),h=D.useCallback(R=>{var _;const C=Ft(R.path,c.current),E=R.value instanceof Function?R.value(C):R.value;if(C!==E){const p=c.current,f=uc(R.path,E,c.current);d({values:f,updateState:R.updateState}),(_=R.subscribers)==null||_.filter(Boolean).forEach(m=>m({path:R.path,updatedValues:f,previousValues:p}))}},[d]),v=D.useCallback(R=>{u.current=R},[]),y=D.useCallback((R,C)=>{n.current||(n.current=!0,d({values:R,updateState:r==="controlled"}),v(R),C())},[d]),w=D.useCallback(()=>{d({values:u.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),S=D.useCallback(()=>c.current,[]),b=D.useCallback(()=>u.current,[]);return{initialized:n,stateValues:i,refValues:c,valuesSnapshot:u,setValues:d,setFieldValue:h,resetValues:w,setValuesSnapshot:v,initialize:y,getValues:S,getValuesSnapshot:b}}function B3({$status:e}){const t=D.useRef({}),r=D.useCallback((i,a)=>{D.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(a),()=>{t.current[i]=t.current[i].filter(c=>c!==a)}),[a])},[]),n=D.useCallback(i=>t.current[i]?t.current[i].map(a=>c=>a({previousValue:Ft(i,c.previousValues),value:Ft(i,c.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function V_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const jl=Symbol("root-rule");function H_(e){const t=Wh(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Gh(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((i,a)=>{const c=e[a],u=`${r===""?"":`${r}.`}${a}`,d=Ft(u,t);let h=!1;return typeof c=="function"&&(i[u]=c(d,t,u)),typeof c=="object"&&Array.isArray(d)&&(h=!0,d.forEach((v,y)=>Gh(c,t,`${u}.${y}`,i)),jl in c&&(i[u]=c[jl](d,t,u))),typeof c=="object"&&typeof d=="object"&&d!==null&&(h||Gh(c,t,u,i),jl in c&&(i[u]=c[jl](d,t,u))),i},n)}function Kh(e,t){return H_(typeof e=="function"?e(t):Gh(e,t))}function Ol(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=Kh(t,r),i=Object.keys(n.errors).find(a=>e.split(".").every((c,u)=>c===a.split(".")[u]));return{hasError:!!i,error:i?n.errors[i]:null}}const U3="__MANTINE_FORM_INDEX__";function W_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${U3}`)):!1:!1}function Za({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:i={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:u=!1,validateInputOnBlur:d=!1,onValuesChange:h,transformValues:v=R=>R,enhanceGetInputProps:y,validate:w,onSubmitPreventDefault:S="always",touchTrigger:b="change"}={}){const R=D3(n),C=z3({initialValues:r,onValuesChange:h,mode:t}),E=F3({initialDirty:i,initialTouched:a,$values:C,mode:t}),_=N3({$values:C,$errors:R,$status:E}),p=B3({$status:E}),[f,m]=D.useState(0),[x,k]=D.useState({}),[I,j]=D.useState(!1),L=D.useCallback(()=>{C.resetValues(),R.clearErrors(),E.resetDirty(),E.resetTouched(),t==="uncontrolled"&&m(ee=>ee+1)},[]),A=D.useCallback(ee=>{c&&R.clearErrors(),t==="uncontrolled"&&m(oe=>oe+1),Object.keys(p.subscribers.current).forEach(oe=>{const ue=Ft(oe,C.refValues.current),me=Ft(oe,ee);ue!==me&&p.getFieldSubscribers(oe).forEach(he=>he({previousValues:ee,updatedValues:C.refValues.current}))})},[c]),N=D.useCallback(ee=>{const oe=C.refValues.current;C.initialize(ee,()=>t==="uncontrolled"&&m(ue=>ue+1)),A(oe)},[A]),V=D.useCallback((ee,oe,ue)=>{const me=W_(ee,u),he=oe instanceof Function?oe(Ft(ee,C.refValues.current)):oe;E.setCalculatedFieldDirty(ee,he),b==="change"&&E.setFieldTouched(ee,!0),!me&&c&&R.clearFieldError(ee),C.setFieldValue({path:ee,value:oe,updateState:t==="controlled",subscribers:[...p.getFieldSubscribers(ee),me?Ce=>{const ke=Ol(ee,w,Ce.updatedValues);ke.hasError?R.setFieldError(ee,ke.error):R.clearFieldError(ee)}:null,(ue==null?void 0:ue.forceUpdate)!==!1&&t!=="controlled"?()=>k(Ce=>({...Ce,[ee]:(Ce[ee]||0)+1})):null]})},[h,w]),W=D.useCallback(ee=>{const oe=C.refValues.current;C.setValues({values:ee,updateState:t==="controlled"}),A(oe)},[h,A]),X=D.useCallback(()=>{const ee=Kh(w,C.refValues.current);return R.setErrors(ee.errors),ee},[w]),O=D.useCallback(ee=>{const oe=Ol(ee,w,C.refValues.current);return oe.hasError?R.setFieldError(ee,oe.error):R.clearFieldError(ee),oe},[w]),U=(ee,{type:oe="input",withError:ue=!0,withFocus:me=!0,...he}={})=>{const ke={onChange:k3(gt=>V(ee,gt,{forceUpdate:!1})),"data-path":V_(e,ee)};return ue&&(ke.error=R.errorsState[ee]),oe==="checkbox"?ke[t==="controlled"?"checked":"defaultChecked"]=Ft(ee,C.refValues.current):ke[t==="controlled"?"value":"defaultValue"]=Ft(ee,C.refValues.current),me&&(ke.onFocus=()=>E.setFieldTouched(ee,!0),ke.onBlur=()=>{if(W_(ee,d)){const gt=Ol(ee,w,C.refValues.current);gt.hasError?R.setFieldError(ee,gt.error):R.clearFieldError(ee)}}),Object.assign(ke,y==null?void 0:y({inputProps:ke,field:ee,options:{type:oe,withError:ue,withFocus:me,...he},form:de}))},F=(ee,oe)=>ue=>{S==="always"&&(ue==null||ue.preventDefault());const me=X();if(me.hasErrors)S==="validation-failed"&&(ue==null||ue.preventDefault()),oe==null||oe(me.errors,C.refValues.current,ue);else{const he=ee==null?void 0:ee(v(C.refValues.current),ue);he instanceof Promise&&(j(!0),he.finally(()=>j(!1)))}},z=ee=>v(ee||C.refValues.current),q=D.useCallback(ee=>{ee.preventDefault(),L()},[]),B=D.useCallback(ee=>ee?!Ol(ee,w,C.refValues.current).hasError:!Kh(w,C.refValues.current).hasErrors,[w]),Y=ee=>`${f}-${ee}-${x[ee]||0}`,ae=D.useCallback(ee=>document.querySelector(`[data-path="${V_(e,ee)}"]`),[]),de={watch:p.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:N,setValues:W,setFieldValue:V,submitting:I,setSubmitting:j,errors:R.errorsState,setErrors:R.setErrors,setFieldError:R.setFieldError,clearFieldError:R.clearFieldError,clearErrors:R.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:L,validate:X,validateField:O,getInputProps:U,onSubmit:F,onReset:q,isValid:B,getTransformedValues:z,key:Y,getInputNode:ae};return P3(e,de),de}function $t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var V3=typeof Symbol=="function"&&Symbol.observable||"@@observable",q_=V3,lh=()=>Math.random().toString(36).substring(7).split("").join("."),H3={INIT:`@@redux/INIT${lh()}`,REPLACE:`@@redux/REPLACE${lh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lh()}`},yu=H3;function Pg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yx(e,t,r){if(typeof e!="function")throw new Error($t(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($t(1));return r(yx)(e,t)}let n=e,i=t,a=new Map,c=a,u=0,d=!1;function h(){c===a&&(c=new Map,a.forEach((C,E)=>{c.set(E,C)}))}function v(){if(d)throw new Error($t(3));return i}function y(C){if(typeof C!="function")throw new Error($t(4));if(d)throw new Error($t(5));let E=!0;h();const _=u++;return c.set(_,C),function(){if(E){if(d)throw new Error($t(6));E=!1,h(),c.delete(_),a=null}}}function w(C){if(!Pg(C))throw new Error($t(7));if(typeof C.type>"u")throw new Error($t(8));if(typeof C.type!="string")throw new Error($t(17));if(d)throw new Error($t(9));try{d=!0,i=n(i,C)}finally{d=!1}return(a=c).forEach(_=>{_()}),C}function S(C){if(typeof C!="function")throw new Error($t(10));n=C,w({type:yu.REPLACE})}function b(){const C=y;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error($t(11));function _(){const f=E;f.next&&f.next(v())}return _(),{unsubscribe:C(_)}},[q_](){return this}}}return w({type:yu.INIT}),{dispatch:w,subscribe:y,getState:v,replaceReducer:S,[q_]:b}}function W3(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:yu.INIT})>"u")throw new Error($t(12));if(typeof r(void 0,{type:yu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function q3(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{W3(r)}catch(a){i=a}return function(c={},u){if(i)throw i;let d=!1;const h={};for(let v=0;v<n.length;v++){const y=n[v],w=r[y],S=c[y],b=w(S,u);if(typeof b>"u")throw u&&u.type,new Error($t(14));h[y]=b,d=d||b!==S}return d=d||n.length!==Object.keys(c).length,d?h:c}}function wu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function G3(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error($t(15))};const c={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},u=e.map(d=>d(c));return a=wu(...u)(i.dispatch),{...i,dispatch:a}}}function K3(e){return Pg(e)&&"type"in e&&typeof e.type=="string"}var wx=Symbol.for("immer-nothing"),G_=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bi=Object.getPrototypeOf;function xo(e){return!!e&&!!e[Tr]}function cs(e){var t;return e?Sx(e)||Array.isArray(e)||!!e[G_]||!!((t=e.constructor)!=null&&t[G_])||Td(e)||Pd(e):!1}var Y3=Object.prototype.constructor.toString();function Sx(e){if(!e||typeof e!="object")return!1;const t=bi(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Y3}function Su(e,t){Ed(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ed(e){const t=e[Tr];return t?t.type_:Array.isArray(e)?1:Td(e)?2:Pd(e)?3:0}function Yh(e,t){return Ed(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _x(e,t,r){const n=Ed(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function X3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Td(e){return e instanceof Map}function Pd(e){return e instanceof Set}function go(e){return e.copy_||e.base_}function Xh(e,t){if(Td(e))return new Map(e);if(Pd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Sx(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Tr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(bi(e),n)}else{const n=bi(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function kg(e,t=!1){return kd(e)||xo(e)||!cs(e)||(Ed(e)>1&&(e.set=e.add=e.clear=e.delete=Q3),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>kg(n,!0))),e}function Q3(){mn(2)}function kd(e){return Object.isFrozen(e)}var Z3={};function Co(e){const t=Z3[e];return t||mn(0,e),t}var Ja;function bx(){return Ja}function J3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K_(e,t){t&&(Co("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qh(e){Zh(e),e.drafts_.forEach(e4),e.drafts_=null}function Zh(e){e===Ja&&(Ja=e.parent_)}function Y_(e){return Ja=J3(Ja,e)}function e4(e){const t=e[Tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function X_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Tr].modified_&&(Qh(t),mn(4)),cs(e)&&(e=_u(t,e),t.parent_||bu(t,e)),t.patches_&&Co("Patches").generateReplacementPatches_(r[Tr].base_,e,t.patches_,t.inversePatches_)):e=_u(t,r,[]),Qh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wx?e:void 0}function _u(e,t,r){if(kd(t))return t;const n=t[Tr];if(!n)return Su(t,(i,a)=>Q_(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return bu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,c=!1;n.type_===3&&(a=new Set(i),i.clear(),c=!0),Su(a,(u,d)=>Q_(e,n,i,u,d,r,c)),bu(e,i,!1),r&&e.patches_&&Co("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Q_(e,t,r,n,i,a,c){if(xo(i)){const u=a&&t&&t.type_!==3&&!Yh(t.assigned_,n)?a.concat(n):void 0,d=_u(e,i,u);if(_x(r,n,d),xo(d))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(cs(i)&&!kd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;_u(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&bu(e,i)}}function bu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kg(t,r)}function t4(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Dg;r&&(i=[n],a=ec);const{revoke:c,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=c,u}var Dg={get(e,t){if(t===Tr)return e;const r=go(e);if(!Yh(r,t))return r4(e,r,t);const n=r[t];return e.finalized_||!cs(n)?n:n===uh(e.base_,t)?(dh(e),e.copy_[t]=em(n,e)):n},has(e,t){return t in go(e)},ownKeys(e){return Reflect.ownKeys(go(e))},set(e,t,r){const n=xx(go(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=uh(go(e),t),a=i==null?void 0:i[Tr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(X3(r,i)&&(r!==void 0||Yh(e.base_,t)))return!0;dh(e),Jh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dh(e),Jh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=go(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mn(11)},getPrototypeOf(e){return bi(e.base_)},setPrototypeOf(){mn(12)}},ec={};Su(Dg,(e,t)=>{ec[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ec.deleteProperty=function(e,t){return ec.set.call(this,e,t,void 0)};ec.set=function(e,t,r){return Dg.set.call(this,e[0],t,r,e[0])};function uh(e,t){const r=e[Tr];return(r?go(r):e)[t]}function r4(e,t,r){var i;const n=xx(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function xx(e,t){if(!(t in e))return;let r=bi(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bi(r)}}function Jh(e){e.modified_||(e.modified_=!0,e.parent_&&Jh(e.parent_))}function dh(e){e.copy_||(e.copy_=Xh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var n4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(d=a,...h){return c.produce(d,v=>r.call(this,v,...h))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let i;if(cs(t)){const a=Y_(this),c=em(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Qh(a):Zh(a)}return K_(a,n),X_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wx&&(i=void 0),this.autoFreeze_&&kg(i,!0),n){const a=[],c=[];Co("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,d=>t(d,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){cs(e)||mn(8),xo(e)&&(e=s4(e));const t=Y_(this),r=em(e,void 0);return r[Tr].isManual_=!0,Zh(t),r}finishDraft(e,t){const r=e&&e[Tr];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return K_(n,t),X_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Co("Patches").applyPatches_;return xo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function em(e,t){const r=Td(e)?Co("MapSet").proxyMap_(e,t):Pd(e)?Co("MapSet").proxySet_(e,t):t4(e,t);return(t?t.scope_:bx()).drafts_.push(r),r}function s4(e){return xo(e)||mn(10,e),Cx(e)}function Cx(e){if(!cs(e)||kd(e))return e;const t=e[Tr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Xh(e,!0);return Su(r,(n,i)=>{_x(r,n,Cx(i))}),t&&(t.finalized_=!1),r}var Pr=new n4,Rx=Pr.produce;Pr.produceWithPatches.bind(Pr);Pr.setAutoFreeze.bind(Pr);Pr.setUseStrictShallowCopy.bind(Pr);Pr.applyPatches.bind(Pr);Pr.createDraft.bind(Pr);Pr.finishDraft.bind(Pr);function Ex(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var o4=Ex(),i4=Ex,a4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wu:wu.apply(null,arguments)},c4=e=>e&&typeof e.match=="function";function Ha(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(rs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>K3(n)&&n.type===e,r}var Tx=class Fa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fa.prototype)}static get[Symbol.species](){return Fa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fa(...t[0].concat(this)):new Fa(...t.concat(this))}};function Z_(e){return cs(e)?Rx(e,()=>{}):e}function J_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function l4(e){return typeof e=="boolean"}var u4=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new Tx;return r&&(l4(r)?c.push(o4):c.push(i4(r.extraArgument))),c},d4="RTK_autoBatch",eb=e=>t=>{setTimeout(t,e)},f4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eb(10):e.type==="callback"?e.queueNotification:eb(e.timeout),h=()=>{c=!1,a&&(a=!1,u.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const y=()=>i&&v(),w=n.subscribe(y);return u.add(v),()=>{w(),u.delete(v)}},dispatch(v){var y;try{return i=!((y=v==null?void 0:v.meta)!=null&&y[d4]),a=!i,a&&(c||(c=!0,d(h))),n.dispatch(v)}finally{i=!0}}})},p4=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Tx(e);return n&&i.push(f4(typeof n=="object"?n:void 0)),i};function h4(e){const t=u4(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Pg(r))u=q3(r);else throw new Error(rs(1));let d;typeof n=="function"?d=n(t):d=t();let h=wu;i&&(h=a4({trace:!1,...typeof i=="object"&&i}));const v=G3(...d),y=p4(v);let w=typeof c=="function"?c(y):y();const S=h(...w);return yx(u,a,S)}function Px(e){const t={},r=[];let n;const i={addCase(a,c){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(rs(28));if(u in t)throw new Error(rs(29));return t[u]=c,i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function m4(e){return typeof e=="function"}function g4(e,t){let[r,n,i]=Px(t),a;if(m4(e))a=()=>Z_(e());else{const u=Z_(e);a=()=>u}function c(u=a(),d){let h=[r[d.type],...n.filter(({matcher:v})=>v(d)).map(({reducer:v})=>v)];return h.filter(v=>!!v).length===0&&(h=[i]),h.reduce((v,y)=>{if(y)if(xo(v)){const S=y(v,d);return S===void 0?v:S}else{if(cs(v))return Rx(v,w=>y(w,d));{const w=y(v,d);if(w===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return v},u)}return c.getInitialState=a,c}var v4=(e,t)=>c4(e)?e.match(t):e(t);function y4(...e){return t=>e.some(r=>v4(r,t))}var w4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",S4=(e=21)=>{let t="",r=e;for(;r--;)t+=w4[Math.random()*64|0];return t},_4=["name","message","stack","code"],fh=class{constructor(e,t){yp(this,"_type");this.payload=e,this.meta=t}},tb=class{constructor(e,t){yp(this,"_type");this.payload=e,this.meta=t}},b4=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of _4)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},rb="External signal was aborted",mt=(()=>{function e(t,r,n){const i=Ha(t+"/fulfilled",(d,h,v,y)=>({payload:d,meta:{...y||{},arg:v,requestId:h,requestStatus:"fulfilled"}})),a=Ha(t+"/pending",(d,h,v)=>({payload:void 0,meta:{...v||{},arg:h,requestId:d,requestStatus:"pending"}})),c=Ha(t+"/rejected",(d,h,v,y,w)=>({payload:y,error:(n&&n.serializeError||b4)(d||"Rejected"),meta:{...w||{},arg:v,requestId:h,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function u(d,{signal:h}={}){return(v,y,w)=>{const S=n!=null&&n.idGenerator?n.idGenerator(d):S4(),b=new AbortController;let R,C;function E(p){C=p,b.abort()}h&&(h.aborted?E(rb):h.addEventListener("abort",()=>E(rb),{once:!0}));const _=async function(){var m,x;let p;try{let k=(m=n==null?void 0:n.condition)==null?void 0:m.call(n,d,{getState:y,extra:w});if(C4(k)&&(k=await k),k===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((j,L)=>{R=()=>{L({name:"AbortError",message:C||"Aborted"})},b.signal.addEventListener("abort",R)});v(a(S,d,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:S,arg:d},{getState:y,extra:w}))),p=await Promise.race([I,Promise.resolve(r(d,{dispatch:v,getState:y,extra:w,requestId:S,signal:b.signal,abort:E,rejectWithValue:(j,L)=>new fh(j,L),fulfillWithValue:(j,L)=>new tb(j,L)})).then(j=>{if(j instanceof fh)throw j;return j instanceof tb?i(j.payload,S,d,j.meta):i(j,S,d)})])}catch(k){p=k instanceof fh?c(null,S,d,k.payload,k.meta):c(k,S,d)}finally{R&&b.signal.removeEventListener("abort",R)}return n&&!n.dispatchConditionRejection&&c.match(p)&&p.meta.condition||v(p),p}();return Object.assign(_,{abort:E,requestId:S,arg:d,unwrap(){return _.then(x4)}})}}return Object.assign(u,{pending:a,rejected:c,fulfilled:i,settled:y4(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function x4(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function C4(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var R4=Symbol.for("rtk-slice-createasyncthunk");function E4(e,t){return`${e}/${t}`}function T4({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[R4];return function(i){const{name:a,reducerPath:c=a}=i;if(!a)throw new Error(rs(11));const u=(typeof i.reducers=="function"?i.reducers(k4()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(p,f){const m=typeof p=="string"?p:p.type;if(!m)throw new Error(rs(12));if(m in h.sliceCaseReducersByType)throw new Error(rs(13));return h.sliceCaseReducersByType[m]=f,v},addMatcher(p,f){return h.sliceMatchers.push({matcher:p,reducer:f}),v},exposeAction(p,f){return h.actionCreators[p]=f,v},exposeCaseReducer(p,f){return h.sliceCaseReducersByName[p]=f,v}};d.forEach(p=>{const f=u[p],m={reducerName:p,type:E4(a,p),createNotation:typeof i.reducers=="function"};M4(f)?L4(m,f,v,t):D4(m,f,v)});function y(){const[p={},f=[],m=void 0]=typeof i.extraReducers=="function"?Px(i.extraReducers):[i.extraReducers],x={...p,...h.sliceCaseReducersByType};return g4(i.initialState,k=>{for(let I in x)k.addCase(I,x[I]);for(let I of h.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of f)k.addMatcher(I.matcher,I.reducer);m&&k.addDefaultCase(m)})}const w=p=>p,S=new Map;let b;function R(p,f){return b||(b=y()),b(p,f)}function C(){return b||(b=y()),b.getInitialState()}function E(p,f=!1){function m(k){let I=k[p];return typeof I>"u"&&f&&(I=C()),I}function x(k=w){const I=J_(S,f,()=>new WeakMap);return J_(I,k,()=>{const j={};for(const[L,A]of Object.entries(i.selectors??{}))j[L]=P4(A,k,C,f);return j})}return{reducerPath:p,getSelectors:x,get selectors(){return x(m)},selectSlice:m}}const _={name:a,reducer:R,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...E(c),injectInto(p,{reducerPath:f,...m}={}){const x=f??c;return p.inject({reducerPath:x,reducer:R},m),{..._,...E(x,!0)}}};return _}}function P4(e,t,r,n){function i(a,...c){let u=t(a);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var Mg=T4();function k4(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function D4({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!I4(n))throw new Error(rs(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Ha(e,c):Ha(e))}function M4(e){return e._reducerDefinitionType==="asyncThunk"}function I4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L4({type:e,reducerName:t},r,n,i){if(!i)throw new Error(rs(18));const{payloadCreator:a,fulfilled:c,pending:u,rejected:d,settled:h,options:v}=r,y=i(e,a,v);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),u&&n.addCase(y.pending,u),d&&n.addCase(y.rejected,d),h&&n.addMatcher(y.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Nl,pending:u||Nl,rejected:d||Nl,settled:h||Nl})}function Nl(){}function rs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const j4=async e=>{try{const t=await fetch(`${_t}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},O4=async e=>{try{const t=await fetch(`${_t}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},N4=async e=>{try{const t=await fetch(`${_t}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},A4=async e=>{try{const t=await fetch(`${_t}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},$4=async e=>{try{const t=await fetch(`${_t}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},F4=e=>e instanceof Error?e.message:String(e),ql=mt("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await j4(e)}catch(r){return t(F4(r))}}),Gl=mt("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await O4(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Kl=mt("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const i=await N4(e);return console.log(i),i}catch(i){if(console.log(i),i.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(Xl({refreshToken:c})).unwrap()}return t(i instanceof Error?i.message:" ")}}),Yl=mt("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await A4(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Xl=mt("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await $4(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),ph=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},z4={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:ph("accessToken"),refreshToken:ph("refreshToken"),isLoggedIn:!!ph("accessToken"),error:"",isLoading:!1},B4=Mg({name:"user",initialState:z4,reducers:{},extraReducers:e=>{e.addCase(ql.pending,t=>{t.error=""}).addCase(ql.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(ql.rejected,(t,r)=>{t.error=r.payload}).addCase(Gl.pending,t=>{t.error=""}).addCase(Gl.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Gl.rejected,(t,r)=>{t.error=r.payload}).addCase(Kl.pending,t=>{t.error=""}).addCase(Kl.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Kl.rejected,(t,r)=>{t.error=r.payload}).addCase(Yl.pending,t=>{t.error=""}).addCase(Yl.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Yl.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Xl.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(Xl.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(Xl.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1})}}),U4=B4.reducer,V4=()=>{const{accessToken:e}=De(a=>a.userStore),t=Qt(),r=Do(),n=Za({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await t(Gl(a))).meta.requestStatus==="fulfilled"&&r("/main")};return D.useEffect(()=>{e&&r("/main")},[e,r]),P.jsx(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:P.jsxs(ic,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[P.jsx(Ye,{fw:500,mb:"md",children:"   "}),P.jsx("form",{onSubmit:n.onSubmit(i),children:P.jsxs(rt,{gap:"md",children:[P.jsx(_n,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),P.jsx(dd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),P.jsx(nt,{justify:"center",mt:"md",children:P.jsx(Ue,{type:"submit",children:""})})]})})]})})},H4=()=>P.jsxs(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[P.jsx(hd,{order:3,children:"   Hitscord!"}),P.jsxs(nt,{gap:"20px",children:[P.jsx(OS,{to:"/login",children:P.jsx(Ue,{variant:"filled",radius:"md",children:""})}),P.jsx(OS,{to:"/register",children:P.jsx(Ue,{variant:"filled",radius:"md",children:""})})]})]});function W4(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${i} ${a}:${c}`}const nb=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),q4=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName}),Ig=e=>e.map(t=>{const r=t.users.reduce((n,i)=>(n[i.socketId]||(n[i.socketId]={userName:i.userName,producerIds:[]}),n[i.socketId].producerIds.push(i.producerId),n),{});return{roomName:t.roomName,users:r}}),G4={isUserStreamView:!1,isOpenHome:!0},kx=Mg({name:"app",initialState:G4,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:Dx,setUserStreamView:xi,setOpenHome:dc}=kx.actions,K4=kx.reducer;var Ns=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(Ns||{});const Mx=async(e,t,r,n=0)=>{try{const i=await fetch(`${_t}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await i.json();if(!i.ok)throw new Error(a.message||`Error: ${i.status}`);return a.messages}catch(i){throw console.error("Error get messages:",i),i}},Y4=async(e,t,r,n)=>{try{const i=await fetch(`${_t}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create channel:",i),i}},X4=async(e,t)=>{try{const r=await fetch(`${_t}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},Q4=async(e,t,r,n)=>{try{const i=await fetch(`${_t}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create message:",i),i}},Z4=async(e,t)=>{try{const r=await fetch(`${_t}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},J4=async(e,t,r)=>{try{const n=await fetch(`${_t}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},eA=async e=>{try{const t=await fetch(`${_t}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},tA=async(e,t)=>{try{const r=await fetch(`${_t}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},rA=async(e,t)=>{try{const r=await fetch(`${_t}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},nA=async(e,t)=>{try{const r=await fetch(`${_t}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},sA=async(e,t,r,n)=>{try{const i=await fetch(`${_t}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!i.ok){const a=await i.json();throw new Error(a.message||`Error: ${i.status}`)}}catch(i){throw console.error("Error create server:",i),i}},oA=async(e,t,r)=>{try{const n=await fetch(`${_t}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},iA=async(e,t)=>{try{const r=await fetch(`${_t}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},aA=async(e,t,r)=>{try{const n=await fetch(`${_t}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},cA=async(e,t,r)=>{try{const n=await fetch(`${_t}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},lA=async(e,t,r)=>{try{const n=await fetch(`${_t}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r})});if(!n.ok){const i=await n.json();throw new Error(i.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete user from server:",n),n}},zs=mt("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await eA(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),ns=mt("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await tA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ql=mt("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await rA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),hh=mt("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await nA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Zl=mt("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:i})=>{try{await sA(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),Jl=mt("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await oA(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),Wa=mt("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await iA(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),eu=mt("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Mx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),mh=mt("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:i})=>{try{return await Mx(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),gh=mt("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:i})=>{try{await Q4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),vh=mt("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await Z4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),yh=mt("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await J4(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),tu=mt("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:i})=>{try{await Y4(e,t,r,n)}catch(a){return i(a instanceof Error?a.message:" ")}}),ru=mt("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await X4(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),nu=mt("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await aA(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),su=mt("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await cA(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}}),ou=mt("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r},{rejectWithValue:n})=>{try{await lA(e,t,r)}catch(i){return n(i instanceof Error?i.message:" ")}});var yi=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(yi||{});const uA={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:yi.IDLE,isLoading:!1,error:""},Ix=Mg({name:"testServer",initialState:uA,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1}},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)}},extraReducers:e=>{e.addCase(zs.pending,t=>{t.isLoading=!0,t.error=""}).addCase(zs.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(zs.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ns.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[]},isCreator:!1,canChangeRole:!1,canDeleteUsers:!1,canWorkWithChannels:!1},t.error=""}).addCase(ns.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let i=t.currentChannelId;n.find(c=>c.channelId===i)||(i=n.length>0?n[0].channelId:null,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(ns.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Ql.pending,t=>{t.error=""}).addCase(Ql.fulfilled,t=>{t.error=""}).addCase(Ql.rejected,(t,r)=>{t.error=r.payload}).addCase(hh.pending,t=>{t.error=""}).addCase(hh.fulfilled,t=>{t.error=""}).addCase(hh.rejected,(t,r)=>{t.error=r.payload}).addCase(Zl.pending,t=>{t.error=""}).addCase(Zl.fulfilled,t=>{t.error=""}).addCase(Zl.rejected,(t,r)=>{t.error=r.payload}).addCase(Jl.pending,t=>{t.error=""}).addCase(Jl.fulfilled,t=>{t.error=""}).addCase(Jl.rejected,(t,r)=>{t.error=r.payload}).addCase(eu.pending,t=>{t.messagesStatus=yi.PENDING,t.isLoading=!0,t.error=""}).addCase(eu.fulfilled,(t,r)=>{t.messages=r.payload,t.hasNewMessage=!1,t.messagesStatus=yi.FULFILLED,t.isLoading=!1,t.error=""}).addCase(eu.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=yi.REJECTED,t.error=r.payload}).addCase(mh.pending,t=>{t.isLoading=!0,t.error=""}).addCase(mh.fulfilled,(t,r)=>{t.messages=[...r.payload,...t.messages],t.isLoading=!1,t.error=""}).addCase(mh.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(gh.pending,t=>{t.error=""}).addCase(gh.fulfilled,t=>{t.error=""}).addCase(gh.rejected,(t,r)=>{t.error=r.payload}).addCase(vh.pending,t=>{t.error=""}).addCase(vh.fulfilled,t=>{t.error=""}).addCase(vh.rejected,(t,r)=>{t.error=r.payload}).addCase(yh.pending,t=>{t.error=""}).addCase(yh.fulfilled,t=>{t.error=""}).addCase(yh.rejected,(t,r)=>{t.error=r.payload}).addCase(tu.pending,t=>{t.error=""}).addCase(tu.fulfilled,t=>{t.error=""}).addCase(tu.rejected,(t,r)=>{t.error=r.payload}).addCase(ru.pending,t=>{t.error=""}).addCase(ru.fulfilled,t=>{t.error=""}).addCase(ru.rejected,(t,r)=>{t.error=r.payload}).addCase(Wa.pending,t=>{t.error=""}).addCase(Wa.fulfilled,t=>{t.error=""}).addCase(Wa.rejected,(t,r)=>{t.error=r.payload}).addCase(nu.pending,t=>{t.error=""}).addCase(nu.fulfilled,t=>{t.error=""}).addCase(nu.rejected,(t,r)=>{t.error=r.payload}).addCase(su.pending,t=>{t.error=""}).addCase(su.fulfilled,t=>{t.error=""}).addCase(su.rejected,(t,r)=>{t.error=r.payload}).addCase(ou.pending,t=>{t.error=""}).addCase(ou.fulfilled,t=>{t.error=""}).addCase(ou.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:dA,setCurrentChannelId:fA,setCurrentVoiceChannelId:xu,addMessage:pA,deleteMessageWs:hA,editMessageWs:mA,addUserWs:gA,deleteUserWs:vA,clearServerData:Lx,clearHasNewMessage:sb,setNewServerName:yA,setNewUserName:wA,removeUser:SA,removeServer:_A}=Ix.actions,bA=Ix.reducer,xA=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:n})=>{const i=D.useRef(null);D.useEffect(()=>{if(e){const d=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return d.onmessage=h=>{const v=JSON.parse(h.data);if(console.log(v),v.MessageType==="New message"){const y=nb(v.Payload);y.id&&y.text&&t(pA(y))}if(v.MessageType==="Deleted message"&&t(hA({channelId:v.Payload.ChannelId,messageId:v.Payload.MessageId})),v.MessageType==="Updated message"){const y=nb(v.Payload);t(mA(y))}},d.onerror=h=>{console.error("WebSocket error:",h)},i.current=d,()=>{console.log("Closing WebSocket connection"),d.close()}}},[e,r,n,t]);const a=D.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"New message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]),c=D.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"Update message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]),u=D.useCallback(d=>{var h;if(i.current&&i.current.readyState===WebSocket.OPEN){const v={Type:"Delete message",Content:d};i.current.send(JSON.stringify(v))}else console.error("WebSocket is not open. Ready state:",(h=i.current)==null?void 0:h.readyState)},[]);return{sendMessage:a,editMessage:c,deleteMessage:u}},CA=({accessToken:e,dispatch:t,serverId:r,currentVoiceChannelId:n})=>{const i=bd(),a=D.useRef(null),{currentServerId:c}=De(u=>u.testServerStore);D.useEffect(()=>{if(e){const u=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return u.onmessage=d=>{const h=JSON.parse(d.data);if(console.log(h),h.MessageType==="New user on server"){const v=q4(h.Payload),{ServerId:y}=h.Payload;r===y&&t(gA(v))}if(h.MessageType==="User unsubscribe"){const{UserId:v,ServerId:y}=h.Payload;r===y&&t(vA({UserId:v,ServerId:y}))}if(h.MessageType==="Role changed"){const{ServerId:v}=h.Payload;e&&r&&r===v&&t(ns({accessToken:e,serverId:r}))}(h.MessageType==="New channel"||h.MessageType==="Channel deleted")&&e&&r&&(h.Payload.ChannelType===1&&h.Payload.ChannelId===n&&i(e,n),r===h.Payload.ServerId&&t(ns({accessToken:e,serverId:r}))),h.MessageType==="New server name"&&c===h.Payload.ServerId&&t(yA({name:h.Payload.Name})),h.MessageType==="New users name on server"&&c===h.Payload.ServerId&&t(wA({userId:h.Payload.UserId,name:h.Payload.Name})),h.MessageType==="User unsubscribe"&&c===h.Payload.ServerId&&t(SA({userId:h.Payload.UserId})),h.MessageType==="You removed from server"&&(h.Payload.IsNeedRemoveFromVC&&n&&i(e,n),t(dc(!0)),t(_A({serverId:h.Payload.ServerId})))},u.onerror=d=>{console.error("WebSocket error:",d)},a.current=u,()=>{console.log("Closing WebSocket connection"),u.close()}}},[e,r,n,t])},RA=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:i,authorId:a,editMessage:c,deleteMessage:u})=>{var p;const{accessToken:d}=De(f=>f.userStore),v=(p=De(f=>f.testServerStore.serverData.users).find(f=>f.userId===a))==null?void 0:p.userName,[y,w]=D.useState(!1),[S,b]=D.useState(!1),[R,C]=D.useState(t),E=()=>{R.trim()&&(c({Token:d,MessageId:n,Text:R.trim()}),b(!1))},_=()=>{u({Token:d,MessageId:n})};return P.jsxs(wn,{direction:"column",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[P.jsxs(nt,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[P.jsx(Cn,{size:"md",color:"blue",children:v?v[0]:"?"}),P.jsxs(re,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:S?"100%":"auto"},children:[S?P.jsx(nd,{value:R,onChange:f=>C(f.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):P.jsx(Ye,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t}),P.jsx(nt,{justify:"space-between",children:P.jsxs(Ye,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[W4(r),i&&P.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&P.jsx(nt,{justify:"flex-end",gap:"xs",p:4,style:{opacity:y||S?1:0,transition:"opacity 0.3s ease"},mr:44,children:S?P.jsxs(P.Fragment,{children:[P.jsx(ot,{variant:"subtle",onClick:E,children:P.jsx(bN,{size:12})}),P.jsx(ot,{variant:"subtle",onClick:()=>b(!1),children:P.jsx(gx,{size:12})})]}):P.jsxs(P.Fragment,{children:[P.jsx(ot,{variant:"subtle",onClick:()=>b(!0),children:P.jsx(e3,{size:12})}),P.jsx(ot,{variant:"subtle",onClick:_,children:P.jsx(u3,{size:12})})]})})]})},EA=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:i})=>{const a=Qt(),c=D.useRef(null),{user:u,accessToken:d}=De(I=>I.userStore),{currentServerId:h,currentChannelId:v,messages:y,hasNewMessage:w,isLoading:S,messagesStatus:b}=De(I=>I.testServerStore),[R,C]=D.useState(""),[E,_]=D.useState(!0),[p,f]=D.useState(!1),m=()=>{R.trim()&&h&&v&&(r({Token:d,ChannelId:v,Text:R.trim(),NestedChannel:!1}),C(""))},x=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),m())},k=()=>{if(c.current){const{scrollTop:I,scrollHeight:j,clientHeight:L}=c.current,A=I+L>=j-1;_(A),A&&f(!1)}};return D.useEffect(()=>{E?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(sb())):f(!0)},[y,E]),D.useEffect(()=>{b===yi.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[b]),P.jsxs(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[P.jsxs(nt,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[P.jsx(ot,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:P.jsx(UN,{size:20})}),P.jsx(_n,{leftSection:P.jsx(o3,{size:16}),placeholder:"..."}),P.jsx(ot,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:P.jsx(y3,{size:20})})]}),P.jsx(Sn,{my:"md"}),P.jsx(zr,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:k,children:P.jsxs(rt,{gap:"sm",children:[S&&y.length<1&&Array.from({length:5}).map((I,j)=>P.jsxs(nt,{align:"flex-start",gap:"xs",children:[P.jsx(_o,{height:40,width:40,circle:!0}),P.jsxs(re,{style:{flex:1},children:[P.jsx(_o,{height:12,width:"60%",radius:"md"}),P.jsx(_o,{height:10,width:"40%",mt:8,radius:"md"})]})]},j)),y.map(I=>P.jsx(RA,{messageId:I.id,content:I.text,isOwnMessage:u.id===I.authorId,time:I.createdAt,modifiedAt:I.modifiedAt,authorId:I.authorId,editMessage:n,deleteMessage:i},I.id))]})}),!E&&p&&P.jsx(re,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:P.jsx(ng,{size:14,disabled:!w,withBorder:!0,children:P.jsx(ot,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),f(!1),a(sb()))},children:P.jsx(yN,{size:20})})})}),P.jsxs(nt,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[P.jsx(ot,{size:"xl",variant:"transparent",children:P.jsx(ZN,{size:20})}),P.jsx(nd,{w:"100%",placeholder:"...",value:R,onChange:I=>C(I.target.value),onKeyDownCapture:x,autosize:!0,minRows:1,maxRows:3}),P.jsx(ot,{size:"xl",variant:"transparent",onClick:m,children:P.jsx(a3,{size:20})})]})]})},TA=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>P.jsxs(re,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[P.jsx(Cn,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),P.jsx(Ye,{c:"white",size:"xs",children:t}),r&&P.jsx(Ue,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:P.jsx(Wl,{})})]},e),PA=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>P.jsxs(re,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[P.jsx(Cn,{radius:"xl",size:"lg",color:"blue",children:t[0]}),P.jsx(Ye,{c:"white",children:t}),r&&P.jsx(Ue,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),kA=({users:e,onOpenStream:t})=>{const r=Qt(),{currentVoiceChannelId:n}=De(c=>c.testServerStore),a=Ig(e).find(c=>c.roomName===n);return P.jsxs(zr,{style:{flex:1,maxHeight:"100%"},children:[P.jsx(nt,{justify:"flex-end",children:P.jsx(ot,{variant:"transparent",onClick:()=>r(Dx()),children:P.jsx(SN,{})})}),P.jsx(fg,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:u,producerIds:d}])=>{const h=d.length>1;return P.jsx(PA,{socketId:c,userName:u,isStreaming:h,onOpenStream:t},c)})})]})},DA=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=Mo(),i=D.useRef(null),a=D.useRef(null),{currentVoiceChannelId:c}=De(b=>b.testServerStore),d=Ig(t).find(b=>b.roomName===c),h=D.useRef(null),v=()=>{h.current&&h.current.scrollBy({left:-100,behavior:"smooth"})},y=()=>{h.current&&h.current.scrollBy({left:100,behavior:"smooth"})},w=b=>{n(b)},S=()=>{n(null),i.current&&(a.current=null,i.current.srcObject=null)};return D.useEffect(()=>{if(!Ie||!d)return;const b=({producerId:R})=>{e.some(E=>{var _;return E.kind==="video"&&E.producerId===R&&((_=d.users[r])==null?void 0:_.producerIds.includes(R))})&&S()};return Ie.on("producerClosed",b),()=>{Ie.off("producerClosed",b)}},[Ie,e,d,r]),D.useEffect(()=>{var R;if(!r||!d)return;const b=e.find(C=>{var E;return C.kind==="video"&&((E=d.users[r])==null?void 0:E.producerIds.includes(C.producerId))});if(b){const C=b.track;if(!a.current||((R=a.current.getVideoTracks()[0])==null?void 0:R.id)!==C.id){const E=new MediaStream([C]);a.current=E,i.current&&(i.current.srcObject=E,i.current.play().catch(_=>console.error("  :",_)))}}},[r,e,d]),P.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?P.jsxs(re,{style:{position:"relative",flex:1},children:[P.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),P.jsxs(Ue,{variant:"filled",color:"red",onClick:S,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[P.jsx(gx,{size:20})," "]}),P.jsxs(re,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[P.jsx(Ue,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:P.jsx(RN,{size:20})}),P.jsx(zr,{viewportRef:h,style:{width:"100%"},children:P.jsx(wn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:d&&Object.entries(d.users).map(([b,{userName:R,producerIds:C}])=>{const E=C.length>1;return P.jsx(TA,{socketId:b,userName:R,isStreaming:E,handleUserClick:w},b)})})}),P.jsx(Ue,{variant:"subtle",color:"gray",onClick:y,style:{zIndex:1},children:P.jsx(Tg,{size:20})})]})]}):P.jsx(kA,{users:t,onOpenStream:w})})},MA=()=>{const{serverData:e}=De(t=>t.testServerStore);return P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:P.jsxs(rt,{gap:"md",h:"100%",children:[P.jsx(Ye,{c:"white",children:""}),P.jsx(Sn,{color:"gray"}),P.jsx(zr.Autosize,{mah:"100%",maw:"100%",children:P.jsx(rt,{gap:"xs",children:e.users.map(t=>P.jsxs(wn,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden"},children:[P.jsx(Cn,{size:"md",color:"blue",children:t.userName}),P.jsx(ts,{label:t.userName,position:"top-start",withArrow:!0,children:P.jsx(Ye,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t.userName})}),P.jsx(ts,{label:t.roleName,position:"top-end",withArrow:!0,children:P.jsx(oc,{color:"green",radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"default"},children:t.roleName})})]},t.userId))})})]})})},IA=({onClose:e,opened:t})=>{const{serverData:r}=De(n=>n.testServerStore);return P.jsx(Vr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:P.jsxs(rt,{gap:"md",h:"100%",children:[P.jsx(Ye,{c:"white",children:""}),P.jsx(Sn,{color:"gray"}),P.jsx(zr.Autosize,{mah:"100%",maw:"100%",children:P.jsx(rt,{gap:"xs",children:r.users.map(n=>P.jsxs(nt,{wrap:"nowrap",children:[P.jsx(Cn,{size:"md",color:"blue",children:n.userName}),P.jsx(Ye,{c:"white",children:n.userName}),P.jsx(oc,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})},LA=()=>P.jsx(re,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:P.jsx(wn,{w:"100%",h:"100%",justify:"center",align:"center",children:P.jsx(Ye,{c:"gray",children:" ,   "})})}),jA=()=>{const{user:e}=De(t=>t.userStore);return P.jsx(re,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:P.jsxs(rt,{gap:"md",align:"center",children:[P.jsx(Cn,{size:80,radius:"xl",src:void 0,alt:e.name}),P.jsx(ts,{label:e.name,withArrow:!0,children:P.jsx(hd,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),P.jsx(ts,{label:e.tag,withArrow:!0,children:P.jsxs(Ye,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),P.jsx(ts,{label:e.mail,withArrow:!0,children:P.jsxs(Ye,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),P.jsxs(Ye,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},OA=[{id:"1",name:"",lastMessage:" (",date:"14.12.2024"}],NA=({name:e,lastMessage:t,date:r,isActive:n,onClick:i})=>P.jsxs(re,{p:"sm",bg:n?"#2E2E33":"transparent",style:a=>({borderRadius:a.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:i,children:[P.jsx(Cn,{radius:"xl",size:40}),P.jsxs(re,{style:{flex:1},children:[P.jsx(Ye,{fw:"bold",children:e}),P.jsx(Ye,{size:"sm",c:"gray",truncate:!0,children:t}),P.jsx(Ye,{size:"xs",c:"gray",children:r})]})]}),AA=()=>{const[e,t]=D.useState(null);return P.jsxs(rt,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[P.jsx(Ye,{children:""}),P.jsx(Sn,{}),P.jsx(rt,{gap:"xs",children:OA.map(r=>P.jsx(NA,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},$A=()=>P.jsxs(P.Fragment,{children:[P.jsx(AA,{}),P.jsx(LA,{}),P.jsx(jA,{})]}),FA=({opened:e,onClose:t})=>{const[r,n]=D.useState("create"),{user:i,accessToken:a}=De(y=>y.userStore),c=Qt(),u=Za({initialValues:{name:""},validate:{name:y=>y.trim().length<3?"     3 ":null}}),d=Za({initialValues:{serverId:""},validate:{serverId:y=>y.trim().length===0?" ID ":null}}),h=async y=>{(await c(Ql({accessToken:a,name:y.name}))).meta.requestStatus==="fulfilled"&&(c(zs({accessToken:a})),u.reset(),t())},v=async y=>{(await c(Jl({accessToken:a,serverId:y.serverId,userName:i.name}))).meta.requestStatus==="fulfilled"&&(c(zs({accessToken:a})),u.reset(),t())};return P.jsx(vr,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:P.jsxs(hn,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[P.jsxs(hn.List,{children:[P.jsx(hn.Tab,{value:"create",children:" "}),P.jsx(hn.Tab,{value:"connect",children:"  "})]}),P.jsxs(hn.Panel,{value:"create",children:[" ",P.jsxs("form",{onSubmit:u.onSubmit(h),children:[P.jsx(_n,{label:" ",placeholder:"  ",...u.getInputProps("name")}),P.jsxs(nt,{justify:"flex-end",mt:"md",children:[P.jsx(Ue,{variant:"outline",onClick:t,children:""}),P.jsx(Ue,{type:"submit",children:""})]})]})]}),P.jsx(hn.Panel,{value:"connect",children:P.jsxs("form",{onSubmit:d.onSubmit(v),children:[P.jsx(_n,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),P.jsxs(nt,{justify:"flex-end",mt:"md",children:[P.jsx(Ue,{variant:"outline",onClick:t,children:""}),P.jsx(Ue,{type:"submit",children:""})]})]})})]})})},zA=({serverId:e,serverName:t})=>{const r=Qt(),{user:n}=De(a=>a.userStore),i=()=>{r(dA(e)),r(xi(!1)),r(dc(!1)),Ie.emit("setServer",{serverId:e,user:n.name})};return P.jsx(ot,{size:"xl",radius:"xl",variant:"transparent",onClick:i,children:P.jsx(Cn,{size:"md",color:"blue",children:t})})},BA=()=>{const[e,{open:t,close:r}]=zn(!1),n=Qt(),i=Do(),{serversList:a}=De(d=>d.testServerStore),{accessToken:c}=De(d=>d.userStore),u=async()=>{(await n(Yl({accessToken:c}))).meta.requestStatus==="fulfilled"&&i("/")};return D.useEffect(()=>{c&&n(zs({accessToken:c}))},[c,n]),P.jsxs(wn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[P.jsxs(wn,{direction:"column",align:"center",children:[P.jsx(ot,{size:"lg",variant:"transparent",onClick:()=>n(dc(!0)),children:P.jsx($N,{size:24,color:"#fff"})}),P.jsx(Sn,{my:"sm"}),P.jsx(rt,{gap:"sm",align:"center",children:a.map(d=>P.jsx(zA,{serverId:d.serverId,serverName:d.serverName},d.serverId))}),P.jsx(Sn,{my:"sm"}),P.jsx(ot,{size:"lg",variant:"transparent",onClick:t,children:P.jsx(DN,{size:24,color:"#fff"})})]}),P.jsx(ot,{size:"lg",variant:"transparent",onClick:u,children:P.jsx(zN,{size:24,color:"#fff"})}),P.jsx(FA,{opened:e,onClose:r})]})},UA=({opened:e,onClose:t})=>{const r=Qt(),{accessToken:n}=De(h=>h.userStore),{currentServerId:i}=De(h=>h.testServerStore),[a,c]=D.useState(""),{showSuccess:u}=Rd(),d=async()=>{i&&(await r(su({accessToken:n,serverId:i,name:a}))).meta.requestStatus==="fulfilled"&&(u("  "),c(""),t())};return P.jsx(vr,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:P.jsxs(rt,{gap:"xs",children:[P.jsx(_n,{label:" ",placeholder:"  ",value:a,onChange:h=>c(h.currentTarget.value)}),P.jsx(nt,{justify:"flex-end",mt:"md",children:P.jsx(Ue,{variant:"filled",onClick:d,children:""})})]})})},jx=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=Mo(),i=bd(),{startScreenSharing:a,stopScreenSharing:c}=b3(),u=Qt(),{user:d,accessToken:h}=De(S=>S.userStore),{currentVoiceChannelId:v}=De(S=>S.testServerStore),y=()=>{n?c():a()},w=()=>{i(h,v),u(xi(!1)),u(xu(null))};return P.jsxs(rt,{mt:"auto",children:[e&&P.jsxs(nt,{gap:"xs",justify:"space-between",children:[P.jsx(ot,{variant:"transparent",onClick:y,c:"#ffffff",children:n?P.jsx(XN,{}):P.jsx(KN,{})}),P.jsx(ot,{variant:"transparent",onClick:t,c:"#ffffff",children:r?P.jsx(HN,{}):P.jsx(qN,{})}),P.jsx(ot,{variant:"transparent",onClick:w,c:"#ffffff",children:P.jsx(r3,{})})]}),P.jsx(Sn,{}),P.jsx(Ye,{truncate:!0,children:d.name})]})},Ox=({opened:e,onClose:t})=>{const r=Qt(),{serverData:n,currentServerId:i,error:a}=De(L=>L.testServerStore),{accessToken:c,user:u}=De(L=>L.userStore),[d,h]=D.useState("roles"),[v,y]=D.useState(""),[w,S]=D.useState(""),[b,R]=D.useState(!1),[C,E]=D.useState(n.serverName),{showSuccess:_}=Rd(),[p,f]=D.useState(""),m=n.isCreator,x=n.canDeleteUsers,k=async()=>{if(!v||!w)return;R(!0),(await r(Zl({accessToken:c,serverId:n.serverId,userId:v,role:w}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),r(ns({accessToken:c,serverId:n.serverId})),t())},I=async()=>{i&&(R(!0),(await r(nu({accessToken:c,serverId:i,name:C}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),t()))},j=async()=>{i&&p&&(R(!0),(await r(ou({accessToken:c,serverId:i,userId:p}))).meta.requestStatus==="fulfilled"&&(R(!1),_("  "),f(null),t()))};return D.useEffect(()=>{a&&R(!1)},[a]),P.jsx(vr,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:P.jsxs(nt,{align:"flex-start",gap:"md",children:[P.jsxs(rt,{gap:"xs",style:{width:200},children:[P.jsx(Ua,{label:"",leftSection:P.jsx(vu,{size:16}),active:d==="roles",onClick:()=>h("roles")}),m&&P.jsx(Ua,{label:" ",leftSection:P.jsx(vu,{size:16}),active:d==="name",onClick:()=>h("name")}),(m||x)&&P.jsx(Ua,{label:" ",leftSection:P.jsx(h3,{size:16}),active:d==="deleteUser",onClick:()=>h("deleteUser")})]}),P.jsxs(zr,{children:[d==="roles"&&P.jsxs(rt,{gap:"md",children:[P.jsx(Ye,{size:"lg",w:500,children:"  "}),P.jsx(Va,{label:" ",placeholder:" ",data:n.users.filter(L=>L.userId!==u.id).map(L=>({value:L.userId,label:L.userName})),value:v,onChange:y}),P.jsx(Va,{label:" ",placeholder:" ",data:n.roles.map(L=>({value:L.id,label:L.name})),value:w,onChange:S}),P.jsx(Ue,{onClick:k,loading:b,children:" "})]}),d==="name"&&m&&P.jsxs(rt,{gap:"md",children:[P.jsx(Ye,{size:"lg",w:500,children:"  "}),P.jsx(_n,{label:"  ",value:C,onChange:L=>E(L.target.value),placeholder:n.serverName}),P.jsx(Ue,{onClick:I,loading:b,children:" "})]}),d==="deleteUser"&&(m||x)&&P.jsxs(rt,{gap:"md",children:[P.jsx(Ye,{size:"lg",w:500,children:"   "}),P.jsx(Va,{label:" ",placeholder:" ",data:n.users.filter(L=>L.userId!==u.id).map(L=>({value:L.userId,label:L.userName})),value:p,onChange:f}),P.jsx(Ue,{onClick:j,loading:b,children:""})]})]})]})})},VA=({channelId:e,currentChannelId:t,channelName:r,isAdmin:n,handleEditChannel:i,handleOpenChannel:a})=>{const{hasNewMessage:c}=De(h=>h.testServerStore),[u,d]=D.useState("");return P.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>d(e),onMouseLeave:()=>d(""),children:[P.jsx(Ue,{leftSection:c&&e===t?P.jsx(oc,{circle:!0,children:"1"}):P.jsx(NN,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:ob.buttonRoot(u===e,t===e)},fullWidth:!0,onClick:a,children:r}),n&&u===e&&P.jsx(Ue,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:ob.buttonSettings(t===e)},onClick:i,children:P.jsx(Cd,{size:16})})]},e)},Nx=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:i})=>{const a=Qt(),{accessToken:c}=De(w=>w.userStore),{error:u}=De(w=>w.testServerStore),{showError:d}=Rd(),h=Za({initialValues:{name:r.initialData},validate:{name:w=>w.trim().length<3?"     3 ":null}});D.useEffect(()=>{r.isEdit?h.setValues({name:r.initialData}):h.reset()},[r]);const v=async w=>{(await a(tu({accessToken:c,serverId:n,name:w.name,channelType:i===Ns.TEXT_CHANNEL?Ns.TEXT_CHANNEL:Ns.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&a(ns({accessToken:c,serverId:n})),t()},y=async()=>{(await a(ru({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(ns({accessToken:c,serverId:n})),t()};return D.useEffect(()=>{u&&d(u)},[u]),P.jsx(vr,{opened:e,onClose:t,title:r.isEdit?` ${i===Ns.TEXT_CHANNEL?"":""} `:` ${i===Ns.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?P.jsxs(P.Fragment,{children:[P.jsxs(Ye,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),P.jsxs(nt,{justify:"flex-end",mt:"md",children:[P.jsx(Ue,{variant:"filled",color:"red",onClick:y,children:""}),P.jsx(Ue,{variant:"outline",onClick:t,children:""})]})]}):P.jsxs("form",{onSubmit:h.onSubmit(v),children:[P.jsx(_n,{label:" ",placeholder:"  ",...h.getInputProps("name")}),P.jsxs(nt,{justify:"flex-end",mt:"md",children:[P.jsx(Ue,{variant:"outline",onClick:t,children:""}),P.jsx(Ue,{type:"submit",children:""})]})]})})},Ax=({onClose:e})=>{const t=Qt(),[r,{toggle:n}]=zn(!0),[i,{open:a,close:c}]=zn(!1),[u,d]=D.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:h,currentServerId:v,currentChannelId:y}=De(R=>R.testServerStore),w=h.isCreator||h.canWorkWithChannels,S=R=>{t(fA(R)),t(xi(!1)),e()},b=(R,C)=>{d({isEdit:!0,initialData:R,channelId:C}),a()};return D.useEffect(()=>{console.log(y)},[y]),P.jsxs(P.Fragment,{children:[P.jsxs(rt,{align:"flex-start",gap:"xs",children:[P.jsxs(nt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[P.jsx(Ue,{leftSection:r?P.jsx(xd,{}):P.jsx(Tg,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),w&&P.jsx(ot,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),a()},children:P.jsx(vu,{color:"#ffffff"})})]}),P.jsx(ju,{in:r,w:"100%",children:P.jsx(rt,{gap:"xs",children:h.channels.textChannels.map(({channelId:R,channelName:C})=>P.jsx(VA,{channelId:R,currentChannelId:y,channelName:C,isAdmin:w,handleOpenChannel:()=>S(R),handleEditChannel:()=>b(C,R)},R))})})]}),v&&P.jsx(Nx,{opened:i,onClose:c,isEdit:u,serverId:v,channelType:Ns.TEXT_CHANNEL})]})},ob={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},HA=({channelId:e,channelName:t,isAdmin:r,handleConnect:n,handleEditChannel:i})=>{const[a,c]=D.useState("");return P.jsxs(re,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>c(e),onMouseLeave:()=>c(""),children:[P.jsx(Ue,{leftSection:P.jsx(mx,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:n,children:t}),r&&a===e&&P.jsx(Ue,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:KA.buttonSettings},onClick:i,children:P.jsx(Cd,{size:16})})]})},WA=({opened:e,toggle:t,isAdmin:r,handleAddChannel:n})=>P.jsxs(nt,{justify:"space-between",w:"100%",wrap:"nowrap",children:[P.jsx(Ue,{leftSection:e?P.jsx(xd,{}):P.jsx(Tg,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&P.jsx(ot,{variant:"transparent",onClick:n,children:P.jsx(vu,{color:"#ffffff"})})]}),qA=({socketId:e,isSpeaking:t,userName:r,producerIds:n,isAdmin:i,userVolume:a,handleVolumeChange:c,handleOpenStream:u,handleKickUser:d})=>P.jsxs(We,{shadow:"md",width:200,closeOnItemClick:!0,children:[P.jsx(We.Target,{children:P.jsxs(nt,{style:{cursor:"pointer"},wrap:"nowrap",children:[P.jsx(g3,{color:t?"#43b581":void 0,style:{flexShrink:0}}),P.jsxs(Ye,{truncate:"end",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:[" ",r]}),n.length>1&&P.jsx(Wl,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),P.jsxs(We.Dropdown,{children:[P.jsx(We.Item,{leftSection:P.jsx(mx,{}),children:P.jsx(pg,{label:"",value:a,onChange:h=>c(e,h),min:1,max:100})}),n.length>1&&P.jsx(We.Item,{leftSection:P.jsx(Wl,{}),onClick:()=>u(e),children:" "}),i&&P.jsx(We.Item,{leftSection:P.jsx(Wl,{}),onClick:()=>d(e),children:" "})]})]},e),GA=()=>{const[e,t]=D.useState([]);return D.useEffect(()=>{if(Ie)return Ie.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Ie.off("active-speakers")}},[]),e},$x=()=>{const e=pN(),t=bd(),{isConnected:r,consumers:n,users:i,setSelectedUserId:a}=Mo(),{user:c,accessToken:u}=De(O=>O.userStore),{serverData:d,currentVoiceChannelId:h,currentServerId:v}=De(O=>O.testServerStore),y=Qt(),[w,{toggle:S}]=zn(!0),[b,{open:R,close:C}]=zn(!1),E=GA(),{setVolume:_,userVolumes:p}=R3(),f=Ig(i),m=d.isCreator,[x,k]=D.useState({isEdit:!1,initialData:"",channelId:""}),I=O=>{r?O===h&&y(Dx()):(y(xu(O)),e(O,c.name,d.serverId,u))},j=(O,U)=>{if(!h)return;const F=f.find(B=>B.roomName===h);if(!F)return;const z=F.users[O];if(!z)return;const q=z.producerIds.find(B=>!!n.find(ae=>ae.producerId===B&&ae.kind==="audio"));q&&_(q,U)},L=()=>{k({isEdit:!1,initialData:"",channelId:""}),R()},A=O=>{console.log(O),Ie.emit("kickUser",{targetSocketId:O},U=>{U.success?console.log("  :",U.message):console.error("  :",U.message)})},N=O=>{const U=O.find(F=>n.some(z=>z.producerId===F&&z.kind==="audio"));return(p[U||""]||1)*100},V=(O,U)=>O.some(z=>E.some(q=>q.producerId===z))&&U===h,W=O=>{a(O),y(xi(!0))},X=(O,U)=>{k({isEdit:!0,initialData:O,channelId:U}),R()};return D.useEffect(()=>{if(Ie)return Ie.on("kickedUser",()=>{t(u,h),y(xi(!1)),y(xu(null))}),()=>{Ie.off("producerClosed")}},[t,y]),P.jsxs(P.Fragment,{children:[P.jsxs(rt,{align:"flex-start",gap:"xs",children:[P.jsx(WA,{opened:w,toggle:S,isAdmin:m,handleAddChannel:L}),P.jsx(ju,{in:w,w:"100%",children:P.jsx(rt,{gap:"xs",children:d.channels.voiceChannels.map(({channelId:O,channelName:U})=>P.jsxs(zt.Fragment,{children:[P.jsx(HA,{channelId:O,channelName:U,isAdmin:m,handleConnect:()=>I(O),handleEditChannel:()=>X(U,O)}),P.jsx(rt,{gap:"xs",children:f.filter(F=>F.roomName===O).flatMap(F=>Object.entries(F.users).map(([z,{producerIds:q,userName:B}])=>{const Y=V(q,O),ae=N(q);return P.jsx(qA,{socketId:z,isSpeaking:Y,userName:B,producerIds:q,isAdmin:m,userVolume:ae,handleOpenStream:W,handleVolumeChange:j,handleKickUser:A},z)}))})]},O))})})]}),v&&P.jsx(Nx,{opened:b,onClose:C,isEdit:x,serverId:v,channelType:Ns.VOICE_CHANNEL})]})},KA={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},YA=({onClose:e})=>{const t=Do(),r=Qt(),n=bd(),[i,{open:a,close:c}]=zn(!1),[u,{open:d,close:h}]=zn(!1),{serverData:v,isLoading:y,currentVoiceChannelId:w}=De(_=>_.testServerStore),{accessToken:S}=De(_=>_.userStore),b=v.canChangeRole,R=v.isCreator,C=_=>{navigator.clipboard.writeText(_)},E=async()=>{n(S,w),r(xi(!1)),r(xu(null)),(await r(Wa({accessToken:S,serverId:v.serverId}))).meta.requestStatus==="fulfilled"&&(r(zs({accessToken:S})),r(dc(!0)),r(Lx()),t("/main"))};return P.jsxs(P.Fragment,{children:[P.jsxs(rt,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[P.jsxs(We,{shadow:"md",width:200,children:[P.jsx(We.Target,{children:P.jsxs(nt,{justify:"space-between",style:{cursor:"pointer"},children:[y?P.jsx(_o,{height:10,width:"40%",radius:"md"}):P.jsx(Ye,{children:v.serverName}),P.jsx(xd,{})]})}),P.jsxs(We.Dropdown,{children:[(b||R)&&P.jsx(We.Item,{leftSection:P.jsx(Cd,{size:16}),onClick:a,children:" "}),P.jsx(We.Item,{onClick:d,leftSection:P.jsx(f3,{size:16}),children:"   "}),P.jsx(We.Item,{onClick:()=>C(v.serverId),leftSection:P.jsx(px,{size:16}),children:" ID "}),!R&&P.jsx(We.Item,{onClick:E,leftSection:P.jsx(hx,{size:16}),children:"  "})]})]}),P.jsx(Sn,{}),P.jsxs(zr.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[P.jsx(Ax,{onClose:e}),P.jsx($x,{})]}),P.jsx(jx,{})]}),P.jsx(Ox,{opened:i,onClose:c}),P.jsx(UA,{opened:u,onClose:h})]})},XA=({onClose:e,opened:t})=>{const r=Do(),n=Qt(),[i,{open:a,close:c}]=zn(!1),{serverData:u,isLoading:d}=De(S=>S.testServerStore),{accessToken:h}=De(S=>S.userStore),v=u.isCreator,y=S=>{navigator.clipboard.writeText(S)},w=async()=>{(await n(Wa({accessToken:h,serverId:u.serverId}))).meta.requestStatus==="fulfilled"&&(n(zs({accessToken:h})),n(dc(!0)),n(Lx()),r("/main"))};return P.jsxs(P.Fragment,{children:[P.jsxs(Vr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[P.jsxs(We,{shadow:"md",width:200,children:[P.jsx(We.Target,{children:P.jsxs(nt,{justify:"space-between",style:{cursor:"pointer"},children:[d?P.jsx(_o,{height:10,width:"40%",radius:"md"}):P.jsx(Ye,{children:u.serverName}),P.jsx(xd,{})]})}),P.jsxs(We.Dropdown,{children:[v&&P.jsx(We.Item,{leftSection:P.jsx(Cd,{size:16}),onClick:a,children:" "}),P.jsx(We.Item,{onClick:()=>y(u.serverId),leftSection:P.jsx(px,{size:16}),children:" ID "}),!v&&P.jsx(We.Item,{onClick:w,leftSection:P.jsx(hx,{size:16}),children:"  "})]})]}),P.jsx(Sn,{}),P.jsx(Ax,{onClose:e}),P.jsx($x,{}),P.jsx(jx,{})]}),P.jsx(Ox,{opened:i,onClose:c})]})},QA=()=>{const e=Do(),t=Qt(),{isUserStreamView:r,isOpenHome:n}=De(_=>_.appStore),{accessToken:i,isLoggedIn:a}=De(_=>_.userStore),{currentServerId:c,currentChannelId:u,currentVoiceChannelId:d}=De(_=>_.testServerStore),[h,{open:v,close:y}]=zn(!1),[w,{open:S,close:b}]=zn(!1),{sendMessage:R,editMessage:C,deleteMessage:E}=xA({accessToken:i,dispatch:t,serverId:c,currentVoiceChannelId:d});return CA({accessToken:i,dispatch:t,serverId:c,currentVoiceChannelId:d}),D.useEffect(()=>{a||e("/")},[a,e]),D.useEffect(()=>{i&&t(Kl({accessToken:i}))},[i,t]),D.useEffect(()=>{c&&i&&t(ns({accessToken:i,serverId:c}))},[i,c,t]),D.useEffect(()=>{u&&i&&t(eu({accessToken:i,channelId:u,numberOfMessages:50,fromStart:0}))},[i,u,c,t]),P.jsxs(re,{style:{display:"flex",height:"100dvh"},children:[P.jsx(BA,{}),n?P.jsx($A,{}):P.jsxs(P.Fragment,{children:[P.jsx(YA,{onClose:y}),r?P.jsx(DA,{}):P.jsx(EA,{openSidebar:v,openDetailsPanel:S,sendMessage:R,editMessage:C,deleteMessage:E}),P.jsx(MA,{}),P.jsx(XA,{onClose:y,opened:h}),P.jsx(IA,{onClose:b,opened:w})]})]})},ZA=()=>{const e=Qt(),t=Do(),{accessToken:r}=De(a=>a.userStore),n=Za({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),i=async a=>{(await e(ql({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return D.useEffect(()=>{r&&t("/main")},[r,t]),P.jsx(wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:P.jsxs(ic,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[P.jsx(Ye,{fw:500,mb:"md",children:"  "}),P.jsx("form",{onSubmit:n.onSubmit(i),children:P.jsxs(rt,{gap:"md",children:[P.jsx(_n,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),P.jsx(_n,{label:"",placeholder:" ",...n.getInputProps("accountName"),required:!0}),P.jsx(dd,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),P.jsx(nt,{justify:"center",mt:"md",children:P.jsx(Ue,{type:"submit",children:""})})]})})]})})},JA=({children:e})=>{const t=De(i=>i.testServerStore.error),r=De(i=>i.userStore.error),{showError:n}=Rd();return D.useEffect(()=>{t!==""&&n(t)},[t]),D.useEffect(()=>{r!==""&&n(r)},[r]),P.jsx(P.Fragment,{children:e})},e$=()=>P.jsx(x3,{children:P.jsx(C3,{children:P.jsx(Ij,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:P.jsxs(Ib,{children:[P.jsx(ms,{}),P.jsx(JA,{children:P.jsxs(Rj,{children:[P.jsx(Na,{path:"/",element:P.jsx(H4,{})}),P.jsx(Na,{path:"/main",element:P.jsx(QA,{})}),P.jsx(Na,{path:"/login",element:P.jsx(V4,{})}),P.jsx(Na,{path:"/register",element:P.jsx(ZA,{})})]})})]})})})}),t$=h4({reducer:{userStore:U4,appStore:K4,testServerStore:bA}});HR.createRoot(document.getElementById("root")).render(P.jsx(oE,{store:t$,children:P.jsx(e$,{})}));
