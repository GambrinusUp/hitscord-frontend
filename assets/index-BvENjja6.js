var xR=Object.defineProperty;var CR=(e,t,r)=>t in e?xR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kf=(e,t,r)=>CR(e,typeof t!="symbol"?t+"":t,r);function RR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I_={exports:{}},Zd={},O_={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),ER=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),kR=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),MR=Symbol.for("react.suspense"),IR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),sy=Symbol.iterator;function NR(e){return e===null||typeof e!="object"?null:(e=sy&&e[sy]||e["@@iterator"],typeof e=="function"?e:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$_=Object.assign,A_={};function jo(e,t,r){this.props=e,this.context=t,this.refs=A_,this.updater=r||N_}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F_(){}F_.prototype=jo.prototype;function mm(e,t,r){this.props=e,this.context=t,this.refs=A_,this.updater=r||N_}var gm=mm.prototype=new F_;gm.constructor=mm;$_(gm,jo.prototype);gm.isPureReactComponent=!0;var iy=Array.isArray,z_=Object.prototype.hasOwnProperty,vm={current:null},B_={key:!0,ref:!0,__self:!0,__source:!0};function U_(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)z_.call(t,n)&&!B_.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:mc,type:e,key:i,ref:o,props:s,_owner:vm.current}}function $R(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ym(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function AR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oy=/\/+/g;function Df(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AR(""+e.key):t.toString(36)}function Ml(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mc:case ER:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Df(o,0):n,iy(s)?(r="",e!=null&&(r=e.replace(oy,"$&/")+"/"),Ml(s,t,r,"",function(l){return l})):s!=null&&(ym(s)&&(s=$R(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",iy(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+Df(i,a);o+=Ml(i,t,r,c,s)}else if(c=NR(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+Df(i,a++),o+=Ml(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(e,t,r){if(e==null)return e;var n=[],s=0;return Ml(e,n,"","",function(i){return t.call(r,i,s++)}),n}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Il={transition:null},zR={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:vm};function V_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Wc,forEach:function(e,t,r){Wc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!ym(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=jo;ae.Fragment=TR;ae.Profiler=kR;ae.PureComponent=mm;ae.StrictMode=PR;ae.Suspense=MR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;ae.act=V_;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)z_.call(t,c)&&!B_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:mc,type:e.type,key:s,ref:i,props:n,_owner:o}};ae.createContext=function(e){return e={$$typeof:LR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DR,_context:e},e.Consumer=e};ae.createElement=U_;ae.createFactory=function(e){var t=U_.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:jR,render:e}};ae.isValidElement=ym;ae.lazy=function(e){return{$$typeof:OR,_payload:{_status:-1,_result:e},_init:FR}};ae.memo=function(e,t){return{$$typeof:IR,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};ae.unstable_act=V_;ae.useCallback=function(e,t){return zt.current.useCallback(e,t)};ae.useContext=function(e){return zt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return zt.current.useEffect(e,t)};ae.useId=function(){return zt.current.useId()};ae.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return zt.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};ae.useRef=function(e){return zt.current.useRef(e)};ae.useState=function(e){return zt.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return zt.current.useTransition()};ae.version="18.3.1";O_.exports=ae;var w=O_.exports;const nr=hm(w),fd=RR({__proto__:null,default:nr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=w,UR=Symbol.for("react.element"),VR=Symbol.for("react.fragment"),HR=Object.prototype.hasOwnProperty,WR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qR={key:!0,ref:!0,__self:!0,__source:!0};function H_(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)HR.call(t,n)&&!qR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:UR,type:e,key:i,ref:o,props:s,_owner:WR.current}}Zd.Fragment=VR;Zd.jsx=H_;Zd.jsxs=H_;I_.exports=Zd;var h=I_.exports,W_={exports:{}},ur={},q_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var j=T.length;T.push(I);e:for(;0<j;){var M=j-1>>>1,H=T[M];if(0<s(H,I))T[M]=I,T[j]=H,j=M;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],j=T.pop();if(j!==I){T[0]=j;e:for(var M=0,H=T.length,J=H>>>1;M<J;){var he=2*(M+1)-1,Te=T[he],Pe=he+1,de=T[Pe];if(0>s(Te,j))Pe<H&&0>s(de,Te)?(T[M]=de,T[Pe]=j,M=Pe):(T[M]=Te,T[he]=j,M=he);else if(Pe<H&&0>s(de,j))T[M]=de,T[Pe]=j,M=Pe;else break e}}return I}function s(T,I){var j=T.sortIndex-I.sortIndex;return j!==0?j:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],d=1,u=null,f=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(T){for(var I=r(l);I!==null;){if(I.callback===null)n(l);else if(I.startTime<=T)n(l),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(l)}}function b(T){if(g=!1,S(T),!m)if(r(c)!==null)m=!0,O(C);else{var I=r(l);I!==null&&V(b,I.startTime-T)}}function C(T,I){m=!1,g&&(g=!1,y(R),R=-1),p=!0;var j=f;try{for(S(I),u=r(c);u!==null&&(!(u.expirationTime>I)||T&&!$());){var M=u.callback;if(typeof M=="function"){u.callback=null,f=u.priorityLevel;var H=M(u.expirationTime<=I);I=e.unstable_now(),typeof H=="function"?u.callback=H:u===r(c)&&n(c),S(I)}else n(c);u=r(c)}if(u!==null)var J=!0;else{var he=r(l);he!==null&&V(b,he.startTime-I),J=!1}return J}finally{u=null,f=j,p=!1}}var x=!1,E=null,R=-1,P=5,L=-1;function $(){return!(e.unstable_now()-L<P)}function B(){if(E!==null){var T=e.unstable_now();L=T;var I=!0;try{I=E(!0,T)}finally{I?U():(x=!1,E=null)}}else x=!1}var U;if(typeof _=="function")U=function(){_(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=B,U=function(){K.postMessage(null)}}else U=function(){v(B,0)};function O(T){E=T,x||(x=!0,U())}function V(T,I){R=v(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,O(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var j=f;f=I;try{return T()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var j=f;f=T;try{return I()}finally{f=j}},e.unstable_scheduleCallback=function(T,I,j){var M=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,T={id:d++,callback:I,priorityLevel:T,startTime:j,expirationTime:H,sortIndex:-1},j>M?(T.sortIndex=j,t(l,T),r(c)===null&&T===r(l)&&(g?(y(R),R=-1):g=!0,V(b,j-M))):(T.sortIndex=H,t(c,T),m||p||(m=!0,O(C))),T},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(T){var I=f;return function(){var j=f;f=I;try{return T.apply(this,arguments)}finally{f=j}}}})(K_);q_.exports=K_;var KR=q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=w,cr=KR;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G_=new Set,Ba={};function ui(e,t){wo(e,t),wo(e+"Capture",t)}function wo(e,t){for(Ba[e]=t,e=0;e<t.length;e++)G_.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},cy={};function XR(e){return Fp.call(cy,e)?!0:Fp.call(ay,e)?!1:YR.test(e)?cy[e]=!0:(ay[e]=!0,!1)}function QR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JR(e,t,r,n){if(t===null||typeof t>"u"||QR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function Sm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wm,Sm);_t[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wm,Sm);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wm,Sm);_t[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _m(e,t,r,n){var s=_t.hasOwnProperty(t)?_t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JR(t,r,s,n)&&(r=null),n||s===null?XR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qc=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),Q_=Symbol.for("react.offscreen"),ly=Symbol.iterator;function ra(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Lf;function Sa(e){if(Lf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lf=t&&t[1]||""}return`
`+Lf+e}var jf=!1;function Mf(e,t){if(!e||jf)return"";jf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{jf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sa(e):""}function ZR(e){switch(e.tag){case 5:return Sa(e.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return e=Mf(e.type,!1),e;case 11:return e=Mf(e.type.render,!1),e;case 1:return e=Mf(e.type,!0),e;default:return""}}function Vp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Gi:return"Portal";case zp:return"Profiler";case bm:return"StrictMode";case Bp:return"Suspense";case Up:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X_:return(e.displayName||"Context")+".Consumer";case Y_:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:Vp(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return Vp(e(t))}catch{}}return null}function eE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vp(t);case 8:return t===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tE(e){var t=J_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kc(e){e._valueTracker||(e._valueTracker=tE(e))}function Z_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=J_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hp(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ks(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eb(e,t){t=t.checked,t!=null&&_m(e,"checked",t,!1)}function Wp(e,t){eb(e,t);var r=ks(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qp(e,t.type,r):t.hasOwnProperty("defaultValue")&&qp(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qp(e,t,r){(t!=="number"||pd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _a=Array.isArray;function ao(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ks(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(_a(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ks(r)}}function tb(e,t){var r=ks(t.value),n=ks(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gc,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ua(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rE=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){rE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function sb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function ib(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var nE=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(e,t){if(t){if(nE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=null;function Rm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jp=null,co=null,lo=null;function hy(e){if(e=yc(e)){if(typeof Jp!="function")throw Error(A(280));var t=e.stateNode;t&&(t=su(t),Jp(e.stateNode,e.type,t))}}function ob(e){co?lo?lo.push(e):lo=[e]:co=e}function ab(){if(co){var e=co,t=lo;if(lo=co=null,hy(e),t)for(e=0;e<t.length;e++)hy(t[e])}}function cb(e,t){return e(t)}function lb(){}var If=!1;function db(e,t,r){if(If)return e(t,r);If=!0;try{return cb(e,t,r)}finally{If=!1,(co!==null||lo!==null)&&(lb(),ab())}}function Va(e,t){var r=e.stateNode;if(r===null)return null;var n=su(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Zp=!1;if(An)try{var na={};Object.defineProperty(na,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Zp=!1}function sE(e,t,r,n,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(d){this.onError(d)}}var Da=!1,hd=null,md=!1,eh=null,iE={onError:function(e){Da=!0,hd=e}};function oE(e,t,r,n,s,i,o,a,c){Da=!1,hd=null,sE.apply(iE,arguments)}function aE(e,t,r,n,s,i,o,a,c){if(oE.apply(this,arguments),Da){if(Da){var l=hd;Da=!1,hd=null}else throw Error(A(198));md||(md=!0,eh=l)}}function fi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ub(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function my(e){if(fi(e)!==e)throw Error(A(188))}function cE(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return my(s),e;if(i===n)return my(s),t;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function fb(e){return e=cE(e),e!==null?pb(e):null}function pb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pb(e);if(t!==null)return t;e=e.sibling}return null}var hb=cr.unstable_scheduleCallback,gy=cr.unstable_cancelCallback,lE=cr.unstable_shouldYield,dE=cr.unstable_requestPaint,Xe=cr.unstable_now,uE=cr.unstable_getCurrentPriorityLevel,Em=cr.unstable_ImmediatePriority,mb=cr.unstable_UserBlockingPriority,gd=cr.unstable_NormalPriority,fE=cr.unstable_LowPriority,gb=cr.unstable_IdlePriority,eu=null,mn=null;function pE(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(eu,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:gE,hE=Math.log,mE=Math.LN2;function gE(e){return e>>>=0,e===0?32:31-(hE(e)/mE|0)|0}var Yc=64,Xc=4194304;function ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ba(a):(i&=o,i!==0&&(n=ba(i)))}else o=r&~s,o!==0?n=ba(o):i!==0&&(n=ba(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),s=1<<r,n|=e[r],t&=~s;return n}function vE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Br(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=vE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vb(){var e=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),e}function Of(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function wE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Br(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Tm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ce=0;function yb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wb,Pm,Sb,_b,bb,rh=!1,Qc=[],gs=null,vs=null,ys=null,Ha=new Map,Wa=new Map,ds=[],SE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function sa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yc(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _E(e,t,r,n,s){switch(t){case"focusin":return gs=sa(gs,e,t,r,n,s),!0;case"dragenter":return vs=sa(vs,e,t,r,n,s),!0;case"mouseover":return ys=sa(ys,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ha.set(i,sa(Ha.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Wa.set(i,sa(Wa.get(i)||null,e,t,r,n,s)),!0}return!1}function xb(e){var t=Xs(e.target);if(t!==null){var r=fi(t);if(r!==null){if(t=r.tag,t===13){if(t=ub(r),t!==null){e.blockedOn=t,bb(e.priority,function(){Sb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qp=n,r.target.dispatchEvent(n),Qp=null}else return t=yc(r),t!==null&&Pm(t),e.blockedOn=r,!1;t.shift()}return!0}function yy(e,t,r){Ol(e)&&r.delete(t)}function bE(){rh=!1,gs!==null&&Ol(gs)&&(gs=null),vs!==null&&Ol(vs)&&(vs=null),ys!==null&&Ol(ys)&&(ys=null),Ha.forEach(yy),Wa.forEach(yy)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,rh||(rh=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,bE)))}function qa(e){function t(s){return ia(s,e)}if(0<Qc.length){ia(Qc[0],e);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gs!==null&&ia(gs,e),vs!==null&&ia(vs,e),ys!==null&&ia(ys,e),Ha.forEach(t),Wa.forEach(t),r=0;r<ds.length;r++)n=ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ds.length&&(r=ds[0],r.blockedOn===null);)xb(r),r.blockedOn===null&&ds.shift()}var uo=Kn.ReactCurrentBatchConfig,yd=!0;function xE(e,t,r,n){var s=Ce,i=uo.transition;uo.transition=null;try{Ce=1,km(e,t,r,n)}finally{Ce=s,uo.transition=i}}function CE(e,t,r,n){var s=Ce,i=uo.transition;uo.transition=null;try{Ce=4,km(e,t,r,n)}finally{Ce=s,uo.transition=i}}function km(e,t,r,n){if(yd){var s=nh(e,t,r,n);if(s===null)Wf(e,t,n,wd,r),vy(e,n);else if(_E(s,e,t,r,n))n.stopPropagation();else if(vy(e,n),t&4&&-1<SE.indexOf(e)){for(;s!==null;){var i=yc(s);if(i!==null&&wb(i),i=nh(e,t,r,n),i===null&&Wf(e,t,n,wd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wf(e,t,n,null,r)}}var wd=null;function nh(e,t,r,n){if(wd=null,e=Rm(n),e=Xs(e),e!==null)if(t=fi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ub(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wd=e,null}function Cb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uE()){case Em:return 1;case mb:return 4;case gd:case fE:return 16;case gb:return 536870912;default:return 16}default:return 16}}var ps=null,Dm=null,Nl=null;function Rb(){if(Nl)return Nl;var e,t=Dm,r=t.length,n,s="value"in ps?ps.value:ps.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Nl=s.slice(e,1<n?1-n:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jc(){return!0}function wy(){return!1}function fr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jc:wy,this.isPropagationStopped=wy,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=fr(Mo),vc=He({},Mo,{view:0,detail:0}),RE=fr(vc),Nf,$f,oa,tu=He({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?(Nf=e.screenX-oa.screenX,$f=e.screenY-oa.screenY):$f=Nf=0,oa=e),Nf)},movementY:function(e){return"movementY"in e?e.movementY:$f}}),Sy=fr(tu),EE=He({},tu,{dataTransfer:0}),TE=fr(EE),PE=He({},vc,{relatedTarget:0}),Af=fr(PE),kE=He({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),DE=fr(kE),LE=He({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jE=fr(LE),ME=He({},Mo,{data:0}),_y=fr(ME),IE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $E(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NE[e])?!!t[e]:!1}function jm(){return $E}var AE=He({},vc,{key:function(e){if(e.key){var t=IE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FE=fr(AE),zE=He({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=fr(zE),BE=He({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),UE=fr(BE),VE=He({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HE=fr(VE),WE=He({},tu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qE=fr(WE),KE=[9,13,27,32],Mm=An&&"CompositionEvent"in window,La=null;An&&"documentMode"in document&&(La=document.documentMode);var GE=An&&"TextEvent"in window&&!La,Eb=An&&(!Mm||La&&8<La&&11>=La),xy=" ",Cy=!1;function Tb(e,t){switch(e){case"keyup":return KE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function YE(e,t){switch(e){case"compositionend":return Pb(t);case"keypress":return t.which!==32?null:(Cy=!0,xy);case"textInput":return e=t.data,e===xy&&Cy?null:e;default:return null}}function XE(e,t){if(Xi)return e==="compositionend"||!Mm&&Tb(e,t)?(e=Rb(),Nl=Dm=ps=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eb&&t.locale!=="ko"?null:t.data;default:return null}}var QE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QE[e.type]:t==="textarea"}function kb(e,t,r,n){ob(n),t=Sd(t,"onChange"),0<t.length&&(r=new Lm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ja=null,Ka=null;function JE(e){zb(e,0)}function ru(e){var t=Zi(e);if(Z_(t))return e}function ZE(e,t){if(e==="change")return t}var Db=!1;if(An){var Ff;if(An){var zf="oninput"in document;if(!zf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),zf=typeof Ey.oninput=="function"}Ff=zf}else Ff=!1;Db=Ff&&(!document.documentMode||9<document.documentMode)}function Ty(){ja&&(ja.detachEvent("onpropertychange",Lb),Ka=ja=null)}function Lb(e){if(e.propertyName==="value"&&ru(Ka)){var t=[];kb(t,Ka,e,Rm(e)),db(JE,t)}}function eT(e,t,r){e==="focusin"?(Ty(),ja=t,Ka=r,ja.attachEvent("onpropertychange",Lb)):e==="focusout"&&Ty()}function tT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(Ka)}function rT(e,t){if(e==="click")return ru(t)}function nT(e,t){if(e==="input"||e==="change")return ru(t)}function sT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:sT;function Ga(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fp.call(t,s)||!Vr(e[s],t[s]))return!1}return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ky(e,t){var r=Py(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Py(r)}}function jb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mb(){for(var e=window,t=pd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pd(e.document)}return t}function Im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iT(e){var t=Mb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jb(r.ownerDocument.documentElement,r)){if(n!==null&&Im(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ky(r,i);var o=ky(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oT=An&&"documentMode"in document&&11>=document.documentMode,Qi=null,sh=null,Ma=null,ih=!1;function Dy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ih||Qi==null||Qi!==pd(n)||(n=Qi,"selectionStart"in n&&Im(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ma&&Ga(Ma,n)||(Ma=n,n=Sd(sh,"onSelect"),0<n.length&&(t=new Lm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qi)))}function Zc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ji={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Bf={},Ib={};An&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function nu(e){if(Bf[e])return Bf[e];if(!Ji[e])return e;var t=Ji[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ib)return Bf[e]=t[r];return e}var Ob=nu("animationend"),Nb=nu("animationiteration"),$b=nu("animationstart"),Ab=nu("transitionend"),Fb=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){Fb.set(e,t),ui(t,[e])}for(var Uf=0;Uf<Ly.length;Uf++){var Vf=Ly[Uf],aT=Vf.toLowerCase(),cT=Vf[0].toUpperCase()+Vf.slice(1);Ns(aT,"on"+cT)}Ns(Ob,"onAnimationEnd");Ns(Nb,"onAnimationIteration");Ns($b,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(Ab,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function jy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aE(n,t,void 0,e),e.currentTarget=null}function zb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;jy(s,a,l),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;jy(s,a,l),i=c}}}if(md)throw e=eh,md=!1,eh=null,e}function Ie(e,t){var r=t[dh];r===void 0&&(r=t[dh]=new Set);var n=e+"__bubble";r.has(n)||(Bb(t,e,2,!1),r.add(n))}function Hf(e,t,r){var n=0;t&&(n|=4),Bb(r,e,n,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function Ya(e){if(!e[el]){e[el]=!0,G_.forEach(function(r){r!=="selectionchange"&&(lT.has(r)||Hf(r,!1,e),Hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,Hf("selectionchange",!1,t))}}function Bb(e,t,r,n){switch(Cb(t)){case 1:var s=xE;break;case 4:s=CE;break;default:s=km}r=s.bind(null,t,r,e),s=void 0,!Zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xs(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}db(function(){var l=i,d=Rm(r),u=[];e:{var f=Fb.get(e);if(f!==void 0){var p=Lm,m=e;switch(e){case"keypress":if($l(r)===0)break e;case"keydown":case"keyup":p=FE;break;case"focusin":m="focus",p=Af;break;case"focusout":m="blur",p=Af;break;case"beforeblur":case"afterblur":p=Af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UE;break;case Ob:case Nb:case $b:p=DE;break;case Ab:p=HE;break;case"scroll":p=RE;break;case"wheel":p=qE;break;case"copy":case"cut":case"paste":p=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=by}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var _=l,S;_!==null;){S=_;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,y!==null&&(b=Va(_,y),b!=null&&g.push(Xa(_,b,S)))),v)break;_=_.return}0<g.length&&(f=new p(f,m,null,r,d),u.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Qp&&(m=r.relatedTarget||r.fromElement)&&(Xs(m)||m[Fn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=l,m=m?Xs(m):null,m!==null&&(v=fi(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(g=Sy,b="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=by,b="onPointerLeave",y="onPointerEnter",_="pointer"),v=p==null?f:Zi(p),S=m==null?f:Zi(m),f=new g(b,_+"leave",p,r,d),f.target=v,f.relatedTarget=S,b=null,Xs(d)===l&&(g=new g(y,_+"enter",m,r,d),g.target=S,g.relatedTarget=v,b=g),v=b,p&&m)t:{for(g=p,y=m,_=0,S=g;S;S=_i(S))_++;for(S=0,b=y;b;b=_i(b))S++;for(;0<_-S;)g=_i(g),_--;for(;0<S-_;)y=_i(y),S--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=_i(g),y=_i(y)}g=null}else g=null;p!==null&&My(u,f,p,g,!1),m!==null&&v!==null&&My(u,v,m,g,!0)}}e:{if(f=l?Zi(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=ZE;else if(Ry(f))if(Db)C=nT;else{C=tT;var x=eT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=rT);if(C&&(C=C(e,l))){kb(u,C,r,d);break e}x&&x(e,f,l),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&qp(f,"number",f.value)}switch(x=l?Zi(l):window,e){case"focusin":(Ry(x)||x.contentEditable==="true")&&(Qi=x,sh=l,Ma=null);break;case"focusout":Ma=sh=Qi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Dy(u,r,d);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Dy(u,r,d)}var E;if(Mm)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Xi?Tb(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Eb&&r.locale!=="ko"&&(Xi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Xi&&(E=Rb()):(ps=d,Dm="value"in ps?ps.value:ps.textContent,Xi=!0)),x=Sd(l,R),0<x.length&&(R=new _y(R,e,null,r,d),u.push({event:R,listeners:x}),E?R.data=E:(E=Pb(r),E!==null&&(R.data=E)))),(E=GE?YE(e,r):XE(e,r))&&(l=Sd(l,"onBeforeInput"),0<l.length&&(d=new _y("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:l}),d.data=E))}zb(u,t)})}function Xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Va(e,r),i!=null&&n.unshift(Xa(e,i,s)),i=Va(e,t),i!=null&&n.push(Xa(e,i,s))),e=e.return}return n}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function My(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,s?(c=Va(r,i),c!=null&&o.unshift(Xa(r,c,a))):s||(c=Va(r,i),c!=null&&o.push(Xa(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(dT,`
`).replace(uT,"")}function tl(e,t,r){if(t=Iy(t),Iy(e)!==t&&r)throw Error(A(425))}function _d(){}var oh=null,ah=null;function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,fT=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch(hT)}:lh;function hT(e){setTimeout(function(){throw e})}function qf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),qa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qa(t)}function ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),fn="__reactFiber$"+Io,Qa="__reactProps$"+Io,Fn="__reactContainer$"+Io,dh="__reactEvents$"+Io,mT="__reactListeners$"+Io,gT="__reactHandles$"+Io;function Xs(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ny(e);e!==null;){if(r=e[fn])return r;e=Ny(e)}return t}e=r,r=e.parentNode}return null}function yc(e){return e=e[fn]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function su(e){return e[Qa]||null}var uh=[],eo=-1;function $s(e){return{current:e}}function Oe(e){0>eo||(e.current=uh[eo],uh[eo]=null,eo--)}function je(e,t){eo++,uh[eo]=e.current,e.current=t}var Ds={},Pt=$s(Ds),Wt=$s(!1),ni=Ds;function So(e,t){var r=e.type.contextTypes;if(!r)return Ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function bd(){Oe(Wt),Oe(Pt)}function $y(e,t,r){if(Pt.current!==Ds)throw Error(A(168));je(Pt,t),je(Wt,r)}function Ub(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,eE(e)||"Unknown",s));return He({},r,n)}function xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,ni=Pt.current,je(Pt,e),je(Wt,Wt.current),!0}function Ay(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Ub(e,t,ni),n.__reactInternalMemoizedMergedChildContext=e,Oe(Wt),Oe(Pt),je(Pt,e)):Oe(Wt),je(Wt,r)}var jn=null,iu=!1,Kf=!1;function Vb(e){jn===null?jn=[e]:jn.push(e)}function vT(e){iu=!0,Vb(e)}function As(){if(!Kf&&jn!==null){Kf=!0;var e=0,t=Ce;try{var r=jn;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jn=null,iu=!1}catch(s){throw jn!==null&&(jn=jn.slice(e+1)),hb(Em,As),s}finally{Ce=t,Kf=!1}}return null}var to=[],ro=0,Cd=null,Rd=0,vr=[],yr=0,si=null,Mn=1,In="";function Hs(e,t){to[ro++]=Rd,to[ro++]=Cd,Cd=e,Rd=t}function Hb(e,t,r){vr[yr++]=Mn,vr[yr++]=In,vr[yr++]=si,si=e;var n=Mn;e=In;var s=32-Br(n)-1;n&=~(1<<s),r+=1;var i=32-Br(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Mn=1<<32-Br(t)+s|r<<s|n,In=i+e}else Mn=1<<i|r<<s|n,In=e}function Om(e){e.return!==null&&(Hs(e,1),Hb(e,1,0))}function Nm(e){for(;e===Cd;)Cd=to[--ro],to[ro]=null,Rd=to[--ro],to[ro]=null;for(;e===si;)si=vr[--yr],vr[yr]=null,In=vr[--yr],vr[yr]=null,Mn=vr[--yr],vr[yr]=null}var or=null,sr=null,Fe=!1,$r=null;function Wb(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,sr=ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=si!==null?{id:Mn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,sr=null,!0):!1;default:return!1}}function fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ph(e){if(Fe){var t=sr;if(t){var r=t;if(!Fy(e,t)){if(fh(e))throw Error(A(418));t=ws(r.nextSibling);var n=or;t&&Fy(e,t)?Wb(n,r):(e.flags=e.flags&-4097|2,Fe=!1,or=e)}}else{if(fh(e))throw Error(A(418));e.flags=e.flags&-4097|2,Fe=!1,or=e}}}function zy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function rl(e){if(e!==or)return!1;if(!Fe)return zy(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ch(e.type,e.memoizedProps)),t&&(t=sr)){if(fh(e))throw qb(),Error(A(418));for(;t;)Wb(e,t),t=ws(t.nextSibling)}if(zy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=ws(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=or?ws(e.stateNode.nextSibling):null;return!0}function qb(){for(var e=sr;e;)e=ws(e.nextSibling)}function _o(){sr=or=null,Fe=!1}function $m(e){$r===null?$r=[e]:$r.push(e)}var yT=Kn.ReactCurrentBatchConfig;function aa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function nl(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function By(e){var t=e._init;return t(e._payload)}function Kb(e){function t(y,_){if(e){var S=y.deletions;S===null?(y.deletions=[_],y.flags|=16):S.push(_)}}function r(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(y,_){return y=xs(y,_),y.index=0,y.sibling=null,y}function i(y,_,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<_?(y.flags|=2,_):S):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,_,S,b){return _===null||_.tag!==6?(_=ep(S,y.mode,b),_.return=y,_):(_=s(_,S),_.return=y,_)}function c(y,_,S,b){var C=S.type;return C===Yi?d(y,_,S.props.children,b,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===as&&By(C)===_.type)?(b=s(_,S.props),b.ref=aa(y,_,S),b.return=y,b):(b=Hl(S.type,S.key,S.props,null,y.mode,b),b.ref=aa(y,_,S),b.return=y,b)}function l(y,_,S,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=tp(S,y.mode,b),_.return=y,_):(_=s(_,S.children||[]),_.return=y,_)}function d(y,_,S,b,C){return _===null||_.tag!==7?(_=ti(S,y.mode,b,C),_.return=y,_):(_=s(_,S),_.return=y,_)}function u(y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ep(""+_,y.mode,S),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qc:return S=Hl(_.type,_.key,_.props,null,y.mode,S),S.ref=aa(y,null,_),S.return=y,S;case Gi:return _=tp(_,y.mode,S),_.return=y,_;case as:var b=_._init;return u(y,b(_._payload),S)}if(_a(_)||ra(_))return _=ti(_,y.mode,S,null),_.return=y,_;nl(y,_)}return null}function f(y,_,S,b){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(y,_,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qc:return S.key===C?c(y,_,S,b):null;case Gi:return S.key===C?l(y,_,S,b):null;case as:return C=S._init,f(y,_,C(S._payload),b)}if(_a(S)||ra(S))return C!==null?null:d(y,_,S,b,null);nl(y,S)}return null}function p(y,_,S,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(S)||null,a(_,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qc:return y=y.get(b.key===null?S:b.key)||null,c(_,y,b,C);case Gi:return y=y.get(b.key===null?S:b.key)||null,l(_,y,b,C);case as:var x=b._init;return p(y,_,S,x(b._payload),C)}if(_a(b)||ra(b))return y=y.get(S)||null,d(_,y,b,C,null);nl(_,b)}return null}function m(y,_,S,b){for(var C=null,x=null,E=_,R=_=0,P=null;E!==null&&R<S.length;R++){E.index>R?(P=E,E=null):P=E.sibling;var L=f(y,E,S[R],b);if(L===null){E===null&&(E=P);break}e&&E&&L.alternate===null&&t(y,E),_=i(L,_,R),x===null?C=L:x.sibling=L,x=L,E=P}if(R===S.length)return r(y,E),Fe&&Hs(y,R),C;if(E===null){for(;R<S.length;R++)E=u(y,S[R],b),E!==null&&(_=i(E,_,R),x===null?C=E:x.sibling=E,x=E);return Fe&&Hs(y,R),C}for(E=n(y,E);R<S.length;R++)P=p(E,y,R,S[R],b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?R:P.key),_=i(P,_,R),x===null?C=P:x.sibling=P,x=P);return e&&E.forEach(function($){return t(y,$)}),Fe&&Hs(y,R),C}function g(y,_,S,b){var C=ra(S);if(typeof C!="function")throw Error(A(150));if(S=C.call(S),S==null)throw Error(A(151));for(var x=C=null,E=_,R=_=0,P=null,L=S.next();E!==null&&!L.done;R++,L=S.next()){E.index>R?(P=E,E=null):P=E.sibling;var $=f(y,E,L.value,b);if($===null){E===null&&(E=P);break}e&&E&&$.alternate===null&&t(y,E),_=i($,_,R),x===null?C=$:x.sibling=$,x=$,E=P}if(L.done)return r(y,E),Fe&&Hs(y,R),C;if(E===null){for(;!L.done;R++,L=S.next())L=u(y,L.value,b),L!==null&&(_=i(L,_,R),x===null?C=L:x.sibling=L,x=L);return Fe&&Hs(y,R),C}for(E=n(y,E);!L.done;R++,L=S.next())L=p(E,y,R,L.value,b),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?R:L.key),_=i(L,_,R),x===null?C=L:x.sibling=L,x=L);return e&&E.forEach(function(B){return t(y,B)}),Fe&&Hs(y,R),C}function v(y,_,S,b){if(typeof S=="object"&&S!==null&&S.type===Yi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case qc:e:{for(var C=S.key,x=_;x!==null;){if(x.key===C){if(C=S.type,C===Yi){if(x.tag===7){r(y,x.sibling),_=s(x,S.props.children),_.return=y,y=_;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===as&&By(C)===x.type){r(y,x.sibling),_=s(x,S.props),_.ref=aa(y,x,S),_.return=y,y=_;break e}r(y,x);break}else t(y,x);x=x.sibling}S.type===Yi?(_=ti(S.props.children,y.mode,b,S.key),_.return=y,y=_):(b=Hl(S.type,S.key,S.props,null,y.mode,b),b.ref=aa(y,_,S),b.return=y,y=b)}return o(y);case Gi:e:{for(x=S.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(y,_.sibling),_=s(_,S.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else t(y,_);_=_.sibling}_=tp(S,y.mode,b),_.return=y,y=_}return o(y);case as:return x=S._init,v(y,_,x(S._payload),b)}if(_a(S))return m(y,_,S,b);if(ra(S))return g(y,_,S,b);nl(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(y,_.sibling),_=s(_,S),_.return=y,y=_):(r(y,_),_=ep(S,y.mode,b),_.return=y,y=_),o(y)):r(y,_)}return v}var bo=Kb(!0),Gb=Kb(!1),Ed=$s(null),Td=null,no=null,Am=null;function Fm(){Am=no=Td=null}function zm(e){var t=Ed.current;Oe(Ed),e._currentValue=t}function hh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fo(e,t){Td=e,Am=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Am!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(Td===null)throw Error(A(308));no=e,Td.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var Qs=null;function Bm(e){Qs===null?Qs=[e]:Qs.push(e)}function Yb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Bm(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cs=!1;function Um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zn(e,r)}return s=n.interleaved,s===null?(t.next=t,Bm(n)):(t.next=s.next,s.next=t),n.interleaved=t,zn(e,r)}function Al(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}function Uy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pd(e,t,r,n){var s=e.updateQueue;cs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;o=0,d=l=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(f=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){u=m.call(p,u,f);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,u,f):m,f==null)break e;u=He({},u,f);break e;case 2:cs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=p,c=u):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=u),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=u}}function Vy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var wc={},gn=$s(wc),Ja=$s(wc),Za=$s(wc);function Js(e){if(e===wc)throw Error(A(174));return e}function Vm(e,t){switch(je(Za,t),je(Ja,e),je(gn,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gp(t,e)}Oe(gn),je(gn,t)}function xo(){Oe(gn),Oe(Ja),Oe(Za)}function Qb(e){Js(Za.current);var t=Js(gn.current),r=Gp(t,e.type);t!==r&&(je(Ja,e),je(gn,r))}function Hm(e){Ja.current===e&&(Oe(gn),Oe(Ja))}var Ue=$s(0);function kd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gf=[];function Wm(){for(var e=0;e<Gf.length;e++)Gf[e]._workInProgressVersionPrimary=null;Gf.length=0}var Fl=Kn.ReactCurrentDispatcher,Yf=Kn.ReactCurrentBatchConfig,ii=0,Ve=null,ct=null,ft=null,Dd=!1,Ia=!1,ec=0,wT=0;function xt(){throw Error(A(321))}function qm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vr(e[r],t[r]))return!1;return!0}function Km(e,t,r,n,s,i){if(ii=i,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=e===null||e.memoizedState===null?xT:CT,e=r(n,s),Ia){i=0;do{if(Ia=!1,ec=0,25<=i)throw Error(A(301));i+=1,ft=ct=null,t.updateQueue=null,Fl.current=RT,e=r(n,s)}while(Ia)}if(Fl.current=Ld,t=ct!==null&&ct.next!==null,ii=0,ft=ct=Ve=null,Dd=!1,t)throw Error(A(300));return e}function Gm(){var e=ec!==0;return ec=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ve.memoizedState=ft=e:ft=ft.next=e,ft}function Cr(){if(ct===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?Ve.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(A(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?Ve.memoizedState=ft=e:ft=ft.next=e}return ft}function tc(e,t){return typeof t=="function"?t(e):t}function Xf(e){var t=Cr(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=ct,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,l=i;do{var d=l.lane;if((ii&d)===d)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var u={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=u,o=n):c=c.next=u,Ve.lanes|=d,oi|=d}l=l.next}while(l!==null&&l!==i);c===null?o=n:c.next=a,Vr(n,t.memoizedState)||(Ht=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ve.lanes|=i,oi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qf(e){var t=Cr(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vr(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Jb(){}function Zb(e,t){var r=Ve,n=Cr(),s=t(),i=!Vr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ht=!0),n=n.queue,Ym(r0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,rc(9,t0.bind(null,r,n,s,t),void 0,null),ht===null)throw Error(A(349));ii&30||e0(r,t,s)}return s}function e0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function t0(e,t,r,n){t.value=r,t.getSnapshot=n,n0(t)&&s0(e)}function r0(e,t,r){return r(function(){n0(t)&&s0(e)})}function n0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vr(e,r)}catch{return!0}}function s0(e){var t=zn(e,1);t!==null&&Ur(t,e,1,-1)}function Hy(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:e},t.queue=e,e=e.dispatch=bT.bind(null,Ve,e),[t.memoizedState,e]}function rc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function i0(){return Cr().memoizedState}function zl(e,t,r,n){var s=dn();Ve.flags|=e,s.memoizedState=rc(1|t,r,void 0,n===void 0?null:n)}function ou(e,t,r,n){var s=Cr();n=n===void 0?null:n;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,n!==null&&qm(n,o.deps)){s.memoizedState=rc(t,r,i,n);return}}Ve.flags|=e,s.memoizedState=rc(1|t,r,i,n)}function Wy(e,t){return zl(8390656,8,e,t)}function Ym(e,t){return ou(2048,8,e,t)}function o0(e,t){return ou(4,2,e,t)}function a0(e,t){return ou(4,4,e,t)}function c0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l0(e,t,r){return r=r!=null?r.concat([e]):null,ou(4,4,c0.bind(null,t,e),r)}function Xm(){}function d0(e,t){var r=Cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function u0(e,t){var r=Cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function f0(e,t,r){return ii&21?(Vr(r,t)||(r=vb(),Ve.lanes|=r,oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=r)}function ST(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=Yf.transition;Yf.transition={};try{e(!1),t()}finally{Ce=r,Yf.transition=n}}function p0(){return Cr().memoizedState}function _T(e,t,r){var n=bs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},h0(e))m0(t,r);else if(r=Yb(e,t,r,n),r!==null){var s=At();Ur(r,e,n,s),g0(r,t,n)}}function bT(e,t,r){var n=bs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(h0(e))m0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Vr(a,o)){var c=t.interleaved;c===null?(s.next=s,Bm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Yb(e,t,s,n),r!==null&&(s=At(),Ur(r,e,n,s),g0(r,t,n))}}function h0(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function m0(e,t){Ia=Dd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function g0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}var Ld={readContext:xr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},xT={readContext:xr,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:Wy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zl(4194308,4,c0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_T.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Hy,useDebugValue:Xm,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Hy(!1),t=e[0];return e=ST.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,s=dn();if(Fe){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),ht===null)throw Error(A(349));ii&30||e0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wy(r0.bind(null,n,i,e),[e]),n.flags|=2048,rc(9,t0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dn(),t=ht.identifierPrefix;if(Fe){var r=In,n=Mn;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ec++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CT={readContext:xr,useCallback:d0,useContext:xr,useEffect:Ym,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:u0,useReducer:Xf,useRef:i0,useState:function(){return Xf(tc)},useDebugValue:Xm,useDeferredValue:function(e){var t=Cr();return f0(t,ct.memoizedState,e)},useTransition:function(){var e=Xf(tc)[0],t=Cr().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:Zb,useId:p0,unstable_isNewReconciler:!1},RT={readContext:xr,useCallback:d0,useContext:xr,useEffect:Ym,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:u0,useReducer:Qf,useRef:i0,useState:function(){return Qf(tc)},useDebugValue:Xm,useDeferredValue:function(e){var t=Cr();return ct===null?t.memoizedState=e:f0(t,ct.memoizedState,e)},useTransition:function(){var e=Qf(tc)[0],t=Cr().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:Zb,useId:p0,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var au={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=At(),s=bs(e),i=On(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ss(e,i,s),t!==null&&(Ur(t,e,s,n),Al(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=At(),s=bs(e),i=On(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ss(e,i,s),t!==null&&(Ur(t,e,s,n),Al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=At(),n=bs(e),s=On(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ss(e,s,n),t!==null&&(Ur(t,e,n,r),Al(t,e,n))}};function qy(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ga(r,n)||!Ga(s,i):!0}function v0(e,t,r){var n=!1,s=Ds,i=t.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=qt(t)?ni:Pt.current,n=t.contextTypes,i=(n=n!=null)?So(e,s):Ds),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=au,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ky(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function gh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Um(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=qt(t)?ni:Pt.current,s.context=So(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&au.enqueueReplaceState(s,s.state,null),Pd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Co(e,t){try{var r="",n=t;do r+=ZR(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Jf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function y0(e,t,r){r=On(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Md||(Md=!0,Th=n),vh(e,t)},r}function w0(e,t,r){r=On(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vh(e,t),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ET;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=zT.bind(null,e,t,r),t.then(e,e))}function Yy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=On(-1,1),t.tag=2,Ss(r,t,1))),r.lanes|=1),e)}var TT=Kn.ReactCurrentOwner,Ht=!1;function Ot(e,t,r,n){t.child=e===null?Gb(t,null,r,n):bo(t,e.child,r,n)}function Qy(e,t,r,n,s){r=r.render;var i=t.ref;return fo(t,s),n=Km(e,t,r,n,i,s),r=Gm(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Fe&&r&&Om(t),t.flags|=1,Ot(e,t,n,s),t.child)}function Jy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,S0(e,t,i,n,s)):(e=Hl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ga,r(o,n)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=xs(i,n),e.ref=t.ref,e.return=t,t.child=e}function S0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ga(i,n)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return yh(e,t,r,n,s)}function _0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(io,rr),rr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(io,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(io,rr),rr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,je(io,rr),rr|=n;return Ot(e,t,s,r),t.child}function b0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,r,n,s){var i=qt(r)?ni:Pt.current;return i=So(t,i),fo(t,s),r=Km(e,t,r,n,i,s),n=Gm(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Fe&&n&&Om(t),t.flags|=1,Ot(e,t,r,s),t.child)}function Zy(e,t,r,n,s){if(qt(r)){var i=!0;xd(t)}else i=!1;if(fo(t,s),t.stateNode===null)Bl(e,t),v0(t,r,n),gh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=xr(l):(l=qt(r)?ni:Pt.current,l=So(t,l));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&Ky(t,o,n,l),cs=!1;var f=t.memoizedState;o.state=f,Pd(t,n,o,s),c=t.memoizedState,a!==n||f!==c||Wt.current||cs?(typeof d=="function"&&(mh(t,r,d,n),c=t.memoizedState),(a=cs||qy(t,r,a,n,f,c,l))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Xb(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Ir(t.type,a),o.props=l,u=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=qt(r)?ni:Pt.current,c=So(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==c)&&Ky(t,o,n,c),cs=!1,f=t.memoizedState,o.state=f,Pd(t,n,o,s);var m=t.memoizedState;a!==u||f!==m||Wt.current||cs?(typeof p=="function"&&(mh(t,r,p,n),m=t.memoizedState),(l=cs||qy(t,r,l,n,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return wh(e,t,r,n,i,s)}function wh(e,t,r,n,s,i){b0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ay(t,r,!1),Bn(e,t,i);n=t.stateNode,TT.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=bo(t,e.child,null,i),t.child=bo(t,null,a,i)):Ot(e,t,a,i),t.memoizedState=n.state,s&&Ay(t,r,!0),t.child}function x0(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),Vm(e,t.containerInfo)}function ew(e,t,r,n,s){return _o(),$m(s),t.flags|=256,Ot(e,t,r,n),t.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function _h(e){return{baseLanes:e,cachePool:null,transitions:null}}function C0(e,t,r){var n=t.pendingProps,s=Ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ue,s&1),e===null)return ph(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=du(o,n,0,null),e=ti(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_h(r),t.memoizedState=Sh,e):Qm(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return PT(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=ti(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_h(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Sh,n}return i=e.child,e=i.sibling,n=xs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qm(e,t){return t=du({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sl(e,t,r,n){return n!==null&&$m(n),bo(t,e.child,null,r),e=Qm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Jf(Error(A(422))),sl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=du({mode:"visible",children:n.children},s,0,null),i=ti(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&bo(t,e.child,null,o),t.child.memoizedState=_h(o),t.memoizedState=Sh,i);if(!(t.mode&1))return sl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(A(419)),n=Jf(i,n,void 0),sl(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ht||a){if(n=ht,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(e,s),Ur(n,e,s,-1))}return ng(),n=Jf(Error(A(421))),sl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sr=ws(s.nextSibling),or=t,Fe=!0,$r=null,e!==null&&(vr[yr++]=Mn,vr[yr++]=In,vr[yr++]=si,Mn=e.id,In=e.overflow,si=t),t=Qm(t,n.children),t.flags|=4096,t)}function tw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hh(e.return,t,r)}function Zf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function R0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ot(e,t,n.children,r),n=Ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tw(e,r,t);else if(e.tag===19)tw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&kd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zf(t,!0,r,null,i);break;case"together":Zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=xs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kT(e,t,r){switch(t.tag){case 3:x0(t),_o();break;case 5:Qb(t);break;case 1:qt(t.type)&&xd(t);break;case 4:Vm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(Ed,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ue,Ue.current&1),t.flags|=128,null):r&t.child.childLanes?C0(e,t,r):(je(Ue,Ue.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);je(Ue,Ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return R0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ue,Ue.current),n)break;return null;case 22:case 23:return t.lanes=0,_0(e,t,r)}return Bn(e,t,r)}var E0,bh,T0,P0;E0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bh=function(){};T0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Js(gn.current);var i=null;switch(r){case"input":s=Hp(e,s),n=Hp(e,n),i=[];break;case"select":s=He({},s,{value:void 0}),n=He({},n,{value:void 0}),i=[];break;case"textarea":s=Kp(e,s),n=Kp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_d)}Yp(r,n);var o;r=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ba.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var c=n[l];if(a=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ie("scroll",e),i||a===c||(i=[])):(i=i||[]).push(l,c))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};P0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ca(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DT(e,t,r){var n=t.pendingProps;switch(Nm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return qt(t.type)&&bd(),Ct(t),null;case 3:return n=t.stateNode,xo(),Oe(Wt),Oe(Pt),Wm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(Dh($r),$r=null))),bh(e,t),Ct(t),null;case 5:Hm(t);var s=Js(Za.current);if(r=t.type,e!==null&&t.stateNode!=null)T0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Ct(t),null}if(e=Js(gn.current),rl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[Qa]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<xa.length;s++)Ie(xa[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":dy(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":fy(n,i),Ie("invalid",n)}Yp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&tl(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&tl(n.textContent,a,e),s=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Kc(n),uy(n,i,!0);break;case"textarea":Kc(n),py(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_d)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[Qa]=n,E0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xp(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),s=n;break;case"iframe":case"object":case"embed":Ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<xa.length;s++)Ie(xa[s],e);s=n;break;case"source":Ie("error",e),s=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=n;break;case"details":Ie("toggle",e),s=n;break;case"input":dy(e,n),s=Hp(e,n),Ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=He({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":fy(e,n),s=Kp(e,n),Ie("invalid",e);break;default:s=n}Yp(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?ib(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ua(e,c):typeof c=="number"&&Ua(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ba.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&_m(e,i,c,o))}switch(r){case"input":Kc(e),uy(e,n,!1);break;case"textarea":Kc(e),py(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ks(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ao(e,!!n.multiple,i,!1):n.defaultValue!=null&&ao(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_d)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)P0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Js(Za.current),Js(gn.current),rl(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:tl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Ct(t),null;case 13:if(Oe(Ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&sr!==null&&t.mode&1&&!(t.flags&128))qb(),_o(),t.flags|=98560,i=!1;else if(i=rl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[fn]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else $r!==null&&(Dh($r),$r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?lt===0&&(lt=3):ng())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return xo(),bh(e,t),e===null&&Ya(t.stateNode.containerInfo),Ct(t),null;case 10:return zm(t.type._context),Ct(t),null;case 17:return qt(t.type)&&bd(),Ct(t),null;case 19:if(Oe(Ue),i=t.memoizedState,i===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ca(i,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kd(e),o!==null){for(t.flags|=128,ca(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>Ro&&(t.flags|=128,n=!0,ca(i,!1),t.lanes=4194304)}else{if(!n)if(e=kd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return Ct(t),null}else 2*Xe()-i.renderingStartTime>Ro&&r!==1073741824&&(t.flags|=128,n=!0,ca(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Ue.current,je(Ue,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return rg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function LT(e,t){switch(Nm(t),t.tag){case 1:return qt(t.type)&&bd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xo(),Oe(Wt),Oe(Pt),Wm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hm(t),null;case 13:if(Oe(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ue),null;case 4:return xo(),null;case 10:return zm(t.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var il=!1,Rt=!1,jT=typeof WeakSet=="function"?WeakSet:Set,W=null;function so(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ge(e,t,n)}else r.current=null}function xh(e,t,r){try{r()}catch(n){Ge(e,t,n)}}var rw=!1;function MT(e,t){if(oh=yd,e=Mb(),Im(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,d=0,u=e,f=null;t:for(;;){for(var p;u!==r||s!==0&&u.nodeType!==3||(a=o+s),u!==i||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===r&&++l===s&&(a=o),f===i&&++d===n&&(c=o),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ah={focusedElem:e,selectionRange:r},yd=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ir(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){Ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return m=rw,rw=!1,m}function Oa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xh(t,r,i)}s=s.next}while(s!==n)}}function cu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ch(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k0(e){var t=e.alternate;t!==null&&(e.alternate=null,k0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Qa],delete t[dh],delete t[mT],delete t[gT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D0(e){return e.tag===5||e.tag===3||e.tag===4}function nw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_d));else if(n!==4&&(e=e.child,e!==null))for(Rh(e,t,r),e=e.sibling;e!==null;)Rh(e,t,r),e=e.sibling}function Eh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Eh(e,t,r),e=e.sibling;e!==null;)Eh(e,t,r),e=e.sibling}var wt=null,Or=!1;function ts(e,t,r){for(r=r.child;r!==null;)L0(e,t,r),r=r.sibling}function L0(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(eu,r)}catch{}switch(r.tag){case 5:Rt||so(r,t);case 6:var n=wt,s=Or;wt=null,ts(e,t,r),wt=n,Or=s,wt!==null&&(Or?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Or?(e=wt,r=r.stateNode,e.nodeType===8?qf(e.parentNode,r):e.nodeType===1&&qf(e,r),qa(e)):qf(wt,r.stateNode));break;case 4:n=wt,s=Or,wt=r.stateNode.containerInfo,Or=!0,ts(e,t,r),wt=n,Or=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xh(r,t,o),s=s.next}while(s!==n)}ts(e,t,r);break;case 1:if(!Rt&&(so(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ge(r,t,a)}ts(e,t,r);break;case 21:ts(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,ts(e,t,r),Rt=n):ts(e,t,r);break;default:ts(e,t,r)}}function sw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jT),t.forEach(function(n){var s=UT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Mr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Or=!1;break e;case 3:wt=a.stateNode.containerInfo,Or=!0;break e;case 4:wt=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(wt===null)throw Error(A(160));L0(i,o,s),wt=null,Or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Ge(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j0(t,e),t=t.sibling}function j0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mr(t,e),Zr(e),n&4){try{Oa(3,e,e.return),cu(3,e)}catch(g){Ge(e,e.return,g)}try{Oa(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:Mr(t,e),Zr(e),n&512&&r!==null&&so(r,r.return);break;case 5:if(Mr(t,e),Zr(e),n&512&&r!==null&&so(r,r.return),e.flags&32){var s=e.stateNode;try{Ua(s,"")}catch(g){Ge(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eb(s,i),Xp(a,o);var l=Xp(a,i);for(o=0;o<c.length;o+=2){var d=c[o],u=c[o+1];d==="style"?ib(s,u):d==="dangerouslySetInnerHTML"?nb(s,u):d==="children"?Ua(s,u):_m(s,d,u,l)}switch(a){case"input":Wp(s,i);break;case"textarea":tb(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ao(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ao(s,!!i.multiple,i.defaultValue,!0):ao(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qa]=i}catch(g){Ge(e,e.return,g)}}break;case 6:if(Mr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Ge(e,e.return,g)}}break;case 3:if(Mr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:Mr(t,e),Zr(e);break;case 13:Mr(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(eg=Xe())),n&4&&sw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(l=Rt)||d,Mr(t,e),Rt=l):Mr(t,e),Zr(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(u=W=d;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oa(4,f,f.return);break;case 1:so(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ge(n,r,g)}}break;case 5:so(f,f.return);break;case 22:if(f.memoizedState!==null){ow(u);continue}}p!==null?(p.return=f,W=p):ow(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sb("display",o))}catch(g){Ge(e,e.return,g)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Mr(t,e),Zr(e),n&4&&sw(e);break;case 21:break;default:Mr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D0(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ua(s,""),n.flags&=-33);var i=nw(e);Eh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=nw(e);Rh(e,a,o);break;default:throw Error(A(161))}}catch(c){Ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IT(e,t,r){W=e,M0(e)}function M0(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||il;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Rt;a=il;var l=Rt;if(il=o,(Rt=c)&&!l)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?aw(s):c!==null?(c.return=o,W=c):aw(s);for(;i!==null;)W=i,M0(i),i=i.sibling;W=s,il=a,Rt=l}iw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):iw(e)}}function iw(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||cu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vy(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&qa(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Rt||t.flags&512&&Ch(t)}catch(f){Ge(t,t.return,f)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function ow(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function aw(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cu(4,t)}catch(c){Ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ge(t,s,c)}}var i=t.return;try{Ch(t)}catch(c){Ge(t,i,c)}break;case 5:var o=t.return;try{Ch(t)}catch(c){Ge(t,o,c)}}}catch(c){Ge(t,t.return,c)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var OT=Math.ceil,jd=Kn.ReactCurrentDispatcher,Jm=Kn.ReactCurrentOwner,_r=Kn.ReactCurrentBatchConfig,ge=0,ht=null,rt=null,St=0,rr=0,io=$s(0),lt=0,nc=null,oi=0,lu=0,Zm=0,Na=null,Vt=null,eg=0,Ro=1/0,Ln=null,Md=!1,Th=null,_s=null,ol=!1,hs=null,Id=0,$a=0,Ph=null,Ul=-1,Vl=0;function At(){return ge&6?Xe():Ul!==-1?Ul:Ul=Xe()}function bs(e){return e.mode&1?ge&2&&St!==0?St&-St:yT.transition!==null?(Vl===0&&(Vl=vb()),Vl):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Cb(e.type)),e):1}function Ur(e,t,r,n){if(50<$a)throw $a=0,Ph=null,Error(A(185));gc(e,r,n),(!(ge&2)||e!==ht)&&(e===ht&&(!(ge&2)&&(lu|=r),lt===4&&us(e,St)),Kt(e,n),r===1&&ge===0&&!(t.mode&1)&&(Ro=Xe()+500,iu&&As()))}function Kt(e,t){var r=e.callbackNode;yE(e,t);var n=vd(e,e===ht?St:0);if(n===0)r!==null&&gy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gy(r),t===1)e.tag===0?vT(cw.bind(null,e)):Vb(cw.bind(null,e)),pT(function(){!(ge&6)&&As()}),r=null;else{switch(yb(n)){case 1:r=Em;break;case 4:r=mb;break;case 16:r=gd;break;case 536870912:r=gb;break;default:r=gd}r=B0(r,I0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I0(e,t){if(Ul=-1,Vl=0,ge&6)throw Error(A(327));var r=e.callbackNode;if(po()&&e.callbackNode!==r)return null;var n=vd(e,e===ht?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Od(e,n);else{t=n;var s=ge;ge|=2;var i=N0();(ht!==e||St!==t)&&(Ln=null,Ro=Xe()+500,ei(e,t));do try{AT();break}catch(a){O0(e,a)}while(!0);Fm(),jd.current=i,ge=s,rt!==null?t=0:(ht=null,St=0,t=lt)}if(t!==0){if(t===2&&(s=th(e),s!==0&&(n=s,t=kh(e,s))),t===1)throw r=nc,ei(e,0),us(e,n),Kt(e,Xe()),r;if(t===6)us(e,n);else{if(s=e.current.alternate,!(n&30)&&!NT(s)&&(t=Od(e,n),t===2&&(i=th(e),i!==0&&(n=i,t=kh(e,i))),t===1))throw r=nc,ei(e,0),us(e,n),Kt(e,Xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Ws(e,Vt,Ln);break;case 3:if(us(e,n),(n&130023424)===n&&(t=eg+500-Xe(),10<t)){if(vd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lh(Ws.bind(null,e,Vt,Ln),t);break}Ws(e,Vt,Ln);break;case 4:if(us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Br(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OT(n/1960))-n,10<n){e.timeoutHandle=lh(Ws.bind(null,e,Vt,Ln),n);break}Ws(e,Vt,Ln);break;case 5:Ws(e,Vt,Ln);break;default:throw Error(A(329))}}}return Kt(e,Xe()),e.callbackNode===r?I0.bind(null,e):null}function kh(e,t){var r=Na;return e.current.memoizedState.isDehydrated&&(ei(e,t).flags|=256),e=Od(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Dh(t)),e}function Dh(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function NT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Vr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~Zm,t&=~lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function cw(e){if(ge&6)throw Error(A(327));po();var t=vd(e,0);if(!(t&1))return Kt(e,Xe()),null;var r=Od(e,t);if(e.tag!==0&&r===2){var n=th(e);n!==0&&(t=n,r=kh(e,n))}if(r===1)throw r=nc,ei(e,0),us(e,t),Kt(e,Xe()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ws(e,Vt,Ln),Kt(e,Xe()),null}function tg(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(Ro=Xe()+500,iu&&As())}}function ai(e){hs!==null&&hs.tag===0&&!(ge&6)&&po();var t=ge;ge|=1;var r=_r.transition,n=Ce;try{if(_r.transition=null,Ce=1,e)return e()}finally{Ce=n,_r.transition=r,ge=t,!(ge&6)&&As()}}function rg(){rr=io.current,Oe(io)}function ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fT(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(Nm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bd();break;case 3:xo(),Oe(Wt),Oe(Pt),Wm();break;case 5:Hm(n);break;case 4:xo();break;case 13:Oe(Ue);break;case 19:Oe(Ue);break;case 10:zm(n.type._context);break;case 22:case 23:rg()}r=r.return}if(ht=e,rt=e=xs(e.current,null),St=rr=t,lt=0,nc=null,Zm=lu=oi=0,Vt=Na=null,Qs!==null){for(t=0;t<Qs.length;t++)if(r=Qs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Qs=null}return e}function O0(e,t){do{var r=rt;try{if(Fm(),Fl.current=Ld,Dd){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dd=!1}if(ii=0,ft=ct=Ve=null,Ia=!1,ec=0,Jm.current=null,r===null||r.return===null){lt=1,nc=t,rt=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=St,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Yy(o);if(p!==null){p.flags&=-257,Xy(p,o,a,i,t),p.mode&1&&Gy(i,l,t),t=p,c=l;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){Gy(i,l,t),ng();break e}c=Error(A(426))}}else if(Fe&&a.mode&1){var v=Yy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Xy(v,o,a,i,t),$m(Co(c,a));break e}}i=c=Co(c,a),lt!==4&&(lt=2),Na===null?Na=[i]:Na.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=y0(i,c,t);Uy(i,y);break e;case 1:a=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_s===null||!_s.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=w0(i,a,t);Uy(i,b);break e}}i=i.return}while(i!==null)}A0(r)}catch(C){t=C,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function N0(){var e=jd.current;return jd.current=Ld,e===null?Ld:e}function ng(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(oi&268435455)&&!(lu&268435455)||us(ht,St)}function Od(e,t){var r=ge;ge|=2;var n=N0();(ht!==e||St!==t)&&(Ln=null,ei(e,t));do try{$T();break}catch(s){O0(e,s)}while(!0);if(Fm(),ge=r,jd.current=n,rt!==null)throw Error(A(261));return ht=null,St=0,lt}function $T(){for(;rt!==null;)$0(rt)}function AT(){for(;rt!==null&&!lE();)$0(rt)}function $0(e){var t=z0(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?A0(e):rt=t,Jm.current=null}function A0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LT(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}else if(r=DT(r,t,rr),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function Ws(e,t,r){var n=Ce,s=_r.transition;try{_r.transition=null,Ce=1,FT(e,t,r,n)}finally{_r.transition=s,Ce=n}return null}function FT(e,t,r,n){do po();while(hs!==null);if(ge&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wE(e,i),e===ht&&(rt=ht=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ol||(ol=!0,B0(gd,function(){return po(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=_r.transition,_r.transition=null;var o=Ce;Ce=1;var a=ge;ge|=4,Jm.current=null,MT(e,r),j0(r,e),iT(ah),yd=!!oh,ah=oh=null,e.current=r,IT(r),dE(),ge=a,Ce=o,_r.transition=i}else e.current=r;if(ol&&(ol=!1,hs=e,Id=s),i=e.pendingLanes,i===0&&(_s=null),pE(r.stateNode),Kt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Md)throw Md=!1,e=Th,Th=null,e;return Id&1&&e.tag!==0&&po(),i=e.pendingLanes,i&1?e===Ph?$a++:($a=0,Ph=e):$a=0,As(),null}function po(){if(hs!==null){var e=yb(Id),t=_r.transition,r=Ce;try{if(_r.transition=null,Ce=16>e?16:e,hs===null)var n=!1;else{if(e=hs,hs=null,Id=0,ge&6)throw Error(A(331));var s=ge;for(ge|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(W=l;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Oa(8,d,i)}var u=d.child;if(u!==null)u.return=d,W=u;else for(;W!==null;){d=W;var f=d.sibling,p=d.return;if(k0(d),d===l){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,W=y;break e}W=i.return}}var _=e.current;for(W=_;W!==null;){o=W;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,W=S;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cu(9,a)}}catch(C){Ge(a,a.return,C)}if(a===o){W=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,W=b;break e}W=a.return}}if(ge=s,As(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(eu,e)}catch{}n=!0}return n}finally{Ce=r,_r.transition=t}}return!1}function lw(e,t,r){t=Co(r,t),t=y0(e,t,1),e=Ss(e,t,1),t=At(),e!==null&&(gc(e,1,t),Kt(e,t))}function Ge(e,t,r){if(e.tag===3)lw(e,e,r);else for(;t!==null;){if(t.tag===3){lw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){e=Co(r,e),e=w0(t,e,1),t=Ss(t,e,1),e=At(),t!==null&&(gc(t,1,e),Kt(t,e));break}}t=t.return}}function zT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(St&r)===r&&(lt===4||lt===3&&(St&130023424)===St&&500>Xe()-eg?ei(e,0):Zm|=r),Kt(e,t)}function F0(e,t){t===0&&(e.mode&1?(t=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):t=1);var r=At();e=zn(e,t),e!==null&&(gc(e,t,r),Kt(e,r))}function BT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F0(e,r)}function UT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),F0(e,r)}var z0;z0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ht=!1,kT(e,t,r);Ht=!!(e.flags&131072)}else Ht=!1,Fe&&t.flags&1048576&&Hb(t,Rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bl(e,t),e=t.pendingProps;var s=So(t,Pt.current);fo(t,r),s=Km(null,t,n,e,s,r);var i=Gm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(i=!0,xd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Um(t),s.updater=au,t.stateNode=s,s._reactInternals=t,gh(t,n,e,r),t=wh(null,t,n,!0,i,r)):(t.tag=0,Fe&&i&&Om(t),Ot(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=HT(n),e=Ir(n,e),s){case 0:t=yh(null,t,n,e,r);break e;case 1:t=Zy(null,t,n,e,r);break e;case 11:t=Qy(null,t,n,e,r);break e;case 14:t=Jy(null,t,n,Ir(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),yh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Zy(e,t,n,s,r);case 3:e:{if(x0(t),e===null)throw Error(A(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Xb(e,t),Pd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Co(Error(A(423)),t),t=ew(e,t,n,r,s);break e}else if(n!==s){s=Co(Error(A(424)),t),t=ew(e,t,n,r,s);break e}else for(sr=ws(t.stateNode.containerInfo.firstChild),or=t,Fe=!0,$r=null,r=Gb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),n===s){t=Bn(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return Qb(t),e===null&&ph(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ch(n,s)?o=null:i!==null&&ch(n,i)&&(t.flags|=32),b0(e,t),Ot(e,t,o,r),t.child;case 6:return e===null&&ph(t),null;case 13:return C0(e,t,r);case 4:return Vm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bo(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Qy(e,t,n,s,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,je(Ed,n._currentValue),n._currentValue=o,i!==null)if(Vr(i.value,o)){if(i.children===s.children&&!Wt.current){t=Bn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=On(-1,r&-r),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hh(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),hh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fo(t,r),s=xr(s),n=n(s),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,s=Ir(n,t.pendingProps),s=Ir(n.type,s),Jy(e,t,n,s,r);case 15:return S0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Bl(e,t),t.tag=1,qt(n)?(e=!0,xd(t)):e=!1,fo(t,r),v0(t,n,s),gh(t,n,s,r),wh(null,t,n,!0,e,r);case 19:return R0(e,t,r);case 22:return _0(e,t,r)}throw Error(A(156,t.tag))};function B0(e,t){return hb(e,t)}function VT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new VT(e,t,r,n)}function sg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HT(e){if(typeof e=="function")return sg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===Cm)return 14}return 2}function xs(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")sg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return ti(r.children,s,i,t);case bm:o=8,s|=8;break;case zp:return e=Sr(12,r,t,s|2),e.elementType=zp,e.lanes=i,e;case Bp:return e=Sr(13,r,t,s),e.elementType=Bp,e.lanes=i,e;case Up:return e=Sr(19,r,t,s),e.elementType=Up,e.lanes=i,e;case Q_:return du(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y_:o=10;break e;case X_:o=9;break e;case xm:o=11;break e;case Cm:o=14;break e;case as:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Sr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ti(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function du(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=Q_,e.lanes=r,e.stateNode={isHidden:!1},e}function ep(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function tp(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ig(e,t,r,n,s,i,o,a,c){return e=new WT(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(i),e}function qT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function U0(e){if(!e)return Ds;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(qt(r))return Ub(e,r,t)}return t}function V0(e,t,r,n,s,i,o,a,c){return e=ig(r,n,!0,e,s,i,o,a,c),e.context=U0(null),r=e.current,n=At(),s=bs(r),i=On(n,s),i.callback=t??null,Ss(r,i,s),e.current.lanes=s,gc(e,s,n),Kt(e,n),e}function uu(e,t,r,n){var s=t.current,i=At(),o=bs(s);return r=U0(r),t.context===null?t.context=r:t.pendingContext=r,t=On(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ss(s,t,o),e!==null&&(Ur(e,s,o,i),Al(e,s,o)),o}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function og(e,t){dw(e,t),(e=e.alternate)&&dw(e,t)}function KT(){return null}var H0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ag(e){this._internalRoot=e}fu.prototype.render=ag.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));uu(e,t,null,null)};fu.prototype.unmount=ag.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){uu(null,e,null,null)}),t[Fn]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_b();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ds.length&&t!==0&&t<ds[r].priority;r++);ds.splice(r,0,e),r===0&&xb(e)}};function cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uw(){}function GT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=Nd(o);i.call(l)}}var o=V0(t,n,e,0,null,!1,!1,"",uw);return e._reactRootContainer=o,e[Fn]=o.current,Ya(e.nodeType===8?e.parentNode:e),ai(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var l=Nd(c);a.call(l)}}var c=ig(e,0,!1,null,null,!1,!1,"",uw);return e._reactRootContainer=c,e[Fn]=c.current,Ya(e.nodeType===8?e.parentNode:e),ai(function(){uu(t,c,r,n)}),c}function hu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Nd(o);a.call(c)}}uu(t,o,e,s)}else o=GT(r,t,e,s,n);return Nd(o)}wb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ba(t.pendingLanes);r!==0&&(Tm(t,r|1),Kt(t,Xe()),!(ge&6)&&(Ro=Xe()+500,As()))}break;case 13:ai(function(){var n=zn(e,1);if(n!==null){var s=At();Ur(n,e,1,s)}}),og(e,1)}};Pm=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=At();Ur(t,e,134217728,r)}og(e,134217728)}};Sb=function(e){if(e.tag===13){var t=bs(e),r=zn(e,t);if(r!==null){var n=At();Ur(r,e,t,n)}og(e,t)}};_b=function(){return Ce};bb=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};Jp=function(e,t,r){switch(t){case"input":if(Wp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=su(n);if(!s)throw Error(A(90));Z_(n),Wp(n,s)}}}break;case"textarea":tb(e,r);break;case"select":t=r.value,t!=null&&ao(e,!!r.multiple,t,!1)}};cb=tg;lb=ai;var YT={usingClientEntryPoint:!1,Events:[yc,Zi,su,ob,ab,tg]},la={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XT={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fb(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||KT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{eu=al.inject(XT),mn=al}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(t))throw Error(A(200));return qT(e,t,null,r)};ur.createRoot=function(e,t){if(!cg(e))throw Error(A(299));var r=!1,n="",s=H0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ig(e,1,!1,null,null,r,!1,n,s),e[Fn]=t.current,Ya(e.nodeType===8?e.parentNode:e),new ag(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=fb(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return ai(e)};ur.hydrate=function(e,t,r){if(!pu(t))throw Error(A(200));return hu(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!cg(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=H0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=V0(t,null,e,1,r??null,s,!1,i,o),e[Fn]=t.current,Ya(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fu(t)};ur.render=function(e,t,r){if(!pu(t))throw Error(A(200));return hu(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!pu(e))throw Error(A(40));return e._reactRootContainer?(ai(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};ur.unstable_batchedUpdates=tg;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pu(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return hu(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(e){console.error(e)}}W0(),W_.exports=ur;var Sc=W_.exports;const Ca=hm(Sc);var q0,fw=Sc;q0=fw.createRoot,fw.hydrateRoot;var K0={exports:{}},G0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=w;function QT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JT=typeof Object.is=="function"?Object.is:QT,ZT=_c.useSyncExternalStore,eP=_c.useRef,tP=_c.useEffect,rP=_c.useMemo,nP=_c.useDebugValue;G0.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=eP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rP(function(){function c(p){if(!l){if(l=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return u=m}return u=p}if(m=u,JT(d,p))return m;var g=n(p);return s!==void 0&&s(m,g)?m:(d=p,u=g)}var l=!1,d,u,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var a=ZT(e,i[0],i[1]);return tP(function(){o.hasValue=!0,o.value=a},[a]),nP(a),a};K0.exports=G0;var sP=K0.exports,ir="default"in fd?nr:fd,pw=Symbol.for("react-redux-context"),hw=typeof globalThis<"u"?globalThis:{};function iP(){if(!ir.createContext)return{};const e=hw[pw]??(hw[pw]=new Map);let t=e.get(ir.createContext);return t||(t=ir.createContext(null),e.set(ir.createContext,t)),t}var Ls=iP(),oP=()=>{throw new Error("uSES not initialized!")};function lg(e=Ls){return function(){return ir.useContext(e)}}var Y0=lg(),X0=oP,aP=e=>{X0=e},cP=(e,t)=>e===t;function lP(e=Ls){const t=e===Ls?Y0:lg(e),r=(n,s={})=>{const{equalityFn:i=cP,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:a,subscription:c,getServerState:l,stabilityCheck:d,identityFunctionCheck:u}=t();ir.useRef(!0);const f=ir.useCallback({[n.name](m){return n(m)}}[n.name],[n,d,o.stabilityCheck]),p=X0(c.addNestedSub,a.getState,l||a.getState,f,i);return ir.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var dP=lP();function uP(e){e()}function fP(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uP(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var mw={notify(){},get:()=>[]};function pP(e,t){let r,n=mw,s=0,i=!1;function o(g){d();const v=n.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),u())}}function a(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function l(){return i}function d(){s++,r||(r=e.subscribe(c),n=fP())}function u(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=mw)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,u())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return m}var hP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mP=typeof navigator<"u"&&navigator.product==="ReactNative",gP=hP||mP?ir.useLayoutEffect:ir.useEffect;function vP({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=ir.useMemo(()=>{const l=pP(e);return{store:e,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,n,s,i]),a=ir.useMemo(()=>e.getState(),[e]);gP(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=t||Ls;return ir.createElement(c.Provider,{value:o},r)}var yP=vP;function Q0(e=Ls){const t=e===Ls?Y0:lg(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var wP=Q0();function SP(e=Ls){const t=e===Ls?wP:Q0(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var _P=SP();aP(sP.useSyncExternalStoreWithSelector);var pn=function(){return pn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pn.apply(this,arguments)};function J0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function bP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Wl="right-scroll-bar-position",ql="width-before-scroll-bar",xP="with-scroll-bars-hidden",CP="--removed-body-scroll-bar-size";function rp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RP(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var EP=typeof window<"u"?w.useLayoutEffect:w.useEffect,gw=new WeakMap;function TP(e,t){var r=RP(null,function(n){return e.forEach(function(s){return rp(s,n)})});return EP(function(){var n=gw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||rp(a,null)}),i.forEach(function(a){s.has(a)||rp(a,o)})}gw.set(r,e)},[e]),r}function PP(e){return e}function kP(e,t){t===void 0&&(t=PP);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(d){o.push(d),l()},filter:function(d){return o=o.filter(d),r}}}};return s}function DP(e){e===void 0&&(e={});var t=kP(null);return t.options=pn({async:!0,ssr:!1},e),t}var Z0=function(e){var t=e.sideCar,r=J0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,pn({},r))};Z0.isSideCarExport=!0;function LP(e,t){return e.useMedium(t),Z0}var e1=DP(),np=function(){},mu=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:np,onWheelCapture:np,onTouchMoveCapture:np}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,d=e.enabled,u=e.shards,f=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,_=e.gapMode,S=J0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,C=TP([r,t]),x=pn(pn({},S),s);return w.createElement(w.Fragment,null,d&&w.createElement(b,{sideCar:e1,removeScrollBar:l,shards:u,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:_}),o?w.cloneElement(w.Children.only(a),pn(pn({},x),{ref:C})):w.createElement(y,pn({},x,{className:c,ref:C}),a))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mu.classNames={fullWidth:ql,zeroRight:Wl};var jP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jP();return t&&e.setAttribute("nonce",t),e}function IP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var NP=function(){var e=0,t=null;return{add:function(r){e==0&&(t=MP())&&(IP(t,r),OP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$P=function(){var e=NP();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},t1=function(){var e=$P(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},AP={left:0,top:0,right:0,gap:0},sp=function(e){return parseInt(e||"",10)||0},FP=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sp(r),sp(n),sp(s)]},zP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AP;var t=FP(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},BP=t1(),ho="data-scroll-locked",UP=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ql,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ho,`] {
    `).concat(CP,": ").concat(a,`px;
  }
`)},vw=function(){var e=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(e)?e:0},VP=function(){w.useEffect(function(){return document.body.setAttribute(ho,(vw()+1).toString()),function(){var e=vw()-1;e<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,e.toString())}},[])},HP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;VP();var i=w.useMemo(function(){return zP(s)},[s]);return w.createElement(BP,{styles:UP(i,!t,s,r?"":"!important")})},Lh=!1;if(typeof window<"u")try{var cl=Object.defineProperty({},"passive",{get:function(){return Lh=!0,!0}});window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Lh=!1}var bi=Lh?{passive:!1}:!1,WP=function(e){return e.tagName==="TEXTAREA"},r1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!WP(e)&&r[t]==="visible")},qP=function(e){return r1(e,"overflowY")},KP=function(e){return r1(e,"overflowX")},yw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=n1(e,n);if(s){var i=s1(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},n1=function(e,t){return e==="v"?qP(t):KP(t)},s1=function(e,t){return e==="v"?GP(t):YP(t)},XP=function(e,t){return e==="h"&&t==="rtl"?-1:1},QP=function(e,t,r,n,s){var i=XP(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),l=!1,d=o>0,u=0,f=0;do{var p=s1(e,a),m=p[0],g=p[1],v=p[2],y=g-v-i*m;(m||y)&&n1(e,a)&&(u+=y,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(l=!0),l},ll=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ww=function(e){return[e.deltaX,e.deltaY]},Sw=function(e){return e&&"current"in e?e.current:e},JP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ek=0,xi=[];function tk(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(ek++)[0],i=w.useState(t1)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=bP([e.lockRef.current],(e.shards||[]).map(Sw),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=w.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=ll(g),_=r.current,S="deltaX"in g?g.deltaX:_[0]-y[0],b="deltaY"in g?g.deltaY:_[1]-y[1],C,x=g.target,E=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in g&&E==="h"&&x.type==="range")return!1;var R=yw(E,x);if(!R)return!0;if(R?C=E:(C=E==="v"?"h":"v",R=yw(E,x)),!R)return!1;if(!n.current&&"changedTouches"in g&&(S||b)&&(n.current=C),!C)return!0;var P=n.current||C;return QP(P,v,g,P==="h"?S:b,!0)},[]),c=w.useCallback(function(g){var v=g;if(!(!xi.length||xi[xi.length-1]!==i)){var y="deltaY"in v?ww(v):ll(v),_=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&JP(C.delta,y)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(Sw).filter(Boolean).filter(function(C){return C.contains(v.target)}),b=S.length>0?a(v,S[0]):!o.current.noIsolation;b&&v.cancelable&&v.preventDefault()}}},[]),l=w.useCallback(function(g,v,y,_){var S={name:g,delta:v,target:y,should:_,shadowParent:rk(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(b){return b!==S})},1)},[]),d=w.useCallback(function(g){r.current=ll(g),n.current=void 0},[]),u=w.useCallback(function(g){l(g.type,ww(g),g.target,a(g,e.lockRef.current))},[]),f=w.useCallback(function(g){l(g.type,ll(g),g.target,a(g,e.lockRef.current))},[]);w.useEffect(function(){return xi.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,bi),document.addEventListener("touchmove",c,bi),document.addEventListener("touchstart",d,bi),function(){xi=xi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,bi),document.removeEventListener("touchmove",c,bi),document.removeEventListener("touchstart",d,bi)}},[]);var p=e.removeScrollBar,m=e.inert;return w.createElement(w.Fragment,null,m?w.createElement(i,{styles:ZP(s)}):null,p?w.createElement(HP,{gapMode:e.gapMode}):null)}function rk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nk=LP(e1,tk);var i1=w.forwardRef(function(e,t){return w.createElement(mu,pn({},e,{ref:t,sideCar:nk}))});i1.classNames=mu.classNames;function Gt(e){return Object.keys(e)}function ip(e){return e&&typeof e=="object"&&!Array.isArray(e)}function dg(e,t){const r={...e},n=t;return ip(e)&&ip(t)&&Object.keys(t).forEach(s=>{ip(n[s])&&s in e?r[s]=dg(r[s],n[s]):r[s]=n[s]}),r}function sk(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function ik(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function sc(e){const t=ik(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function op(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function o1(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const s=`${n/16}${e}`;return t?op(s):s}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(i=>r(i)).join(",");if(n.includes(" "))return n.split(" ").map(i=>r(i)).join(" ");if(n.includes(e))return t?op(n):n;const s=n.replace("px","");if(!Number.isNaN(Number(s))){const i=`${Number(s)/16}${e}`;return t?op(i):i}}return n}return r}const D=o1("rem",{shouldScale:!0}),_w=o1("em");function Oo(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function a1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function No(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==w.Fragment:!1}function Kr(e){const t=w.createContext(null);return[({children:s,value:i})=>h.jsx(t.Provider,{value:i,children:s}),()=>{const s=w.useContext(t);if(s===null)throw new Error(e);return s}]}function ok(e=null){const t=w.createContext(e);return[({children:s,value:i})=>h.jsx(t.Provider,{value:i,children:s}),()=>w.useContext(t)]}function bw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function $d(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function ak(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function ck(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function lk(e,t,r){return $d(e,r)===$d(t,r)}function c1({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:s=!1,dir:i="rtl",orientation:o}){return a=>{var m;r==null||r(a);const c=Array.from(((m=$d(a.currentTarget,e))==null?void 0:m.querySelectorAll(t))||[]).filter(g=>lk(a.currentTarget,g,e)),l=c.findIndex(g=>a.currentTarget===g),d=ck(l,c,n),u=ak(l,c,n),f=i==="rtl"?u:d,p=i==="rtl"?d:u;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[f].focus(),s&&c[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),s&&c[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[u].focus(),s&&c[u].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[d].focus(),s&&c[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=c.length-1;!c[g].disabled&&c[g].focus();break}}}}const dk={app:100,modal:200,popover:300,overlay:400,max:9999};function Gn(e){return dk[e]}const uk=()=>{};function fk(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||uk:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function ze(e,t="size",r=!0){if(e!==void 0)return a1(e)?r?D(e):e:`var(--${t}-${e})`}function Nt(e){return ze(e,"mantine-spacing")}function Qt(e){return e===void 0?"var(--mantine-radius-default)":ze(e,"mantine-radius")}function br(e){return ze(e,"mantine-font-size")}function pk(e){return ze(e,"mantine-line-height",!1)}function ug(e){if(e)return ze(e,"mantine-shadow",!1)}function hn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function hk(e,t){return e in t?sc(t[e]):sc(e)}function mk(e,t){const r=e.map(n=>({value:n,px:hk(n,t)}));return r.sort((n,s)=>n.px-s.px),r}function mo(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function gk(e,t,r){var n;return r?Array.from(((n=$d(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(s=>s===r):null}function vk(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Aa(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function fg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Ys(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function gu(e,t){const r=Ys(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback((...s)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...s),t)},[r,t])}const xw=["mousedown","touchstart"];function yk(e,t,r){const n=w.useRef();return w.useEffect(()=>{const s=i=>{const{target:o}=i??{};if(Array.isArray(r)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(l=>!!l&&!i.composedPath().includes(l))&&!a&&e()}else n.current&&!n.current.contains(o)&&e()};return(t||xw).forEach(i=>document.addEventListener(i,s)),()=>{(t||xw).forEach(i=>document.removeEventListener(i,s))}},[n,e,r]),n}function wk(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Sk(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function _k(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,s]=w.useState(r?t:Sk(e)),i=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),s(i.current.matches),wk(i.current,o=>s(o.matches))},[e]),n}const bc=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Un(e,t){const r=w.useRef(!1);w.useEffect(()=>()=>{r.current=!1},[]),w.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function l1({opened:e,shouldReturnFocus:t=!0}){const r=w.useRef(),n=()=>{var s;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((s=r.current)==null||s.focus({preventScroll:!0}))};return Un(()=>{let s=-1;const i=o=>{o.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",i),e?r.current=document.activeElement:t&&(s=window.setTimeout(n,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",i)}},[e,t]),n}function bk(e,t="body > :not(script)"){const r=fg(),n=Array.from(document.querySelectorAll(t)).map(s=>{var c;if((c=s==null?void 0:s.shadowRoot)!=null&&c.contains(e)||s.contains(e))return;const i=s.getAttribute("aria-hidden"),o=s.getAttribute("data-hidden"),a=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",r),i===null||i==="false"?s.setAttribute("aria-hidden","true"):!o&&!a&&s.setAttribute("data-hidden",i),{node:s,ariaHidden:o||null}});return()=>{n.forEach(s=>{!s||r!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const xk=/input|select|textarea|button|object/,d1="a, input, select, textarea, button, object, [tabindex]";function Ck(e){return e.style.display==="none"}function Rk(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(Ck(r))return!1;r=r.parentNode}return!0}function u1(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function jh(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(u1(e));return(xk.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&Rk(e)}function f1(e){const t=u1(e);return(Number.isNaN(t)||t>=0)&&jh(e)}function Ek(e){return Array.from(e.querySelectorAll(d1)).filter(f1)}function Tk(e,t){const r=Ek(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let i=n===s.activeElement||e===s.activeElement;const o=s.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(i=r.filter(d=>d.getAttribute("type")==="radio"&&d.getAttribute("name")===o.getAttribute("name")).includes(n)),!i)return;t.preventDefault();const c=r[t.shiftKey?r.length-1:0];c&&c.focus()}function Pk(e=!0){const t=w.useRef(),r=w.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(d1));o=a.find(f1)||a.find(jh)||null,!o&&jh(i)&&(o=i)}o&&o.focus({preventScroll:!0})},s=w.useCallback(i=>{if(e){if(i===null){r.current&&(r.current(),r.current=null);return}r.current=bk(i),t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)}},[e]);return w.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&Tk(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current()}},[e]),s}const kk=e=>(e+1)%1e6;function Dk(){const[,e]=w.useReducer(kk,0);return e}const Lk=nr.useId||(()=>{});function jk(){const e=Lk();return e?`mantine-${e.replace(/:/g,"")}`:""}function $o(e){const t=jk(),[r,n]=w.useState(t);return bc(()=>{n(fg())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function Mk(e,t,r){w.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function p1(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function h1(...e){return t=>{e.forEach(r=>p1(r,t))}}function Ut(...e){return w.useCallback(h1(...e),e)}function Ik(e,t,r="ltr"){const n=w.useRef(null),s=w.useRef(!1),i=w.useRef(!1),o=w.useRef(0),[a,c]=w.useState(!1);return w.useEffect(()=>{s.current=!0},[]),w.useEffect(()=>{var _,S;const l=({x:b,y:C})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(s.current&&n.current){n.current.style.userSelect="none";const x=n.current.getBoundingClientRect();if(x.width&&x.height){const E=Aa((b-x.left)/x.width,0,1);e({x:r==="ltr"?E:1-E,y:Aa((C-x.top)/x.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",y),document.addEventListener("touchend",p)},u=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",p)},f=()=>{!i.current&&s.current&&(i.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),d())},p=()=>{i.current&&s.current&&(i.current=!1,c(!1),u(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=b=>{f(),b.preventDefault(),g(b)},g=b=>l({x:b.clientX,y:b.clientY}),v=b=>{b.cancelable&&b.preventDefault(),f(),y(b)},y=b=>{b.cancelable&&b.preventDefault(),l({x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY})};return(_=n.current)==null||_.addEventListener("mousedown",m),(S=n.current)==null||S.addEventListener("touchstart",v,{passive:!1}),()=>{n.current&&(n.current.removeEventListener("mousedown",m),n.current.removeEventListener("touchstart",v))}},[r,e]),{ref:n,active:a}}function js({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[s,i]=w.useState(t!==void 0?t:r),o=(a,...c)=>{i(a),n==null||n(a,...c)};return e!==void 0?[e,n,!0]:[s,o,!1]}function vu(e,t){return _k("(prefers-reduced-motion: reduce)",e,t)}function Nn(e=!1,t){const{onOpen:r,onClose:n}={},[s,i]=w.useState(e),o=w.useCallback(()=>{i(l=>l||(r==null||r(),!0))},[r]),a=w.useCallback(()=>{i(l=>l&&(n==null||n(),!1))},[n]),c=w.useCallback(()=>{s?a():o()},[a,o,s]);return[s,{open:o,close:a,toggle:c}]}function Ok(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}var Nk={};function $k(){return typeof process<"u"&&Nk?"production":"development"}function m1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=m1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=m1(e))&&(n&&(n+=" "),n+=t);return n}const Ak={};function Fk(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,s])=>{t[n]?t[n]=Ft(t[n],s):t[n]=s})}),t}function yu({theme:e,classNames:t,props:r,stylesCtx:n}){const i=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,r,n):o||Ak);return Fk(i)}function Ad({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((i,o)=>typeof o=="function"?{...i,...o(e,r,n)}:{...i,...o},{})}const g1=w.createContext(null);function pi(){const e=w.useContext(g1);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function zk(){return pi().cssVariablesResolver}function Bk(){return pi().classNamesPrefix}function pg(){return pi().getStyleNonce}function Uk(){return pi().withStaticClasses}function Vk(){return pi().headless}function Hk(){var e;return(e=pi().stylesTransform)==null?void 0:e.sx}function Wk(){var e;return(e=pi().stylesTransform)==null?void 0:e.styles}function qk(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function Kk(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const r=parseInt(t,16),n=r>>16&255,s=r>>8&255,i=r&255;return{r:n,g:s,b:i,a:1}}function Gk(e){const[t,r,n,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:s||1}}function Yk(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),s=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*i-1))*s,c=n/60,l=a*(1-Math.abs(c%2-1)),d=i-a/2;let u,f,p;return c>=0&&c<1?(u=a,f=l,p=0):c>=1&&c<2?(u=l,f=a,p=0):c>=2&&c<3?(u=0,f=a,p=l):c>=3&&c<4?(u=0,f=l,p=a):c>=4&&c<5?(u=l,f=0,p=a):(u=a,f=0,p=l),{r:Math.round((u+d)*255),g:Math.round((f+d)*255),b:Math.round((p+d)*255),a:o||1}}function hg(e){return qk(e)?Kk(e):e.startsWith("rgb")?Gk(e):e.startsWith("hsl")?Yk(e):{r:0,g:0,b:0,a:1}}function dl(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:s,a:i}=hg(e),o=1-t,a=c=>Math.round(c*o);return`rgba(${a(r)}, ${a(n)}, ${a(s)}, ${i})`}function ic(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function ap(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function Xk(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function Qk(e){if(e.startsWith("oklch("))return(Xk(e)||0)/100;const{r:t,g:r,b:n}=hg(e),s=t/255,i=r/255,o=n/255,a=ap(s),c=ap(i),l=ap(o);return .2126*a+.7152*c+.0722*l}function da(e,t=.179){return e.startsWith("var(")?!1:Qk(e)>t}function Ao({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:da(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:da(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:da(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,s]=e.split("."),i=s?Number(s):void 0,o=n in t.colors;if(o){const a=i!==void 0?t.colors[n][i]:t.colors[n][ic(t,r||"light")];return{color:n,value:a,shade:i,isThemeColor:o,isLight:da(a,t.luminanceThreshold),variable:s?`--mantine-color-${n}-${i}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:da(e,t.luminanceThreshold),shade:i,variable:void 0}}function Sn(e,t){const r=Ao({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function Mh(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},n=Sn(r.from,t),s=Sn(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${s} 100%)`}function un(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:s}=hg(e);return`rgba(${r}, ${n}, ${s}, ${t})`}const Ci=un,Jk=({color:e,theme:t,variant:r,gradient:n,autoContrast:s})=>{const i=Ao({color:e,theme:t}),o=typeof s=="boolean"?s:t.autoContrast;if(r==="filled"){const a=o&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${D(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${D(1)} solid transparent`}:{background:e,hover:dl(e,.1),color:a,border:`${D(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:un(a,.1),hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}}return{background:un(e,.1),hover:un(e,.12),color:e,border:`${D(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${D(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:un(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${D(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:un(e,.05),color:e,border:`${D(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:un(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}}return{background:"transparent",hover:un(e,.12),color:e,border:`${D(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${D(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${D(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${D(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${D(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${D(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:dl(t.white,.01),color:e,border:`${D(1)} solid transparent`}:r==="gradient"?{background:Mh(n,t),hover:Mh(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${D(1)} solid var(--mantine-color-default-border)`}:{}},Zk={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Cw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",mg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Zk,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Jk,autoContrast:!1,luminanceThreshold:.3,fontFamily:Cw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Cw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:D(34),lineHeight:"1.3"},h2:{fontSize:D(26),lineHeight:"1.35"},h3:{fontSize:D(22),lineHeight:"1.4"},h4:{fontSize:D(18),lineHeight:"1.45"},h5:{fontSize:D(16),lineHeight:"1.5"},h6:{fontSize:D(14),lineHeight:"1.5"}}},fontSizes:{xs:D(12),sm:D(14),md:D(16),lg:D(18),xl:D(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:D(2),sm:D(4),md:D(8),lg:D(16),xl:D(32)},spacing:{xs:D(10),sm:D(12),md:D(16),lg:D(20),xl:D(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), 0 ${D(1)} ${D(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(10)} ${D(15)} ${D(-5)}, rgba(0, 0, 0, 0.04) 0 ${D(7)} ${D(7)} ${D(-5)}`,md:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(20)} ${D(25)} ${D(-5)}, rgba(0, 0, 0, 0.04) 0 ${D(10)} ${D(10)} ${D(-5)}`,lg:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(28)} ${D(23)} ${D(-7)}, rgba(0, 0, 0, 0.04) 0 ${D(12)} ${D(12)} ${D(-7)}`,xl:`0 ${D(1)} ${D(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${D(36)} ${D(28)} ${D(-7)}, rgba(0, 0, 0, 0.04) 0 ${D(17)} ${D(17)} ${D(-7)}`},other:{},components:{}};function Rw(e){return e==="auto"||e==="dark"||e==="light"}function eD({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return Rw(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&Rw(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const tD="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",Ew="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function cp(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Tw(e){if(!(e.primaryColor in e.colors))throw new Error(tD);if(typeof e.primaryShade=="object"&&(!cp(e.primaryShade.dark)||!cp(e.primaryShade.light)))throw new Error(Ew);if(typeof e.primaryShade=="number"&&!cp(e.primaryShade))throw new Error(Ew)}function rD(e,t){var n;if(!t)return Tw(e),e;const r=dg(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Tw(r),r}const gg=w.createContext(null),nD=()=>w.useContext(gg)||mg;function Jt(){const e=w.useContext(gg);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function v1({theme:e,children:t,inherit:r=!0}){const n=nD(),s=w.useMemo(()=>rD(r?n:mg,e),[e,n,r]);return h.jsx(gg.Provider,{value:s,children:t})}v1.displayName="@mantine/core/MantineThemeProvider";function sD(){const e=Jt(),t=pg(),r=Gt(e.breakpoints).reduce((n,s)=>{const i=e.breakpoints[s].includes("px"),o=sc(e.breakpoints[s]),a=i?`${o-.1}px`:_w(o-.1),c=i?`${o}px`:_w(o);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return h.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function lp(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function ua(e,t){return(Array.isArray(e)?e:[e]).reduce((n,s)=>`${s}{${n}}`,t)}function iD(e,t){const r=lp(e.variables),n=r?ua(t,r):"",s=lp(e.dark),i=lp(e.light),o=s?ua(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",a=i?ua(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${n}${o}${a}`}function y1({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ao({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Pw(e,t){return y1({color:e.colors[e.primaryColor][ic(e,t)],theme:e,autoContrast:null})}function ul({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const a=ic(e,"light"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:Ci(e.colors[t][a],.1),[`--mantine-color-${n}-light-hover`]:Ci(e.colors[t][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:Ci(e.colors[t][a],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}const i=ic(e,"dark"),o={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${i})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${i===9?8:i+1})`,[`--mantine-color-${n}-light`]:Ci(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${n}-light-hover`]:Ci(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(i-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(i-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Ci(e.colors[t][Math.max(i-4,0)],.05)};return s?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...o}:o}function oD(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ri(e,t,r){Gt(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const w1=e=>{const t=ic(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:D(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Pw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Pw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ri(n.variables,e.breakpoints,"breakpoint"),Ri(n.variables,e.spacing,"spacing"),Ri(n.variables,e.fontSizes,"font-size"),Ri(n.variables,e.lineHeights,"line-height"),Ri(n.variables,e.shadows,"shadow"),Ri(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,o)=>{n.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Gt(e.colors).forEach(i=>{const o=e.colors[i];if(oD(o)){Object.assign(n.light,ul({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,ul({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,c)=>{n.variables[`--mantine-color-${i}-${c}`]=a}),Object.assign(n.light,ul({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,ul({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return Gt(s).forEach(i=>{n.variables[`--mantine-${i}-font-size`]=s[i].fontSize,n.variables[`--mantine-${i}-line-height`]=s[i].lineHeight,n.variables[`--mantine-${i}-font-weight`]=s[i].fontWeight||e.headings.fontWeight}),n};function aD({theme:e,generator:t}){const r=w1(e),n=t==null?void 0:t(e);return n?dg(r,n):r}const dp=w1(mg);function cD(e){const t={variables:{},light:{},dark:{}};return Gt(e.variables).forEach(r=>{dp.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Gt(e.light).forEach(r=>{dp.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Gt(e.dark).forEach(r=>{dp.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function lD(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function S1({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=Jt(),n=pg(),s=zk(),i=aD({theme:r,generator:s}),o=e===":root"&&t,a=o?cD(i):i,c=iD(a,e);return c?h.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${c}${o?"":lD(e)}`}}):null}S1.displayName="@mantine/CssVariables";function dD(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Ei(e,t){var n;const r=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=t())==null||n.setAttribute("data-mantine-color-scheme",r)}function uD({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const s=w.useRef(),[i,o]=w.useState(()=>e.get(t)),a=n||i,c=w.useCallback(d=>{n||(Ei(d,r),o(d),e.set(d))},[e.set,a,n]),l=w.useCallback(()=>{o(t),Ei(t,r),e.clear()},[e.clear,t]);return w.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),bc(()=>{Ei(e.get(t),r)},[]),w.useEffect(()=>{var u;if(n)return Ei(n,r),()=>{};n===void 0&&Ei(i,r),s.current=window.matchMedia("(prefers-color-scheme: dark)");const d=f=>{i==="auto"&&Ei(f.matches?"dark":"light",r)};return(u=s.current)==null||u.addEventListener("change",d),()=>{var f;return(f=s.current)==null?void 0:f.removeEventListener("change",d)}},[i,n]),{colorScheme:a,setColorScheme:c,clearColorScheme:l}}function fD({respectReducedMotion:e,getRootElement:t}){bc(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}dD();function _1({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:s=!0,deduplicateCssVariables:i=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:l=eD(),defaultColorScheme:d="light",getRootElement:u=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:p,stylesTransform:m}){const{colorScheme:g,setColorScheme:v,clearColorScheme:y}=uD({defaultColorScheme:d,forceColorScheme:p,manager:l,getRootElement:u});return fD({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:u}),h.jsx(g1.Provider,{value:{colorScheme:g,setColorScheme:v,clearColorScheme:y,getRootElement:u,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:n,stylesTransform:m},children:h.jsxs(v1,{theme:e,children:[o&&h.jsx(S1,{cssVariablesSelector:a,deduplicateCssVariables:i}),s&&h.jsx(sD,{}),t]})})}_1.displayName="@mantine/core/MantineProvider";function b1({classNames:e,styles:t,props:r,stylesCtx:n}){const s=Jt();return{resolvedClassNames:yu({theme:s,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:Ad({theme:s,styles:t,props:r,stylesCtx:n||void 0})}}const pD={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function hD({theme:e,options:t,unstyled:r}){return Ft((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||pD[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function mD({selector:e,stylesCtx:t,options:r,props:n,theme:s}){return yu({theme:s,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function kw({selector:e,stylesCtx:t,theme:r,classNames:n,props:s}){return yu({theme:r,classNames:n,props:s,stylesCtx:t})[e]}function gD({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function vD({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function yD({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function wD({themeName:e,theme:t,selector:r,props:n,stylesCtx:s}){return e.map(i=>{var o,a;return(a=yu({theme:t,classNames:(o=t.components[i])==null?void 0:o.classNames,props:n,stylesCtx:s}))==null?void 0:a[r]})}function SD({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function _D({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:s,classNames:i,classes:o,unstyled:a,className:c,rootSelector:l,props:d,stylesCtx:u,withStaticClasses:f,headless:p,transformedStyles:m}){return Ft(hD({theme:e,options:t,unstyled:a||p}),wD({theme:e,themeName:r,selector:n,props:d,stylesCtx:u}),SD({options:t,classes:o,selector:n,unstyled:a}),kw({selector:n,stylesCtx:u,theme:e,classNames:i,props:d}),kw({selector:n,stylesCtx:u,theme:e,classNames:m,props:d}),mD({selector:n,stylesCtx:u,options:t,props:d,theme:e}),gD({rootSelector:l,selector:n,className:c}),vD({selector:n,classes:o,unstyled:a||p}),f&&!p&&yD({themeName:r,classNamesPrefix:s,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function bD({theme:e,themeName:t,props:r,stylesCtx:n,selector:s}){return t.map(i=>{var o;return Ad({theme:e,styles:(o=e.components[i])==null?void 0:o.styles,props:r,stylesCtx:n})[s]}).reduce((i,o)=>({...i,...o}),{})}function Ih({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Ih({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function xD(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Oo(r[n])}}),t),{})}function CD({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:s,selector:i,themeName:o,headless:a}){var c;return(c=xD([a?{}:t==null?void 0:t(r,n,s),...o.map(l=>{var d,u,f;return(f=(u=(d=r.components)==null?void 0:d[l])==null?void 0:u.vars)==null?void 0:f.call(u,r,n,s)}),e==null?void 0:e(r,n,s)]))==null?void 0:c[i]}function RD({theme:e,themeName:t,selector:r,options:n,props:s,stylesCtx:i,rootSelector:o,styles:a,style:c,vars:l,varsResolver:d,headless:u,withStylesTransform:f}){return{...!f&&bD({theme:e,themeName:t,props:s,stylesCtx:i,selector:r}),...!f&&Ad({theme:e,styles:a,props:s,stylesCtx:i})[r],...!f&&Ad({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||s,stylesCtx:i})[r],...CD({theme:e,props:s,stylesCtx:i,vars:l,varsResolver:d,selector:r,themeName:t,headless:u}),...o===r?Ih({style:c,theme:e}):null,...Ih({style:n==null?void 0:n.style,theme:e})}}function ED({props:e,stylesCtx:t,themeName:r}){var o;const n=Jt(),s=(o=Wk())==null?void 0:o();return{getTransformedStyles:a=>s?[...a.map(l=>s(l,{props:e,theme:n,ctx:t})),...r.map(l=>{var d;return s((d=n.components[l])==null?void 0:d.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function se({name:e,classes:t,props:r,stylesCtx:n,className:s,style:i,rootSelector:o="root",unstyled:a,classNames:c,styles:l,vars:d,varsResolver:u}){const f=Jt(),p=Bk(),m=Uk(),g=Vk(),v=(Array.isArray(e)?e:[e]).filter(S=>S),{withStylesTransform:y,getTransformedStyles:_}=ED({props:r,stylesCtx:n,themeName:v});return(S,b)=>({className:_D({theme:f,options:b,themeName:v,selector:S,classNamesPrefix:p,classNames:c,classes:t,unstyled:a,className:s,rootSelector:o,props:r,stylesCtx:n,withStaticClasses:m,headless:g,transformedStyles:_([b==null?void 0:b.styles,l])}),style:RD({theme:f,themeName:v,selector:S,options:b,props:r,stylesCtx:n,rootSelector:o,styles:l,style:i,vars:d,varsResolver:u,headless:g,withStylesTransform:y})})}function TD(e,t){return typeof e=="boolean"?e:t.autoContrast}function F(e,t,r){var o;const n=Jt(),s=(o=n.components[e])==null?void 0:o.defaultProps,i=typeof s=="function"?s(n):s;return{...t,...i,...Oo(r)}}function up(e){return Gt(e).reduce((t,r)=>e[r]!==void 0?`${t}${sk(r)}:${e[r]};`:t,"").trim()}function PD({selector:e,styles:t,media:r,container:n}){const s=t?up(t):"",i=Array.isArray(r)?r.map(a=>`@media${a.query}{${e}{${up(a.styles)}}}`):[],o=Array.isArray(n)?n.map(a=>`@container ${a.query}{${e}{${up(a.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${i.join("")}${o.join("")}`.trim()}function wu(e){const t=pg();return h.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:PD(e)}})}function vg(e){const{m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:d,px:u,py:f,pt:p,pb:m,pl:g,pr:v,pe:y,ps:_,bd:S,bg:b,c:C,opacity:x,ff:E,fz:R,fw:P,lts:L,ta:$,lh:B,fs:U,tt:z,td:K,w:O,miw:V,maw:T,h:I,mih:j,mah:M,bgsz:H,bgp:J,bgr:he,bga:Te,pos:Pe,top:de,left:mt,bottom:pr,right:hr,inset:Xr,display:Ze,flex:et,hiddenFrom:Le,visibleFrom:ot,lightHidden:jr,darkHidden:qe,sx:bt,...Be}=e;return{styleProps:Oo({m:t,mx:r,my:n,mt:s,mb:i,ml:o,mr:a,me:c,ms:l,p:d,px:u,py:f,pt:p,pb:m,pl:g,pr:v,pe:y,ps:_,bd:S,bg:b,c:C,opacity:x,ff:E,fz:R,fw:P,lts:L,ta:$,lh:B,fs:U,tt:z,td:K,w:O,miw:V,maw:T,h:I,mih:j,mah:M,bgsz:H,bgp:J,bgr:he,bga:Te,pos:Pe,top:de,left:mt,bottom:pr,right:hr,inset:Xr,display:Ze,flex:et,hiddenFrom:Le,visibleFrom:ot,lightHidden:jr,darkHidden:qe,sx:bt}),rest:Be}}const kD={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function yg(e,t){const r=Ao({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function DD(e,t){const r=Ao({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:yg(e,t)}function LD(e,t){if(typeof e=="number")return D(e);if(typeof e=="string"){const[r,n,...s]=e.split(" ").filter(o=>o.trim()!=="");let i=`${D(r)}`;return n&&(i+=` ${n}`),s.length>0&&(i+=` ${yg(s.join(" "),t)}`),i.trim()}return e}const Dw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function jD(e){return typeof e=="string"&&e in Dw?Dw[e]:e}const MD=["h1","h2","h3","h4","h5","h6"];function ID(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&MD.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?D(e):e}function OD(e){return e}const ND=["h1","h2","h3","h4","h5","h6"];function $D(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&ND.includes(e)?`var(--mantine-${e}-line-height)`:e}function AD(e){return typeof e=="number"?D(e):e}function FD(e,t){if(typeof e=="number")return D(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return D(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const fp={color:yg,textColor:DD,fontSize:ID,spacing:FD,identity:OD,size:AD,lineHeight:$D,fontFamily:jD,border:LD};function Lw(e){return e.replace("(min-width: ","").replace("em)","")}function zD({media:e,...t}){const n=Object.keys(e).sort((s,i)=>Number(Lw(s))-Number(Lw(i))).map(s=>({query:s,styles:e[s]}));return{...t,media:n}}function BD(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function UD(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function VD(e){return typeof e=="object"&&e!==null?Gt(e).filter(t=>t!=="base"):[]}function HD(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function x1({styleProps:e,data:t,theme:r}){return zD(Gt(e).reduce((n,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return n;const i=t[s],o=Array.isArray(i.property)?i.property:[i.property],a=UD(e[s]);if(!BD(e[s]))return o.forEach(l=>{n.inlineStyles[l]=fp[i.type](a,r)}),n;n.hasResponsiveStyles=!0;const c=VD(e[s]);return o.forEach(l=>{a&&(n.styles[l]=fp[i.type](a,r)),c.forEach(d=>{const u=`(min-width: ${r.breakpoints[d]})`;n.media[u]={...n.media[u],[l]:fp[i.type](HD(e[s],d),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function wg(){return`__m__-${w.useId().replace(/:/g,"")}`}function C1(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...C1(n,t)}),{}):typeof e=="function"?e(t):e??{}}function R1(e){return e.startsWith("data-")?e:`data-${e}`}function WD(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[R1(r)]=e[r]),t},{})}function E1(e){return e?typeof e=="string"?{[R1(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...E1(r)}),{}):WD(e):null}function Oh(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Oh(n,t)}),{}):typeof e=="function"?e(t):e??{}}function qD({theme:e,style:t,vars:r,styleProps:n}){const s=Oh(t,e),i=Oh(r,e);return{...s,...i,...n}}const T1=w.forwardRef(({component:e,style:t,__vars:r,className:n,variant:s,mod:i,size:o,hiddenFrom:a,visibleFrom:c,lightHidden:l,darkHidden:d,renderRoot:u,__size:f,...p},m)=>{var R;const g=Jt(),v=e||"div",{styleProps:y,rest:_}=vg(p),S=Hk(),b=(R=S==null?void 0:S())==null?void 0:R(y.sx),C=wg(),x=x1({styleProps:y,theme:g,data:kD}),E={ref:m,style:qD({theme:g,style:t,vars:r,styleProps:x.inlineStyles}),className:Ft(n,b,{[C]:x.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":d,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":s,"data-size":a1(o)?void 0:o||void 0,size:f,...E1(i),..._};return h.jsxs(h.Fragment,{children:[x.hasResponsiveStyles&&h.jsx(wu,{selector:`.${C}`,styles:x.styles,media:x.media}),typeof u=="function"?u(E):h.jsx(v,{...E})]})});T1.displayName="@mantine/core/Box";const N=T1;function P1(e){return e}function q(e){const t=w.forwardRef(e);return t.extend=P1,t.withProps=r=>{const n=w.forwardRef((s,i)=>h.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function kt(e){const t=w.forwardRef(e);return t.withProps=r=>{const n=w.forwardRef((s,i)=>h.jsx(t,{...r,...s,ref:i}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=P1,t}const KD=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function hi(){return w.useContext(KD)}function GD(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function pp(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const fa=typeof window<"u"&&window.requestAnimationFrame;function YD({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const s=w.useRef(null),i=0,o={display:"none",height:0,overflow:"hidden"},[a,c]=w.useState(n?{}:o),l=m=>{Sc.flushSync(()=>c(m))},d=m=>{l(g=>({...g,...m}))};function u(m){const g=e||GD(m);return{transition:`height ${g}ms ${t}, opacity ${g}ms ${t}`}}Un(()=>{typeof fa=="function"&&fa(n?()=>{d({willChange:"height",display:"block",overflow:"hidden"}),fa(()=>{const m=pp(s);d({...u(m),height:m})})}:()=>{const m=pp(s);d({...u(m),willChange:"height",height:m}),fa(()=>d({height:i,overflow:"hidden"}))})},[n]);const f=m=>{if(!(m.target!==s.current||m.propertyName!=="height"))if(n){const g=pp(s);g===a.height?l({}):d({height:g}),r()}else a.height===i&&(l(o),r())};function p({style:m={},refKey:g="ref",...v}={}){const y=v[g];return{"aria-hidden":!n,...v,[g]:h1(s,y),onTransitionEnd:f,style:{boxSizing:"border-box",...m,...a}}}return p}const XD={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Su=q((e,t)=>{const{children:r,in:n,transitionDuration:s,transitionTimingFunction:i,style:o,onTransitionEnd:a,animateOpacity:c,...l}=F("Collapse",XD,e),d=Jt(),u=vu(),p=(d.respectReducedMotion?u:!1)?0:s,m=YD({opened:n,transitionDuration:p,transitionTimingFunction:i,onTransitionEnd:a});return p===0?n?h.jsx(N,{...l,children:r}):null:h.jsx(N,{...m({style:{opacity:n||!c?1:0,transition:c?`opacity ${p}ms ${i}`:"none",...C1(o,d)},ref:t,...l}),children:r})});Su.displayName="@mantine/core/Collapse";const[QD,Pr]=Kr("ScrollArea.Root component was not found in tree");function Eo(e,t){const r=Ys(t);bc(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const JD=w.forwardRef((e,t)=>{const{style:r,...n}=e,s=Pr(),[i,o]=w.useState(0),[a,c]=w.useState(0),l=!!(i&&a);return Eo(s.scrollbarX,()=>{var u;const d=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Eo(s.scrollbarY,()=>{var u;const d=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),l?h.jsx("div",{...n,ref:t,style:{...r,width:i,height:a}}):null}),ZD=w.forwardRef((e,t)=>{const r=Pr(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?h.jsx(JD,{...e,ref:t}):null}),eL={scrollHideDelay:1e3,type:"hover"},k1=w.forwardRef((e,t)=>{const r=F("ScrollAreaRoot",eL,e),{type:n,scrollHideDelay:s,scrollbars:i,...o}=r,[a,c]=w.useState(null),[l,d]=w.useState(null),[u,f]=w.useState(null),[p,m]=w.useState(null),[g,v]=w.useState(null),[y,_]=w.useState(0),[S,b]=w.useState(0),[C,x]=w.useState(!1),[E,R]=w.useState(!1),P=Ut(t,L=>c(L));return h.jsx(QD,{value:{type:n,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:d,content:u,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:x,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:b},children:h.jsx(N,{...o,ref:P,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${y}px`,"--sa-corner-height":i!=="xy"?"0px":`${S}px`}})})});k1.displayName="@mantine/core/ScrollAreaRoot";function D1(e,t){const r=e/t;return Number.isNaN(r)?0:r}function _u(e){const t=D1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function L1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function tL(e,[t,r]){return Math.min(r,Math.max(t,e))}function jw(e,t,r="ltr"){const n=_u(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,c=r==="ltr"?[0,o]:[o*-1,0],l=tL(e,c);return L1([0,o],[0,a])(l)}function rL(e,t,r,n="ltr"){const s=_u(r),i=s/2,o=t||i,a=s-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,u=n==="ltr"?[0,d]:[d*-1,0];return L1([c,l],u)(e)}function j1(e,t){return e>0&&e<t}function Fd(e){return e?parseInt(e,10):0}function ri(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[nL,M1]=Kr("ScrollAreaScrollbar was not found in tree"),I1=w.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:l,onResize:d,...u}=e,f=Pr(),[p,m]=w.useState(null),g=Ut(t,R=>m(R)),v=w.useRef(null),y=w.useRef(""),{viewport:_}=f,S=r.content-r.viewport,b=Ys(l),C=Ys(a),x=gu(d,10),E=R=>{if(v.current){const P=R.clientX-v.current.left,L=R.clientY-v.current.top;c({x:P,y:L})}};return w.useEffect(()=>{const R=P=>{const L=P.target;(p==null?void 0:p.contains(L))&&b(P,S)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,p,S,b]),w.useEffect(C,[r,C]),Eo(p,x),Eo(f.content,x),h.jsx(nL,{value:{scrollbar:p,hasThumb:n,onThumbChange:Ys(s),onThumbPointerUp:Ys(i),onThumbPositionChange:C,onThumbPointerDown:Ys(o)},children:h.jsx("div",{...u,ref:g,"data-mantine-scrollbar":!0,style:{position:"absolute",...u.style},onPointerDown:ri(e.onPointerDown,R=>{R.preventDefault(),R.button===0&&(R.target.setPointerCapture(R.pointerId),v.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(R))}),onPointerMove:ri(e.onPointerMove,E),onPointerUp:ri(e.onPointerUp,R=>{R.preventDefault();const P=R.target;P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,v.current=null})})})}),O1=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Pr(),[a,c]=w.useState(),l=w.useRef(null),d=Ut(t,l,o.onScrollbarXChange);return w.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),h.jsx(I1,{"data-orientation":"horizontal",...i,ref:d,sizes:r,style:{...s,"--sa-thumb-width":`${_u(r)}px`},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),j1(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Fd(a.paddingLeft),paddingEnd:Fd(a.paddingRight)}})}})});O1.displayName="@mantine/core/ScrollAreaScrollbarX";const N1=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:s,...i}=e,o=Pr(),[a,c]=w.useState(),l=w.useRef(null),d=Ut(t,l,o.onScrollbarYChange);return w.useEffect(()=>{l.current&&c(window.getComputedStyle(l.current))},[]),h.jsx(I1,{...i,"data-orientation":"vertical",ref:d,sizes:r,style:{"--sa-thumb-height":`${_u(r)}px`,...s},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),j1(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Fd(a.paddingTop),paddingEnd:Fd(a.paddingBottom)}})}})});N1.displayName="@mantine/core/ScrollAreaScrollbarY";const bu=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:s}=hi(),i=Pr(),o=w.useRef(null),a=w.useRef(0),[c,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=D1(c.viewport,c.content),u={...n,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:p=>{o.current=p},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:p=>{a.current=p}},f=(p,m)=>rL(p,a.current,c,m);return r==="horizontal"?h.jsx(O1,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=jw(p,c,s);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,s))}}):r==="vertical"?h.jsx(N1,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=jw(p,c);c.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null});bu.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Sg=w.forwardRef((e,t)=>{const r=Pr(),{forceMount:n,...s}=e,[i,o]=w.useState(!1),a=e.orientation==="horizontal",c=gu(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?l:d)}},10);return Eo(r.viewport,c),Eo(r.content,c),n||i?h.jsx(bu,{"data-state":i?"visible":"hidden",...s,ref:t}):null});Sg.displayName="@mantine/core/ScrollAreaScrollbarAuto";const $1=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),[i,o]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:a}=s;let c=0;if(a){const l=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),r||i?h.jsx(Sg,{"data-state":i?"visible":"hidden",...n,ref:t}):null});$1.displayName="@mantine/core/ScrollAreaScrollbarHover";const sL=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),i=e.orientation==="horizontal",[o,a]=w.useState("hidden"),c=gu(()=>a("idle"),100);return w.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>a("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,s.scrollHideDelay]),w.useEffect(()=>{const{viewport:l}=s,d=i?"scrollLeft":"scrollTop";if(l){let u=l[d];const f=()=>{const p=l[d];u!==p&&(a("scrolling"),c()),u=p};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,c]),r||o!=="hidden"?h.jsx(bu,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ri(e.onPointerEnter,()=>a("interacting")),onPointerLeave:ri(e.onPointerLeave,()=>a("idle"))}):null}),Nh=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return w.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?h.jsx($1,{...n,ref:t,forceMount:r}):s.type==="scroll"?h.jsx(sL,{...n,ref:t,forceMount:r}):s.type==="auto"?h.jsx(Sg,{...n,ref:t,forceMount:r}):s.type==="always"?h.jsx(bu,{...n,ref:t}):null});Nh.displayName="@mantine/core/ScrollAreaScrollbar";function iL(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)}const A1=w.forwardRef((e,t)=>{const{style:r,...n}=e,s=Pr(),i=M1(),{onThumbPositionChange:o}=i,a=Ut(t,d=>i.onThumbChange(d)),c=w.useRef(),l=gu(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:d}=s;if(d){const u=()=>{if(l(),!c.current){const f=iL(d,o);c.current=f,o()}};return o(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[s.viewport,l,o]),h.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:ri(e.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,m=d.clientY-f.top;i.onThumbPointerDown({x:p,y:m})}),onPointerUp:ri(e.onPointerUp,i.onThumbPointerUp)})});A1.displayName="@mantine/core/ScrollAreaThumb";const $h=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=M1();return r||s.hasThumb?h.jsx(A1,{ref:t,...n}):null});$h.displayName="@mantine/core/ScrollAreaThumb";const F1=w.forwardRef(({children:e,style:t,...r},n)=>{const s=Pr(),i=Ut(n,s.onViewportChange);return h.jsx(N,{...r,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:h.jsx("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange,children:e})})});F1.displayName="@mantine/core/ScrollAreaViewport";var _g={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const z1={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},oL=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":D(t)}}),Yn=q((e,t)=>{const r=F("ScrollArea",z1,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,scrollbarSize:c,vars:l,type:d,scrollHideDelay:u,viewportProps:f,viewportRef:p,onScrollPositionChange:m,children:g,offsetScrollbars:v,scrollbars:y,onBottomReached:_,onTopReached:S,...b}=r,[C,x]=w.useState(!1),E=se({name:"ScrollArea",props:r,classes:_g,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:oL});return h.jsxs(k1,{type:d==="never"?"always":d,scrollHideDelay:u,ref:t,scrollbars:y,...E("root"),...b,children:[h.jsx(F1,{...f,...E("viewport",{style:f==null?void 0:f.style}),ref:p,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":y||void 0,onScroll:R=>{var B;(B=f==null?void 0:f.onScroll)==null||B.call(f,R),m==null||m({x:R.currentTarget.scrollLeft,y:R.currentTarget.scrollTop});const{scrollTop:P,scrollHeight:L,clientHeight:$}=R.currentTarget;P-(L-$)>=0&&(_==null||_()),P===0&&(S==null||S())},children:g}),(y==="xy"||y==="x")&&h.jsx(Nh,{...E("scrollbar"),orientation:"horizontal","data-hidden":d==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:h.jsx($h,{...E("thumb")})}),(y==="xy"||y==="y")&&h.jsx(Nh,{...E("scrollbar"),orientation:"vertical","data-hidden":d==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:h.jsx($h,{...E("thumb")})}),h.jsx(ZD,{...E("corner"),"data-hovered":C||void 0,"data-hidden":d==="never"||void 0})]})});Yn.displayName="@mantine/core/ScrollArea";const bg=q((e,t)=>{const{children:r,classNames:n,styles:s,scrollbarSize:i,scrollHideDelay:o,type:a,dir:c,offsetScrollbars:l,viewportRef:d,onScrollPositionChange:u,unstyled:f,variant:p,viewportProps:m,scrollbars:g,style:v,vars:y,onBottomReached:_,onTopReached:S,...b}=F("ScrollAreaAutosize",z1,e);return h.jsx(N,{...b,ref:t,style:[{display:"flex",overflow:"auto"},v],children:h.jsx(N,{style:{display:"flex",flexDirection:"column",flex:1},children:h.jsx(Yn,{classNames:n,styles:s,scrollHideDelay:o,scrollbarSize:i,type:a,dir:c,offsetScrollbars:l,viewportRef:d,onScrollPositionChange:u,unstyled:f,variant:p,viewportProps:m,vars:y,scrollbars:g,onBottomReached:_,onTopReached:S,children:r})})})});Yn.classes=_g;bg.displayName="@mantine/core/ScrollAreaAutosize";bg.classes=_g;Yn.Autosize=bg;var B1={root:"m_87cf2631"};const aL={__staticSelector:"UnstyledButton"},Fs=kt((e,t)=>{const r=F("UnstyledButton",aL,e),{className:n,component:s="button",__staticSelector:i,unstyled:o,classNames:a,styles:c,style:l,...d}=r,u=se({name:i,props:r,classes:B1,className:n,style:l,classNames:a,styles:c,unstyled:o});return h.jsx(N,{...u("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...d})});Fs.classes=B1;Fs.displayName="@mantine/core/UnstyledButton";var U1={root:"m_515a97f8"};const cL={},xg=q((e,t)=>{const r=F("VisuallyHidden",cL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,...l}=r,d=se({name:"VisuallyHidden",classes:U1,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a});return h.jsx(N,{component:"span",ref:t,...d("root"),...l})});xg.classes=U1;xg.displayName="@mantine/core/VisuallyHidden";var V1={root:"m_1b7284a3"};const lL={},dL=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Qt(t),"--paper-shadow":ug(r)}}),xc=kt((e,t)=>{const r=F("Paper",lL,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,withBorder:c,vars:l,radius:d,shadow:u,variant:f,mod:p,...m}=r,g=se({name:"Paper",props:r,classes:V1,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:dL});return h.jsx(N,{ref:t,mod:[{"data-with-border":c},p],...g("root"),variant:f,...m})});xc.classes=V1;xc.displayName="@mantine/core/Paper";function xu(){return typeof window<"u"}function Fo(e){return H1(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xn(e){var t;return(t=(H1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H1(e){return xu()?e instanceof Node||e instanceof ar(e).Node:!1}function $t(e){return xu()?e instanceof Element||e instanceof ar(e).Element:!1}function _n(e){return xu()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function Mw(e){return!xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}function Cc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function uL(e){return["table","td","th"].includes(Fo(e))}function Cu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cg(e){const t=Rg(),r=$t(e)?Hr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fL(e){let t=Ms(e);for(;_n(t)&&!To(t);){if(Cg(t))return t;if(Cu(t))return null;t=Ms(t)}return null}function Rg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function To(e){return["html","body","#document"].includes(Fo(e))}function Hr(e){return ar(e).getComputedStyle(e)}function Ru(e){return $t(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ms(e){if(Fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mw(e)&&e.host||xn(e);return Mw(t)?t.host:t}function W1(e){const t=Ms(e);return To(t)?e.ownerDocument?e.ownerDocument.body:e.body:_n(t)&&Cc(t)?t:W1(t)}function oc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=W1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ar(s);if(i){const a=Ah(o);return t.concat(o,o.visualViewport||[],Cc(s)?s:[],a&&r?oc(a):[])}return t.concat(s,oc(s,[],r))}function Ah(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Wr=Math.min,Et=Math.max,zd=Math.round,fl=Math.floor,vn=e=>({x:e,y:e}),pL={left:"right",right:"left",bottom:"top",top:"bottom"},hL={start:"end",end:"start"};function Fh(e,t,r){return Et(e,Wr(t,r))}function Vn(e,t){return typeof e=="function"?e(t):e}function qr(e){return e.split("-")[0]}function zo(e){return e.split("-")[1]}function Eg(e){return e==="x"?"y":"x"}function Tg(e){return e==="y"?"height":"width"}function Hn(e){return["top","bottom"].includes(qr(e))?"y":"x"}function Pg(e){return Eg(Hn(e))}function mL(e,t,r){r===void 0&&(r=!1);const n=zo(e),s=Pg(e),i=Tg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Bd(o)),[o,Bd(o)]}function gL(e){const t=Bd(e);return[zh(e),t,zh(t)]}function zh(e){return e.replace(/start|end/g,t=>hL[t])}function vL(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function yL(e,t,r,n){const s=zo(e);let i=vL(qr(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(zh)))),i}function Bd(e){return e.replace(/left|right|bottom|top/g,t=>pL[t])}function wL(e){return{top:0,right:0,bottom:0,left:0,...e}}function kg(e){return typeof e!="number"?wL(e):{top:e,right:e,bottom:e,left:e}}function Po(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Iw(e,t,r){let{reference:n,floating:s}=e;const i=Hn(t),o=Pg(t),a=Tg(o),c=qr(t),l=i==="y",d=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-s.width,y:u};break;default:p={x:n.x,y:n.y}}switch(zo(t)){case"start":p[o]-=f*(r&&l?-1:1);break;case"end":p[o]+=f*(r&&l?-1:1);break}return p}const SL=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=Iw(l,n,c),f=n,p={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:_,y:S,data:b,reset:C}=await y({x:d,y:u,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});d=_??d,u=S??u,p={...p,[v]:{...p[v],...b}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:u}=Iw(l,f,c)),g=-1)}return{x:d,y:u,placement:f,strategy:s,middlewareData:p}};async function Dg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=Vn(t,e),m=kg(p),v=a[f?u==="floating"?"reference":"floating":u],y=Po(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),_=u==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Po(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:c}):_);return{top:(y.top-C.top+m.top)/b.y,bottom:(C.bottom-y.bottom+m.bottom)/b.y,left:(y.left-C.left+m.left)/b.x,right:(C.right-y.right+m.right)/b.x}}const _L=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:d=0}=Vn(e,t)||{};if(l==null)return{};const u=kg(d),f={x:r,y:n},p=Pg(s),m=Tg(p),g=await o.getDimensions(l),v=p==="y",y=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",b=i.reference[m]+i.reference[p]-f[p]-i.floating[m],C=f[p]-i.reference[p],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=x?x[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(x)))&&(E=a.floating[S]||i.floating[m]);const R=b/2-C/2,P=E/2-g[m]/2-1,L=Wr(u[y],P),$=Wr(u[_],P),B=L,U=E-g[m]-$,z=E/2-g[m]/2+R,K=Fh(B,z,U),O=!c.arrow&&zo(s)!=null&&z!==K&&i.reference[m]/2-(z<B?L:$)-g[m]/2<0,V=O?z<B?z-B:z-U:0;return{[p]:f[p]+V,data:{[p]:K,centerOffset:z-K-V,...O&&{alignmentOffset:V}},reset:O}}}),bL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Vn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=qr(s),_=Hn(a),S=qr(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=f||(S||!g?[Bd(a)]:gL(a)),x=m!=="none";!f&&x&&C.push(...yL(a,g,m,b));const E=[a,...C],R=await Dg(t,v),P=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(R[y]),u){const z=mL(s,o,b);P.push(R[z[0]],R[z[1]])}if(L=[...L,{placement:s,overflows:P}],!P.every(z=>z<=0)){var $,B;const z=((($=i.flip)==null?void 0:$.index)||0)+1,K=E[z];if(K)return{data:{index:z,overflows:L},reset:{placement:K}};let O=(B=L.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:B.placement;if(!O)switch(p){case"bestFit":{var U;const V=(U=L.filter(T=>{if(x){const I=Hn(T.placement);return I===_||I==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(I=>I>0).reduce((I,j)=>I+j,0)]).sort((T,I)=>T[1]-I[1])[0])==null?void 0:U[0];V&&(O=V);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function q1(e){const t=Wr(...e.map(i=>i.left)),r=Wr(...e.map(i=>i.top)),n=Et(...e.map(i=>i.right)),s=Et(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:s-r}}function xL(e){const t=e.slice().sort((s,i)=>s.y-i.y),r=[];let n=null;for(let s=0;s<t.length;s++){const i=t[s];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(s=>Po(q1(s)))}const CL=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:c,y:l}=Vn(e,t),d=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),u=xL(d),f=Po(q1(d)),p=kg(a);function m(){if(u.length===2&&u[0].left>u[1].right&&c!=null&&l!=null)return u.find(v=>c>v.left-p.left&&c<v.right+p.right&&l>v.top-p.top&&l<v.bottom+p.bottom)||f;if(u.length>=2){if(Hn(r)==="y"){const L=u[0],$=u[u.length-1],B=qr(r)==="top",U=L.top,z=$.bottom,K=B?L.left:$.left,O=B?L.right:$.right,V=O-K,T=z-U;return{top:U,bottom:z,left:K,right:O,width:V,height:T,x:K,y:U}}const v=qr(r)==="left",y=Et(...u.map(L=>L.right)),_=Wr(...u.map(L=>L.left)),S=u.filter(L=>v?L.left===_:L.right===y),b=S[0].top,C=S[S.length-1].bottom,x=_,E=y,R=E-x,P=C-b;return{top:b,bottom:C,left:x,right:E,width:R,height:P,x,y:b}}return f}const g=await i.getElementRects({reference:{getBoundingClientRect:m},floating:n.floating,strategy:o});return s.reference.x!==g.reference.x||s.reference.y!==g.reference.y||s.reference.width!==g.reference.width||s.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function RL(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=qr(r),a=zo(r),c=Hn(r)==="y",l=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,u=Vn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),c?{x:p*d,y:f*l}:{x:f*l,y:p*d}}const EL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await RL(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},TL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...c}=Vn(e,t),l={x:r,y:n},d=await Dg(t,c),u=Hn(qr(s)),f=Eg(u);let p=l[f],m=l[u];if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=p+d[v],S=p-d[y];p=Fh(_,p,S)}if(o){const v=u==="y"?"top":"left",y=u==="y"?"bottom":"right",_=m+d[v],S=m-d[y];m=Fh(_,m,S)}const g=a.fn({...t,[f]:p,[u]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[u]:o}}}}}},PL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Vn(e,t),d={x:r,y:n},u=Hn(s),f=Eg(u);let p=d[f],m=d[u];const g=Vn(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=f==="y"?"height":"width",b=i.reference[f]-i.floating[S]+v.mainAxis,C=i.reference[f]+i.reference[S]-v.mainAxis;p<b?p=b:p>C&&(p=C)}if(l){var y,_;const S=f==="y"?"width":"height",b=["top","left"].includes(qr(s)),C=i.reference[u]-i.floating[S]+(b&&((y=o.offset)==null?void 0:y[u])||0)+(b?0:v.crossAxis),x=i.reference[u]+i.reference[S]+(b?0:((_=o.offset)==null?void 0:_[u])||0)-(b?v.crossAxis:0);m<C?m=C:m>x&&(m=x)}return{[f]:p,[u]:m}}}},kL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...l}=Vn(e,t),d=await Dg(t,l),u=qr(s),f=zo(s),p=Hn(s)==="y",{width:m,height:g}=i.floating;let v,y;u==="top"||u==="bottom"?(v=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=u,v=f==="end"?"top":"bottom");const _=g-d.top-d.bottom,S=m-d.left-d.right,b=Wr(g-d[v],_),C=Wr(m-d[y],S),x=!t.middlewareData.shift;let E=b,R=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=_),x&&!f){const L=Et(d.left,0),$=Et(d.right,0),B=Et(d.top,0),U=Et(d.bottom,0);p?R=m-2*(L!==0||$!==0?L+$:Et(d.left,d.right)):E=g-2*(B!==0||U!==0?B+U:Et(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:E});const P=await o.getDimensions(a.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function K1(e){const t=Hr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=_n(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=zd(r)!==i||zd(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Lg(e){return $t(e)?e:e.contextElement}function go(e){const t=Lg(e);if(!_n(t))return vn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=K1(t);let o=(i?zd(r.width):r.width)/n,a=(i?zd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DL=vn(0);function G1(e){const t=ar(e);return!Rg()||!t.visualViewport?DL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ar(e)?!1:t}function ci(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Lg(e);let o=vn(1);t&&(n?$t(n)&&(o=go(n)):o=go(e));const a=LL(i,r,n)?G1(i):vn(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const f=ar(i),p=n&&$t(n)?ar(n):n;let m=f,g=Ah(m);for(;g&&n&&p!==m;){const v=go(g),y=g.getBoundingClientRect(),_=Hr(g),S=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,b=y.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,l*=v.y,d*=v.x,u*=v.y,c+=S,l+=b,m=ar(g),g=Ah(m)}}return Po({width:d,height:u,x:c,y:l})}function jg(e,t){const r=Ru(e).scrollLeft;return t?t.left+r:ci(xn(e)).left+r}function Y1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:jg(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function jL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=xn(n),a=t?Cu(t.floating):!1;if(n===o||a&&i)return r;let c={scrollLeft:0,scrollTop:0},l=vn(1);const d=vn(0),u=_n(n);if((u||!u&&!i)&&((Fo(n)!=="body"||Cc(o))&&(c=Ru(n)),_n(n))){const p=ci(n);l=go(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const f=o&&!u&&!i?Y1(o,c,!0):vn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+d.x+f.x,y:r.y*l.y-c.scrollTop*l.y+d.y+f.y}}function ML(e){return Array.from(e.getClientRects())}function IL(e){const t=xn(e),r=Ru(e),n=e.ownerDocument.body,s=Et(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Et(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+jg(e);const a=-r.scrollTop;return Hr(n).direction==="rtl"&&(o+=Et(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function OL(e,t){const r=ar(e),n=xn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Rg();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function NL(e,t){const r=ci(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=_n(e)?go(e):vn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=n*i.y;return{width:o,height:a,x:c,y:l}}function Ow(e,t,r){let n;if(t==="viewport")n=OL(e,r);else if(t==="document")n=IL(xn(e));else if($t(t))n=NL(t,r);else{const s=G1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Po(n)}function X1(e,t){const r=Ms(e);return r===t||!$t(r)||To(r)?!1:Hr(r).position==="fixed"||X1(r,t)}function $L(e,t){const r=t.get(e);if(r)return r;let n=oc(e,[],!1).filter(a=>$t(a)&&Fo(a)!=="body"),s=null;const i=Hr(e).position==="fixed";let o=i?Ms(e):e;for(;$t(o)&&!To(o);){const a=Hr(o),c=Cg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cc(o)&&!c&&X1(e,o))?n=n.filter(d=>d!==o):s=a,o=Ms(o)}return t.set(e,n),n}function AL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Cu(t)?[]:$L(t,this._c):[].concat(r),n],a=o[0],c=o.reduce((l,d)=>{const u=Ow(t,d,s);return l.top=Et(u.top,l.top),l.right=Wr(u.right,l.right),l.bottom=Wr(u.bottom,l.bottom),l.left=Et(u.left,l.left),l},Ow(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FL(e){const{width:t,height:r}=K1(e);return{width:t,height:r}}function zL(e,t,r){const n=_n(t),s=xn(t),i=r==="fixed",o=ci(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=vn(0);if(n||!n&&!i)if((Fo(t)!=="body"||Cc(s))&&(a=Ru(t)),n){const f=ci(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=jg(s));const l=s&&!n&&!i?Y1(s,a):vn(0),d=o.left+a.scrollLeft-c.x-l.x,u=o.top+a.scrollTop-c.y-l.y;return{x:d,y:u,width:o.width,height:o.height}}function hp(e){return Hr(e).position==="static"}function Nw(e,t){if(!_n(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xn(e)===r&&(r=r.ownerDocument.body),r}function Q1(e,t){const r=ar(e);if(Cu(e))return r;if(!_n(e)){let s=Ms(e);for(;s&&!To(s);){if($t(s)&&!hp(s))return s;s=Ms(s)}return r}let n=Nw(e,t);for(;n&&uL(n)&&hp(n);)n=Nw(n,t);return n&&To(n)&&hp(n)&&!Cg(n)?r:n||fL(e)||r}const BL=async function(e){const t=this.getOffsetParent||Q1,r=this.getDimensions,n=await r(e.floating);return{reference:zL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UL(e){return Hr(e).direction==="rtl"}const VL={convertOffsetParentRelativeRectToViewportRelativeRect:jL,getDocumentElement:xn,getClippingRect:AL,getOffsetParent:Q1,getElementRects:BL,getClientRects:ML,getDimensions:FL,getScale:go,isElement:$t,isRTL:UL};function HL(e,t){let r=null,n;const s=xn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:d,width:u,height:f}=e.getBoundingClientRect();if(a||t(),!u||!f)return;const p=fl(d),m=fl(s.clientWidth-(l+u)),g=fl(s.clientHeight-(d+f)),v=fl(l),_={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Et(0,Wr(1,c))||1};let S=!0;function b(C){const x=C[0].intersectionRatio;if(x!==c){if(!S)return o();x?o(!1,x):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(b,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,_)}r.observe(e)}return o(!0),i}function WL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=Lg(e),d=s||i?[...l?oc(l):[],...oc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const u=l&&a?HL(l,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[_]=y;_&&_.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),l&&!c&&p.observe(l),p.observe(t));let m,g=c?ci(e):null;c&&v();function v(){const y=ci(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,m=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(_=>{s&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),u==null||u(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const qL=EL,KL=TL,GL=bL,YL=kL,$w=_L,XL=CL,QL=PL,JL=(e,t,r)=>{const n=new Map,s={platform:VL,...r},i={...s.platform,_c:n};return SL(e,t,{...s,platform:i})};var Kl=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ud(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ud(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ud(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function J1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Aw(e,t){const r=J1(e);return Math.round(t*r)/r}function mp(e){const t=w.useRef(e);return Kl(()=>{t.current=e}),t}function ZL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[d,u]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=w.useState(n);Ud(f,n)||p(n);const[m,g]=w.useState(null),[v,y]=w.useState(null),_=w.useCallback(T=>{T!==x.current&&(x.current=T,g(T))},[]),S=w.useCallback(T=>{T!==E.current&&(E.current=T,y(T))},[]),b=i||m,C=o||v,x=w.useRef(null),E=w.useRef(null),R=w.useRef(d),P=c!=null,L=mp(c),$=mp(s),B=mp(l),U=w.useCallback(()=>{if(!x.current||!E.current)return;const T={placement:t,strategy:r,middleware:f};$.current&&(T.platform=$.current),JL(x.current,E.current,T).then(I=>{const j={...I,isPositioned:B.current!==!1};z.current&&!Ud(R.current,j)&&(R.current=j,Sc.flushSync(()=>{u(j)}))})},[f,t,r,$,B]);Kl(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[l]);const z=w.useRef(!1);Kl(()=>(z.current=!0,()=>{z.current=!1}),[]),Kl(()=>{if(b&&(x.current=b),C&&(E.current=C),b&&C){if(L.current)return L.current(b,C,U);U()}},[b,C,U,L,P]);const K=w.useMemo(()=>({reference:x,floating:E,setReference:_,setFloating:S}),[_,S]),O=w.useMemo(()=>({reference:b,floating:C}),[b,C]),V=w.useMemo(()=>{const T={position:r,left:0,top:0};if(!O.floating)return T;const I=Aw(O.floating,d.x),j=Aw(O.floating,d.y);return a?{...T,transform:"translate("+I+"px, "+j+"px)",...J1(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:j}},[r,a,O.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:U,refs:K,elements:O,floatingStyles:V}),[d,U,K,O,V])}const ej=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$w({element:n.current,padding:s}).fn(r):{}:n?$w({element:n,padding:s}).fn(r):{}}}},tj=(e,t)=>({...qL(e),options:[e,t]}),rj=(e,t)=>({...KL(e),options:[e,t]}),Fw=(e,t)=>({...QL(e),options:[e,t]}),zw=(e,t)=>({...GL(e),options:[e,t]}),nj=(e,t)=>({...YL(e),options:[e,t]}),Bw=(e,t)=>({...XL(e),options:[e,t]}),sj=(e,t)=>({...ej(e),options:[e,t]}),Z1={...fd},ij=Z1.useInsertionEffect,oj=ij||(e=>e());function aj(e){const t=w.useRef(()=>{});return oj(()=>{t.current=e}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var Bh=typeof document<"u"?w.useLayoutEffect:w.useEffect;let Uw=!1,cj=0;const Vw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+cj++;function lj(){const[e,t]=w.useState(()=>Uw?Vw():void 0);return Bh(()=>{e==null&&t(Vw())},[]),w.useEffect(()=>{Uw=!0},[]),e}const dj=Z1.useId,uj=dj||lj;function fj(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==r))||[])}}}const pj=w.createContext(null),hj=w.createContext(null),mj=()=>{var e;return((e=w.useContext(pj))==null?void 0:e.id)||null},gj=()=>w.useContext(hj);function vj(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=uj(),i=w.useRef({}),[o]=w.useState(()=>fj()),a=mj()!=null,[c,l]=w.useState(n.reference),d=aj((p,m,g)=>{i.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:g,nested:a}),r==null||r(p,m,g)}),u=w.useMemo(()=>({setPositionReference:l}),[]),f=w.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return w.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:f,events:o,floatingId:s,refs:u}),[t,d,f,o,s,u])}function yj(e){e===void 0&&(e={});const{nodeId:t}=e,r=vj({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,o]=w.useState(null),[a,c]=w.useState(null),d=(s==null?void 0:s.domReference)||i,u=w.useRef(null),f=gj();Bh(()=>{d&&(u.current=d)},[d]);const p=ZL({...e,elements:{...s,...a&&{reference:a}}}),m=w.useCallback(S=>{const b=$t(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;c(b),p.refs.setReference(b)},[p.refs]),g=w.useCallback(S=>{($t(S)||S===null)&&(u.current=S,o(S)),($t(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!$t(S))&&p.refs.setReference(S)},[p.refs]),v=w.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:u}),[p.refs,g,m]),y=w.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),_=w.useMemo(()=>({...p,...n,refs:v,elements:y,nodeId:t}),[p,v,y,t,n]);return Bh(()=>{n.dataRef.current.floatingContext=_;const S=f==null?void 0:f.nodesRef.current.find(b=>b.id===t);S&&(S.context=_)}),w.useMemo(()=>({...p,context:_,refs:v,elements:y}),[p,v,y,_])}function wj(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),s=r==="right"?"left":"right";return n===void 0?s:`${s}-${n}`}return t}function Hw(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function Ww(e,t,r,n,s){return e==="center"||n==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const Sj={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function _j({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,arrowX:i,arrowY:o,dir:a}){const[c,l="center"]=e.split("-"),d={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Sj[c]]:n},u=-t/2;return c==="left"?{...d,...Hw(l,o,r,s),right:u,borderLeftColor:"transparent",borderBottomColor:"transparent"}:c==="right"?{...d,...Hw(l,o,r,s),left:u,borderRightColor:"transparent",borderTopColor:"transparent"}:c==="top"?{...d,...Ww(l,i,r,s,a),bottom:u,borderTopColor:"transparent",borderLeftColor:"transparent"}:c==="bottom"?{...d,...Ww(l,i,r,s,a),top:u,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const ex=w.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,visible:i,arrowX:o,arrowY:a,style:c,...l},d)=>{const{dir:u}=hi();return i?h.jsx("div",{...l,ref:d,style:{...c,..._j({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:s,dir:u,arrowX:o,arrowY:a})}}):null});ex.displayName="@mantine/core/FloatingArrow";const[bj,tx]=Kr("Popover component was not found in the tree");function Eu({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const s=Pk(t),i=Ut(s,n);return No(e)?w.cloneElement(e,{[r]:i}):e}function rx(e){return h.jsx(xg,{tabIndex:-1,"data-autofocus":!0,...e})}Eu.displayName="@mantine/core/FocusTrap";rx.displayName="@mantine/core/FocusTrapInitialFocus";Eu.InitialFocus=rx;function xj(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const Cj={},nx=w.forwardRef((e,t)=>{const{children:r,target:n,...s}=F("Portal",Cj,e),[i,o]=w.useState(!1),a=w.useRef(null);return bc(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:xj(s),p1(t,a.current),!n&&a.current&&document.body.appendChild(a.current),()=>{!n&&a.current&&document.body.removeChild(a.current)}),[n]),!i||!a.current?null:Sc.createPortal(h.jsx(h.Fragment,{children:r}),a.current)});nx.displayName="@mantine/core/Portal";function Rc({withinPortal:e=!0,children:t,...r}){return e?h.jsx(nx,{...r,children:t}):h.jsx(h.Fragment,{children:t})}Rc.displayName="@mantine/core/OptionalPortal";const pa=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${D(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),pl={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${D(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${D(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${D(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${D(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${D(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${D(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...pa("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...pa("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...pa("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...pa("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...pa("top"),common:{transformOrigin:"top right"}}},qw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Rj({transition:e,state:t,duration:r,timingFunction:n}){const s={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in pl?{transitionProperty:pl[e].transitionProperty,...s,...pl[e].common,...pl[e][qw[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[qw[t]]}}function Ej({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:s,onExit:i,onEntered:o,onExited:a,enterDelay:c,exitDelay:l}){const d=Jt(),u=vu(),f=d.respectReducedMotion?u:!1,[p,m]=w.useState(f?0:e),[g,v]=w.useState(n?"entered":"exited"),y=w.useRef(-1),_=w.useRef(-1),S=w.useRef(-1),b=x=>{const E=x?s:i,R=x?o:a;window.clearTimeout(y.current);const P=f?0:x?e:t;m(P),P===0?(typeof E=="function"&&E(),typeof R=="function"&&R(),v(x?"entered":"exited")):S.current=requestAnimationFrame(()=>{Ca.flushSync(()=>{v(x?"pre-entering":"pre-exiting")}),S.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),v(x?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof R=="function"&&R(),v(x?"entered":"exited")},P)})})},C=x=>{if(window.clearTimeout(_.current),typeof(x?c:l)!="number"){b(x);return}_.current=window.setTimeout(()=>{b(x)},x?c:l)};return Un(()=>{C(n)},[n]),w.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(S.current)},[]),{transitionDuration:p,transitionStatus:g,transitionTimingFunction:r||"ease"}}function zs({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:s,children:i,timingFunction:o="ease",onExit:a,onEntered:c,onEnter:l,onExited:d,enterDelay:u,exitDelay:f}){const{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=Ej({mounted:s,exitDuration:n,duration:r,timingFunction:o,onExit:a,onEntered:c,onEnter:l,onExited:d,enterDelay:u,exitDelay:f});return p===0?s?h.jsx(h.Fragment,{children:i({})}):e?i({display:"none"}):null:m==="exited"?e?i({display:"none"}):null:h.jsx(h.Fragment,{children:i(Rj({transition:t,duration:p,state:m,timingFunction:g}))})}zs.displayName="@mantine/core/Transition";var sx={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const Tj={},Mg=q((e,t)=>{var v,y,_,S;const r=F("PopoverDropdown",Tj,e),{className:n,style:s,vars:i,children:o,onKeyDownCapture:a,variant:c,classNames:l,styles:d,...u}=r,f=tx(),p=l1({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=Ut(t,f.floating);return f.disabled?null:h.jsx(Rc,{...f.portalProps,withinPortal:f.withinPortal,children:h.jsx(zs,{mounted:f.opened,...f.transitionProps,transition:((v=f.transitionProps)==null?void 0:v.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((_=f.transitionProps)==null?void 0:_.exitDuration)=="number"?f.transitionProps.exitDuration:(S=f.transitionProps)==null?void 0:S.duration,children:b=>h.jsx(Eu,{active:f.trapFocus&&f.opened,innerRef:g,children:h.jsxs(N,{...m,...u,variant:c,onKeyDownCapture:fk(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:n,props:r,classNames:l,styles:d,style:[{...b,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:D(f.width)},s]}),children:[o,h.jsx(ex,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:r,classNames:l,styles:d})})]})})})})});Mg.classes=sx;Mg.displayName="@mantine/core/PopoverDropdown";const Pj={refProp:"ref",popupType:"dialog"},ix=q((e,t)=>{const{children:r,refProp:n,popupType:s,...i}=F("PopoverTarget",Pj,e);if(!No(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=i,a=tx(),c=Ut(a.reference,r.ref,t),l=a.withRoles?{"aria-haspopup":s,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(r,{...o,...l,...a.targetProps,className:Ft(a.targetProps.className,o.className,r.props.className),[n]:c,...a.controlled?null:{onClick:a.onToggle}})});ix.displayName="@mantine/core/PopoverTarget";function kj({opened:e,floating:t,position:r,positionDependencies:n}){const[s,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return WL(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,r]),Un(()=>{t.update()},n),Un(()=>{i(o=>o+1)},[e])}function Dj(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Lj(e,t){const r=Dj(e.middlewares),n=[tj(e.offset)];return r.shift&&n.push(rj(typeof r.shift=="boolean"?{limiter:Fw(),padding:5}:{limiter:Fw(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?zw():zw(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?Bw():Bw(r.inline)),n.push(sj({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(nj({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:i,availableHeight:o,...a}){var d;const l=((d=t().refs.floating.current)==null?void 0:d.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:i,availableHeight:o,...a}):Object.assign(l,{maxWidth:`${i}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(l,{width:`${s.reference.width}px`})}})),n}function jj(e){const[t,r]=js({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{t&&r(!1)},s=()=>r(!t),i=yj({strategy:e.strategy,placement:e.position,middleware:Lj(e,()=>i)});return kj({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:i}),Un(()=>{var o;(o=e.onPositionChange)==null||o.call(e,i.placement)},[i.placement]),Un(()=>{var o,a;t?(a=e.onOpen)==null||a.call(e):(o=e.onClose)==null||o.call(e)},[t,e.onClose,e.onOpen]),{floating:i,controlled:typeof e.opened=="boolean",opened:t,onClose:n,onToggle:s}}const Mj={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Gn("popover"),__staticSelector:"Popover",width:"max-content"},Ij=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Qt(t),"--popover-shadow":ug(r)}});function Gr(e){var qe,bt,Be,gt,mr,Tn;const t=F("Popover",Mj,e),{children:r,position:n,offset:s,onPositionChange:i,positionDependencies:o,opened:a,transitionProps:c,width:l,middlewares:d,withArrow:u,arrowSize:f,arrowOffset:p,arrowRadius:m,arrowPosition:g,unstyled:v,classNames:y,styles:_,closeOnClickOutside:S,withinPortal:b,portalProps:C,closeOnEscape:x,clickOutsideEvents:E,trapFocus:R,onClose:P,onOpen:L,onChange:$,zIndex:B,radius:U,shadow:z,id:K,defaultOpened:O,__staticSelector:V,withRoles:T,disabled:I,returnFocus:j,variant:M,keepMounted:H,vars:J,floatingStrategy:he,...Te}=t,Pe=se({name:V,props:t,classes:sx,classNames:y,styles:_,unstyled:v,rootSelector:"dropdown",vars:J,varsResolver:Ij}),de=w.useRef(null),[mt,pr]=w.useState(null),[hr,Xr]=w.useState(null),{dir:Ze}=hi(),et=$o(K),Le=jj({middlewares:d,width:l,position:wj(Ze,n),offset:typeof s=="number"?s+(u?f/2:0):s,arrowRef:de,arrowOffset:p,onPositionChange:i,positionDependencies:o,opened:a,defaultOpened:O,onChange:$,onOpen:L,onClose:P,strategy:he});yk(()=>S&&Le.onClose(),E,[mt,hr]);const ot=w.useCallback(Ae=>{pr(Ae),Le.floating.refs.setReference(Ae)},[Le.floating.refs.setReference]),jr=w.useCallback(Ae=>{Xr(Ae),Le.floating.refs.setFloating(Ae)},[Le.floating.refs.setFloating]);return h.jsx(bj,{value:{returnFocus:j,disabled:I,controlled:Le.controlled,reference:ot,floating:jr,x:Le.floating.x,y:Le.floating.y,arrowX:(Be=(bt=(qe=Le.floating)==null?void 0:qe.middlewareData)==null?void 0:bt.arrow)==null?void 0:Be.x,arrowY:(Tn=(mr=(gt=Le.floating)==null?void 0:gt.middlewareData)==null?void 0:mr.arrow)==null?void 0:Tn.y,opened:Le.opened,arrowRef:de,transitionProps:c,width:l,withArrow:u,arrowSize:f,arrowOffset:p,arrowRadius:m,arrowPosition:g,placement:Le.floating.placement,trapFocus:R,withinPortal:b,portalProps:C,zIndex:B,radius:U,shadow:z,closeOnEscape:x,onClose:Le.onClose,onToggle:Le.onToggle,getTargetId:()=>`${et}-target`,getDropdownId:()=>`${et}-dropdown`,withRoles:T,targetProps:Te,__staticSelector:V,classNames:y,styles:_,unstyled:v,variant:M,keepMounted:H,getStyles:Pe,floatingStrategy:he},children:r})}Gr.Target=ix;Gr.Dropdown=Mg;Gr.displayName="@mantine/core/Popover";Gr.extend=e=>e;var zr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const ox=w.forwardRef(({className:e,...t},r)=>h.jsxs(N,{component:"span",className:Ft(zr.barsLoader,e),...t,ref:r,children:[h.jsx("span",{className:zr.bar}),h.jsx("span",{className:zr.bar}),h.jsx("span",{className:zr.bar})]}));ox.displayName="@mantine/core/Bars";const ax=w.forwardRef(({className:e,...t},r)=>h.jsxs(N,{component:"span",className:Ft(zr.dotsLoader,e),...t,ref:r,children:[h.jsx("span",{className:zr.dot}),h.jsx("span",{className:zr.dot}),h.jsx("span",{className:zr.dot})]}));ax.displayName="@mantine/core/Dots";const cx=w.forwardRef(({className:e,...t},r)=>h.jsx(N,{component:"span",className:Ft(zr.ovalLoader,e),...t,ref:r}));cx.displayName="@mantine/core/Oval";const lx={bars:ox,oval:cx,dots:ax},Oj={loaders:lx,type:"oval"},Nj=(e,{size:t,color:r})=>({root:{"--loader-size":ze(t,"loader-size"),"--loader-color":r?Sn(r,e):void 0}}),Bo=q((e,t)=>{const r=F("Loader",Oj,e),{size:n,color:s,type:i,vars:o,className:a,style:c,classNames:l,styles:d,unstyled:u,loaders:f,variant:p,children:m,...g}=r,v=se({name:"Loader",props:r,classes:zr,className:a,style:c,classNames:l,styles:d,unstyled:u,vars:o,varsResolver:Nj});return m?h.jsx(N,{...v("root"),ref:t,...g,children:m}):h.jsx(N,{...v("root"),ref:t,component:f[i],variant:p,size:n,...g})});Bo.defaultLoaders=lx;Bo.classes=zr;Bo.displayName="@mantine/core/Loader";var Tu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Kw={orientation:"horizontal"},$j=(e,{borderWidth:t})=>({group:{"--ai-border-width":D(t)}}),Ig=q((e,t)=>{const r=F("ActionIconGroup",Kw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:d,variant:u,mod:f,...p}=F("ActionIconGroup",Kw,e),m=se({name:"ActionIconGroup",props:r,classes:Tu,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:$j,rootSelector:"group"});return h.jsx(N,{...m("group"),ref:t,variant:u,mod:[{"data-orientation":c},f],role:"group",...p})});Ig.classes=Tu;Ig.displayName="@mantine/core/ActionIconGroup";const Aj={},Fj=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:s,variant:n||"filled",autoContrast:o});return{root:{"--ai-size":ze(t,"ai-size"),"--ai-radius":r===void 0?void 0:Qt(r),"--ai-bg":i||n?a.background:void 0,"--ai-hover":i||n?a.hover:void 0,"--ai-hover-color":i||n?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||n?a.border:void 0}}},Qe=kt((e,t)=>{const r=F("ActionIcon",Aj,e),{className:n,unstyled:s,variant:i,classNames:o,styles:a,style:c,loading:l,loaderProps:d,size:u,color:f,radius:p,__staticSelector:m,gradient:g,vars:v,children:y,disabled:_,"data-disabled":S,autoContrast:b,mod:C,...x}=r,E=se({name:["ActionIcon",m],props:r,className:n,style:c,classes:Tu,classNames:o,styles:a,unstyled:s,vars:v,varsResolver:Fj});return h.jsxs(Fs,{...E("root",{active:!_&&!l&&!S}),...x,unstyled:s,variant:i,size:u,disabled:_||l,ref:t,mod:[{loading:l,disabled:_||S},C],children:[h.jsx(zs,{mounted:!!l,transition:"slide-down",duration:150,children:R=>h.jsx(N,{component:"span",...E("loader",{style:R}),"aria-hidden":!0,children:h.jsx(Bo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),h.jsx(N,{component:"span",mod:{loading:l},...E("icon"),children:y})]})});Qe.classes=Tu;Qe.displayName="@mantine/core/ActionIcon";Qe.Group=Ig;const dx=w.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>h.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:h.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));dx.displayName="@mantine/core/CloseIcon";var ux={root:"m_86a44da5","root--subtle":"m_220c80f2"};const zj={variant:"subtle"},Bj=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":ze(t,"cb-size"),"--cb-radius":r===void 0?void 0:Qt(r),"--cb-icon-size":D(n)}}),Uo=kt((e,t)=>{const r=F("CloseButton",zj,e),{iconSize:n,children:s,vars:i,radius:o,className:a,classNames:c,style:l,styles:d,unstyled:u,"data-disabled":f,disabled:p,variant:m,icon:g,mod:v,...y}=r,_=se({name:"CloseButton",props:r,className:a,style:l,classes:ux,classNames:c,styles:d,unstyled:u,vars:i,varsResolver:Bj});return h.jsxs(Fs,{ref:t,...y,unstyled:u,variant:m,disabled:p,mod:[{disabled:p||f},v],..._("root",{variant:m,active:!p&&!f}),children:[g||h.jsx(dx,{}),s]})});Uo.classes=ux;Uo.displayName="@mantine/core/CloseButton";function Uj(e){return w.Children.toArray(e).filter(Boolean)}var fx={root:"m_4081bf90"};const Vj={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Hj=(e,{grow:t,preventGrowOverflow:r,gap:n,align:s,justify:i,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&r?a:void 0,"--group-gap":Nt(n),"--group-align":s,"--group-justify":i,"--group-wrap":o}}),Ne=q((e,t)=>{const r=F("Group",Vj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,children:c,gap:l,align:d,justify:u,wrap:f,grow:p,preventGrowOverflow:m,vars:g,variant:v,__size:y,mod:_,...S}=r,b=Uj(c),C=b.length,x=Nt(l??"md"),R={childWidth:`calc(${100/C}% - (${x} - ${x} / ${C}))`},P=se({name:"Group",props:r,stylesCtx:R,className:s,style:i,classes:fx,classNames:n,styles:o,unstyled:a,vars:g,varsResolver:Hj});return h.jsx(N,{...P("root"),ref:t,variant:v,mod:[{grow:p},_],size:y,...S,children:b})});Ne.classes=fx;Ne.displayName="@mantine/core/Group";var px={root:"m_9814e45f"};const Wj={zIndex:Gn("modal")},qj=(e,{gradient:t,color:r,backgroundOpacity:n,blur:s,radius:i,zIndex:o})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&un(r||"#000",n??.6)||void 0,"--overlay-filter":s?`blur(${D(s)})`:void 0,"--overlay-radius":i===void 0?void 0:Qt(i),"--overlay-z-index":o==null?void 0:o.toString()}}),Og=kt((e,t)=>{const r=F("Overlay",Wj,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,fixed:l,center:d,children:u,radius:f,zIndex:p,gradient:m,blur:g,color:v,backgroundOpacity:y,mod:_,...S}=r,b=se({name:"Overlay",props:r,classes:px,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:qj});return h.jsx(N,{ref:t,...b("root"),mod:[{center:d,fixed:l},_],...S,children:u})});Og.classes=px;Og.displayName="@mantine/core/Overlay";const[Kj,Xn]=Kr("ModalBase component was not found in tree");function Gj({opened:e,transitionDuration:t}){const[r,n]=w.useState(e),s=w.useRef(),o=vu()?0:t;return w.useEffect(()=>(e?(n(!0),window.clearTimeout(s.current)):o===0?n(!1):s.current=window.setTimeout(()=>n(!1),o),()=>window.clearTimeout(s.current)),[e,o]),r}function Yj({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:s,onClose:i,returnFocus:o}){const a=$o(e),[c,l]=w.useState(!1),[d,u]=w.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,p=Gj({opened:r,transitionDuration:f});return Mk("keydown",m=>{var g;m.key==="Escape"&&s&&r&&((g=m.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),l1({opened:r,shouldReturnFocus:n&&o}),{_id:a,titleMounted:c,bodyMounted:d,shouldLockScroll:p,setTitleMounted:l,setBodyMounted:u}}const Ng=w.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:s,trapFocus:i,closeOnEscape:o,returnFocus:a,closeOnClickOutside:c,withinPortal:l,portalProps:d,lockScroll:u,children:f,zIndex:p,shadow:m,padding:g,__vars:v,unstyled:y,removeScrollProps:_,...S},b)=>{const{_id:C,titleMounted:x,bodyMounted:E,shouldLockScroll:R,setTitleMounted:P,setBodyMounted:L}=Yj({id:n,transitionProps:s,opened:t,trapFocus:i,closeOnEscape:o,onClose:r,returnFocus:a}),{key:$,...B}=_||{};return h.jsx(Rc,{...d,withinPortal:l,children:h.jsx(Kj,{value:{opened:t,onClose:r,closeOnClickOutside:c,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${C}-title`,getBodyId:()=>`${C}-body`,titleMounted:x,bodyMounted:E,setTitleMounted:P,setBodyMounted:L,trapFocus:i,closeOnEscape:o,zIndex:p,unstyled:y},children:h.jsx(i1,{enabled:R&&u,...B,children:h.jsx(N,{ref:b,...S,__vars:{...v,"--mb-z-index":(p||Gn("modal")).toString(),"--mb-shadow":ug(m),"--mb-padding":Nt(g)},children:f})},$)})})});Ng.displayName="@mantine/core/ModalBase";function Xj(){const e=Xn();return w.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var ko={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const $g=w.forwardRef(({className:e,...t},r)=>{const n=Xj(),s=Xn();return h.jsx(N,{ref:r,...t,id:n,className:Ft({[ko.body]:!s.unstyled},e)})});$g.displayName="@mantine/core/ModalBaseBody";const Ag=w.forwardRef(({className:e,onClick:t,...r},n)=>{const s=Xn();return h.jsx(Uo,{ref:n,...r,onClick:i=>{s.onClose(),t==null||t(i)},className:Ft({[ko.close]:!s.unstyled},e),unstyled:s.unstyled})});Ag.displayName="@mantine/core/ModalBaseCloseButton";const Fg=w.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:s,...i},o)=>{const a=Xn();return h.jsx(zs,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:c=>h.jsx("div",{...r,className:Ft({[ko.inner]:!a.unstyled},r.className),children:h.jsx(Eu,{active:a.opened&&a.trapFocus,innerRef:o,children:h.jsx(xc,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[s,c],className:Ft({[ko.content]:!a.unstyled},t),unstyled:a.unstyled,children:i.children})})})})});Fg.displayName="@mantine/core/ModalBaseContent";const zg=w.forwardRef(({className:e,...t},r)=>{const n=Xn();return h.jsx(N,{component:"header",ref:r,className:Ft({[ko.header]:!n.unstyled},e),...t})});zg.displayName="@mantine/core/ModalBaseHeader";const Qj={duration:200,timingFunction:"ease",transition:"fade"};function Jj(e){const t=Xn();return{...Qj,...t.transitionProps,...e}}const Bg=w.forwardRef(({onClick:e,transitionProps:t,style:r,...n},s)=>{const i=Xn(),o=Jj(t);return h.jsx(zs,{mounted:i.opened,...o,transition:"fade",children:a=>h.jsx(Og,{ref:s,fixed:!0,style:[r,a],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e==null||e(c),i.closeOnClickOutside&&i.onClose()},...n})})});Bg.displayName="@mantine/core/ModalBaseOverlay";function Zj(){const e=Xn();return w.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Ug=w.forwardRef(({className:e,...t},r)=>{const n=Zj(),s=Xn();return h.jsx(N,{component:"h2",ref:r,className:Ft({[ko.title]:!s.unstyled},e),...t,id:n})});Ug.displayName="@mantine/core/ModalBaseTitle";function hx({children:e}){return h.jsx(h.Fragment,{children:e})}const[e2,Pu]=ok({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var kr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Gw={},t2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${br(t)} - ${D(2)})`}}),ku=q((e,t)=>{const r=F("InputDescription",Gw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:d,__inheritStyles:u=!0,variant:f,...p}=F("InputDescription",Gw,r),m=Pu(),g=se({name:["InputWrapper",d],props:r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"description",vars:c,varsResolver:t2}),v=u&&(m==null?void 0:m.getStyles)||g;return h.jsx(N,{component:"p",ref:t,variant:f,size:l,...v("description",m!=null&&m.getStyles?{className:s,style:i}:void 0),...p})});ku.classes=kr;ku.displayName="@mantine/core/InputDescription";const r2={},n2=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${br(t)} - ${D(2)})`}}),Du=q((e,t)=>{const r=F("InputError",r2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,__staticSelector:d,__inheritStyles:u=!0,variant:f,...p}=r,m=se({name:["InputWrapper",d],props:r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"error",vars:c,varsResolver:n2}),g=Pu(),v=u&&(g==null?void 0:g.getStyles)||m;return h.jsx(N,{component:"p",ref:t,variant:f,size:l,...v("error",g!=null&&g.getStyles?{className:s,style:i}:void 0),...p})});Du.classes=kr;Du.displayName="@mantine/core/InputError";const Yw={labelElement:"label"},s2=(e,{size:t})=>({label:{"--input-label-size":br(t),"--input-asterisk-color":void 0}}),Lu=q((e,t)=>{const r=F("InputLabel",Yw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,labelElement:l,size:d,required:u,htmlFor:f,onMouseDown:p,children:m,__staticSelector:g,variant:v,mod:y,..._}=F("InputLabel",Yw,r),S=se({name:["InputWrapper",g],props:r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"label",vars:c,varsResolver:s2}),b=Pu(),C=(b==null?void 0:b.getStyles)||S;return h.jsxs(N,{...C("label",b!=null&&b.getStyles?{className:s,style:i}:void 0),component:l,variant:v,size:d,ref:t,htmlFor:l==="label"?f:void 0,mod:[{required:u},y],onMouseDown:x=>{p==null||p(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},..._,children:[m,u&&h.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});Lu.classes=kr;Lu.displayName="@mantine/core/InputLabel";const Xw={},Vg=q((e,t)=>{const r=F("InputPlaceholder",Xw,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,__staticSelector:l,variant:d,error:u,mod:f,...p}=F("InputPlaceholder",Xw,r),m=se({name:["InputPlaceholder",l],props:r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,rootSelector:"placeholder"});return h.jsx(N,{...m("placeholder"),mod:[{error:!!u},f],component:"span",variant:d,ref:t,...p})});Vg.classes=kr;Vg.displayName="@mantine/core/InputPlaceholder";function i2(e,{hasDescription:t,hasError:r}){const n=e.findIndex(c=>c==="input"),s=e.slice(0,n),i=e.slice(n+1),o=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&i.includes("description")||r&&i.includes("error"),offsetTop:o}}const o2={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},a2=(e,{size:t})=>({label:{"--input-label-size":br(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${br(t)} - ${D(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${br(t)} - ${D(2)})`}}),Hg=q((e,t)=>{const r=F("InputWrapper",o2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,size:l,variant:d,__staticSelector:u,inputContainer:f,inputWrapperOrder:p,label:m,error:g,description:v,labelProps:y,descriptionProps:_,errorProps:S,labelElement:b,children:C,withAsterisk:x,id:E,required:R,__stylesApiProps:P,mod:L,...$}=r,B=se({name:["InputWrapper",u],props:P||r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:a2}),U={size:l,variant:d,__staticSelector:u},z=$o(E),K=typeof x=="boolean"?x:R,O=(S==null?void 0:S.id)||`${z}-error`,V=(_==null?void 0:_.id)||`${z}-description`,T=z,I=!!g&&typeof g!="boolean",j=!!v,M=`${I?O:""} ${j?V:""}`,H=M.trim().length>0?M.trim():void 0,J=(y==null?void 0:y.id)||`${z}-label`,he=m&&h.jsx(Lu,{labelElement:b,id:J,htmlFor:T,required:K,...U,...y,children:m},"label"),Te=j&&h.jsx(ku,{..._,...U,size:(_==null?void 0:_.size)||U.size,id:(_==null?void 0:_.id)||V,children:v},"description"),Pe=h.jsx(w.Fragment,{children:f(C)},"input"),de=I&&w.createElement(Du,{...S,...U,size:(S==null?void 0:S.size)||U.size,key:"error",id:(S==null?void 0:S.id)||O},g),mt=p.map(pr=>{switch(pr){case"label":return he;case"input":return Pe;case"description":return Te;case"error":return de;default:return null}});return h.jsx(e2,{value:{getStyles:B,describedBy:H,inputId:T,labelId:J,...i2(p,{hasDescription:j,hasError:I})},children:h.jsx(N,{ref:t,variant:d,size:l,mod:[{error:!!g},L],...B("root"),...$,children:mt})})});Hg.classes=kr;Hg.displayName="@mantine/core/InputWrapper";const c2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},l2=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ze(t.size,"input-height"),"--input-fz":br(t.size),"--input-radius":t.radius===void 0?void 0:Qt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?D(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?D(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?ze(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Rr=kt((e,t)=>{const r=F("Input",c2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,required:c,__staticSelector:l,__stylesApiProps:d,size:u,wrapperProps:f,error:p,disabled:m,leftSection:g,leftSectionProps:v,leftSectionWidth:y,rightSection:_,rightSectionProps:S,rightSectionWidth:b,rightSectionPointerEvents:C,leftSectionPointerEvents:x,variant:E,vars:R,pointer:P,multiline:L,radius:$,id:B,withAria:U,withErrorStyles:z,mod:K,inputSize:O,...V}=r,{styleProps:T,rest:I}=vg(V),j=Pu(),M={offsetBottom:j==null?void 0:j.offsetBottom,offsetTop:j==null?void 0:j.offsetTop},H=se({name:["Input",l],props:d||r,classes:kr,className:s,style:i,classNames:n,styles:o,unstyled:a,stylesCtx:M,rootSelector:"wrapper",vars:R,varsResolver:l2}),J=U?{required:c,disabled:m,"aria-invalid":!!p,"aria-describedby":j==null?void 0:j.describedBy,id:(j==null?void 0:j.inputId)||B}:{};return h.jsxs(N,{...H("wrapper"),...T,...f,mod:[{error:!!p&&z,pointer:P,disabled:m,multiline:L,"data-with-right-section":!!_,"data-with-left-section":!!g},K],variant:E,size:u,children:[g&&h.jsx("div",{...v,"data-position":"left",...H("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),children:g}),h.jsx(N,{component:"input",...I,...J,ref:t,required:c,mod:{disabled:m,error:!!p&&z},variant:E,__size:O,...H("input")}),_&&h.jsx("div",{...S,"data-position":"right",...H("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),children:_})]})});Rr.classes=kr;Rr.Wrapper=Hg;Rr.Label=Lu;Rr.Error=Du;Rr.Description=ku;Rr.Placeholder=Vg;Rr.displayName="@mantine/core/Input";function d2(e,t,r){const n=F(e,t,r),{label:s,description:i,error:o,required:a,classNames:c,styles:l,className:d,unstyled:u,__staticSelector:f,__stylesApiProps:p,errorProps:m,labelProps:g,descriptionProps:v,wrapperProps:y,id:_,size:S,style:b,inputContainer:C,inputWrapperOrder:x,withAsterisk:E,variant:R,vars:P,mod:L,...$}=n,{styleProps:B,rest:U}=vg($),z={label:s,description:i,error:o,required:a,classNames:c,className:d,__staticSelector:f,__stylesApiProps:p||n,errorProps:m,labelProps:g,descriptionProps:v,unstyled:u,styles:l,size:S,style:b,inputContainer:C,inputWrapperOrder:x,withAsterisk:E,variant:R,id:_,mod:L,...y};return{...U,classNames:c,styles:l,unstyled:u,wrapperProps:{...z,...B},inputProps:{required:a,classNames:c,styles:l,unstyled:u,size:S,__staticSelector:f,__stylesApiProps:p||n,error:o,variant:R,id:_}}}const u2={__staticSelector:"InputBase",withAria:!0},Bs=kt((e,t)=>{const{inputProps:r,wrapperProps:n,...s}=d2("InputBase",u2,e);return h.jsx(Rr.Wrapper,{...n,children:h.jsx(Rr,{...r,...s,ref:t})})});Bs.classes={...Rr.classes,...Rr.Wrapper.classes};Bs.displayName="@mantine/core/InputBase";const f2={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var mx={root:"m_8bffd616"};const p2={},Wn=kt((e,t)=>{const r=F("Flex",p2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,gap:l,rowGap:d,columnGap:u,align:f,justify:p,wrap:m,direction:g,...v}=r,y=se({name:"Flex",classes:mx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),_=Jt(),S=wg(),b=x1({styleProps:{gap:l,rowGap:d,columnGap:u,align:f,justify:p,wrap:m,direction:g},theme:_,data:f2});return h.jsxs(h.Fragment,{children:[b.hasResponsiveStyles&&h.jsx(wu,{selector:`.${S}`,styles:b.styles,media:b.media}),h.jsx(N,{ref:t,...y("root",{className:S,style:Oo(b.inlineStyles)}),...v})]})});Wn.classes=mx;Wn.displayName="@mantine/core/Flex";function gx({style:e,size:t=16,...r}){return h.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:D(t),height:D(t),display:"block"},...r,children:h.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}gx.displayName="@mantine/core/AccordionChevron";var vx={root:"m_7f854edf"};const h2={position:{bottom:0,right:0},zIndex:Gn("modal"),withinPortal:!0},m2=(e,{zIndex:t,position:r})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":D(r==null?void 0:r.top),"--affix-left":D(r==null?void 0:r.left),"--affix-bottom":D(r==null?void 0:r.bottom),"--affix-right":D(r==null?void 0:r.right)}}),Wg=q((e,t)=>{const r=F("Affix",h2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,portalProps:l,zIndex:d,withinPortal:u,position:f,...p}=r,m=se({name:"Affix",classes:vx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:m2});return h.jsx(Rc,{...l,withinPortal:u,children:h.jsx(N,{ref:t,...m("root"),...p})})});Wg.classes=vx;Wg.displayName="@mantine/core/Affix";var yx={root:"m_b6d8b162"};function g2(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const v2={inherit:!1},y2=(e,{variant:t,lineClamp:r,gradient:n,size:s,color:i})=>({root:{"--text-fz":br(s),"--text-lh":pk(s),"--text-gradient":t==="gradient"?Mh(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":i?Sn(i,e):void 0}}),we=kt((e,t)=>{const r=F("Text",v2,e),{lineClamp:n,truncate:s,inline:i,inherit:o,gradient:a,span:c,__staticSelector:l,vars:d,className:u,style:f,classNames:p,styles:m,unstyled:g,variant:v,mod:y,size:_,...S}=r,b=se({name:["Text",l],props:r,classes:yx,className:u,style:f,classNames:p,styles:m,unstyled:g,vars:d,varsResolver:y2});return h.jsx(N,{...b("root",{focusable:!0}),ref:t,component:c?"span":"p",variant:v,mod:[{"data-truncate":g2(s),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":o},y],size:_,...S})});we.classes=yx;we.displayName="@mantine/core/Text";function wx(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>wx(t))}:e}function w2(e){return e?e.map(t=>wx(t)):[]}function Sx(e){return e.reduce((t,r)=>"group"in r?{...t,...Sx(r.items)}:(t[r.value]=r,t),{})}var Xt={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const S2={error:null},_2=(e,{size:t})=>({chevron:{"--combobox-chevron-size":ze(t,"combobox-chevron-size")}}),qg=q((e,t)=>{const r=F("ComboboxChevron",S2,e),{size:n,error:s,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:d,mod:u,...f}=r,p=se({name:"ComboboxChevron",classes:Xt,props:r,style:i,className:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:_2,rootSelector:"chevron"});return h.jsx(N,{component:"svg",...f,...p("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},u],ref:t,children:h.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});qg.classes=Xt;qg.displayName="@mantine/core/ComboboxChevron";const[b2,Dr]=Kr("Combobox component was not found in tree"),_x=w.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...s},i)=>h.jsx(Uo,{ref:i,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{n(),r==null||r(o)}}));_x.displayName="@mantine/core/ComboboxClearButton";const x2={},Kg=q((e,t)=>{const{classNames:r,styles:n,className:s,style:i,hidden:o,...a}=F("ComboboxDropdown",x2,e),c=Dr();return h.jsx(Gr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:s,style:i,classNames:r,styles:n})})});Kg.classes=Xt;Kg.displayName="@mantine/core/ComboboxDropdown";const C2={refProp:"ref"},bx=q((e,t)=>{const{children:r,refProp:n}=F("ComboboxDropdownTarget",C2,e);if(Dr(),!No(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return h.jsx(Gr.Target,{ref:t,refProp:n,children:r})});bx.displayName="@mantine/core/ComboboxDropdownTarget";const R2={},Gg=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxEmpty",R2,e),c=Dr();return h.jsx(N,{ref:t,...c.getStyles("empty",{className:n,classNames:r,styles:i,style:s}),...a})});Gg.classes=Xt;Gg.displayName="@mantine/core/ComboboxEmpty";function Yg({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:s,autoComplete:i}){const o=Dr(),[a,c]=w.useState(null),l=u=>{if(e==null||e(u),!o.readOnly&&t){if(u.nativeEvent.isComposing)return;if(u.nativeEvent.code==="ArrowDown"&&(u.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),u.nativeEvent.code==="ArrowUp"&&(u.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()))),u.nativeEvent.code==="Enter"||u.nativeEvent.code==="NumpadEnter"){if(u.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(u.preventDefault(),o.store.clickSelectedOption()):s==="button"&&(u.preventDefault(),o.store.openDropdown("keyboard"))}u.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),u.nativeEvent.code==="Space"&&s==="button"&&(u.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:l}}const E2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},xx=q((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxEventsTarget",E2,e);if(!No(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=Dr(),u=Yg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c});return w.cloneElement(r,{...u,...l,[n]:Ut(t,d.store.targetRef,r==null?void 0:r.ref)})});xx.displayName="@mantine/core/ComboboxEventsTarget";const T2={},Xg=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxFooter",T2,e),c=Dr();return h.jsx(N,{ref:t,...c.getStyles("footer",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Xg.classes=Xt;Xg.displayName="@mantine/core/ComboboxFooter";const P2={},Qg=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,children:a,label:c,...l}=F("ComboboxGroup",P2,e),d=Dr();return h.jsxs(N,{ref:t,...d.getStyles("group",{className:n,classNames:r,style:s,styles:i}),...l,children:[c&&h.jsx("div",{...d.getStyles("groupLabel",{classNames:r,styles:i}),children:c}),a]})});Qg.classes=Xt;Qg.displayName="@mantine/core/ComboboxGroup";const k2={},Jg=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("ComboboxHeader",k2,e),c=Dr();return h.jsx(N,{ref:t,...c.getStyles("header",{className:n,classNames:r,style:s,styles:i}),...a,onMouseDown:l=>{l.preventDefault()}})});Jg.classes=Xt;Jg.displayName="@mantine/core/ComboboxHeader";function Cx({value:e,valuesDivider:t=",",...r}){return h.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}Cx.displayName="@mantine/core/ComboboxHiddenInput";const D2={},Zg=q((e,t)=>{const r=F("ComboboxOption",D2,e),{classNames:n,className:s,style:i,styles:o,vars:a,onClick:c,id:l,active:d,onMouseDown:u,onMouseOver:f,disabled:p,selected:m,mod:g,...v}=r,y=Dr(),_=w.useId(),S=l||_;return h.jsx(N,{...y.getStyles("option",{className:s,classNames:n,styles:o,style:i}),...v,ref:t,id:S,mod:["combobox-option",{"combobox-active":d,"combobox-disabled":p,"combobox-selected":m},g],role:"option",onClick:b=>{var C;p?b.preventDefault():((C=y.onOptionSubmit)==null||C.call(y,r.value,r),c==null||c(b))},onMouseDown:b=>{b.preventDefault(),u==null||u(b)},onMouseOver:b=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(b)}})});Zg.classes=Xt;Zg.displayName="@mantine/core/ComboboxOption";const L2={},ev=q((e,t)=>{const r=F("ComboboxOptions",L2,e),{classNames:n,className:s,style:i,styles:o,id:a,onMouseDown:c,labelledBy:l,...d}=r,u=Dr(),f=$o(a);return w.useEffect(()=>{u.store.setListId(f)},[f]),h.jsx(N,{ref:t,...u.getStyles("options",{className:s,style:i,classNames:n,styles:o}),...d,id:f,role:"listbox","aria-labelledby":l,onMouseDown:p=>{p.preventDefault(),c==null||c(p)}})});ev.classes=Xt;ev.displayName="@mantine/core/ComboboxOptions";const j2={withAriaAttributes:!0,withKeyboardNavigation:!0},tv=q((e,t)=>{const r=F("ComboboxSearch",j2,e),{classNames:n,styles:s,unstyled:i,vars:o,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:l,size:d,...u}=r,f=Dr(),p=f.getStyles("search"),m=Yg({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return h.jsx(Rr,{ref:Ut(t,f.store.searchRef),classNames:[{input:p.className},n],styles:[{input:p.style},s],size:d||f.size,...m,...u,__staticSelector:"Combobox"})});tv.classes=Xt;tv.displayName="@mantine/core/ComboboxSearch";const M2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Rx=q((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:s,withAriaAttributes:i,withExpandedAttribute:o,targetType:a,autoComplete:c,...l}=F("ComboboxTarget",M2,e);if(!No(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=Dr(),u=Yg({targetType:a,withAriaAttributes:i,withKeyboardNavigation:s,withExpandedAttribute:o,onKeyDown:r.props.onKeyDown,autoComplete:c}),f=w.cloneElement(r,{...u,...l});return h.jsx(Gr.Target,{ref:Ut(t,d.store.targetRef),children:f})});Rx.displayName="@mantine/core/ComboboxTarget";function I2(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function O2(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function N2(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Ex({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:s,loop:i=!0,scrollBehavior:o="instant"}={}){const[a,c]=js({value:t,defaultValue:e,finalValue:!1,onChange:r}),l=w.useRef(null),d=w.useRef(-1),u=w.useRef(null),f=w.useRef(null),p=w.useRef(-1),m=w.useRef(-1),g=w.useRef(-1),v=w.useCallback((O="unknown")=>{a||(c(!0),s==null||s(O))},[c,s,a]),y=w.useCallback((O="unknown")=>{a&&(c(!1),n==null||n(O))},[c,n,a]),_=w.useCallback((O="unknown")=>{a?y(O):v(O)},[y,v,a]),S=w.useCallback(()=>{const O=document.querySelector(`#${l.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),b=w.useCallback(O=>{const V=document.getElementById(l.current),T=V==null?void 0:V.querySelectorAll("[data-combobox-option]");if(!T)return null;const I=O>=T.length?0:O<0?T.length-1:O;return d.current=I,T!=null&&T[I]&&!T[I].hasAttribute("data-combobox-disabled")?(S(),T[I].setAttribute("data-combobox-selected","true"),T[I].setAttribute("aria-selected","true"),T[I].scrollIntoView({block:"nearest",behavior:o}),T[I].id):null},[o,S]),C=w.useCallback(()=>{const O=document.querySelector(`#${l.current} [data-combobox-active]`);if(O){const V=document.querySelectorAll(`#${l.current} [data-combobox-option]`),T=Array.from(V).findIndex(I=>I===O);return b(T)}return b(0)},[b]),x=w.useCallback(()=>b(O2(d.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),E=w.useCallback(()=>b(I2(d.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[b,i]),R=w.useCallback(()=>b(N2(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[b]),P=w.useCallback((O="selected",V)=>{g.current=window.setTimeout(()=>{var j;const T=document.querySelectorAll(`#${l.current} [data-combobox-option]`),I=Array.from(T).findIndex(M=>M.hasAttribute(`data-combobox-${O}`));d.current=I,V!=null&&V.scrollIntoView&&((j=T[I])==null||j.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),L=w.useCallback(()=>{d.current=-1,S()},[S]),$=w.useCallback(()=>{const O=document.querySelectorAll(`#${l.current} [data-combobox-option]`),V=O==null?void 0:O[d.current];V==null||V.click()},[]),B=w.useCallback(O=>{l.current=O},[]),U=w.useCallback(()=>{p.current=window.setTimeout(()=>u.current.focus(),0)},[]),z=w.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),K=w.useCallback(()=>d.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(m.current),window.clearTimeout(g.current)},[]),{dropdownOpened:a,openDropdown:v,closeDropdown:y,toggleDropdown:_,selectedOptionIndex:d.current,getSelectedOptionIndex:K,selectOption:b,selectFirstOption:R,selectActiveOption:C,selectNextOption:x,selectPreviousOption:E,resetSelectedOption:L,updateSelectedOptionIndex:P,listId:l.current,setListId:B,clickSelectedOption:$,searchRef:u,focusSearchInput:U,targetRef:f,focusTarget:z}}const $2={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},A2=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":br(t),"--combobox-option-padding":ze(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:D(r),"--combobox-option-fz":br(t),"--combobox-option-padding":ze(t,"combobox-option-padding")}});function Re(e){const t=F("Combobox",$2,e),{classNames:r,styles:n,unstyled:s,children:i,store:o,vars:a,onOptionSubmit:c,onClose:l,size:d,dropdownPadding:u,resetSelectionOnOptionHover:f,__staticSelector:p,readOnly:m,...g}=t,v=Ex(),y=o||v,_=se({name:p||"Combobox",classes:Xt,props:t,classNames:r,styles:n,unstyled:s,vars:a,varsResolver:A2}),S=()=>{l==null||l(),y.closeDropdown()};return h.jsx(b2,{value:{getStyles:_,store:y,onOptionSubmit:c,size:d,resetSelectionOnOptionHover:f,readOnly:m},children:h.jsx(Gr,{opened:y.dropdownOpened,...g,onChange:b=>!b&&S(),withRoles:!1,unstyled:s,children:i})})}const F2=e=>e;Re.extend=F2;Re.classes=Xt;Re.displayName="@mantine/core/Combobox";Re.Target=Rx;Re.Dropdown=Kg;Re.Options=ev;Re.Option=Zg;Re.Search=tv;Re.Empty=Gg;Re.Chevron=qg;Re.Footer=Xg;Re.Header=Jg;Re.EventsTarget=xx;Re.DropdownTarget=bx;Re.Group=Qg;Re.ClearButton=_x;Re.HiddenInput=Cx;function z2({size:e,style:t,...r}){const n=e!==void 0?{width:D(e),height:D(e),...t}:t;return h.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:h.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function ac(e){return"group"in e}function Tx({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),s=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(s.length===r)return s;ac(o)&&s.push({group:o.group,items:Tx({options:o.items,search:t,limit:r-s.length})}),ac(o)||o.label.toLowerCase().includes(n)&&s.push(o)}return s}function B2(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Px(e,t=new Set){if(Array.isArray(e))for(const r of e)if(ac(r))Px(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function U2(e,t){return Array.isArray(e)?e.includes(t):e===t}function kx({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:s,renderOption:i}){if(!ac(e)){const a=U2(r,e.value),c=t&&a&&h.jsx(z2,{className:Xt.optionsDropdownCheckIcon}),l=h.jsxs(h.Fragment,{children:[n==="left"&&c,h.jsx("span",{children:e.label}),n==="right"&&c]});return h.jsx(Re.Option,{value:e.value,disabled:e.disabled,className:Ft({[Xt.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):l})}const o=e.items.map(a=>h.jsx(kx,{data:a,value:r,unstyled:s,withCheckIcon:t,checkIconPosition:n,renderOption:i},a.value));return h.jsx(Re.Group,{label:e.group,children:o})}function V2({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:s,limit:i,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:l=!1,value:d,checkIconPosition:u,nothingFoundMessage:f,unstyled:p,labelId:m,renderOption:g,scrollAreaProps:v,"aria-label":y}){Px(e);const S=typeof s=="string"?(n||Tx)({options:e,search:c?s:"",limit:i??1/0}):e,b=B2(S),C=S.map(x=>h.jsx(kx,{data:x,withCheckIcon:l,value:d,checkIconPosition:u,unstyled:p,renderOption:g},ac(x)?x.group:x.value));return h.jsx(Re.Dropdown,{hidden:t||r&&b,children:h.jsxs(Re.Options,{labelledBy:m,"aria-label":y,children:[a?h.jsx(Yn.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...v,children:C}):C,b&&f&&h.jsx(Re.Empty,{children:f})]})})}const Dx=w.createContext(null),H2=Dx.Provider;function W2(){return{withinGroup:!!w.useContext(Dx)}}var ju={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const q2={},K2=(e,{spacing:t})=>({group:{"--ag-spacing":Nt(t)}}),rv=q((e,t)=>{const r=F("AvatarGroup",q2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,spacing:l,...d}=r,u=se({name:"AvatarGroup",classes:ju,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:K2,rootSelector:"group"});return h.jsx(H2,{value:!0,children:h.jsx(N,{ref:t,...u("group"),...d})})});rv.classes=ju;rv.displayName="@mantine/core/AvatarGroup";function G2(e){return h.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Lx(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}function Y2(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const X2=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function Q2(e,t=X2){const r=Y2(Lx(e)),n=Math.abs(r)%t.length;return t[n]}const J2={},Z2=(e,{size:t,radius:r,variant:n,gradient:s,color:i,autoContrast:o,name:a,allowedInitialsColors:c})=>{const l=i==="initials"&&typeof a=="string"?Q2(a,c):i,d=e.variantColorResolver({color:l||"gray",theme:e,gradient:s,variant:n||"light",autoContrast:o});return{root:{"--avatar-size":ze(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:Qt(r),"--avatar-bg":l||n?d.background:void 0,"--avatar-color":l||n?d.color:void 0,"--avatar-bd":l||n?d.border:void 0}}},Er=kt((e,t)=>{const r=F("Avatar",J2,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,src:l,alt:d,radius:u,color:f,gradient:p,imageProps:m,children:g,autoContrast:v,mod:y,name:_,allowedInitialsColors:S,...b}=r,C=W2(),[x,E]=w.useState(!l),R=se({name:"Avatar",props:r,classes:ju,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:Z2});return w.useEffect(()=>E(!l),[l]),h.jsx(N,{...R("root"),mod:[{"within-group":C.withinGroup},y],ref:t,...b,children:x?h.jsx("span",{...R("placeholder"),title:d,children:g||typeof _=="string"&&Lx(_)||h.jsx(G2,{})}):h.jsx("img",{...m,...R("image"),src:l,alt:d,onError:P=>{var L;E(!0),(L=m==null?void 0:m.onError)==null||L.call(m,P)}})})});Er.classes=ju;Er.displayName="@mantine/core/Avatar";Er.Group=rv;var jx={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const eM={},tM=(e,{radius:t,color:r,gradient:n,variant:s,size:i,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:o});return{root:{"--badge-height":ze(i,"badge-height"),"--badge-padding-x":ze(i,"badge-padding-x"),"--badge-fz":ze(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Qt(t),"--badge-bg":r||s?a.background:void 0,"--badge-color":r||s?a.color:void 0,"--badge-bd":r||s?a.border:void 0,"--badge-dot-color":s==="dot"?Sn(r,e):void 0}}},Do=kt((e,t)=>{const r=F("Badge",eM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,radius:l,color:d,gradient:u,leftSection:f,rightSection:p,children:m,variant:g,fullWidth:v,autoContrast:y,circle:_,mod:S,...b}=r,C=se({name:"Badge",props:r,classes:jx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:tM});return h.jsxs(N,{variant:g,mod:[{block:v,circle:_,"with-right-section":!!p,"with-left-section":!!f},S],...C("root",{variant:g}),ref:t,...b,children:[f&&h.jsx("span",{...C("section"),"data-position":"left",children:f}),h.jsx("span",{...C("label"),children:m}),p&&h.jsx("span",{...C("section"),"data-position":"right",children:p})]})});Do.classes=jx;Do.displayName="@mantine/core/Badge";var Mu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Qw={orientation:"horizontal"},rM=(e,{borderWidth:t})=>({group:{"--button-border-width":D(t)}}),nv=q((e,t)=>{const r=F("ButtonGroup",Qw,e),{className:n,style:s,classNames:i,styles:o,unstyled:a,orientation:c,vars:l,borderWidth:d,variant:u,mod:f,...p}=F("ButtonGroup",Qw,e),m=se({name:"ButtonGroup",props:r,classes:Mu,className:n,style:s,classNames:i,styles:o,unstyled:a,vars:l,varsResolver:rM,rootSelector:"group"});return h.jsx(N,{...m("group"),ref:t,variant:u,mod:[{"data-orientation":c},f],role:"group",...p})});nv.classes=Mu;nv.displayName="@mantine/core/ButtonGroup";const nM={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${D(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},sM={},iM=(e,{radius:t,color:r,gradient:n,variant:s,size:i,justify:o,autoContrast:a})=>{const c=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:s||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":ze(i,"button-height"),"--button-padding-x":ze(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?br(i.replace("compact-","")):br(i),"--button-radius":t===void 0?void 0:Qt(t),"--button-bg":r||s?c.background:void 0,"--button-hover":r||s?c.hover:void 0,"--button-color":c.color,"--button-bd":r||s?c.border:void 0,"--button-hover-color":r||s?c.hoverColor:void 0}}},xe=kt((e,t)=>{const r=F("Button",sM,e),{style:n,vars:s,className:i,color:o,disabled:a,children:c,leftSection:l,rightSection:d,fullWidth:u,variant:f,radius:p,loading:m,loaderProps:g,gradient:v,classNames:y,styles:_,unstyled:S,"data-disabled":b,autoContrast:C,mod:x,...E}=r,R=se({name:"Button",props:r,classes:Mu,className:i,style:n,classNames:y,styles:_,unstyled:S,vars:s,varsResolver:iM}),P=!!l,L=!!d;return h.jsxs(Fs,{ref:t,...R("root",{active:!a&&!m&&!b}),unstyled:S,variant:f,disabled:a||m,mod:[{disabled:a||b,loading:m,block:u,"with-left-section":P,"with-right-section":L},x],...E,children:[h.jsx(zs,{mounted:!!m,transition:nM,duration:150,children:$=>h.jsx(N,{component:"span",...R("loader",{style:$}),"aria-hidden":!0,children:h.jsx(Bo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})})}),h.jsxs("span",{...R("inner"),children:[l&&h.jsx(N,{component:"span",...R("section"),mod:{position:"left"},children:l}),h.jsx(N,{component:"span",mod:{loading:m},...R("label"),children:c}),d&&h.jsx(N,{component:"span",...R("section"),mod:{position:"right"},children:d})]})]})});xe.classes=Mu;xe.displayName="@mantine/core/Button";xe.Group=nv;const[oM,aM]=Kr("Card component was not found in tree");var sv={root:"m_e615b15f",section:"m_599a2148"};const cM={},Iu=kt((e,t)=>{const r=F("CardSection",cM,e),{classNames:n,className:s,style:i,styles:o,vars:a,withBorder:c,inheritPadding:l,mod:d,...u}=r,f=aM();return h.jsx(N,{ref:t,mod:[{"with-border":c,"inherit-padding":l},d],...f.getStyles("section",{className:s,style:i,styles:o,classNames:n}),...u})});Iu.classes=sv;Iu.displayName="@mantine/core/CardSection";const lM={},dM=(e,{padding:t})=>({root:{"--card-padding":Nt(t)}}),Ec=kt((e,t)=>{const r=F("Card",lM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,children:l,padding:d,...u}=r,f=se({name:"Card",props:r,classes:sv,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:dM}),p=w.Children.toArray(l),m=p.map((g,v)=>typeof g=="object"&&g&&"type"in g&&g.type===Iu?w.cloneElement(g,{"data-first-section":v===0||void 0,"data-last-section":v===p.length-1||void 0}):g);return h.jsx(oM,{value:{getStyles:f},children:h.jsx(xc,{ref:t,unstyled:a,...f("root"),...u,children:m})})});Ec.classes=sv;Ec.displayName="@mantine/core/Card";Ec.Section=Iu;var Mx={root:"m_e2125a27",closeButton:"m_5abab665"};const uM={shadow:"md",p:"md",withBorder:!1,transitionProps:{transition:"pop-top-right",duration:200},position:{bottom:30,right:30}},fM=(e,{size:t})=>({root:{"--dialog-size":ze(t,"dialog-size")}}),iv=q((e,t)=>{const r=F("Dialog",uM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,zIndex:l,position:d,keepMounted:u,opened:f,transitionProps:p,withCloseButton:m,withinPortal:g,children:v,onClose:y,portalProps:_,...S}=r,b=se({name:"Dialog",classes:Mx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:fM});return h.jsx(Wg,{zIndex:l,position:d,ref:t,withinPortal:g,portalProps:_,unstyled:a,children:h.jsx(zs,{keepMounted:u,mounted:f,...p,children:C=>h.jsxs(xc,{unstyled:a,...b("root",{style:C}),...S,children:[m&&h.jsx(Uo,{onClick:y,unstyled:a,...b("closeButton")}),v]})})})});iv.classes=Mx;iv.displayName="@mantine/core/Dialog";var Ix={root:"m_3eebeb36",label:"m_9e365f20"};const pM={orientation:"horizontal"},hM=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?Sn(t,e):void 0,"--divider-border-style":r,"--divider-size":ze(n,"divider-size")}}),Tr=q((e,t)=>{const r=F("Divider",pM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,color:l,orientation:d,label:u,labelPosition:f,mod:p,...m}=r,g=se({name:"Divider",classes:Ix,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:hM});return h.jsx(N,{ref:t,mod:[{orientation:d,"with-label":!!u},p],...g("root"),...m,role:"separator",children:u&&h.jsx(N,{component:"span",mod:{position:f},...g("label"),children:u})})});Tr.classes=Ix;Tr.displayName="@mantine/core/Divider";const[mM,Vo]=Kr("Drawer component was not found in tree");var Qn={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const gM={},Ou=q((e,t)=>{const r=F("DrawerBody",gM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx($g,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});Ou.classes=Qn;Ou.displayName="@mantine/core/DrawerBody";const vM={},Nu=q((e,t)=>{const r=F("DrawerCloseButton",vM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Ag,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Nu.classes=Qn;Nu.displayName="@mantine/core/DrawerCloseButton";const yM={},$u=q((e,t)=>{const r=F("DrawerContent",yM,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,radius:l,...d}=r,u=Vo(),f=u.scrollAreaComponent||hx;return h.jsx(Fg,{...u.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:u.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),ref:t,...d,radius:l||u.radius||0,children:h.jsx(f,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:c})})});$u.classes=Qn;$u.displayName="@mantine/core/DrawerContent";const wM={},Au=q((e,t)=>{const r=F("DrawerHeader",wM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(zg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Au.classes=Qn;Au.displayName="@mantine/core/DrawerHeader";const SM={},Fu=q((e,t)=>{const r=F("DrawerOverlay",SM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Bg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});Fu.classes=Qn;Fu.displayName="@mantine/core/DrawerOverlay";function _M(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function bM(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const xM={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},CM={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},RM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gn("modal"),position:"left"},EM=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":ze(r,"drawer-size"),"--drawer-flex":bM(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":_M(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":D(n)}}),zu=q((e,t)=>{const r=F("DrawerRoot",RM,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,scrollAreaComponent:l,position:d,transitionProps:u,radius:f,...p}=r,{dir:m}=hi(),g=se({name:"Drawer",classes:Qn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:EM}),v=(m==="rtl"?CM:xM)[d];return h.jsx(mM,{value:{scrollAreaComponent:l,getStyles:g,radius:f},children:h.jsx(Ng,{ref:t,...g("root"),transitionProps:{transition:v,...u},unstyled:a,...p})})});zu.classes=Qn;zu.displayName="@mantine/core/DrawerRoot";const TM={},Bu=q((e,t)=>{const r=F("DrawerTitle",TM,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Vo();return h.jsx(Ug,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Bu.classes=Qn;Bu.displayName="@mantine/core/DrawerTitle";const PM={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gn("modal"),withOverlay:!0,withCloseButton:!0},Yr=q((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,...c}=F("Drawer",PM,e),l=!!r||i;return h.jsxs(zu,{ref:t,...c,children:[n&&h.jsx(Fu,{...s}),h.jsxs($u,{children:[l&&h.jsxs(Au,{children:[r&&h.jsx(Bu,{children:r}),i&&h.jsx(Nu,{...o})]}),h.jsx(Ou,{children:a})]})]})});Yr.classes=Qn;Yr.displayName="@mantine/core/Drawer";Yr.Root=zu;Yr.Overlay=Fu;Yr.Content=$u;Yr.Body=Ou;Yr.Header=Au;Yr.Title=Bu;Yr.CloseButton=Nu;function kM({open:e,close:t,openDelay:r,closeDelay:n}){const s=w.useRef(-1),i=w.useRef(-1),o=()=>{window.clearTimeout(s.current),window.clearTimeout(i.current)},a=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)},c=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:c}}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(null,arguments)}function ov(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}var DM=w.useLayoutEffect,LM=function(t){var r=w.useRef(t);return DM(function(){r.current=t}),r},Jw=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},jM=function(t,r){var n=w.useRef();return w.useCallback(function(s){t.current=s,n.current&&Jw(n.current,null),n.current=r,r&&Jw(r,s)},[r])},Zw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},MM=function(t){Object.keys(Zw).forEach(function(r){t.style.setProperty(r,Zw[r],"important")})},eS=MM,It=null,tS=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function IM(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),It||(It=document.createElement("textarea"),It.setAttribute("tabindex","-1"),It.setAttribute("aria-hidden","true"),eS(It)),It.parentNode===null&&document.body.appendChild(It);var s=e.paddingSize,i=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var p=f;It.style[p]=o[p]}),eS(It),It.value=t;var c=tS(It,e);It.value=t,c=tS(It,e),It.value="x";var l=It.scrollHeight-s,d=l*r;a==="border-box"&&(d=d+s+i),c=Math.max(d,c);var u=l*n;return a==="border-box"&&(u=u+s+i),c=Math.min(u,c),[c,l]}var rS=function(){},OM=function(t,r){return t.reduce(function(n,s){return n[s]=r[s],n},{})},NM=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],$M=!!document.documentElement.currentStyle,AM=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=OM(NM,r),s=n.boxSizing;if(s==="")return null;$M&&s==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var i=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),o=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:i,borderSize:o}},FM=AM;function Ox(e,t,r){var n=LM(r);w.useLayoutEffect(function(){var s=function(o){return n.current(o)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var zM=function(t){Ox(window,"resize",t)},BM=function(t){Ox(document.fonts,"loadingdone",t)},UM=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],VM=function(t,r){var n=t.cacheMeasurements,s=t.maxRows,i=t.minRows,o=t.onChange,a=o===void 0?rS:o,c=t.onHeightChange,l=c===void 0?rS:c,d=ov(t,UM),u=d.value!==void 0,f=w.useRef(null),p=jM(f,r),m=w.useRef(0),g=w.useRef(),v=function(){var S=f.current,b=n&&g.current?g.current:FM(S);if(b){g.current=b;var C=IM(b,S.value||S.placeholder||"x",i,s),x=C[0],E=C[1];m.current!==x&&(m.current=x,S.style.setProperty("height",x+"px","important"),l(x,{rowHeight:E}))}},y=function(S){u||v(),a(S)};return w.useLayoutEffect(v),zM(v),BM(v),w.createElement("textarea",Vd({},d,{onChange:y,ref:p}))},HM=w.forwardRef(VM);const WM={},av=q((e,t)=>{const{autosize:r,maxRows:n,minRows:s,__staticSelector:i,resize:o,...a}=F("Textarea",WM,e),c=r&&$k()!=="test",l=c?{maxRows:n,minRows:s}:{};return h.jsx(Bs,{component:c?HM:"textarea",ref:t,...a,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":o},...l})});av.classes=Bs.classes;av.displayName="@mantine/core/Textarea";const[qM,Tc]=Kr("Menu component was not found in the tree");var Ho={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const KM={},cv=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("MenuDivider",KM,e),c=Tc();return h.jsx(N,{ref:t,...c.getStyles("divider",{className:n,style:s,styles:i,classNames:r}),...a})});cv.classes=Ho;cv.displayName="@mantine/core/MenuDivider";const GM={},lv=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,onMouseEnter:a,onMouseLeave:c,onKeyDown:l,children:d,...u}=F("MenuDropdown",GM,e),f=w.useRef(null),p=Tc(),m=hn(l,y=>{var _,S;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(S=(_=f.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||S.focus())}),g=hn(a,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.openDropdown()),v=hn(c,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.closeDropdown());return h.jsxs(Gr.Dropdown,{...u,onMouseEnter:g,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Ut(t,f),...p.getStyles("dropdown",{className:n,style:s,styles:i,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[h.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),d]})});lv.classes=Ho;lv.displayName="@mantine/core/MenuDropdown";const YM={},dv=kt((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,color:a,closeMenuOnClick:c,leftSection:l,rightSection:d,children:u,disabled:f,...p}=F("MenuItem",YM,e),m=Tc(),g=Jt(),{dir:v}=hi(),y=w.useRef(),_=m.getItemIndex(y.current),S=p,b=hn(S.onMouseLeave,()=>m.setHovered(-1)),C=hn(S.onMouseEnter,()=>m.setHovered(m.getItemIndex(y.current))),x=hn(S.onClick,()=>{typeof c=="boolean"?c&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately()}),E=hn(S.onFocus,()=>m.setHovered(m.getItemIndex(y.current))),R=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,P=a?Ao({color:a,theme:g}):null;return h.jsxs(Fs,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:E,...m.getStyles("item",{className:n,style:s,styles:i,classNames:r}),ref:Ut(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":m.hovered===_?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:C,onMouseLeave:b,onClick:x,onKeyDown:c1({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:v,orientation:"vertical",onKeyDown:S.onKeyDown}),__vars:{"--menu-item-color":P!=null&&P.isThemeColor&&(P==null?void 0:P.shade)===void 0?`var(--mantine-color-${P.color}-6)`:R==null?void 0:R.color,"--menu-item-hover":R==null?void 0:R.hover},children:[l&&h.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"left",children:l}),u&&h.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:r}),children:u}),d&&h.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:r}),"data-position":"right",children:d})]})});dv.classes=Ho;dv.displayName="@mantine/core/MenuItem";const XM={},uv=q((e,t)=>{const{classNames:r,className:n,style:s,styles:i,vars:o,...a}=F("MenuLabel",XM,e),c=Tc();return h.jsx(N,{ref:t,...c.getStyles("label",{className:n,style:s,styles:i,classNames:r}),...a})});uv.classes=Ho;uv.displayName="@mantine/core/MenuLabel";const QM={refProp:"ref"},Nx=w.forwardRef((e,t)=>{const{children:r,refProp:n,...s}=F("MenuTarget",QM,e);if(!No(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Tc(),o=hn(r.props.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=hn(r.props.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=hn(r.props.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return h.jsx(Gr.Target,{refProp:n,popupType:"menu",ref:t,...s,children:w.cloneElement(r,{onClick:o,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});Nx.displayName="@mantine/core/MenuTarget";const JM={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function pt(e){const t=F("Menu",JM,e),{children:r,onOpen:n,onClose:s,opened:i,defaultOpened:o,trapFocus:a,onChange:c,closeOnItemClick:l,loop:d,closeOnEscape:u,trigger:f,openDelay:p,closeDelay:m,classNames:g,styles:v,unstyled:y,variant:_,vars:S,menuItemTabIndex:b,keepMounted:C,...x}=t,E=se({name:"Menu",classes:Ho,props:t,classNames:g,styles:v,unstyled:y}),[R,{setHovered:P,resetHovered:L}]=vk(),[$,B]=js({value:i,defaultValue:o,finalValue:!1,onChange:c}),[U,z]=w.useState(!1),K=()=>{B(!1),z(!1),$&&(s==null||s())},O=()=>{B(!0),!$&&(n==null||n())},V=()=>{$?K():O()},{openDropdown:T,closeDropdown:I}=kM({open:O,close:K,closeDelay:m,openDelay:p}),j=J=>gk("[data-menu-item]","[data-menu-dropdown]",J),{resolvedClassNames:M,resolvedStyles:H}=b1({classNames:g,styles:v,props:t});return Un(()=>{L()},[$]),h.jsx(qM,{value:{getStyles:E,opened:$,toggleDropdown:V,getItemIndex:j,hovered:R,setHovered:P,openedViaClick:U,setOpenedViaClick:z,closeOnItemClick:l,closeDropdown:f==="click"?K:I,openDropdown:f==="click"?O:T,closeDropdownImmediately:K,loop:d,trigger:f,unstyled:y,menuItemTabIndex:b},children:h.jsx(Gr,{...x,opened:$,onChange:V,defaultOpened:o,trapFocus:C?!1:a,closeOnEscape:u,__staticSelector:"Menu",classNames:M,styles:H,unstyled:y,variant:_,keepMounted:C,children:r})})}pt.extend=e=>e;pt.classes=Ho;pt.displayName="@mantine/core/Menu";pt.Item=dv;pt.Label=uv;pt.Dropdown=lv;pt.Target=Nx;pt.Divider=cv;const[ZM,Wo]=Kr("Modal component was not found in tree");var Jn={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const eI={},Uu=q((e,t)=>{const r=F("ModalBody",eI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx($g,{ref:t,...l.getStyles("body",{classNames:n,style:i,styles:o,className:s}),...c})});Uu.classes=Jn;Uu.displayName="@mantine/core/ModalBody";const tI={},Vu=q((e,t)=>{const r=F("ModalCloseButton",tI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Ag,{ref:t,...l.getStyles("close",{classNames:n,style:i,styles:o,className:s}),...c})});Vu.classes=Jn;Vu.displayName="@mantine/core/ModalCloseButton";const rI={},Hu=q((e,t)=>{const r=F("ModalContent",rI,e),{classNames:n,className:s,style:i,styles:o,vars:a,children:c,...l}=r,d=Wo(),u=d.scrollAreaComponent||hx;return h.jsx(Fg,{...d.getStyles("content",{className:s,style:i,styles:o,classNames:n}),innerProps:d.getStyles("inner",{className:s,style:i,styles:o,classNames:n}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:h.jsx(u,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${D(d.yOffset)} * 2))`},children:c})})});Hu.classes=Jn;Hu.displayName="@mantine/core/ModalContent";const nI={},Wu=q((e,t)=>{const r=F("ModalHeader",nI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(zg,{ref:t,...l.getStyles("header",{classNames:n,style:i,styles:o,className:s}),...c})});Wu.classes=Jn;Wu.displayName="@mantine/core/ModalHeader";const sI={},qu=q((e,t)=>{const r=F("ModalOverlay",sI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Bg,{ref:t,...l.getStyles("overlay",{classNames:n,style:i,styles:o,className:s}),...c})});qu.classes=Jn;qu.displayName="@mantine/core/ModalOverlay";const iI={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gn("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},oI=(e,{radius:t,size:r,yOffset:n,xOffset:s})=>({root:{"--modal-radius":t===void 0?void 0:Qt(t),"--modal-size":ze(r,"modal-size"),"--modal-y-offset":D(n),"--modal-x-offset":D(s)}}),Ku=q((e,t)=>{const r=F("ModalRoot",iI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,yOffset:l,scrollAreaComponent:d,radius:u,fullScreen:f,centered:p,xOffset:m,__staticSelector:g,...v}=r,y=se({name:g,classes:Jn,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:oI});return h.jsx(ZM,{value:{yOffset:l,scrollAreaComponent:d,getStyles:y,fullScreen:f},children:h.jsx(Ng,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":p||void 0,unstyled:a,...v})})});Ku.classes=Jn;Ku.displayName="@mantine/core/ModalRoot";const aI={},Gu=q((e,t)=>{const r=F("ModalTitle",aI,e),{classNames:n,className:s,style:i,styles:o,vars:a,...c}=r,l=Wo();return h.jsx(Ug,{ref:t,...l.getStyles("title",{classNames:n,style:i,styles:o,className:s}),...c})});Gu.classes=Jn;Gu.displayName="@mantine/core/ModalTitle";const cI={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Gn("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Lr=q((e,t)=>{const{title:r,withOverlay:n,overlayProps:s,withCloseButton:i,closeButtonProps:o,children:a,radius:c,...l}=F("Modal",cI,e),d=!!r||i;return h.jsxs(Ku,{ref:t,radius:c,...l,children:[n&&h.jsx(qu,{...s}),h.jsxs(Hu,{radius:c,children:[d&&h.jsxs(Wu,{children:[r&&h.jsx(Gu,{children:r}),i&&h.jsx(Vu,{...o})]}),h.jsx(Uu,{children:a})]})]})});Lr.classes=Jn;Lr.displayName="@mantine/core/Modal";Lr.Root=Ku;Lr.Overlay=qu;Lr.Content=Hu;Lr.Body=Uu;Lr.Header=Wu;Lr.Title=Gu;Lr.CloseButton=Vu;var $x={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const lI={},dI=(e,{variant:t,color:r,childrenOffset:n,autoContrast:s})=>{const i=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:s});return{root:{"--nl-bg":r||t?i.background:void 0,"--nl-hover":r||t?i.hover:void 0,"--nl-color":r||t?i.color:void 0},children:{"--nl-offset":Nt(n)}}},fv=kt((e,t)=>{const r=F("NavLink",lI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,opened:l,defaultOpened:d,onChange:u,children:f,onClick:p,active:m,disabled:g,leftSection:v,rightSection:y,label:_,description:S,disableRightSectionRotation:b,noWrap:C,childrenOffset:x,onKeyDown:E,autoContrast:R,mod:P,...L}=r,$=se({name:"NavLink",props:r,classes:$x,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:dI}),[B,U]=js({value:l,defaultValue:d,finalValue:!1,onChange:u}),z=!!f,K=O=>{p==null||p(O),z&&(O.preventDefault(),U(!B))};return h.jsxs(h.Fragment,{children:[h.jsxs(Fs,{...$("root"),component:"a",ref:t,onClick:K,onKeyDown:O=>{E==null||E(O),O.nativeEvent.code==="Space"&&z&&(O.preventDefault(),U(!B))},unstyled:a,mod:[{disabled:g,active:m,expanded:B},P],...L,children:[v&&h.jsx(N,{component:"span",...$("section"),mod:{position:"left"},children:v}),h.jsxs(N,{...$("body"),mod:{"no-wrap":C},children:[h.jsx(N,{component:"span",...$("label"),children:_}),h.jsx(N,{component:"span",mod:{active:m},...$("description"),children:S})]}),(z||y)&&h.jsx(N,{...$("section"),component:"span",mod:{rotate:B&&!b,position:"right"},children:z?y||h.jsx(gx,{...$("chevron")}):y})]}),h.jsx(Su,{in:B,...$("collapse"),children:h.jsx("div",{...$("children"),children:f})})]})});fv.classes=$x;fv.displayName="@mantine/core/NavLink";var Ax={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const uI={withCloseButton:!0},fI=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:Qt(t),"--notification-color":r?Sn(r,e):void 0}}),pv=q((e,t)=>{const r=F("Notification",uI,e),{className:n,color:s,radius:i,loading:o,withCloseButton:a,withBorder:c,title:l,icon:d,children:u,onClose:f,closeButtonProps:p,classNames:m,style:g,styles:v,unstyled:y,variant:_,vars:S,mod:b,...C}=r,x=se({name:"Notification",classes:Ax,props:r,className:n,style:g,classNames:m,styles:v,unstyled:y,vars:S,varsResolver:fI});return h.jsxs(N,{...x("root"),mod:[{"data-with-icon":!!d||o,"data-with-border":c},b],ref:t,variant:_,...C,role:"alert",children:[d&&!o&&h.jsx("div",{...x("icon"),children:d}),o&&h.jsx(Bo,{size:28,color:s,...x("loader")}),h.jsxs("div",{...x("body"),children:[l&&h.jsx("div",{...x("title"),children:l}),h.jsx(N,{...x("description"),mod:{"data-with-title":!!l},children:u})]}),a&&h.jsx(Uo,{iconSize:16,color:"gray",...p,unstyled:y,onClick:f,...x("closeButton")})]})});pv.classes=Ax;pv.displayName="@mantine/core/Notification";const pI={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},hv=q((e,t)=>{const r=F("Select",pI,e),{classNames:n,styles:s,unstyled:i,vars:o,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:l,onDropdownOpen:d,onFocus:u,onBlur:f,onClick:p,onChange:m,data:g,value:v,defaultValue:y,selectFirstOptionOnChange:_,onOptionSubmit:S,comboboxProps:b,readOnly:C,disabled:x,filter:E,limit:R,withScrollArea:P,maxDropdownHeight:L,size:$,searchable:B,rightSection:U,checkIconPosition:z,withCheckIcon:K,nothingFoundMessage:O,name:V,form:T,searchValue:I,defaultSearchValue:j,onSearchChange:M,allowDeselect:H,error:J,rightSectionPointerEvents:he,id:Te,clearable:Pe,clearButtonProps:de,hiddenInputProps:mt,renderOption:pr,onClear:hr,autoComplete:Xr,scrollAreaProps:Ze,...et}=r,Le=w.useMemo(()=>w2(g),[g]),ot=w.useMemo(()=>Sx(Le),[Le]),jr=$o(Te),[qe,bt,Be]=js({value:v,defaultValue:y,finalValue:null,onChange:m}),gt=typeof qe=="string"?ot[qe]:void 0,mr=Ok(gt),[Tn,Ae]=js({value:I,defaultValue:j,finalValue:gt?gt.label:"",onChange:M}),dt=Ex({opened:a,defaultOpened:c,onDropdownOpen:()=>{d==null||d(),dt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),dt.resetSelectedOption()}}),{resolvedClassNames:Us,resolvedStyles:oe}=b1({props:r,styles:s,classNames:n});w.useEffect(()=>{_&&dt.selectFirstOption()},[_,qe]),w.useEffect(()=>{v===null&&Ae(""),typeof v=="string"&&gt&&((mr==null?void 0:mr.value)!==gt.value||(mr==null?void 0:mr.label)!==gt.label)&&Ae(gt.label)},[v,gt]);const pe=Pe&&!!qe&&!x&&!C&&h.jsx(Re.ClearButton,{size:$,...de,onClear:()=>{bt(null,null),Ae(""),hr==null||hr()}});return h.jsxs(h.Fragment,{children:[h.jsxs(Re,{store:dt,__staticSelector:"Select",classNames:Us,styles:oe,unstyled:i,readOnly:C,onOptionSubmit:G=>{S==null||S(G);const ce=H&&ot[G].value===qe?null:ot[G],tr=ce?ce.value:null;tr!==qe&&bt(tr,ce),!Be&&Ae(typeof tr=="string"&&(ce==null?void 0:ce.label)||""),dt.closeDropdown()},size:$,...b,children:[h.jsx(Re.Target,{targetType:B?"input":"button",autoComplete:Xr,children:h.jsx(Bs,{id:jr,ref:t,rightSection:U||pe||h.jsx(Re.Chevron,{size:$,error:J,unstyled:i}),rightSectionPointerEvents:he||(pe?"all":"none"),...et,size:$,__staticSelector:"Select",disabled:x,readOnly:C||!B,value:Tn,onChange:G=>{Ae(G.currentTarget.value),dt.openDropdown(),_&&dt.selectFirstOption()},onFocus:G=>{B&&dt.openDropdown(),u==null||u(G)},onBlur:G=>{var ce;B&&dt.closeDropdown(),Ae(qe!=null&&((ce=ot[qe])==null?void 0:ce.label)||""),f==null||f(G)},onClick:G=>{B?dt.openDropdown():dt.toggleDropdown(),p==null||p(G)},classNames:Us,styles:oe,unstyled:i,pointer:!B,error:J})}),h.jsx(V2,{data:Le,hidden:C||x,filter:E,search:Tn,limit:R,hiddenWhenEmpty:!O,withScrollArea:P,maxDropdownHeight:L,filterOptions:B&&(gt==null?void 0:gt.label)!==Tn,value:qe,checkIconPosition:z,withCheckIcon:K,nothingFoundMessage:O,unstyled:i,labelId:et.label?`${jr}-label`:void 0,"aria-label":et.label?void 0:et["aria-label"],renderOption:pr,scrollAreaProps:Ze})]}),h.jsx(Re.HiddenInput,{value:qe,name:V,form:T,disabled:x,...mt})]})});hv.classes={...Bs.classes,...Re.classes};hv.displayName="@mantine/core/Select";function hI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var d;const s=Jt(),i=t===void 0?e:t,o=Oo({"--sg-spacing-x":Nt(mo(e)),"--sg-spacing-y":Nt(mo(i)),"--sg-cols":(d=mo(r))==null?void 0:d.toString()}),a=Gt(s.breakpoints).reduce((u,f)=>(u[f]||(u[f]={}),typeof e=="object"&&e[f]!==void 0&&(u[f]["--sg-spacing-x"]=Nt(e[f])),typeof i=="object"&&i[f]!==void 0&&(u[f]["--sg-spacing-y"]=Nt(i[f])),typeof r=="object"&&r[f]!==void 0&&(u[f]["--sg-cols"]=r[f]),u),{}),l=mk(Gt(a),s.breakpoints).filter(u=>Gt(a[u.value]).length>0).map(u=>({query:`(min-width: ${s.breakpoints[u.value]})`,styles:a[u.value]}));return h.jsx(wu,{styles:o,media:l,selector:n})}function gp(e){return typeof e=="object"&&e!==null?Gt(e):[]}function mI(e){return e.sort((t,r)=>sc(t)-sc(r))}function gI({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...gp(e),...gp(t),...gp(r)]));return mI(n)}function vI({spacing:e,verticalSpacing:t,cols:r,selector:n}){var l;const s=t===void 0?e:t,i=Oo({"--sg-spacing-x":Nt(mo(e)),"--sg-spacing-y":Nt(mo(s)),"--sg-cols":(l=mo(r))==null?void 0:l.toString()}),o=gI({spacing:e,verticalSpacing:t,cols:r}),a=o.reduce((d,u)=>(d[u]||(d[u]={}),typeof e=="object"&&e[u]!==void 0&&(d[u]["--sg-spacing-x"]=Nt(e[u])),typeof s=="object"&&s[u]!==void 0&&(d[u]["--sg-spacing-y"]=Nt(s[u])),typeof r=="object"&&r[u]!==void 0&&(d[u]["--sg-cols"]=r[u]),d),{}),c=o.map(d=>({query:`simple-grid (min-width: ${d})`,styles:a[d]}));return h.jsx(wu,{styles:i,container:c,selector:n})}var Fx={container:"m_925c2d2c",root:"m_2415a157"};const yI={cols:1,spacing:"md",type:"media"},mv=q((e,t)=>{const r=F("SimpleGrid",yI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,cols:l,verticalSpacing:d,spacing:u,type:f,...p}=r,m=se({name:"SimpleGrid",classes:Fx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c}),g=wg();return f==="container"?h.jsxs(h.Fragment,{children:[h.jsx(vI,{...r,selector:`.${g}`}),h.jsx("div",{...m("container"),children:h.jsx(N,{ref:t,...m("root",{className:g}),...p})})]}):h.jsxs(h.Fragment,{children:[h.jsx(hI,{...r,selector:`.${g}`}),h.jsx(N,{ref:t,...m("root",{className:g}),...p})]})});mv.classes=Fx;mv.displayName="@mantine/core/SimpleGrid";var zx={root:"m_18320242","skeleton-fade":"m_299c329c"};const wI={visible:!0,animate:!0},SI=(e,{width:t,height:r,radius:n,circle:s})=>({root:{"--skeleton-height":D(r),"--skeleton-width":D(s?r:t),"--skeleton-radius":s?"1000px":n===void 0?void 0:Qt(n)}}),$n=q((e,t)=>{const r=F("Skeleton",wI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,width:l,height:d,circle:u,visible:f,radius:p,animate:m,mod:g,...v}=r,y=se({name:"Skeleton",classes:zx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:SI});return h.jsx(N,{ref:t,...y("root"),mod:[{visible:f,animate:m},g],...v})});$n.classes=zx;$n.displayName="@mantine/core/Skeleton";const[_I,Yu]=Kr("SliderProvider was not found in tree"),Bx=w.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:s,radius:i,...o},a)=>{const{getStyles:c}=Yu();return h.jsx(N,{tabIndex:-1,variant:r,size:e,ref:a,...c("root"),...o})});Bx.displayName="@mantine/core/SliderRoot";const Ux=w.forwardRef(({max:e,min:t,value:r,position:n,label:s,dragging:i,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:c,labelAlwaysOn:l,thumbLabel:d,onFocus:u,onBlur:f,showLabelOnHover:p,isHovered:m,children:g=null,disabled:v},y)=>{const{getStyles:_}=Yu(),[S,b]=w.useState(!1),C=l||i||S||p&&m;return h.jsxs(N,{tabIndex:0,role:"slider","aria-label":d,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:y,__vars:{"--slider-thumb-offset":`${n}%`},..._("thumb",{focusable:!0}),mod:{dragging:i,disabled:v},onFocus:()=>{b(!0),typeof u=="function"&&u()},onBlur:()=>{b(!1),typeof f=="function"&&f()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:x=>x.stopPropagation(),children:[g,h.jsx(zs,{mounted:s!=null&&!!C,transition:"fade",duration:0,...c,children:x=>h.jsx("div",{..._("label",{style:x}),children:s})})]})});Ux.displayName="@mantine/core/SliderThumb";function Vx({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function bI({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function Hx({marks:e,min:t,max:r,disabled:n,value:s,offset:i,inverted:o}){const{getStyles:a}=Yu();if(!e)return null;const c=e.map((l,d)=>w.createElement(N,{...a("markWrapper"),__vars:{"--mark-offset":`${Vx({value:l.value,min:t,max:r})}%`},key:d},h.jsx(N,{...a("mark"),mod:{filled:bI({mark:l,value:s,offset:i,inverted:o}),disabled:n}}),l.label&&h.jsx("div",{...a("markLabel"),children:l.label})));return h.jsx("div",{children:c})}Hx.displayName="@mantine/core/SliderMarks";function Wx({filled:e,children:t,offset:r,disabled:n,marksOffset:s,inverted:i,containerProps:o,...a}){const{getStyles:c}=Yu();return h.jsx(N,{...c("trackContainer"),mod:{disabled:n},...o,children:h.jsxs(N,{...c("track"),mod:{inverted:i,disabled:n},children:[h.jsx(N,{mod:{inverted:i,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...c("bar")}),t,h.jsx(Hx,{...a,offset:s,disabled:n,inverted:i})]})})}Wx.displayName="@mantine/core/SliderTrack";function xI({value:e,containerWidth:t,min:r,max:n,step:s,precision:i}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),c=(a!==0?Math.round(a/s)*s:0)+r,l=Math.max(c,r);return i!==void 0?Number(l.toFixed(i)):l}function hl(e,t){return parseFloat(e.toFixed(t))}function CI(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var qx={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const RI={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},EI=(e,{size:t,color:r,thumbSize:n,radius:s})=>({root:{"--slider-size":ze(t,"slider-size"),"--slider-color":r?Sn(r,e):void 0,"--slider-radius":s===void 0?void 0:Qt(s),"--slider-thumb-size":n!==void 0?D(n):"calc(var(--slider-size) * 2)"}}),gv=q((e,t)=>{const r=F("Slider",RI,e),{classNames:n,styles:s,value:i,onChange:o,onChangeEnd:a,size:c,min:l,max:d,step:u,precision:f,defaultValue:p,name:m,marks:g,label:v,labelTransitionProps:y,labelAlwaysOn:_,thumbLabel:S,showLabelOnHover:b,thumbChildren:C,disabled:x,unstyled:E,scale:R,inverted:P,className:L,style:$,vars:B,hiddenInputProps:U,...z}=r,K=se({name:"Slider",props:r,classes:qx,classNames:n,className:L,styles:s,style:$,vars:B,varsResolver:EI,unstyled:E}),{dir:O}=hi(),[V,T]=w.useState(!1),[I,j]=js({value:typeof i=="number"?Aa(i,l,d):i,defaultValue:typeof p=="number"?Aa(p,l,d):p,finalValue:Aa(0,l,d),onChange:o}),M=w.useRef(I),H=w.useRef(),J=w.useRef(),he=Vx({value:I,min:l,max:d}),Te=R(I),Pe=typeof v=="function"?v(Te):v,de=f??CI(u),mt=w.useCallback(({x:Ze})=>{if(!x){const et=xI({value:Ze,min:l,max:d,step:u,precision:de});j(et),M.current=et}},[x,l,d,u,de,j]),{ref:pr,active:hr}=Ik(mt,{onScrubEnd:()=>a==null?void 0:a(M.current)},O),Xr=Ze=>{var et,Le,ot,jr,qe,bt;if(!x)switch(Ze.key){case"ArrowUp":{Ze.preventDefault(),(et=J.current)==null||et.focus();const Be=hl(Math.min(Math.max(I+u,l),d),de);j(Be),a==null||a(Be);break}case"ArrowRight":{Ze.preventDefault(),(Le=J.current)==null||Le.focus();const Be=hl(Math.min(Math.max(O==="rtl"?I-u:I+u,l),d),de);j(Be),a==null||a(Be);break}case"ArrowDown":{Ze.preventDefault(),(ot=J.current)==null||ot.focus();const Be=hl(Math.min(Math.max(I-u,l),d),de);j(Be),a==null||a(Be);break}case"ArrowLeft":{Ze.preventDefault(),(jr=J.current)==null||jr.focus();const Be=hl(Math.min(Math.max(O==="rtl"?I+u:I-u,l),d),de);j(Be),a==null||a(Be);break}case"Home":{Ze.preventDefault(),(qe=J.current)==null||qe.focus(),j(l),a==null||a(l);break}case"End":{Ze.preventDefault(),(bt=J.current)==null||bt.focus(),j(d),a==null||a(d);break}}};return h.jsx(_I,{value:{getStyles:K},children:h.jsxs(Bx,{...z,ref:Ut(t,H),onKeyDownCapture:Xr,onMouseDownCapture:()=>{var Ze;return(Ze=H.current)==null?void 0:Ze.focus()},size:c,disabled:x,children:[h.jsx(Wx,{inverted:P,offset:0,filled:he,marks:g,min:l,max:d,value:Te,disabled:x,containerProps:{ref:pr,onMouseEnter:b?()=>T(!0):void 0,onMouseLeave:b?()=>T(!1):void 0},children:h.jsx(Ux,{max:d,min:l,value:Te,position:he,dragging:hr,label:Pe,ref:J,labelTransitionProps:y,labelAlwaysOn:_,thumbLabel:S,showLabelOnHover:b,isHovered:V,disabled:x,children:C})}),h.jsx("input",{type:"hidden",name:m,value:Te,...U})]})})});gv.classes=qx;gv.displayName="@mantine/core/Slider";var Kx={root:"m_6d731127"};const TI={gap:"md",align:"stretch",justify:"flex-start"},PI=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":Nt(t),"--stack-align":r,"--stack-justify":n}}),$e=q((e,t)=>{const r=F("Stack",TI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,align:l,justify:d,gap:u,variant:f,...p}=r,m=se({name:"Stack",props:r,classes:Kx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:PI});return h.jsx(N,{ref:t,...m("root"),variant:f,...p})});$e.classes=Kx;$e.displayName="@mantine/core/Stack";const[kI,vv]=Kr("Tabs component was not found in the tree");var Pc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const DI={},yv=q((e,t)=>{const r=F("TabsList",DI,e),{children:n,className:s,grow:i,justify:o,classNames:a,styles:c,style:l,mod:d,...u}=r,f=vv();return h.jsx(N,{...u,...f.getStyles("list",{className:s,style:l,classNames:a,styles:c,props:r,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:i,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},d],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:n})});yv.classes=Pc;yv.displayName="@mantine/core/TabsList";const LI={},wv=q((e,t)=>{const r=F("TabsPanel",LI,e),{children:n,className:s,value:i,classNames:o,styles:a,style:c,mod:l,keepMounted:d,...u}=r,f=vv(),p=f.value===i,m=f.keepMounted||d||p?n:null;return h.jsx(N,{...u,...f.getStyles("panel",{className:s,classNames:o,styles:a,style:[c,p?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:f.orientation},l],role:"tabpanel",id:f.getPanelId(i),"aria-labelledby":f.getTabId(i),children:m})});wv.classes=Pc;wv.displayName="@mantine/core/TabsPanel";const jI={},Sv=q((e,t)=>{const r=F("TabsTab",jI,e),{className:n,children:s,rightSection:i,leftSection:o,value:a,onClick:c,onKeyDown:l,disabled:d,color:u,style:f,classNames:p,styles:m,vars:g,mod:v,...y}=r,_=Jt(),{dir:S}=hi(),b=vv(),C=a===b.value,x=R=>{b.onChange(b.allowTabDeactivation&&a===b.value?null:a),c==null||c(R)},E={classNames:p,styles:m,props:r};return h.jsxs(Fs,{...y,...b.getStyles("tab",{className:n,style:f,variant:b.variant,...E}),disabled:d,unstyled:b.unstyled,variant:b.variant,mod:[{active:C,disabled:d,orientation:b.orientation,inverted:b.inverted,placement:b.orientation==="vertical"&&b.placement},v],ref:t,role:"tab",id:b.getTabId(a),"aria-selected":C,tabIndex:C||b.value===null?0:-1,"aria-controls":b.getPanelId(a),onClick:x,__vars:{"--tabs-color":u?Sn(u,_):void 0},onKeyDown:c1({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:b.activateTabWithKeyboard,loop:b.loop,orientation:b.orientation||"horizontal",dir:S,onKeyDown:l}),children:[o&&h.jsx("span",{...b.getStyles("tabSection",E),"data-position":"left",children:o}),s&&h.jsx("span",{...b.getStyles("tabLabel",E),children:s}),i&&h.jsx("span",{...b.getStyles("tabSection",E),"data-position":"right",children:i})]})});Sv.classes=Pc;Sv.displayName="@mantine/core/TabsTab";const nS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",MI={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},II=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":Qt(t),"--tabs-color":Sn(r,e),"--tabs-text-color":TD(n,e)?y1({color:r,theme:e,autoContrast:n}):void 0}}),Ar=q((e,t)=>{const r=F("Tabs",MI,e),{defaultValue:n,value:s,onChange:i,orientation:o,children:a,loop:c,id:l,activateTabWithKeyboard:d,allowTabDeactivation:u,variant:f,color:p,radius:m,inverted:g,placement:v,keepMounted:y,classNames:_,styles:S,unstyled:b,className:C,style:x,vars:E,autoContrast:R,mod:P,...L}=r,$=$o(l),[B,U]=js({value:s,defaultValue:n,finalValue:null,onChange:i}),z=se({name:"Tabs",props:r,classes:Pc,className:C,style:x,classNames:_,styles:S,unstyled:b,vars:E,varsResolver:II});return h.jsx(kI,{value:{placement:v,value:B,orientation:o,id:$,loop:c,activateTabWithKeyboard:d,getTabId:bw(`${$}-tab`,nS),getPanelId:bw(`${$}-panel`,nS),onChange:U,allowTabDeactivation:u,variant:f,color:p,radius:m,inverted:g,keepMounted:y,unstyled:b,getStyles:z},children:h.jsx(N,{ref:t,id:$,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&g,placement:o==="vertical"&&v},P],...z("root"),...L,children:a})})});Ar.classes=Pc;Ar.displayName="@mantine/core/Tabs";Ar.Tab=Sv;Ar.Panel=wv;Ar.List=yv;const OI={},Yt=q((e,t)=>{const r=F("TextInput",OI,e);return h.jsx(Bs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Yt.classes=Bs.classes;Yt.displayName="@mantine/core/TextInput";const NI=["h1","h2","h3","h4","h5","h6"],$I=["xs","sm","md","lg","xl"];function AI(e,t){const r=t!==void 0?t:`h${e}`;return NI.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:$I.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:D(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Gx={root:"m_8a5d1357"};const FI={order:1},zI=(e,{order:t,size:r,lineClamp:n,textWrap:s})=>{const i=AI(t,r);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":s}}},Xu=q((e,t)=>{const r=F("Title",FI,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,order:c,vars:l,size:d,variant:u,lineClamp:f,textWrap:p,mod:m,...g}=r,v=se({name:"Title",props:r,classes:Gx,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:zI});return[1,2,3,4,5,6].includes(c)?h.jsx(N,{...v("root"),component:`h${c}`,variant:u,ref:t,mod:[{order:c,"data-line-clamp":typeof f=="number"},m],size:d,...g}):null});Xu.classes=Gx;Xu.displayName="@mantine/core/Title";function BI(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),n.forEach(i=>i(t))},initialize(s){r||(t=s,r=!0)},subscribe(s){return n.add(s),()=>n.delete(s)}}}function UI(e){return w.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function VI(e,t,r){const n=[],s=[],i={};for(const o of e){const a=o.position||t;i[a]=i[a]||0,i[a]+=1,i[a]<=r?s.push(o):n.push(o)}return{notifications:s,queue:n}}const HI=()=>BI({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),mi=HI(),WI=(e=mi)=>UI(e);function qo(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),s=VI(n,r.defaultPosition,r.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function qI(e,t=mi){const r=e.id||fg();return qo(t,n=>e.id&&n.some(s=>s.id===e.id)?n:[...n,{...e,id:r}]),r}function Yx(e,t=mi){return qo(t,r=>r.filter(n=>{var s;return n.id===e?((s=n.onClose)==null||s.call(n,n),!1):!0})),e}function KI(e,t=mi){return qo(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function GI(e=mi){qo(e,()=>[])}function YI(e=mi){qo(e,t=>t.slice(0,e.getState().limit))}const Is={show:qI,hide:Yx,update:KI,clean:GI,cleanQueue:YI,updateState:qo};function Uh(e,t){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uh(e,t)}function Xx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uh(e,t)}const sS={disabled:!1},Hd=nr.createContext(null);var XI=function(t){return t.scrollTop},Ra="unmounted",qs="exited",Ks="entering",Ki="entered",Vh="exiting",Zn=function(e){Xx(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?a?(c=qs,i.appearStatus=Ks):c=Ki:n.unmountOnExit||n.mountOnEnter?c=Ra:c=qs,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Ra?{status:qs}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Ks&&o!==Ki&&(i=Ks):(o===Ks||o===Ki)&&(i=Vh)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Ks){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ca.findDOMNode(this);o&&XI(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qs&&this.setState({status:Ra})},r.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[Ca.findDOMNode(this),a],l=c[0],d=c[1],u=this.getTimeouts(),f=a?u.appear:u.enter;if(!s&&!o||sS.disabled){this.safeSetState({status:Ki},function(){i.props.onEntered(l)});return}this.props.onEnter(l,d),this.safeSetState({status:Ks},function(){i.props.onEntering(l,d),i.onTransitionEnd(f,function(){i.safeSetState({status:Ki},function(){i.props.onEntered(l,d)})})})},r.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ca.findDOMNode(this);if(!i||sS.disabled){this.safeSetState({status:qs},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Vh},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:qs},function(){s.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ca.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],d=c[1];this.props.addEndListener(l,d)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===Ra)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ov(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nr.createElement(Hd.Provider,{value:null},typeof o=="function"?o(s,a):nr.cloneElement(nr.Children.only(o),a))},t}(nr.Component);Zn.contextType=Hd;Zn.propTypes={};function Ti(){}Zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ti,onEntering:Ti,onEntered:Ti,onExit:Ti,onExiting:Ti,onExited:Ti};Zn.UNMOUNTED=Ra;Zn.EXITED=qs;Zn.ENTERING=Ks;Zn.ENTERED=Ki;Zn.EXITING=Vh;function QI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e,t){var r=function(i){return t&&w.isValidElement(i)?t(i):i},n=Object.create(null);return e&&w.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function JI(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var o,a={};for(var c in t){if(n[c])for(o=0;o<n[c].length;o++){var l=n[c][o];a[n[c][o]]=r(l)}a[c]=r(c)}for(o=0;o<s.length;o++)a[s[o]]=r(s[o]);return a}function Zs(e,t,r){return r[t]!=null?r[t]:e.props[t]}function ZI(e,t){return _v(e.children,function(r){return w.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Zs(r,"appear",e),enter:Zs(r,"enter",e),exit:Zs(r,"exit",e)})})}function eO(e,t,r){var n=_v(e.children),s=JI(t,n);return Object.keys(s).forEach(function(i){var o=s[i];if(w.isValidElement(o)){var a=i in t,c=i in n,l=t[i],d=w.isValidElement(l)&&!l.props.in;c&&(!a||d)?s[i]=w.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:Zs(o,"exit",e),enter:Zs(o,"enter",e)}):!c&&a&&!d?s[i]=w.cloneElement(o,{in:!1}):c&&a&&w.isValidElement(l)&&(s[i]=w.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:Zs(o,"exit",e),enter:Zs(o,"enter",e)}))}}),s}var tO=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rO={component:"div",childFactory:function(t){return t}},ls=function(e){Xx(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=i.handleExited.bind(QI(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,c=i.firstRender;return{children:c?ZI(s,a):eO(s,o,a),firstRender:!1}},r.handleExited=function(s,i){var o=_v(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var c=Vd({},a.children);return delete c[s.key],{children:c}}))},r.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=ov(s,["component","childFactory"]),c=this.state.contextValue,l=tO(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?nr.createElement(Hd.Provider,{value:c},l):nr.createElement(Hd.Provider,{value:c},nr.createElement(i,a,l))},t}(nr.Component);ls.propTypes={};ls.defaultProps=rO;const Qx=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function nO(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),Qx.reduce((r,n)=>(r[n]=[],r),{}))}const iS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},sO={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function iO({state:e,maxHeight:t,position:r,transitionDuration:n}){const[s,i]=r.split("-"),o=i==="center"?`${s}-center`:i,a={opacity:0,maxHeight:t,transform:iS[o],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:sO[o]},l={opacity:0,maxHeight:0,transform:iS[o]};return{...a,...{entering:c,entered:c,exiting:l,exited:l}[e]}}function oO(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Jx=w.forwardRef(({data:e,onHide:t,autoClose:r,...n},s)=>{const{autoClose:i,message:o,...a}=e,c=oO(r,e.autoClose),l=w.useRef(),d=()=>window.clearTimeout(l.current),u=()=>{t(e.id),d()},f=()=>{typeof c=="number"&&(l.current=window.setTimeout(u,c))};return w.useEffect(()=>{var p;(p=e.onOpen)==null||p.call(e,e)},[]),w.useEffect(()=>(f(),d),[c]),h.jsx(pv,{...n,...a,onClose:u,ref:s,onMouseEnter:d,onMouseLeave:f,children:o})});Jx.displayName="@mantine/notifications/NotificationContainer";var Zx={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const aO=Zn,cO={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Gn("overlay"),store:mi,withinPortal:!0},lO=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":D(r)}}),es=q((e,t)=>{const r=F("Notifications",cO,e),{classNames:n,className:s,style:i,styles:o,unstyled:a,vars:c,position:l,autoClose:d,transitionDuration:u,containerWidth:f,notificationMaxHeight:p,limit:m,zIndex:g,store:v,portalProps:y,withinPortal:_,...S}=r,b=Jt(),C=WI(v),x=Dk(),E=vu(),R=w.useRef({}),P=w.useRef(0),$=(b.respectReducedMotion?E:!1)?1:u,B=se({name:"Notifications",classes:Zx,props:r,className:s,style:i,classNames:n,styles:o,unstyled:a,vars:c,varsResolver:lO});w.useEffect(()=>{v==null||v.updateState(K=>({...K,limit:m||5,defaultPosition:l}))},[m,l]),Un(()=>{C.notifications.length>P.current&&setTimeout(()=>x(),0),P.current=C.notifications.length},[C.notifications]);const U=nO(C.notifications,l),z=Qx.reduce((K,O)=>(K[O]=U[O].map(({style:V,...T})=>h.jsx(aO,{timeout:$,onEnter:()=>R.current[T.id].offsetHeight,nodeRef:{current:R.current[T.id]},children:I=>h.jsx(Jx,{ref:j=>{R.current[T.id]=j},data:T,onHide:j=>Yx(j,v),autoClose:d,...B("notification",{style:{...iO({state:I,position:O,transitionDuration:$,maxHeight:p}),...V}})})},T.id)),K),{});return h.jsxs(Rc,{withinPortal:_,...y,children:[h.jsx(N,{...B("root"),"data-position":"top-center",ref:t,...S,children:h.jsx(ls,{children:z["top-center"]})}),h.jsx(N,{...B("root"),"data-position":"top-left",...S,children:h.jsx(ls,{children:z["top-left"]})}),h.jsx(N,{...B("root"),"data-position":"top-right",...S,children:h.jsx(ls,{children:z["top-right"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-right",...S,children:h.jsx(ls,{children:z["bottom-right"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-left",...S,children:h.jsx(ls,{children:z["bottom-left"]})}),h.jsx(N,{...B("root"),"data-position":"bottom-center",...S,children:h.jsx(ls,{children:z["bottom-center"]})})]})});es.classes=Zx;es.displayName="@mantine/notifications/Notifications";es.show=Is.show;es.hide=Is.hide;es.update=Is.update;es.clean=Is.clean;es.cleanQueue=Is.cleanQueue;es.updateState=Is.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const oS="popstate";function dO(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:c=""}=gi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hh("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Wd(i))}function n(s,i){bv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return fO(t,r,n,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uO(){return Math.random().toString(36).substr(2,8)}function aS(e,t){return{usr:e.state,key:e.key,idx:t}}function Hh(e,t,r,n){return r===void 0&&(r=null),cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gi(t):t,{state:r,key:t&&t.key||n||uO()})}function Wd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ms.Pop,c=null,l=d();l==null&&(l=0,o.replaceState(cc({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function u(){a=ms.Pop;let v=d(),y=v==null?null:v-l;l=v,c&&c({action:a,location:g.location,delta:y})}function f(v,y){a=ms.Push;let _=Hh(g.location,v,y);r&&r(_,v),l=d()+1;let S=aS(_,l),b=g.createHref(_);try{o.pushState(S,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:a,location:g.location,delta:1})}function p(v,y){a=ms.Replace;let _=Hh(g.location,v,y);r&&r(_,v),l=d();let S=aS(_,l),b=g.createHref(_);o.replaceState(S,"",b),i&&c&&c({action:a,location:g.location,delta:0})}function m(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:Wd(v);return _=_.replace(/ $/,"%20"),st(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let g={get action(){return a},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(oS,u),c=v,()=>{s.removeEventListener(oS,u),c=null}},createHref(v){return t(s,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var cS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cS||(cS={}));function pO(e,t,r){return r===void 0&&(r="/"),hO(e,t,r,!1)}function hO(e,t,r,n){let s=typeof t=="string"?gi(t):t,i=xv(s.pathname||"/",r);if(i==null)return null;let o=eC(e);mO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=EO(i);a=CO(o[c],l,n)}return a}function eC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=Cs([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),eC(i.children,t,d,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:bO(l,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of tC(i.path))s(i,o,c)}),t}function tC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=tC(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function mO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gO=/^:[\w-]+$/,vO=3,yO=2,wO=1,SO=10,_O=-2,lS=e=>e==="*";function bO(e,t){let r=e.split("/"),n=r.length;return r.some(lS)&&(n+=_O),t&&(n+=yO),r.filter(s=>!lS(s)).reduce((s,i)=>s+(gO.test(i)?vO:i===""?wO:SO),n)}function xO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function CO(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],l=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",u=dS({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},d),f=c.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=dS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:Cs([i,u.pathname]),pathnameBase:DO(Cs([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Cs([i,u.pathnameBase]))}return o}function dS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((l,d,u)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[u]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[u];return p&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function RO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function EO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function TO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gi(e):e;return{pathname:r?r.startsWith("/")?r:PO(r,t):t,search:LO(n),hash:jO(s)}}function PO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rC(e,t){let r=kO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nC(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gi(e):(s=cc({},e),st(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let u=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;s.pathname=f.join("/")}a=u>=0?t[u]:"/"}let c=TO(s,a),l=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}const Cs=e=>e.join("/").replace(/\/\/+/g,"/"),DO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sC=["post","put","patch","delete"];new Set(sC);const IO=["get",...sC];new Set(IO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}const Cv=w.createContext(null),OO=w.createContext(null),vi=w.createContext(null),Qu=w.createContext(null),yi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),iC=w.createContext(null);function NO(e,t){let{relative:r}=t===void 0?{}:t;kc()||st(!1);let{basename:n,navigator:s}=w.useContext(vi),{hash:i,pathname:o,search:a}=aC(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Cs([n,o])),s.createHref({pathname:c,search:a,hash:i})}function kc(){return w.useContext(Qu)!=null}function Ju(){return kc()||st(!1),w.useContext(Qu).location}function oC(e){w.useContext(vi).static||w.useLayoutEffect(e)}function Dc(){let{isDataRoute:e}=w.useContext(yi);return e?YO():$O()}function $O(){kc()||st(!1);let e=w.useContext(Cv),{basename:t,future:r,navigator:n}=w.useContext(vi),{matches:s}=w.useContext(yi),{pathname:i}=Ju(),o=JSON.stringify(rC(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return oC(()=>{a.current=!0}),w.useCallback(function(l,d){if(d===void 0&&(d={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=nC(l,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Cs([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,o,i,e])}function aC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(vi),{matches:s}=w.useContext(yi),{pathname:i}=Ju(),o=JSON.stringify(rC(s,n.v7_relativeSplatPath));return w.useMemo(()=>nC(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function AO(e,t){return FO(e,t)}function FO(e,t,r,n){kc()||st(!1);let{navigator:s}=w.useContext(vi),{matches:i}=w.useContext(yi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=Ju(),d;if(t){var u;let v=typeof t=="string"?gi(t):t;c==="/"||(u=v.pathname)!=null&&u.startsWith(c)||st(!1),d=v}else d=l;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=pO(e,{pathname:p}),g=HO(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Cs([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Cs([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?w.createElement(Qu.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},g):g}function zO(){let e=GO(),t=MO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const BO=w.createElement(zO,null);class UO extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(yi.Provider,{value:this.props.routeContext},w.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VO(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Cv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(yi.Provider,{value:t},n)}function HO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||st(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:f,errors:p}=r,m=u.route.loader&&f[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,u,f)=>{let p,m=!1,g=null,v=null;r&&(p=a&&u.route.id?a[u.route.id]:void 0,g=u.route.errorElement||BO,c&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=u.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),_=()=>{let S;return p?S=g:m?S=v:u.route.Component?S=w.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=d,w.createElement(VO,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:S})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?w.createElement(UO,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var cC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cC||{}),qd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qd||{});function WO(e){let t=w.useContext(Cv);return t||st(!1),t}function qO(e){let t=w.useContext(OO);return t||st(!1),t}function KO(e){let t=w.useContext(yi);return t||st(!1),t}function lC(e){let t=KO(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function GO(){var e;let t=w.useContext(iC),r=qO(qd.UseRouteError),n=lC(qd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function YO(){let{router:e}=WO(cC.UseNavigateStable),t=lC(qd.UseNavigateStable),r=w.useRef(!1);return oC(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lc({fromRouteId:t},i)))},[e,t])}const uS={};function XO(e,t){uS[t]||(uS[t]=!0,console.warn(t))}const fS=(e,t,r)=>XO(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function QO(e,t){e!=null&&e.v7_startTransition||fS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&fS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ea(e){st(!1)}function JO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ms.Pop,navigator:i,static:o=!1,future:a}=e;kc()&&st(!1);let c=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:c,navigator:i,static:o,future:lc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=gi(n));let{pathname:d="/",search:u="",hash:f="",state:p=null,key:m="default"}=n,g=w.useMemo(()=>{let v=xv(d,c);return v==null?null:{location:{pathname:v,search:u,hash:f,state:p,key:m},navigationType:s}},[c,d,u,f,p,m,s]);return g==null?null:w.createElement(vi.Provider,{value:l},w.createElement(Qu.Provider,{children:r,value:g}))}function ZO(e){let{children:t,location:r}=e;return AO(Wh(t),r)}new Promise(()=>{});function Wh(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Wh(n.props.children,i));return}n.type!==Ea&&st(!1),!n.props.index||!n.props.children||st(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(this,arguments)}function eN(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rN(e,t){return e.button===0&&(!t||t==="_self")&&!tN(e)}const nN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sN="6";try{window.__reactRouterVersion=sN}catch{}const iN="startTransition",pS=fd[iN];function oN(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=dO({window:s,v5Compat:!0}));let o=i.current,[a,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},d=w.useCallback(u=>{l&&pS?pS(()=>c(u)):c(u)},[c,l]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>QO(n),[n]),w.createElement(JO,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const aN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hS=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:d,viewTransition:u}=t,f=eN(t,nN),{basename:p}=w.useContext(vi),m,g=!1;if(typeof l=="string"&&cN.test(l)&&(m=l,aN))try{let S=new URL(window.location.href),b=l.startsWith("//")?new URL(S.protocol+l):new URL(l),C=xv(b.pathname,p);b.origin===S.origin&&C!=null?l=C+b.search+b.hash:g=!0}catch{}let v=NO(l,{relative:s}),y=lN(l,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:u});function _(S){n&&n(S),S.defaultPrevented||y(S)}return w.createElement("a",qh({},f,{href:m||v,onClick:g||i?n:_,ref:r,target:c}))});var mS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mS||(mS={}));var gS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gS||(gS={}));function lN(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Dc(),l=Ju(),d=aC(e,{relative:o});return w.useCallback(u=>{if(rN(u,r)){u.preventDefault();let f=n!==void 0?n:Wd(l)===Wd(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,d,n,s,r,e,i,o,a])}const bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";const Gl=Object.create(null);Object.keys(bn).forEach(e=>{Gl[bn[e]]=e});const Kh={type:"error",data:"parser error"},dC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",uC=typeof ArrayBuffer=="function",fC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Rv=({type:e,data:t},r,n)=>dC&&t instanceof Blob?r?n(t):vS(t,n):uC&&(t instanceof ArrayBuffer||fC(t))?r?n(t):vS(new Blob([t]),n):n(bn[e]+(t||"")),vS=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function yS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yp;function dN(e,t){if(dC&&e.data instanceof Blob)return e.data.arrayBuffer().then(yS).then(t);if(uC&&(e.data instanceof ArrayBuffer||fC(e.data)))return t(yS(e.data));Rv(e,!1,r=>{yp||(yp=new TextEncoder),t(yp.encode(r))})}const wS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<wS.length;e++)Ta[wS.charCodeAt(e)]=e;const uN=e=>{let t=e.length*.75,r=e.length,n,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),d=new Uint8Array(l);for(n=0;n<r;n+=4)i=Ta[e.charCodeAt(n)],o=Ta[e.charCodeAt(n+1)],a=Ta[e.charCodeAt(n+2)],c=Ta[e.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|c&63;return l},fN=typeof ArrayBuffer=="function",Ev=(e,t)=>{if(typeof e!="string")return{type:"message",data:pC(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:pN(e.substring(1),t)}:Gl[r]?e.length>1?{type:Gl[r],data:e.substring(1)}:{type:Gl[r]}:Kh},pN=(e,t)=>{if(fN){const r=uN(e);return pC(r,t)}else return{base64:!0,data:e}},pC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},hC="",hN=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((i,o)=>{Rv(i,!1,a=>{n[o]=a,++s===r&&t(n.join(hC))})})},mN=(e,t)=>{const r=e.split(hC),n=[];for(let s=0;s<r.length;s++){const i=Ev(r[s],t);if(n.push(i),i.type==="error")break}return n};function gN(){return new TransformStream({transform(e,t){dN(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let wp;function ml(e){return e.reduce((t,r)=>t+r.length,0)}function gl(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function vN(e,t){wp||(wp=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(ml(r)<1)break;const c=gl(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ml(r)<2)break;const c=gl(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ml(r)<8)break;const c=gl(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Kh);break}s=d*Math.pow(2,32)+l.getUint32(4),n=3}else{if(ml(r)<s)break;const c=gl(r,s);a.enqueue(Ev(i?c:wp.decode(c),t)),n=0}if(s===0||s>e){a.enqueue(Kh);break}}}})}const mC=4;function nt(e){if(e)return yN(e)}function yN(e){for(var t in nt.prototype)e[t]=nt.prototype[t];return e}nt.prototype.on=nt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};nt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};nt.prototype.off=nt.prototype.removeListener=nt.prototype.removeAllListeners=nt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};nt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};nt.prototype.emitReserved=nt.prototype.emit;nt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};nt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Zu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),wr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wN="arraybuffer";function gC(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const SN=wr.setTimeout,_N=wr.clearTimeout;function ef(e,t){t.useNativeTimers?(e.setTimeoutFn=SN.bind(wr),e.clearTimeoutFn=_N.bind(wr)):(e.setTimeoutFn=wr.setTimeout.bind(wr),e.clearTimeoutFn=wr.clearTimeout.bind(wr))}const bN=1.33;function xN(e){return typeof e=="string"?CN(e):Math.ceil((e.byteLength||e.size)*bN)}function CN(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function vC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function RN(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function EN(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class TN extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Tv=class extends nt{constructor(t){super(),this.writable=!1,ef(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new TN(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Ev(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=RN(t);return r.length?"?"+r:""}};class PN extends Tv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mN(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hN(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=vC()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let yC=!1;try{yC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const kN=yC;function DN(){}class LN extends PN{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class yn extends nt{constructor(t,r,n){super(),this.createRequest=t,ef(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=gC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=yn.requestsCount++,yn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=DN,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yn.requestsCount=0;yn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",SS);else if(typeof addEventListener=="function"){const e="onpagehide"in wr?"pagehide":"unload";addEventListener(e,SS,!1)}}function SS(){for(let e in yn.requests)yn.requests.hasOwnProperty(e)&&yn.requests[e].abort()}const jN=function(){const e=wC({xdomain:!1});return e&&e.responseType!==null}();class MN extends LN{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=jN&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new yn(wC,this.uri(),t)}}function wC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||kN))return new XMLHttpRequest}catch{}if(!t)try{return new wr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const SC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class IN extends Tv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=SC?{}:gC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;Rv(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=vC()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Sp=wr.WebSocket||wr.MozWebSocket;class ON extends IN{createSocket(t,r,n){return SC?new Sp(t,r,n):r?new Sp(t,r):new Sp(t)}doWrite(t,r){this.ws.send(r)}}class NN extends Tv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=vN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=gN();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&Zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const $N={websocket:ON,webtransport:NN,polling:MN},AN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gh(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=AN.exec(e||""),i={},o=14;for(;o--;)i[FN[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=zN(i,i.path),i.queryKey=BN(i,i.query),i}function zN(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function BN(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Yh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Yl=[];Yh&&addEventListener("offline",()=>{Yl.forEach(e=>e())},!1);class Rs extends nt{constructor(t,r){if(super(),this.binaryType=wN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Gh(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Gh(r.host).host);ef(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=EN(this.opts.query)),Yh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Yl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=mC,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Rs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Rs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=xN(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Zu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Rs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Yl.indexOf(this._offlineEventListener);n!==-1&&Yl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Rs.protocol=mC;class UN extends Rs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Rs.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Rs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const o=u=>{const f=new Error("probe error: "+u);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function c(){o("socket closed")}function l(u){r&&u.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let VN=class extends UN{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>$N[s]).filter(s=>!!s)),super(t,n)}};function HN(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Gh(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const WN=typeof ArrayBuffer=="function",qN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,_C=Object.prototype.toString,KN=typeof Blob=="function"||typeof Blob<"u"&&_C.call(Blob)==="[object BlobConstructor]",GN=typeof File=="function"||typeof File<"u"&&_C.call(File)==="[object FileConstructor]";function Pv(e){return WN&&(e instanceof ArrayBuffer||qN(e))||KN&&e instanceof Blob||GN&&e instanceof File}function Xl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Xl(e[r]))return!0;return!1}if(Pv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Xl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Xl(e[r]))return!0;return!1}function YN(e){const t=[],r=e.data,n=e;return n.data=Xh(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Xh(e,t){if(!e)return e;if(Pv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Xh(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Xh(e[n],t));return r}return e}function XN(e,t){return e.data=Qh(e.data,t),delete e.attachments,e}function Qh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Qh(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Qh(e[r],t));return e}const QN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JN=5;var fe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class ZN{constructor(t){this.replacer=t}encode(t){return(t.type===fe.EVENT||t.type===fe.ACK)&&Xl(t)?this.encodeAsBinary({type:t.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=YN(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function _S(e){return Object.prototype.toString.call(e)==="[object Object]"}class kv extends nt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===fe.BINARY_EVENT;n||r.type===fe.BINARY_ACK?(r.type=n?fe.EVENT:fe.ACK,this.reconstructor=new e$(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Pv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===fe.BINARY_EVENT||n.type===fe.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(kv.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case fe.CONNECT:return _S(r);case fe.DISCONNECT:return r===void 0;case fe.CONNECT_ERROR:return typeof r=="string"||_S(r);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&QN.indexOf(r[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class e${constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=XN(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const t$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kv,Encoder:ZN,get PacketType(){return fe},protocol:JN},Symbol.toStringTag,{value:"Module"}));function Nr(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const r$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bC extends nt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nr(t,"open",this.onopen.bind(this)),Nr(t,"packet",this.onpacket.bind(this)),Nr(t,"error",this.onerror.bind(this)),Nr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,i;if(r$.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,u=r.pop();this._registerAckCallback(d,u),o.id=d}const a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case fe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(t);break;case fe.ACK:case fe.BINARY_ACK:this.onack(t);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:fe.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ko(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ko.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Ko.prototype.reset=function(){this.attempts=0};Ko.prototype.setMin=function(e){this.ms=e};Ko.prototype.setMax=function(e){this.max=e};Ko.prototype.setJitter=function(e){this.jitter=e};class Jh extends nt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ef(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ko({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||t$;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new VN(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Nr(r,"open",function(){n.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Nr(r,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nr(t,"ping",this.onping.bind(this)),Nr(t,"data",this.ondata.bind(this)),Nr(t,"error",this.onerror.bind(this)),Nr(t,"close",this.onclose.bind(this)),Nr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Zu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new bC(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ha={};function Ql(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=HN(e,t.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=ha[s]&&i in ha[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new Jh(n,t):(ha[s]||(ha[s]=new Jh(n,t)),c=ha[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Ql,{Manager:Jh,Socket:bC,io:Ql,connect:Ql});const ye=Ql("https://hitscord-backend.ru/mediasoup");ye.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var xC={},Zh={exports:{}},_p,bS;function n$(){if(bS)return _p;bS=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;_p=function(d,u){u=u||{};var f=typeof d;if(f==="string"&&d.length>0)return o(d);if(f==="number"&&isFinite(d))return u.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(u){var f=parseFloat(u[1]),p=(u[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(d){var u=Math.abs(d);return u>=n?Math.round(d/n)+"d":u>=r?Math.round(d/r)+"h":u>=t?Math.round(d/t)+"m":u>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var u=Math.abs(d);return u>=n?l(d,u,n,"day"):u>=r?l(d,u,r,"hour"):u>=t?l(d,u,t,"minute"):u>=e?l(d,u,e,"second"):d+" ms"}function l(d,u,f,p){var m=u>=f*1.5;return Math.round(d/f)+" "+p+(m?"s":"")}return _p}function s$(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=s,r.enabled=o,r.humanize=n$(),r.destroy=l,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let u=0;for(let f=0;f<d.length;f++)u=(u<<5)-u+d.charCodeAt(f),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=t;function r(d){let u,f=null,p,m;function g(...v){if(!g.enabled)return;const y=g,_=Number(new Date),S=_-(u||_);y.diff=S,y.prev=u,y.curr=_,u=_,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let b=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(x,E)=>{if(x==="%%")return"%";b++;const R=r.formatters[E];if(typeof R=="function"){const P=v[b];x=R.call(y,P),v.splice(b,1),b--}return x}),r.formatArgs.call(y,v),(y.log||r.log).apply(y,v)}return g.namespace=d,g.useColors=r.useColors(),g.color=r.selectColor(d),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(d)),m),set:v=>{f=v}}),typeof r.init=="function"&&r.init(g),g}function n(d,u){const f=r(this.namespace+(typeof u>"u"?":":u)+d);return f.log=this.log,f}function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let u;const f=(typeof d=="string"?d:"").split(/[\s,]+/),p=f.length;for(u=0;u<p;u++)f[u]&&(d=f[u].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...r.names.map(a),...r.skips.map(a).map(u=>"-"+u)].join(",");return r.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let u,f;for(u=0,f=r.skips.length;u<f;u++)if(r.skips[u].test(d))return!1;for(u=0,f=r.names.length;u<f;u++)if(r.names[u].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var i$=s$;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;l.splice(1,0,d,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(u++,p==="%c"&&(f=u))}),l.splice(f,0,d)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=i$(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Zh,Zh.exports);var tf=Zh.exports,Go={},em={exports:{}};(function(e,t){(function(r,n){var s="1.0.39",i="",o="?",a="function",c="undefined",l="object",d="string",u="major",f="model",p="name",m="type",g="vendor",v="version",y="architecture",_="console",S="mobile",b="tablet",C="smarttv",x="wearable",E="embedded",R=500,P="Amazon",L="Apple",$="ASUS",B="BlackBerry",U="Browser",z="Chrome",K="Edge",O="Firefox",V="Google",T="Huawei",I="LG",j="Microsoft",M="Motorola",H="Opera",J="Samsung",he="Sharp",Te="Sony",Pe="Xiaomi",de="Zebra",mt="Facebook",pr="Chromium OS",hr="Mac OS",Xr=" Browser",Ze=function(oe,pe){var G={};for(var ce in oe)pe[ce]&&pe[ce].length%2===0?G[ce]=pe[ce].concat(oe[ce]):G[ce]=oe[ce];return G},et=function(oe){for(var pe={},G=0;G<oe.length;G++)pe[oe[G].toUpperCase()]=oe[G];return pe},Le=function(oe,pe){return typeof oe===d?ot(pe).indexOf(ot(oe))!==-1:!1},ot=function(oe){return oe.toLowerCase()},jr=function(oe){return typeof oe===d?oe.replace(/[^\d\.]/g,i).split(".")[0]:n},qe=function(oe,pe){if(typeof oe===d)return oe=oe.replace(/^\s\s*/,i),typeof pe===c?oe:oe.substring(0,R)},bt=function(oe,pe){for(var G=0,ce,tr,Qr,Se,re,Jr;G<pe.length&&!re;){var Pf=pe[G],ny=pe[G+1];for(ce=tr=0;ce<Pf.length&&!re&&Pf[ce];)if(re=Pf[ce++].exec(oe),re)for(Qr=0;Qr<ny.length;Qr++)Jr=re[++tr],Se=ny[Qr],typeof Se===l&&Se.length>0?Se.length===2?typeof Se[1]==a?this[Se[0]]=Se[1].call(this,Jr):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===a&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=Jr?Se[1].call(this,Jr,Se[2]):n:this[Se[0]]=Jr?Jr.replace(Se[1],Se[2]):n:Se.length===4&&(this[Se[0]]=Jr?Se[3].call(this,Jr.replace(Se[1],Se[2])):n):this[Se]=Jr||n;G+=2}},Be=function(oe,pe){for(var G in pe)if(typeof pe[G]===l&&pe[G].length>0){for(var ce=0;ce<pe[G].length;ce++)if(Le(pe[G][ce],oe))return G===o?n:G}else if(Le(pe[G],oe))return G===o?n:G;return pe.hasOwnProperty("*")?pe["*"]:oe},gt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},mr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Tn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,H+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[p,H+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[p,H]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+U],v],[/\bfocus\/([\w\.]+)/i],[v,[p,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,H+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,H+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[v,[p,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+Xr]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Xr],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,J+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,mt],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,z+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,Be,gt]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/(wolvic)\/([\w\.]+)/i],[p,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,ot]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,i,ot]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,ot]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,J],[m,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,J],[m,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,L],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,L],[m,b]],[/(macintosh);/i],[f,[g,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,he],[m,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,T],[m,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,T],[m,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[g,Pe],[m,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,Pe],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,S]],[/\b(opd2\d{3}a?) bui/i],[f,[g,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,M],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,M],[m,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,I],[m,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,I],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,S]],[/(pixel c)\b/i],[f,[g,V],[m,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,V],[m,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,Te],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,Te],[m,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,P],[m,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,P],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,B],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,$],[m,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,$],[m,S]],[/(nexus 9)/i],[f,[g,"HTC"],[m,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,b]],[/(itel) ((\w+))/i],[[g,ot],f,[m,Be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,b]],[/(surface duo)/i],[f,[g,j],[m,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,S]],[/(u304aa)/i],[f,[g,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,b]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,b]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,b]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,b]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,b]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,S]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,b]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,b]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,b]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,b]],[/(sprint) (\w+)/i],[g,f,[m,S]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,j],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,de],[m,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,de],[m,S]],[/smart-tv.+(samsung)/i],[g,[m,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,J],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,I],[m,C]],[/(apple) ?tv/i],[g,[f,L+" TV"],[m,C]],[/crkey/i],[[f,z+"cast"],[g,V],[m,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,P],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,he],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,Te],[m,C]],[/(mitv-\w{5}) bui/i],[f,[g,Pe],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,qe],[f,qe],[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,_]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,_]],[/(playstation [345portablevi]+)/i],[f,[g,Te],[m,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,j],[m,_]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[g,J],[m,x]],[/((pebble))app/i],[g,f,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,L],[m,x]],[/droid.+; (glass) \d/i],[f,[g,V],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,de],[m,x]],[/(quest( \d| pro)?)/i],[f,[g,mt],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,E]],[/(aeobc)\b/i],[f,[g,P],[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,K+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,Be,mr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Be,mr],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,hr],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,B]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,pr],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},Ae=function(oe,pe){if(typeof oe===l&&(pe=oe,oe=n),!(this instanceof Ae))return new Ae(oe,pe).getResult();var G=typeof r!==c&&r.navigator?r.navigator:n,ce=oe||(G&&G.userAgent?G.userAgent:i),tr=G&&G.userAgentData?G.userAgentData:n,Qr=pe?Ze(Tn,pe):Tn,Se=G&&G.userAgent==ce;return this.getBrowser=function(){var re={};return re[p]=n,re[v]=n,bt.call(re,ce,Qr.browser),re[u]=jr(re[v]),Se&&G&&G.brave&&typeof G.brave.isBrave==a&&(re[p]="Brave"),re},this.getCPU=function(){var re={};return re[y]=n,bt.call(re,ce,Qr.cpu),re},this.getDevice=function(){var re={};return re[g]=n,re[f]=n,re[m]=n,bt.call(re,ce,Qr.device),Se&&!re[m]&&tr&&tr.mobile&&(re[m]=S),Se&&re[f]=="Macintosh"&&G&&typeof G.standalone!==c&&G.maxTouchPoints&&G.maxTouchPoints>2&&(re[f]="iPad",re[m]=b),re},this.getEngine=function(){var re={};return re[p]=n,re[v]=n,bt.call(re,ce,Qr.engine),re},this.getOS=function(){var re={};return re[p]=n,re[v]=n,bt.call(re,ce,Qr.os),Se&&!re[p]&&tr&&tr.platform&&tr.platform!="Unknown"&&(re[p]=tr.platform.replace(/chrome os/i,pr).replace(/macos/i,hr)),re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ce},this.setUA=function(re){return ce=typeof re===d&&re.length>R?qe(re,R):re,this},this.setUA(ce),this};Ae.VERSION=s,Ae.BROWSER=et([p,v,u]),Ae.CPU=et([y]),Ae.DEVICE=et([f,g,m,_,S,C,b,x,E]),Ae.ENGINE=Ae.OS=et([p,v]),e.exports&&(t=e.exports=Ae),t.UAParser=Ae;var dt=typeof r!==c&&(r.jQuery||r.Zepto);if(dt&&!dt.ua){var Us=new Ae;dt.ua=Us.getResult(),dt.ua.get=function(){return Us.getUA()},dt.ua.set=function(oe){Us.setUA(oe);var pe=Us.getResult();for(var G in pe)dt.ua[G]=pe[G]}}})(typeof window=="object"?window:k)})(em,em.exports);var o$=em.exports,We={},a$=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});We.Logger=void 0;const Pi=a$(tf),ki="mediasoup-client";let c$=class{constructor(t){t?(this._debug=(0,Pi.default)(`${ki}:${t}`),this._warn=(0,Pi.default)(`${ki}:WARN:${t}`),this._error=(0,Pi.default)(`${ki}:ERROR:${t}`)):(this._debug=(0,Pi.default)(ki),this._warn=(0,Pi.default)(`${ki}:WARN`),this._error=(0,Pi.default)(`${ki}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};We.Logger=c$;var Cn={},Dv={exports:{}},vo=typeof Reflect=="object"?Reflect:null,xS=vo&&typeof vo.apply=="function"?vo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Jl;vo&&typeof vo.ownKeys=="function"?Jl=vo.ownKeys:Object.getOwnPropertySymbols?Jl=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Jl=function(t){return Object.getOwnPropertyNames(t)};function l$(e){console&&console.warn&&console.warn(e)}var CC=Number.isNaN||function(t){return t!==t};function Ee(){Ee.init.call(this)}Dv.exports=Ee;Dv.exports.once=p$;Ee.EventEmitter=Ee;Ee.prototype._events=void 0;Ee.prototype._eventsCount=0;Ee.prototype._maxListeners=void 0;var CS=10;function rf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ee,"defaultMaxListeners",{enumerable:!0,get:function(){return CS},set:function(e){if(typeof e!="number"||e<0||CC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");CS=e}});Ee.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ee.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||CC(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function RC(e){return e._maxListeners===void 0?Ee.defaultMaxListeners:e._maxListeners}Ee.prototype.getMaxListeners=function(){return RC(this)};Ee.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")xS(c,this,r);else for(var l=c.length,d=DC(c,l),n=0;n<l;++n)xS(d[n],this,r);return!0};function EC(e,t,r,n){var s,i,o;if(rf(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),o===void 0)o=i[t]=r,++e._eventsCount;else if(typeof o=="function"?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=RC(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,l$(a)}return e}Ee.prototype.addListener=function(t,r){return EC(this,t,r,!1)};Ee.prototype.on=Ee.prototype.addListener;Ee.prototype.prependListener=function(t,r){return EC(this,t,r,!0)};function d$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function TC(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=d$.bind(n);return s.listener=r,n.wrapFn=s,s}Ee.prototype.once=function(t,r){return rf(r),this.on(t,TC(this,t,r)),this};Ee.prototype.prependOnceListener=function(t,r){return rf(r),this.prependListener(t,TC(this,t,r)),this};Ee.prototype.removeListener=function(t,r){var n,s,i,o,a;if(rf(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():u$(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Ee.prototype.off=Ee.prototype.removeListener;Ee.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function PC(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?f$(s):DC(s,s.length)}Ee.prototype.listeners=function(t){return PC(this,t,!0)};Ee.prototype.rawListeners=function(t){return PC(this,t,!1)};Ee.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):kC.call(e,t)};Ee.prototype.listenerCount=kC;function kC(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ee.prototype.eventNames=function(){return this._eventsCount>0?Jl(this._events):[]};function DC(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function u$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function f$(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function p$(e,t){return new Promise(function(r,n){function s(o){e.removeListener(t,i),n(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}LC(e,t,i,{once:!0}),t!=="error"&&h$(e,s,{once:!0})})}function h$(e,t,r){typeof e.on=="function"&&LC(e,"error",t,r)}function LC(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var m$=Dv.exports;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.EnhancedEventEmitter=void 0;const g$=m$,v$=We,y$=new v$.Logger("EnhancedEventEmitter");class w$ extends g$.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...r){return super.emit(t,...r)}safeEmit(t,...r){try{return super.emit(t,...r)}catch(n){y$.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,n);try{super.emit("listenererror",t,n)}catch{}return!!super.listenerCount(t)}}on(t,r){return super.on(t,r),this}off(t,r){return super.off(t,r),this}addListener(t,r){return super.on(t,r),this}prependListener(t,r){return super.prependListener(t,r),this}once(t,r){return super.once(t,r),this}prependOnceListener(t,r){return super.prependOnceListener(t,r),this}removeListener(t,r){return super.off(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}Cn.EnhancedEventEmitter=w$;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.InvalidStateError=it.UnsupportedError=void 0;class Lv extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Lv):this.stack=new Error(t).stack}}it.UnsupportedError=Lv;class jv extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,jv):this.stack=new Error(t).stack}}it.InvalidStateError=jv;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.clone=S$;Je.generateRandomNumber=_$;Je.deepFreeze=jC;function S$(e){if(e!==void 0)return Number.isNaN(e)?NaN:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}function _$(){return Math.round(Math.random()*1e7)}function jC(e){const t=Reflect.ownKeys(e);for(const r of t){const n=e[r];(n&&typeof n=="object"||typeof n=="function")&&jC(n)}return Object.freeze(e)}var De={},Ke={},nf={},b$=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nf,"__esModule",{value:!0});nf.Logger=void 0;const Di=b$(tf),Li="h264-profile-level-id";let x$=class{constructor(t){t?(this._debug=(0,Di.default)(`${Li}:${t}`),this._warn=(0,Di.default)(`${Li}:WARN:${t}`),this._error=(0,Di.default)(`${Li}:ERROR:${t}`)):(this._debug=(0,Di.default)(Li),this._warn=(0,Di.default)(`${Li}:WARN`),this._error=(0,Di.default)(`${Li}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};nf.Logger=x$;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.generateProfileLevelIdStringForAnswer=Ke.isSameProfile=Ke.parseSdpProfileLevelId=Ke.levelToString=Ke.profileToString=Ke.profileLevelIdToString=Ke.parseProfileLevelId=Ke.ProfileLevelId=Ke.Level=Ke.Profile=void 0;const C$=nf,Os=new C$.Logger;var ke;(function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"})(ke||(Ke.Profile=ke={}));var ne;(function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"})(ne||(Ke.Level=ne={}));class sf{constructor(t,r){this.profile=t,this.level=r}}Ke.ProfileLevelId=sf;const R$=new sf(ke.ConstrainedBaseline,ne.L3_1);class Pn{constructor(t){this.mask=~RS("x",t),this.masked_value=RS("1",t)}isMatch(t){return this.masked_value===(t&this.mask)}}class kn{constructor(t,r,n){this.profile_idc=t,this.profile_iop=r,this.profile=n}}const E$=[new kn(66,new Pn("x1xx0000"),ke.ConstrainedBaseline),new kn(77,new Pn("1xxx0000"),ke.ConstrainedBaseline),new kn(88,new Pn("11xx0000"),ke.ConstrainedBaseline),new kn(66,new Pn("x0xx0000"),ke.Baseline),new kn(88,new Pn("10xx0000"),ke.Baseline),new kn(77,new Pn("0x0x0000"),ke.Main),new kn(100,new Pn("00000000"),ke.High),new kn(100,new Pn("00001100"),ke.ConstrainedHigh),new kn(244,new Pn("00000000"),ke.PredictiveHigh444)];function MC(e){if(typeof e!="string"||e.length!==6)return;const r=parseInt(e,16);if(r===0)return;const n=r&255,s=r>>8&255,i=r>>16&255;let o;switch(n){case ne.L1_1:{o=s&16?ne.L1_b:ne.L1_1;break}case ne.L1:case ne.L1_2:case ne.L1_3:case ne.L2:case ne.L2_1:case ne.L2_2:case ne.L3:case ne.L3_1:case ne.L3_2:case ne.L4:case ne.L4_1:case ne.L4_2:case ne.L5:case ne.L5_1:case ne.L5_2:{o=n;break}default:{Os.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${n}]`);return}}for(const a of E$)if(i===a.profile_idc&&a.profile_iop.isMatch(s))return new sf(a.profile,o);Os.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${i}, profile_iop:${s}]`)}Ke.parseProfileLevelId=MC;function IC(e){if(e.level==ne.L1_b)switch(e.profile){case ke.ConstrainedBaseline:return"42f00b";case ke.Baseline:return"42100b";case ke.Main:return"4d100b";default:{Os.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`);return}}let t;switch(e.profile){case ke.ConstrainedBaseline:{t="42e0";break}case ke.Baseline:{t="4200";break}case ke.Main:{t="4d00";break}case ke.ConstrainedHigh:{t="640c";break}case ke.High:{t="6400";break}case ke.PredictiveHigh444:{t="f400";break}default:{Os.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`);return}}let r=e.level.toString(16);return r.length===1&&(r=`0${r}`),`${t}${r}`}Ke.profileLevelIdToString=IC;function T$(e){switch(e){case ke.ConstrainedBaseline:return"ConstrainedBaseline";case ke.Baseline:return"Baseline";case ke.Main:return"Main";case ke.ConstrainedHigh:return"ConstrainedHigh";case ke.High:return"High";case ke.PredictiveHigh444:return"PredictiveHigh444";default:{Os.warn(`profileToString() | unrecognized profile ${e}`);return}}}Ke.profileToString=T$;function P$(e){switch(e){case ne.L1_b:return"1b";case ne.L1:return"1";case ne.L1_1:return"1.1";case ne.L1_2:return"1.2";case ne.L1_3:return"1.3";case ne.L2:return"2";case ne.L2_1:return"2.1";case ne.L2_2:return"2.2";case ne.L3:return"3";case ne.L3_1:return"3.1";case ne.L3_2:return"3.2";case ne.L4:return"4";case ne.L4_1:return"4.1";case ne.L4_2:return"4.2";case ne.L5:return"5";case ne.L5_1:return"5.1";case ne.L5_2:return"5.2";default:{Os.warn(`levelToString() | unrecognized level ${e}`);return}}}Ke.levelToString=P$;function dc(e={}){const t=e["profile-level-id"];return t?MC(t):R$}Ke.parseSdpProfileLevelId=dc;function k$(e={},t={}){const r=dc(e),n=dc(t);return!!(r&&n&&r.profile===n.profile)}Ke.isSameProfile=k$;function D$(e={},t={}){if(!e["profile-level-id"]&&!t["profile-level-id"]){Os.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const r=dc(e),n=dc(t);if(!r)throw new TypeError("invalid local_profile_level_id");if(!n)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==n.profile)throw new TypeError("H264 Profile mismatch");const s=ES(e)&&ES(t),i=r.level,o=n.level,a=j$(i,o),c=s?i:a;return Os.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${r.profile}, level:${c}]`),IC(new sf(r.profile,c))}Ke.generateProfileLevelIdStringForAnswer=D$;function RS(e,t){return+(t[0]===e)<<7|+(t[1]===e)<<6|+(t[2]===e)<<5|+(t[3]===e)<<4|+(t[4]===e)<<3|+(t[5]===e)<<2|+(t[6]===e)<<1|+(t[7]===e)<<0}function L$(e,t){return e===ne.L1_b?t!==ne.L1&&t!==ne.L1_b:t===ne.L1_b?e!==ne.L1:e<t}function j$(e,t){return L$(e,t)?e:t}function ES(e={}){const t=e["level-asymmetry-allowed"];return t===!0||t===1||t==="1"}var M$=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I$=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M$(t,e,r);return I$(t,e),t};Object.defineProperty(De,"__esModule",{value:!0});De.validateRtpCapabilities=F$;De.validateRtpParameters=Mv;De.validateSctpStreamParameters=z$;De.validateSctpCapabilities=B$;De.getExtendedRtpCapabilities=U$;De.getRecvRtpCapabilities=V$;De.getSendingRtpParameters=H$;De.getSendingRemoteRtpParameters=W$;De.reduceCodecs=q$;De.generateProbatorRtpParameters=K$;De.canSend=G$;De.canReceive=Y$;const TS=OC(Ke),O$=OC(Je),N$="probator",$$=1234,A$=127;function F$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)X$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)Q$(t)}function Mv(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)J$(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)Z$(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)e3(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),t3(e.rtcp)}function z$(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}function B$(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");r3(e.numStreams)}function U$(e,t){const r={codecs:[],headerExtensions:[]};for(const n of t.codecs??[]){if(Fa(n))continue;const s=(e.codecs??[]).find(o=>$C(o,n,{strict:!0,modify:!0}));if(!s)continue;const i={mimeType:s.mimeType,kind:s.kind,clockRate:s.clockRate,channels:s.channels,localPayloadType:s.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:s.parameters,remoteParameters:n.parameters,rtcpFeedback:s3(s,n)};r.codecs.push(i)}for(const n of r.codecs){const s=e.codecs.find(o=>Fa(o)&&o.parameters.apt===n.localPayloadType),i=t.codecs.find(o=>Fa(o)&&o.parameters.apt===n.remotePayloadType);s&&i&&(n.localRtxPayloadType=s.preferredPayloadType,n.remoteRtxPayloadType=i.preferredPayloadType)}for(const n of t.headerExtensions){const s=e.headerExtensions.find(o=>n3(o,n));if(!s)continue;const i={kind:n.kind,uri:n.uri,sendId:s.preferredId,recvId:n.preferredId,encrypt:s.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":{i.direction="sendrecv";break}case"recvonly":{i.direction="sendonly";break}case"sendonly":{i.direction="recvonly";break}case"inactive":{i.direction="inactive";break}}r.headerExtensions.push(i)}return r}function V$(e){const t={codecs:[],headerExtensions:[]};for(const r of e.codecs){const n={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(t.codecs.push(n),!r.remoteRtxPayloadType)continue;const s={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};t.codecs.push(s)}for(const r of e.headerExtensions){if(r.direction!=="sendrecv"&&r.direction!=="recvonly")continue;const n={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};t.headerExtensions.push(n)}return t}function H$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}return r}function W$(e,t){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of t.codecs){if(n.kind!==e)continue;const s={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(s),n.localRtxPayloadType){const i={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(i)}}for(const n of t.headerExtensions){if(n.kind&&n.kind!==e||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const s={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(s)}if(r.headerExtensions.some(n=>n.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="goog-remb");else if(r.headerExtensions.some(n=>n.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc");else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback??[]).filter(s=>s.type!=="transport-cc"&&s.type!=="goog-remb");return r}function q$(e,t){const r=[];if(!t)r.push(e[0]),Fa(e[1])&&r.push(e[1]);else{for(let n=0;n<e.length;++n)if($C(e[n],t,{strict:!0})){r.push(e[n]),Fa(e[n+1])&&r.push(e[n+1]);break}if(r.length===0)throw new TypeError("no matching codec found")}return r}function K$(e){e=O$.clone(e),Mv(e);const t={mid:N$,codecs:[],headerExtensions:[],encodings:[{ssrc:$$}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=A$,t.headerExtensions=e.headerExtensions,t}function G$(e,t){return t.codecs.some(r=>r.kind===e)}function Y$(e,t){if(Mv(e),e.codecs.length===0)return!1;const r=e.codecs[0];return t.codecs.some(n=>n.remotePayloadType===r.payloadType)}function X$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const n of Object.keys(e.parameters)){let s=e.parameters[n];if(s===void 0&&(e.parameters[n]="",s=""),typeof s!="string"&&typeof s!="number")throw new TypeError(`invalid codec parameter [key:${n}s, value:${s}]`);if(n==="apt"&&typeof s!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const n of e.rtcpFeedback)NC(n)}function NC(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}function Q$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function J$(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");r[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const s of Object.keys(e.parameters)){let i=e.parameters[s];if(i===void 0&&(e.parameters[s]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${s}s, value:${i}]`);if(s==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const s of e.rtcpFeedback)NC(s)}function Z$(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let r=e.parameters[t];if(r===void 0&&(e.parameters[t]="",r=""),typeof r!="string"&&typeof r!="number")throw new TypeError("invalid header extension parameter")}}function e3(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function t3(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}function r3(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}function Fa(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function $C(e,t,{strict:r=!1,modify:n=!1}={}){const s=e.mimeType.toLowerCase(),i=t.mimeType.toLowerCase();if(s!==i||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(s){case"video/h264":{if(r){const o=e.parameters["packetization-mode"]||0,a=t.parameters["packetization-mode"]||0;if(o!==a||!TS.isSameProfile(e.parameters,t.parameters))return!1;let c;try{c=TS.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch{return!1}n&&(c?(e.parameters["profile-level-id"]=c,t.parameters["profile-level-id"]=c):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(r){const o=e.parameters["profile-id"]||0,a=t.parameters["profile-id"]||0;if(o!==a)return!1}break}}return!0}function n3(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function s3(e,t){const r=[];for(const n of e.rtcpFeedback??[]){const s=(t.rtcpFeedback??[]).find(i=>i.type===n.type&&(i.parameter===n.parameter||!i.parameter&&!n.parameter));s&&r.push(s)}return r}var Lc={},Es={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.Logger=void 0;const ji=tf,Mi="awaitqueue";class i3{constructor(t){t?(this._debug=(0,ji.default)(`${Mi}:${t}`),this._warn=(0,ji.default)(`${Mi}:WARN:${t}`),this._error=(0,ji.default)(`${Mi}:ERROR:${t}`)):(this._debug=(0,ji.default)(Mi),this._warn=(0,ji.default)(`${Mi}:WARN`),this._error=(0,ji.default)(`${Mi}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}of.Logger=i3;Object.defineProperty(Es,"__esModule",{value:!0});Es.AwaitQueue=Es.AwaitQueueRemovedTaskError=Es.AwaitQueueStoppedError=void 0;const o3=of,rs=new o3.Logger;class af extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,af)}}Es.AwaitQueueStoppedError=af;class cf extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,cf)}}Es.AwaitQueueRemovedTaskError=cf;class a3{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,r){if(r=r??t.name,rs.debug(`push() [name:${r}]`),typeof t!="function")throw new TypeError("given task is not a function");if(r)try{Object.defineProperty(t,"name",{value:r})}catch{}return new Promise((n,s)=>{const i={id:this.nextTaskId++,task:t,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:o=>{if(i.completed)return;i.completed=!0,this.pendingTasks.delete(i.id),rs.debug(`resolving task [name:${i.name}]`),n(o);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:o=>{if(!i.completed&&(i.completed=!0,this.pendingTasks.delete(i.id),rs.debug(`rejecting task [name:${i.name}]: %s`,String(o)),s(o),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(i.id,i),this.pendingTasks.size===1&&this.execute(i)})}stop(){rs.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())rs.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new af);this.stopping=!1}remove(t){rs.debug(`remove() [taskIdx:${t}]`);const r=Array.from(this.pendingTasks.values())[t];if(!r){rs.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}r.reject(new cf)}dump(){const t=Date.now();let r=0;return Array.from(this.pendingTasks.values()).map(n=>({idx:r++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt-n.enqueuedAt:t-n.enqueuedAt,executionTime:n.executedAt?t-n.executedAt:0}))}async execute(t){if(rs.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const r=await t.task();t.resolve(r)}catch(r){t.reject(r)}}}Es.AwaitQueue=a3;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let PS;var c3=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:k):e=>(PS||(PS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.Producer=void 0;const l3=We,kS=Cn,Ii=it,en=new l3.Logger("Producer");class d3 extends kS.EnhancedEventEmitter{constructor({id:t,localId:r,rtpSender:n,track:s,rtpParameters:i,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new kS.EnhancedEventEmitter,en.debug("constructor()"),this._id=t,this._localId=r,this._rtpSender=n,this._track=s,this._kind=s.kind,this._rtpParameters=i,this._paused=a?!s.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(en.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(en.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new Ii.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(en.debug("pause()"),this._closed){en.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@pause",t,r)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(en.debug("resume()"),this._closed){en.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,r)=>{this.safeEmit("@resume",t,r)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(en.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new Ii.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new Ii.InvalidStateError("track ended");if(t===this._track){en.debug("replaceTrack() | same track, ignored");return}await new Promise((r,n)=>{this.safeEmit("@replacetrack",t,r,n)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new Ii.InvalidStateError("closed");if(this._kind!=="video")throw new Ii.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((r,n)=>{this.safeEmit("@setmaxspatiallayer",t,r,n)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new Ii.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((r,n)=>{this.safeEmit("@setrtpencodingparameters",t,r,n)})}onTrackEnded(){en.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}jc.Producer=d3;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Consumer=void 0;const u3=We,DS=Cn,f3=it,tn=new u3.Logger("Consumer");class p3 extends DS.EnhancedEventEmitter{constructor({id:t,localId:r,producerId:n,rtpReceiver:s,track:i,rtpParameters:o,appData:a}){super(),this._closed=!1,this._observer=new DS.EnhancedEventEmitter,tn.debug("constructor()"),this._id=t,this._localId=r,this._producerId=n,this._rtpReceiver=s,this._track=i,this._rtpParameters=o,this._paused=!i.enabled,this._appData=a??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(tn.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(tn.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new f3.InvalidStateError("closed");return new Promise((t,r)=>{this.safeEmit("@getstats",t,r)})}pause(){if(tn.debug("pause()"),this._closed){tn.error("pause() | Consumer closed");return}if(this._paused){tn.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(tn.debug("resume()"),this._closed){tn.error("resume() | Consumer closed");return}if(!this._paused){tn.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){tn.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Mc.Consumer=p3;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.DataProducer=void 0;const h3=We,LS=Cn,m3=it,Dn=new h3.Logger("DataProducer");class g3 extends LS.EnhancedEventEmitter{constructor({id:t,dataChannel:r,sctpStreamParameters:n,appData:s}){super(),this._closed=!1,this._observer=new LS.EnhancedEventEmitter,Dn.debug("constructor()"),this._id=t,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=s??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Dn.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Dn.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Dn.debug("send()"),this._closed)throw new m3.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Dn.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Dn.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Dn.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Dn.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Dn.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}Ic.DataProducer=g3;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.DataConsumer=void 0;const v3=We,jS=Cn,Vs=new v3.Logger("DataConsumer");class y3 extends jS.EnhancedEventEmitter{constructor({id:t,dataProducerId:r,dataChannel:n,sctpStreamParameters:s,appData:i}){super(),this._closed=!1,this._observer=new jS.EnhancedEventEmitter,Vs.debug("constructor()"),this._id=t,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=s,this._appData=i??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Vs.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Vs.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Vs.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:r}=t;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Vs.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Vs.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Vs.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}Oc.DataConsumer=y3;var w3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&w3(t,e,r);return S3(t,e),t},_3=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Transport=void 0;const b3=Es,bp=_3(c3),x3=We,MS=Cn,at=it,xp=AC(Je),ma=AC(De),C3=jc,R3=Mc,E3=Ic,T3=Oc,tt=new x3.Logger("Transport");class P3{constructor(t){this.consumerOptions=t,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}class k3 extends MS.EnhancedEventEmitter{constructor({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u,handlerFactory:f,extendedRtpCapabilities:p,canProduceByKind:m}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new b3.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new MS.EnhancedEventEmitter,tt.debug("constructor() [id:%s, direction:%s]",r,t),this._id=r,this._direction=t,this._extendedRtpCapabilities=p,this._canProduceByKind=m,this._maxSctpMessageSize=o?o.maxMessageSize:null;const g=xp.clone(l)??{};delete g.iceServers,delete g.iceTransportPolicy,delete g.bundlePolicy,delete g.rtcpMuxPolicy,delete g.sdpSemantics,this._handler=f(),this._handler.run({direction:t,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:g,proprietaryConstraints:d,extendedRtpCapabilities:p}),this._appData=u??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){tt.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new at.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(tt.debug("restartIce()"),this._closed)throw new at.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(tt.debug("updateIceServers()"),this._closed)throw new at.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:r,codecOptions:n,codec:s,stopTracks:i=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,onRtpSender:c,appData:l={}}={}){if(tt.debug("produce() [track:%o]",t),this._closed)throw new at.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new at.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new at.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(l&&typeof l!="object")throw new TypeError("if given, appData must be an object")}else throw new at.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let d;if(r&&!Array.isArray(r))throw TypeError("encodings must be an array");r&&r.length===0?d=void 0:r&&(d=r.map(m=>{const g={active:!0};return m.active===!1&&(g.active=!1),typeof m.dtx=="boolean"&&(g.dtx=m.dtx),typeof m.scalabilityMode=="string"&&(g.scalabilityMode=m.scalabilityMode),typeof m.scaleResolutionDownBy=="number"&&(g.scaleResolutionDownBy=m.scaleResolutionDownBy),typeof m.maxBitrate=="number"&&(g.maxBitrate=m.maxBitrate),typeof m.maxFramerate=="number"&&(g.maxFramerate=m.maxFramerate),typeof m.adaptivePtime=="boolean"&&(g.adaptivePtime=m.adaptivePtime),typeof m.priority=="string"&&(g.priority=m.priority),typeof m.networkPriority=="string"&&(g.networkPriority=m.networkPriority),g}));const{localId:u,rtpParameters:f,rtpSender:p}=await this._handler.send({track:t,encodings:d,codecOptions:n,codec:s,onRtpSender:c});try{ma.validateRtpParameters(f);const{id:m}=await new Promise((v,y)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:f,appData:l},v,y)}),g=new C3.Producer({id:m,localId:u,rtpSender:p,track:t,rtpParameters:f,stopTracks:i,disableTrackOnPause:o,zeroRtpOnPause:a,appData:l});return this._producers.set(g.id,g),this.handleProducer(g),this._observer.safeEmit("newproducer",g),g}catch(m){throw this._handler.stopSending(u).catch(()=>{}),m}},"transport.produce()").catch(d=>{if(i)try{t.stop()}catch{}throw d})}async consume({id:t,producerId:r,kind:n,rtpParameters:s,streamId:i,onRtpReceiver:o,appData:a={}}){if(tt.debug("consume()"),this._closed)throw new at.InvalidStateError("closed");if(this._direction!=="recv")throw new at.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing producerId");if(n!=="audio"&&n!=="video")throw new TypeError(`invalid kind '${n}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object");const c=xp.clone(s);if(!ma.canReceive(c,this._extendedRtpCapabilities))throw new at.UnsupportedError("cannot consume this Producer");const d=new P3({id:t,producerId:r,kind:n,rtpParameters:c,streamId:i,onRtpReceiver:o,appData:a});return this._pendingConsumerTasks.push(d),(0,bp.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),d.promise}async produceData({ordered:t=!0,maxPacketLifeTime:r,maxRetransmits:n,label:s="",protocol:i="",appData:o={}}={}){if(tt.debug("produceData()"),this._closed)throw new at.InvalidStateError("closed");if(this._direction!=="send")throw new at.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new at.UnsupportedError("SCTP not enabled by remote Transport");return(r||n)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i});ma.validateSctpStreamParameters(c);const{id:l}=await new Promise((u,f)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:s,protocol:i,appData:o},u,f)}),d=new E3.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:o});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d},"transport.produceData()")}async consumeData({id:t,dataProducerId:r,sctpStreamParameters:n,label:s="",protocol:i="",appData:o={}}){if(tt.debug("consumeData()"),this._closed)throw new at.InvalidStateError("closed");if(this._direction!=="recv")throw new at.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(o&&typeof o!="object")throw new TypeError("if given, appData must be an object")}else throw new at.UnsupportedError("SCTP not enabled by remote Transport");const a=xp.clone(n);return ma.validateSctpStreamParameters(a),this._awaitQueue.push(async()=>{const{dataChannel:c}=await this._handler.receiveDataChannel({sctpStreamParameters:a,label:s,protocol:i}),l=new T3.DataConsumer({id:t,dataProducerId:r,dataChannel:c,sctpStreamParameters:a,appData:o});return this._dataConsumers.set(l.id,l),this.handleDataConsumer(l),this._observer.safeEmit("newdataconsumer",l),l},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){tt.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let r;const n=[];for(const s of t){const{id:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l}=s.consumerOptions;n.push({trackId:i,kind:o,rtpParameters:a,streamId:c,onRtpReceiver:l})}try{const s=await this._handler.receive(n);for(let i=0;i<s.length;++i){const o=t[i],a=s[i],{id:c,producerId:l,kind:d,rtpParameters:u,appData:f}=o.consumerOptions,{localId:p,rtpReceiver:m,track:g}=a,v=new R3.Consumer({id:c,localId:p,producerId:l,rtpReceiver:m,track:g,rtpParameters:u,appData:f});this._consumers.set(v.id,v),this.handleConsumer(v),!this._probatorConsumerCreated&&!r&&d==="video"&&(r=v),this._observer.safeEmit("newconsumer",v),o.resolve(v)}}catch(s){for(const i of t)i.reject(s)}if(r)try{const s=ma.generateProbatorRtpParameters(r.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:s}]),tt.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(s){tt.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",s)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){tt.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.pauseReceiving(r)}catch(r){tt.error("pausePendingConsumers() | failed to pause Consumers:",r)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){tt.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const r=t.map(n=>n.localId);await this._handler.resumeReceiving(r)}catch(r){tt.error("resumePendingConsumers() | failed to resume Consumers:",r)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){tt.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(r=>r.localId))}catch(r){tt.error("closePendingConsumers() | failed to close Consumers:",r)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:r},n,s)=>{if(this._closed){s(new at.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:r},n,s)}),t.on("@icegatheringstatechange",r=>{r!==this._iceGatheringState&&(tt.debug("ICE gathering state changed to %s",r),this._iceGatheringState=r,this._closed||this.safeEmit("icegatheringstatechange",r))}),t.on("@connectionstatechange",r=>{r!==this._connectionState&&(tt.debug("connection state changed to %s",r),this._connectionState=r,this._closed||this.safeEmit("connectionstatechange",r))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(r=>tt.warn("producer.close() failed:%o",r))}),t.on("@pause",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(r).catch(n)}),t.on("@resume",(r,n)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(r).catch(n)}),t.on("@replacetrack",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,r),"producer @replacetrack event").then(n).catch(s)}),t.on("@setmaxspatiallayer",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,r),"producer @setmaxspatiallayer event").then(n).catch(s)}),t.on("@setrtpencodingparameters",(r,n,s)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,r),"producer @setrtpencodingparameters event").then(n).catch(s)}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new at.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(r).catch(n)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,bp.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,bp.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(r,n)=>{if(this._closed)return n(new at.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(r).catch(n)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}}Lc.Transport=k3;var lf={},Ye={},FC={},zC={exports:{}},IS=zC.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(IS).forEach(function(e){var t=IS[e];t.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});var BC=zC.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},r=function(a,c,l,d){if(d&&!l)c[d]=t(a[1]);else for(var u=0;u<l.length;u+=1)a[u+1]!=null&&(c[l[u]]=t(a[u+1]))},n=function(a,c,l){var d=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:d&&!c[a.name]&&(c[a.name]={});var u=a.push?{}:d?c[a.name]:c;r(l.match(a.reg),u,a.names,a.name),a.push&&c[a.push].push(u)},s=BC,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var c={},l=[],d=c;return a.split(/(\r\n|\r|\n)/).filter(i).forEach(function(u){var f=u[0],p=u.slice(2);f==="m"&&(l.push({rtp:[],fmtp:[]}),d=l[l.length-1]);for(var m=0;m<(s[f]||[]).length;m+=1){var g=s[f][m];if(g.reg.test(p))return n(g,d,p)}}),c.media=l,c};var o=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(t),d=0;d<l.length;d+=3)c.push({component:l[d],ip:l[d+1],port:l[d+2]});return c},e.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var d,u=!1;return l[0]!=="~"?d=t(l):(d=t(l.substring(1,l.length)),u=!0),{scid:d,paused:u}})})}})(FC);var Cp=BC,D3=/%[sdv%]/g,L3=function(e){var t=1,r=arguments,n=r.length;return e.replace(D3,function(s){if(t>=n)return s;var i=r[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},ga=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,s=[e+"="+n];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?s.push(r[t.name][o]):s.push(r[t.names[i]])}else s.push(r[t.name]);return L3.apply(null,s)},j3=["v","o","s","i","u","e","p","c","b","t","r","z","a"],M3=["i","c","b","a"],I3=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(i){i.payloads==null&&(i.payloads="")});var r=t.outerOrder||j3,n=t.innerOrder||M3,s=[];return r.forEach(function(i){Cp[i].forEach(function(o){o.name in e&&e[o.name]!=null?s.push(ga(i,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){s.push(ga(i,o,a))})})}),e.media.forEach(function(i){s.push(ga("m",Cp.m[0],i)),n.forEach(function(o){Cp[o].forEach(function(a){a.name in i&&i[a.name]!=null?s.push(ga(o,a,i)):a.push in i&&i[a.push]!=null&&i[a.push].forEach(function(c){s.push(ga(o,a,c))})})})}),s.join(`\r
`)+`\r
`},wi=FC,O3=I3;Ye.write=O3;Ye.parse=wi.parse;Ye.parseParams=wi.parseParams;Ye.parseFmtpConfig=wi.parseFmtpConfig;Ye.parsePayloads=wi.parsePayloads;Ye.parseRemoteCandidates=wi.parseRemoteCandidates;Ye.parseImageAttributes=wi.parseImageAttributes;Ye.parseSimulcastStreamList=wi.parseSimulcastStreamList;var Dt={},N3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),A3=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&N3(t,e,r);return $3(t,e),t};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.extractRtpCapabilities=F3;Dt.extractDtlsParameters=z3;Dt.getCname=B3;Dt.applyCodecParameters=U3;const UC=A3(Ye);function F3({sdpObject:e}){const t=new Map,r=[];let n=!1,s=!1;for(const o of e.media){const a=o.type;switch(a){case"audio":{if(n)continue;n=!0;break}case"video":{if(s)continue;s=!0;break}default:continue}for(const c of o.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};t.set(l.preferredPayloadType,l)}for(const c of o.fmtp||[]){const l=UC.parseParams(c.config),d=t.get(c.payload);d&&(l!=null&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),d.parameters=l)}for(const c of o.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const d=t.get(c.payload);if(!d)continue;d.rtcpFeedback.push(l)}else for(const d of t.values())d.kind===a&&!/.+\/rtx$/i.test(d.mimeType)&&d.rtcpFeedback.push(l)}for(const c of o.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};r.push(l)}}return{codecs:Array.from(t.values()),headerExtensions:r}}function z3({sdpObject:e}){let t=e.setup,r=e.fingerprint;if(!t||!r){const i=(e.media||[]).find(o=>o.port!==0);i&&(t??(t=i.setup),r??(r=i.fingerprint))}if(t){if(!r)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let n;switch(t){case"active":{n="client";break}case"passive":{n="server";break}case"actpass":{n="auto";break}}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}}function B3({offerMediaObject:e}){const t=(e.ssrcs||[]).find(r=>r.attribute==="cname");return t?t.value:""}function U3({offerRtpParameters:e,answerMediaObject:t}){for(const r of e.codecs){const n=r.mimeType.toLowerCase();if(n!=="audio/opus"||!(t.rtp||[]).find(a=>a.payload===r.payloadType))continue;t.fmtp=t.fmtp||[];let i=t.fmtp.find(a=>a.payload===r.payloadType);i||(i={payload:r.payloadType,config:""},t.fmtp.push(i));const o=UC.parseParams(i.config);switch(n){case"audio/opus":{const a=r.parameters["sprop-stereo"];a!==void 0&&(o.stereo=a?1:0);break}}i.config="";for(const a of Object.keys(o))i.config&&(i.config+=";"),i.config+=`${a}=${o[a]}`}}var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getRtpEncodings=V3;Rn.addLegacySimulcast=H3;function V3({offerMediaObject:e}){const t=new Set;for(const s of e.ssrcs||[]){const i=s.id;t.add(i)}if(t.size===0)throw new Error("no a=ssrc lines found");const r=new Map;for(const s of e.ssrcGroups||[]){if(s.semantics!=="FID")continue;let[i,o]=s.ssrcs.split(/\s+/);i=Number(i),o=Number(o),t.has(i)&&(t.delete(i),t.delete(o),r.set(i,o))}for(const s of t)r.set(s,null);const n=[];for(const[s,i]of r){const o={ssrc:s};i&&(o.rtx={ssrc:i}),n.push(o)}return n}function H3({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const r=(e.ssrcs||[]).find(u=>u.attribute==="msid");if(!r)throw new Error("a=ssrc line with msid information not found");const[n,s]=r.value.split(" "),i=Number(r.id);let o;(e.ssrcGroups||[]).some(u=>{if(u.semantics!=="FID")return!1;const f=u.ssrcs.split(/\s+/);return Number(f[0])===i?(o=Number(f[1]),!0):!1});const a=e.ssrcs.find(u=>u.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],d=[];for(let u=0;u<t;++u)l.push(i+u),o&&d.push(o+u);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)e.ssrcs.push({id:u,attribute:"cname",value:c}),e.ssrcs.push({id:u,attribute:"msid",value:`${n} ${s}`});for(let u=0;u<d.length;++u){const f=l[u],p=d[u];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${n} ${s}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.addNackSuppportForOpus=W3;function W3(e){var t;for(const r of e.codecs??[])(r.mimeType.toLowerCase()==="audio/opus"||r.mimeType.toLowerCase()==="audio/multiopus")&&!((t=r.rtcpFeedback)!=null&&t.some(n=>n.type==="nack"&&!n.parameter))&&(r.rtcpFeedback||(r.rtcpFeedback=[]),r.rtcpFeedback.push({type:"nack"}))}var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.HandlerInterface=void 0;const q3=Cn;class K3 extends q3.EnhancedEventEmitter{constructor(){super()}}Lt.HandlerInterface=K3;var Zt={},Ts={},G3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y3=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&G3(t,e,r);return Y3(t,e),t};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.OfferMediaSection=Ts.AnswerMediaSection=Ts.MediaSection=void 0;const X3=VC(Ye),OS=VC(Je);class Iv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:s=!1}){if(this._mediaObject={},this._planB=s,t&&this.setIceParameters(t),r){this._mediaObject.candidates=[];for(const i of r){const o={};o.component=1,o.foundation=i.foundation,o.ip=i.address??i.ip,o.port=i.port,o.priority=i.priority,o.transport=i.protocol,o.type=i.type,i.tcpType&&(o.tcptype=i.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}Ts.MediaSection=Iv;class Q3 extends Iv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:d,extmapAllowMixed:u=!1}){switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const f of l.codecs){const p={payload:f.payloadType,codec:tm(f),rate:f.clockRate};f.channels>1&&(p.encoding=f.channels),this._mediaObject.rtp.push(p);const m=OS.clone(f.parameters)??{};let g=OS.clone(f.rtcpFeedback)??[];if(d){const{opusStereo:y,opusFec:_,opusDtx:S,opusMaxPlaybackRate:b,opusMaxAverageBitrate:C,opusPtime:x,opusNack:E,videoGoogleStartBitrate:R,videoGoogleMaxBitrate:P,videoGoogleMinBitrate:L}=d,$=c.codecs.find(B=>B.payloadType===f.payloadType);switch(f.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{y!==void 0&&($.parameters["sprop-stereo"]=y?1:0,m.stereo=y?1:0),_!==void 0&&($.parameters.useinbandfec=_?1:0,m.useinbandfec=_?1:0),S!==void 0&&($.parameters.usedtx=S?1:0,m.usedtx=S?1:0),b!==void 0&&(m.maxplaybackrate=b),C!==void 0&&(m.maxaveragebitrate=C),x!==void 0&&($.parameters.ptime=x,m.ptime=x),E||($.rtcpFeedback=$.rtcpFeedback.filter(B=>B.type!=="nack"||B.parameter),g=g.filter(B=>B.type!=="nack"||B.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{R!==void 0&&(m["x-google-start-bitrate"]=R),P!==void 0&&(m["x-google-max-bitrate"]=P),L!==void 0&&(m["x-google-min-bitrate"]=L);break}}}const v={payload:f.payloadType,config:""};for(const y of Object.keys(m))v.config&&(v.config+=";"),v.config+=`${y}=${m[y]}`;v.config&&this._mediaObject.fmtp.push(v);for(const y of g)this._mediaObject.rtcpFb.push({payload:f.payloadType,type:y.type,subtype:y.parameter})}this._mediaObject.payloads=l.codecs.map(f=>f.payloadType).join(" "),this._mediaObject.ext=[];for(const f of l.headerExtensions)(a.ext??[]).some(m=>m.uri===f.uri)&&this._mediaObject.ext.push({uri:f.uri,value:f.id});if(u&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const f of a.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var i,o;if(!((i=this._mediaObject.simulcast)!=null&&i.list1))return;const r={};for(const a of t)a.rid&&(r[a.rid]=a);const n=this._mediaObject.simulcast.list1,s=X3.parseSimulcastStreamList(n);for(const a of s)for(const c of a)c.paused=!((o=r[c.scid])!=null&&o.active);this._mediaObject.simulcast.list1=s.map(a=>a.map(c=>`${c.paused?"~":""}${c.scid}`).join(",")).join(";")}}Ts.AnswerMediaSection=Q3;class J3 extends Iv{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1,mid:a,kind:c,offerRtpParameters:l,streamId:d,trackId:u,oldDataChannelSpec:f=!1}){var p;switch(super({iceParameters:t,iceCandidates:r,dtlsParameters:n,planB:o}),this._mediaObject.mid=String(a),this._mediaObject.type=c,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},s?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d??"-"} ${u}`);for(const y of l.codecs){const _={payload:y.payloadType,codec:tm(y),rate:y.clockRate};y.channels>1&&(_.encoding=y.channels),this._mediaObject.rtp.push(_);const S={payload:y.payloadType,config:""};for(const b of Object.keys(y.parameters))S.config&&(S.config+=";"),S.config+=`${b}=${y.parameters[b]}`;S.config&&this._mediaObject.fmtp.push(S);for(const b of y.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:y.payloadType,type:b.type,subtype:b.parameter})}this._mediaObject.payloads=l.codecs.map(y=>y.payloadType).join(" "),this._mediaObject.ext=[];for(const y of l.headerExtensions)this._mediaObject.ext.push({uri:y.uri,value:y.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const m=l.encodings[0],g=m.ssrc,v=(p=m.rtx)==null?void 0:p.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:g,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:g,attribute:"msid",value:`${d??"-"} ${u}`}),v&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:v,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:v,attribute:"msid",value:`${d??"-"} ${u}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${g} ${v}`}));break}case"application":{f?(this._mediaObject.payloads=s.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:s.port,maxMessageSize:s.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=s.port,this._mediaObject.maxMessageSize=s.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:r,trackId:n}){var c;const s=t.encodings[0],i=s.ssrc,o=(c=s.rtx)==null?void 0:c.ssrc,a=this._mediaObject.payloads.split(" ");for(const l of t.codecs){if(a.includes(String(l.payloadType)))continue;const d={payload:l.payloadType,codec:tm(l),rate:l.clockRate};l.channels>1&&(d.encoding=l.channels),this._mediaObject.rtp.push(d);const u={payload:l.payloadType,config:""};for(const f of Object.keys(l.parameters))u.config&&(u.config+=";"),u.config+=`${f}=${l.parameters[f]}`;u.config&&this._mediaObject.fmtp.push(u);for(const f of l.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:l.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(l=>!this._mediaObject.payloads.includes(l.payloadType)).map(l=>l.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${r??"-"} ${n}`}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r??"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${o}`}))}planBStopReceiving({offerRtpParameters:t}){var i;const r=t.encodings[0],n=r.ssrc,s=(i=r.rtx)==null?void 0:i.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==n&&o.id!==s),s&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${n} ${s}`))}}Ts.OfferMediaSection=J3;function tm(e){const r=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");return r[2]}var Z3=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tA=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Z3(t,e,r);return eA(t,e),t};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.RemoteSdp=void 0;const rA=tA(Ye),nA=We,vl=Ts,Rp=new nA.Logger("RemoteSdp");class sA{constructor({iceParameters:t,iceCandidates:r,dtlsParameters:n,sctpParameters:s,plainRtpParameters:i,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=s,this._plainRtpParameters=i,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t!=null&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[a-1].algorithm,hash:n.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(t){Rp.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const r of this._mediaSections)r.setIceParameters(t)}updateDtlsRole(t){Rp.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const r of this._mediaSections)r.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const r=this._mediaSections[t];if(r.closed)return{idx:t,reuseMid:r.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:r,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o=!1}){const a=new vl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:s,codecOptions:i,extmapAllowMixed:o});r?this._replaceMediaSection(a,r):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i}){const o=this._midToIndex.get(t);let a;if(o!==void 0&&(a=this._mediaSections[o]),a)a.planBReceive({offerRtpParameters:n,streamId:s,trackId:i}),this._replaceMediaSection(a);else{a=new vl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:r,offerRtpParameters:n,streamId:s,trackId:i});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const r=this._findMediaSection(t);return t===this._firstMid?(Rp.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(r.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,r){const n=this._findMediaSection(t);n.muxSimulcastStreams(r),this._replaceMediaSection(n)}planBStopReceiving({mid:t,offerRtpParameters:r}){const n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}sendSctpAssociation({offerMediaObject:t}){const r=new vl.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const r=new vl.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}getSdp(){return this._sdpObject.origin.sessionVersion++,rA.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,r){if(typeof r=="string"){const n=this._midToIndex.get(r);if(n===void 0)throw new Error(`no media section found for reuseMid '${r}'`);const s=this._mediaSections[n];this._mediaSections[n]=t,this._midToIndex.delete(s.mid),this._midToIndex.set(t.mid,n),this._sdpObject.media[n]=t.getObject(),this._regenerateBundleMids()}else{const n=this._midToIndex.get(t.mid);if(n===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[n]=t,this._sdpObject.media[n]=t.getObject()}}_findMediaSection(t){const r=this._midToIndex.get(t);if(r===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[r]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Zt.RemoteSdp=sA;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.parse=oA;const iA=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function oA(e){const t=iA.exec(e??"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}var aA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aA(t,e,r);return cA(t,e),t};Object.defineProperty(lf,"__esModule",{value:!0});lf.Chrome111=void 0;const ns=Xo(Ye),lA=We,NS=Xo(Je),Oi=Xo(De),yl=Xo(Dt),$S=Xo(Rn),dA=Xo(Yo),uA=it,fA=Lt,pA=Zt,hA=En,Z=new lA.Logger("Chrome111"),mA="Chrome111",AS={OS:1024,MIS:1024};class Ov extends fA.HandlerInterface{static createFactory(){return()=>new Ov}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return mA}close(){if(Z.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Z.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=ns.parse(r.sdp),s=yl.extractRtpCapabilities({sdpObject:n});return dA.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Z.debug("getNativeSctpCapabilities()"),{numStreams:AS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Z.debug("run()"),this._direction=t,this._remoteSdp=new pA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Oi.getSendingRtpParameters("audio",d),video:Oi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Oi.getSendingRemoteRtpParameters("audio",d),video:Oi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Z.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Z.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Z.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Z.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){if(this.assertNotClosed(),this.assertSendDirection(),Z.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1){let g=1;for(const v of r){const y=v.scalabilityMode?(0,hA.parse)(v.scalabilityMode).temporalLayers:3;y>g&&(g=y)}r.forEach((v,y)=>{v.rid=`r${y}`,v.scalabilityMode=`L1T${g}`})}const o=NS.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Oi.reduceCodecs(o.codecs,s);const a=NS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Oi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);const d=await this._pc.createOffer();let u=ns.parse(d.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u}),Z.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const f=l.mid;o.mid=f,u=ns.parse(this._pc.localDescription.sdp);const p=u.media[c.idx];if(o.rtcp.cname=yl.getCname({offerMediaObject:p}),!r)o.encodings=$S.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const g=$S.getRtpEncodings({offerMediaObject:p});Object.assign(g[0],r[0]),o.encodings=g}else o.encodings=r;this._remoteSdp.send({offerMediaObject:p,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return Z.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(f,l),{localId:f,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),Z.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Z.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Z.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Z.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Z.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Z.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Z.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Z.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Z.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Z.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%AS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ns.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Z.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Z.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Z.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=ns.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);yl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:ns.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Z.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Z.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Z.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Z.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Z.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ns.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Z.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ns.parse(this._pc.localDescription.sdp));const n=yl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new uA.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}lf.Chrome111=Ov;var df={},gA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gA(t,e,r);return vA(t,e),t};Object.defineProperty(df,"__esModule",{value:!0});df.Chrome74=void 0;const rn=Qo(Ye),yA=We,FS=Qo(Je),Ni=Qo(De),wl=Qo(Dt),Ep=Qo(Rn),wA=Qo(Yo),SA=it,_A=Lt,bA=Zt,xA=En,X=new yA.Logger("Chrome74"),CA="Chrome74",zS={OS:1024,MIS:1024};class Nv extends _A.HandlerInterface{static createFactory(){return()=>new Nv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return CA}close(){if(X.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){X.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=rn.parse(r.sdp),s=wl.extractRtpCapabilities({sdpObject:n});return wA.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return X.debug("getNativeSctpCapabilities()"),{numStreams:zS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){X.debug("run()"),this._direction=t,this._remoteSdp=new bA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ni.getSendingRtpParameters("audio",d),video:Ni.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ni.getSendingRemoteRtpParameters("audio",d),video:Ni.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(X.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),X.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),X.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});X.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),X.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((v,y)=>{v.rid=`r${y}`});const i=FS.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Ni.reduceCodecs(i.codecs,s);const o=FS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Ni.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let l=await this._pc.createOffer(),d=rn.parse(l.sdp),u;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d});let f=!1;const p=(0,xA.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(X.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,d=rn.parse(l.sdp),u=d.media[a.idx],Ep.addLegacySimulcast({offerMediaObject:u,numStreams:p.spatialLayers}),l={type:"offer",sdp:rn.write(d)}),X.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const m=c.mid;if(i.mid=m,d=rn.parse(this._pc.localDescription.sdp),u=d.media[a.idx],i.rtcp.cname=wl.getCname({offerMediaObject:u}),!r)i.encodings=Ep.getRtpEncodings({offerMediaObject:u});else if(r.length===1){let v=Ep.getRtpEncodings({offerMediaObject:u});Object.assign(v[0],r[0]),f&&(v=[v[0]]),i.encodings=v}else i.encodings=r;if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of i.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${p.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:u,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return X.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,c),{localId:m,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),X.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();X.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();X.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),X.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();X.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?X.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):X.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),X.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();X.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};X.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%zS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=rn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),X.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};X.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;X.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=rn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);wl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:rn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),X.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){X.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){X.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();X.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};X.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=rn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}X.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=rn.parse(this._pc.localDescription.sdp));const n=wl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new SA.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}df.Chrome74=Nv;var uf={},RA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&RA(t,e,r);return EA(t,e),t};Object.defineProperty(uf,"__esModule",{value:!0});uf.Chrome70=void 0;const gr=Nc(Ye),TA=We,BS=Nc(Je),$i=Nc(De),Sl=Nc(Dt),Tp=Nc(Rn),PA=Lt,kA=Zt,DA=En,ie=new TA.Logger("Chrome70"),LA="Chrome70",US={OS:1024,MIS:1024};class $v extends PA.HandlerInterface{static createFactory(){return()=>new $v}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return LA}close(){if(ie.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ie.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=gr.parse(r.sdp);return Sl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ie.debug("getNativeSctpCapabilities()"),{numStreams:US}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ie.debug("run()"),this._direction=t,this._remoteSdp=new kA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:$i.getSendingRtpParameters("audio",d),video:$i.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:$i.getSendingRemoteRtpParameters("audio",d),video:$i.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ie.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ie.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ie.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ie.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ie.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ie.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const i=BS.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=$i.reduceCodecs(i.codecs,s);const o=BS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=$i.reduceCodecs(o.codecs,s);const a=this._remoteSdp.getNextMediaSectionIdx(),c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let l=await this._pc.createOffer(),d=gr.parse(l.sdp),u;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),r&&r.length>1&&(ie.debug("send() | enabling legacy simulcast"),d=gr.parse(l.sdp),u=d.media[a.idx],Tp.addLegacySimulcast({offerMediaObject:u,numStreams:r.length}),l={type:"offer",sdp:gr.write(d)});let f=!1;const p=(0,DA.parse)((r??[{}])[0].scalabilityMode);if(r&&r.length===1&&p.spatialLayers>1&&i.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(ie.debug("send() | enabling legacy simulcast for VP9 SVC"),f=!0,d=gr.parse(l.sdp),u=d.media[a.idx],Tp.addLegacySimulcast({offerMediaObject:u,numStreams:p.spatialLayers}),l={type:"offer",sdp:gr.write(d)}),ie.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),r){ie.debug("send() | applying given encodings");const v=c.sender.getParameters();for(let y=0;y<(v.encodings??[]).length;++y){const _=v.encodings[y],S=r[y];if(!S)break;v.encodings[y]=Object.assign(_,S)}await c.sender.setParameters(v)}const m=c.mid;if(i.mid=m,d=gr.parse(this._pc.localDescription.sdp),u=d.media[a.idx],i.rtcp.cname=Sl.getCname({offerMediaObject:u}),i.encodings=Tp.getRtpEncodings({offerMediaObject:u}),r)for(let v=0;v<i.encodings.length;++v)r[v]&&Object.assign(i.encodings[v],r[v]);if(f&&(i.encodings=[i.encodings[0]]),i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of i.encodings)v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:u,reuseMid:a.reuseMid,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return ie.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,c),{localId:m,rtpParameters:i,rtpSender:c.sender}}async stopSending(t){this.assertSendDirection(),ie.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();ie.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?ie.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ie.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),ie.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ie.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),ie.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ie.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ie.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%US.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=gr.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ie.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ie.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;ie.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=gr.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);Sl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:gr.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),ie.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ie.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ie.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ie.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=gr.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=gr.parse(this._pc.localDescription.sdp));const n=Sl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}uf.Chrome70=$v;var ff={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.getRtpEncodings=jA;Si.addLegacySimulcast=MA;function jA({offerMediaObject:e,track:t}){const r=new Set;for(const i of e.ssrcs||[]){if(i.attribute!=="msid")continue;if(i.value.split(" ")[1]===t.id){const a=i.id;r.add(a)}}if(r.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,a]=i.ssrcs.split(/\s+/);o=Number(o),a=Number(a),r.has(o)&&(r.delete(o),r.delete(a),n.set(o,a))}for(const i of r)n.set(i,null);const s=[];for(const[i,o]of n){const a={ssrc:i};o&&(a.rtx={ssrc:o}),s.push(a)}return s}function MA({offerMediaObject:e,track:t,numStreams:r}){if(r<=1)throw new TypeError("numStreams must be greater than 1");let n,s,i;if(!(e.ssrcs||[]).find(u=>u.attribute!=="msid"?!1:u.value.split(" ")[1]===t.id?(n=u.id,i=u.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(u=>{if(u.semantics!=="FID")return!1;const f=u.ssrcs.split(/\s+/);return Number(f[0])===n?(s=Number(f[1]),!0):!1});const a=e.ssrcs.find(u=>u.attribute==="cname"&&u.id===n);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const c=a.value,l=[],d=[];for(let u=0;u<r;++u)l.push(n+u),s&&d.push(s+u);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(const u of l)e.ssrcs.push({id:u,attribute:"cname",value:c}),e.ssrcs.push({id:u,attribute:"msid",value:`${i} ${t.id}`});for(let u=0;u<d.length;++u){const f=l[u],p=d[u];e.ssrcs.push({id:p,attribute:"cname",value:c}),e.ssrcs.push({id:p,attribute:"msid",value:`${i} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${p}`})}}var IA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$c=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IA(t,e,r);return OA(t,e),t};Object.defineProperty(ff,"__esModule",{value:!0});ff.Chrome67=void 0;const nn=$c(Ye),NA=We,VS=$c(Je),Ai=$c(De),_l=$c(Dt),HS=$c(Si),$A=Lt,AA=Zt,le=new NA.Logger("Chrome67"),FA="Chrome67",WS={OS:1024,MIS:1024};class Av extends $A.HandlerInterface{static createFactory(){return()=>new Av}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return FA}close(){if(le.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){le.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=nn.parse(r.sdp);return _l.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return le.debug("getNativeSctpCapabilities()"),{numStreams:WS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){le.debug("run()"),this._direction=t,this._remoteSdp=new AA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Ai.getSendingRtpParameters("audio",d),video:Ai.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ai.getSendingRemoteRtpParameters("audio",d),video:Ai.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(le.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){le.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(le.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});le.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();le.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),le.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&le.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=nn.parse(i.sdp),a;const c=VS.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Ai.reduceCodecs(c.codecs);const l=VS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Ai.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(le.debug("send() | enabling simulcast"),o=nn.parse(i.sdp),a=o.media.find(p=>p.type==="video"),HS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:nn.write(o)}),le.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=nn.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=_l.getCname({offerMediaObject:a}),c.encodings=HS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(u,f),{localId:u,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection(),le.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();le.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){le.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?le.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):le.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),le.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),le.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};le.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%WS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=nn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),le.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};le.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;le.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=nn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);_l.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:nn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),le.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=c,u=a,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===d);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:u,rtpParameters:l,rtpReceiver:f}),r.push({localId:d,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){le.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();le.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};le.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=nn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}le.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=nn.parse(this._pc.localDescription.sdp));const n=_l.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}ff.Chrome67=Av;var pf={},zA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ac=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zA(t,e,r);return BA(t,e),t};Object.defineProperty(pf,"__esModule",{value:!0});pf.Chrome55=void 0;const sn=Ac(Ye),UA=We,va=it,qS=Ac(Je),Fi=Ac(De),bl=Ac(Dt),KS=Ac(Si),VA=Lt,HA=Zt,ve=new UA.Logger("Chrome55"),WA="Chrome55",GS={OS:1024,MIS:1024};class Fv extends VA.HandlerInterface{static createFactory(){return()=>new Fv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return WA}close(){if(ve.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ve.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=sn.parse(r.sdp);return bl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ve.debug("getNativeSctpCapabilities()"),{numStreams:GS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ve.debug("run()"),this._direction=t,this._remoteSdp=new HA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Fi.getSendingRtpParameters("audio",d),video:Fi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Fi.getSendingRemoteRtpParameters("audio",d),video:Fi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ve.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ve.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ve.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ve.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ve.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ve.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ve.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=sn.parse(i.sdp),a;const c=qS.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Fi.reduceCodecs(c.codecs);const l=qS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Fi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ve.debug("send() | enabling simulcast"),o=sn.parse(i.sdp),a=o.media.find(f=>f.type==="video"),KS.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:sn.write(o)}),ve.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=sn.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=bl.getCname({offerMediaObject:a}),c.encodings=KS.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(u,t),{localId:u,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),ve.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();ve.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ve.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new va.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new va.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,r){throw new va.UnsupportedError("not supported")}async getSenderStats(t){throw new va.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};ve.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%GS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=sn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ve.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ve.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;ve.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=sn.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);bl.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:sn.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ve.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,u=c,f=o.streamId??l.rtcp.cname,m=this._pc.getRemoteStreams().find(g=>g.id===f).getTrackById(u);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l}),r.push({localId:u,track:m})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ve.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ve.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new va.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};ve.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};ve.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=sn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ve.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=sn.parse(this._pc.localDescription.sdp));const n=bl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}pf.Chrome55=Fv;var hf={},qA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KA=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qA(t,e,r);return KA(t,e),t};Object.defineProperty(hf,"__esModule",{value:!0});hf.Firefox120=void 0;const ss=Fc(Ye),GA=We,YS=it,XS=Fc(Je),zi=Fc(De),xl=Fc(Dt),QS=Fc(Rn),YA=Lt,XA=Zt,QA=En,ee=new GA.Logger("Firefox120"),JA="Firefox120",JS={OS:16,MIS:2048};class zv extends YA.HandlerInterface{static createFactory(){return()=>new zv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return JA}close(){if(ee.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){ee.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"}),t.addTransceiver(s,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const i=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const o=ss.parse(i.sdp);return xl.extractRtpCapabilities({sdpObject:o})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return ee.debug("getNativeSctpCapabilities()"),{numStreams:JS}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),ee.debug("run()"),this._direction=t,this._remoteSdp=new XA.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:zi.getSendingRtpParameters("audio",d),video:zi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:zi.getSendingRemoteRtpParameters("audio",d),video:zi.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ee.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new YS.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),ee.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ee.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),ee.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const o=XS.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=zi.reduceCodecs(o.codecs,s);const a=XS.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=zi.reduceCodecs(a.codecs,s);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(c.sender);const l=await this._pc.createOffer();let d=ss.parse(l.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d});const u=(0,QA.parse)((r??[{}])[0].scalabilityMode);ee.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l);const f=c.mid;o.mid=f,d=ss.parse(this._pc.localDescription.sdp);const p=d.media[d.media.length-1];if(o.rtcp.cname=xl.getCname({offerMediaObject:p}),!r)o.encodings=QS.getRtpEncodings({offerMediaObject:p});else if(r.length===1){const g=QS.getRtpEncodings({offerMediaObject:p});Object.assign(g[0],r[0]),o.encodings=g}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of o.encodings)g.scalabilityMode?g.scalabilityMode=`L1T${u.temporalLayers}`:g.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const m={type:"answer",sdp:this._remoteSdp.getSdp()};return ee.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m),this._mapMidTransceiver.set(f,c),{localId:f,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),ee.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();ee.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();ee.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),ee.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();ee.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?ee.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ee.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),ee.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();ee.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ee.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%JS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ss.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),ee.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ee.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;ee.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=ss.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);xl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u}),i={type:"answer",sdp:ss.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),ee.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){ee.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){ee.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ee.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ee.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ss.parse(u.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}ee.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ss.parse(this._pc.localDescription.sdp));const n=xl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new YS.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}hf.Firefox120=zv;var mf={},ZA=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),e4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ZA(t,e,r);return e4(t,e),t};Object.defineProperty(mf,"__esModule",{value:!0});mf.Firefox60=void 0;const is=zc(Ye),t4=We,ZS=it,Pp=zc(Je),Bi=zc(De),Cl=zc(Dt),e_=zc(Rn),r4=Lt,n4=Zt,s4=En,te=new t4.Logger("Firefox60"),i4="Firefox60",t_={OS:16,MIS:2048};class Bv extends r4.HandlerInterface{static createFactory(){return()=>new Bv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return i4}close(){if(te.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){te.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const s=r.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const i=t.addTransceiver(s,{direction:"sendrecv"}),o=i.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];o.encodings=a,await i.sender.setParameters(o);const c=await t.createOffer();try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}const l=is.parse(c.sdp);return Cl.extractRtpCapabilities({sdpObject:l})}catch(i){try{r.remove()}catch{}try{s.stop()}catch{}try{t.close()}catch{}throw i}}async getNativeSctpCapabilities(){return te.debug("getNativeSctpCapabilities()"),{numStreams:t_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),te.debug("run()"),this._direction=t,this._remoteSdp=new n4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Bi.getSendingRtpParameters("audio",d),video:Bi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Bi.getSendingRemoteRtpParameters("audio",d),video:Bi.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(te.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new ZS.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),te.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});te.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertNotClosed(),this.assertSendDirection(),te.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&(r=Pp.clone(r),r.forEach((m,g)=>{m.rid=`r${g}`}),r.reverse());const i=Pp.clone(this._sendingRtpParametersByKind[t.kind]);i.codecs=Bi.reduceCodecs(i.codecs,s);const o=Pp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);o.codecs=Bi.reduceCodecs(o.codecs,s);const a=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(r){const m=a.sender.getParameters();m.encodings=r,await a.sender.setParameters(m)}const c=await this._pc.createOffer();let l=is.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l});const d=(0,s4.parse)((r??[{}])[0].scalabilityMode);te.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const u=a.mid;i.mid=u,l=is.parse(this._pc.localDescription.sdp);const f=l.media[l.media.length-1];if(i.rtcp.cname=Cl.getCname({offerMediaObject:f}),!r)i.encodings=e_.getRtpEncodings({offerMediaObject:f});else if(r.length===1){const m=e_.getRtpEncodings({offerMediaObject:f});Object.assign(m[0],r[0]),i.encodings=m}else i.encodings=r.reverse();if(i.encodings.length>1&&(i.codecs[0].mimeType.toLowerCase()==="video/vp8"||i.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of i.encodings)m.scalabilityMode?m.scalabilityMode=`L1T${d.temporalLayers}`:m.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,offerRtpParameters:i,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const p={type:"answer",sdp:this._remoteSdp.getSdp()};return te.debug("send() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._mapMidTransceiver.set(u,a),{localId:u,rtpParameters:i,rtpSender:a.sender}}async stopSending(t){if(this.assertSendDirection(),te.debug("stopSending() [localId:%s]",t),this._closed)return;const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();te.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();te.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),te.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();te.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?te.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):te.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");const s=n.sender.getParameters();r=s.encodings.length-1-r,s.encodings.forEach((a,c)=>{c>=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),te.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();te.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};te.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%t_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=is.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),te.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};te.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;te.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=is.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);Cl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u}),i={type:"answer",sdp:is.write(o)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:o}),te.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){te.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){te.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();te.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};te.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=is.parse(u.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:f})}te.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=is.parse(this._pc.localDescription.sdp));const n=Cl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new ZS.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}mf.Firefox60=Bv;var gf={},o4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),a4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o4(t,e,r);return a4(t,e),t};Object.defineProperty(gf,"__esModule",{value:!0});gf.Safari12=void 0;const on=Jo(Ye),c4=We,r_=Jo(Je),Ui=Jo(De),Rl=Jo(Dt),n_=Jo(Rn),l4=Jo(Yo),d4=it,u4=Lt,f4=Zt,p4=En,Q=new c4.Logger("Safari12"),h4="Safari12",s_={OS:1024,MIS:1024};class Uv extends u4.HandlerInterface{static createFactory(){return()=>new Uv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return h4}close(){if(Q.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Q.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=on.parse(r.sdp),s=Rl.extractRtpCapabilities({sdpObject:n});return l4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Q.debug("getNativeSctpCapabilities()"),{numStreams:s_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Q.debug("run()"),this._direction=t,this._remoteSdp=new f4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Ui.getSendingRtpParameters("audio",d),video:Ui.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Ui.getSendingRemoteRtpParameters("audio",d),video:Ui.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Q.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Q.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Q.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Q.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Q.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=r_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Ui.reduceCodecs(o.codecs,s);const a=r_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Ui.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});i&&i(l.sender);let d=await this._pc.createOffer(),u=on.parse(d.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});const p=(0,p4.parse)((r??[{}])[0].scalabilityMode);r&&r.length>1&&(Q.debug("send() | enabling legacy simulcast"),u=on.parse(d.sdp),f=u.media[c.idx],n_.addLegacySimulcast({offerMediaObject:f,numStreams:r.length}),d={type:"offer",sdp:on.write(u)}),Q.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const m=l.mid;if(o.mid=m,u=on.parse(this._pc.localDescription.sdp),f=u.media[c.idx],o.rtcp.cname=Rl.getCname({offerMediaObject:f}),o.encodings=n_.getRtpEncodings({offerMediaObject:f}),r)for(let v=0;v<o.encodings.length;++v)r[v]&&Object.assign(o.encodings[v],r[v]);if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of o.encodings)v.scalabilityMode?v.scalabilityMode=`L1T${p.temporalLayers}`:v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};return Q.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Q.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Q.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Q.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Q.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const n=await this._pc.createOffer();Q.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Q.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Q.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Q.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Q.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Q.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%s_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=on.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Q.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Q.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Q.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=on.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);Rl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:on.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Q.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(!d)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver})}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Q.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Q.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Q.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Q.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=on.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Q.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=on.parse(this._pc.localDescription.sdp));const n=Rl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new d4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}gf.Safari12=Uv;var vf={},m4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m4(t,e,r);return g4(t,e),t};Object.defineProperty(vf,"__esModule",{value:!0});vf.Safari11=void 0;const an=Bc(Ye),v4=We,i_=Bc(Je),Vi=Bc(De),El=Bc(Dt),o_=Bc(Si),y4=Lt,w4=Zt,ue=new v4.Logger("Safari11"),S4="Safari11",a_={OS:1024,MIS:1024};class Vv extends y4.HandlerInterface{static createFactory(){return()=>new Vv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return S4}close(){if(ue.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){ue.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=an.parse(r.sdp);return El.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return ue.debug("getNativeSctpCapabilities()"),{numStreams:a_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){ue.debug("run()"),this._direction=t,this._remoteSdp=new w4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Vi.getSendingRtpParameters("audio",d),video:Vi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Vi.getSendingRemoteRtpParameters("audio",d),video:Vi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(ue.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){ue.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(ue.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});ue.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),ue.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&ue.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let i=await this._pc.createOffer(),o=an.parse(i.sdp),a;const c=i_.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Vi.reduceCodecs(c.codecs);const l=i_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Vi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(ue.debug("send() | enabling simulcast"),o=an.parse(i.sdp),a=o.media.find(p=>p.type==="video"),o_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:an.write(o)}),ue.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=an.parse(this._pc.localDescription.sdp),a=o.media.find(p=>p.type===t.kind),c.rtcp.cname=El.getCname({offerMediaObject:a}),c.encodings=o_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let p=0;p<c.encodings.length;++p)r[p]&&Object.assign(c.encodings[p],r[p]);if(c.encodings.length>1&&c.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of c.encodings)p.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);this._nextSendLocalId++;const f=this._pc.getSenders().find(p=>p.track===t);return this._mapSendLocalIdRtpSender.set(u,f),{localId:u,rtpParameters:c,rtpSender:f}}async stopSending(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t);const n=await this._pc.createOffer();ue.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){ue.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){this.assertSendDirection(),r?ue.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):ue.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.track;await n.replaceTrack(r),s&&this._sendStream.removeTrack(s),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(t,r){this.assertSendDirection(),ue.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){this.assertSendDirection(),ue.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};ue.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%a_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=an.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),ue.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};ue.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[];for(const o of t){const{trackId:a,kind:c,rtpParameters:l,streamId:d}=o;ue.debug("receive() [trackId:%s, kind:%s]",a,c);const u=c;this._remoteSdp.receive({mid:u,kind:c,offerRtpParameters:l,streamId:d??l.rtcp.cname,trackId:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);let s=await this._pc.createAnswer();const i=an.parse(s.sdp);for(const o of t){const{kind:a,rtpParameters:c}=o,l=a,d=i.media.find(u=>String(u.mid)===l);El.applyCodecParameters({offerRtpParameters:c,answerMediaObject:d})}s={type:"answer",sdp:an.write(i)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:i}),ue.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const o of t){const{kind:a,trackId:c,rtpParameters:l}=o,d=a,u=c,f=this._pc.getReceivers().find(p=>p.track&&p.track.id===u);if(!f)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(u,{mid:d,rtpParameters:l,rtpReceiver:f}),r.push({localId:u,track:f.track,rtpReceiver:f})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){ue.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();ue.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(t)??{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};ue.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=an.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}ue.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=an.parse(this._pc.localDescription.sdp));const n=El.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}vf.Safari11=Vv;var yf={},wf={},_4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x4=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_4(t,e,r);return b4(t,e),t};Object.defineProperty(wf,"__esModule",{value:!0});wf.getCapabilities=C4;wf.mangleRtpParameters=R4;const HC=x4(Je);function C4(){const e=RTCRtpReceiver.getCapabilities(),t=HC.clone(e);for(const r of t.codecs??[]){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType??`${r.kind}/${r.name}`,r.parameters){const n=r.parameters;n.apt&&(n.apt=Number(n.apt)),n["packetization-mode"]&&(n["packetization-mode"]=Number(n["packetization-mode"]))}for(const n of r.rtcpFeedback??[])n.parameter||(n.parameter="")}return t}function R4(e){const t=HC.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const r of t.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return t}var E4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hv=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E4(t,e,r);return T4(t,e),t};Object.defineProperty(yf,"__esModule",{value:!0});yf.Edge11=void 0;const P4=We,kp=it,Tl=Hv(Je),Dp=Hv(De),Lp=Hv(wf),k4=Lt,_e=new P4.Logger("Edge11"),D4="Edge11";class Wv extends k4.HandlerInterface{static createFactory(){return()=>new Wv}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return D4}close(){_e.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return _e.debug("getNativeRtpCapabilities()"),Lp.getCapabilities()}async getNativeSctpCapabilities(){return _e.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){_e.debug("run()"),this._sendingRtpParametersByKind={audio:Dp.getSendingRtpParameters("audio",d),video:Dp.getSendingRtpParameters("video",d)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=s,this._cname=`CNAME-${Tl.generateRandomNumber()}`,this.setIceGatherer({iceServers:o,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new kp.UnsupportedError("not supported")}async restartIce(t){if(_e.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){_e.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){_e.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),_e.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(t,this._dtlsTransport),o=Tl.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Dp.reduceCodecs(o.codecs,s);const a=o.codecs.some(d=>/.+\/rtx$/i.test(d.mimeType));r||(r=[{}]);for(const d of r)d.ssrc=Tl.generateRandomNumber(),a&&(d.rtx={ssrc:Tl.generateRandomNumber()});o.encodings=r,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=Lp.mangleRtpParameters(o);_e.debug("send() | calling rtpSender.send() [params:%o]",c),await i.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,i),{localId:l,rtpParameters:o,rtpSender:i}}async stopSending(t){_e.debug("stopSending() [localId:%s]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{_e.debug("stopSending() | calling rtpSender.stop()"),r.stop()}catch(n){throw _e.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){r?_e.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):_e.debug("replaceTrack() [localId:%s, no track]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(r)}async setMaxSpatialLayer(t,r){_e.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{o<=r?i.active=!0:i.active=!1}),await n.setParameters(s)}async setRtpEncodingParameters(t,r){_e.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");const s=n.getParameters();s.encodings.forEach((i,o)=>{s.encodings[o]={...i,...r}}),await n.setParameters(s)}async getSenderStats(t){const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");return r.getStats()}async sendDataChannel(t){throw new kp.UnsupportedError("not implemented")}async receive(t){const r=[];for(const n of t){const{trackId:s,kind:i}=n;_e.debug("receive() [trackId:%s, kind:%s]",s,i)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const n of t){const{trackId:s,kind:i,rtpParameters:o}=n;_e.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,i);a.addEventListener("error",d=>{_e.error('rtpReceiver "error" event [event:%o]',d)});const c=Lp.mangleRtpParameters(o);_e.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=s;this._rtpReceivers.set(l,a),r.push({localId:l,track:a.track,rtpReceiver:a})}return r}async stopReceiving(t){for(const r of t){_e.debug("stopReceiving() [localId:%s]",r);const n=this._rtpReceivers.get(r);if(!n)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{_e.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(s){_e.warn("stopReceiving() | rtpReceiver.stop() failed:%o",s)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const r=this._rtpReceivers.get(t);if(!r)throw new Error("RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel(t){throw new kp.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:r}){const n=new RTCIceGatherer({iceServers:t??[],gatherPolicy:r??"all"});n.addEventListener("error",s=>{_e.error('iceGatherer "error" event [event:%o]',s)});try{n.gather()}catch(s){_e.debug("setIceGatherer() | iceGatherer.gather() failed: %s",s.toString())}this._iceGatherer=n}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("candidatepairchange",r=>{_e.debug('iceTransport "candidatepairchange" event [pair:%o]',r.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{_e.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{_e.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",r=>{_e.error('dtlsTransport "error" event [event:%o]',r)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){_e.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=t,await new Promise((n,s)=>{this.safeEmit("@connect",{dtlsParameters:r},n,s)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(n=>n.algorithm==="sha-256"||n.algorithm==="sha-384"||n.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}yf.Edge11=Wv;var Sf={},L4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zo=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L4(t,e,r);return j4(t,e),t};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.ReactNativeUnifiedPlan=void 0;const cn=Zo(Ye),M4=We,c_=Zo(Je),Hi=Zo(De),Pl=Zo(Dt),jp=Zo(Rn),I4=Zo(Yo),O4=it,N4=Lt,$4=Zt,A4=En,Y=new M4.Logger("ReactNativeUnifiedPlan"),F4="ReactNativeUnifiedPlan",l_={OS:1024,MIS:1024};class qv extends N4.HandlerInterface{static createFactory(){return()=>new qv}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return F4}close(){if(Y.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Y.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const r=await t.createOffer();try{t.close()}catch{}const n=cn.parse(r.sdp),s=Pl.extractRtpCapabilities({sdpObject:n});return I4.addNackSuppportForOpus(s),s}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Y.debug("getNativeSctpCapabilities()"),{numStreams:l_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){this.assertNotClosed(),Y.debug("run()"),this._direction=t,this._remoteSdp=new $4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i}),this._sendingRtpParametersByKind={audio:Hi.getSendingRtpParameters("audio",d),video:Hi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Hi.getSendingRemoteRtpParameters("audio",d),video:Hi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Y.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Y.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(this.assertNotClosed(),Y.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Y.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s,onRtpSender:i}){this.assertNotClosed(),this.assertSendDirection(),Y.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),r&&r.length>1&&r.forEach((y,_)=>{y.rid=`r${_}`});const o=c_.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Hi.reduceCodecs(o.codecs,s);const a=c_.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Hi.reduceCodecs(a.codecs,s);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});i&&i(l.sender);let d=await this._pc.createOffer(),u=cn.parse(d.sdp),f;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:u});let p=!1;const m=(0,A4.parse)((r??[{}])[0].scalabilityMode);r&&r.length===1&&m.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Y.debug("send() | enabling legacy simulcast for VP9 SVC"),p=!0,u=cn.parse(d.sdp),f=u.media[c.idx],jp.addLegacySimulcast({offerMediaObject:f,numStreams:m.spatialLayers}),d={type:"offer",sdp:cn.write(u)}),Y.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);let g=l.mid??void 0;if(g||Y.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),o.mid=g,u=cn.parse(this._pc.localDescription.sdp),f=u.media[c.idx],o.rtcp.cname=Pl.getCname({offerMediaObject:f}),!r)o.encodings=jp.getRtpEncodings({offerMediaObject:f});else if(r.length===1){let y=jp.getRtpEncodings({offerMediaObject:f});Object.assign(y[0],r[0]),p&&(y=[y[0]]),o.encodings=y}else o.encodings=r;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const y of o.encodings)y.scalabilityMode?y.scalabilityMode=`L1T${m.temporalLayers}`:y.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const v={type:"answer",sdp:this._remoteSdp.getSdp()};return Y.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),g||(g=l.mid,o.mid=g),this._mapMidTransceiver.set(g,l),{localId:g,rtpParameters:o,rtpSender:l.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Y.debug("stopSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const s=await this._pc.createOffer();Y.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("pauseSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(t);const n=await this._pc.createOffer();Y.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Y.debug("resumeSending() [localId:%s]",t);const r=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Y.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const s={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async replaceTrack(t,r){this.assertNotClosed(),this.assertSendDirection(),r?Y.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):Y.debug("replaceTrack() [localId:%s, no track]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{c<=r?a.active=!0:a.active=!1}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async setRtpEncodingParameters(t,r){this.assertNotClosed(),this.assertSendDirection(),Y.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");const s=n.sender.getParameters();s.encodings.forEach((a,c)=>{s.encodings[c]={...a,...r}}),await n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(t,s.encodings);const i=await this._pc.createOffer();Y.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertNotClosed(),this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmits:n,protocol:i};Y.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%l_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=cn.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),Y.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Y.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d,streamId:u}=a;Y.debug("receive() [trackId:%s, kind:%s]",c,l);const f=d.mid??String(this._mapMidTransceiver.size);n.set(c,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:u??d.rtcp.cname,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);for(const a of t){const{trackId:c,onRtpReceiver:l}=a;if(l){const d=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===d);if(!u)throw new Error("transceiver not found");l(u.receiver)}}let i=await this._pc.createAnswer();const o=cn.parse(i.sdp);for(const a of t){const{trackId:c,rtpParameters:l}=a,d=n.get(c),u=o.media.find(f=>String(f.mid)===d);Pl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:cn.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Y.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{trackId:c}=a,l=n.get(c),d=this._pc.getTransceivers().find(u=>u.mid===l);if(d)this._mapMidTransceiver.set(l,d),r.push({localId:l,track:d.receiver.track,rtpReceiver:d.receiver});else throw new Error("new RTCRtpTransceiver not found")}return r}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const s of t){Y.debug("stopReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(i.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const s of t)this._mapMidTransceiver.delete(s)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("pauseReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="inactive",this._remoteSdp.pauseMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const s of t){Y.debug("resumeReceiving() [localId:%s]",s);const i=this._mapMidTransceiver.get(s);if(!i)throw new Error("associated RTCRtpTransceiver not found");i.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(s)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Y.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a,protocol:n};Y.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const d={type:"offer",sdp:this._remoteSdp.getSdp()};Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=cn.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}Y.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=cn.parse(this._pc.localDescription.sdp));const n=Pl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new O4.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Sf.ReactNativeUnifiedPlan=qv;var _f={},z4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uc=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z4(t,e,r);return B4(t,e),t};Object.defineProperty(_f,"__esModule",{value:!0});_f.ReactNative=void 0;const ln=Uc(Ye),U4=We,ya=it,Mp=Uc(Je),Wi=Uc(De),kl=Uc(Dt),d_=Uc(Si),V4=Lt,H4=Zt,me=new U4.Logger("ReactNative"),W4="ReactNative",u_={OS:1024,MIS:1024};class Kv extends V4.HandlerInterface{static createFactory(){return()=>new Kv}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return W4}close(){if(me.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){me.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const n=ln.parse(r.sdp);return kl.extractRtpCapabilities({sdpObject:n})}catch(r){try{t.close()}catch{}throw r}}async getNativeSctpCapabilities(){return me.debug("getNativeSctpCapabilities()"),{numStreams:u_}}run({direction:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){me.debug("run()"),this._direction=t,this._remoteSdp=new H4.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:Wi.getSendingRtpParameters("audio",d),video:Wi.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:Wi.getSendingRemoteRtpParameters("audio",d),video:Wi.getSendingRemoteRtpParameters("video",d)},s.role&&s.role!=="auto"&&(this._forcedLocalDtlsRole=s.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:o??[],iceTransportPolicy:a??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(me.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){me.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=t,this._pc.setConfiguration(r)}async restartIce(t){if(me.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});me.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();me.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:r,codecOptions:n,codec:s}){this.assertSendDirection(),me.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),s&&me.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let i=await this._pc.createOffer(),o=ln.parse(i.sdp),a;const c=Mp.clone(this._sendingRtpParametersByKind[t.kind]);c.codecs=Wi.reduceCodecs(c.codecs);const l=Mp.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(l.codecs=Wi.reduceCodecs(l.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),t.kind==="video"&&r&&r.length>1&&(me.debug("send() | enabling simulcast"),o=ln.parse(i.sdp),a=o.media.find(f=>f.type==="video"),d_.addLegacySimulcast({offerMediaObject:a,track:t,numStreams:r.length}),i={type:"offer",sdp:ln.write(o)}),me.debug("send() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i),o=ln.parse(this._pc.localDescription.sdp),a=o.media.find(f=>f.type===t.kind),c.rtcp.cname=kl.getCname({offerMediaObject:a}),c.encodings=d_.getRtpEncodings({offerMediaObject:a,track:t}),r)for(let f=0;f<c.encodings.length;++f)r[f]&&Object.assign(c.encodings[f],r[f]);if(c.encodings.length>1&&(c.codecs[0].mimeType.toLowerCase()==="video/vp8"||c.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const f of c.encodings)f.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:n});const d={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(u,t),{localId:u,rtpParameters:c}}async stopSending(t){this.assertSendDirection(),me.debug("stopSending() [localId:%s]",t);const r=this._mapSendLocalIdTrack.get(t);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();me.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(i){if(this._sendStream.getTracks().length===0){me.warn("stopSending() | ignoring expected error due no sending tracks: %s",i.toString());return}throw i}if(this._pc.signalingState==="stable")return;const s={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",s),await this._pc.setRemoteDescription(s)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,r){throw new ya.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,r){throw new ya.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,r){throw new ya.UnsupportedError("not implemented")}async getSenderStats(t){throw new ya.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:r,maxRetransmits:n,label:s,protocol:i}){this.assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:i};me.debug("sendDataChannel() [options:%o]",o);const a=this._pc.createDataChannel(s,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%u_.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),d=ln.parse(l.sdp),u=d.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:d}),me.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:u});const f={type:"answer",sdp:this._remoteSdp.getSdp()};me.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._hasDataChannelMediaSection=!0}const c={streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(t){this.assertRecvDirection();const r=[],n=new Map;for(const a of t){const{trackId:c,kind:l,rtpParameters:d}=a;me.debug("receive() [trackId:%s, kind:%s]",c,l);const u=l;let f=a.streamId??d.rtcp.cname;me.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),f+=`-hack-${Mp.generateRandomNumber()}`,n.set(c,f),this._remoteSdp.receive({mid:u,kind:l,offerRtpParameters:d,streamId:f,trackId:c})}const s={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let i=await this._pc.createAnswer();const o=ln.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:l}=a,d=c,u=o.media.find(f=>String(f.mid)===d);kl.applyCodecParameters({offerRtpParameters:l,answerMediaObject:u})}i={type:"answer",sdp:ln.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),me.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:l,rtpParameters:d}=a,u=l,f=c,p=n.get(l),g=this._pc.getRemoteStreams().find(v=>v.id===p).getTrackById(u);if(!g)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(u,{mid:f,rtpParameters:d}),r.push({localId:u,track:g})}return r}async stopReceiving(t){this.assertRecvDirection();for(const s of t){me.debug("stopReceiving() [localId:%s]",s);const{mid:i,rtpParameters:o}=this._mapRecvLocalIdInfo.get(s)??{};this._mapRecvLocalIdInfo.delete(s),this._remoteSdp.planBStopReceiving({mid:i,offerRtpParameters:o})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();me.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new ya.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:r,protocol:n}){this.assertRecvDirection();const{streamId:s,ordered:i,maxPacketLifeTime:o,maxRetransmits:a}=t,c={negotiated:!0,id:s,ordered:i,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:a,protocol:n};me.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const d={type:"offer",sdp:this._remoteSdp.getSdp()};me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",d),await this._pc.setRemoteDescription(d);const u=await this._pc.createAnswer();if(!this._transportReady){const f=ln.parse(u.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:f})}me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:t,localSdpObject:r}){r||(r=ln.parse(this._pc.localDescription.sdp));const n=kl.extractDtlsParameters({sdpObject:r});n.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((s,i)=>{this.safeEmit("@connect",{dtlsParameters:n},s,i)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}_f.ReactNative=Kv;var q4=k&&k.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),K4=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WC=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&q4(t,e,r);return K4(t,e),t};Object.defineProperty(Go,"__esModule",{value:!0});Go.Device=void 0;Go.detectDevice=qC;const G4=o$,Y4=We,X4=Cn,qi=it,f_=WC(Je),os=WC(De),Q4=Lc,J4=lf,Z4=df,e9=uf,t9=ff,r9=pf,n9=hf,s9=mf,i9=gf,o9=vf,a9=yf,c9=Sf,l9=_f,ut=new Y4.Logger("Device");function qC(e){var t,r,n,s;if(!e&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(ut.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){ut.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(ut.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(ut.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(e||typeof navigator=="object"&&typeof navigator.userAgent=="string"){e??(e=navigator.userAgent);const i=new G4.UAParser(e);ut.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",e,i.getResult());const o=i.getBrowser(),a=(t=o.name)==null?void 0:t.toLowerCase(),c=parseInt(o.major??"0"),d=(r=i.getEngine().name)==null?void 0:r.toLowerCase(),u=i.getOS(),f=(n=u.name)==null?void 0:n.toLowerCase(),p=parseFloat(u.version??"0"),g=(s=i.getDevice().model)==null?void 0:s.toLowerCase(),v=f==="ios"||g==="ipad",y=a&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(a),_=a&&["firefox","mobile firefox","mobile focus"].includes(a),S=a&&["safari","mobile safari"].includes(a),b=a&&["edge"].includes(a);if((y||b)&&!v&&c>=111)return"Chrome111";if(y&&!v&&c>=74||b&&!v&&c>=88)return"Chrome74";if(y&&!v&&c>=70)return"Chrome70";if(y&&!v&&c>=67)return"Chrome67";if(y&&!v&&c>=55)return"Chrome55";if(_&&!v&&c>=120)return"Firefox120";if(_&&!v&&c>=60)return"Firefox60";if(_&&v&&p>=14.3)return"Safari12";if(S&&c>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(S&&c>=11)return"Safari11";if(b&&!v&&c>=11&&c<=18)return"Edge11";if(d==="webkit"&&v&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(d==="blink"){const C=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(C){const x=Number(C[1]);return x>=111?"Chrome111":x>=74?"Chrome74":x>=70?"Chrome70":x>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{ut.warn("detectDevice() | browser not supported [name:%s, version:%s]",a,c);return}}else{ut.warn("detectDevice() | unknown device");return}}class d9{constructor({handlerName:t,handlerFactory:r}={}){if(this._loaded=!1,this._observer=new X4.EnhancedEventEmitter,ut.debug("constructor()"),t&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(t)ut.debug("constructor() | handler given: %s",t);else if(t=qC(),t)ut.debug("constructor() | detected handler: %s",t);else throw new qi.UnsupportedError("device not supported");switch(t){case"Chrome111":{this._handlerFactory=J4.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=Z4.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=e9.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=t9.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=r9.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=n9.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=s9.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=i9.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=o9.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=a9.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=c9.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=l9.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${t}"`)}}const n=this._handlerFactory();this._handlerName=n.name,n.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new qi.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new qi.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){ut.debug("load() [routerRtpCapabilities:%o]",t);let r;try{if(this._loaded)throw new qi.InvalidStateError("already loaded");const n=f_.clone(t);os.validateRtpCapabilities(n),r=this._handlerFactory();const s=await r.getNativeRtpCapabilities();ut.debug("load() | got native RTP capabilities:%o",s);const i=f_.clone(s);os.validateRtpCapabilities(i),this._extendedRtpCapabilities=os.getExtendedRtpCapabilities(i,n),ut.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=os.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=os.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=os.getRecvRtpCapabilities(this._extendedRtpCapabilities),os.validateRtpCapabilities(this._recvRtpCapabilities),ut.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await r.getNativeSctpCapabilities(),ut.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),os.validateSctpCapabilities(this._sctpCapabilities),ut.debug("load() succeeded"),this._loaded=!0,r.close()}catch(n){throw r&&r.close(),n}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new qi.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return ut.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createRecvTransport({id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d}){return ut.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:s,sctpParameters:i,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:d})}createTransport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u}){if(this._loaded){if(typeof r!="string")throw new TypeError("missing id");if(typeof n!="object")throw new TypeError("missing iceParameters");if(Array.isArray(s)){if(typeof i!="object")throw new TypeError("missing dtlsParameters");if(o&&typeof o!="object")throw new TypeError("wrong sctpParameters");if(u&&typeof u!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new qi.InvalidStateError("not loaded");const f=new Q4.Transport({direction:t,id:r,iceParameters:n,iceCandidates:s,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:d,appData:u,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}Go.Device=d9;var KC={},GC={};Object.defineProperty(GC,"__esModule",{value:!0});var YC={};Object.defineProperty(YC,"__esModule",{value:!0});(function(e){var t=k&&k.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=k&&k.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Go,e),r(Lc,e),r(jc,e),r(Mc,e),r(Ic,e),r(Oc,e),r(GC,e),r(YC,e),r(Lt,e),r(it,e)})(KC);(function(e){var t=k&&k.__createBinding||(Object.create?function(l,d,u,f){f===void 0&&(f=u);var p=Object.getOwnPropertyDescriptor(d,u);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[u]}}),Object.defineProperty(l,f,p)}:function(l,d,u,f){f===void 0&&(f=u),l[f]=d[u]}),r=k&&k.__setModuleDefault||(Object.create?function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}:function(l,d){l.default=d}),n=k&&k.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&t(d,l,u);return r(d,l),d},s=k&&k.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const i=s(tf);e.debug=i.default;const o=Go;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}});const a=n(KC);e.types=a,e.version="3.7.17";var c=En;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(xC);const u9=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],f9=async(e,t,r)=>new Promise((n,s)=>{ye.emit("joinRoom",{roomName:e,userName:t,serverId:r},i=>{i.error?s(i.error):n(i.rtpCapabilities)})}),p9=async e=>{const t=new xC.Device;return await t.load({routerRtpCapabilities:e}),t},h9=async(e,t,r,n)=>new Promise((s,i)=>{ye.emit("createWebRtcTransport",{consumer:!1},async({params:o})=>{if(o.error){i(o.error);return}const a=e.createSendTransport(o);a.on("connect",({dtlsParameters:l},d)=>{ye.emit("transport-connect",{dtlsParameters:l}),d()}),a.on("produce",(l,d)=>{ye.emit("transport-produce",{kind:l.kind,rtpParameters:l.rtpParameters},({id:u})=>{d({id:u}),m9(ye,e,n)})});const c=await a.produce({track:t});r(c),s(a),c.on("trackended",()=>{r(null)})})}),m9=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(s=>XC(s,t,r))})},XC=async(e,t,r)=>{ye.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const s=t.createRecvTransport(n);s.on("connect",({dtlsParameters:i},o)=>{ye.emit("transport-recv-connect",{dtlsParameters:i,serverConsumerTransportId:n.id}),o()}),g9(s,e,n.id,t,r)})},g9=async(e,t,r,n,s)=>{ye.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:i})=>{const o=await e.consume(i);s(o),ye.emit("consumer-resume",{serverConsumerId:i.serverConsumerId})})},QC=w.createContext(null),v9=e=>{const[t,r]=w.useState(!1),[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,c]=w.useState([]),[l,d]=w.useState([]),[u,f]=w.useState(null),[p,m]=w.useState(null),[g,v]=w.useState(null),[y,_]=w.useState(null),[S,b]=w.useState(null),C=E=>{c(R=>[...R,E])},x=()=>{p&&(n?p.resume():p.pause(),s(!n))};return w.useEffect(()=>{if(ye)return ye.on("producerClosed",({producerId:E})=>{c(R=>R.filter(P=>P.producerId!==E))}),ye.on("producer-closed",({remoteProducerId:E})=>{c(R=>R.filter(P=>P.producerId!==E))}),ye.on("new-producer",({producerId:E})=>{u&&XC(E,u,C)}),ye.on("updateUsersList",({rooms:E})=>{d(E)}),()=>{ye.off("producerClosed"),ye.off("producer-closed"),ye.off("new-producer"),ye.off("updateUsersList")}},[u]),h.jsx(QC.Provider,{value:{isConnected:t,isMuted:n,isStreaming:i,setIsConnected:r,setIsMuted:s,setIsStreaming:o,audioProducer:p,setAudioProducer:m,videoProducer:g,setVideoProducer:v,device:u,setDevice:f,producerTransport:y,setProducerTransport:_,consumers:a,users:l,addConsumer:C,setConsumers:c,toggleMute:x,selectedUserId:S,setSelectedUserId:b},children:e.children})};function y9(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const w9=typeof window<"u"?w.useLayoutEffect:w.useEffect;function vt(e,t){w9(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function S9(e,t){e&&y9(e),vt(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),vt(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),vt(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),vt(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),vt(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),vt(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),vt(`mantine-form:${e}:clear-errors`,t.clearErrors),vt(`mantine-form:${e}:reset`,t.reset),vt(`mantine-form:${e}:validate`,t.validate),vt(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),vt(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),vt(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),vt(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),vt(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),vt(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),vt(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),vt(`mantine-form:${e}:reset-touched`,t.resetTouched)}function _9(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function rm(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function b9(e){const[t,r]=w.useState(rm(e)),n=w.useRef(t),s=w.useCallback(c=>{r(l=>{const d=rm(typeof c=="function"?c(l):c);return n.current=d,d})},[]),i=w.useCallback(()=>s({}),[]),o=w.useCallback(c=>{n.current[c]!==void 0&&s(l=>{const d={...l};return delete d[c],d})},[t]),a=w.useCallback((c,l)=>{l==null||l===!1?o(c):n.current[c]!==l&&s(d=>({...d,[c]:l}))},[t]);return{errorsState:t,setErrors:s,clearErrors:i,setFieldError:a,clearFieldError:o}}function nm(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function p_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function h_(e,t,r,n){if(t===void 0)return r;const s=`${String(e)}`;let i=r;n===-1&&(i=nm(`${s}.${t}`,i));const o={...i},a=new Set;return Object.entries(i).filter(([c])=>{if(!c.startsWith(`${s}.`))return!1;const l=p_(c,s);return Number.isNaN(l)?!1:l>=t}).forEach(([c,l])=>{const d=p_(c,s),u=c.replace(`${s}.${d}`,`${s}.${d+n}`);o[u]=l,a.add(u),a.has(c)||delete o[c]}),o}function x9(e,{from:t,to:r},n){const s=`${e}.${t}`,i=`${e}.${r}`,o={...n};return Object.keys(n).every(a=>{let c,l;if(a.startsWith(s)&&(c=a,l=a.replace(s,i)),a.startsWith(i)&&(c=a.replace(i,s),l=a),c&&l){const d=o[c],u=o[l];return u===void 0?delete o[c]:o[c]=u,d===void 0?delete o[l]:o[l]=d,!1}return!0}),o}function m_(e,t,r){typeof r.value=="object"&&(r.value=oo(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function oo(e){if(typeof e!="object")return e;var t=0,r,n,s,i=Object.prototype.toString.call(e);if(i==="[object Object]"?s=Object.create(e.__proto__||null):i==="[object Array]"?s=Array(e.length):i==="[object Set]"?(s=new Set,e.forEach(function(o){s.add(oo(o))})):i==="[object Map]"?(s=new Map,e.forEach(function(o,a){s.set(oo(a),oo(o))})):i==="[object Date]"?s=new Date(+e):i==="[object RegExp]"?s=new RegExp(e.source,e.flags):i==="[object DataView]"?s=new e.constructor(oo(e.buffer)):i==="[object ArrayBuffer]"?s=e.slice(0):i.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)m_(s,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(s,r=n[t])&&s[r]===e[r]||m_(s,r,Object.getOwnPropertyDescriptor(e,r))}return s||e}function JC(e){return typeof e!="string"?[]:e.split(".")}function Tt(e,t){const r=JC(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function bf(e,t,r){const n=JC(e);if(n.length===0)return r;const s=oo(r);if(n.length===1)return s[n[0]]=t,s;let i=s[n[0]];for(let o=1;o<n.length-1;o+=1){if(i===void 0)return s;i=i[n[o]]}return i[n[n.length-1]]=t,s}function C9(e,{from:t,to:r},n){const s=Tt(e,n);if(!Array.isArray(s))return n;const i=[...s],o=s[t];return i.splice(t,1),i.splice(r,0,o),bf(e,i,n)}function R9(e,t,r,n){const s=Tt(e,n);if(!Array.isArray(s))return n;const i=[...s];return i.splice(typeof r=="number"?r:i.length,0,t),bf(e,i,n)}function E9(e,t,r){const n=Tt(e,r);return Array.isArray(n)?bf(e,n.filter((s,i)=>i!==t),r):r}function T9({$values:e,$errors:t,$status:r}){const n=w.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>x9(o,a,c)),e.setValues({values:C9(o,a,e.refValues.current),updateState:!0})},[]),s=w.useCallback((o,a)=>{r.clearFieldDirty(o),t.setErrors(c=>h_(o,a,c,-1)),e.setValues({values:E9(o,a,e.refValues.current),updateState:!0})},[]),i=w.useCallback((o,a,c)=>{r.clearFieldDirty(o),t.setErrors(l=>h_(o,c,l,1)),e.setValues({values:R9(o,a,c,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:i}}var P9=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const Dl=hm(P9);function wa(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(s=>s.startsWith(`${t}.`));return e[t]||n.some(s=>e[s])||!1}return r.some(n=>e[n])}function k9({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[s,i]=w.useState(t),[o,a]=w.useState(e),c=w.useRef(t),l=w.useRef(e),d=w.useCallback(x=>{const E=typeof x=="function"?x(c.current):x;c.current=E,r==="controlled"&&i(E)},[]),u=w.useCallback((x,E=!1)=>{const R=typeof x=="function"?x(l.current):x;l.current=R,(r==="controlled"||E)&&a(R)},[]),f=w.useCallback(()=>d({}),[]),p=x=>{const E=x?{...x,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(E),u({})},m=w.useCallback((x,E)=>{d(R=>wa(R,x)===E?R:{...R,[x]:E})},[]),g=w.useCallback((x,E,R)=>{u(P=>wa(P,x)===E?P:{...P,[x]:E},R)},[]),v=w.useCallback((x,E)=>{const R=wa(l.current,x),P=!Dl(Tt(x,n.getValuesSnapshot()),E),L=nm(x,l.current);L[x]=P,u(L,R!==P)},[]),y=w.useCallback(x=>wa(c.current,x),[]),_=w.useCallback(x=>u(E=>{if(typeof x!="string")return E;const R=nm(x,E);return delete R[x],Dl(R,E)?E:R}),[]),S=w.useCallback(x=>{if(x){const R=Tt(x,l.current);if(typeof R=="boolean")return R;const P=Tt(x,n.refValues.current),L=Tt(x,n.valuesSnapshot.current);return!Dl(P,L)}return Object.keys(l.current).length>0?wa(l.current):!Dl(n.refValues.current,n.valuesSnapshot.current)},[]),b=w.useCallback(()=>l.current,[]),C=w.useCallback(()=>c.current,[]);return{touchedState:s,dirtyState:o,touchedRef:c,dirtyRef:l,setTouched:d,setDirty:u,resetDirty:p,resetTouched:f,isTouched:y,setFieldTouched:m,setFieldDirty:g,setTouchedState:i,setDirtyState:a,clearFieldDirty:_,isDirty:S,getDirty:b,getTouched:C,setCalculatedFieldDirty:v}}function D9({initialValues:e,onValuesChange:t,mode:r}){const n=w.useRef(!1),[s,i]=w.useState(e||{}),o=w.useRef(s),a=w.useRef(s),c=w.useCallback(({values:g,subscribers:v,updateState:y=!0,mergeWithPreviousValues:_=!0})=>{const S=o.current,b=g instanceof Function?g(o.current):g,C=_?{...S,...b}:b;o.current=C,y&&i(C),t==null||t(C,S),v==null||v.filter(Boolean).forEach(x=>x({updatedValues:C,previousValues:S}))},[t]),l=w.useCallback(g=>{var _;const v=Tt(g.path,o.current),y=g.value instanceof Function?g.value(v):g.value;if(v!==y){const S=o.current,b=bf(g.path,y,o.current);c({values:b,updateState:g.updateState}),(_=g.subscribers)==null||_.filter(Boolean).forEach(C=>C({path:g.path,updatedValues:b,previousValues:S}))}},[c]),d=w.useCallback(g=>{a.current=g},[]),u=w.useCallback((g,v)=>{n.current||(n.current=!0,c({values:g,updateState:r==="controlled"}),d(g),v())},[c]),f=w.useCallback(()=>{c({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[c]),p=w.useCallback(()=>o.current,[]),m=w.useCallback(()=>a.current,[]);return{initialized:n,stateValues:s,refValues:o,valuesSnapshot:a,setValues:c,setFieldValue:l,resetValues:f,setValuesSnapshot:d,initialize:u,getValues:p,getValuesSnapshot:m}}function L9({$status:e}){const t=w.useRef({}),r=w.useCallback((s,i)=>{w.useEffect(()=>(t.current[s]=t.current[s]||[],t.current[s].push(i),()=>{t.current[s]=t.current[s].filter(o=>o!==i)}),[i])},[]),n=w.useCallback(s=>t.current[s]?t.current[s].map(i=>o=>i({previousValue:Tt(s,o.previousValues),value:Tt(s,o.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function g_(e,t){return e?`${e}-${t.toString()}`:t.toString()}function v_(e){const t=rm(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function sm(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((s,i)=>{const o=e[i],a=`${r===""?"":`${r}.`}${i}`,c=Tt(a,t);let l=!1;return typeof o=="function"&&(s[a]=o(c,t,a)),typeof o=="object"&&Array.isArray(c)&&(l=!0,c.forEach((d,u)=>sm(o,t,`${a}.${u}`,s))),typeof o=="object"&&typeof c=="object"&&c!==null&&(l||sm(o,t,a,s)),s},n)}function im(e,t){return v_(typeof e=="function"?e(t):sm(e,t))}function Ll(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=im(t,r),s=Object.keys(n.errors).find(i=>e.split(".").every((o,a)=>o===i.split(".")[a]));return{hasError:!!s,error:s?n.errors[s]:null}}const j9="__MANTINE_FORM_INDEX__";function y_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${j9}`)):!1:!1}function uc({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:c=!1,onValuesChange:l,transformValues:d=p=>p,enhanceGetInputProps:u,validate:f}={}){const p=b9(n),m=D9({initialValues:r,onValuesChange:l,mode:t}),g=k9({initialDirty:s,initialTouched:i,$values:m,mode:t}),v=T9({$values:m,$errors:p,$status:g}),y=L9({$status:g}),[_,S]=w.useState(0),[b,C]=w.useState({}),x=w.useCallback(()=>{m.resetValues(),p.clearErrors(),g.resetDirty(),g.resetTouched(),t==="uncontrolled"&&S(M=>M+1)},[]),E=w.useCallback(M=>{o&&p.clearErrors(),t==="uncontrolled"&&S(H=>H+1),Object.keys(y.subscribers.current).forEach(H=>{const J=Tt(H,m.refValues.current),he=Tt(H,M);J!==he&&y.getFieldSubscribers(H).forEach(Te=>Te({previousValues:M,updatedValues:m.refValues.current}))})},[o]),R=w.useCallback(M=>{const H=m.refValues.current;m.initialize(M,()=>t==="uncontrolled"&&S(J=>J+1)),E(H)},[E]),P=w.useCallback((M,H,J)=>{const he=y_(M,a),Te=H instanceof Function?H(Tt(M,m.refValues.current)):H;g.setCalculatedFieldDirty(M,Te),g.setFieldTouched(M,!0),!he&&o&&p.clearFieldError(M),m.setFieldValue({path:M,value:H,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(M),he?Pe=>{const de=Ll(M,f,Pe.updatedValues);de.hasError?p.setFieldError(M,de.error):p.clearFieldError(M)}:null,(J==null?void 0:J.forceUpdate)!==!1&&t!=="controlled"?()=>C(Pe=>({...Pe,[M]:(Pe[M]||0)+1})):null]})},[l,f]),L=w.useCallback(M=>{const H=m.refValues.current;m.setValues({values:M,updateState:t==="controlled"}),E(H)},[l,E]),$=w.useCallback(()=>{const M=im(f,m.refValues.current);return p.setErrors(M.errors),M},[f]),B=w.useCallback(M=>{const H=Ll(M,f,m.refValues.current);return H.hasError?p.setFieldError(M,H.error):p.clearFieldError(M),H},[f]),U=(M,{type:H="input",withError:J=!0,withFocus:he=!0,...Te}={})=>{const de={onChange:_9(mt=>P(M,mt,{forceUpdate:!1})),"data-path":g_(e,M)};return J&&(de.error=p.errorsState[M]),H==="checkbox"?de[t==="controlled"?"checked":"defaultChecked"]=Tt(M,m.refValues.current):de[t==="controlled"?"value":"defaultValue"]=Tt(M,m.refValues.current),he&&(de.onFocus=()=>g.setFieldTouched(M,!0),de.onBlur=()=>{if(y_(M,c)){const mt=Ll(M,f,m.refValues.current);mt.hasError?p.setFieldError(M,mt.error):p.clearFieldError(M)}}),Object.assign(de,u==null?void 0:u({inputProps:de,field:M,options:{type:H,withError:J,withFocus:he,...Te},form:j}))},z=(M,H)=>J=>{J==null||J.preventDefault();const he=$();he.hasErrors?H==null||H(he.errors,m.refValues.current,J):M==null||M(d(m.refValues.current),J)},K=M=>d(M||m.refValues.current),O=w.useCallback(M=>{M.preventDefault(),x()},[]),V=w.useCallback(M=>M?!Ll(M,f,m.refValues.current).hasError:!im(f,m.refValues.current).hasErrors,[f]),T=M=>`${_}-${M}-${b[M]||0}`,I=w.useCallback(M=>document.querySelector(`[data-path="${g_(e,M)}"]`),[]),j={watch:y.watch,initialized:m.initialized.current,values:m.stateValues,getValues:m.getValues,setInitialValues:m.setValuesSnapshot,initialize:R,setValues:L,setFieldValue:P,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:g.resetDirty,setTouched:g.setTouched,setDirty:g.setDirty,isTouched:g.isTouched,resetTouched:g.resetTouched,isDirty:g.isDirty,getTouched:g.getTouched,getDirty:g.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,reset:x,validate:$,validateField:B,getInputProps:U,onSubmit:z,onReset:O,isValid:V,getTransformedValues:K,key:T,getInputNode:I};return S9(e,j),j}const er=_P,Me=dP;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},c)=>w.createElement("svg",{ref:c,...I9,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ZC("lucide",s),...a},[...o.map(([l,d])=>w.createElement(l,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(O9,{ref:i,iconNode:t,className:ZC(`lucide-${M9(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=be("ArrowLeftFromLine",[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=be("MonitorUp",[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=be("MonitorX",[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=be("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=be("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=be("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vc(){return{showSuccess:r=>{Is.show({message:r,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:h.jsx(F9,{})})},showError:r=>{Is.show({title:"Ошибка",message:r,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:h.jsx(B9,{})})}}}function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i6=typeof Symbol=="function"&&Symbol.observable||"@@observable",S_=i6,Ip=()=>Math.random().toString(36).substring(7).split("").join("."),o6={INIT:`@@redux/INIT${Ip()}`,REPLACE:`@@redux/REPLACE${Ip()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ip()}`},Gd=o6;function Qv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tR(e,t,r){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(tR)(e,t)}let n=e,s=t,i=new Map,o=i,a=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((v,y)=>{o.set(y,v)}))}function d(){if(c)throw new Error(yt(3));return s}function u(v){if(typeof v!="function")throw new Error(yt(4));if(c)throw new Error(yt(5));let y=!0;l();const _=a++;return o.set(_,v),function(){if(y){if(c)throw new Error(yt(6));y=!1,l(),o.delete(_),i=null}}}function f(v){if(!Qv(v))throw new Error(yt(7));if(typeof v.type>"u")throw new Error(yt(8));if(typeof v.type!="string")throw new Error(yt(17));if(c)throw new Error(yt(9));try{c=!0,s=n(s,v)}finally{c=!1}return(i=o).forEach(_=>{_()}),v}function p(v){if(typeof v!="function")throw new Error(yt(10));n=v,f({type:Gd.REPLACE})}function m(){const v=u;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(yt(11));function _(){const b=y;b.next&&b.next(d())}return _(),{unsubscribe:v(_)}},[S_](){return this}}}return f({type:Gd.INIT}),{dispatch:f,subscribe:u,getState:d,replaceReducer:p,[S_]:m}}function a6(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Gd.INIT})>"u")throw new Error(yt(12));if(typeof r(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function c6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{a6(r)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const l={};for(let d=0;d<n.length;d++){const u=n[d],f=r[u],p=o[u],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(yt(14));l[u]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function Yd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function l6(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(yt(15))};const o={getState:s.getState,dispatch:(c,...l)=>i(c,...l)},a=e.map(c=>c(o));return i=Yd(...a)(s.dispatch),{...s,dispatch:i}}}function d6(e){return Qv(e)&&"type"in e&&typeof e.type=="string"}var rR=Symbol.for("immer-nothing"),__=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Lo=Object.getPrototypeOf;function li(e){return!!e&&!!e[lr]}function qn(e){var t;return e?nR(e)||Array.isArray(e)||!!e[__]||!!((t=e.constructor)!=null&&t[__])||Cf(e)||Rf(e):!1}var u6=Object.prototype.constructor.toString();function nR(e){if(!e||typeof e!="object")return!1;const t=Lo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===u6}function Xd(e,t){xf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function xf(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:Cf(e)?2:Rf(e)?3:0}function am(e,t){return xf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sR(e,t,r){const n=xf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function f6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Cf(e){return e instanceof Map}function Rf(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function cm(e,t){if(Cf(e))return new Map(e);if(Rf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[lr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Lo(e),n)}else{const n=Lo(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Jv(e,t=!1){return Ef(e)||li(e)||!qn(e)||(xf(e)>1&&(e.set=e.add=e.clear=e.delete=p6),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Jv(n,!0))),e}function p6(){Fr(2)}function Ef(e){return Object.isFrozen(e)}var h6={};function di(e){const t=h6[e];return t||Fr(0,e),t}var fc;function iR(){return fc}function m6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b_(e,t){t&&(di("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lm(e){dm(e),e.drafts_.forEach(g6),e.drafts_=null}function dm(e){e===fc&&(fc=e.parent_)}function x_(e){return fc=m6(fc,e)}function g6(e){const t=e[lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function C_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[lr].modified_&&(lm(t),Fr(4)),qn(e)&&(e=Qd(t,e),t.parent_||Jd(t,e)),t.patches_&&di("Patches").generateReplacementPatches_(r[lr].base_,e,t.patches_,t.inversePatches_)):e=Qd(t,r,[]),lm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rR?e:void 0}function Qd(e,t,r){if(Ef(t))return t;const n=t[lr];if(!n)return Xd(t,(s,i)=>R_(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Jd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Xd(i,(a,c)=>R_(e,n,s,a,c,r,o)),Jd(e,s,!1),r&&e.patches_&&di("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function R_(e,t,r,n,s,i,o){if(li(s)){const a=i&&t&&t.type_!==3&&!am(t.assigned_,n)?i.concat(n):void 0,c=Qd(e,s,a);if(sR(r,n,c),li(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(qn(s)&&!Ef(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Qd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Jd(e,s)}}function Jd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jv(t,r)}function v6(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Zv;r&&(s=[n],i=pc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var Zv={get(e,t){if(t===lr)return e;const r=Gs(e);if(!am(r,t))return y6(e,r,t);const n=r[t];return e.finalized_||!qn(n)?n:n===Op(e.base_,t)?(Np(e),e.copy_[t]=fm(n,e)):n},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,r){const n=oR(Gs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Op(Gs(e),t),i=s==null?void 0:s[lr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(f6(r,s)&&(r!==void 0||am(e.base_,t)))return!0;Np(e),um(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Op(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Np(e),um(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return Lo(e.base_)},setPrototypeOf(){Fr(12)}},pc={};Xd(Zv,(e,t)=>{pc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pc.deleteProperty=function(e,t){return pc.set.call(this,e,t,void 0)};pc.set=function(e,t,r){return Zv.set.call(this,e[0],t,r,e[0])};function Op(e,t){const r=e[lr];return(r?Gs(r):e)[t]}function y6(e,t,r){var s;const n=oR(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function oR(e,t){if(!(t in e))return;let r=Lo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Lo(r)}}function um(e){e.modified_||(e.modified_=!0,e.parent_&&um(e.parent_))}function Np(e){e.copy_||(e.copy_=cm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var w6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...l){return o.produce(c,d=>r.call(this,d,...l))}}typeof r!="function"&&Fr(6),n!==void 0&&typeof n!="function"&&Fr(7);let s;if(qn(t)){const i=x_(this),o=fm(t,void 0);let a=!0;try{s=r(o),a=!1}finally{a?lm(i):dm(i)}return b_(i,n),C_(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===rR&&(s=void 0),this.autoFreeze_&&Jv(s,!0),n){const i=[],o=[];di("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Fr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let n,s;return[this.produce(t,r,(o,a)=>{n=o,s=a}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qn(e)||Fr(8),li(e)&&(e=S6(e));const t=x_(this),r=fm(e,void 0);return r[lr].isManual_=!0,dm(t),r}finishDraft(e,t){const r=e&&e[lr];(!r||!r.isManual_)&&Fr(9);const{scope_:n}=r;return b_(n,t),C_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=di("Patches").applyPatches_;return li(e)?n(e,t):this.produce(e,s=>n(s,t))}};function fm(e,t){const r=Cf(e)?di("MapSet").proxyMap_(e,t):Rf(e)?di("MapSet").proxySet_(e,t):v6(e,t);return(t?t.scope_:iR()).drafts_.push(r),r}function S6(e){return li(e)||Fr(10,e),aR(e)}function aR(e){if(!qn(e)||Ef(e))return e;const t=e[lr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=cm(e,!0);return Xd(r,(n,s)=>{sR(r,n,aR(s))}),t&&(t.finalized_=!1),r}var dr=new w6,cR=dr.produce;dr.produceWithPatches.bind(dr);dr.setAutoFreeze.bind(dr);dr.setUseStrictShallowCopy.bind(dr);dr.applyPatches.bind(dr);dr.createDraft.bind(dr);dr.finishDraft.bind(dr);function lR(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var _6=lR(),b6=lR,x6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yd:Yd.apply(null,arguments)},C6=e=>e&&typeof e.match=="function";function za(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(wn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>d6(n)&&n.type===e,r}var dR=class Pa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pa.prototype)}static get[Symbol.species](){return Pa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pa(...t[0].concat(this)):new Pa(...t.concat(this))}};function E_(e){return qn(e)?cR(e,()=>{}):e}function T_(e,t,r){if(e.has(t)){let s=e.get(t);return r.update&&(s=r.update(s,t,e),e.set(t,s)),s}if(!r.insert)throw new Error(wn(10));const n=r.insert(t,e);return e.set(t,n),n}function R6(e){return typeof e=="boolean"}var E6=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new dR;return r&&(R6(r)?o.push(_6):o.push(b6(r.extraArgument))),o},T6="RTK_autoBatch",uR=e=>t=>{setTimeout(t,e)},P6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uR(10),k6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?P6:e.type==="callback"?e.queueNotification:uR(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const u=()=>s&&d(),f=n.subscribe(u);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var u;try{return s=!((u=d==null?void 0:d.meta)!=null&&u[T6]),i=!s,i&&(o||(o=!0,c(l))),n.dispatch(d)}finally{s=!0}}})},D6=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new dR(e);return n&&s.push(k6(typeof n=="object"?n:void 0)),s};function L6(e){const t=E6(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(Qv(r))a=c6(r);else throw new Error(wn(1));let c;typeof n=="function"?c=n(t):c=t();let l=Yd;s&&(l=x6({trace:!1,...typeof s=="object"&&s}));const d=l6(...c),u=D6(d);let f=typeof o=="function"?o(u):u();const p=l(...f);return tR(a,i,p)}function fR(e){const t={},r=[];let n;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(wn(28));if(a in t)throw new Error(wn(29));return t[a]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function j6(e){return typeof e=="function"}function M6(e,t){let[r,n,s]=fR(t),i;if(j6(e))i=()=>E_(e());else{const a=E_(e);i=()=>a}function o(a=i(),c){let l=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[s]),l.reduce((d,u)=>{if(u)if(li(d)){const p=u(d,c);return p===void 0?d:p}else{if(qn(d))return cR(d,f=>u(f,c));{const f=u(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return o.getInitialState=i,o}var I6=(e,t)=>C6(e)?e.match(t):e(t);function O6(...e){return t=>e.some(r=>I6(r,t))}var N6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$6=(e=21)=>{let t="",r=e;for(;r--;)t+=N6[Math.random()*64|0];return t},A6=["name","message","stack","code"],$p=class{constructor(e,t){kf(this,"_type");this.payload=e,this.meta=t}},P_=class{constructor(e,t){kf(this,"_type");this.payload=e,this.meta=t}},F6=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of A6)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},jt=(()=>{function e(t,r,n){const s=za(t+"/fulfilled",(c,l,d,u)=>({payload:c,meta:{...u||{},arg:d,requestId:l,requestStatus:"fulfilled"}})),i=za(t+"/pending",(c,l,d)=>({payload:void 0,meta:{...d||{},arg:l,requestId:c,requestStatus:"pending"}})),o=za(t+"/rejected",(c,l,d,u,f)=>({payload:u,error:(n&&n.serializeError||F6)(c||"Rejected"),meta:{...f||{},arg:d,requestId:l,rejectedWithValue:!!u,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,d,u)=>{const f=n!=null&&n.idGenerator?n.idGenerator(c):$6(),p=new AbortController;let m,g;function v(_){g=_,p.abort()}const y=async function(){var b,C;let _;try{let x=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,c,{getState:d,extra:u});if(B6(x)&&(x=await x),x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((R,P)=>{m=()=>{P({name:"AbortError",message:g||"Aborted"})},p.signal.addEventListener("abort",m)});l(i(f,c,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:f,arg:c},{getState:d,extra:u}))),_=await Promise.race([E,Promise.resolve(r(c,{dispatch:l,getState:d,extra:u,requestId:f,signal:p.signal,abort:v,rejectWithValue:(R,P)=>new $p(R,P),fulfillWithValue:(R,P)=>new P_(R,P)})).then(R=>{if(R instanceof $p)throw R;return R instanceof P_?s(R.payload,f,c,R.meta):s(R,f,c)})])}catch(x){_=x instanceof $p?o(null,f,c,x.payload,x.meta):o(x,f,c)}finally{m&&p.signal.removeEventListener("abort",m)}return n&&!n.dispatchConditionRejection&&o.match(_)&&_.meta.condition||l(_),_}();return Object.assign(y,{abort:v,requestId:f,arg:c,unwrap(){return y.then(z6)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:O6(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function z6(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function B6(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var U6=Symbol.for("rtk-slice-createasyncthunk");function V6(e,t){return`${e}/${t}`}function H6({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[U6];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(wn(11));typeof process<"u";const a=(typeof s.reducers=="function"?s.reducers(q6()):s.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,b){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(wn(12));if(C in l.sliceCaseReducersByType)throw new Error(wn(13));return l.sliceCaseReducersByType[C]=b,d},addMatcher(S,b){return l.sliceMatchers.push({matcher:S,reducer:b}),d},exposeAction(S,b){return l.actionCreators[S]=b,d},exposeCaseReducer(S,b){return l.sliceCaseReducersByName[S]=b,d}};c.forEach(S=>{const b=a[S],C={reducerName:S,type:V6(i,S),createNotation:typeof s.reducers=="function"};G6(b)?X6(C,b,d,t):K6(C,b,d)});function u(){const[S={},b=[],C=void 0]=typeof s.extraReducers=="function"?fR(s.extraReducers):[s.extraReducers],x={...S,...l.sliceCaseReducersByType};return M6(s.initialState,E=>{for(let R in x)E.addCase(R,x[R]);for(let R of l.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of b)E.addMatcher(R.matcher,R.reducer);C&&E.addDefaultCase(C)})}const f=S=>S,p=new Map;let m;function g(S,b){return m||(m=u()),m(S,b)}function v(){return m||(m=u()),m.getInitialState()}function y(S,b=!1){function C(E){let R=E[S];return typeof R>"u"&&b&&(R=v()),R}function x(E=f){const R=T_(p,b,{insert:()=>new WeakMap});return T_(R,E,{insert:()=>{const P={};for(const[L,$]of Object.entries(s.selectors??{}))P[L]=W6($,E,v,b);return P}})}return{reducerPath:S,getSelectors:x,get selectors(){return x(C)},selectSlice:C}}const _={name:i,reducer:g,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(S,{reducerPath:b,...C}={}){const x=b??o;return S.inject({reducerPath:x,reducer:g},C),{..._,...y(x,!0)}}};return _}}function W6(e,t,r,n){function s(i,...o){let a=t(i);return typeof a>"u"&&n&&(a=r()),e(a,...o)}return s.unwrapped=e,s}var Hc=H6();function q6(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function K6({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!Y6(n))throw new Error(wn(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?za(e,o):za(e))}function G6(e){return e._reducerDefinitionType==="asyncThunk"}function Y6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function X6({type:e,reducerName:t},r,n,s){if(!s)throw new Error(wn(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:l,options:d}=r,u=s(e,i,d);n.exposeAction(t,u),o&&n.addCase(u.fulfilled,o),a&&n.addCase(u.pending,a),c&&n.addCase(u.rejected,c),l&&n.addMatcher(u.settled,l),n.exposeCaseReducer(t,{fulfilled:o||jl,pending:a||jl,rejected:c||jl,settled:l||jl})}function jl(){}function wn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Mt="https://hitscord-backend.online/api",Q6=async e=>{try{const t=await fetch(`${Mt}/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},J6=async e=>{try{const t=await fetch(`${Mt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},Z6=async e=>{try{const t=await fetch(`${Mt}/auth/profile`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get profile user:",t),t}},e5=async e=>{try{const t=await fetch(`${Mt}/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},Tf={registerUser:Q6,loginUser:J6,getProfile:Z6,logout:e5},t5=e=>e instanceof Error?e.message:String(e),Zl=jt("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await Tf.registerUser(e)}catch(r){return t(t5(r))}}),ed=jt("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await Tf.loginUser(e)}catch(r){return t(r instanceof Error?r.message:"Неизвестная ошибка")}}),td=jt("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t})=>{try{return await Tf.getProfile(e)}catch(r){return t(r instanceof Error?r.message:"Неизвестная ошибка")}}),rd=jt("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await Tf.logout(e)}catch(r){return t(r instanceof Error?r.message:"Неизвестная ошибка")}});function r5(){const{accessToken:e,error:t}=Me(a=>a.userStore),r=er(),n=Dc(),{showError:s}=Vc(),i=uc({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"Неверный формат email",password:a=>a.trim().length>5?null:"Введите пароль (пароль должен содержать больше 6 символов"}}),o=async a=>{(await r(ed(a))).meta.requestStatus==="fulfilled"&&n("/main")};return w.useEffect(()=>{e&&n("/main")},[e,n]),w.useEffect(()=>{t&&s(t)},[t]),h.jsx(h.Fragment,{children:h.jsx(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:h.jsxs(Ec,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[h.jsx(we,{fw:500,mb:"md",children:"Войти в учётную запись"}),h.jsx("form",{onSubmit:i.onSubmit(o),children:h.jsxs($e,{gap:"md",children:[h.jsx(Yt,{label:"Email",placeholder:"Введите email",...i.getInputProps("mail"),required:!0}),h.jsx(Yt,{label:"Пароль",placeholder:"Введите пароль",...i.getInputProps("password"),required:!0}),h.jsx(Ne,{justify:"center",mt:"md",children:h.jsx(xe,{type:"submit",children:"Войти"})})]})})]})})})}function n5(){return h.jsx(h.Fragment,{children:h.jsxs(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[h.jsx(Xu,{order:3,children:"Добро пожаловать в Hitscord!"}),h.jsxs(Ne,{gap:"20px",children:[h.jsx(hS,{to:"/login",children:h.jsx(xe,{variant:"filled",radius:"md",children:"Войти"})}),h.jsx(hS,{to:"/register",children:h.jsx(xe,{variant:"filled",radius:"md",children:"Зарегистрироваться"})})]})]})})}const s5=()=>{const e=er(),t=Dc(),{showError:r}=Vc(),{accessToken:n,error:s}=Me(a=>a.userStore),i=uc({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"Неверный формат email",accountName:a=>a.trim().length>0?null:"Введите ФИО",password:a=>a.trim().length>5?null:"Введите пароль (пароль должен содержать больше 6 символов"}}),o=async a=>{(await e(Zl({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return w.useEffect(()=>{n&&t("/main")},[n,t]),w.useEffect(()=>{s!==""&&r(s)},[s]),h.jsx(h.Fragment,{children:h.jsx(Wn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:h.jsxs(Ec,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[h.jsx(we,{fw:500,mb:"md",children:"Создать учётную запись"}),h.jsx("form",{onSubmit:i.onSubmit(o),children:h.jsxs($e,{gap:"md",children:[h.jsx(Yt,{label:"Email",placeholder:"Введите email",...i.getInputProps("mail"),required:!0}),h.jsx(Yt,{label:"ФИО",placeholder:"Введите ФИО",...i.getInputProps("accountName"),required:!0}),h.jsx(Yt,{label:"Пароль",placeholder:"Введите пароль",...i.getInputProps("password"),required:!0}),h.jsx(Ne,{justify:"center",mt:"md",children:h.jsx(xe,{type:"submit",children:"Создать"})})]})})]})})})},k_=e=>({id:e.Id,text:e.Text,authorId:e.AuthorId,authorName:e.AuthorName,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null});function D_(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${s} ${i}:${o}`}const i5=async(e,t,r,n=0)=>{try{const s=await fetch(`${Mt}/channel/gettextchannelmessages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),i=await s.json();if(!s.ok)throw new Error(i.message||`Error: ${s.status}`);return i.messages}catch(s){throw console.error("Error get messages:",s),s}},o5=async(e,t,r,n)=>{try{const s=await fetch(`${Mt}/channel/createchannel`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create channel:",s),s}},a5=async(e,t)=>{try{const r=await fetch(`${Mt}/channel/deletechannel`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},ey={getChannelsMessages:i5,createChannel:o5,deleteChannel:a5},c5=async(e,t,r)=>{try{const n=await fetch(`${Mt}/message/createmessage`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error create message:",n),n}},l5=async(e,t)=>{try{const r=await fetch(`${Mt}/message/deletemessage`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},d5=async(e,t,r)=>{try{const n=await fetch(`${Mt}/message/updatemessage`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},ty={createMessage:c5,deleteMessage:l5,editMessage:d5},u5=async e=>{try{const t=await fetch(`${Mt}/user/getservers`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},f5=async(e,t)=>{try{const r=await fetch(`${Mt}/user/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},p5=async(e,t)=>{try{const r=await fetch(`${Mt}/user/createServer`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},h5=async(e,t)=>{try{const r=await fetch(`${Mt}/user/deleteserver`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},m5=async(e,t,r,n)=>{try{const s=await fetch(`${Mt}/user/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!s.ok){const i=await s.json();throw new Error(i.message||`Error: ${s.status}`)}}catch(s){throw console.error("Error create server:",s),s}},g5=async(e,t,r)=>{try{const n=await fetch(`${Mt}/user/subscribetest`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const s=await n.json();throw new Error(s.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},ea={getServers:u5,getServerData:f5,createServer:p5,deleteServer:h5,changeRole:m5,subscribeToServer:g5},yo=jt("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await ea.getServers(e)).serversList}catch(r){return t(r instanceof Error?r.message:"Неизвестная ошибка")}}),Ps=jt("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await ea.getServerData(e,t)}catch(n){return r(n instanceof Error?n.message:"Неизвестная ошибка")}}),nd=jt("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await ea.createServer(e,t)}catch(n){return r(n instanceof Error?n.message:"Неизвестная ошибка")}}),Ap=jt("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await ea.deleteServer(e,t)}catch(n){return r(n instanceof Error?n.message:"Неизвестная ошибка")}}),sd=jt("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:s})=>{try{await ea.changeRole(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:"Неизвестная ошибка")}}),id=jt("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await ea.subscribeToServer(e,t,r)}catch(s){return n(s instanceof Error?s.message:"Неизвестная ошибка")}}),od=jt("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:s})=>{try{return await ey.getChannelsMessages(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:"Неизвестная ошибка")}}),ad=jt("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r},{rejectWithValue:n})=>{try{await ty.createMessage(e,t,r)}catch(s){return n(s instanceof Error?s.message:"Неизвестная ошибка")}}),cd=jt("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await ty.deleteMessage(e,t)}catch(n){return r(n instanceof Error?n.message:"Неизвестная ошибка")}}),ld=jt("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await ty.editMessage(e,t,r)}catch(s){return n(s instanceof Error?s.message:"Неизвестная ошибка")}}),dd=jt("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n},{rejectWithValue:s})=>{try{await ey.createChannel(e,t,r,n)}catch(i){return s(i instanceof Error?i.message:"Неизвестная ошибка")}}),ud=jt("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await ey.deleteChannel(e,t)}catch(n){return r(n instanceof Error?n.message:"Неизвестная ошибка")}}),v5=({isOwnMessage:e,userName:t,content:r,time:n,messageId:s,modifiedAt:i})=>{const o=er(),{accessToken:a}=Me(v=>v.userStore),[c,l]=w.useState(!1),[d,u]=w.useState(!1),[f,p]=w.useState(r),m=()=>{f.trim()&&(o(ld({accessToken:a,messageId:s,text:f.trim()})),u(!1))},g=()=>{o(cd({accessToken:a,messageId:s}))};return h.jsxs(Ne,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[h.jsx(Er,{size:"md",color:"blue",children:t[0]}),h.jsxs(N,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column"},children:[d?h.jsx(av,{value:f,onChange:v=>p(v.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px"}}):h.jsx(we,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r}),h.jsxs(we,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:e?"flex-end":"flex-start"},children:[D_(n),i&&h.jsxs("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:["(Отредактировано: ",D_(i),")"]})]}),e&&c&&h.jsx(Ne,{justify:"flex-end",gap:"xs",p:4,style:{position:"absolute",top:"64px",right:"0px",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"4px",zIndex:10},children:d?h.jsxs(h.Fragment,{children:[h.jsx(Qe,{color:"green",onClick:m,children:h.jsx($9,{size:16})}),h.jsx(Qe,{color:"red",onClick:()=>u(!1),children:h.jsx(eR,{size:16})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Qe,{color:"blue",onClick:()=>u(!0),children:h.jsx(J9,{size:16})}),h.jsx(Qe,{color:"red",onClick:g,children:h.jsx(r6,{size:16})})]})})]})]})},y5=({openSidebar:e,openDetailsPanel:t})=>{const r=er(),{user:n,accessToken:s}=Me(p=>p.userStore),{currentServerId:i,currentChannelId:o,messages:a,isLoading:c}=Me(p=>p.testServerStore),[l,d]=w.useState(""),u=()=>{l.trim()&&i&&o&&(r(ad({accessToken:s,channelId:o,text:l.trim()})),d(""))},f=p=>{p.key==="Enter"&&u()};return h.jsxs(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[h.jsxs(Ne,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[h.jsx(Qe,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:h.jsx(q9,{size:20})}),h.jsx(Yt,{leftSection:h.jsx(e6,{size:16}),placeholder:"Поиск..."}),h.jsx(Qe,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:h.jsx(s6,{size:20})})]}),h.jsx(Tr,{my:"md"}),h.jsx(Yn,{style:{flex:1},children:h.jsxs($e,{gap:"sm",children:[c&&a.length<1&&Array.from({length:5}).map((p,m)=>h.jsxs(Ne,{align:"flex-start",gap:"xs",children:[h.jsx($n,{height:40,width:40,circle:!0}),h.jsxs(N,{style:{flex:1},children:[h.jsx($n,{height:12,width:"60%",radius:"md"}),h.jsx($n,{height:10,width:"40%",mt:8,radius:"md"})]})]},m)),a.map(p=>h.jsx(v5,{messageId:p.id,userName:p.authorName,content:p.text,isOwnMessage:n.id===p.authorId,time:p.createdAt,modifiedAt:p.modifiedAt},p.id))]})}),h.jsxs(Ne,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[h.jsx(Qe,{size:"xl",variant:"transparent",children:h.jsx(Q9,{size:20})}),h.jsx(Yt,{w:"100%",placeholder:"Написать...",value:l,onChange:p=>d(p.target.value),onKeyDownCapture:f}),h.jsx(Qe,{size:"xl",variant:"transparent",onClick:u,children:h.jsx(t6,{size:20})})]})]})},ta=()=>{const e=w.useContext(QC);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},w5={isUserStreamView:!1,isOpenHome:!0},pR=Hc({name:"app",initialState:w5,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:hR,setUserStreamView:hc,setOpenHome:mR}=pR.actions,S5=pR.reducer,ry=e=>e.map(t=>{const r=t.users.reduce((n,s)=>(n[s.socketId]||(n[s.socketId]={userName:s.userName,producerIds:[]}),n[s.socketId].producerIds.push(s.producerId),n),{});return{roomName:t.roomName,users:r}}),_5=({users:e,onOpenStream:t})=>{const r=er(),{currentVoiceChannelId:n}=Me(o=>o.testServerStore),i=ry(e).find(o=>o.roomName===n);return h.jsxs(Yn,{style:{flex:1,maxHeight:"100%"},children:[h.jsx(Ne,{justify:"flex-end",children:h.jsx(Qe,{variant:"transparent",onClick:()=>r(hR()),children:h.jsx(N9,{})})}),h.jsx(mv,{cols:{base:2,lg:3},spacing:"sm",children:i&&Object.entries(i.users).map(([o,{userName:a,producerIds:c}])=>{const l=c.length>1;return h.jsxs(N,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[h.jsx(Er,{radius:"xl",size:"lg",color:"blue",children:a[0]}),h.jsx(we,{c:"white",children:a}),l&&h.jsx(xe,{size:"xs",variant:"outline",onClick:()=>t(o),children:"Открыть стрим"})]},o)})})]})},b5=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=ta(),s=w.useRef(null),i=w.useRef(null),{currentVoiceChannelId:o}=Me(m=>m.testServerStore),c=ry(t).find(m=>m.roomName===o),l=w.useRef(null),d=()=>{l.current&&l.current.scrollBy({left:-100,behavior:"smooth"})},u=()=>{l.current&&l.current.scrollBy({left:100,behavior:"smooth"})},f=m=>{n(m)},p=()=>{n(null),s.current&&(i.current=null,s.current.srcObject=null)};return w.useEffect(()=>{if(!ye||!c)return;const m=({producerId:g})=>{e.some(y=>{var _;return y.kind==="video"&&y.producerId===g&&((_=c.users[r])==null?void 0:_.producerIds.includes(g))})&&p()};return ye.on("producerClosed",m),()=>{ye.off("producerClosed",m)}},[ye,e,c,r]),w.useEffect(()=>{var g;if(!r||!c)return;const m=e.find(v=>{var y;return v.kind==="video"&&((y=c.users[r])==null?void 0:y.producerIds.includes(v.producerId))});if(m){const v=m.track;if(!i.current||((g=i.current.getVideoTracks()[0])==null?void 0:g.id)!==v.id){const y=new MediaStream([v]);i.current=y,s.current&&(s.current.srcObject=y,s.current.play().catch(_=>console.error("Ошибка воспроизведения видео:",_)))}}},[r,e,c]),h.jsx(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?h.jsxs(N,{style:{position:"relative",flex:1},children:[h.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),h.jsxs(xe,{variant:"filled",color:"red",onClick:p,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[h.jsx(eR,{size:20})," Закрыть"]}),h.jsxs(N,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[h.jsx(xe,{variant:"subtle",color:"gray",onClick:d,style:{zIndex:1},children:h.jsx(A9,{size:20})}),h.jsx(Yn,{viewportRef:l,style:{width:"100%"},children:h.jsx(Wn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:c&&Object.entries(c.users).map(([m,{userName:g,producerIds:v}])=>{const y=v.length>1;return h.jsxs(N,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"100px",width:"100px"},children:[h.jsx(Er,{radius:"xl",size:"sm",children:g[0]}),h.jsx(we,{c:"white",size:"xs",children:g}),y&&h.jsx(xe,{size:"xs",variant:"outline",onClick:()=>f(m),children:h.jsx(om,{})})]},m)})})}),h.jsx(xe,{variant:"subtle",color:"gray",onClick:u,style:{zIndex:1},children:h.jsx(Yv,{size:20})})]})]}):h.jsx(_5,{users:t,onOpenStream:f})})},x5=()=>{const{serverData:e,isLoading:t}=Me(r=>r.testServerStore);return h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:200,lg:300},visibleFrom:"sm",children:h.jsxs($e,{gap:"md",children:[h.jsx(we,{c:"white",children:"Пользователи"}),h.jsx(Tr,{color:"gray"}),h.jsx($e,{children:t?Array.from({length:5}).map((r,n)=>h.jsxs(Ne,{gap:"sm",align:"center",children:[h.jsx($n,{circle:!0,height:40,width:40}),h.jsx($n,{height:16,width:"30%"}),h.jsx($n,{height:16,width:"20%",style:{marginLeft:"auto"}})]},n)):e.users.map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Er,{size:"md",color:"blue",children:r.userName}),h.jsx(we,{c:"white",children:r.userName}),h.jsx(Do,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:r.roleName})]},r.userId))})]})})},L_=[{id:1,name:"Alice",online:!0},{id:2,name:"Bob",online:!1},{id:3,name:"Charlie",online:!0}],C5=({onClose:e,opened:t})=>h.jsx(h.Fragment,{children:h.jsx(Yr,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},children:h.jsxs($e,{gap:"md",children:[h.jsx(we,{c:"white",children:"Пользователи"}),h.jsx(Tr,{color:"gray"}),h.jsx(we,{c:"gray",children:"В сети"}),h.jsx($e,{children:L_.filter(r=>r.online).map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Er,{size:"md",color:"blue",children:r.name[0]}),h.jsx(we,{c:"white",children:r.name}),h.jsx(Do,{color:"green",radius:"sm",style:{marginLeft:"auto"},children:"В сети"})]},r.id))}),h.jsx(Tr,{color:"gray"}),h.jsx(we,{c:"gray",children:"Не в сети"}),h.jsx($e,{children:L_.filter(r=>!r.online).map(r=>h.jsxs(Ne,{wrap:"nowrap",children:[h.jsx(Er,{size:"md",color:"blue",children:r.name[0]}),h.jsx(we,{c:"dimmed",children:r.name}),h.jsx(Do,{color:"gray",radius:"sm",style:{marginLeft:"auto"},children:"Не в сети"})]},r.id))})]})})})}),R5=()=>h.jsx(N,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:h.jsx(Wn,{w:"100%",h:"100%",justify:"center",align:"center",children:h.jsx(we,{c:"gray",children:"Выберите сообщение, чтобы начать диалог"})})}),E5=()=>{const{user:e}=Me(t=>t.userStore);return h.jsx(N,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:h.jsxs($e,{gap:"md",align:"center",style:{whiteSpace:"nowrap"},children:[h.jsx(Er,{size:80,radius:"xl",src:void 0,alt:e.name}),h.jsx(Xu,{order:3,children:e.name}),h.jsxs(we,{c:"gray",children:["ID: ",e.tag]}),h.jsxs(we,{c:"gray",children:["E-mail: ",e.mail]}),h.jsxs(we,{c:"gray",children:["Аккаунт создан: ",e.accontCreateDate]})]})})},T5=({name:e,lastMessage:t,date:r,isActive:n,onClick:s})=>h.jsxs(N,{p:"sm",bg:n?"#2E2E33":"transparent",style:i=>({borderRadius:i.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"}),onClick:s,children:[h.jsx(Er,{radius:"xl",size:40}),h.jsxs(N,{style:{flex:1},children:[h.jsx(we,{fw:"bold",children:e}),h.jsx(we,{size:"sm",c:"gray",truncate:!0,children:t}),h.jsx(we,{size:"xs",c:"gray",children:r})]})]}),P5=[{id:"1",name:"Alice",lastMessage:"Hello!",date:"14.12.2024"},{id:"2",name:"Charlie",lastMessage:"See you tomorrow!",date:"3.12.2024"},{id:"3",name:"Bob",lastMessage:"What’s up?",date:"24.11.2024"}],k5=()=>{const[e,t]=w.useState(null);return h.jsxs($e,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[h.jsx(we,{children:"Сообщения"}),h.jsx(Tr,{}),h.jsx($e,{gap:"xs",children:P5.map(r=>h.jsx(T5,{name:r.name,lastMessage:r.lastMessage,date:r.date,isActive:e===r.id,onClick:()=>t(r.id)},r.id))})]})},D5=()=>h.jsxs(h.Fragment,{children:[h.jsx(k5,{}),h.jsx(R5,{}),h.jsx(E5,{})]}),L5=({opened:e,onClose:t})=>{const[r,n]=w.useState("create"),{showError:s}=Vc(),{error:i}=Me(p=>p.testServerStore),{user:o,accessToken:a}=Me(p=>p.userStore),c=er(),l=uc({initialValues:{name:""},validate:{name:p=>p.trim().length<3?"Название сервера должно быть более 3 символов":null}}),d=uc({initialValues:{serverId:""},validate:{serverId:p=>p.trim().length===0?"Введите ID сервера":null}}),u=async p=>{(await c(nd({accessToken:a,name:p.name}))).meta.requestStatus==="fulfilled"&&(c(yo({accessToken:a})),l.reset(),t())},f=async p=>{(await c(id({accessToken:a,serverId:p.serverId,userName:o.name}))).meta.requestStatus==="fulfilled"&&(c(yo({accessToken:a})),l.reset(),t())};return w.useEffect(()=>{i!==""&&s(i)},[i]),h.jsx(Lr,{opened:e,onClose:t,title:r==="create"?"Создание нового сервера":"Подключение к серверу",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:h.jsxs(Ar,{value:r,onChange:n,children:[h.jsxs(Ar.List,{children:[h.jsx(Ar.Tab,{value:"create",children:"Создать сервер"}),h.jsx(Ar.Tab,{value:"connect",children:"Подключиться к серверу"})]}),h.jsxs(Ar.Panel,{value:"create",children:[" ",h.jsxs("form",{onSubmit:l.onSubmit(u),children:[h.jsx(Yt,{label:"Название сервера",placeholder:"Введите название сервера",...l.getInputProps("name")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(xe,{variant:"outline",onClick:t,children:"Отмена"}),h.jsx(xe,{type:"submit",children:"Создать"})]})]})]}),h.jsx(Ar.Panel,{value:"connect",children:h.jsxs("form",{onSubmit:d.onSubmit(f),children:[h.jsx(Yt,{label:"ID сервера",placeholder:"Введите ID сервера",...d.getInputProps("serverId")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(xe,{variant:"outline",onClick:t,children:"Отмена"}),h.jsx(xe,{type:"submit",children:"Подключиться"})]})]})})]})})},j5={servers:{channel1:{name:"test",textChannels:{channel1:{name:"General",messages:[{id:"msg1",content:"Welcome to the General chat!",userId:"user1",userName:"Alice",timestamp:new Date().toISOString(),isOwnMessage:!1}]},channel2:{name:"Random",messages:[{id:"msg2",content:"Hello from Random chat!",userId:"user2",userName:"Bob",timestamp:new Date().toISOString(),isOwnMessage:!1}]}}}},currentServerId:"a062fcbd-05c6-4c85-9183-68a8d3466fa2",currentChannelId:"channel1"},gR=Hc({name:"server",initialState:j5,reducers:{addServer:(e,t)=>{const{serverId:r,name:n}=t.payload;e.servers[r]={name:n,textChannels:{}}},addTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n]={name:s,messages:[]})},editTextChannel:(e,t)=>{const{serverId:r,channelId:n,name:s}=t.payload,i=e.servers[r];i&&(i.textChannels[n].name=s)},deleteTextChannel:(e,t)=>{const{serverId:r,channelId:n}=t.payload,s=e.servers[r];e.currentChannelId===n&&(e.currentChannelId="channel1"),s&&delete s.textChannels[n]},setCurrentServer:(e,t)=>{e.currentServerId=t.payload,e.currentChannelId="channel1"},setCurrentChannel:(e,t)=>{e.currentChannelId=t.payload},addMessage:(e,t)=>{var o;const{serverId:r,channelId:n,message:s}=t.payload,i=(o=e.servers[r])==null?void 0:o.textChannels[n];i&&i.messages.push(s)}}}),{addServer:u8,addTextChannel:f8,editTextChannel:p8,setCurrentServer:M5,setCurrentChannel:h8,addMessage:m8,deleteTextChannel:g8}=gR.actions,I5=gR.reducer,O5={serversList:[],serverData:{serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],announcementChannels:[]}},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],isLoading:!1,error:""},vR=Hc({name:"testServer",initialState:O5,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{e.messages.push(t.payload)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)}},extraReducers:e=>{e.addCase(yo.pending,t=>{t.isLoading=!0,t.error=""}).addCase(yo.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(yo.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Ps.pending,t=>{t.isLoading=!0,t.messages=[],t.currentChannelId=null,t.serverData={serverId:"",serverName:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],announcementChannels:[]}},t.error=""}).addCase(Ps.fulfilled,(t,r)=>{t.serverData=r.payload,t.currentChannelId=r.payload.channels.textChannels.length>0?r.payload.channels.textChannels[0].channelId:null,t.isLoading=!1,t.error=""}).addCase(Ps.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(nd.pending,t=>{t.error=""}).addCase(nd.fulfilled,t=>{t.error=""}).addCase(nd.rejected,(t,r)=>{t.error=r.payload}).addCase(Ap.pending,t=>{t.error=""}).addCase(Ap.fulfilled,t=>{t.error=""}).addCase(Ap.rejected,(t,r)=>{t.error=r.payload}).addCase(sd.pending,t=>{t.error=""}).addCase(sd.fulfilled,t=>{t.error=""}).addCase(sd.rejected,(t,r)=>{t.error=r.payload}).addCase(id.pending,t=>{t.error=""}).addCase(id.fulfilled,t=>{t.error=""}).addCase(id.rejected,(t,r)=>{t.error=r.payload}).addCase(od.pending,t=>{t.isLoading=!0,t.error=""}).addCase(od.fulfilled,(t,r)=>{t.messages=r.payload,t.isLoading=!1,t.error=""}).addCase(od.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ad.pending,t=>{t.error=""}).addCase(ad.fulfilled,t=>{t.error=""}).addCase(ad.rejected,(t,r)=>{t.error=r.payload}).addCase(cd.pending,t=>{t.error=""}).addCase(cd.fulfilled,t=>{t.error=""}).addCase(cd.rejected,(t,r)=>{t.error=r.payload}).addCase(ld.pending,t=>{t.error=""}).addCase(ld.fulfilled,t=>{t.error=""}).addCase(ld.rejected,(t,r)=>{t.error=r.payload}).addCase(dd.pending,t=>{t.error=""}).addCase(dd.fulfilled,t=>{t.error=""}).addCase(dd.rejected,(t,r)=>{t.error=r.payload}).addCase(ud.pending,t=>{t.error=""}).addCase(ud.fulfilled,t=>{t.error=""}).addCase(ud.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:N5,setCurrentChannelId:$5,setCurrentVoiceChannelId:pm,addMessage:A5,deleteMessageWs:F5,editMessageWs:z5}=vR.actions,B5=vR.reducer,U5=({serverId:e,serverName:t})=>{const r=er(),{user:n}=Me(i=>i.userStore),s=()=>{r(M5(e)),r(N5(e)),r(hc(!1)),r(mR(!1)),ye.emit("setServer",{serverId:e,user:n.name})};return h.jsx(Qe,{size:"xl",radius:"xl",variant:"transparent",onClick:s,children:h.jsx(Er,{size:"md",color:"blue",children:t})})},V5=()=>{const[e,{open:t,close:r}]=Nn(!1),n=er(),s=Dc(),{serversList:i}=Me(c=>c.testServerStore),{accessToken:o}=Me(c=>c.userStore),a=async()=>{(await n(rd({accessToken:o}))).meta.requestStatus==="fulfilled"&&s("/")};return w.useEffect(()=>{o&&n(yo({accessToken:o}))},[o,n]),h.jsxs(Wn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[h.jsxs(Wn,{direction:"column",align:"center",children:[h.jsx(Qe,{size:"lg",variant:"transparent",onClick:()=>n(mR(!0)),children:h.jsx(H9,{size:24,color:"#fff"})}),h.jsx(Tr,{my:"sm"}),h.jsx($e,{gap:"sm",align:"center",children:i.map(c=>h.jsx(U5,{serverId:c.serverId,serverName:c.serverName},c.serverId))}),h.jsx(Tr,{my:"sm"}),h.jsx(Qe,{size:"lg",variant:"transparent",onClick:t,children:h.jsx(z9,{size:24,color:"#fff"})})]}),h.jsx(Qe,{size:"lg",variant:"transparent",onClick:a,children:h.jsx(W9,{size:24,color:"#fff"})}),h.jsx(L5,{opened:e,onClose:r})]})};var fs=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(fs||{});const yR=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:s})=>{const i=er(),{accessToken:o}=Me(f=>f.userStore),{error:a}=Me(f=>f.testServerStore),{showError:c}=Vc(),l=uc({initialValues:{name:r.initialData},validate:{name:f=>f.trim().length<3?"Название канала должно быть более 3 символов":null}});w.useEffect(()=>{r.isEdit?l.setValues({name:r.initialData}):l.reset()},[r]);const d=async f=>{(await i(dd({accessToken:o,serverId:n,name:f.name,channelType:s===fs.TEXT_CHANNEL?fs.TEXT_CHANNEL:fs.VOICE_CHANNEL}))).meta.requestStatus==="fulfilled"&&i(Ps({accessToken:o,serverId:n})),t()},u=async()=>{(await i(ud({accessToken:o,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&i(Ps({accessToken:o,serverId:n})),t()};return w.useEffect(()=>{a&&c(a)},[a]),h.jsx(Lr,{opened:e,onClose:t,title:r.isEdit?`Редактирование ${s===fs.TEXT_CHANNEL?"текстового":"голосового"} канала`:`Создание ${s===fs.TEXT_CHANNEL?"текстового":"голосового"} канала`,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?h.jsxs(h.Fragment,{children:[h.jsxs(we,{fz:"md",fw:"bold",children:["Имя канала: ",r.initialData]}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(xe,{variant:"filled",color:"red",onClick:u,children:"Удалить"}),h.jsx(xe,{variant:"outline",onClick:t,children:"Отмена"})]})]}):h.jsxs("form",{onSubmit:l.onSubmit(d),children:[h.jsx(Yt,{label:"Название канала",placeholder:"Введите название канала",...l.getInputProps("name")}),h.jsxs(Ne,{justify:"flex-end",mt:"md",children:[h.jsx(xe,{variant:"outline",onClick:t,children:"Отмена"}),h.jsx(xe,{type:"submit",children:"Создать"})]})]})})},j_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})};function wR({onClose:e}){const t=er(),[r,{toggle:n}]=Nn(!0),[s,{open:i,close:o}]=Nn(!1),[a,c]=w.useState(""),[l,d]=w.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:u,currentServerId:f,currentChannelId:p}=Me(g=>g.testServerStore),m=u.userRole==="Admin";return h.jsxs(h.Fragment,{children:[h.jsxs($e,{align:"flex-start",gap:"xs",children:[h.jsxs(Ne,{justify:"space-between",w:"100%",wrap:"nowrap",children:[h.jsx(xe,{leftSection:r?h.jsx(Gv,{}):h.jsx(Yv,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:"Текстовые каналы"}),m&&h.jsx(Qe,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),i()},children:h.jsx(Kd,{color:"#ffffff"})})]}),h.jsx(Su,{in:r,w:"100%",children:h.jsx($e,{gap:"xs",children:u.channels.textChannels.map(({channelId:g,channelName:v})=>h.jsxs(N,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>c(g),onMouseLeave:()=>c(""),children:[h.jsx(xe,{leftSection:h.jsx(V9,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:j_.buttonRoot(a===g,p===g)},fullWidth:!0,onClick:()=>{t($5(g)),t(hc(!1)),e()},children:v}),m&&a===g&&h.jsx(xe,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:j_.buttonSettings(p===g)},onClick:()=>{d({isEdit:!0,initialData:v,channelId:g}),i()},children:h.jsx(Xv,{size:16})})]},g))})})]}),f&&h.jsx(yR,{opened:s,onClose:o,isEdit:l,serverId:f,channelType:fs.TEXT_CHANNEL})]})}const H5=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:s}=ta();return async(o,a,c)=>{try{if(!ye.connected)throw new Error("Socket is not connected");const l=await u9(),d=await f9(o,a,c),u=await p9(d);r(u);const f=await h9(u,l,t,s);n(f),e(!0),console.log("Connected successfully")}catch(l){console.error("Error connecting:",l),e(!1)}}},SR=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:s,setIsStreaming:i,setAudioProducer:o}=ta();return()=>{ye.emit("leaveRoom"),e(!1),t(null),n([]),s(!1),i(!1),o(null),r(null)}},W5={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},q5=()=>{const[e,t]=w.useState([]);return w.useEffect(()=>{if(ye)return ye.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{ye.off("active-speakers")}},[]),e};function _R(){const e=H5(),t=SR(),{isConnected:r,consumers:n,users:s,setSelectedUserId:i}=ta(),{user:o}=Me(U=>U.userStore),{serverData:a,currentVoiceChannelId:c,currentServerId:l}=Me(U=>U.testServerStore),d=er(),[u,{toggle:f}]=Nn(!0),[p,{open:m,close:g}]=Nn(!1),[v,y]=w.useState({}),_=q5(),S=ry(s),b=w.useRef(new Map),C=a.userRole==="Admin",[x,E]=w.useState(""),[R,P]=w.useState({isEdit:!1,initialData:"",channelId:""}),L=U=>{r?U===c?d(hR()):(t(),d(hc(!1)),d(pm(U)),e(U,o.name,a.serverId)):(d(pm(U)),e(U,o.name,a.serverId))},$=(U,z)=>{if(!c)return;const K=S.find(T=>T.roomName===c);if(!K)return;const O=K.users[U];if(!O)return;const V=O.producerIds.find(T=>!!n.find(j=>j.producerId===T&&j.kind==="audio"));V&&y(T=>({...T,[V]:z/100}))},B=()=>{P({isEdit:!1,initialData:"",channelId:""}),m()};return w.useEffect(()=>{n.forEach(z=>{if(z.kind==="audio"){const{producerId:K,track:O}=z;if(!b.current.has(K)){const V=document.createElement("audio");V.srcObject=new MediaStream([O]),V.autoplay=!0,V.volume=v[K]??1,b.current.set(K,V),document.body.appendChild(V)}}});const U=n.map(z=>z.producerId);return b.current.forEach((z,K)=>{U.includes(K)||(z.pause(),z.remove(),b.current.delete(K))}),()=>{b.current.forEach(z=>{z.pause(),z.remove()}),b.current.clear()}},[n,v]),h.jsxs(h.Fragment,{children:[h.jsxs($e,{align:"flex-start",gap:"xs",children:[h.jsxs(Ne,{justify:"space-between",w:"100%",wrap:"nowrap",children:[h.jsx(xe,{leftSection:u?h.jsx(Gv,{}):h.jsx(Yv,{}),variant:"transparent",onClick:f,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:"Голосовые каналы"}),C&&h.jsx(Qe,{variant:"transparent",onClick:B,children:h.jsx(Kd,{color:"#ffffff"})})]}),h.jsx(Su,{in:u,w:"100%",children:h.jsx($e,{gap:"xs",children:a.channels.voiceChannels.map(({channelId:U,channelName:z})=>h.jsxs(nr.Fragment,{children:[h.jsxs(N,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>E(U),onMouseLeave:()=>E(""),children:[h.jsx(xe,{leftSection:h.jsx(w_,{}),variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},fullWidth:!0,onClick:()=>L(U),children:z}),C&&x===U&&h.jsx(xe,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:W5.buttonSettings},onClick:()=>{P({isEdit:!0,initialData:z,channelId:U}),m()},children:h.jsx(Xv,{size:16})})]}),h.jsx($e,{gap:"xs",children:S.filter(K=>K.roomName===U).flatMap(K=>Object.entries(K.users).map(([O,{producerIds:V,userName:T}])=>{const I=V.some(j=>_.some(M=>M.producerId===j))&&U===c;return h.jsxs(pt,{shadow:"md",width:200,closeOnItemClick:!0,children:[h.jsx(pt.Target,{children:h.jsxs(Ne,{style:{cursor:"pointer"},wrap:"nowrap",children:[h.jsx(n6,{color:I?"#43b581":void 0}),h.jsx(we,{truncate:!0,children:T}),V.length>1&&h.jsx(om,{color:"#43b581",style:{marginLeft:"auto"}})]})}),h.jsxs(pt.Dropdown,{children:[h.jsx(pt.Item,{leftSection:h.jsx(w_,{}),children:h.jsx(gv,{label:"Громкость",value:(v[V.find(j=>n.some(M=>M.producerId===j&&M.kind==="audio"))||""]||1)*100,onChange:j=>$(O,j),min:1,max:100})}),V.length>1&&h.jsx(pt.Item,{leftSection:h.jsx(om,{}),onClick:()=>{i(O),d(hc(!0))},children:"Открыть стрим"})]})]},O)}))})]},U))})})]}),l&&h.jsx(yR,{opened:p,onClose:g,isEdit:R,serverId:l,channelType:fs.VOICE_CHANNEL})]})}const K5=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n}=ta(),s=w.useRef(null),i=async()=>{const c=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0],l=await r.produce({track:c});t(l),s.current=l.id,l.on("trackended",o),n(!0)},o=async()=>{e?(e.close(),ye.emit("stopProducer",{producerId:e.id})):ye.emit("stopProducer",{producerId:s.current}),s.current=null,t(null),n(!1)};return{startScreenSharing:i,stopScreenSharing:o}},bR=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=ta(),s=SR(),{startScreenSharing:i,stopScreenSharing:o}=K5(),a=er(),{user:c}=Me(u=>u.userStore),l=()=>{n?o():i()},d=()=>{s(),a(hc(!1)),a(pm(null))};return h.jsxs($e,{mt:"auto",children:[e&&h.jsxs(Ne,{gap:"xs",justify:"space-between",children:[h.jsx(Qe,{variant:"transparent",onClick:l,c:"#ffffff",children:n?h.jsx(X9,{}):h.jsx(Y9,{})}),h.jsx(Qe,{variant:"transparent",onClick:t,c:"#ffffff",children:r?h.jsx(K9,{}):h.jsx(G9,{})}),h.jsx(Qe,{variant:"transparent",onClick:d,c:"#ffffff",children:h.jsx(Z9,{})})]}),h.jsx(Tr,{}),h.jsx(we,{truncate:!0,children:c.name})]})},G5=({onClose:e,opened:t})=>h.jsx(h.Fragment,{children:h.jsx(Yr,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:h.jsxs($e,{gap:"xs",bg:"#1A1B1E",p:10,h:"100%",children:[h.jsx(we,{children:"Сервер #1"}),h.jsx(Tr,{}),h.jsx(wR,{onClose:e}),h.jsx(_R,{}),h.jsx(bR,{})]})})}),Y5=({opened:e,onClose:t})=>{const r=er(),{serverData:n,error:s}=Me(b=>b.testServerStore),{accessToken:i}=Me(b=>b.userStore),[o,a]=w.useState("roles"),[c,l]=w.useState(""),[d,u]=w.useState(""),[f,p]=w.useState(""),[m,g]=w.useState(!1),{showSuccess:v,showError:y}=Vc(),_=async()=>{if(c){g(!0);try{console.log(c),l("")}catch(b){console.error("Failed to create role:",b)}finally{g(!1)}}},S=async()=>{if(!d||!f)return;g(!0),(await r(sd({accessToken:i,serverId:n.serverId,userId:d,role:f}))).meta.requestStatus==="fulfilled"&&(u(""),p(""),g(!1),v("Роль успешно присвоена"),r(Ps({accessToken:i,serverId:n.serverId})))};return w.useEffect(()=>{s&&(g(!1),y(s))},[s]),h.jsx(Lr,{opened:e,onClose:t,centered:!0,title:"Настройки сервера",size:"auto",children:h.jsxs(Ne,{align:"flex-start",gap:"md",children:[h.jsx($e,{gap:"xs",style:{width:200},children:h.jsx(fv,{label:"Роли",leftSection:h.jsx(Kd,{size:16}),active:o==="roles",onClick:()=>a("roles")})}),h.jsx(Yn,{children:o==="roles"&&h.jsxs($e,{gap:"md",children:[h.jsx(we,{size:"lg",w:500,children:"Роли"}),h.jsx($e,{gap:"xs",children:n.roles.map(b=>h.jsx(Do,{color:"blue",children:b.name},b.id))}),h.jsx(Yt,{label:"Создать новую роль",placeholder:"Названии роли",value:c,onChange:b=>l(b.currentTarget.value)}),h.jsx(xe,{onClick:_,loading:m,leftSection:h.jsx(Kd,{size:16}),children:"Добавить роль"}),h.jsx(we,{size:"lg",w:500,children:"Присвоить роль пользователю"}),h.jsx(Yt,{label:"User ID",placeholder:"Введите User ID",value:d,onChange:b=>u(b.currentTarget.value)}),h.jsx(hv,{label:"Выбор роли",placeholder:"Выберите роль",data:n.roles.map(b=>({value:b.id,label:b.name})),value:f,onChange:p}),h.jsx(xe,{onClick:S,loading:m,children:"Присвоить роль"})]})})]})})},X5=({onClose:e})=>{const[t,{open:r,close:n}]=Nn(!1),{serverData:s,isLoading:i}=Me(c=>c.testServerStore),o=s.userRole==="Admin",a=c=>{navigator.clipboard.writeText(c)};return h.jsxs(h.Fragment,{children:[h.jsxs($e,{gap:"xs",bg:"#1A1B1E",p:10,w:{base:150,lg:250},h:"100%",visibleFrom:"sm",children:[h.jsxs(pt,{shadow:"md",width:200,children:[h.jsx(pt.Target,{children:h.jsxs(Ne,{justify:"space-between",style:{cursor:"pointer"},children:[i?h.jsx(h.Fragment,{children:h.jsx($n,{height:10,width:"40%",radius:"md"})}):h.jsx(we,{children:s.serverName}),h.jsx(Gv,{})]})}),h.jsxs(pt.Dropdown,{children:[o&&h.jsx(pt.Item,{leftSection:h.jsx(Xv,{size:16}),onClick:r,children:"Настройки сервера"}),h.jsx(pt.Item,{onClick:()=>a(s.serverId),leftSection:h.jsx(U9,{size:16}),children:"Копировать ID сервера"})]})]}),h.jsx(Tr,{}),h.jsx(wR,{onClose:e}),h.jsx(_R,{}),h.jsx(bR,{})]}),h.jsx(Y5,{opened:t,onClose:n})]})},Q5=()=>{const e=Dc(),t=er(),{isUserStreamView:r,isOpenHome:n}=Me(_=>_.appStore),{accessToken:s,isLoggedIn:i}=Me(_=>_.userStore),{currentServerId:o,currentChannelId:a}=Me(_=>_.testServerStore),[c,{open:l,close:d}]=Nn(!1),[u,{open:f,close:p}]=Nn(!1),[m,{open:g,close:v}]=Nn(!1),y=async()=>{s&&o&&t(Ps({accessToken:s,serverId:o})),v()};return w.useEffect(()=>{i||e("/")},[i,e]),w.useEffect(()=>{s&&t(td({accessToken:s}))},[s,t]),w.useEffect(()=>{o&&s&&t(Ps({accessToken:s,serverId:o}))},[s,o,t]),w.useEffect(()=>{a&&s&&t(od({accessToken:s,channelId:a,numberOfMessages:100,fromStart:0}))},[s,a,t]),w.useEffect(()=>{if(s){const _=new WebSocket(`wss://hitscord-backend.online/ws?accessToken=${s}`);return _.onmessage=S=>{const b=JSON.parse(S.data);if(b.MessageType==="New message"){const C=k_(b.Payload);C.id&&C.text&&t(A5(C))}if(b.MessageType==="Deleted message"&&t(F5({channelId:b.Payload.ChannelId,messageId:b.Payload.MessageId})),b.MessageType==="Updated message"){const C=k_(b.Payload);t(z5(C))}(b.MessageType==="New channel"||b.MessageType==="Channel deleted")&&g()},_.onerror=S=>{console.error("WebSocket error:",S)},()=>{_.close()}}},[s,t,g]),h.jsxs(N,{style:{display:"flex",height:"100dvh"},children:[h.jsx(V5,{}),n?h.jsx(D5,{}):h.jsxs(h.Fragment,{children:[h.jsx(X5,{onClose:d}),r?h.jsx(b5,{}):h.jsx(y5,{openSidebar:l,openDetailsPanel:f}),h.jsx(x5,{}),h.jsx(G5,{onClose:d,opened:c}),h.jsx(C5,{onClose:p,opened:u})]}),h.jsxs(iv,{opened:m,onClose:v,size:"md",radius:"md",withCloseButton:!0,children:[h.jsx(we,{children:"На сервере изменились каналы"}),h.jsx(xe,{onClick:y,mt:"md",children:"Обновить"})]})]})};function J5(){return h.jsx(v9,{children:h.jsx(oN,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsxs(_1,{children:[h.jsx(es,{}),h.jsxs(ZO,{children:[h.jsx(Ea,{path:"/",element:h.jsx(n5,{})}),h.jsx(Ea,{path:"/main",element:h.jsx(Q5,{})}),h.jsx(Ea,{path:"/login",element:h.jsx(r5,{})}),h.jsx(Ea,{path:"/register",element:h.jsx(s5,{})})]})]})})})}const Z5={isConnected:!1,users:[],activeUsers:[]},e8=Hc({name:"mediasoup",initialState:Z5,reducers:{setConnected(e,t){e.isConnected=t.payload},setUsers(e,t){e.users=t.payload},setActiveUsers(e,t){e.activeUsers=[...t.payload]}}}),t8=e8.reducer,M_=()=>{try{const e=localStorage.getItem("accessToken");return e||""}catch(e){return console.error("Could not load token",e),""}},r8={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:""},roomName:"11",accessToken:M_(),refreshToken:"",isLoggedIn:!!M_(),error:"",isLoading:!1},n8=Hc({name:"user",initialState:r8,reducers:{},extraReducers:e=>{e.addCase(Zl.pending,t=>{t.error=""}).addCase(Zl.fulfilled,(t,r)=>{t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),t.isLoggedIn=!0}).addCase(Zl.rejected,(t,r)=>{t.error=r.payload}).addCase(ed.pending,t=>{t.error=""}).addCase(ed.fulfilled,(t,r)=>{t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),t.isLoggedIn=!0}).addCase(ed.rejected,(t,r)=>{t.error=r.payload}).addCase(td.pending,t=>{t.error=""}).addCase(td.fulfilled,(t,r)=>{t.user=r.payload}).addCase(td.rejected,(t,r)=>{t.error=r.payload}).addCase(rd.pending,t=>{t.error=""}).addCase(rd.fulfilled,t=>{t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),t.isLoggedIn=!1}).addCase(rd.rejected,(t,r)=>{t.error=r.payload})}}),s8=n8.reducer,i8=L6({reducer:{userStore:s8,appStore:S5,serverStore:I5,testServerStore:B5,mediaStore:t8}});q0(document.getElementById("root")).render(h.jsx(yP,{store:i8,children:h.jsx(J5,{})}));
